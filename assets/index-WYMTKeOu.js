var Z4=e=>{throw TypeError(e)};var mj=(e,t,r)=>t.has(e)||Z4("Cannot "+r);var pe=(e,t,r)=>(mj(e,t,"read from private field"),r?r.call(e):t.get(e)),Et=(e,t,r)=>t.has(e)?Z4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),lt=(e,t,r,n)=>(mj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Xt=(e,t,r)=>(mj(e,t,"access private method"),r);var Qx=(e,t,r,n)=>({set _(a){lt(e,t,a,r)},get _(){return pe(e,t,n)}});function E8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var T8={exports:{}},e_={},A8={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv=Symbol.for("react.element"),gQ=Symbol.for("react.portal"),vQ=Symbol.for("react.fragment"),xQ=Symbol.for("react.strict_mode"),yQ=Symbol.for("react.profiler"),wQ=Symbol.for("react.provider"),bQ=Symbol.for("react.context"),_Q=Symbol.for("react.forward_ref"),SQ=Symbol.for("react.suspense"),jQ=Symbol.for("react.memo"),kQ=Symbol.for("react.lazy"),eD=Symbol.iterator;function NQ(e){return e===null||typeof e!="object"?null:(e=eD&&e[eD]||e["@@iterator"],typeof e=="function"?e:null)}var O8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P8=Object.assign,D8={};function xp(e,t,r){this.props=e,this.context=t,this.refs=D8,this.updater=r||O8}xp.prototype.isReactComponent={};xp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function R8(){}R8.prototype=xp.prototype;function dT(e,t,r){this.props=e,this.context=t,this.refs=D8,this.updater=r||O8}var fT=dT.prototype=new R8;fT.constructor=dT;P8(fT,xp.prototype);fT.isPureReactComponent=!0;var tD=Array.isArray,I8=Object.prototype.hasOwnProperty,hT={current:null},M8={key:!0,ref:!0,__self:!0,__source:!0};function F8(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)I8.call(t,n)&&!M8.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Qv,type:e,key:s,ref:i,props:a,_owner:hT.current}}function EQ(e,t){return{$$typeof:Qv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mT(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qv}function CQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rD=/\/+/g;function pj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CQ(""+e.key):t.toString(36)}function c1(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Qv:case gQ:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+pj(i,0):n,tD(a)?(r="",e!=null&&(r=e.replace(rD,"$&/")+"/"),c1(a,t,r,"",function(u){return u})):a!=null&&(mT(a)&&(a=EQ(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(rD,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",tD(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+pj(s,l);i+=c1(s,t,r,c,a)}else if(c=NQ(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+pj(s,l++),i+=c1(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ey(e,t,r){if(e==null)return e;var n=[],a=0;return c1(e,n,"","",function(s){return t.call(r,s,a++)}),n}function TQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cs={current:null},u1={transition:null},AQ={ReactCurrentDispatcher:cs,ReactCurrentBatchConfig:u1,ReactCurrentOwner:hT};function L8(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:ey,forEach:function(e,t,r){ey(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ey(e,function(){t++}),t},toArray:function(e){return ey(e,function(t){return t})||[]},only:function(e){if(!mT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Gt.Component=xp;Gt.Fragment=vQ;Gt.Profiler=yQ;Gt.PureComponent=dT;Gt.StrictMode=xQ;Gt.Suspense=SQ;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AQ;Gt.act=L8;Gt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=P8({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=hT.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)I8.call(t,c)&&!M8.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Qv,type:e.type,key:a,ref:s,props:n,_owner:i}};Gt.createContext=function(e){return e={$$typeof:bQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wQ,_context:e},e.Consumer=e};Gt.createElement=F8;Gt.createFactory=function(e){var t=F8.bind(null,e);return t.type=e,t};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(e){return{$$typeof:_Q,render:e}};Gt.isValidElement=mT;Gt.lazy=function(e){return{$$typeof:kQ,_payload:{_status:-1,_result:e},_init:TQ}};Gt.memo=function(e,t){return{$$typeof:jQ,type:e,compare:t===void 0?null:t}};Gt.startTransition=function(e){var t=u1.transition;u1.transition={};try{e()}finally{u1.transition=t}};Gt.unstable_act=L8;Gt.useCallback=function(e,t){return cs.current.useCallback(e,t)};Gt.useContext=function(e){return cs.current.useContext(e)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(e){return cs.current.useDeferredValue(e)};Gt.useEffect=function(e,t){return cs.current.useEffect(e,t)};Gt.useId=function(){return cs.current.useId()};Gt.useImperativeHandle=function(e,t,r){return cs.current.useImperativeHandle(e,t,r)};Gt.useInsertionEffect=function(e,t){return cs.current.useInsertionEffect(e,t)};Gt.useLayoutEffect=function(e,t){return cs.current.useLayoutEffect(e,t)};Gt.useMemo=function(e,t){return cs.current.useMemo(e,t)};Gt.useReducer=function(e,t,r){return cs.current.useReducer(e,t,r)};Gt.useRef=function(e){return cs.current.useRef(e)};Gt.useState=function(e){return cs.current.useState(e)};Gt.useSyncExternalStore=function(e,t,r){return cs.current.useSyncExternalStore(e,t,r)};Gt.useTransition=function(){return cs.current.useTransition()};Gt.version="18.3.1";A8.exports=Gt;var x=A8.exports;const ae=gr(x),pT=E8({__proto__:null,default:ae},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OQ=x,PQ=Symbol.for("react.element"),DQ=Symbol.for("react.fragment"),RQ=Object.prototype.hasOwnProperty,IQ=OQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MQ={key:!0,ref:!0,__self:!0,__source:!0};function $8(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)RQ.call(t,n)&&!MQ.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:PQ,type:e,key:s,ref:i,props:a,_owner:IQ.current}}e_.Fragment=DQ;e_.jsx=$8;e_.jsxs=$8;T8.exports=e_;var o=T8.exports,B8={exports:{}},fi={},U8={exports:{}},V8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,R){var re=F.length;F.push(R);e:for(;0<re;){var Z=re-1>>>1,C=F[Z];if(0<a(C,R))F[Z]=R,F[re]=C,re=Z;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var R=F[0],re=F.pop();if(re!==R){F[0]=re;e:for(var Z=0,C=F.length,K=C>>>1;Z<K;){var B=2*(Z+1)-1,z=F[B],ne=B+1,oe=F[ne];if(0>a(z,re))ne<C&&0>a(oe,z)?(F[Z]=oe,F[ne]=re,Z=ne):(F[Z]=z,F[B]=re,Z=B);else if(ne<C&&0>a(oe,re))F[Z]=oe,F[ne]=re,Z=ne;else break e}}return R}function a(F,R){var re=F.sortIndex-R.sortIndex;return re!==0?re:F.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=F)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function _(F){if(p=!1,b(F),!g)if(r(c)!==null)g=!0,I(S);else{var R=r(u);R!==null&&V(_,R.startTime-F)}}function S(F,R){g=!1,p&&(p=!1,y(E),E=-1),m=!0;var re=h;try{for(b(R),f=r(c);f!==null&&(!(f.expirationTime>R)||F&&!D());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var C=Z(f.expirationTime<=R);R=e.unstable_now(),typeof C=="function"?f.callback=C:f===r(c)&&n(c),b(R)}else n(c);f=r(c)}if(f!==null)var K=!0;else{var B=r(u);B!==null&&V(_,B.startTime-R),K=!1}return K}finally{f=null,h=re,m=!1}}var k=!1,j=null,E=-1,N=5,A=-1;function D(){return!(e.unstable_now()-A<N)}function T(){if(j!==null){var F=e.unstable_now();A=F;var R=!0;try{R=j(!0,F)}finally{R?U():(k=!1,j=null)}}else k=!1}var U;if(typeof w=="function")U=function(){w(T)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,M=q.port2;q.port1.onmessage=T,U=function(){M.postMessage(null)}}else U=function(){v(T,0)};function I(F){j=F,k||(k=!0,U())}function V(F,R){E=v(function(){F(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,I(S))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var re=h;h=R;try{return F()}finally{h=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,R){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var re=h;h=F;try{return R()}finally{h=re}},e.unstable_scheduleCallback=function(F,R,re){var Z=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Z+re:Z):re=Z,F){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=re+C,F={id:d++,callback:R,priorityLevel:F,startTime:re,expirationTime:C,sortIndex:-1},re>Z?(F.sortIndex=re,t(u,F),r(c)===null&&F===r(u)&&(p?(y(E),E=-1):p=!0,V(_,re-Z))):(F.sortIndex=C,t(c,F),g||m||(g=!0,I(S))),F},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(F){var R=h;return function(){var re=h;h=R;try{return F.apply(this,arguments)}finally{h=re}}}})(V8);U8.exports=V8;var FQ=U8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LQ=x,li=FQ;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z8=new Set,Ng={};function kf(e,t){xm(e,t),xm(e+"Capture",t)}function xm(e,t){for(Ng[e]=t,e=0;e<t.length;e++)z8.add(t[e])}var oc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g2=Object.prototype.hasOwnProperty,$Q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nD={},aD={};function BQ(e){return g2.call(aD,e)?!0:g2.call(nD,e)?!1:$Q.test(e)?aD[e]=!0:(nD[e]=!0,!1)}function UQ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VQ(e,t,r,n){if(t===null||typeof t>"u"||UQ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function us(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var da={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){da[e]=new us(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];da[t]=new us(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){da[e]=new us(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){da[e]=new us(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){da[e]=new us(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){da[e]=new us(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){da[e]=new us(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){da[e]=new us(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){da[e]=new us(e,5,!1,e.toLowerCase(),null,!1,!1)});var gT=/[\-:]([a-z])/g;function vT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gT,vT);da[t]=new us(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gT,vT);da[t]=new us(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gT,vT);da[t]=new us(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){da[e]=new us(e,1,!1,e.toLowerCase(),null,!1,!1)});da.xlinkHref=new us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){da[e]=new us(e,1,!1,e.toLowerCase(),null,!0,!0)});function xT(e,t,r,n){var a=da.hasOwnProperty(t)?da[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VQ(t,r,a,n)&&(r=null),n||a===null?BQ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sc=LQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ty=Symbol.for("react.element"),wh=Symbol.for("react.portal"),bh=Symbol.for("react.fragment"),yT=Symbol.for("react.strict_mode"),v2=Symbol.for("react.profiler"),W8=Symbol.for("react.provider"),H8=Symbol.for("react.context"),wT=Symbol.for("react.forward_ref"),x2=Symbol.for("react.suspense"),y2=Symbol.for("react.suspense_list"),bT=Symbol.for("react.memo"),Bc=Symbol.for("react.lazy"),q8=Symbol.for("react.offscreen"),sD=Symbol.iterator;function r0(e){return e===null||typeof e!="object"?null:(e=sD&&e[sD]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,gj;function A0(e){if(gj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gj=t&&t[1]||""}return`
`+gj+e}var vj=!1;function xj(e,t){if(!e||vj)return"";vj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{vj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?A0(e):""}function zQ(e){switch(e.tag){case 5:return A0(e.type);case 16:return A0("Lazy");case 13:return A0("Suspense");case 19:return A0("SuspenseList");case 0:case 2:case 15:return e=xj(e.type,!1),e;case 11:return e=xj(e.type.render,!1),e;case 1:return e=xj(e.type,!0),e;default:return""}}function w2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bh:return"Fragment";case wh:return"Portal";case v2:return"Profiler";case yT:return"StrictMode";case x2:return"Suspense";case y2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H8:return(e.displayName||"Context")+".Consumer";case W8:return(e._context.displayName||"Context")+".Provider";case wT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bT:return t=e.displayName||null,t!==null?t:w2(e.type)||"Memo";case Bc:t=e._payload,e=e._init;try{return w2(e(t))}catch{}}return null}function WQ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w2(t);case 8:return t===yT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HQ(e){var t=K8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ry(e){e._valueTracker||(e._valueTracker=HQ(e))}function G8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=K8(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function R1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function b2(e,t){var r=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function iD(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Tu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Y8(e,t){t=t.checked,t!=null&&xT(e,"checked",t,!1)}function _2(e,t){Y8(e,t);var r=Tu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?S2(e,t.type,r):t.hasOwnProperty("defaultValue")&&S2(e,t.type,Tu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oD(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function S2(e,t,r){(t!=="number"||R1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var O0=Array.isArray;function Bh(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Tu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function j2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(He(92));if(O0(r)){if(1<r.length)throw Error(He(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Tu(r)}}function X8(e,t){var r=Tu(t.value),n=Tu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function cD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function J8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?J8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ny,Q8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ny=ny||document.createElement("div"),ny.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ny.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Eg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var H0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qQ=["Webkit","ms","Moz","O"];Object.keys(H0).forEach(function(e){qQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),H0[t]=H0[e]})});function Z8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||H0.hasOwnProperty(e)&&H0[e]?(""+t).trim():t+"px"}function e6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Z8(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var KQ=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N2(e,t){if(t){if(KQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function E2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C2=null;function _T(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var T2=null,Uh=null,Vh=null;function uD(e){if(e=tx(e)){if(typeof T2!="function")throw Error(He(280));var t=e.stateNode;t&&(t=s_(t),T2(e.stateNode,e.type,t))}}function t6(e){Uh?Vh?Vh.push(e):Vh=[e]:Uh=e}function r6(){if(Uh){var e=Uh,t=Vh;if(Vh=Uh=null,uD(e),t)for(e=0;e<t.length;e++)uD(t[e])}}function n6(e,t){return e(t)}function a6(){}var yj=!1;function s6(e,t,r){if(yj)return e(t,r);yj=!0;try{return n6(e,t,r)}finally{yj=!1,(Uh!==null||Vh!==null)&&(a6(),r6())}}function Cg(e,t){var r=e.stateNode;if(r===null)return null;var n=s_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(He(231,t,typeof r));return r}var A2=!1;if(oc)try{var n0={};Object.defineProperty(n0,"passive",{get:function(){A2=!0}}),window.addEventListener("test",n0,n0),window.removeEventListener("test",n0,n0)}catch{A2=!1}function GQ(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var q0=!1,I1=null,M1=!1,O2=null,YQ={onError:function(e){q0=!0,I1=e}};function XQ(e,t,r,n,a,s,i,l,c){q0=!1,I1=null,GQ.apply(YQ,arguments)}function JQ(e,t,r,n,a,s,i,l,c){if(XQ.apply(this,arguments),q0){if(q0){var u=I1;q0=!1,I1=null}else throw Error(He(198));M1||(M1=!0,O2=u)}}function Nf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function i6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dD(e){if(Nf(e)!==e)throw Error(He(188))}function QQ(e){var t=e.alternate;if(!t){if(t=Nf(e),t===null)throw Error(He(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return dD(a),e;if(s===n)return dD(a),t;s=s.sibling}throw Error(He(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(He(189))}}if(r.alternate!==n)throw Error(He(190))}if(r.tag!==3)throw Error(He(188));return r.stateNode.current===r?e:t}function o6(e){return e=QQ(e),e!==null?l6(e):null}function l6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l6(e);if(t!==null)return t;e=e.sibling}return null}var c6=li.unstable_scheduleCallback,fD=li.unstable_cancelCallback,ZQ=li.unstable_shouldYield,eZ=li.unstable_requestPaint,hn=li.unstable_now,tZ=li.unstable_getCurrentPriorityLevel,ST=li.unstable_ImmediatePriority,u6=li.unstable_UserBlockingPriority,F1=li.unstable_NormalPriority,rZ=li.unstable_LowPriority,d6=li.unstable_IdlePriority,t_=null,sl=null;function nZ(e){if(sl&&typeof sl.onCommitFiberRoot=="function")try{sl.onCommitFiberRoot(t_,e,void 0,(e.current.flags&128)===128)}catch{}}var bo=Math.clz32?Math.clz32:iZ,aZ=Math.log,sZ=Math.LN2;function iZ(e){return e>>>=0,e===0?32:31-(aZ(e)/sZ|0)|0}var ay=64,sy=4194304;function P0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function L1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=P0(l):(s&=i,s!==0&&(n=P0(s)))}else i=r&~a,i!==0?n=P0(i):s!==0&&(n=P0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bo(t),a=1<<r,n|=e[r],t&=~a;return n}function oZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lZ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-bo(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=oZ(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function P2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f6(){var e=ay;return ay<<=1,!(ay&4194240)&&(ay=64),e}function wj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bo(t),e[t]=r}function cZ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-bo(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function jT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var yr=0;function h6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m6,kT,p6,g6,v6,D2=!1,iy=[],mu=null,pu=null,gu=null,Tg=new Map,Ag=new Map,Kc=[],uZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hD(e,t){switch(e){case"focusin":case"focusout":mu=null;break;case"dragenter":case"dragleave":pu=null;break;case"mouseover":case"mouseout":gu=null;break;case"pointerover":case"pointerout":Tg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ag.delete(t.pointerId)}}function a0(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=tx(t),t!==null&&kT(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function dZ(e,t,r,n,a){switch(t){case"focusin":return mu=a0(mu,e,t,r,n,a),!0;case"dragenter":return pu=a0(pu,e,t,r,n,a),!0;case"mouseover":return gu=a0(gu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Tg.set(s,a0(Tg.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Ag.set(s,a0(Ag.get(s)||null,e,t,r,n,a)),!0}return!1}function x6(e){var t=bd(e.target);if(t!==null){var r=Nf(t);if(r!==null){if(t=r.tag,t===13){if(t=i6(r),t!==null){e.blockedOn=t,v6(e.priority,function(){p6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function d1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=R2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);C2=n,r.target.dispatchEvent(n),C2=null}else return t=tx(r),t!==null&&kT(t),e.blockedOn=r,!1;t.shift()}return!0}function mD(e,t,r){d1(e)&&r.delete(t)}function fZ(){D2=!1,mu!==null&&d1(mu)&&(mu=null),pu!==null&&d1(pu)&&(pu=null),gu!==null&&d1(gu)&&(gu=null),Tg.forEach(mD),Ag.forEach(mD)}function s0(e,t){e.blockedOn===t&&(e.blockedOn=null,D2||(D2=!0,li.unstable_scheduleCallback(li.unstable_NormalPriority,fZ)))}function Og(e){function t(a){return s0(a,e)}if(0<iy.length){s0(iy[0],e);for(var r=1;r<iy.length;r++){var n=iy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(mu!==null&&s0(mu,e),pu!==null&&s0(pu,e),gu!==null&&s0(gu,e),Tg.forEach(t),Ag.forEach(t),r=0;r<Kc.length;r++)n=Kc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Kc.length&&(r=Kc[0],r.blockedOn===null);)x6(r),r.blockedOn===null&&Kc.shift()}var zh=Sc.ReactCurrentBatchConfig,$1=!0;function hZ(e,t,r,n){var a=yr,s=zh.transition;zh.transition=null;try{yr=1,NT(e,t,r,n)}finally{yr=a,zh.transition=s}}function mZ(e,t,r,n){var a=yr,s=zh.transition;zh.transition=null;try{yr=4,NT(e,t,r,n)}finally{yr=a,zh.transition=s}}function NT(e,t,r,n){if($1){var a=R2(e,t,r,n);if(a===null)Aj(e,t,n,B1,r),hD(e,n);else if(dZ(a,e,t,r,n))n.stopPropagation();else if(hD(e,n),t&4&&-1<uZ.indexOf(e)){for(;a!==null;){var s=tx(a);if(s!==null&&m6(s),s=R2(e,t,r,n),s===null&&Aj(e,t,n,B1,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Aj(e,t,n,null,r)}}var B1=null;function R2(e,t,r,n){if(B1=null,e=_T(n),e=bd(e),e!==null)if(t=Nf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=i6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return B1=e,null}function y6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tZ()){case ST:return 1;case u6:return 4;case F1:case rZ:return 16;case d6:return 536870912;default:return 16}default:return 16}}var ou=null,ET=null,f1=null;function w6(){if(f1)return f1;var e,t=ET,r=t.length,n,a="value"in ou?ou.value:ou.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return f1=a.slice(e,1<n?1-n:void 0)}function h1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oy(){return!0}function pD(){return!1}function hi(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oy:pD,this.isPropagationStopped=pD,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oy)},persist:function(){},isPersistent:oy}),t}var yp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CT=hi(yp),ex=rn({},yp,{view:0,detail:0}),pZ=hi(ex),bj,_j,i0,r_=rn({},ex,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==i0&&(i0&&e.type==="mousemove"?(bj=e.screenX-i0.screenX,_j=e.screenY-i0.screenY):_j=bj=0,i0=e),bj)},movementY:function(e){return"movementY"in e?e.movementY:_j}}),gD=hi(r_),gZ=rn({},r_,{dataTransfer:0}),vZ=hi(gZ),xZ=rn({},ex,{relatedTarget:0}),Sj=hi(xZ),yZ=rn({},yp,{animationName:0,elapsedTime:0,pseudoElement:0}),wZ=hi(yZ),bZ=rn({},yp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_Z=hi(bZ),SZ=rn({},yp,{data:0}),vD=hi(SZ),jZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NZ[e])?!!t[e]:!1}function TT(){return EZ}var CZ=rn({},ex,{key:function(e){if(e.key){var t=jZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=h1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TT,charCode:function(e){return e.type==="keypress"?h1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?h1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TZ=hi(CZ),AZ=rn({},r_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xD=hi(AZ),OZ=rn({},ex,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TT}),PZ=hi(OZ),DZ=rn({},yp,{propertyName:0,elapsedTime:0,pseudoElement:0}),RZ=hi(DZ),IZ=rn({},r_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MZ=hi(IZ),FZ=[9,13,27,32],AT=oc&&"CompositionEvent"in window,K0=null;oc&&"documentMode"in document&&(K0=document.documentMode);var LZ=oc&&"TextEvent"in window&&!K0,b6=oc&&(!AT||K0&&8<K0&&11>=K0),yD=" ",wD=!1;function _6(e,t){switch(e){case"keyup":return FZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _h=!1;function $Z(e,t){switch(e){case"compositionend":return S6(t);case"keypress":return t.which!==32?null:(wD=!0,yD);case"textInput":return e=t.data,e===yD&&wD?null:e;default:return null}}function BZ(e,t){if(_h)return e==="compositionend"||!AT&&_6(e,t)?(e=w6(),f1=ET=ou=null,_h=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b6&&t.locale!=="ko"?null:t.data;default:return null}}var UZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UZ[e.type]:t==="textarea"}function j6(e,t,r,n){t6(n),t=U1(t,"onChange"),0<t.length&&(r=new CT("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var G0=null,Pg=null;function VZ(e){I6(e,0)}function n_(e){var t=kh(e);if(G8(t))return e}function zZ(e,t){if(e==="change")return t}var k6=!1;if(oc){var jj;if(oc){var kj="oninput"in document;if(!kj){var _D=document.createElement("div");_D.setAttribute("oninput","return;"),kj=typeof _D.oninput=="function"}jj=kj}else jj=!1;k6=jj&&(!document.documentMode||9<document.documentMode)}function SD(){G0&&(G0.detachEvent("onpropertychange",N6),Pg=G0=null)}function N6(e){if(e.propertyName==="value"&&n_(Pg)){var t=[];j6(t,Pg,e,_T(e)),s6(VZ,t)}}function WZ(e,t,r){e==="focusin"?(SD(),G0=t,Pg=r,G0.attachEvent("onpropertychange",N6)):e==="focusout"&&SD()}function HZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return n_(Pg)}function qZ(e,t){if(e==="click")return n_(t)}function KZ(e,t){if(e==="input"||e==="change")return n_(t)}function GZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ko=typeof Object.is=="function"?Object.is:GZ;function Dg(e,t){if(ko(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!g2.call(t,a)||!ko(e[a],t[a]))return!1}return!0}function jD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kD(e,t){var r=jD(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jD(r)}}function E6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function C6(){for(var e=window,t=R1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=R1(e.document)}return t}function OT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YZ(e){var t=C6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&E6(r.ownerDocument.documentElement,r)){if(n!==null&&OT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=kD(r,s);var i=kD(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XZ=oc&&"documentMode"in document&&11>=document.documentMode,Sh=null,I2=null,Y0=null,M2=!1;function ND(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;M2||Sh==null||Sh!==R1(n)||(n=Sh,"selectionStart"in n&&OT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Y0&&Dg(Y0,n)||(Y0=n,n=U1(I2,"onSelect"),0<n.length&&(t=new CT("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Sh)))}function ly(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jh={animationend:ly("Animation","AnimationEnd"),animationiteration:ly("Animation","AnimationIteration"),animationstart:ly("Animation","AnimationStart"),transitionend:ly("Transition","TransitionEnd")},Nj={},T6={};oc&&(T6=document.createElement("div").style,"AnimationEvent"in window||(delete jh.animationend.animation,delete jh.animationiteration.animation,delete jh.animationstart.animation),"TransitionEvent"in window||delete jh.transitionend.transition);function a_(e){if(Nj[e])return Nj[e];if(!jh[e])return e;var t=jh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in T6)return Nj[e]=t[r];return e}var A6=a_("animationend"),O6=a_("animationiteration"),P6=a_("animationstart"),D6=a_("transitionend"),R6=new Map,ED="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uu(e,t){R6.set(e,t),kf(t,[e])}for(var Ej=0;Ej<ED.length;Ej++){var Cj=ED[Ej],JZ=Cj.toLowerCase(),QZ=Cj[0].toUpperCase()+Cj.slice(1);Uu(JZ,"on"+QZ)}Uu(A6,"onAnimationEnd");Uu(O6,"onAnimationIteration");Uu(P6,"onAnimationStart");Uu("dblclick","onDoubleClick");Uu("focusin","onFocus");Uu("focusout","onBlur");Uu(D6,"onTransitionEnd");xm("onMouseEnter",["mouseout","mouseover"]);xm("onMouseLeave",["mouseout","mouseover"]);xm("onPointerEnter",["pointerout","pointerover"]);xm("onPointerLeave",["pointerout","pointerover"]);kf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kf("onBeforeInput",["compositionend","keypress","textInput","paste"]);kf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var D0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(D0));function CD(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,JQ(n,t,void 0,e),e.currentTarget=null}function I6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;CD(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;CD(a,l,u),s=c}}}if(M1)throw e=O2,M1=!1,O2=null,e}function Fr(e,t){var r=t[U2];r===void 0&&(r=t[U2]=new Set);var n=e+"__bubble";r.has(n)||(M6(t,e,2,!1),r.add(n))}function Tj(e,t,r){var n=0;t&&(n|=4),M6(r,e,n,t)}var cy="_reactListening"+Math.random().toString(36).slice(2);function Rg(e){if(!e[cy]){e[cy]=!0,z8.forEach(function(r){r!=="selectionchange"&&(ZZ.has(r)||Tj(r,!1,e),Tj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cy]||(t[cy]=!0,Tj("selectionchange",!1,t))}}function M6(e,t,r,n){switch(y6(t)){case 1:var a=hZ;break;case 4:a=mZ;break;default:a=NT}r=a.bind(null,t,r,e),a=void 0,!A2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Aj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=bd(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}s6(function(){var u=s,d=_T(r),f=[];e:{var h=R6.get(e);if(h!==void 0){var m=CT,g=e;switch(e){case"keypress":if(h1(r)===0)break e;case"keydown":case"keyup":m=TZ;break;case"focusin":g="focus",m=Sj;break;case"focusout":g="blur",m=Sj;break;case"beforeblur":case"afterblur":m=Sj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PZ;break;case A6:case O6:case P6:m=wZ;break;case D6:m=RZ;break;case"scroll":m=pZ;break;case"wheel":m=MZ;break;case"copy":case"cut":case"paste":m=_Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xD}var p=(t&4)!==0,v=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=Cg(w,y),_!=null&&p.push(Ig(w,_,b)))),v)break;w=w.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==C2&&(g=r.relatedTarget||r.fromElement)&&(bd(g)||g[lc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?bd(g):null,g!==null&&(v=Nf(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=gD,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=xD,_="onPointerLeave",y="onPointerEnter",w="pointer"),v=m==null?h:kh(m),b=g==null?h:kh(g),h=new p(_,w+"leave",m,r,d),h.target=v,h.relatedTarget=b,_=null,bd(d)===u&&(p=new p(y,w+"enter",g,r,d),p.target=b,p.relatedTarget=v,_=p),v=_,m&&g)t:{for(p=m,y=g,w=0,b=p;b;b=zf(b))w++;for(b=0,_=y;_;_=zf(_))b++;for(;0<w-b;)p=zf(p),w--;for(;0<b-w;)y=zf(y),b--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=zf(p),y=zf(y)}p=null}else p=null;m!==null&&TD(f,h,m,p,!1),g!==null&&v!==null&&TD(f,v,g,p,!0)}}e:{if(h=u?kh(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=zZ;else if(bD(h))if(k6)S=KZ;else{S=HZ;var k=WZ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=qZ);if(S&&(S=S(e,u))){j6(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&S2(h,"number",h.value)}switch(k=u?kh(u):window,e){case"focusin":(bD(k)||k.contentEditable==="true")&&(Sh=k,I2=u,Y0=null);break;case"focusout":Y0=I2=Sh=null;break;case"mousedown":M2=!0;break;case"contextmenu":case"mouseup":case"dragend":M2=!1,ND(f,r,d);break;case"selectionchange":if(XZ)break;case"keydown":case"keyup":ND(f,r,d)}var j;if(AT)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _h?_6(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(b6&&r.locale!=="ko"&&(_h||E!=="onCompositionStart"?E==="onCompositionEnd"&&_h&&(j=w6()):(ou=d,ET="value"in ou?ou.value:ou.textContent,_h=!0)),k=U1(u,E),0<k.length&&(E=new vD(E,e,null,r,d),f.push({event:E,listeners:k}),j?E.data=j:(j=S6(r),j!==null&&(E.data=j)))),(j=LZ?$Z(e,r):BZ(e,r))&&(u=U1(u,"onBeforeInput"),0<u.length&&(d=new vD("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}I6(f,t)})}function Ig(e,t,r){return{instance:e,listener:t,currentTarget:r}}function U1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Cg(e,r),s!=null&&n.unshift(Ig(e,s,a)),s=Cg(e,t),s!=null&&n.push(Ig(e,s,a))),e=e.return}return n}function zf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function TD(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Cg(r,s),c!=null&&i.unshift(Ig(r,c,l))):a||(c=Cg(r,s),c!=null&&i.push(Ig(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var eee=/\r\n?/g,tee=/\u0000|\uFFFD/g;function AD(e){return(typeof e=="string"?e:""+e).replace(eee,`
`).replace(tee,"")}function uy(e,t,r){if(t=AD(t),AD(e)!==t&&r)throw Error(He(425))}function V1(){}var F2=null,L2=null;function $2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var B2=typeof setTimeout=="function"?setTimeout:void 0,ree=typeof clearTimeout=="function"?clearTimeout:void 0,OD=typeof Promise=="function"?Promise:void 0,nee=typeof queueMicrotask=="function"?queueMicrotask:typeof OD<"u"?function(e){return OD.resolve(null).then(e).catch(aee)}:B2;function aee(e){setTimeout(function(){throw e})}function Oj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Og(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Og(t)}function vu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function PD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wp=Math.random().toString(36).slice(2),Jo="__reactFiber$"+wp,Mg="__reactProps$"+wp,lc="__reactContainer$"+wp,U2="__reactEvents$"+wp,see="__reactListeners$"+wp,iee="__reactHandles$"+wp;function bd(e){var t=e[Jo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[lc]||r[Jo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=PD(e);e!==null;){if(r=e[Jo])return r;e=PD(e)}return t}e=r,r=e.parentNode}return null}function tx(e){return e=e[Jo]||e[lc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function s_(e){return e[Mg]||null}var V2=[],Nh=-1;function Vu(e){return{current:e}}function Br(e){0>Nh||(e.current=V2[Nh],V2[Nh]=null,Nh--)}function Pr(e,t){Nh++,V2[Nh]=e.current,e.current=t}var Au={},Da=Vu(Au),js=Vu(!1),Qd=Au;function ym(e,t){var r=e.type.contextTypes;if(!r)return Au;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ks(e){return e=e.childContextTypes,e!=null}function z1(){Br(js),Br(Da)}function DD(e,t,r){if(Da.current!==Au)throw Error(He(168));Pr(Da,t),Pr(js,r)}function F6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(He(108,WQ(e)||"Unknown",a));return rn({},r,n)}function W1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Au,Qd=Da.current,Pr(Da,e),Pr(js,js.current),!0}function RD(e,t,r){var n=e.stateNode;if(!n)throw Error(He(169));r?(e=F6(e,t,Qd),n.__reactInternalMemoizedMergedChildContext=e,Br(js),Br(Da),Pr(Da,e)):Br(js),Pr(js,r)}var Ul=null,i_=!1,Pj=!1;function L6(e){Ul===null?Ul=[e]:Ul.push(e)}function oee(e){i_=!0,L6(e)}function zu(){if(!Pj&&Ul!==null){Pj=!0;var e=0,t=yr;try{var r=Ul;for(yr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ul=null,i_=!1}catch(a){throw Ul!==null&&(Ul=Ul.slice(e+1)),c6(ST,zu),a}finally{yr=t,Pj=!1}}return null}var Eh=[],Ch=0,H1=null,q1=0,Ci=[],Ti=0,Zd=null,Gl=1,Yl="";function cd(e,t){Eh[Ch++]=q1,Eh[Ch++]=H1,H1=e,q1=t}function $6(e,t,r){Ci[Ti++]=Gl,Ci[Ti++]=Yl,Ci[Ti++]=Zd,Zd=e;var n=Gl;e=Yl;var a=32-bo(n)-1;n&=~(1<<a),r+=1;var s=32-bo(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Gl=1<<32-bo(t)+a|r<<a|n,Yl=s+e}else Gl=1<<s|r<<a|n,Yl=e}function PT(e){e.return!==null&&(cd(e,1),$6(e,1,0))}function DT(e){for(;e===H1;)H1=Eh[--Ch],Eh[Ch]=null,q1=Eh[--Ch],Eh[Ch]=null;for(;e===Zd;)Zd=Ci[--Ti],Ci[Ti]=null,Yl=Ci[--Ti],Ci[Ti]=null,Gl=Ci[--Ti],Ci[Ti]=null}var ai=null,ni=null,Hr=!1,ho=null;function B6(e,t){var r=Pi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ID(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ai=e,ni=vu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ai=e,ni=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zd!==null?{id:Gl,overflow:Yl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ai=e,ni=null,!0):!1;default:return!1}}function z2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function W2(e){if(Hr){var t=ni;if(t){var r=t;if(!ID(e,t)){if(z2(e))throw Error(He(418));t=vu(r.nextSibling);var n=ai;t&&ID(e,t)?B6(n,r):(e.flags=e.flags&-4097|2,Hr=!1,ai=e)}}else{if(z2(e))throw Error(He(418));e.flags=e.flags&-4097|2,Hr=!1,ai=e}}}function MD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ai=e}function dy(e){if(e!==ai)return!1;if(!Hr)return MD(e),Hr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$2(e.type,e.memoizedProps)),t&&(t=ni)){if(z2(e))throw U6(),Error(He(418));for(;t;)B6(e,t),t=vu(t.nextSibling)}if(MD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ni=vu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ni=null}}else ni=ai?vu(e.stateNode.nextSibling):null;return!0}function U6(){for(var e=ni;e;)e=vu(e.nextSibling)}function wm(){ni=ai=null,Hr=!1}function RT(e){ho===null?ho=[e]:ho.push(e)}var lee=Sc.ReactCurrentBatchConfig;function o0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(He(309));var n=r.stateNode}if(!n)throw Error(He(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(He(284));if(!r._owner)throw Error(He(290,e))}return e}function fy(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function FD(e){var t=e._init;return t(e._payload)}function V6(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=bu(y,w),y.index=0,y.sibling=null,y}function s(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,b,_){return w===null||w.tag!==6?(w=$j(b,y.mode,_),w.return=y,w):(w=a(w,b),w.return=y,w)}function c(y,w,b,_){var S=b.type;return S===bh?d(y,w,b.props.children,_,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Bc&&FD(S)===w.type)?(_=a(w,b.props),_.ref=o0(y,w,b),_.return=y,_):(_=w1(b.type,b.key,b.props,null,y.mode,_),_.ref=o0(y,w,b),_.return=y,_)}function u(y,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Bj(b,y.mode,_),w.return=y,w):(w=a(w,b.children||[]),w.return=y,w)}function d(y,w,b,_,S){return w===null||w.tag!==7?(w=Wd(b,y.mode,_,S),w.return=y,w):(w=a(w,b),w.return=y,w)}function f(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$j(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ty:return b=w1(w.type,w.key,w.props,null,y.mode,b),b.ref=o0(y,null,w),b.return=y,b;case wh:return w=Bj(w,y.mode,b),w.return=y,w;case Bc:var _=w._init;return f(y,_(w._payload),b)}if(O0(w)||r0(w))return w=Wd(w,y.mode,b,null),w.return=y,w;fy(y,w)}return null}function h(y,w,b,_){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(y,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ty:return b.key===S?c(y,w,b,_):null;case wh:return b.key===S?u(y,w,b,_):null;case Bc:return S=b._init,h(y,w,S(b._payload),_)}if(O0(b)||r0(b))return S!==null?null:d(y,w,b,_,null);fy(y,b)}return null}function m(y,w,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(w,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ty:return y=y.get(_.key===null?b:_.key)||null,c(w,y,_,S);case wh:return y=y.get(_.key===null?b:_.key)||null,u(w,y,_,S);case Bc:var k=_._init;return m(y,w,b,k(_._payload),S)}if(O0(_)||r0(_))return y=y.get(b)||null,d(w,y,_,S,null);fy(w,_)}return null}function g(y,w,b,_){for(var S=null,k=null,j=w,E=w=0,N=null;j!==null&&E<b.length;E++){j.index>E?(N=j,j=null):N=j.sibling;var A=h(y,j,b[E],_);if(A===null){j===null&&(j=N);break}e&&j&&A.alternate===null&&t(y,j),w=s(A,w,E),k===null?S=A:k.sibling=A,k=A,j=N}if(E===b.length)return r(y,j),Hr&&cd(y,E),S;if(j===null){for(;E<b.length;E++)j=f(y,b[E],_),j!==null&&(w=s(j,w,E),k===null?S=j:k.sibling=j,k=j);return Hr&&cd(y,E),S}for(j=n(y,j);E<b.length;E++)N=m(j,y,E,b[E],_),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?E:N.key),w=s(N,w,E),k===null?S=N:k.sibling=N,k=N);return e&&j.forEach(function(D){return t(y,D)}),Hr&&cd(y,E),S}function p(y,w,b,_){var S=r0(b);if(typeof S!="function")throw Error(He(150));if(b=S.call(b),b==null)throw Error(He(151));for(var k=S=null,j=w,E=w=0,N=null,A=b.next();j!==null&&!A.done;E++,A=b.next()){j.index>E?(N=j,j=null):N=j.sibling;var D=h(y,j,A.value,_);if(D===null){j===null&&(j=N);break}e&&j&&D.alternate===null&&t(y,j),w=s(D,w,E),k===null?S=D:k.sibling=D,k=D,j=N}if(A.done)return r(y,j),Hr&&cd(y,E),S;if(j===null){for(;!A.done;E++,A=b.next())A=f(y,A.value,_),A!==null&&(w=s(A,w,E),k===null?S=A:k.sibling=A,k=A);return Hr&&cd(y,E),S}for(j=n(y,j);!A.done;E++,A=b.next())A=m(j,y,E,A.value,_),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?E:A.key),w=s(A,w,E),k===null?S=A:k.sibling=A,k=A);return e&&j.forEach(function(T){return t(y,T)}),Hr&&cd(y,E),S}function v(y,w,b,_){if(typeof b=="object"&&b!==null&&b.type===bh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ty:e:{for(var S=b.key,k=w;k!==null;){if(k.key===S){if(S=b.type,S===bh){if(k.tag===7){r(y,k.sibling),w=a(k,b.props.children),w.return=y,y=w;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Bc&&FD(S)===k.type){r(y,k.sibling),w=a(k,b.props),w.ref=o0(y,k,b),w.return=y,y=w;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===bh?(w=Wd(b.props.children,y.mode,_,b.key),w.return=y,y=w):(_=w1(b.type,b.key,b.props,null,y.mode,_),_.ref=o0(y,w,b),_.return=y,y=_)}return i(y);case wh:e:{for(k=b.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=a(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=Bj(b,y.mode,_),w.return=y,y=w}return i(y);case Bc:return k=b._init,v(y,w,k(b._payload),_)}if(O0(b))return g(y,w,b,_);if(r0(b))return p(y,w,b,_);fy(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,b),w.return=y,y=w):(r(y,w),w=$j(b,y.mode,_),w.return=y,y=w),i(y)):r(y,w)}return v}var bm=V6(!0),z6=V6(!1),K1=Vu(null),G1=null,Th=null,IT=null;function MT(){IT=Th=G1=null}function FT(e){var t=K1.current;Br(K1),e._currentValue=t}function H2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wh(e,t){G1=e,IT=Th=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bs=!0),e.firstContext=null)}function Li(e){var t=e._currentValue;if(IT!==e)if(e={context:e,memoizedValue:t,next:null},Th===null){if(G1===null)throw Error(He(308));Th=e,G1.dependencies={lanes:0,firstContext:e}}else Th=Th.next=e;return t}var _d=null;function LT(e){_d===null?_d=[e]:_d.push(e)}function W6(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,LT(t)):(r.next=a.next,a.next=r),t.interleaved=r,cc(e,n)}function cc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Uc=!1;function $T(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,nr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,cc(e,r)}return a=n.interleaved,a===null?(t.next=t,LT(n)):(t.next=a.next,a.next=t),n.interleaved=t,cc(e,r)}function m1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jT(e,r)}}function LD(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Y1(e,t,r,n){var a=e.updateQueue;Uc=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=rn({},f,h);break e;case 2:Uc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);tf|=i,e.lanes=i,e.memoizedState=f}}function $D(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(He(191,a));a.call(n)}}}var rx={},il=Vu(rx),Fg=Vu(rx),Lg=Vu(rx);function Sd(e){if(e===rx)throw Error(He(174));return e}function BT(e,t){switch(Pr(Lg,t),Pr(Fg,e),Pr(il,rx),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:k2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=k2(t,e)}Br(il),Pr(il,t)}function _m(){Br(il),Br(Fg),Br(Lg)}function q6(e){Sd(Lg.current);var t=Sd(il.current),r=k2(t,e.type);t!==r&&(Pr(Fg,e),Pr(il,r))}function UT(e){Fg.current===e&&(Br(il),Br(Fg))}var Xr=Vu(0);function X1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dj=[];function VT(){for(var e=0;e<Dj.length;e++)Dj[e]._workInProgressVersionPrimary=null;Dj.length=0}var p1=Sc.ReactCurrentDispatcher,Rj=Sc.ReactCurrentBatchConfig,ef=0,en=null,Ln=null,Kn=null,J1=!1,X0=!1,$g=0,cee=0;function fa(){throw Error(He(321))}function zT(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ko(e[r],t[r]))return!1;return!0}function WT(e,t,r,n,a,s){if(ef=s,en=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,p1.current=e===null||e.memoizedState===null?hee:mee,e=r(n,a),X0){s=0;do{if(X0=!1,$g=0,25<=s)throw Error(He(301));s+=1,Kn=Ln=null,t.updateQueue=null,p1.current=pee,e=r(n,a)}while(X0)}if(p1.current=Q1,t=Ln!==null&&Ln.next!==null,ef=0,Kn=Ln=en=null,J1=!1,t)throw Error(He(300));return e}function HT(){var e=$g!==0;return $g=0,e}function qo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?en.memoizedState=Kn=e:Kn=Kn.next=e,Kn}function $i(){if(Ln===null){var e=en.alternate;e=e!==null?e.memoizedState:null}else e=Ln.next;var t=Kn===null?en.memoizedState:Kn.next;if(t!==null)Kn=t,Ln=e;else{if(e===null)throw Error(He(310));Ln=e,e={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Kn===null?en.memoizedState=Kn=e:Kn=Kn.next=e}return Kn}function Bg(e,t){return typeof t=="function"?t(e):t}function Ij(e){var t=$i(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=Ln,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ef&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,en.lanes|=d,tf|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,ko(n,t.memoizedState)||(bs=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,en.lanes|=s,tf|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mj(e){var t=$i(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);ko(s,t.memoizedState)||(bs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function K6(){}function G6(e,t){var r=en,n=$i(),a=t(),s=!ko(n.memoizedState,a);if(s&&(n.memoizedState=a,bs=!0),n=n.queue,qT(J6.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Kn!==null&&Kn.memoizedState.tag&1){if(r.flags|=2048,Ug(9,X6.bind(null,r,n,a,t),void 0,null),Xn===null)throw Error(He(349));ef&30||Y6(r,t,a)}return a}function Y6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function X6(e,t,r,n){t.value=r,t.getSnapshot=n,Q6(t)&&Z6(e)}function J6(e,t,r){return r(function(){Q6(t)&&Z6(e)})}function Q6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ko(e,r)}catch{return!0}}function Z6(e){var t=cc(e,1);t!==null&&_o(t,e,1,-1)}function BD(e){var t=qo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:e},t.queue=e,e=e.dispatch=fee.bind(null,en,e),[t.memoizedState,e]}function Ug(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function eB(){return $i().memoizedState}function g1(e,t,r,n){var a=qo();en.flags|=e,a.memoizedState=Ug(1|t,r,void 0,n===void 0?null:n)}function o_(e,t,r,n){var a=$i();n=n===void 0?null:n;var s=void 0;if(Ln!==null){var i=Ln.memoizedState;if(s=i.destroy,n!==null&&zT(n,i.deps)){a.memoizedState=Ug(t,r,s,n);return}}en.flags|=e,a.memoizedState=Ug(1|t,r,s,n)}function UD(e,t){return g1(8390656,8,e,t)}function qT(e,t){return o_(2048,8,e,t)}function tB(e,t){return o_(4,2,e,t)}function rB(e,t){return o_(4,4,e,t)}function nB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aB(e,t,r){return r=r!=null?r.concat([e]):null,o_(4,4,nB.bind(null,t,e),r)}function KT(){}function sB(e,t){var r=$i();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zT(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iB(e,t){var r=$i();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zT(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function oB(e,t,r){return ef&21?(ko(r,t)||(r=f6(),en.lanes|=r,tf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=r)}function uee(e,t){var r=yr;yr=r!==0&&4>r?r:4,e(!0);var n=Rj.transition;Rj.transition={};try{e(!1),t()}finally{yr=r,Rj.transition=n}}function lB(){return $i().memoizedState}function dee(e,t,r){var n=wu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cB(e))uB(t,r);else if(r=W6(e,t,r,n),r!==null){var a=ss();_o(r,e,n,a),dB(r,t,n)}}function fee(e,t,r){var n=wu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cB(e))uB(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,ko(l,i)){var c=t.interleaved;c===null?(a.next=a,LT(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=W6(e,t,a,n),r!==null&&(a=ss(),_o(r,e,n,a),dB(r,t,n))}}function cB(e){var t=e.alternate;return e===en||t!==null&&t===en}function uB(e,t){X0=J1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function dB(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jT(e,r)}}var Q1={readContext:Li,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},hee={readContext:Li,useCallback:function(e,t){return qo().memoizedState=[e,t===void 0?null:t],e},useContext:Li,useEffect:UD,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,g1(4194308,4,nB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return g1(4194308,4,e,t)},useInsertionEffect:function(e,t){return g1(4,2,e,t)},useMemo:function(e,t){var r=qo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dee.bind(null,en,e),[n.memoizedState,e]},useRef:function(e){var t=qo();return e={current:e},t.memoizedState=e},useState:BD,useDebugValue:KT,useDeferredValue:function(e){return qo().memoizedState=e},useTransition:function(){var e=BD(!1),t=e[0];return e=uee.bind(null,e[1]),qo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=en,a=qo();if(Hr){if(r===void 0)throw Error(He(407));r=r()}else{if(r=t(),Xn===null)throw Error(He(349));ef&30||Y6(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,UD(J6.bind(null,n,s,e),[e]),n.flags|=2048,Ug(9,X6.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=qo(),t=Xn.identifierPrefix;if(Hr){var r=Yl,n=Gl;r=(n&~(1<<32-bo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$g++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cee++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mee={readContext:Li,useCallback:sB,useContext:Li,useEffect:qT,useImperativeHandle:aB,useInsertionEffect:tB,useLayoutEffect:rB,useMemo:iB,useReducer:Ij,useRef:eB,useState:function(){return Ij(Bg)},useDebugValue:KT,useDeferredValue:function(e){var t=$i();return oB(t,Ln.memoizedState,e)},useTransition:function(){var e=Ij(Bg)[0],t=$i().memoizedState;return[e,t]},useMutableSource:K6,useSyncExternalStore:G6,useId:lB,unstable_isNewReconciler:!1},pee={readContext:Li,useCallback:sB,useContext:Li,useEffect:qT,useImperativeHandle:aB,useInsertionEffect:tB,useLayoutEffect:rB,useMemo:iB,useReducer:Mj,useRef:eB,useState:function(){return Mj(Bg)},useDebugValue:KT,useDeferredValue:function(e){var t=$i();return Ln===null?t.memoizedState=e:oB(t,Ln.memoizedState,e)},useTransition:function(){var e=Mj(Bg)[0],t=$i().memoizedState;return[e,t]},useMutableSource:K6,useSyncExternalStore:G6,useId:lB,unstable_isNewReconciler:!1};function ro(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function q2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var l_={isMounted:function(e){return(e=e._reactInternals)?Nf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ss(),a=wu(e),s=tc(n,a);s.payload=t,r!=null&&(s.callback=r),t=xu(e,s,a),t!==null&&(_o(t,e,a,n),m1(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ss(),a=wu(e),s=tc(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=xu(e,s,a),t!==null&&(_o(t,e,a,n),m1(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ss(),n=wu(e),a=tc(r,n);a.tag=2,t!=null&&(a.callback=t),t=xu(e,a,n),t!==null&&(_o(t,e,n,r),m1(t,e,n))}};function VD(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Dg(r,n)||!Dg(a,s):!0}function fB(e,t,r){var n=!1,a=Au,s=t.contextType;return typeof s=="object"&&s!==null?s=Li(s):(a=ks(t)?Qd:Da.current,n=t.contextTypes,s=(n=n!=null)?ym(e,a):Au),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=l_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function zD(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&l_.enqueueReplaceState(t,t.state,null)}function K2(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},$T(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Li(s):(s=ks(t)?Qd:Da.current,a.context=ym(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(q2(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&l_.enqueueReplaceState(a,a.state,null),Y1(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Sm(e,t){try{var r="",n=t;do r+=zQ(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Fj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function G2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gee=typeof WeakMap=="function"?WeakMap:Map;function hB(e,t,r){r=tc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ew||(ew=!0,aN=n),G2(e,t)},r}function mB(e,t,r){r=tc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){G2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){G2(e,t),typeof n!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function WD(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gee;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Aee.bind(null,e,t,r),t.then(e,e))}function HD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qD(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=tc(-1,1),t.tag=2,xu(r,t,1))),r.lanes|=1),e)}var vee=Sc.ReactCurrentOwner,bs=!1;function Ga(e,t,r,n){t.child=e===null?z6(t,null,r,n):bm(t,e.child,r,n)}function KD(e,t,r,n,a){r=r.render;var s=t.ref;return Wh(t,a),n=WT(e,t,r,n,s,a),r=HT(),e!==null&&!bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,uc(e,t,a)):(Hr&&r&&PT(t),t.flags|=1,Ga(e,t,n,a),t.child)}function GD(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!tA(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,pB(e,t,s,n,a)):(e=w1(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Dg,r(i,n)&&e.ref===t.ref)return uc(e,t,a)}return t.flags|=1,e=bu(s,n),e.ref=t.ref,e.return=t,t.child=e}function pB(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Dg(s,n)&&e.ref===t.ref)if(bs=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(bs=!0);else return t.lanes=e.lanes,uc(e,t,a)}return Y2(e,t,r,n,a)}function gB(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(Oh,qs),qs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pr(Oh,qs),qs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Pr(Oh,qs),qs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Pr(Oh,qs),qs|=n;return Ga(e,t,a,r),t.child}function vB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Y2(e,t,r,n,a){var s=ks(r)?Qd:Da.current;return s=ym(t,s),Wh(t,a),r=WT(e,t,r,n,s,a),n=HT(),e!==null&&!bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,uc(e,t,a)):(Hr&&n&&PT(t),t.flags|=1,Ga(e,t,r,a),t.child)}function YD(e,t,r,n,a){if(ks(r)){var s=!0;W1(t)}else s=!1;if(Wh(t,a),t.stateNode===null)v1(e,t),fB(t,r,n),K2(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Li(u):(u=ks(r)?Qd:Da.current,u=ym(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&zD(t,i,n,u),Uc=!1;var h=t.memoizedState;i.state=h,Y1(t,n,i,a),c=t.memoizedState,l!==n||h!==c||js.current||Uc?(typeof d=="function"&&(q2(t,r,d,n),c=t.memoizedState),(l=Uc||VD(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,H6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ro(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Li(c):(c=ks(r)?Qd:Da.current,c=ym(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&zD(t,i,n,c),Uc=!1,h=t.memoizedState,i.state=h,Y1(t,n,i,a);var g=t.memoizedState;l!==f||h!==g||js.current||Uc?(typeof m=="function"&&(q2(t,r,m,n),g=t.memoizedState),(u=Uc||VD(t,r,u,n,h,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return X2(e,t,r,n,s,a)}function X2(e,t,r,n,a,s){vB(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&RD(t,r,!1),uc(e,t,s);n=t.stateNode,vee.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=bm(t,e.child,null,s),t.child=bm(t,null,l,s)):Ga(e,t,l,s),t.memoizedState=n.state,a&&RD(t,r,!0),t.child}function xB(e){var t=e.stateNode;t.pendingContext?DD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&DD(e,t.context,!1),BT(e,t.containerInfo)}function XD(e,t,r,n,a){return wm(),RT(a),t.flags|=256,Ga(e,t,r,n),t.child}var J2={dehydrated:null,treeContext:null,retryLane:0};function Q2(e){return{baseLanes:e,cachePool:null,transitions:null}}function yB(e,t,r){var n=t.pendingProps,a=Xr.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Pr(Xr,a&1),e===null)return W2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=d_(i,n,0,null),e=Wd(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Q2(r),t.memoizedState=J2,e):GT(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return xee(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=bu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=bu(l,s):(s=Wd(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?Q2(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=J2,n}return s=e.child,e=s.sibling,n=bu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function GT(e,t){return t=d_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hy(e,t,r,n){return n!==null&&RT(n),bm(t,e.child,null,r),e=GT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xee(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Fj(Error(He(422))),hy(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=d_({mode:"visible",children:n.children},a,0,null),s=Wd(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&bm(t,e.child,null,i),t.child.memoizedState=Q2(i),t.memoizedState=J2,s);if(!(t.mode&1))return hy(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(He(419)),n=Fj(s,n,void 0),hy(e,t,i,n)}if(l=(i&e.childLanes)!==0,bs||l){if(n=Xn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,cc(e,a),_o(n,e,a,-1))}return eA(),n=Fj(Error(He(421))),hy(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Oee.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ni=vu(a.nextSibling),ai=t,Hr=!0,ho=null,e!==null&&(Ci[Ti++]=Gl,Ci[Ti++]=Yl,Ci[Ti++]=Zd,Gl=e.id,Yl=e.overflow,Zd=t),t=GT(t,n.children),t.flags|=4096,t)}function JD(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),H2(e.return,t,r)}function Lj(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function wB(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ga(e,t,n.children,r),n=Xr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&JD(e,r,t);else if(e.tag===19)JD(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pr(Xr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&X1(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Lj(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&X1(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Lj(t,!0,r,null,s);break;case"together":Lj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function v1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function uc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),tf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,r=bu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yee(e,t,r){switch(t.tag){case 3:xB(t),wm();break;case 5:q6(t);break;case 1:ks(t.type)&&W1(t);break;case 4:BT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Pr(K1,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pr(Xr,Xr.current&1),t.flags|=128,null):r&t.child.childLanes?yB(e,t,r):(Pr(Xr,Xr.current&1),e=uc(e,t,r),e!==null?e.sibling:null);Pr(Xr,Xr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return wB(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pr(Xr,Xr.current),n)break;return null;case 22:case 23:return t.lanes=0,gB(e,t,r)}return uc(e,t,r)}var bB,Z2,_B,SB;bB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Z2=function(){};_B=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Sd(il.current);var s=null;switch(r){case"input":a=b2(e,a),n=b2(e,n),s=[];break;case"select":a=rn({},a,{value:void 0}),n=rn({},n,{value:void 0}),s=[];break;case"textarea":a=j2(e,a),n=j2(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=V1)}N2(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ng.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ng.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};SB=function(e,t,r,n){r!==n&&(t.flags|=4)};function l0(e,t){if(!Hr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ha(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wee(e,t,r){var n=t.pendingProps;switch(DT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ha(t),null;case 1:return ks(t.type)&&z1(),ha(t),null;case 3:return n=t.stateNode,_m(),Br(js),Br(Da),VT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ho!==null&&(oN(ho),ho=null))),Z2(e,t),ha(t),null;case 5:UT(t);var a=Sd(Lg.current);if(r=t.type,e!==null&&t.stateNode!=null)_B(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(He(166));return ha(t),null}if(e=Sd(il.current),dy(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Jo]=t,n[Mg]=s,e=(t.mode&1)!==0,r){case"dialog":Fr("cancel",n),Fr("close",n);break;case"iframe":case"object":case"embed":Fr("load",n);break;case"video":case"audio":for(a=0;a<D0.length;a++)Fr(D0[a],n);break;case"source":Fr("error",n);break;case"img":case"image":case"link":Fr("error",n),Fr("load",n);break;case"details":Fr("toggle",n);break;case"input":iD(n,s),Fr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",n);break;case"textarea":lD(n,s),Fr("invalid",n)}N2(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&uy(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&uy(n.textContent,l,e),a=["children",""+l]):Ng.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Fr("scroll",n)}switch(r){case"input":ry(n),oD(n,s,!0);break;case"textarea":ry(n),cD(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=V1)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=J8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Jo]=t,e[Mg]=n,bB(e,t,!1,!1),t.stateNode=e;e:{switch(i=E2(r,n),r){case"dialog":Fr("cancel",e),Fr("close",e),a=n;break;case"iframe":case"object":case"embed":Fr("load",e),a=n;break;case"video":case"audio":for(a=0;a<D0.length;a++)Fr(D0[a],e);a=n;break;case"source":Fr("error",e),a=n;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=n;break;case"details":Fr("toggle",e),a=n;break;case"input":iD(e,n),a=b2(e,n),Fr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=rn({},n,{value:void 0}),Fr("invalid",e);break;case"textarea":lD(e,n),a=j2(e,n),Fr("invalid",e);break;default:a=n}N2(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?e6(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Q8(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Eg(e,c):typeof c=="number"&&Eg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ng.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Fr("scroll",e):c!=null&&xT(e,s,c,i))}switch(r){case"input":ry(e),oD(e,n,!1);break;case"textarea":ry(e),cD(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Tu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Bh(e,!!n.multiple,s,!1):n.defaultValue!=null&&Bh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=V1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ha(t),null;case 6:if(e&&t.stateNode!=null)SB(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(He(166));if(r=Sd(Lg.current),Sd(il.current),dy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jo]=t,(s=n.nodeValue!==r)&&(e=ai,e!==null))switch(e.tag){case 3:uy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uy(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jo]=t,t.stateNode=n}return ha(t),null;case 13:if(Br(Xr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Hr&&ni!==null&&t.mode&1&&!(t.flags&128))U6(),wm(),t.flags|=98560,s=!1;else if(s=dy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(He(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[Jo]=t}else wm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ha(t),s=!1}else ho!==null&&(oN(ho),ho=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xr.current&1?Bn===0&&(Bn=3):eA())),t.updateQueue!==null&&(t.flags|=4),ha(t),null);case 4:return _m(),Z2(e,t),e===null&&Rg(t.stateNode.containerInfo),ha(t),null;case 10:return FT(t.type._context),ha(t),null;case 17:return ks(t.type)&&z1(),ha(t),null;case 19:if(Br(Xr),s=t.memoizedState,s===null)return ha(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)l0(s,!1);else{if(Bn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=X1(e),i!==null){for(t.flags|=128,l0(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pr(Xr,Xr.current&1|2),t.child}e=e.sibling}s.tail!==null&&hn()>jm&&(t.flags|=128,n=!0,l0(s,!1),t.lanes=4194304)}else{if(!n)if(e=X1(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),l0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Hr)return ha(t),null}else 2*hn()-s.renderingStartTime>jm&&r!==1073741824&&(t.flags|=128,n=!0,l0(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=hn(),t.sibling=null,r=Xr.current,Pr(Xr,n?r&1|2:r&1),t):(ha(t),null);case 22:case 23:return ZT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qs&1073741824&&(ha(t),t.subtreeFlags&6&&(t.flags|=8192)):ha(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function bee(e,t){switch(DT(t),t.tag){case 1:return ks(t.type)&&z1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _m(),Br(js),Br(Da),VT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return UT(t),null;case 13:if(Br(Xr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));wm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Br(Xr),null;case 4:return _m(),null;case 10:return FT(t.type._context),null;case 22:case 23:return ZT(),null;case 24:return null;default:return null}}var my=!1,ka=!1,_ee=typeof WeakSet=="function"?WeakSet:Set,it=null;function Ah(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sn(e,t,n)}else r.current=null}function eN(e,t,r){try{r()}catch(n){sn(e,t,n)}}var QD=!1;function See(e,t){if(F2=$1,e=C6(),OT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=i),h===s&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(L2={focusedElem:e,selectionRange:r},$1=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:ro(t.type,p),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(_){sn(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return g=QD,QD=!1,g}function J0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&eN(t,r,s)}a=a.next}while(a!==n)}}function c_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function tN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jB(e){var t=e.alternate;t!==null&&(e.alternate=null,jB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jo],delete t[Mg],delete t[U2],delete t[see],delete t[iee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kB(e){return e.tag===5||e.tag===3||e.tag===4}function ZD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=V1));else if(n!==4&&(e=e.child,e!==null))for(rN(e,t,r),e=e.sibling;e!==null;)rN(e,t,r),e=e.sibling}function nN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(nN(e,t,r),e=e.sibling;e!==null;)nN(e,t,r),e=e.sibling}var ta=null,io=!1;function Pc(e,t,r){for(r=r.child;r!==null;)NB(e,t,r),r=r.sibling}function NB(e,t,r){if(sl&&typeof sl.onCommitFiberUnmount=="function")try{sl.onCommitFiberUnmount(t_,r)}catch{}switch(r.tag){case 5:ka||Ah(r,t);case 6:var n=ta,a=io;ta=null,Pc(e,t,r),ta=n,io=a,ta!==null&&(io?(e=ta,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ta.removeChild(r.stateNode));break;case 18:ta!==null&&(io?(e=ta,r=r.stateNode,e.nodeType===8?Oj(e.parentNode,r):e.nodeType===1&&Oj(e,r),Og(e)):Oj(ta,r.stateNode));break;case 4:n=ta,a=io,ta=r.stateNode.containerInfo,io=!0,Pc(e,t,r),ta=n,io=a;break;case 0:case 11:case 14:case 15:if(!ka&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&eN(r,t,i),a=a.next}while(a!==n)}Pc(e,t,r);break;case 1:if(!ka&&(Ah(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){sn(r,t,l)}Pc(e,t,r);break;case 21:Pc(e,t,r);break;case 22:r.mode&1?(ka=(n=ka)||r.memoizedState!==null,Pc(e,t,r),ka=n):Pc(e,t,r);break;default:Pc(e,t,r)}}function eR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _ee),t.forEach(function(n){var a=Pee.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Yi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ta=l.stateNode,io=!1;break e;case 3:ta=l.stateNode.containerInfo,io=!0;break e;case 4:ta=l.stateNode.containerInfo,io=!0;break e}l=l.return}if(ta===null)throw Error(He(160));NB(s,i,a),ta=null,io=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){sn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EB(t,e),t=t.sibling}function EB(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yi(t,e),Bo(e),n&4){try{J0(3,e,e.return),c_(3,e)}catch(p){sn(e,e.return,p)}try{J0(5,e,e.return)}catch(p){sn(e,e.return,p)}}break;case 1:Yi(t,e),Bo(e),n&512&&r!==null&&Ah(r,r.return);break;case 5:if(Yi(t,e),Bo(e),n&512&&r!==null&&Ah(r,r.return),e.flags&32){var a=e.stateNode;try{Eg(a,"")}catch(p){sn(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Y8(a,s),E2(l,i);var u=E2(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?e6(a,f):d==="dangerouslySetInnerHTML"?Q8(a,f):d==="children"?Eg(a,f):xT(a,d,f,u)}switch(l){case"input":_2(a,s);break;case"textarea":X8(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Bh(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Bh(a,!!s.multiple,s.defaultValue,!0):Bh(a,!!s.multiple,s.multiple?[]:"",!1))}a[Mg]=s}catch(p){sn(e,e.return,p)}}break;case 6:if(Yi(t,e),Bo(e),n&4){if(e.stateNode===null)throw Error(He(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){sn(e,e.return,p)}}break;case 3:if(Yi(t,e),Bo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Og(t.containerInfo)}catch(p){sn(e,e.return,p)}break;case 4:Yi(t,e),Bo(e);break;case 13:Yi(t,e),Bo(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(JT=hn())),n&4&&eR(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ka=(u=ka)||d,Yi(t,e),ka=u):Yi(t,e),Bo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(f=it=d;it!==null;){switch(h=it,m=h.child,h.tag){case 0:case 11:case 14:case 15:J0(4,h,h.return);break;case 1:Ah(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){sn(n,r,p)}}break;case 5:Ah(h,h.return);break;case 22:if(h.memoizedState!==null){rR(f);continue}}m!==null?(m.return=h,it=m):rR(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Z8("display",i))}catch(p){sn(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){sn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yi(t,e),Bo(e),n&4&&eR(e);break;case 21:break;default:Yi(t,e),Bo(e)}}function Bo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kB(r)){var n=r;break e}r=r.return}throw Error(He(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Eg(a,""),n.flags&=-33);var s=ZD(e);nN(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=ZD(e);rN(e,l,i);break;default:throw Error(He(161))}}catch(c){sn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jee(e,t,r){it=e,CB(e)}function CB(e,t,r){for(var n=(e.mode&1)!==0;it!==null;){var a=it,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||my;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ka;l=my;var u=ka;if(my=i,(ka=c)&&!u)for(it=a;it!==null;)i=it,c=i.child,i.tag===22&&i.memoizedState!==null?nR(a):c!==null?(c.return=i,it=c):nR(a);for(;s!==null;)it=s,CB(s),s=s.sibling;it=a,my=l,ka=u}tR(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,it=s):tR(e)}}function tR(e){for(;it!==null;){var t=it;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ka||c_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ka)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ro(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&$D(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$D(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Og(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}ka||t.flags&512&&tN(t)}catch(h){sn(t,t.return,h)}}if(t===e){it=null;break}if(r=t.sibling,r!==null){r.return=t.return,it=r;break}it=t.return}}function rR(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var r=t.sibling;if(r!==null){r.return=t.return,it=r;break}it=t.return}}function nR(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{c_(4,t)}catch(c){sn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){sn(t,a,c)}}var s=t.return;try{tN(t)}catch(c){sn(t,s,c)}break;case 5:var i=t.return;try{tN(t)}catch(c){sn(t,i,c)}}}catch(c){sn(t,t.return,c)}if(t===e){it=null;break}var l=t.sibling;if(l!==null){l.return=t.return,it=l;break}it=t.return}}var kee=Math.ceil,Z1=Sc.ReactCurrentDispatcher,YT=Sc.ReactCurrentOwner,Ii=Sc.ReactCurrentBatchConfig,nr=0,Xn=null,kn=null,ia=0,qs=0,Oh=Vu(0),Bn=0,Vg=null,tf=0,u_=0,XT=0,Q0=null,ws=null,JT=0,jm=1/0,Ll=null,ew=!1,aN=null,yu=null,py=!1,lu=null,tw=0,Z0=0,sN=null,x1=-1,y1=0;function ss(){return nr&6?hn():x1!==-1?x1:x1=hn()}function wu(e){return e.mode&1?nr&2&&ia!==0?ia&-ia:lee.transition!==null?(y1===0&&(y1=f6()),y1):(e=yr,e!==0||(e=window.event,e=e===void 0?16:y6(e.type)),e):1}function _o(e,t,r,n){if(50<Z0)throw Z0=0,sN=null,Error(He(185));Zv(e,r,n),(!(nr&2)||e!==Xn)&&(e===Xn&&(!(nr&2)&&(u_|=r),Bn===4&&Gc(e,ia)),Ns(e,n),r===1&&nr===0&&!(t.mode&1)&&(jm=hn()+500,i_&&zu()))}function Ns(e,t){var r=e.callbackNode;lZ(e,t);var n=L1(e,e===Xn?ia:0);if(n===0)r!==null&&fD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&fD(r),t===1)e.tag===0?oee(aR.bind(null,e)):L6(aR.bind(null,e)),nee(function(){!(nr&6)&&zu()}),r=null;else{switch(h6(n)){case 1:r=ST;break;case 4:r=u6;break;case 16:r=F1;break;case 536870912:r=d6;break;default:r=F1}r=MB(r,TB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function TB(e,t){if(x1=-1,y1=0,nr&6)throw Error(He(327));var r=e.callbackNode;if(Hh()&&e.callbackNode!==r)return null;var n=L1(e,e===Xn?ia:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=rw(e,n);else{t=n;var a=nr;nr|=2;var s=OB();(Xn!==e||ia!==t)&&(Ll=null,jm=hn()+500,zd(e,t));do try{Cee();break}catch(l){AB(e,l)}while(!0);MT(),Z1.current=s,nr=a,kn!==null?t=0:(Xn=null,ia=0,t=Bn)}if(t!==0){if(t===2&&(a=P2(e),a!==0&&(n=a,t=iN(e,a))),t===1)throw r=Vg,zd(e,0),Gc(e,n),Ns(e,hn()),r;if(t===6)Gc(e,n);else{if(a=e.current.alternate,!(n&30)&&!Nee(a)&&(t=rw(e,n),t===2&&(s=P2(e),s!==0&&(n=s,t=iN(e,s))),t===1))throw r=Vg,zd(e,0),Gc(e,n),Ns(e,hn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(He(345));case 2:ud(e,ws,Ll);break;case 3:if(Gc(e,n),(n&130023424)===n&&(t=JT+500-hn(),10<t)){if(L1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ss(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=B2(ud.bind(null,e,ws,Ll),t);break}ud(e,ws,Ll);break;case 4:if(Gc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-bo(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=hn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kee(n/1960))-n,10<n){e.timeoutHandle=B2(ud.bind(null,e,ws,Ll),n);break}ud(e,ws,Ll);break;case 5:ud(e,ws,Ll);break;default:throw Error(He(329))}}}return Ns(e,hn()),e.callbackNode===r?TB.bind(null,e):null}function iN(e,t){var r=Q0;return e.current.memoizedState.isDehydrated&&(zd(e,t).flags|=256),e=rw(e,t),e!==2&&(t=ws,ws=r,t!==null&&oN(t)),e}function oN(e){ws===null?ws=e:ws.push.apply(ws,e)}function Nee(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ko(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gc(e,t){for(t&=~XT,t&=~u_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bo(t),n=1<<r;e[r]=-1,t&=~n}}function aR(e){if(nr&6)throw Error(He(327));Hh();var t=L1(e,0);if(!(t&1))return Ns(e,hn()),null;var r=rw(e,t);if(e.tag!==0&&r===2){var n=P2(e);n!==0&&(t=n,r=iN(e,n))}if(r===1)throw r=Vg,zd(e,0),Gc(e,t),Ns(e,hn()),r;if(r===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ud(e,ws,Ll),Ns(e,hn()),null}function QT(e,t){var r=nr;nr|=1;try{return e(t)}finally{nr=r,nr===0&&(jm=hn()+500,i_&&zu())}}function rf(e){lu!==null&&lu.tag===0&&!(nr&6)&&Hh();var t=nr;nr|=1;var r=Ii.transition,n=yr;try{if(Ii.transition=null,yr=1,e)return e()}finally{yr=n,Ii.transition=r,nr=t,!(nr&6)&&zu()}}function ZT(){qs=Oh.current,Br(Oh)}function zd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ree(r)),kn!==null)for(r=kn.return;r!==null;){var n=r;switch(DT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&z1();break;case 3:_m(),Br(js),Br(Da),VT();break;case 5:UT(n);break;case 4:_m();break;case 13:Br(Xr);break;case 19:Br(Xr);break;case 10:FT(n.type._context);break;case 22:case 23:ZT()}r=r.return}if(Xn=e,kn=e=bu(e.current,null),ia=qs=t,Bn=0,Vg=null,XT=u_=tf=0,ws=Q0=null,_d!==null){for(t=0;t<_d.length;t++)if(r=_d[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}_d=null}return e}function AB(e,t){do{var r=kn;try{if(MT(),p1.current=Q1,J1){for(var n=en.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}J1=!1}if(ef=0,Kn=Ln=en=null,X0=!1,$g=0,YT.current=null,r===null||r.return===null){Bn=1,Vg=t,kn=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=ia,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=HD(i);if(m!==null){m.flags&=-257,qD(m,i,l,s,t),m.mode&1&&WD(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){WD(s,u,t),eA();break e}c=Error(He(426))}}else if(Hr&&l.mode&1){var v=HD(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),qD(v,i,l,s,t),RT(Sm(c,l));break e}}s=c=Sm(c,l),Bn!==4&&(Bn=2),Q0===null?Q0=[s]:Q0.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=hB(s,c,t);LD(s,y);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yu===null||!yu.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=mB(s,l,t);LD(s,_);break e}}s=s.return}while(s!==null)}DB(r)}catch(S){t=S,kn===r&&r!==null&&(kn=r=r.return);continue}break}while(!0)}function OB(){var e=Z1.current;return Z1.current=Q1,e===null?Q1:e}function eA(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Xn===null||!(tf&268435455)&&!(u_&268435455)||Gc(Xn,ia)}function rw(e,t){var r=nr;nr|=2;var n=OB();(Xn!==e||ia!==t)&&(Ll=null,zd(e,t));do try{Eee();break}catch(a){AB(e,a)}while(!0);if(MT(),nr=r,Z1.current=n,kn!==null)throw Error(He(261));return Xn=null,ia=0,Bn}function Eee(){for(;kn!==null;)PB(kn)}function Cee(){for(;kn!==null&&!ZQ();)PB(kn)}function PB(e){var t=IB(e.alternate,e,qs);e.memoizedProps=e.pendingProps,t===null?DB(e):kn=t,YT.current=null}function DB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bee(r,t),r!==null){r.flags&=32767,kn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bn=6,kn=null;return}}else if(r=wee(r,t,qs),r!==null){kn=r;return}if(t=t.sibling,t!==null){kn=t;return}kn=t=e}while(t!==null);Bn===0&&(Bn=5)}function ud(e,t,r){var n=yr,a=Ii.transition;try{Ii.transition=null,yr=1,Tee(e,t,r,n)}finally{Ii.transition=a,yr=n}return null}function Tee(e,t,r,n){do Hh();while(lu!==null);if(nr&6)throw Error(He(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(cZ(e,s),e===Xn&&(kn=Xn=null,ia=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||py||(py=!0,MB(F1,function(){return Hh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ii.transition,Ii.transition=null;var i=yr;yr=1;var l=nr;nr|=4,YT.current=null,See(e,r),EB(r,e),YZ(L2),$1=!!F2,L2=F2=null,e.current=r,jee(r),eZ(),nr=l,yr=i,Ii.transition=s}else e.current=r;if(py&&(py=!1,lu=e,tw=a),s=e.pendingLanes,s===0&&(yu=null),nZ(r.stateNode),Ns(e,hn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ew)throw ew=!1,e=aN,aN=null,e;return tw&1&&e.tag!==0&&Hh(),s=e.pendingLanes,s&1?e===sN?Z0++:(Z0=0,sN=e):Z0=0,zu(),null}function Hh(){if(lu!==null){var e=h6(tw),t=Ii.transition,r=yr;try{if(Ii.transition=null,yr=16>e?16:e,lu===null)var n=!1;else{if(e=lu,lu=null,tw=0,nr&6)throw Error(He(331));var a=nr;for(nr|=4,it=e.current;it!==null;){var s=it,i=s.child;if(it.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(it=u;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:J0(8,d,s)}var f=d.child;if(f!==null)f.return=d,it=f;else for(;it!==null;){d=it;var h=d.sibling,m=d.return;if(jB(d),d===u){it=null;break}if(h!==null){h.return=m,it=h;break}it=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}it=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,it=i;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:J0(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,it=y;break e}it=s.return}}var w=e.current;for(it=w;it!==null;){i=it;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,it=b;else e:for(i=w;it!==null;){if(l=it,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:c_(9,l)}}catch(S){sn(l,l.return,S)}if(l===i){it=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,it=_;break e}it=l.return}}if(nr=a,zu(),sl&&typeof sl.onPostCommitFiberRoot=="function")try{sl.onPostCommitFiberRoot(t_,e)}catch{}n=!0}return n}finally{yr=r,Ii.transition=t}}return!1}function sR(e,t,r){t=Sm(r,t),t=hB(e,t,1),e=xu(e,t,1),t=ss(),e!==null&&(Zv(e,1,t),Ns(e,t))}function sn(e,t,r){if(e.tag===3)sR(e,e,r);else for(;t!==null;){if(t.tag===3){sR(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yu===null||!yu.has(n))){e=Sm(r,e),e=mB(t,e,1),t=xu(t,e,1),e=ss(),t!==null&&(Zv(t,1,e),Ns(t,e));break}}t=t.return}}function Aee(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ss(),e.pingedLanes|=e.suspendedLanes&r,Xn===e&&(ia&r)===r&&(Bn===4||Bn===3&&(ia&130023424)===ia&&500>hn()-JT?zd(e,0):XT|=r),Ns(e,t)}function RB(e,t){t===0&&(e.mode&1?(t=sy,sy<<=1,!(sy&130023424)&&(sy=4194304)):t=1);var r=ss();e=cc(e,t),e!==null&&(Zv(e,t,r),Ns(e,r))}function Oee(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),RB(e,r)}function Pee(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(He(314))}n!==null&&n.delete(t),RB(e,r)}var IB;IB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||js.current)bs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return bs=!1,yee(e,t,r);bs=!!(e.flags&131072)}else bs=!1,Hr&&t.flags&1048576&&$6(t,q1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;v1(e,t),e=t.pendingProps;var a=ym(t,Da.current);Wh(t,r),a=WT(null,t,n,e,a,r);var s=HT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ks(n)?(s=!0,W1(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,$T(t),a.updater=l_,t.stateNode=a,a._reactInternals=t,K2(t,n,e,r),t=X2(null,t,n,!0,s,r)):(t.tag=0,Hr&&s&&PT(t),Ga(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(v1(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Ree(n),e=ro(n,e),a){case 0:t=Y2(null,t,n,e,r);break e;case 1:t=YD(null,t,n,e,r);break e;case 11:t=KD(null,t,n,e,r);break e;case 14:t=GD(null,t,n,ro(n.type,e),r);break e}throw Error(He(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ro(n,a),Y2(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ro(n,a),YD(e,t,n,a,r);case 3:e:{if(xB(t),e===null)throw Error(He(387));n=t.pendingProps,s=t.memoizedState,a=s.element,H6(e,t),Y1(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Sm(Error(He(423)),t),t=XD(e,t,n,r,a);break e}else if(n!==a){a=Sm(Error(He(424)),t),t=XD(e,t,n,r,a);break e}else for(ni=vu(t.stateNode.containerInfo.firstChild),ai=t,Hr=!0,ho=null,r=z6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wm(),n===a){t=uc(e,t,r);break e}Ga(e,t,n,r)}t=t.child}return t;case 5:return q6(t),e===null&&W2(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,$2(n,a)?i=null:s!==null&&$2(n,s)&&(t.flags|=32),vB(e,t),Ga(e,t,i,r),t.child;case 6:return e===null&&W2(t),null;case 13:return yB(e,t,r);case 4:return BT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bm(t,null,n,r):Ga(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ro(n,a),KD(e,t,n,a,r);case 7:return Ga(e,t,t.pendingProps,r),t.child;case 8:return Ga(e,t,t.pendingProps.children,r),t.child;case 12:return Ga(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Pr(K1,n._currentValue),n._currentValue=i,s!==null)if(ko(s.value,i)){if(s.children===a.children&&!js.current){t=uc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=tc(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),H2(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(He(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),H2(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Ga(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Wh(t,r),a=Li(a),n=n(a),t.flags|=1,Ga(e,t,n,r),t.child;case 14:return n=t.type,a=ro(n,t.pendingProps),a=ro(n.type,a),GD(e,t,n,a,r);case 15:return pB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ro(n,a),v1(e,t),t.tag=1,ks(n)?(e=!0,W1(t)):e=!1,Wh(t,r),fB(t,n,a),K2(t,n,a,r),X2(null,t,n,!0,e,r);case 19:return wB(e,t,r);case 22:return gB(e,t,r)}throw Error(He(156,t.tag))};function MB(e,t){return c6(e,t)}function Dee(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(e,t,r,n){return new Dee(e,t,r,n)}function tA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ree(e){if(typeof e=="function")return tA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wT)return 11;if(e===bT)return 14}return 2}function bu(e,t){var r=e.alternate;return r===null?(r=Pi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function w1(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")tA(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bh:return Wd(r.children,a,s,t);case yT:i=8,a|=8;break;case v2:return e=Pi(12,r,t,a|2),e.elementType=v2,e.lanes=s,e;case x2:return e=Pi(13,r,t,a),e.elementType=x2,e.lanes=s,e;case y2:return e=Pi(19,r,t,a),e.elementType=y2,e.lanes=s,e;case q8:return d_(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W8:i=10;break e;case H8:i=9;break e;case wT:i=11;break e;case bT:i=14;break e;case Bc:i=16,n=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=Pi(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Wd(e,t,r,n){return e=Pi(7,e,n,t),e.lanes=r,e}function d_(e,t,r,n){return e=Pi(22,e,n,t),e.elementType=q8,e.lanes=r,e.stateNode={isHidden:!1},e}function $j(e,t,r){return e=Pi(6,e,null,t),e.lanes=r,e}function Bj(e,t,r){return t=Pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Iee(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wj(0),this.expirationTimes=wj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function rA(e,t,r,n,a,s,i,l,c){return e=new Iee(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Pi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$T(s),e}function Mee(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function FB(e){if(!e)return Au;e=e._reactInternals;e:{if(Nf(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ks(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var r=e.type;if(ks(r))return F6(e,r,t)}return t}function LB(e,t,r,n,a,s,i,l,c){return e=rA(r,n,!0,e,a,s,i,l,c),e.context=FB(null),r=e.current,n=ss(),a=wu(r),s=tc(n,a),s.callback=t??null,xu(r,s,a),e.current.lanes=a,Zv(e,a,n),Ns(e,n),e}function f_(e,t,r,n){var a=t.current,s=ss(),i=wu(a);return r=FB(r),t.context===null?t.context=r:t.pendingContext=r,t=tc(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xu(a,t,i),e!==null&&(_o(e,a,i,s),m1(e,a,i)),i}function nw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nA(e,t){iR(e,t),(e=e.alternate)&&iR(e,t)}function Fee(){return null}var $B=typeof reportError=="function"?reportError:function(e){console.error(e)};function aA(e){this._internalRoot=e}h_.prototype.render=aA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));f_(e,t,null,null)};h_.prototype.unmount=aA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rf(function(){f_(null,e,null,null)}),t[lc]=null}};function h_(e){this._internalRoot=e}h_.prototype.unstable_scheduleHydration=function(e){if(e){var t=g6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Kc.length&&t!==0&&t<Kc[r].priority;r++);Kc.splice(r,0,e),r===0&&x6(e)}};function sA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oR(){}function Lee(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=nw(i);s.call(u)}}var i=LB(t,n,e,0,null,!1,!1,"",oR);return e._reactRootContainer=i,e[lc]=i.current,Rg(e.nodeType===8?e.parentNode:e),rf(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=nw(c);l.call(u)}}var c=rA(e,0,!1,null,null,!1,!1,"",oR);return e._reactRootContainer=c,e[lc]=c.current,Rg(e.nodeType===8?e.parentNode:e),rf(function(){f_(t,c,r,n)}),c}function p_(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=nw(i);l.call(c)}}f_(t,i,e,a)}else i=Lee(r,t,e,a,n);return nw(i)}m6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=P0(t.pendingLanes);r!==0&&(jT(t,r|1),Ns(t,hn()),!(nr&6)&&(jm=hn()+500,zu()))}break;case 13:rf(function(){var n=cc(e,1);if(n!==null){var a=ss();_o(n,e,1,a)}}),nA(e,1)}};kT=function(e){if(e.tag===13){var t=cc(e,134217728);if(t!==null){var r=ss();_o(t,e,134217728,r)}nA(e,134217728)}};p6=function(e){if(e.tag===13){var t=wu(e),r=cc(e,t);if(r!==null){var n=ss();_o(r,e,t,n)}nA(e,t)}};g6=function(){return yr};v6=function(e,t){var r=yr;try{return yr=e,t()}finally{yr=r}};T2=function(e,t,r){switch(t){case"input":if(_2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=s_(n);if(!a)throw Error(He(90));G8(n),_2(n,a)}}}break;case"textarea":X8(e,r);break;case"select":t=r.value,t!=null&&Bh(e,!!r.multiple,t,!1)}};n6=QT;a6=rf;var $ee={usingClientEntryPoint:!1,Events:[tx,kh,s_,t6,r6,QT]},c0={findFiberByHostInstance:bd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bee={bundleType:c0.bundleType,version:c0.version,rendererPackageName:c0.rendererPackageName,rendererConfig:c0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=o6(e),e===null?null:e.stateNode},findFiberByHostInstance:c0.findFiberByHostInstance||Fee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gy.isDisabled&&gy.supportsFiber)try{t_=gy.inject(Bee),sl=gy}catch{}}fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$ee;fi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sA(t))throw Error(He(200));return Mee(e,t,null,r)};fi.createRoot=function(e,t){if(!sA(e))throw Error(He(299));var r=!1,n="",a=$B;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=rA(e,1,!1,null,null,r,!1,n,a),e[lc]=t.current,Rg(e.nodeType===8?e.parentNode:e),new aA(t)};fi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=o6(t),e=e===null?null:e.stateNode,e};fi.flushSync=function(e){return rf(e)};fi.hydrate=function(e,t,r){if(!m_(t))throw Error(He(200));return p_(null,e,t,!0,r)};fi.hydrateRoot=function(e,t,r){if(!sA(e))throw Error(He(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=$B;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=LB(t,null,e,1,r??null,a,!1,s,i),e[lc]=t.current,Rg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new h_(t)};fi.render=function(e,t,r){if(!m_(t))throw Error(He(200));return p_(null,e,t,!1,r)};fi.unmountComponentAtNode=function(e){if(!m_(e))throw Error(He(40));return e._reactRootContainer?(rf(function(){p_(null,null,e,!1,function(){e._reactRootContainer=null,e[lc]=null})}),!0):!1};fi.unstable_batchedUpdates=QT;fi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!m_(r))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return p_(e,t,r,!1,n)};fi.version="18.3.1-next-f1338f8080-20240426";function BB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BB)}catch(e){console.error(e)}}BB(),B8.exports=fi;var bp=B8.exports;const Uee=gr(bp);var UB,lR=bp;UB=lR.createRoot,lR.hydrateRoot;var nx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nf=typeof window>"u"||"Deno"in globalThis;function xs(){}function Vee(e,t){return typeof e=="function"?e(t):e}function lN(e){return typeof e=="number"&&e>=0&&e!==1/0}function VB(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _u(e,t){return typeof e=="function"?e(t):e}function Ni(e,t){return typeof e=="function"?e(t):e}function cR(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==iA(i,t.options))return!1}else if(!Wg(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function uR(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(zg(t.options.mutationKey)!==zg(s))return!1}else if(!Wg(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function iA(e,t){return((t==null?void 0:t.queryKeyHashFn)||zg)(e)}function zg(e){return JSON.stringify(e,(t,r)=>uN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Wg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Wg(e[r],t[r])):!1}function zB(e,t){if(e===t)return e;const r=dR(e)&&dR(t);if(r||uN(e)&&uN(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=zB(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===i&&u===a?e:l}return t}function cN(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function dR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function uN(e){if(!fR(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!fR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fR(e){return Object.prototype.toString.call(e)==="[object Object]"}function zee(e){return new Promise(t=>{setTimeout(t,e)})}function dN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?zB(e,t):t}function Wee(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Hee(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var oA=Symbol();function WB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===oA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function qee(e,t){return typeof e=="function"?e(...t):!!e}var Rd,Zc,im,x8,Kee=(x8=class extends nx{constructor(){super();Et(this,Rd);Et(this,Zc);Et(this,im);lt(this,im,t=>{if(!nf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){pe(this,Zc)||this.setEventListener(pe(this,im))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Zc))==null||t.call(this),lt(this,Zc,void 0))}setEventListener(t){var r;lt(this,im,t),(r=pe(this,Zc))==null||r.call(this),lt(this,Zc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){pe(this,Rd)!==t&&(lt(this,Rd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof pe(this,Rd)=="boolean"?pe(this,Rd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rd=new WeakMap,Zc=new WeakMap,im=new WeakMap,x8),lA=new Kee,om,eu,lm,y8,Gee=(y8=class extends nx{constructor(){super();Et(this,om,!0);Et(this,eu);Et(this,lm);lt(this,lm,t=>{if(!nf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){pe(this,eu)||this.setEventListener(pe(this,lm))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,eu))==null||t.call(this),lt(this,eu,void 0))}setEventListener(t){var r;lt(this,lm,t),(r=pe(this,eu))==null||r.call(this),lt(this,eu,t(this.setOnline.bind(this)))}setOnline(t){pe(this,om)!==t&&(lt(this,om,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return pe(this,om)}},om=new WeakMap,eu=new WeakMap,lm=new WeakMap,y8),aw=new Gee;function fN(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Yee(e){return Math.min(1e3*2**e,3e4)}function HB(e){return(e??"online")==="online"?aw.isOnline():!0}var qB=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Uj(e){return e instanceof qB}function KB(e){let t=!1,r=0,n=!1,a;const s=fN(),i=p=>{var v;n||(h(new qB(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>lA.isFocused()&&(e.networkMode==="always"||aw.isOnline())&&e.canRun(),d=()=>HB(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var v;a=y=>{(n||u())&&p(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var k;if(n)return;const w=e.retry??(nf?0:3),b=e.retryDelay??Yee,_=typeof b=="function"?b(r,y):b,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,y);if(t||!S){h(y);return}r++,(k=e.onFail)==null||k.call(e,r,y),zee(_).then(()=>u()?void 0:m()).then(()=>{t?h(y):g()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var Xee=e=>setTimeout(e,0);function Jee(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=Xee;const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var na=Jee(),Id,w8,GB=(w8=class{constructor(){Et(this,Id)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lN(this.gcTime)&&lt(this,Id,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(nf?1/0:5*60*1e3))}clearGcTimeout(){pe(this,Id)&&(clearTimeout(pe(this,Id)),lt(this,Id,void 0))}},Id=new WeakMap,w8),cm,Md,ki,Fd,_a,Gv,Ld,ao,Fl,b8,Qee=(b8=class extends GB{constructor(t){super();Et(this,ao);Et(this,cm);Et(this,Md);Et(this,ki);Et(this,Fd);Et(this,_a);Et(this,Gv);Et(this,Ld);lt(this,Ld,!1),lt(this,Gv,t.defaultOptions),this.setOptions(t.options),this.observers=[],lt(this,Fd,t.client),lt(this,ki,pe(this,Fd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,lt(this,cm,Zee(this.options)),this.state=t.state??pe(this,cm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=pe(this,_a))==null?void 0:t.promise}setOptions(t){this.options={...pe(this,Gv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,ki).remove(this)}setData(t,r){const n=dN(this.state.data,t,this.options);return Xt(this,ao,Fl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Xt(this,ao,Fl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=pe(this,_a))==null?void 0:n.promise;return(a=pe(this,_a))==null||a.cancel(t),r?r.then(xs).catch(xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,cm))}isActive(){return this.observers.some(t=>Ni(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_u(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!VB(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,_a))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,_a))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),pe(this,ki).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(pe(this,_a)&&(pe(this,Ld)?pe(this,_a).cancel({revert:!0}):pe(this,_a).cancelRetry()),this.scheduleGc()),pe(this,ki).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xt(this,ao,Fl).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(pe(this,_a))return pe(this,_a).continueRetry(),pe(this,_a).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(lt(this,Ld,!0),n.signal)})},s=()=>{const h=WB(this.options,r),g=(()=>{const p={client:pe(this,Fd),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return lt(this,Ld,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:pe(this,Fd),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),lt(this,Md,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Xt(this,ao,Fl).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,p,v;Uj(h)&&h.silent||Xt(this,ao,Fl).call(this,{type:"error",error:h}),Uj(h)||((g=(m=pe(this,ki).config).onError)==null||g.call(m,h,this),(v=(p=pe(this,ki).config).onSettled)==null||v.call(p,this.state.data,h,this)),this.scheduleGc()};return lt(this,_a,KB({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,p,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(g=(m=pe(this,ki).config).onSuccess)==null||g.call(m,h,this),(v=(p=pe(this,ki).config).onSettled)==null||v.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Xt(this,ao,Fl).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Xt(this,ao,Fl).call(this,{type:"pause"})},onContinue:()=>{Xt(this,ao,Fl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),pe(this,_a).start()}},cm=new WeakMap,Md=new WeakMap,ki=new WeakMap,Fd=new WeakMap,_a=new WeakMap,Gv=new WeakMap,Ld=new WeakMap,ao=new WeakSet,Fl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...YB(n.data,this.options),fetchMeta:t.meta??null};case"success":return lt(this,Md,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Uj(a)&&a.revert&&pe(this,Md)?{...pe(this,Md),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),na.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),pe(this,ki).notify({query:this,type:"updated",action:t})})},b8);function YB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HB(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Zee(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Go,_8,ete=(_8=class extends nx{constructor(t={}){super();Et(this,Go);this.config=t,lt(this,Go,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??iA(a,r);let i=this.get(s);return i||(i=new Qee({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){pe(this,Go).has(t.queryHash)||(pe(this,Go).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=pe(this,Go).get(t.queryHash);r&&(t.destroy(),r===t&&pe(this,Go).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){na.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return pe(this,Go).get(t)}getAll(){return[...pe(this,Go).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>cR(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>cR(t,n)):r}notify(t){na.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){na.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){na.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Go=new WeakMap,_8),Yo,qa,$d,Xo,Lc,S8,tte=(S8=class extends GB{constructor(t){super();Et(this,Xo);Et(this,Yo);Et(this,qa);Et(this,$d);this.mutationId=t.mutationId,lt(this,qa,t.mutationCache),lt(this,Yo,[]),this.state=t.state||rte(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){pe(this,Yo).includes(t)||(pe(this,Yo).push(t),this.clearGcTimeout(),pe(this,qa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){lt(this,Yo,pe(this,Yo).filter(r=>r!==t)),this.scheduleGc(),pe(this,qa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){pe(this,Yo).length||(this.state.status==="pending"?this.scheduleGc():pe(this,qa).remove(this))}continue(){var t;return((t=pe(this,$d))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,l,c,u,d,f,h,m,g,p,v,y,w,b,_,S,k,j,E;const r=()=>{Xt(this,Xo,Lc).call(this,{type:"continue"})};lt(this,$d,KB({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,A)=>{Xt(this,Xo,Lc).call(this,{type:"failed",failureCount:N,error:A})},onPause:()=>{Xt(this,Xo,Lc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,qa).canRun(this)}));const n=this.state.status==="pending",a=!pe(this,$d).canStart();try{if(n)r();else{Xt(this,Xo,Lc).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=pe(this,qa).config).onMutate)==null?void 0:i.call(s,t,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));A!==this.state.context&&Xt(this,Xo,Lc).call(this,{type:"pending",context:A,variables:t,isPaused:a})}const N=await pe(this,$d).start();return await((d=(u=pe(this,qa).config).onSuccess)==null?void 0:d.call(u,N,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,t,this.state.context)),await((g=(m=pe(this,qa).config).onSettled)==null?void 0:g.call(m,N,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,N,null,t,this.state.context)),Xt(this,Xo,Lc).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(y=pe(this,qa).config).onError)==null?void 0:w.call(y,N,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,N,t,this.state.context)),await((k=(S=pe(this,qa).config).onSettled)==null?void 0:k.call(S,void 0,N,this.state.variables,this.state.context,this)),await((E=(j=this.options).onSettled)==null?void 0:E.call(j,void 0,N,t,this.state.context)),N}finally{Xt(this,Xo,Lc).call(this,{type:"error",error:N})}}finally{pe(this,qa).runNext(this)}}},Yo=new WeakMap,qa=new WeakMap,$d=new WeakMap,Xo=new WeakSet,Lc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),na.batch(()=>{pe(this,Yo).forEach(n=>{n.onMutationUpdate(t)}),pe(this,qa).notify({mutation:this,type:"updated",action:t})})},S8);function rte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wl,so,Yv,j8,nte=(j8=class extends nx{constructor(t={}){super();Et(this,Wl);Et(this,so);Et(this,Yv);this.config=t,lt(this,Wl,new Set),lt(this,so,new Map),lt(this,Yv,0)}build(t,r,n){const a=new tte({mutationCache:this,mutationId:++Qx(this,Yv)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){pe(this,Wl).add(t);const r=vy(t);if(typeof r=="string"){const n=pe(this,so).get(r);n?n.push(t):pe(this,so).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(pe(this,Wl).delete(t)){const r=vy(t);if(typeof r=="string"){const n=pe(this,so).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&pe(this,so).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=vy(t);if(typeof r=="string"){const n=pe(this,so).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=vy(t);if(typeof r=="string"){const a=(n=pe(this,so).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){na.batch(()=>{pe(this,Wl).forEach(t=>{this.notify({type:"removed",mutation:t})}),pe(this,Wl).clear(),pe(this,so).clear()})}getAll(){return Array.from(pe(this,Wl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>uR(r,n))}findAll(t={}){return this.getAll().filter(r=>uR(t,r))}notify(t){na.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return na.batch(()=>Promise.all(t.map(r=>r.continue().catch(xs))))}},Wl=new WeakMap,so=new WeakMap,Yv=new WeakMap,j8);function vy(e){var t;return(t=e.options.scope)==null?void 0:t.id}function hR(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=WB(t.options,t.fetchOptions),w=async(b,_,S)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const j=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v(D),D})(),E=await y(j),{maxPages:N}=t.options,A=S?Hee:Wee;return{pages:A(b.pages,E,N),pageParams:A(b.pageParams,_,N)}};if(a&&s.length){const b=a==="backward",_=b?ate:mR,S={pages:s,pageParams:i},k=_(n,S);l=await w(S,k,b)}else{const b=e??s.length;do{const _=c===0?i[0]??n.initialPageParam:mR(n,l);if(c>0&&_==null)break;l=await w(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function mR(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ate(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var nn,tu,ru,um,dm,nu,fm,hm,k8,ste=(k8=class{constructor(e={}){Et(this,nn);Et(this,tu);Et(this,ru);Et(this,um);Et(this,dm);Et(this,nu);Et(this,fm);Et(this,hm);lt(this,nn,e.queryCache||new ete),lt(this,tu,e.mutationCache||new nte),lt(this,ru,e.defaultOptions||{}),lt(this,um,new Map),lt(this,dm,new Map),lt(this,nu,0)}mount(){Qx(this,nu)._++,pe(this,nu)===1&&(lt(this,fm,lA.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,nn).onFocus())})),lt(this,hm,aw.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,nn).onOnline())})))}unmount(){var e,t;Qx(this,nu)._--,pe(this,nu)===0&&((e=pe(this,fm))==null||e.call(this),lt(this,fm,void 0),(t=pe(this,hm))==null||t.call(this),lt(this,hm,void 0))}isFetching(e){return pe(this,nn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return pe(this,tu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,nn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=pe(this,nn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(_u(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return pe(this,nn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=pe(this,nn).get(n.queryHash),s=a==null?void 0:a.state.data,i=Vee(t,s);if(i!==void 0)return pe(this,nn).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return na.batch(()=>pe(this,nn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,nn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=pe(this,nn);na.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=pe(this,nn);return na.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=na.batch(()=>pe(this,nn).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(xs).catch(xs)}invalidateQueries(e,t={}){return na.batch(()=>(pe(this,nn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=na.batch(()=>pe(this,nn).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(xs)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=pe(this,nn).build(this,t);return r.isStaleByTime(_u(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xs).catch(xs)}fetchInfiniteQuery(e){return e.behavior=hR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xs).catch(xs)}ensureInfiniteQueryData(e){return e.behavior=hR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return aw.isOnline()?pe(this,tu).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,nn)}getMutationCache(){return pe(this,tu)}getDefaultOptions(){return pe(this,ru)}setDefaultOptions(e){lt(this,ru,e)}setQueryDefaults(e,t){pe(this,um).set(zg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...pe(this,um).values()],r={};return t.forEach(n=>{Wg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){pe(this,dm).set(zg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...pe(this,dm).values()],r={};return t.forEach(n=>{Wg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...pe(this,ru).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=iA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===oA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...pe(this,ru).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){pe(this,nn).clear(),pe(this,tu).clear()}},nn=new WeakMap,tu=new WeakMap,ru=new WeakMap,um=new WeakMap,dm=new WeakMap,nu=new WeakMap,fm=new WeakMap,hm=new WeakMap,k8),ps,Jt,Xv,Ka,Bd,mm,au,su,Jv,pm,gm,Ud,Vd,iu,vm,pr,R0,hN,mN,pN,gN,vN,xN,yN,XB,N8,ite=(N8=class extends nx{constructor(t,r){super();Et(this,pr);Et(this,ps);Et(this,Jt);Et(this,Xv);Et(this,Ka);Et(this,Bd);Et(this,mm);Et(this,au);Et(this,su);Et(this,Jv);Et(this,pm);Et(this,gm);Et(this,Ud);Et(this,Vd);Et(this,iu);Et(this,vm,new Set);this.options=r,lt(this,ps,t),lt(this,su,null),lt(this,au,fN()),this.options.experimental_prefetchInRender||pe(this,au).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,Jt).addObserver(this),pR(pe(this,Jt),this.options)?Xt(this,pr,R0).call(this):this.updateResult(),Xt(this,pr,gN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wN(pe(this,Jt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wN(pe(this,Jt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xt(this,pr,vN).call(this),Xt(this,pr,xN).call(this),pe(this,Jt).removeObserver(this)}setOptions(t){const r=this.options,n=pe(this,Jt);if(this.options=pe(this,ps).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ni(this.options.enabled,pe(this,Jt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xt(this,pr,yN).call(this),pe(this,Jt).setOptions(this.options),r._defaulted&&!cN(this.options,r)&&pe(this,ps).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,Jt),observer:this});const a=this.hasListeners();a&&gR(pe(this,Jt),n,this.options,r)&&Xt(this,pr,R0).call(this),this.updateResult(),a&&(pe(this,Jt)!==n||Ni(this.options.enabled,pe(this,Jt))!==Ni(r.enabled,pe(this,Jt))||_u(this.options.staleTime,pe(this,Jt))!==_u(r.staleTime,pe(this,Jt)))&&Xt(this,pr,hN).call(this);const s=Xt(this,pr,mN).call(this);a&&(pe(this,Jt)!==n||Ni(this.options.enabled,pe(this,Jt))!==Ni(r.enabled,pe(this,Jt))||s!==pe(this,iu))&&Xt(this,pr,pN).call(this,s)}getOptimisticResult(t){const r=pe(this,ps).getQueryCache().build(pe(this,ps),t),n=this.createResult(r,t);return lte(this,n)&&(lt(this,Ka,n),lt(this,mm,this.options),lt(this,Bd,pe(this,Jt).state)),n}getCurrentResult(){return pe(this,Ka)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){pe(this,vm).add(t)}getCurrentQuery(){return pe(this,Jt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=pe(this,ps).defaultQueryOptions(t),n=pe(this,ps).getQueryCache().build(pe(this,ps),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Xt(this,pr,R0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,Ka)))}createResult(t,r){var N;const n=pe(this,Jt),a=this.options,s=pe(this,Ka),i=pe(this,Bd),l=pe(this,mm),u=t!==n?t.state:pe(this,Xv),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const A=this.hasListeners(),D=!A&&pR(t,r),T=A&&gR(t,n,r,a);(D||T)&&(f={...f,...YB(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let A;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=s.data,y=!0):A=typeof r.placeholderData=="function"?r.placeholderData((N=pe(this,gm))==null?void 0:N.state.data,pe(this,gm)):r.placeholderData,A!==void 0&&(v="success",m=dN(s==null?void 0:s.data,A,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(i==null?void 0:i.data)&&r.select===pe(this,Jv))m=pe(this,pm);else try{lt(this,Jv,r.select),m=r.select(m),m=dN(s==null?void 0:s.data,m,r),lt(this,pm,m),lt(this,su,null)}catch(A){lt(this,su,A)}pe(this,su)&&(g=pe(this,su),m=pe(this,pm),p=Date.now(),v="error");const w=f.fetchStatus==="fetching",b=v==="pending",_=v==="error",S=b&&w,k=m!==void 0,E={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:_,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:_&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&k,isStale:cA(t,r),refetch:this.refetch,promise:pe(this,au),isEnabled:Ni(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=U=>{E.status==="error"?U.reject(E.error):E.data!==void 0&&U.resolve(E.data)},D=()=>{const U=lt(this,au,E.promise=fN());A(U)},T=pe(this,au);switch(T.status){case"pending":t.queryHash===n.queryHash&&A(T);break;case"fulfilled":(E.status==="error"||E.data!==T.value)&&D();break;case"rejected":(E.status!=="error"||E.error!==T.reason)&&D();break}}return E}updateResult(){const t=pe(this,Ka),r=this.createResult(pe(this,Jt),this.options);if(lt(this,Bd,pe(this,Jt).state),lt(this,mm,this.options),pe(this,Bd).data!==void 0&&lt(this,gm,pe(this,Jt)),cN(r,t))return;lt(this,Ka,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!pe(this,vm).size)return!0;const i=new Set(s??pe(this,vm));return this.options.throwOnError&&i.add("error"),Object.keys(pe(this,Ka)).some(l=>{const c=l;return pe(this,Ka)[c]!==t[c]&&i.has(c)})};Xt(this,pr,XB).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xt(this,pr,gN).call(this)}},ps=new WeakMap,Jt=new WeakMap,Xv=new WeakMap,Ka=new WeakMap,Bd=new WeakMap,mm=new WeakMap,au=new WeakMap,su=new WeakMap,Jv=new WeakMap,pm=new WeakMap,gm=new WeakMap,Ud=new WeakMap,Vd=new WeakMap,iu=new WeakMap,vm=new WeakMap,pr=new WeakSet,R0=function(t){Xt(this,pr,yN).call(this);let r=pe(this,Jt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(xs)),r},hN=function(){Xt(this,pr,vN).call(this);const t=_u(this.options.staleTime,pe(this,Jt));if(nf||pe(this,Ka).isStale||!lN(t))return;const n=VB(pe(this,Ka).dataUpdatedAt,t)+1;lt(this,Ud,setTimeout(()=>{pe(this,Ka).isStale||this.updateResult()},n))},mN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,Jt)):this.options.refetchInterval)??!1},pN=function(t){Xt(this,pr,xN).call(this),lt(this,iu,t),!(nf||Ni(this.options.enabled,pe(this,Jt))===!1||!lN(pe(this,iu))||pe(this,iu)===0)&&lt(this,Vd,setInterval(()=>{(this.options.refetchIntervalInBackground||lA.isFocused())&&Xt(this,pr,R0).call(this)},pe(this,iu)))},gN=function(){Xt(this,pr,hN).call(this),Xt(this,pr,pN).call(this,Xt(this,pr,mN).call(this))},vN=function(){pe(this,Ud)&&(clearTimeout(pe(this,Ud)),lt(this,Ud,void 0))},xN=function(){pe(this,Vd)&&(clearInterval(pe(this,Vd)),lt(this,Vd,void 0))},yN=function(){const t=pe(this,ps).getQueryCache().build(pe(this,ps),this.options);if(t===pe(this,Jt))return;const r=pe(this,Jt);lt(this,Jt,t),lt(this,Xv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},XB=function(t){na.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(pe(this,Ka))}),pe(this,ps).getQueryCache().notify({query:pe(this,Jt),type:"observerResultsUpdated"})})},N8);function ote(e,t){return Ni(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function pR(e,t){return ote(e,t)||e.state.data!==void 0&&wN(e,t,t.refetchOnMount)}function wN(e,t,r){if(Ni(t.enabled,e)!==!1&&_u(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&cA(e,t)}return!1}function gR(e,t,r,n){return(e!==t||Ni(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&cA(e,r)}function cA(e,t){return Ni(t.enabled,e)!==!1&&e.isStaleByTime(_u(t.staleTime,e))}function lte(e,t){return!cN(e.getCurrentResult(),t)}var JB=x.createContext(void 0),cte=e=>{const t=x.useContext(JB);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ute=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(JB.Provider,{value:e,children:t})),QB=x.createContext(!1),dte=()=>x.useContext(QB);QB.Provider;function fte(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hte=x.createContext(fte()),mte=()=>x.useContext(hte),pte=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},gte=e=>{x.useEffect(()=>{e.clearReset()},[e])},vte=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||qee(r,[e.error,n])),xte=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},yte=(e,t)=>e.isLoading&&e.isFetching&&!t,wte=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,vR=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function bte(e,t,r){var f,h,m,g,p;const n=dte(),a=mte(),s=cte(),i=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",xte(i),pte(i,a),gte(a);const l=!s.getQueryCache().get(i.queryHash),[c]=x.useState(()=>new t(s,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=d?c.subscribe(na.batchCalls(v)):xs;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(i)},[i,c]),wte(i,u))throw vR(i,c,a);if(vte({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((g=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,i,u),i.experimental_prefetchInRender&&!nf&&yte(u,n)){const v=l?vR(i,c,a):(p=s.getQueryCache().get(i.queryHash))==null?void 0:p.promise;v==null||v.catch(xs).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function uA(e,t){return bte(e,ite)}const Dt=e=>typeof e=="string",u0=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},xR=e=>e==null?"":""+e,_te=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},Ste=/###/g,yR=e=>e&&e.indexOf("###")>-1?e.replace(Ste,"."):e,wR=e=>!e||Dt(e),eg=(e,t,r)=>{const n=Dt(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(wR(e))return{};const s=yR(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return wR(e)?{}:{obj:e,k:yR(n[a])}},bR=(e,t,r)=>{const{obj:n,k:a}=eg(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],i=t.slice(0,t.length-1),l=eg(e,i,Object);for(;l.obj===void 0&&i.length;)s=`${i[i.length-1]}.${s}`,i=i.slice(0,i.length-1),l=eg(e,i,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},jte=(e,t,r,n)=>{const{obj:a,k:s}=eg(e,t,Object);a[s]=a[s]||[],a[s].push(r)},sw=(e,t)=>{const{obj:r,k:n}=eg(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},kte=(e,t,r)=>{const n=sw(e,r);return n!==void 0?n:sw(t,r)},ZB=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Dt(e[n])||e[n]instanceof String||Dt(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):ZB(e[n],t[n],r):e[n]=t[n]);return e},Wf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Nte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ete=e=>Dt(e)?e.replace(/[&<>"'\/]/g,t=>Nte[t]):e;class Cte{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Tte=[" ",",","?","!",";"],Ate=new Cte(20),Ote=(e,t,r)=>{t=t||"",r=r||"";const n=Tte.filter(i=>t.indexOf(i)<0&&r.indexOf(i)<0);if(n.length===0)return!0;const a=Ate.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let s=!a.test(e);if(!s){const i=e.indexOf(r);i>0&&!a.test(e.substring(0,i))&&(s=!0)}return s},bN=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let i,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],i=a[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=i}return a},Hg=e=>e==null?void 0:e.replace("_","-"),Pte={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class iw{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||Pte,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Dt(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new iw(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new iw(this.logger,t)}}var el=new iw;let g_=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let i=0;i<s;i++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let i=0;i<s;i++)a.apply(a,[t,...r])})}};class _R extends g_{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,i=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Dt(n)&&s?l.push(...n.split(s)):l.push(n)));const c=sw(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!i||!Dt(n)?c:bN((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),bR(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(Dt(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,i={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=sw(this.data,l)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?ZB(c,n,s):c={...c,...n},bR(this.data,l,c),i.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var eU={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var i;t=((i=this.processors[s])==null?void 0:i.process(t,r,n,a))??t}),t}};const tU=Symbol("i18next/PATH_KEY");function Dte(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===tU?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function _N(e,t){const{[tU]:r}=e(Dte());return r.join((t==null?void 0:t.keySeparator)??".")}const SR={},Vj=e=>!Dt(e)&&typeof e!="boolean"&&typeof e!="number";class ow extends g_{constructor(t,r={}){super(),_te(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=el.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=Vj(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const i=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Ote(t,n,a);if(i&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Dt(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:Dt(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=_N(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let g=m==null?void 0:m.res;const p=(m==null?void 0:m.usedKey)||l,v=(m==null?void 0:m.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],w=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,_=a.count!==void 0&&!Dt(a.count),S=ow.hasDefaultValue(a),k=_?this.pluralResolver.getSuffix(f,a.count,a):"",j=a.ordinal&&_?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",E=_&&!a.ordinal&&a.count===0,N=E&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${k}`]||a[`defaultValue${j}`]||a.defaultValue;let A=g;b&&!g&&S&&(A=N);const D=Vj(A),T=Object.prototype.toString.apply(A);if(b&&A&&D&&y.indexOf(T)<0&&!(Dt(w)&&Array.isArray(A))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,A,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=U,m.usedParams=this.getUsedParamsDetails(a),m):U}if(i){const U=Array.isArray(A),q=U?[]:{},M=U?v:p;for(const I in A)if(Object.prototype.hasOwnProperty.call(A,I)){const V=`${M}${i}${I}`;S&&!g?q[I]=this.translate(V,{...a,defaultValue:Vj(N)?N[I]:void 0,joinArrays:!1,ns:c}):q[I]=this.translate(V,{...a,joinArrays:!1,ns:c}),q[I]===V&&(q[I]=A[I])}g=q}}else if(b&&Dt(w)&&Array.isArray(g))g=g.join(w),g&&(g=this.extendTranslation(g,t,a,n));else{let U=!1,q=!1;!this.isValidLookup(g)&&S&&(U=!0,g=N),this.isValidLookup(g)||(q=!0,g=l);const I=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:g,V=S&&N!==g&&this.options.updateMissing;if(q||U||V){if(this.logger.log(V?"updateKey":"missingKey",f,u,l,V?N:g),i){const Z=this.resolve(l,{...a,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const R=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&R&&R[0])for(let Z=0;Z<R.length;Z++)F.push(R[Z]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(a.lng||this.language):F.push(a.lng||this.language);const re=(Z,C,K)=>{var z;const B=S&&K!==g?K:I;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,u,C,B,V,a):(z=this.backendConnector)!=null&&z.saveMissing&&this.backendConnector.saveMissing(Z,u,C,B,V,a),this.emit("missingKey",Z,u,C,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?F.forEach(Z=>{const C=this.pluralResolver.getSuffixes(Z,a);E&&a[`defaultValue${this.options.pluralSeparator}zero`]&&C.indexOf(`${this.options.pluralSeparator}zero`)<0&&C.push(`${this.options.pluralSeparator}zero`),C.forEach(K=>{re([Z],l+K,a[`defaultValue${K}`]||N)})}):re(F,l,N))}g=this.extendTranslation(g,t,a,m,n),q&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(q||U)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,U?g:void 0,a))}return s?(m.res=g,m.usedParams=this.getUsedParamsDetails(a),m):g}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Dt(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=n.replace&&!Dt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),g=m&&m.length;f<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):this.translate(...m,r),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,l=Dt(i)?[i]:i;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=eU.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,i,l;return Dt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Dt(r.count),m=h&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(Dt(r.context)||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var y,w;this.isValidLookup(n)||(l=v,!SR[`${p[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(l))&&(SR[`${p[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(b=>{var k;if(this.isValidLookup(n))return;i=b;const _=[d];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,b,v,r);else{let j;h&&(j=this.pluralResolver.getSuffix(b,r.count,r));const E=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&j.indexOf(N)===0&&_.push(d+j.replace(N,this.options.pluralSeparator)),_.push(d+j),m&&_.push(d+E)),g){const A=`${d}${this.options.contextSeparator||"_"}${r.context}`;_.push(A),h&&(r.ordinal&&j.indexOf(N)===0&&_.push(A+j.replace(N,this.options.pluralSeparator)),_.push(A+j),m&&_.push(A+E))}}let S;for(;S=_.pop();)this.isValidLookup(n)||(s=S,n=this.getResource(b,v,S,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:i,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Dt(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class jR{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=el.create("languageUtils")}getScriptPartFromCode(t){if(t=Hg(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Hg(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Dt(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Dt(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=i=>{i&&(this.isSupportedCode(i)?a.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return Dt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Dt(t)&&s(this.formatLanguageCode(t)),n.forEach(i=>{a.indexOf(i)<0&&s(this.formatLanguageCode(i))}),a}}const kR={zero:0,one:1,two:2,few:3,many:4,other:5},NR={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Rte{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=el.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=Hg(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),NR;if(!t.match(/-|_/))return NR;const c=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(c,r)}return this.pluralRulesCache[s]=i,i}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>kR[a]-kR[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const ER=(e,t,r,n=".",a=!0)=>{let s=kte(e,t,r);return!s&&a&&Dt(r)&&(s=bN(e,r,n),s===void 0&&(s=bN(t,r,n))),s},zj=e=>e.replace(/\$/g,"$$$$");class Ite{constructor(t={}){var r;this.logger=el.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:w}=t.interpolation;this.escape=r!==void 0?r:Ete,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?Wf(s):i||"{{",this.suffix=l?Wf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?Wf(h):m||Wf("$t("),this.nestingSuffix=g?Wf(g):p||Wf(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var m;let s,i,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const w=ER(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,n,{...a,...r,interpolationkey:g}):w}const p=g.split(this.formatSeparator),v=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(ER(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>zj(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?zj(this.escape(g)):zj(g)}].forEach(g=>{for(l=0;s=g.regex.exec(t);){const p=s[1].trim();if(i=u(p),i===void 0)if(typeof d=="function"){const y=d(t,s,a);i=Dt(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))i="";else if(f){i=s[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),i="";else!Dt(i)&&!this.useRawValueToEscape&&(i=xR(i));const v=g.safeValue(i);if(t=t.replace(s[0],v),f?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,i;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,i);const m=h.match(/'/g),g=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),u&&(i={...u,...i})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${d}${h}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];i={...n},i=i.replace&&!Dt(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),i),i),s&&a[0]===t&&!Dt(s))return s;Dt(s)||(s=xR(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const Mte=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(i=>{if(i){const[l,...c]=i.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},CR=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const i=n+JSON.stringify(s);let l=t[i];return l||(l=e(Hg(n),a),t[i]=l),l(r)}},Fte=e=>(t,r,n)=>e(Hg(r),n)(t);class Lte{constructor(t={}){this.logger=el.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?CR:Fte;this.formats={number:n((a,s)=>{const i=new Intl.NumberFormat(a,{...s});return l=>i.format(l)}),currency:n((a,s)=>{const i=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>i.format(l)}),datetime:n((a,s)=>{const i=new Intl.DateTimeFormat(a,{...s});return l=>i.format(l)}),relativetime:n((a,s)=>{const i=new Intl.RelativeTimeFormat(a,{...s});return l=>i.format(l,s.range||"day")}),list:n((a,s)=>{const i=new Intl.ListFormat(a,{...s});return l=>i.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=CR(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=Mte(c);if(this.formats[u]){let h=l;try{const m=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},g=m.locale||m.lng||a.locale||a.lng||n;h=this.formats[u](l,g,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const $te=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Bte extends g_{constructor(t,r,n,a={}){var s,i;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=el.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(i=(s=this.backend)==null?void 0:s.init)==null||i.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},i={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?i[h]===void 0&&(i[h]=!0):(this.state[h]=1,d=!1,i[h]===void 0&&(i[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],i=a[1];r&&this.emit("failedLoading",s,i,r),!r&&n&&this.store.addResourceBundle(s,i,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{jte(c.loaded,[s],i),$te(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,i){if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:i});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,i)},s);return}i(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Dt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Dt(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(i=>{this.loadOne(i)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,i),!i&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,i,l)})}saveMissing(t,r,n,a,s,i={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const m={...i,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let p;g.length===5?p=g(t,r,n,a,m):p=g(t,r,n,a),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else g(t,r,n,a,l,m)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const TR=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Dt(e[1])&&(t.defaultValue=e[1]),Dt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),AR=e=>{var t,r;return Dt(e.ns)&&(e.ns=[e.ns]),Dt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Dt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},xy=()=>{},Ute=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class tg extends g_{constructor(t={},r){if(super(),this.options=AR(t),this.services={},this.logger=el,this.modules={external:[]},Ute(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Dt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=TR();this.options={...n,...this.options,...AR(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?el.init(a(this.modules.logger),this.options):el.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Lte;const d=new jR(this.options);this.store=new _R(this.options.resources,this.options);const f=this.services;f.logger=el,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Rte(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Ite(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Bte(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new ow(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=xy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=u0(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=xy){var s,i;let n=r;const a=Dt(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(i=(s=this.options.preload)==null?void 0:s.forEach)==null||i.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=u0();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=xy),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&eU.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=u0();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},i=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Dt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Dt(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(t),n}getFixedT(t,r,n){const a=(s,i,...l)=>{let c;typeof i!="object"?c=this.options.overloadTranslationOptionHandler([s,i].concat(l)):c={...i},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=_N(f,{...this.options,...i})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=_N(s,{...this.options,...i})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Dt(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,t)&&(!a||i(s,t)))}loadNamespaces(t,r){const n=u0();return this.options.ns?(Dt(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=u0();Dt(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(i=>a.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return s.length?(this.options.preload=a.concat(s),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const l=i.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new jR(TR());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new tg(t,r);return n.createInstance=tg.createInstance,n}cloneInstance(t={},r=xy){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new tg(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new _R(l,a),s.services.resourceStore=s.store}return s.translator=new ow(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qr=tg.createInstance();Qr.createInstance;Qr.dir;Qr.init;Qr.loadResources;Qr.reloadResources;Qr.use;Qr.changeLanguage;Qr.getFixedT;Qr.t;Qr.exists;Qr.setDefaultNamespace;Qr.hasLoadedNamespace;Qr.loadNamespaces;Qr.loadLanguages;const Vte=(e,t,r,n)=>{var s,i,l,c;const a=[r,{code:t,...n||{}}];if((i=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&i.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);af(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},OR={},rU=(e,t,r,n)=>{af(r)&&OR[r]||(af(r)&&(OR[r]=new Date),Vte(e,t,r,n))},nU=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},SN=(e,t,r)=>{e.loadNamespaces(t,nU(e,r))},PR=(e,t,r,n)=>{if(af(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return SN(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,nU(e,n))},zte=(e,t,r={})=>!t.languages||!t.languages.length?(rU(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),af=e=>typeof e=="string",Wte=e=>typeof e=="object"&&e!==null,Hte=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,qte={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Kte=e=>qte[e],Gte=e=>e.replace(Hte,Kte);let jN={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Gte};const Yte=(e={})=>{jN={...jN,...e}},Xte=()=>jN;let aU;const Jte=e=>{aU=e},Qte=()=>aU,Zte={type:"3rdParty",init(e){Yte(e.options.react),Jte(e)}},sU=x.createContext();class ere{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var iU={exports:{}},oU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km=x;function tre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rre=typeof Object.is=="function"?Object.is:tre,nre=km.useState,are=km.useEffect,sre=km.useLayoutEffect,ire=km.useDebugValue;function ore(e,t){var r=t(),n=nre({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return sre(function(){a.value=r,a.getSnapshot=t,Wj(a)&&s({inst:a})},[e,r,t]),are(function(){return Wj(a)&&s({inst:a}),e(function(){Wj(a)&&s({inst:a})})},[e]),ire(r),r}function Wj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rre(e,r)}catch{return!0}}function lre(e,t){return t()}var cre=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lre:ore;oU.useSyncExternalStore=km.useSyncExternalStore!==void 0?km.useSyncExternalStore:cre;iU.exports=oU;var lU=iU.exports;const ure=(e,t)=>af(t)?t:Wte(t)&&af(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,dre={t:ure,ready:!1},fre=()=>()=>{},Ht=(e,t={})=>{var j,E;const{i18n:r}=t,{i18n:n,defaultNS:a}=x.useContext(sU)||{},s=r||n||Qte();s&&!s.reportNamespaces&&(s.reportNamespaces=new ere),s||rU(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=x.useMemo(()=>{var N;return{...Xte(),...(N=s==null?void 0:s.options)==null?void 0:N.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=i,u=x.useMemo(()=>{var A;const N=a||((A=s==null?void 0:s.options)==null?void 0:A.defaultNS);return af(N)?[N]:N||["translation"]},[e,a,s]);(E=(j=s==null?void 0:s.reportNamespaces)==null?void 0:j.addUsedNamespaces)==null||E.call(j,u);const d=x.useRef(0),f=x.useCallback(N=>{if(!s)return fre;const{bindI18n:A,bindI18nStore:D}=i,T=()=>{d.current+=1,N()};return A&&s.on(A,T),D&&s.store.on(D,T),()=>{A&&A.split(" ").forEach(U=>s.off(U,T)),D&&D.split(" ").forEach(U=>s.store.off(U,T))}},[s,i]),h=x.useRef(),m=x.useCallback(()=>{if(!s)return dre;const N=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(M=>zte(M,s,i)),A=t.lng||s.language,D=d.current,T=h.current;if(T&&T.ready===N&&T.lng===A&&T.keyPrefix===c&&T.revision===D)return T;const q={t:s.getFixedT(A,i.nsMode==="fallback"?u:u[0],c),ready:N,lng:A,keyPrefix:c,revision:D};return h.current=q,q},[s,u,c,i,t.lng]),[g,p]=x.useState(0),{t:v,ready:y}=lU.useSyncExternalStore(f,m,m);x.useEffect(()=>{if(s&&!y&&!l){const N=()=>p(A=>A+1);t.lng?PR(s,t.lng,u,N):SN(s,u,N)}},[s,t.lng,u,y,l,g]);const w=s||{},b=x.useRef(null),_=x.useRef(),S=N=>{const A=Object.getOwnPropertyDescriptors(N);A.__original&&delete A.__original;const D=Object.create(Object.getPrototypeOf(N),A);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:N,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},k=x.useMemo(()=>{const N=w,A=N==null?void 0:N.language;let D=N;N&&(b.current&&b.current.__original===N?_.current!==A?(D=S(N),b.current=D,_.current=A):D=b.current:(D=S(N),b.current=D,_.current=A));const T=[v,D,y];return T.t=v,T.i18n=D,T.ready=y,T},[v,w,y,w.resolvedLanguage,w.language,w.languages]);if(s&&l&&!y)throw new Promise(N=>{const A=()=>N();t.lng?PR(s,t.lng,u,A):SN(s,u,A)});return k};function hre({i18n:e,defaultNS:t,children:r}){const n=x.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return x.createElement(sU.Provider,{value:n},r)}const mre={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions"},pre={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},gre={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},vre={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to continue",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Signing in...",signInButton:"Sign In",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google"},xre={welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",search:"Search",filter:"Filter",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},yre={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},wre={title:"Dashboard",subtitle:"Welcome back! Here's an overview of your projects.",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"Active projects",clients:"Clients",totalClients:"Total clients",teamMembers:"Team Members",activeUsers:"Active users",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",retry:"Retry",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},bre={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},_re={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},Sre={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},jre={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},kre={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},Nre={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},Ere={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},Cre={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},Tre={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},Are={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},Ore={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Pre={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},Dre={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},Rre={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",bulkImport:"Bulk Import",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},Ire={company:"Company",city:"City",country:"Country",activity:"Activity",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",uploadQuotation:"Upload Quotation",description:"Description",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},Mre={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},Fre={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},Lre={navigation:mre,buttons:pre,forms:gre,auth:vre,common:xre,status:yre,dashboard:wre,leads:bre,notes:_re,projects:Sre,settings:jre,chat:kre,tickets:Nre,teams:Ere,tasks:Cre,landing:Tre,users:Are,clients:Ore,employeeDashboard:Pre,chats:Dre,surveys:Rre,mleads:Ire,mprojects:Mre,requests:Fre},$re={home:"",dashboard:" ",projects:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:""},Bre={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},Ure={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},Vre={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    "},zre={welcome:"",loading:" ...",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noRecordsFound:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",created:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" ",page:"",of:""},Wre={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},Hre={title:" ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},qre={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},Kre={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},Gre={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},Yre={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},Xre={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},Jre={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},Qre={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},Zre={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},ene={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},tne={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},rne={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},nne={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},ane={title:"",subtitle:"    ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},sne={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},ine={company:"",city:"",country:"",activity:"",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",uploadQuotation:" ",noContactsFound:"     ",allActivities:" ",allCountries:" ",allCities:" ",allSystems:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},one={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},lne={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},cne={navigation:$re,buttons:Bre,forms:Ure,auth:Vre,common:zre,status:Wre,dashboard:Hre,leads:qre,notes:Kre,projects:Gre,chat:Yre,tickets:Xre,teams:Jre,tasks:Qre,landing:Zre,users:ene,clients:tne,employeeDashboard:rne,chats:nne,surveys:ane,settings:sne,mleads:ine,mprojects:one,requests:lne},une={en:{translation:Lre},ar:{translation:cne}};Qr.use(Zte).init({resources:une,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Te=(e,t)=>{if(Qr.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},hl=(e,t)=>{const r=Qr.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},Ur=()=>Qr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}var cu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cu||(cu={}));const DR="popstate";function dne(e){e===void 0&&(e={});function t(a,s){let{pathname:i="/",search:l="",hash:c=""}=Ef(a.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),kN("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let i=a.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:lw(s))}function n(a,s){dA(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return hne(t,r,n,e)}function vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fne(){return Math.random().toString(36).substr(2,8)}function RR(e,t){return{usr:e.state,key:e.key,idx:t}}function kN(e,t,r,n){return r===void 0&&(r=null),qg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ef(t):t,{state:r,key:t&&t.key||n||fne()})}function lw(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ef(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hne(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=cu.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(qg({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=cu.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:y})}function h(v,y){l=cu.Push;let w=kN(p.location,v,y);r&&r(w,v),u=d()+1;let b=RR(w,u),_=p.createHref(w);try{i.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}s&&c&&c({action:l,location:p.location,delta:1})}function m(v,y){l=cu.Replace;let w=kN(p.location,v,y);r&&r(w,v),u=d();let b=RR(w,u),_=p.createHref(w);i.replaceState(b,"",_),s&&c&&c({action:l,location:p.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:lw(v);return w=w.replace(/ $/,"%20"),vn(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(DR,f),c=v,()=>{a.removeEventListener(DR,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return i.go(v)}};return p}var IR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(IR||(IR={}));function mne(e,t,r){return r===void 0&&(r="/"),pne(e,t,r,!1)}function pne(e,t,r,n){let a=typeof t=="string"?Ef(t):t,s=fA(a.pathname||"/",r);if(s==null)return null;let i=cU(e);gne(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=Ene(s);l=kne(i[c],u,n)}return l}function cU(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(vn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Su([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(vn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cU(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Sne(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of uU(s.path))a(s,i,c)}),t}function uU(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=uU(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function gne(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:jne(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vne=/^:[\w-]+$/,xne=3,yne=2,wne=1,bne=10,_ne=-2,MR=e=>e==="*";function Sne(e,t){let r=e.split("/"),n=r.length;return r.some(MR)&&(n+=_ne),t&&(n+=yne),r.filter(a=>!MR(a)).reduce((a,s)=>a+(vne.test(s)?xne:s===""?wne:bne),n)}function jne(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function kne(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=FR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=FR({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Su([s,f.pathname]),pathnameBase:One(Su([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Su([s,f.pathnameBase]))}return i}function FR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Nne(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function Nne(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),dA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Ene(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Cne(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ef(e):e;return{pathname:r?r.startsWith("/")?r:Tne(r,t):t,search:Pne(n),hash:Dne(a)}}function Tne(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Hj(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ane(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hA(e,t){let r=Ane(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mA(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ef(e):(a=qg({},e),vn(!a.pathname||!a.pathname.includes("?"),Hj("?","pathname","search",a)),vn(!a.pathname||!a.pathname.includes("#"),Hj("#","pathname","hash",a)),vn(!a.search||!a.search.includes("#"),Hj("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Cne(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Su=e=>e.join("/").replace(/\/\/+/g,"/"),One=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pne=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dne=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rne(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dU=["post","put","patch","delete"];new Set(dU);const Ine=["get",...dU];new Set(Ine);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(this,arguments)}const pA=x.createContext(null),Mne=x.createContext(null),Wu=x.createContext(null),v_=x.createContext(null),_l=x.createContext({outlet:null,matches:[],isDataRoute:!1}),fU=x.createContext(null);function Fne(e,t){let{relative:r}=t===void 0?{}:t;_p()||vn(!1);let{basename:n,navigator:a}=x.useContext(Wu),{hash:s,pathname:i,search:l}=mU(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Su([n,i])),a.createHref({pathname:c,search:l,hash:s})}function _p(){return x.useContext(v_)!=null}function Sl(){return _p()||vn(!1),x.useContext(v_).location}function hU(e){x.useContext(Wu).static||x.useLayoutEffect(e)}function Bs(){let{isDataRoute:e}=x.useContext(_l);return e?Zne():Lne()}function Lne(){_p()||vn(!1);let e=x.useContext(pA),{basename:t,future:r,navigator:n}=x.useContext(Wu),{matches:a}=x.useContext(_l),{pathname:s}=Sl(),i=JSON.stringify(hA(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return hU(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=mA(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Su([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}const $ne=x.createContext(null);function Bne(e){let t=x.useContext(_l).outlet;return t&&x.createElement($ne.Provider,{value:e},t)}function Une(){let{matches:e}=x.useContext(_l),t=e[e.length-1];return t?t.params:{}}function mU(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Wu),{matches:a}=x.useContext(_l),{pathname:s}=Sl(),i=JSON.stringify(hA(a,n.v7_relativeSplatPath));return x.useMemo(()=>mA(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function Vne(e,t){return zne(e,t)}function zne(e,t,r,n){_p()||vn(!1);let{navigator:a}=x.useContext(Wu),{matches:s}=x.useContext(_l),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Sl(),d;if(t){var f;let v=typeof t=="string"?Ef(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||vn(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=mne(e,{pathname:m}),p=Gne(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Su([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Su([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&p?x.createElement(v_.Provider,{value:{location:Kg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:cu.Pop}},p):p}function Wne(){let e=Qne(),t=Rne(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const Hne=x.createElement(Wne,null);class qne extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(_l.Provider,{value:this.props.routeContext},x.createElement(fU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kne(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(pA);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(_l.Provider,{value:t},n)}function Gne(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||vn(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Hne,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),w=()=>{let b;return m?b=p:g?b=v:f.route.Component?b=x.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,x.createElement(Kne,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(qne,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var pU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pU||{}),cw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cw||{});function Yne(e){let t=x.useContext(pA);return t||vn(!1),t}function Xne(e){let t=x.useContext(Mne);return t||vn(!1),t}function Jne(e){let t=x.useContext(_l);return t||vn(!1),t}function gU(e){let t=Jne(),r=t.matches[t.matches.length-1];return r.route.id||vn(!1),r.route.id}function Qne(){var e;let t=x.useContext(fU),r=Xne(cw.UseRouteError),n=gU(cw.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Zne(){let{router:e}=Yne(pU.UseNavigateStable),t=gU(cw.UseNavigateStable),r=x.useRef(!1);return hU(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Kg({fromRouteId:t},s)))},[e,t])}function eae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function NN(e){let{to:t,replace:r,state:n,relative:a}=e;_p()||vn(!1);let{future:s,static:i}=x.useContext(Wu),{matches:l}=x.useContext(_l),{pathname:c}=Sl(),u=Bs(),d=mA(t,hA(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function LR(e){return Bne(e.context)}function Cr(e){vn(!1)}function tae(e){let{basename:t="/",children:r=null,location:n,navigationType:a=cu.Pop,navigator:s,static:i=!1,future:l}=e;_p()&&vn(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:i,future:Kg({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=Ef(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=x.useMemo(()=>{let v=fA(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:x.createElement(Wu.Provider,{value:u},x.createElement(v_.Provider,{children:r,value:p}))}function rae(e){let{children:t,location:r}=e;return Vne(EN(t),r)}new Promise(()=>{});function EN(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,EN(n.props.children,s));return}n.type!==Cr&&vn(!1),!n.props.index||!n.props.children||vn(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=EN(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(this,arguments)}function nae(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function aae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sae(e,t){return e.button===0&&(!t||t==="_self")&&!aae(e)}const iae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oae="6";try{window.__reactRouterVersion=oae}catch{}const lae="startTransition",$R=pT[lae];function cae(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=dne({window:a,v5Compat:!0}));let i=s.current,[l,c]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&$R?$R(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.useEffect(()=>eae(n),[n]),x.createElement(tae,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const uae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TN=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=nae(t,iae),{basename:m}=x.useContext(Wu),g,p=!1;if(typeof u=="string"&&dae.test(u)&&(g=u,uae))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=fA(_.pathname,m);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let v=Fne(u,{relative:a}),y=fae(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||y(b)}return x.createElement("a",CN({},h,{href:g||v,onClick:p||s?n:w,ref:r,target:c}))});var BR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(BR||(BR={}));var UR;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(UR||(UR={}));function fae(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=t===void 0?{}:t,c=Bs(),u=Sl(),d=mU(e,{relative:i});return x.useCallback(f=>{if(sae(f,r)){f.preventDefault();let h=n!==void 0?n:lw(u)===lw(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,e,s,i,l])}const vU=x.createContext(void 0),hae=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[s,i]=x.useState(!0);x.useEffect(()=>{(()=>{try{const h=localStorage.getItem("authToken"),m=localStorage.getItem("authUser");if(h&&m){const g=JSON.parse(m);g&&g.role&&(g.role=g.role.toLowerCase()),a(h),r(g)}}catch(h){console.error("Failed to parse stored auth data:",h),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{i(!1)}})()},[]);const l=x.useCallback((f,h)=>{const m={id:h.userid||h.user_id||h.id||"unknown",email:h.Email||h.email||h.user_email||"",role:(h.user_role||(h.isAdmin?"admin":"employee")).toLowerCase(),profile:h};a(f),r(m),localStorage.setItem("authToken",f),localStorage.setItem("authUser",JSON.stringify(m))},[]),c=x.useCallback(()=>{a(null),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),u=x.useCallback(f=>!t||!t.role?!1:f.includes(t.role),[t]),d={user:t,token:n,isAuthenticated:!!t&&!!n,loading:s,login:l,logout:c,hasRole:u};return o.jsx(vU.Provider,{value:d,children:e})},Sr=()=>{const e=x.useContext(vU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},xU=x.createContext(void 0),mae=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],pae=({children:e})=>{const[t,r]=x.useState(Qr.language||"ar"),[n,a]=x.useState(Ur());x.useEffect(()=>{const l=c=>{r(c),a(Ur())};return Qr.on("languageChanged",l),()=>{Qr.off("languageChanged",l)}},[]);const i={currentLanguage:t,changeLanguage:async l=>{try{await Qr.changeLanguage(l),r(l),a(Ur())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:mae};return o.jsx(xU.Provider,{value:i,children:e})},mi=()=>{const e=x.useContext(xU);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},yU=x.createContext(void 0);function gae({children:e}){const[t,r]=x.useState([]);return o.jsx(yU.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function ax(){const e=x.useContext(yU);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var uw=["light","dark"],gA="(prefers-color-scheme: dark)",vae=typeof window>"u",vA=x.createContext(void 0),xae={setTheme:e=>{},themes:[]},yae=()=>{var e;return(e=x.useContext(vA))!=null?e:xae},wU=e=>x.useContext(vA)?e.children:x.createElement(bae,{...e}),wae=["light","dark"],bae=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=wae,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=x.useState(()=>VR(a,i)),[m,g]=x.useState(()=>VR(a)),p=c?Object.values(c):s,v=x.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=zR());let k=c?c[S]:S,j=t?Sae():null,E=document.documentElement;if(l==="class"?(E.classList.remove(...p),k&&E.classList.add(k)):k?E.setAttribute(l,k):E.removeAttribute(l),n){let N=uw.includes(i)?i:null,A=uw.includes(S)?S:N;E.style.colorScheme=A}j==null||j()},[]),y=x.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(a,S)}catch{}},[e]),w=x.useCallback(_=>{let S=zR(_);g(S),f==="system"&&r&&!e&&v("system")},[f,e]);x.useEffect(()=>{let _=window.matchMedia(gA);return _.addListener(w),w(_),()=>_.removeListener(w)},[w]),x.useEffect(()=>{let _=S=>{if(S.key!==a)return;let k=S.newValue||i;y(k)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),x.useEffect(()=>{v(e??f)},[e,f]);let b=x.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,y,e,m,r,s]);return x.createElement(vA.Provider,{value:b},x.createElement(_ae,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:i,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},_ae=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?uw.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let y=i?i[g]:g,w=p?g+"|| ''":`'${y}'`,b="";return a&&v&&!p&&uw.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?p||y?b+=`c.add(${w})`:b+="null":y&&(b+=`d[s](n,${w})`),b},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${gA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),VR=(e,t)=>{if(vae)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Sae=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},zR=e=>(e||(e=window.matchMedia(gA)),e.matches?"dark":"light");const jae=()=>o.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),o.jsx("span",{className:"sr-only",children:"Loading..."})]}),kae=({children:e,allowedRoles:t,requireAuth:r=!0})=>{const n=Sl(),{user:a,loading:s,hasRole:i}=Sr(),l=x.useMemo(()=>!0,[t,i]);return x.useMemo(()=>({loading:s,user:a?{id:a.id,email:a.email,role:a.role}:null,hasRequiredRole:l}),[s,a,l]),console.log("[ProtectedRoute]",{path:n.pathname,loading:s,hasUser:!!a,requireAuth:r,hasRequiredRole:l,userRole:a==null?void 0:a.role}),s?(console.log("[ProtectedRoute] Showing loading spinner"),o.jsx(jae,{})):r&&!a?(console.log("[ProtectedRoute] No user, redirecting to login"),o.jsx(NN,{to:"/login",state:{from:n},replace:!0})):t&&!l?(console.log("[ProtectedRoute] User does not have required role"),o.jsx(NN,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),o.jsx(o.Fragment,{children:e}))};function WR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=WR(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():WR(e[a],null)}}}}function Wt(...e){return x.useCallback(dc(...e),e)}function Ou(e){const t=Nae(e),r=x.forwardRef((n,a)=>{const{children:s,...i}=n,l=x.Children.toArray(s),c=l.find(Cae);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var bU=Ou("Slot");function Nae(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const i=Aae(a),l=Tae(s,a.props);return a.type!==x.Fragment&&(l.ref=n?dc(n,i):i),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _U=Symbol("radix.slottable");function Eae(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=_U,t}function Cae(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_U}function Tae(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Aae(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function SU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=SU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Bt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=SU(e))&&(n&&(n+=" "),n+=t);return n}const HR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qR=Bt,sx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return qR(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=HR(d)||HR(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...s,...l}[p]):{...s,...l}[p]===v})?[...u,f,h]:u},[]);return qR(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},xA="-",Oae=e=>{const t=Dae(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(xA);return l[0]===""&&l.length!==1&&l.shift(),jU(l,t)||Pae(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},jU=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?jU(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(xA);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},KR=/^\[(.+)\]$/,Pae=e=>{if(KR.test(e)){const t=KR.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Dae=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Iae(Object.entries(e.classGroups),r).forEach(([s,i])=>{AN(i,n,s,t)}),n},AN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:GR(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Rae(a)){AN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{AN(i,GR(t,s),r,n)})})},GR=(e,t)=>{let r=e;return t.split(xA).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Rae=e=>e.isThemeGetter,Iae=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[r,a]}):e,Mae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},kU="!",Fae=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(kU),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},Lae=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},$ae=e=>({cache:Mae(e.cacheSize),parseClassName:Fae(e),...Oae(e)}),Bae=/\s+/,Uae=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(Bae);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=Lae(d).join(":"),y=f?v+kU:v,w=y+p;if(s.includes(w))continue;s.push(w);const b=a(p,g);for(let _=0;_<b.length;++_){const S=b[_];s.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function Vae(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=NU(t))&&(n&&(n+=" "),n+=r);return n}const NU=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=NU(e[n]))&&(r&&(r+=" "),r+=t);return r};function zae(e,...t){let r,n,a,s=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=$ae(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Uae(c,r);return a(c,d),d}return function(){return s(Vae.apply(null,arguments))}}const Mr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},EU=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wae=/^\d+\/\d+$/,Hae=new Set(["px","full","screen"]),qae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dl=e=>qh(e)||Hae.has(e)||Wae.test(e),Dc=e=>Sp(e,"length",ase),qh=e=>!!e&&!Number.isNaN(Number(e)),qj=e=>Sp(e,"number",qh),d0=e=>!!e&&Number.isInteger(Number(e)),Jae=e=>e.endsWith("%")&&qh(e.slice(0,-1)),zt=e=>EU.test(e),Rc=e=>qae.test(e),Qae=new Set(["length","size","percentage"]),Zae=e=>Sp(e,Qae,CU),ese=e=>Sp(e,"position",CU),tse=new Set(["image","url"]),rse=e=>Sp(e,tse,ise),nse=e=>Sp(e,"",sse),f0=()=>!0,Sp=(e,t,r)=>{const n=EU.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ase=e=>Kae.test(e)&&!Gae.test(e),CU=()=>!1,sse=e=>Yae.test(e),ise=e=>Xae.test(e),ose=()=>{const e=Mr("colors"),t=Mr("spacing"),r=Mr("blur"),n=Mr("brightness"),a=Mr("borderColor"),s=Mr("borderRadius"),i=Mr("borderSpacing"),l=Mr("borderWidth"),c=Mr("contrast"),u=Mr("grayscale"),d=Mr("hueRotate"),f=Mr("invert"),h=Mr("gap"),m=Mr("gradientColorStops"),g=Mr("gradientColorStopPositions"),p=Mr("inset"),v=Mr("margin"),y=Mr("opacity"),w=Mr("padding"),b=Mr("saturate"),_=Mr("scale"),S=Mr("sepia"),k=Mr("skew"),j=Mr("space"),E=Mr("translate"),N=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",zt,t],T=()=>[zt,t],U=()=>["",Dl,Dc],q=()=>["auto",qh,zt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",zt],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[qh,zt];return{cacheSize:500,separator:":",theme:{colors:[f0],spacing:[Dl,Dc],blur:["none","",Rc,zt],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Rc,zt],borderSpacing:T(),borderWidth:U(),contrast:Z(),grayscale:R(),hueRotate:Z(),invert:R(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[Jae,Dc],inset:D(),margin:D(),opacity:Z(),padding:T(),saturate:Z(),scale:Z(),sepia:R(),skew:Z(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",zt]}],container:["container"],columns:[{columns:[Rc]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),zt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",d0,zt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zt]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",d0,zt]}],"grid-cols":[{"grid-cols":[f0]}],"col-start-end":[{col:["auto",{span:["full",d0,zt]},zt]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[f0]}],"row-start-end":[{row:["auto",{span:[d0,zt]},zt]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",zt,t]}],"min-w":[{"min-w":[zt,t,"min","max","fit"]}],"max-w":[{"max-w":[zt,t,"none","full","min","max","fit","prose",{screen:[Rc]},Rc]}],h:[{h:[zt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[zt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[zt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[zt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rc,Dc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qj]}],"font-family":[{font:[f0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zt]}],"line-clamp":[{"line-clamp":["none",qh,qj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dl,zt]}],"list-image":[{"list-image":["none",zt]}],"list-style-type":[{list:["none","disc","decimal",zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dl,Dc]}],"underline-offset":[{"underline-offset":["auto",Dl,zt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),ese]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rse]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Dl,zt]}],"outline-w":[{outline:[Dl,Dc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Dl,Dc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rc,nse]}],"shadow-color":[{shadow:[f0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rc,zt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",zt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[d0,zt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dl,Dc,qj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lse=zae(ose);function ke(...e){return lse(Bt(e))}const Nm=sx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ce=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?bU:"button";return o.jsx(i,{className:ke(Nm({variant:t,size:r,className:e})),ref:s,...a})});ce.displayName="Button";const ze=x.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ze.displayName="Input";var cse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=cse.reduce((e,t)=>{const r=Ou(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function TU(e,t){e&&bp.flushSync(()=>e.dispatchEvent(t))}var use="Label",AU=x.forwardRef((e,t)=>o.jsx(ct.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));AU.displayName=use;var OU=AU;const dse=sx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qe=x.forwardRef(({className:e,...t},r)=>o.jsx(OU,{ref:r,className:ke(dse(),e),...t}));qe.displayName=OU.displayName;const pt=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));pt.displayName="Card";const fr=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ke("flex flex-col space-y-1.5 p-6",e),...t}));fr.displayName="CardHeader";const Jr=x.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));Jr.displayName="CardTitle";const PU=x.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));PU.displayName="CardDescription";const jt=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ke("p-6 pt-0",e),...t}));jt.displayName="CardContent";const DU=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ke("flex items-center p-6 pt-0",e),...t}));DU.displayName="CardFooter";function Rt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function As(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ya(e,t){const r=Rt(e);return isNaN(t)?As(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function No(e,t){const r=Rt(e);if(isNaN(t))return As(e,NaN);if(!t)return r;const n=r.getDate(),a=As(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const yA=6048e5,fse=864e5,yy=43200,YR=1440;let hse={};function jp(){return hse}function ml(e,t){var l,c,u,d;const r=jp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Rt(e),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function sf(e){return ml(e,{weekStartsOn:1})}function RU(e){const t=Rt(e),r=t.getFullYear(),n=As(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=sf(n),s=As(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=sf(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Em(e){const t=Rt(e);return t.setHours(0,0,0,0),t}function Cm(e){const t=Rt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function tl(e,t){const r=Em(e),n=Em(t),a=+r-Cm(r),s=+n-Cm(n);return Math.round((a-s)/fse)}function mse(e){const t=RU(e),r=As(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),sf(r)}function ON(e,t){const r=t*7;return Ya(e,r)}function pse(e,t){return No(e,t*12)}function gse(e){let t;return e.forEach(function(r){const n=Rt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function vse(e){let t;return e.forEach(r=>{const n=Rt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function b1(e,t){const r=Rt(e),n=Rt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function xse(e){return As(e,Date.now())}function _s(e,t){const r=Em(e),n=Em(t);return+r==+n}function wA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yse(e){if(!wA(e)&&typeof e!="number")return!1;const t=Rt(e);return!isNaN(Number(t))}function Tm(e,t){const r=Rt(e),n=Rt(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function wse(e,t,r){const n=ml(e,r),a=ml(t,r),s=+n-Cm(n),i=+a-Cm(a);return Math.round((s-i)/yA)}function bse(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function _se(e,t){return+Rt(e)-+Rt(t)}function Sse(e){const t=Rt(e);return t.setHours(23,59,59,999),t}function x_(e){const t=Rt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function jse(e){const t=Rt(e);return+Sse(t)==+x_(t)}function kse(e,t){const r=Rt(e),n=Rt(t),a=b1(r,n),s=Math.abs(Tm(r,n));let i;if(s<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=b1(r,n)===-a;jse(Rt(e))&&s===1&&b1(e,n)===1&&(l=!1),i=a*(s-Number(l))}return i===0?0:i}function Nse(e,t,r){const n=_se(e,t)/1e3;return bse(r==null?void 0:r.roundingMethod)(n)}function Es(e){const t=Rt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function IU(e){const t=Rt(e),r=As(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function bA(e,t){var l,c,u,d;const r=jp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Rt(e),s=a.getDay(),i=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function MU(e){return bA(e,{weekStartsOn:1})}const Ese={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Cse=(e,t,r)=>{let n;const a=Ese[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Kh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Tse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ase={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ose={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pse={date:Kh({formats:Tse,defaultWidth:"full"}),time:Kh({formats:Ase,defaultWidth:"full"}),dateTime:Kh({formats:Ose,defaultWidth:"full"})},Dse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rse=(e,t,r,n)=>Dse[e];function Qo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Ise={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$se={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Use=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Vse={ordinalNumber:Use,era:Qo({values:Ise,defaultWidth:"wide"}),quarter:Qo({values:Mse,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qo({values:Fse,defaultWidth:"wide"}),day:Qo({values:Lse,defaultWidth:"wide"}),dayPeriod:Qo({values:$se,defaultWidth:"wide",formattingValues:Bse,defaultFormattingWidth:"wide"})};function Zo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Wse(l,f=>f.test(i)):zse(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function zse(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Wse(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function FU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const Hse=/^(\d+)(th|st|nd|rd)?/i,qse=/\d+/i,Kse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gse={any:[/^b/i,/^(a|c)/i]},Yse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xse={any:[/1/i,/2/i,/3/i,/4/i]},Jse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nie={ordinalNumber:FU({matchPattern:Hse,parsePattern:qse,valueCallback:e=>parseInt(e,10)}),era:Zo({matchPatterns:Kse,defaultMatchWidth:"wide",parsePatterns:Gse,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:Yse,defaultMatchWidth:"wide",parsePatterns:Xse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zo({matchPatterns:Jse,defaultMatchWidth:"wide",parsePatterns:Qse,defaultParseWidth:"any"}),day:Zo({matchPatterns:Zse,defaultMatchWidth:"wide",parsePatterns:eie,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:tie,defaultMatchWidth:"any",parsePatterns:rie,defaultParseWidth:"any"})},_A={code:"en-US",formatDistance:Cse,formatLong:Pse,formatRelative:Rse,localize:Vse,match:nie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aie(e){const t=Rt(e);return tl(t,IU(t))+1}function LU(e){const t=Rt(e),r=+sf(t)-+mse(t);return Math.round(r/yA)+1}function $U(e,t){var d,f,h,m;const r=Rt(e),n=r.getFullYear(),a=jp(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=As(e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=ml(i,t),c=As(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=ml(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function sie(e,t){var l,c,u,d;const r=jp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=$U(e,t),s=As(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),ml(s,t)}function BU(e,t){const r=Rt(e),n=+ml(r,t)-+sie(r,t);return Math.round(n/yA)+1}function xr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ic={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return xr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):xr(r+1,2)},d(e,t){return xr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return xr(e.getHours()%12||12,t.length)},H(e,t){return xr(e.getHours(),t.length)},m(e,t){return xr(e.getMinutes(),t.length)},s(e,t){return xr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return xr(a,t.length)}},Hf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ic.y(e,t)},Y:function(e,t,r,n){const a=$U(e,n),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return xr(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):xr(s,t.length)},R:function(e,t){const r=RU(e);return xr(r,t.length)},u:function(e,t){const r=e.getFullYear();return xr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return xr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return xr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ic.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return xr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=BU(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):xr(a,t.length)},I:function(e,t,r){const n=LU(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):xr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ic.d(e,t)},D:function(e,t,r){const n=aie(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):xr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return xr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return xr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return xr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Hf.noon:n===0?a=Hf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Hf.evening:n>=12?a=Hf.afternoon:n>=4?a=Hf.morning:a=Hf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ic.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ic.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ic.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ic.s(e,t)},S:function(e,t){return Ic.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return QR(n);case"XXXX":case"XX":return dd(n);case"XXXXX":case"XXX":default:return dd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return QR(n);case"xxxx":case"xx":return dd(n);case"xxxxx":case"xxx":default:return dd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+JR(n,":");case"OOOO":default:return"GMT"+dd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+JR(n,":");case"zzzz":default:return"GMT"+dd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return xr(n,t.length)},T:function(e,t,r){const n=e.getTime();return xr(n,t.length)}};function JR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+xr(s,2)}function QR(e,t){return e%60===0?(e>0?"-":"+")+xr(Math.abs(e)/60,2):dd(e,t)}function dd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=xr(Math.trunc(n/60),2),s=xr(n%60,2);return r+a+t+s}const ZR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},UU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},iie=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return ZR(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",ZR(n,t)).replace("{{time}}",UU(a,t))},oie={p:UU,P:iie},lie=/^D+$/,cie=/^Y+$/,uie=["D","DD","YY","YYYY"];function die(e){return lie.test(e)}function fie(e){return cie.test(e)}function hie(e,t,r){const n=mie(e,t,r);if(console.warn(n),uie.includes(e))throw new RangeError(n)}function mie(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vie=/^'([^]*?)'?$/,xie=/''/g,yie=/[a-zA-Z]/;function is(e,t,r){var d,f,h,m,g,p,v,y;const n=jp(),a=(r==null?void 0:r.locale)??n.locale??_A,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Rt(e);if(!yse(l))throw new RangeError("Invalid time value");let c=t.match(gie).map(w=>{const b=w[0];if(b==="p"||b==="P"){const _=oie[b];return _(w,a.formatLong)}return w}).join("").match(pie).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:wie(w)};if(XR[b])return{isToken:!0,value:w};if(b.match(yie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&fie(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&die(b))&&hie(b,t,String(e));const _=XR[b[0]];return _(l,b,a.localize,u)}).join("")}function wie(e){const t=e.match(vie);return t?t[1].replace(xie,"'"):e}function bie(e,t,r){const n=jp(),a=(r==null?void 0:r.locale)??n.locale??_A,s=2520,i=b1(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=Rt(t),u=Rt(e)):(c=Rt(e),u=Rt(t));const d=Nse(u,c),f=(Cm(u)-Cm(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<YR){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<yy){const g=Math.round(h/YR);return a.formatDistance("xDays",g,l)}else if(h<yy*2)return m=Math.round(h/yy),a.formatDistance("aboutXMonths",m,l)}if(m=kse(u,c),m<12){const g=Math.round(h/yy);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function _ie(e,t){return bie(e,xse(e),t)}function Sie(e){const t=Rt(e),r=t.getFullYear(),n=t.getMonth(),a=As(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function jie(e){return Math.trunc(+Rt(e)/1e3)}function kie(e){const t=Rt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Nie(e,t){return wse(kie(e),Es(e),t)+1}function PN(e,t){const r=Rt(e),n=Rt(t);return r.getTime()>n.getTime()}function VU(e,t){const r=Rt(e),n=Rt(t);return+r<+n}function SA(e,t){const r=Rt(e),n=Rt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Eie(e,t){const r=Rt(e),n=Rt(t);return r.getFullYear()===n.getFullYear()}function Kj(e,t){return Ya(e,-t)}function Gj(e,t){const r=Rt(e),n=r.getFullYear(),a=r.getDate(),s=As(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const i=Sie(s);return r.setMonth(t,Math.min(a,i)),r}function eI(e,t){const r=Rt(e);return isNaN(+r)?As(e,NaN):(r.setFullYear(t),r)}function tI(e){if(!e)return e;if(typeof e=="string")try{const t=new Date(e);return isNaN(t.getTime())?e:is(t,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?is(e,"yyyy-MM-dd HH:mm:ss"):e}function DN(e){if(e==null)return e;if(e instanceof Date)return tI(e);if(Array.isArray(e))return e.map(t=>DN(t));if(typeof e=="object"){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r.toLowerCase().includes("date")||r.toLowerCase().includes("time")?t[r]=tI(e[r]):t[r]=DN(e[r]));return t}return e}const Cie="https://api.middar.com";async function qf(e,t={}){const r={"Content-Type":"application/json",...t.headers},n=localStorage.getItem("authToken");n&&(r.Authorization=`Bearer ${n}`);try{let a=t.body;if(a&&typeof a=="string")try{const l=JSON.parse(a),c=DN(l);a=JSON.stringify(c)}catch(l){console.warn("Failed to parse request body for date formatting",l)}console.log(`API Request: ${t.method||"GET"} ${e}`,a?JSON.parse(a):null);const s=await fetch(`${Cie}${e}`,{...t,headers:r,body:a});let i;try{const l=await s.text();i=l?JSON.parse(l):{}}catch(l){console.error("Failed to parse API response:",l),i={}}if(!s.ok){const l={status:s.status,statusText:s.statusText,url:e,headers:Object.fromEntries(s.headers.entries()),response:i,requestBody:t.body?JSON.parse(t.body):null};console.error("API Error Details:",JSON.stringify(l,null,2));let c="Something went wrong";i&&typeof i=="object"?c=i.message||i.error||JSON.stringify(i):i&&(c=String(i));const u=new Error(c);throw u.status=s.status,u.response=i,u.details=l,u}return i}catch(a){throw console.error("API Request Failed:",{endpoint:e,error:a.message,stack:a.stack}),a}}const G={get:(e,t,r)=>{const n=new URLSearchParams(r).toString();return qf(`/api/v1/get/${e}/${t}${n?`?${n}`:""}`)},list:async(e,t={})=>{const r={...t};let n="";if(r.exact_filters&&(n=typeof r.exact_filters=="string"?r.exact_filters:JSON.stringify(r.exact_filters),delete r.exact_filters),r.advanced_filters&&typeof r.advanced_filters=="string")try{JSON.parse(r.advanced_filters)}catch{delete r.advanced_filters}else r.advanced_filters&&(r.advanced_filters=JSON.stringify(r.advanced_filters));const a=new URLSearchParams;Object.entries(r).forEach(([l,c])=>{c!=null&&a.append(l,c.toString())});const s=n?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(n)}&${a.toString()}`:a.toString()?`/api/v1/${e}/list?${a.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",s);const i=await qf(s);return{data:i.data||[],total:i.totalRows||0}},count:async(e,t={})=>(await G.list(e,{...t,pageSize:1})).total,create:(e,t)=>qf(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>qf(`/api/v1/update/${e}/${t}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>qf(`/api/v1/delete/${e}/${t}`,{method:"DELETE"}),auth:{login:async e=>qf("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions1:{list:(e={})=>G.list("permissions1",e),get:e=>G.get("permissions1",e),create:e=>G.create("permissions1",e),update:(e,t)=>G.update("permissions1",e,t),delete:e=>G.delete("permissions1",e)},comments:{list:(e={})=>G.list("comments",e),get:e=>G.get("comments",e),create:e=>G.create("comments",e),update:(e,t)=>G.update("comments",e,t),delete:e=>G.delete("comments",e)},leads:{list:(e={})=>G.list("leads",e),get:e=>G.get("leads",e),create:e=>G.create("leads",e),update:(e,t)=>G.update("leads",e,t),delete:e=>G.delete("leads",e)},mAction:{list:(e={})=>G.list("m_action",e),get:e=>G.get("m_action",e),create:e=>G.create("m_action",e),update:(e,t)=>G.update("m_action",e,t),delete:e=>G.delete("m_action",e)},mActivity:{list:(e={})=>G.list("m_activity",e),get:e=>G.get("m_activity",e),create:e=>G.create("m_activity",e),update:(e,t)=>G.update("m_activity",e,t),delete:e=>G.delete("m_activity",e)},messages:{list:(e={})=>G.list("messages",e),get:e=>G.get("messages",e),create:e=>G.create("messages",e),update:(e,t)=>G.update("messages",e,t),delete:e=>G.delete("messages",e)},mContacts:{list:(e={})=>G.list("m_contacts",e),get:e=>G.get("m_contacts",e),create:e=>G.create("m_contacts",e),update:(e,t)=>G.update("m_contacts",e,t),delete:e=>G.delete("m_contacts",e)},mCountry:{list:(e={})=>G.list("m_country",e),get:e=>G.get("m_country",e),create:e=>G.create("m_country",e),update:(e,t)=>G.update("m_country",e,t),delete:e=>G.delete("m_country",e)},mCity:{list:(e={})=>G.list("m_city",e),get:e=>G.get("m_city",e),create:e=>G.create("m_city",e),update:(e,t)=>G.update("m_city",e,t),delete:e=>G.delete("m_city",e),getByCountry:(e,t={})=>G.list("m_city",{...t,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>G.list("m_jobtitle",e),get:e=>G.get("m_jobtitle",e),create:e=>G.create("m_jobtitle",e),update:(e,t)=>G.update("m_jobtitle",e,t),delete:e=>G.delete("m_jobtitle",e)},mLeads:{list:(e={})=>G.list("m_leads",e),get:e=>G.get("m_leads",e),create:e=>G.create("m_leads",e),update:(e,t)=>G.update("m_leads",e,t),delete:e=>G.delete("m_leads",e),getByStage:(e,t={})=>G.list("m_leads",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>G.list("m_leads",{...t,exact_filters:{assigned_to:e}}),getByStatus:(e,t={})=>G.list("m_leads",{...t,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>G.list("m_system",e),get:e=>G.get("m_system",e),create:e=>G.create("m_system",e),update:(e,t)=>G.update("m_system",e,t),delete:e=>G.delete("m_system",e)},mLeadsTrans:{list:(e={})=>G.list("m_leads_trans",e),get:e=>G.get("m_leads_trans",e),create:e=>G.create("m_leads_trans",e),update:(e,t)=>G.update("m_leads_trans",e,t),delete:e=>G.delete("m_leads_trans",e),getByLead:(e,t={})=>G.list("m_leads_trans",{...t,exact_filters:{leads_id:e}}),getByUser:(e,t={})=>G.list("m_leads_trans",{...t,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>G.list("m_projects",e),get:e=>G.get("m_projects",e),create:e=>G.create("m_projects",e),update:(e,t)=>G.update("m_projects",e,t),delete:e=>G.delete("m_projects",e)},mStatus:{list:(e={})=>G.list("m_status",e),get:e=>G.get("m_status",e),create:e=>G.create("m_status",e),update:(e,t)=>G.update("m_status",e,t),delete:e=>G.delete("m_status",e)},notes:{list:(e={})=>G.list("notes",e),get:e=>G.get("notes",e),create:e=>G.create("notes",e),update:(e,t)=>G.update("notes",e,t),delete:e=>G.delete("notes",e),getByRelated:(e,t,r={})=>G.list("notes",{...r,exact_filters:{related_to_type:e,related_to_id:t}})},partnerApply:{list:(e={})=>G.list("partner_apply",e),get:e=>G.get("partner_apply",e),create:e=>G.create("partner_apply",e),update:(e,t)=>G.update("partner_apply",e,t),delete:e=>G.delete("partner_apply",e),getPending:(e={})=>G.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,t={})=>G.list("partner_apply",{...t,exact_filters:{status:e}})},projectUsers:{list:(e={})=>G.list("project_users",e),get:e=>G.get("project_users",e),create:e=>G.create("project_users",e),update:(e,t)=>G.update("project_users",e,t),delete:e=>G.delete("project_users",e),getByProject:(e,t={})=>G.list("project_users",{...t,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>G.list("project_images",e),get:e=>G.get("project_images",e),create:e=>G.create("project_images",e),update:(e,t)=>G.update("project_images",e,t),delete:e=>G.delete("project_images",e),getByProject:(e,t={})=>G.list("project_images",{...t,exact_filters:{project_id:e}})},projects:{list:(e={})=>G.list("projects",e),get:e=>G.get("projects",e),create:e=>G.create("projects",e),update:(e,t)=>G.update("projects",e,t),delete:e=>G.delete("projects",e),getByStage:(e,t={})=>G.list("projects",{...t,exact_filters:{stage:e}}),getByLead:(e,t={})=>G.list("projects",{...t,exact_filters:{lead_id:e}})},requests:{list:(e={})=>G.list("requests_crm",e),get:e=>G.get("requests_crm",e),create:e=>G.create("requests_crm",e),update:(e,t)=>G.update("requests_crm",e,t),delete:e=>G.delete("requests_crm",e)},rooms:{list:(e={})=>G.list("rooms",e),get:e=>G.get("rooms",e),create:e=>G.create("rooms",e),update:(e,t)=>G.update("rooms",e,t),delete:e=>G.delete("rooms",e),getByProject:(e,t={})=>G.list("rooms",{...t,exact_filters:{project_id:e}}),getByTeam:(e,t={})=>G.list("rooms",{...t,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>G.list("room_members",e),get:e=>G.get("room_members",e),create:e=>G.create("room_members",e),update:(e,t)=>G.update("room_members",e,t),delete:e=>G.delete("room_members",e),getByRoom:(e,t={})=>G.list("room_members",{...t,exact_filters:{room_id:e}})},stages:{list:(e={})=>G.list("stages",e),get:e=>G.get("stages",e),create:e=>G.create("stages",e),update:(e,t)=>G.update("stages",e,t),delete:e=>G.delete("stages",e)},tasks:{list:(e={})=>G.list("tasks",e),get:e=>G.get("tasks",e),create:e=>G.create("tasks",e),update:(e,t)=>G.update("tasks",e,t),delete:e=>G.delete("tasks",e),getByStage:(e,t={})=>G.list("tasks",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>G.list("tasks",{...t,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>G.list("survey_templates",e),get:e=>G.get("survey_templates",e),create:e=>G.create("survey_templates",e),update:(e,t)=>G.update("survey_templates",e,t),delete:e=>G.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>G.list("survey_template_fields",e),get:e=>G.get("survey_template_fields",e),create:e=>G.create("survey_template_fields",e),update:(e,t)=>G.update("survey_template_fields",e,t),delete:e=>G.delete("survey_template_fields",e),getByTemplate:(e,t={})=>G.list("survey_template_fields",{...t,exact_filters:{template_id:e}})},surveys:{list:(e={})=>G.list("surveys",e),get:e=>G.get("surveys",e),create:e=>G.create("surveys",e),update:(e,t)=>G.update("surveys",e,t),delete:e=>G.delete("surveys",e)},teams:{list:(e={})=>G.list("teams",e),get:e=>G.get("teams",e),create:e=>G.create("teams",e),update:(e,t)=>G.update("teams",e,t),delete:e=>G.delete("teams",e)},teamMembers:{list:(e={})=>G.list("team_members",e),get:e=>G.get("team_members",e),create:e=>G.create("team_members",e),update:(e,t)=>G.update("team_members",e,t),delete:e=>G.delete("team_members",e),getByTeam:(e,t={})=>G.list("team_members",{...t,exact_filters:{team_id:e}})},tickets:{list:(e={})=>G.list("tickets",e),get:e=>G.get("tickets",e),create:e=>G.create("tickets",e),update:(e,t)=>G.update("tickets",e,t),delete:e=>G.delete("tickets",e),getByStatus:(e,t={})=>G.list("tickets",{...t,exact_filters:{status:e}}),getByStage:(e,t={})=>G.list("tickets",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>G.list("tickets",{...t,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>G.list("Users",e),get:e=>G.get("Users",e),create:e=>G.create("Users",e),update:(e,t)=>G.update("Users",e,t),delete:e=>G.delete("Users",e)},whatsappConversations:{list:(e={})=>G.list("whatsapp_conversations",e),get:e=>G.get("whatsapp_conversations",e),create:e=>G.create("whatsapp_conversations",e),update:(e,t)=>G.update("whatsapp_conversations",e,t),delete:e=>G.delete("whatsapp_conversations",e),getByLead:(e,t={})=>G.list("whatsapp_conversations",{...t,exact_filters:{lead_id:e}}),getByUser:(e,t={})=>G.list("whatsapp_conversations",{...t,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>G.list("whatsapp_messages",e),get:e=>G.get("whatsapp_messages",e),create:e=>G.create("whatsapp_messages",e),update:(e,t)=>G.update("whatsapp_messages",e,t),delete:e=>G.delete("whatsapp_messages",e),getByConversation:(e,t={})=>G.list("whatsapp_messages",{...t,exact_filters:{conversation_id:e}})}},Tie=1,Aie=1e6;let Yj=0;function Oie(){return Yj=(Yj+1)%Number.MAX_SAFE_INTEGER,Yj.toString()}const Xj=new Map,rI=e=>{if(Xj.has(e))return;const t=setTimeout(()=>{Xj.delete(e),rg({type:"REMOVE_TOAST",toastId:e})},Aie);Xj.set(e,t)},Pie=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Tie)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?rI(r):e.toasts.forEach(n=>{rI(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},_1=[];let S1={toasts:[]};function rg(e){S1=Pie(S1,e),_1.forEach(t=>{t(S1)})}function Die({...e}){const t=Oie(),r=a=>rg({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>rg({type:"DISMISS_TOAST",toastId:t});return rg({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function jl(){const[e,t]=x.useState(S1);return x.useEffect(()=>(_1.push(t),()=>{const r=_1.indexOf(t);r>-1&&_1.splice(r,1)}),[e]),{...e,toast:Die,dismiss:r=>rg({type:"DISMISS_TOAST",toastId:r})}}const Rie=()=>{var g,p;const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,s]=x.useState("crmdb"),[i,l]=x.useState(!1),{login:c}=Sr(),u=Bs(),d=Sl();Ht();const{toast:f}=jl(),h=((p=(g=d.state)==null?void 0:g.from)==null?void 0:p.pathname)||"/dashboard",m=async v=>{if(v.preventDefault(),!e||!r){f({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}l(!0);try{const y=await G.auth.login({email:e,password:r,company_code:a});if(y.serviceToken&&y.user)c(y.serviceToken,y.user),f({title:"Success",description:"Logged in successfully"}),u(h,{replace:!0});else throw new Error("Invalid response from server")}catch(y){console.error("Login error:",y);let w="Failed to login. Please check your credentials.";y.message&&!y.message.includes("Unexpected token")&&(w=y.message),f({title:"Login Failed",description:w,variant:"destructive"})}finally{l(!1)}};return o.jsxs(pt,{className:"w-full max-w-md",children:[o.jsxs(fr,{children:[o.jsx(Jr,{className:"text-2xl text-center",children:"Login"}),o.jsx(PU,{className:"text-center",children:"Enter your credentials to access your account"})]}),o.jsxs("form",{onSubmit:m,children:[o.jsxs(jt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"email",children:"Email / Username"}),o.jsx(ze,{id:"email",type:"text",placeholder:"Enter your email",value:e,onChange:v=>t(v.target.value),disabled:i})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"password",children:"Password"}),o.jsx(ze,{id:"password",type:"password",placeholder:"Enter your password",value:r,onChange:v=>n(v.target.value),disabled:i})]})]}),o.jsx(DU,{className:"flex flex-col space-y-4",children:o.jsx(ce,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login"})})]})]})},Iie=()=>{const[e,t]=x.useState(!1);Sr();const r=Bs(),{t:n}=Ht();return o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),o.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),o.jsx(ce,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})},zU=x.createContext(void 0),Mie=({children:e})=>{const[t,r]=x.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[n,a]=x.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[s,i]=x.useState(()=>localStorage.getItem("crm_logo_url")||""),l=h=>{r(h),localStorage.setItem("crm_company_name",h)},c=h=>{a(h),localStorage.setItem("crm_primary_color",h),d(h)},u=h=>{i(h),localStorage.setItem("crm_logo_url",h)},d=h=>{const m=f(h);m&&(document.documentElement.style.setProperty("--primary",`${m.h} ${m.s}% ${m.l}%`),document.documentElement.style.setProperty("--ring",`${m.h} ${m.s}% ${m.l}%`))};function f(h){let m=0,g=0,p=0;h.length===4?(m=parseInt(h[1]+h[1],16),g=parseInt(h[2]+h[2],16),p=parseInt(h[3]+h[3],16)):h.length===7&&(m=parseInt(h.substring(1,3),16),g=parseInt(h.substring(3,5),16),p=parseInt(h.substring(5,7),16)),m/=255,g/=255,p/=255;const v=Math.max(m,g,p),y=Math.min(m,g,p);let w=0,b,_=(v+y)/2;if(v===y)w=b=0;else{const S=v-y;switch(b=_>.5?S/(2-v-y):S/(v+y),v){case m:w=(g-p)/S+(g<p?6:0);break;case g:w=(p-m)/S+2;break;case p:w=(m-g)/S+4;break}w/=6}return{h:Math.round(w*360),s:Math.round(b*100),l:Math.round(_*100)}}return x.useEffect(()=>{d(n)},[]),o.jsx(zU.Provider,{value:{companyName:t,setCompanyName:l,primaryColor:n,setPrimaryColor:c,logoUrl:s,setLogoUrl:u},children:e})},WU=()=>{const e=x.useContext(zU);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HU=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>x.createElement("svg",{ref:c,...Lie,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:HU("lucide",a),...l},[...i.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement($ie,{ref:s,iconNode:t,className:HU(`lucide-${Fie(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=Qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=Qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=Qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=Qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=Qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=Qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=Qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=Qe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=Qe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=Qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=Qe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Qe("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=Qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Qe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Qe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=Qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=Qe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=Qe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=Qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=Qe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=Qe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Qe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=Qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=Qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=Qe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Qe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Qe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=Qe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=Qe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=Qe("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=Qe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function voe(e,t){const r=x.createContext(t),n=s=>{const{children:i,...l}=s,c=x.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=x.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function ds(e,t=[]){let r=[];function n(s,i){const l=x.createContext(i),c=r.length;r=[...r,i];const u=f=>{var y;const{scope:h,children:m,...g}=f,p=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return o.jsx(p.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,xoe(a,...t)]}function xoe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Yn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Tn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function yoe(){return lU.useSyncExternalStore(woe,()=>!0,()=>!1)}function woe(){return()=>{}}var kA="Avatar",[boe,zYe]=ds(kA),[_oe,QU]=boe(kA),ZU=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=x.useState("idle");return o.jsx(_oe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:o.jsx(ct.span,{...n,ref:t})})});ZU.displayName=kA;var e9="AvatarImage",t9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,i=QU(e9,r),l=Soe(n,s),c=Yn(u=>{a(u),i.onImageLoadingStatusChange(u)});return Tn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ct.img,{...s,ref:t,src:n}):null});t9.displayName=e9;var r9="AvatarFallback",n9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=QU(r9,r),[i,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&s.imageLoadingStatus!=="loaded"?o.jsx(ct.span,{...a,ref:t}):null});n9.displayName=r9;function cI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Soe(e,{referrerPolicy:t,crossOrigin:r}){const n=yoe(),a=x.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=x.useState(()=>cI(s,e));return Tn(()=>{l(cI(s,e))},[s,e]),Tn(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),i}var a9=ZU,s9=t9,i9=n9;const Os=x.forwardRef(({className:e,...t},r)=>o.jsx(a9,{ref:r,className:ke("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Os.displayName=a9.displayName;const To=x.forwardRef(({className:e,...t},r)=>o.jsx(s9,{ref:r,className:ke("aspect-square h-full w-full",e),...t}));To.displayName=s9.displayName;const Ps=x.forwardRef(({className:e,...t},r)=>o.jsx(i9,{ref:r,className:ke("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ps.displayName=i9.displayName;const joe=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:roe},{labelKey:"navigation.clientPortal",path:"/client-portal",roles:["client"],icon:eoe},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ys}]},{label:"sales",items:[{labelKey:"navigation.leads",path:"/leads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Aa},{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:on},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Hd},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:on}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ag},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:ch},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ys}]},{label:"communication",items:[{labelKey:"WhatsApp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Pu},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Pu},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:dw}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:foe},{labelKey:"navigation.settings",path:"/settings",roles:["admin"],icon:XU},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:dw}]}];function uI({onNavigate:e}={}){var s,i,l;const t=Sl(),{user:r}=Sr(),{t:n}=Ht(),{companyName:a}=WU();return o.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[o.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary to-primary/80 shadow-lg flex items-center justify-center ring-2 ring-primary/20",children:o.jsx(on,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-sidebar-foreground tracking-tight",children:a}),o.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"CRM System"})]})]})}),o.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:o.jsx("nav",{className:"space-y-6",children:joe.map(c=>{const u=c.items;return u.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:n(`navigation.${c.label} Group`,c.label)}),o.jsx("div",{className:"space-y-1",children:u.map(d=>{const f=t.pathname===d.path,h=d.icon;return o.jsxs(TN,{to:d.path,onClick:m=>{f&&m.preventDefault(),e==null||e()},className:ke("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",f?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[f&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),o.jsx(h,{className:ke("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",f?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),o.jsx("span",{className:"flex-1 relative z-10",children:n(d.labelKey)})]},d.path)})})]},c.label)})})}),o.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[o.jsx(Os,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:o.jsx(Ps,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(s=r==null?void 0:r.email)==null?void 0:s.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((i=r==null?void 0:r.profile)==null?void 0:i.name)||(r==null?void 0:r.email)}),o.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(l=r==null?void 0:r.role)==null?void 0:l.replace("_"," ")]})]}),o.jsx(w_,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function koe(){const e=Sl(),{t}=Ht(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ");return o.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[o.jsx(TN,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,i)=>{const l=`/${r.slice(0,i+1).join("/")}`,c=i===r.length-1,u=a(s);return o.jsxs("div",{className:"flex items-center",children:[o.jsx(w_,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?o.jsx("span",{className:"text-foreground font-medium",children:u}):o.jsx(TN,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function FN(e,[t,r]){return Math.min(r,Math.max(t,e))}function tt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function NA(e){const t=e+"CollectionProvider",[r,n]=ds(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:y}=p,w=ae.useRef(null),b=ae.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:b,collectionRef:w,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=Ou(l),u=ae.forwardRef((p,v)=>{const{scope:y,children:w}=p,b=s(l,y),_=Wt(v,b.collectionRef);return o.jsx(c,{ref:_,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ou(d),m=ae.forwardRef((p,v)=>{const{scope:y,children:w,...b}=p,_=ae.useRef(null),S=Wt(v,_),k=s(d,y);return ae.useEffect(()=>(k.itemMap.set(_,{ref:_,...b}),()=>void k.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:S,children:w})});m.displayName=d;function g(p){const v=s(e+"CollectionConsumer",p);return ae.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,j)=>b.indexOf(k.ref.current)-b.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},g,n]}var Noe=x.createContext(void 0);function lx(e){const t=x.useContext(Noe);return e||t||"ltr"}function Eoe(e,t=globalThis==null?void 0:globalThis.document){const r=Yn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Coe="DismissableLayer",LN="dismissableLayer.update",Toe="dismissableLayer.pointerDownOutside",Aoe="dismissableLayer.focusOutside",dI,o9=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cx=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=x.useContext(o9),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),g=Wt(t,j=>f(j)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),w=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,S=Doe(j=>{const E=j.target,N=[...u.branches].some(A=>A.contains(E));!_||N||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),k=Roe(j=>{const E=j.target;[...u.branches].some(A=>A.contains(E))||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return Eoe(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(dI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),fI(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=dI)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),fI())},[d,u]),x.useEffect(()=>{const j=()=>m({});return document.addEventListener(LN,j),()=>document.removeEventListener(LN,j)},[]),o.jsx(ct.div,{...c,ref:g,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:tt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:tt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:tt(e.onPointerDownCapture,S.onPointerDownCapture)})});cx.displayName=Coe;var Ooe="DismissableLayerBranch",Poe=x.forwardRef((e,t)=>{const r=x.useContext(o9),n=x.useRef(null),a=Wt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(ct.div,{...e,ref:a})});Poe.displayName=Ooe;function Doe(e,t=globalThis==null?void 0:globalThis.document){const r=Yn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){l9(Toe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Roe(e,t=globalThis==null?void 0:globalThis.document){const r=Yn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&l9(Aoe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function fI(){const e=new CustomEvent(LN);document.dispatchEvent(e)}function l9(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?TU(a,s):a.dispatchEvent(s)}var Jj=0;function S_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hI()),document.body.insertAdjacentElement("beforeend",e[1]??hI()),Jj++,()=>{Jj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jj--}},[])}function hI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qj="focusScope.autoFocusOnMount",Zj="focusScope.autoFocusOnUnmount",mI={bubbles:!1,cancelable:!0},Ioe="FocusScope",ux=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=x.useState(null),u=Yn(a),d=Yn(s),f=x.useRef(null),h=Wt(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(b){if(m.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:$c(f.current,{select:!0})},v=function(b){if(m.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||$c(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&$c(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const w=new MutationObserver(y);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){gI.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(Qj,mI);l.addEventListener(Qj,u),l.dispatchEvent(y),y.defaultPrevented||(Moe(Uoe(c9(l)),{select:!0}),document.activeElement===p&&$c(l))}return()=>{l.removeEventListener(Qj,u),setTimeout(()=>{const y=new CustomEvent(Zj,mI);l.addEventListener(Zj,d),l.dispatchEvent(y),y.defaultPrevented||$c(p??document.body,{select:!0}),l.removeEventListener(Zj,d),gI.remove(m)},0)}}},[l,u,d,m]);const g=x.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const w=p.currentTarget,[b,_]=Foe(w);b&&_?!p.shiftKey&&y===_?(p.preventDefault(),r&&$c(b,{select:!0})):p.shiftKey&&y===b&&(p.preventDefault(),r&&$c(_,{select:!0})):y===w&&p.preventDefault()}},[r,n,m.paused]);return o.jsx(ct.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});ux.displayName=Ioe;function Moe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if($c(n,{select:t}),document.activeElement!==r)return}function Foe(e){const t=c9(e),r=pI(t,e),n=pI(t.reverse(),e);return[r,n]}function c9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pI(e,t){for(const r of e)if(!Loe(r,{upTo:t}))return r}function Loe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $oe(e){return e instanceof HTMLInputElement&&"select"in e}function $c(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&$oe(e)&&t&&e.select()}}var gI=Boe();function Boe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=vI(e,t),e.unshift(t)},remove(t){var r;e=vI(e,t),(r=e[0])==null||r.resume()}}}function vI(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Uoe(e){return e.filter(t=>t.tagName!=="A")}var Voe=pT[" useId ".trim().toString()]||(()=>{}),zoe=0;function oa(e){const[t,r]=x.useState(Voe());return Tn(()=>{r(n=>n??String(zoe++))},[e]),t?`radix-${t}`:""}const Woe=["top","right","bottom","left"],Du=Math.min,Ys=Math.max,hw=Math.round,by=Math.floor,ol=e=>({x:e,y:e}),Hoe={left:"right",right:"left",bottom:"top",top:"bottom"},qoe={start:"end",end:"start"};function $N(e,t,r){return Ys(e,Du(t,r))}function fc(e,t){return typeof e=="function"?e(t):e}function hc(e){return e.split("-")[0]}function kp(e){return e.split("-")[1]}function EA(e){return e==="x"?"y":"x"}function CA(e){return e==="y"?"height":"width"}const Koe=new Set(["top","bottom"]);function rl(e){return Koe.has(hc(e))?"y":"x"}function TA(e){return EA(rl(e))}function Goe(e,t,r){r===void 0&&(r=!1);const n=kp(e),a=TA(e),s=CA(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=mw(i)),[i,mw(i)]}function Yoe(e){const t=mw(e);return[BN(e),t,BN(t)]}function BN(e){return e.replace(/start|end/g,t=>qoe[t])}const xI=["left","right"],yI=["right","left"],Xoe=["top","bottom"],Joe=["bottom","top"];function Qoe(e,t,r){switch(e){case"top":case"bottom":return r?t?yI:xI:t?xI:yI;case"left":case"right":return t?Xoe:Joe;default:return[]}}function Zoe(e,t,r,n){const a=kp(e);let s=Qoe(hc(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(BN)))),s}function mw(e){return e.replace(/left|right|bottom|top/g,t=>Hoe[t])}function ele(e){return{top:0,right:0,bottom:0,left:0,...e}}function u9(e){return typeof e!="number"?ele(e):{top:e,right:e,bottom:e,left:e}}function pw(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function wI(e,t,r){let{reference:n,floating:a}=e;const s=rl(t),i=TA(t),l=CA(i),c=hc(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(kp(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const tle=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=wI(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:y}=l[p],{x:w,y:b,data:_,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=w??d,f=b??f,m={...m,[v]:{...m[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=wI(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Yg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=fc(t,e),g=u9(m),v=l[h?f==="floating"?"reference":"floating":f],y=pw(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},S=pw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(y.top-S.top+g.top)/_.y,bottom:(S.bottom-y.bottom+g.bottom)/_.y,left:(y.left-S.left+g.left)/_.x,right:(S.right-y.right+g.right)/_.x}}const rle=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=fc(e,t)||{};if(u==null)return{};const f=u9(d),h={x:r,y:n},m=TA(a),g=CA(m),p=await i.getDimensions(u),v=m==="y",y=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[m]-h[m]-s.floating[g],S=h[m]-s.reference[m],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=k?k[b]:0;(!j||!await(i.isElement==null?void 0:i.isElement(k)))&&(j=l.floating[b]||s.floating[g]);const E=_/2-S/2,N=j/2-p[g]/2-1,A=Du(f[y],N),D=Du(f[w],N),T=A,U=j-p[g]-D,q=j/2-p[g]/2+E,M=$N(T,q,U),I=!c.arrow&&kp(a)!=null&&q!==M&&s.reference[g]/2-(q<T?A:D)-p[g]/2<0,V=I?q<T?q-T:q-U:0;return{[m]:h[m]+V,data:{[m]:M,centerOffset:q-M-V,...I&&{alignmentOffset:V}},reset:I}}}),nle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=fc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=hc(a),w=rl(l),b=hc(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!p?[mw(l)]:Yoe(l)),k=g!=="none";!h&&k&&S.push(...Zoe(l,p,g,_));const j=[l,...S],E=await Yg(t,v),N=[];let A=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&N.push(E[y]),f){const q=Goe(a,i,_);N.push(E[q[0]],E[q[1]])}if(A=[...A,{placement:a,overflows:N}],!N.every(q=>q<=0)){var D,T;const q=(((D=s.flip)==null?void 0:D.index)||0)+1,M=j[q];if(M&&(!(f==="alignment"?w!==rl(M):!1)||A.every(F=>F.overflows[0]>0&&rl(F.placement)===w)))return{data:{index:q,overflows:A},reset:{placement:M}};let I=(T=A.filter(V=>V.overflows[0]<=0).sort((V,F)=>V.overflows[1]-F.overflows[1])[0])==null?void 0:T.placement;if(!I)switch(m){case"bestFit":{var U;const V=(U=A.filter(F=>{if(k){const R=rl(F.placement);return R===w||R==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(R=>R>0).reduce((R,re)=>R+re,0)]).sort((F,R)=>F[1]-R[1])[0])==null?void 0:U[0];V&&(I=V);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function bI(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _I(e){return Woe.some(t=>e[t]>=0)}const ale=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=fc(e,t);switch(n){case"referenceHidden":{const s=await Yg(t,{...a,elementContext:"reference"}),i=bI(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:_I(i)}}}case"escaped":{const s=await Yg(t,{...a,altBoundary:!0}),i=bI(s,r.floating);return{data:{escapedOffsets:i,escaped:_I(i)}}}default:return{}}}}},d9=new Set(["left","top"]);async function sle(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=hc(r),l=kp(r),c=rl(r)==="y",u=d9.has(i)?-1:1,d=s&&c?-1:1,f=fc(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const ile=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await sle(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},ole=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x:y,y:w}=v;return{x:y,y:w}}},...c}=fc(e,t),u={x:r,y:n},d=await Yg(t,c),f=rl(hc(a)),h=EA(f);let m=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=m+d[v],b=m-d[y];m=$N(w,m,b)}if(i){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=g+d[v],b=g-d[y];g=$N(w,g,b)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:i}}}}}},lle=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=fc(e,t),d={x:r,y:n},f=rl(a),h=EA(f);let m=d[h],g=d[f];const p=fc(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",_=s.reference[h]-s.floating[b]+v.mainAxis,S=s.reference[h]+s.reference[b]-v.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var y,w;const b=h==="y"?"width":"height",_=d9.has(hc(a)),S=s.reference[f]-s.floating[b]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:v.crossAxis),k=s.reference[f]+s.reference[b]+(_?0:((w=i.offset)==null?void 0:w[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>k&&(g=k)}return{[h]:m,[f]:g}}}},cle=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=fc(e,t),d=await Yg(t,u),f=hc(a),h=kp(a),m=rl(a)==="y",{width:g,height:p}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const w=p-d.top-d.bottom,b=g-d.left-d.right,_=Du(p-d[v],w),S=Du(g-d[y],b),k=!t.middlewareData.shift;let j=_,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=w),k&&!h){const A=Ys(d.left,0),D=Ys(d.right,0),T=Ys(d.top,0),U=Ys(d.bottom,0);m?E=g-2*(A!==0||D!==0?A+D:Ys(d.left,d.right)):j=p-2*(T!==0||U!==0?T+U:Ys(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:j});const N=await i.getDimensions(l.floating);return g!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function j_(){return typeof window<"u"}function Np(e){return f9(e)?(e.nodeName||"").toLowerCase():"#document"}function si(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kl(e){var t;return(t=(f9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f9(e){return j_()?e instanceof Node||e instanceof si(e).Node:!1}function Ao(e){return j_()?e instanceof Element||e instanceof si(e).Element:!1}function pl(e){return j_()?e instanceof HTMLElement||e instanceof si(e).HTMLElement:!1}function SI(e){return!j_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof si(e).ShadowRoot}const ule=new Set(["inline","contents"]);function dx(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Oo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ule.has(a)}const dle=new Set(["table","td","th"]);function fle(e){return dle.has(Np(e))}const hle=[":popover-open",":modal"];function k_(e){return hle.some(t=>{try{return e.matches(t)}catch{return!1}})}const mle=["transform","translate","scale","rotate","perspective"],ple=["transform","translate","scale","rotate","perspective","filter"],gle=["paint","layout","strict","content"];function AA(e){const t=OA(),r=Ao(e)?Oo(e):e;return mle.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||ple.some(n=>(r.willChange||"").includes(n))||gle.some(n=>(r.contain||"").includes(n))}function vle(e){let t=Ru(e);for(;pl(t)&&!Om(t);){if(AA(t))return t;if(k_(t))return null;t=Ru(t)}return null}function OA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xle=new Set(["html","body","#document"]);function Om(e){return xle.has(Np(e))}function Oo(e){return si(e).getComputedStyle(e)}function N_(e){return Ao(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ru(e){if(Np(e)==="html")return e;const t=e.assignedSlot||e.parentNode||SI(e)&&e.host||kl(e);return SI(t)?t.host:t}function h9(e){const t=Ru(e);return Om(t)?e.ownerDocument?e.ownerDocument.body:e.body:pl(t)&&dx(t)?t:h9(t)}function Xg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=h9(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=si(a);if(s){const l=UN(i);return t.concat(i,i.visualViewport||[],dx(a)?a:[],l&&r?Xg(l):[])}return t.concat(a,Xg(a,[],r))}function UN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function m9(e){const t=Oo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=pl(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=hw(r)!==s||hw(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function PA(e){return Ao(e)?e:e.contextElement}function Yh(e){const t=PA(e);if(!pl(t))return ol(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=m9(t);let i=(s?hw(r.width):r.width)/n,l=(s?hw(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const yle=ol(0);function p9(e){const t=si(e);return!OA()||!t.visualViewport?yle:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wle(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==si(e)?!1:t}function of(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=PA(e);let i=ol(1);t&&(n?Ao(n)&&(i=Yh(n)):i=Yh(e));const l=wle(s,r,n)?p9(s):ol(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=si(s),m=n&&Ao(n)?si(n):n;let g=h,p=UN(g);for(;p&&n&&m!==g;){const v=Yh(p),y=p.getBoundingClientRect(),w=Oo(p),b=y.left+(p.clientLeft+parseFloat(w.paddingLeft))*v.x,_=y.top+(p.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=_,g=si(p),p=UN(g)}}return pw({width:d,height:f,x:c,y:u})}function DA(e,t){const r=N_(e).scrollLeft;return t?t.left+r:of(kl(e)).left+r}function g9(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:DA(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function ble(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=kl(n),l=t?k_(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=ol(1);const d=ol(0),f=pl(n);if((f||!f&&!s)&&((Np(n)!=="body"||dx(i))&&(c=N_(n)),pl(n))){const m=of(n);u=Yh(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=i&&!f&&!s?g9(i,c,!0):ol(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function _le(e){return Array.from(e.getClientRects())}function Sle(e){const t=kl(e),r=N_(e),n=e.ownerDocument.body,a=Ys(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ys(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+DA(e);const l=-r.scrollTop;return Oo(n).direction==="rtl"&&(i+=Ys(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}function jle(e,t){const r=si(e),n=kl(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const u=OA();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:i,x:l,y:c}}const kle=new Set(["absolute","fixed"]);function Nle(e,t){const r=of(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=pl(e)?Yh(e):ol(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:l,x:c,y:u}}function jI(e,t,r){let n;if(t==="viewport")n=jle(e,r);else if(t==="document")n=Sle(kl(e));else if(Ao(t))n=Nle(t,r);else{const a=p9(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return pw(n)}function v9(e,t){const r=Ru(e);return r===t||!Ao(r)||Om(r)?!1:Oo(r).position==="fixed"||v9(r,t)}function Ele(e,t){const r=t.get(e);if(r)return r;let n=Xg(e,[],!1).filter(l=>Ao(l)&&Np(l)!=="body"),a=null;const s=Oo(e).position==="fixed";let i=s?Ru(e):e;for(;Ao(i)&&!Om(i);){const l=Oo(i),c=AA(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&kle.has(a.position)||dx(i)&&!c&&v9(e,i))?n=n.filter(d=>d!==i):a=l,i=Ru(i)}return t.set(e,n),n}function Cle(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?k_(t)?[]:Ele(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=jI(t,d,a);return u.top=Ys(f.top,u.top),u.right=Du(f.right,u.right),u.bottom=Du(f.bottom,u.bottom),u.left=Ys(f.left,u.left),u},jI(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Tle(e){const{width:t,height:r}=m9(e);return{width:t,height:r}}function Ale(e,t,r){const n=pl(t),a=kl(t),s=r==="fixed",i=of(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=ol(0);function u(){c.x=DA(a)}if(n||!n&&!s)if((Np(t)!=="body"||dx(a))&&(l=N_(t)),n){const m=of(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?g9(a,l):ol(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function ek(e){return Oo(e).position==="static"}function kI(e,t){if(!pl(e)||Oo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return kl(e)===r&&(r=r.ownerDocument.body),r}function x9(e,t){const r=si(e);if(k_(e))return r;if(!pl(e)){let a=Ru(e);for(;a&&!Om(a);){if(Ao(a)&&!ek(a))return a;a=Ru(a)}return r}let n=kI(e,t);for(;n&&fle(n)&&ek(n);)n=kI(n,t);return n&&Om(n)&&ek(n)&&!AA(n)?r:n||vle(e)||r}const Ole=async function(e){const t=this.getOffsetParent||x9,r=this.getDimensions,n=await r(e.floating);return{reference:Ale(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ple(e){return Oo(e).direction==="rtl"}const Dle={convertOffsetParentRelativeRectToViewportRelativeRect:ble,getDocumentElement:kl,getClippingRect:Cle,getOffsetParent:x9,getElementRects:Ole,getClientRects:_le,getDimensions:Tle,getScale:Yh,isElement:Ao,isRTL:Ple};function y9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Rle(e,t){let r=null,n;const a=kl(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=by(f),p=by(a.clientWidth-(d+h)),v=by(a.clientHeight-(f+m)),y=by(d),b={rootMargin:-g+"px "+-p+"px "+-v+"px "+-y+"px",threshold:Ys(0,Du(1,c))||1};let _=!0;function S(k){const j=k[0].intersectionRatio;if(j!==c){if(!_)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!y9(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return i(!0),s}function Ile(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=PA(e),d=a||s?[...u?Xg(u):[],...Xg(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&l?Rle(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?of(e):null;c&&v();function v(){const y=of(e);p&&!y9(p,y)&&r(),p=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(w=>{a&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Mle=ile,Fle=ole,Lle=nle,$le=cle,Ble=ale,NI=rle,Ule=lle,Vle=(e,t,r)=>{const n=new Map,a={platform:Dle,...r},s={...a.platform,_c:n};return tle(e,t,{...a,platform:s})};var zle=typeof document<"u",Wle=function(){},j1=zle?x.useLayoutEffect:Wle;function gw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gw(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!gw(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function w9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function EI(e,t){const r=w9(e);return Math.round(t*r)/r}function tk(e){const t=x.useRef(e);return j1(()=>{t.current=e}),t}function Hle(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);gw(h,n)||m(n);const[g,p]=x.useState(null),[v,y]=x.useState(null),w=x.useCallback(F=>{F!==k.current&&(k.current=F,p(F))},[]),b=x.useCallback(F=>{F!==j.current&&(j.current=F,y(F))},[]),_=s||g,S=i||v,k=x.useRef(null),j=x.useRef(null),E=x.useRef(d),N=c!=null,A=tk(c),D=tk(a),T=tk(u),U=x.useCallback(()=>{if(!k.current||!j.current)return;const F={placement:t,strategy:r,middleware:h};D.current&&(F.platform=D.current),Vle(k.current,j.current,F).then(R=>{const re={...R,isPositioned:T.current!==!1};q.current&&!gw(E.current,re)&&(E.current=re,bp.flushSync(()=>{f(re)}))})},[h,t,r,D,T]);j1(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const q=x.useRef(!1);j1(()=>(q.current=!0,()=>{q.current=!1}),[]),j1(()=>{if(_&&(k.current=_),S&&(j.current=S),_&&S){if(A.current)return A.current(_,S,U);U()}},[_,S,U,A,N]);const M=x.useMemo(()=>({reference:k,floating:j,setReference:w,setFloating:b}),[w,b]),I=x.useMemo(()=>({reference:_,floating:S}),[_,S]),V=x.useMemo(()=>{const F={position:r,left:0,top:0};if(!I.floating)return F;const R=EI(I.floating,d.x),re=EI(I.floating,d.y);return l?{...F,transform:"translate("+R+"px, "+re+"px)",...w9(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:re}},[r,l,I.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:U,refs:M,elements:I,floatingStyles:V}),[d,U,M,I,V])}const qle=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?NI({element:n.current,padding:a}).fn(r):{}:n?NI({element:n,padding:a}).fn(r):{}}}},Kle=(e,t)=>({...Mle(e),options:[e,t]}),Gle=(e,t)=>({...Fle(e),options:[e,t]}),Yle=(e,t)=>({...Ule(e),options:[e,t]}),Xle=(e,t)=>({...Lle(e),options:[e,t]}),Jle=(e,t)=>({...$le(e),options:[e,t]}),Qle=(e,t)=>({...Ble(e),options:[e,t]}),Zle=(e,t)=>({...qle(e),options:[e,t]});var ece="Arrow",b9=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(ct.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});b9.displayName=ece;var tce=b9;function RA(e){const[t,r]=x.useState(void 0);return Tn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var IA="Popper",[_9,Ep]=ds(IA),[rce,S9]=_9(IA),j9=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return o.jsx(rce,{scope:t,anchor:n,onAnchorChange:a,children:r})};j9.displayName=IA;var k9="PopperAnchor",N9=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=S9(k9,r),i=x.useRef(null),l=Wt(t,i);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(ct.div,{...a,ref:l})});N9.displayName=k9;var MA="PopperContent",[nce,ace]=_9(MA),E9=x.forwardRef((e,t)=>{var oe,ue,ie,X,de,O;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=S9(MA,r),[y,w]=x.useState(null),b=Wt(t,Fe=>w(Fe)),[_,S]=x.useState(null),k=RA(_),j=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,N=n+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],T=D.length>0,U={padding:A,boundary:D.filter(ice),altBoundary:T},{refs:q,floatingStyles:M,placement:I,isPositioned:V,middlewareData:F}=Hle({strategy:"fixed",placement:N,whileElementsMounted:(...Fe)=>Ile(...Fe,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Kle({mainAxis:a+E,alignmentAxis:i}),c&&Gle({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Yle():void 0,...U}),c&&Xle({...U}),Jle({...U,apply:({elements:Fe,rects:Re,availableWidth:Be,availableHeight:We})=>{const{width:De,height:ft}=Re.reference,gt=Fe.floating.style;gt.setProperty("--radix-popper-available-width",`${Be}px`),gt.setProperty("--radix-popper-available-height",`${We}px`),gt.setProperty("--radix-popper-anchor-width",`${De}px`),gt.setProperty("--radix-popper-anchor-height",`${ft}px`)}}),_&&Zle({element:_,padding:l}),oce({arrowWidth:j,arrowHeight:E}),h&&Qle({strategy:"referenceHidden",...U})]}),[R,re]=A9(I),Z=Yn(g);Tn(()=>{V&&(Z==null||Z())},[V,Z]);const C=(oe=F.arrow)==null?void 0:oe.x,K=(ue=F.arrow)==null?void 0:ue.y,B=((ie=F.arrow)==null?void 0:ie.centerOffset)!==0,[z,ne]=x.useState();return Tn(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:V?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(X=F.transformOrigin)==null?void 0:X.x,(de=F.transformOrigin)==null?void 0:de.y].join(" "),...((O=F.hide)==null?void 0:O.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(nce,{scope:r,placedSide:R,onArrowChange:S,arrowX:C,arrowY:K,shouldHideArrow:B,children:o.jsx(ct.div,{"data-side":R,"data-align":re,...p,ref:b,style:{...p.style,animation:V?void 0:"none"}})})})});E9.displayName=MA;var C9="PopperArrow",sce={top:"bottom",right:"left",bottom:"top",left:"right"},T9=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=ace(C9,n),i=sce[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(tce,{...a,ref:r,style:{...a.style,display:"block"}})})});T9.displayName=C9;function ice(e){return e!==null}var oce=e=>({name:"transformOrigin",options:e,fn(t){var v,y,w;const{placement:r,rects:n,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=A9(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=i?f:`${h}px`,p=`${-c}px`):u==="top"?(g=i?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=i?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=i?f:`${m}px`),{data:{x:g,y:p}}}});function A9(e){const[t,r="center"]=e.split("-");return[t,r]}var FA=j9,E_=N9,LA=E9,$A=T9,lce="Portal",fx=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=x.useState(!1);Tn(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Uee.createPortal(o.jsx(ct.div,{...n,ref:t}),i):null});fx.displayName=lce;var cce=pT[" useInsertionEffect ".trim().toString()]||Tn;function mc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=uce({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=dce(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[l,e,s,i]);return[c,u]}function uce({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return cce(()=>{s.current=t},[t]),x.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function dce(e){return typeof e=="function"}function BA(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var O9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fce="VisuallyHidden",hce=x.forwardRef((e,t)=>o.jsx(ct.span,{...e,ref:t,style:{...O9,...e.style}}));hce.displayName=fce;var mce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Kf=new WeakMap,_y=new WeakMap,Sy={},rk=0,P9=function(e){return e&&(e.host||P9(e.parentNode))},pce=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=P9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},gce=function(e,t,r,n){var a=pce(t,Array.isArray(e)?e:[e]);Sy[r]||(Sy[r]=new WeakMap);var s=Sy[r],i=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Kf.get(h)||0)+1,v=(s.get(h)||0)+1;Kf.set(h,p),s.set(h,v),i.push(h),p===1&&g&&_y.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),rk++,function(){i.forEach(function(f){var h=Kf.get(f)-1,m=s.get(f)-1;Kf.set(f,h),s.set(f,m),h||(_y.has(f)||f.removeAttribute(n),_y.delete(f)),m||f.removeAttribute(r)}),rk--,rk||(Kf=new WeakMap,Kf=new WeakMap,_y=new WeakMap,Sy={})}},C_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=mce(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),gce(n,a,r,"aria-hidden")):function(){return null}},VN=function(e,t){return VN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},VN(e,t)};function D9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");VN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ai=function(){return Ai=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ai.apply(this,arguments)};function Hu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function R9(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function I9(e,t){return function(r,n){t(r,n,e)}}function M9(e,t,r,n,a,s){function i(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var g={};for(var p in n)g[p]=p==="access"?{}:n[p];for(var p in n.access)g.access[p]=n.access[p];g.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(y||null))};var v=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],g);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=i(v.get))&&(d.get=f),(f=i(v.set))&&(d.set=f),(f=i(v.init))&&a.unshift(f)}else(f=i(v))&&(l==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function F9(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function L9(e){return typeof e=="symbol"?e:"".concat(e)}function $9(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function B9(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function dt(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function U9(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var T_=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function V9(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&T_(t,e,r)}function vw(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function UA(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function z9(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(UA(arguments[t]));return e}function W9(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],i=0,l=s.length;i<l;i++,a++)n[a]=s[i];return n}function VA(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Pm(e){return this instanceof Pm?(this.v=e,this):new Pm(e)}function H9(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(m){return function(g){return Promise.resolve(g).then(m,f)}}function l(m,g){n[m]&&(a[m]=function(p){return new Promise(function(v,y){s.push([m,p,v,y])>1||c(m,p)})},g&&(a[m]=g(a[m])))}function c(m,g){try{u(n[m](g))}catch(p){h(s[0][3],p)}}function u(m){m.value instanceof Pm?Promise.resolve(m.value.v).then(d,f):h(s[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,g){m(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function q9(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(i){return(r=!r)?{value:Pm(e[a](i)),done:!1}:s?s(i):i}:s}}function K9(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof vw=="function"?vw(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(l,c){i=e[s](i),a(l,c,i.done,i.value)})}}function a(s,i,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},i)}}function G9(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var vce=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},zN=function(e){return zN=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},zN(e)};function Y9(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=zN(e),n=0;n<r.length;n++)r[n]!=="default"&&T_(t,e,r[n]);return vce(t,e),t}function X9(e){return e&&e.__esModule?e:{default:e}}function J9(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Q9(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function Z9(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function e7(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var xce=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function t7(e){function t(s){e.error=e.hasError?new xce(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(i){return t(i),a()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function r7(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,i){return n?t?".jsx":".js":a&&(!s||!i)?r:a+s+"."+i.toLowerCase()+"js"}):e}const yce={__extends:D9,__assign:Ai,__rest:Hu,__decorate:R9,__param:I9,__esDecorate:M9,__runInitializers:F9,__propKey:L9,__setFunctionName:$9,__metadata:B9,__awaiter:dt,__generator:U9,__createBinding:T_,__exportStar:V9,__values:vw,__read:UA,__spread:z9,__spreadArrays:W9,__spreadArray:VA,__await:Pm,__asyncGenerator:H9,__asyncDelegator:q9,__asyncValues:K9,__makeTemplateObject:G9,__importStar:Y9,__importDefault:X9,__classPrivateFieldGet:J9,__classPrivateFieldSet:Q9,__classPrivateFieldIn:Z9,__addDisposableResource:e7,__disposeResources:t7,__rewriteRelativeImportExtension:r7},wce=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:e7,get __assign(){return Ai},__asyncDelegator:q9,__asyncGenerator:H9,__asyncValues:K9,__await:Pm,__awaiter:dt,__classPrivateFieldGet:J9,__classPrivateFieldIn:Z9,__classPrivateFieldSet:Q9,__createBinding:T_,__decorate:R9,__disposeResources:t7,__esDecorate:M9,__exportStar:V9,__extends:D9,__generator:U9,__importDefault:X9,__importStar:Y9,__makeTemplateObject:G9,__metadata:B9,__param:I9,__propKey:L9,__read:UA,__rest:Hu,__rewriteRelativeImportExtension:r7,__runInitializers:F9,__setFunctionName:$9,__spread:z9,__spreadArray:VA,__spreadArrays:W9,__values:vw,default:yce},Symbol.toStringTag,{value:"Module"}));var k1="right-scroll-bar-position",N1="width-before-scroll-bar",bce="with-scroll-bars-hidden",_ce="--removed-body-scroll-bar-size";function nk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Sce(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var jce=typeof window<"u"?x.useLayoutEffect:x.useEffect,CI=new WeakMap;function kce(e,t){var r=Sce(null,function(n){return e.forEach(function(a){return nk(a,n)})});return jce(function(){var n=CI.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||nk(l,null)}),s.forEach(function(l){a.has(l)||nk(l,i)})}CI.set(r,e)},[e]),r}function Nce(e){return e}function Ece(e,t){t===void 0&&(t=Nce);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function Cce(e){e===void 0&&(e={});var t=Ece(null);return t.options=Ai({async:!0,ssr:!1},e),t}var n7=function(e){var t=e.sideCar,r=Hu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Ai({},r))};n7.isSideCarExport=!0;function Tce(e,t){return e.useMedium(t),n7}var a7=Cce(),ak=function(){},A_=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:ak,onWheelCapture:ak,onTouchMoveCapture:ak}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,b=e.gapMode,_=Hu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=kce([r,t]),j=Ai(Ai({},_),a);return x.createElement(x.Fragment,null,d&&x.createElement(S,{sideCar:a7,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:b}),i?x.cloneElement(x.Children.only(l),Ai(Ai({},j),{ref:k})):x.createElement(w,Ai({},j,{className:c,ref:k}),l))});A_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A_.classNames={fullWidth:N1,zeroRight:k1};var Ace=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Oce(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ace();return t&&e.setAttribute("nonce",t),e}function Pce(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Dce(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Rce=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Oce())&&(Pce(t,r),Dce(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ice=function(){var e=Rce();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},s7=function(){var e=Ice(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Mce={left:0,top:0,right:0,gap:0},sk=function(e){return parseInt(e||"",10)||0},Fce=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[sk(r),sk(n),sk(a)]},Lce=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Mce;var t=Fce(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},$ce=s7(),Xh="data-scroll-locked",Bce=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(bce,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Xh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(k1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(N1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(k1," .").concat(k1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(N1," .").concat(N1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xh,`] {
    `).concat(_ce,": ").concat(l,`px;
  }
`)},TI=function(){var e=parseInt(document.body.getAttribute(Xh)||"0",10);return isFinite(e)?e:0},Uce=function(){x.useEffect(function(){return document.body.setAttribute(Xh,(TI()+1).toString()),function(){var e=TI()-1;e<=0?document.body.removeAttribute(Xh):document.body.setAttribute(Xh,e.toString())}},[])},Vce=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Uce();var s=x.useMemo(function(){return Lce(a)},[a]);return x.createElement($ce,{styles:Bce(s,!t,a,r?"":"!important")})},WN=!1;if(typeof window<"u")try{var jy=Object.defineProperty({},"passive",{get:function(){return WN=!0,!0}});window.addEventListener("test",jy,jy),window.removeEventListener("test",jy,jy)}catch{WN=!1}var Gf=WN?{passive:!1}:!1,zce=function(e){return e.tagName==="TEXTAREA"},i7=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!zce(e)&&r[t]==="visible")},Wce=function(e){return i7(e,"overflowY")},Hce=function(e){return i7(e,"overflowX")},AI=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=o7(e,n);if(a){var s=l7(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},qce=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Kce=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},o7=function(e,t){return e==="v"?Wce(t):Hce(t)},l7=function(e,t){return e==="v"?qce(t):Kce(t)},Gce=function(e,t){return e==="h"&&t==="rtl"?-1:1},Yce=function(e,t,r,n,a){var s=Gce(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var m=l7(e,l),g=m[0],p=m[1],v=m[2],y=p-v-s*g;(g||y)&&o7(e,l)&&(f+=y,h+=g);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},ky=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},OI=function(e){return[e.deltaX,e.deltaY]},PI=function(e){return e&&"current"in e?e.current:e},Xce=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Jce=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Qce=0,Yf=[];function Zce(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(Qce++)[0],s=x.useState(s7)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=VA([e.lockRef.current],(e.shards||[]).map(PI),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var y=ky(p),w=r.current,b="deltaX"in p?p.deltaX:w[0]-y[0],_="deltaY"in p?p.deltaY:w[1]-y[1],S,k=p.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&j==="h"&&k.type==="range")return!1;var E=AI(j,k);if(!E)return!0;if(E?S=j:(S=j==="v"?"h":"v",E=AI(j,k)),!E)return!1;if(!n.current&&"changedTouches"in p&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return Yce(N,v,p,N==="h"?b:_,!0)},[]),c=x.useCallback(function(p){var v=p;if(!(!Yf.length||Yf[Yf.length-1]!==s)){var y="deltaY"in v?OI(v):ky(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Xce(S.delta,y)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(PI).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(p,v,y,w){var b={name:p,delta:v,target:y,should:w,shadowParent:eue(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=x.useCallback(function(p){r.current=ky(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,OI(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,ky(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return Yf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Gf),document.addEventListener("touchmove",c,Gf),document.addEventListener("touchstart",d,Gf),function(){Yf=Yf.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,Gf),document.removeEventListener("touchmove",c,Gf),document.removeEventListener("touchstart",d,Gf)}},[]);var m=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(s,{styles:Jce(a)}):null,m?x.createElement(Vce,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function eue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tue=Tce(a7,Zce);var hx=x.forwardRef(function(e,t){return x.createElement(A_,Ai({},e,{ref:t,sideCar:tue}))});hx.classNames=A_.classNames;var rue=[" ","Enter","ArrowUp","ArrowDown"],nue=[" ","Enter"],lf="Select",[O_,P_,aue]=NA(lf),[Cp,WYe]=ds(lf,[aue,Ep]),D_=Ep(),[sue,qu]=Cp(lf),[iue,oue]=Cp(lf),c7=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=D_(t),[v,y]=x.useState(null),[w,b]=x.useState(null),[_,S]=x.useState(!1),k=lx(u),[j,E]=mc({prop:n,defaultProp:a??!1,onChange:s,caller:lf}),[N,A]=mc({prop:i,defaultProp:l,onChange:c,caller:lf}),D=x.useRef(null),T=v?g||!!v.closest("form"):!0,[U,q]=x.useState(new Set),M=Array.from(U).map(I=>I.props.value).join(";");return o.jsx(FA,{...p,children:o.jsxs(sue,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:oa(),value:N,onValueChange:A,open:j,onOpenChange:E,dir:k,triggerPointerDownPosRef:D,disabled:h,children:[o.jsx(O_.Provider,{scope:t,children:o.jsx(iue,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(I=>{q(V=>new Set(V).add(I))},[]),onNativeOptionRemove:x.useCallback(I=>{q(V=>{const F=new Set(V);return F.delete(I),F})},[]),children:r})}),T?o.jsxs(D7,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:I=>A(I.target.value),disabled:h,form:g,children:[N===void 0?o.jsx("option",{value:""}):null,Array.from(U)]},M):null]})})};c7.displayName=lf;var u7="SelectTrigger",d7=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=D_(r),i=qu(u7,r),l=i.disabled||n,c=Wt(t,i.onTriggerChange),u=P_(r),d=x.useRef("touch"),[f,h,m]=I7(p=>{const v=u().filter(b=>!b.disabled),y=v.find(b=>b.value===i.value),w=M7(v,p,y);w!==void 0&&i.onValueChange(w.value)}),g=p=>{l||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(E_,{asChild:!0,...s,children:o.jsx(ct.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":R7(i.value)?"":void 0,...a,ref:c,onClick:tt(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:tt(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:tt(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&rue.includes(p.key)&&(g(),p.preventDefault())})})})});d7.displayName=u7;var f7="SelectValue",h7=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,c=qu(f7,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Wt(t,c.onValueNodeChange);return Tn(()=>{u(d)},[u,d]),o.jsx(ct.span,{...l,ref:f,style:{pointerEvents:"none"},children:R7(c.value)?o.jsx(o.Fragment,{children:i}):s})});h7.displayName=f7;var lue="SelectIcon",m7=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(ct.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});m7.displayName=lue;var cue="SelectPortal",p7=e=>o.jsx(fx,{asChild:!0,...e});p7.displayName=cue;var cf="SelectContent",g7=x.forwardRef((e,t)=>{const r=qu(cf,e.__scopeSelect),[n,a]=x.useState();if(Tn(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?bp.createPortal(o.jsx(v7,{scope:e.__scopeSelect,children:o.jsx(O_.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(x7,{...e,ref:t})});g7.displayName=cf;var to=10,[v7,Ku]=Cp(cf),uue="SelectContentImpl",due=Ou("SelectContent.RemoveScroll"),x7=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...y}=e,w=qu(cf,r),[b,_]=x.useState(null),[S,k]=x.useState(null),j=Wt(t,oe=>_(oe)),[E,N]=x.useState(null),[A,D]=x.useState(null),T=P_(r),[U,q]=x.useState(!1),M=x.useRef(!1);x.useEffect(()=>{if(b)return C_(b)},[b]),S_();const I=x.useCallback(oe=>{const[ue,...ie]=T().map(O=>O.ref.current),[X]=ie.slice(-1),de=document.activeElement;for(const O of oe)if(O===de||(O==null||O.scrollIntoView({block:"nearest"}),O===ue&&S&&(S.scrollTop=0),O===X&&S&&(S.scrollTop=S.scrollHeight),O==null||O.focus(),document.activeElement!==de))return},[T,S]),V=x.useCallback(()=>I([E,b]),[I,E,b]);x.useEffect(()=>{U&&V()},[U,V]);const{onOpenChange:F,triggerPointerDownPosRef:R}=w;x.useEffect(()=>{if(b){let oe={x:0,y:0};const ue=X=>{var de,O;oe={x:Math.abs(Math.round(X.pageX)-(((de=R.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(X.pageY)-(((O=R.current)==null?void 0:O.y)??0))}},ie=X=>{oe.x<=10&&oe.y<=10?X.preventDefault():b.contains(X.target)||F(!1),document.removeEventListener("pointermove",ue),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",ie,{capture:!0})}}},[b,F,R]),x.useEffect(()=>{const oe=()=>F(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[F]);const[re,Z]=I7(oe=>{const ue=T().filter(de=>!de.disabled),ie=ue.find(de=>de.ref.current===document.activeElement),X=M7(ue,oe,ie);X&&setTimeout(()=>X.ref.current.focus())}),C=x.useCallback((oe,ue,ie)=>{const X=!M.current&&!ie;(w.value!==void 0&&w.value===ue||X)&&(N(oe),X&&(M.current=!0))},[w.value]),K=x.useCallback(()=>b==null?void 0:b.focus(),[b]),B=x.useCallback((oe,ue,ie)=>{const X=!M.current&&!ie;(w.value!==void 0&&w.value===ue||X)&&D(oe)},[w.value]),z=n==="popper"?HN:y7,ne=z===HN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return o.jsx(v7,{scope:r,content:b,viewport:S,onViewportChange:k,itemRefCallback:C,selectedItem:E,onItemLeave:K,itemTextRefCallback:B,focusSelectedItem:V,selectedItemText:A,position:n,isPositioned:U,searchRef:re,children:o.jsx(hx,{as:due,allowPinchZoom:!0,children:o.jsx(ux,{asChild:!0,trapped:w.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:tt(a,oe=>{var ue;(ue=w.trigger)==null||ue.focus({preventScroll:!0}),oe.preventDefault()}),children:o.jsx(cx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(z,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:oe=>oe.preventDefault(),...y,...ne,onPlaced:()=>q(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:tt(y.onKeyDown,oe=>{const ue=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ue&&oe.key.length===1&&Z(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let X=T().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const de=oe.target,O=X.indexOf(de);X=X.slice(O+1)}setTimeout(()=>I(X)),oe.preventDefault()}})})})})})})});x7.displayName=uue;var fue="SelectItemAlignedPosition",y7=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=qu(cf,r),i=Ku(cf,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=Wt(t,j=>d(j)),h=P_(r),m=x.useRef(!1),g=x.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:w}=i,b=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&v&&y){const j=s.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(s.dir!=="rtl"){const de=A.left-E.left,O=N.left-de,Fe=j.left-O,Re=j.width+Fe,Be=Math.max(Re,E.width),We=window.innerWidth-to,De=FN(O,[to,Math.max(to,We-Be)]);l.style.minWidth=Re+"px",l.style.left=De+"px"}else{const de=E.right-A.right,O=window.innerWidth-N.right-de,Fe=window.innerWidth-j.right-O,Re=j.width+Fe,Be=Math.max(Re,E.width),We=window.innerWidth-to,De=FN(O,[to,Math.max(to,We-Be)]);l.style.minWidth=Re+"px",l.style.right=De+"px"}const D=h(),T=window.innerHeight-to*2,U=p.scrollHeight,q=window.getComputedStyle(u),M=parseInt(q.borderTopWidth,10),I=parseInt(q.paddingTop,10),V=parseInt(q.borderBottomWidth,10),F=parseInt(q.paddingBottom,10),R=M+I+U+F+V,re=Math.min(v.offsetHeight*5,R),Z=window.getComputedStyle(p),C=parseInt(Z.paddingTop,10),K=parseInt(Z.paddingBottom,10),B=j.top+j.height/2-to,z=T-B,ne=v.offsetHeight/2,oe=v.offsetTop+ne,ue=M+I+oe,ie=R-ue;if(ue<=B){const de=D.length>0&&v===D[D.length-1].ref.current;l.style.bottom="0px";const O=u.clientHeight-p.offsetTop-p.offsetHeight,Fe=Math.max(z,ne+(de?K:0)+O+V),Re=ue+Fe;l.style.height=Re+"px"}else{const de=D.length>0&&v===D[0].ref.current;l.style.top="0px";const Fe=Math.max(B,M+p.offsetTop+(de?C:0)+ne)+ie;l.style.height=Fe+"px",p.scrollTop=ue-B+p.offsetTop}l.style.margin=`${to}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,v,y,s.dir,n]);Tn(()=>b(),[b]);const[_,S]=x.useState();Tn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=x.useCallback(j=>{j&&g.current===!0&&(b(),w==null||w(),g.current=!1)},[b,w]);return o.jsx(mue,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(ct.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});y7.displayName=fue;var hue="SelectPopperPosition",HN=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=to,...s}=e,i=D_(r);return o.jsx(LA,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});HN.displayName=hue;var[mue,zA]=Cp(cf,{}),qN="SelectViewport",w7=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Ku(qN,r),i=zA(qN,r),l=Wt(t,s.onViewportChange),c=x.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(O_.Slot,{scope:r,children:o.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:tt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-to*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(p,v);if(y<g){const w=y+m,b=Math.min(g,w),_=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});w7.displayName=qN;var b7="SelectGroup",[pue,gue]=Cp(b7),vue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=oa();return o.jsx(pue,{scope:r,id:a,children:o.jsx(ct.div,{role:"group","aria-labelledby":a,...n,ref:t})})});vue.displayName=b7;var _7="SelectLabel",S7=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=gue(_7,r);return o.jsx(ct.div,{id:a.id,...n,ref:t})});S7.displayName=_7;var xw="SelectItem",[xue,j7]=Cp(xw),k7=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=qu(xw,r),c=Ku(xw,r),u=l.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),g=Wt(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,n,a)}),p=oa(),v=x.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(xue,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(O_.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(ct.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:tt(i.onFocus,()=>m(!0)),onBlur:tt(i.onBlur,()=>m(!1)),onClick:tt(i.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:tt(i.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:tt(i.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:tt(i.onPointerMove,w=>{var b;v.current=w.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tt(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:tt(i.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(nue.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});k7.displayName=xw;var I0="SelectItemText",N7=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=qu(I0,r),l=Ku(I0,r),c=j7(I0,r),u=oue(I0,r),[d,f]=x.useState(null),h=Wt(t,y=>f(y),c.onItemTextChange,y=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=x.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Tn(()=>(p(g),()=>v(g)),[p,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(ct.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?bp.createPortal(s.children,i.valueNode):null]})});N7.displayName=I0;var E7="SelectItemIndicator",C7=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return j7(E7,r).isSelected?o.jsx(ct.span,{"aria-hidden":!0,...n,ref:t}):null});C7.displayName=E7;var KN="SelectScrollUpButton",T7=x.forwardRef((e,t)=>{const r=Ku(KN,e.__scopeSelect),n=zA(KN,e.__scopeSelect),[a,s]=x.useState(!1),i=Wt(t,n.onScrollButtonChange);return Tn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(O7,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});T7.displayName=KN;var GN="SelectScrollDownButton",A7=x.forwardRef((e,t)=>{const r=Ku(GN,e.__scopeSelect),n=zA(GN,e.__scopeSelect),[a,s]=x.useState(!1),i=Wt(t,n.onScrollButtonChange);return Tn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(O7,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});A7.displayName=GN;var O7=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Ku("SelectScrollButton",r),i=x.useRef(null),l=P_(r),c=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Tn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ct.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:tt(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:tt(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:tt(a.onPointerLeave,()=>{c()})})}),yue="SelectSeparator",P7=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ct.div,{"aria-hidden":!0,...n,ref:t})});P7.displayName=yue;var YN="SelectArrow",wue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=D_(r),s=qu(YN,r),i=Ku(YN,r);return s.open&&i.position==="popper"?o.jsx($A,{...a,...n,ref:t}):null});wue.displayName=YN;var bue="SelectBubbleInput",D7=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=Wt(n,a),i=BA(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(ct.select,{...r,style:{...O9,...r.style},ref:s,defaultValue:t})});D7.displayName=bue;function R7(e){return e===""||e===void 0}function I7(e){const t=Yn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function M7(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=_ue(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function _ue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Sue=c7,F7=d7,jue=h7,kue=m7,Nue=p7,L7=g7,Eue=w7,$7=S7,B7=k7,Cue=N7,Tue=C7,U7=T7,V7=A7,z7=P7;const _t=Sue,St=jue,wt=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(F7,{ref:n,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(kue,{asChild:!0,children:o.jsx(y_,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=F7.displayName;const W7=x.forwardRef(({className:e,...t},r)=>o.jsx(U7,{ref:r,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Gie,{className:"h-4 w-4"})}));W7.displayName=U7.displayName;const H7=x.forwardRef(({className:e,...t},r)=>o.jsx(V7,{ref:r,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(y_,{className:"h-4 w-4"})}));H7.displayName=V7.displayName;const bt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(Nue,{children:o.jsxs(L7,{ref:a,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(W7,{}),o.jsx(Eue,{className:ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(H7,{})]})}));bt.displayName=L7.displayName;const Aue=x.forwardRef(({className:e,...t},r)=>o.jsx($7,{ref:r,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Aue.displayName=$7.displayName;const Ae=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(B7,{ref:n,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Tue,{children:o.jsx(jA,{className:"h-4 w-4"})})}),o.jsx(Cue,{children:t})]}));Ae.displayName=B7.displayName;const Oue=x.forwardRef(({className:e,...t},r)=>o.jsx(z7,{ref:r,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));Oue.displayName=z7.displayName;const q7=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=mi(),n=r.find(a=>a.code===e);return o.jsxs(_t,{value:e,onValueChange:t,children:[o.jsx(wt,{className:"w-[140px]",children:o.jsx(St,{children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:n==null?void 0:n.name})})})}),o.jsx(bt,{children:r.map(a=>o.jsx(Ae,{value:a.code,children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:a.name})})},a.code))})]})};function Pue(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Fa=e=>{const{present:t,children:r}=e,n=Due(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=Wt(n.ref,Rue(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};Fa.displayName="Presence";function Due(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Pue(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Ny(n.current);s.current=l==="mounted"?u:"none"},[l]),Tn(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=Ny(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Tn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Ny(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=Ny(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ny(e){return(e==null?void 0:e.animationName)||"none"}function Rue(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ik="rovingFocusGroup.onEntryFocus",Iue={bubbles:!1,cancelable:!0},mx="RovingFocusGroup",[XN,K7,Mue]=NA(mx),[Fue,R_]=ds(mx,[Mue]),[Lue,$ue]=Fue(mx),G7=x.forwardRef((e,t)=>o.jsx(XN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(XN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Bue,{...e,ref:t})})}));G7.displayName=mx;var Bue=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=Wt(t,h),g=lx(s),[p,v]=mc({prop:i,defaultProp:l??null,onChange:c,caller:mx}),[y,w]=x.useState(!1),b=Yn(u),_=K7(r),S=x.useRef(!1),[k,j]=x.useState(0);return x.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(ik,b),()=>E.removeEventListener(ik,b)},[b]),o.jsx(Lue,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(E=>v(E),[v]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>j(E=>E+1),[]),onFocusableItemRemove:x.useCallback(()=>j(E=>E-1),[]),children:o.jsx(ct.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:tt(e.onMouseDown,()=>{S.current=!0}),onFocus:tt(e.onFocus,E=>{const N=!S.current;if(E.target===E.currentTarget&&N&&!y){const A=new CustomEvent(ik,Iue);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=_().filter(I=>I.focusable),T=D.find(I=>I.active),U=D.find(I=>I.id===p),M=[T,U,...D].filter(Boolean).map(I=>I.ref.current);J7(M,d)}}S.current=!1}),onBlur:tt(e.onBlur,()=>w(!1))})})}),Y7="RovingFocusGroupItem",X7=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...l}=e,c=oa(),u=s||c,d=$ue(Y7,r),f=d.currentTabStopId===u,h=K7(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return x.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),o.jsx(XN.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(ct.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:tt(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:tt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:tt(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=zue(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const _=b.indexOf(v.currentTarget);b=d.loop?Wue(b,_+1):b.slice(_+1)}setTimeout(()=>J7(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});X7.displayName=Y7;var Uue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vue(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zue(e,t,r){const n=Vue(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Uue[n]}function J7(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Wue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Q7=G7,Z7=X7,JN=["Enter"," "],Hue=["ArrowDown","PageUp","Home"],eV=["ArrowUp","PageDown","End"],que=[...Hue,...eV],Kue={ltr:[...JN,"ArrowRight"],rtl:[...JN,"ArrowLeft"]},Gue={ltr:["ArrowLeft"],rtl:["ArrowRight"]},px="Menu",[Jg,Yue,Xue]=NA(px),[Cf,tV]=ds(px,[Xue,Ep,R_]),I_=Ep(),rV=R_(),[Jue,Tf]=Cf(px),[Que,gx]=Cf(px),nV=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,l=I_(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Yn(s),h=lx(a);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(FA,{...l,children:o.jsx(Jue,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(Que,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};nV.displayName=px;var Zue="MenuAnchor",WA=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=I_(r);return o.jsx(E_,{...a,...n,ref:t})});WA.displayName=Zue;var HA="MenuPortal",[ede,aV]=Cf(HA,{forceMount:void 0}),sV=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Tf(HA,t);return o.jsx(ede,{scope:t,forceMount:r,children:o.jsx(Fa,{present:r||s.open,children:o.jsx(fx,{asChild:!0,container:a,children:n})})})};sV.displayName=HA;var Fi="MenuContent",[tde,qA]=Cf(Fi),iV=x.forwardRef((e,t)=>{const r=aV(Fi,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Tf(Fi,e.__scopeMenu),i=gx(Fi,e.__scopeMenu);return o.jsx(Jg.Provider,{scope:e.__scopeMenu,children:o.jsx(Fa,{present:n||s.open,children:o.jsx(Jg.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(rde,{...a,ref:t}):o.jsx(nde,{...a,ref:t})})})})}),rde=x.forwardRef((e,t)=>{const r=Tf(Fi,e.__scopeMenu),n=x.useRef(null),a=Wt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return C_(s)},[]),o.jsx(KA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:tt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),nde=x.forwardRef((e,t)=>{const r=Tf(Fi,e.__scopeMenu);return o.jsx(KA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ade=Ou("MenuContent.ScrollLock"),KA=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=Tf(Fi,r),y=gx(Fi,r),w=I_(r),b=rV(r),_=Yue(r),[S,k]=x.useState(null),j=x.useRef(null),E=Wt(t,j,v.onContentChange),N=x.useRef(0),A=x.useRef(""),D=x.useRef(0),T=x.useRef(null),U=x.useRef("right"),q=x.useRef(0),M=g?hx:x.Fragment,I=g?{as:ade,allowPinchZoom:!0}:void 0,V=R=>{var oe,ue;const re=A.current+R,Z=_().filter(ie=>!ie.disabled),C=document.activeElement,K=(oe=Z.find(ie=>ie.ref.current===C))==null?void 0:oe.textValue,B=Z.map(ie=>ie.textValue),z=gde(B,re,K),ne=(ue=Z.find(ie=>ie.textValue===z))==null?void 0:ue.ref.current;(function ie(X){A.current=X,window.clearTimeout(N.current),X!==""&&(N.current=window.setTimeout(()=>ie(""),1e3))})(re),ne&&setTimeout(()=>ne.focus())};x.useEffect(()=>()=>window.clearTimeout(N.current),[]),S_();const F=x.useCallback(R=>{var Z,C;return U.current===((Z=T.current)==null?void 0:Z.side)&&xde(R,(C=T.current)==null?void 0:C.area)},[]);return o.jsx(tde,{scope:r,searchRef:A,onItemEnter:x.useCallback(R=>{F(R)&&R.preventDefault()},[F]),onItemLeave:x.useCallback(R=>{var re;F(R)||((re=j.current)==null||re.focus(),k(null))},[F]),onTriggerLeave:x.useCallback(R=>{F(R)&&R.preventDefault()},[F]),pointerGraceTimerRef:D,onPointerGraceIntentChange:x.useCallback(R=>{T.current=R},[]),children:o.jsx(M,{...I,children:o.jsx(ux,{asChild:!0,trapped:a,onMountAutoFocus:tt(s,R=>{var re;R.preventDefault(),(re=j.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(cx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(Q7,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:tt(c,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(LA,{role:"menu","aria-orientation":"vertical","data-state":_V(v.open),"data-radix-menu-content":"",dir:y.dir,...w,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:tt(p.onKeyDown,R=>{const Z=R.target.closest("[data-radix-menu-content]")===R.currentTarget,C=R.ctrlKey||R.altKey||R.metaKey,K=R.key.length===1;Z&&(R.key==="Tab"&&R.preventDefault(),!C&&K&&V(R.key));const B=j.current;if(R.target!==B||!que.includes(R.key))return;R.preventDefault();const ne=_().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);eV.includes(R.key)&&ne.reverse(),mde(ne)}),onBlur:tt(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(N.current),A.current="")}),onPointerMove:tt(e.onPointerMove,Qg(R=>{const re=R.target,Z=q.current!==R.clientX;if(R.currentTarget.contains(re)&&Z){const C=R.clientX>q.current?"right":"left";U.current=C,q.current=R.clientX}}))})})})})})})});iV.displayName=Fi;var sde="MenuGroup",GA=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ct.div,{role:"group",...n,ref:t})});GA.displayName=sde;var ide="MenuLabel",oV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ct.div,{...n,ref:t})});oV.displayName=ide;var yw="MenuItem",DI="menu.itemSelect",M_=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=x.useRef(null),i=gx(yw,e.__scopeMenu),l=qA(yw,e.__scopeMenu),c=Wt(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(DI,{bubbles:!0,cancelable:!0});f.addEventListener(DI,m=>n==null?void 0:n(m),{once:!0}),TU(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(lV,{...a,ref:c,disabled:r,onClick:tt(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:tt(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:tt(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||JN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});M_.displayName=yw;var lV=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=qA(yw,r),l=rV(r),c=x.useRef(null),u=Wt(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),o.jsx(Jg.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(Z7,{asChild:!0,...l,focusable:!n,children:o.jsx(ct.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:tt(e.onPointerMove,Qg(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:tt(e.onPointerLeave,Qg(g=>i.onItemLeave(g))),onFocus:tt(e.onFocus,()=>f(!0)),onBlur:tt(e.onBlur,()=>f(!1))})})})}),ode="MenuCheckboxItem",cV=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(mV,{scope:e.__scopeMenu,checked:r,children:o.jsx(M_,{role:"menuitemcheckbox","aria-checked":ww(r)?"mixed":r,...a,ref:t,"data-state":XA(r),onSelect:tt(a.onSelect,()=>n==null?void 0:n(ww(r)?!0:!r),{checkForDefaultPrevented:!1})})})});cV.displayName=ode;var uV="MenuRadioGroup",[lde,cde]=Cf(uV,{value:void 0,onValueChange:()=>{}}),dV=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Yn(n);return o.jsx(lde,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(GA,{...a,ref:t})})});dV.displayName=uV;var fV="MenuRadioItem",hV=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=cde(fV,e.__scopeMenu),s=r===a.value;return o.jsx(mV,{scope:e.__scopeMenu,checked:s,children:o.jsx(M_,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":XA(s),onSelect:tt(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});hV.displayName=fV;var YA="MenuItemIndicator",[mV,ude]=Cf(YA,{checked:!1}),pV=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=ude(YA,r);return o.jsx(Fa,{present:n||ww(s.checked)||s.checked===!0,children:o.jsx(ct.span,{...a,ref:t,"data-state":XA(s.checked)})})});pV.displayName=YA;var dde="MenuSeparator",gV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ct.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});gV.displayName=dde;var fde="MenuArrow",vV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=I_(r);return o.jsx($A,{...a,...n,ref:t})});vV.displayName=fde;var hde="MenuSub",[HYe,xV]=Cf(hde),M0="MenuSubTrigger",yV=x.forwardRef((e,t)=>{const r=Tf(M0,e.__scopeMenu),n=gx(M0,e.__scopeMenu),a=xV(M0,e.__scopeMenu),s=qA(M0,e.__scopeMenu),i=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(WA,{asChild:!0,...u,children:o.jsx(lV,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":_V(r.open),...e,ref:dc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:tt(e.onPointerMove,Qg(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:tt(e.onPointerLeave,Qg(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",y=v?-5:5,w=h[v?"left":"right"],b=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:tt(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||Kue[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});yV.displayName=M0;var wV="MenuSubContent",bV=x.forwardRef((e,t)=>{const r=aV(Fi,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Tf(Fi,e.__scopeMenu),i=gx(Fi,e.__scopeMenu),l=xV(wV,e.__scopeMenu),c=x.useRef(null),u=Wt(t,c);return o.jsx(Jg.Provider,{scope:e.__scopeMenu,children:o.jsx(Fa,{present:n||s.open,children:o.jsx(Jg.Slot,{scope:e.__scopeMenu,children:o.jsx(KA,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:tt(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:tt(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:tt(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Gue[i.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});bV.displayName=wV;function _V(e){return e?"open":"closed"}function ww(e){return e==="indeterminate"}function XA(e){return ww(e)?"indeterminate":e?"checked":"unchecked"}function mde(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function pde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function gde(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=pde(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function vde(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function xde(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return vde(r,t)}function Qg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var yde=nV,wde=WA,bde=sV,_de=iV,Sde=GA,jde=oV,kde=M_,Nde=cV,Ede=dV,Cde=hV,Tde=pV,Ade=gV,Ode=vV,Pde=yV,Dde=bV,F_="DropdownMenu",[Rde,qYe]=ds(F_,[tV]),fs=tV(),[Ide,SV]=Rde(F_),jV=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=fs(t),u=x.useRef(null),[d,f]=mc({prop:a,defaultProp:s??!1,onChange:i,caller:F_});return o.jsx(Ide,{scope:t,triggerId:oa(),triggerRef:u,contentId:oa(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(yde,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};jV.displayName=F_;var kV="DropdownMenuTrigger",NV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=SV(kV,r),i=fs(r);return o.jsx(wde,{asChild:!0,...i,children:o.jsx(ct.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:dc(t,s.triggerRef),onPointerDown:tt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:tt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});NV.displayName=kV;var Mde="DropdownMenuPortal",EV=e=>{const{__scopeDropdownMenu:t,...r}=e,n=fs(t);return o.jsx(bde,{...n,...r})};EV.displayName=Mde;var CV="DropdownMenuContent",TV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=SV(CV,r),s=fs(r),i=x.useRef(!1);return o.jsx(_de,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:tt(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:tt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TV.displayName=CV;var Fde="DropdownMenuGroup",Lde=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(Sde,{...a,...n,ref:t})});Lde.displayName=Fde;var $de="DropdownMenuLabel",AV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(jde,{...a,...n,ref:t})});AV.displayName=$de;var Bde="DropdownMenuItem",OV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(kde,{...a,...n,ref:t})});OV.displayName=Bde;var Ude="DropdownMenuCheckboxItem",PV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(Nde,{...a,...n,ref:t})});PV.displayName=Ude;var Vde="DropdownMenuRadioGroup",zde=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(Ede,{...a,...n,ref:t})});zde.displayName=Vde;var Wde="DropdownMenuRadioItem",DV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(Cde,{...a,...n,ref:t})});DV.displayName=Wde;var Hde="DropdownMenuItemIndicator",RV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(Tde,{...a,...n,ref:t})});RV.displayName=Hde;var qde="DropdownMenuSeparator",IV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(Ade,{...a,...n,ref:t})});IV.displayName=qde;var Kde="DropdownMenuArrow",Gde=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(Ode,{...a,...n,ref:t})});Gde.displayName=Kde;var Yde="DropdownMenuSubTrigger",MV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(Pde,{...a,...n,ref:t})});MV.displayName=Yde;var Xde="DropdownMenuSubContent",FV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=fs(r);return o.jsx(Dde,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FV.displayName=Xde;var Jde=jV,Qde=NV,Zde=EV,LV=TV,$V=AV,BV=OV,UV=PV,VV=DV,zV=RV,WV=IV,HV=MV,qV=FV;const JA=Jde,QA=Qde,efe=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(HV,{ref:a,className:ke("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(w_,{className:"ml-auto h-4 w-4"})]}));efe.displayName=HV.displayName;const tfe=x.forwardRef(({className:e,...t},r)=>o.jsx(qV,{ref:r,className:ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));tfe.displayName=qV.displayName;const L_=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Zde,{children:o.jsx(LV,{ref:n,sideOffset:t,className:ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));L_.displayName=LV.displayName;const ql=x.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(BV,{ref:n,className:ke("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ql.displayName=BV.displayName;const rfe=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(UV,{ref:a,className:ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(zV,{children:o.jsx(jA,{className:"h-4 w-4"})})}),t]}));rfe.displayName=UV.displayName;const nfe=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(VV,{ref:n,className:ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(zV,{children:o.jsx(Xie,{className:"h-2 w-2 fill-current"})})}),t]}));nfe.displayName=VV.displayName;const afe=x.forwardRef(({className:e,inset:t,...r},n)=>o.jsx($V,{ref:n,className:ke("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));afe.displayName=$V.displayName;const QN=x.forwardRef(({className:e,...t},r)=>o.jsx(WV,{ref:r,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));QN.displayName=WV.displayName;var $_="Dialog",[KV,GV]=ds($_),[sfe,Io]=KV($_),YV=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=mc({prop:n,defaultProp:a??!1,onChange:s,caller:$_});return o.jsx(sfe,{scope:t,triggerRef:l,contentRef:c,contentId:oa(),titleId:oa(),descriptionId:oa(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};YV.displayName=$_;var XV="DialogTrigger",JV=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Io(XV,r),s=Wt(t,a.triggerRef);return o.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tO(a.open),...n,ref:s,onClick:tt(e.onClick,a.onOpenToggle)})});JV.displayName=XV;var ZA="DialogPortal",[ife,QV]=KV(ZA,{forceMount:void 0}),ZV=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Io(ZA,t);return o.jsx(ife,{scope:t,forceMount:r,children:x.Children.map(n,i=>o.jsx(Fa,{present:r||s.open,children:o.jsx(fx,{asChild:!0,container:a,children:i})}))})};ZV.displayName=ZA;var bw="DialogOverlay",ez=x.forwardRef((e,t)=>{const r=QV(bw,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Io(bw,e.__scopeDialog);return s.modal?o.jsx(Fa,{present:n||s.open,children:o.jsx(lfe,{...a,ref:t})}):null});ez.displayName=bw;var ofe=Ou("DialogOverlay.RemoveScroll"),lfe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Io(bw,r);return o.jsx(hx,{as:ofe,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(ct.div,{"data-state":tO(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),uf="DialogContent",tz=x.forwardRef((e,t)=>{const r=QV(uf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Io(uf,e.__scopeDialog);return o.jsx(Fa,{present:n||s.open,children:s.modal?o.jsx(cfe,{...a,ref:t}):o.jsx(ufe,{...a,ref:t})})});tz.displayName=uf;var cfe=x.forwardRef((e,t)=>{const r=Io(uf,e.__scopeDialog),n=x.useRef(null),a=Wt(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return C_(s)},[]),o.jsx(rz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:tt(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:tt(e.onFocusOutside,s=>s.preventDefault())})}),ufe=x.forwardRef((e,t)=>{const r=Io(uf,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return o.jsx(rz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),rz=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=Io(uf,r),c=x.useRef(null),u=Wt(t,c);return S_(),o.jsxs(o.Fragment,{children:[o.jsx(ux,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(cx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tO(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(ffe,{titleId:l.titleId}),o.jsx(mfe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),eO="DialogTitle",nz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Io(eO,r);return o.jsx(ct.h2,{id:a.titleId,...n,ref:t})});nz.displayName=eO;var az="DialogDescription",sz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Io(az,r);return o.jsx(ct.p,{id:a.descriptionId,...n,ref:t})});sz.displayName=az;var iz="DialogClose",oz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Io(iz,r);return o.jsx(ct.button,{type:"button",...n,ref:t,onClick:tt(e.onClick,()=>a.onOpenChange(!1))})});oz.displayName=iz;function tO(e){return e?"open":"closed"}var lz="DialogTitleWarning",[dfe,cz]=voe(lz,{contentName:uf,titleName:eO,docsSlug:"dialog"}),ffe=({titleId:e})=>{const t=cz(lz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},hfe="DialogDescriptionWarning",mfe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cz(hfe).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},B_=YV,rO=JV,U_=ZV,Tp=ez,Ap=tz,vx=nz,xx=sz,V_=oz;const Nn=B_,Ph=rO,pfe=U_,uz=x.forwardRef(({className:e,...t},r)=>o.jsx(Tp,{ref:r,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uz.displayName=Tp.displayName;const mn=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(pfe,{children:[o.jsx(uz,{}),o.jsxs(Ap,{ref:n,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,o.jsxs(V_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Mi,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mn.displayName=Ap.displayName;const pn=({className:e,...t})=>o.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pn.displayName="DialogHeader";const Ra=({className:e,...t})=>o.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ra.displayName="DialogFooter";const gn=x.forwardRef(({className:e,...t},r)=>o.jsx(vx,{ref:r,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t}));gn.displayName=vx.displayName;const Ia=x.forwardRef(({className:e,...t},r)=>o.jsx(xx,{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));Ia.displayName=xx.displayName;const gfe=sx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Dm=x.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:ke(gfe({variant:t}),e),...r}));Dm.displayName="Alert";const vfe=x.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:ke("mb-1 font-medium leading-none tracking-tight",e),...t}));vfe.displayName="AlertTitle";const Rm=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ke("text-sm [&_p]:leading-relaxed",e),...t}));Rm.displayName="AlertDescription";const xfe="modulepreload",yfe=function(e){return"/"+e},RI={},Op=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=yfe(c),c in RI)return;RI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":xfe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},wfe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Op(async()=>{const{default:n}=await Promise.resolve().then(()=>Af);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class nO extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class II extends nO{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class MI extends nO{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class FI extends nO{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ZN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ZN||(ZN={}));class bfe{constructor(t,{headers:r={},customFetch:n,region:a=ZN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=wfe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return dt(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:s,method:i,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new II(y)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new MI(m);if(!m.ok)throw new FI(m);let p=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield m.json():p==="application/octet-stream"||p==="application/pdf"?v=yield m.blob():p==="text/event-stream"?v=m:p==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new II(s)}:{data:null,error:s,response:s instanceof FI||s instanceof MI?s.context:void 0}}})}}var Qa={};const Pp=C8(wce);var Ey={},Cy={},Ty={},Ay={},Oy={},_fe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Im=_fe();const Sfe=Im.fetch,dz=Im.fetch.bind(Im),fz=Im.Headers,jfe=Im.Request,kfe=Im.Response,Af=Object.freeze(Object.defineProperty({__proto__:null,Headers:fz,Request:jfe,Response:kfe,default:dz,fetch:Sfe},Symbol.toStringTag,{value:"Module"})),Nfe=C8(Af);var Py={},LI;function hz(){if(LI)return Py;LI=1,Object.defineProperty(Py,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Py.default=e,Py}var $I;function mz(){if($I)return Oy;$I=1,Object.defineProperty(Oy,"__esModule",{value:!0});const e=Pp,t=e.__importDefault(Nfe),r=e.__importDefault(hz());class n{constructor(s){var i,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let g=null,p=null,v=null,y=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?p=k:p=JSON.parse(k))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(g={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,y=406,w="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const _=await u.text();try{g=JSON.parse(_),Array.isArray(g)&&u.status===404&&(p=[],g=null,y=200,w="OK")}catch{u.status===404&&_===""?(y=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((m=g==null?void 0:g.details)===null||m===void 0)&&m.includes("0 rows"))&&(g=null,y=200,w="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:p,count:v,status:y,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,i)}returns(){return this}overrideTypes(){return this}}return Oy.default=n,Oy}var BI;function pz(){if(BI)return Ay;BI=1,Object.defineProperty(Ay,"__esModule",{value:!0});const t=Pp.__importDefault(mz());class r extends t.default{select(a){let s=!1;const i=(a??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,s?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Ay.default=r,Ay}var UI;function aO(){if(UI)return Ty;UI=1,Object.defineProperty(Ty,"__esModule",{value:!0});const t=Pp.__importDefault(pz()),r=new RegExp("[,()]");class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${i}`),this}match(s){return Object.entries(s).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(s,i,l){return this.url.searchParams.append(s,`not.${i}.${l}`),this}or(s,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,i,l){return this.url.searchParams.append(s,`${i}.${l}`),this}}return Ty.default=n,Ty}var VI;function gz(){if(VI)return Cy;VI=1,Object.defineProperty(Cy,"__esModule",{value:!0});const t=Pp.__importDefault(aO());class r{constructor(a,{headers:s={},schema:i,fetch:l}){this.url=a,this.headers=new Headers(s),this.schema=i,this.fetch=l}select(a,s){const{head:i=!1,count:l}=s??{},c=i?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:i=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:s}={}){var i;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var s;const i="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Cy.default=r,Cy}var zI;function Efe(){if(zI)return Ey;zI=1,Object.defineProperty(Ey,"__esModule",{value:!0});const e=Pp,t=e.__importDefault(gz()),r=e.__importDefault(aO());class n{constructor(s,{headers:i={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(s){const i=new URL(`${this.url}/${s}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let m;l||c?(f=l?"HEAD":"GET",Object.entries(i).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{h.searchParams.append(p,v)})):(f="POST",m=i);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ey.default=n,Ey}Object.defineProperty(Qa,"__esModule",{value:!0});var vz=Qa.PostgrestError=Ez=Qa.PostgrestBuilder=kz=Qa.PostgrestTransformBuilder=Sz=Qa.PostgrestFilterBuilder=bz=Qa.PostgrestQueryBuilder=yz=Qa.PostgrestClient=void 0;const Dp=Pp,xz=Dp.__importDefault(Efe());var yz=Qa.PostgrestClient=xz.default;const wz=Dp.__importDefault(gz());var bz=Qa.PostgrestQueryBuilder=wz.default;const _z=Dp.__importDefault(aO());var Sz=Qa.PostgrestFilterBuilder=_z.default;const jz=Dp.__importDefault(pz());var kz=Qa.PostgrestTransformBuilder=jz.default;const Nz=Dp.__importDefault(mz());var Ez=Qa.PostgrestBuilder=Nz.default;const Cz=Dp.__importDefault(hz());vz=Qa.PostgrestError=Cz.default;var Tz=Qa.default={PostgrestClient:xz.default,PostgrestQueryBuilder:wz.default,PostgrestFilterBuilder:_z.default,PostgrestTransformBuilder:jz.default,PostgrestBuilder:Nz.default,PostgrestError:Cz.default};const Cfe=E8({__proto__:null,get PostgrestBuilder(){return Ez},get PostgrestClient(){return yz},get PostgrestError(){return vz},get PostgrestFilterBuilder(){return Sz},get PostgrestQueryBuilder(){return bz},get PostgrestTransformBuilder(){return kz},default:Tz},[Qa]),{PostgrestClient:Tfe,PostgrestQueryBuilder:KYe,PostgrestFilterBuilder:GYe,PostgrestTransformBuilder:YYe,PostgrestBuilder:XYe,PostgrestError:JYe}=Tz||Cfe;class Afe{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ofe="2.78.0",Pfe=`realtime-js/${Ofe}`,Dfe="1.0.0",eE=1e4,Rfe=1e3,Ife=100;var sg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(sg||(sg={}));var In;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(In||(In={}));var oo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oo||(oo={}));var tE;(function(e){e.websocket="websocket"})(tE||(tE={}));var gd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gd||(gd={}));class Mfe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Az{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tr||(Tr={}));const WI=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=Ffe(i,e,t,a),s),{}):{}},Ffe=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?Oz(s,i):rE(i)},Oz=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ufe(t,r)}switch(e){case Tr.bool:return Lfe(t);case Tr.float4:case Tr.float8:case Tr.int2:case Tr.int4:case Tr.int8:case Tr.numeric:case Tr.oid:return $fe(t);case Tr.json:case Tr.jsonb:return Bfe(t);case Tr.timestamp:return Vfe(t);case Tr.abstime:case Tr.date:case Tr.daterange:case Tr.int4range:case Tr.int8range:case Tr.money:case Tr.reltime:case Tr.text:case Tr.time:case Tr.timestamptz:case Tr.timetz:case Tr.tsrange:case Tr.tstzrange:return rE(t);default:return rE(t)}},rE=e=>e,Lfe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$fe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Bfe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ufe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>Oz(t,l))}return e},Vfe=e=>typeof e=="string"?e.replace(" ","T"):e,Pz=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ok{constructor(t,r,n={},a=eE){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var HI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(HI||(HI={}));class ig{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ig.syncState(this.state,a,s,i),this.pendingDiffs.forEach(c=>{this.state=ig.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ig.syncDiff(this.state,a,s,i),l())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qI||(qI={}));var og;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(og||(og={}));var $l;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($l||($l={}));class sO{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=In.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ok(this,oo.join,this.params,this.timeout),this.rejoinTimer=new Az(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=In.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=In.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oo.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new ig(this),this.broadcastEndpointURL=Pz(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==In.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[og.PRESENCE]&&this.bindings[og.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t($l.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t($l.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t($l.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,y=[];for(let w=0;w<v;w++){const b=p[w],{filter:{event:_,schema:S,table:k,filter:j}}=b,E=m&&m[w];if(E&&E.event===_&&E.schema===S&&E.table===k&&E.filter===j)y.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=In.errored,t==null||t($l.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t($l.SUBSCRIBED);return}}).receive("error",m=>{this.state=In.errored,t==null||t($l.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($l.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===In.joined&&t===og.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=In.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new ok(this,oo.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=In.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ok(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ife){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=oo;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var g,p,v,y,w,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:y,type:w,errors:b}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:y,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===In.closed}_isJoined(){return this.state===In.joined}_isJoining(){return this.state===In.joining}_isLeaving(){return this.state===In.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&sO.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oo.close,{},t)}_onError(t){this._on(oo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=In.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=WI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=WI(t.columns,t.old_record)),r}}const lk=()=>{},Dy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zfe=[1e3,2e3,5e3,1e4],Wfe=1e4,Hfe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qfe{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eE,this.transport=null,this.heartbeatIntervalMs=Dy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lk,this.ref=0,this.reconnectTimer=null,this.logger=lk,this.conn=null,this.sendBuffer=[],this.serializer=new Mfe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...i)=>Op(async()=>{const{default:l}=await Promise.resolve().then(()=>Af);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...i)=>s(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${tE.websocket}`,this.httpEndpoint=Pz(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Afe.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dfe}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sg.connecting:return gd.Connecting;case sg.open:return gd.Open;case sg.closing:return gd.Closing;default:return gd.Closed}}isConnected(){return this.connectionState()===gd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new sO(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Rfe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Dy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:i}=r,l=i?`(${i})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(oo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Hfe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Pfe};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(oo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Az(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:eE,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Dy.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:lk,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>zfe[f-1]||Wfe,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class iO extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Yr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Kfe extends iO{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nE extends iO{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const oO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Op(async()=>{const{default:n}=await Promise.resolve().then(()=>Af);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Gfe=()=>dt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Op(()=>Promise.resolve().then(()=>Af),void 0)).Response:Response}),aE=e=>{if(Array.isArray(e))return e.map(r=>aE(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=aE(n)}),t},Yfe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ck=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Xfe=(e,t,r)=>dt(void 0,void 0,void 0,function*(){const n=yield Gfe();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,i=(a==null?void 0:a.statusCode)||s+"";t(new Kfe(ck(a),s,i))}).catch(a=>{t(new nE(ck(a),a))}):t(new nE(ck(e),e))}),Jfe=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(Yfe(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function yx(e,t,r,n,a,s){return dt(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Jfe(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Xfe(c,l,n))})})}function Zg(e,t,r,n){return dt(this,void 0,void 0,function*(){return yx(e,"GET",t,r,n)})}function no(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return yx(e,"POST",t,n,a,r)})}function sE(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return yx(e,"PUT",t,n,a,r)})}function Qfe(e,t,r,n){return dt(this,void 0,void 0,function*(){return yx(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lO(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return yx(e,"DELETE",t,n,a,r)})}class Zfe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return dt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Yr(t))return{data:null,error:t};throw t}})}}var Dz;class ehe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Dz]="BlobDownloadBuilder",this.promise=null}asStream(){return new Zfe(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return dt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Yr(t))return{data:null,error:t};throw t}})}}Dz=Symbol.toStringTag;const the={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},KI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rhe{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=oO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return dt(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},KI),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?sE:no)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yr(s))return{data:null,error:s};throw s}})}upload(t,r,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return dt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:KI.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield sE(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Yr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return dt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield no(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new iO("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}update(t,r,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return dt(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield no(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return dt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield no(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return dt(this,void 0,void 0,function*(){try{const a=yield no(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yr(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>Zg(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new ehe(c,this.shouldThrowOnError)}info(t){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zg(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:aE(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}exists(t){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Qfe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n)&&n instanceof nE){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return dt(this,void 0,void 0,function*(){try{return{data:yield lO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}list(t,r,n){return dt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},the),r),{prefix:t||""});return{data:yield no(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yr(a))return{data:null,error:a};throw a}})}listV2(t,r){return dt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield no(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Rz="2.78.0",Iz={"X-Client-Info":`storage-js/${Rz}`};class nhe{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iz),r),this.fetch=oO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return dt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Zg(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}getBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Zg(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}createBucket(t){return dt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield no(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yr(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return dt(this,void 0,void 0,function*(){try{return{data:yield sE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield lO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class ahe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iz),r),this.fetch=oO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}listBuckets(t){return dt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Zg(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield lO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}}const cO={"X-Client-Info":`storage-js/${Rz}`,"Content-Type":"application/json"};class Mz extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Zs(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class uk extends Mz{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class she extends Mz{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var GI;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(GI||(GI={}));const uO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Op(async()=>{const{default:n}=await Promise.resolve().then(()=>Af);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ihe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},YI=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ohe=(e,t,r)=>dt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new uk(YI(i),a,l))}).catch(()=>{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new uk(l,a,i))});else{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new uk(l,a,i))}}else t(new she(YI(e),e))}),lhe=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(ihe(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function che(e,t,r,n,a,s){return dt(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,lhe(t,n,a,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>ohe(c,l,n))})})}function ei(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return che(e,"POST",t,n,a,r)})}class uhe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cO),r),this.fetch=uO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getIndex(t,r){return dt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}listIndexes(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return dt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}}class dhe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cO),r),this.fetch=uO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ei(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getVectors(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}listVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ei(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}queryVectors(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ei(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}}class fhe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cO),r),this.fetch=uO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}listBuckets(){return dt(this,arguments,void 0,function*(t={}){try{return{data:yield ei(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}}class hhe extends fhe{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new mhe(this.url,this.headers,t,this.fetch)}}class mhe extends uhe{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return dt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return dt(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return dt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return dt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new phe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class phe extends dhe{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return dt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return dt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return dt(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return dt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return dt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ghe extends nhe{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new rhe(this.url,this.headers,t,this.fetch)}get vectors(){return new hhe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ahe(this.url+"/iceberg",this.headers,this.fetch)}}const vhe="2.78.0";let F0="";typeof Deno<"u"?F0="deno":typeof document<"u"?F0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?F0="react-native":F0="node";const xhe={"X-Client-Info":`supabase-js-${F0}/${vhe}`},yhe={headers:xhe},whe={schema:"public"},bhe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_he={},She=e=>{let t;return e?t=e:typeof fetch>"u"?t=dz:t=fetch,(...r)=>t(...r)},jhe=()=>typeof Headers>"u"?fz:Headers,khe=(e,t,r)=>{const n=She(r),a=jhe();return async(s,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},i),{headers:u}))}};function Nhe(e){return e.endsWith("/")?e:e+"/"}function Ehe(e,t){var r,n;const{db:a,auth:s,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Che(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Nhe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Fz="2.78.0",uh=30*1e3,iE=3,dk=iE*uh,The="http://localhost:9999",Ahe="supabase.auth.token",Ohe={"X-Client-Info":`gotrue-js/${Fz}`},oE="X-Supabase-Api-Version",Lz={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Phe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dhe=10*60*1e3;class ev extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function xt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Rhe extends ev{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ihe(e){return xt(e)&&e.name==="AuthApiError"}class vd extends ev{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Gu extends ev{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Zi extends Gu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mhe(e){return xt(e)&&e.name==="AuthSessionMissingError"}class Xf extends Gu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ry extends Gu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Iy extends Gu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fhe(e){return xt(e)&&e.name==="AuthImplicitGrantRedirectError"}class XI extends Gu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lE extends Gu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function fk(e){return xt(e)&&e.name==="AuthRetryableFetchError"}class JI extends Gu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class cE extends Gu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),QI=` 	
\r=`.split(""),Lhe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<QI.length;t+=1)e[QI[t].charCodeAt(0)]=-2;for(let t=0;t<_w.length;t+=1)e[_w[t].charCodeAt(0)]=t;return e})();function ZI(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_w[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_w[n]),t.queuedBits-=6}}function $z(e,t,r){const n=Lhe[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eM(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{Uhe(i,n,r)};for(let i=0;i<e.length;i+=1)$z(e.charCodeAt(i),a,s);return t.join("")}function $he(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bhe(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}$he(n,t)}}function Uhe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Jh(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)$z(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Vhe(e){const t=[];return Bhe(e,r=>t.push(r)),new Uint8Array(t)}function kd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>ZI(a,r,n)),ZI(null,r,n),t.join("")}function zhe(e){return Math.round(Date.now()/1e3)+e}function Whe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ha=()=>typeof window<"u"&&typeof document<"u",ad={tested:!1,writable:!1},Bz=()=>{if(!Ha())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ad.tested)return ad.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ad.tested=!0,ad.writable=!0}catch{ad.tested=!0,ad.writable=!1}return ad.writable};function Hhe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Uz=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Op(async()=>{const{default:n}=await Promise.resolve().then(()=>Af);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qhe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",dh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mc=async(e,t)=>{await e.removeItem(t)};class z_{constructor(){this.promise=new z_.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}z_.promiseConstructor=Promise;function hk(e){const t=e.split(".");if(t.length!==3)throw new cE("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Phe.test(t[n]))throw new cE("JWT not in base64url format");return{header:JSON.parse(eM(t[0])),payload:JSON.parse(eM(t[1])),signature:Jh(t[2]),raw:{header:t[0],payload:t[1]}}}async function Khe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ghe(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function Yhe(e){return("0"+e.toString(16)).substr(-2)}function Xhe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Yhe).join("")}async function Jhe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Qhe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Jhe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jf(e,t,r=!1){const n=Xhe();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await dh(e,`${t}-code-verifier`,a);const s=await Qhe(n);return[s,n===s?"plain":"s256"]}const Zhe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eme(e){const t=e.headers.get(oE);if(!t||!t.match(Zhe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tme(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rme(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nme=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qf(e){if(!nme.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mk(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ame(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function tM(e){return JSON.parse(JSON.stringify(e))}const fd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sme=[502,503,504];async function rM(e){var t;if(!qhe(e))throw new lE(fd(e),0);if(sme.includes(e.status))throw new lE(fd(e),e.status);let r;try{r=await e.json()}catch(s){throw new vd(fd(s),s)}let n;const a=eme(e);if(a&&a.getTime()>=Lz["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new JI(fd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new JI(fd(r),e.status,r.weak_password.reasons);throw new Rhe(fd(r),e.status||500,n)}const ime=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ct(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[oE]||(s[oE]=Lz["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await ome(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function ome(e,t,r,n,a,s){const i=ime(t,n,a,s);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new lE(fd(c),0)}if(l.ok||await rM(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await rM(c)}}function eo(e){var t;let r=null;ume(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=zhe(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nM(e){const t=eo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lme(e){return{data:e,error:null}}function cme(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=Hu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function aM(e){return e}function ume(e){return e.access_token&&e.refresh_token&&e.expires_in}const pk=["global","local","others"];class dme{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Uz(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=pk[0]){if(pk.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pk.join(", ")}`);try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yc})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Hu(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:cme,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(xt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yc})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:aM});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Qf(t);try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yc})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Qf(t);try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Yc})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Qf(t);try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yc})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Qf(t.userId);try{const{data:r,error:n}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Qf(t.userId),Qf(t.id);try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:aM});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ct(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}}function sM(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Zf={debug:!!(globalThis&&Bz()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vz extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fme extends Vz{}async function hme(e,t,r){Zf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Zf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Zf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Zf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fme(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function mme(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zz(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pme(e){return parseInt(e,16)}function gme(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function vme(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=zz(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}y+=w}return`${v}
${y}`}class jn extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Sw extends jn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function xme({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new jn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new jn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new jn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new jn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new jn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new jn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Wz(i)){if(s.rp.id!==i)return new jn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new jn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new jn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function yme({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new jn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Wz(n)){if(r.rpId!==n)return new jn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new jn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class wme{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const bme=new wme;function _me(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Hu(e,["challenge","user","excludeCredentials"]),s=Jh(t).buffer,i=Object.assign(Object.assign({},r),{id:Jh(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Jh(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Sme(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Hu(e,["challenge","allowCredentials"]),a=Jh(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Jh(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function jme(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:kd(new Uint8Array(e.response.attestationObject)),clientDataJSON:kd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kme(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:kd(new Uint8Array(a.authenticatorData)),clientDataJSON:kd(new Uint8Array(a.clientDataJSON)),signature:kd(new Uint8Array(a.signature)),userHandle:a.userHandle?kd(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wz(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function iM(){var e,t;return!!(Ha()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Nme(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sw("Browser returned unexpected credential type",t)}:{data:null,error:new Sw("Empty credential response",t)}}catch(t){return{data:null,error:xme({error:t,options:e})}}}async function Eme(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sw("Browser returned unexpected credential type",t)}:{data:null,error:new Sw("Empty credential response",t)}}catch(t){return{data:null,error:yme({error:t,options:e})}}}const Cme={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Tme={userVerification:"preferred",hints:["security-key"]};function jw(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const l=n[s];t(l)?n[s]=jw(l,i):n[s]=jw(i)}else n[s]=i}return n}function Ame(e,t){return jw(Cme,e,t||{})}function Ome(e,t){return jw(Tme,e,t||{})}class Pme{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=a??bme.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=Ame(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await Nme({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Ome(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await Eme(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return xt(i)?{data:null,error:i}:{data:null,error:new vd("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},s){if(!r)return{data:null,error:new ev("rpId is required for WebAuthn authentication")};try{if(!iM())return{data:null,error:new vd("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return xt(i)?{data:null,error:i}:{data:null,error:new vd("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},s){if(!r)return{data:null,error:new ev("rpId is required for WebAuthn registration")};try{if(!iM())return{data:null,error:new vd("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return xt(i)?{data:null,error:i}:{data:null,error:new vd("Unexpected error in register",i)}}}}mme();const Dme={url:The,storageKey:Ahe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ohe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function oM(e,t,r){return await r()}const eh={};class tv{get jwks(){var t,r;return(r=(t=eh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){eh[this.storageKey]=Object.assign(Object.assign({},eh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=eh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){eh[this.storageKey]=Object.assign(Object.assign({},eh[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tv.nextInstanceID,tv.nextInstanceID+=1,this.instanceID>0&&Ha()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Dme),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dme({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Uz(a.fetch),this.lock=a.lock||oM,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ha()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hme:this.lock=oM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Pme(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Bz()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sM(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=sM(this.memoryStorage)),Ha()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Fz}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Hhe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ha()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Fhe(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xt(r)?{error:r}:{error:new vd("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:eo}),{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Jf(this.storage,this.storageKey)),s=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:eo})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:eo})}else throw new Ry("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:l}=t;r=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nM})}else if("phone"in t){const{phone:s,password:i,options:l}=t;r=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nM})}else throw new Ry("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:y,options:w}=t;let b;if(Ha())if(typeof v=="object")b=v;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")b=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=zz(S[0]);let j=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const N=await b.request({method:"eth_chainId"});j=pme(N)}const E={domain:_.host,address:k,statement:y,uri:_.href,version:"1",chainId:j,nonce:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=vme(E),g=await b.request({method:"personal_sign",params:[gme(m),k]})}try{const{data:p,error:v}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:eo});if(v)throw v;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new Xf}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:v})}catch(p){if(xt(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var r,n,a,s,i,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:y,statement:w,options:b}=t;let _;if(Ha())if(typeof y=="object")_=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),p=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=k}}try{const{data:v,error:y}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:kd(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:eo});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Xf}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(xt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await sd(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:eo});if(await Mc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Xf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(xt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,l=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:eo}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Xf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Jf(this.storage,this.storageKey));const{error:f}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ry("You must provide either an email or phone number.")}catch(l){if(xt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:eo});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(xt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Jf(this.storage,this.storageKey)),await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:lme})}catch(s){if(xt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zi;const{error:a}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(xt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await Ct(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:l}=await Ct(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Ry("You must provide either an email or phone number and a type")}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<dk:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await sd(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=mk()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=ame(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yc}):await this._useSession(async r=>{var n,a,s;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zi}:await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Yc})})}catch(r){if(xt(r))return Mhe(r)&&(await this._removeSession(),await Mc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Zi;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Jf(this.storage,this.storageKey));const{data:u,error:d}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Yc});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zi;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=hk(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(xt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Zi;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ha())throw new Iy("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Iy(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new XI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Iy("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new XI("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!i||!u)throw new Iy("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=uh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(s);if(v)throw v;const y={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(xt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(Ihe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Mc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Whe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Jf(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(xt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ha()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(xt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:eo}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Xf}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(xt(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ghe(async a=>(a>0&&await Khe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:eo})),(a,s)=>{const i=200*Math.pow(2,a);return s&&fk(s)&&Date.now()+i-n<uh})}catch(n){if(this._debug(r,"error",n),xt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ha()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await sd(this.storage,this.storageKey);if(a&&this.userStorage){let i=await sd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await dh(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:mk()}else if(a&&!a.user&&!a.user){const i=await sd(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await Mc(this.storage,this.storageKey+"-user"),await dh(this.storage,this.storageKey,a)):a.user=mk()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<dk;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${dk}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),fk(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(a.access_token);!l&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new z_;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Zi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),xt(s)){const i={data:null,error:s};return fk(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await dh(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=tM(a);await dh(this.storage,this.storageKey,s)}else{const a=tM(r);await dh(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Mc(this.storage,this.storageKey),await Mc(this.storage,this.storageKey+"-code-verifier"),await Mc(this.storage,this.storageKey+"-user"),this.userStorage&&await Mc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ha()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),uh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/uh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${uh}ms, refresh threshold is ${iE} ticks`),a<=iE&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vz)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ha()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Jf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Ct(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?jme(t.webauthn.credential_response):kme(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(xt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=await Ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_me(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Sme(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(xt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=hk(n.access_token);let i=null;s.aal&&(i=s.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await Ct(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Zi}})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return{data:null,error:s};if(!a)return{data:null,error:new Zi};const i=await Ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Ha()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return{data:null,error:s};if(!a)return{data:null,error:new Zi};const i=await Ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Ha()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(xt(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Dhe>a)return n;const{data:s,error:i}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:s,signature:i,raw:{header:l,payload:c}}=hk(n);r!=null&&r.allowExpired||tme(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:i},error:null}}const d=rme(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,Vhe(`${l}.${c}`)))throw new cE("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}}tv.nextInstanceID=0;const Rme=tv;class Ime extends Rme{constructor(t){super(t)}}class Mme{constructor(t,r,n){var a,s,i;this.supabaseUrl=t,this.supabaseKey=r;const l=Che(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:whe,realtime:_he,auth:Object.assign(Object.assign({},bhe),{storageKey:c}),global:yhe},d=Ehe(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=khe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Tfe(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ghe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new bfe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:i,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ime({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new qfe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fme=(e,t,r)=>new Mme(e,t,r);function Lme(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Lme()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $me="https://studio.middar.com/",Bme="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3NjQwMDE2ODQsImV4cCI6MjA3OTU3NzY4NH0.sHsfXuCJ0n1y6g29oFxifU1KCkSZzCzZ7_x1zQDbFDY",$t=Fme($me,Bme,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"middar_crm_session"}});function Ume({onToggleSidebar:e}){var _,S,k;const{breadcrumbs:t}=ax(),{user:r,logout:n}=Sr(),{t:a}=Ht(),s=Bs(),{setTheme:i}=yae(),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,g]=x.useState(""),[p,v]=x.useState(!1),y=()=>{try{n(),s("/login")}catch(j){console.error("Logout failed:",j),s("/login")}},w=()=>{c(!0)},b=async j=>{if(j.preventDefault(),!p){if(!u.trim()){g(a("settings.newPasswordRequired"));return}if(u.length<6){g(a("settings.passwordTooShort"));return}if(u!==f){g(a("settings.passwordsDoNotMatch"));return}g(""),v(!0);try{const{error:E}=await $t.auth.updateUser({password:u});if(E)throw E;c(!1),d(""),h(""),alert(a("settings.passwordChangedSuccessfully"))}catch(E){console.error("Password change failed:",E),g(E.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return o.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[o.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:o.jsx(soe,{className:"h-5 w-5"})}),t&&t.length>0&&o.jsx("div",{className:"hidden md:block",children:o.jsx(koe,{items:t})})]}),o.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"}),o.jsxs("kbd",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none hidden lg:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[o.jsx("span",{className:"text-xs",children:""}),"K"]})]})}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Te((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),o.jsx(q7,{}),o.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[o.jsx(Wie,{className:"h-5 w-5"}),o.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:o.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),o.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),o.jsxs(JA,{children:[o.jsx(QA,{asChild:!0,children:o.jsxs(ce,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[o.jsxs(Os,{className:"h-8 w-8",children:[o.jsx(To,{src:(_=r==null?void 0:r.profile)==null?void 0:_.avatar}),o.jsx(Ps,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(S=r==null?void 0:r.email)==null?void 0:S.charAt(0).toUpperCase()})]}),o.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),o.jsxs(L_,{align:"end",className:"w-56",children:[o.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:o.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[o.jsx("p",{className:"font-medium text-sm",children:Te((r==null?void 0:r.profile)||{},"user_name")||((k=r==null?void 0:r.email)==null?void 0:k.split("@")[0])}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),o.jsx(QN,{}),o.jsxs(ql,{onClick:()=>i("light"),children:[o.jsx(uoe,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.light","Light")})]}),o.jsxs(ql,{onClick:()=>i("dark"),children:[o.jsx(ooe,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.dark","Dark")})]}),o.jsxs(ql,{onClick:()=>i("system"),children:[o.jsx(XU,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.system","System")})]}),o.jsx(QN,{}),o.jsxs(ql,{onClick:w,children:[o.jsx(noe,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),o.jsxs(ql,{onClick:y,className:"text-destructive focus:text-destructive",children:[o.jsx(moe,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),o.jsx(Nn,{open:l,onOpenChange:c,children:o.jsxs(mn,{className:"sm:max-w-[425px]",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:a("settings.changePassword")}),o.jsx(Ia,{children:a("settings.changePasswordDescription")})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[m&&o.jsx(Dm,{variant:"destructive",children:o.jsx(Rm,{children:m})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"newPassword",children:a("settings.newPassword")}),o.jsx(ze,{id:"newPassword",type:"password",value:u,onChange:j=>d(j.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),o.jsx(ze,{id:"confirmPassword",type:"password",value:f,onChange:j=>h(j.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),o.jsxs(Ra,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(ce,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),o.jsx(ce,{type:"submit",disabled:p||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(p?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const gl=B_,Hz=rO,Vme=U_,qz=x.forwardRef(({className:e,...t},r)=>o.jsx(Tp,{className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));qz.displayName=Tp.displayName;const zme=sx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Po=x.forwardRef(({side:e="right",className:t,children:r,...n},a)=>o.jsxs(Vme,{children:[o.jsx(qz,{}),o.jsxs(Ap,{ref:a,className:ke(zme({side:e}),t),...n,children:[r,o.jsxs(V_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Mi,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Po.displayName=Ap.displayName;const pc=({className:e,...t})=>o.jsx("div",{className:ke("flex flex-col space-y-2 text-center sm:text-left",e),...t});pc.displayName="SheetHeader";const vl=x.forwardRef(({className:e,...t},r)=>o.jsx(vx,{ref:r,className:ke("text-lg font-semibold text-foreground",e),...t}));vl.displayName=vx.displayName;const wx=x.forwardRef(({className:e,...t},r)=>o.jsx(xx,{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));wx.displayName=xx.displayName;function uE({children:e}){const[t,r]=x.useState(!0),[n,a]=x.useState(!1);x.useEffect(()=>{const l=()=>{a(window.innerWidth<1024),window.innerWidth<1024?r(!1):r(!0)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const s=()=>{r(!t)},i=()=>{n&&r(!1)};return o.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[o.jsx(Ume,{onToggleSidebar:s}),o.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!n&&o.jsx("aside",{className:ke("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block",t?"w-60":"w-0 overflow-hidden"),style:{height:"calc(100vh - 64px)"},children:o.jsx(uI,{onNavigate:i})}),n&&o.jsx(gl,{open:t,onOpenChange:r,children:o.jsxs(Po,{side:Ur()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[o.jsx(vl,{className:"sr-only",children:"Navigation Menu"}),o.jsx(wx,{className:"sr-only",children:"Application navigation sidebar"}),o.jsx(uI,{onNavigate:i})]})}),o.jsx("main",{className:"flex-1 overflow-y-auto bg-background pt-2 p-3 sm:p-4 md:p-6 w-full min-h-full",children:e})]})]})}const es={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await G.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await G.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const t=await G.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${t.data.length} ${e} stages`),t.data}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const t=await this.getAll(),r=t.length>0?Math.max(...t.map(i=>i.stager_order_index||0)):-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var};return await G.stages.create(a)}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=hl(t,{stage_name:"stage_name"});await G.stages.update(e,r)}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{await G.stages.delete(e)}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},tn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await G.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return G.count("Users")},async getById(e){try{return await G.Users.get(e)}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{return(await G.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.name!==void 0&&(r.name=t.name),t.Email!==void 0&&(r.Email=t.Email),t.permissions!==void 0&&(r.permissions=t.permissions),t.mobile!==void 0&&(r.mobile=t.mobile),t.IsActive!==void 0&&(r.IsActive=t.IsActive),t.Employee!==void 0&&(r.Employee=t.Employee),await G.Users.update(e,r),console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},kw={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await G.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return G.count("Users")},async getById(e){try{const t=await G.Users.get(e);return t&&t.user_role==="client"?t:null}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await G.Users.create(t)}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},Vc={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await G.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return G.count("projects")},async getById(e){try{return await G.projects.get(e)}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{return await G.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date),await G.projects.update(e,r)}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{await G.projects.delete(e)}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const r=(await G.projectUsers.list({exact_filters:{userid:e}})).data.map(a=>a.project_id);if(r.length===0)return[];const n=await Promise.all(r.map(a=>G.projects.get(a)));return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n.filter(a=>a!==null)}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},Xl={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await G.tasks.list({sort_by:"created_at",sort_order:"desc"});return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return G.count("tasks",e)},async getByStage(e){try{return(await G.tasks.getByStage(e)).data}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=hl({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await G.tasks.create(t)}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=hl(t,{task_name:"task_name",description:"description"});await G.tasks.update(e,r)}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{await G.tasks.delete(e)}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},dE={async getByTask(e){try{return(await G.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{return await G.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},Si={async getUserRooms(e){try{const r=(await G.roomMembers.list({exact_filters:{userid:e}})).data;if(!r||r.length===0)return[];const n=r.map(s=>s.room_id);return(await Promise.all(n.map(s=>G.rooms.get(s)))).filter(Boolean)}catch(t){throw console.error("[roomService] Failed to get user rooms:",t),t}},async createRoom(e){let t=e.created_by;if(!t||t===0){const n=await tn.getByAuthId(e.userid);n&&(t=n.userid)}return await G.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,userid:e.userid})},async addMember(e,t){await G.roomMembers.create({room_id:e,userid:t})},async getRoomMembers(e){const t=await G.roomMembers.getByRoom(e);return!t.data||t.data.length===0?[]:(await Promise.all(t.data.map(async n=>await tn.getByAuthId(n.userid)))).filter(Boolean)},async markAsRead(e,t){try{const r=await G.roomMembers.list({exact_filters:{room_id:e,userid:t}});if(r.data.length>0){const n=r.data[0].id;n&&await G.roomMembers.update(n,{last_read_at:new Date().toISOString()})}}catch(r){console.error("[roomService] Failed to mark room as read:",r)}}},Wme={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const t=await G.projectUsers.getByProject(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(a=>a.user_id);return(await Promise.all(r.map(a=>tn.getById(a)))).filter(Boolean)}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e),await G.projectUsers.create({project_id:e,user_id:t}),console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const r=await G.projectUsers.list({exact_filters:{project_id:e,user_id:t}});if(r.data.length>0){const n=r.data[0].id;n&&await G.projectUsers.delete(n)}console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},th={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await G.teams.list({sort_by:"created_at",sort_order:"desc"});return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const n=((await G.teamMembers.list()).data||[]).reduce((s,i)=>(s[i.team_id]||(s[i.team_id]=[]),s[i.team_id].push({userid:i.userid,joined_at:i.joined_at||i.created_at}),s),{});return e.map(s=>({...s,team_members:n[s.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const t=(await G.teamMembers.list()).data,r={};return(t||[]).forEach(n=>{const a={userid:n.user_id,name:n.Users_name||"Unknown User"};r[n.team_id]||(r[n.team_id]=[]),r[n.team_id].push(a)}),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await G.teams.get(e)}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{const t=await G.teams.create(e);if(t)try{let r=0;if(e.userid){const n=await tn.getByAuthId(e.userid);n&&(r=n.userid)}await Si.createRoom({name:`General - ${t.team_name}`,is_private:!1,project_id:null,created_by:r,userid:e.userid}),await G.rooms.create({room_name:`General - ${t.team_name}`,is_private:!1,team_id:t.team_id,created_by:r,userid:e.userid})}catch(r){console.error("[teamService] Error creating default room:",r)}return t}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=hl(t,{team_name:"team_name"});await G.teams.update(e,r)}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{await G.teams.delete(e)}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const r=(await G.teamMembers.getByTeam(e)).data;if(!r||r.length===0)return[];const n=r.map(s=>s.userid);return(await Promise.all(n.map(s=>tn.getByAuthId(s)))).filter(Boolean)}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{console.log("[teamService] Adding member",t,"to team",e),await G.teamMembers.create({team_id:e,userid:t}),console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{console.log("[teamService] Removing member",t,"from team",e);const r=await G.teamMembers.list({exact_filters:{team_id:e,userid:t}});if(r.data.length>0){const n=r.data[0].id;n&&await G.teamMembers.delete(n)}console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},h0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await G.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await G.tickets.get(e)}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{return await G.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.status!==void 0&&(r.status=t.status),await G.tickets.update(e,r)}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`),await G.tickets.update(e,{stage_id:t}),console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{await G.tickets.delete(e)}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},Dh={async getByRoom(e,t){try{const r={exact_filters:{room_id:e},sort_by:"created_at",sort_order:"desc"};t!=null&&t.limit&&(r.limit=t.limit);const n=await G.messages.list(r);if(!n.data)return[];const a=n.data,s=[...new Set(a.map(u=>u.userid))],i=await Promise.all(s.map(u=>tn.getByAuthId(u))),l=new Map(i.filter(u=>u).map(u=>[u.userid,u]));return a.map(u=>({...u,sender:l.get(u.userid)||null})).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{return await G.messages.create(e)}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{await G.messages.update(e,{content:t,is_edited:!0})}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{await G.messages.delete(e)}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{const t=e.name.split(".").pop(),n=`${`${Math.random().toString(36).substring(2)}_${Date.now()}.${t}`}`,{error:a}=await $t.storage.from("chat-attachments").upload(n,e);if(a)throw a;const{data:s}=$t.storage.from("chat-attachments").getPublicUrl(n);return s.publicUrl}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},xd={async getAll(){try{console.log("[leadService] Fetching all leads...");const e=await G.leads.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[leadService] Successfully fetched ${e.data.length} leads`),e.data}catch(e){throw console.error("[leadService] Failed to fetch leads:",e),e}},async getCount(){return G.count("leads")},async getById(e){try{return await G.leads.get(e)}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{return await G.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async createMLead(e){try{return await G.mLeads.create(e)}catch(t){throw console.error("[leadService] Failed to create MLead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency),await G.leads.update(e,r)}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{await G.leads.delete(e)}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},lM={async getAll(){try{console.log("[mLeadService] Fetching all master leads...");const e=await G.mLeads.list({sort_by:"created_at",sort_order:"desc"});return console.log(`[mLeadService] Successfully fetched ${e.data.length} master leads`),e.data}catch(e){throw console.error("[mLeadService] Failed to fetch master leads:",e),e}},async getCount(){return G.count("m_leads")},async getById(e){try{return await G.mLeads.get(e)}catch(t){return console.error("[mLeadService] Failed to fetch master lead:",t),null}}},cM={async getAll(){try{console.log("[mProjectService] Fetching all master projects...");const e=await G.mProjects.list({sort_by:"created_at",sort_order:"desc"});return console.log(`[mProjectService] Successfully fetched ${e.data.length} master projects`),e.data}catch(e){throw console.error("[mProjectService] Failed to fetch master projects:",e),e}},async getCount(){return G.count("m_projects")},async getById(e){try{return await G.mProjects.get(e)}catch(t){return console.error("[mProjectService] Failed to fetch master project:",t),null}}},Qh={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const n=(await G.notes.list({exact_filters:{related_to_type:e,related_to_id:t},sort_by:"created_at",sort_order:"desc"})).data;if(!n||n.length===0)return[];const a=[...new Set(n.map(l=>l.created_by))],s=await Promise.all(a.map(l=>tn.getById(l))),i=new Map(s.filter(l=>l).map(l=>[l.userid,l]));return n.map(l=>({...l,user:i.get(l.created_by)?{userid:i.get(l.created_by).userid,user_id:i.get(l.created_by).userid,user_name:i.get(l.created_by).name,name:i.get(l.created_by).name,Email:i.get(l.created_by).Email}:void 0}))}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const t=await G.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{await G.notes.update(e,{content:t,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{await G.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},vi={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await G.surveyTemplates.list({sort_by:"created_at",sort_order:"desc"});return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch templates:",e),e}},async getById(e){try{return await G.surveyTemplates.get(e)}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{return await G.surveyTemplates.create(e)}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default),await G.surveyTemplates.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{await G.surveyTemplates.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const r=(await G.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(r==null?void 0:r.length)||0} fields`),(r||[]).sort((n,a)=>(n.field_order||0)-(a.field_order||0))}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{return await G.surveyTemplateFields.create(e)}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic),await G.surveyTemplateFields.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{await G.surveyTemplateFields.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},Nd={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await G.surveys.list({sort_by:"created_at",sort_order:"desc"});return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){return G.count("surveys")},async getById(e){try{return await G.surveys.get(e)}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{return await G.surveys.create(e)}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const t=await Promise.all(e.map(r=>G.surveys.create(r)));return console.log(`[surveyService] Successfully batch created ${t.length} surveys`),t}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar),await G.surveys.update(e,r)}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{await G.surveys.delete(e)}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}},gk=1024;function La(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${gk-1}px)`),n=()=>{t(window.innerWidth<gk)};return r.addEventListener("change",n),t(window.innerWidth<gk),()=>r.removeEventListener("change",n)},[]),!!e}const Hme=sx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mt({className:e,variant:t,...r}){return o.jsx("div",{className:ke(Hme({variant:t}),e),...r})}function Kz(){Ht();const[e,t]=x.useState(new Date);x.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[o.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),o.jsx("div",{className:"text-sm",children:r(e)})]})}const uM=({projects:e,clients:t,users:r,leads:n,surveys:a,loadData:s,isRTL:i,t:l,counts:c})=>{const u=c.projects,d=0,f=c.projects,h=0,m=c.clients,g=c.users,p=c.leads,v=c.surveys,y=[...e].sort((w,b)=>new Date(b.created_at||"").getTime()-new Date(w.created_at||"").getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:i?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:l("dashboard.title")}),o.jsx("p",{className:"text-muted-foreground mt-1 sm:mt-2 text-sm sm:text-base",children:l("dashboard.subtitle")})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Kz,{})})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[o.jsx(Xs,{title:l("dashboard.totalProjects"),value:u,subtext:`${d} ${l("dashboard.completed")}`,icon:doe}),o.jsx(Xs,{title:l("dashboard.inProgress"),value:f,subtext:l("dashboard.activeProjects"),icon:Aa}),o.jsx(Xs,{title:l("dashboard.clients"),value:m,subtext:l("dashboard.totalClients"),icon:on}),o.jsx(Xs,{title:l("dashboard.teamMembers"),value:g,subtext:l("dashboard.activeUsers"),icon:Aa}),o.jsx(Xs,{title:l("dashboard.leads"),value:p,subtext:l("dashboard.totalLeads"),icon:fw}),o.jsx(Xs,{title:l("dashboard.surveys"),value:v,subtext:l("dashboard.totalSurveys"),icon:ys})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2",children:[o.jsxs(pt,{children:[o.jsx(fr,{children:o.jsx(Jr,{className:"text-base sm:text-lg",children:l("dashboard.recentProjects")})}),o.jsx(jt,{className:"space-y-3 sm:space-y-4",children:y.length>0?y.map(w=>o.jsx(Kme,{project:w,clientName:w.company_name||"No Client"},w.project_id)):o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:l("dashboard.noProjectsYet")})})]}),o.jsxs(pt,{children:[o.jsx(fr,{children:o.jsx(Jr,{className:"text-base sm:text-lg",children:l("dashboard.projectStatus")})}),o.jsxs(jt,{className:"space-y-3 sm:space-y-4",children:[o.jsx(vk,{color:"bg-green-500",label:l("dashboard.completedStatus"),value:d}),o.jsx(vk,{color:"bg-blue-500",label:l("dashboard.inProgressStatus"),value:f}),o.jsx(vk,{color:"bg-gray-500",label:l("dashboard.notStartedStatus"),value:h})]})]})]})]})},qme=({user:e,myTasks:t,myProjects:r,leads:n,surveys:a,isRTL:s,t:i,counts:l})=>{var h;const c=t.filter(m=>m.task_status==="completed").length,u=t.filter(m=>m.task_status==="in_progress").length,d=l.projects,f=[...t].sort((m,g)=>new Date(g.created_at||"").getTime()-new Date(m.created_at||"").getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:s?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:i("employeeDashboard.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:i("employeeDashboard.subtitle",{name:Te(e.profile||{},"user_name")||e.email})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Kz,{})})]}),o.jsxs(pt,{children:[o.jsx(fr,{children:o.jsxs(Jr,{className:"flex items-center gap-2",children:[o.jsx(sa,{className:"h-5 w-5"}),i("employeeDashboard.employeeInfo")]})}),o.jsx(jt,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(xk,{label:i("employeeDashboard.name"),value:Te(e.profile||{},"user_name")||"N/A"}),o.jsx(xk,{label:i("employeeDashboard.email"),value:e.email}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:i("employeeDashboard.role")}),o.jsx(mt,{variant:"secondary",className:"capitalize",children:e.role})]}),o.jsx(xk,{label:i("employeeDashboard.memberSince"),value:(h=e.profile)!=null&&h.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A"})]})})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[o.jsx(Xs,{title:i("employeeDashboard.myProjects"),value:l.projects,subtext:`${d} ${i("employeeDashboard.active")}`,icon:Hd}),o.jsx(Xs,{title:i("employeeDashboard.myTasks"),value:l.myTasks,subtext:`${c} ${i("employeeDashboard.completed")}`,icon:fw}),o.jsx(Xs,{title:i("employeeDashboard.inProgress"),value:u,subtext:i("employeeDashboard.activeTasks"),icon:jd}),o.jsx(Xs,{title:i("employeeDashboard.completedTasks"),value:c,subtext:i("employeeDashboard.finishedTasks"),icon:Hl}),o.jsx(Xs,{title:i("employeeDashboard.leads"),value:l.leads,subtext:i("employeeDashboard.totalLeads"),icon:fw}),o.jsx(Xs,{title:i("employeeDashboard.surveys"),value:l.surveys,subtext:i("employeeDashboard.totalSurveys"),icon:ys})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(pt,{children:[o.jsx(fr,{children:o.jsx(Jr,{children:i("employeeDashboard.myProjects")})}),o.jsx(jt,{className:"space-y-4",children:r.length>0?r.slice(0,5).map(m=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:m.company_name}),o.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:m.contract_code||i("employeeDashboard.noDescription")})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-sm text-muted-foreground",children:m.contract_code})})]},m.project_id)):o.jsx("p",{className:"text-sm text-muted-foreground",children:i("employeeDashboard.noProjectsAssigned")})})]}),o.jsxs(pt,{children:[o.jsx(fr,{children:o.jsx(Jr,{children:i("employeeDashboard.recentTasks")})}),o.jsx(jt,{className:"space-y-4",children:f.length>0?f.map(m=>{var g;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:m.task_name}),o.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:m.description||i("employeeDashboard.noDescription")})]}),o.jsx(mt,{variant:m.task_status==="completed"?"default":m.task_status==="in_progress"?"secondary":"outline",className:"text-xs",children:(g=m.task_status)==null?void 0:g.replace("_"," ")})]},m.task_id)}):o.jsx("p",{className:"text-sm text-muted-foreground",children:i("employeeDashboard.noTasksAssigned")})})]})]})]})},Xs=({title:e,value:t,subtext:r,icon:n})=>o.jsxs(pt,{children:[o.jsxs(fr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Jr,{className:"text-xs sm:text-sm font-medium",children:e}),o.jsx(n,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(jt,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:t}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:r})]})]}),Kme=({project:e,clientName:t})=>o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium leading-none truncate",children:e.company_name}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:t||"No client"})]}),o.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-muted-foreground",children:e.contract_code})]}),vk=({color:e,label:t,value:r})=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full ${e}`}),o.jsx("span",{className:"text-xs sm:text-sm",children:t})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:r})]}),xk=({label:e,value:t})=>o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e}),o.jsx("p",{className:"font-medium",children:t})]});function Gme(){var m;const{t:e}=Ht(),{currentLanguage:t,isRTL:r}=mi();La();const{user:n,loading:a}=Sr(),[s,i]=x.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,clients:0,users:0,leads:0,surveys:0,myTasks:0}}),[l,c]=x.useState(!0),[u,d]=x.useState(null),f=s.projects.filter(g=>{var p;return g.created_by===(n==null?void 0:n.id)||g.created_by===((p=n==null?void 0:n.profile)==null?void 0:p.userid)});x.useEffect(()=>{n&&!a&&h()},[n,a]);const h=async()=>{var g;try{c(!0),d(null);const[p,v,y,w,b,_,S,k,j,E,N]=await Promise.all([cM.getCount().catch(()=>0),kw.getCount().catch(()=>0),tn.getCount().catch(()=>0),lM.getCount().catch(()=>0),Nd.getCount().catch(()=>0),cM.getAll().catch(()=>[]),kw.getAll().catch(()=>[]),tn.getAll().catch(()=>[]),lM.getAll().catch(()=>[]),Nd.getAll().catch(()=>[]),Xl.getAll().catch(()=>[])]),A=((g=n==null?void 0:n.profile)==null?void 0:g.userid)||(n==null?void 0:n.id),D=N.filter(U=>U.assigned_to===A),T=await Xl.getCount({exact_filters:{assigned_to:A}}).catch(()=>D.length);i({projects:_,clients:S,users:k,leads:j,surveys:E,myTasks:D,counts:{projects:p,clients:v,users:y,leads:w,surveys:b,myTasks:T}})}catch(p){console.error("[Dashboard] Failed to load data:",p),d(p.message||"Failed to load data")}finally{c(!1)}};return l||a||!n?o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:e("common.loading")})]})}):u?o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:u}),o.jsx(ce,{onClick:h,className:"mt-4",children:"Retry"})]})}):n.role==="client"&&n.profile.permissions!==1?o.jsx(NN,{to:"/client-portal",replace:!0}):n.role==="employee"||n.role==="team_leader"||n.role==="partner"||n.profile.permissions===2?o.jsx(qme,{user:n,myTasks:s.myTasks,myProjects:f,leads:s.leads,surveys:s.surveys,isRTL:r,t:e,counts:s.counts}):n.role==="partner_employee"?o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:"Partner Employee Dashboard"}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Welcome to your partner employee portal"})]})}),o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:o.jsx(Xs,{title:"",value:0,subtext:"",icon:Hd})}),o.jsx("h2",{className:"text-2xl font-semibold",children:"Coming Soon"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"We're working hard to bring you an amazing partner employee experience."})]})})]}):n.role==="admin"||((m=n==null?void 0:n.profile)==null?void 0:m.permissions)===1?o.jsx(uM,{projects:s.projects,clients:s.clients,users:s.users,leads:s.leads,surveys:s.surveys,loadData:h,isRTL:r,t:e,counts:s.counts}):o.jsx(uM,{projects:s.projects,clients:s.clients,users:s.users,leads:s.leads,surveys:s.surveys,loadData:h,isRTL:r,t:e,counts:s.counts})}var W_="Popover",[Gz,QYe]=ds(W_,[Ep]),bx=Ep(),[Yme,Yu]=Gz(W_),Yz=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,l=bx(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=mc({prop:n,defaultProp:a??!1,onChange:s,caller:W_});return o.jsx(FA,{...l,children:o.jsx(Yme,{scope:t,contentId:oa(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:i,children:r})})};Yz.displayName=W_;var Xz="PopoverAnchor",Xme=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Yu(Xz,r),s=bx(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(E_,{...s,...n,ref:t})});Xme.displayName=Xz;var Jz="PopoverTrigger",Qz=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Yu(Jz,r),s=bx(r),i=Wt(t,a.triggerRef),l=o.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nW(a.open),...n,ref:i,onClick:tt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(E_,{asChild:!0,...s,children:l})});Qz.displayName=Jz;var dO="PopoverPortal",[Jme,Qme]=Gz(dO,{forceMount:void 0}),Zz=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Yu(dO,t);return o.jsx(Jme,{scope:t,forceMount:r,children:o.jsx(Fa,{present:r||s.open,children:o.jsx(fx,{asChild:!0,container:a,children:n})})})};Zz.displayName=dO;var Mm="PopoverContent",eW=x.forwardRef((e,t)=>{const r=Qme(Mm,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Yu(Mm,e.__scopePopover);return o.jsx(Fa,{present:n||s.open,children:s.modal?o.jsx(epe,{...a,ref:t}):o.jsx(tpe,{...a,ref:t})})});eW.displayName=Mm;var Zme=Ou("PopoverContent.RemoveScroll"),epe=x.forwardRef((e,t)=>{const r=Yu(Mm,e.__scopePopover),n=x.useRef(null),a=Wt(t,n),s=x.useRef(!1);return x.useEffect(()=>{const i=n.current;if(i)return C_(i)},[]),o.jsx(hx,{as:Zme,allowPinchZoom:!0,children:o.jsx(tW,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:tt(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:tt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),tpe=x.forwardRef((e,t)=>{const r=Yu(Mm,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return o.jsx(tW,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),tW=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Yu(Mm,r),m=bx(r);return S_(),o.jsx(ux,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(cx,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(LA,{"data-state":nW(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rW="PopoverClose",rpe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Yu(rW,r);return o.jsx(ct.button,{type:"button",...n,ref:t,onClick:tt(e.onClick,()=>a.onOpenChange(!1))})});rpe.displayName=rW;var npe="PopoverArrow",ape=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=bx(r);return o.jsx($A,{...a,...n,ref:t})});ape.displayName=npe;function nW(e){return e?"open":"closed"}var spe=Yz,ipe=Qz,ope=Zz,aW=eW;const pa=spe,ga=ipe,Zn=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(ope,{children:o.jsx(aW,{ref:a,align:t,sideOffset:r,className:ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Zn.displayName=aW.displayName;const lpe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},cpe=(e,t,r)=>{const n=lpe[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},upe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},dpe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},fpe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hpe={date:Kh({formats:upe,defaultWidth:"full"}),time:Kh({formats:dpe,defaultWidth:"full"}),dateTime:Kh({formats:fpe,defaultWidth:"full"})},mpe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},ppe=e=>mpe[e],gpe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},vpe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},xpe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},ype={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},wpe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},bpe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},_pe=e=>String(e),Spe={ordinalNumber:_pe,era:Qo({values:gpe,defaultWidth:"wide"}),quarter:Qo({values:vpe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qo({values:xpe,defaultWidth:"wide"}),day:Qo({values:ype,defaultWidth:"wide"}),dayPeriod:Qo({values:wpe,defaultWidth:"wide",formattingValues:bpe,defaultFormattingWidth:"wide"})},jpe=/^(\d+)(th|st|nd|rd)?/i,kpe=/\d+/i,Npe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},Epe={any:[//,//]},Cpe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},Tpe={any:[/1/i,/2/i,/3/i,/4/i]},Ape={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},Ope={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Ppe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},Dpe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Rpe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},Ipe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},Mpe={ordinalNumber:FU({matchPattern:jpe,parsePattern:kpe,valueCallback:e=>parseInt(e,10)}),era:Zo({matchPatterns:Npe,defaultMatchWidth:"wide",parsePatterns:Epe,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:Cpe,defaultMatchWidth:"wide",parsePatterns:Tpe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zo({matchPatterns:Ape,defaultMatchWidth:"wide",parsePatterns:Ope,defaultParseWidth:"any"}),day:Zo({matchPatterns:Ppe,defaultMatchWidth:"wide",parsePatterns:Dpe,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:Rpe,defaultMatchWidth:"any",parsePatterns:Ipe,defaultParseWidth:"any"})},Fpe={code:"ar",formatDistance:cpe,formatLong:hpe,formatRelative:ppe,localize:Spe,match:Mpe,options:{weekStartsOn:6,firstWeekContainsDate:1}};var Tt=function(){return Tt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Tt.apply(this,arguments)};function Lpe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function sW(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function _x(e){return e.mode==="multiple"}function Sx(e){return e.mode==="range"}function H_(e){return e.mode==="single"}var $pe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Bpe(e,t){return is(e,"LLLL y",t)}function Upe(e,t){return is(e,"d",t)}function Vpe(e,t){return is(e,"LLLL",t)}function zpe(e){return"".concat(e)}function Wpe(e,t){return is(e,"cccccc",t)}function Hpe(e,t){return is(e,"yyyy",t)}var qpe=Object.freeze({__proto__:null,formatCaption:Bpe,formatDay:Upe,formatMonthCaption:Vpe,formatWeekNumber:zpe,formatWeekdayName:Wpe,formatYearCaption:Hpe}),Kpe=function(e,t,r){return is(e,"do MMMM (EEEE)",r)},Gpe=function(){return"Month: "},Ype=function(){return"Go to next month"},Xpe=function(){return"Go to previous month"},Jpe=function(e,t){return is(e,"cccc",t)},Qpe=function(e){return"Week n. ".concat(e)},Zpe=function(){return"Year: "},e0e=Object.freeze({__proto__:null,labelDay:Kpe,labelMonthDropdown:Gpe,labelNext:Ype,labelPrevious:Xpe,labelWeekNumber:Qpe,labelWeekday:Jpe,labelYearDropdown:Zpe});function t0e(){var e="buttons",t=$pe,r=_A,n={},a={},s=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:qpe,labels:e0e,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:i,today:l,mode:"default"}}function r0e(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,i=e.toDate;return n?s=Es(n):t&&(s=new Date(t,0,1)),a?i=x_(a):r&&(i=new Date(r,11,31)),{fromDate:s?Em(s):void 0,toDate:i?Em(i):void 0}}var iW=x.createContext(void 0);function n0e(e){var t,r=e.initialProps,n=t0e(),a=r0e(r),s=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!i)&&(l="buttons");var c;(H_(r)||_x(r)||Sx(r))&&(c=r.onSelect);var u=Tt(Tt(Tt({},n),r),{captionLayout:l,classNames:Tt(Tt({},n.classNames),r.classNames),components:Tt({},r.components),formatters:Tt(Tt({},n.formatters),r.formatters),fromDate:s,labels:Tt(Tt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Tt(Tt({},n.modifiers),r.modifiers),modifiersClassNames:Tt(Tt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Tt(Tt({},n.styles),r.styles),toDate:i});return o.jsx(iW.Provider,{value:u,children:e.children})}function Ir(){var e=x.useContext(iW);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function oW(e){var t=Ir(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function a0e(e){return o.jsx("svg",Tt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function lW(e){var t,r,n=e.onChange,a=e.value,s=e.children,i=e.caption,l=e.className,c=e.style,u=Ir(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:a0e;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function s0e(e){var t,r=Ir(),n=r.fromDate,a=r.toDate,s=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(Eie(n,a))for(var h=Es(n),m=n.getMonth();m<=a.getMonth();m++)f.push(Gj(h,m));else for(var h=Es(new Date),m=0;m<=11;m++)f.push(Gj(h,m));var g=function(v){var y=Number(v.target.value),w=Gj(Es(e.displayMonth),y);e.onChange(w)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:lW;return o.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function i0e(e){var t,r=e.displayMonth,n=Ir(),a=n.fromDate,s=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var m=a.getFullYear(),g=s.getFullYear(),p=m;p<=g;p++)h.push(eI(IU(new Date),p));var v=function(w){var b=eI(Es(r),Number(w.target.value));e.onChange(b)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:lW;return o.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(w){return o.jsx("option",{value:w.getFullYear(),children:d(w,{locale:i})},w.getFullYear())})})}function o0e(e,t){var r=x.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function l0e(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&Tm(s,a)<0){var u=-1*(c-1);a=No(s,u)}return i&&Tm(a,i)<0&&(a=i),Es(a)}function c0e(){var e=Ir(),t=l0e(e),r=o0e(t,e.month),n=r[0],a=r[1],s=function(i){var l;if(!e.disableNavigation){var c=Es(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function u0e(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Es(e),s=Es(No(a,n)),i=Tm(s,a),l=[],c=0;c<i;c++){var u=No(a,c);l.push(u)}return r&&(l=l.reverse()),l}function d0e(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=Es(e);if(!r)return No(l,i);var c=Tm(r,e);if(!(c<s))return No(l,i)}}function f0e(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=Es(e);if(!r)return No(l,-i);var c=Tm(l,r);if(!(c<=0))return No(l,-i)}}var cW=x.createContext(void 0);function h0e(e){var t=Ir(),r=c0e(),n=r[0],a=r[1],s=u0e(n,t),i=d0e(n,t),l=f0e(n,t),c=function(f){return s.some(function(h){return SA(f,h)})},u=function(f,h){c(f)||(h&&VU(f,h)?a(No(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(cW.Provider,{value:d,children:e.children})}function jx(){var e=x.useContext(cW);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function dM(e){var t,r=Ir(),n=r.classNames,a=r.styles,s=r.components,i=jx().goToMonth,l=function(d){i(No(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:oW,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(s0e,{onChange:l,displayMonth:e.displayMonth}),o.jsx(i0e,{onChange:l,displayMonth:e.displayMonth})]})}function m0e(e){return o.jsx("svg",Tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function p0e(e){return o.jsx("svg",Tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Nw=x.forwardRef(function(e,t){var r=Ir(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var i=s.join(" "),l=Tt(Tt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),o.jsx("button",Tt({},e,{ref:t,type:"button",className:i,style:l}))});function g0e(e){var t,r,n=Ir(),a=n.dir,s=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[i.nav_button,i.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:s}),p=[i.nav_button,i.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:p0e,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:m0e;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(Nw,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?o.jsx(v,{className:i.nav_icon,style:l.nav_icon}):o.jsx(y,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(Nw,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?o.jsx(y,{className:i.nav_icon,style:l.nav_icon}):o.jsx(v,{className:i.nav_icon,style:l.nav_icon})})]})}function fM(e){var t=Ir().numberOfMonths,r=jx(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(g){return SA(e.displayMonth,g)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return o.jsx(g0e,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function v0e(e){var t,r=Ir(),n=r.classNames,a=r.disableNavigation,s=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:oW,u;return a?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=o.jsx(dM,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(dM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(fM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(fM,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:s.caption,children:u})}function x0e(e){var t=Ir(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function y0e(e,t,r){for(var n=r?sf(new Date):ml(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var i=Ya(n,s);a.push(i)}return a}function w0e(){var e=Ir(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=y0e(a,s,i);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function b0e(){var e,t=Ir(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:w0e;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(s,{})})}function _0e(e){var t=Ir(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var fO=x.createContext(void 0);function S0e(e){if(!_x(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(fO.Provider,{value:t,children:e.children})}return o.jsx(j0e,{initialProps:e.initialProps,children:e.children})}function j0e(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,i=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var v=n?sW([],n):[];if(d.selected){var y=v.findIndex(function(w){return _s(u,w)});v.splice(y,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return _s(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:i,modifiers:l};return o.jsx(fO.Provider,{value:c,children:r})}function hO(){var e=x.useContext(fO);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function k0e(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?_s(a,e)&&_s(n,e)?void 0:_s(a,e)?{from:a,to:void 0}:_s(n,e)?void 0:PN(n,e)?{from:e,to:a}:{from:n,to:e}:a?PN(e,a)?{from:a,to:e}:{from:e,to:a}:n?VU(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var mO=x.createContext(void 0);function N0e(e){if(!Sx(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(mO.Provider,{value:t,children:e.children})}return o.jsx(E0e,{initialProps:e.initialProps,children:e.children})}function E0e(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,i=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var w=k0e(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,w,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],i?(d.range_end=[i],_s(s,i)||(d.range_middle=[{after:s,before:i}])):d.range_end=[s]):i&&(d.range_start=[i],d.range_end=[i]),l&&(s&&!i&&d.disabled.push({after:Kj(s,l-1),before:Ya(s,l-1)}),s&&i&&d.disabled.push({after:s,before:Ya(s,l-1)}),!s&&i&&d.disabled.push({after:Kj(i,l-1),before:Ya(i,l-1)})),c){if(s&&!i&&(d.disabled.push({before:Ya(s,-c+1)}),d.disabled.push({after:Ya(s,c-1)})),s&&i){var f=tl(i,s)+1,h=c-f;d.disabled.push({before:Kj(s,h)}),d.disabled.push({after:Ya(i,h)})}!s&&i&&(d.disabled.push({before:Ya(i,-c+1)}),d.disabled.push({after:Ya(i,c-1)}))}return o.jsx(mO.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function pO(){var e=x.useContext(mO);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function E1(e){return Array.isArray(e)?sW([],e):e!==void 0?[e]:[]}function C0e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=E1(a)}),t}var Do;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Do||(Do={}));var T0e=Do.Selected,Rl=Do.Disabled,A0e=Do.Hidden,O0e=Do.Today,yk=Do.RangeEnd,wk=Do.RangeMiddle,bk=Do.RangeStart,P0e=Do.Outside;function D0e(e,t,r){var n,a=(n={},n[T0e]=E1(e.selected),n[Rl]=E1(e.disabled),n[A0e]=E1(e.hidden),n[O0e]=[e.today],n[yk]=[],n[wk]=[],n[bk]=[],n[P0e]=[],n);return e.fromDate&&a[Rl].push({before:e.fromDate}),e.toDate&&a[Rl].push({after:e.toDate}),_x(e)?a[Rl]=a[Rl].concat(t.modifiers[Rl]):Sx(e)&&(a[Rl]=a[Rl].concat(r.modifiers[Rl]),a[bk]=r.modifiers[bk],a[wk]=r.modifiers[wk],a[yk]=r.modifiers[yk]),a}var uW=x.createContext(void 0);function R0e(e){var t=Ir(),r=hO(),n=pO(),a=D0e(t,r,n),s=C0e(t.modifiers),i=Tt(Tt({},a),s);return o.jsx(uW.Provider,{value:i,children:e.children})}function dW(){var e=x.useContext(uW);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function I0e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function M0e(e){return!!(e&&typeof e=="object"&&"from"in e)}function F0e(e){return!!(e&&typeof e=="object"&&"after"in e)}function L0e(e){return!!(e&&typeof e=="object"&&"before"in e)}function $0e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function B0e(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=tl(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var i=tl(e,n)>=0&&tl(a,e)>=0;return i}return a?_s(a,e):n?_s(n,e):!1}function U0e(e){return wA(e)}function V0e(e){return Array.isArray(e)&&e.every(wA)}function z0e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(U0e(r))return _s(e,r);if(V0e(r))return r.includes(e);if(M0e(r))return B0e(e,r);if($0e(r))return r.dayOfWeek.includes(e.getDay());if(I0e(r)){var n=tl(r.before,e),a=tl(r.after,e),s=n>0,i=a<0,l=PN(r.before,r.after);return l?i&&s:s||i}return F0e(r)?tl(e,r.after)>0:L0e(r)?tl(r.before,e)>0:typeof r=="function"?r(e):!1})}function gO(e,t,r){var n=Object.keys(t).reduce(function(s,i){var l=t[i];return z0e(e,l)&&s.push(i),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!SA(e,r)&&(a.outside=!0),a}function W0e(e,t){for(var r=Es(e[0]),n=x_(e[e.length-1]),a,s,i=r;i<=n;){var l=gO(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Ya(i,1);continue}if(l.selected)return i;l.today&&!s&&(s=i),a||(a=i),i=Ya(i,1)}return s||a}var H0e=365;function fW(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Ya,week:ON,month:No,year:pse,startOfWeek:function(v){return a.ISOWeek?sf(v):ml(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?MU(v):bA(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=gse([u,m]):n==="after"&&d&&(m=vse([d,m]));var g=!0;if(s){var p=gO(m,s);g=!p.disabled&&!p.hidden}return g?m:l.count>H0e?l.lastFocused:fW(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:Tt(Tt({},l),{count:l.count+1})})}var hW=x.createContext(void 0);function q0e(e){var t=jx(),r=dW(),n=x.useState(),a=n[0],s=n[1],i=x.useState(),l=i[0],c=i[1],u=W0e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},m=Ir(),g=function(v,y){if(a){var w=fW(a,{moveBy:v,direction:y,context:m,modifiers:r});_s(a,w)||(t.goToDate(w,a),h(w))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(hW.Provider,{value:p,children:e.children})}function vO(){var e=x.useContext(hW);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function K0e(e,t){var r=dW(),n=gO(e,r,t);return n}var xO=x.createContext(void 0);function G0e(e){if(!H_(e.initialProps)){var t={selected:void 0};return o.jsx(xO.Provider,{value:t,children:e.children})}return o.jsx(Y0e,{initialProps:e.initialProps,children:e.children})}function Y0e(e){var t=e.initialProps,r=e.children,n=function(s,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,i,l)},a={selected:t.selected,onDayClick:n};return o.jsx(xO.Provider,{value:a,children:r})}function mW(){var e=x.useContext(xO);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function X0e(e,t){var r=Ir(),n=mW(),a=hO(),s=pO(),i=vO(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,m=i.focusMonthBefore,g=i.focusMonthAfter,p=i.focusYearBefore,v=i.focusYearAfter,y=i.focusStartOfWeek,w=i.focusEndOfWeek,b=function(V){var F,R,re,Z;H_(r)?(F=n.onDayClick)===null||F===void 0||F.call(n,e,t,V):_x(r)?(R=a.onDayClick)===null||R===void 0||R.call(a,e,t,V):Sx(r)?(re=s.onDayClick)===null||re===void 0||re.call(s,e,t,V):(Z=r.onDayClick)===null||Z===void 0||Z.call(r,e,t,V)},_=function(V){var F;h(e),(F=r.onDayFocus)===null||F===void 0||F.call(r,e,t,V)},S=function(V){var F;f(),(F=r.onDayBlur)===null||F===void 0||F.call(r,e,t,V)},k=function(V){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,e,t,V)},j=function(V){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,e,t,V)},E=function(V){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,e,t,V)},N=function(V){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,e,t,V)},A=function(V){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,e,t,V)},D=function(V){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,e,t,V)},T=function(V){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,e,t,V)},U=function(V){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,e,t,V)},q=function(V){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,e,t,V)},M=function(V){var F;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),u();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),d();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?p():m();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?v():g();break;case"Home":V.preventDefault(),V.stopPropagation(),y();break;case"End":V.preventDefault(),V.stopPropagation(),w();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,e,t,V)},I={onClick:b,onFocus:_,onBlur:S,onKeyDown:M,onKeyUp:q,onMouseEnter:k,onMouseLeave:j,onPointerEnter:E,onPointerLeave:N,onTouchCancel:A,onTouchEnd:D,onTouchMove:T,onTouchStart:U};return I}function J0e(){var e=Ir(),t=mW(),r=hO(),n=pO(),a=H_(e)?t.selected:_x(e)?r.selected:Sx(e)?n.selected:void 0;return a}function Q0e(e){return Object.values(Do).includes(e)}function Z0e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Q0e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function ege(e,t){var r=Tt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Tt(Tt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function tge(e,t,r){var n,a,s,i=Ir(),l=vO(),c=K0e(e,t),u=X0e(e,c),d=J0e(),f=!!(i.onDayClick||i.mode!=="default");x.useEffect(function(){var k;c.outside||l.focusedDay&&f&&_s(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,f,c.outside]);var h=Z0e(i,c).join(" "),m=ege(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(s=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:_0e,v=o.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:v,role:"gridcell"},w=l.focusTarget&&_s(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&_s(l.focusedDay,e),_=Tt(Tt(Tt({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||w?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:y};return S}function rge(e){var t=x.useRef(null),r=tge(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Nw,Tt({name:"day",ref:t},r.buttonProps)):o.jsx("div",Tt({},r.divProps))}function nge(e){var t=e.number,r=e.dates,n=Ir(),a=n.onWeekNumberClick,s=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return o.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return o.jsx(Nw,{name:"week-number","aria-label":f,className:i.weeknumber,style:s.weeknumber,onClick:h,children:d})}function age(e){var t,r,n=Ir(),a=n.styles,s=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:rge,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:nge,d;return i&&(d=o.jsx("td",{className:s.cell,style:a.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},jie(f))})]})}function hM(e,t,r){for(var n=r!=null&&r.ISOWeek?MU(t):bA(t,r),a=r!=null&&r.ISOWeek?sf(e):ml(e,r),s=tl(n,a),i=[],l=0;l<=s;l++)i.push(Ya(a,l));var c=i.reduce(function(u,d){var f=r!=null&&r.ISOWeek?LU(d):BU(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function sge(e,t){var r=hM(Es(e),x_(e),t);if(t!=null&&t.useFixedWeeks){var n=Nie(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],i=ON(s,6-n),l=hM(ON(s,1),i,t);r.push.apply(r,l)}}return r}function ige(e){var t,r,n,a=Ir(),s=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=sge(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:b0e,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:age,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:x0e;return o.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(p,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(w){return o.jsx(v,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),o.jsx(y,{displayMonth:e.displayMonth})]})}function oge(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var lge=oge()?x.useLayoutEffect:x.useEffect,_k=!1,cge=0;function mM(){return"react-day-picker-".concat(++cge)}function uge(e){var t,r=e??(_k?mM():null),n=x.useState(r),a=n[0],s=n[1];return lge(function(){a===null&&s(mM())},[]),x.useEffect(function(){_k===!1&&(_k=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function dge(e){var t,r,n=Ir(),a=n.dir,s=n.classNames,i=n.styles,l=n.components,c=jx().displayMonths,u=uge(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=i.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(s.caption_start),h=Tt(Tt({},h),i.caption_start)),g&&(f.push(s.caption_end),h=Tt(Tt({},h),i.caption_end)),p&&(f.push(s.caption_between),h=Tt(Tt({},h),i.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:v0e;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(ige,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function fge(e){var t=Ir(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function hge(e){var t,r,n=e.initialProps,a=Ir(),s=vO(),i=jx(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Tt(Tt({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return Tt(Tt({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:fge;return o.jsx("div",Tt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(m,{children:i.displayMonths.map(function(g,p){return o.jsx(dge,{displayIndex:p,displayMonth:g},p)})})}))}function mge(e){var t=e.children,r=Lpe(e,["children"]);return o.jsx(n0e,{initialProps:r,children:o.jsx(h0e,{children:o.jsx(G0e,{initialProps:r,children:o.jsx(S0e,{initialProps:r,children:o.jsx(N0e,{initialProps:r,children:o.jsx(R0e,{children:o.jsx(q0e,{children:t})})})})})})})}function pge(e){return o.jsx(mge,Tt({},e,{children:o.jsx(hge,{initialProps:e})}))}function pW({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(pge,{showOutsideDays:r,className:ke("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ke(Nm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ke(Nm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>o.jsx(Kie,{className:"h-4 w-4"}),IconRight:({...a})=>o.jsx(w_,{className:"h-4 w-4"})},...n})}pW.displayName="Calendar";function yO({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:i,className:l}){const{t:c}=Ht(),{currentLanguage:u}=mi(),[d,f]=x.useState(""),[h,m]=x.useState({from:void 0,to:void 0}),g=u==="ar"?Fpe:void 0;x.useEffect(()=>{const y=setTimeout(()=>{e(d)},300);return()=>clearTimeout(y)},[d,e]);const p=y=>{m(y),n&&n(y)},v=()=>{f(""),m({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return o.jsxs("div",{className:ke("flex flex-col sm:flex-row gap-3 mb-6",l),children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Us,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),o.jsx(ze,{placeholder:i||c("common.search","Search..."),value:d,onChange:y=>f(y.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),o.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&o.jsxs(_t,{onValueChange:t,children:[o.jsxs(wt,{className:"w-[140px]",children:[o.jsx(Zie,{className:"mr-2 h-4 w-4"}),o.jsx(St,{placeholder:c("common.status","Status")})]}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"all",children:c("common.all","All")}),s.map(y=>o.jsx(Ae,{value:y.value,children:y.label},y.value))]})]}),r&&a.length>0&&o.jsxs(_t,{onValueChange:r,children:[o.jsxs(wt,{className:"w-[140px]",children:[o.jsx(gge,{className:"mr-2 h-4 w-4"}),o.jsx(St,{placeholder:c("common.assignee","Assignee")})]}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"all",children:c("common.all","All")}),a.filter(y=>["employee","admin","manager","team_leader"].includes(y.user_role)).map(y=>o.jsx(Ae,{value:y.user_id.toString(),children:Te(y,"user_name")},y.user_id))]})]}),n&&o.jsxs(pa,{children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",className:ke("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[o.jsx(Eo,{className:"mr-2 h-4 w-4"}),h.from?h.to?o.jsxs(o.Fragment,{children:[is(h.from,"LLL dd, y",{locale:g})," -"," ",is(h.to,"LLL dd, y",{locale:g})]}):is(h.from,"LLL dd, y",{locale:g}):o.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),o.jsx(Zn,{className:"w-auto p-0",align:"start",children:o.jsx(pW,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:p,numberOfMonths:2})})]}),o.jsx(ce,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:o.jsx(Mi,{className:"h-4 w-4"})})]})]})}function gge(e){return o.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}var gW="AlertDialog",[vge,ZYe]=ds(gW,[GV]),jc=GV(),vW=e=>{const{__scopeAlertDialog:t,...r}=e,n=jc(t);return o.jsx(B_,{...n,...r,modal:!0})};vW.displayName=gW;var xge="AlertDialogTrigger",xW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=jc(r);return o.jsx(rO,{...a,...n,ref:t})});xW.displayName=xge;var yge="AlertDialogPortal",yW=e=>{const{__scopeAlertDialog:t,...r}=e,n=jc(t);return o.jsx(U_,{...n,...r})};yW.displayName=yge;var wge="AlertDialogOverlay",wW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=jc(r);return o.jsx(Tp,{...a,...n,ref:t})});wW.displayName=wge;var Zh="AlertDialogContent",[bge,_ge]=vge(Zh),Sge=Eae("AlertDialogContent"),bW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=jc(r),i=x.useRef(null),l=Wt(t,i),c=x.useRef(null);return o.jsx(dfe,{contentName:Zh,titleName:_W,docsSlug:"alert-dialog",children:o.jsx(bge,{scope:r,cancelRef:c,children:o.jsxs(Ap,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:tt(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(Sge,{children:n}),o.jsx(kge,{contentRef:i})]})})})});bW.displayName=Zh;var _W="AlertDialogTitle",SW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=jc(r);return o.jsx(vx,{...a,...n,ref:t})});SW.displayName=_W;var jW="AlertDialogDescription",kW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=jc(r);return o.jsx(xx,{...a,...n,ref:t})});kW.displayName=jW;var jge="AlertDialogAction",NW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=jc(r);return o.jsx(V_,{...a,...n,ref:t})});NW.displayName=jge;var EW="AlertDialogCancel",CW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=_ge(EW,r),s=jc(r),i=Wt(t,a);return o.jsx(V_,{...s,...n,ref:i})});CW.displayName=EW;var kge=({contentRef:e})=>{const t=`\`${Zh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Zh}\` by passing a \`${jW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Zh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Nge=vW,Ege=xW,Cge=yW,TW=wW,AW=bW,OW=NW,PW=CW,DW=SW,RW=kW;const ci=Nge,df=Ege,Tge=Cge,IW=x.forwardRef(({className:e,...t},r)=>o.jsx(TW,{className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));IW.displayName=TW.displayName;const Ds=x.forwardRef(({className:e,...t},r)=>o.jsxs(Tge,{children:[o.jsx(IW,{}),o.jsx(AW,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ds.displayName=AW.displayName;const Rs=({className:e,...t})=>o.jsx("div",{className:ke("flex flex-col space-y-2 text-center sm:text-left",e),...t});Rs.displayName="AlertDialogHeader";const Is=({className:e,...t})=>o.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Is.displayName="AlertDialogFooter";const Ms=x.forwardRef(({className:e,...t},r)=>o.jsx(DW,{ref:r,className:ke("text-lg font-semibold",e),...t}));Ms.displayName=DW.displayName;const Fs=x.forwardRef(({className:e,...t},r)=>o.jsx(RW,{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));Fs.displayName=RW.displayName;const Ls=x.forwardRef(({className:e,...t},r)=>o.jsx(OW,{ref:r,className:ke(Nm(),e),...t}));Ls.displayName=OW.displayName;const $s=x.forwardRef(({className:e,...t},r)=>o.jsx(PW,{ref:r,className:ke(Nm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));$s.displayName=PW.displayName;const la=x.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));la.displayName="Textarea";function kx({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=La(),s=x.useRef(null),i=e.find(l=>l.id===t)??e[0];return x.useEffect(()=>{a&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[i==null?void 0:i.id,a]),a?o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:o.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:Ur()?"ltr":"rtl",children:o.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((l,c)=>(Ur(),l.id-c.id)).map(l=>{const c=l.id===i.id;return o.jsxs("button",{ref:c?s:null,onClick:()=>r(l.id),className:ke("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",c?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[o.jsx("span",{className:"truncate max-w-[140px]",children:l.name}),o.jsx(mt,{variant:"secondary",className:ke("h-5 min-w-5 px-1.5 text-xs font-semibold",c?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:l.count})]},l.id)})})})}),o.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:o.jsx("div",{className:"p-2",children:n})})]}):o.jsx(o.Fragment,{children:n})}var q_="Tabs",[Age,eXe]=ds(q_,[R_]),MW=R_(),[Oge,wO]=Age(q_),FW=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=lx(l),[f,h]=mc({prop:n,onChange:a,defaultProp:s??"",caller:q_});return o.jsx(Oge,{scope:r,baseId:oa(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(ct.div,{dir:d,"data-orientation":i,...u,ref:t})})});FW.displayName=q_;var LW="TabsList",$W=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=wO(LW,r),i=MW(r);return o.jsx(Q7,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(ct.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});$W.displayName=LW;var BW="TabsTrigger",UW=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,i=wO(BW,r),l=MW(r),c=WW(i.baseId,n),u=HW(i.baseId,n),d=n===i.value;return o.jsx(Z7,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(ct.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:tt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:tt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:tt(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(n)})})})});UW.displayName=BW;var VW="TabsContent",zW=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...i}=e,l=wO(VW,r),c=WW(l.baseId,n),u=HW(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Fa,{present:a||d,children:({present:h})=>o.jsx(ct.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});zW.displayName=VW;function WW(e,t){return`${e}-trigger-${t}`}function HW(e,t){return`${e}-content-${t}`}var Pge=FW,qW=$W,KW=UW,GW=zW;const xl=Pge,Ro=x.forwardRef(({className:e,...t},r)=>o.jsx(qW,{ref:r,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ro.displayName=qW.displayName;const Zr=x.forwardRef(({className:e,...t},r)=>o.jsx(KW,{ref:r,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Zr.displayName=KW.displayName;const En=x.forwardRef(({className:e,...t},r)=>o.jsx(GW,{ref:r,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));En.displayName=GW.displayName;function bO({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=Ht(),{user:s}=Sr(),[i,l]=x.useState(""),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState(null),[g,p]=x.useState(!1),v=async()=>{if(!(!i.trim()||!(s!=null&&s.id))){p(!0);try{await Qh.create({content:i.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(_){console.error("Failed to create note:",_)}finally{p(!1)}}},y=async _=>{if(d.trim()){p(!0);try{await Qh.update(_,d.trim()),u(null),f(""),n()}catch(S){console.error("Failed to update note:",S)}finally{p(!1)}}},w=async()=>{if(h){p(!0);try{await Qh.delete(h),m(null),n()}catch(_){console.error("Failed to delete note:",_)}finally{p(!1)}}},b=_=>{if(!_)return"";try{return _ie(new Date(_),{addSuffix:!0})}catch{return _}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(la,{value:i,onChange:_=>l(_.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),o.jsxs(ce,{onClick:v,disabled:!i.trim()||g,className:"w-full",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),o.jsx("div",{className:"space-y-3",children:r.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(_=>{var j;const S=c===_.note_id,k=_.created_by===(s==null?void 0:s.id);return o.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(j=_.user)!=null&&j.avatar?o.jsx("img",{src:_.user.avatar,alt:Te(_.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-xs font-semibold text-primary",children:_.user?Te(_.user,"user_name")[0]:"?"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:_.user?Te(_.user,"user_name"):a("notes.unknown")}),o.jsx("p",{className:"text-xs text-muted-foreground",children:b(_.created_at)})]})]}),k&&!S&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(_.note_id),f(_.content)},children:o.jsx(Bi,{className:"h-3.5 w-3.5"})}),o.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>m(_.note_id),children:o.jsx(_r,{className:"h-3.5 w-3.5"})})]})]}),S?o.jsxs("div",{className:"space-y-2",children:[o.jsx(la,{value:d,onChange:E=>f(E.target.value),rows:3,className:"resize-none"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ce,{size:"sm",onClick:()=>y(_.note_id),disabled:!d.trim()||g,children:[o.jsx(Co,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),o.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[o.jsx(Mi,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content})]},_.note_id)})}),o.jsx(ci,{open:!!h,onOpenChange:()=>m(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:a("notes.delete")}),o.jsx(Fs,{children:a("notes.deleteConfirmation")})]}),o.jsxs(Is,{children:[o.jsx($s,{children:a("buttons.cancel")}),o.jsx(Ls,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function YW({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return o.jsxs("div",{className:ke("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(i=>o.jsx(JU,{className:ke(s[t],i<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},i)),r&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function Dge({leadId:e}){const{t}=Ht(),{user:r}=Sr(),[n,a]=x.useState(null),[s,i]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(""),[m,g]=x.useState([]),[p,v]=x.useState(!0),[y,w]=x.useState(!1),[b,_]=x.useState([]),[S,k]=x.useState([]),[j,E]=x.useState([]),[N,A]=x.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{T(),D()},[e]);const D=async()=>{try{const R=await tn.getAll().then(re=>re.filter(Z=>Z.user_role==="client"));E(R)}catch(R){console.error("Failed to load clients:",R)}},T=async()=>{var R,re,Z;try{v(!0);const[C,K,B]=await Promise.all([xd.getById(e),es.getByType("leads"),tn.getAll()]);if(a(C),_(K),k(B),!C)return;if(A({lead_name:C.lead_name||"",lead_description:C.lead_description||"",client_user_id:C.client_user_id||"",stage:((R=C.stage)==null?void 0:R.toString())||"",assigned_to:C.assigned_to||"",value:((re=C.value)==null?void 0:re.toString())||"",currency:C.currency||"SAR",priority:((Z=C.priority)==null?void 0:Z.toString())||"3",expected_close_date:C.expected_close_date||""}),C.client_user_id){const z=await tn.getByAuthId(C.client_user_id);i(z)}if(C.created_by){const z=B.find(ne=>ne.auth_user_id===C.created_by)||null;c(z)}if(C.assigned_to){const z=B.find(ne=>ne.auth_user_id===C.assigned_to)||null;d(z)}if(C.stage){const z=K.find(ne=>ne.stage_id===C.stage);z&&h(Te(z,"stage_name"))}U()}catch(C){console.error("Failed to load lead data:",C)}finally{v(!1)}},U=async()=>{try{const R=await Qh.getByRelated("lead",e);g(R)}catch(R){console.error("Failed to load notes:",R)}},q=async()=>{if(n)try{const R=N.assigned_to&&N.assigned_to!=="unassigned"?N.assigned_to:null,re=hl({lead_name:N.lead_name,lead_description:N.lead_description||null,client_user_id:N.client_user_id||null,stage:parseInt(N.stage),assigned_to:R,value:N.value?parseFloat(N.value):null,currency:N.currency,priority:parseInt(N.priority),expected_close_date:N.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await xd.update(n.lead_id,re);const Z={...n,...re};if(a(Z),N.client_user_id){const K=j.find(B=>B.auth_user_id===N.client_user_id)||null;i(K)}if(R){const K=S.find(B=>B.auth_user_id===R)||null;d(K)}const C=b.find(K=>K.stage_id===parseInt(N.stage));C&&h(Te(C,"stage_name")),w(!1)}catch(R){console.error("Failed to update lead:",R)}},M=()=>{var R,re,Z;n&&A({lead_name:n.lead_name||"",lead_description:n.lead_description||"",client_user_id:n.client_user_id||"",stage:((R=n.stage)==null?void 0:R.toString())||"",assigned_to:n.assigned_to||"",value:((re=n.value)==null?void 0:re.toString())||"",currency:n.currency||"SAR",priority:((Z=n.priority)==null?void 0:Z.toString())||"3",expected_close_date:n.expected_close_date||""}),w(!1)},I=(R,re)=>{if(R===null)return"-";const Z=re||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:Z==="SAR"?"SAR":Z}).format(R)},V=R=>R?new Date(R).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(p)return o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!n)return o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const F=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager";return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),F&&!y&&o.jsxs(ce,{onClick:()=>w(!0),variant:"outline",size:"sm",children:[o.jsx(Bi,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),y&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ce,{onClick:M,variant:"outline",size:"sm",children:[o.jsx(Mi,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),o.jsxs(ce,{onClick:q,size:"sm",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),o.jsxs(xl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Zr,{value:"overview",children:t("common.overview")}),o.jsx(Zr,{value:"notes",children:t("notes.title")})]}),o.jsx(En,{value:"overview",className:"space-y-4 mt-4",children:y?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(qe,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),o.jsx(ze,{id:"lead_name",value:N.lead_name,onChange:R=>A(re=>({...re,lead_name:R.target.value})),placeholder:t("leads.leadName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"lead_description",children:t("leads.description")}),o.jsx(la,{id:"lead_description",value:N.lead_description,onChange:R=>A(re=>({...re,lead_description:R.target.value})),placeholder:t("leads.description"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:t("leads.client")}),o.jsxs(_t,{value:N.client_user_id,onValueChange:R=>A(re=>({...re,client_user_id:R})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:t("leads.selectClient")})}),o.jsx(bt,{children:j.filter(R=>R.auth_user_id).map(R=>o.jsx(Ae,{value:R.auth_user_id,children:Te(R,"user_name")},R.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:t("common.stage")}),o.jsxs(_t,{value:N.stage,onValueChange:R=>A(re=>({...re,stage:R})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:t("leads.selectStage")})}),o.jsx(bt,{children:b.map(R=>o.jsx(Ae,{value:R.stage_id.toString(),children:Te(R,"stage_name")},R.stage_id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:t("leads.value")}),o.jsx(ze,{type:"number",min:"0",step:"0.01",value:N.value,onChange:R=>A(re=>({...re,value:R.target.value})),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:t("leads.currency")}),o.jsxs(_t,{value:N.currency,onValueChange:R=>A(re=>({...re,currency:R})),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"SAR",children:"SAR (.)"}),o.jsx(Ae,{value:"USD",children:"USD ($)"}),o.jsx(Ae,{value:"EUR",children:"EUR ()"}),o.jsx(Ae,{value:"GBP",children:"GBP ()"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:t("common.priority")}),o.jsxs(_t,{value:N.priority,onValueChange:R=>A(re=>({...re,priority:R})),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsxs(Ae,{value:"1",children:[" ",t("common.veryLow")]}),o.jsxs(Ae,{value:"2",children:[" ",t("common.low")]}),o.jsxs(Ae,{value:"3",children:[" ",t("common.medium")]}),o.jsxs(Ae,{value:"4",children:[" ",t("common.high")]}),o.jsxs(Ae,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:t("leads.expectedCloseDate")}),o.jsx(ze,{type:"date",value:N.expected_close_date,onChange:R=>A(re=>({...re,expected_close_date:R.target.value}))})]})]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:t("leads.assignToEmployee")}),o.jsxs(_t,{value:N.assigned_to,onValueChange:R=>A(re=>({...re,assigned_to:R})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:t("leads.selectAssignee")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"unassigned",children:t("common.unassigned")}),S.filter(R=>["employee","admin","manager","team_leader"].includes(R.user_role)&&R.auth_user_id).map(R=>o.jsx(Ae,{value:R.auth_user_id,children:Te(R,"user_name")},R.user_id))]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:Te(n,"lead_name")}),Te(n,"lead_description")&&o.jsx("p",{className:"text-muted-foreground mt-1",children:Te(n,"lead_description")})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(oI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),o.jsx(YW,{priority:n.priority,size:"sm"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[o.jsx(ng,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),o.jsx("p",{className:"text-lg font-semibold",children:I(n.value,n.currency)})]})]}),s&&o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[o.jsx(on,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),o.jsx("p",{className:"font-medium truncate",children:Te(s,"user_name")}),s.user_email&&o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:s.user_email})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(oI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),o.jsx(mt,{variant:"secondary",children:f||"-"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(sa,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),o.jsx("p",{className:"font-medium",children:u?Te(u,"user_name"):t("common.unassigned")})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 rounded-lg border",children:[o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Eo,{className:"h-3.5 w-3.5"}),t("common.created")]}),o.jsx("p",{className:"text-sm font-medium mt-1",children:V(n.created_date)})]}),l&&o.jsxs("div",{className:"p-3 rounded-lg border",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),o.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Te(l,"user_name")})]})]})]})}),o.jsx(En,{value:"notes",className:"mt-4",children:o.jsx(bO,{relatedType:"lead",relatedId:e,notes:m,onNotesChange:U})})]})]})}function Nx({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){Ht();const i=La();return o.jsxs("div",{className:ke("mb-6",s),children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[r&&o.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?ae.createElement(r):r}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&o.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!i&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>o.jsx(pt,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&o.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?ae.createElement(l.icon):l.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&o.jsxs("span",{className:ke("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function Of({message:e="Loading...",className:t=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${t}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(YU,{className:"h-16 w-16 text-primary animate-spin"}),o.jsx("div",{className:"absolute inset-0 h-16 w-16 rounded-full border-4 border-muted opacity-25"})]}),o.jsx("p",{className:"mt-6 text-sm text-muted-foreground animate-pulse font-medium",children:e})]})}function ll({icon:e,title:t,description:r,action:n,className:a=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&o.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ae.createElement(e):e}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const _O=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:ke("w-full caption-bottom text-sm",e),...t})}));_O.displayName="Table";const SO=x.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:ke("[&_tr]:border-b",e),...t}));SO.displayName="TableHeader";const jO=x.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:ke("[&_tr:last-child]:border-0",e),...t}));jO.displayName="TableBody";const Rge=x.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Rge.displayName="TableFooter";const rv=x.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:ke("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));rv.displayName="TableRow";const lo=x.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:ke("h-12 py-4 align-middle font-medium text-muted-foreground",Ur()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...t}));lo.displayName="TableHead";const co=x.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:ke("py-4 align-middle",Ur()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...t}));co.displayName="TableCell";const Ige=x.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:ke("mt-4 text-sm text-muted-foreground",e),...t}));Ige.displayName="TableCaption";var K_="Checkbox",[Mge,tXe]=ds(K_),[Fge,kO]=Mge(K_);function Lge(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=mc({prop:r,defaultProp:a??!1,onChange:c,caller:K_}),[g,p]=x.useState(null),[v,y]=x.useState(null),w=x.useRef(!1),b=g?!!i||!!g.closest("form"):!0,_={checked:h,disabled:s,setChecked:m,control:g,setControl:p,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:ju(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:y};return o.jsx(Fge,{scope:t,..._,children:$ge(f)?f(_):n})}var XW="CheckboxTrigger",JW=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=kO(XW,e),p=Wt(a,d),v=x.useRef(c);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const w=()=>f(v.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[s,f]),o.jsx(ct.button,{type:"button",role:"checkbox","aria-checked":ju(c)?"mixed":c,"aria-required":u,"data-state":rH(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:p,onKeyDown:tt(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:tt(r,y=>{f(w=>ju(w)?!0:!w),g&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});JW.displayName=XW;var NO=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(Lge,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(JW,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(tH,{__scopeCheckbox:r})]})})});NO.displayName=K_;var QW="CheckboxIndicator",ZW=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=kO(QW,r);return o.jsx(Fa,{present:n||ju(s.checked)||s.checked===!0,children:o.jsx(ct.span,{"data-state":rH(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});ZW.displayName=QW;var eH="CheckboxBubbleInput",tH=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=kO(eH,e),g=Wt(r,m),p=BA(s),v=RA(n);x.useEffect(()=>{const w=h;if(!w)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set,k=!a.current;if(p!==s&&S){const j=new Event("click",{bubbles:k});w.indeterminate=ju(s),S.call(w,ju(s)?!1:s),w.dispatchEvent(j)}},[h,p,s,a]);const y=x.useRef(ju(s)?!1:s);return o.jsx(ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});tH.displayName=eH;function $ge(e){return typeof e=="function"}function ju(e){return e==="indeterminate"}function rH(e){return ju(e)?"indeterminate":e?"checked":"unchecked"}const Ew=x.forwardRef(({className:e,indeterminate:t,...r},n)=>o.jsx(NO,{ref:n,className:ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:o.jsx(ZW,{className:ke("flex items-center justify-center text-current"),children:t?o.jsx(ioe,{className:"h-4 w-4"}):o.jsx(jA,{className:"h-4 w-4"})})}));Ew.displayName=NO.displayName;function gc({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:i,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d}){const f=La(),{t:h}=Ht(),[m,g]=x.useState(new Set),p=j=>{const E=new Set(m);E.has(j)?E.delete(j):E.add(j),g(E)},v=()=>{m.size===e.length?g(new Set):g(new Set(e.map(a)))},y=()=>{g(new Set)},w=()=>e.filter(j=>m.has(a(j))),b=j=>{const E=r.filter(N=>!N.show||N.show(j));return E.length===0?null:o.jsxs(JA,{children:[o.jsx(QA,{asChild:!0,onClick:N=>N.stopPropagation(),children:o.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(Jie,{className:"h-4 w-4"})})}),o.jsx(L_,{align:"end",children:E.map((N,A)=>o.jsxs(ql,{onClick:D=>{D.stopPropagation(),N.onClick(j)},className:ke(N.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[N.icon&&o.jsx("span",{className:"mr-2",children:N.icon}),N.label]},A))})]})};if(e.length===0)return i||o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:h("common.noData","No data available")});if(f)return o.jsx("div",{className:ke("space-y-3 w-full overflow-hidden",c),children:e.map((j,E)=>l?o.jsx("div",{onClick:()=>s==null?void 0:s(j),className:"w-full",children:l(j,b(j))},a(j)):o.jsx(pt,{className:ke("w-full overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(j),children:o.jsx(jt,{className:"p-4 w-full",children:o.jsxs("div",{className:"space-y-3 w-full",children:[t.filter(N=>!N.hideOnMobile).map((N,A)=>o.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[o.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:N.header}),o.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:N.render(j,E)})]},N.key)),r.length>0&&o.jsx("div",{className:"pt-2 border-t flex justify-end",children:b(j)})]})})},a(j)))});const _=m.size,S=_===e.length&&e.length>0,k=_>0&&_<e.length;return o.jsxs("div",{className:"space-y-4",children:[u&&_>0&&o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("p",{className:"text-sm font-medium",children:[_," ",_===1?h("common.item","item"):h("common.items","items")," ",h("common.selected","selected")]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[n.map((j,E)=>o.jsxs(ce,{variant:j.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>j.onClick(w()),className:ke(j.variant==="destructive"&&"hover:bg-destructive/90"),children:[j.icon&&o.jsx("span",{className:"mr-2",children:j.icon}),j.label]},E)),o.jsx(ce,{variant:"ghost",size:"sm",onClick:y,className:"text-muted-foreground hover:text-foreground",children:o.jsx(Mi,{className:"h-4 w-4"})})]})]}),o.jsx(pt,{className:ke("overflow-hidden",c),children:o.jsx(jt,{className:"p-0",children:o.jsxs(_O,{children:[o.jsx(SO,{children:o.jsxs(rv,{className:"bg-muted/50 hover:bg-muted/50",children:[u&&o.jsx(lo,{className:"w-12",children:o.jsx(Ew,{checked:S,indeterminate:k,onCheckedChange:v,"aria-label":h("common.selectAll","Select all")})}),t.map(j=>o.jsx(lo,{className:ke("font-semibold",j.className),children:j.header},j.key)),r.length>0&&o.jsx(lo,{className:"w-[100px] text-right",children:h("common.actions")})]})}),o.jsx(jO,{children:e.map((j,E)=>{const N=a(j),A=m.has(N);return o.jsxs(rv,{className:ke("group transition-colors",A&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(j),children:[u&&o.jsx(co,{onClick:D=>D.stopPropagation(),children:o.jsx(Ew,{checked:A,onCheckedChange:()=>p(N),"aria-label":h("common.selectItem","Select item")})}),t.map(D=>o.jsx(co,{className:ke(D.className,"overflow-hidden"),children:D.render(j,E)},D.key)),r.length>0&&o.jsx(co,{className:"text-right",children:o.jsx("div",{children:b(j)})})]},N)})})]})})})]})}function EO({children:e,variant:t="secondary"}){return o.jsx(mt,{variant:t,className:"text-xs font-medium",children:e})}function Fm({name:e,fallback:t="Unassigned"}){return o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(sa,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:ke(!e&&"text-muted-foreground"),children:e||t})]})}function Iu({date:e,fallback:t="Not set"}){return e?o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Eo,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{children:new Date(e).toLocaleDateString()})]}):o.jsx("span",{className:"text-muted-foreground",children:t})}function vc({title:e,subtitle:t,icon:r}){return o.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[r&&(typeof r=="function"?ae.createElement(r):r),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),t&&o.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:t})]})]})}function Bge({value:e,currency:t="SAR"}){return e==null?o.jsx("span",{className:"text-muted-foreground",children:"-"}):o.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function Uge({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:i,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=Ht(),m=La(),g=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),p=(v,y)=>{if(v===null)return"-";const w=y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:w}).format(v)};return o.jsxs(pt,{className:ke("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",m?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[o.jsxs(fr,{className:"pb-3 px-4 pt-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Te(e,"lead_name")}),Te(e,"lead_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Te(e,"lead_description")})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&o.jsx(ce,{variant:"ghost",size:"sm",className:ke("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:o.jsx(Bi,{className:"h-4 w-4"})}),i&&o.jsxs(ci,{children:[o.jsx(df,{asChild:!0,onClick:v=>v.stopPropagation(),children:o.jsx(ce,{variant:"ghost",size:"sm",className:ke("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(_r,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:v=>v.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:h("leads.deleteLead")}),o.jsx(Fs,{children:h("leads.deleteConfirmation",{name:Te(e,"lead_name")})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:h("buttons.cancel")}),o.jsx(Ls,{onClick:v=>{v.stopPropagation(),i(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[o.jsx(YW,{priority:e.priority,size:"sm"}),e.expected_close_date&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Eo,{className:"h-3 w-3"}),o.jsx("span",{children:g(e.expected_close_date)})]})]})]}),o.jsxs(jt,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&o.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:o.jsx(ng,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),o.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:p(e.value,e.currency)})]})]}),t&&o.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(on,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),o.jsx("p",{className:"text-sm font-semibold truncate",children:Te(t,"user_name")})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(sa,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),o.jsx("p",{className:"text-xs font-medium truncate",children:Te(r,"user_name")})]})]}),o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(sa,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),o.jsx("p",{className:"text-xs font-medium truncate",children:n?Te(n,"user_name"):h("common.all","Unassigned")})]})]})]}),o.jsx("div",{className:"pt-1",children:o.jsxs(_t,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[o.jsx(wt,{className:"h-7 text-xs",children:o.jsx(St,{placeholder:h("leads.selectAssignee","Select assignee")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"unassigned",children:h("common.all","Unassigned")}),s.map(v=>o.jsx(Ae,{value:(v.userid||v.userid||"").toString(),children:Te(v,"user_name")},v.userid))]})]})})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Eo,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:g(e.created_date)})]}),o.jsx(mt,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function Vge(){var gt,se,ve;Bs();const{hasRole:e,user:t}=Sr(),r=La(),{t:n}=Ht(),{setBreadcrumbs:a}=ax();x.useEffect(()=>{a([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,a]);const[s,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[m,g]=x.useState(!0);x.useState(!1),x.useState("");const[p,v]=x.useState(null),[y,w]=x.useState(""),[b,_]=x.useState(null),[S,k]=x.useState(null),[j,E]=x.useState(!1),[N,A]=x.useState(null),[D,T]=x.useState("kanban"),[U,q]=x.useState(null),[M,I]=x.useState(""),[V,F]=x.useState("all"),[R,re]=x.useState("all"),[Z,C]=x.useState({from:void 0,to:void 0}),K=x.useMemo(()=>s.filter(Q=>{const ee=(Q.lead_name||"").toLowerCase().includes(M.toLowerCase())||(Q.lead_description||"").toLowerCase().includes(M.toLowerCase())||(Q.client_name||"").toLowerCase().includes(M.toLowerCase()),he=R==="all"||Q.assigned_to&&Q.assigned_to===R;let me=!0;if(Z.from&&Q.created_date){const $e=new Date(Q.created_date),we=new Date(Z.from);we.setHours(0,0,0,0);const _e=new Date($e);if(_e.setHours(0,0,0,0),me=_e>=we,me&&Z.to){const fe=new Date(Z.to);fe.setHours(23,59,59,999),me=_e<=fe}}else Z.from&&!Q.created_date&&(me=!1);return ee&&he&&me}),[s,M,V,R,Z]),[B,z]=x.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{ne()},[]),x.useEffect(()=>{if(f.length>0&&N===null){const Q=f.find(ee=>ee.stage_id===1);Q&&A(Q.stage_id)}},[f,N]);const ne=async()=>{try{g(!0);const[Q,ee,he,me]=await Promise.all([xd.getAll(),tn.getAll(),kw.getAll(),es.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:Q.length,clients:he.length,users:ee.length,stages:me.length}),console.log("[Leads] Leads data:",Q),console.log("[Leads] Stages data:",me),i(Q),c(he),d(ee),h(me)}catch(Q){console.error("Failed to load data:",Q)}finally{g(!1)}},oe=async Q=>{if(y.trim())try{await es.update(Q,{stage_name:y.trim()}),h(f.map(ee=>ee.stage_id===Q?{...ee,stage_name:y.trim()}:ee)),v(null),w("")}catch(ee){console.error("Failed to update stage:",ee)}},ue=async Q=>{if(s.filter(he=>he.stage===Q).length>0){_(Q);return}try{await es.delete(Q),h(f.filter(he=>he.stage_id!==Q))}catch(he){console.error("Failed to delete stage:",he)}},ie=async()=>{if(b)try{await es.delete(b),h(f.filter(Q=>Q.stage_id!==b)),_(null),ne()}catch(Q){console.error("Failed to delete stage:",Q)}},X=Q=>{k(Q)},de=Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},O=async Q=>{if(!S)return;const ee=s.find(he=>he.lead_id===S);if(ee&&ee.stage!==Q)try{await xd.update(S,{stage:Q}),i(s.map(he=>he.lead_id===S?{...he,stage:Q}:he))}catch(he){console.error("Failed to update lead stage:",he)}k(null)},Fe=async Q=>{try{await xd.delete(Q),i(s.filter(ee=>ee.lead_id!==Q))}catch(ee){console.error("Failed to delete lead:",ee)}},Re=async(Q,ee)=>{const he=ee||null,me=he?new Date().toISOString():null,$e=s.find(we=>we.lead_id===Q);if($e){i(s.map(we=>we.lead_id===Q?{...we,assigned_to:he,assigned_at:me}:we));try{await xd.update(Q,{assigned_to:he,assigned_at:me})}catch(we){console.error("Failed to assign lead:",we),i(s.map(_e=>_e.lead_id===Q?{..._e,assigned_to:$e.assigned_to,assigned_at:$e.assigned_at}:_e))}}},Be=Q=>{z(ee=>({...ee,stage:Q.toString()})),E(!0)},We=async()=>{if(B.lead_name.trim())try{const Q=B.assigned_to&&B.assigned_to!=="unassigned"?B.assigned_to:null,ee=Q?new Date().toISOString():null,he=hl({lead_name:B.lead_name.trim(),lead_description:B.lead_description.trim()||null,client_name:B.client_name.trim()||null,client_user_id:B.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(B.stage),assigned_to:Q,assigned_at:ee,value:B.value?parseFloat(B.value):null,currency:B.currency||"SAR",priority:B.priority?parseInt(B.priority):3,expected_close_date:B.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),me=await xd.create(he);i([...s,me]),z({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),E(!1)}catch(Q){console.error("Failed to create lead:",Q)}},De=f.filter(Q=>Q.stage_type==="leads").sort((Q,ee)=>{const he=Q.stager_order_index??0,me=ee.stager_order_index??0;return he-me}),ft=De.map(Q=>({id:Q.stage_id,name:Te(Q,"stage_name"),color:Q.color,count:K.filter(ee=>ee.stage===Q.stage_id).length}));return m?o.jsx(Of,{message:n("leads.loading","Loading leads...")}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Ur()?"rtl":"ltr",children:[o.jsx(Nx,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:o.jsx(Aa,{className:"h-6 w-6 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ce,{variant:D==="kanban"?"default":"ghost",size:"sm",onClick:()=>T("kanban"),className:"h-8 w-8 p-0",children:o.jsx(__,{className:"h-4 w-4"})}),o.jsx(ce,{variant:D==="list"?"default":"ghost",size:"sm",onClick:()=>T("list"),className:"h-8 w-8 p-0",children:o.jsx(ix,{className:"h-4 w-4"})})]}),o.jsxs(ce,{onClick:()=>E(!0),children:[o.jsx(ar,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:s.length,icon:o.jsx(Aa,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:s.filter(Q=>{const ee=new Date(Q.created_date),he=new Date;return ee.getMonth()===he.getMonth()&&ee.getFullYear()===he.getFullYear()}).length,icon:o.jsx(Eo,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${s.reduce((Q,ee)=>Q+(ee.value||0),0).toLocaleString()}`,icon:o.jsx(ng,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:s.length>0?`SAR ${Math.round(s.reduce((Q,ee)=>Q+(ee.value||0),0)/s.length).toLocaleString()}`:"SAR 0",icon:o.jsx(ng,{className:"h-5 w-5 text-blue-500"})}]}),o.jsx(yO,{onSearch:I,onFilterAssignee:re,onFilterDateRange:C,users:u}),D==="kanban"?o.jsxs(kx,{stages:ft,currentStageId:N||((gt=ft[0])==null?void 0:gt.id),onStageChange:A,children:[o.jsx(Nn,{open:j,onOpenChange:E,children:o.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:n("leads.createLead")}),o.jsx(Ia,{children:n("leads.createLeadDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),o.jsx(ze,{value:B.lead_name,onChange:Q=>z(ee=>({...ee,lead_name:Q.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),o.jsx(la,{value:B.lead_description,onChange:Q=>z(ee=>({...ee,lead_description:Q.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),o.jsx(ze,{value:B.client_name,onChange:Q=>z(ee=>({...ee,client_name:Q.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),o.jsxs(_t,{value:B.client_user_id,onValueChange:Q=>z(ee=>({...ee,client_user_id:Q})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:n("leads.selectClient")})}),o.jsx(bt,{children:l.filter(Q=>Q.userid||Q.userid).map(Q=>o.jsx(Ae,{value:(Q.userid||Q.userid||"").toString(),children:Te(Q,"user_name")},Q.userid))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),o.jsx(ze,{type:"number",min:"0",step:"0.01",value:B.value,onChange:Q=>z(ee=>({...ee,value:Q.target.value})),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),o.jsxs(_t,{value:B.currency,onValueChange:Q=>z(ee=>({...ee,currency:Q})),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"SAR",children:"SAR (.)"}),o.jsx(Ae,{value:"USD",children:"USD ($)"}),o.jsx(Ae,{value:"EUR",children:"EUR ()"}),o.jsx(Ae,{value:"GBP",children:"GBP ()"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),o.jsxs(_t,{value:B.priority,onValueChange:Q=>z(ee=>({...ee,priority:Q})),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsxs(Ae,{value:"1",children:[" ",n("common.veryLow")]}),o.jsxs(Ae,{value:"2",children:[" ",n("common.low")]}),o.jsxs(Ae,{value:"3",children:[" ",n("common.medium")]}),o.jsxs(Ae,{value:"4",children:[" ",n("common.high")]}),o.jsxs(Ae,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),o.jsx(ze,{type:"date",value:B.expected_close_date,onChange:Q=>z(ee=>({...ee,expected_close_date:Q.target.value}))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),o.jsxs(_t,{value:B.assigned_to,onValueChange:Q=>z(ee=>({...ee,assigned_to:Q})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:n("leads.selectAssignee","Select assignee")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(Q=>o.jsx(Ae,{value:String(Q.userid),children:Te(Q,"user_name")},Q.userid))]})]})]})]}),o.jsxs(Ra,{children:[o.jsx(ce,{variant:"outline",onClick:()=>E(!1),children:n("buttons.cancel")}),o.jsxs(ce,{onClick:We,disabled:!((se=B.lead_name)!=null&&se.trim()),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:De.filter(Q=>{var ee;return r?Q.stage_id===(N||((ee=ft[0])==null?void 0:ee.id)):!0}).map((Q,ee)=>{var fe,je,Le;const he=K.filter(Ie=>Ie.stage===Q.stage_id),me=he.reduce((Ie,Ve)=>Ie+(Ve.value||0),0),$e=new Set(he.filter(Ie=>Ie.value!==null&&Ie.currency).map(Ie=>Ie.currency)),we=$e.size===1?Array.from($e)[0]:((fe=he.find(Ie=>Ie.currency))==null?void 0:fe.currency)||"SAR",_e=(Ie,Ve)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Ve}).format(Ie);return console.log(`[Leads] Stage ${Q.stage_name} (${Q.stage_id}): ${he.length} leads`),console.log("[Leads] Stage leads:",he),o.jsxs("div",{className:ke("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${ee*.1}s`},onDragOver:de,onDrop:()=>O(Q.stage_id),children:[o.jsx("div",{className:ke("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",Q.color||"border-l-4 border-primary/50","hidden md:block"),children:o.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:p===Q.stage_id?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(ze,{value:y,onChange:Ie=>w(Ie.target.value),onKeyDown:Ie=>{Ie.key==="Enter"&&oe(Q.stage_id),Ie.key==="Escape"&&(v(null),w(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>oe(Q.stage_id),className:"h-8 w-8 p-0",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"font-bold text-base",children:Te(Q,"stage_name")})}),o.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:he.length}),o.jsxs(o.Fragment,{children:[o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>Be(Q.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:o.jsx(ar,{className:"h-4 w-4"})}),o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>{v(Q.stage_id),w(Te(Q,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:o.jsx(Bi,{className:"h-3 w-3"})}),o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>ue(Q.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:o.jsx(_r,{className:"h-3 w-3"})})]})]})]})})}),o.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((je=f.sort((Ie,Ve)=>(Ie.stager_order_index||0)-(Ve.stager_order_index||0))[0])==null?void 0:je.stage_id)===Q.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(pt,{className:ke("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Be(Q.stage_id),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(ar,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),he.map(Ie=>{const Ve=l.find(hr=>{var or,dr;return((or=hr.userid||hr.userid)==null?void 0:or.toString())===((dr=Ie.client_user_id)==null?void 0:dr.toString())}),vt=u.find(hr=>{var or,dr;return((or=hr.userid||hr.userid)==null?void 0:or.toString())===((dr=Ie.created_by)==null?void 0:dr.toString())}),Zt=u.find(hr=>{var or,dr;return((or=hr.userid||hr.userid)==null?void 0:or.toString())===((dr=Ie.assigned_to)==null?void 0:dr.toString())});return o.jsx("div",{children:o.jsx(Uge,{lead:Ie,client:Ve||null,creator:vt||null,assignedUser:Zt||null,userRole:t==null?void 0:t.role,users:u,onDelete:()=>Fe(Ie.lead_id),onEdit:()=>q(Ie.lead_id),onAssign:Re,onClick:()=>q(Ie.lead_id),onDragStart:X,isDragging:S===Ie.lead_id})},Ie.lead_id)}),((Le=f.sort((Ie,Ve)=>(Ie.stager_order_index||0)-(Ve.stager_order_index||0))[0])==null?void 0:Le.stage_id)!==Q.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(ce,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Be(Q.stage_id),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),o.jsx("div",{className:ke("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ng,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),o.jsx("span",{className:"text-lg font-bold text-primary",children:_e(me,we)})]})})]},Q.stage_id)})}),o.jsx(ci,{open:!!b,onOpenChange:()=>_(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:n("leads.deleteStage")}),o.jsx(Fs,{children:n("leads.deleteStageConfirmation",{count:s.filter(Q=>Q.stage===b).length})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:n("buttons.cancel")}),o.jsx(Ls,{onClick:ie,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",s.length,")"]}),o.jsx(Nn,{open:j,onOpenChange:E,children:o.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:n("leads.createLead")}),o.jsx(Ia,{children:n("leads.createLeadDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),o.jsx(ze,{value:B.lead_name,onChange:Q=>z(ee=>({...ee,lead_name:Q.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),o.jsx(la,{value:B.lead_description,onChange:Q=>z(ee=>({...ee,lead_description:Q.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),o.jsx(ze,{value:B.client_name,onChange:Q=>z(ee=>({...ee,client_name:Q.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),o.jsxs(_t,{value:B.client_user_id,onValueChange:Q=>z(ee=>({...ee,client_user_id:Q})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:n("leads.selectClient")})}),o.jsx(bt,{children:l.filter(Q=>Q.userid).map(Q=>o.jsx(Ae,{value:String(Q.userid),children:Te(Q,"user_name")},Q.userid))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),o.jsxs(_t,{value:B.assigned_to,onValueChange:Q=>z(ee=>({...ee,assigned_to:Q})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:n("leads.selectAssignee","Select assignee")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(Q=>o.jsx(Ae,{value:String(Q.userid),children:Te(Q,"user_name")},Q.userid))]})]})]})]}),o.jsxs(Ra,{children:[o.jsx(ce,{variant:"outline",onClick:()=>E(!1),children:n("buttons.cancel")}),o.jsxs(ce,{onClick:We,disabled:!((ve=B.lead_name)!=null&&ve.trim()),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const Q=[{key:"lead",header:n("leads.leadName"),render:me=>o.jsx(vc,{title:Te(me,"lead_name"),subtitle:Te(me,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:me=>o.jsx(Bge,{value:me.value,currency:me.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:me=>{const $e=l.find(we=>String(we.userid)===me.client_user_id);return $e?Te($e,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:me=>{const $e=u.find(we=>String(we.userid)===me.created_by);return o.jsx(Fm,{name:$e?Te($e,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:me=>{const $e=u.find(we=>String(we.userid)===me.assigned_to);return o.jsx(Fm,{name:$e?Te($e,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:me=>{const $e=f.find(we=>we.stage_id===me.stage);return $e?Te($e,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:me=>o.jsx(Iu,{date:me.created_date,fallback:n("leads.notSet")})}],ee=[{label:n("common.view"),icon:o.jsx(Di,{className:"h-4 w-4"}),onClick:me=>q(me.lead_id)},{label:n("buttons.delete","Delete"),icon:o.jsx(_r,{className:"h-4 w-4"}),onClick:me=>Fe(me.lead_id),variant:"destructive",show:()=>!0}],he=[{label:n("buttons.delete","Delete"),icon:o.jsx(_r,{className:"h-4 w-4"}),onClick:me=>{me.forEach($e=>Fe($e.lead_id))},variant:"destructive"}];return o.jsx(gc,{data:K,columns:Q,actions:ee,bulkActions:he,keyExtractor:me=>me.lead_id,onRowClick:me=>q(me.lead_id),enableBulkSelect:!0,emptyState:o.jsx(ll,{icon:o.jsx(Aa,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:o.jsxs(ce,{onClick:()=>E(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),o.jsx(gl,{open:!!U,onOpenChange:()=>q(null),children:o.jsxs(Po,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:Ur()?"left":"right",children:[o.jsxs(pc,{children:[o.jsx(vl,{children:n("leads.leadDetails")}),o.jsx(wx,{children:n("leads.leadDetailsDesc")})]}),o.jsx("div",{className:"mt-6",children:U&&o.jsx(Dge,{leadId:U})})]})})]})}const CO={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},zge=()=>uA({queryKey:CO.users,queryFn:tn.getAll}),Wge=()=>uA({queryKey:CO.tasks,queryFn:Xl.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),Hge=e=>uA({queryKey:[...CO.stages,"type",e],queryFn:()=>es.getByType(e)});function Rp({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[o.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:o.jsx(b_,{className:"h-10 w-10 text-destructive"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&o.jsxs(ce,{onClick:r,variant:"outline",className:"gap-2",children:[o.jsx(IN,{className:"h-4 w-4"}),"Try Again"]})]})}function qge({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:i,isDragging:l=!1}){var p,v;const{t:c}=Ht(),u=La(),d=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=y=>{switch(y){case"done":return o.jsx(Hl,{className:"h-3 w-3 text-green-500"});case"in_progress":return o.jsx(jd,{className:"h-3 w-3 text-blue-500"});case"todo":default:return o.jsx(b_,{className:"h-3 w-3 text-gray-500"})}},h=y=>{switch(y){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},m=y=>{if(!y)return null;const w=new Date,_=(new Date(y).getTime()-w.getTime())/(1e3*60*60);return _<0?"overdue":_<24?"urgent":_<72?"soon":null},g=y=>{switch(m(y)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return o.jsxs(pt,{className:ke("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),g(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:y=>{s&&(y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[o.jsx(fr,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&o.jsxs(ci,{children:[o.jsx(df,{asChild:!0,onClick:y=>y.stopPropagation(),children:o.jsx(ce,{variant:"ghost",size:"sm",className:ke("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(_r,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:y=>y.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:"Delete Task"}),o.jsxs(Fs,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),o.jsxs(Is,{children:[o.jsx($s,{children:"Cancel"}),o.jsx(Ls,{onClick:y=>{y.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),o.jsxs(jt,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(sa,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:t?Te(t,"user_name"):c("common.all","Unassigned")})]})}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),o.jsx("span",{className:"text-xs font-medium capitalize",children:((p=e.task_status)==null?void 0:p.replace("_"," "))||"Todo"})]})})]}),u&&i&&o.jsx("div",{className:"pt-1",children:o.jsxs(_t,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:y=>i(e.task_id,parseInt(y)),children:[o.jsx(wt,{className:"h-7 text-xs",children:o.jsx(St,{placeholder:c("tasks.selectStage","Select stage")})}),o.jsx(bt,{children:r.map(y=>{var w;return o.jsx(Ae,{value:((w=y.stage_id)==null?void 0:w.toString())||"",children:Te(y,"stage_name")},y.stage_id)})})]})}),e.due_date&&o.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[o.jsx(Eo,{className:"h-3 w-3 flex-shrink-0"}),o.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function Kge(){var ie;Bs();const{hasRole:e,user:t,loading:r}=Sr(),{t:n}=Ht(),a=La(),[s,i]=x.useState(null),[l,c]=x.useState("kanban");x.useState(!1);const u=X=>{switch(X==null?void 0:X.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};x.useState(""),x.useState(null),x.useState(""),x.useState(null);const[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[v,y]=x.useState(""),[w,b]=x.useState("all"),[_,S]=x.useState("all"),[k,j]=x.useState({from:void 0,to:void 0}),{data:E=[],isLoading:N,error:A}=Wge(),{data:D=[],isLoading:T,error:U}=zge(),{data:q=[],isLoading:M,error:I}=Hge("tasks"),V=x.useMemo(()=>E.filter(X=>{const de=X.task_name.toLowerCase().includes(v.toLowerCase())||X.description&&X.description.toLowerCase().includes(v.toLowerCase()),O=w==="all"||X.task_status===w,Fe=_==="all"||X.assigned_to&&X.assigned_to.toString()===_;let Re=!0;if(k.from&&X.due_date){const Be=new Date(X.due_date),We=new Date(k.from);We.setHours(0,0,0,0);const De=new Date(Be);if(De.setHours(0,0,0,0),Re=De>=We,Re&&k.to){const ft=new Date(k.to);ft.setHours(23,59,59,999),Re=De<=ft}}else k.from&&!X.due_date&&(Re=!1);return de&&O&&Fe&&Re}),[E,v,w,_,k]),F=q.sort((X,de)=>{const O=X.stager_order_index??0,Fe=de.stager_order_index??0;return O-Fe}).map(X=>({id:X.stage_id,name:Te(X,"stage_name"),color:X.color,count:V.filter(de=>de.stage_id===X.stage_id).length})),R=N||T||M||r,re=(A==null?void 0:A.message)||(U==null?void 0:U.message)||(I==null?void 0:I.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:R,data:{tasks:E.length,users:D.length,stages:q.length}});const Z=()=>{},C=async X=>{try{await Xl.delete(X),Z()}catch(de){console.error("Failed to delete task:",de)}},K=X=>{f(X)},B=X=>{X.preventDefault(),X.dataTransfer.dropEffect="move"},z=async X=>{if(!d)return;const de=E.find(O=>O.task_id===d);if(de&&de.stage_id!==X)try{await Xl.update(d,{stage_id:X}),Z()}catch(O){console.error("Failed to update task stage:",O)}f(null)},ne=async(X,de)=>{const O=E.find(Fe=>Fe.task_id===X);if(O&&O.stage_id!==de)try{await Xl.update(X,{stage_id:de}),Z()}catch(Fe){console.error("Failed to update task stage:",Fe)}},oe=async()=>{if(g.task_name.trim())try{const X=hl({task_name:g.task_name.trim(),stage_id:g.stage_id?parseInt(g.stage_id):null,assigned_to:g.assigned_to?parseInt(g.assigned_to):null,task_status:g.task_status,due_date:g.due_date?new Date(g.due_date).toISOString():null,description:g.description.trim()||null,userid:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await Xl.create(X),Z(),p({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),m(!1)}catch(X){console.error("Failed to create task:",X)}},ue=!0;return x.useEffect(()=>{if(q.length>0&&s===null){const X=q.sort((de,O)=>(de.stager_order_index??0)-(O.stager_order_index??0));X.length>0&&i(X[0].stage_id)}},[q,s]),R||r||!t?o.jsx(Of,{message:n("tasks.loading","Loading tasks...")}):re?o.jsx(Rp,{message:re}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Ur()?"rtl":"ltr",children:[o.jsx(Nx,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:o.jsx(ag,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ce,{variant:l==="kanban"?"default":"ghost",size:"sm",onClick:()=>c("kanban"),className:"h-8 w-8 p-0",children:o.jsx(__,{className:"h-4 w-4"})}),o.jsx(ce,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:o.jsx(ix,{className:"h-4 w-4"})})]}),o.jsxs(ce,{onClick:()=>m(!0),children:[o.jsx(ar,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.totalTasks"),value:E.length,icon:o.jsx(ag,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:E.filter(X=>X.task_status==="todo").length,icon:o.jsx(b_,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:E.filter(X=>X.task_status==="in_progress").length,icon:o.jsx(jd,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:E.filter(X=>X.task_status==="done").length,icon:o.jsx(Hl,{className:"h-4 w-4 text-green-500"})}]}),o.jsx(yO,{onSearch:y,onFilterStatus:b,onFilterAssignee:S,onFilterDateRange:j,users:D,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),l==="kanban"?o.jsxs(kx,{stages:F,currentStageId:s||((ie=F[0])==null?void 0:ie.id),onStageChange:i,children:[o.jsx(Nn,{open:h,onOpenChange:m,children:o.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:n("tasks.createTask")}),o.jsx(Ia,{children:n("tasks.createTaskDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),o.jsx(ze,{value:g.task_name,onChange:X=>p(de=>({...de,task_name:X.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),o.jsx(la,{value:g.description,onChange:X=>p(de=>({...de,description:X.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),o.jsxs(_t,{value:g.assigned_to,onValueChange:X=>p(de=>({...de,assigned_to:X})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:n("tasks.selectUser")})}),o.jsx(bt,{children:D.map(X=>{var de;return o.jsx(Ae,{value:((de=X.user_id)==null?void 0:de.toString())||"",children:Te(X,"user_name")},X.user_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),o.jsxs(_t,{value:g.stage_id,onValueChange:X=>p(de=>({...de,stage_id:X})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:n("tasks.selectStage")})}),o.jsx(bt,{children:q.map(X=>{var de;return o.jsx(Ae,{value:((de=X.stage_id)==null?void 0:de.toString())||"",children:Te(X,"stage_name")},X.stage_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),o.jsxs(_t,{value:g.task_status,onValueChange:X=>p(de=>({...de,task_status:X})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:n("tasks.selectStatus")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"todo",children:n("tasks.todo")}),o.jsx(Ae,{value:"in_progress",children:n("tasks.inProgress")}),o.jsx(Ae,{value:"done",children:n("tasks.done")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),o.jsx(ze,{type:"date",value:g.due_date,onChange:X=>p(de=>({...de,due_date:X.target.value}))})]})]}),o.jsxs(Ra,{children:[o.jsx(ce,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),o.jsxs(ce,{onClick:oe,disabled:!g.task_name.trim(),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:q.sort((X,de)=>{const O=X.stager_order_index??0,Fe=de.stager_order_index??0;return O-Fe}).filter(X=>{var de;return a?X.stage_id===(s||((de=F[0])==null?void 0:de.id)):!0}).map((X,de)=>{var Fe,Re;const O=V.filter(Be=>Be.stage_id===X.stage_id);return o.jsxs("div",{className:ke("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${de*.1}s`},onDragOver:B,onDrop:()=>z(X.stage_id),children:[o.jsx("div",{className:ke("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",X.color||"border-l-4 border-primary/50"),children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ko,{className:"h-4 w-4 text-muted-foreground cursor-move"}),o.jsx("h2",{className:"font-bold text-base",children:Te(X,"stage_name")})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:O.length})})]})}),o.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((Fe=q.sort((Be,We)=>(Be.stager_order_index||0)-(We.stager_order_index||0))[0])==null?void 0:Fe.stage_id)===X.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(pt,{className:ke("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>m(!0),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(ar,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),O.map(Be=>{const We=D.find(De=>De.user_id===Be.assigned_to);return o.jsx("div",{draggable:ue,onDragStart:()=>K(Be.task_id),className:"cursor-move",children:o.jsx(qge,{task:Be,assignedUser:We||null,stages:q,onDelete:()=>C(Be.task_id),onClick:()=>{console.log("Task clicked:",Be.task_id)},onDragStart:K,onStageChange:ne,isDragging:d===Be.task_id})},Be.task_id)}),((Re=q.sort((Be,We)=>(Be.stager_order_index||0)-(We.stager_order_index||0))[0])==null?void 0:Re.stage_id)!==X.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(ce,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>m(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},X.stage_id)})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",E.length,")"]}),o.jsx(Nn,{open:h,onOpenChange:m,children:o.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:n("tasks.createTask")}),o.jsx(Ia,{children:n("tasks.createTaskDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),o.jsx(ze,{value:g.task_name,onChange:X=>p(de=>({...de,task_name:X.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),o.jsx(la,{value:g.description,onChange:X=>p(de=>({...de,description:X.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),o.jsxs(_t,{value:g.assigned_to,onValueChange:X=>p(de=>({...de,assigned_to:X})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:n("tasks.selectUser")})}),o.jsx(bt,{children:D.map(X=>{var de;return o.jsx(Ae,{value:((de=X.user_id)==null?void 0:de.toString())||"",children:Te(X,"user_name")},X.user_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),o.jsxs(_t,{value:g.stage_id,onValueChange:X=>p(de=>({...de,stage_id:X})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:n("tasks.selectStage")})}),o.jsx(bt,{children:q.map(X=>{var de;return o.jsx(Ae,{value:((de=X.stage_id)==null?void 0:de.toString())||"",children:Te(X,"stage_name")},X.stage_id)})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),o.jsxs(_t,{value:g.task_status,onValueChange:X=>p(de=>({...de,task_status:X})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:n("tasks.selectStatus")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"todo",children:n("tasks.todo")}),o.jsx(Ae,{value:"in_progress",children:n("tasks.inProgress")}),o.jsx(Ae,{value:"done",children:n("tasks.done")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),o.jsx(ze,{type:"date",value:g.due_date,onChange:X=>p(de=>({...de,due_date:X.target.value}))})]})]})]}),o.jsxs(Ra,{children:[o.jsx(ce,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),o.jsxs(ce,{onClick:oe,disabled:!g.task_name.trim(),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const X=[{key:"task",header:n("tasks.taskName"),render:O=>o.jsx(vc,{title:O.task_name,subtitle:O.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:O=>{const Fe=D.find(Re=>Re.user_id===O.assigned_to);return o.jsx(Fm,{name:Fe?Te(Fe,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:O=>o.jsx(EO,{variant:u(O.task_status),children:O.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:O=>o.jsx(Iu,{date:O.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:O=>{const Fe=q.find(Re=>Re.stage_id===O.stage_id);return Fe?Te(Fe,"stage_name"):n("leads.unknown")}}],de=[{label:n("common.view"),icon:o.jsx(Di,{className:"h-4 w-4"}),onClick:O=>console.log("View task:",O.task_id)},{label:n("buttons.delete","Delete"),icon:o.jsx(_r,{className:"h-4 w-4"}),onClick:O=>C(O.task_id),variant:"destructive"}];return o.jsx(gc,{data:V,columns:X,actions:de,keyExtractor:O=>O.task_id,emptyState:o.jsx(ll,{icon:o.jsx(ag,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:o.jsxs(ce,{onClick:()=>m(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function pM(e){const[t,r]=x.useState(e),n=x.useCallback((s,i)=>{r(l=>({...l,[s]:i}))},[]),a=x.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const fE=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},Gge=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,Yge=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return o.jsx(MN,{className:"h-3 w-3 text-red-500"});case"high":return o.jsx(MN,{className:"h-3 w-3 text-orange-500"});default:return null}};function gM({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:i,isDragging:l=!1,stageName:c}){const{t:u}=Ht(),d=La();return o.jsxs(pt,{className:ke("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{i&&i()},children:[o.jsx(fr,{className:"pb-3 px-4 pt-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),Yge(e.priority)]}),o.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&o.jsxs(ci,{children:[o.jsx(df,{asChild:!0,onClick:f=>f.stopPropagation(),children:o.jsx(ce,{variant:"ghost",size:"sm",className:ke("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(_r,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:f=>f.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:u("tickets.deleteTicket","Delete Ticket")}),o.jsx(Fs,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:u("buttons.cancel")}),o.jsx(Ls,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),o.jsxs(jt,{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&o.jsx(mt,{variant:"outline",className:"text-xs",children:c}),o.jsx(mt,{variant:fE(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&o.jsx(mt,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sa,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Te(t,"user_name")})]}),o.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Eo,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:Gge(e.created_date,u("leads.unknown"))})]})})]})]})}function Xge(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(!0),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState("all"),[g,p]=x.useState("all"),[v,y]=x.useState("all"),[w,b]=x.useState(!1),[_,S]=x.useState(null),[k,j]=x.useState(!1),[E,N]=x.useState(!1),A=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),D=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:T,setField:U,reset:q,setValues:M}=pM(A),{values:I,setField:V,reset:F,setValues:R}=pM(D),[re,Z]=x.useState(null),[C,K]=x.useState(null),[B,z]=x.useState("kanban"),[ne,oe]=x.useState(""),[ue,ie]=x.useState(!1),{user:X,loading:de}=Sr(),{t:O}=Ht(),Fe=La();x.useEffect(()=>{X&&!de&&Re()},[X,de]),x.useEffect(()=>{if(a.length>0&&C===null){const fe=a.filter(je=>je.stage_type==="tickets");fe.length>0&&K(fe[0].stage_id)}},[a,C]);const Re=async()=>{try{l(!0),u(null);const[fe,je,Le]=await Promise.all([h0.getAll().catch(Ie=>(console.error("[Tickets] Error fetching tickets:",Ie),[])),tn.getAll().catch(Ie=>(console.error("[Tickets] Error fetching users:",Ie),[])),es.getByType("tickets").catch(Ie=>(console.error("[Tickets] Error fetching stages:",Ie),[]))]);if(t(fe),n(je),s(Le),Le.length>0){const Ie=[...Le].sort((Ve,vt)=>(Ve.stager_order_index||0)-(vt.stager_order_index||0));M(Ve=>{var vt;return{...Ve,stage_id:Ve.stage_id||((vt=Ie[0].stage_id)==null?void 0:vt.toString())||""}})}}catch(fe){console.error("[Tickets] Failed to load data:",fe),u(fe.message||O("common.error"))}finally{l(!1)}},Be=fe=>fe&&r.find(je=>je.user_id===fe)||null,We=async fe=>{var je,Le;if(fe.preventDefault(),!(ue||!X)){oe(""),ie(!0);try{const Ie=T.assigned_to?parseInt(T.assigned_to):null,Ve=r.find(or=>or.user_id===Ie),vt={subject:T.subject,description:T.description||null,priority:T.priority,ticket_type:T.ticket_type,stage_id:T.stage_id?parseInt(T.stage_id):null,created_by:((je=X.profile)==null?void 0:je.user_id)||null,assigned_to:Ie,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Zt=await h0.create(vt);t([Zt,...e]);const hr=a.length>0&&((Le=[...a].sort((or,dr)=>(or.stager_order_index||0)-(dr.stager_order_index||0))[0].stage_id)==null?void 0:Le.toString())||"";q({...A,stage_id:hr}),b(!1)}catch(Ie){oe(Ie.message||O("tickets.createError"))}finally{ie(!1)}}},De=fe=>{var je,Le;S(fe),N(!1),R({...D,subject:fe.subject||"",description:fe.description||"",priority:fe.priority||"medium",ticket_type:fe.ticket_type||"request",assigned_to:((je=fe.assigned_to)==null?void 0:je.toString())||"unassigned",stage_id:((Le=fe.stage_id)==null?void 0:Le.toString())||""}),j(!0)},ft=async()=>{if(!(!_||ue)){oe(""),ie(!0);try{const fe=I.assigned_to&&I.assigned_to!=="unassigned"?parseInt(I.assigned_to):null,je=r.find(Le=>Le.user_id===fe);await h0.update(_.ticket_id,{subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:fe,stage_id:I.stage_id?parseInt(I.stage_id):null}),t(e.map(Le=>Le.ticket_id===_.ticket_id?{...Le,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:fe,stage_id:I.stage_id?parseInt(I.stage_id):null}:Le)),S(Le=>Le?{...Le,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:fe,stage_id:I.stage_id?parseInt(I.stage_id):null}:null),N(!1)}catch(fe){oe(fe.message||O("tickets.updateError","Failed to update ticket"))}finally{ie(!1)}}},gt=async fe=>{try{await h0.delete(fe),t(e.filter(je=>je.ticket_id!==fe))}catch(je){console.error("[Tickets] Failed to delete ticket:",je)}},se=fe=>{Z(fe)},ve=()=>{Z(null)},Q=fe=>{fe.preventDefault(),fe.dataTransfer.dropEffect="move"},ee=async fe=>{if(!re)return;const je=e.find(Le=>Le.ticket_id===re);if(je&&je.stage_id!==fe){t(Le=>Le.map(Ie=>Ie.ticket_id===re?{...Ie,stage_id:fe}:Ie));try{await h0.moveToStage(re,fe)}catch(Le){console.error("Failed to update ticket stage:",Le),t(Ie=>Ie.map(Ve=>Ve.ticket_id===re?{...Ve,stage_id:je.stage_id}:Ve))}}Z(null)},he=x.useMemo(()=>e.filter(fe=>{var vt,Zt,hr;const je=((vt=fe.subject)==null?void 0:vt.toLowerCase().includes(d.toLowerCase()))||((Zt=fe.description)==null?void 0:Zt.toLowerCase().includes(d.toLowerCase())),Le=h==="all"||fe.priority===h,Ie=g==="all"||fe.ticket_type===g,Ve=v==="all"||((hr=fe.stage_id)==null?void 0:hr.toString())===v;return je&&Le&&Ie&&Ve}),[e,d,h,g,v]),me=x.useMemo(()=>a.filter(fe=>fe.stage_type==="tickets").sort((fe,je)=>{const Le=fe.stager_order_index??0,Ie=je.stager_order_index??0;return Le-Ie}),[a]),$e=x.useMemo(()=>me.map(fe=>({id:fe.stage_id,name:Te(fe,"stage_name"),color:fe.color,count:he.filter(je=>je.stage_id===fe.stage_id).length})),[me,he]),we=()=>{var fe;return me.length===0?o.jsx(ll,{icon:o.jsx(ch,{className:"h-12 w-12 text-muted-foreground/50"}),title:O("tickets.noStages","No ticket stages found"),description:O("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):o.jsxs(kx,{stages:$e,currentStageId:C||((fe=$e[0])==null?void 0:fe.id),onStageChange:K,children:[o.jsx("div",{className:ke("flex gap-4 pb-4 overflow-x-auto",Fe?"hidden":"flex"),children:me.map(je=>{const Le=he.filter(vt=>vt.stage_id===je.stage_id),Ie=je.color||"border-l-4 border-gray-400",Ve=Te(je,"stage_name");return o.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-[calc(100vh-280px)]",onDragOver:Q,onDrop:()=>ee(je.stage_id),children:[o.jsx("div",{className:ke("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Ie),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:Te(je,"stage_name")}),o.jsx(mt,{variant:"secondary",className:"text-xs",children:Le.length})]}),o.jsx(ce,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{M(vt=>{var Zt;return{...vt,stage_id:((Zt=je.stage_id)==null?void 0:Zt.toString())||""}}),b(!0)},children:o.jsx(ar,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:o.jsxs("div",{className:"space-y-3",children:[Le.map(vt=>o.jsx(gM,{ticket:vt,assignedUser:Be(vt.assigned_to),userRole:X==null?void 0:X.role,onDelete:gt,onClick:()=>De(vt),onDragStart:se,onDragEnd:ve,isDragging:re===vt.ticket_id,stageName:Ve},vt.ticket_id)),Le.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:O("tickets.noTicketsInStage","No tickets in this stage")})]})})]},je.stage_id)})}),Fe&&C&&o.jsxs("div",{className:"space-y-3 p-2",children:[he.filter(je=>je.stage_id===C).map(je=>{var Le;return o.jsx(gM,{ticket:je,assignedUser:Be(je.assigned_to),userRole:X==null?void 0:X.role,onDelete:gt,onClick:()=>De(je),onDragStart:se,onDragEnd:ve,isDragging:re===je.ticket_id,stageName:((Le=$e.find(Ie=>Ie.id===C))==null?void 0:Le.name)||null},je.ticket_id)}),he.filter(je=>je.stage_id===C).length===0&&o.jsx(ll,{icon:o.jsx(ch,{className:"h-12 w-12 text-muted-foreground/50"}),title:O("tickets.noTicketsInStage","No tickets in this stage"),description:O("tickets.createFirst","Create a ticket to get started"),action:o.jsxs(ce,{onClick:()=>{M(je=>({...je,stage_id:(C==null?void 0:C.toString())||""})),b(!0)},children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),O("tickets.newTicket")]})})]})]})},_e=()=>{const fe=[{key:"ticket",header:O("tickets.subject","Subject"),render:Le=>o.jsx(vc,{title:Le.subject||O("tickets.noSubject","No Subject"),subtitle:Le.description})},{key:"priority",header:O("tickets.priority","Priority"),render:Le=>o.jsx(EO,{variant:fE(Le.priority),children:Le.priority||O("leads.unknown")})},{key:"type",header:O("tickets.ticketType","Type"),hideOnMobile:!0,render:Le=>o.jsx(mt,{variant:"outline",className:"text-xs",children:Le.ticket_type||O("leads.unknown")})},{key:"assignee",header:O("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Le=>{const Ie=Be(Le.assigned_to);return o.jsx(Fm,{name:Ie?Te(Ie,"user_name"):null,fallback:O("tickets.unassigned","Unassigned")})}},{key:"stage",header:O("tickets.stage","Stage"),hideOnMobile:!0,render:Le=>{const Ie=me.find(Ve=>Ve.stage_id===Le.stage_id);return Ie?Te(Ie,"stage_name"):O("tickets.noStage","No stage")}},{key:"created",header:O("tickets.createdDate","Created"),hideOnMobile:!0,render:Le=>o.jsx(Iu,{date:Le.created_date,fallback:O("leads.notSet","Not set")})}],je=[{label:O("common.view","View"),icon:o.jsx(Di,{className:"h-4 w-4"}),onClick:De},{label:O("buttons.delete","Delete"),icon:o.jsx(_r,{className:"h-4 w-4"}),onClick:Le=>gt(Le.ticket_id),variant:"destructive",show:()=>!0}];return o.jsx(gc,{data:he,columns:fe,actions:je,keyExtractor:Le=>Le.ticket_id,onRowClick:De,emptyState:o.jsx(ll,{icon:o.jsx(ch,{className:"h-12 w-12 text-muted-foreground/50"}),title:O("tickets.noTicketsInPage"),description:O("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:o.jsxs(ce,{onClick:()=>b(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),O("tickets.newTicket","New Ticket")]})})})};return i||de||!X?o.jsx(Of,{message:O("tickets.loading","Loading tickets...")}):c?o.jsx(Rp,{title:O("tickets.errorTitle","Error loading tickets"),message:c,onRetry:Re}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Ur()?"rtl":"ltr",children:[o.jsx(Nx,{title:O("tickets.title"),description:O("tickets.description","Manage and track support tickets"),icon:o.jsx(ch,{className:"h-5 w-5 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ce,{variant:B==="kanban"?"default":"ghost",size:"sm",onClick:()=>z("kanban"),className:"h-8 w-8 p-0",children:o.jsx(__,{className:"h-4 w-4"})}),o.jsx(ce,{variant:B==="list"?"default":"ghost",size:"sm",onClick:()=>z("list"),className:"h-8 w-8 p-0",children:o.jsx(ix,{className:"h-4 w-4"})})]}),o.jsxs(ce,{onClick:()=>b(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),O("tickets.newTicket")]})]}),stats:[{label:O("tickets.total","Total Tickets"),value:e.length,icon:o.jsx(ch,{className:"h-4 w-4 text-primary"})},...me.map(fe=>({label:Te(fe,"stage_name"),value:e.filter(je=>je.stage_id===fe.stage_id).length,icon:o.jsx(Ko,{className:"h-4 w-4 text-muted-foreground"})}))]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ze,{placeholder:O("tickets.searchPlaceholder","Search tickets..."),value:d,onChange:fe=>f(fe.target.value),className:"pl-10 h-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[o.jsxs(_t,{value:v,onValueChange:y,children:[o.jsx(wt,{className:"w-[130px] h-9",children:o.jsx(St,{placeholder:O("tickets.allStages","All Stages")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"all",children:O("tickets.allStages","All Stages")}),me.map(fe=>{var je;return o.jsx(Ae,{value:((je=fe.stage_id)==null?void 0:je.toString())||"",children:Te(fe,"stage_name")},fe.stage_id)})]})]}),o.jsxs(_t,{value:g,onValueChange:p,children:[o.jsx(wt,{className:"w-[130px] h-9",children:o.jsx(St,{placeholder:O("tickets.allTypes")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"all",children:O("tickets.allTypes","All Types")}),o.jsx(Ae,{value:"issue",children:O("tickets.typeIssue","Issue")}),o.jsx(Ae,{value:"request",children:O("tickets.typeRequest","Request")}),o.jsx(Ae,{value:"follow_up",children:O("tickets.typeFollowUp","Follow Up")}),o.jsx(Ae,{value:"internal_task",children:O("tickets.typeInternalTask","Internal Task")})]})]}),o.jsxs(_t,{value:h,onValueChange:m,children:[o.jsx(wt,{className:"w-[130px] h-9",children:o.jsx(St,{placeholder:O("tickets.allPriorities")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"all",children:O("tickets.allPriorities","All Priorities")}),o.jsx(Ae,{value:"low",children:O("tickets.priorityLow","Low")}),o.jsx(Ae,{value:"medium",children:O("tickets.priorityMedium","Medium")}),o.jsx(Ae,{value:"high",children:O("tickets.priorityHigh","High")}),o.jsx(Ae,{value:"urgent",children:O("tickets.priorityUrgent","Urgent")})]})]})]})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:B==="kanban"?we():_e()}),o.jsx(Nn,{open:w,onOpenChange:b,children:o.jsxs(mn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:O("tickets.createNewTicket")}),o.jsx(Ia,{children:O("tickets.createTicketDesc")})]}),o.jsxs("form",{onSubmit:We,className:"space-y-4",children:[ne&&o.jsx(Dm,{variant:"destructive",children:o.jsx(Rm,{children:ne})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(qe,{htmlFor:"subject",children:[O("tickets.subject")," *"]}),o.jsx(ze,{id:"subject",value:T.subject,onChange:fe=>U("subject",fe.target.value),placeholder:O("tickets.subjectPlaceholder"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"description",children:O("tickets.description")}),o.jsx(la,{id:"description",value:T.description,onChange:fe=>U("description",fe.target.value),placeholder:O("tickets.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"stage",children:O("tickets.stage","Stage")}),o.jsxs(_t,{value:T.stage_id,onValueChange:fe=>U("stage_id",fe),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:O("tickets.selectStage","Select stage")})}),o.jsx(bt,{children:me.map(fe=>{var je;return o.jsx(Ae,{value:((je=fe.stage_id)==null?void 0:je.toString())||"",children:Te(fe,"stage_name")},fe.stage_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(qe,{htmlFor:"priority",children:[O("tickets.priority")," *"]}),o.jsxs(_t,{value:T.priority,onValueChange:fe=>U("priority",fe),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"low",children:O("tickets.priorityLow")}),o.jsx(Ae,{value:"medium",children:O("tickets.priorityMedium")}),o.jsx(Ae,{value:"high",children:O("tickets.priorityHigh")}),o.jsx(Ae,{value:"urgent",children:O("tickets.priorityUrgent")})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(qe,{htmlFor:"ticket_type",children:[O("tickets.ticketType")," *"]}),o.jsxs(_t,{value:T.ticket_type,onValueChange:fe=>U("ticket_type",fe),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"request",children:O("tickets.typeRequest")}),o.jsx(Ae,{value:"follow_up",children:O("tickets.typeFollowUp")}),o.jsx(Ae,{value:"issue",children:O("tickets.typeIssue")}),o.jsx(Ae,{value:"internal_task",children:O("tickets.typeInternalTask")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"assigned_to",children:O("tickets.assignTo")}),o.jsxs(_t,{value:T.assigned_to,onValueChange:fe=>U("assigned_to",fe),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:O("tickets.selectAssignee")})}),o.jsx(bt,{children:r.map(fe=>{var je;return o.jsx(Ae,{value:((je=fe.user_id)==null?void 0:je.toString())||"",children:Te(fe,"user_name")},fe.user_id)})})]})]})]}),o.jsxs(Ra,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(ce,{type:"button",variant:"outline",onClick:()=>b(!1),className:"w-full sm:w-auto",children:O("buttons.cancel")}),o.jsx(ce,{type:"submit",disabled:ue||!T.subject.trim(),className:"w-full sm:w-auto",children:O(ue?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),o.jsx(Nn,{open:k,onOpenChange:j,children:o.jsxs(mn,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[o.jsxs(pn,{children:[o.jsx(gn,{className:"text-lg sm:text-xl leading-tight",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[o.jsx("span",{className:"break-words",children:_==null?void 0:_.subject}),o.jsx(mt,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(_==null?void 0:_.status)||O("leads.unknown")})]})}),o.jsxs(Ia,{className:"text-sm",children:[O("tickets.ticketId"),": #",_==null?void 0:_.ticket_id]})]}),_&&o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[ne&&o.jsx(Dm,{variant:"destructive",children:o.jsx(Rm,{children:ne})}),E?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(qe,{htmlFor:"edit-subject",children:[O("tickets.subject")," *"]}),o.jsx(ze,{id:"edit-subject",value:I.subject,onChange:fe=>V("subject",fe.target.value),placeholder:O("tickets.subjectPlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"edit-description",children:O("tickets.description")}),o.jsx(la,{id:"edit-description",value:I.description,onChange:fe=>V("description",fe.target.value),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:O("tickets.stage","Stage")}),o.jsxs(_t,{value:I.stage_id,onValueChange:fe=>V("stage_id",fe),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:O("tickets.selectStage","Select stage")})}),o.jsx(bt,{children:me.map(fe=>{var je;return o.jsx(Ae,{value:((je=fe.stage_id)==null?void 0:je.toString())||"",children:Te(fe,"stage_name")},fe.stage_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:O("tickets.priority")}),o.jsxs(_t,{value:I.priority,onValueChange:fe=>V("priority",fe),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"low",children:O("tickets.priorityLow")}),o.jsx(Ae,{value:"medium",children:O("tickets.priorityMedium")}),o.jsx(Ae,{value:"high",children:O("tickets.priorityHigh")}),o.jsx(Ae,{value:"urgent",children:O("tickets.priorityUrgent")})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:O("tickets.ticketType")}),o.jsxs(_t,{value:I.ticket_type,onValueChange:fe=>V("ticket_type",fe),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"request",children:O("tickets.typeRequest")}),o.jsx(Ae,{value:"follow_up",children:O("tickets.typeFollowUp")}),o.jsx(Ae,{value:"issue",children:O("tickets.typeIssue")}),o.jsx(Ae,{value:"internal_task",children:O("tickets.typeInternalTask")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:O("tickets.assignTo")}),o.jsxs(_t,{value:I.assigned_to,onValueChange:fe=>V("assigned_to",fe),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:O("tickets.selectAssignee")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"unassigned",children:O("tickets.unassigned","Unassigned")}),r.map(fe=>{var je;return o.jsx(Ae,{value:((je=fe.user_id)==null?void 0:je.toString())||"",children:Te(fe,"user_name")},fe.user_id)})]})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:O("tickets.priority")}),o.jsx("div",{className:"mt-1",children:o.jsx(mt,{variant:fE(_.priority),className:"text-xs",children:_.priority||O("leads.unknown")})})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:O("tickets.ticketType")}),o.jsx("div",{className:"mt-1",children:o.jsx(mt,{variant:"outline",className:"text-xs",children:_.ticket_type||O("leads.unknown")})})]})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:O("tickets.stage","Stage")}),o.jsx("div",{className:"mt-1 text-sm",children:me.find(fe=>fe.stage_id===_.stage_id)?Te(me.find(fe=>fe.stage_id===_.stage_id),"stage_name"):O("tickets.noStage","No stage")})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:O("tickets.assignedTo")}),o.jsx("div",{className:"mt-1 text-sm break-words",children:Be(_.assigned_to)?Te(Be(_.assigned_to),"user_name"):O("tickets.unassigned","Unassigned")})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:O("tickets.createdDate")}),o.jsx("div",{className:"mt-1 text-sm",children:_.created_date?new Date(_.created_date).toLocaleString():"N/A"})]})]}),_.description&&o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:O("tickets.description")}),o.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:_.description})]})]}),o.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:O("tickets.createdBy")}),o.jsx("div",{className:"mt-1 text-sm break-words",children:Be(_.created_by)?Te(Be(_.created_by),"user_name"):O("leads.unknown")})]}),_.resolved_date&&o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:O("tickets.resolvedDate")}),o.jsx("div",{className:"mt-1 text-sm",children:new Date(_.resolved_date).toLocaleString()})]}),_.closed_at&&o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:O("tickets.closedDate")}),o.jsx("div",{className:"mt-1 text-sm",children:new Date(_.closed_at).toLocaleString()})]})]})]}),o.jsx(Ra,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:E?o.jsxs(o.Fragment,{children:[o.jsx(ce,{variant:"outline",onClick:()=>N(!1),className:"w-full sm:w-auto",children:O("buttons.cancel")}),o.jsxs(ce,{onClick:ft,disabled:ue||!I.subject.trim(),className:"w-full sm:w-auto",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),ue?O("buttons.saving","Saving..."):O("buttons.save","Save")]})]}):o.jsxs(o.Fragment,{children:[o.jsx(ce,{variant:"outline",onClick:()=>j(!1),className:"w-full sm:w-auto",children:O("buttons.close","Close")}),o.jsxs(ce,{onClick:()=>N(!0),className:"w-full sm:w-auto",children:[o.jsx(Bi,{className:"h-4 w-4 mr-2"}),O("buttons.edit","Edit")]})]})})]})})]})}var TO="Progress",AO=100,[Jge,rXe]=ds(TO),[Qge,Zge]=Jge(TO),nH=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=eve,...i}=e;(a||a===0)&&!vM(a)&&console.error(tve(`${a}`,"Progress"));const l=vM(a)?a:AO;n!==null&&!xM(n,l)&&console.error(rve(`${n}`,"Progress"));const c=xM(n,l)?n:null,u=Cw(c)?s(c,l):void 0;return o.jsx(Qge,{scope:r,value:c,max:l,children:o.jsx(ct.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Cw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":iH(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});nH.displayName=TO;var aH="ProgressIndicator",sH=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Zge(aH,r);return o.jsx(ct.div,{"data-state":iH(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});sH.displayName=aH;function eve(e,t){return`${Math.round(e/t*100)}%`}function iH(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Cw(e){return typeof e=="number"}function vM(e){return Cw(e)&&!isNaN(e)&&e>0}function xM(e,t){return Cw(e)&&!isNaN(e)&&e<=t&&e>=0}function tve(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${AO}\`.`}function rve(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${AO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oH=nH,nve=sH;const ff=x.forwardRef(({className:e,value:t,...r},n)=>o.jsx(oH,{ref:n,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(nve,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ff.displayName=oH.displayName;function ave({projectId:e,onClose:t}){const{id:r}=Une(),n=Bs(),{user:a}=Sr(),[s,i]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,v]=x.useState(null),[y,w]=x.useState(null),[b,_]=x.useState([]),[S,k]=x.useState([]),j=e||(r?parseInt(r):null),E=!!e;x.useEffect(()=>{(async()=>{!j||!a||h(!0)})()},[j,a]),x.useEffect(()=>{j&&f&&N()},[j,f]);const N=async()=>{if(j)try{d(!0);const M=await Vc.getById(j);if(g(M),M){if(M.created_by)try{const I=await tn.getByAuthId(M.created_by.toString());v(I)}catch(I){console.error("Failed to fetch client:",I)}if(M.created_by)try{const I=await tn.getByAuthId(M.created_by.toString());w(I)}catch(I){console.error("Failed to fetch manager:",I)}try{const V=(await Wme.getProjectUsers(j)).map(R=>R.userid),F=await Promise.all(V.map(R=>R?tn.getByAuthId(R.toString()).catch(()=>null):null));_(F.filter(R=>R!==null))}catch(I){console.error("Failed to fetch project users:",I)}try{const F=(await es.getAll()).filter(Z=>Z.project_id===j).map(Z=>Z.stage_id),re=(await Promise.all(F.map(Z=>Xl.getByStage(Z)))).flat();k(re)}catch(I){console.error("Failed to fetch tasks:",I)}}}catch(M){console.error("Failed to load project data:",M)}finally{d(!1)}};x.useEffect(()=>{j&&m&&S.length>0&&A()},[j,m,S]);const A=async()=>{if(!(!j||!m||S.length===0))try{const M=[];for(const I of S){const V=await dE.getByTask(I.task_id);M.push(...V)}i(M)}catch(M){console.error("Failed to load comments:",M)}},D=async M=>{if(!(!l.trim()||!a))try{const I=await dE.create({task_id:M,userid:a.id.toString(),message:l.trim()});i(V=>[...V,I]),c("")}catch(I){console.error("Failed to add comment:",I)}},T=()=>{t?t():n("/projects")},U=({children:M})=>E?o.jsx("div",{className:"h-full overflow-y-auto p-1",children:M}):o.jsx(uE,{children:M});if(f===!1)return o.jsx(U,{children:o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),o.jsx(ce,{onClick:T,children:"Back to Projects"})]})})});if(f===null||!m||!p||!y)return u?o.jsx(U,{children:o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):o.jsx(U,{children:o.jsx("div",{children:"Project not found"})});const q={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return o.jsx(U,{children:o.jsxs("div",{className:"space-y-6 pb-10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ce,{variant:"ghost",size:"icon",onClick:T,children:o.jsx(qU,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Te(m,"project_name")}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Te(p,"company_name")})]})]}),o.jsx(ce,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),o.jsx(pt,{children:o.jsxs(jt,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),o.jsxs("span",{className:"text-sm font-bold",children:[m.progress||0,"%"]})]}),o.jsx(ff,{value:m.progress||0,className:"h-3"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:o.jsxs(xl,{defaultValue:"tasks",children:[o.jsxs(Ro,{className:"w-full sm:w-auto",children:[o.jsx(Zr,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),o.jsx(Zr,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),o.jsx(Zr,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),o.jsxs(En,{value:"tasks",className:"space-y-3",children:[S.map(M=>{var V;const I=b.find(F=>F.user_id===M.assigned_to);return o.jsx(pt,{children:o.jsx(jt,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:Te(M,"task_name")}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Te(M,"description")}),o.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[o.jsx(mt,{className:ke("text-xs",q[M.task_status]),children:((V=M.task_status)==null?void 0:V.replace("_"," "))||"todo"}),M.due_date&&o.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Eo,{className:"h-3 w-3"}),"Due: ",new Date(M.due_date).toLocaleDateString()]})]})]}),I&&o.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[o.jsx("div",{className:"text-2xl mb-1",children:""}),Te(I,"user_name")]})]})})},M.task_id)}),o.jsx(ce,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),o.jsx(En,{value:"images",children:o.jsx(pt,{children:o.jsxs(jt,{className:"pt-6",children:[o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(M=>o.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})},M))}),o.jsxs(ce,{variant:"outline",className:"w-full mt-4",children:[o.jsx(Gg,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),o.jsxs(En,{value:"comments",className:"space-y-3",children:[s.map(M=>{const I=[...b,p,y].find(V=>{var F,R,re,Z;return V&&(((F=V.userid)==null?void 0:F.toString())===((R=M.userid)==null?void 0:R.toString())||((re=V.user_id)==null?void 0:re.toString())===((Z=M.userid)==null?void 0:Z.toString()))});return o.jsx(pt,{children:o.jsx(jt,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"text-2xl",children:(I==null?void 0:I.avatar)||""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:I?Te(I,"user_name"):"Unknown"}),o.jsx("p",{className:"text-sm mt-1",children:M.message}),o.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(M.created_date||"").toLocaleString()})]})]})})},M.comment_id)}),S.length>0&&o.jsx(pt,{children:o.jsx(jt,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ze,{placeholder:"Add a comment...",value:l,onChange:M=>c(M.target.value),onKeyDown:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),D(S[0].task_id))}}),o.jsx(ce,{size:"icon",onClick:()=>D(S[0].task_id),children:o.jsx(ox,{className:"h-4 w-4"})})]})})})]})]})}),o.jsxs("div",{className:"space-y-4 lg:order-last",children:[o.jsxs(pt,{children:[o.jsx(fr,{children:o.jsx(Jr,{className:"text-base sm:text-lg",children:"Project Summary"})}),o.jsxs(jt,{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:p.avatar}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",children:Te(p,"user_name")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:Te(p,"company_name")})]})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:y.avatar}),o.jsx("div",{className:"text-sm",children:Te(y,"user_name")})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),o.jsx("div",{className:"space-y-2",children:b.map(M=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:M.avatar||""}),o.jsx("div",{className:"text-sm",children:Te(M,"user_name")})]},M.user_id))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",m.created_date?new Date(m.created_date).toLocaleDateString():"Not set",m.end_date&&o.jsxs("div",{children:["End: ",new Date(m.end_date).toLocaleDateString()]})]})]})]})]}),o.jsxs(pt,{children:[o.jsx(fr,{children:o.jsx(Jr,{className:"text-base sm:text-lg",children:"Recent Activity"})}),o.jsx(jt,{children:o.jsxs("div",{className:"space-y-3 text-xs",children:[o.jsxs("div",{className:"pb-2 border-b",children:[o.jsx("div",{className:"font-medium",children:"Task completed"}),o.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),o.jsxs("div",{className:"pb-2 border-b",children:[o.jsx("div",{className:"font-medium",children:"New comment added"}),o.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Images uploaded"}),o.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function sve({project:e,client:t,manager:r,stages:n,onDelete:a,onClick:s,onDragStart:i,onStageChange:l,isDragging:c=!1}){const{t:u}=Ht(),d=La(),f=e.progress||0,h=p=>p?new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),m=p=>{if(!p)return null;const v=new Date,w=(new Date(p).getTime()-v.getTime())/(1e3*60*60);return w<0?"overdue":w<24?"urgent":w<72?"soon":null},g=p=>{switch(m(p)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return o.jsxs(pt,{className:ke("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!d&&(f===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),g(e.end_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!i,onDragStart:p=>{i&&(p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",e.project_id.toString()),i(e.project_id))},children:[o.jsx(fr,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Te(e,"project_name")}),Te(e,"project_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Te(e,"project_description")})]}),a&&o.jsxs(ci,{children:[o.jsx(df,{asChild:!0,onClick:p=>p.stopPropagation(),children:o.jsx(ce,{variant:"ghost",size:"sm",className:ke("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(_r,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:p=>p.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:u("projects.deleteProject")}),o.jsx(Fs,{children:u("projects.deleteConfirmation",{name:Te(e,"project_name")})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:u("buttons.cancel")}),o.jsx(Ls,{onClick:p=>{p.stopPropagation(),a(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),o.jsxs(jt,{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:u("projects.progress")}),o.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),o.jsx(ff,{value:f,className:"h-2"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(on,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),o.jsx("p",{className:"text-xs font-medium truncate",children:t.user_name})]})]}),o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(sa,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),o.jsx("p",{className:"text-xs font-medium truncate",children:r?r.user_name:u("common.all","Unassigned")})]})]})]}),d&&l&&o.jsx("div",{className:"pt-1",children:o.jsxs(_t,{value:e.stage.toString(),onValueChange:p=>l(e.project_id,parseInt(p)),children:[o.jsx(wt,{className:"h-7 text-xs",children:o.jsx(St,{placeholder:u("projects.selectStage","Select stage")})}),o.jsx(bt,{children:n.filter(p=>["New","In Progress","Overdue","Completed"].includes(p.stage_name)).map(p=>o.jsx(Ae,{value:p.stage_id.toString(),children:Te(p,"stage_name")},p.stage_id))})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Eo,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:h(e.created_date)})]}),f===100?o.jsx(mt,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?o.jsx(mt,{variant:"default",className:"text-xs",children:"In Progress"}):o.jsx(mt,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function ive(){var me,$e;Bs();const{hasRole:e,user:t}=Sr();mi();const{t:r}=Ht(),n=La(),[a,s]=x.useState([]),[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState(!0),[g,p]=x.useState(null);x.useState(!1),x.useState("");const[v,y]=x.useState(null),[w,b]=x.useState(""),[_,S]=x.useState(null),[k,j]=x.useState(null),[E,N]=x.useState(!1),[A,D]=x.useState(null),[T,U]=x.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[q,M]=x.useState(!1),[I,V]=x.useState({project_name:"",project_description:"",client_id:""}),[F,R]=x.useState("kanban"),[re,Z]=x.useState(null),[C,K]=x.useState(""),[B,z]=x.useState("all"),[ne,oe]=x.useState("all"),[ue,ie]=x.useState({from:void 0,to:void 0}),X=x.useMemo(()=>a.filter(we=>{const _e=(we.project_name||"").toLowerCase().includes(C.toLowerCase())||(we.project_description||"").toLowerCase().includes(C.toLowerCase());let fe=!0;B==="todo"?fe=(we.progress||0)===0:B==="in_progress"?fe=(we.progress||0)>0&&(we.progress||0)<100:B==="done"&&(fe=(we.progress||0)===100);const je=ne==="all"||we.created_by&&we.created_by.toString()===ne;let Le=!0;if(ue.from&&we.end_date){const Ie=new Date(we.end_date),Ve=new Date(ue.from);Ve.setHours(0,0,0,0);const vt=new Date(Ie);if(vt.setHours(0,0,0,0),Le=vt>=Ve,Le&&ue.to){const Zt=new Date(ue.to);Zt.setHours(23,59,59,999),Le=vt<=Zt}}else ue.from&&!we.end_date&&(Le=!1);return _e&&fe&&je&&Le}),[a,C,B,ne,ue]);x.useEffect(()=>{de()},[]),x.useEffect(()=>{if(d.length>0&&A===null){const we=d.find(_e=>_e.stage_id===5);we&&D(we.stage_id)}},[d,A]);const de=async()=>{try{m(!0),p(null);const[we,_e,fe,je]=await Promise.all([Vc.getAll(),kw.getAll(),tn.getAll(),es.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:we.length,clients:_e.length,users:fe.length,stages:je.length}),console.log("[Projects] Projects data:",we),console.log("[Projects] Stages data:",je),s(we),l(_e),u(fe),f(je)}catch(we){console.error("Failed to load data:",we),p(r("projects.loadError","Failed to load projects. Please try again."))}finally{m(!1)}},O=async we=>{if(w.trim())try{await es.update(we,{stage_name:w.trim()}),f(d.map(_e=>_e.stage_id===we?{..._e,stage_name:w.trim()}:_e)),y(null),b("")}catch(_e){console.error("Failed to update stage:",_e)}},Fe=async we=>{if(a.filter(fe=>fe.stage===we).length>0){S(we);return}try{await es.delete(we),f(d.filter(fe=>fe.stage_id!==we))}catch(fe){console.error("Failed to delete stage:",fe)}},Re=we=>{j(we)},Be=we=>{we.preventDefault(),we.dataTransfer.dropEffect="move"},We=async we=>{if(!k)return;const _e=a.find(fe=>fe.project_id===k);if(_e&&_e.stage!==we)try{await Vc.update(k,{stage:we}),s(a.map(fe=>fe.project_id===k?{...fe,stage:we}:fe))}catch(fe){console.error("Failed to update project stage:",fe)}j(null)},De=async(we,_e)=>{const fe=a.find(je=>je.project_id===we);if(fe&&fe.stage!==_e)try{await Vc.update(we,{stage:_e}),s(a.map(je=>je.project_id===we?{...je,stage:_e}:je))}catch(je){console.error("Failed to update project stage:",je)}},ft=async we=>{try{await Vc.delete(we),s(a.filter(_e=>_e.project_id!==we))}catch(_e){console.error("Failed to delete project:",_e)}},gt=we=>{U(_e=>({..._e,stage:we.toString()})),N(!0)},se=async()=>{var we;if(T.project_name.trim())try{const _e=hl({project_name:T.project_name.trim(),project_description:T.project_description.trim()||null,created_by:((we=t==null?void 0:t.profile)==null?void 0:we.user_id)||1,progress:T.progress,stage:parseInt(T.stage),end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),fe=await Vc.create(_e);s([...a,fe]),U({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),N(!1)}catch(_e){console.error("Failed to create project:",_e)}},ve=async()=>{var we;if(I.project_name.trim())try{const _e=hl({project_name:I.project_name.trim(),project_description:I.project_description.trim()||null,created_by:((we=t==null?void 0:t.profile)==null?void 0:we.user_id)||1,progress:0,stage:1,end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),fe=await Vc.create(_e);s([...a,fe]),V({project_name:"",project_description:"",client_id:""}),M(!1)}catch(_e){console.error("Failed to create lead:",_e)}},Q=d.filter(we=>we.stage_type==="projects").sort((we,_e)=>{const fe=we.stager_order_index??0,je=_e.stager_order_index??0;return Ur()?je-fe:fe-je}),ee=Q.map(we=>({id:we.stage_id,name:Te(we,"stage_name"),color:we.color,count:X.filter(_e=>_e.stage===we.stage_id).length})),he=()=>{var we;return h?o.jsx(Of,{message:r("projects.loading","Loading projects...")}):g?o.jsx(Rp,{title:r("projects.errorTitle","Error loading projects"),message:g,onRetry:de}):a.length===0&&!C&&B==="all"&&ne==="all"?o.jsx(ll,{title:r("projects.emptyTitle","No projects found"),description:r("projects.emptyDescription","Get started by creating your first project."),icon:o.jsx(Hd,{className:"h-10 w-10 text-muted-foreground"}),action:o.jsxs(ce,{onClick:()=>M(!0),children:[o.jsx(ar,{className:"mr-2 h-4 w-4"})," ",r("projects.createProject")]})}):o.jsxs(o.Fragment,{children:[o.jsx(yO,{onSearch:K,onFilterStatus:z,onFilterAssignee:oe,onFilterDateRange:ie,users:c,statuses:[{value:"todo",label:r("mprojects.notStarted")},{value:"in_progress",label:r("mprojects.inProgress")},{value:"done",label:r("mprojects.completed")}]}),F==="kanban"?o.jsx(o.Fragment,{children:o.jsx(kx,{stages:ee,currentStageId:A||((we=ee[0])==null?void 0:we.id),onStageChange:D,children:o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:Q.sort((_e,fe)=>_e.stage_id-fe.stage_id).filter(_e=>{var je;return window.innerWidth<1024?_e.stage_id===(A||((je=ee[0])==null?void 0:je.id)):!0}).map((_e,fe)=>{var Le,Ie;const je=X.filter(Ve=>Ve.stage===_e.stage_id);return console.log(`[Projects] Stage ${_e.stage_name} (${_e.stage_id}): ${je.length} projects`),console.log("[Projects] Stage projects:",je),o.jsxs("div",{className:ke("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${fe*.1}s`},onDragOver:Be,onDrop:()=>We(_e.stage_id),children:[!n&&o.jsx("div",{className:ke("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",_e.color||"border-l-4 border-primary/50"),children:o.jsx("div",{className:"flex items-center justify-between mb-2",children:v===_e.stage_id?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(ze,{value:w,onChange:Ve=>b(Ve.target.value),onKeyDown:Ve=>{Ve.key==="Enter"&&O(_e.stage_id),Ve.key==="Escape"&&(y(null),b(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>O(_e.stage_id),className:"h-8 w-8 p-0",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ko,{className:"h-4 w-4 text-muted-foreground cursor-move"}),o.jsx("h2",{className:"font-bold text-base",children:Te(_e,"stage_name")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:je.length}),o.jsxs(o.Fragment,{children:[o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>{y(_e.stage_id),b(Te(_e,"stage_name"))},className:"h-6 w-6 p-0",title:r("buttons.edit"),children:o.jsx(Bi,{className:"h-3 w-3"})}),o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>Fe(_e.stage_id),className:"h-6 w-6 p-0 text-destructive",title:r("buttons.delete"),children:o.jsx(_r,{className:"h-3 w-3"})})]})]})]})})}),o.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[((Le=d.sort((Ve,vt)=>(Ve.stager_order_index||0)-(vt.stager_order_index||0))[0])==null?void 0:Le.stage_id)===_e.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(pt,{className:ke("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>gt(_e.stage_id),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(ar,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:r("projects.addNewProjectCard")})]})})}),je.map(Ve=>{const vt=c.find(Zt=>Zt.userid===Number(Ve.created_by)||Zt.user_id===Number(Ve.created_by));return o.jsx(sve,{project:Ve,client:i.find(Zt=>{var hr,or;return((hr=Zt.user_id)==null?void 0:hr.toString())===((or=Ve.client_id)==null?void 0:or.toString())})||null,manager:vt||null,stages:d,onDelete:ft,onClick:()=>Z(Ve.project_id),onDragStart:Re,onStageChange:De,isDragging:k===Ve.project_id},Ve.project_id)}),((Ie=d.sort((Ve,vt)=>(Ve.stager_order_index||0)-(vt.stager_order_index||0))[0])==null?void 0:Ie.stage_id)!==_e.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(ce,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>gt(_e.stage_id),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),r("projects.addProject")]})})]})]},_e.stage_id)})})})}):o.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:o.jsxs(_O,{children:[o.jsx(SO,{children:o.jsxs(rv,{children:[o.jsx(lo,{children:r("projects.projectName")}),o.jsx(lo,{children:r("projects.client")}),o.jsx(lo,{children:r("projects.manager")}),o.jsx(lo,{children:r("projects.stage")}),o.jsx(lo,{children:r("projects.progress")}),o.jsx(lo,{children:r("projects.dueDate")}),o.jsx(lo,{className:"w-[50px]"})]})}),o.jsx(jO,{children:X.map(_e=>{const fe=c.find(Ie=>Ie.userid===Number(_e.created_by)||Ie.user_id===Number(_e.created_by)),je=i.find(Ie=>{var Ve,vt;return((Ve=Ie.user_id)==null?void 0:Ve.toString())===((vt=_e.client_id)==null?void 0:vt.toString())}),Le=d.find(Ie=>Ie.stage_id===_e.stage);return o.jsxs(rv,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Z(_e.project_id),children:[o.jsx(co,{className:"font-medium",children:Te(_e,"project_name")}),o.jsx(co,{children:je?Te(je,"user_name"):"-"}),o.jsx(co,{children:fe?Te(fe,"user_name"):"-"}),o.jsx(co,{children:o.jsx(mt,{variant:"outline",className:"bg-background",children:Le?Te(Le,"stage_name"):"-"})}),o.jsx(co,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ff,{value:_e.progress||0,className:"w-16 h-2"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[_e.progress,"%"]})]})}),o.jsx(co,{className:"text-muted-foreground text-sm",children:_e.end_date?new Date(_e.end_date).toLocaleDateString():"-"}),o.jsx(co,{children:o.jsx(ce,{variant:"ghost",size:"icon",onClick:Ie=>{Ie.stopPropagation(),ft(_e.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:o.jsx(_r,{className:"h-4 w-4"})})})]},_e.project_id)})})]})})]})};return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Ur()?"rtl":"ltr",children:[o.jsx(Nx,{title:r("projects.title"),description:r("projects.subtitle"),icon:o.jsx(Hd,{className:"h-5 w-5 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ce,{variant:F==="kanban"?"default":"ghost",size:"sm",onClick:()=>R("kanban"),className:"h-8 w-8 p-0",children:o.jsx(__,{className:"h-4 w-4"})}),o.jsx(ce,{variant:F==="list"?"default":"ghost",size:"sm",onClick:()=>R("list"),className:"h-8 w-8 p-0",children:o.jsx(ix,{className:"h-4 w-4"})})]}),o.jsxs(ce,{onClick:()=>M(!0),children:[o.jsx(ar,{className:"mr-2 h-4 w-4"})," ",r("projects.newProject")]})]}),stats:[{label:r("projects.total","Total Projects"),value:a.length,icon:o.jsx(Hd,{className:"h-4 w-4 text-primary"})},{label:r("projects.inProgress","In Progress"),value:a.filter(we=>(we.progress||0)>0&&(we.progress||0)<100).length,icon:o.jsx(Eo,{className:"h-4 w-4 text-blue-500"})},{label:r("projects.completed","Completed"),value:a.filter(we=>(we.progress||0)===100).length,icon:o.jsx(on,{className:"h-4 w-4 text-green-600"})},{label:r("projects.avgProgress","Avg Progress"),value:a.length>0?`${Math.round(a.reduce((we,_e)=>we+(_e.progress||0),0)/a.length)}%`:"0%",icon:o.jsx(ff,{className:"h-4 w-4 text-blue-500"})}]}),he(),o.jsx(Nn,{open:E,onOpenChange:N,children:o.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:r("projects.createProject")}),o.jsx(Ia,{children:r("projects.createProjectDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),o.jsx(ze,{value:T.project_name,onChange:we=>U(_e=>({..._e,project_name:we.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),o.jsx(la,{value:T.project_description,onChange:we=>U(_e=>({..._e,project_description:we.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),o.jsxs(_t,{value:T.client_id,onValueChange:we=>U(_e=>({..._e,client_id:we})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:r("projects.selectClient")})}),o.jsx(bt,{children:i.map(we=>{var _e;return o.jsx(Ae,{value:((_e=we.user_id)==null?void 0:_e.toString())||"",children:Te(we,"user_name")},we.user_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.initialProgress")}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:T.progress,onChange:we=>U(_e=>({..._e,progress:parseInt(we.target.value)})),className:"w-full h-1.5"}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0%"}),o.jsxs("span",{children:[T.progress,"%"]}),o.jsx("span",{children:"100%"})]})]})]})]}),o.jsxs(Ra,{children:[o.jsx(ce,{variant:"outline",onClick:()=>N(!1),children:r("buttons.cancel")}),o.jsxs(ce,{onClick:se,disabled:!((me=T.project_name)!=null&&me.trim()),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),o.jsx(Nn,{open:q,onOpenChange:M,children:o.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:r("projects.createProject")}),o.jsx(Ia,{children:r("projects.createProjectDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),o.jsx(ze,{value:I.project_name,onChange:we=>V(_e=>({..._e,project_name:we.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),o.jsx(la,{value:I.project_description,onChange:we=>V(_e=>({..._e,project_description:we.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),o.jsxs(_t,{value:I.client_id,onValueChange:we=>V(_e=>({..._e,client_id:we})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:r("projects.selectClient")})}),o.jsx(bt,{children:i.map(we=>{var _e;return o.jsx(Ae,{value:((_e=we.user_id)==null?void 0:_e.toString())||"",children:Te(we,"user_name")},we.user_id)})})]})]})]}),o.jsxs(Ra,{children:[o.jsx(ce,{variant:"outline",onClick:()=>M(!1),children:r("buttons.cancel")}),o.jsxs(ce,{onClick:ve,disabled:!(($e=I.project_name)!=null&&$e.trim()),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),o.jsx(gl,{open:!!re,onOpenChange:we=>!we&&Z(null),children:o.jsxs(Po,{side:Ur()?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[o.jsxs(pc,{className:"sr-only",children:[o.jsx(vl,{children:"Project Details"}),o.jsx(wx,{children:"View and manage project information"})]}),re&&o.jsx(ave,{projectId:re,onClose:()=>Z(null)})]})})]})}const Tw={async signUpStaff(e,t,r){console.log("[authService] Creating staff user:",{email:e,userData:r});try{const{data:n,error:a}=await $t.auth.signUp({email:e,password:t});if(a)throw a;if(!n.user)throw new Error("No user data returned from sign up");console.log("[authService] Auth user created:",n.user.id);const s=await G.users.create({name:r.name,Email:e,permissions:r.role==="admin"?1:2,IsActive:1,Employee:1,userid:n.user.id});return console.log("[authService] User profile created in MySQL:",s),console.log("[authService] User profile created:",s),{id:n.user.id,email:e,role:r.role,profile:{userid:s.userid,name:s.name||r.name,Email:s.Email||e,permissions:s.permissions||(r.role==="admin"?1:2),IsActive:s.IsActive||1,Employee:s.Employee||1,AccountNumber:s.AccountNumber||null,mobile:s.mobile||null,user_pasword:s.user_pasword||null,pin:s.pin||null,Owner:s.Owner||0,Email_v:s.Email_v||0,isAllBranches:s.isAllBranches||0,Safe:s.Safe||1,created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in signUpStaff:",n),n}},async createStaffUser(e,t,r){console.log("[authService] Creating staff user via Edge Function:",{email:e,userData:r});try{const{data:{session:n},error:a}=await $t.auth.getSession();if(a||!(n!=null&&n.access_token))throw new Error("No active session found");const s="https://studio.middar.com/",i=`${s}/functions/v1/crud-staff-user`,l=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,"x-user-id":n.user.id},body:JSON.stringify({action:"add",email:e,password:t,userData:{user_name:r.name,user_role:r.role,...r.localizedData||{}}})});if(!l.ok){const f=await l.json();throw new Error(f.error||`HTTP ${l.status}`)}const c=await l.json();if(console.log("[authService] Staff user created successfully:",c),!c.ok)throw new Error("Edge Function returned an error status");const u=c.auth_id??c.authUserId;if(!u)throw new Error("Auth user ID missing from response");if(c.user_id==null)throw new Error("User ID missing from response");const d=c.user_id??null;return{id:u,email:e,role:r.role,profile:{userid:u,name:c.name||r.name,Email:c.Email||e,permissions:c.permissions||(r.role==="admin"?1:2),IsActive:c.IsActive||1,Employee:c.Employee||1,AccountNumber:c.AccountNumber||null,mobile:c.mobile||null,user_pasword:c.user_pasword||null,pin:c.pin||null,Owner:c.Owner||0,Email_v:c.Email_v||0,isAllBranches:c.isAllBranches||0,Safe:c.Safe||1,created_at:c.created_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in createStaffUser:",n),n}},async updateUserRole(e,t){console.log("[authService] Updating user role:",{targetUserId:e,newRole:t});try{const{data:{session:r},error:n}=await $t.auth.getSession();if(n||!(r!=null&&r.access_token))throw new Error("No active session found");const a="https://studio.middar.com/".trim();if(!a)throw new Error("Missing VITE_SUPABASE_URL");const s=`${a}/functions/v1/crud-staff-user`,i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,"x-user-id":r.user.id},body:JSON.stringify({action:"update",targetUserId:e,userData:{user_role:t}})});if(!i.ok){const l=await i.json();throw new Error(l.error||`HTTP ${i.status}`)}console.log("[authService] User role updated successfully")}catch(r){throw console.error("[authService] Error in updateUserRole:",r),r}},async updateUser(e,t){var r;console.log("[authService] Updating user details:",{targetUserId:e,userData:t});try{const{data:{session:n},error:a}=await $t.auth.getSession();if(a||!(n!=null&&n.access_token))throw new Error("No active session found");const s="https://studio.middar.com/".trim();if(!s)throw new Error("Missing VITE_SUPABASE_URL");const i=`${s}/functions/v1/crud-staff-user`,l={action:"update",targetUserId:e,userData:{}};if(t.Email!==void 0&&(l.email=t.Email,l.userData.Email=t.Email),t.name!==void 0&&(l.userData.name=t.name),t.permissions!==void 0&&(l.userData.permissions=t.permissions),t.mobile!==void 0){const u=(r=(await G.users.list({exact_filters:{userid:e}})).data)==null?void 0:r[0];if(!u)throw new Error("User not found in MySQL");await G.users.update(u.userid,{mobile:t.mobile})}if(l.userData.name||l.userData.Email||l.userData.permissions){const c=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,"x-user-id":n.user.id},body:JSON.stringify(l)});if(!c.ok){const d=await c.json();throw new Error(d.error||`HTTP ${c.status}`)}const u=await c.json();console.log("[authService] Edge Function update result:",u)}console.log("[authService] User details updated successfully")}catch(n){throw console.error("[authService] Error in updateUser:",n),n}},async deleteUser(e){console.log("[authService] Deleting user:",e);try{const{data:{session:t},error:r}=await $t.auth.getSession();if(r||!(t!=null&&t.access_token))throw new Error("No active session found");const n="https://studio.middar.com/",a=`${n}/functions/v1/crud-staff-user`,s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`,"x-user-id":t.user.id},body:JSON.stringify({action:"delete",targetUserId:e})});if(!s.ok){const i=await s.json();throw new Error(i.error||`HTTP ${s.status}`)}console.log("[authService] User deleted successfully")}catch(t){throw console.error("[authService] Error in deleteUser:",t),t}},async signUpClient(e,t,r){console.log("[authService] Signing up client:",{email:e,...r});const{data:n,error:a}=await $t.auth.signUp({email:e,password:t});if(a)throw a;if(!n.user)throw new Error("User creation failed");console.log("[authService] Auth user created:",n.user.id);const s=await G.users.create({name:r.name,Email:e,permissions:3,IsActive:1,Employee:0,mobile:r.contact?String(r.contact):null,userid:n.user.id});return console.log("[authService] User profile created in MySQL:",s),{id:n.user.id,email:e,role:"client",profile:{userid:s.userid,name:s.name||r.name,Email:s.Email||e,permissions:3,mobile:s.mobile||(r.contact?String(r.contact):null),IsActive:1,Employee:0,AccountNumber:null,user_pasword:null,pin:null,Owner:0,Email_v:0,isAllBranches:0,Safe:1,created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString()}}},async signIn(e,t){var r;console.log("[authService] Signing in with email:",e);try{const{data:n,error:a}=await $t.auth.signInWithPassword({email:e,password:t});if(a)throw console.error("[authService] Authentication error:",a),a;if(!n.user)throw new Error("Sign in failed: No user data returned");console.log("[authService] User authenticated, fetching profile...");const i=(r=(await G.users.list({exact_filters:{userid:n.user.id}})).data)==null?void 0:r[0];if(!i)throw console.error("[authService] User profile not found in MySQL for user:",n.user.id),new Error("User profile not found");return console.log("[authService] User profile found in MySQL:",i),{id:n.user.id,email:n.user.email,role:i.permissions===1?"admin":"client",profile:{...i}}}catch(n){throw console.error("[authService] Error in signIn:",n),n}},async signOut(){console.log("[authService] Signing out...");try{const{data:{session:e}}=await $t.auth.getSession();if(!e){console.warn("[authService] No active session found  skipping signOut()");return}const{error:t}=await $t.auth.signOut();if(t)throw console.error("[authService] Error signing out:",t),t;console.log("[authService] Sign out successful")}catch(e){throw console.error("[authService] Error in signOut:",e),e}},async signInWithGoogle(e="client"){console.log("[authService] Starting Google OAuth sign-in with role:",e);try{localStorage.setItem("oauth_intended_role",e);const{data:t,error:r}=await $t.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,data:{intended_role:e},queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(r)throw console.error("[authService] Google OAuth error:",r),localStorage.removeItem("oauth_intended_role"),r;console.log("[authService] Google OAuth initiated successfully with role:",e)}catch(t){throw console.error("[authService] Error in Google sign-in:",t),localStorage.removeItem("oauth_intended_role"),t}},async getFreshJwt(){const{data:{session:e},error:t}=await $t.auth.getSession();if(t)throw t;if(!(e!=null&&e.access_token))throw new Error("No access token available");return e.access_token},async getCurrentUser(e){var t;try{let r;if(e)r={id:e,email:""};else{const{data:{user:s},error:i}=await $t.auth.getUser();if(i||!s)return null;r=s}console.log("[authService] Fetching profile for:",r.id);const a=(t=(await G.users.list({exact_filters:{userid:r.id}})).data)==null?void 0:t[0];return a?{id:r.id,email:a.Email||r.email||"",role:a.permissions===1?"admin":"client",profile:a}:(console.warn("[authService] User not found in Users table, returning minimal profile"),{id:r.id,email:r.email||"",role:"client",profile:{userid:0,name:"User",Email:r.email||"",permissions:3,IsActive:1,Employee:0,AccountNumber:null,mobile:null,user_pasword:null,pin:null,Owner:0,Email_v:0,isAllBranches:0,Safe:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}})}catch(r){return console.error("[authService] Error in getCurrentUser:",r),null}},onAuthStateChange(e){let t=null;const{data:{subscription:r}}=$t.auth.onAuthStateChange(async(n,a)=>{if(console.log("[authService] Auth event:",n),a!=null&&a.user){const s=await this.getCurrentUser(a.user.id);JSON.stringify(s)!==JSON.stringify(t)&&(t=s,e(s))}else t!==null&&(t=null,e(null))});return{data:{subscription:r}}}};function ove(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var OO="ScrollArea",[lH,nXe]=ds(OO),[lve,zi]=lH(OO),cH=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...i}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,v]=x.useState(null),[y,w]=x.useState(0),[b,_]=x.useState(0),[S,k]=x.useState(!1),[j,E]=x.useState(!1),N=Wt(t,D=>c(D)),A=lx(a);return o.jsx(lve,{scope:r,type:n,dir:A,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:j,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:_,children:o.jsx(ct.div,{dir:A,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});cH.displayName=OO;var uH="ScrollAreaViewport",dH=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,i=zi(uH,r),l=x.useRef(null),c=Wt(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(ct.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});dH.displayName=uH;var Nl="ScrollAreaScrollbar",PO=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=zi(Nl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),a.type==="hover"?o.jsx(cve,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(uve,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(fH,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(DO,{...n,ref:t}):null});PO.displayName=Nl;var cve=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=zi(Nl,e.__scopeScrollArea),[s,i]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Fa,{present:r||s,children:o.jsx(fH,{"data-state":s?"visible":"hidden",...n,ref:t})})}),uve=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=zi(Nl,e.__scopeScrollArea),s=e.orientation==="horizontal",i=Y_(()=>c("SCROLL_END"),100),[l,c]=ove("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,i]),o.jsx(Fa,{present:r||l!=="hidden",children:o.jsx(DO,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:tt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:tt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fH=x.forwardRef((e,t)=>{const r=zi(Nl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,i]=x.useState(!1),l=e.orientation==="horizontal",c=Y_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return Lm(r.viewport,c),Lm(r.content,c),o.jsx(Fa,{present:n||s,children:o.jsx(DO,{"data-state":s?"visible":"hidden",...a,ref:t})})}),DO=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=zi(Nl,e.__scopeScrollArea),s=x.useRef(null),i=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=vH(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,m){return gve(h,i.current,l,m)}return r==="horizontal"?o.jsx(dve,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=yM(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?o.jsx(fve,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=yM(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),dve=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=zi(Nl,e.__scopeScrollArea),[i,l]=x.useState(),c=x.useRef(null),u=Wt(t,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mH,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":G_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),yH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ow(i.paddingLeft),paddingEnd:Ow(i.paddingRight)}})}})}),fve=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=zi(Nl,e.__scopeScrollArea),[i,l]=x.useState(),c=x.useRef(null),u=Wt(t,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mH,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":G_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),yH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ow(i.paddingTop),paddingEnd:Ow(i.paddingBottom)}})}})}),[hve,hH]=lH(Nl),mH=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=zi(Nl,r),[g,p]=x.useState(null),v=Wt(t,N=>p(N)),y=x.useRef(null),w=x.useRef(""),b=m.viewport,_=n.content-n.viewport,S=Yn(d),k=Yn(c),j=Y_(f,10);function E(N){if(y.current){const A=N.clientX-y.current.left,D=N.clientY-y.current.top;u({x:A,y:D})}}return x.useEffect(()=>{const N=A=>{const D=A.target;(g==null?void 0:g.contains(D))&&S(A,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,g,_,S]),x.useEffect(k,[n,k]),Lm(g,j),Lm(m.content,j),o.jsx(hve,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Yn(s),onThumbPointerUp:Yn(i),onThumbPositionChange:k,onThumbPointerDown:Yn(l),children:o.jsx(ct.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:tt(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),y.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(N))}),onPointerMove:tt(e.onPointerMove,E),onPointerUp:tt(e.onPointerUp,N=>{const A=N.target;A.hasPointerCapture(N.pointerId)&&A.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Aw="ScrollAreaThumb",pH=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=hH(Aw,e.__scopeScrollArea);return o.jsx(Fa,{present:r||a.hasThumb,children:o.jsx(mve,{ref:t,...n})})}),mve=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=zi(Aw,r),i=hH(Aw,r),{onThumbPositionChange:l}=i,c=Wt(t,f=>i.onThumbChange(f)),u=x.useRef(void 0),d=Y_(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=vve(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),o.jsx(ct.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:tt(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;i.onThumbPointerDown({x:g,y:p})}),onPointerUp:tt(e.onPointerUp,i.onThumbPointerUp)})});pH.displayName=Aw;var RO="ScrollAreaCorner",gH=x.forwardRef((e,t)=>{const r=zi(RO,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(pve,{...e,ref:t}):null});gH.displayName=RO;var pve=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=zi(RO,r),[s,i]=x.useState(0),[l,c]=x.useState(0),u=!!(s&&l);return Lm(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Lm(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?o.jsx(ct.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ow(e){return e?parseInt(e,10):0}function vH(e,t){const r=e/t;return isNaN(r)?0:r}function G_(e){const t=vH(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function gve(e,t,r,n="ltr"){const a=G_(r),s=a/2,i=t||s,l=a-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return xH([c,u],f)(e)}function yM(e,t,r="ltr"){const n=G_(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,i]:[i*-1,0],u=FN(e,c);return xH([0,i],[0,l])(u)}function xH(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function yH(e,t){return e>0&&e<t}var vve=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,l=r.top!==s.top;(i||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Y_(e,t){const r=Yn(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Lm(e,t){const r=Yn(t);Tn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var wH=cH,xve=dH,yve=gH;const aa=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(wH,{ref:n,className:ke("relative overflow-hidden",e),...r,children:[o.jsx(xve,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(bH,{}),o.jsx(yve,{})]}));aa.displayName=wH.displayName;const bH=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(PO,{ref:n,orientation:t,className:ke("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(pH,{className:"relative flex-1 rounded-full bg-border"})}));bH.displayName=PO.displayName;const C1={async createApplication(e){return await G.partnerApply.create(e)},async getApplications(){return(await G.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,t){await G.partnerApply.update(e,{status:t})}};function wve(){const{user:e}=Sr(),{createStaffUser:t,deleteUser:r,updateUserRole:n,updateUser:a}=Tw,{currentLanguage:s,isRTL:i}=mi(),{t:l}=Ht(),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState(!0),[g,p]=x.useState(""),[v,y]=x.useState(!1),[w,b]=x.useState(""),[_,S]=x.useState(""),[k,j]=x.useState(""),[E,N]=x.useState("employee"),[A,D]=x.useState(""),[T,U]=x.useState(!1),[q,M]=x.useState(null),[I,V]=x.useState("all"),[F,R]=x.useState("employees"),[re,Z]=x.useState(!1),[C,K]=x.useState(null),[B,z]=x.useState(!1),[ne,oe]=x.useState({name:"",Email:"",mobile:"",permissions:""}),[ue,ie]=x.useState(!1),[X,de]=x.useState("");x.useEffect(()=>{O()},[]);const O=async()=>{try{m(!0);const[ee,he]=await Promise.all([tn.getAll(),C1.getApplications()]);u(ee),f(he)}catch(ee){console.error("Failed to load users:",ee)}finally{m(!1)}},Fe=c.filter(ee=>{var Le,Ie;const he=F==="employees",me=F==="clients",$e=F==="partners";if(he&&(ee.permissions===3||ee.permissions===5||ee.permissions===6)||me&&ee.permissions!==3||$e&&ee.permissions!==5&&ee.permissions!==6)return!1;const we=((Le=ee.name)==null?void 0:Le.toLowerCase())||"",_e=((Ie=ee.Email)==null?void 0:Ie.toLowerCase())||"",fe=String(ee.permissions||""),je=g.toLowerCase();return we.includes(je)||_e.includes(je)||fe.includes(je)}),Re=ee=>{switch(ee){case 1:return"destructive";case 2:return"secondary";case 3:return"outline";default:return"secondary"}},Be=ee=>{switch(ee){case 1:return"Admin";case 2:return"Staff";case 3:return"Client";default:return"User"}},We=async ee=>{if(ee.preventDefault(),!T){D(""),U(!0);try{const he={name:w,Email:_,user_password:k,permissions:E==="admin"?1:E==="manager"||E==="employee"?2:E==="team_leader"?4:2},me=await G.Users.create(he);q&&(await C1.updateStatus(q,"approved"),M(null)),y(!1),b(""),S(""),j(""),N("employee"),O()}catch(he){D(he.message||l("users.addUserError"))}finally{U(!1)}}},De=ee=>{b(ee.full_name),S(ee.email),N("employee"),j(""),M(ee.apply_id),y(!0),R("employees")},ft=async ee=>{if(confirm(l("users.rejectConfirmation")))try{await C1.updateStatus(ee,"rejected"),O()}catch(he){console.error("Failed to reject application:",he)}},gt=async(ee,he)=>{if(confirm(l("users.deleteConfirmation",{name:he})))try{await r(ee),O()}catch(me){alert(`${l("users.deleteError")}: ${me.message}`)}},se=async(ee,he)=>{try{await n(ee,he),O()}catch(me){alert(`${l("users.updateRoleError")}: ${me.message}`)}},ve=async ee=>{var he;if(ee.preventDefault(),!(ue||!C)){de(""),ie(!0);try{const me={};ne.name!==Te(C,"name")&&(me.name=ne.name),ne.Email!==C.Email&&(me.Email=ne.Email),ne.mobile!==((he=C.mobile)==null?void 0:he.toString())&&(me.mobile=ne.mobile?parseInt(ne.mobile):null),ne.permissions!==C.permissions&&(me.permissions=ne.permissions),Object.keys(me).length>0?(await a(String(C.userid),me),z(!1),O()):z(!1)}catch(me){de(me.message||l("users.updateUserError"))}finally{ie(!1)}}},Q=ee=>{var he;K(ee),oe({name:ee.name||"",Email:ee.Email||"",mobile:((he=ee.mobile)==null?void 0:he.toString())||"",permissions:ee.permissions||""}),z(!1),de(""),Z(!0)};return h?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:i?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:l("users.title")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Aa,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-sm font-medium",children:[c.length," ",l("users.totalUsers")]})]}),o.jsx("p",{className:"hidden md:block text-muted-foreground",children:l("users.subtitle")})]}),o.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[o.jsxs(ce,{variant:F==="employees"?"default":"ghost",size:"sm",onClick:()=>R("employees"),className:"h-8 px-3",children:[o.jsx(lI,{className:"h-4 w-4 mr-2"}),l("users.employees")]}),o.jsxs(ce,{variant:F==="clients"?"default":"ghost",size:"sm",onClick:()=>R("clients"),className:"h-8 px-3",children:[o.jsx(sa,{className:"h-4 w-4 mr-2"}),l("users.clients")]}),o.jsxs(ce,{variant:F==="partners"?"default":"ghost",size:"sm",onClick:()=>R("partners"),className:"h-8 px-3",children:[o.jsx(Aa,{className:"h-4 w-4 mr-2"}),l("users.partners")]})]}),F==="employees"&&o.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&o.jsxs(Nn,{open:v,onOpenChange:y,children:[o.jsx(Ph,{asChild:!0,children:o.jsxs(ce,{className:"w-full",children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),l("users.addUser")]})}),o.jsxs(mn,{children:[o.jsxs(pn,{children:[o.jsx(gn,{children:l("users.addNewUser")}),o.jsx(Ia,{children:l("users.addUserDescription")})]}),o.jsxs("form",{onSubmit:We,className:"space-y-4",children:[A&&o.jsx(Dm,{variant:"destructive",children:o.jsx(Rm,{children:A})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"formName",children:l("users.fullName")}),o.jsx(ze,{id:"formName",value:w,onChange:ee=>b(ee.target.value),placeholder:l("users.fullName"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"formEmail",children:l("users.email")}),o.jsx(ze,{id:"formEmail",type:"email",value:_,onChange:ee=>S(ee.target.value),placeholder:l("users.email"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"formPassword",children:l("users.password")}),o.jsx(ze,{id:"formPassword",type:"password",value:k,onChange:ee=>j(ee.target.value),placeholder:l("users.password"),required:!0,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"formRole",children:l("users.role")}),o.jsxs(_t,{value:E,onValueChange:ee=>N(ee),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"employee",children:l("users.employee")}),o.jsx(Ae,{value:"manager",children:l("users.manager")}),o.jsx(Ae,{value:"admin",children:l("users.admin")}),o.jsx(Ae,{value:"team_leader",children:l("users.team_leader")})]})]})]}),o.jsx(ce,{type:"submit",className:"w-full",disabled:T,children:l(T?"users.addingUser":"users.addUser")})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ze,{placeholder:l("users.searchPlaceholder"),value:g,onChange:ee=>p(ee.target.value),className:"pl-10"})]}),o.jsxs(aa,{className:"flex-1",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Fe.map(ee=>o.jsxs(pt,{className:"hover:shadow-md transition-shadow",children:[o.jsx(fr,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(Jr,{className:"text-lg truncate",children:Te(ee,"name")}),o.jsx(mt,{variant:Re(ee.permissions),className:"mt-1",children:Be(ee.permissions)})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>Q(ee),children:o.jsx(Di,{className:"h-4 w-4"})}),o.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>gt(String(ee.userid),Te(ee,"name")),children:o.jsx(_r,{className:"h-4 w-4"})})]})]})}),o.jsxs(jt,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(lh,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:ee.Email})]}),ee.mobile&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Gh,{className:"h-4 w-4"}),o.jsx("span",{children:ee.mobile})]}),(ee.permissions===2||ee.permissions===1)&&!0&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("div",{className:"text-xs font-medium mb-1",children:l("users.changeRole")}),o.jsxs(_t,{value:String(ee.permissions),onValueChange:he=>se(String(ee.userid),he),children:[o.jsx(wt,{className:"w-full h-8",children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"2",children:l("users.employee")}),o.jsx(Ae,{value:"1",children:l("users.manager")})]})]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l("users.joined")," ",ee.created_at?new Date(ee.created_at).toLocaleDateString():"-"]})]})]},ee.user_id))}),Fe.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Aa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:l("users.noUsersFound")}),o.jsx("p",{className:"text-muted-foreground",children:l(g?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),F==="clients"&&o.jsx("div",{className:"space-y-6",children:o.jsxs(aa,{className:"flex-1",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Fe.map(ee=>o.jsxs(pt,{className:"hover:shadow-md transition-shadow",children:[o.jsx(fr,{className:"pb-3",children:o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(Jr,{className:"text-lg truncate",children:Te(ee,"name")}),o.jsx(mt,{variant:"outline",className:"mt-1",children:l("users.client")})]})})}),o.jsxs(jt,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(lh,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:ee.Email})]}),ee.mobile&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Gh,{className:"h-4 w-4"}),o.jsx("span",{children:ee.mobile})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l("users.joined")," ",ee.created_at?new Date(ee.created_at).toLocaleDateString():"-"]})]})]},ee.user_id))}),Fe.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(sa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:l("clients.noClientsFound")}),o.jsx("p",{className:"text-muted-foreground",children:l("clients.noClientsYet")})]})]})}),F==="partners"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[o.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(lI,{className:"h-5 w-5"}),l("users.partnerUsers"),o.jsx(mt,{variant:"secondary",className:"ml-auto",children:c.filter(ee=>ee.permissions===5||ee.permissions===6).length})]}),o.jsx(aa,{className:"flex-1 pr-4",children:o.jsx("div",{className:"space-y-3",children:c.filter(ee=>ee.permissions===5||ee.permissions===6).length>0?c.filter(ee=>ee.permissions===5||ee.permissions===6).map(ee=>o.jsx(pt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>Q(ee),children:o.jsxs(jt,{className:"p-4 flex items-center gap-3",children:[o.jsxs(Os,{children:[o.jsx(To,{src:ee.avatar||""}),o.jsx(Ps,{children:Te(ee,"name").charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:Te(ee,"name")}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:ee.Email}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(mt,{variant:"outline",className:"text-xs py-0 h-5",children:ee.permissions===5?l("users.partner_leader"):l("users.partner_employee")}),ee.company_name&&o.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Hie,{className:"h-3 w-3"}),ee.company_name]})]})]})]})},ee.userid)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Aa,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:l("users.noPartnerUsersFound")})]})})})]}),o.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(lh,{className:"h-5 w-5"}),l("users.partnerApplications"),o.jsx(mt,{variant:"secondary",children:d.length})]}),o.jsx("div",{className:"w-[140px]",children:o.jsxs(_t,{value:I,onValueChange:ee=>V(ee),children:[o.jsx(wt,{className:"h-8",children:o.jsx(St,{placeholder:l("common.filter")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"all",children:l("common.all")}),o.jsx(Ae,{value:"pending",children:l("status.pending")}),o.jsx(Ae,{value:"approved",children:l("status.approved")}),o.jsx(Ae,{value:"rejected",children:l("status.rejected")})]})]})})]}),o.jsx(aa,{className:"flex-1 pr-4",children:o.jsx("div",{className:"space-y-3",children:d.filter(ee=>I==="all"||ee.status===I).length>0?d.filter(ee=>I==="all"||ee.status===I).map(ee=>o.jsx(pt,{children:o.jsxs(jt,{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[o.jsx("div",{className:"font-medium",children:ee.company_name||ee.full_name}),o.jsx(mt,{variant:ee.status==="pending"?"outline":ee.status==="approved"?"default":"destructive",className:"capitalize",children:l(`status.${ee.status}`)})]}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sa,{className:"h-3 w-3"}),ee.full_name]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lh,{className:"h-3 w-3"}),ee.email]}),ee.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gh,{className:"h-3 w-3"}),ee.phone]})]}),ee.status==="pending"&&o.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[o.jsx(ce,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>ft(ee.apply_id),children:l("users.reject")}),o.jsx(ce,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>De(ee),children:l("users.approve")})]})]})},ee.apply_id)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(lh,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:l("users.noApplicationsFound")})]})})})]})]}),o.jsx(Nn,{open:re,onOpenChange:Z,children:o.jsxs(mn,{className:"max-w-2xl max-h-[80vh]",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:l("users.userDetails")}),o.jsx(Ia,{children:l("users.userDetailsDescription")})]}),C&&o.jsx(aa,{className:"max-h-[60vh] pr-4",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold",children:Te(C,"name")}),o.jsx(mt,{variant:Re(C.permissions),className:"mt-1",children:Be(C.permissions)})]})}),B?o.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[X&&o.jsx(Dm,{variant:"destructive",children:o.jsx(Rm,{children:X})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"editName",children:l("users.fullName")}),o.jsx(ze,{id:"editName",value:ne.name,onChange:ee=>oe(he=>({...he,name:ee.target.value})),placeholder:l("users.fullName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"editEmail",children:l("users.email")}),o.jsx(ze,{id:"editEmail",type:"email",value:ne.Email,onChange:ee=>oe(he=>({...he,Email:ee.target.value})),placeholder:l("users.email")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"editRole",children:l("users.role")}),o.jsxs(_t,{value:String(ne.permissions),onValueChange:ee=>oe(he=>({...he,permissions:Number(ee)})),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"2",children:l("users.employee")}),o.jsx(Ae,{value:"1",children:l("users.manager")}),o.jsx(Ae,{value:"3",children:l("users.client")}),o.jsx(Ae,{value:"4",children:l("users.partner")}),o.jsx(Ae,{value:"5",children:l("users.partner_employee")})]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(qe,{className:"text-sm font-medium",children:l("users.joined")}),o.jsx("p",{className:"text-sm",children:new Date(C.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(qe,{className:"text-sm font-medium",children:l("users.updated")}),o.jsx("p",{className:"text-sm",children:C.updated_at?new Date(C.updated_at).toLocaleDateString():"-"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"editPhone",children:l("users.phone")}),o.jsx(ze,{id:"editPhone",type:"tel",value:ne.mobile,onChange:ee=>oe(he=>({...he,mobile:ee.target.value})),placeholder:l("users.phone")})]}),C.client_contact&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(qe,{className:"text-sm font-medium",children:l("users.contact")}),o.jsx("p",{className:"text-sm",children:C.client_contact})]}),C.company_name&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(qe,{className:"text-sm font-medium",children:l("users.company")}),o.jsx("p",{className:"text-sm",children:Te(C,"company_name")})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(qe,{className:"text-sm font-medium",children:l("users.userId")}),o.jsx("p",{className:"text-sm font-mono text-xs",children:C.userid})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ce,{type:"button",variant:"outline",onClick:()=>z(!1),children:l("buttons.cancel")}),o.jsx(ce,{type:"submit",disabled:ue,children:l(ue?"buttons.saving":"buttons.save")})]})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:l("users.fullName")}),o.jsx("p",{className:"text-sm",children:Te(C,"user_name")})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:l("users.email")}),o.jsx("p",{className:"text-sm",children:C.user_email||l("common.na")})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:l("users.role")}),o.jsx("p",{className:"text-sm",children:l(`users.${C.user_role}`)})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:l("users.joined")}),o.jsx("p",{className:"text-sm",children:new Date(C.created_at).toLocaleDateString()})]}),C.updated_at&&o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:l("users.updated")}),o.jsx("p",{className:"text-sm",children:new Date(C.updated_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"space-y-3",children:[C.user_phone&&o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:l("users.phone")}),o.jsx("p",{className:"text-sm",children:C.user_phone})]}),C.client_contact&&o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:l("users.contact")}),o.jsx("p",{className:"text-sm",children:C.client_contact})]}),C.company_name&&o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:l("users.company")}),o.jsx("p",{className:"text-sm",children:Te(C,"company_name")})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:l("users.userId")}),o.jsx("p",{className:"text-sm font-mono text-xs",children:C.user_id})]})]})]}),C.userid&&o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium text-muted-foreground",children:l("users.authId","Auth ID")}),o.jsx("p",{className:"text-sm font-mono text-xs break-all",children:C.userid})]})]})}),o.jsxs(Ra,{children:[!B&&!0&&o.jsx(ce,{variant:"outline",onClick:()=>z(!0),children:l("buttons.edit")}),o.jsx(ce,{onClick:()=>Z(!1),children:l("buttons.close")})]})]})})]})}function bve(){Sr();const{t:e}=Ht(),{isRTL:t}=mi(),r=Bs();console.log("Teams Page - isRTL:",t);const[n,a]=x.useState([]),[s,i]=x.useState([]),[l,c]=x.useState({}),[u,d]=x.useState(!0),[f,h]=x.useState(""),[m,g]=x.useState(!1),[p,v]=x.useState(""),[y,w]=x.useState(""),[b,_]=x.useState(null),S=!0;x.useEffect(()=>{j(),E()},[]);const k=M=>{r("/chats",{state:{teamId:M}})},j=async()=>{try{d(!0);const M=await th.getAll(),I=await th.getAllTeamMembers();a(M),c(I)}catch(M){console.error("Failed to load teams:",M)}finally{d(!1)}},E=async()=>{try{const M=await tn.getAll();i(M)}catch(M){console.error("Failed to load users:",M)}},N=async()=>{if(p.trim())try{const M=hl({team_name:p.trim(),team_leader_id:(y==null?void 0:y.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await th.create(M),v(""),w(""),g(!1),await j()}catch(M){console.error("Failed to create team:",M)}},A=async(M,I)=>{try{await th.addMember(M,I);const V=s.find(F=>F.userid.toString());V&&c(F=>({...F,[M]:[...F[M]||[],V]}))}catch(V){console.error("Failed to add team member:",V)}},D=async(M,I)=>{try{await th.removeMember(M,I),c(V=>({...V,[M]:(V[M]||[]).filter(F=>F.userid.toString())}))}catch(V){console.error("Failed to remove team member:",V)}},T=async M=>{try{await th.delete(M),a(I=>I.filter(V=>V.team_id!==M)),c(I=>{const V={...I};return delete V[M],V}),_(null)}catch(I){console.error("Failed to delete team:",I)}},U=n.filter(M=>(Te(M,"team_name")||"").toLowerCase().includes(f.toLowerCase())),q=s;return u?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Aa,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:n.length})})]}),o.jsxs(Nn,{open:m,onOpenChange:g,children:[o.jsx(Ph,{asChild:!0,children:o.jsxs(ce,{children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),o.jsxs(mn,{className:"sm:max-w-[425px]",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:e("teams.createTeamTitle")}),o.jsx(Ia,{children:e("teams.createTeamDesc")})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(qe,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),o.jsx(ze,{id:"team-name",value:p,onChange:M=>v(M.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(qe,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),o.jsxs(_t,{value:y,onValueChange:w,children:[o.jsx(wt,{className:"col-span-3",children:o.jsx(St,{placeholder:e("teams.selectTeamLeader")})}),o.jsx(bt,{children:q.map(M=>o.jsx(Ae,{value:M.userid.toString(),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:M.name})]})},M.userid))})]})]})]}),o.jsx(Ra,{children:o.jsx(ce,{type:"submit",onClick:N,disabled:!p.trim(),children:e("teams.createTeam")})})]})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ze,{placeholder:e("teams.searchPlaceholder"),value:f,onChange:M=>h(M.target.value),className:"pl-10"})]}),o.jsxs(aa,{className:"flex-1",dir:t?"rtl":"ltr",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:t?"rtl":"ltr",children:U.map(M=>{const I=l[M.team_id]||[];return o.jsxs(pt,{className:"hover:shadow-md transition-shadow",children:[o.jsxs(fr,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Jr,{className:"text-lg",children:Te(M,"team_name")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>k(M.team_id),title:e("teams.chat","Chat"),children:o.jsx(Pu,{className:"h-4 w-4"})}),o.jsx(mt,{variant:"outline",children:e("teams.memberCount_plural",{count:I.length})}),o.jsxs(ci,{children:[o.jsx(df,{asChild:!0,children:o.jsx(ce,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:V=>{V.stopPropagation(),_(M.team_id)},children:o.jsx(_r,{className:"h-3 w-3"})})}),o.jsxs(Ds,{onClick:V=>V.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("teams.deleteTeam")}),o.jsx(Fs,{children:e("teams.deleteConfirmation",{name:Te(M,"team_name")})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("buttons.cancel")}),o.jsx(Ls,{onClick:V=>{V.stopPropagation(),T(M.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),M.team_leader_id_name&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[e("teams.teamLeader"),":"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:""}),o.jsx("span",{children:M.team_leader_id_name})]})]})]}),o.jsxs(jt,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),o.jsxs("div",{className:"space-y-2",children:[I.slice(0,4).map(V=>o.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Os,{className:"h-6 w-6",children:[o.jsx(To,{src:""}),o.jsx(Ps,{className:"text-xs",children:(V.name||"").charAt(0).toUpperCase()})]}),o.jsx("span",{className:"text-sm",children:V.name})]}),o.jsx(ce,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var F;return D(M.team_id,((F=V.userid)==null?void 0:F.toString())||"")},children:o.jsx(hoe,{className:"h-3 w-3"})})]},V.userid||V.userid)),I.length>4&&o.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:I.length-4})}),I.length===0&&o.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),o.jsx("div",{children:o.jsxs(_t,{onValueChange:V=>{V&&A(M.team_id,V)},children:[o.jsx(wt,{className:"w-full",children:o.jsx(St,{placeholder:e("teams.addMember")})}),o.jsx(bt,{children:s.filter(V=>!I.some(F=>F.userid.toString()===V.userid.toString())).map(V=>o.jsx(Ae,{value:V.userid.toString(),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:V.name})]})},V.userid))})]})}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",M.created_at?new Date(M.created_at).toLocaleDateString():"N/A"]})]})]},M.team_id)})}),U.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Aa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:e(f?"teams.noTeamsFound":"teams.noTeamsYet")}),o.jsx("p",{className:"text-muted-foreground mb-4",children:e(f?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!f&&S&&o.jsxs(ce,{onClick:()=>g(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function _ve({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:i}){const{t:l}=Ht(),[c,u]=x.useState(""),d=e.filter(p=>{const v=p.is_private&&Te(p.other_user||{},"user_name")||p.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(p=>!p.is_private&&!p.team_id),h=d.filter(p=>p.is_private),m=d.filter(p=>p.team_id),g=p=>{var S;const v=(t==null?void 0:t.room_id)===p.room_id,y=p.is_private,w=y&&Te(p.other_user||{},"user_name")||p.room_name,b=y?(S=p.other_user)==null?void 0:S.avatar:null,_=(w==null?void 0:w.charAt(0).toUpperCase())||"?";return o.jsxs("button",{onClick:()=>r(p),className:ke("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[y?o.jsxs(Os,{className:"h-6 w-6",children:[o.jsx(To,{src:b}),o.jsx(Ps,{className:"text-[10px]",children:_})]}):p.team_id?o.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:o.jsx(Aa,{className:"h-3.5 w-3.5"})}):o.jsx("div",{className:"h-6 w-6 rounded bg-muted flex items-center justify-center",children:o.jsx(GU,{className:"h-3.5 w-3.5"})}),y&&o.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2 w-2 rounded-full bg-green-500 border-2 border-background"})]}),o.jsx("span",{className:"truncate flex-1 text-left",children:w}),p.unreadCount&&p.unreadCount>0?o.jsx(mt,{variant:"destructive",className:"h-5 min-w-[1.25rem] px-1 flex items-center justify-center text-[10px]",children:p.unreadCount}):null]},p.room_id)};return o.jsxs("div",{className:ke("flex flex-col h-full bg-background border-r",i),children:[o.jsxs("div",{className:"p-3 border-b",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8",children:o.jsx(KU,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:l("common.search","Jump to..."),value:c,onChange:p=>u(p.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),o.jsxs(aa,{className:"flex-1 px-2 py-3",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&o.jsx(ce,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:o.jsx(ar,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-0.5",children:[f.map(g),f.length===0&&o.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),m.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),o.jsx("div",{className:"space-y-0.5",children:m.map(g)})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:o.jsx(ar,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-0.5",children:[h.map(g),h.length===0&&o.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function Sve({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:i,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var K;const{t:h}=Ht(),[m,g]=x.useState(""),p=x.useRef(null),[v,y]=x.useState(!1),[w,b]=x.useState(null),[_,S]=x.useState(""),[k,j]=x.useState(!1),E=x.useRef(null);x.useEffect(()=>{if(p.current&&!c){const B=p.current.querySelector("[data-radix-scroll-area-viewport]");B&&(B.scrollTop=B.scrollHeight)}},[t,c]);const N=B=>{const z=B.target;if(!z)return;const oe=z.scrollTop<100;y(oe),oe&&l&&i&&!c&&i()};x.useEffect(()=>{var z;const B=(z=p.current)==null?void 0:z.querySelector("[data-radix-scroll-area-viewport]");if(B)return B.addEventListener("scroll",N),()=>B.removeEventListener("scroll",N)},[l,c,i]);const A=B=>{b(B.message_id),S(B.content)},D=()=>{b(null),S("")},T=()=>{w&&_.trim()&&u&&(u(w,_),b(null),S(""))},U=()=>{m.trim()&&(n(m),g(""))},q=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),U())},M=async B=>{var ne;const z=(ne=B.target.files)==null?void 0:ne[0];if(!(!z||!n))try{j(!0);const oe=await messageService.uploadAttachment(z),ie=z.type.startsWith("image/")?`![${z.name}](${oe})`:`[${z.name}](${oe})`;n(ie)}catch(oe){console.error("Failed to upload file:",oe),alert(h("chat.uploadError","Failed to upload file"))}finally{j(!1),E.current&&(E.current.value="")}},I=()=>{var B;(B=E.current)==null||B.click()},V=B=>{const z=/!\[(.*?)\]\((.*?)\)/g,ne=/\[(.*?)\]\((.*?)\)/g,oe=z.exec(B);if(oe)return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("img",{src:oe[2],alt:oe[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(oe[2],"_blank")}),B.replace(oe[0],"").trim()&&o.jsx("span",{children:B.replace(oe[0],"").trim()})]});const ue=ne.exec(B);return ue?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("a",{href:ue[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[o.jsx(sI,{className:"h-4 w-4"}),ue[1]]}),B.replace(ue[0],"").trim()&&o.jsx("span",{children:B.replace(ue[0],"").trim()})]}):B};if(s)return o.jsx("div",{className:ke("flex items-center justify-center h-full bg-background",f),children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return o.jsxs("div",{className:ke("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[o.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:o.jsx(Pu,{className:"h-8 w-8"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),o.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const F=e.is_private,R=F&&Te(e.other_user||{},"user_name")||e.room_name,re=F?(K=e.other_user)==null?void 0:K.avatar:null,Z=(R==null?void 0:R.charAt(0).toUpperCase())||"?",C=t.reduce((B,z)=>{const ne=new Date(z.created_at).toLocaleDateString();return B[ne]||(B[ne]=[]),B[ne].push(z),B},{});return o.jsxs("div",{className:ke("flex flex-col h-full bg-background overflow-x-hidden",f),children:[o.jsxs("div",{className:"h-16 border-b flex items-center justify-between px-4 flex-shrink-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[a&&o.jsx(ce,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:o.jsx(qU,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[F?o.jsxs(Os,{className:"h-9 w-9",children:[o.jsx(To,{src:re}),o.jsx(Ps,{children:Z})]}):o.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?o.jsx(Aa,{className:"h-5 w-5"}):o.jsx(GU,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[R,F&&o.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!F&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h("chat.membersCount",{count:3})," "]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ce,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(Gh,{className:"h-5 w-5"})}),o.jsx(ce,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(poe,{className:"h-5 w-5"})}),o.jsx(ce,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(toe,{className:"h-5 w-5"})})]})]}),o.jsx(aa,{className:"flex-1 p-4",ref:p,children:o.jsxs("div",{className:"space-y-6 pb-4",children:[c&&o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(C).map(([B,z])=>o.jsxs("div",{children:[o.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:B===new Date().toLocaleDateString()?h("common.today","Today"):B})})]}),o.jsx("div",{className:"space-y-4",children:z.map((ne,oe)=>{var O;const ue=ne.auth_user_id===(r==null?void 0:r.id),ie=oe===0||z[oe-1].auth_user_id!==ne.auth_user_id,X=ne.sender,de=w===ne.message_id;return o.jsxs("div",{className:ke("flex gap-3 group",ue?"flex-row-reverse":""),children:[ie?o.jsxs(Os,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[o.jsx(To,{src:X==null?void 0:X.avatar}),o.jsx(Ps,{children:((O=X==null?void 0:X.user_name)==null?void 0:O.charAt(0))||"?"})]}):o.jsx("div",{className:"w-8 flex-shrink-0"}),o.jsxs("div",{className:ke("flex flex-col max-w-[75%]",ue?"items-end":"items-start"),children:[ie&&o.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[o.jsx("span",{className:"text-sm font-semibold",children:X==null?void 0:X.user_name}),o.jsx("span",{className:"text-[10px] text-muted-foreground",children:is(new Date(ne.created_at),"h:mm a")})]}),o.jsx("div",{className:ke("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",ue?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",de?"w-full min-w-[200px]":""),children:de?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("textarea",{value:_,onChange:Fe=>S(Fe.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ce,{size:"sm",variant:"ghost",onClick:D,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),o.jsx(ce,{size:"sm",variant:"secondary",onClick:T,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):o.jsxs(o.Fragment,{children:[V(ne.content),ue&&!de&&o.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[o.jsxs(ce,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>A(ne),children:[o.jsx("span",{className:"sr-only",children:"Edit"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[o.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),o.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),o.jsxs(ce,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(ne.message_id),children:[o.jsx("span",{className:"sr-only",children:"Delete"}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:o.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},ne.message_id)})})]},B))]})}),o.jsxs("div",{className:"p-4 bg-background border-t",children:[o.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[o.jsx(ce,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:I,disabled:k,children:k?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):o.jsx(sI,{className:"h-5 w-5"})}),o.jsx("input",{type:"file",ref:E,className:"hidden",onChange:M,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),o.jsx("textarea",{value:m,onChange:B=>g(B.target.value),onKeyDown:q,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:B=>{const z=B.target;z.style.height="auto",z.style.height=`${Math.min(z.scrollHeight,128)}px`}}),o.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[o.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:o.jsx(coe,{className:"h-5 w-5"})}),o.jsx(ce,{size:"icon",className:ke("h-8 w-8 transition-all",m.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:U,disabled:!m.trim()&&!k,children:o.jsx(ox,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:o.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function jve({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=Ht(),[s,i]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!1);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const m=await tn.getAll();i(m.filter(g=>g.auth_user_id!==n))}catch(m){console.error("Failed to load users:",m)}finally{d(!1)}},h=s.filter(m=>{var g,p;return((g=m.user_name)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))||((p=m.user_email)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))});return o.jsx(Nn,{open:e,onOpenChange:t,children:o.jsxs(mn,{className:"sm:max-w-[425px]",children:[o.jsx(pn,{children:o.jsx(gn,{children:a("chat.newDirectMessage","New Direct Message")})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:m=>c(m.target.value),className:"pl-8"})]}),o.jsx(aa,{className:"h-[300px]",children:u?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):o.jsx("div",{className:"space-y-1",children:h.map(m=>{var g;return o.jsxs("button",{onClick:()=>{r(m),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[o.jsxs(Os,{children:[o.jsx(To,{src:m.avatar}),o.jsx(Ps,{children:((g=m.user_name)==null?void 0:g.charAt(0))||"?"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:m.user_name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:m.user_email})]})]},m.user_id)})})})]})]})})}var X_="Switch",[kve,aXe]=ds(X_),[Nve,Eve]=kve(X_),_H=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),g=Wt(t,b=>m(b)),p=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,w]=mc({prop:a,defaultProp:s??!1,onChange:u,caller:X_});return o.jsxs(Nve,{scope:r,checked:y,disabled:l,children:[o.jsx(ct.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":NH(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:tt(e.onClick,b=>{w(_=>!_),v&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),v&&o.jsx(kH,{control:h,bubbles:!p.current,name:n,value:c,checked:y,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});_H.displayName=X_;var SH="SwitchThumb",jH=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Eve(SH,r);return o.jsx(ct.span,{"data-state":NH(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});jH.displayName=SH;var Cve="SwitchBubbleInput",kH=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const i=x.useRef(null),l=Wt(i,s),c=BA(r),u=RA(t);return x.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kH.displayName=Cve;function NH(e){return e?"checked":"unchecked"}var EH=_H,Tve=jH;const CH=x.forwardRef(({className:e,...t},r)=>o.jsx(EH,{className:ke("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(Tve,{className:ke("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));CH.displayName=EH.displayName;function Ave({open:e,onOpenChange:t,onCreate:r}){const{t:n}=Ht(),[a,s]=x.useState(""),[i,l]=x.useState(!1),[c,u]=x.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,i),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return o.jsx(Nn,{open:e,onOpenChange:t,children:o.jsxs(mn,{children:[o.jsx(pn,{children:o.jsx(gn,{children:n("chat.createRoomTitle","Create New Room")})}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"name",children:n("chat.roomName","Room Name")}),o.jsx(ze,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(qe,{htmlFor:"private",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:n("chat.privateRoom","Private Room")}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),o.jsx(CH,{id:"private",checked:i,onCheckedChange:l,disabled:c})]}),o.jsxs(Ra,{children:[o.jsx(ce,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),o.jsx(ce,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function Ove(){var re;const{user:e}=Sr(),{t}=Ht(),[r,n]=x.useState([]),[a,s]=x.useState(null),[i,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(!1),[h,m]=x.useState(!0),[g,p]=x.useState(!0),[v,y]=x.useState(!1),[w,b]=x.useState([]),[_,S]=x.useState(!1),[k,j]=x.useState(!1),E=x.useRef(!1),N=x.useRef(null);x.useRef(null);const A=x.useRef(null);x.useEffect(()=>{const Z=()=>{const C=window.innerWidth<768;f(C),C||m(!0)};return Z(),window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),x.useEffect(()=>{e&&!E.current&&U()},[e]),x.useEffect(()=>{var C;const Z=(C=window.history.state)==null?void 0:C.usr;if(Z!=null&&Z.teamId&&r.length>0){const K=r.find(B=>B.team_id===Z.teamId);K&&s(K)}},[r]),x.useEffect(()=>{a&&(N.current!==a.room_id&&(p(!0),y(!1),q(a.room_id),e&&(Si.markAsRead(a.room_id,e.id.toString()),n(Z=>Z.map(C=>C.room_id===a.room_id?{...C,unreadCount:0}:C)))),d&&m(!1))},[a,d,e]),x.useEffect(()=>{if(!e)return;A.current&&$t.removeChannel(A.current);const Z=$t.channel(`room:${(a==null?void 0:a.room_id)||"global"}`);return A.current=Z,Z.on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async C=>{const K=C.new,B={...K};K.userid===e.id.toString()&&(B.sender=e.profile),(a==null?void 0:a.room_id)===K.room_id&&(l(z=>[...z,B]),document.visibilityState==="visible"&&await Si.markAsRead(K.room_id,e.id.toString())),n(z=>z.map(ne=>ne.room_id===K.room_id?{...ne,lastMessage:K,unreadCount:(a==null?void 0:a.room_id)===K.room_id?0:(ne.unreadCount||0)+1}:ne))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},C=>{const K=C.new;l(B=>B.map(z=>z.message_id===K.message_id?{...z,...K,sender:z.sender}:z)),n(B=>B.map(z=>{var ne;return((ne=z.lastMessage)==null?void 0:ne.message_id)===K.message_id?{...z,lastMessage:{...z.lastMessage,...K}}:z}))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},C=>{const K=C.old.message_id;l(B=>B.filter(z=>z.message_id!==K)),n(B=>B.map(z=>{var ne;return((ne=z.lastMessage)==null?void 0:ne.message_id)===K?{...z,lastMessage:void 0}:z}))}).on("broadcast",{event:"typing"},C=>{C.payload.roomId===(a==null?void 0:a.room_id)&&C.payload.userid!==e.id.toString()&&(b(K=>K.includes(C.payload.userName)?K:[...K,C.payload.userName]),setTimeout(()=>{b(K=>K.filter(B=>B!==C.payload.userName))},3e3))}).subscribe(async C=>{C==="SUBSCRIBED"&&await Z.track({userid:e.id.toString(),online_at:new Date().toISOString()})}),()=>{A.current&&$t.removeChannel(A.current)}},[e,a]);const D=async(Z,C)=>{try{await Dh.update(Z,C)}catch(K){console.error("Failed to edit message:",K)}},T=async Z=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await Dh.delete(Z)}catch(C){console.error("Failed to delete message:",C)}},U=async()=>{try{u(!0);const Z=await Si.getUserRooms(e==null?void 0:e.id.toString()),C=await Promise.all(Z.map(async K=>{if(K.is_private){const z=(await Si.getRoomMembers(K.room_id)).find(ne=>{var oe;return((oe=ne.userid)==null?void 0:oe.toString())!==(e==null?void 0:e.id.toString())});return{...K,other_user:z}}return K}));n(C),E.current=!0}catch(Z){console.error("Failed to load rooms:",Z)}finally{u(!1)}},q=async(Z,C=!1)=>{try{C&&y(!0);const K=10,B=C&&i.length>0?i[0].created_at:void 0,z=await Dh.getByRoom(Z,{limit:K,before:B});C?(l(ne=>[...z,...ne]),p(z.length===K)):(l(z),p(z.length===K),N.current=Z)}catch(K){console.error("Failed to load messages:",K)}finally{C&&y(!1)}},M=async()=>{!a||v||!g||await q(a.room_id,!0)},I=async Z=>{if(!(!a||!e))try{await Dh.create({room_id:a.room_id,userid:e.id.toString(),content:Z,metadata:{}}),A.current}catch(C){console.error("Failed to send message:",C)}},V=()=>{m(!0)},F=async(Z,C)=>{if(e)try{const K=await Si.createRoom({name:Z,is_private:C,created_by:e.profile.user_id||0,userid:e.id.toString()});await Si.addMember(K.room_id,e.id.toString()),await U();const B={...K};s(B)}catch(K){console.error("Failed to create channel:",K)}},R=async Z=>{if(!e)return;const C=r.find(K=>{var B;return K.is_private&&((B=K.other_user)==null?void 0:B.userid)===Z.userid});if(C){s(C);return}try{const K=await Si.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await Si.addMember(K.room_id,e.id.toString()),await Si.addMember(K.room_id,(Z.userid||Z.user_id||"").toString()),await U();const B={...K,other_user:Z};s(B)}catch(K){console.error("Failed to create DM:",K)}};return o.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",dir:Ur()?"rtl":"ltr",children:[o.jsx("div",{className:ke("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-screen bg-background border-r overflow-hidden",h?"translate-x-0":"-translate-x-full md:translate-x-0",d&&!h&&"hidden"),children:o.jsx(_ve,{rooms:r,selectedRoom:a,onSelectRoom:s,currentUser:e,onNewChannel:()=>S(!0),onNewDM:()=>j(!0)})}),o.jsx("div",{className:ke("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-screen overflow-hidden",d&&h?"hidden":"flex"),children:o.jsx(Sve,{room:a,messages:i,currentUser:e,onSendMessage:I,onBack:V,loading:c,onLoadMore:M,hasMoreMessages:g,isLoadingMore:v,onEditMessage:D,onDeleteMessage:T})}),o.jsx(Ave,{open:_,onOpenChange:S,onCreate:F}),o.jsx(jve,{open:k,onOpenChange:j,onSelectUser:R,currentUserId:(re=e==null?void 0:e.id)==null?void 0:re.toString()})]})}function TH(e,t){return function(){return e.apply(t,arguments)}}const{toString:Pve}=Object.prototype,{getPrototypeOf:IO}=Object,{iterator:J_,toStringTag:AH}=Symbol,Q_=(e=>t=>{const r=Pve.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Mo=e=>(e=e.toLowerCase(),t=>Q_(t)===e),Z_=e=>t=>typeof t===e,{isArray:Ip}=Array,$m=Z_("undefined");function Ex(e){return e!==null&&!$m(e)&&e.constructor!==null&&!$m(e.constructor)&&Cs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const OH=Mo("ArrayBuffer");function Dve(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&OH(e.buffer),t}const Rve=Z_("string"),Cs=Z_("function"),PH=Z_("number"),Cx=e=>e!==null&&typeof e=="object",Ive=e=>e===!0||e===!1,T1=e=>{if(Q_(e)!=="object")return!1;const t=IO(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(AH in e)&&!(J_ in e)},Mve=e=>{if(!Cx(e)||Ex(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Fve=Mo("Date"),Lve=Mo("File"),$ve=Mo("Blob"),Bve=Mo("FileList"),Uve=e=>Cx(e)&&Cs(e.pipe),Vve=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Cs(e.append)&&((t=Q_(e))==="formdata"||t==="object"&&Cs(e.toString)&&e.toString()==="[object FormData]"))},zve=Mo("URLSearchParams"),[Wve,Hve,qve,Kve]=["ReadableStream","Request","Response","Headers"].map(Mo),Gve=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tx(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Ip(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Ex(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function DH(e,t){if(Ex(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Ed=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RH=e=>!$m(e)&&e!==Ed;function hE(){const{caseless:e,skipUndefined:t}=RH(this)&&this||{},r={},n=(a,s)=>{const i=e&&DH(r,s)||s;T1(r[i])&&T1(a)?r[i]=hE(r[i],a):T1(a)?r[i]=hE({},a):Ip(a)?r[i]=a.slice():(!t||!$m(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Tx(arguments[a],n);return r}const Yve=(e,t,r,{allOwnKeys:n}={})=>(Tx(t,(a,s)=>{r&&Cs(a)?e[s]=TH(a,r):e[s]=a},{allOwnKeys:n}),e),Xve=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Jve=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Qve=(e,t,r,n)=>{let a,s,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&IO(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Zve=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},exe=e=>{if(!e)return null;if(Ip(e))return e;let t=e.length;if(!PH(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},txe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&IO(Uint8Array)),rxe=(e,t)=>{const n=(e&&e[J_]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},nxe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},axe=Mo("HTMLFormElement"),sxe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),wM=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ixe=Mo("RegExp"),IH=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Tx(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},oxe=e=>{IH(e,(t,r)=>{if(Cs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Cs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},lxe=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Ip(e)?n(e):n(String(e).split(t)),r},cxe=()=>{},uxe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function dxe(e){return!!(e&&Cs(e.append)&&e[AH]==="FormData"&&e[J_])}const fxe=e=>{const t=new Array(10),r=(n,a)=>{if(Cx(n)){if(t.indexOf(n)>=0)return;if(Ex(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Ip(n)?[]:{};return Tx(n,(i,l)=>{const c=r(i,a+1);!$m(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},hxe=Mo("AsyncFunction"),mxe=e=>e&&(Cx(e)||Cs(e))&&Cs(e.then)&&Cs(e.catch),MH=((e,t)=>e?setImmediate:t?((r,n)=>(Ed.addEventListener("message",({source:a,data:s})=>{a===Ed&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ed.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Cs(Ed.postMessage)),pxe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ed):typeof process<"u"&&process.nextTick||MH,gxe=e=>e!=null&&Cs(e[J_]),Ce={isArray:Ip,isArrayBuffer:OH,isBuffer:Ex,isFormData:Vve,isArrayBufferView:Dve,isString:Rve,isNumber:PH,isBoolean:Ive,isObject:Cx,isPlainObject:T1,isEmptyObject:Mve,isReadableStream:Wve,isRequest:Hve,isResponse:qve,isHeaders:Kve,isUndefined:$m,isDate:Fve,isFile:Lve,isBlob:$ve,isRegExp:ixe,isFunction:Cs,isStream:Uve,isURLSearchParams:zve,isTypedArray:txe,isFileList:Bve,forEach:Tx,merge:hE,extend:Yve,trim:Gve,stripBOM:Xve,inherits:Jve,toFlatObject:Qve,kindOf:Q_,kindOfTest:Mo,endsWith:Zve,toArray:exe,forEachEntry:rxe,matchAll:nxe,isHTMLForm:axe,hasOwnProperty:wM,hasOwnProp:wM,reduceDescriptors:IH,freezeMethods:oxe,toObjectSet:lxe,toCamelCase:sxe,noop:cxe,toFiniteNumber:uxe,findKey:DH,global:Ed,isContextDefined:RH,isSpecCompliantForm:dxe,toJSONObject:fxe,isAsyncFn:hxe,isThenable:mxe,setImmediate:MH,asap:pxe,isIterable:gxe};function Vt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Ce.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.status}}});const FH=Vt.prototype,LH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{LH[e]={value:e}});Object.defineProperties(Vt,LH);Object.defineProperty(FH,"isAxiosError",{value:!0});Vt.from=(e,t,r,n,a,s)=>{const i=Object.create(FH);Ce.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Vt.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const vxe=null;function mE(e){return Ce.isPlainObject(e)||Ce.isArray(e)}function $H(e){return Ce.endsWith(e,"[]")?e.slice(0,-2):e}function bM(e,t,r){return e?e.concat(t).map(function(a,s){return a=$H(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function xxe(e){return Ce.isArray(e)&&!e.some(mE)}const yxe=Ce.toFlatObject(Ce,{},null,function(t){return/^is[A-Z]/.test(t)});function eS(e,t,r){if(!Ce.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ce.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!Ce.isUndefined(v[p])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(t);if(!Ce.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Ce.isDate(g))return g.toISOString();if(Ce.isBoolean(g))return g.toString();if(!c&&Ce.isBlob(g))throw new Vt("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(g)||Ce.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,p,v){let y=g;if(g&&!v&&typeof g=="object"){if(Ce.endsWith(p,"{}"))p=n?p:p.slice(0,-2),g=JSON.stringify(g);else if(Ce.isArray(g)&&xxe(g)||(Ce.isFileList(g)||Ce.endsWith(p,"[]"))&&(y=Ce.toArray(g)))return p=$H(p),y.forEach(function(b,_){!(Ce.isUndefined(b)||b===null)&&t.append(i===!0?bM([p],_,s):i===null?p:p+"[]",u(b))}),!1}return mE(g)?!0:(t.append(bM(v,p,s),u(g)),!1)}const f=[],h=Object.assign(yxe,{defaultVisitor:d,convertValue:u,isVisitable:mE});function m(g,p){if(!Ce.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(g),Ce.forEach(g,function(y,w){(!(Ce.isUndefined(y)||y===null)&&a.call(t,y,Ce.isString(w)?w.trim():w,p,h))===!0&&m(y,p?p.concat(w):[w])}),f.pop()}}if(!Ce.isObject(e))throw new TypeError("data must be an object");return m(e),t}function _M(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function MO(e,t){this._pairs=[],e&&eS(e,this,t)}const BH=MO.prototype;BH.append=function(t,r){this._pairs.push([t,r])};BH.toString=function(t){const r=t?function(n){return t.call(this,n,_M)}:_M;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function wxe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function UH(e,t,r){if(!t)return e;const n=r&&r.encode||wxe;Ce.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=Ce.isURLSearchParams(t)?t.toString():new MO(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class SM{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ce.forEach(this.handlers,function(n){n!==null&&t(n)})}}const VH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bxe=typeof URLSearchParams<"u"?URLSearchParams:MO,_xe=typeof FormData<"u"?FormData:null,Sxe=typeof Blob<"u"?Blob:null,jxe={isBrowser:!0,classes:{URLSearchParams:bxe,FormData:_xe,Blob:Sxe},protocols:["http","https","file","blob","url","data"]},FO=typeof window<"u"&&typeof document<"u",pE=typeof navigator=="object"&&navigator||void 0,kxe=FO&&(!pE||["ReactNative","NativeScript","NS"].indexOf(pE.product)<0),Nxe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Exe=FO&&window.location.href||"http://localhost",Cxe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FO,hasStandardBrowserEnv:kxe,hasStandardBrowserWebWorkerEnv:Nxe,navigator:pE,origin:Exe},Symbol.toStringTag,{value:"Module"})),Ca={...Cxe,...jxe};function Txe(e,t){return eS(e,new Ca.classes.URLSearchParams,{visitor:function(r,n,a,s){return Ca.isNode&&Ce.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function Axe(e){return Ce.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Oxe(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function zH(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&Ce.isArray(a)?a.length:i,c?(Ce.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!Ce.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&Ce.isArray(a[i])&&(a[i]=Oxe(a[i])),!l)}if(Ce.isFormData(e)&&Ce.isFunction(e.entries)){const r={};return Ce.forEachEntry(e,(n,a)=>{t(Axe(n),a,r,0)}),r}return null}function Pxe(e,t,r){if(Ce.isString(e))try{return(t||JSON.parse)(e),Ce.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Ax={transitional:VH,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Ce.isObject(t);if(s&&Ce.isHTMLForm(t)&&(t=new FormData(t)),Ce.isFormData(t))return a?JSON.stringify(zH(t)):t;if(Ce.isArrayBuffer(t)||Ce.isBuffer(t)||Ce.isStream(t)||Ce.isFile(t)||Ce.isBlob(t)||Ce.isReadableStream(t))return t;if(Ce.isArrayBufferView(t))return t.buffer;if(Ce.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Txe(t,this.formSerializer).toString();if((l=Ce.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return eS(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Pxe(t)):t}],transformResponse:[function(t){const r=this.transitional||Ax.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Ce.isResponse(t)||Ce.isReadableStream(t))return t;if(t&&Ce.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Vt.from(l,Vt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ca.classes.FormData,Blob:Ca.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],e=>{Ax.headers[e]={}});const Dxe=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rxe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&Dxe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},jM=Symbol("internals");function m0(e){return e&&String(e).trim().toLowerCase()}function A1(e){return e===!1||e==null?e:Ce.isArray(e)?e.map(A1):String(e)}function Ixe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Mxe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Sk(e,t,r,n,a){if(Ce.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Ce.isString(t)){if(Ce.isString(n))return t.indexOf(n)!==-1;if(Ce.isRegExp(n))return n.test(t)}}function Fxe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Lxe(e,t){const r=Ce.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}class Ts{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=m0(c);if(!d)throw new Error("header name must be a non-empty string");const f=Ce.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=A1(l))}const i=(l,c)=>Ce.forEach(l,(u,d)=>s(u,d,c));if(Ce.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(Ce.isString(t)&&(t=t.trim())&&!Mxe(t))i(Rxe(t),r);else if(Ce.isObject(t)&&Ce.isIterable(t)){let l={},c,u;for(const d of t){if(!Ce.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Ce.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=m0(t),t){const n=Ce.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Ixe(a);if(Ce.isFunction(r))return r.call(this,a,n);if(Ce.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=m0(t),t){const n=Ce.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Sk(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=m0(i),i){const l=Ce.findKey(n,i);l&&(!r||Sk(n,n[l],l,r))&&(delete n[l],a=!0)}}return Ce.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||Sk(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return Ce.forEach(this,(a,s)=>{const i=Ce.findKey(n,s);if(i){r[i]=A1(a),delete r[s];return}const l=t?Fxe(s):String(s).trim();l!==s&&delete r[s],r[l]=A1(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ce.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Ce.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[jM]=this[jM]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=m0(i);n[l]||(Lxe(a,i),n[l]=!0)}return Ce.isArray(t)?t.forEach(s):s(t),this}}Ts.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ce.reduceDescriptors(Ts.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ce.freezeMethods(Ts);function jk(e,t){const r=this||Ax,n=t||r,a=Ts.from(n.headers);let s=n.data;return Ce.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function WH(e){return!!(e&&e.__CANCEL__)}function Mp(e,t,r){Vt.call(this,e??"canceled",Vt.ERR_CANCELED,t,r),this.name="CanceledError"}Ce.inherits(Mp,Vt,{__CANCEL__:!0});function HH(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Vt("Request failed with status code "+r.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function $xe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Bxe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function Uxe(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Pw=(e,t,r=3)=>{let n=0;const a=Bxe(50,250);return Uxe(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},kM=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},NM=e=>(...t)=>Ce.asap(()=>e(...t)),Vxe=Ca.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ca.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ca.origin),Ca.navigator&&/(msie|trident)/i.test(Ca.navigator.userAgent)):()=>!0,zxe=Ca.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Ce.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Ce.isString(n)&&l.push(`path=${n}`),Ce.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),Ce.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Wxe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Hxe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qH(e,t,r){let n=!Wxe(t);return e&&(n||r==!1)?Hxe(e,t):t}const EM=e=>e instanceof Ts?{...e}:e;function hf(e,t){t=t||{};const r={};function n(u,d,f,h){return Ce.isPlainObject(u)&&Ce.isPlainObject(d)?Ce.merge.call({caseless:h},u,d):Ce.isPlainObject(d)?Ce.merge({},d):Ce.isArray(d)?d.slice():d}function a(u,d,f,h){if(Ce.isUndefined(d)){if(!Ce.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!Ce.isUndefined(d))return n(void 0,d)}function i(u,d){if(Ce.isUndefined(d)){if(!Ce.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(EM(u),EM(d),f,!0)};return Ce.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);Ce.isUndefined(h)&&f!==l||(r[d]=h)}),r}const KH=e=>{const t=hf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=Ts.from(i),t.url=UH(qH(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ce.isFormData(r)){if(Ca.hasStandardBrowserEnv||Ca.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Ce.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Ca.hasStandardBrowserEnv&&(n&&Ce.isFunction(n)&&(n=n(t)),n||n!==!1&&Vxe(t.url))){const c=a&&s&&zxe.read(s);c&&i.set(a,c)}return t},qxe=typeof XMLHttpRequest<"u",Kxe=qxe&&function(e){return new Promise(function(r,n){const a=KH(e);let s=a.data;const i=Ts.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,g;function p(){m&&m(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const b=Ts.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};HH(function(j){r(j),p()},function(j){n(j),p()},S),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new Vt("Request aborted",Vt.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const S=_&&_.message?_.message:"Network Error",k=new Vt(S,Vt.ERR_NETWORK,e,v);k.event=_||null,n(k),v=null},v.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||VH;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new Vt(_,S.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,e,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&Ce.forEach(i.toJSON(),function(_,S){v.setRequestHeader(S,_)}),Ce.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,g]=Pw(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=Pw(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=b=>{v&&(n(!b||b.type?new Mp(null,e,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=$xe(a.url);if(w&&Ca.protocols.indexOf(w)===-1){n(new Vt("Unsupported protocol "+w+":",Vt.ERR_BAD_REQUEST,e));return}v.send(s||null)})},Gxe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Vt?d:new Mp(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new Vt(`timeout ${t} of ms exceeded`,Vt.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Ce.asap(l),c}},Yxe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Xxe=async function*(e,t){for await(const r of Jxe(e))yield*Yxe(r,t)},Jxe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},CM=(e,t,r,n)=>{const a=Xxe(e,t);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},TM=64*1024,{isFunction:My}=Ce,Qxe=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ce.global),{ReadableStream:AM,TextEncoder:OM}=Ce.global,PM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Zxe=e=>{e=Ce.merge.call({skipUndefined:!0},Qxe,e);const{fetch:t,Request:r,Response:n}=e,a=t?My(t):typeof fetch=="function",s=My(r),i=My(n);if(!a)return!1;const l=a&&My(AM),c=a&&(typeof OM=="function"?(g=>p=>g.encode(p))(new OM):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=s&&l&&PM(()=>{let g=!1;const p=new r(Ca.origin,{body:new AM,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),d=i&&l&&PM(()=>Ce.isReadableStream(new n("").body)),f={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(p,v)=>{let y=p&&p[g];if(y)return y.call(p);throw new Vt(`Response type '${g}' is not supported`,Vt.ERR_NOT_SUPPORT,v)})});const h=async g=>{if(g==null)return 0;if(Ce.isBlob(g))return g.size;if(Ce.isSpecCompliantForm(g))return(await new r(Ca.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(g)||Ce.isArrayBuffer(g))return g.byteLength;if(Ce.isURLSearchParams(g)&&(g=g+""),Ce.isString(g))return(await c(g)).byteLength},m=async(g,p)=>{const v=Ce.toFiniteNumber(g.getContentLength());return v??h(p)};return async g=>{let{url:p,method:v,data:y,signal:w,cancelToken:b,timeout:_,onDownloadProgress:S,onUploadProgress:k,responseType:j,headers:E,withCredentials:N="same-origin",fetchOptions:A}=KH(g),D=t||fetch;j=j?(j+"").toLowerCase():"text";let T=Gxe([w,b&&b.toAbortSignal()],_),U=null;const q=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let M;try{if(k&&u&&v!=="get"&&v!=="head"&&(M=await m(E,y))!==0){let Z=new r(p,{method:"POST",body:y,duplex:"half"}),C;if(Ce.isFormData(y)&&(C=Z.headers.get("content-type"))&&E.setContentType(C),Z.body){const[K,B]=kM(M,Pw(NM(k)));y=CM(Z.body,TM,K,B)}}Ce.isString(N)||(N=N?"include":"omit");const I=s&&"credentials"in r.prototype,V={...A,signal:T,method:v.toUpperCase(),headers:E.normalize().toJSON(),body:y,duplex:"half",credentials:I?N:void 0};U=s&&new r(p,V);let F=await(s?D(U,A):D(p,V));const R=d&&(j==="stream"||j==="response");if(d&&(S||R&&q)){const Z={};["status","statusText","headers"].forEach(z=>{Z[z]=F[z]});const C=Ce.toFiniteNumber(F.headers.get("content-length")),[K,B]=S&&kM(C,Pw(NM(S),!0))||[];F=new n(CM(F.body,TM,K,()=>{B&&B(),q&&q()}),Z)}j=j||"text";let re=await f[Ce.findKey(f,j)||"text"](F,g);return!R&&q&&q(),await new Promise((Z,C)=>{HH(Z,C,{data:re,headers:Ts.from(F.headers),status:F.status,statusText:F.statusText,config:g,request:U})})}catch(I){throw q&&q(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,g,U),{cause:I.cause||I}):Vt.from(I,I&&I.code,g,U)}}},eye=new Map,GH=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,l=i,c,u,d=eye;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Zxe(t)),d=u;return u};GH();const LO={http:vxe,xhr:Kxe,fetch:{get:GH}};Ce.forEach(LO,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const DM=e=>`- ${e}`,tye=e=>Ce.isFunction(e)||e===null||e===!1;function rye(e,t){e=Ce.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!tye(n)&&(a=LO[(l=String(n)).toLowerCase()],a===void 0))throw new Vt(`Unknown adapter '${l}'`);if(a&&(Ce.isFunction(a)||(a=a.get(t))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(DM).join(`
`):" "+DM(i[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const YH={getAdapter:rye,adapters:LO};function kk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mp(null,e)}function RM(e){return kk(e),e.headers=Ts.from(e.headers),e.data=jk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),YH.getAdapter(e.adapter||Ax.adapter,e)(e).then(function(n){return kk(e),n.data=jk.call(e,e.transformResponse,n),n.headers=Ts.from(n.headers),n},function(n){return WH(n)||(kk(e),n&&n.response&&(n.response.data=jk.call(e,e.transformResponse,n.response),n.response.headers=Ts.from(n.response.headers))),Promise.reject(n)})}const XH="1.13.2",tS={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tS[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const IM={};tS.transitional=function(t,r,n){function a(s,i){return"[Axios v"+XH+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new Vt(a(i," has been removed"+(r?" in "+r:"")),Vt.ERR_DEPRECATED);return r&&!IM[i]&&(IM[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};tS.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function nye(e,t,r){if(typeof e!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const l=e[s],c=l===void 0||i(l,s,e);if(c!==!0)throw new Vt("option "+s+" must be "+c,Vt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Vt("Unknown option "+s,Vt.ERR_BAD_OPTION)}}const O1={assertOptions:nye,validators:tS},Uo=O1.validators;class qd{constructor(t){this.defaults=t||{},this.interceptors={request:new SM,response:new SM}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=hf(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&O1.assertOptions(n,{silentJSONParsing:Uo.transitional(Uo.boolean),forcedJSONParsing:Uo.transitional(Uo.boolean),clarifyTimeoutError:Uo.transitional(Uo.boolean)},!1),a!=null&&(Ce.isFunction(a)?r.paramsSerializer={serialize:a}:O1.assertOptions(a,{encode:Uo.function,serialize:Uo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),O1.assertOptions(r,{baseUrl:Uo.spelling("baseURL"),withXsrfToken:Uo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&Ce.merge(s.common,s[r.method]);s&&Ce.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=Ts.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!c){const g=[RM.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let m=r;for(;f<h;){const g=l[f++],p=l[f++];try{m=g(m)}catch(v){p.call(this,v);break}}try{d=RM.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=hf(this.defaults,t);const r=qH(t.baseURL,t.url,t.allowAbsoluteUrls);return UH(r,t.params,t.paramsSerializer)}}Ce.forEach(["delete","get","head","options"],function(t){qd.prototype[t]=function(r,n){return this.request(hf(n||{},{method:t,url:r,data:(n||{}).data}))}});Ce.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(hf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}qd.prototype[t]=r(),qd.prototype[t+"Form"]=r(!0)});class $O{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new Mp(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new $O(function(a){t=a}),cancel:t}}}function aye(e){return function(r){return e.apply(null,r)}}function sye(e){return Ce.isObject(e)&&e.isAxiosError===!0}const gE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(gE).forEach(([e,t])=>{gE[t]=e});function JH(e){const t=new qd(e),r=TH(qd.prototype.request,t);return Ce.extend(r,qd.prototype,t,{allOwnKeys:!0}),Ce.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return JH(hf(e,a))},r}const qr=JH(Ax);qr.Axios=qd;qr.CanceledError=Mp;qr.CancelToken=$O;qr.isCancel=WH;qr.VERSION=XH;qr.toFormData=eS;qr.AxiosError=Vt;qr.Cancel=qr.CanceledError;qr.all=function(t){return Promise.all(t)};qr.spread=aye;qr.isAxiosError=sye;qr.mergeConfig=hf;qr.AxiosHeaders=Ts;qr.formToJSON=e=>zH(Ce.isHTMLForm(e)?new FormData(e):e);qr.getAdapter=YH.getAdapter;qr.HttpStatusCode=gE;qr.default=qr;const p0="https://app.chatwoot.com",Vo="pMLFqLKix7PAnMnWJDorh2ne",zo="144075",Fy={async getConversations(e="open",t=1){var r;try{const a=(await qr.get(`${p0}/api/v1/accounts/${zo}/conversations`,{headers:{api_access_token:Vo},params:{status:e,page:t}})).data;return(r=a==null?void 0:a.data)!=null&&r.payload?a.data.payload:a!=null&&a.payload?a.payload:[]}catch(n){return console.error("[Chatwoot] Failed to fetch conversations:",n),[]}},async getMessages(e){try{return(await qr.get(`${p0}/api/v1/accounts/${zo}/conversations/${e}/messages`,{headers:{api_access_token:Vo}})).data.payload||[]}catch(t){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,t),[]}},async sendMessage(e,t,r=!1){try{return(await qr.post(`${p0}/api/v1/accounts/${zo}/conversations/${e}/messages`,{content:t,message_type:r?"private":"outgoing",private:r},{headers:{api_access_token:Vo}})).data}catch(n){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,n),n}},async toggleStatus(e,t){try{await qr.post(`${p0}/api/v1/accounts/${zo}/conversations/${e}/toggle_status`,{status:t},{headers:{api_access_token:Vo}})}catch(r){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,r),r}},async getInboxes(){try{return(await qr.get(`${p0}/api/v1/accounts/${zo}/inboxes`,{headers:{api_access_token:Vo}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function iye(){const{t:e}=Ht();Sr(),jl();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,i]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,g]=x.useState(""),[p,v]=x.useState("open"),y=x.useRef(null);x.useEffect(()=>{w(p);const E=setInterval(()=>{w(p,!0)},3e4);return()=>clearInterval(E)},[p]),x.useEffect(()=>{if(n){b(n.id);const E=setInterval(()=>b(n.id),1e4);return()=>clearInterval(E)}},[n]),x.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[s]);const w=async(E,N=!1)=>{N||c(!0);try{const A=await Fy.getConversations(E);r(A||[])}catch(A){console.error("Failed to load conversations:",A),N||console.error("User notification skipped for load error")}finally{N||c(!1)}},b=async E=>{s.length===0&&d(!0);try{const N=await Fy.getMessages(E);i(N)}catch(N){console.error("Failed to load messages",N)}finally{d(!1)}},_=async()=>{if(!(!m.trim()||!n)){h(!0);try{const E=await Fy.sendMessage(n.id,m);E&&(i(N=>[...N,E]),g(""))}catch(E){console.error("Failed to send message",E)}finally{h(!1)}}},S=async E=>{try{const N=p==="open"?"resolved":"open";await Fy.toggleStatus(E,N),p!=="all"?(r(A=>A.filter(D=>D.id!==E)),(n==null?void 0:n.id)===E&&(a(null),i([]))):(r(A=>A.map(D=>D.id===E?{...D,status:N}:D)),w(p))}catch(N){console.error("Failed to toggle status",N)}},k=E=>E!=null&&E.includes("email")?o.jsx(lh,{className:"h-4 w-4"}):E!=null&&E.includes("whatsapp")?o.jsx(Gh,{className:"h-4 w-4"}):o.jsx(Pu,{className:"h-4 w-4"}),j=E=>new Date(E*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return o.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:Ur()?"rtl":"ltr",children:[o.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[o.jsxs("div",{className:"p-4 border-b space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),o.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>w(p),disabled:l,children:o.jsx(IN,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]}),o.jsx(xl,{defaultValue:"open",onValueChange:E=>v(E),className:"w-full",children:o.jsxs(Ro,{className:"grid w-full grid-cols-3",children:[o.jsx(Zr,{value:"open",children:e("status.open")}),o.jsx(Zr,{value:"resolved",children:e("status.closed")}),o.jsx(Zr,{value:"all",children:e("common.all")})]})}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),o.jsx(aa,{className:"flex-1",children:t.length===0&&!l?o.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):o.jsx("div",{className:"divide-y",children:t.map(E=>o.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(n==null?void 0:n.id)===E.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>a(E),children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Os,{className:"h-8 w-8",children:[o.jsx(To,{src:E.meta.sender.thumbnail}),o.jsx(Ps,{children:E.meta.sender.name.charAt(0)})]}),o.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:E.meta.sender.name})]}),o.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:j(E.timestamp)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[k(E.meta.channel),o.jsx("span",{className:"capitalize",children:E.meta.channel.split(".")[1]||"Web"}),E.status==="resolved"&&o.jsx(mt,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),o.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:E.messages&&E.messages.length>0?E.messages[E.messages.length-1].content:e("common.noMessages")||"No messages"})]},E.id))})})]}),o.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Os,{children:[o.jsx(To,{src:n.meta.sender.thumbnail}),o.jsx(Ps,{children:n.meta.sender.name.charAt(0)})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:n.meta.sender.name}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.meta.sender.email&&o.jsx("span",{children:n.meta.sender.email}),n.meta.sender.phone_number&&o.jsxs("span",{children:[" ",n.meta.sender.phone_number]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ce,{variant:n.status==="resolved"?"outline":"default",size:"sm",onClick:()=>S(n.id),children:n.status==="resolved"?o.jsxs(o.Fragment,{children:[o.jsx(IN,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):o.jsxs(o.Fragment,{children:[o.jsx(aI,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),o.jsxs(JA,{children:[o.jsx(QA,{asChild:!0,children:o.jsx(ce,{variant:"ghost",size:"icon",children:o.jsx(KU,{className:"h-4 w-4"})})}),o.jsxs(L_,{align:"end",children:[o.jsx(ql,{children:e("chats.viewContactDetails")}),o.jsx(ql,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),o.jsx("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:u?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):s.map(E=>{const N=E.message_type==="outgoing"||E.sender&&E.sender.type==="user",A=E.private;return o.jsx("div",{className:`flex w-full ${N?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${A?"bg-yellow-50 border border-yellow-200":N?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[A&&o.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[o.jsx(Bie,{className:"h-3 w-3"})," ",e("chats.note")]}),o.jsx("div",{className:"text-sm whitespace-pre-wrap",children:E.content}),o.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${N?"text-primary-foreground/70":"text-muted-foreground"}`,children:[j(E.created_at),N&&o.jsx(aI,{className:"h-3 w-3"})]})]})},E.id)})}),o.jsxs("div",{className:"p-4 border-t bg-background",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ze,{placeholder:e("chats.typeMessage"),value:m,onChange:E=>g(E.target.value),onKeyDown:E=>E.key==="Enter"&&!E.shiftKey&&_(),disabled:f||n.status==="resolved",className:"flex-1"}),o.jsx(ce,{onClick:_,disabled:f||!m.trim()||n.status==="resolved",children:f?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):o.jsx(ox,{className:"h-4 w-4"})})]}),n.status==="resolved"&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:o.jsx(Pu,{className:"h-8 w-8 text-muted-foreground/50"})}),o.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),o.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function oye(){const{user:e}=Sr(),{t}=Ht(),[r,n]=x.useState([]),[a,s]=x.useState(null),[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(""),[h,m]=x.useState(!0),[g,p]=x.useState(!1),[v,y]=x.useState(null),[w,b]=x.useState(null),[_,S]=x.useState(!1),[k,j]=x.useState(!0),E=x.useRef(!1),N=x.useRef(null),A=x.useRef(null);x.useEffect(()=>{e&&!E.current&&D()},[e]),x.useEffect(()=>{a&&(A.current!==a.room_id&&U(),N.current!==a.room_id&&T())},[a]),x.useEffect(()=>{a&&(async()=>{try{await $t.realtime.setAuth(await Tw.getFreshJwt());const V=`room:${a.room_id}:messages`,F=$t.channel(V,{config:{broadcast:{self:!0,ack:!0},private:!0}});return F.on("broadcast",{event:"*"},R=>{var Z;const re=(Z=R.payload)==null?void 0:Z.record;re&&re.message_id&&l(C=>C.some(B=>B.message_id===re.message_id)?C:[...C.filter(B=>!(B.message_id.startsWith("temp-")&&B.userid===re.userid&&B.content===re.content)),re])}),await F.subscribe(),()=>{F.unsubscribe()}}catch(V){console.error("Failed to setup realtime:",V)}})()},[a]),x.useEffect(()=>{p(!1),y(null),b(null),E.current=!1,N.current=null,A.current=null},[e]);const D=async()=>{if(!E.current)try{m(!0);const I=await Si.getUserRooms((e==null?void 0:e.id)||"");n(I),I.length>0&&s(I[0]),p(!0),E.current=!0}catch(I){console.error("Failed to load rooms:",I)}finally{m(!1)}},T=async()=>{if(!(!a||N.current===a.room_id))try{const I=await Dh.getByRoom(a.room_id);l(I),y(a.room_id),N.current=a.room_id}catch(I){console.error("Failed to load messages:",I)}},U=async()=>{if(!(!a||A.current===a.room_id))try{const I=await Si.getRoomMembers(a.room_id);u(I),b(a.room_id),A.current=a.room_id}catch(I){console.error("Failed to load room members:",I)}},q=async()=>{if(!d.trim()||!a||!e)return;const I=d.trim(),V={message_id:`temp-${Date.now()}`,room_id:a.room_id,userid:e.id.toString(),content:I,created_at:new Date().toISOString(),metadata:null};l(F=>[...F,V]),f("");try{await Dh.create({room_id:a.room_id,userid:e.id.toString(),content:I,metadata:null})}catch(F){console.error("Failed to send message:",F),l(R=>R.filter(re=>re.message_id!==V.message_id)),f(I)}},M=I=>new Date(I).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[o.jsxs("div",{className:`flex-col border rounded-lg ${k?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[o.jsx("div",{className:"p-4 border-b",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),o.jsx(aa,{className:"flex-1 p-4",children:o.jsx("div",{className:"space-y-2",children:r.map(I=>o.jsx(pt,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(I),children:o.jsx(jt,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wy,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),o.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},I.room_id))})})]}),a&&o.jsx("div",{className:"md:hidden mb-4",children:o.jsxs(gl,{open:_,onOpenChange:S,children:[o.jsx(Hz,{asChild:!0,children:o.jsxs(ce,{variant:"outline",className:"w-full justify-between",children:[o.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),o.jsx(wy,{className:"h-4 w-4 ml-2"})]})}),o.jsx(Po,{side:"left",className:"w-80 p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),o.jsx(aa,{className:"h-[60vh]",children:o.jsx("div",{className:"space-y-2",children:r.map(I=>o.jsx(pt,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(I),S(!1)},children:o.jsx(jt,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wy,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),o.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},I.room_id))})})]})})]})}),o.jsx("div",{className:"flex-1 flex flex-col",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Aa,{className:"h-4 w-4"}),o.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&o.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),o.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>j(!k),children:o.jsx(loe,{className:"h-4 w-4"})})]}),o.jsx(aa,{className:"flex-1 mb-4",children:o.jsx("div",{className:"space-y-4 p-4",children:w===a.room_id&&i.map(I=>{var F,R,re,Z,C;let V;return I.userid===((F=e==null?void 0:e.id)==null?void 0:F.toString())?V={userid:e.id.toString(),user_name:((R=e.profile)==null?void 0:R.user_name)||e.email||t("chats.you"),avatar:(re=e.profile)==null?void 0:re.avatar,user_id:((Z=e.profile)==null?void 0:Z.user_id)||0,user_email:e.email}:V=c.find(K=>K.userid===I.userid),V||(V={userid:I.userid,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Os,{className:"h-8 w-8",children:[o.jsx(To,{src:V.avatar||""}),o.jsx(Ps,{children:((C=V.user_name)==null?void 0:C.charAt(0))||"?"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium text-sm",children:V.user_name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:M(I.created_at)})]}),o.jsx("p",{className:"text-sm",children:I.content})]})]},I.message_id)})})}),o.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[o.jsx(ze,{value:d,onChange:I=>f(I.target.value),placeholder:t("chats.typeMessage"),onKeyPress:I=>I.key==="Enter"&&q(),className:"flex-1"}),o.jsx(ce,{onClick:q,disabled:!d.trim(),children:o.jsx(ox,{className:"h-4 w-4"})})]})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(wy,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function lye(){const{isRTL:e}=mi();La();const[t,r]=x.useState(null),[n,a]=x.useState([]),[s,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),{user:f,signOut:h}=Sr();x.useEffect(()=>{(async()=>{if(f!=null&&f.id)try{d(!0);const p=await Vc.getByUserAuthId(f.id);a(p)}catch(p){console.error("Failed to fetch user projects:",p)}finally{d(!1)}})()},[f==null?void 0:f.id]),x.useEffect(()=>{(async()=>{if(t)try{const[p,v]=await Promise.all([Xl.getAll(),dE.getByTask(0)]),y=p.filter(w=>!0);i(y),c(v)}catch(p){console.error("Failed to fetch project data:",p)}})()},[t]);const m=t?n.find(g=>g.project_id===t):null;return o.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[o.jsx("header",{className:"border-b bg-card",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),o.jsxs(ce,{variant:"ghost",size:"sm",children:[o.jsx(aoe,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),o.jsxs("div",{className:"container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Te((f==null?void 0:f.profile)||{},"user_name"),"! "]}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),m?o.jsxs("div",{children:[o.jsx(ce,{variant:"ghost",className:"mb-4",onClick:()=>r(null),children:" Back to Projects"}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(pt,{children:[o.jsx(fr,{children:o.jsx(Jr,{children:m.project_name})}),o.jsxs(jt,{children:[o.jsx("p",{className:"text-muted-foreground",children:m.project_description||"No description available"}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ff,{value:m.progress||0,className:"h-3"}),o.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[m.progress||0,"% Complete"]})]})]})]}),o.jsxs(xl,{defaultValue:"tasks",children:[o.jsxs(Ro,{children:[o.jsx(Zr,{value:"tasks",children:"Tasks"}),o.jsx(Zr,{value:"images",children:"Gallery"}),o.jsx(Zr,{value:"comments",children:"Comments"})]}),o.jsx(En,{value:"tasks",className:"space-y-3",children:s.filter(g=>g.stage_id!==null).map(g=>{var p;return o.jsx(pt,{children:o.jsx(jt,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:g.task_name}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.description||"No description"})]}),o.jsxs(mt,{variant:g.task_status==="completed"?"default":"secondary",children:[g.task_status==="completed"?"":""," ",((p=g.task_status)==null?void 0:p.replace("_"," "))||"pending"]})]})})},g.task_id)})}),o.jsx(En,{value:"images",children:o.jsx(pt,{children:o.jsx(jt,{className:"pt-6",children:o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(g=>o.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})},g))})})})}),o.jsx(En,{value:"comments",children:o.jsx(pt,{children:o.jsxs(jt,{className:"pt-6 space-y-4",children:[l.map(g=>o.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),o.jsx("p",{className:"text-sm mt-1",children:g.message||"No message"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:g.created_date?new Date(g.created_date).toLocaleString():"Unknown date"})]})]},g.comment_id)),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx(ze,{placeholder:"Add a comment..."}),o.jsx(ce,{children:o.jsx(Pu,{className:"h-4 w-4"})})]})]})})})]})]}),o.jsx("div",{children:o.jsxs(pt,{children:[o.jsx(fr,{children:o.jsx(Jr,{className:"text-lg",children:"Timeline"})}),o.jsxs(jt,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"})]}),m.end_date&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"End Date"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.end_date).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Project Kickoff"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Design Phase"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-blue-500",children:""}),o.jsx("span",{children:"Development Phase"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):u?o.jsxs("div",{className:"flex justify-center items-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),o.jsx("span",{className:"sr-only",children:"Loading projects..."})]}):n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),o.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>o.jsxs(pt,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(g.project_id),children:[o.jsxs(fr,{children:[o.jsx(Jr,{className:"text-lg",children:g.project_name}),o.jsxs(mt,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",g.stage||"N/A"]})]}),o.jsx(jt,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Progress"}),o.jsxs("span",{className:"font-semibold",children:[g.progress||0,"%"]})]}),o.jsx(ff,{value:g.progress||0,className:"h-2"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",g.created_date?new Date(g.created_date).toLocaleDateString():"N/A"]}),o.jsx(ce,{className:"w-full",variant:"outline",children:"View Details "})]})})]},g.project_id))})]})]})}const cye=()=>{const e=Bs(),{t}=Ht(),{toast:r}=jl(),{companyName:n}=WU();x.useEffect(()=>{(function(s,i){var l="https://app.chatwoot.com",c=s.createElement(i),u=s.getElementsByTagName(i)[0];c.src=l+"/packs/js/sdk.js",c.async=!0,u.parentNode.insertBefore(c,u),c.onload=function(){window.chatwootSDK.run({websiteToken:"D1EYnSkXCLjxUF5gyk1q3PHG",baseUrl:l})}})(document,"script")},[]);const a=[{icon:o.jsx(Hd,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:o.jsx(Aa,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:o.jsx(qie,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:o.jsx(Pu,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:o.jsx(ag,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:o.jsx(dw,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[o.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(n==null?void 0:n.charAt(0))||"M"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:n})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(q7,{}),o.jsx(ce,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),o.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsxs(mt,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[o.jsx(JU,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),o.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),o.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[o.jsxs(ce,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),o.jsx(Vie,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(ce,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),o.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:a.map((s,i)=>o.jsx(pt,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:o.jsxs(jt,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:s.icon}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title})]}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description})]})},i))})]})}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[o.jsx(pt,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:o.jsxs(jt,{className:"p-8 sm:p-12 text-center",children:[o.jsx(goe,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),o.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),o.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),o.jsxs(ce,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[t("landing.cta.button"),o.jsx(fw,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),o.jsx(pt,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:o.jsxs(jt,{className:"p-8 sm:p-12",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("landing.partner.title")}),o.jsx("p",{className:"text-gray-600",children:t("landing.partner.subtitle")})]}),o.jsxs("form",{className:"space-y-4",onSubmit:async s=>{s.preventDefault();const i=s.target,l=new FormData(i);try{await C1.createApplication({company_name:l.get("company_name"),full_name:l.get("full_name"),email:l.get("email"),phone:l.get("phone")}),r({title:t("landing.partner.success"),description:t("landing.partner.successMessage")}),i.reset()}catch{r({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[o.jsx("div",{className:"space-y-2",children:o.jsx(ze,{name:"company_name",placeholder:t("landing.partner.companyName"),required:!0,className:"bg-white"})}),o.jsx("div",{className:"space-y-2",children:o.jsx(ze,{name:"full_name",placeholder:t("landing.partner.fullName"),required:!0,className:"bg-white"})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(ze,{name:"email",type:"email",placeholder:t("landing.partner.email"),required:!0,className:"bg-white"}),o.jsx(ze,{name:"phone",type:"tel",placeholder:t("landing.partner.phone"),required:!0,className:"bg-white"})]}),o.jsx(ce,{type:"submit",className:"w-full text-lg h-12",children:t("landing.partner.submit")})]})]})})]})})}),o.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(n==null?void 0:n.charAt(0))||"M"})}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[n," CRM"]})]}),o.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},uye=()=>{const[e,t]=x.useState("loading"),[r,n]=x.useState("Processing authentication..."),a=Bs(),{user:s}=Sr();return x.useEffect(()=>{let i;return(async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] Waiting for OAuth session to establish...");let c=0;const u=20,d=async()=>{c++,console.log(`[AuthCallback] Checking session and profile (attempt ${c}/${u})`);try{const{data:{user:f},error:h}=await $t.auth.getUser();if(h&&console.error("[AuthCallback] User error:",h),f){console.log("[AuthCallback] Found authenticated user:",f.id);const{data:p}=await $t.from("Users").select("userid").eq("userid",f.id).maybeSingle();if(p){console.log("[AuthCallback] User profile exists, fetching user data...");const v=await Tw.getCurrentUser(f.id);if(v){localStorage.removeItem("oauth_intended_role"),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{v.role==="client"?a("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}const{data:{session:m},error:g}=await $t.auth.getSession();if(g&&console.error("[AuthCallback] Session error:",g),m!=null&&m.user){console.log("[AuthCallback] Found session user:",m.user.id);const{data:p}=await $t.from("Users").select("userid").eq("userid",m.user.id).maybeSingle();if(p){console.log("[AuthCallback] User profile exists, fetching user data...");const v=await Tw.getCurrentUser(m.user.id);if(v){localStorage.removeItem("oauth_intended_role"),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{v.role==="client"?a("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}c<u?(console.log("[AuthCallback] No session or profile found, waiting and retrying..."),i=setTimeout(d,1e3)):(console.error("[AuthCallback] No session or profile found after maximum attempts"),t("error"),n("Authentication session not established. Please try signing in again."),setTimeout(()=>a("/login"),3e3))}catch(f){console.error("[AuthCallback] Error checking session and profile:",f),c<u?i=setTimeout(d,1e3):(t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3))}};d()}catch(c){console.error("[AuthCallback] Error handling callback:",c),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{i&&clearTimeout(i)}},[s,a]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),o.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),o.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),o.jsx("p",{className:"text-gray-600",children:r})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var QH=1252,dye=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],BO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},UO=function(e){dye.indexOf(e)!=-1&&(QH=BO[0]=e)};function fye(){UO(1252)}var yo=function(e){UO(e)};function ZH(){yo(1200),fye()}function MM(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function hye(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function eq(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var L0=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?hye(e.slice(2)):t==254&&r==255?eq(e.slice(2)):t==65279?e.slice(1):e},Ly=function(t){return String.fromCharCode(t)},FM=function(t){return String.fromCharCode(t)},Xc,uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function LM(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=uu.charAt(s)+uu.charAt(i)+uu.charAt(l)+uu.charAt(c);return t}function ui(e){var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=uu.indexOf(e.charAt(u++)),i=uu.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),l=uu.indexOf(e.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=uu.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Qt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Pf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Mu(e){return Qt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function $M(e){return Qt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var po=function(t){return Qt?Pf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Df(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function VO(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return VO(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Jc=Qt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Pf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function mye(e){for(var t=[],r=0,n=e.length+250,a=Mu(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|l>>6&15|(i&3)<<4,a[r++]=128|l&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Mu(65535),n=65530)}return t.push(a.slice(0,r)),Jc(t)}var os=/\u0000/g,$0=/[\u0001-\u0006]/g;function em(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function wo(e,t){var r=""+e;return r.length>=t?r:ln("0",t-r.length)+r}function zO(e,t){var r=""+e;return r.length>=t?r:ln(" ",t-r.length)+r}function Dw(e,t){var r=""+e;return r.length>=t?r:r+ln(" ",t-r.length)}function pye(e,t){var r=""+Math.round(e);return r.length>=t?r:ln("0",t-r.length)+r}function gye(e,t){var r=""+e;return r.length>=t?r:ln("0",t-r.length)+r}var BM=Math.pow(2,32);function rh(e,t){if(e>BM||e<-BM)return pye(e,t);var r=Math.round(e);return gye(r,t)}function Rw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var UM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Nk=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function vye(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ut={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},VM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},xye={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Iw(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*i+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=i)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Cd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=jye(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var tq=new Date(1899,11,31,0,0,0),yye=tq.getTime(),wye=new Date(1900,2,1,0,0,0);function rq(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=wye&&(r+=24*60*60*1e3),(r-(yye+(e.getTimezoneOffset()-tq.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function WO(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bye(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function _ye(e){var t=e<0?12:11,r=WO(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Sye(e){var t=WO(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function nv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=_ye(e):t===10?r=e.toFixed(10).substr(0,12):r=Sye(e),WO(bye(r.toUpperCase()))}function mf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):nv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ui(14,rq(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function jye(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function kye(e,t,r,n){var a="",s=0,i=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Nk[r.m-1][1];case 5:return Nk[r.m-1][0];default:return Nk[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return UM[r.q][0];default:return UM[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?wo(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=wo(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?wo(c,u):"";return d}function du(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var nq=/%/g;function Nye(e,t,r){var n=t.replace(nq,""),a=t.length-n.length;return rc(e,n,r*Math.pow(10,2*a))+ln("%",a)}function Eye(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return rc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function aq(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+aq(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var sq=/# (\?+)( ?)\/( ?)(\d+)/;function Cye(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(i===0?ln(" ",e[1].length+1+e[4].length):zO(i,e[1].length)+e[2]+"/"+e[3]+wo(l,e[4].length))}function Tye(e,t,r){return r+(t===0?"":""+t)+ln(" ",e[1].length+2+e[4].length)}var iq=/^#*0*\.([0#]+)/,oq=/\).*[0#]/,lq=/\(###\) ###\\?-####/;function Xa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function zM(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function WM(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Aye(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Oye(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function _i(e,t,r){if(e.charCodeAt(0)===40&&!t.match(oq)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_i("n",n,r):"("+_i("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Eye(e,t,r);if(t.indexOf("%")!==-1)return Nye(e,t,r);if(t.indexOf("E")!==-1)return aq(t,r);if(t.charCodeAt(0)===36)return"$"+_i(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+rh(c,t.length);if(t.match(/^[#?]+$/))return a=rh(r,0),a==="0"&&(a=""),a.length>t.length?a:Xa(t.substr(0,t.length-a.length))+a;if(s=t.match(sq))return Cye(s,c,u);if(t.match(/^#+0+$/))return u+rh(c,t.length-t.indexOf("0"));if(s=t.match(iq))return a=zM(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Xa(s[1])).replace(/\.$/,"."+Xa(s[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+ln("0",Xa(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+zM(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+du(rh(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_i(e,t,-r):du(""+(Math.floor(r)+Aye(r,s[1].length)))+"."+wo(WM(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return _i(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=em(_i(e,t.replace(/[\\-]/g,""),r)),i=0,em(em(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(lq))return a=_i(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=Iw(c,Math.pow(10,i)-1,!1),a=""+u,d=rc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Dw(l[2],i),d.length<s[4].length&&(d=Xa(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=Iw(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zO(l[1],i)+s[2]+"/"+s[3]+Dw(l[2],i):ln(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=rh(r,0),t.length<=a.length?a:Xa(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Xa(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=WM(r,s[1].length),r<0?"-"+_i(e,t,-r):du(Oye(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?wo(0,3-g.length):"")+g})+"."+wo(i,s[1].length);switch(t){case"###,##0.00":return _i(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=du(rh(c,0));return m!=="0"?u+m:"";case"###,###.00":return _i(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return _i(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Pye(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return rc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Dye(e,t,r){var n=t.replace(nq,""),a=t.length-n.length;return rc(e,n,r*Math.pow(10,2*a))+ln("%",a)}function cq(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+cq(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ho(e,t,r){if(e.charCodeAt(0)===40&&!t.match(oq)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ho("n",n,r):"("+Ho("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Pye(e,t,r);if(t.indexOf("%")!==-1)return Dye(e,t,r);if(t.indexOf("E")!==-1)return cq(t,r);if(t.charCodeAt(0)===36)return"$"+Ho(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+wo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Xa(t.substr(0,t.length-a.length))+a;if(s=t.match(sq))return Tye(s,c,u);if(t.match(/^#+0+$/))return u+wo(c,t.length-t.indexOf("0"));if(s=t.match(iq))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Xa(s[1])).replace(/\.$/,"."+Xa(s[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+ln("0",Xa(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+du(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ho(e,t,-r):du(""+r)+"."+ln("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Ho(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=em(Ho(e,t.replace(/[\\-]/g,""),r)),i=0,em(em(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(lq))return a=Ho(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=Iw(c,Math.pow(10,i)-1,!1),a=""+u,d=rc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Dw(l[2],i),d.length<s[4].length&&(d=Xa(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=Iw(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zO(l[1],i)+s[2]+"/"+s[3]+Dw(l[2],i):ln(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Xa(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Xa(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ho(e,t,-r):du(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?wo(0,3-g.length):"")+g})+"."+wo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=du(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Ho(e,t.slice(0,t.lastIndexOf(".")),r)+Xa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function rc(e,t,r){return(r|0)===r?Ho(e,t,r):_i(e,t,r)}function Rye(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var uq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Fp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Rw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(uq))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Iye(e,t,r,n){for(var a=[],s="",i=0,l="",c="t",u,d,f,h="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!Rw(e,i))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=e.charAt(++i),g=m==="("||m===")"?m:"t";a[a.length]={t:g,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=Cd(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Cd(t,r),u==null))return"";for(s=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(u==null&&(u=Cd(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",i+=5,h="h"):(p.t="t",++i),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(s=l;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(uq)){if(u==null&&(u=Cd(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Fp(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++i<e.length&&(l=e.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++i;break}var v=0,y=0,w;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,c="h",v<1&&(v=1);break;case"s":(w=a[i].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[i].v.match(/[Hh]/)&&(v=1),v<2&&a[i].v.match(/[Mm]/)&&(v=2),v<3&&a[i].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=kye(a[i].t.charCodeAt(0),a[i].v,u,y),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;b+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=mf(t,r);break}var S="",k,j;if(b.length>0){b.charCodeAt(0)==40?(k=t<0&&b.charCodeAt(0)===45?-t:t,j=rc("n",b,k)):(k=t<0&&n>1?-t:t,j=rc("n",b,k),k<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),_=j.length-1;var E=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){E=i;break}var N=a.length;if(E===a.length&&j.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=j.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=j.substr(0,_+1),_=-1),a[i].t="t",N=i);_>=0&&N<a.length&&(a[N].v=j.substr(0,_+1)+a[N].v)}else if(E!==a.length&&j.indexOf("E")===-1){for(_=j.indexOf(".")-1,i=E;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===E?a[i].v.indexOf(".")-1:a[i].v.length-1,S=a[i].v.substr(d+1);d>=0;--d)_>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(S=j.charAt(_--)+S);a[i].v=S,a[i].t="t",N=i}for(_>=0&&N<a.length&&(a[N].v=j.substr(0,_+1)+a[N].v),_=j.indexOf(".")+1,i=E;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==E)){for(d=a[i].v.indexOf(".")>-1&&i===E?a[i].v.indexOf(".")+1:0,S=a[i].v.substr(0,d);d<a[i].v.length;++d)_<j.length&&(S+=j.charAt(_++));a[i].v=S,a[i].t="t",N=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(k=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=rc(a[i].t,a[i].v,k),a[i].t="t");var A="";for(i=0;i!==a.length;++i)a[i]!=null&&(A+=a[i].v);return A}var HM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function qM(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Mye(e,t){var r=Rye(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(HM),l=r[1].match(HM);return qM(t,i)?[n,r[0]]:qM(t,l)?[n,r[1]]:[n,r[i!=null&&l!=null?2:1]]}return[n,s]}function Ui(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ut)[e],n==null&&(n=r.table&&r.table[VM[e]]||Ut[VM[e]]),n==null&&(n=xye[e]||"General");break}if(Rw(n,0))return mf(t,r);t instanceof Date&&(t=rq(t,r.date1904));var a=Mye(n,t);if(Rw(a[1]))return mf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Iye(a[1],t,r,a[0])}function Kd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ut[r]==null){t<0&&(t=r);continue}if(Ut[r]==e){t=r;break}}t<0&&(t=391)}return Ut[t]=e,t}function dq(){Ut=vye()}var Fye={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},fq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Lye(e){var t=typeof e=="number"?Ut[e]:e;return t=t.replace(fq,"(\\d+)"),new RegExp("^"+t+"$")}function $ye(e,t,r){var n=-1,a=-1,s=-1,i=-1,l=-1,c=-1;(t.match(fq)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var Bye=function(){var e={};e.version="1.2.0";function t(){for(var j=0,E=new Array(256),N=0;N!=256;++N)j=N,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,E[N]=j;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function n(j){var E=0,N=0,A=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)D[A]=j[A];for(A=0;A!=256;++A)for(N=j[A],E=256+A;E<4096;E+=256)N=D[E]=N>>>8^j[N&255];var T=[];for(A=1;A!=16;++A)T[A-1]=typeof Int32Array<"u"?D.subarray(A*256,A*256+256):D.slice(A*256,A*256+256);return T}var a=n(r),s=a[0],i=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],g=a[9],p=a[10],v=a[11],y=a[12],w=a[13],b=a[14];function _(j,E){for(var N=E^-1,A=0,D=j.length;A<D;)N=N>>>8^r[(N^j.charCodeAt(A++))&255];return~N}function S(j,E){for(var N=E^-1,A=j.length-15,D=0;D<A;)N=b[j[D++]^N&255]^w[j[D++]^N>>8&255]^y[j[D++]^N>>16&255]^v[j[D++]^N>>>24]^p[j[D++]]^g[j[D++]]^m[j[D++]]^h[j[D++]]^f[j[D++]]^d[j[D++]]^u[j[D++]]^c[j[D++]]^l[j[D++]]^i[j[D++]]^s[j[D++]]^r[j[D++]];for(A+=15;D<A;)N=N>>>8^r[(N^j[D++])&255];return~N}function k(j,E){for(var N=E^-1,A=0,D=j.length,T=0,U=0;A<D;)T=j.charCodeAt(A++),T<128?N=N>>>8^r[(N^T)&255]:T<2048?(N=N>>>8^r[(N^(192|T>>6&31))&255],N=N>>>8^r[(N^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,U=j.charCodeAt(A++)&1023,N=N>>>8^r[(N^(240|T>>8&7))&255],N=N>>>8^r[(N^(128|T>>2&63))&255],N=N>>>8^r[(N^(128|U>>6&15|(T&3)<<4))&255],N=N>>>8^r[(N^(128|U&63))&255]):(N=N>>>8^r[(N^(224|T>>12&15))&255],N=N>>>8^r[(N^(128|T>>6&63))&255],N=N>>>8^r[(N^(128|T&63))&255]);return~N}return e.table=r,e.bstr=_,e.buf=S,e.str=k,e}(),er=function(){var t={};t.version="1.2.1";function r(W,te){for(var J=W.split("/"),P=te.split("/"),H=0,Y=0,ge=Math.min(J.length,P.length);H<ge;++H){if(Y=J[H].length-P[H].length)return Y;if(J[H]!=P[H])return J[H]<P[H]?-1:1}return J.length-P.length}function n(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:n(W.slice(0,-1));var te=W.lastIndexOf("/");return te===-1?W:W.slice(0,te+1)}function a(W){if(W.charAt(W.length-1)=="/")return a(W.slice(0,-1));var te=W.lastIndexOf("/");return te===-1?W:W.slice(te+1)}function s(W,te){typeof te=="string"&&(te=new Date(te));var J=te.getHours();J=J<<6|te.getMinutes(),J=J<<5|te.getSeconds()>>>1,W.write_shift(2,J);var P=te.getFullYear()-1980;P=P<<4|te.getMonth()+1,P=P<<5|te.getDate(),W.write_shift(2,P)}function i(W){var te=W.read_shift(2)&65535,J=W.read_shift(2)&65535,P=new Date,H=J&31;J>>>=5;var Y=J&15;J>>>=4,P.setMilliseconds(0),P.setFullYear(J+1980),P.setMonth(Y-1),P.setDate(H);var ge=te&31;te>>>=5;var Ee=te&63;return te>>>=6,P.setHours(te),P.setMinutes(Ee),P.setSeconds(ge<<1),P}function l(W){ra(W,0);for(var te={},J=0;W.l<=W.length-4;){var P=W.read_shift(2),H=W.read_shift(2),Y=W.l+H,ge={};switch(P){case 21589:J=W.read_shift(1),J&1&&(ge.mtime=W.read_shift(4)),H>5&&(J&2&&(ge.atime=W.read_shift(4)),J&4&&(ge.ctime=W.read_shift(4))),ge.mtime&&(ge.mt=new Date(ge.mtime*1e3));break}W.l=Y,te[P]=ge}return te}var c;function u(){return c||(c={})}function d(W,te){if(W[0]==80&&W[1]==75)return An(W,te);if((W[0]|32)==109&&(W[1]|32)==105)return qt(W,te);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var J=3,P=512,H=0,Y=0,ge=0,Ee=0,ye=0,be=[],Ne=W.slice(0,512);ra(Ne,0);var Ue=f(Ne);switch(J=Ue[0],J){case 3:P=512;break;case 4:P=4096;break;case 0:if(Ue[1]==0)return An(W,te);default:throw new Error("Major Version: Expected 3 or 4 saw "+J)}P!==512&&(Ne=W.slice(0,P),ra(Ne,28));var Je=W.slice(0,P);h(Ne,J);var at=Ne.read_shift(4,"i");if(J===3&&at!==0)throw new Error("# Directory Sectors: Expected 0 saw "+at);Ne.l+=4,ge=Ne.read_shift(4,"i"),Ne.l+=4,Ne.chk("00100000","Mini Stream Cutoff Size: "),Ee=Ne.read_shift(4,"i"),H=Ne.read_shift(4,"i"),ye=Ne.read_shift(4,"i"),Y=Ne.read_shift(4,"i");for(var Ke=-1,rt=0;rt<109&&(Ke=Ne.read_shift(4,"i"),!(Ke<0));++rt)be[rt]=Ke;var Pt=m(W,P);v(ye,Y,Pt,P,be);var Nr=w(Pt,ge,be,P);Nr[ge].name="!Directory",H>0&&Ee!==U&&(Nr[Ee].name="!MiniFAT"),Nr[be[0]].name="!FAT",Nr.fat_addrs=be,Nr.ssz=P;var Er={},Pn=[],Tc=[],Lo=[];b(ge,Nr,Pt,Pn,H,Er,Tc,Ee),g(Tc,Lo,Pn),Pn.shift();var Ac={FileIndex:Tc,FullPaths:Lo};return te&&te.raw&&(Ac.raw={header:Je,sectors:Pt}),Ac}function f(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(q,"Header Signature: "),W.l+=16;var te=W.read_shift(2,"u");return[W.read_shift(2,"u"),te]}function h(W,te){var J=9;switch(W.l+=2,J=W.read_shift(2)){case 9:if(te!=3)throw new Error("Sector Shift: Expected 9 saw "+J);break;case 12:if(te!=4)throw new Error("Sector Shift: Expected 12 saw "+J);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+J)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function m(W,te){for(var J=Math.ceil(W.length/te)-1,P=[],H=1;H<J;++H)P[H-1]=W.slice(H*te,(H+1)*te);return P[J-1]=W.slice(J*te),P}function g(W,te,J){for(var P=0,H=0,Y=0,ge=0,Ee=0,ye=J.length,be=[],Ne=[];P<ye;++P)be[P]=Ne[P]=P,te[P]=J[P];for(;Ee<Ne.length;++Ee)P=Ne[Ee],H=W[P].L,Y=W[P].R,ge=W[P].C,be[P]===P&&(H!==-1&&be[H]!==H&&(be[P]=be[H]),Y!==-1&&be[Y]!==Y&&(be[P]=be[Y])),ge!==-1&&(be[ge]=P),H!==-1&&P!=be[P]&&(be[H]=be[P],Ne.lastIndexOf(H)<Ee&&Ne.push(H)),Y!==-1&&P!=be[P]&&(be[Y]=be[P],Ne.lastIndexOf(Y)<Ee&&Ne.push(Y));for(P=1;P<ye;++P)be[P]===P&&(Y!==-1&&be[Y]!==Y?be[P]=be[Y]:H!==-1&&be[H]!==H&&(be[P]=be[H]));for(P=1;P<ye;++P)if(W[P].type!==0){if(Ee=P,Ee!=be[Ee])do Ee=be[Ee],te[P]=te[Ee]+"/"+te[P];while(Ee!==0&&be[Ee]!==-1&&Ee!=be[Ee]);be[P]=-1}for(te[0]+="/",P=1;P<ye;++P)W[P].type!==2&&(te[P]+="/")}function p(W,te,J){for(var P=W.start,H=W.size,Y=[],ge=P;J&&H>0&&ge>=0;)Y.push(te.slice(ge*T,ge*T+T)),H-=T,ge=yd(J,ge*4);return Y.length===0?Fn(0):Jc(Y).slice(0,W.size)}function v(W,te,J,P,H){var Y=U;if(W===U){if(te!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var ge=J[W],Ee=(P>>>2)-1;if(!ge)return;for(var ye=0;ye<Ee&&(Y=yd(ge,ye*4))!==U;++ye)H.push(Y);v(yd(ge,P-4),te-1,J,P,H)}}function y(W,te,J,P,H){var Y=[],ge=[];H||(H=[]);var Ee=P-1,ye=0,be=0;for(ye=te;ye>=0;){H[ye]=!0,Y[Y.length]=ye,ge.push(W[ye]);var Ne=J[Math.floor(ye*4/P)];if(be=ye*4&Ee,P<4+be)throw new Error("FAT boundary crossed: "+ye+" 4 "+P);if(!W[Ne])break;ye=yd(W[Ne],be)}return{nodes:Y,data:rF([ge])}}function w(W,te,J,P){var H=W.length,Y=[],ge=[],Ee=[],ye=[],be=P-1,Ne=0,Ue=0,Je=0,at=0;for(Ne=0;Ne<H;++Ne)if(Ee=[],Je=Ne+te,Je>=H&&(Je-=H),!ge[Je]){ye=[];var Ke=[];for(Ue=Je;Ue>=0;){Ke[Ue]=!0,ge[Ue]=!0,Ee[Ee.length]=Ue,ye.push(W[Ue]);var rt=J[Math.floor(Ue*4/P)];if(at=Ue*4&be,P<4+at)throw new Error("FAT boundary crossed: "+Ue+" 4 "+P);if(!W[rt]||(Ue=yd(W[rt],at),Ke[Ue]))break}Y[Je]={nodes:Ee,data:rF([ye])}}return Y}function b(W,te,J,P,H,Y,ge,Ee){for(var ye=0,be=P.length?2:0,Ne=te[W].data,Ue=0,Je=0,at;Ue<Ne.length;Ue+=128){var Ke=Ne.slice(Ue,Ue+128);ra(Ke,64),Je=Ke.read_shift(2),at=YO(Ke,0,Je-be),P.push(at);var rt={name:at,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},Pt=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);Pt!==0&&(rt.ct=_(Ke,Ke.l-8));var Nr=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);Nr!==0&&(rt.mt=_(Ke,Ke.l-8)),rt.start=Ke.read_shift(4,"i"),rt.size=Ke.read_shift(4,"i"),rt.size<0&&rt.start<0&&(rt.size=rt.type=0,rt.start=U,rt.name=""),rt.type===5?(ye=rt.start,H>0&&ye!==U&&(te[ye].name="!StreamData")):rt.size>=4096?(rt.storage="fat",te[rt.start]===void 0&&(te[rt.start]=y(J,rt.start,te.fat_addrs,te.ssz)),te[rt.start].name=rt.name,rt.content=te[rt.start].data.slice(0,rt.size)):(rt.storage="minifat",rt.size<0?rt.size=0:ye!==U&&rt.start!==U&&te[ye]&&(rt.content=p(rt,te[ye].data,(te[Ee]||{}).data))),rt.content&&ra(rt.content,0),Y[at]=rt,ge.push(rt)}}function _(W,te){return new Date((Js(W,te+4)/1e7*Math.pow(2,32)+Js(W,te)/1e7-11644473600)*1e3)}function S(W,te){return u(),d(c.readFileSync(W),te)}function k(W,te){var J=te&&te.type;switch(J||Qt&&Buffer.isBuffer(W)&&(J="buffer"),J||"base64"){case"file":return S(W,te);case"base64":return d(po(ui(W)),te);case"binary":return d(po(W),te)}return d(W,te)}function j(W,te){var J=te||{},P=J.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=P+"/",W.FileIndex[0]={name:P,type:5}),J.CLSID&&(W.FileIndex[0].clsid=J.CLSID),E(W)}function E(W){var te="Sh33tJ5";if(!er.find(W,"/"+te)){var J=Fn(4);J[0]=55,J[1]=J[3]=50,J[2]=54,W.FileIndex.push({name:te,type:2,content:J,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+te),N(W)}}function N(W,te){j(W);for(var J=!1,P=!1,H=W.FullPaths.length-1;H>=0;--H){var Y=W.FileIndex[H];switch(Y.type){case 0:P?J=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:P=!0,isNaN(Y.R*Y.L*Y.C)&&(J=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(J=!0);break;default:J=!0;break}}if(!(!J&&!te)){var ge=new Date(1987,1,19),Ee=0,ye=Object.create?Object.create(null):{},be=[];for(H=0;H<W.FullPaths.length;++H)ye[W.FullPaths[H]]=!0,W.FileIndex[H].type!==0&&be.push([W.FullPaths[H],W.FileIndex[H]]);for(H=0;H<be.length;++H){var Ne=n(be[H][0]);P=ye[Ne],P||(be.push([Ne,{name:a(Ne).replace("/",""),type:1,clsid:I,ct:ge,mt:ge,content:null}]),ye[Ne]=!0)}for(be.sort(function(at,Ke){return r(at[0],Ke[0])}),W.FullPaths=[],W.FileIndex=[],H=0;H<be.length;++H)W.FullPaths[H]=be[H][0],W.FileIndex[H]=be[H][1];for(H=0;H<be.length;++H){var Ue=W.FileIndex[H],Je=W.FullPaths[H];if(Ue.name=a(Je).replace("/",""),Ue.L=Ue.R=Ue.C=-(Ue.color=1),Ue.size=Ue.content?Ue.content.length:0,Ue.start=0,Ue.clsid=Ue.clsid||I,H===0)Ue.C=be.length>1?1:-1,Ue.size=0,Ue.type=5;else if(Je.slice(-1)=="/"){for(Ee=H+1;Ee<be.length&&n(W.FullPaths[Ee])!=Je;++Ee);for(Ue.C=Ee>=be.length?-1:Ee,Ee=H+1;Ee<be.length&&n(W.FullPaths[Ee])!=n(Je);++Ee);Ue.R=Ee>=be.length?-1:Ee,Ue.type=1}else n(W.FullPaths[H+1]||"")==n(Je)&&(Ue.R=H+1),Ue.type=2}}}function A(W,te){var J=te||{};if(J.fileType=="mad")return jr(W,J);switch(N(W),J.fileType){case"zip":return hs(W,J)}var P=function(at){for(var Ke=0,rt=0,Pt=0;Pt<at.FileIndex.length;++Pt){var Nr=at.FileIndex[Pt];if(Nr.content){var Er=Nr.content.length;Er>0&&(Er<4096?Ke+=Er+63>>6:rt+=Er+511>>9)}}for(var Pn=at.FullPaths.length+3>>2,Tc=Ke+7>>3,Lo=Ke+127>>7,Ac=Tc+rt+Pn+Lo,$o=Ac+127>>7,e0=$o<=109?0:Math.ceil(($o-109)/127);Ac+$o+e0+127>>7>$o;)e0=++$o<=109?0:Math.ceil(($o-109)/127);var pi=[1,e0,$o,Lo,Pn,rt,Ke,0];return at.FileIndex[0].size=Ke<<6,pi[7]=(at.FileIndex[0].start=pi[0]+pi[1]+pi[2]+pi[3]+pi[4]+pi[5])+(pi[6]+7>>3),pi}(W),H=Fn(P[7]<<9),Y=0,ge=0;{for(Y=0;Y<8;++Y)H.write_shift(1,M[Y]);for(Y=0;Y<8;++Y)H.write_shift(2,0);for(H.write_shift(2,62),H.write_shift(2,3),H.write_shift(2,65534),H.write_shift(2,9),H.write_shift(2,6),Y=0;Y<3;++Y)H.write_shift(2,0);for(H.write_shift(4,0),H.write_shift(4,P[2]),H.write_shift(4,P[0]+P[1]+P[2]+P[3]-1),H.write_shift(4,0),H.write_shift(4,4096),H.write_shift(4,P[3]?P[0]+P[1]+P[2]-1:U),H.write_shift(4,P[3]),H.write_shift(-4,P[1]?P[0]-1:U),H.write_shift(4,P[1]),Y=0;Y<109;++Y)H.write_shift(-4,Y<P[2]?P[1]+Y:-1)}if(P[1])for(ge=0;ge<P[1];++ge){for(;Y<236+ge*127;++Y)H.write_shift(-4,Y<P[2]?P[1]+Y:-1);H.write_shift(-4,ge===P[1]-1?U:ge+1)}var Ee=function(at){for(ge+=at;Y<ge-1;++Y)H.write_shift(-4,Y+1);at&&(++Y,H.write_shift(-4,U))};for(ge=Y=0,ge+=P[1];Y<ge;++Y)H.write_shift(-4,V.DIFSECT);for(ge+=P[2];Y<ge;++Y)H.write_shift(-4,V.FATSECT);Ee(P[3]),Ee(P[4]);for(var ye=0,be=0,Ne=W.FileIndex[0];ye<W.FileIndex.length;++ye)Ne=W.FileIndex[ye],Ne.content&&(be=Ne.content.length,!(be<4096)&&(Ne.start=ge,Ee(be+511>>9)));for(Ee(P[6]+7>>3);H.l&511;)H.write_shift(-4,V.ENDOFCHAIN);for(ge=Y=0,ye=0;ye<W.FileIndex.length;++ye)Ne=W.FileIndex[ye],Ne.content&&(be=Ne.content.length,!(!be||be>=4096)&&(Ne.start=ge,Ee(be+63>>6)));for(;H.l&511;)H.write_shift(-4,V.ENDOFCHAIN);for(Y=0;Y<P[4]<<2;++Y){var Ue=W.FullPaths[Y];if(!Ue||Ue.length===0){for(ye=0;ye<17;++ye)H.write_shift(4,0);for(ye=0;ye<3;++ye)H.write_shift(4,-1);for(ye=0;ye<12;++ye)H.write_shift(4,0);continue}Ne=W.FileIndex[Y],Y===0&&(Ne.start=Ne.size?Ne.start-1:U);var Je=Y===0&&J.root||Ne.name;if(be=2*(Je.length+1),H.write_shift(64,Je,"utf16le"),H.write_shift(2,be),H.write_shift(1,Ne.type),H.write_shift(1,Ne.color),H.write_shift(-4,Ne.L),H.write_shift(-4,Ne.R),H.write_shift(-4,Ne.C),Ne.clsid)H.write_shift(16,Ne.clsid,"hex");else for(ye=0;ye<4;++ye)H.write_shift(4,0);H.write_shift(4,Ne.state||0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,Ne.start),H.write_shift(4,Ne.size),H.write_shift(4,0)}for(Y=1;Y<W.FileIndex.length;++Y)if(Ne=W.FileIndex[Y],Ne.size>=4096)if(H.l=Ne.start+1<<9,Qt&&Buffer.isBuffer(Ne.content))Ne.content.copy(H,H.l,0,Ne.size),H.l+=Ne.size+511&-512;else{for(ye=0;ye<Ne.size;++ye)H.write_shift(1,Ne.content[ye]);for(;ye&511;++ye)H.write_shift(1,0)}for(Y=1;Y<W.FileIndex.length;++Y)if(Ne=W.FileIndex[Y],Ne.size>0&&Ne.size<4096)if(Qt&&Buffer.isBuffer(Ne.content))Ne.content.copy(H,H.l,0,Ne.size),H.l+=Ne.size+63&-64;else{for(ye=0;ye<Ne.size;++ye)H.write_shift(1,Ne.content[ye]);for(;ye&63;++ye)H.write_shift(1,0)}if(Qt)H.l=H.length;else for(;H.l<H.length;)H.write_shift(1,0);return H}function D(W,te){var J=W.FullPaths.map(function(ye){return ye.toUpperCase()}),P=J.map(function(ye){var be=ye.split("/");return be[be.length-(ye.slice(-1)=="/"?2:1)]}),H=!1;te.charCodeAt(0)===47?(H=!0,te=J[0].slice(0,-1)+te):H=te.indexOf("/")!==-1;var Y=te.toUpperCase(),ge=H===!0?J.indexOf(Y):P.indexOf(Y);if(ge!==-1)return W.FileIndex[ge];var Ee=!Y.match($0);for(Y=Y.replace(os,""),Ee&&(Y=Y.replace($0,"!")),ge=0;ge<J.length;++ge)if((Ee?J[ge].replace($0,"!"):J[ge]).replace(os,"")==Y||(Ee?P[ge].replace($0,"!"):P[ge]).replace(os,"")==Y)return W.FileIndex[ge];return null}var T=64,U=-2,q="d0cf11e0a1b11ae1",M=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",V={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function F(W,te,J){u();var P=A(W,J);c.writeFileSync(te,P)}function R(W){for(var te=new Array(W.length),J=0;J<W.length;++J)te[J]=String.fromCharCode(W[J]);return te.join("")}function re(W,te){var J=A(W,te);switch(te&&te.type||"buffer"){case"file":return u(),c.writeFileSync(te.filename,J),J;case"binary":return typeof J=="string"?J:R(J);case"base64":return LM(typeof J=="string"?J:R(J));case"buffer":if(Qt)return Buffer.isBuffer(J)?J:Pf(J);case"array":return typeof J=="string"?po(J):J}return J}var Z;function C(W){try{var te=W.InflateRaw,J=new te;if(J._processChunk(new Uint8Array([3,0]),J._finishFlushFlag),J.bytesRead)Z=W;else throw new Error("zlib does not expose bytesRead")}catch(P){console.error("cannot use native zlib: "+(P.message||P))}}function K(W,te){if(!Z)return dr(W,te);var J=Z.InflateRaw,P=new J,H=P._processChunk(W.slice(W.l),P._finishFlushFlag);return W.l+=P.bytesRead,H}function B(W){return Z?Z.deflateRawSync(W):je(W)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(W){var te=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(te>>16|te>>8|te)&255}for(var ie=typeof Uint8Array<"u",X=ie?new Uint8Array(256):[],de=0;de<256;++de)X[de]=ue(de);function O(W,te){var J=X[W&255];return te<=8?J>>>8-te:(J=J<<8|X[W>>8&255],te<=16?J>>>16-te:(J=J<<8|X[W>>16&255],J>>>24-te))}function Fe(W,te){var J=te&7,P=te>>>3;return(W[P]|(J<=6?0:W[P+1]<<8))>>>J&3}function Re(W,te){var J=te&7,P=te>>>3;return(W[P]|(J<=5?0:W[P+1]<<8))>>>J&7}function Be(W,te){var J=te&7,P=te>>>3;return(W[P]|(J<=4?0:W[P+1]<<8))>>>J&15}function We(W,te){var J=te&7,P=te>>>3;return(W[P]|(J<=3?0:W[P+1]<<8))>>>J&31}function De(W,te){var J=te&7,P=te>>>3;return(W[P]|(J<=1?0:W[P+1]<<8))>>>J&127}function ft(W,te,J){var P=te&7,H=te>>>3,Y=(1<<J)-1,ge=W[H]>>>P;return J<8-P||(ge|=W[H+1]<<8-P,J<16-P)||(ge|=W[H+2]<<16-P,J<24-P)||(ge|=W[H+3]<<24-P),ge&Y}function gt(W,te,J){var P=te&7,H=te>>>3;return P<=5?W[H]|=(J&7)<<P:(W[H]|=J<<P&255,W[H+1]=(J&7)>>8-P),te+3}function se(W,te,J){var P=te&7,H=te>>>3;return J=(J&1)<<P,W[H]|=J,te+1}function ve(W,te,J){var P=te&7,H=te>>>3;return J<<=P,W[H]|=J&255,J>>>=8,W[H+1]=J,te+8}function Q(W,te,J){var P=te&7,H=te>>>3;return J<<=P,W[H]|=J&255,J>>>=8,W[H+1]=J&255,W[H+2]=J>>>8,te+16}function ee(W,te){var J=W.length,P=2*J>te?2*J:te+5,H=0;if(J>=te)return W;if(Qt){var Y=$M(P);if(W.copy)W.copy(Y);else for(;H<W.length;++H)Y[H]=W[H];return Y}else if(ie){var ge=new Uint8Array(P);if(ge.set)ge.set(W);else for(;H<J;++H)ge[H]=W[H];return ge}return W.length=P,W}function he(W){for(var te=new Array(W),J=0;J<W;++J)te[J]=0;return te}function me(W,te,J){var P=1,H=0,Y=0,ge=0,Ee=0,ye=W.length,be=ie?new Uint16Array(32):he(32);for(Y=0;Y<32;++Y)be[Y]=0;for(Y=ye;Y<J;++Y)W[Y]=0;ye=W.length;var Ne=ie?new Uint16Array(ye):he(ye);for(Y=0;Y<ye;++Y)be[H=W[Y]]++,P<H&&(P=H),Ne[Y]=0;for(be[0]=0,Y=1;Y<=P;++Y)be[Y+16]=Ee=Ee+be[Y-1]<<1;for(Y=0;Y<ye;++Y)Ee=W[Y],Ee!=0&&(Ne[Y]=be[Ee+16]++);var Ue=0;for(Y=0;Y<ye;++Y)if(Ue=W[Y],Ue!=0)for(Ee=O(Ne[Y],P)>>P-Ue,ge=(1<<P+4-Ue)-1;ge>=0;--ge)te[Ee|ge<<Ue]=Ue&15|Y<<4;return P}var $e=ie?new Uint16Array(512):he(512),we=ie?new Uint16Array(32):he(32);if(!ie){for(var _e=0;_e<512;++_e)$e[_e]=0;for(_e=0;_e<32;++_e)we[_e]=0}(function(){for(var W=[],te=0;te<32;te++)W.push(5);me(W,we,32);var J=[];for(te=0;te<=143;te++)J.push(8);for(;te<=255;te++)J.push(9);for(;te<=279;te++)J.push(7);for(;te<=287;te++)J.push(8);me(J,$e,288)})();var fe=function(){for(var te=ie?new Uint8Array(32768):[],J=0,P=0;J<oe.length-1;++J)for(;P<oe[J+1];++P)te[P]=J;for(;P<32768;++P)te[P]=29;var H=ie?new Uint8Array(259):[];for(J=0,P=0;J<ne.length-1;++J)for(;P<ne[J+1];++P)H[P]=J;function Y(Ee,ye){for(var be=0;be<Ee.length;){var Ne=Math.min(65535,Ee.length-be),Ue=be+Ne==Ee.length;for(ye.write_shift(1,+Ue),ye.write_shift(2,Ne),ye.write_shift(2,~Ne&65535);Ne-- >0;)ye[ye.l++]=Ee[be++]}return ye.l}function ge(Ee,ye){for(var be=0,Ne=0,Ue=ie?new Uint16Array(32768):[];Ne<Ee.length;){var Je=Math.min(65535,Ee.length-Ne);if(Je<10){for(be=gt(ye,be,+(Ne+Je==Ee.length)),be&7&&(be+=8-(be&7)),ye.l=be/8|0,ye.write_shift(2,Je),ye.write_shift(2,~Je&65535);Je-- >0;)ye[ye.l++]=Ee[Ne++];be=ye.l*8;continue}be=gt(ye,be,+(Ne+Je==Ee.length)+2);for(var at=0;Je-- >0;){var Ke=Ee[Ne];at=(at<<5^Ke)&32767;var rt=-1,Pt=0;if((rt=Ue[at])&&(rt|=Ne&-32768,rt>Ne&&(rt-=32768),rt<Ne))for(;Ee[rt+Pt]==Ee[Ne+Pt]&&Pt<250;)++Pt;if(Pt>2){Ke=H[Pt],Ke<=22?be=ve(ye,be,X[Ke+1]>>1)-1:(ve(ye,be,3),be+=5,ve(ye,be,X[Ke-23]>>5),be+=3);var Nr=Ke<8?0:Ke-4>>2;Nr>0&&(Q(ye,be,Pt-ne[Ke]),be+=Nr),Ke=te[Ne-rt],be=ve(ye,be,X[Ke]>>3),be-=3;var Er=Ke<4?0:Ke-2>>1;Er>0&&(Q(ye,be,Ne-rt-oe[Ke]),be+=Er);for(var Pn=0;Pn<Pt;++Pn)Ue[at]=Ne&32767,at=(at<<5^Ee[Ne])&32767,++Ne;Je-=Pt-1}else Ke<=143?Ke=Ke+48:be=se(ye,be,1),be=ve(ye,be,X[Ke]),Ue[at]=Ne&32767,++Ne}be=ve(ye,be,0)-1}return ye.l=(be+7)/8|0,ye.l}return function(ye,be){return ye.length<8?Y(ye,be):ge(ye,be)}}();function je(W){var te=Fn(50+Math.floor(W.length*1.1)),J=fe(W,te);return te.slice(0,J)}var Le=ie?new Uint16Array(32768):he(32768),Ie=ie?new Uint16Array(32768):he(32768),Ve=ie?new Uint16Array(128):he(128),vt=1,Zt=1;function hr(W,te){var J=We(W,te)+257;te+=5;var P=We(W,te)+1;te+=5;var H=Be(W,te)+4;te+=4;for(var Y=0,ge=ie?new Uint8Array(19):he(19),Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ye=1,be=ie?new Uint8Array(8):he(8),Ne=ie?new Uint8Array(8):he(8),Ue=ge.length,Je=0;Je<H;++Je)ge[z[Je]]=Y=Re(W,te),ye<Y&&(ye=Y),be[Y]++,te+=3;var at=0;for(be[0]=0,Je=1;Je<=ye;++Je)Ne[Je]=at=at+be[Je-1]<<1;for(Je=0;Je<Ue;++Je)(at=ge[Je])!=0&&(Ee[Je]=Ne[at]++);var Ke=0;for(Je=0;Je<Ue;++Je)if(Ke=ge[Je],Ke!=0){at=X[Ee[Je]]>>8-Ke;for(var rt=(1<<7-Ke)-1;rt>=0;--rt)Ve[at|rt<<Ke]=Ke&7|Je<<3}var Pt=[];for(ye=1;Pt.length<J+P;)switch(at=Ve[De(W,te)],te+=at&7,at>>>=3){case 16:for(Y=3+Fe(W,te),te+=2,at=Pt[Pt.length-1];Y-- >0;)Pt.push(at);break;case 17:for(Y=3+Re(W,te),te+=3;Y-- >0;)Pt.push(0);break;case 18:for(Y=11+De(W,te),te+=7;Y-- >0;)Pt.push(0);break;default:Pt.push(at),ye<at&&(ye=at);break}var Nr=Pt.slice(0,J),Er=Pt.slice(J);for(Je=J;Je<286;++Je)Nr[Je]=0;for(Je=P;Je<30;++Je)Er[Je]=0;return vt=me(Nr,Le,286),Zt=me(Er,Ie,30),te}function or(W,te){if(W[0]==3&&!(W[1]&3))return[Mu(te),2];for(var J=0,P=0,H=$M(te||1<<18),Y=0,ge=H.length>>>0,Ee=0,ye=0;!(P&1);){if(P=Re(W,J),J+=3,P>>>1)P>>1==1?(Ee=9,ye=5):(J=hr(W,J),Ee=vt,ye=Zt);else{J&7&&(J+=8-(J&7));var be=W[J>>>3]|W[(J>>>3)+1]<<8;if(J+=32,be>0)for(!te&&ge<Y+be&&(H=ee(H,Y+be),ge=H.length);be-- >0;)H[Y++]=W[J>>>3],J+=8;continue}for(;;){!te&&ge<Y+32767&&(H=ee(H,Y+32767),ge=H.length);var Ne=ft(W,J,Ee),Ue=P>>>1==1?$e[Ne]:Le[Ne];if(J+=Ue&15,Ue>>>=4,!(Ue>>>8&255))H[Y++]=Ue;else{if(Ue==256)break;Ue-=257;var Je=Ue<8?0:Ue-4>>2;Je>5&&(Je=0);var at=Y+ne[Ue];Je>0&&(at+=ft(W,J,Je),J+=Je),Ne=ft(W,J,ye),Ue=P>>>1==1?we[Ne]:Ie[Ne],J+=Ue&15,Ue>>>=4;var Ke=Ue<4?0:Ue-2>>1,rt=oe[Ue];for(Ke>0&&(rt+=ft(W,J,Ke),J+=Ke),!te&&ge<at&&(H=ee(H,at+100),ge=H.length);Y<at;)H[Y]=H[Y-rt],++Y}}}return te?[H,J+7>>>3]:[H.slice(0,Y),J+7>>>3]}function dr(W,te){var J=W.slice(W.l||0),P=or(J,te);return W.l+=P[1],P[0]}function Ba(W,te){if(W)typeof console<"u"&&console.error(te);else throw new Error(te)}function An(W,te){var J=W;ra(J,0);var P=[],H=[],Y={FileIndex:P,FullPaths:H};j(Y,{root:te.root});for(var ge=J.length-4;(J[ge]!=80||J[ge+1]!=75||J[ge+2]!=5||J[ge+3]!=6)&&ge>=0;)--ge;J.l=ge+4,J.l+=4;var Ee=J.read_shift(2);J.l+=6;var ye=J.read_shift(4);for(J.l=ye,ge=0;ge<Ee;++ge){J.l+=20;var be=J.read_shift(4),Ne=J.read_shift(4),Ue=J.read_shift(2),Je=J.read_shift(2),at=J.read_shift(2);J.l+=8;var Ke=J.read_shift(4),rt=l(J.slice(J.l+Ue,J.l+Ue+Je));J.l+=Ue+Je+at;var Pt=J.l;J.l=Ke+4,Vr(J,be,Ne,Y,rt),J.l=Pt}return Y}function Vr(W,te,J,P,H){W.l+=2;var Y=W.read_shift(2),ge=W.read_shift(2),Ee=i(W);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var ye=W.read_shift(4),be=W.read_shift(4),Ne=W.read_shift(4),Ue=W.read_shift(2),Je=W.read_shift(2),at="",Ke=0;Ke<Ue;++Ke)at+=String.fromCharCode(W[W.l++]);if(Je){var rt=l(W.slice(W.l,W.l+Je));(rt[21589]||{}).mt&&(Ee=rt[21589].mt),((H||{})[21589]||{}).mt&&(Ee=H[21589].mt)}W.l+=Je;var Pt=W.slice(W.l,W.l+be);switch(ge){case 8:Pt=K(W,Ne);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ge)}var Nr=!1;Y&8&&(ye=W.read_shift(4),ye==134695760&&(ye=W.read_shift(4),Nr=!0),be=W.read_shift(4),Ne=W.read_shift(4)),be!=te&&Ba(Nr,"Bad compressed size: "+te+" != "+be),Ne!=J&&Ba(Nr,"Bad uncompressed size: "+J+" != "+Ne),Va(P,at,Pt,{unsafe:!0,mt:Ee})}function hs(W,te){var J=te||{},P=[],H=[],Y=Fn(1),ge=J.compression?8:0,Ee=0,ye=0,be=0,Ne=0,Ue=0,Je=W.FullPaths[0],at=Je,Ke=W.FileIndex[0],rt=[],Pt=0;for(ye=1;ye<W.FullPaths.length;++ye)if(at=W.FullPaths[ye].slice(Je.length),Ke=W.FileIndex[ye],!(!Ke.size||!Ke.content||at=="Sh33tJ5")){var Nr=Ne,Er=Fn(at.length);for(be=0;be<at.length;++be)Er.write_shift(1,at.charCodeAt(be)&127);Er=Er.slice(0,Er.l),rt[Ue]=Bye.buf(Ke.content,0);var Pn=Ke.content;ge==8&&(Pn=B(Pn)),Y=Fn(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Ee),Y.write_shift(2,ge),Ke.mt?s(Y,Ke.mt):Y.write_shift(4,0),Y.write_shift(-4,rt[Ue]),Y.write_shift(4,Pn.length),Y.write_shift(4,Ke.content.length),Y.write_shift(2,Er.length),Y.write_shift(2,0),Ne+=Y.length,P.push(Y),Ne+=Er.length,P.push(Er),Ne+=Pn.length,P.push(Pn),Y=Fn(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Ee),Y.write_shift(2,ge),Y.write_shift(4,0),Y.write_shift(-4,rt[Ue]),Y.write_shift(4,Pn.length),Y.write_shift(4,Ke.content.length),Y.write_shift(2,Er.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,Nr),Pt+=Y.l,H.push(Y),Pt+=Er.length,H.push(Er),++Ue}return Y=Fn(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Ue),Y.write_shift(2,Ue),Y.write_shift(4,Pt),Y.write_shift(4,Ne),Y.write_shift(2,0),Jc([Jc(P),Jc(H),Y])}var le={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Se(W,te){if(W.ctype)return W.ctype;var J=W.name||"",P=J.match(/\.([^\.]+)$/);return P&&le[P[1]]||te&&(P=(J=te).match(/[\.\\]([^\.\\])+$/),P&&le[P[1]])?le[P[1]]:"application/octet-stream"}function Oe(W){for(var te=LM(W),J=[],P=0;P<te.length;P+=76)J.push(te.slice(P,P+76));return J.join(`\r
`)+`\r
`}function Me(W){var te=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var Ne=be.charCodeAt(0).toString(16).toUpperCase();return"="+(Ne.length==1?"0"+Ne:Ne)});te=te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),te.charAt(0)==`
`&&(te="=0D"+te.slice(1)),te=te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var J=[],P=te.split(`\r
`),H=0;H<P.length;++H){var Y=P[H];if(Y.length==0){J.push("");continue}for(var ge=0;ge<Y.length;){var Ee=76,ye=Y.slice(ge,ge+Ee);ye.charAt(Ee-1)=="="?Ee--:ye.charAt(Ee-2)=="="?Ee-=2:ye.charAt(Ee-3)=="="&&(Ee-=3),ye=Y.slice(ge,ge+Ee),ge+=Ee,ge<Y.length&&(ye+="="),J.push(ye)}}return J.join(`\r
`)}function et(W){for(var te=[],J=0;J<W.length;++J){for(var P=W[J];J<=W.length&&P.charAt(P.length-1)=="=";)P=P.slice(0,P.length-1)+W[++J];te.push(P)}for(var H=0;H<te.length;++H)te[H]=te[H].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return po(te.join(`\r
`))}function nt(W,te,J){for(var P="",H="",Y="",ge,Ee=0;Ee<10;++Ee){var ye=te[Ee];if(!ye||ye.match(/^\s*$/))break;var be=ye.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":P=be[2].trim();break;case"content-type":Y=be[2].trim();break;case"content-transfer-encoding":H=be[2].trim();break}}switch(++Ee,H.toLowerCase()){case"base64":ge=po(ui(te.slice(Ee).join("")));break;case"quoted-printable":ge=et(te.slice(Ee));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+H)}var Ne=Va(W,P.slice(J.length),ge,{unsafe:!0});Y&&(Ne.ctype=Y)}function qt(W,te){if(R(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var J=te&&te.root||"",P=(Qt&&Buffer.isBuffer(W)?W.toString("binary"):R(W)).split(`\r
`),H=0,Y="";for(H=0;H<P.length;++H)if(Y=P[H],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),J||(J=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,J.length)!=J))for(;J.length>0&&(J=J.slice(0,J.length-1),J=J.slice(0,J.lastIndexOf("/")+1),Y.slice(0,J.length)!=J););var ge=(P[1]||"").match(/boundary="(.*?)"/);if(!ge)throw new Error("MAD cannot find boundary");var Ee="--"+(ge[1]||""),ye=[],be=[],Ne={FileIndex:ye,FullPaths:be};j(Ne);var Ue,Je=0;for(H=0;H<P.length;++H){var at=P[H];at!==Ee&&at!==Ee+"--"||(Je++&&nt(Ne,P.slice(Ue,H),J),Ue=H)}return Ne}function jr(W,te){var J=te||{},P=J.boundary||"SheetJS";P="------="+P;for(var H=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+P.slice(2)+'"',"","",""],Y=W.FullPaths[0],ge=Y,Ee=W.FileIndex[0],ye=1;ye<W.FullPaths.length;++ye)if(ge=W.FullPaths[ye].slice(Y.length),Ee=W.FileIndex[ye],!(!Ee.size||!Ee.content||ge=="Sh33tJ5")){ge=ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Pt){return"_x"+Pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Pt){return"_u"+Pt.charCodeAt(0).toString(16)+"_"});for(var be=Ee.content,Ne=Qt&&Buffer.isBuffer(be)?be.toString("binary"):R(be),Ue=0,Je=Math.min(1024,Ne.length),at=0,Ke=0;Ke<=Je;++Ke)(at=Ne.charCodeAt(Ke))>=32&&at<128&&++Ue;var rt=Ue>=Je*4/5;H.push(P),H.push("Content-Location: "+(J.root||"file:///C:/SheetJS/")+ge),H.push("Content-Transfer-Encoding: "+(rt?"quoted-printable":"base64")),H.push("Content-Type: "+Se(Ee,ge)),H.push(""),H.push(rt?Me(Ne):Oe(Ne))}return H.push(P+`--\r
`),H.join(`\r
`)}function Ua(W){var te={};return j(te,W),te}function Va(W,te,J,P){var H=P&&P.unsafe;H||j(W);var Y=!H&&er.find(W,te);if(!Y){var ge=W.FullPaths[0];te.slice(0,ge.length)==ge?ge=te:(ge.slice(-1)!="/"&&(ge+="/"),ge=(ge+te).replace("//","/")),Y={name:a(te),type:2},W.FileIndex.push(Y),W.FullPaths.push(ge),H||er.utils.cfb_gc(W)}return Y.content=J,Y.size=J?J.length:0,P&&(P.CLSID&&(Y.clsid=P.CLSID),P.mt&&(Y.mt=P.mt),P.ct&&(Y.ct=P.ct)),Y}function On(W,te){j(W);var J=er.find(W,te);if(J){for(var P=0;P<W.FileIndex.length;++P)if(W.FileIndex[P]==J)return W.FileIndex.splice(P,1),W.FullPaths.splice(P,1),!0}return!1}function td(W,te,J){j(W);var P=er.find(W,te);if(P){for(var H=0;H<W.FileIndex.length;++H)if(W.FileIndex[H]==P)return W.FileIndex[H].name=a(J),W.FullPaths[H]=J,!0}return!1}function Gi(W){N(W,!0)}return t.find=D,t.read=k,t.parse=d,t.write=re,t.writeFile=F,t.utils={cfb_new:Ua,cfb_add:Va,cfb_del:On,cfb_mov:td,cfb_gc:Gi,ReadShift:lg,CheckField:Rq,prep_blob:ra,bconcat:Jc,use_zlib:C,_deflateRaw:je,_inflateRaw:dr,consts:V},t}();function Uye(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function yl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function HO(e){for(var t=[],r=yl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var Mw=new Date(1899,11,30,0,0,0);function ls(e,t){var r=e.getTime(),n=Mw.getTime()+(e.getTimezoneOffset()-Mw.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var hq=new Date,Vye=Mw.getTime()+(hq.getTimezoneOffset()-Mw.getTimezoneOffset())*6e4,KM=hq.getTimezoneOffset();function rS(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Vye),t.getTimezoneOffset()!==KM&&t.setTime(t.getTime()+(t.getTimezoneOffset()-KM)*6e4),t}function zye(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var GM=new Date("2017-02-19T19:06:09.000Z"),mq=isNaN(GM.getFullYear())?new Date("2/19/17"):GM,Wye=mq.getFullYear()==2017;function Jn(e,t){var r=new Date(e);if(Wye)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(mq.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function pf(e,t){if(Qt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return U0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return U0(eq(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return U0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return U0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ca(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ca(e[r]));return t}function ln(e,t){for(var r="";r.length<t;)r+=e;return r}function So(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var Hye=["january","february","march","april","may","june","july","august","september","october","november","december"];function Bm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&Hye.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var qye=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],l=1;l<s.length;++l)i.push(a),i.push(s[l]);return i}}();function pq(e){return e?e.content&&e.type?pf(e.content,!0):e.data?L0(e.data):e.asNodeBuffer&&Qt?L0(e.asNodeBuffer().toString("binary")):e.asBinary?L0(e.asBinary()):e._data&&e._data.getContent?L0(pf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function gq(e){if(!e)return null;if(e.data)return MM(e.data);if(e.asNodeBuffer&&Qt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?MM(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Kye(e){return e&&e.name.slice(-4)===".bin"?gq(e):pq(e)}function ji(e,t){for(var r=e.FullPaths||yl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function qO(e,t){var r=ji(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function bn(e,t,r){if(!r)return Kye(qO(e,t));if(!t)return null;try{return bn(e,t)}catch{return null}}function ti(e,t,r){if(!r)return pq(qO(e,t));if(!t)return null;try{return ti(e,t)}catch{return null}}function Gye(e,t,r){return gq(qO(e,t))}function YM(e){for(var t=e.FullPaths||yl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Yye(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Qt?n=Pf(r):n=mye(r),er.utils.cfb_add(e,t,n)}er.utils.cfb_add(e,t,r)}else e.file(t,r)}function vq(e,t){switch(t.type){case"base64":return er.read(e,{type:"base64"});case"binary":return er.read(e,{type:"binary"});case"buffer":case"array":return er.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function B0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var xq=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Xye=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,XM=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Jye=/<[^>]*>/g,$a=xq.match(XM)?XM:Jye,Qye=/<\w*:/,Zye=/<(\/?)\w+:/;function At(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(Xye),l=0,c="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function El(e){return e.replace(Zye,"<$1")}var yq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},e1e=HO(yq),sr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return yq[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),t1e=/[&<>'"]/g,r1e=/[\u0000-\u001f]/g;function KO(e){var t=e+"";return t.replace(t1e,function(r){return e1e[r]}).replace(/\n/g,"<br/>").replace(r1e,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var JM=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Wr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ek(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function QM(e){var t=Mu(2*e.length),r,n,a=1,s=0,i=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function ZM(e){return Pf(e,"binary").toString("utf8")}var $y="foo bar baz",Dr=Qt&&(ZM($y)==Ek($y)&&ZM||QM($y)==Ek($y)&&QM)||Ek,U0=Qt?function(e){return Pf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},av=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),wq=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),n1e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),a1e=/<\/?(?:vt:)?variant>/g,s1e=/<(?:vt:)([^>]*)>([\s\S]*)</;function eF(e,t){var r=At(e),n=e.match(n1e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(a1e,"").match(s1e);i&&a.push({v:Dr(i[2]),t:i[1]})}),a}var i1e=/(^\s|\s$|\n)/;function o1e(e){return yl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function l1e(e,t,r){return"<"+e+(r!=null?o1e(r):"")+(t!=null?(t.match(i1e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function GO(e){if(Qt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Dr(Df(VO(e)));throw new Error("Bad input format: expected Buffer or string")}var sv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,c1e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},u1e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function d1e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function f1e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var tF=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},rF=Qt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Pf(t)})):tF(e)}:tF,nF=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Jl(e,a)));return n.join("").replace(os,"")},YO=Qt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(os,""):nF(e,t,r)}:nF,aF=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},bq=Qt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):aF(e,t,r)}:aF,sF=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(fh(e,a)));return n.join("")},Ox=Qt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):sF(t,r,n)}:sF,_q=function(e,t){var r=Js(e,t);return r>0?Ox(e,t+4,t+4+r-1):""},Sq=_q,jq=function(e,t){var r=Js(e,t);return r>0?Ox(e,t+4,t+4+r-1):""},kq=jq,Nq=function(e,t){var r=2*Js(e,t);return r>0?Ox(e,t+4,t+4+r-1):""},Eq=Nq,Cq=function(t,r){var n=Js(t,r);return n>0?YO(t,r+4,r+4+n):""},Tq=Cq,Aq=function(e,t){var r=Js(e,t);return r>0?Ox(e,t+4,t+4+r):""},Oq=Aq,Pq=function(e,t){return d1e(e,t)},Fw=Pq,Dq=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Qt&&(Sq=function(t,r){if(!Buffer.isBuffer(t))return _q(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},kq=function(t,r){if(!Buffer.isBuffer(t))return jq(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Eq=function(t,r){if(!Buffer.isBuffer(t))return Nq(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Tq=function(t,r){if(!Buffer.isBuffer(t))return Cq(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Oq=function(t,r){if(!Buffer.isBuffer(t))return Aq(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Fw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Pq(t,r)},Dq=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var fh=function(e,t){return e[t]},Jl=function(e,t){return e[t+1]*256+e[t]},h1e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Js=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},yd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},m1e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function lg(e,t){var r="",n,a,s=[],i,l,c,u;switch(t){case"dbcs":if(u=this.l,Qt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Jl(this,u)),u+=2;e*=2;break;case"utf8":r=Ox(this,this.l,this.l+e);break;case"utf16le":e*=2,r=YO(this,this.l,this.l+e);break;case"wstr":return lg.call(this,e,"dbcs");case"lpstr-ansi":r=Sq(this,this.l),e=4+Js(this,this.l);break;case"lpstr-cp":r=kq(this,this.l),e=4+Js(this,this.l);break;case"lpwstr":r=Eq(this,this.l),e=4+2*Js(this,this.l);break;case"lpp4":e=4+Js(this,this.l),r=Tq(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Js(this,this.l),r=Oq(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=fh(this,this.l+e++))!==0;)s.push(Ly(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=Jl(this,this.l+e))!==0;)s.push(Ly(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=fh(this,u),this.l=u+1,l=lg.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Ly(Jl(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=fh(this,u),this.l=u+1,l=lg.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Ly(fh(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=fh(this,this.l),this.l++,n;case 2:return n=(t==="i"?h1e:Jl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?yd:m1e)(this,this.l),this.l+=4,n):(a=Js(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Fw(this,this.l):a=Fw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=bq(this,this.l,e);break}}return this.l+=e,r}var p1e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},g1e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},v1e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function x1e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)v1e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,p1e(this,t,this.l);break;case 8:if(n=8,r==="f"){f1e(this,t,this.l);break}case 16:break;case-4:n=4,g1e(this,t,this.l);break}return this.l+=n,this}function Rq(e,t){var r=bq(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ra(e,t){e.l=t,e.read_shift=lg,e.chk=Rq,e.write_shift=x1e}function Ma(e,t){e.l+=t}function Fn(e){var t=Mu(e);return ra(t,0),t}function kc(e,t,r){if(e){var n,a,s;ra(e,e.l||0);for(var i=e.length,l=0,c=0;e.l<i;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=zw[l]||zw[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function vE(){var e=[],t=Qt?256:2048,r=function(u){var d=Fn(u);return ra(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),Jc(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:i,_bufs:e}}function cg(e,t,r){var n=ca(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function iF(e,t,r){var n=ca(e);return n.s=cg(n.s,t.s,r),n.e=cg(n.e,t.s,r),n}function ug(e,t){if(e.cRel&&e.c<0)for(e=ca(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ca(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=It(e);return!e.cRel&&e.cRel!=null&&(r=b1e(r)),!e.rRel&&e.rRel!=null&&(r=y1e(r)),r}function Ck(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Un(e.s.c)+":"+(e.e.cRel?"":"$")+Un(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ua(e.s.r)+":"+(e.e.rRel?"":"$")+ua(e.e.r):ug(e.s,t.biff)+":"+ug(e.e,t.biff)}function XO(e){return parseInt(w1e(e),10)-1}function ua(e){return""+(e+1)}function y1e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function w1e(e){return e.replace(/\$(\d+)$/,"$1")}function JO(e){for(var t=_1e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Un(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function b1e(e){return e.replace(/^([A-Z])/,"$$$1")}function _1e(e){return e.replace(/^\$([A-Z])/,"$1")}function S1e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ts(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function It(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Lp(e){var t=e.indexOf(":");return t==-1?{s:ts(e),e:ts(e)}:{s:ts(e.slice(0,t)),e:ts(e.slice(t+1))}}function tr(e,t){return typeof t>"u"||typeof t=="number"?tr(e.s,e.e):(typeof e!="string"&&(e=It(e)),typeof t!="string"&&(t=It(t)),e==t?e:e+":"+t)}function un(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function oF(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ui(e.z,r?ls(t):t)}catch{}try{return e.w=Ui((e.XF||{}).numFmtId||(r?14:0),r?ls(t):t)}catch{return""+t}}function xc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Mf[e.v]||e.v:t==null?oF(e,e.v):oF(e,t))}function Xu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Iq(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ts(n.origin):n.origin;i=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=un(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},g=i+f,p=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Ut[14],n.cellDates?(m.t="d",m.w=Ui(m.z,ls(m.v))):(m.t="n",m.v=ls(m.v),m.w=Ui(m.z,m.v))):m.t="s";if(a)s[g]||(s[g]=[]),s[g][p]&&s[g][p].z&&(m.z=s[g][p].z),s[g][p]=m;else{var v=It({c:p,r:g});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=tr(u)),s}function $p(e,t){return Iq(null,e,t)}function j1e(e){return e.read_shift(4,"i")}function Pa(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function k1e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function QO(e,t){var r=e.l,n=e.read_shift(1),a=Pa(e),s=[],i={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(k1e(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var N1e=QO;function Wi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Rf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var E1e=Pa;function ZO(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var C1e=Pa,xE=ZO;function eP(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Fw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):yd(t,0)>>2;return r?a/100:a}function Mq(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var If=Mq;function Ta(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function T1e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Gd[a];u&&(t.rgb=ov(u));break;case 2:t.rgb=ov([i,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function A1e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Fq(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function O1e(e){return Fq(e,1)}function P1e(e){return Fq(e,2)}var tP=2,vs=3,By=11,lF=12,Lw=19,Uy=64,D1e=65,R1e=71,I1e=4108,M1e=4126,Hn=80,Lq=81,F1e=[Hn,Lq],L1e={1:{n:"CodePage",t:tP},2:{n:"Category",t:Hn},3:{n:"PresentationFormat",t:Hn},4:{n:"ByteCount",t:vs},5:{n:"LineCount",t:vs},6:{n:"ParagraphCount",t:vs},7:{n:"SlideCount",t:vs},8:{n:"NoteCount",t:vs},9:{n:"HiddenCount",t:vs},10:{n:"MultimediaClipCount",t:vs},11:{n:"ScaleCrop",t:By},12:{n:"HeadingPairs",t:I1e},13:{n:"TitlesOfParts",t:M1e},14:{n:"Manager",t:Hn},15:{n:"Company",t:Hn},16:{n:"LinksUpToDate",t:By},17:{n:"CharacterCount",t:vs},19:{n:"SharedDoc",t:By},22:{n:"HyperlinksChanged",t:By},23:{n:"AppVersion",t:vs,p:"version"},24:{n:"DigSig",t:D1e},26:{n:"ContentType",t:Hn},27:{n:"ContentStatus",t:Hn},28:{n:"Language",t:Hn},29:{n:"Version",t:Hn},255:{},2147483648:{n:"Locale",t:Lw},2147483651:{n:"Behavior",t:Lw},1919054434:{}},$1e={1:{n:"CodePage",t:tP},2:{n:"Title",t:Hn},3:{n:"Subject",t:Hn},4:{n:"Author",t:Hn},5:{n:"Keywords",t:Hn},6:{n:"Comments",t:Hn},7:{n:"Template",t:Hn},8:{n:"LastAuthor",t:Hn},9:{n:"RevNumber",t:Hn},10:{n:"EditTime",t:Uy},11:{n:"LastPrinted",t:Uy},12:{n:"CreatedDate",t:Uy},13:{n:"ModifiedDate",t:Uy},14:{n:"PageCount",t:vs},15:{n:"WordCount",t:vs},16:{n:"CharCount",t:vs},17:{n:"Thumbnail",t:R1e},18:{n:"Application",t:Hn},19:{n:"DocSecurity",t:vs},255:{},2147483648:{n:"Locale",t:Lw},2147483651:{n:"Behavior",t:Lw},1919054434:{}},cF={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},B1e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function U1e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var V1e=U1e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Gd=ca(V1e),Mf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},$q={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},uF={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function z1e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function W1e(e){var t=z1e();if(!e||!e.match)return t;var r={};if((e.match($a)||[]).forEach(function(n){var a=At(n);switch(a[0].replace(Qye,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[uF[a.ContentType]]!==void 0&&t[uF[a.ContentType]].push(a.PartName);break}}),t.xmlns!==c1e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Rh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function yE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function dg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match($a)||[]).forEach(function(a){var s=At(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:B0(s.Target,t);r[l]=i,n[s.Id]=i}}),r["!id"]=n,r}var H1e="application/vnd.oasis.opendocument.spreadsheet";function q1e(e,t){for(var r=GO(e),n,a;n=sv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=At(n[0],!1),a.path=="/"&&a.type!==H1e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var fg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],K1e=function(){for(var e=new Array(fg.length),t=0;t<fg.length;++t){var r=fg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Bq(e){var t={};e=Dr(e);for(var r=0;r<fg.length;++r){var n=fg[r],a=e.match(K1e[r]);a!=null&&a.length>0&&(t[n[1]]=sr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Jn(t[n[1]]))}return t}var G1e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Uq(e,t,r,n){var a=[];if(typeof e=="string")a=eF(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?eF(t,n).map(function(d){return d.v}):t,l=0,c=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(l,l+c);break}l+=c}}function Y1e(e,t,r){var n={};return t||(t={}),e=Dr(e),G1e.forEach(function(a){var s=(e.match(av(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=sr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Uq(n.HeadingPairs,n.TitlesOfParts,t,r),t}var X1e=/<[^>]+>[^<]*/g;function J1e(e,t){var r={},n="",a=e.match(X1e);if(a)for(var s=0;s!=a.length;++s){var i=a[s],l=At(i);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=sr(l.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=sr(d);break;case"bool":r[n]=Wr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Jn(d);break;case"cy":case"error":r[n]=sr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var Q1e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Tk;function Z1e(e,t,r){Tk||(Tk=HO(Q1e)),t=Tk[t]||t,e[t]=r}function rP(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Vq(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function zq(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Wq(e,t,r){return t===31?zq(e):Vq(e,t,r)}function wE(e,t,r){return Wq(e,t,r===!1?0:4)}function ewe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Wq(e,t,0)}function twe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(os,""),e.l-a&2&&(e.l+=2)}return r}function rwe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(os,"");return r}function nwe(e){var t=e.l,r=$w(e,Lq);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=$w(e,vs);return[r,n]}function awe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(nwe(e));return r}function dF(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(os,"").replace($0,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Hq(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function swe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function $w(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==lF&&n!==t&&F1e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===lF?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Vq(e,n,4).replace(os,"");case 31:return zq(e);case 64:return rP(e);case 65:return Hq(e);case 71:return swe(e);case 80:return wE(e,n,!s.raw).replace(os,"");case 81:return ewe(e,n).replace(os,"");case 4108:return awe(e);case 4126:case 4127:return n==4127?twe(e):rwe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function fF(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,l=0,c=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(w,b){return w[1]-b[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var m=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(m=!1,e.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var g=t[s[i][0]];if(h[g.n]=$w(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:yo(l=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[i][0]===1){if(l=h.CodePage=$w(e,tP),yo(l),c!==-1){var p=e.l;e.l=s[c][1],u=dF(e,l),e.l=p}}else if(s[i][0]===0){if(l===0){c=i,e.l=s[i+1][1];continue}u=dF(e,l)}else{var v=u[s[i][0]],y;switch(e[e.l]){case 65:e.l+=4,y=Hq(e);break;case 30:e.l+=4,y=wE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=wE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=dn(e,4);break;case 64:e.l+=4,y=Jn(rP(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function hF(e,t,r){var n=e.content;if(!n)return{};ra(n,0);var a,s,i,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==er.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(i=n.read_shift(16),c=n.read_shift(4));var f=fF(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=fF(n,null)}catch{}for(m in g)h[m]=g[m];return h.FMTID=[s,i],h}function Fc(e,t){return e.read_shift(t),null}function iwe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function dn(e,t){return e.read_shift(t)===1}function _n(e){return e.read_shift(2,"u")}function qq(e,t){return iwe(e,t,_n)}function owe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Px(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function lwe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,l,c={};a&&(i=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function gf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Dx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):gf(e,n,r)}function Ff(e,t,r){if(r.biff>5)return Dx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function cwe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function uwe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(os,"");return n&&(e.l+=24),a}function dwe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(os,"");return r+i}function fwe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return uwe(e);case"0303000000000000c000000000000046":return dwe(e);default:throw new Error("Unsupported Moniker "+r)}}function Vy(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(os,""):"";return r}function hwe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,l,c,u="",d,f;a&16&&(s=Vy(e,r-e.l)),a&128&&(i=Vy(e,r-e.l)),(a&257)===257&&(l=Vy(e,r-e.l)),(a&257)===1&&(c=fwe(e,r-e.l)),a&8&&(u=Vy(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=rP(e)),e.l=r;var h=i||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function Kq(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Gq(e,t){var r=Kq(e);return r[3]=0,r}function Cl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function mwe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function pwe(e,t,r){return t===0?"":Ff(e,t,r)}function gwe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function Yq(e){var t=e.read_shift(2),r=eP(e);return[t,r]}function vwe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Px(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function nS(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Xq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var xwe=Xq;function Jq(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function ywe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function wwe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ma(e){e.l+=2,e.l+=e.read_shift(2)}var bwe={0:ma,4:ma,5:ma,6:ma,7:wwe,8:ma,9:ma,10:ma,11:ma,12:ma,13:ywe,14:ma,15:ma,16:ma,17:ma,18:ma,19:ma,20:ma,21:Jq};function _we(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(bwe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function zy(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Swe(e,t){return t===0||e.read_shift(2),1200}function jwe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Ff(e,0,r);return e.read_shift(t+n-e.l),a}function kwe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Nwe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=Px(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function Ewe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(lwe(e));return s.Count=n,s.Unique=a,s}function Cwe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Twe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Awe(e){var t=mwe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Owe(e){return e.read_shift(2),e.read_shift(4)}function mF(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function Pwe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:l,Selected:c,TabRatio:u}}function Dwe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Rwe(){}function Iwe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Px(e,0,r),n}function Mwe(e){var t=Cl(e);return t.isst=e.read_shift(4),t}function Fwe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Cl(e);r.biff==2&&e.l++;var s=Dx(e,n-e.l,r);return a.val=s,a}function Lwe(e,t,r){var n=e.read_shift(2),a=Ff(e,0,r);return[n,a]}var $we=Ff;function pF(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:i,c}}}function Bwe(e){var t=e.read_shift(2),r=e.read_shift(2),n=Yq(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Uwe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(Yq(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function Vwe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function zwe(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=B1e[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function Wwe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=zwe(e,t,n.fStyle,r),n}function Hwe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function gF(e,t,r){var n=Cl(e);(r.biff==2||t==9)&&++e.l;var a=owe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function qwe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Cl(e),a=Ta(e);return n.val=a,n}var vF=pwe;function Kwe(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=gf(e,s),l=[];n>e.l;)l.push(Dx(e));return[s,a,i,l]}function xF(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=vwe(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var Gwe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function yF(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=gf(e,i,r);a&32&&(u=Gwe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:Tje(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function Qq(e,t,r){if(r.biff<8)return Ywe(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(gwe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Ywe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Px(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Xwe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=gf(e,n,r),i=gf(e,a,r);return[s,i]}function Jwe(e,t,r){var n=Xq(e);e.l++;var a=e.read_shift(1);return t-=8,[Aje(e,t,r),a,n]}function wF(e,t,r){var n=xwe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Eje(e,t,r)]}function Qwe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Zwe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=Ff(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,i,s]}}function ebe(e,t,r){return Zwe(e,t,r)}function tbe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(nS(e));return r}function rbe(e,t,r){if(r&&r.biff<8)return abe(e,t,r);var n=Jq(e),a=_we(e,t-22,n[1]);return{cmo:n,ft:a}}var nbe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function abe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((nbe[n]||Ma)(e,t,r)),{cmo:[a,n,s],ft:i}}function sbe(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=cwe(e,6,r);var l=e.read_shift(2);e.read_shift(2),_n(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=gf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function ibe(e,t){var r=nS(e);e.l+=16;var n=hwe(e,t-24);return[r,n]}function obe(e,t){e.read_shift(2);var r=nS(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(os,""),[r,n]}function lbe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=cF[r]||r,r=e.read_shift(2),t[1]=cF[r]||r,t}function cbe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Gq(e));return r}function ube(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Gq(e));return r}function dbe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Zq(e,t,r){if(!r.cellStyles)return Ma(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function fbe(e,t){var r={};return t<32||(e.l+=16,r.header=Ta(e),r.footer=Ta(e),e.l+=2),r}function hbe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var mbe=Cl,pbe=qq,gbe=Dx;function vbe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function xbe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Cl(e);++e.l;var a=Ff(e,t-7,r);return n.t="str",n.val=a,n}function ybe(e){var t=Cl(e);++e.l;var r=Ta(e);return t.t="n",t.val=r,t}function wbe(e){var t=Cl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function bbe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function _be(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Sbe(e,t,r){var n=e.l+t,a=Cl(e),s=e.read_shift(2),i=gf(e,s,r);return e.l=n,a.t="str",a.val=i,a}var jbe=[2,3,48,49,131,139,140,245],bF=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=HO({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Mu(1);switch(c.type){case"base64":d=po(ui(l));break;case"binary":d=po(l);break;case"buffer":case"array":d=l;break}ra(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),w=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(w=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var b=[],_={},S=Math.min(d.length,f==2?521:v-10-(m?264:0)),k=g?32:11;d.l<S&&d[d.l]!=13;)switch(_={},_.name=Xc.utils.decode(w,d.slice(d.l,d.l+k)).replace(/[\u0000\r\n].*$/g,""),d.l+=k,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&b.push(_),f!=2&&(d.l+=g?13:14),_.type){case"B":(!m||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var j=0,E=0;for(u[0]=[],E=0;E!=b.length;++E)u[0][E]=b[E].name;for(;p-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++j]=[],E=0,E=0;E!=b.length;++E){var N=d.slice(d.l,d.l+b[E].len);d.l+=b[E].len,ra(N,0);var A=Xc.utils.decode(w,N);switch(b[E].type){case"C":A.trim().length&&(u[j][E]=A.replace(/\s+$/,""));break;case"D":A.length===8?u[j][E]=new Date(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8)):u[j][E]=A;break;case"F":u[j][E]=parseFloat(A.trim());break;case"+":case"I":u[j][E]=g?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":u[j][E]=!0;break;case"N":case"F":u[j][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][E]="##MEMO##"+(g?parseInt(A.trim(),10):N.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(u[j][E]=+A||0);break;case"@":u[j][E]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":u[j][E]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":u[j][E]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][E]=-N.read_shift(-8,"f");break;case"B":if(m&&b[E].len==8){u[j][E]=N.read_shift(8,"f");break}case"G":case"P":N.l+=b[E].len;break;case"0":if(b[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[E].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=$p(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Xu(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&yo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=vE(),f=EE(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),g=l["!cols"]||[],p=0,v=0,y=0,w=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++y;continue}if(h[p]!=null){if(++y,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var b=un(l["!ref"]),_=[],S=[],k=[];for(p=0;p<=b.e.c-b.s.c;++p){var j="",E="",N=0,A=[];for(v=0;v<m.length;++v)m[v][p]!=null&&A.push(m[v][p]);if(A.length==0||h[p]==null){_[p]="?";continue}for(v=0;v<A.length;++v){switch(typeof A[v]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=A[v]instanceof Date?"D":"C";break;default:E="C"}N=Math.max(N,String(A[v]).length),j=j&&j!=E?"C":E}N>250&&(N=250),E=((g[p]||{}).DBF||{}).type,E=="C"&&g[p].DBF.len>N&&(N=g[p].DBF.len),j=="B"&&E=="N"&&(j="N",k[p]=g[p].DBF.dec,N=g[p].DBF.len),S[p]=j=="C"||E=="N"?N:s[j]||0,w+=S[p],_[p]=j}var D=d.next(32);for(D.write_shift(4,318902576),D.write_shift(4,m.length),D.write_shift(2,296+32*y),D.write_shift(2,w),p=0;p<4;++p)D.write_shift(4,0);for(D.write_shift(4,0|(+t[QH]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var T=d.next(32),U=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,U,"sbcs"),T.write_shift(1,_[p]=="?"?"C":_[p],"sbcs"),T.write_shift(4,v),T.write_shift(1,S[p]||s[_[p]]||0),T.write_shift(1,k[p]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=S[p]||s[_[p]]||0}var q=d.next(264);for(q.write_shift(4,13),p=0;p<65;++p)q.write_shift(4,0);for(p=0;p<m.length;++p){var M=d.next(w);for(M.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(_[v]){case"L":M.write_shift(1,m[p][v]==null?63:m[p][v]?84:70);break;case"B":M.write_shift(8,m[p][v]||0,"f");break;case"N":var I="0";for(typeof m[p][v]=="number"&&(I=m[p][v].toFixed(k[v]||0)),y=0;y<S[v]-I.length;++y)M.write_shift(1,32);M.write_shift(1,I,"sbcs");break;case"D":m[p][v]?(M.write_shift(4,("0000"+m[p][v].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(m[p][v].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+m[p][v].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var V=String(m[p][v]!=null?m[p][v]:"").slice(0,S[v]);for(M.write_shift(1,V,"sbcs"),y=0;y<S[v]-V.length;++y)M.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),kbe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+yl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?FM(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:FM(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(ui(h),m);case"binary":return s(h,m);case"buffer":return s(Qt&&Buffer.isBuffer(h)?h.toString("binary"):Df(h),m);case"array":return s(pf(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var g=h.split(/[\n\r]+/),p=-1,v=-1,y=0,w=0,b=[],_=[],S=null,k={},j=[],E=[],N=[],A=0,D;for(+m.codepage>=0&&yo(+m.codepage);y!==g.length;++y){A=0;var T=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=T.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),q=U[0],M;if(T.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&_.push(T.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,V=!1,F=!1,R=!1,re=-1,Z=-1;for(w=1;w<U.length;++w)switch(U[w].charAt(0)){case"A":break;case"X":v=parseInt(U[w].slice(1))-1,V=!0;break;case"Y":for(p=parseInt(U[w].slice(1))-1,V||(v=0),D=b.length;D<=p;++D)b[D]=[];break;case"K":M=U[w].slice(1),M.charAt(0)==='"'?M=M.slice(1,M.length-1):M==="TRUE"?M=!0:M==="FALSE"?M=!1:isNaN(So(M))?isNaN(Bm(M).getDate())||(M=Jn(M)):(M=So(M),S!==null&&Fp(S)&&(M=rS(M))),I=!0;break;case"E":R=!0;var C=tm(U[w].slice(1),{r:p,c:v});b[p][v]=[b[p][v],C];break;case"S":F=!0,b[p][v]=[b[p][v],"S5S"];break;case"G":break;case"R":re=parseInt(U[w].slice(1))-1;break;case"C":Z=parseInt(U[w].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}if(I&&(b[p][v]&&b[p][v].length==2?b[p][v][0]=M:b[p][v]=M,S=null),F){if(R)throw new Error("SYLK shared formula cannot have own formula");var K=re>-1&&b[re][Z];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");b[p][v][1]=cK(K[1],{r:p-re,c:v-Z})}break;case"F":var B=0;for(w=1;w<U.length;++w)switch(U[w].charAt(0)){case"X":v=parseInt(U[w].slice(1))-1,++B;break;case"Y":for(p=parseInt(U[w].slice(1))-1,D=b.length;D<=p;++D)b[D]=[];break;case"M":A=parseInt(U[w].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(U[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=U[w].slice(1).split(" "),D=parseInt(N[0],10);D<=parseInt(N[1],10);++D)A=parseInt(N[2],10),E[D-1]=A===0?{hidden:!0}:{wch:A},Um(E[D-1]);break;case"C":v=parseInt(U[w].slice(1))-1,E[v]||(E[v]={});break;case"R":p=parseInt(U[w].slice(1))-1,j[p]||(j[p]={}),A>0?(j[p].hpt=A,j[p].hpx=lv(A)):A===0&&(j[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}B<1&&(S=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}}return j.length>0&&(k["!rows"]=j),E.length>0&&(k["!cols"]=E),m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),[b,k]}function i(h,m){var g=a(h,m),p=g[0],v=g[1],y=$p(p,m);return yl(v).forEach(function(w){y[w]=v[w]}),y}function l(h,m){return Xu(i(h,m),m)}function c(h,m,g,p){var v="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+dSe(h.f,{r:g,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(g,p){var v="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Uw(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Vw(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(g,p){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*iK(g.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function f(h,m){var g=["ID;PWXL;N;E"],p=[],v=un(h["!ref"]),y,w=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var S=v.s.c;S<=v.e.c;++S){var k=It({r:_,c:S});y=w?(h[_]||[])[S]:h[k],!(!y||y.v==null&&(!y.f||y.F))&&p.push(c(y,h,_,S))}return g.join(b)+b+p.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),Nbe=function(){function e(s,i){switch(i.type){case"base64":return t(ui(s),i);case"binary":return t(s,i);case"buffer":return t(Qt&&Buffer.isBuffer(s)?s.toString("binary"):Df(s),i);case"array":return t(pf(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],g=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(So(g))?isNaN(Bm(g).getDate())?f[c][u]=g:f[c][u]=Jn(g):f[c][u]=So(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return $p(e(s,i),i)}function n(s,i){return Xu(r(s,i),i)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=un(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){i(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=It({r:m,c:g});if(f=h?(c[m]||[])[g]:c[p],!f){i(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,v,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ui(f.z||Ut[14],ls(Jn(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var y=`\r
`,w=u.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Ebe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),g=-1,p=-1,v=0,y=[];v!==m.length;++v){var w=m[v].trim().split(":");if(w[0]==="cell"){var b=ts(w[1]);if(y.length<=b.r)for(g=y.length;g<=b.r;++g)y[g]||(y[g]=[]);switch(g=b.r,p=b.c,w[2]){case"t":y[g][p]=e(w[3]);break;case"v":y[g][p]=+w[3];break;case"vtf":var _=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[g][p]=!!+w[4];break;default:y[g][p]=+w[4];break}w[2]=="vtf"&&(y[g][p]=[y[g][p],_])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return $p(r(f,h),h)}function a(f,h){return Xu(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],g,p="",v=Lp(f["!ref"]),y=Array.isArray(f),w=v.s.r;w<=v.e.r;++w)for(var b=v.s.c;b<=v.e.c;++b)if(p=It({r:w,c:b}),g=y?(f[w]||[])[b]:f[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=ls(Jn(g.v));m[2]="vtc",m[3]="nd",m[4]=""+_,m[5]=g.w||Ui(g.z||Ut[14],_);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,l,i,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),iv=function(){function e(d,f,h,m,g){g.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(So(d))?isNaN(Bm(d).getDate())?f[h][m]=d:f[h][m]=Jn(d):f[h][m]=So(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var v=10,y=0,w=0;w<=p;++w)y=g[w].indexOf(" "),y==-1?y=g[w].length:y++,v=Math.max(v,y);for(w=0;w<=p;++w){m[w]=[];var b=0;for(e(g[w].slice(0,v).trim(),m,w,b,h),b=1;b<=(g[w].length-v)/10+1;++b)e(g[w].slice(v+(b-1)*10,v+b*10).trim(),m,w,b,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,g=0;m<d.length;++m)(g=d.charCodeAt(m))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,y=0,w=0,b=0,_=0,S=m.charCodeAt(0),k=!1,j=0,E=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var N=h.dateNF!=null?Lye(h.dateNF):null;function A(){var D=d.slice(b,_),T={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)T.t="z";else if(h.raw)T.t="s",T.v=D;else if(D.trim().length===0)T.t="s",T.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(T.t="s",T.v=D.slice(2,-1).replace(/""/g,'"')):hSe(D)?(T.t="n",T.f=D.slice(1)):(T.t="s",T.v=D);else if(D=="TRUE")T.t="b",T.v=!0;else if(D=="FALSE")T.t="b",T.v=!1;else if(!isNaN(w=So(D)))T.t="n",h.cellText!==!1&&(T.w=D),T.v=w;else if(!isNaN(Bm(D).getDate())||N&&D.match(N)){T.z=h.dateNF||Ut[14];var U=0;N&&D.match(N)&&(D=$ye(D,h.dateNF,D.match(N)||[]),U=1),h.cellDates?(T.t="d",T.v=Jn(D,U)):(T.t="n",T.v=ls(Jn(D,U))),h.cellText!==!1&&(T.w=Ui(T.z,T.v instanceof Date?ls(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=D;if(T.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=T):g[It({c:y,r:v})]=T),b=_+1,E=d.charCodeAt(b),p.e.c<y&&(p.e.c=y),p.e.r<v&&(p.e.r=v),j==S)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;_<d.length;++_)switch(j=d.charCodeAt(_)){case 34:E===34&&(k=!k);break;case S:case 10:case 13:if(!k&&A())break e;break}return _-b>0&&A(),g["!ref"]=tr(p),g}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):$p(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:uP(d,f);switch(f.type){case"base64":h=ui(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Xc<"u"?h=Xc.utils.decode(f.codepage,d):h=Qt&&Buffer.isBuffer(d)?d.toString("binary"):Df(d);break;case"array":h=pf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Dr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Dr(h):f.type=="binary"&&typeof Xc<"u"&&f.codepage&&(h=Xc.utils.decode(f.codepage,Xc.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?Ebe.to_sheet(f.type=="string"?h:Dr(h),f):i(h,f)}function c(d,f){return Xu(l(d,f),f)}function u(d){for(var f=[],h=un(d["!ref"]),m,g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var v=[],y=h.s.c;y<=h.e.c;++y){var w=It({r:p,c:y});if(m=g?(d[p]||[])[y]:d[w],!m||m.v==null){v.push("          ");continue}for(var b=(m.w||(xc(m),m.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function Cbe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=kbe.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return iv.to_workbook(e,t)}}var hg=function(){function e(C,K,B){if(C){ra(C,C.l||0);for(var z=B.Enum||re;C.l<C.length;){var ne=C.read_shift(2),oe=z[ne]||z[65535],ue=C.read_shift(2),ie=C.l+ue,X=oe.f&&oe.f(C,ue,B);if(C.l=ie,K(X,oe,ne))return}}}function t(C,K){switch(K.type){case"base64":return r(po(ui(C)),K);case"binary":return r(po(C),K);case"buffer":case"array":return r(C,K)}throw"Unsupported type "+K.type}function r(C,K){if(!C)return C;var B=K||{},z=B.dense?[]:{},ne="Sheet1",oe="",ue=0,ie={},X=[],de=[],O={s:{r:0,c:0},e:{r:0,c:0}},Fe=B.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)B.Enum=re,e(C,function(De,ft,gt){switch(gt){case 0:B.vers=De,De>=4096&&(B.qpro=!0);break;case 6:O=De;break;case 204:De&&(oe=De);break;case 222:oe=De;break;case 15:case 51:B.qpro||(De[1].v=De[1].v.slice(1));case 13:case 14:case 16:gt==14&&(De[2]&112)==112&&(De[2]&15)>1&&(De[2]&15)<15&&(De[1].z=B.dateNF||Ut[14],B.cellDates&&(De[1].t="d",De[1].v=rS(De[1].v))),B.qpro&&De[3]>ue&&(z["!ref"]=tr(O),ie[ne]=z,X.push(ne),z=B.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},ue=De[3],ne=oe||"Sheet"+(ue+1),oe="");var se=B.dense?(z[De[0].r]||[])[De[0].c]:z[It(De[0])];if(se){se.t=De[1].t,se.v=De[1].v,De[1].z!=null&&(se.z=De[1].z),De[1].f!=null&&(se.f=De[1].f);break}B.dense?(z[De[0].r]||(z[De[0].r]=[]),z[De[0].r][De[0].c]=De[1]):z[It(De[0])]=De[1];break}},B);else if(C[2]==26||C[2]==14)B.Enum=Z,C[2]==14&&(B.qpro=!0,C.l=0),e(C,function(De,ft,gt){switch(gt){case 204:ne=De;break;case 22:De[1].v=De[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(De[3]>ue&&(z["!ref"]=tr(O),ie[ne]=z,X.push(ne),z=B.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},ue=De[3],ne="Sheet"+(ue+1)),Fe>0&&De[0].r>=Fe)break;B.dense?(z[De[0].r]||(z[De[0].r]=[]),z[De[0].r][De[0].c]=De[1]):z[It(De[0])]=De[1],O.e.c<De[0].c&&(O.e.c=De[0].c),O.e.r<De[0].r&&(O.e.r=De[0].r);break;case 27:De[14e3]&&(de[De[14e3][0]]=De[14e3][1]);break;case 1537:de[De[0]]=De[1],De[0]==ue&&(ne=De[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(z["!ref"]=tr(O),ie[oe||ne]=z,X.push(oe||ne),!de.length)return{SheetNames:X,Sheets:ie};for(var Re={},Be=[],We=0;We<de.length;++We)ie[X[We]]?(Be.push(de[We]||X[We]),Re[de[We]]=ie[de[We]]||ie[X[We]]):(Be.push(de[We]),Re[de[We]]={"!ref":"A1"});return{SheetNames:Be,Sheets:Re}}function n(C,K){var B=K||{};if(+B.codepage>=0&&yo(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var z=vE(),ne=un(C["!ref"]),oe=Array.isArray(C),ue=[];Ji(z,0,s(1030)),Ji(z,6,c(ne));for(var ie=Math.min(ne.e.r,8191),X=ne.s.r;X<=ie;++X)for(var de=ua(X),O=ne.s.c;O<=ne.e.c;++O){X===ne.s.r&&(ue[O]=Un(O));var Fe=ue[O]+de,Re=oe?(C[X]||[])[O]:C[Fe];if(!(!Re||Re.t=="z"))if(Re.t=="n")(Re.v|0)==Re.v&&Re.v>=-32768&&Re.v<=32767?Ji(z,13,m(X,O,Re.v)):Ji(z,14,p(X,O,Re.v));else{var Be=xc(Re);Ji(z,15,f(X,O,Be.slice(0,239)))}}return Ji(z,1),z.end()}function a(C,K){var B=K||{};if(+B.codepage>=0&&yo(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var z=vE();Ji(z,0,i(C));for(var ne=0,oe=0;ne<C.SheetNames.length;++ne)(C.Sheets[C.SheetNames[ne]]||{})["!ref"]&&Ji(z,27,R(C.SheetNames[ne],oe++));var ue=0;for(ne=0;ne<C.SheetNames.length;++ne){var ie=C.Sheets[C.SheetNames[ne]];if(!(!ie||!ie["!ref"])){for(var X=un(ie["!ref"]),de=Array.isArray(ie),O=[],Fe=Math.min(X.e.r,8191),Re=X.s.r;Re<=Fe;++Re)for(var Be=ua(Re),We=X.s.c;We<=X.e.c;++We){Re===X.s.r&&(O[We]=Un(We));var De=O[We]+Be,ft=de?(ie[Re]||[])[We]:ie[De];if(!(!ft||ft.t=="z"))if(ft.t=="n")Ji(z,23,A(Re,We,ue,ft.v));else{var gt=xc(ft);Ji(z,22,j(Re,We,ue,gt.slice(0,239)))}}++ue}}return Ji(z,1),z.end()}function s(C){var K=Fn(2);return K.write_shift(2,C),K}function i(C){var K=Fn(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var B=0,z=0,ne=0,oe=0;oe<C.SheetNames.length;++oe){var ue=C.SheetNames[oe],ie=C.Sheets[ue];if(!(!ie||!ie["!ref"])){++ne;var X=Lp(ie["!ref"]);B<X.e.r&&(B=X.e.r),z<X.e.c&&(z=X.e.c)}}return B>8191&&(B=8191),K.write_shift(2,B),K.write_shift(1,ne),K.write_shift(1,z),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function l(C,K,B){var z={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&B.qpro?(z.s.c=C.read_shift(1),C.l++,z.s.r=C.read_shift(2),z.e.c=C.read_shift(1),C.l++,z.e.r=C.read_shift(2),z):(z.s.c=C.read_shift(2),z.s.r=C.read_shift(2),K==12&&B.qpro&&(C.l+=2),z.e.c=C.read_shift(2),z.e.r=C.read_shift(2),K==12&&B.qpro&&(C.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(C){var K=Fn(8);return K.write_shift(2,C.s.c),K.write_shift(2,C.s.r),K.write_shift(2,C.e.c),K.write_shift(2,C.e.r),K}function u(C,K,B){var z=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(z[0].c=C.read_shift(1),z[3]=C.read_shift(1),z[0].r=C.read_shift(2),C.l+=2):(z[2]=C.read_shift(1),z[0].c=C.read_shift(2),z[0].r=C.read_shift(2)),z}function d(C,K,B){var z=C.l+K,ne=u(C,K,B);if(ne[1].t="s",B.vers==20768){C.l++;var oe=C.read_shift(1);return ne[1].v=C.read_shift(oe,"utf8"),ne}return B.qpro&&C.l++,ne[1].v=C.read_shift(z-C.l,"cstr"),ne}function f(C,K,B){var z=Fn(7+B.length);z.write_shift(1,255),z.write_shift(2,K),z.write_shift(2,C),z.write_shift(1,39);for(var ne=0;ne<z.length;++ne){var oe=B.charCodeAt(ne);z.write_shift(1,oe>=128?95:oe)}return z.write_shift(1,0),z}function h(C,K,B){var z=u(C,K,B);return z[1].v=C.read_shift(2,"i"),z}function m(C,K,B){var z=Fn(7);return z.write_shift(1,255),z.write_shift(2,K),z.write_shift(2,C),z.write_shift(2,B,"i"),z}function g(C,K,B){var z=u(C,K,B);return z[1].v=C.read_shift(8,"f"),z}function p(C,K,B){var z=Fn(13);return z.write_shift(1,255),z.write_shift(2,K),z.write_shift(2,C),z.write_shift(8,B,"f"),z}function v(C,K,B){var z=C.l+K,ne=u(C,K,B);if(ne[1].v=C.read_shift(8,"f"),B.qpro)C.l=z;else{var oe=C.read_shift(2);_(C.slice(C.l,C.l+oe),ne),C.l+=oe}return ne}function y(C,K,B){var z=K&32768;return K&=-32769,K=(z?C:0)+(K>=8192?K-16384:K),(z?"":"$")+(B?Un(K):ua(K))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(C,K){ra(C,0);for(var B=[],z=0,ne="",oe="",ue="",ie="";C.l<C.length;){var X=C[C.l++];switch(X){case 0:B.push(C.read_shift(8,"f"));break;case 1:oe=y(K[0].c,C.read_shift(2),!0),ne=y(K[0].r,C.read_shift(2),!1),B.push(oe+ne);break;case 2:{var de=y(K[0].c,C.read_shift(2),!0),O=y(K[0].r,C.read_shift(2),!1);oe=y(K[0].c,C.read_shift(2),!0),ne=y(K[0].r,C.read_shift(2),!1),B.push(de+O+":"+oe+ne)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(C.read_shift(2));break;case 6:{for(var Fe="";X=C[C.l++];)Fe+=String.fromCharCode(X);B.push('"'+Fe.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:ie=B.pop(),ue=B.pop(),B.push(["AND","OR"][X-20]+"("+ue+","+ie+")");break;default:if(X<32&&b[X])ie=B.pop(),ue=B.pop(),B.push(ue+b[X]+ie);else if(w[X]){if(z=w[X][1],z==69&&(z=C[C.l++]),z>B.length){console.error("WK1 bad formula parse 0x"+X.toString(16)+":|"+B.join("|")+"|");return}var Re=B.slice(-z);B.length-=z,B.push(w[X][0]+"("+Re.join(",")+")")}else return X<=7?console.error("WK1 invalid opcode "+X.toString(16)):X<=24?console.error("WK1 unsupported op "+X.toString(16)):X<=30?console.error("WK1 invalid opcode "+X.toString(16)):X<=115?console.error("WK1 unsupported function opcode "+X.toString(16)):console.error("WK1 unrecognized opcode "+X.toString(16))}}B.length==1?K[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function S(C){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=C.read_shift(2),K[3]=C[C.l++],K[0].c=C[C.l++],K}function k(C,K){var B=S(C);return B[1].t="s",B[1].v=C.read_shift(K-4,"cstr"),B}function j(C,K,B,z){var ne=Fn(6+z.length);ne.write_shift(2,C),ne.write_shift(1,B),ne.write_shift(1,K),ne.write_shift(1,39);for(var oe=0;oe<z.length;++oe){var ue=z.charCodeAt(oe);ne.write_shift(1,ue>=128?95:ue)}return ne.write_shift(1,0),ne}function E(C,K){var B=S(C);B[1].v=C.read_shift(2);var z=B[1].v>>1;if(B[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return B[1].v=z,B}function N(C,K){var B=S(C),z=C.read_shift(4),ne=C.read_shift(4),oe=C.read_shift(2);if(oe==65535)return z===0&&ne===3221225472?(B[1].t="e",B[1].v=15):z===0&&ne===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var ue=oe&32768;return oe=(oe&32767)-16446,B[1].v=(1-ue*2)*(ne*Math.pow(2,oe+32)+z*Math.pow(2,oe)),B}function A(C,K,B,z){var ne=Fn(14);if(ne.write_shift(2,C),ne.write_shift(1,B),ne.write_shift(1,K),z==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var oe=0,ue=0,ie=0,X=0;return z<0&&(oe=1,z=-z),ue=Math.log2(z)|0,z/=Math.pow(2,ue-31),X=z>>>0,X&2147483648||(z/=2,++ue,X=z>>>0),z-=X,X|=2147483648,X>>>=0,z*=Math.pow(2,32),ie=z>>>0,ne.write_shift(4,ie),ne.write_shift(4,X),ue+=16383+(oe?32768:0),ne.write_shift(2,ue),ne}function D(C,K){var B=N(C);return C.l+=K-14,B}function T(C,K){var B=S(C),z=C.read_shift(4);return B[1].v=z>>6,B}function U(C,K){var B=S(C),z=C.read_shift(8,"f");return B[1].v=z,B}function q(C,K){var B=U(C);return C.l+=K-10,B}function M(C,K){return C[C.l+K-1]==0?C.read_shift(K,"cstr"):""}function I(C,K){var B=C[C.l++];B>K-1&&(B=K-1);for(var z="";z.length<B;)z+=String.fromCharCode(C[C.l++]);return z}function V(C,K,B){if(!(!B.qpro||K<21)){var z=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var ne=C.read_shift(K-21,"cstr");return[z,ne]}}function F(C,K){for(var B={},z=C.l+K;C.l<z;){var ne=C.read_shift(2);if(ne==14e3){for(B[ne]=[0,""],B[ne][0]=C.read_shift(2);C[C.l];)B[ne][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return B}function R(C,K){var B=Fn(5+C.length);B.write_shift(2,14e3),B.write_shift(2,K);for(var z=0;z<C.length;++z){var ne=C.charCodeAt(z);B[B.l++]=ne>127?95:ne}return B[B.l++]=0,B}var re={0:{n:"BOF",f:_n},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:M},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:F},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:M},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:V},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Tbe(e){var t={},r=e.match($a),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=At(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=BO[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var Abe=function(){var e=av("t"),t=av("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var l={t:"s",v:sr(i[1])},c=s.match(t);return c&&(l.s=Tbe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),Obe=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),Pbe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Dbe=/<(?:\w+:)?r>/,Rbe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function nP(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=sr(Dr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Dr(e),r&&(n.h=KO(n.t))):e.match(Dbe)&&(n.r=Dr(e),n.t=sr(Dr((e.replace(Rbe,"").match(Pbe)||[]).join("").replace($a,""))),r&&(n.h=Obe(Abe(n.r)))),n):{t:""}}var Ibe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Mbe=/<(?:\w+:)?(?:si|sstItem)>/g,Fbe=/<\/(?:\w+:)?(?:si|sstItem)>/;function Lbe(e,t){var r=[],n="";if(!e)return r;var a=e.match(Ibe);if(a){n=a[2].replace(Mbe,"").split(Fbe);for(var s=0;s!=n.length;++s){var i=nP(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=At(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function $be(e){return[e.read_shift(4),e.read_shift(4)]}function Bbe(e,t){var r=[],n=!1;return kc(e,function(s,i,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function eK(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function nc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Ube(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=nc(e,4),t.U=nc(e,4),t.W=nc(e,4),t}function Vbe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function zbe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Vbe(e));return t}function Wbe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Hbe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=nc(e,4),t.U=nc(e,4),t.W=nc(e,4),t}function qbe(e){var t=Hbe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function tK(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function rK(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Kbe(e){var t=nc(e);switch(t.Minor){case 2:return[t.Minor,Gbe(e)];case 3:return[t.Minor,Ybe()];case 4:return[t.Minor,Xbe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Gbe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=tK(e,r),a=rK(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Ybe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Xbe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace($a,function(s){var i=At(s);switch(El(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=i[l]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function Jbe(e,t){var r={},n=r.EncryptionVersionInfo=nc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=tK(e,a),t-=a,r.EncryptionVerifier=rK(e,t),r}function Qbe(e){var t={},r=t.EncryptionVersionInfo=nc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Zbe(e){var t=0,r,n=eK(e),a=n.length+1,s,i,l,c,u;for(r=Mu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^i;return t^52811}var nK=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,l){return n(i^l)},s=function(i){for(var l=t[i.length-1],c=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(i){for(var l=eK(i),c=s(l),u=l.length,d=Mu(16),f=0;f!=16;++f)d[f]=0;var h,m,g;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,g=15-l.length;g>0;)h=c>>8,d[u]=a(e[g],h),--u,--g,h=c&255,d[u]=a(l[u],h),--u,--g;return d}}(),e_e=function(e,t,r,n,a){a||(a=t),n||(n=nK(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},t_e=function(e){var t=0,r=nK(e);return function(n){var a=e_e("",n,t,r);return t=a[1],a[0]}};function r_e(e,t,r,n){var a={key:_n(e),verificationBytes:_n(e)};return r.password&&(a.verifier=Zbe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=t_e(r.password)),a}function n_e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Qbe(e):n.Data=Jbe(e,t),n}function a_e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?n_e(e,t-2,n):r_e(e,r.biff>=8?t:t-2,r,n),n}var s_e=function(){function e(a,s){switch(s.type){case"base64":return t(ui(a),s);case"binary":return t(a,s);case"buffer":return t(Qt&&Buffer.isBuffer(a)?a.toString("binary"):Df(a),s);case"array":return t(pf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},l=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(m,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var y={v,t:"s"};Array.isArray(l)?l[f][p]=y:l[It({r:f,c:p})]=y}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=tr(u),l}function r(a,s){return Xu(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=un(a["!ref"]),l,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=It({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(xc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function i_e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function ov(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function o_e(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=i/(u>1?2-u:u),a){case t:l=((r-n)/i+6)%6;break;case r:l=(n-t)/i+2;break;case n:l=(t-r)/i+4;break}return[l/6,c,u/2]}function l_e(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,i[0]+=a,i[1]+=c;break;case 1:c=a*(2-l),i[0]+=c,i[1]+=a;break;case 2:c=a*(l-2),i[1]+=a,i[2]+=c;break;case 3:c=a*(4-l),i[1]+=c,i[2]+=a;break;case 4:c=a*(l-4),i[2]+=a,i[0]+=c;break;case 5:c=a*(6-l),i[2]+=c,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function Bw(e,t){if(t===0)return e;var r=o_e(i_e(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),ov(l_e(r))}var aK=6,c_e=15,u_e=1,Za=aK;function Uw(e){return Math.floor((e+Math.round(128/Za)/256)*Za)}function Vw(e){return Math.floor((e-5)/Za*100+.5)/100}function bE(e){return Math.round((e*Za+5)/Za*256)/256}function Ak(e){return bE(Vw(Uw(e)))}function aP(e){var t=Math.abs(e-Ak(e)),r=Za;if(t>.005)for(Za=u_e;Za<c_e;++Za)Math.abs(e-Ak(e))<=t&&(t=Math.abs(e-Ak(e)),r=Za);Za=r}function Um(e){e.width?(e.wpx=Uw(e.width),e.wch=Vw(e.wpx),e.MDW=Za):e.wpx?(e.wch=Vw(e.wpx),e.width=bE(e.wch),e.MDW=Za):typeof e.wch=="number"&&(e.width=bE(e.wch),e.wpx=Uw(e.width),e.MDW=Za),e.customWidth&&delete e.customWidth}var d_e=96,sK=d_e;function iK(e){return e*96/sK}function lv(e){return e*sK/96}var f_e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function h_e(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match($a)||[]).forEach(function(i){var l=At(i);switch(El(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Wr(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Wr(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function m_e(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match($a)||[]).forEach(function(i){var l=At(i);switch(El(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function p_e(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match($a)||[]).forEach(function(i){var l=At(i);switch(El(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Dr(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Wr(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Wr(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Wr(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Wr(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Wr(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Wr(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Wr(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=BO[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Wr(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Gd[a.color.index];a.color.index==81&&(c=Gd[1]),c||(c=Gd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Bw(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function g_e(e,t,r){t.NumberFmt=[];for(var n=yl(Ut),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Ut[n[a]];var s=e[0].match($a);if(s)for(a=0;a<s.length;++a){var i=At(s[a]);switch(El(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=sr(Dr(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Kd(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var Wy=["numFmtId","fillId","fontId","borderId","xfId"],Hy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function v_e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match($a)||[]).forEach(function(s){var i=At(s),l=0;switch(El(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],l=0;l<Wy.length;++l)n[Wy[l]]&&(n[Wy[l]]=parseInt(n[Wy[l]],10));for(l=0;l<Hy.length;++l)n[Hy[l]]&&(n[Hy[l]]=Wr(n[Hy[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=Wr(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var x_e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&g_e(f,d,u),(f=l.match(a))&&p_e(f,d,c,u),(f=l.match(n))&&m_e(f,d,c,u),(f=l.match(s))&&h_e(f,d,c,u),(f=l.match(r))&&v_e(f,d,u),d}}();function y_e(e,t){var r=e.read_shift(2),n=Pa(e);return[r,n]}function w_e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=A1e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=T1e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Pa(e),n}var b_e=Ma;function __e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var S_e=Ma;function j_e(e,t,r){var n={};n.NumberFmt=[];for(var a in Ut)n.NumberFmt[a]=Ut[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return kc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Kd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Bw(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var k_e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function N_e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match($a)||[]).forEach(function(a){var s=At(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[k_e.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function E_e(){}function C_e(){}var T_e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,A_e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,O_e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function P_e(e,t,r){t.themeElements={};var n;[["clrScheme",T_e,N_e],["fontScheme",A_e,E_e],["fmtScheme",O_e,C_e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var D_e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function oK(e,t){(!e||e.length===0)&&(e=R_e());var r,n={};if(!(r=e.match(D_e)))throw new Error("themeElements not found in theme");return P_e(r[0],n,t),n.raw=e,n}function R_e(e,t){var r=[xq];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function I_e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=vq(s,{type:"array"})}catch{return}var l=ti(i,"theme/theme/theme1.xml",!0);if(l)return oK(l,r)}}function M_e(e){return e.read_shift(4)}function F_e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=L_e(e,4);break;case 2:t.xclrValue=Kq(e);break;case 3:t.xclrValue=M_e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function L_e(e,t){return Ma(e,t)}function $_e(e,t){return Ma(e,t)}function B_e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=F_e(e);break;case 6:n[1]=$_e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function U_e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(B_e(e,r-e.l));return{ixfe:n,ext:s}}function V_e(e,t){t.forEach(function(r){switch(r[0]){}})}function z_e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Pa(e)}}function W_e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function H_e(e){return e.l+=4,e.read_shift(4)!=0}function q_e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,l=2;return kc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function K_e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace($a,function(l){var c=At(l);switch(El(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function G_e(e){var t=[];if(!e)return t;var r=1;return(e.match($a)||[]).forEach(function(n){var a=At(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Y_e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=It(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function X_e(e,t,r){var n=[];return kc(e,function(s,i,l){switch(l){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function J_e(e,t,r,n){if(!e)return e;var a=n||{},s=!1;kc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function Q_e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function _F(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var l=ts(i.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[i.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[i.ref]=s;var c=un(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=tr(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function Z_e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=At(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ts(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&nP(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function eSe(e,t){var r=[],n=!1,a={},s=0;return e.replace($a,function(l,c){var u=At(l);switch(El(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function tSe(e,t){var r=[],n=!1;return e.replace($a,function(s){var i=At(s);switch(El(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function rSe(e){var t={};t.iauthor=e.read_shift(4);var r=If(e);return t.rfx=r.s,t.ref=It(r.s),e.l+=16,t}var nSe=Pa;function aSe(e,t){var r=[],n=[],a={},s=!1;return kc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var sSe="application/vnd.ms-office.vbaProject";function iSe(e){var t=er.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");er.utils.cfb_add(t,a,e.FileIndex[n].content)}}),er.write(t)}function oSe(){return{"!type":"dialog"}}function lSe(){return{"!type":"dialog"}}function cSe(){return{"!type":"macro"}}function uSe(){return{"!type":"macro"}}var tm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Un(d)+(c?"":"$")+ua(u)}return function(a,s){return t=s,a.replace(e,r)}}(),lK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dSe=function(){return function(t,r){return t.replace(lK,function(n,a,s,i,l,c){var u=JO(i)-(s?0:r.c),d=XO(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function cK(e,t){return e.replace(lK,function(r,n,a,s,i,l){return n+(a=="$"?a+s:Un(JO(s)+t.c))+(i=="$"?i+l:ua(XO(l)+t.r))})}function fSe(e,t,r){var n=Lp(t),a=n.s,s=ts(r),i={r:s.r-a.r,c:s.c-a.c};return cK(e,i)}function hSe(e){return e.length!=1}function SF(e){return e.replace(/_xlfn\./g,"")}function yn(e){e.l+=1}function Fu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function uK(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return dK(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Fu(e),l=Fu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function dK(e){var t=Fu(e),r=Fu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function mSe(e,t,r){if(r.biff<8)return dK(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Fu(e),i=Fu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function fK(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return pSe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Fu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function pSe(e){var t=Fu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function gSe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function vSe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return xSe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function xSe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function ySe(e,t,r){var n=(e[e.l++]&96)>>5,a=uK(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function wSe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=uK(e,s,r);return[n,a,i]}function bSe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function _Se(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function SSe(e,t,r){var n=(e[e.l++]&96)>>5,a=mSe(e,t-1,r);return[n,a]}function jSe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function jF(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function kSe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function NSe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ESe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function CSe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function TSe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function hK(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function ASe(e){return e.read_shift(2),hK(e)}function OSe(e){return e.read_shift(2),hK(e)}function PSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=fK(e,0,r);return[n,a]}function DSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=vSe(e,0,r);return[n,a]}function RSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=fK(e,0,r);return[n,a,s]}function ISe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Mje[a],gK[a],n]}function MSe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:FSe(e);return[a,(s[0]===0?gK:Ije)[s[1]]]}function FSe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function LSe(e,t,r){e.l+=r&&r.biff==2?3:4}function $Se(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function BSe(e){return e.l++,Mf[e.read_shift(1)]}function USe(e){return e.l++,e.read_shift(2)}function VSe(e){return e.l++,e.read_shift(1)!==0}function zSe(e){return e.l++,Ta(e)}function WSe(e,t,r){return e.l++,Px(e,t-1,r)}function HSe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=dn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Mf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ta(e);break;case 2:r[1]=Ff(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function qSe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?If:nS)(e));return a}function KSe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=HSe(e,r.biff);return i}function GSe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function YSe(e,t,r){if(r.biff==5)return XSe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function XSe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function JSe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function QSe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function ZSe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function eje(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var tje=Ma,rje=Ma,nje=Ma;function Rx(e,t,r){return e.l+=2,[gSe(e)]}function sP(e){return e.l+=6,[]}var aje=Rx,sje=sP,ije=sP,oje=Rx;function mK(e){return e.l+=2,[_n(e),e.read_shift(2)&1]}var lje=Rx,cje=mK,uje=sP,dje=Rx,fje=Rx,hje=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function mje(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=hje[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function pje(e){return e.l+=2,[e.read_shift(4)]}function gje(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function vje(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function xje(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function yje(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function wje(e){return e.l+=4,[0,0]}var kF={1:{n:"PtgExp",f:$Se},2:{n:"PtgTbl",f:nje},3:{n:"PtgAdd",f:yn},4:{n:"PtgSub",f:yn},5:{n:"PtgMul",f:yn},6:{n:"PtgDiv",f:yn},7:{n:"PtgPower",f:yn},8:{n:"PtgConcat",f:yn},9:{n:"PtgLt",f:yn},10:{n:"PtgLe",f:yn},11:{n:"PtgEq",f:yn},12:{n:"PtgGe",f:yn},13:{n:"PtgGt",f:yn},14:{n:"PtgNe",f:yn},15:{n:"PtgIsect",f:yn},16:{n:"PtgUnion",f:yn},17:{n:"PtgRange",f:yn},18:{n:"PtgUplus",f:yn},19:{n:"PtgUminus",f:yn},20:{n:"PtgPercent",f:yn},21:{n:"PtgParen",f:yn},22:{n:"PtgMissArg",f:yn},23:{n:"PtgStr",f:WSe},26:{n:"PtgSheet",f:gje},27:{n:"PtgEndSheet",f:vje},28:{n:"PtgErr",f:BSe},29:{n:"PtgBool",f:VSe},30:{n:"PtgInt",f:USe},31:{n:"PtgNum",f:zSe},32:{n:"PtgArray",f:jSe},33:{n:"PtgFunc",f:ISe},34:{n:"PtgFuncVar",f:MSe},35:{n:"PtgName",f:GSe},36:{n:"PtgRef",f:PSe},37:{n:"PtgArea",f:ySe},38:{n:"PtgMemArea",f:JSe},39:{n:"PtgMemErr",f:tje},40:{n:"PtgMemNoMem",f:rje},41:{n:"PtgMemFunc",f:QSe},42:{n:"PtgRefErr",f:ZSe},43:{n:"PtgAreaErr",f:bSe},44:{n:"PtgRefN",f:DSe},45:{n:"PtgAreaN",f:SSe},46:{n:"PtgMemAreaN",f:xje},47:{n:"PtgMemNoMemN",f:yje},57:{n:"PtgNameX",f:YSe},58:{n:"PtgRef3d",f:RSe},59:{n:"PtgArea3d",f:wSe},60:{n:"PtgRefErr3d",f:eje},61:{n:"PtgAreaErr3d",f:_Se},255:{}},bje={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_je={1:{n:"PtgElfLel",f:mK},2:{n:"PtgElfRw",f:dje},3:{n:"PtgElfCol",f:aje},6:{n:"PtgElfRwV",f:fje},7:{n:"PtgElfColV",f:oje},10:{n:"PtgElfRadical",f:lje},11:{n:"PtgElfRadicalS",f:uje},13:{n:"PtgElfColS",f:sje},15:{n:"PtgElfColSV",f:ije},16:{n:"PtgElfRadicalLel",f:cje},25:{n:"PtgList",f:mje},29:{n:"PtgSxName",f:pje},255:{}},Sje={0:{n:"PtgAttrNoop",f:wje},1:{n:"PtgAttrSemi",f:TSe},2:{n:"PtgAttrIf",f:ESe},4:{n:"PtgAttrChoose",f:kSe},8:{n:"PtgAttrGoto",f:NSe},16:{n:"PtgAttrSum",f:LSe},32:{n:"PtgAttrBaxcel",f:jF},33:{n:"PtgAttrBaxcel",f:jF},64:{n:"PtgAttrSpace",f:ASe},65:{n:"PtgAttrSpaceSemi",f:OSe},128:{n:"PtgAttrIfError",f:CSe},255:{}};function Ix(e,t,r,n){if(n.biff<8)return Ma(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=KSe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=qSe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(Ma(e,t)),s}function Mx(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=kF[s]||kF[bje[s]],(s===24||s===25)&&(a=(s===24?_je:Sje)[e[e.l+1]]),!a||!a.f?Ma(e,t):i.push([a.n,a.f(e,t,r)]);return i}function jje(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var kje={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Nje(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function pK(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function NF(e,t,r){var n=pK(e,t,r);return n=="#REF"?n:Nje(n,r)}function ja(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",y=0,w=e[0].length;y<w;++y){var b=e[0][y];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=ln(" ",e[0][p][1][1]);break;case 1:v=ln("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+v,p=-1}l.push(u+kje[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=cg(b[1][1],i,a),l.push(ug(d,s));break;case"PtgRefN":d=r?cg(b[1][1],r,a):b[1][1],l.push(ug(d,s));break;case"PtgRef3d":f=b[1][1],d=cg(b[1][2],i,a),g=NF(n,f,a),l.push(g+"!"+ug(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=b[1][0],S=b[1][1];_||(_=0),_&=127;var k=_==0?[]:l.slice(-_);l.length-=_,S==="User"&&(S=k.shift()),l.push(S+"("+k.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":m=iF(b[1][1],r?{s:r}:i,a),l.push(Ck(m,a));break;case"PtgArea":m=iF(b[1][1],i,a),l.push(Ck(m,a));break;case"PtgArea3d":f=b[1][1],m=b[1][2],g=NF(n,f,a),l.push(g+"!"+Ck(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],E=j?j.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var N=b[1][1];h=b[1][2];var A;if(a.biff<=5)N<0&&(N=-N),n[N]&&(A=n[N][h]);else{var D="";if(((n[N]||[])[0]||[])[0]==14849||(((n[N]||[])[0]||[])[0]==1025?n[N][h]&&n[N][h].itab>0&&(D=n.SheetNames[n[N][h].itab-1]+"!"):D=n.SheetNames[h-1]+"!"),n[N]&&n[N][h])D+=n[N][h].Name;else if(n[0]&&n[0][h])D+=n[0][h].Name;else{var T=(pK(n,N,a)||"").split(";;");T[h-1]?D=T[h-1]:D+="SH33TJSERRX"}l.push(D);break}A||(A={Name:"SH33TJSERRY"}),l.push(A.Name);break;case"PtgParen":var U="(",q=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:U=ln(" ",e[0][p][1][1])+U;break;case 3:U=ln("\r",e[0][p][1][1])+U;break;case 4:q=ln(" ",e[0][p][1][1])+q;break;case 5:q=ln("\r",e[0][p][1][1])+q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(U+l.pop()+q);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var M={c:r.c,r:r.r};if(n.sharedf[It(d)]){var I=n.sharedf[It(d)];l.push(ja(I,i,M,n,a))}else{var V=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(ja(u[1],i,M,n,a)),V=!0;break}V||l.push(b[1])}break;case"PtgArray":l.push("{"+jje(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var F=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&F.indexOf(e[0][y][0])==-1){b=e[0][p];var R=!0;switch(b[1][0]){case 4:R=!1;case 0:v=ln(" ",b[1][1]);break;case 5:R=!1;case 1:v=ln("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((R?v:"")+l.pop()+(R?"":v)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function Eje(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Ma(e,t-2)];var l=Mx(e,i,r);return t!==i+a&&(s=Ix(e,t-i-a,l,r)),e.l=n,[l,s]}function Cje(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Ma(e,t-2)];var l=Mx(e,i,r);return t!==i+a&&(s=Ix(e,t-i-a,l,r)),e.l=n,[l,s]}function Tje(e,t,r,n){var a=e.l+t,s=Mx(e,n,r),i;return a!==e.l&&(i=Ix(e,a-e.l,s,r)),[s,i]}function Aje(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=Mx(e,s,r);return s==65535?[[],Ma(e,t-2)]:(t!==s+2&&(a=Ix(e,n-s-2,i,r)),[i,a])}function Oje(e){var t;if(Jl(e,e.l+6)!==65535)return[Ta(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Ok(e,t,r){var n=e.l+t,a=Cl(e);r.biff==2&&++e.l;var s=Oje(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=Cje(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:i>>3&1,tt:s[1]}}function aS(e,t,r){var n=e.read_shift(4),a=Mx(e,n,r),s=e.read_shift(4),i=s>0?Ix(e,s,a,r):null;return[a,i]}var Pje=aS,sS=aS,Dje=aS,Rje=aS,Ije={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},gK={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Mje={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function EF(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Pk(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var mg={},rm={};function pg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function vK(e,t,r,n,a,s){try{n.cellNF&&(e.z=Ut[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Jn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ut[t]==null&&Kd(Fye[t]||"General",t),e.t==="e")e.w=e.w||Mf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=nv(e.v);else if(e.t==="d"){var i=ls(e.v);(i|0)===i?e.w=i.toString(10):e.w=nv(i)}else{if(e.v===void 0)return"";e.w=mf(e.v,rm)}else e.t==="d"?e.w=Ui(t,ls(e.v),rm):e.w=Ui(t,e.v,rm)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Bw(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Bw(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function Fje(e,t){var r=un(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=tr(r))}var Lje=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,$je=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Bje=/<(?:\w:)?hyperlink [^>]*>/mg,Uje=/"(\w*:\w*)"/,Vje=/<(?:\w:)?col\b[^>]*[\/]?>/g,zje=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Wje=/<(?:\w:)?pageMargins[^>]*\/>/g,xK=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Hje=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,qje=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Kje(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match($je);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(xK);h?iP(h[0],l,a,r):(h=u.match(Hje))&&Gje(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var g=u.slice(m,m+50).match(Uje);g&&Fje(l,g[1])}var p=u.match(qje);p&&p[1]&&eke(p[1],a);var v=[];if(t.cellStyles){var y=u.match(Vje);y&&Jje(v,y)}f&&tke(f[1],l,t,c,s,i);var w=d.match(zje);w&&(l["!autofilter"]=Qje(w[0]));var b=[],_=d.match(Lje);if(_)for(m=0;m!=_.length;++m)b[m]=un(_[m].slice(_[m].indexOf('"')+1));var S=d.match(Bje);S&&Yje(l,S,n);var k=d.match(Wje);if(k&&(l["!margins"]=Xje(At(k[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=tr(c)),t.sheetRows>0&&l["!ref"]){var j=un(l["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),l["!fullref"]=l["!ref"],l["!ref"]=tr(j))}return v.length>0&&(l["!cols"]=v),b.length>0&&(l["!merges"]=b),l}function iP(e,t,r,n){var a=At(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=sr(Dr(a.codeName)))}function Gje(e,t,r,n,a){iP(e.slice(0,e.indexOf(">")),r,n,a)}function Yje(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=At(Dr(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+sr(s.location))):(s.Target="#"+sr(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=un(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=It({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function Xje(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Jje(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=At(t[n],!0);a.hidden&&(a.hidden=Wr(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,aP(a.width)),Um(a);s<=i;)e[s++]=ca(a)}}function Qje(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Zje=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function eke(e,t){t.Views||(t.Views=[{}]),(e.match(Zje)||[]).forEach(function(r,n){var a=At(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Wr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var tke=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=av("v"),i=av("f");return function(c,u,d,f,h,m){for(var g=0,p="",v=[],y=[],w=0,b=0,_=0,S="",k,j,E=0,N=0,A,D,T=0,U=0,q=Array.isArray(m.CellXf),M,I=[],V=[],F=Array.isArray(u),R=[],re={},Z=!1,C=!!d.sheetStubs,K=c.split(t),B=0,z=K.length;B!=z;++B){p=K[B].trim();var ne=p.length;if(ne!==0){var oe=0;e:for(g=0;g<ne;++g)switch(p[g]){case">":if(p[g-1]!="/"){++g;break e}if(d&&d.cellStyles){if(j=At(p.slice(oe,g),!0),E=j.r!=null?parseInt(j.r,10):E+1,N=-1,d.sheetRows&&d.sheetRows<E)continue;re={},Z=!1,j.ht&&(Z=!0,re.hpt=parseFloat(j.ht),re.hpx=lv(re.hpt)),j.hidden=="1"&&(Z=!0,re.hidden=!0),j.outlineLevel!=null&&(Z=!0,re.level=+j.outlineLevel),Z&&(R[E-1]=re)}break;case"<":oe=g;break}if(oe>=g)break;if(j=At(p.slice(oe,g),!0),E=j.r!=null?parseInt(j.r,10):E+1,N=-1,!(d.sheetRows&&d.sheetRows<E)){f.s.r>E-1&&(f.s.r=E-1),f.e.r<E-1&&(f.e.r=E-1),d&&d.cellStyles&&(re={},Z=!1,j.ht&&(Z=!0,re.hpt=parseFloat(j.ht),re.hpx=lv(re.hpt)),j.hidden=="1"&&(Z=!0,re.hidden=!0),j.outlineLevel!=null&&(Z=!0,re.level=+j.outlineLevel),Z&&(R[E-1]=re)),v=p.slice(g).split(e);for(var ue=0;ue!=v.length&&v[ue].trim().charAt(0)=="<";++ue);for(v=v.slice(ue),g=0;g!=v.length;++g)if(p=v[g].trim(),p.length!==0){if(y=p.match(r),w=g,b=0,_=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,y!=null&&y.length===2){for(w=0,S=y[1],b=0;b!=S.length&&!((_=S.charCodeAt(b)-64)<1||_>26);++b)w=26*w+_;--w,N=w}else++N;for(b=0;b!=p.length&&p.charCodeAt(b)!==62;++b);if(++b,j=At(p.slice(0,b),!0),j.r||(j.r=It({r:E-1,c:N})),S=p.slice(b),k={t:""},(y=S.match(s))!=null&&y[1]!==""&&(k.v=sr(y[1])),d.cellFormula){if((y=S.match(i))!=null&&y[1]!==""){if(k.f=sr(Dr(y[1])).replace(/\r\n/g,`
`),d.xlfn||(k.f=SF(k.f)),y[0].indexOf('t="array"')>-1)k.F=(S.match(a)||[])[1],k.F.indexOf(":")>-1&&I.push([un(k.F),k.F]);else if(y[0].indexOf('t="shared"')>-1){D=At(y[0]);var ie=sr(Dr(y[1]));d.xlfn||(ie=SF(ie)),V[parseInt(D.si,10)]=[D,ie,j.r]}}else(y=S.match(/<f[^>]*\/>/))&&(D=At(y[0]),V[D.si]&&(k.f=fSe(V[D.si][1],V[D.si][2],j.r)));var X=ts(j.r);for(b=0;b<I.length;++b)X.r>=I[b][0].s.r&&X.r<=I[b][0].e.r&&X.c>=I[b][0].s.c&&X.c<=I[b][0].e.c&&(k.F=I[b][1])}if(j.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(C)k.t="z";else continue;else k.t=j.t||"n";switch(f.s.c>N&&(f.s.c=N),f.e.c<N&&(f.e.c=N),k.t){case"n":if(k.v==""||k.v==null){if(!C)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!C)continue;k.t="z"}else A=mg[parseInt(k.v,10)],k.v=A.t,k.r=A.r,d.cellHTML&&(k.h=A.h);break;case"str":k.t="s",k.v=k.v!=null?Dr(k.v):"",d.cellHTML&&(k.h=KO(k.v));break;case"inlineStr":y=S.match(n),k.t="s",y!=null&&(A=nP(y[1]))?(k.v=A.t,d.cellHTML&&(k.h=A.h)):k.v="";break;case"b":k.v=Wr(k.v);break;case"d":d.cellDates?k.v=Jn(k.v,1):(k.v=ls(Jn(k.v,1)),k.t="n");break;case"e":(!d||d.cellText!==!1)&&(k.w=k.v),k.v=$q[k.v];break}if(T=U=0,M=null,q&&j.s!==void 0&&(M=m.CellXf[j.s],M!=null&&(M.numFmtId!=null&&(T=M.numFmtId),d.cellStyles&&M.fillId!=null&&(U=M.fillId))),vK(k,T,U,d,h,m),d.cellDates&&q&&k.t=="n"&&Fp(Ut[T])&&(k.t="d",k.v=rS(k.v)),j.cm&&d.xlmeta){var de=(d.xlmeta.Cell||[])[+j.cm-1];de&&de.type=="XLDAPR"&&(k.D=!0)}if(F){var O=ts(j.r);u[O.r]||(u[O.r]=[]),u[O.r][O.c]=k}else u[j.r]=k}}}}R.length>0&&(u["!rows"]=R)}}();function rke(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var nke=If;function ake(){}function ske(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=E1e(e),r}function ike(e){var t=Wi(e);return[t]}function oke(e){var t=Rf(e);return[t]}function lke(e){var t=Wi(e),r=e.read_shift(1);return[t,r,"b"]}function cke(e){var t=Rf(e),r=e.read_shift(1);return[t,r,"b"]}function uke(e){var t=Wi(e),r=e.read_shift(1);return[t,r,"e"]}function dke(e){var t=Rf(e),r=e.read_shift(1);return[t,r,"e"]}function fke(e){var t=Wi(e),r=e.read_shift(4);return[t,r,"s"]}function hke(e){var t=Rf(e),r=e.read_shift(4);return[t,r,"s"]}function mke(e){var t=Wi(e),r=Ta(e);return[t,r,"n"]}function yK(e){var t=Rf(e),r=Ta(e);return[t,r,"n"]}function pke(e){var t=Wi(e),r=eP(e);return[t,r,"n"]}function gke(e){var t=Rf(e),r=eP(e);return[t,r,"n"]}function vke(e){var t=Wi(e),r=QO(e);return[t,r,"is"]}function xke(e){var t=Wi(e),r=Pa(e);return[t,r,"str"]}function yke(e){var t=Rf(e),r=Pa(e);return[t,r,"str"]}function wke(e,t,r){var n=e.l+t,a=Wi(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=sS(e,n-e.l,r);i[3]=ja(l,null,a,r.supbooks,r)}else e.l=n;return i}function bke(e,t,r){var n=e.l+t,a=Wi(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=sS(e,n-e.l,r);i[3]=ja(l,null,a,r.supbooks,r)}else e.l=n;return i}function _ke(e,t,r){var n=e.l+t,a=Wi(e);a.r=r["!row"];var s=Ta(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=sS(e,n-e.l,r);i[3]=ja(l,null,a,r.supbooks,r)}else e.l=n;return i}function Ske(e,t,r){var n=e.l+t,a=Wi(e);a.r=r["!row"];var s=Pa(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=sS(e,n-e.l,r);i[3]=ja(l,null,a,r.supbooks,r)}else e.l=n;return i}var jke=If;function kke(e,t){var r=e.l+t,n=If(e),a=ZO(e),s=Pa(e),i=Pa(e),l=Pa(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return i&&(c.Tooltip=i),c}function Nke(){}function Eke(e,t,r){var n=e.l+t,a=Mq(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var l=Pje(e,n-e.l,r);i[1]=l}else e.l=n;return i}function Cke(e,t,r){var n=e.l+t,a=If(e),s=[a];if(r.cellFormula){var i=Rje(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var Tke=["left","right","top","bottom","header","footer"];function Ake(e){var t={};return Tke.forEach(function(r){t[r]=Ta(e)}),t}function Oke(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Pke(){}function Dke(){}function Rke(e,t,r,n,a,s,i){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,g,p,v,y,w,b,_,S,k=[];l.biff=12,l["!row"]=0;var j=0,E=!1,N=[],A={},D=l.supbooks||a.supbooks||[[]];if(D.sharedf=A,D.arrayf=N,D.SheetNames=a.SheetNames||a.Sheets.map(function(F){return F.name}),!l.supbooks&&(l.supbooks=D,a.Names))for(var T=0;T<a.Names.length;++T)D[0][T+1]=a.Names[T];var U=[],q=[],M=!1;zw[16]={n:"BrtShortReal",f:yK};var I;if(kc(e,function(R,re,Z){if(!h)switch(Z){case 148:u=R;break;case 0:m=R,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),_=ua(v=m.r),l["!row"]=m.r,(R.hidden||R.hpt||R.level!=null)&&(R.hpt&&(R.hpx=lv(R.hpt)),q[R.r]=R);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:R[2]},R[2]){case"n":g.v=R[1];break;case"s":b=mg[R[1]],g.v=b.t,g.r=b.r;break;case"b":g.v=!!R[1];break;case"e":g.v=R[1],l.cellText!==!1&&(g.w=Mf[g.v]);break;case"str":g.t="s",g.v=R[1];break;case"is":g.t="s",g.v=R[1].t;break}if((p=i.CellXf[R[0].iStyleRef])&&vK(g,p.numFmtId,null,l,s,i),y=R[0].c==-1?y+1:R[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[Un(y)+_]=g,l.cellFormula){for(E=!1,j=0;j<N.length;++j){var C=N[j];m.r>=C[0].s.r&&m.r<=C[0].e.r&&y>=C[0].s.c&&y<=C[0].e.c&&(g.F=tr(C[0]),E=!0)}!E&&R.length>3&&(g.f=R[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),l.cellDates&&p&&g.t=="n"&&Fp(Ut[p.numFmtId])){var K=Cd(g.v);K&&(g.t="d",g.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}I&&(I.type=="XLDAPR"&&(g.D=!0),I=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;g={t:"z",v:void 0},y=R[0].c==-1?y+1:R[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[Un(y)+_]=g,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),I&&(I.type=="XLDAPR"&&(g.D=!0),I=void 0);break;case 176:k.push(R);break;case 49:I=((l.xlmeta||{}).Cell||[])[R-1];break;case 494:var B=n["!id"][R.relId];for(B?(R.Target=B.Target,R.loc&&(R.Target+="#"+R.loc),R.Rel=B):R.relId==""&&(R.Target="#"+R.loc),v=R.rfx.s.r;v<=R.rfx.e.r;++v)for(y=R.rfx.s.c;y<=R.rfx.e.c;++y)l.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=R):(w=It({c:y,r:v}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=R);break;case 426:if(!l.cellFormula)break;N.push(R),S=l.dense?c[v][y]:c[Un(y)+_],S.f=ja(R[1],d,{r:m.r,c:y},D,l),S.F=tr(R[0]);break;case 427:if(!l.cellFormula)break;A[It(R[0].s)]=R[1],S=l.dense?c[v][y]:c[Un(y)+_],S.f=ja(R[1],d,{r:m.r,c:y},D,l);break;case 60:if(!l.cellStyles)break;for(;R.e>=R.s;)U[R.e--]={width:R.w/256,hidden:!!(R.flags&1),level:R.level},M||(M=!0,aP(R.w/256)),Um(U[R.e+1]);break;case 161:c["!autofilter"]={ref:tr(R)};break;case 476:c["!margins"]=R;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),R.name&&(a.Sheets[r].CodeName=R.name),(R.above||R.left)&&(c["!outline"]={above:R.above,left:R.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),R.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!re.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=tr(u||d)),l.sheetRows&&c["!ref"]){var V=un(c["!ref"]);l.sheetRows<=+V.e.r&&(V.e.r=l.sheetRows-1,V.e.r>d.e.r&&(V.e.r=d.e.r),V.e.r<V.s.r&&(V.s.r=V.e.r),V.e.c>d.e.c&&(V.e.c=d.e.c),V.e.c<V.s.c&&(V.s.c=V.e.c),c["!fullref"]=c["!ref"],c["!ref"]=tr(V))}return k.length>0&&(c["!merges"]=k),U.length>0&&(c["!cols"]=U),q.length>0&&(c["!rows"]=q),c}function Ike(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=sr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function Mke(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Ike(f);d.s.r=d.s.c=0,d.e.c=l,u=Un(l),h[0].forEach(function(m,g){i[u+ua(g)]={t:"n",v:m,z:h[1]},c=g}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(i["!ref"]=tr(d)),i}function Fke(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,l=e.match(xK);return l&&iP(l[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Lke(e,t){e.l+=10;var r=Pa(e);return{name:r}}function $ke(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return kc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var wK=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Bke=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Uke=[],Vke=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function CF(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Wr(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function TF(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Wr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function bK(e){TF(e.WBProps,wK),TF(e.CalcPr,Vke),CF(e.WBView,Bke),CF(e.Sheets,Uke),rm.date1904=Wr(e.WBProps.date1904)}var zke="][*?/\\".split("");function Wke(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return zke.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Hke=/<\w+:workbook/;function qke(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace($a,function(c,u){var d=At(c);switch(El(d[0])){case"<?xml":break;case"<workbook":c.match(Hke)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":wK.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Wr(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Dr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=sr(Dr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Dr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Wr(d.hidden||"0")&&(s.Hidden=!0),i=u+c.length;break;case"</definedName>":s.Ref=sr(Dr(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),u1e.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return bK(r),r}function Kke(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=xE(e),r.name=Pa(e),r}function Gke(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Pa(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Yke(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Xke(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=C1e(e),i=Dje(e,0,r),l=ZO(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Jke(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],zw[16]={n:"BrtFRTArchID$",f:Yke},kc(e,function(c,u,d){switch(d){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ja(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,c]):i[0]=[d,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),bK(r),r.Names=s,r.supbooks=i,r}function Qke(e,t,r){return t.slice(-4)===".bin"?Jke(e,r):qke(e,r)}function Zke(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Rke(e,n,r,a,s,i,l):Kje(e,n,r,a,s,i,l)}function e2e(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?$ke(e,n,r,a,s):Fke(e,n,r,a,s)}function t2e(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?cSe():uSe()}function r2e(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?oSe():lSe()}function n2e(e,t,r,n){return t.slice(-4)===".bin"?j_e(e,r,n):x_e(e,r,n)}function a2e(e,t,r){return oK(e,r)}function s2e(e,t,r){return t.slice(-4)===".bin"?Bbe(e,r):Lbe(e,r)}function i2e(e,t,r){return t.slice(-4)===".bin"?aSe(e,r):Z_e(e,r)}function o2e(e,t,r){return t.slice(-4)===".bin"?X_e(e):G_e(e)}function l2e(e,t,r,n){return r.slice(-4)===".bin"?J_e(e,t,r,n):void 0}function c2e(e,t,r){return t.slice(-4)===".bin"?q_e(e,t,r):K_e(e,t,r)}var _K=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,SK=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Xi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(_K),s,i,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(SK),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(i+1),n[l]=s[2].slice(1,s[2].length-1));return n}function u2e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(_K),a,s,i,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(SK),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var gg;function d2e(e,t){var r=gg[e]||sr(e);return r==="General"?mf(t):Ui(r,t)}function f2e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Wr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Jn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[sr(t)]=a}function h2e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Mf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=nv(e.v):e.w=mf(e.v):e.w=d2e(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=gg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Fp(n)){var a=Cd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function m2e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=f_e[n.Pattern]||n.Pattern)}e[t.ID]=t}function p2e(e,t,r,n,a,s,i,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],g=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Wr(e);break;case"String":n.t="s",n.r=JM(sr(e)),n.v=e.indexOf("<")>-1?sr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Jn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=sr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=$q[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=JM(t||e));break}if(h2e(n,d,u),u.cellFormula!==!1)if(n.Formula){var p=sr(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=tm(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=tm("RC:RC",a):n.ArrayRange&&(n.F=tm(n.ArrayRange,a),c.push([un(n.F),n.F]))}else for(g=0;g<c.length;++g)a.r>=c[g][0].s.r&&a.r<=c[g][0].e.r&&a.c>=c[g][0].s.c&&a.c<=c[g][0].e.c&&(n.F=c[g][1]);u.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function g2e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Dk(e,t){var r=t||{};dq();var n=L0(GO(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Dr(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=ca(r);return i.type="string",iv.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ft){a.indexOf("<"+ft)>=0&&(s=!0)}),s)return k2e(n,r);gg={"General Number":"General","General Date":Ut[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ut[15],"Short Date":Ut[14],"Long Time":Ut[19],"Medium Time":Ut[18],"Short Time":Ut[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ut[2],Standard:Ut[4],Percent:Ut[10],Scientific:Ut[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",g={},p={},v=Xi('<Data ss:Type="String">'),y=0,w=0,b=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},k={},j="",E=0,N=[],A={},D={},T=0,U=[],q=[],M={},I=[],V,F=!1,R=[],re=[],Z={},C=0,K=0,B={Sheets:[],WBProps:{date1904:!1}},z={};sv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";l=sv.exec(n);)switch(l[3]=(ne=l[3]).toLowerCase()){case"data":if(ne=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?p2e(n.slice(y,l.index),j,v,c[c.length-1][0]=="comment"?M:g,{c:w,r:b},S,I[w],p,R,r):(j="",v=Xi(l[0]),y=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(q.length>0&&(g.c=q),(!r.sheetRows||r.sheetRows>b)&&g.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][w]=g):h[Un(w)+ua(b)]=g),g.HRef&&(g.l={Target:sr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(C=w+(parseInt(g.MergeAcross,10)|0),K=b+(parseInt(g.MergeDown,10)|0),N.push({s:{c:w,r:b},e:{c:C,r:K}})),!r.sheetStubs)g.MergeAcross?w=C+1:++w;else if(g.MergeAcross||g.MergeDown){for(var oe=w;oe<=C;++oe)for(var ue=b;ue<=K;++ue)(oe>w||ue>b)&&(r.dense?(h[ue]||(h[ue]=[]),h[ue][oe]={t:"z"}):h[Un(oe)+ua(ue)]={t:"z"});w=C+1}else++w;else g=u2e(l[0]),g.Index&&(w=+g.Index-1),w<_.s.c&&(_.s.c=w),w>_.e.c&&(_.e.c=w),l[0].slice(-2)==="/>"&&++w,q=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<_.s.r&&(_.s.r=b),b>_.e.r&&(_.e.r=b),l[0].slice(-2)==="/>"&&(p=Xi(l[0]),p.Index&&(b=+p.Index-1)),w=0,++b):(p=Xi(l[0]),p.Index&&(b=+p.Index-1),Z={},(p.AutoFitHeight=="0"||p.Height)&&(Z.hpx=parseInt(p.Height,10),Z.hpt=iK(Z.hpx),re[b]=Z),p.Hidden=="1"&&(Z.hidden=!0,re[b]=Z));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=tr(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=tr(_))),N.length&&(h["!merges"]=N),I.length>0&&(h["!cols"]=I),re.length>0&&(h["!rows"]=re),d[m]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,c.push([l[3],!1]),u=Xi(l[0]),m=sr(u.Name),h=r.dense?[]:{},N=[],R=[],re=[],z={name:m,Hidden:0},B.Sheets.push(z);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),I=[],F=!1}break;case"style":l[1]==="/"?m2e(S,k,r):k=Xi(l[0]);break;case"numberformat":k.nf=sr(Xi(l[0]).Format||"General"),gg[k.nf]&&(k.nf=gg[k.nf]);for(var ie=0;ie!=392&&Ut[ie]!=k.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(Ut[ie]==null){Kd(k.nf,ie);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(V=Xi(l[0]),V.Hidden&&(V.hidden=!0,delete V.Hidden),V.Width&&(V.wpx=parseInt(V.Width,10)),!F&&V.wpx>10){F=!0,Za=aK;for(var X=0;X<I.length;++X)I[X]&&Um(I[X])}F&&Um(V),I[V.Index-1||I.length]=V;for(var de=0;de<+V.Span;++de)I[I.length]=ca(V);break;case"namedrange":if(l[1]==="/")break;B.Names||(B.Names=[]);var O=At(l[0]),Fe={Name:O.Name,Ref:tm(O.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(Fe.Sheet=B.Sheets.length-1),B.Names.push(Fe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(E,l.index):E=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;k.Interior=Xi(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Z1e(A,ne,n.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));g2e(M),q.push(M)}else c.push([l[3],!1]),u=Xi(l[0]),M={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Re=Xi(l[0]);h["!autofilter"]={ref:tm(Re.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return IF(n,r);var Be=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Be=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Be=!1}break;case"excelworkbook":switch(l[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Be=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Be=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(T,l.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else T=l.index+l[0].length;break;case"header":h["!margins"]||pg(h["!margins"]={},"xlml"),isNaN(+At(l[0]).Margin)||(h["!margins"].header=+At(l[0]).Margin);break;case"footer":h["!margins"]||pg(h["!margins"]={},"xlml"),isNaN(+At(l[0]).Margin)||(h["!margins"].footer=+At(l[0]).Margin);break;case"pagemargins":var We=At(l[0]);h["!margins"]||pg(h["!margins"]={},"xlml"),isNaN(+We.Top)||(h["!margins"].top=+We.Top),isNaN(+We.Left)||(h["!margins"].left=+We.Left),isNaN(+We.Right)||(h["!margins"].right=+We.Right),isNaN(+We.Bottom)||(h["!margins"].bottom=+We.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Be=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Be=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Be=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Be=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Be=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Be=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Be=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Be=!1}break;case"smarttags":break;default:Be=!1;break}if(Be||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?f2e(D,ne,U,n.slice(T,l.index)):(U=l,T=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var De={};return!r.bookSheets&&!r.bookProps&&(De.Sheets=d),De.SheetNames=f,De.Workbook=B,De.SSF=ca(Ut),De.Props=A,De.Custprops=D,De}function _E(e,t){switch(cP(t=t||{}),t.type||"base64"){case"base64":return Dk(ui(e),t);case"binary":case"buffer":case"file":return Dk(e,t);case"array":return Dk(Df(e),t)}}function v2e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=O1e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=P1e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var x2e=[60,1084,2066,2165,2175];function y2e(e,t,r,n,a){var s=n,i=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}i.push(l),r.l+=s;for(var c=Jl(r,r.l),u=SE[c],d=0;u!=null&&x2e.indexOf(c)>-1;)s=Jl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),i.push(l),r.l+=4+s,u=SE[c=Jl(r,r.l)];var f=Jc(i);ra(f,0);var h=0;f.lens=[];for(var m=0;m<i.length;++m)f.lens.push(h),h+=i[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Wo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ut[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Mf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=nv(e.v):e.w=mf(e.v):e.w=Ui(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Fp(Ut[n]||String(n))){var a=Cd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function qy(e,t,r){return{v:e,ixfe:t,t:r}}function w2e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},l=null,c=[],u="",d={},f,h="",m,g,p,v,y={},w=[],b,_,S=[],k=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},N=function(je){return je<8?Gd[je]:je<64&&k[je-8]||Gd[je]},A=function(je,Le,Ie){var Ve=Le.XF.data;if(!(!Ve||!Ve.patternType||!Ie||!Ie.cellStyles)){Le.s={},Le.s.patternType=Ve.patternType;var vt;(vt=ov(N(Ve.icvFore)))&&(Le.s.fgColor={rgb:vt}),(vt=ov(N(Ve.icvBack)))&&(Le.s.bgColor={rgb:vt})}},D=function(je,Le,Ie){if(!(Z>1)&&!(Ie.sheetRows&&je.r>=Ie.sheetRows)){if(Ie.cellStyles&&Le.XF&&Le.XF.data&&A(je,Le,Ie),delete Le.ixfe,delete Le.XF,f=je,h=It(je),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),je.r<i.s.r&&(i.s.r=je.r),je.c<i.s.c&&(i.s.c=je.c),je.r+1>i.e.r&&(i.e.r=je.r+1),je.c+1>i.e.c&&(i.e.c=je.c+1),Ie.cellFormula&&Le.f){for(var Ve=0;Ve<w.length;++Ve)if(!(w[Ve][0].s.c>je.c||w[Ve][0].s.r>je.r)&&!(w[Ve][0].e.c<je.c||w[Ve][0].e.r<je.r)){Le.F=tr(w[Ve][0]),(w[Ve][0].s.c!=je.c||w[Ve][0].s.r!=je.r)&&delete Le.f,Le.f&&(Le.f=""+ja(w[Ve][1],i,je,R,T));break}}Ie.dense?(a[je.r]||(a[je.r]=[]),a[je.r][je.c]=Le):a[h]=Le}},T={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var U,q=[],M=[],I=[],V=[],F=!1,R=[];R.SheetNames=T.snames,R.sharedf=T.sharedf,R.arrayf=T.arrayf,R.names=[],R.XTI=[];var re=0,Z=0,C=0,K=[],B=[],z;T.codepage=1200,yo(1200);for(var ne=!1;e.l<e.length-1;){var oe=e.l,ue=e.read_shift(2);if(ue===0&&re===10)break;var ie=e.l===e.length?0:e.read_shift(2),X=SE[ue];if(X&&X.f){if(t.bookSheets&&re===133&&ue!==133)break;if(re=ue,X.r===2||X.r==12){var de=e.read_shift(2);if(ie-=2,!T.enc&&de!==ue&&((de&255)<<8|de>>8)!==ue)throw new Error("rt mismatch: "+de+"!="+ue);X.r==12&&(e.l+=10,ie-=10)}var O={};if(ue===10?O=X.f(e,ie,T):O=y2e(ue,X,e,ie,T),Z==0&&[9,521,1033,2057].indexOf(re)===-1)continue;switch(ue){case 34:r.opts.Date1904=j.WBProps.date1904=O;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=O,!t.password)throw new Error("File is password-protected");if(O.valid==null)throw new Error("Encryption scheme unsupported");if(!O.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=O;break;case 66:var Fe=Number(O);switch(Fe){case 21010:Fe=1200;break;case 32768:Fe=1e4;break;case 32769:Fe=1252;break}yo(T.codepage=Fe),ne=!0;break;case 317:T.rrtabid=O;break;case 25:T.winlocked=O;break;case 439:r.opts.RefreshAll=O;break;case 12:r.opts.CalcCount=O;break;case 16:r.opts.CalcDelta=O;break;case 17:r.opts.CalcIter=O;break;case 13:r.opts.CalcMode=O;break;case 14:r.opts.CalcPrecision=O;break;case 95:r.opts.CalcSaveRecalc=O;break;case 15:T.CalcRefMode=O;break;case 2211:r.opts.FullCalc=O;break;case 129:O.fDialog&&(a["!type"]="dialog"),O.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),O.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(O);break;case 430:R.push([O]),R[R.length-1].XTI=[];break;case 35:case 547:R[R.length-1].push(O);break;case 24:case 536:z={Name:O.Name,Ref:ja(O.rgce,i,null,R,T)},O.itab>0&&(z.Sheet=O.itab-1),R.names.push(z),R[0]||(R[0]=[],R[0].XTI=[]),R[R.length-1].push(O),O.Name=="_xlnm._FilterDatabase"&&O.itab>0&&O.rgce&&O.rgce[0]&&O.rgce[0][0]&&O.rgce[0][0][0]=="PtgArea3d"&&(B[O.itab-1]={ref:tr(O.rgce[0][0][1][2])});break;case 22:T.ExternCount=O;break;case 23:R.length==0&&(R[0]=[],R[0].XTI=[]),R[R.length-1].XTI=R[R.length-1].XTI.concat(O),R.XTI=R.XTI.concat(O);break;case 2196:if(T.biff<8)break;z!=null&&(z.Comment=O[1]);break;case 18:a["!protect"]=O;break;case 19:O!==0&&T.WTF&&console.error("Password verifier: "+O);break;case 133:s[O.pos]=O,T.snames.push(O.name);break;case 10:{if(--Z)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=tr(i),t.sheetRows&&t.sheetRows<=i.e.r){var Re=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=tr(i),i.e.r=Re}i.e.r++,i.e.c++}q.length>0&&(a["!merges"]=q),M.length>0&&(a["!objects"]=M),I.length>0&&(a["!cols"]=I),V.length>0&&(a["!rows"]=V),j.Sheets.push(E)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[O.BIFFVer]||8),T.biffguess=O.BIFFVer==0,O.BIFFVer==0&&O.dt==4096&&(T.biff=5,ne=!0,yo(T.codepage=28591)),T.biff==8&&O.BIFFVer==0&&O.dt==16&&(T.biff=2),Z++)break;if(a=t.dense?[]:{},T.biff<8&&!ne&&(ne=!0,yo(T.codepage=t.codepage||1252)),T.biff<5||O.BIFFVer==0&&O.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Be={pos:e.l-ie,name:u};s[Be.pos]=Be,T.snames.push(u)}else u=(s[oe]||{name:""}).name;O.dt==32&&(a["!type"]="chart"),O.dt==64&&(a["!type"]="macro"),q=[],M=[],T.arrayf=w=[],I=[],V=[],F=!1,E={Hidden:(s[oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[O.r]||[])[O.c]:a[It({c:O.c,r:O.r})])&&++O.c,b={ixfe:O.ixfe,XF:S[O.ixfe]||{},v:O.val,t:"n"},C>0&&(b.z=K[b.ixfe>>8&63]),Wo(b,t,r.opts.Date1904),D({c:O.c,r:O.r},b,t);break;case 5:case 517:b={ixfe:O.ixfe,XF:S[O.ixfe],v:O.val,t:O.t},C>0&&(b.z=K[b.ixfe>>8&63]),Wo(b,t,r.opts.Date1904),D({c:O.c,r:O.r},b,t);break;case 638:b={ixfe:O.ixfe,XF:S[O.ixfe],v:O.rknum,t:"n"},C>0&&(b.z=K[b.ixfe>>8&63]),Wo(b,t,r.opts.Date1904),D({c:O.c,r:O.r},b,t);break;case 189:for(var We=O.c;We<=O.C;++We){var De=O.rkrec[We-O.c][0];b={ixfe:De,XF:S[De],v:O.rkrec[We-O.c][1],t:"n"},C>0&&(b.z=K[b.ixfe>>8&63]),Wo(b,t,r.opts.Date1904),D({c:We,r:O.r},b,t)}break;case 6:case 518:case 1030:{if(O.val=="String"){l=O;break}if(b=qy(O.val,O.cell.ixfe,O.tt),b.XF=S[b.ixfe],t.cellFormula){var ft=O.formula;if(ft&&ft[0]&&ft[0][0]&&ft[0][0][0]=="PtgExp"){var gt=ft[0][0][1][0],se=ft[0][0][1][1],ve=It({r:gt,c:se});y[ve]?b.f=""+ja(O.formula,i,O.cell,R,T):b.F=((t.dense?(a[gt]||[])[se]:a[ve])||{}).F}else b.f=""+ja(O.formula,i,O.cell,R,T)}C>0&&(b.z=K[b.ixfe>>8&63]),Wo(b,t,r.opts.Date1904),D(O.cell,b,t),l=O}break;case 7:case 519:if(l)l.val=O,b=qy(O,l.cell.ixfe,"s"),b.XF=S[b.ixfe],t.cellFormula&&(b.f=""+ja(l.formula,i,l.cell,R,T)),C>0&&(b.z=K[b.ixfe>>8&63]),Wo(b,t,r.opts.Date1904),D(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(O);var Q=It(O[0].s);if(m=t.dense?(a[O[0].s.r]||[])[O[0].s.c]:a[Q],t.cellFormula&&m){if(!l||!Q||!m)break;m.f=""+ja(O[1],i,O[0],R,T),m.F=tr(O[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;y[It(l.cell)]=O[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[It(l.cell)],(m||{}).f=""+ja(O[0],i,f,R,T)}}break;case 253:b=qy(c[O.isst].t,O.ixfe,"s"),c[O.isst].h&&(b.h=c[O.isst].h),b.XF=S[b.ixfe],C>0&&(b.z=K[b.ixfe>>8&63]),Wo(b,t,r.opts.Date1904),D({c:O.c,r:O.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:O.ixfe,XF:S[O.ixfe],t:"z"},C>0&&(b.z=K[b.ixfe>>8&63]),Wo(b,t,r.opts.Date1904),D({c:O.c,r:O.r},b,t));break;case 190:if(t.sheetStubs)for(var ee=O.c;ee<=O.C;++ee){var he=O.ixfe[ee-O.c];b={ixfe:he,XF:S[he],t:"z"},C>0&&(b.z=K[b.ixfe>>8&63]),Wo(b,t,r.opts.Date1904),D({c:ee,r:O.r},b,t)}break;case 214:case 516:case 4:b=qy(O.val,O.ixfe,"s"),b.XF=S[b.ixfe],C>0&&(b.z=K[b.ixfe>>8&63]),Wo(b,t,r.opts.Date1904),D({c:O.c,r:O.r},b,t);break;case 0:case 512:Z===1&&(i=O);break;case 252:c=O;break;case 1054:if(T.biff==4){K[C++]=O[1];for(var me=0;me<C+163&&Ut[me]!=O[1];++me);me>=163&&Kd(O[1],C+163)}else Kd(O[1],O[0]);break;case 30:{K[C++]=O;for(var $e=0;$e<C+163&&Ut[$e]!=O;++$e);$e>=163&&Kd(O,C+163)}break;case 229:q=q.concat(O);break;case 93:M[O.cmo[0]]=T.lastobj=O;break;case 438:T.lastobj.TxO=O;break;case 127:T.lastobj.ImData=O;break;case 440:for(v=O[0].s.r;v<=O[0].e.r;++v)for(p=O[0].s.c;p<=O[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[It({c:p,r:v})],m&&(m.l=O[1]);break;case 2048:for(v=O[0].s.r;v<=O[0].e.r;++v)for(p=O[0].s.c;p<=O[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[It({c:p,r:v})],m&&m.l&&(m.l.Tooltip=O[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;m=t.dense?(a[O[0].r]||[])[O[0].c]:a[It(O[0])];var we=M[O[2]];m||(t.dense?(a[O[0].r]||(a[O[0].r]=[]),m=a[O[0].r][O[0].c]={t:"z"}):m=a[It(O[0])]={t:"z"},i.e.r=Math.max(i.e.r,O[0].r),i.s.r=Math.min(i.s.r,O[0].r),i.e.c=Math.max(i.e.c,O[0].c),i.s.c=Math.min(i.s.c,O[0].c)),m.c||(m.c=[]),g={a:O[1],t:we.TxO.t},m.c.push(g)}break;case 2173:V_e(S[O.ixfe],O.ext);break;case 125:{if(!T.cellStyles)break;for(;O.e>=O.s;)I[O.e--]={width:O.w/256,level:O.level||0,hidden:!!(O.flags&1)},F||(F=!0,aP(O.w/256)),Um(I[O.e+1])}break;case 520:{var _e={};O.level!=null&&(V[O.r]=_e,_e.level=O.level),O.hidden&&(V[O.r]=_e,_e.hidden=!0),O.hpt&&(V[O.r]=_e,_e.hpt=O.hpt,_e.hpx=lv(O.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||pg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=O;break;case 161:a["!margins"]||pg(a["!margins"]={}),a["!margins"].header=O.header,a["!margins"].footer=O.footer;break;case 574:O.RTL&&(j.Views[0].RTL=!0);break;case 146:k=O;break;case 2198:U=O;break;case 140:_=O;break;case 442:u?E.CodeName=O||E.name:j.WBProps.CodeName=O||"ThisWorkbook";break}}else X||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=ie}return r.SheetNames=yl(s).sort(function(fe,je){return Number(fe)-Number(je)}).map(function(fe){return s[fe].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&B.forEach(function(fe,je){r.Sheets[r.SheetNames[je]]["!autofilter"]=fe}),r.Strings=c,r.SSF=ca(Ut),T.enc&&(r.Encryption=T.enc),U&&(r.Themes=U),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),R.names.length>0&&(j.Names=R.names),r.Workbook=j,r}var AF={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function b2e(e,t,r){var n=er.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=hF(n,L1e,AF.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=er.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var l=hF(i,$1e,AF.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Uq(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function jK(e,t){t||(t={}),cP(t),ZH(),t.codepage&&UO(t.codepage);var r,n;if(e.FullPaths){if(er.find(e,"/encryption"))throw new Error("File is password-protected");r=er.find(e,"!CompObj"),n=er.find(e,"/Workbook")||er.find(e,"/Book")}else{switch(t.type){case"base64":e=po(ui(e));break;case"binary":e=po(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ra(e,0),n={content:e}}var a,s;if(r&&v2e(r),t.bookProps&&!t.bookSheets)a={};else{var i=Qt?"buffer":"array";if(n&&n.content)a=w2e(n.content,t);else if((s=er.find(e,"PerfectOffice_MAIN"))&&s.content)a=hg.to_workbook(s.content,(t.type=i,t));else if((s=er.find(e,"NativeContent_MAIN"))&&s.content)a=hg.to_workbook(s.content,(t.type=i,t));else throw(s=er.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&er.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=iSe(e))}var l={};return e.FullPaths&&b2e(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var zw={0:{f:rke},1:{f:ike},2:{f:pke},3:{f:uke},4:{f:lke},5:{f:mke},6:{f:xke},7:{f:fke},8:{f:Ske},9:{f:_ke},10:{f:wke},11:{f:bke},12:{f:oke},13:{f:gke},14:{f:dke},15:{f:cke},16:{f:yK},17:{f:yke},18:{f:hke},19:{f:QO},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Xke},40:{},42:{},43:{f:w_e},44:{f:y_e},45:{f:b_e},46:{f:S_e},47:{f:__e},48:{},49:{f:j1e},50:{},51:{f:W_e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Zq},62:{f:vke},63:{f:Y_e},64:{f:Pke},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ma,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Oke},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ske},148:{f:nke,p:16},151:{f:Nke},152:{},153:{f:Gke},154:{},155:{},156:{f:Kke},157:{},158:{},159:{T:1,f:$be},160:{T:-1},161:{T:1,f:If},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:jke},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:z_e},336:{T:-1},337:{f:H_e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:xE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Qq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Eke},427:{f:Cke},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ake},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ake},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:kke},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:xE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:nSe},633:{T:1},634:{T:-1},635:{T:1,f:rSe},636:{T:-1},637:{f:N1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Lke},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Dke},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},SE={6:{f:Ok},10:{f:Fc},12:{f:_n},13:{f:_n},14:{f:dn},15:{f:dn},16:{f:Ta},17:{f:dn},18:{f:dn},19:{f:_n},20:{f:vF},21:{f:vF},23:{f:Qq},24:{f:yF},25:{f:dn},26:{},27:{},28:{f:ebe},29:{},34:{f:dn},35:{f:xF},38:{f:Ta},39:{f:Ta},40:{f:Ta},41:{f:Ta},42:{f:dn},43:{f:dn},47:{f:a_e},49:{f:Iwe},51:{f:_n},60:{},61:{f:Pwe},64:{f:dn},65:{f:Rwe},66:{f:_n},77:{},80:{},81:{},82:{},85:{f:_n},89:{},90:{},91:{},92:{f:jwe},93:{f:rbe},94:{},95:{f:dn},96:{},97:{},99:{f:dn},125:{f:Zq},128:{f:Hwe},129:{f:kwe},130:{f:_n},131:{f:dn},132:{f:dn},133:{f:Nwe},134:{},140:{f:lbe},141:{f:_n},144:{},146:{f:ube},151:{},152:{},153:{},154:{},155:{},156:{f:_n},157:{},158:{},160:{f:pbe},161:{f:fbe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Uwe},190:{f:Vwe},193:{f:Fc},197:{},198:{},199:{},200:{},201:{},202:{f:dn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:_n},220:{},221:{f:dn},222:{},224:{f:Wwe},225:{f:Swe},226:{f:Fc},227:{},229:{f:tbe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ewe},253:{f:Mwe},255:{f:Cwe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:qq},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:dn},353:{f:Fc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Kwe},431:{f:dn},432:{},433:{},434:{},437:{},438:{f:sbe},439:{f:dn},440:{f:ibe},441:{},442:{f:Dx},443:{},444:{f:_n},445:{},446:{},448:{f:Fc},449:{f:Owe,r:2},450:{f:Fc},512:{f:pF},513:{f:mbe},515:{f:qwe},516:{f:Fwe},517:{f:gF},519:{f:gbe},520:{f:Twe},523:{},545:{f:wF},549:{f:mF},566:{},574:{f:Dwe},638:{f:Bwe},659:{},1048:{},1054:{f:Lwe},1084:{},1212:{f:Jwe},2048:{f:obe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:zy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Fc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:dbe,r:12},2173:{f:U_e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:dn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Xwe,r:12},2197:{},2198:{f:I_e,r:12},2199:{},2200:{},2201:{},2202:{f:Qwe,r:12},2203:{f:Fc},2204:{},2205:{},2206:{},2207:{},2211:{f:Awe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:_n},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:hbe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:cbe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:pF},1:{},2:{f:wbe},3:{f:ybe},4:{f:xbe},5:{f:gF},7:{f:bbe},8:{},9:{f:zy},11:{},22:{f:_n},30:{f:$we},31:{},32:{},33:{f:wF},36:{},37:{f:mF},50:{f:_be},62:{},52:{},67:{},68:{f:_n},69:{},86:{},126:{},127:{f:vbe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Sbe},223:{},234:{},354:{},421:{},518:{f:Ok},521:{f:zy},536:{f:yF},547:{f:xF},561:{},579:{},1030:{f:Ok},1033:{f:zy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ji(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&Dq(r)&&e.push(r)}}function OF(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,l=s&&s.index||e.length,c=qye(e.slice(i,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(i=0;i<c.length;++i){var p=c[i].trim(),v=p.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=p.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var w=y[l].trim();if(w.match(/<t[dh]/i)){for(var b=w,_=0;b.charAt(0)=="<"&&(_=b.indexOf(">"))>-1;)b=b.slice(_+1);for(var S=0;S<g.length;++S){var k=g[S];k.s.c==d&&k.s.r<u&&u<=k.e.r&&(d=k.e.c+1,S=-1)}var j=At(w.slice(0,w.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&g.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var E=j.t||j["data-t"]||"";if(!b.length){d+=h;continue}if(b=wq(b),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!b.length){d+=h;continue}var N={t:"s",v:b};r.raw||!b.trim().length||E=="s"||(b==="TRUE"?N={t:"b",v:!0}:b==="FALSE"?N={t:"b",v:!1}:isNaN(So(b))?isNaN(Bm(b).getDate())||(N={t:"d",v:Jn(b)},r.cellDates||(N={t:"n",v:ls(N.v)}),N.z=r.dateNF||Ut[14]):N={t:"n",v:So(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=N):n[It({r:u,c:d})]=N,d+=h}}}}return n["!ref"]=tr(m),g.length&&(n["!merges"]=g),n}function _2e(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=It({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||KO(f.w||(xc(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(l1e("td",h,m))}}var g="<tr>";return g+s.join("")+"</tr>"}var S2e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',j2e="</body></html>";function k2e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Xu(OF(r[0],t),t);var n=dP();return r.forEach(function(a,s){fP(n,OF(a,t),"Sheet"+(s+1))}),n}function N2e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function E2e(e,t){var r=t||{},n=r.header!=null?r.header:S2e,a=r.footer!=null?r.footer:j2e,s=[n],i=Lp(e["!ref"]);r.dense=Array.isArray(e),s.push(N2e(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)s.push(_2e(e,i,l,r));return s.push("</table>"+a),s.join("")}function kK(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?ts(n.origin):n.origin;a=i.r,s=i.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Lp(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,v=0,y=0,w=0,b=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var _=l[g];if(PF(_)){if(n.display)continue;m[p]={hidden:!0}}var S=_.children;for(v=y=0;v<S.length;++v){var k=S[v];if(!(n.display&&PF(k))){var j=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):wq(k.innerHTML),E=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<f.length;++h){var N=f[h];N.s.c==y+s&&N.s.r<p+a&&p+a<=N.e.r&&(y=N.e.c+1-s,h=-1)}b=+k.getAttribute("colspan")||1,((w=+k.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:p+a,c:y+s},e:{r:p+a+(w||1)-1,c:y+s+(b||1)-1}});var A={t:"s",v:j},D=k.getAttribute("data-t")||k.getAttribute("t")||"";j!=null&&(j.length==0?A.t=D||"z":n.raw||j.trim().length==0||D=="s"||(j==="TRUE"?A={t:"b",v:!0}:j==="FALSE"?A={t:"b",v:!1}:isNaN(So(j))?isNaN(Bm(j).getDate())||(A={t:"d",v:Jn(j)},n.cellDates||(A={t:"n",v:ls(A.v)}),A.z=n.dateNF||Ut[14]):A={t:"n",v:So(j)})),A.z===void 0&&E!=null&&(A.z=E);var T="",U=k.getElementsByTagName("A");if(U&&U.length)for(var q=0;q<U.length&&!(U[q].hasAttribute("href")&&(T=U[q].getAttribute("href"),T.charAt(0)!="#"));++q);T&&T.charAt(0)!="#"&&(A.l={Target:T}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][y+s]=A):e[It({c:y+s,r:p+a})]=A,u.e.c<y+s&&(u.e.c=y+s),y+=b}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=tr(u),p>=c&&(e["!fullref"]=tr((u.e.r=l.length-g+p-1+a,u))),e}function NK(e,t){var r=t||{},n=r.dense?[]:{};return kK(n,e,t)}function C2e(e,t){return Xu(NK(e,t),t)}function PF(e){var t="",r=T2e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function T2e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function A2e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=sr(t.replace(/<[^>]*>/g,""));return[r]}var DF={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function EK(e,t){var r=t||{},n=GO(e),a=[],s,i,l={name:""},c="",u=0,d,f,h={},m=[],g=r.dense?[]:{},p,v,y={value:""},w="",b=0,_=[],S=-1,k=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,N={},A=[],D={},T=0,U=0,q=[],M=1,I=1,V=[],F={Names:[]},R={},re=["",""],Z=[],C={},K="",B=0,z=!1,ne=!1,oe=0;for(sv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=sv.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?g["!ref"]=tr(j):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(g["!fullref"]=g["!ref"],j.e.r=r.sheetRows-1,g["!ref"]=tr(j)),A.length&&(g["!merges"]=A),q.length&&(g["!rows"]=q),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=g,ne=!1):p[0].charAt(p[0].length-2)!=="/"&&(d=At(p[0],!1),S=k=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,g=r.dense?[]:{},A=[],q=[],ne=!0);break;case"table-row-group":p[1]==="/"?--E:++E;break;case"table-row":case"":if(p[1]==="/"){S+=M,M=1;break}if(f=At(p[0],!1),f.?S=f.-1:S==-1&&(S=0),M=+f["number-rows-repeated"]||1,M<10)for(oe=0;oe<M;++oe)E>0&&(q[S+oe]={level:E});k=-1;break;case"covered-table-cell":p[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(g[S]||(g[S]=[]),g[S][k]={t:"z"}):g[It({r:S,c:k})]={t:"z"}),w="",_=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++k,y=At(p[0],!1),I=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=EF(sr(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=sr(y["string-value"]||""),r.dense?(g[S]||(g[S]=[]),g[S][k]=v):g[It({r:S,c:k})]=v),k+=I-1;else if(p[1]!=="/"){++k,w="",b=0,_=[],I=1;var ue=M?S+M-1:S;if(k>j.e.c&&(j.e.c=k),k<j.s.c&&(j.s.c=k),S<j.s.r&&(j.s.r=S),ue>j.e.r&&(j.e.r=ue),y=At(p[0],!1),Z=[],C={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=sr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(T=parseInt(y["number-matrix-rows-spanned"],10)||0,U=parseInt(y["number-matrix-columns-spanned"],10)||0,D={s:{r:S,c:k},e:{r:S+T-1,c:k+U-1}},v.F=tr(D),V.push([D,v.F])),y.formula)v.f=EF(y.formula);else for(oe=0;oe<V.length;++oe)S>=V[oe][0].s.r&&S<=V[oe][0].e.r&&k>=V[oe][0].s.c&&k<=V[oe][0].e.c&&(v.F=V[oe][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(T=parseInt(y["number-rows-spanned"],10)||0,U=parseInt(y["number-columns-spanned"],10)||0,D={s:{r:S,c:k},e:{r:S+T-1,c:k+U-1}},A.push(D)),y["number-columns-repeated"]&&(I=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Wr(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Jn(y["date-value"]),r.cellDates||(v.t="n",v.v=ls(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=zye(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=rS(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(w=sr(y["string-value"]),_=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(z=!1,v.t==="s"&&(v.v=w||"",_.length&&(v.R=_),z=b==0),R.Target&&(v.l=R),Z.length>0&&(v.c=Z,Z=[]),w&&r.cellText!==!1&&(v.w=w),z&&(v.t="z",delete v.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var ie=0;ie<M;++ie){if(I=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[S+ie]||(g[S+ie]=[]),g[S+ie][k]=ie==0?v:ca(v);--I>0;)g[S+ie][k+I]=ca(v);else for(g[It({r:S+ie,c:k})]=v;--I>0;)g[It({r:S+ie,c:k+I})]=ca(v);j.e.c<=k&&(j.e.c=k)}I=parseInt(y["number-columns-repeated"]||"1",10),k+=I-1,I=0,v={},w="",_=[]}R={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s;C.t=w,_.length&&(C.R=_),C.a=K,Z.push(C)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);K="",B=0,w="",b=0,_=[];break;case"creator":p[1]==="/"?K=n.slice(B,p.index):B=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);w="",b=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(N[l.name]=c,(s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(c="",l=At(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=At(p[0],!1),c+=DF[p[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=At(p[0],!1),c+=DF[p[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,p.index);break}else u=p.index+p[0].length;break;case"named-range":i=At(p[0],!1),re=Pk(i["cell-range-address"]);var X={Name:i.name,Ref:re[0]+"!"+re[1]};ne&&(X.Sheet=m.length),F.Names.push(X);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!y||!y["string-value"])){var de=A2e(n.slice(b,p.index));w=(w.length>0?w+`
`:"")+de[0]}else At(p[0],!1),b=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{re=Pk(At(p[0])["target-range-address"]),h[re[0]]["!autofilter"]={ref:re[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(R=At(p[0],!1),!R.href)break;R.Target=sr(R.href),delete R.href,R.Target.charAt(0)=="#"&&R.Target.indexOf(".")>-1?(re=Pk(R.Target.slice(1)),R.Target="#"+re[0]+"!"+re[1]):R.Target.match(/^\.\.[\\\/]/)&&(R.Target=R.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var O={Sheets:h,SheetNames:m,Workbook:F};return r.bookSheets&&delete O.Sheets,O}function RF(e,t){t=t||{},ji(e,"META-INF/manifest.xml")&&q1e(bn(e,"META-INF/manifest.xml"),t);var r=ti(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=EK(Dr(r),t);return ji(e,"meta.xml")&&(n.Props=Bq(bn(e,"meta.xml"))),n}function IF(e,t){return EK(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function oP(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function jE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Dr(Df(e))}function kE(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function MF(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function O2e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function cv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function zn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Oa(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=cv(e,r),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=cv(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function lP(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function P2e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=cv(e,n),s=Oa(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:zn(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Oa(l.data),u=zn(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=zn(s[3][0].data)>>>0>0),r.push(i)}return r}function D2e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=cv(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[kE(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=kE(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function R2e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(D2e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return kE(t)}function I2e(e,t,r,n){var a=oP(e),s=a.getUint32(4,!0),i=(n>1?12:8)+MF(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(i,!0),i+=4),i+=MF(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function M2e(e,t,r){var n=oP(e),a=n.getUint32(8,!0),s=12,i=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=O2e(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function F2e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return I2e(e,t,r,e[0]);case 5:return M2e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ku(e){var t=Oa(e);return cv(t[1][0].data)}function FF(e,t){var r=Oa(t.data),n=zn(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var l=Oa(i.data),c=zn(l[1][0].data)>>>0;switch(n){case 1:s[c]=jE(l[3][0].data);break;case 8:{var u=e[ku(l[9][0].data)][0],d=Oa(u.data),f=e[ku(d[1][0].data)][0],h=zn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Oa(f.data);s[c]=m[3].map(function(g){return jE(g.data)}).join("")}break}}),s}function L2e(e,t){var r,n,a,s,i,l,c,u,d,f,h,m,g,p,v=Oa(e),y=zn(v[1][0].data)>>>0,w=zn(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&zn(v[8][0].data)>0||!1,_,S;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(l=(i=v[7])==null?void 0:i[0])==null?void 0:l.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,S=(p=(g=v[3])==null?void 0:g[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=b?4:1,j=oP(_),E=[],N=0;N<_.length/2;++N){var A=j.getUint16(N*2,!0);A<65535&&E.push([N,A])}if(E.length!=w)throw"Expected ".concat(w," cells, found ").concat(E.length);var D=[];for(N=0;N<E.length-1;++N)D[E[N][0]]=S.subarray(E[N][1]*k,E[N+1][1]*k);return E.length>=1&&(D[E[E.length-1][0]]=S.subarray(E[E.length-1][1]*k)),{R:y,cells:D}}function $2e(e,t){var r,n=Oa(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?zn(n[7][0].data)>>>0>0?1:0:-1,s=lP(n[5],function(i){return L2e(i,a)});return{nrows:zn(n[4][0].data)>>>0,data:s.reduce(function(i,l){return i[l.R]||(i[l.R]=[]),l.cells.forEach(function(c,u){if(i[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));i[l.R][u]=c}),i},[])}}function B2e(e,t,r){var n,a=Oa(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(zn(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(zn(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=tr(s);var i=Oa(a[4][0].data),l=FF(e,e[ku(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?FF(e,e[ku(i[17][0].data)][0]):[],u=Oa(i[3][0].data),d=0;u[1].forEach(function(f){var h=Oa(f.data),m=e[ku(h[2][0].data)][0],g=zn(m.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var p=$2e(e,m);p.data.forEach(function(v,y){v.forEach(function(w,b){var _=It({r:d+y,c:b}),S=F2e(w,l,c);S&&(r[_]=S)})}),d+=p.nrows})}function U2e(e,t){var r=Oa(t.data),n={"!ref":"A1"},a=e[ku(r[2][0].data)],s=zn(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return B2e(e,a[0],n),n}function V2e(e,t){var r,n=Oa(t.data),a={name:(r=n[1])!=null&&r[0]?jE(n[1][0].data):"",sheets:[]},s=lP(n[2],ku);return s.forEach(function(i){e[i].forEach(function(l){var c=zn(l.meta[1][0].data);c==6e3&&a.sheets.push(U2e(e,l))})}),a}function z2e(e,t){var r=dP(),n=Oa(t.data),a=lP(n[1],ku);if(a.forEach(function(s){e[s].forEach(function(i){var l=zn(i.meta[1][0].data);if(l==2){var c=V2e(e,i);c.sheets.forEach(function(u,d){fP(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Rk(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=R2e(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=P2e(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&zn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||i.forEach(function(c){s[c].forEach(function(u){var d=zn(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return z2e(s,l)}function W2e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function cP(e){W2e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function H2e(e){return Rh.WS.indexOf(e)>-1?"sheet":e==Rh.CS?"chart":e==Rh.DS?"dialog":e==Rh.MS?"macro":e&&e.length?e:"sheet"}function q2e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,H2e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function K2e(e,t,r,n,a,s,i,l,c,u,d,f){try{s[n]=dg(ti(e,r,!0),t);var h=bn(e,t),m;switch(l){case"sheet":m=Zke(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=e2e(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var g=B0(m["!drawel"].Target,t),p=yE(g),v=Q_e(ti(e,g,!0),dg(ti(e,p,!0),g)),y=B0(v,g),w=yE(y);m=Mke(ti(e,y,!0),y,c,dg(ti(e,w,!0),y),u,m);break;case"macro":m=t2e(h,t,a,c,s[n],u,d,f);break;case"dialog":m=r2e(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}i[n]=m;var b=[];s&&s[n]&&yl(s[n]).forEach(function(_){var S="";if(s[n][_].Type==Rh.CMNT){S=B0(s[n][_].Target,t);var k=i2e(bn(e,S,!0),S,c);if(!k||!k.length)return;_F(m,k,!1)}s[n][_].Type==Rh.TCMNT&&(S=B0(s[n][_].Target,t),b=b.concat(eSe(bn(e,S,!0),c)))}),b&&b.length&&_F(m,b,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function xi(e){return e.charAt(0)=="/"?e.slice(1):e}function G2e(e,t){if(dq(),t=t||{},cP(t),ji(e,"META-INF/manifest.xml")||ji(e,"objectdata.xml"))return RF(e,t);if(ji(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Rk<"u"){if(e.FileIndex)return Rk(e);var r=er.utils.cfb_new();return YM(e).forEach(function(q){Yye(r,q,Gye(e,q))}),Rk(r)}throw new Error("Unsupported NUMBERS file")}if(!ji(e,"[Content_Types].xml"))throw ji(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ji(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=YM(e),a=W1e(ti(e,"[Content_Types].xml")),s=!1,i,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",bn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!bn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(mg=[],a.sst)try{mg=s2e(bn(e,xi(a.sst)),a.sst,t)}catch(q){if(t.WTF)throw q}t.cellStyles&&a.themes.length&&(c=a2e(ti(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=n2e(bn(e,xi(a.style)),a.style,c,t))}a.links.map(function(q){try{var M=dg(ti(e,yE(xi(q))),q);return l2e(bn(e,xi(q)),M,q,t)}catch{}});var d=Qke(bn(e,xi(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=bn(e,xi(a.coreprops[0]),!0),h&&(f=Bq(h)),a.extprops.length!==0&&(h=bn(e,xi(a.extprops[0]),!0),h&&Y1e(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ti(e,xi(a.custprops[0]),!0),h&&(m=J1e(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(M){return M.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=m),t.bookSheets&&typeof i<"u"&&(g.SheetNames=i),t.bookSheets?g.SheetNames:t.bookProps))return g;i={};var p={};t.bookDeps&&a.calcchain&&(p=o2e(bn(e,xi(a.calcchain)),a.calcchain));var v=0,y={},w,b;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var S=0;S!=_.length;++S)f.SheetNames[S]=_[S].name}var k=s?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),E=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");ji(e,E)||(E="xl/_rels/workbook."+k+".rels");var N=dg(ti(e,E,!0),E.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=c2e(bn(e,xi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=tSe(bn(e,xi(a.people[0])),t)),N&&(N=q2e(N,d.Sheets));var A=bn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var D="sheet";if(N&&N[v]?(w="xl/"+N[v][1].replace(/[\/]?xl\//,""),ji(e,w)||(w=N[v][1]),ji(e,w)||(w=E.replace(/_rels\/.*$/,"")+N[v][1]),D=N[v][2]):(w="xl/worksheets/sheet"+(v+1-A)+"."+k,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,U=0;U!=t.sheets.length;++U)typeof t.sheets[U]=="number"&&t.sheets[U]==v&&(T=1),typeof t.sheets[U]=="string"&&t.sheets[U].toLowerCase()==f.SheetNames[v].toLowerCase()&&(T=1);if(!T)continue e}}K2e(e,w,b,f.SheetNames[v],v,y,i,D,t,d,c,u)}return g={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:p,Sheets:i,SheetNames:f.SheetNames,Strings:mg,Styles:u,Themes:c,SSF:ca(Ut)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(q,M){q=q.replace(/^Root Entry[\/]/,""),g.keys.push(q),g.files[q]=e.FileIndex[M]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=bn(e,xi(a.vba[0]),!0):a.defaults&&a.defaults.bin===sSe&&(g.vbaraw=bn(e,"xl/vbaProject.bin",!0))),g}function Y2e(e,t){var r=t||{},n="Workbook",a=er.find(e,n);try{if(n="/!DataSpaces/Version",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Ube(a.content),n="/!DataSpaces/DataSpaceMap",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=zbe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Wbe(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);qbe(a.content)}catch{}if(n="/EncryptionInfo",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Kbe(a.content);if(n="/EncryptedPackage",a=er.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function uP(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ui(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function X2e(e,t){return er.find(e,"EncryptedPackage")?Y2e(e,t):jK(e,t)}function J2e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Qt&&Buffer.isBuffer(e)?"buffer":"base64"),r=vq(n,a),G2e(r,a)}function CK(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return _E(e.slice(r),t);default:break e}return iv.to_workbook(e,t)}function Q2e(e,t){var r="",n=uP(e,t);switch(t.type){case"base64":r=ui(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=pf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Dr(r)),t.type="binary",CK(r,t)}function Z2e(e,t){var r=e;return t.type=="base64"&&(r=ui(r)),r=Xc.utils.decode(1200,r.slice(2),"str"),t.type="binary",CK(r,t)}function eNe(e){return e.match(/[^\x00-\x7F]/)?U0(e):e}function Ik(e,t,r,n){return n?(r.type="string",iv.to_workbook(e,r)):iv.to_workbook(t,r)}function NE(e,t){ZH();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return NE(new Uint8Array(e),(r=ca(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),rm={},r.dateNF&&(rm.dateNF=r.dateNF),r.type||(r.type=Qt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Qt?"buffer":"binary",n=Uye(e),typeof Uint8Array<"u"&&!Qt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=eNe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),l=new Uint8Array(i);if(l.foo="bar",!l.foo)return r=ca(r),r.type="array",NE(VO(n),r)}switch((a=uP(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return X2e(er.read(n,r),r);break;case 9:if(a[1]<=8)return jK(n,r);break;case 60:return _E(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Cbe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Nbe.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?J2e(n,r):Ik(e,n,r,s);case 239:return a[3]===60?_E(n,r):Ik(e,n,r,s);case 255:if(a[1]===254)return Z2e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return hg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return hg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return bF.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return s_e.to_workbook(n,r);break;case 10:case 13:case 32:return Q2e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return jbe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?bF.to_workbook(n,r):Ik(e,n,r,s)}function tNe(e,t,r,n,a,s,i,l){var c=ua(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=i?e[r][m]:e[n[m]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&p===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:xc(g,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function EE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=un(d);break;case"number":c=un(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=ua(c.s.r),h=[],m=[],g=0,p=0,v=Array.isArray(e),y=c.s.r,w=0,b={};v&&!e[y]&&(e[y]=[]);var _=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(_[w]||{}).hidden)switch(h[w]=Un(w),r=v?e[y][w]:e[h[w]+f],n){case 1:s[w]=w-c.s.c;break;case 2:s[w]=h[w];break;case 3:s[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=xc(r,null,u),p=b[i]||0,!p)b[i]=1;else{do l=i+"_"+p++;while(b[l]);b[i]=p,b[l]=1}s[w]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(S[y]||{}).hidden){var k=tNe(e,c,y,h,n,s,v,u);(k.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=k.row)}return m.length=g,m}var LF=/"/g;function rNe(e,t,r,n,a,s,i,l){for(var c=!0,u=[],d="",f=ua(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:xc(m,null,l));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===a||p===s||p===34||l.forceQuotes){d='"'+d.replace(LF,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(LF,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(i)}function TK(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=un(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Un(g));for(var p=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=rNe(e,a,v,f,i,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function nNe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=TK(e,t);return r}function aNe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=un(e["!ref"]),s="",i=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)i[l]=Un(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=ua(d),l=a.s.c;l<=a.e.c;++l)if(t=i[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function AK(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ts(n.origin):n.origin;i=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:i+t.length-1+a}};if(s["!ref"]){var f=un(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,v){yl(p).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var w=p[y],b="z",_="",S=It({c:l+m,r:i+v+a});u=uv(s,S),w&&typeof w=="object"&&!(w instanceof Date)?s[S]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=ls(w)),_=n.dateNF||Ut[14]):w===null&&n.nullError&&(b="e",w=0),u?(u.t=b,u.v=w,delete u.w,delete u.R,_&&(u.z=_)):s[S]=u={t:b,v:w},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=ua(i);if(a)for(m=0;m<h.length;++m)s[Un(m+l)+g]={t:"s",v:h[m]};return s["!ref"]=tr(d),s}function sNe(e,t){return AK(null,e,t)}function uv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ts(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?uv(e,It(t)):uv(e,It({r:t,c:r||0}))}function iNe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dP(){return{SheetNames:[],Sheets:{}}}function fP(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(Wke(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function oNe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=iNe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function lNe(e,t){return e.z=t,e}function OK(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function cNe(e,t,r){return OK(e,"#"+t,r)}function uNe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function dNe(e,t,r,n){for(var a=typeof t!="string"?t:un(t),s=typeof t=="string"?t:tr(t),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var c=uv(e,i,l);c.t="n",c.F=s,delete c.v,i==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var fNe={encode_col:Un,encode_row:ua,encode_cell:It,encode_range:tr,decode_col:JO,decode_row:XO,split_cell:S1e,decode_cell:ts,decode_range:Lp,format_cell:xc,sheet_add_aoa:Iq,sheet_add_json:AK,sheet_add_dom:kK,aoa_to_sheet:$p,json_to_sheet:sNe,table_to_sheet:NK,table_to_book:C2e,sheet_to_csv:TK,sheet_to_txt:nNe,sheet_to_json:EE,sheet_to_html:E2e,sheet_to_formulae:aNe,sheet_to_row_object_array:EE,sheet_get_cell:uv,book_new:dP,book_append_sheet:fP,book_set_sheet_visibility:oNe,cell_set_number_format:lNe,cell_set_hyperlink:OK,cell_set_internal_link:cNe,cell_add_comment:uNe,sheet_set_array_formula:dNe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function hNe({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var A,D;const{t:a}=Ht(),{user:s}=Sr(),{toast:i}=jl(),[l,c]=x.useState("template"),[u,d]=x.useState(null),[f,h]=x.useState([]),[m,g]=x.useState({}),[p,v]=x.useState([]),[y,w]=x.useState(!1),[b,_]=x.useState(0),S=async T=>{var q;const U=(q=T.target.files)==null?void 0:q[0];if(U)try{const M=await U.arrayBuffer(),I=NE(M,{type:"array"}),V=I.Sheets[I.SheetNames[0]],F=fNe.sheet_to_json(V);if(F.length===0){i({title:"Error",description:"File is empty",variant:"destructive"});return}h(F),k(F),c("preview")}catch(M){console.error("Error parsing file:",M),i({title:"Error",description:"Failed to parse file",variant:"destructive"})}},k=T=>{if(!u)return;const U=t[u.template_id]||[],q=Object.keys(T[0]||{}),M=[],I={};for(const V of U){const F=V.field_label||"",R=q.find(re=>re.toLowerCase().trim()===F.toLowerCase().trim());R?I[F]=R:V.is_required&&M.push(`Required field not found: "${F}"`)}g(I),v(M)},j=()=>f.slice(0,5),E=async()=>{if(!u||!s)return;const T=t[u.template_id]||[],U=[];for(const q of T)q.is_required&&!m[q.field_label||""]&&U.push(`Required field not mapped: "${q.field_label}"`);if(U.length>0){v(U);return}c("importing"),w(!0);try{const q=f.length,M=[];for(let V=0;V<f.length;V++){const F=f[V],R={};for(const Z of T){const C=Z.field_label||"",K=m[C];K&&F[K]!==void 0&&F[K]!==null&&F[K]!==""&&(R[C]=F[K])}const re={template_id:u.template_id,survey_name:F.survey_name||F["Survey Name"]||`Bulk Import ${V+1}`,survey_description:F.survey_description||F["Survey Description"]||null,client_name:F.client_name||F["Client Name"]||`Client ${V+1}`,client_name_ar:F.client_name_ar||F["Client Name AR"]||null,client_contact:F.client_contact||F["Client Contact"]||null,client_email:F.client_email||F["Client Email"]||null,client_address:F.client_address||F["Client Address"]||null,client_company:F.client_company||F["Client Company"]||null,client_company_ar:F.client_company_ar||F["Client Company AR"]||null,survey_responses:R,location_latitude:parseFloat(F.location_latitude||F.Latitude||"0"),location_longitude:parseFloat(F.location_longitude||F.Longitude||"0"),location_accuracy:F.location_accuracy?parseFloat(F.location_accuracy):null,location_address:F.location_address||F["Location Address"]||null,created_by:s.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:F.notes||null,notes_ar:F.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};M.push(re),_(Math.round((V+1)/q*50))}_(50);const I=await Nd.createBatch(M);_(100),i({title:"Success",description:`Imported ${I.length} surveys successfully`}),r(I),N()}catch(q){console.error("Error importing surveys:",q),i({title:"Error",description:q.message||"Import failed",variant:"destructive"}),c("preview")}finally{w(!1)}},N=()=>{c("template"),d(null),h([]),g({}),v([]),_(0),n()};return o.jsxs(o.Fragment,{children:[o.jsxs(pn,{children:[o.jsx(gn,{children:a("surveys.bulkImport")}),o.jsxs(Ia,{children:[l==="template"&&"Select a template for import",l==="upload"&&"Upload your Excel or CSV file",l==="preview"&&"Review data before importing",l==="importing"&&"Importing data..."]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[l==="template"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(qe,{className:"text-base font-medium",children:"Select Template"}),o.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(T=>T.is_active).map(T=>o.jsx(pt,{className:`cursor-pointer transition-all ${(u==null?void 0:u.template_id)===T.template_id?"ring-2 ring-primary":"hover:shadow-md"}`,onClick:()=>d(T),children:o.jsxs(jt,{className:"p-4",children:[o.jsx("h4",{className:"font-medium text-sm",children:T.template_name}),T.template_description&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.template_description}),T.category&&o.jsx(mt,{variant:"outline",className:"mt-2 text-xs",children:T.category})]})},T.template_id))})]}),l==="upload"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(b_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[o.jsx("p",{className:"font-medium mb-1",children:"Import Instructions"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[o.jsx("li",{children:"Column headers must match field names exactly"}),o.jsx("li",{children:"All required fields must have values"}),o.jsx("li",{children:"Supported formats: Excel (.xlsx, .xls) and CSV"})]})]})]})}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[o.jsx(Gg,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),o.jsx(qe,{className:"block text-sm font-medium mb-2",children:"Drag and drop your file here"}),o.jsx(ze,{type:"file",accept:".xlsx,.xls,.csv",onChange:S,className:"hidden",id:"file-upload"}),o.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:o.jsx(ce,{variant:"outline",asChild:!0,children:o.jsx("span",{children:"Select File"})})})]})]}),l==="preview"&&o.jsxs("div",{className:"space-y-4",children:[p.length>0&&o.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(MN,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[o.jsx("p",{className:"font-medium mb-2",children:"Validation Errors"}),o.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:p.map((T,U)=>o.jsx("li",{children:T},U))})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Column Mapping"}),o.jsxs(mt,{variant:"secondary",children:[Object.keys(m).length," / ",((A=t[(u==null?void 0:u.template_id)||0])==null?void 0:A.length)||0]})]}),o.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:(D=t[(u==null?void 0:u.template_id)||0])==null?void 0:D.map(T=>o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:T.field_label}),T.is_required&&o.jsx(mt,{variant:"destructive",className:"text-xs mt-1",children:"Required"})]}),m[T.field_label||""]?o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[o.jsx(Hl,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs font-medium",children:m[T.field_label||""]})]}):o.jsx("div",{className:"text-xs text-muted-foreground",children:T.is_required?o.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"Not Mapped"}):o.jsx("span",{children:"Optional"})})]},T.field_id))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Preview (First 5 Rows)"}),o.jsx("div",{className:"border rounded-lg overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted border-b",children:o.jsx("tr",{children:Object.keys(j()[0]||{}).map(T=>o.jsx("th",{className:"px-3 py-2 text-left font-medium text-xs",children:T},T))})}),o.jsx("tbody",{children:j().map((T,U)=>o.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.values(T).map((q,M)=>o.jsx("td",{className:"px-3 py-2 text-xs",children:String(q).substring(0,50)},M))},U))})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing first ",Math.min(5,f.length)," of ",f.length," rows"]})]})]}),l==="importing"&&o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(YU,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),o.jsx("p",{className:"font-medium mb-2",children:"Importing Data"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Processing rows: ",b,"%"]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]})})})]}),o.jsxs(Ra,{children:[o.jsx(ce,{variant:"outline",onClick:N,disabled:y,children:"Cancel"}),l==="template"&&o.jsx(ce,{onClick:()=>c("upload"),disabled:!u,children:"Next"}),l==="upload"&&o.jsx(ce,{onClick:()=>c("template"),variant:"outline",children:"Back"}),l==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(ce,{onClick:()=>c("upload"),variant:"outline",children:"Back"}),o.jsx(ce,{onClick:E,disabled:p.length>0||y,children:"Start Import"})]})]})]})}function mNe(){var hs;const{t:e}=Ht(),{user:t}=Sr(),{isRTL:r}=mi(),{toast:n}=jl(),[a,s]=x.useState([]),[i,l]=x.useState([]),[c,u]=x.useState({}),[d,f]=x.useState(!0),[h,m]=x.useState(""),[g,p]=x.useState(null),[v,y]=x.useState(null),[w,b]=x.useState([]);x.useState(!1);const[_,S]=x.useState(!1),[k,j]=x.useState(null),[E,N]=x.useState({}),[A,D]=x.useState({}),[T,U]=x.useState([]),[q,M]=x.useState(!1),[I,V]=x.useState(null),[F,R]=x.useState(null),[re,Z]=x.useState(null),[C,K]=x.useState("card"),[B,z]=x.useState("card"),[ne,oe]=x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),[ue,ie]=x.useState([]);x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[X,de]=x.useState({}),[O,Fe]=x.useState(!1),[Re,Be]=x.useState(!1),[We,De]=x.useState(new Set);x.useState(!1),x.useEffect(()=>{ft()},[]);const ft=async()=>{try{f(!0);const[le,Se,Oe]=await Promise.all([Nd.getAll().catch(qt=>(console.error("[Surveys] Error fetching surveys:",qt),[])),vi.getAll().catch(qt=>(console.error("[Surveys] Error fetching templates:",qt),[])),tn.getAll().catch(qt=>(console.error("[Surveys] Error fetching users:",qt),[]))]),Me=Se.map(async qt=>{try{const jr=await vi.getFields(qt.template_id);return{templateId:qt.template_id,fields:jr}}catch(jr){return console.error(`[Surveys] Error fetching fields for template ${qt.template_id}:`,jr),{templateId:qt.template_id,fields:[]}}}),et=await Promise.all(Me),nt={};et.forEach(qt=>{nt[qt.templateId]=qt.fields}),s(le),l(Se),U(Oe),u(nt)}catch(le){console.error("Failed to load surveys data:",le)}finally{f(!1)}},gt=a.filter(le=>{var Se,Oe;return le.client_name.toLowerCase().includes(h.toLowerCase())||((Se=le.client_company)==null?void 0:Se.toLowerCase().includes(h.toLowerCase()))||((Oe=le.survey_name)==null?void 0:Oe.toLowerCase().includes(h.toLowerCase()))}),se=i.filter(le=>{var Se;return Te(le,"template_name").toLowerCase().includes(h.toLowerCase())||((Se=le.category)==null?void 0:Se.toLowerCase().includes(h.toLowerCase()))}),ve=le=>{if(!le)return e("surveys.unknownCreator");const Se=T.find(Oe=>{var Me,et;return((Me=Oe.userid)==null?void 0:Me.toString())===le||((et=Oe.user_id)==null?void 0:et.toString())===le});return Se?Te(Se,"user_name"):e("surveys.unknownCreator")},Q=le=>{switch(le.toLowerCase()){case"completed":return o.jsxs(mt,{variant:"default",className:"bg-green-500",children:[o.jsx(Hl,{className:"h-3 w-3 mr-1"}),e("surveys.completed")]});case"in_progress":return o.jsxs(mt,{variant:"secondary",children:[o.jsx(jd,{className:"h-3 w-3 mr-1"}),e("surveys.inProgress")]});case"pending":return o.jsxs(mt,{variant:"outline",children:[o.jsx(jd,{className:"h-3 w-3 mr-1"}),e("surveys.pending")]});default:return o.jsx(mt,{variant:"outline",children:le})}},ee=le=>{s([...le,...a])},he=async le=>{if(y(le),c[le.template_id])b(c[le.template_id]);else try{const Se=await vi.getFields(le.template_id);u(Oe=>({...Oe,[le.template_id]:Se})),b(Se)}catch(Se){console.error("Failed to load template fields:",Se),b([])}},me=()=>{const le={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};ie(Se=>[...Se,le])},$e=le=>{ie(Se=>Se.filter((Oe,Me)=>Me!==le))},we=(le,Se)=>{ie(Oe=>Oe.map((Me,et)=>et===le?{...Me,...Se}:Me))},_e=(le,Se)=>{ie(Oe=>{const Me=[...Oe],[et]=Me.splice(le,1);return Me.splice(Se,0,et),Me})},fe=()=>{oe({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),ie([]),V(null)},je=async le=>{oe({template_name:le.template_name||"",template_name_ar:le.template_name_ar||"",template_description:le.template_description||"",template_description_ar:le.template_description_ar||"",category:le.category||"",is_active:le.is_active,is_default:le.is_default||!1});const Oe=(c[le.template_id]||[]).map(Me=>({field_type:Me.field_type,field_label:Me.field_label||"",field_label_ar:Me.field_label_ar||"",help_text:Me.help_text||"",help_text_ar:Me.help_text_ar||"",is_required:Me.is_required||!1,field_options:Me.field_options,validation_rules:Me.validation_rules,default_value:Me.default_value,conditional_logic:Me.conditional_logic,image_path:Me.image_path}));ie(Oe),V(le.template_id),M(!0)},Le=()=>{const le={};return ne.template_name.trim()||(le.template_name=e("surveys.templateNameRequired")),ue.length===0?le.fields=e("surveys.atLeastOneFieldRequired"):ue.forEach((Se,Oe)=>{Se.field_label.trim()||(le[`field_${Oe}`]=e("surveys.fieldLabelRequired",{number:Oe+1}))}),de(le),Object.keys(le).length===0},Ie=async()=>{if(!Le()){n({title:e("common.error"),description:e("surveys.templateValidationFailed"),variant:"destructive"});return}Fe(!0);try{if(I){await vi.update(I,ne);const le=c[I]||[];for(const Se of le)Se.field_id&&await vi.deleteField(Se.field_id);for(let Se=0;Se<ue.length;Se++){const Oe=ue[Se];await vi.createField({template_id:I,field_order:Se+1,field_type:Oe.field_type,field_label:Oe.field_label,field_label_ar:Oe.field_label_ar||"",help_text:Oe.help_text||null,help_text_ar:Oe.help_text_ar||null,is_required:Oe.is_required,field_options:Oe.field_options,validation_rules:Oe.validation_rules,default_value:Oe.default_value||null,conditional_logic:Oe.conditional_logic,image_path:Oe.image_path||null})}n({title:e("common.success"),description:e("surveys.templateUpdated")})}else{const le={...ne,created_by:t==null?void 0:t.id},Se=await vi.create(le);for(let Oe=0;Oe<ue.length;Oe++){const Me=ue[Oe];await vi.createField({template_id:Se.template_id,field_order:Oe+1,field_type:Me.field_type,field_label:Me.field_label,field_label_ar:Me.field_label_ar||"",help_text:Me.help_text||null,help_text_ar:Me.help_text_ar||null,is_required:Me.is_required,field_options:Me.field_options,validation_rules:Me.validation_rules,default_value:Me.default_value||null,conditional_logic:Me.conditional_logic,image_path:Me.image_path||null})}n({title:e("common.success"),description:e("surveys.templateCreated")})}fe(),M(!1),ft()}catch(le){console.error("Failed to save template:",le),n({title:e("common.error"),description:e("surveys.templateSaveError",{action:e(I?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{Fe(!1)}},Ve=async le=>{if(j(le),!c[le.template_id])try{const Me=await vi.getFields(le.template_id);u(et=>({...et,[le.template_id]:Me}))}catch(Me){console.error("Failed to load template fields:",Me)}const Se={};(c[le.template_id]||[]).forEach(Me=>{Me.default_value!==null&&Me.default_value!==void 0&&(Se[Me.field_id.toString()]=Me.default_value)}),N(Se)},vt=async le=>{try{await vi.delete(le),l(Se=>Se.filter(Oe=>Oe.template_id!==le)),R(null),u(Se=>{const Oe={...Se};return delete Oe[le],Oe})}catch(Se){console.error("Failed to delete template:",Se),alert("Failed to delete template. Please try again.")}},Zt=async le=>{try{await Nd.delete(le),s(Se=>Se.filter(Oe=>Oe.survey_id!==le)),Z(null)}catch(Se){console.error("Failed to delete survey:",Se),alert("Failed to delete survey. Please try again.")}},hr=async le=>{try{const Se=i.filter(Oe=>Oe.is_default&&Oe.template_id!==le);for(const Oe of Se)await vi.update(Oe.template_id,{is_default:!1});await vi.update(le,{is_default:!0}),l(Oe=>Oe.map(Me=>({...Me,is_default:Me.template_id===le}))),n({title:e("common.success"),description:e("surveys.templateSetAsDefault")})}catch(Se){console.error("Failed to set default template:",Se),n({title:e("common.error"),description:e("surveys.templateSetDefaultError"),variant:"destructive"})}},or=()=>new Promise((le,Se)=>{if(!navigator.geolocation){Se(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(Oe=>{le({latitude:Oe.coords.latitude,longitude:Oe.coords.longitude,accuracy:Oe.coords.accuracy})},Oe=>{Se(Oe)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),dr=async()=>{if(!(!k||!t))try{let le={latitude:0,longitude:0,accuracy:0};try{le=await or()}catch(te){console.warn("Could not get location:",te)}const Se=c[k.template_id]||[],Oe=new Map(Se.map(te=>[te.field_id.toString(),te.field_label])),Me={};for(const[te,J]of Object.entries(E)){const P=Oe.get(te)||te;Me[P]=J}const et=Me["Customer Name"]||Me["Client Name"]||Me.client_name||Me.customer_name||"Anonymous",nt=Me["Customer Company"]||Me["Client Company"]||Me.Company||Me.company||Me.client_company||null,qt=Me["Contact Number"]||Me["Contact Email"]||Me.Contact||Me.contact||Me.phone||null,jr=Me["Contact Email"]||Me.Email||Me.email||Me.client_email||null,Ua=Me.Address||Me.address||Me.client_address||null,Va=Me["Additional Notes"]||Me.Notes||Me.notes||null,On={},td=Object.keys(A);for(const[te,J]of Object.entries(E))if(!td.includes(te)){const P=Oe.get(te)||te;On[P]=J}const Gi={template_id:k.template_id,survey_name:`${Te(k,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Te(k,"template_description")||null,client_name:et,client_name_ar:null,client_contact:qt,client_email:jr,client_address:Ua,client_company:nt,client_company_ar:null,survey_responses:On,location_latitude:le.latitude,location_longitude:le.longitude,location_accuracy:le.accuracy,location_address:Ua,status:"collected",created_by:t.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:Va,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null};console.log("[Survey] Creating survey...");const W=await Nd.create(Gi);if(console.log("[Survey] Survey created with ID:",W.survey_id),Object.keys(A).length>0){console.log("[Survey] Uploading images...",Object.keys(A));const te={...On};for(const[P,H]of Object.entries(A))try{const Y=H.name.split(".").pop(),ge=`${P.replace(/[^a-zA-Z0-9]/g,"_")}_${Date.now()}.${Y}`,Ee=`surveys/survey_${W.survey_id}/${ge}`;console.log(`[Survey] Uploading image for field "${P}" to path: ${Ee}`);const{data:ye,error:be}=await $t.storage.from("survey-uploads").upload(Ee,H,{cacheControl:"3600",upsert:!0,contentType:H.type});if(be)throw console.error(`[Survey] Failed to upload image for field ${P}:`,be),be;console.log(`[Survey] Upload successful for field "${P}":`,ye);const{data:{publicUrl:Ne}}=$t.storage.from("survey-uploads").getPublicUrl(Ee);console.log(`[Survey] Public URL for field "${P}":`,Ne);const Ue=Oe.get(P)||P;te[Ue]={bucket:"survey-uploads",path:Ee,url:Ne}}catch(Y){throw console.error(`[Survey] Error processing image for field ${P}:`,Y),Y}if(console.log("[Survey] Updating survey with image references..."),!await G.surveys.update(W.survey_id,{survey_responses:te}))throw new Error("Failed to update survey with images");console.log("[Survey] Survey updated successfully with images"),W.survey_responses=te}s([W,...a]),j(null),N({}),D({}),S(!1),console.log("[Survey] Survey creation complete:",W)}catch(le){console.error("[Survey] Failed to create survey:",le),alert(`Failed to create survey: ${le.message}`)}},Ba=le=>{const Se=le.field_id.toString(),Oe=E[Se]||"";switch(le.field_type.toLowerCase()){case"text":return o.jsx(ze,{id:Se,value:Oe,onChange:et=>N(nt=>({...nt,[Se]:et.target.value})),placeholder:Te(le,"help_text")||le.field_label,required:le.is_required});case"textarea":return o.jsx(la,{id:Se,value:Oe,onChange:et=>N(nt=>({...nt,[Se]:et.target.value})),placeholder:Te(le,"help_text")||le.field_label,required:le.is_required,rows:3});case"number":return o.jsx(ze,{id:Se,type:"number",value:Oe,onChange:et=>N(nt=>({...nt,[Se]:et.target.value})),placeholder:Te(le,"help_text")||le.field_label,required:le.is_required});case"email":return o.jsx(ze,{id:Se,type:"email",value:Oe,onChange:et=>N(nt=>({...nt,[Se]:et.target.value})),placeholder:Te(le,"help_text")||le.field_label,required:le.is_required});case"date":return o.jsx(ze,{id:Se,type:"date",value:Oe,onChange:et=>N(nt=>({...nt,[Se]:et.target.value})),required:le.is_required});case"select":if(le.field_options&&typeof le.field_options=="object"&&!Array.isArray(le.field_options)&&"options"in le.field_options&&Array.isArray(le.field_options.options)){const et=le.field_options.options.filter(nt=>typeof nt=="string");return o.jsxs(_t,{value:Oe,onValueChange:nt=>N(qt=>({...qt,[Se]:nt})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:Te(le,"help_text")||`${e("common.select")} ${Te(le,"field_label")}`})}),o.jsx(bt,{children:et.map((nt,qt)=>o.jsx(Ae,{value:nt,children:nt},qt))})]})}return o.jsx(ze,{id:Se,value:Oe,onChange:et=>N(nt=>({...nt,[Se]:et.target.value})),placeholder:Te(le,"help_text")||le.field_label,required:le.is_required});case"radio":if(le.field_options&&typeof le.field_options=="object"&&!Array.isArray(le.field_options)&&"options"in le.field_options&&Array.isArray(le.field_options.options)){const et=le.field_options.options.filter(nt=>typeof nt=="string");return o.jsx("div",{className:"space-y-2",children:et.map((nt,qt)=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:Se,value:nt,checked:Oe===nt,onChange:jr=>N(Ua=>({...Ua,[Se]:jr.target.value}))}),o.jsx("span",{className:"text-sm",children:nt})]},qt))})}return o.jsx(ze,{id:Se,value:Oe,onChange:et=>N(nt=>({...nt,[Se]:et.target.value})),placeholder:Te(le,"help_text")||le.field_label,required:le.is_required});case"multiselect":case"checkbox":if(le.field_options&&typeof le.field_options=="object"&&!Array.isArray(le.field_options)&&"options"in le.field_options&&Array.isArray(le.field_options.options)){const et=le.field_options.options.filter(nt=>typeof nt=="string");return o.jsx("div",{className:"space-y-2",children:et.map((nt,qt)=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:Array.isArray(Oe)?Oe.includes(nt):!1,onChange:jr=>{const Ua=Array.isArray(Oe)?Oe:[];jr.target.checked?N(Va=>({...Va,[Se]:[...Ua,nt]})):N(Va=>({...Va,[Se]:Ua.filter(On=>On!==nt)}))}}),o.jsx("span",{className:"text-sm",children:nt})]},qt))})}return o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:!!Oe,onChange:et=>N(nt=>({...nt,[Se]:et.target.checked}))}),o.jsx("span",{className:"text-sm",children:Te(le,"field_label")})]});case"image":const Me=E[Se];return o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{id:Se,type:"file",accept:"image/*",onChange:et=>{var qt;const nt=(qt=et.target.files)==null?void 0:qt[0];nt&&(D(jr=>({...jr,[Se]:nt})),N(jr=>({...jr,[Se]:{preview:URL.createObjectURL(nt),filename:nt.name}})))},required:le.is_required}),(Me==null?void 0:Me.preview)&&o.jsxs("div",{className:"relative w-full",children:[o.jsx("img",{src:Me.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),o.jsx(ce,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{D(et=>{const nt={...et};return delete nt[Se],nt}),N(et=>{const nt={...et};return delete nt[Se],nt})},children:o.jsx(_r,{className:"h-4 w-4"})})]})]});default:return o.jsx(ze,{id:Se,value:Oe,onChange:et=>N(nt=>({...nt,[Se]:et.target.value})),placeholder:Te(le,"help_text")||le.field_label,required:le.is_required})}},An=()=>{const le=[{key:"survey",header:e("surveys.surveyName"),render:Me=>o.jsx(vc,{title:Me.survey_name||`${e("surveys.survey")} #${Me.survey_id}`,subtitle:Te(Me,"client_name")})},{key:"status",header:e("surveys.status"),render:Me=>o.jsx(EO,{variant:"outline",children:Q(Me.status)})},{key:"company",header:e("surveys.clientCompany"),hideOnMobile:!0,render:Me=>Me.client_company||e("surveys.noCompany")},{key:"creator",header:e("surveys.createdBy"),hideOnMobile:!0,render:Me=>o.jsx(Fm,{name:ve(Me.created_by),fallback:e("surveys.unknownCreator")})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Me=>o.jsx(Iu,{date:Me.created_at,fallback:e("leads.notSet")})}],Se=[{label:e("common.view"),icon:o.jsx(Di,{className:"h-4 w-4"}),onClick:Me=>p(Me)},{label:e("buttons.delete"),icon:o.jsx(_r,{className:"h-4 w-4"}),onClick:Me=>Z(Me.survey_id),variant:"destructive"}],Oe=[{label:e("buttons.delete"),icon:o.jsx(_r,{className:"h-4 w-4"}),onClick:async Me=>{if(Me.length===0)return;if(window.confirm(e("surveys.confirmBulkDeleteDesc",{count:Me.length})))try{const nt=Me.map(qt=>Nd.delete(qt.survey_id));await Promise.all(nt),s(qt=>qt.filter(jr=>!Me.find(Ua=>Ua.survey_id===jr.survey_id))),De(new Set),n({title:e("common.success"),description:e("surveys.bulkDeleteSuccess",{count:Me.length})})}catch(nt){console.error("Failed to bulk delete surveys:",nt),n({title:e("common.error"),description:e("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}];return o.jsx(gc,{data:gt,columns:le,actions:Se,bulkActions:Oe,keyExtractor:Me=>Me.survey_id,onRowClick:Me=>p(Me),enableBulkSelect:!0,emptyState:o.jsx(ll,{icon:o.jsx(ys,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noSurveysFound"),description:e(h?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},Vr=()=>{const le=[{key:"template",header:e("surveys.templateName"),render:Oe=>o.jsx(vc,{title:Te(Oe,"template_name"),subtitle:Te(Oe,"template_description")})},{key:"category",header:e("surveys.category"),render:Oe=>Oe.category||e("surveys.noCategory")},{key:"status",header:e("surveys.status"),render:Oe=>o.jsxs("div",{className:"flex items-center gap-2",children:[Oe.is_active?o.jsx(mt,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):o.jsx(mt,{variant:"secondary",children:e("surveys.inactive")}),Oe.is_default&&o.jsx(mt,{variant:"default",children:e("surveys.default")})]})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Oe=>o.jsx(Iu,{date:Oe.created_at,fallback:e("leads.notSet")})}],Se=[{label:e("common.view"),icon:o.jsx(Di,{className:"h-4 w-4"}),onClick:Oe=>he(Oe)},{label:e("surveys.setAsDefault"),icon:o.jsx(Hl,{className:"h-4 w-4"}),onClick:Oe=>hr(Oe.template_id),show:Oe=>!Oe.is_default},{label:e("buttons.edit"),icon:o.jsx(RN,{className:"h-4 w-4"}),onClick:Oe=>je(Oe)},{label:e("buttons.delete"),icon:o.jsx(_r,{className:"h-4 w-4"}),onClick:Oe=>R(Oe.template_id),variant:"destructive"}];return o.jsx(gc,{data:se,columns:le,actions:Se,keyExtractor:Oe=>Oe.template_id,onRowClick:Oe=>he(Oe),emptyState:o.jsx(ll,{icon:o.jsx(ys,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noTemplatesFound"),description:e(h?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return d?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10",children:o.jsx(ys,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:e("surveys.title")}),o.jsx("p",{className:"text-sm text-muted-foreground hidden sm:block",children:e("surveys.subtitle")})]})]}),o.jsxs("div",{className:"flex items-center gap-3 bg-muted/30 px-4 py-2 rounded-full border",children:[o.jsx(ys,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"text-sm font-semibold",children:[a.length," ",e("surveys.totalSurveys")]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ze,{placeholder:e("surveys.searchPlaceholder"),value:h,onChange:le=>m(le.target.value),className:"pl-10"})]}),o.jsxs(xl,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col",dir:r?"rtl":"ltr",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsxs(Zr,{value:"surveys",children:[e("surveys.surveys")," (",gt.length,")"]}),o.jsxs(Zr,{value:"templates",children:[e("surveys.templates")," (",se.length,")"]})]}),o.jsxs(En,{value:"surveys",className:"space-y-4 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",style:{direction:r?"rtl":"ltr"},children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ce,{variant:C==="card"?"default":"ghost",size:"sm",onClick:()=>K("card"),className:"h-8 w-8 p-0",children:o.jsx(ys,{className:"h-4 w-4"})}),o.jsx(ce,{variant:C==="list"?"default":"ghost",size:"sm",onClick:()=>K("list"),className:"h-8 w-8 p-0",children:o.jsx(ix,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",children:[o.jsxs(Nn,{open:_,onOpenChange:S,children:[o.jsx(Ph,{asChild:!0,children:o.jsxs(ce,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),e("surveys.newSurvey")]})}),o.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(pn,{children:o.jsx(gn,{children:e("surveys.createNewSurvey")})}),o.jsx("div",{className:"space-y-6 py-4",children:k?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium",children:Te(k,"template_name")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.fillSurveyDetails")})]}),o.jsx(ce,{variant:"outline",size:"sm",onClick:()=>{j(null),N({})},children:e("surveys.changeTemplate")})]}),o.jsx("div",{className:"space-y-4",children:(hs=c[k.template_id])==null?void 0:hs.map(le=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs(qe,{htmlFor:le.field_label,className:"text-sm font-medium",children:[Te(le,"field_label"),le.is_required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),Ba(le),Te(le,"help_text")&&o.jsx("p",{className:"text-xs text-muted-foreground",children:Te(le,"help_text")})]},le.field_id))}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[o.jsx(Am,{className:"h-4 w-4"}),o.jsx("span",{children:e("surveys.locationWillBeCaptured")})]})})]}):o.jsxs("div",{children:[o.jsx(qe,{className:"text-base font-medium mb-4 block",children:e("surveys.selectTemplate")}),o.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:i.filter(le=>le.is_active).map(le=>o.jsx(pt,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(k==null?void 0:k.template_id)===le.template_id?"ring-2 ring-primary":""}`,onClick:()=>Ve(le),children:o.jsx(jt,{className:"p-4",children:o.jsx("div",{className:"flex items-start gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate",children:Te(le,"template_name")}),le.category&&o.jsx(mt,{variant:"outline",className:"mt-1 text-xs",children:le.category}),Te(le,"template_description")&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Te(le,"template_description")})]})})})},le.template_id))})]})}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(ce,{variant:"outline",onClick:()=>{S(!1),j(null),N({})},className:"w-full sm:w-auto",children:e("buttons.cancel")}),k&&o.jsx(ce,{onClick:dr,disabled:!k,className:"w-full sm:w-auto",children:e("surveys.submitSurvey")})]})]})]}),o.jsxs(Nn,{open:Re,onOpenChange:Be,children:[o.jsx(Ph,{asChild:!0,children:o.jsxs(ce,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[o.jsx(Gg,{className:"h-4 w-4 mr-2 text-primary"}),e("surveys.bulkImport")]})}),o.jsx(mn,{className:"w-[95vw] sm:w-full sm:max-w-4xl max-h-[85vh] overflow-y-auto",children:o.jsx(hNe,{templates:i,templateFields:c,onImportComplete:ee,onClose:()=>Be(!1)})})]})]})]}),o.jsx(aa,{className:"flex-1",dir:r?"rtl":"ltr",children:gt.length===0?o.jsx(pt,{children:o.jsxs(jt,{className:"text-center py-12",children:[o.jsx(ys,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noSurveysFound")}),o.jsx("p",{className:"text-muted-foreground",children:e(h?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):C==="card"?o.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto",style:{direction:r?"rtl":"ltr"},children:gt.map(le=>o.jsxs(pt,{className:"w-full overflow-auto hover:shadow-lg transition-all duration-200 cursor-pointer",children:[o.jsx(fr,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:le.survey_name||`${e("surveys.survey")} #${le.survey_id}`}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Te(le,"client_name")})]}),Q(le.status)]})}),o.jsxs(jt,{className:"pt-0 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(on,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:le.client_company||e("surveys.noCompany")})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Am,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:le.location_address||`${le.location_latitude.toFixed(4)}, ${le.location_longitude.toFixed(4)}`})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(sa,{className:"h-4 w-4"}),o.jsxs("span",{children:[e("surveys.createdBy"),": ",ve(le.created_by)]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(jd,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:new Date(le.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Nn,{children:[o.jsx(Ph,{asChild:!0,children:o.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>p(le),children:[o.jsx(Di,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),o.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(pn,{children:o.jsx(gn,{children:le.survey_name||`${e("surveys.survey")} #${le.survey_id}`})}),g&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.clientName")}),o.jsx("p",{className:"text-sm",children:Te(g,"client_name")})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.clientCompany")}),o.jsx("p",{className:"text-sm",children:g.client_company||e("surveys.noCompany")})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.contact")}),o.jsx("p",{className:"text-sm",children:g.client_contact||e("surveys.noContact")})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.email")}),o.jsx("p",{className:"text-sm",children:g.client_email||e("surveys.noEmail")})]})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.location")}),o.jsx("p",{className:"text-sm",children:o.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${g.location_latitude},${g.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:["https://www.google.com/maps/place/",g.location_address||`${g.location_latitude.toFixed(6)}, ${g.location_longitude.toFixed(6)}`]})})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.responses")}),o.jsx("div",{className:"mt-2 space-y-2",children:g.survey_responses&&Object.keys(g.survey_responses).length>0?Object.entries(g.survey_responses).map(([Se,Oe])=>{const Me=typeof Oe=="object"&&Oe!==null&&"bucket"in Oe&&"path"in Oe&&"url"in Oe;return o.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"font-medium text-sm text-primary",children:[Se,":"]}),Me?o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:Oe.url,alt:Se,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):o.jsx("div",{className:"text-sm text-muted-foreground break-words",children:Array.isArray(Oe)?Oe.join(", "):typeof Oe=="object"?JSON.stringify(Oe):String(Oe||"N/A")})]},Se)}):o.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:"No responses recorded"})})]})]})]})]}),o.jsxs(ci,{children:[o.jsx(df,{asChild:!0,children:o.jsx(ce,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:Se=>{Se.stopPropagation(),Z(le.survey_id)},children:o.jsx(_r,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:Se=>Se.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("surveys.deleteSurvey")}),o.jsx(Fs,{children:e("surveys.deleteSurveyConfirmation",{name:le.survey_name||`${e("surveys.survey")} #${le.survey_id}`})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("buttons.cancel")}),o.jsx(Ls,{onClick:Se=>{Se.stopPropagation(),Zt(le.survey_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]})]},le.survey_id))}):o.jsx("div",{className:"w-full overflow-hidden",children:An()})})]}),o.jsxs(En,{value:"templates",className:"space-y-4 flex-1 flex flex-col",children:[o.jsx("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",children:o.jsxs(ce,{onClick:()=>{fe(),M(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),e("surveys.createTemplate")]})}),o.jsx(aa,{className:"flex-1",dir:r?"rtl":"ltr",children:se.length===0?o.jsx(pt,{children:o.jsxs(jt,{className:"text-center py-12",children:[o.jsx(ys,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noTemplatesFound")}),o.jsx("p",{className:"text-muted-foreground",children:e(h?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):B==="card"?o.jsx("div",{className:`w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 ${r?"rtl":""}`,children:se.map(le=>o.jsxs(pt,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200",children:[o.jsx(fr,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:Te(le,"template_name")}),le.category&&o.jsx(mt,{variant:"outline",className:"mt-1 text-xs",children:le.category})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[le.is_default&&o.jsx(Hl,{className:"h-4 w-4 text-green-500"}),le.is_active?o.jsx(Hl,{className:"h-4 w-4 text-green-500"}):o.jsx(Yie,{className:"h-4 w-4 text-red-500"})]})]})}),o.jsxs(jt,{className:"pt-0 space-y-3",children:[Te(le,"template_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Te(le,"template_description")}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(jd,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:new Date(le.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Nn,{children:[o.jsx(Ph,{asChild:!0,children:o.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>he(le),children:[o.jsx(Di,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),o.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(pn,{children:o.jsx(gn,{children:Te(v||le,"template_name")})}),v&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.category")}),o.jsx("p",{className:"text-sm",children:v.category||e("surveys.noCategory")})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.status")}),o.jsxs("div",{className:"flex items-center gap-2",children:[v.is_active?o.jsx(mt,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):o.jsx(mt,{variant:"secondary",children:e("surveys.inactive")}),v.is_default&&o.jsx(mt,{variant:"default",children:e("surveys.default")})]})]})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.description")}),o.jsx("p",{className:"text-sm mt-1",children:Te(v,"template_description")||e("surveys.noDescription")})]}),o.jsxs("div",{children:[o.jsxs(qe,{className:"text-sm font-medium",children:[e("surveys.fields")," (",w.length,")"]}),o.jsx("div",{className:"mt-2 space-y-2",children:w.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.noFields")}):w.sort((Se,Oe)=>Se.field_order-Oe.field_order).map(Se=>o.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(mt,{variant:"outline",className:"text-xs",children:Se.field_type}),o.jsx("span",{className:"text-sm font-medium",children:Te(Se,"field_label")}),Se.is_required&&o.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Te(Se,"help_text")&&o.jsx("p",{className:"text-xs text-muted-foreground",children:Te(Se,"help_text")})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",Se.field_order]})]})},Se.field_id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.created")}),o.jsx("p",{children:new Date(v.created_at).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx(qe,{className:"text-sm font-medium",children:e("surveys.updated")}),o.jsx("p",{children:new Date(v.updated_at).toLocaleString()})]})]})]})]})]}),!le.is_default&&o.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-green-50",onClick:Se=>{Se.stopPropagation(),hr(le.template_id)},title:e("surveys.setAsDefault"),children:o.jsx(Hl,{className:"h-4 w-4 text-green-500"})}),o.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50",onClick:Se=>{Se.stopPropagation(),je(le)},children:o.jsx(RN,{className:"h-4 w-4"})}),o.jsxs(ci,{children:[o.jsx(df,{asChild:!0,children:o.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:Se=>{Se.stopPropagation(),R(le.template_id)},children:o.jsx(_r,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:Se=>Se.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("surveys.deleteTemplate")}),o.jsx(Fs,{children:e("surveys.deleteTemplateConfirmation",{name:Te(le,"template_name")})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("buttons.cancel")}),o.jsx(Ls,{onClick:Se=>{Se.stopPropagation(),vt(le.template_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]},le.template_id))}):o.jsx("div",{className:"w-full overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:Vr()})})]})]}),o.jsx(Nn,{open:q,onOpenChange:M,children:o.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:e(I?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),o.jsx(Ia,{children:e("surveys.createTemplateDesc")})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(qe,{htmlFor:"template_name",children:[e("surveys.templateName")," *"]}),o.jsx(ze,{id:"template_name",value:ne.template_name,onChange:le=>oe(Se=>({...Se,template_name:le.target.value})),placeholder:e("surveys.templateName"),className:X.template_name?"border-red-500":""}),X.template_name&&o.jsx("p",{className:"text-sm text-red-500",children:X.template_name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"category",children:e("surveys.category")}),o.jsxs(_t,{value:ne.category,onValueChange:le=>oe(Se=>({...Se,category:le})),children:[o.jsx(wt,{children:o.jsx(St,{placeholder:e("surveys.selectCategory")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"customer_satisfaction",children:e("surveys.customerSatisfaction")}),o.jsx(Ae,{value:"product_feedback",children:e("surveys.productFeedback")}),o.jsx(Ae,{value:"service_quality",children:e("surveys.serviceQuality")}),o.jsx(Ae,{value:"general",children:e("surveys.general")})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"template_description",children:e("surveys.description")}),o.jsx(la,{id:"template_description",value:ne.template_description,onChange:le=>oe(Se=>({...Se,template_description:le.target.value})),placeholder:e("surveys.description"),rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"is_active",checked:ne.is_active,onChange:le=>oe(Se=>({...Se,is_active:le.target.checked})),className:"rounded"}),o.jsx(qe,{htmlFor:"is_active",children:e("surveys.isActive")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-semibold",children:e("surveys.fields")})}),X.fields&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600",children:X.fields})}),o.jsx("div",{className:"space-y-3",children:ue.map((le,Se)=>{var Oe,Me,et;return o.jsx(pt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[o.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>_e(Se,Math.max(0,Se-1)),disabled:Se===0,children:o.jsx(zie,{className:"h-4 w-4"})}),o.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>_e(Se,Math.min(ue.length-1,Se+1)),disabled:Se===ue.length-1,children:o.jsx(Uie,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(qe,{children:[e("surveys.fieldLabel")," *"]}),o.jsx(ze,{value:le.field_label,onChange:nt=>we(Se,{field_label:nt.target.value}),placeholder:e("surveys.fieldLabel"),className:X[`field_${Se}`]?"border-red-500":""}),X[`field_${Se}`]&&o.jsx("p",{className:"text-sm text-red-500",children:X[`field_${Se}`]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(qe,{children:[e("surveys.fieldType")," *"]}),o.jsxs(_t,{value:le.field_type,onValueChange:nt=>we(Se,{field_type:nt}),children:[o.jsx(wt,{children:o.jsx(St,{})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"text",children:e("surveys.text")}),o.jsx(Ae,{value:"textarea",children:e("surveys.textarea")}),o.jsx(Ae,{value:"email",children:e("surveys.email")}),o.jsx(Ae,{value:"date",children:e("surveys.date")}),o.jsx(Ae,{value:"select",children:e("surveys.select")}),o.jsx(Ae,{value:"multiselect",children:e("surveys.multiselect")}),o.jsx(Ae,{value:"radio",children:e("surveys.radio")}),o.jsx(Ae,{value:"checkbox",children:e("surveys.checkbox")}),o.jsx(Ae,{value:"image",children:e("surveys.image")})]})]})]})]}),(le.field_type==="select"||le.field_type==="multiselect"||le.field_type==="radio")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{children:e("surveys.options")}),o.jsx(la,{defaultValue:((Me=(Oe=le.field_options)==null?void 0:Oe.options)==null?void 0:Me.join(`
`))||"",onBlur:nt=>{const qt=nt.target.value.split(/[\n\s]+/).filter(jr=>jr.trim()).map(jr=>jr.trim());we(Se,{field_options:{options:qt,allow_multiple:le.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((et=le.field_options)==null?void 0:et.options)&&le.field_options.options.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[le.field_options.options.length," option(s): ",le.field_options.options.join(", ")]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`required-${Se}`,checked:le.is_required,onChange:nt=>we(Se,{is_required:nt.target.checked}),className:"rounded"}),o.jsx(qe,{htmlFor:`required-${Se}`,children:e("surveys.isRequired")})]})]}),o.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>$e(Se),className:"text-red-500 hover:text-red-700",children:o.jsx(_r,{className:"h-4 w-4"})})]})},Se)})}),o.jsx("div",{className:"flex justify-center pt-4",children:o.jsxs(ce,{onClick:me,size:"sm",variant:"outline",children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),e("surveys.addField")]})})]})]}),o.jsxs(Ra,{children:[o.jsx(ce,{variant:"outline",onClick:()=>M(!1),disabled:O,children:e("buttons.cancel")}),o.jsx(ce,{onClick:Ie,disabled:!ne.template_name.trim()||O,children:e(O?"buttons.saving":I?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function pNe(){const{t:e}=Ht();Sr();const{isRTL:t}=mi(),r=La(),[n,a]=x.useState([]),[s,i]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(""),[f,h]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState("leads"),[y,w]=x.useState(""),[b,_]=x.useState("");x.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0);const D=await es.getAll();a(D)}catch(D){console.error("Failed to load stages:",D)}finally{i(!1)}},k=D=>n.filter(T=>T.stage_type===D).sort((T,U)=>(T.stager_order_index??0)-(U.stager_order_index??0)),j=async()=>{if(y.trim())try{const D=k(p),T=D.length>0?Math.max(...D.map(q=>q.stager_order_index||0)):-1,U={stage_name:y.trim(),stage_name_ar:b.trim()||null,stage_type:p,stager_order_index:T+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await es.create(U),await S(),w(""),_(""),g(!1)}catch(D){console.error("Failed to create stage:",D)}},E=async(D,T)=>{try{await es.update(D.stage_id,T),await S(),c(null),d("")}catch(U){console.error("Failed to update stage:",U)}},N=async D=>{try{await es.delete(D),await S(),h(null)}catch(T){console.error("Failed to delete stage:",T)}},A=D=>{const T=k(D);return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${D}`)}),o.jsxs(ce,{size:r?"default":"sm",onClick:()=>{v(D),g(!0)},className:"w-full sm:w-auto",children:[o.jsx(ar,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),T.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):o.jsx("div",{className:"space-y-2",children:T.map((U,q)=>o.jsx(pt,{className:"p-3 md:p-4",children:o.jsxs("div",{className:ke("flex gap-2 md:gap-3 rtl:flex-row-reverse",r?"flex-col":"items-center"),children:[!r&&o.jsx(Ko,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(l==null?void 0:l.stage_id)===U.stage_id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(ze,{value:l.stage_name,onChange:M=>c({...l,stage_name:M.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),o.jsx(ze,{value:u,onChange:M=>d(M.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),o.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>E(U,{stage_name:l.stage_name,stage_name_ar:u||null}),className:"flex-1 sm:flex-initial",children:o.jsx(Co,{className:"h-4 w-4"})}),o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>{c(null),d("")},className:"flex-1 sm:flex-initial",children:o.jsx(Mi,{className:"h-4 w-4"})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Te(U,"stage_name")}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",U.stager_order_index]})]}),o.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[o.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>{c(U),d(U.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:o.jsx(Bi,{className:"h-4 w-4"})}),o.jsx(ce,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>h(U.stage_id),children:o.jsx(_r,{className:"h-4 w-4"})})]})]})]})},U.stage_id))})]})};return s?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),o.jsxs(xl,{defaultValue:"stages",className:"space-y-6",children:[o.jsx(Ro,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:t?"rtl":"ltr",children:o.jsx(Zr,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),o.jsx(En,{value:"stages",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:t?"rtl":"ltr",children:[o.jsxs(pt,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(fr,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(Jr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ko,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),o.jsx(jt,{className:"p-4 md:p-6",children:A("leads")})]}),o.jsxs(pt,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(fr,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(Jr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ko,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),o.jsx(jt,{className:"p-4 md:p-6",children:A("projects")})]}),o.jsxs(pt,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(fr,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(Jr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ko,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),o.jsx(jt,{className:"p-4 md:p-6",children:A("tasks")})]}),o.jsxs(pt,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(fr,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(Jr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ko,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),o.jsx(jt,{className:"p-4 md:p-6",children:A("tickets")})]}),o.jsxs(pt,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(fr,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(Jr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ko,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),o.jsx(jt,{className:"p-4 md:p-6",children:A("mleads")})]}),o.jsxs(pt,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(fr,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(Jr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ko,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),o.jsx(jt,{className:"p-4 md:p-6",children:A("mprojects")})]})]})})]}),o.jsx(Nn,{open:m,onOpenChange:g,children:o.jsxs(mn,{className:"w-[95vw] sm:max-w-[425px]",children:[o.jsxs(pn,{children:[o.jsx(gn,{children:e("settings.addStage")}),o.jsx(Ia,{children:e("settings.addStageDesc",{type:e(`settings.${p}`)})})]}),o.jsxs("div",{className:"space-y-4 py-4",dir:t?"rtl":"ltr",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),o.jsx(ze,{id:"stage-name",value:y,onChange:D=>w(D.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),o.jsx(ze,{id:"stage-name-ar",value:b,onChange:D=>_(D.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),o.jsxs(Ra,{className:"flex-col sm:flex-row gap-2",dir:t?"rtl":"ltr",children:[o.jsx(ce,{variant:"outline",onClick:()=>g(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),o.jsx(ce,{onClick:j,disabled:!y.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),o.jsx(ci,{open:!!f,onOpenChange:D=>!D&&h(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("settings.deleteStage")}),o.jsx(Fs,{children:e("settings.deleteStageConfirmation")})]}),o.jsxs(Is,{dir:t?"rtl":"ltr",children:[o.jsx($s,{children:e("buttons.cancel")}),o.jsx(Ls,{onClick:()=>f&&N(f),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}const hP=({className:e,...t})=>o.jsx("nav",{role:"navigation","aria-label":"pagination",className:ke("mx-auto flex w-full justify-center",e),...t});hP.displayName="Pagination";const mP=x.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,className:ke("flex flex-row items-center gap-1",e),...t}));mP.displayName="PaginationContent";const Yd=x.forwardRef(({className:e,...t},r)=>o.jsx("li",{ref:r,className:ke("",e),...t}));Yd.displayName="PaginationItem";const pP=({className:e,isActive:t,size:r="icon",...n})=>o.jsx("a",{"aria-current":t?"page":void 0,className:ke(Nm({variant:t?"outline":"ghost",size:r}),e),...n});pP.displayName="PaginationLink";const gP=({className:e,children:t,...r})=>o.jsx(pP,{"aria-label":"Go to previous page",size:"default",className:ke("gap-1 pl-2.5",e),...r,children:o.jsx("span",{children:t||"Previous"})});gP.displayName="PaginationPrevious";const vP=({className:e,children:t,...r})=>o.jsx(pP,{"aria-label":"Go to next page",size:"default",className:ke("gap-1 pr-2.5",e),...r,children:o.jsx("span",{children:t||"Next"})});vP.displayName="PaginationNext";var $F=1,gNe=.9,vNe=.8,xNe=.17,Mk=.1,Fk=.999,yNe=.9999,wNe=.99,bNe=/[\\\/_+.#"@\[\(\{&]/,_Ne=/[\\\/_+.#"@\[\(\{&]/g,SNe=/[\s-]/,PK=/[\s-]/g;function CE(e,t,r,n,a,s,i){if(s===t.length)return a===e.length?$F:wNe;var l=`${a},${s}`;if(i[l]!==void 0)return i[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,g;u>=0;)f=CE(e,t,r,n,u+1,s+1,i),f>d&&(u===a?f*=$F:bNe.test(e.charAt(u-1))?(f*=vNe,m=e.slice(a,u-1).match(_Ne),m&&a>0&&(f*=Math.pow(Fk,m.length))):SNe.test(e.charAt(u-1))?(f*=gNe,g=e.slice(a,u-1).match(PK),g&&a>0&&(f*=Math.pow(Fk,g.length))):(f*=xNe,a>0&&(f*=Math.pow(Fk,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=yNe)),(f<Mk&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=CE(e,t,r,n,u+1,s+2,i),h*Mk>f&&(f=h*Mk)),f>d&&(d=f),u=r.indexOf(c,u+1);return i[l]=d,d}function BF(e){return e.toLowerCase().replace(PK," ")}function jNe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,CE(e,t,BF(e),BF(t),0,0,{})}var g0='[cmdk-group=""]',Lk='[cmdk-group-items=""]',kNe='[cmdk-group-heading=""]',DK='[cmdk-item=""]',UF=`${DK}:not([aria-disabled="true"])`,TE="cmdk-item-select",hh="data-value",NNe=(e,t,r)=>jNe(e,t,r),RK=x.createContext(void 0),Fx=()=>x.useContext(RK),IK=x.createContext(void 0),xP=()=>x.useContext(IK),MK=x.createContext(void 0),FK=x.forwardRef((e,t)=>{let r=mh(()=>{var C,K;return{search:"",value:(K=(C=e.value)!=null?C:e.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=mh(()=>new Set),a=mh(()=>new Map),s=mh(()=>new Map),i=mh(()=>new Set),l=LK(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:p=!1,vimBindings:v=!0,...y}=e,w=oa(),b=oa(),_=oa(),S=x.useRef(null),k=FNe();vf(()=>{if(d!==void 0){let C=d.trim();r.current.value=C,j.emit()}},[d]),vf(()=>{k(6,U)},[]);let j=x.useMemo(()=>({subscribe:C=>(i.current.add(C),()=>i.current.delete(C)),snapshot:()=>r.current,setState:(C,K,B)=>{var z,ne,oe,ue;if(!Object.is(r.current[C],K)){if(r.current[C]=K,C==="search")T(),A(),k(1,D);else if(C==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(_);ie?ie.focus():(z=document.getElementById(w))==null||z.focus()}if(k(7,()=>{var ie;r.current.selectedItemId=(ie=q())==null?void 0:ie.id,j.emit()}),B||k(5,U),((ne=l.current)==null?void 0:ne.value)!==void 0){let ie=K??"";(ue=(oe=l.current).onValueChange)==null||ue.call(oe,ie);return}}j.emit()}},emit:()=>{i.current.forEach(C=>C())}}),[]),E=x.useMemo(()=>({value:(C,K,B)=>{var z;K!==((z=s.current.get(C))==null?void 0:z.value)&&(s.current.set(C,{value:K,keywords:B}),r.current.filtered.items.set(C,N(K,B)),k(2,()=>{A(),j.emit()}))},item:(C,K)=>(n.current.add(C),K&&(a.current.has(K)?a.current.get(K).add(C):a.current.set(K,new Set([C]))),k(3,()=>{T(),A(),r.current.value||D(),j.emit()}),()=>{s.current.delete(C),n.current.delete(C),r.current.filtered.items.delete(C);let B=q();k(4,()=>{T(),(B==null?void 0:B.getAttribute("id"))===C&&D(),j.emit()})}),group:C=>(a.current.has(C)||a.current.set(C,new Set),()=>{s.current.delete(C),a.current.delete(C)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:w,inputId:_,labelId:b,listInnerRef:S}),[]);function N(C,K){var B,z;let ne=(z=(B=l.current)==null?void 0:B.filter)!=null?z:NNe;return C?ne(C,r.current.search,K):0}function A(){if(!r.current.search||l.current.shouldFilter===!1)return;let C=r.current.filtered.items,K=[];r.current.filtered.groups.forEach(z=>{let ne=a.current.get(z),oe=0;ne.forEach(ue=>{let ie=C.get(ue);oe=Math.max(ie,oe)}),K.push([z,oe])});let B=S.current;M().sort((z,ne)=>{var oe,ue;let ie=z.getAttribute("id"),X=ne.getAttribute("id");return((oe=C.get(X))!=null?oe:0)-((ue=C.get(ie))!=null?ue:0)}).forEach(z=>{let ne=z.closest(Lk);ne?ne.appendChild(z.parentElement===ne?z:z.closest(`${Lk} > *`)):B.appendChild(z.parentElement===B?z:z.closest(`${Lk} > *`))}),K.sort((z,ne)=>ne[1]-z[1]).forEach(z=>{var ne;let oe=(ne=S.current)==null?void 0:ne.querySelector(`${g0}[${hh}="${encodeURIComponent(z[0])}"]`);oe==null||oe.parentElement.appendChild(oe)})}function D(){let C=M().find(B=>B.getAttribute("aria-disabled")!=="true"),K=C==null?void 0:C.getAttribute(hh);j.setState("value",K||void 0)}function T(){var C,K,B,z;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ne=0;for(let oe of n.current){let ue=(K=(C=s.current.get(oe))==null?void 0:C.value)!=null?K:"",ie=(z=(B=s.current.get(oe))==null?void 0:B.keywords)!=null?z:[],X=N(ue,ie);r.current.filtered.items.set(oe,X),X>0&&ne++}for(let[oe,ue]of a.current)for(let ie of ue)if(r.current.filtered.items.get(ie)>0){r.current.filtered.groups.add(oe);break}r.current.filtered.count=ne}function U(){var C,K,B;let z=q();z&&(((C=z.parentElement)==null?void 0:C.firstChild)===z&&((B=(K=z.closest(g0))==null?void 0:K.querySelector(kNe))==null||B.scrollIntoView({block:"nearest"})),z.scrollIntoView({block:"nearest"}))}function q(){var C;return(C=S.current)==null?void 0:C.querySelector(`${DK}[aria-selected="true"]`)}function M(){var C;return Array.from(((C=S.current)==null?void 0:C.querySelectorAll(UF))||[])}function I(C){let K=M()[C];K&&j.setState("value",K.getAttribute(hh))}function V(C){var K;let B=q(),z=M(),ne=z.findIndex(ue=>ue===B),oe=z[ne+C];(K=l.current)!=null&&K.loop&&(oe=ne+C<0?z[z.length-1]:ne+C===z.length?z[0]:z[ne+C]),oe&&j.setState("value",oe.getAttribute(hh))}function F(C){let K=q(),B=K==null?void 0:K.closest(g0),z;for(;B&&!z;)B=C>0?INe(B,g0):MNe(B,g0),z=B==null?void 0:B.querySelector(UF);z?j.setState("value",z.getAttribute(hh)):V(C)}let R=()=>I(M().length-1),re=C=>{C.preventDefault(),C.metaKey?R():C.altKey?F(1):V(1)},Z=C=>{C.preventDefault(),C.metaKey?I(0):C.altKey?F(-1):V(-1)};return x.createElement(ct.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:C=>{var K;(K=y.onKeyDown)==null||K.call(y,C);let B=C.nativeEvent.isComposing||C.keyCode===229;if(!(C.defaultPrevented||B))switch(C.key){case"n":case"j":{v&&C.ctrlKey&&re(C);break}case"ArrowDown":{re(C);break}case"p":case"k":{v&&C.ctrlKey&&Z(C);break}case"ArrowUp":{Z(C);break}case"Home":{C.preventDefault(),I(0);break}case"End":{C.preventDefault(),R();break}case"Enter":{C.preventDefault();let z=q();if(z){let ne=new Event(TE);z.dispatchEvent(ne)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:$Ne},c),iS(e,C=>x.createElement(IK.Provider,{value:j},x.createElement(RK.Provider,{value:E},C))))}),ENe=x.forwardRef((e,t)=>{var r,n;let a=oa(),s=x.useRef(null),i=x.useContext(MK),l=Fx(),c=LK(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;vf(()=>{if(!u)return l.item(a,i==null?void 0:i.id)},[u]);let d=$K(a,s,[e.value,e.children,s],e.keywords),f=xP(),h=Lu(k=>k.value&&k.value===d.current),m=Lu(k=>u||l.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);x.useEffect(()=>{let k=s.current;if(!(!k||e.disabled))return k.addEventListener(TE,g),()=>k.removeEventListener(TE,g)},[m,e.onSelect,e.disabled]);function g(){var k,j;p(),(j=(k=c.current).onSelect)==null||j.call(k,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:y,onSelect:w,forceMount:b,keywords:_,...S}=e;return x.createElement(ct.div,{ref:dc(s,t),...S,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:p,onClick:v?void 0:g},e.children)}),CNe=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,i=oa(),l=x.useRef(null),c=x.useRef(null),u=oa(),d=Fx(),f=Lu(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);vf(()=>d.group(i),[]),$K(i,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:i,forceMount:a}),[a]);return x.createElement(ct.div,{ref:dc(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),iS(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(MK.Provider,{value:h},m))))}),TNe=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=Lu(i=>!i.search);return!r&&!s?null:x.createElement(ct.div,{ref:dc(a,t),...n,"cmdk-separator":"",role:"separator"})}),ANe=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=xP(),i=Lu(u=>u.search),l=Lu(u=>u.selectedItemId),c=Fx();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(ct.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),ONe=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),i=x.useRef(null),l=Lu(u=>u.selectedItemId),c=Fx();return x.useEffect(()=>{if(i.current&&s.current){let u=i.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(ct.div,{ref:dc(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},iS(e,u=>x.createElement("div",{ref:dc(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),PNe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:i,...l}=e;return x.createElement(B_,{open:r,onOpenChange:n},x.createElement(U_,{container:i},x.createElement(Tp,{"cmdk-overlay":"",className:a}),x.createElement(Ap,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(FK,{ref:t,...l}))))}),DNe=x.forwardRef((e,t)=>Lu(r=>r.filtered.count===0)?x.createElement(ct.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),RNe=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(ct.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},iS(e,i=>x.createElement("div",{"aria-hidden":!0},i)))}),Vs=Object.assign(FK,{List:ONe,Item:ENe,Input:ANe,Group:CNe,Separator:TNe,Dialog:PNe,Empty:DNe,Loading:RNe});function INe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function MNe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function LK(e){let t=x.useRef(e);return vf(()=>{t.current=e}),t}var vf=typeof window>"u"?x.useEffect:x.useLayoutEffect;function mh(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Lu(e){let t=xP(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function $K(e,t,r,n=[]){let a=x.useRef(),s=Fx();return vf(()=>{var i;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(i=t.current)==null||i.setAttribute(hh,l),a.current=l}),a}var FNe=()=>{let[e,t]=x.useState(),r=mh(()=>new Map);return vf(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function LNe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function iS({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(LNe(t),{ref:t.ref},r(t.props.children)):r(t)}var $Ne={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const va=x.forwardRef(({className:e,...t},r)=>o.jsx(Vs,{ref:r,className:ke("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));va.displayName=Vs.displayName;const xa=x.forwardRef(({className:e,...t},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(Us,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Vs.Input,{ref:r,className:ke("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));xa.displayName=Vs.Input.displayName;const ya=x.forwardRef(({className:e,...t},r)=>o.jsx(Vs.List,{ref:r,className:ke("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ya.displayName=Vs.List.displayName;const wa=x.forwardRef((e,t)=>o.jsx(Vs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));wa.displayName=Vs.Empty.displayName;const ba=x.forwardRef(({className:e,...t},r)=>o.jsx(Vs.Group,{ref:r,className:ke("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ba.displayName=Vs.Group.displayName;const BNe=x.forwardRef(({className:e,...t},r)=>o.jsx(Vs.Separator,{ref:r,className:ke("-mx-1 h-px bg-border",e),...t}));BNe.displayName=Vs.Separator.displayName;const zr=x.forwardRef(({className:e,...t},r)=>o.jsx(Vs.Item,{ref:r,className:ke("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));zr.displayName=Vs.Item.displayName;var UNe=Array.isArray,zs=UNe,VNe=typeof Zx=="object"&&Zx&&Zx.Object===Object&&Zx,BK=VNe,zNe=BK,WNe=typeof self=="object"&&self&&self.Object===Object&&self,HNe=zNe||WNe||Function("return this")(),Tl=HNe,qNe=Tl,KNe=qNe.Symbol,Lx=KNe,VF=Lx,UK=Object.prototype,GNe=UK.hasOwnProperty,YNe=UK.toString,v0=VF?VF.toStringTag:void 0;function XNe(e){var t=GNe.call(e,v0),r=e[v0];try{e[v0]=void 0;var n=!0}catch{}var a=YNe.call(e);return n&&(t?e[v0]=r:delete e[v0]),a}var JNe=XNe,QNe=Object.prototype,ZNe=QNe.toString;function eEe(e){return ZNe.call(e)}var tEe=eEe,zF=Lx,rEe=JNe,nEe=tEe,aEe="[object Null]",sEe="[object Undefined]",WF=zF?zF.toStringTag:void 0;function iEe(e){return e==null?e===void 0?sEe:aEe:WF&&WF in Object(e)?rEe(e):nEe(e)}var Nc=iEe;function oEe(e){return e!=null&&typeof e=="object"}var Ec=oEe,lEe=Nc,cEe=Ec,uEe="[object Symbol]";function dEe(e){return typeof e=="symbol"||cEe(e)&&lEe(e)==uEe}var Bp=dEe,fEe=zs,hEe=Bp,mEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pEe=/^\w*$/;function gEe(e,t){if(fEe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||hEe(e)?!0:pEe.test(e)||!mEe.test(e)||t!=null&&e in Object(t)}var yP=gEe;function vEe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ju=vEe;const Up=gr(Ju);var xEe=Nc,yEe=Ju,wEe="[object AsyncFunction]",bEe="[object Function]",_Ee="[object GeneratorFunction]",SEe="[object Proxy]";function jEe(e){if(!yEe(e))return!1;var t=xEe(e);return t==bEe||t==_Ee||t==wEe||t==SEe}var wP=jEe;const Ot=gr(wP);var kEe=Tl,NEe=kEe["__core-js_shared__"],EEe=NEe,$k=EEe,HF=function(){var e=/[^.]+$/.exec($k&&$k.keys&&$k.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function CEe(e){return!!HF&&HF in e}var TEe=CEe,AEe=Function.prototype,OEe=AEe.toString;function PEe(e){if(e!=null){try{return OEe.call(e)}catch{}try{return e+""}catch{}}return""}var VK=PEe,DEe=wP,REe=TEe,IEe=Ju,MEe=VK,FEe=/[\\^$.*+?()[\]{}|]/g,LEe=/^\[object .+?Constructor\]$/,$Ee=Function.prototype,BEe=Object.prototype,UEe=$Ee.toString,VEe=BEe.hasOwnProperty,zEe=RegExp("^"+UEe.call(VEe).replace(FEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WEe(e){if(!IEe(e)||REe(e))return!1;var t=DEe(e)?zEe:LEe;return t.test(MEe(e))}var HEe=WEe;function qEe(e,t){return e==null?void 0:e[t]}var KEe=qEe,GEe=HEe,YEe=KEe;function XEe(e,t){var r=YEe(e,t);return GEe(r)?r:void 0}var Lf=XEe,JEe=Lf,QEe=JEe(Object,"create"),oS=QEe,qF=oS;function ZEe(){this.__data__=qF?qF(null):{},this.size=0}var eCe=ZEe;function tCe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var rCe=tCe,nCe=oS,aCe="__lodash_hash_undefined__",sCe=Object.prototype,iCe=sCe.hasOwnProperty;function oCe(e){var t=this.__data__;if(nCe){var r=t[e];return r===aCe?void 0:r}return iCe.call(t,e)?t[e]:void 0}var lCe=oCe,cCe=oS,uCe=Object.prototype,dCe=uCe.hasOwnProperty;function fCe(e){var t=this.__data__;return cCe?t[e]!==void 0:dCe.call(t,e)}var hCe=fCe,mCe=oS,pCe="__lodash_hash_undefined__";function gCe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=mCe&&t===void 0?pCe:t,this}var vCe=gCe,xCe=eCe,yCe=rCe,wCe=lCe,bCe=hCe,_Ce=vCe;function Vp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vp.prototype.clear=xCe;Vp.prototype.delete=yCe;Vp.prototype.get=wCe;Vp.prototype.has=bCe;Vp.prototype.set=_Ce;var SCe=Vp;function jCe(){this.__data__=[],this.size=0}var kCe=jCe;function NCe(e,t){return e===t||e!==e&&t!==t}var bP=NCe,ECe=bP;function CCe(e,t){for(var r=e.length;r--;)if(ECe(e[r][0],t))return r;return-1}var lS=CCe,TCe=lS,ACe=Array.prototype,OCe=ACe.splice;function PCe(e){var t=this.__data__,r=TCe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():OCe.call(t,r,1),--this.size,!0}var DCe=PCe,RCe=lS;function ICe(e){var t=this.__data__,r=RCe(t,e);return r<0?void 0:t[r][1]}var MCe=ICe,FCe=lS;function LCe(e){return FCe(this.__data__,e)>-1}var $Ce=LCe,BCe=lS;function UCe(e,t){var r=this.__data__,n=BCe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var VCe=UCe,zCe=kCe,WCe=DCe,HCe=MCe,qCe=$Ce,KCe=VCe;function zp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zp.prototype.clear=zCe;zp.prototype.delete=WCe;zp.prototype.get=HCe;zp.prototype.has=qCe;zp.prototype.set=KCe;var cS=zp,GCe=Lf,YCe=Tl,XCe=GCe(YCe,"Map"),_P=XCe,KF=SCe,JCe=cS,QCe=_P;function ZCe(){this.size=0,this.__data__={hash:new KF,map:new(QCe||JCe),string:new KF}}var eTe=ZCe;function tTe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var rTe=tTe,nTe=rTe;function aTe(e,t){var r=e.__data__;return nTe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var uS=aTe,sTe=uS;function iTe(e){var t=sTe(this,e).delete(e);return this.size-=t?1:0,t}var oTe=iTe,lTe=uS;function cTe(e){return lTe(this,e).get(e)}var uTe=cTe,dTe=uS;function fTe(e){return dTe(this,e).has(e)}var hTe=fTe,mTe=uS;function pTe(e,t){var r=mTe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var gTe=pTe,vTe=eTe,xTe=oTe,yTe=uTe,wTe=hTe,bTe=gTe;function Wp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wp.prototype.clear=vTe;Wp.prototype.delete=xTe;Wp.prototype.get=yTe;Wp.prototype.has=wTe;Wp.prototype.set=bTe;var SP=Wp,zK=SP,_Te="Expected a function";function jP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_Te);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(jP.Cache||zK),r}jP.Cache=zK;var WK=jP;const STe=gr(WK);var jTe=WK,kTe=500;function NTe(e){var t=jTe(e,function(n){return r.size===kTe&&r.clear(),n}),r=t.cache;return t}var ETe=NTe,CTe=ETe,TTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ATe=/\\(\\)?/g,OTe=CTe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(TTe,function(r,n,a,s){t.push(a?s.replace(ATe,"$1"):n||r)}),t}),PTe=OTe;function DTe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var kP=DTe,GF=Lx,RTe=kP,ITe=zs,MTe=Bp,FTe=1/0,YF=GF?GF.prototype:void 0,XF=YF?YF.toString:void 0;function HK(e){if(typeof e=="string")return e;if(ITe(e))return RTe(e,HK)+"";if(MTe(e))return XF?XF.call(e):"";var t=e+"";return t=="0"&&1/e==-FTe?"-0":t}var LTe=HK,$Te=LTe;function BTe(e){return e==null?"":$Te(e)}var qK=BTe,UTe=zs,VTe=yP,zTe=PTe,WTe=qK;function HTe(e,t){return UTe(e)?e:VTe(e,t)?[e]:zTe(WTe(e))}var KK=HTe,qTe=Bp,KTe=1/0;function GTe(e){if(typeof e=="string"||qTe(e))return e;var t=e+"";return t=="0"&&1/e==-KTe?"-0":t}var dS=GTe,YTe=KK,XTe=dS;function JTe(e,t){t=YTe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[XTe(t[r++])];return r&&r==n?e:void 0}var NP=JTe,QTe=NP;function ZTe(e,t,r){var n=e==null?void 0:QTe(e,t);return n===void 0?r:n}var GK=ZTe;const ii=gr(GK);function eAe(e){return e==null}var tAe=eAe;const Lt=gr(tAe);var rAe=Nc,nAe=zs,aAe=Ec,sAe="[object String]";function iAe(e){return typeof e=="string"||!nAe(e)&&aAe(e)&&rAe(e)==sAe}var oAe=iAe;const xf=gr(oAe);var YK={exports:{}},wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP=Symbol.for("react.element"),CP=Symbol.for("react.portal"),fS=Symbol.for("react.fragment"),hS=Symbol.for("react.strict_mode"),mS=Symbol.for("react.profiler"),pS=Symbol.for("react.provider"),gS=Symbol.for("react.context"),lAe=Symbol.for("react.server_context"),vS=Symbol.for("react.forward_ref"),xS=Symbol.for("react.suspense"),yS=Symbol.for("react.suspense_list"),wS=Symbol.for("react.memo"),bS=Symbol.for("react.lazy"),cAe=Symbol.for("react.offscreen"),XK;XK=Symbol.for("react.module.reference");function Hi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case EP:switch(e=e.type,e){case fS:case mS:case hS:case xS:case yS:return e;default:switch(e=e&&e.$$typeof,e){case lAe:case gS:case vS:case bS:case wS:case pS:return e;default:return t}}case CP:return t}}}wr.ContextConsumer=gS;wr.ContextProvider=pS;wr.Element=EP;wr.ForwardRef=vS;wr.Fragment=fS;wr.Lazy=bS;wr.Memo=wS;wr.Portal=CP;wr.Profiler=mS;wr.StrictMode=hS;wr.Suspense=xS;wr.SuspenseList=yS;wr.isAsyncMode=function(){return!1};wr.isConcurrentMode=function(){return!1};wr.isContextConsumer=function(e){return Hi(e)===gS};wr.isContextProvider=function(e){return Hi(e)===pS};wr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===EP};wr.isForwardRef=function(e){return Hi(e)===vS};wr.isFragment=function(e){return Hi(e)===fS};wr.isLazy=function(e){return Hi(e)===bS};wr.isMemo=function(e){return Hi(e)===wS};wr.isPortal=function(e){return Hi(e)===CP};wr.isProfiler=function(e){return Hi(e)===mS};wr.isStrictMode=function(e){return Hi(e)===hS};wr.isSuspense=function(e){return Hi(e)===xS};wr.isSuspenseList=function(e){return Hi(e)===yS};wr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fS||e===mS||e===hS||e===xS||e===yS||e===cAe||typeof e=="object"&&e!==null&&(e.$$typeof===bS||e.$$typeof===wS||e.$$typeof===pS||e.$$typeof===gS||e.$$typeof===vS||e.$$typeof===XK||e.getModuleId!==void 0)};wr.typeOf=Hi;YK.exports=wr;var uAe=YK.exports,dAe=Nc,fAe=Ec,hAe="[object Number]";function mAe(e){return typeof e=="number"||fAe(e)&&dAe(e)==hAe}var JK=mAe;const pAe=gr(JK);var gAe=JK;function vAe(e){return gAe(e)&&e!=+e}var xAe=vAe;const $x=gr(xAe);var rs=function(t){return t===0?0:t>0?1:-1},Td=function(t){return xf(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return pAe(t)&&!$x(t)},yAe=function(t){return Lt(t)},Vn=function(t){return Xe(t)||xf(t)},wAe=0,Hp=function(t){var r=++wAe;return"".concat(t||"").concat(r)},ns=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!xf(t))return n;var s;if(Td(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return $x(s)&&(s=n),a&&s>r&&(s=r),s},Qc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},bAe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Qs=function(t,r){return Xe(t)&&Xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ww(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ii(n,t))===r})}var _Ae=function(t,r){return Xe(t)&&Xe(r)?t-r:xf(t)&&xf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function nm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function AE(e){"@babel/helpers - typeof";return AE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AE(e)}var SAe=["viewBox","children"],jAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JF=["points","pathLength"],Bk={svg:SAe,polygon:JF,polyline:JF},TP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hw=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Up(n))return null;var a={};return Object.keys(n).forEach(function(s){TP.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},kAe=function(t,r,n){return function(a){return t(r,n,a),null}},yf=function(t,r,n){if(!Up(t)||AE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];TP.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=kAe(i,r,n))}),a},NAe=["children"],EAe=["children"];function QF(e,t){if(e==null)return{};var r=CAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OE(e){"@babel/helpers - typeof";return OE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OE(e)}var ZF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ac=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},e3=null,Uk=null,AP=function e(t){if(t===e3&&Array.isArray(Uk))return Uk;var r=[];return x.Children.forEach(t,function(n){Lt(n)||(uAe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Uk=r,e3=t,r};function oi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ac(a)}):n=[ac(t)],AP(e).forEach(function(a){var s=ii(a,"type.displayName")||ii(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Ks(e,t){var r=oi(e,t);return r&&r[0]}var t3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Xe(n)||n<=0||!Xe(a)||a<=0)},TAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],AAe=function(t){return t&&t.type&&xf(t.type)&&TAe.indexOf(t.type)>=0},OAe=function(t){return t&&OE(t)==="object"&&"clipDot"in t},PAe=function(t,r,n,a){var s,i=(s=Bk==null?void 0:Bk[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ot(t)&&(a&&i.includes(r)||jAe.includes(r))||n&&TP.includes(r)},kt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Up(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;PAe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},PE=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return r3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!r3(s,i))return!1}return!0},r3=function(t,r){if(Lt(t)&&Lt(r))return!0;if(!Lt(t)&&!Lt(r)){var n=t.props||{},a=n.children,s=QF(n,NAe),i=r.props||{},l=i.children,c=QF(i,EAe);return a&&l?nm(s,c)&&PE(a,l):!a&&!l?nm(s,c):!1}return!1},n3=function(t,r){var n=[],a={};return AP(t).forEach(function(s,i){if(AAe(s))n.push(s);else if(s){var l=ac(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},DAe=function(t){var r=t&&t.type;return r&&ZF[r]?ZF[r]:null},RAe=function(t,r){return AP(r).indexOf(t)},IAe=["children","width","height","viewBox","className","style","title","desc"];function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DE.apply(this,arguments)}function MAe(e,t){if(e==null)return{};var r=FAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RE(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,l=e.title,c=e.desc,u=MAe(e,IAe),d=a||{width:r,height:n,x:0,y:0},f=Bt("recharts-surface",s);return ae.createElement("svg",DE({},kt(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ae.createElement("title",null,l),ae.createElement("desc",null,c),t)}var LAe=["children","className"];function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IE.apply(this,arguments)}function $Ae(e,t){if(e==null)return{};var r=BAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cr=ae.forwardRef(function(e,t){var r=e.children,n=e.className,a=$Ae(e,LAe),s=Bt("recharts-layer",n);return ae.createElement("g",IE({className:s},kt(a,!0),{ref:t}),r)}),jo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function UAe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var VAe=UAe,zAe=VAe;function WAe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:zAe(e,t,r)}var HAe=WAe,qAe="\\ud800-\\udfff",KAe="\\u0300-\\u036f",GAe="\\ufe20-\\ufe2f",YAe="\\u20d0-\\u20ff",XAe=KAe+GAe+YAe,JAe="\\ufe0e\\ufe0f",QAe="\\u200d",ZAe=RegExp("["+QAe+qAe+XAe+JAe+"]");function eOe(e){return ZAe.test(e)}var QK=eOe;function tOe(e){return e.split("")}var rOe=tOe,ZK="\\ud800-\\udfff",nOe="\\u0300-\\u036f",aOe="\\ufe20-\\ufe2f",sOe="\\u20d0-\\u20ff",iOe=nOe+aOe+sOe,oOe="\\ufe0e\\ufe0f",lOe="["+ZK+"]",ME="["+iOe+"]",FE="\\ud83c[\\udffb-\\udfff]",cOe="(?:"+ME+"|"+FE+")",eG="[^"+ZK+"]",tG="(?:\\ud83c[\\udde6-\\uddff]){2}",rG="[\\ud800-\\udbff][\\udc00-\\udfff]",uOe="\\u200d",nG=cOe+"?",aG="["+oOe+"]?",dOe="(?:"+uOe+"(?:"+[eG,tG,rG].join("|")+")"+aG+nG+")*",fOe=aG+nG+dOe,hOe="(?:"+[eG+ME+"?",ME,tG,rG,lOe].join("|")+")",mOe=RegExp(FE+"(?="+FE+")|"+hOe+fOe,"g");function pOe(e){return e.match(mOe)||[]}var gOe=pOe,vOe=rOe,xOe=QK,yOe=gOe;function wOe(e){return xOe(e)?yOe(e):vOe(e)}var bOe=wOe,_Oe=HAe,SOe=QK,jOe=bOe,kOe=qK;function NOe(e){return function(t){t=kOe(t);var r=SOe(t)?jOe(t):void 0,n=r?r[0]:t.charAt(0),a=r?_Oe(r,1).join(""):t.slice(1);return n[e]()+a}}var EOe=NOe,COe=EOe,TOe=COe("toUpperCase"),AOe=TOe;const _S=gr(AOe);function Or(e){return function(){return e}}const sG=Math.cos,qw=Math.sin,Fo=Math.sqrt,Kw=Math.PI,SS=2*Kw,LE=Math.PI,$E=2*LE,hd=1e-6,OOe=$E-hd;function iG(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function POe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return iG;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class DOe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?iG:POe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>hd)if(!(Math.abs(f*c-u*d)>hd)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,g=a-l,p=c*c+u*u,v=m*m+g*g,y=Math.sqrt(p),w=Math.sqrt(h),b=s*Math.tan((LE-Math.acos((p+h-v)/(2*y*w)))/2),_=b/w,S=b/y;Math.abs(_-1)>hd&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>hd||Math.abs(this._y1-d)>hd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%$E+$E),h>OOe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>hd&&this._append`A${n},${n},0,${+(h>=LE)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function OP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new DOe(t)}function PP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oG(e){this._context=e}oG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jS(e){return new oG(e)}function lG(e){return e[0]}function cG(e){return e[1]}function uG(e,t){var r=Or(!0),n=null,a=jS,s=null,i=OP(l);e=typeof e=="function"?e:e===void 0?lG:Or(e),t=typeof t=="function"?t:t===void 0?cG:Or(t);function l(c){var u,d=(c=PP(c)).length,f,h=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Or(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Or(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Or(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Ky(e,t,r){var n=null,a=Or(!0),s=null,i=jS,l=null,c=OP(u);e=typeof e=="function"?e:e===void 0?lG:Or(+e),t=typeof t=="function"?t:Or(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?cG:Or(+r);function u(f){var h,m,g,p=(f=PP(f)).length,v,y=!1,w,b=new Array(p),_=new Array(p);for(s==null&&(l=i(w=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],_[g]);l.lineEnd(),l.areaEnd()}y&&(b[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(w)return l=null,w+""||null}function d(){return uG().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Or(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Or(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Or(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Or(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Or(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Or(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Or(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class dG{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ROe(e){return new dG(e,!0)}function IOe(e){return new dG(e,!1)}const DP={draw(e,t){const r=Fo(t/Kw);e.moveTo(r,0),e.arc(0,0,r,0,SS)}},MOe={draw(e,t){const r=Fo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},fG=Fo(1/3),FOe=fG*2,LOe={draw(e,t){const r=Fo(t/FOe),n=r*fG;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$Oe={draw(e,t){const r=Fo(t),n=-r/2;e.rect(n,n,r,r)}},BOe=.8908130915292852,hG=qw(Kw/10)/qw(7*Kw/10),UOe=qw(SS/10)*hG,VOe=-sG(SS/10)*hG,zOe={draw(e,t){const r=Fo(t*BOe),n=UOe*r,a=VOe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=SS*s/5,l=sG(i),c=qw(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Vk=Fo(3),WOe={draw(e,t){const r=-Fo(t/(Vk*3));e.moveTo(0,r*2),e.lineTo(-Vk*r,-r),e.lineTo(Vk*r,-r),e.closePath()}},yi=-.5,wi=Fo(3)/2,BE=1/Fo(12),HOe=(BE/2+1)*3,qOe={draw(e,t){const r=Fo(t/HOe),n=r/2,a=r*BE,s=n,i=r*BE+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(yi*n-wi*a,wi*n+yi*a),e.lineTo(yi*s-wi*i,wi*s+yi*i),e.lineTo(yi*l-wi*c,wi*l+yi*c),e.lineTo(yi*n+wi*a,yi*a-wi*n),e.lineTo(yi*s+wi*i,yi*i-wi*s),e.lineTo(yi*l+wi*c,yi*c-wi*l),e.closePath()}};function KOe(e,t){let r=null,n=OP(a);e=typeof e=="function"?e:Or(e||DP),t=typeof t=="function"?t:Or(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Or(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Or(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Gw(){}function Yw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function mG(e){this._context=e}mG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GOe(e){return new mG(e)}function pG(e){this._context=e}pG.prototype={areaStart:Gw,areaEnd:Gw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YOe(e){return new pG(e)}function gG(e){this._context=e}gG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XOe(e){return new gG(e)}function vG(e){this._context=e}vG.prototype={areaStart:Gw,areaEnd:Gw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JOe(e){return new vG(e)}function a3(e){return e<0?-1:1}function s3(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(a3(s)+a3(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function i3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function zk(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function Xw(e){this._context=e}Xw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zk(this,this._t0,i3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zk(this,i3(this,r=s3(this,e,t)),r);break;default:zk(this,this._t0,r=s3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function xG(e){this._context=new yG(e)}(xG.prototype=Object.create(Xw.prototype)).point=function(e,t){Xw.prototype.point.call(this,t,e)};function yG(e){this._context=e}yG.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function QOe(e){return new Xw(e)}function ZOe(e){return new xG(e)}function wG(e){this._context=e}wG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=o3(e),a=o3(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function o3(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function ePe(e){return new wG(e)}function kS(e,t){this._context=e,this._t=t}kS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function tPe(e){return new kS(e,.5)}function rPe(e){return new kS(e,0)}function nPe(e){return new kS(e,1)}function Vm(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function UE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function aPe(e,t){return e[t]}function sPe(e){const t=[];return t.key=e,t}function iPe(){var e=Or([]),t=UE,r=Vm,n=aPe;function a(s){var i=Array.from(e.apply(this,arguments),sPe),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=PP(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Or(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Or(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?UE:typeof s=="function"?s:Or(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Vm,a):r},a}function oPe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Vm(e,t)}}function lPe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Vm(e,t)}}function cPe(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,y=p[n-1][1]||0;m+=v-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Vm(e,t)}}function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}var uPe=["type","size","sizeType"];function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VE.apply(this,arguments)}function l3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(r),!0).forEach(function(n){dPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dPe(e,t,r){return t=fPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fPe(e){var t=hPe(e,"string");return dv(t)=="symbol"?t:t+""}function hPe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mPe(e,t){if(e==null)return{};var r=pPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bG={symbolCircle:DP,symbolCross:MOe,symbolDiamond:LOe,symbolSquare:$Oe,symbolStar:zOe,symbolTriangle:WOe,symbolWye:qOe},gPe=Math.PI/180,vPe=function(t){var r="symbol".concat(_S(t));return bG[r]||DP},xPe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*gPe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yPe=function(t,r){bG["symbol".concat(_S(t))]=r},RP=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=mPe(t,uPe),u=c3(c3({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=vPe(n),y=KOe().type(v).size(xPe(s,l,n));return y()},f=u.className,h=u.cx,m=u.cy,g=kt(u,!0);return h===+h&&m===+m&&s===+s?ae.createElement("path",VE({},g,{className:Bt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};RP.registerSymbol=yPe;function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zE.apply(this,arguments)}function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wPe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){fv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SG(n.key),n)}}function SPe(e,t,r){return t&&_Pe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jPe(e,t,r){return t=Jw(t),kPe(e,_G()?Reflect.construct(t,r||[],Jw(e).constructor):t.apply(e,r))}function kPe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NPe(e)}function NPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!e})()}function Jw(e){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jw(e)}function EPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WE(e,t)}function WE(e,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WE(e,t)}function fv(e,t,r){return t=SG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=CPe(e,"string");return zm(t)=="symbol"?t:t+""}function CPe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bi=32,IP=function(e){function t(){return bPe(this,t),jPe(this,t,arguments)}return EPe(t,e),SPe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=bi/2,i=bi/6,l=bi/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:bi,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(bi,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ae.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(bi/8,"h").concat(bi,"v").concat(bi*3/4,"h").concat(-bi,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(n.legendIcon)){var u=wPe({},n);return delete u.legendIcon,ae.cloneElement(n.legendIcon,u)}return ae.createElement(RP,{fill:c,cx:s,cy:s,size:bi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:bi,height:bi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var p=m.formatter||c,v=Bt(fv(fv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Ot(m.value)?null:m.value;jo(!Ot(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return ae.createElement("li",zE({className:v,style:f,key:"legend-item-".concat(g)},yf(n.props,m,g)),ae.createElement(RE,{width:i,height:i,viewBox:d,style:h},n.renderIcon(m)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},p?p(y,m,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);fv(IP,"displayName","Legend");fv(IP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var TPe=cS;function APe(){this.__data__=new TPe,this.size=0}var OPe=APe;function PPe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var DPe=PPe;function RPe(e){return this.__data__.get(e)}var IPe=RPe;function MPe(e){return this.__data__.has(e)}var FPe=MPe,LPe=cS,$Pe=_P,BPe=SP,UPe=200;function VPe(e,t){var r=this.__data__;if(r instanceof LPe){var n=r.__data__;if(!$Pe||n.length<UPe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new BPe(n)}return r.set(e,t),this.size=r.size,this}var zPe=VPe,WPe=cS,HPe=OPe,qPe=DPe,KPe=IPe,GPe=FPe,YPe=zPe;function qp(e){var t=this.__data__=new WPe(e);this.size=t.size}qp.prototype.clear=HPe;qp.prototype.delete=qPe;qp.prototype.get=KPe;qp.prototype.has=GPe;qp.prototype.set=YPe;var jG=qp,XPe="__lodash_hash_undefined__";function JPe(e){return this.__data__.set(e,XPe),this}var QPe=JPe;function ZPe(e){return this.__data__.has(e)}var e4e=ZPe,t4e=SP,r4e=QPe,n4e=e4e;function Qw(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new t4e;++t<r;)this.add(e[t])}Qw.prototype.add=Qw.prototype.push=r4e;Qw.prototype.has=n4e;var kG=Qw;function a4e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var NG=a4e;function s4e(e,t){return e.has(t)}var EG=s4e,i4e=kG,o4e=NG,l4e=EG,c4e=1,u4e=2;function d4e(e,t,r,n,a,s){var i=r&c4e,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&u4e?new i4e:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=i?n(p,g,f,t,e,s):n(g,p,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!o4e(t,function(y,w){if(!l4e(m,w)&&(g===y||a(g,y,r,n,s)))return m.push(w)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var CG=d4e,f4e=Tl,h4e=f4e.Uint8Array,m4e=h4e;function p4e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var g4e=p4e;function v4e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var MP=v4e,d3=Lx,f3=m4e,x4e=bP,y4e=CG,w4e=g4e,b4e=MP,_4e=1,S4e=2,j4e="[object Boolean]",k4e="[object Date]",N4e="[object Error]",E4e="[object Map]",C4e="[object Number]",T4e="[object RegExp]",A4e="[object Set]",O4e="[object String]",P4e="[object Symbol]",D4e="[object ArrayBuffer]",R4e="[object DataView]",h3=d3?d3.prototype:void 0,Wk=h3?h3.valueOf:void 0;function I4e(e,t,r,n,a,s,i){switch(r){case R4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D4e:return!(e.byteLength!=t.byteLength||!s(new f3(e),new f3(t)));case j4e:case k4e:case C4e:return x4e(+e,+t);case N4e:return e.name==t.name&&e.message==t.message;case T4e:case O4e:return e==t+"";case E4e:var l=w4e;case A4e:var c=n&_4e;if(l||(l=b4e),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=S4e,i.set(e,t);var d=y4e(l(e),l(t),n,a,s,i);return i.delete(e),d;case P4e:if(Wk)return Wk.call(e)==Wk.call(t)}return!1}var M4e=I4e;function F4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var TG=F4e,L4e=TG,$4e=zs;function B4e(e,t,r){var n=t(e);return $4e(e)?n:L4e(n,r(e))}var U4e=B4e;function V4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var z4e=V4e;function W4e(){return[]}var H4e=W4e,q4e=z4e,K4e=H4e,G4e=Object.prototype,Y4e=G4e.propertyIsEnumerable,m3=Object.getOwnPropertySymbols,X4e=m3?function(e){return e==null?[]:(e=Object(e),q4e(m3(e),function(t){return Y4e.call(e,t)}))}:K4e,J4e=X4e;function Q4e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Z4e=Q4e,eDe=Nc,tDe=Ec,rDe="[object Arguments]";function nDe(e){return tDe(e)&&eDe(e)==rDe}var aDe=nDe,p3=aDe,sDe=Ec,AG=Object.prototype,iDe=AG.hasOwnProperty,oDe=AG.propertyIsEnumerable,lDe=p3(function(){return arguments}())?p3:function(e){return sDe(e)&&iDe.call(e,"callee")&&!oDe.call(e,"callee")},FP=lDe,Zw={exports:{}};function cDe(){return!1}var uDe=cDe;Zw.exports;(function(e,t){var r=Tl,n=uDe,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Zw,Zw.exports);var OG=Zw.exports,dDe=9007199254740991,fDe=/^(?:0|[1-9]\d*)$/;function hDe(e,t){var r=typeof e;return t=t??dDe,!!t&&(r=="number"||r!="symbol"&&fDe.test(e))&&e>-1&&e%1==0&&e<t}var LP=hDe,mDe=9007199254740991;function pDe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mDe}var $P=pDe,gDe=Nc,vDe=$P,xDe=Ec,yDe="[object Arguments]",wDe="[object Array]",bDe="[object Boolean]",_De="[object Date]",SDe="[object Error]",jDe="[object Function]",kDe="[object Map]",NDe="[object Number]",EDe="[object Object]",CDe="[object RegExp]",TDe="[object Set]",ADe="[object String]",ODe="[object WeakMap]",PDe="[object ArrayBuffer]",DDe="[object DataView]",RDe="[object Float32Array]",IDe="[object Float64Array]",MDe="[object Int8Array]",FDe="[object Int16Array]",LDe="[object Int32Array]",$De="[object Uint8Array]",BDe="[object Uint8ClampedArray]",UDe="[object Uint16Array]",VDe="[object Uint32Array]",Lr={};Lr[RDe]=Lr[IDe]=Lr[MDe]=Lr[FDe]=Lr[LDe]=Lr[$De]=Lr[BDe]=Lr[UDe]=Lr[VDe]=!0;Lr[yDe]=Lr[wDe]=Lr[PDe]=Lr[bDe]=Lr[DDe]=Lr[_De]=Lr[SDe]=Lr[jDe]=Lr[kDe]=Lr[NDe]=Lr[EDe]=Lr[CDe]=Lr[TDe]=Lr[ADe]=Lr[ODe]=!1;function zDe(e){return xDe(e)&&vDe(e.length)&&!!Lr[gDe(e)]}var WDe=zDe;function HDe(e){return function(t){return e(t)}}var PG=HDe,eb={exports:{}};eb.exports;(function(e,t){var r=BK,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(eb,eb.exports);var qDe=eb.exports,KDe=WDe,GDe=PG,g3=qDe,v3=g3&&g3.isTypedArray,YDe=v3?GDe(v3):KDe,DG=YDe,XDe=Z4e,JDe=FP,QDe=zs,ZDe=OG,eRe=LP,tRe=DG,rRe=Object.prototype,nRe=rRe.hasOwnProperty;function aRe(e,t){var r=QDe(e),n=!r&&JDe(e),a=!r&&!n&&ZDe(e),s=!r&&!n&&!a&&tRe(e),i=r||n||a||s,l=i?XDe(e.length,String):[],c=l.length;for(var u in e)(t||nRe.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eRe(u,c)))&&l.push(u);return l}var sRe=aRe,iRe=Object.prototype;function oRe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||iRe;return e===r}var lRe=oRe;function cRe(e,t){return function(r){return e(t(r))}}var RG=cRe,uRe=RG,dRe=uRe(Object.keys,Object),fRe=dRe,hRe=lRe,mRe=fRe,pRe=Object.prototype,gRe=pRe.hasOwnProperty;function vRe(e){if(!hRe(e))return mRe(e);var t=[];for(var r in Object(e))gRe.call(e,r)&&r!="constructor"&&t.push(r);return t}var xRe=vRe,yRe=wP,wRe=$P;function bRe(e){return e!=null&&wRe(e.length)&&!yRe(e)}var Bx=bRe,_Re=sRe,SRe=xRe,jRe=Bx;function kRe(e){return jRe(e)?_Re(e):SRe(e)}var NS=kRe,NRe=U4e,ERe=J4e,CRe=NS;function TRe(e){return NRe(e,CRe,ERe)}var ARe=TRe,x3=ARe,ORe=1,PRe=Object.prototype,DRe=PRe.hasOwnProperty;function RRe(e,t,r,n,a,s){var i=r&ORe,l=x3(e),c=l.length,u=x3(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:DRe.call(t,h)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=i;++f<c;){h=l[f];var y=e[h],w=t[h];if(n)var b=i?n(w,y,h,t,e,s):n(y,w,h,e,t,s);if(!(b===void 0?y===w||a(y,w,r,n,s):b)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(p=!1)}return s.delete(e),s.delete(t),p}var IRe=RRe,MRe=Lf,FRe=Tl,LRe=MRe(FRe,"DataView"),$Re=LRe,BRe=Lf,URe=Tl,VRe=BRe(URe,"Promise"),zRe=VRe,WRe=Lf,HRe=Tl,qRe=WRe(HRe,"Set"),IG=qRe,KRe=Lf,GRe=Tl,YRe=KRe(GRe,"WeakMap"),XRe=YRe,HE=$Re,qE=_P,KE=zRe,GE=IG,YE=XRe,MG=Nc,Kp=VK,y3="[object Map]",JRe="[object Object]",w3="[object Promise]",b3="[object Set]",_3="[object WeakMap]",S3="[object DataView]",QRe=Kp(HE),ZRe=Kp(qE),eIe=Kp(KE),tIe=Kp(GE),rIe=Kp(YE),md=MG;(HE&&md(new HE(new ArrayBuffer(1)))!=S3||qE&&md(new qE)!=y3||KE&&md(KE.resolve())!=w3||GE&&md(new GE)!=b3||YE&&md(new YE)!=_3)&&(md=function(e){var t=MG(e),r=t==JRe?e.constructor:void 0,n=r?Kp(r):"";if(n)switch(n){case QRe:return S3;case ZRe:return y3;case eIe:return w3;case tIe:return b3;case rIe:return _3}return t});var nIe=md,Hk=jG,aIe=CG,sIe=M4e,iIe=IRe,j3=nIe,k3=zs,N3=OG,oIe=DG,lIe=1,E3="[object Arguments]",C3="[object Array]",Gy="[object Object]",cIe=Object.prototype,T3=cIe.hasOwnProperty;function uIe(e,t,r,n,a,s){var i=k3(e),l=k3(t),c=i?C3:j3(e),u=l?C3:j3(t);c=c==E3?Gy:c,u=u==E3?Gy:u;var d=c==Gy,f=u==Gy,h=c==u;if(h&&N3(e)){if(!N3(t))return!1;i=!0,d=!1}if(h&&!d)return s||(s=new Hk),i||oIe(e)?aIe(e,t,r,n,a,s):sIe(e,t,c,r,n,a,s);if(!(r&lIe)){var m=d&&T3.call(e,"__wrapped__"),g=f&&T3.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return s||(s=new Hk),a(p,v,r,n,s)}}return h?(s||(s=new Hk),iIe(e,t,r,n,a,s)):!1}var dIe=uIe,fIe=dIe,A3=Ec;function FG(e,t,r,n,a){return e===t?!0:e==null||t==null||!A3(e)&&!A3(t)?e!==e&&t!==t:fIe(e,t,r,n,FG,a)}var BP=FG,hIe=jG,mIe=BP,pIe=1,gIe=2;function vIe(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new hIe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?mIe(d,u,pIe|gIe,n,f):h))return!1}}return!0}var xIe=vIe,yIe=Ju;function wIe(e){return e===e&&!yIe(e)}var LG=wIe,bIe=LG,_Ie=NS;function SIe(e){for(var t=_Ie(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,bIe(a)]}return t}var jIe=SIe;function kIe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var $G=kIe,NIe=xIe,EIe=jIe,CIe=$G;function TIe(e){var t=EIe(e);return t.length==1&&t[0][2]?CIe(t[0][0],t[0][1]):function(r){return r===e||NIe(r,e,t)}}var AIe=TIe;function OIe(e,t){return e!=null&&t in Object(e)}var PIe=OIe,DIe=KK,RIe=FP,IIe=zs,MIe=LP,FIe=$P,LIe=dS;function $Ie(e,t,r){t=DIe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=LIe(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&FIe(a)&&MIe(i,a)&&(IIe(e)||RIe(e)))}var BIe=$Ie,UIe=PIe,VIe=BIe;function zIe(e,t){return e!=null&&VIe(e,t,UIe)}var WIe=zIe,HIe=BP,qIe=GK,KIe=WIe,GIe=yP,YIe=LG,XIe=$G,JIe=dS,QIe=1,ZIe=2;function eMe(e,t){return GIe(e)&&YIe(t)?XIe(JIe(e),t):function(r){var n=qIe(r,e);return n===void 0&&n===t?KIe(r,e):HIe(t,n,QIe|ZIe)}}var tMe=eMe;function rMe(e){return e}var Gp=rMe;function nMe(e){return function(t){return t==null?void 0:t[e]}}var aMe=nMe,sMe=NP;function iMe(e){return function(t){return sMe(t,e)}}var oMe=iMe,lMe=aMe,cMe=oMe,uMe=yP,dMe=dS;function fMe(e){return uMe(e)?lMe(dMe(e)):cMe(e)}var hMe=fMe,mMe=AIe,pMe=tMe,gMe=Gp,vMe=zs,xMe=hMe;function yMe(e){return typeof e=="function"?e:e==null?gMe:typeof e=="object"?vMe(e)?pMe(e[0],e[1]):mMe(e):xMe(e)}var Al=yMe;function wMe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var BG=wMe;function bMe(e){return e!==e}var _Me=bMe;function SMe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var jMe=SMe,kMe=BG,NMe=_Me,EMe=jMe;function CMe(e,t,r){return t===t?EMe(e,t,r):kMe(e,NMe,r)}var TMe=CMe,AMe=TMe;function OMe(e,t){var r=e==null?0:e.length;return!!r&&AMe(e,t,0)>-1}var PMe=OMe;function DMe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var RMe=DMe;function IMe(){}var MMe=IMe,qk=IG,FMe=MMe,LMe=MP,$Me=1/0,BMe=qk&&1/LMe(new qk([,-0]))[1]==$Me?function(e){return new qk(e)}:FMe,UMe=BMe,VMe=kG,zMe=PMe,WMe=RMe,HMe=EG,qMe=UMe,KMe=MP,GMe=200;function YMe(e,t,r){var n=-1,a=zMe,s=e.length,i=!0,l=[],c=l;if(r)i=!1,a=WMe;else if(s>=GMe){var u=t?null:qMe(e);if(u)return KMe(u);i=!1,a=HMe,c=new VMe}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var XMe=YMe,JMe=Al,QMe=XMe;function ZMe(e,t){return e&&e.length?QMe(e,JMe(t)):[]}var eFe=ZMe;const O3=gr(eFe);function UG(e,t,r){return t===!0?O3(e,r):Ot(t)?O3(e,t):e}function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}var tFe=["ref"];function P3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(r),!0).forEach(function(n){ES(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zG(n.key),n)}}function nFe(e,t,r){return t&&D3(e.prototype,t),r&&D3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aFe(e,t,r){return t=tb(t),sFe(e,VG()?Reflect.construct(t,r||[],tb(e).constructor):t.apply(e,r))}function sFe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iFe(e)}function iFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!e})()}function tb(e){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(e)}function oFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XE(e,t)}function ES(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=lFe(e,"string");return Wm(t)=="symbol"?t:t+""}function lFe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cFe(e,t){if(e==null)return{};var r=uFe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dFe(e){return e.value}function fFe(e,t){if(ae.isValidElement(e))return ae.cloneElement(e,t);if(typeof e=="function")return ae.createElement(e,t);t.ref;var r=cFe(t,tFe);return ae.createElement(IP,r)}var R3=1,Nu=function(e){function t(){var r;rFe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=aFe(this,t,[].concat(a)),ES(r,"lastBoundingBox",{width:-1,height:-1}),r}return oFe(t,e),nFe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>R3||Math.abs(a.height-this.lastBoundingBox.height)>R3)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Il({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Il(Il({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Il(Il({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ae.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},fFe(s,Il(Il({},this.props),{},{payload:UG(d,u,dFe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Il(Il({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&Xe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);ES(Nu,"displayName","Legend");ES(Nu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var I3=Lx,hFe=FP,mFe=zs,M3=I3?I3.isConcatSpreadable:void 0;function pFe(e){return mFe(e)||hFe(e)||!!(M3&&e&&e[M3])}var gFe=pFe,vFe=TG,xFe=gFe;function WG(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=xFe),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?WG(l,t-1,r,n,a):vFe(a,l):n||(a[a.length]=l)}return a}var HG=WG;function yFe(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var wFe=yFe,bFe=wFe,_Fe=bFe(),SFe=_Fe,jFe=SFe,kFe=NS;function NFe(e,t){return e&&jFe(e,t,kFe)}var qG=NFe,EFe=Bx;function CFe(e,t){return function(r,n){if(r==null)return r;if(!EFe(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var TFe=CFe,AFe=qG,OFe=TFe,PFe=OFe(AFe),UP=PFe,DFe=UP,RFe=Bx;function IFe(e,t){var r=-1,n=RFe(e)?Array(e.length):[];return DFe(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var KG=IFe;function MFe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var FFe=MFe,F3=Bp;function LFe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=F3(e),i=t!==void 0,l=t===null,c=t===t,u=F3(t);if(!l&&!u&&!s&&e>t||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var $Fe=LFe,BFe=$Fe;function UFe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,l=r.length;++n<i;){var c=BFe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var VFe=UFe,Kk=kP,zFe=NP,WFe=Al,HFe=KG,qFe=FFe,KFe=PG,GFe=VFe,YFe=Gp,XFe=zs;function JFe(e,t,r){t.length?t=Kk(t,function(s){return XFe(s)?function(i){return zFe(i,s.length===1?s[0]:s)}:s}):t=[YFe];var n=-1;t=Kk(t,KFe(WFe));var a=HFe(e,function(s,i,l){var c=Kk(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return qFe(a,function(s,i){return GFe(s,i,r)})}var QFe=JFe;function ZFe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var e3e=ZFe,t3e=e3e,L3=Math.max;function r3e(e,t,r){return t=L3(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=L3(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),t3e(e,this,l)}}var n3e=r3e;function a3e(e){return function(){return e}}var s3e=a3e,i3e=Lf,o3e=function(){try{var e=i3e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),GG=o3e,l3e=s3e,$3=GG,c3e=Gp,u3e=$3?function(e,t){return $3(e,"toString",{configurable:!0,enumerable:!1,value:l3e(t),writable:!0})}:c3e,d3e=u3e,f3e=800,h3e=16,m3e=Date.now;function p3e(e){var t=0,r=0;return function(){var n=m3e(),a=h3e-(n-r);if(r=n,a>0){if(++t>=f3e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var g3e=p3e,v3e=d3e,x3e=g3e,y3e=x3e(v3e),w3e=y3e,b3e=Gp,_3e=n3e,S3e=w3e;function j3e(e,t){return S3e(_3e(e,t,b3e),e+"")}var k3e=j3e,N3e=bP,E3e=Bx,C3e=LP,T3e=Ju;function A3e(e,t,r){if(!T3e(r))return!1;var n=typeof t;return(n=="number"?E3e(r)&&C3e(t,r.length):n=="string"&&t in r)?N3e(r[t],e):!1}var CS=A3e,O3e=HG,P3e=QFe,D3e=k3e,B3=CS,R3e=D3e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&B3(e,t[0],t[1])?t=[]:r>2&&B3(t[0],t[1],t[2])&&(t=[t[0]]),P3e(e,O3e(t,1),[])}),I3e=R3e;const VP=gr(I3e);function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JE.apply(this,arguments)}function M3e(e,t){return B3e(e)||$3e(e,t)||L3e(e,t)||F3e()}function F3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L3e(e,t){if(e){if(typeof e=="string")return U3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U3(e,t)}}function U3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function B3e(e){if(Array.isArray(e))return e}function V3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(r),!0).forEach(function(n){U3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U3e(e,t,r){return t=V3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3e(e){var t=z3e(e,"string");return hv(t)=="symbol"?t:t+""}function z3e(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W3e(e){return Array.isArray(e)&&Vn(e[0])&&Vn(e[1])?e.join(" ~ "):e}var H3e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,y=t.accessibilityLayer,w=y===void 0?!1:y,b=function(){if(d&&d.length){var T={padding:0,margin:0},U=(h?VP(d,h):d).map(function(q,M){if(q.type==="none")return null;var I=Gk({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),V=q.formatter||f||W3e,F=q.value,R=q.name,re=F,Z=R;if(V&&re!=null&&Z!=null){var C=V(F,R,q,M,d);if(Array.isArray(C)){var K=M3e(C,2);re=K[0],Z=K[1]}else re=C}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:I},Vn(Z)?ae.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Vn(Z)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},re),ae.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:T},U)}return null},_=Gk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=Gk({margin:0},u),k=!Lt(p),j=k?p:"",E=Bt("recharts-default-tooltip",m),N=Bt("recharts-tooltip-label",g);k&&v&&d!==void 0&&d!==null&&(j=v(p,d));var A=w?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",JE({className:E,style:_},A),ae.createElement("p",{className:N,style:S},ae.isValidElement(j)?j:"".concat(j)),b())};function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function Yy(e,t,r){return t=q3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q3e(e){var t=K3e(e,"string");return mv(t)=="symbol"?t:t+""}function K3e(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x0="recharts-tooltip-wrapper",G3e={visibility:"hidden"};function Y3e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Bt(x0,Yy(Yy(Yy(Yy({},"".concat(x0,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(x0,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(x0,"-bottom"),Xe(n)&&t&&Xe(t.y)&&n>=t.y),"".concat(x0,"-top"),Xe(n)&&t&&Xe(t.y)&&n<t.y))}function z3(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Xe(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function X3e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function J3e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=z3({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=z3({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=X3e({translateX:d,translateY:f,useTranslate3d:l})):u=G3e,{cssProperties:u,cssClasses:Y3e({translateX:d,translateY:f,coordinate:r})}}function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function W3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(r),!0).forEach(function(n){ZE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XG(n.key),n)}}function eLe(e,t,r){return t&&Z3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tLe(e,t,r){return t=rb(t),rLe(e,YG()?Reflect.construct(t,r||[],rb(e).constructor):t.apply(e,r))}function rLe(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nLe(e)}function nLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YG=function(){return!!e})()}function rb(e){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rb(e)}function aLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QE(e,t)}function QE(e,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QE(e,t)}function ZE(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=sLe(e,"string");return Hm(t)=="symbol"?t:t+""}function sLe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q3=1,iLe=function(e){function t(){var r;Q3e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=tLe(this,t,[].concat(a)),ZE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ZE(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return aLe(t,e),eLe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>q3||Math.abs(n.height-this.state.lastBoundingBox.height)>q3)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,b=J3e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),_=b.cssClasses,S=b.cssProperties,k=H3(H3({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return ae.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(E){n.wrapperNode=E}},u)}}])}(x.PureComponent),oLe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cl={isSsr:oLe(),get:function(t){return cl[t]},set:function(t,r){if(typeof t=="string")cl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){cl[a]=t[a]})}}};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(n){zP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QG(n.key),n)}}function uLe(e,t,r){return t&&cLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dLe(e,t,r){return t=nb(t),fLe(e,JG()?Reflect.construct(t,r||[],nb(e).constructor):t.apply(e,r))}function fLe(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hLe(e)}function hLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!e})()}function nb(e){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nb(e)}function mLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eC(e,t)}function eC(e,t){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eC(e,t)}function zP(e,t,r){return t=QG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=pLe(e,"string");return qm(t)=="symbol"?t:t+""}function pLe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gLe(e){return e.dataKey}function vLe(e,t){return ae.isValidElement(e)?ae.cloneElement(e,t):typeof e=="function"?ae.createElement(e,t):ae.createElement(H3e,t)}var Ei=function(e){function t(){return lLe(this,t),dLe(this,t,arguments)}return mLe(t,e),uLe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,y=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=UG(g.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),p,gLe));var k=S.length>0;return ae.createElement(iLe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:k,offset:m,position:v,reverseDirection:y,useTranslate3d:w,viewBox:b,wrapperStyle:_},vLe(u,G3(G3({},this.props),{},{payload:S})))}}])}(x.PureComponent);zP(Ei,"displayName","Tooltip");zP(Ei,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xLe=Tl,yLe=function(){return xLe.Date.now()},wLe=yLe,bLe=/\s/;function _Le(e){for(var t=e.length;t--&&bLe.test(e.charAt(t)););return t}var SLe=_Le,jLe=SLe,kLe=/^\s+/;function NLe(e){return e&&e.slice(0,jLe(e)+1).replace(kLe,"")}var ELe=NLe,CLe=ELe,Y3=Ju,TLe=Bp,X3=NaN,ALe=/^[-+]0x[0-9a-f]+$/i,OLe=/^0b[01]+$/i,PLe=/^0o[0-7]+$/i,DLe=parseInt;function RLe(e){if(typeof e=="number")return e;if(TLe(e))return X3;if(Y3(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Y3(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=CLe(e);var r=OLe.test(e);return r||PLe.test(e)?DLe(e.slice(2),r?2:8):ALe.test(e)?X3:+e}var ZG=RLe,ILe=Ju,Yk=wLe,J3=ZG,MLe="Expected a function",FLe=Math.max,LLe=Math.min;function $Le(e,t,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(MLe);t=J3(t)||0,ILe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?FLe(J3(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(k){var j=n,E=a;return n=a=void 0,u=k,i=e.apply(E,j),i}function g(k){return u=k,l=setTimeout(y,t),d?m(k):i}function p(k){var j=k-c,E=k-u,N=t-j;return f?LLe(N,s-E):N}function v(k){var j=k-c,E=k-u;return c===void 0||j>=t||j<0||f&&E>=s}function y(){var k=Yk();if(v(k))return w(k);l=setTimeout(y,p(k))}function w(k){return l=void 0,h&&n?m(k):(n=a=void 0,i)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?i:w(Yk())}function S(){var k=Yk(),j=v(k);if(n=arguments,a=this,c=k,j){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),i}return S.cancel=b,S.flush=_,S}var BLe=$Le,ULe=BLe,VLe=Ju,zLe="Expected a function";function WLe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(zLe);return VLe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),ULe(e,t,{leading:n,maxWait:t,trailing:a})}var HLe=WLe;const eY=gr(HLe);function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function Q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(r),!0).forEach(function(n){qLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qLe(e,t,r){return t=KLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KLe(e){var t=GLe(e,"string");return pv(t)=="symbol"?t:t+""}function GLe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YLe(e,t){return ZLe(e)||QLe(e,t)||JLe(e,t)||XLe()}function XLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JLe(e,t){if(e){if(typeof e=="string")return Z3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z3(e,t)}}function Z3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function ZLe(e){if(Array.isArray(e))return e}var WP=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,y=e.className,w=e.onResize,b=e.style,_=b===void 0?{}:b,S=x.useRef(null),k=x.useRef();k.current=w,x.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=x.useState({containerWidth:a.width,containerHeight:a.height}),E=YLe(j,2),N=E[0],A=E[1],D=x.useCallback(function(U,q){A(function(M){var I=Math.round(U),V=Math.round(q);return M.containerWidth===I&&M.containerHeight===V?M:{containerWidth:I,containerHeight:V}})},[]);x.useEffect(function(){var U=function(R){var re,Z=R[0].contentRect,C=Z.width,K=Z.height;D(C,K),(re=k.current)===null||re===void 0||re.call(k,C,K)};p>0&&(U=eY(U,p,{trailing:!0,leading:!1}));var q=new ResizeObserver(U),M=S.current.getBoundingClientRect(),I=M.width,V=M.height;return D(I,V),q.observe(S.current),function(){q.disconnect()}},[D,p]);var T=x.useMemo(function(){var U=N.containerWidth,q=N.containerHeight;if(U<0||q<0)return null;jo(Td(i)||Td(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),jo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Td(i)?U:i,I=Td(c)?q:c;r&&r>0&&(M?I=M/r:I&&(M=I*r),h&&I>h&&(I=h)),jo(M>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,I,i,c,d,f,r);var V=!Array.isArray(m)&&ac(m.type).endsWith("Chart");return ae.Children.map(m,function(F){return ae.isValidElement(F)?x.cloneElement(F,Xy({width:M,height:I},V?{style:Xy({height:"100%",width:"100%",maxHeight:I,maxWidth:M},F.props.style)}:{})):F})},[r,m,c,h,f,d,N,i]);return ae.createElement("div",{id:v?"".concat(v):void 0,className:Bt("recharts-responsive-container",y),style:Xy(Xy({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},T)}),mo=function(t){return null};mo.displayName="Cell";function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function eL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(r),!0).forEach(function(n){e$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e$e(e,t,r){return t=t$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t$e(e){var t=r$e(e,"string");return gv(t)=="symbol"?t:t+""}function r$e(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh={widthCache:{},cacheCount:0},n$e=2e3,a$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tL="recharts_measurement_span";function s$e(e){var t=tC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var vg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||cl.isSsr)return{width:0,height:0};var n=s$e(r),a=JSON.stringify({text:t,copyStyle:n});if(nh.widthCache[a])return nh.widthCache[a];try{var s=document.getElementById(tL);s||(s=document.createElement("span"),s.setAttribute("id",tL),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=tC(tC({},a$e),n);Object.assign(s.style,i),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return nh.widthCache[a]=c,++nh.cacheCount>n$e&&(nh.cacheCount=0,nh.widthCache={}),c}catch{return{width:0,height:0}}},i$e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function ab(e,t){return u$e(e)||c$e(e,t)||l$e(e,t)||o$e()}function o$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l$e(e,t){if(e){if(typeof e=="string")return rL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rL(e,t)}}function rL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function u$e(e){if(Array.isArray(e))return e}function d$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h$e(n.key),n)}}function f$e(e,t,r){return t&&nL(e.prototype,t),r&&nL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h$e(e){var t=m$e(e,"string");return vv(t)=="symbol"?t:t+""}function m$e(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,g$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},v$e=Object.keys(tY),Ih="NaN";function x$e(e,t){return e*tY[t]}var Jy=function(){function e(t,r){d$e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!p$e.test(r)&&(this.num=NaN,this.unit=""),v$e.includes(r)&&(this.num=x$e(t,r),this.unit="px")}return f$e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=g$e.exec(r))!==null&&n!==void 0?n:[],s=ab(a,3),i=s[1],l=s[2];return new e(parseFloat(i),l??"")}}])}();function rY(e){if(e.includes(Ih))return Ih;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=aL.exec(t))!==null&&r!==void 0?r:[],a=ab(n,4),s=a[1],i=a[2],l=a[3],c=Jy.parse(s??""),u=Jy.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ih;t=t.replace(aL,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=sL.exec(t))!==null&&f!==void 0?f:[],m=ab(h,4),g=m[1],p=m[2],v=m[3],y=Jy.parse(g??""),w=Jy.parse(v??""),b=p==="+"?y.add(w):y.subtract(w);if(b.isNaN())return Ih;t=t.replace(sL,b.toString())}return t}var iL=/\(([^()]*)\)/;function y$e(e){for(var t=e;t.includes("(");){var r=iL.exec(t),n=ab(r,2),a=n[1];t=t.replace(iL,rY(a))}return t}function w$e(e){var t=e.replace(/\s+/g,"");return t=y$e(t),t=rY(t),t}function b$e(e){try{return w$e(e)}catch{return Ih}}function Xk(e){var t=b$e(e.slice(5,-1));return t===Ih?"":t}var _$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],S$e=["dx","dy","angle","className","breakAll"];function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rC.apply(this,arguments)}function oL(e,t){if(e==null)return{};var r=j$e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lL(e,t){return C$e(e)||E$e(e,t)||N$e(e,t)||k$e()}function k$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N$e(e,t){if(e){if(typeof e=="string")return cL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cL(e,t)}}function cL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function C$e(e){if(Array.isArray(e))return e}var nY=/[ \f\n\r\t\v\u2028\u2029]+/,aY=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Lt(r)||(n?s=r.toString().split(""):s=r.toString().split(nY));var i=s.map(function(c){return{word:c,width:vg(c,a).width}}),l=n?0:vg("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},T$e=function(t,r,n,a,s){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Xe(i),f=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(I,V){var F=V.word,R=V.width,re=I[I.length-1];if(re&&(a==null||s||re.width+R+n<Number(a)))re.words.push(F),re.width+=R+n;else{var Z={words:[F],width:R};I.push(Z)}return I},[])},m=h(r),g=function(M){return M.reduce(function(I,V){return I.width>V.width?I:V})};if(!d)return m;for(var p="",v=function(M){var I=f.slice(0,M),V=aY({breakAll:u,style:c,children:I+p}).wordsWithComputedWidth,F=h(V),R=F.length>i||g(F).width>Number(a);return[R,F]},y=0,w=f.length-1,b=0,_;y<=w&&b<=f.length-1;){var S=Math.floor((y+w)/2),k=S-1,j=v(k),E=lL(j,2),N=E[0],A=E[1],D=v(S),T=lL(D,1),U=T[0];if(!N&&!U&&(y=S+1),N&&U&&(w=S-1),!N&&U){_=A;break}b++}return _||m},uL=function(t){var r=Lt(t)?[]:t.toString().split(nY);return[{words:r}]},A$e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!cl.isSsr){var c,u,d=aY({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return uL(a);return T$e({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return uL(a)},dL="#808080",wf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,y=v===void 0?dL:v,w=oL(t,_$e),b=x.useMemo(function(){return A$e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),_=w.dx,S=w.dy,k=w.angle,j=w.className,E=w.breakAll,N=oL(w,S$e);if(!Vn(n)||!Vn(s))return null;var A=n+(Xe(_)?_:0),D=s+(Xe(S)?S:0),T;switch(p){case"start":T=Xk("calc(".concat(u,")"));break;case"middle":T=Xk("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=Xk("calc(".concat(b.length-1," * -").concat(l,")"));break}var U=[];if(f){var q=b[0].width,M=w.width;U.push("scale(".concat((Xe(M)?M/q:1)/q,")"))}return k&&U.push("rotate(".concat(k,", ").concat(A,", ").concat(D,")")),U.length&&(N.transform=U.join(" ")),ae.createElement("text",rC({},kt(N,!0),{x:A,y:D,className:Bt("recharts-text",j),textAnchor:m,fill:y.includes("url")?dL:y}),b.map(function(I,V){var F=I.words.join(E?"":" ");return ae.createElement("tspan",{x:A,dy:V===0?T:l,key:"".concat(F,"-").concat(V)},F)}))};function Eu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function O$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HP(e){let t,r,n;e.length!==2?(t=Eu,r=(l,c)=>Eu(e(l),c),n=(l,c)=>e(l)-c):(t=e===Eu||e===O$e?e:P$e,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function P$e(){return 0}function sY(e){return e===null?NaN:+e}function*D$e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const R$e=HP(Eu),Ux=R$e.right;HP(sY).center;class fL extends Map{constructor(t,r=F$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(hL(this,t))}has(t){return super.has(hL(this,t))}set(t,r){return super.set(I$e(this,t),r)}delete(t){return super.delete(M$e(this,t))}}function hL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function I$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function M$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function F$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function L$e(e=Eu){if(e===Eu)return iY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function iY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $$e=Math.sqrt(50),B$e=Math.sqrt(10),U$e=Math.sqrt(2);function sb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=$$e?10:s>=B$e?5:s>=U$e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?sb(e,t,r*2):[l,c,u]}function nC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?sb(t,e,r):sb(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function aC(e,t,r){return t=+t,e=+e,r=+r,sb(e,t,r)[2]}function sC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?aC(t,e,r):aC(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function mL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function pL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function oY(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?iY:L$e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));oY(e,t,m,g,a)}const s=e[t];let i=r,l=n;for(y0(e,r,t),a(e[n],s)>0&&y0(e,r,n);i<l;){for(y0(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?y0(e,r,l):(++l,y0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function y0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function V$e(e,t,r){if(e=Float64Array.from(D$e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return pL(e);if(t>=1)return mL(e);var n,a=(n-1)*t,s=Math.floor(a),i=mL(oY(e,s).subarray(0,s+1)),l=pL(e.subarray(s+1));return i+(l-i)*(a-s)}}function z$e(e,t,r=sY){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function W$e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function qi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iC=Symbol("implicit");function qP(){var e=new fL,t=[],r=[],n=iC;function a(s){let i=e.get(s);if(i===void 0){if(n!==iC)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new fL;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return qP(t,r).unknown(n)},qi.apply(a,arguments),a}function xv(){var e=qP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;s=(p-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(p-g-s*(h-c))*d,i=s*(1-c),l&&(g=Math.round(g),i=Math.round(i));var v=W$e(h).map(function(y){return g+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return xv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},qi.apply(f(),arguments)}function lY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lY(t())},e}function xg(){return lY(xv.apply(null,arguments).paddingInner(1))}function KP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function cY(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Vx(){}var yv=.7,ib=1/yv,am="\\s*([+-]?\\d+)\\s*",wv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H$e=/^#([0-9a-f]{3,8})$/,q$e=new RegExp(`^rgb\\(${am},${am},${am}\\)$`),K$e=new RegExp(`^rgb\\(${ul},${ul},${ul}\\)$`),G$e=new RegExp(`^rgba\\(${am},${am},${am},${wv}\\)$`),Y$e=new RegExp(`^rgba\\(${ul},${ul},${ul},${wv}\\)$`),X$e=new RegExp(`^hsl\\(${wv},${ul},${ul}\\)$`),J$e=new RegExp(`^hsla\\(${wv},${ul},${ul},${wv}\\)$`),gL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KP(Vx,bv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vL,formatHex:vL,formatHex8:Q$e,formatHsl:Z$e,formatRgb:xL,toString:xL});function vL(){return this.rgb().formatHex()}function Q$e(){return this.rgb().formatHex8()}function Z$e(){return uY(this).formatHsl()}function xL(){return this.rgb().formatRgb()}function bv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=H$e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?yL(t):r===3?new Ss(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Qy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Qy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=q$e.exec(e))?new Ss(t[1],t[2],t[3],1):(t=K$e.exec(e))?new Ss(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=G$e.exec(e))?Qy(t[1],t[2],t[3],t[4]):(t=Y$e.exec(e))?Qy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=X$e.exec(e))?_L(t[1],t[2]/100,t[3]/100,1):(t=J$e.exec(e))?_L(t[1],t[2]/100,t[3]/100,t[4]):gL.hasOwnProperty(e)?yL(gL[e]):e==="transparent"?new Ss(NaN,NaN,NaN,0):null}function yL(e){return new Ss(e>>16&255,e>>8&255,e&255,1)}function Qy(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ss(e,t,r,n)}function e5e(e){return e instanceof Vx||(e=bv(e)),e?(e=e.rgb(),new Ss(e.r,e.g,e.b,e.opacity)):new Ss}function oC(e,t,r,n){return arguments.length===1?e5e(e):new Ss(e,t,r,n??1)}function Ss(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}KP(Ss,oC,cY(Vx,{brighter(e){return e=e==null?ib:Math.pow(ib,e),new Ss(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yv:Math.pow(yv,e),new Ss(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ss(Xd(this.r),Xd(this.g),Xd(this.b),ob(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wL,formatHex:wL,formatHex8:t5e,formatRgb:bL,toString:bL}));function wL(){return`#${Ad(this.r)}${Ad(this.g)}${Ad(this.b)}`}function t5e(){return`#${Ad(this.r)}${Ad(this.g)}${Ad(this.b)}${Ad((isNaN(this.opacity)?1:this.opacity)*255)}`}function bL(){const e=ob(this.opacity);return`${e===1?"rgb(":"rgba("}${Xd(this.r)}, ${Xd(this.g)}, ${Xd(this.b)}${e===1?")":`, ${e})`}`}function ob(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ad(e){return e=Xd(e),(e<16?"0":"")+e.toString(16)}function _L(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new go(e,t,r,n)}function uY(e){if(e instanceof go)return new go(e.h,e.s,e.l,e.opacity);if(e instanceof Vx||(e=bv(e)),!e)return new go;if(e instanceof go)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new go(i,l,c,e.opacity)}function r5e(e,t,r,n){return arguments.length===1?uY(e):new go(e,t,r,n??1)}function go(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}KP(go,r5e,cY(Vx,{brighter(e){return e=e==null?ib:Math.pow(ib,e),new go(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yv:Math.pow(yv,e),new go(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ss(Jk(e>=240?e-240:e+120,a,n),Jk(e,a,n),Jk(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new go(SL(this.h),Zy(this.s),Zy(this.l),ob(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ob(this.opacity);return`${e===1?"hsl(":"hsla("}${SL(this.h)}, ${Zy(this.s)*100}%, ${Zy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function SL(e){return e=(e||0)%360,e<0?e+360:e}function Zy(e){return Math.max(0,Math.min(1,e||0))}function Jk(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const GP=e=>()=>e;function n5e(e,t){return function(r){return e+r*t}}function a5e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function s5e(e){return(e=+e)==1?dY:function(t,r){return r-t?a5e(t,r,e):GP(isNaN(t)?r:t)}}function dY(e,t){var r=t-e;return r?n5e(e,r):GP(isNaN(e)?t:e)}const jL=function e(t){var r=s5e(t);function n(a,s){var i=r((a=oC(a)).r,(s=oC(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=dY(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function i5e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function o5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function l5e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Yp(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function c5e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function lb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function u5e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Yp(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var lC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qk=new RegExp(lC.source,"g");function d5e(e){return function(){return e}}function f5e(e){return function(t){return e(t)+""}}function h5e(e,t){var r=lC.lastIndex=Qk.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=lC.exec(e))&&(a=Qk.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:lb(n,a)})),r=Qk.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?f5e(c[0].x):d5e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Yp(e,t){var r=typeof t,n;return t==null||r==="boolean"?GP(t):(r==="number"?lb:r==="string"?(n=bv(t))?(t=n,jL):h5e:t instanceof bv?jL:t instanceof Date?c5e:o5e(t)?i5e:Array.isArray(t)?l5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?u5e:lb)(e,t)}function YP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function m5e(e,t){t===void 0&&(t=e,e=Yp);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function p5e(e){return function(){return e}}function cb(e){return+e}var kL=[0,1];function as(e){return e}function cC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:p5e(isNaN(t)?NaN:.5)}function g5e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function v5e(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=cC(a,n),s=r(i,s)):(n=cC(n,a),s=r(s,i)),function(l){return s(n(l))}}function x5e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=cC(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=Ux(e,l,1,n)-1;return s[c](a[c](l))}}function zx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function TS(){var e=kL,t=kL,r=Yp,n,a,s,i=as,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==as&&(i=g5e(e[0],e[h-1])),l=h>2?x5e:v5e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=l(t,e.map(n),lb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,cb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=YP,d()},f.clamp=function(h){return arguments.length?(i=h?!0:as,d()):i!==as},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function XP(){return TS()(as,as)}function y5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ub(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Km(e){return e=ub(Math.abs(e)),e?e[1]:NaN}function w5e(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function b5e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var _5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _v(e){if(!(t=_5e.exec(e)))throw new Error("invalid format: "+e);var t;return new JP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_v.prototype=JP.prototype;function JP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}JP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S5e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var fY;function j5e(e,t){var r=ub(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(fY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ub(e,Math.max(0,t+s-1))[0]}function NL(e,t){var r=ub(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const EL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:y5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>NL(e*100,t),r:NL,s:j5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function CL(e){return e}var TL=Array.prototype.map,AL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function k5e(e){var t=e.grouping===void 0||e.thousands===void 0?CL:w5e(TL.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?CL:b5e(TL.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=_v(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,y=f.width,w=f.comma,b=f.precision,_=f.trim,S=f.type;S==="n"?(w=!0,S="g"):EL[S]||(b===void 0&&(b=12),_=!0,S="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var k=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=p==="$"?n:/[%p]/.test(S)?i:"",E=EL[S],N=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(D){var T=k,U=j,q,M,I;if(S==="c")U=E(D)+U,D="";else{D=+D;var V=D<0||1/D<0;if(D=isNaN(D)?c:E(Math.abs(D),b),_&&(D=S5e(D)),V&&+D==0&&g!=="+"&&(V=!1),T=(V?g==="("?g:l:g==="-"||g==="("?"":g)+T,U=(S==="s"?AL[8+fY/3]:"")+U+(V&&g==="("?")":""),N){for(q=-1,M=D.length;++q<M;)if(I=D.charCodeAt(q),48>I||I>57){U=(I===46?a+D.slice(q+1):D.slice(q))+U,D=D.slice(0,q);break}}}w&&!v&&(D=t(D,1/0));var F=T.length+D.length+U.length,R=F<y?new Array(y-F+1).join(h):"";switch(w&&v&&(D=t(R+D,R.length?y-U.length:1/0),R=""),m){case"<":D=T+D+U+R;break;case"=":D=T+R+D+U;break;case"^":D=R.slice(0,F=R.length>>1)+T+D+U+R.slice(F);break;default:D=R+T+D+U;break}return s(D)}return A.toString=function(){return f+""},A}function d(f,h){var m=u((f=_v(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Km(h)/3)))*3,p=Math.pow(10,-g),v=AL[8+g/3];return function(y){return m(p*y)+v}}return{format:u,formatPrefix:d}}var e1,QP,hY;N5e({thousands:",",grouping:[3],currency:["$",""]});function N5e(e){return e1=k5e(e),QP=e1.format,hY=e1.formatPrefix,e1}function E5e(e){return Math.max(0,-Km(Math.abs(e)))}function C5e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Km(t)/3)))*3-Km(Math.abs(e)))}function T5e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Km(t)-Km(e))+1}function mY(e,t,r,n){var a=sC(e,t,r),s;switch(n=_v(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=C5e(a,i))&&(n.precision=s),hY(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=T5e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=E5e(a))&&(n.precision=s-(n.type==="%")*2);break}}return QP(n)}function Qu(e){var t=e.domain;return e.ticks=function(r){var n=t();return nC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return mY(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=aC(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function db(){var e=XP();return e.copy=function(){return zx(e,db())},qi.apply(e,arguments),Qu(e)}function pY(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,cb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return pY(e).unknown(t)},e=arguments.length?Array.from(e,cb):[0,1],Qu(r)}function gY(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function OL(e){return Math.log(e)}function PL(e){return Math.exp(e)}function A5e(e){return-Math.log(-e)}function O5e(e){return-Math.exp(-e)}function P5e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function D5e(e){return e===10?P5e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function R5e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function DL(e){return(t,r)=>-e(-t,r)}function ZP(e){const t=e(OL,PL),r=t.domain;let n=10,a,s;function i(){return a=R5e(n),s=D5e(n),r()[0]<0?(a=DL(a),s=DL(s),e(A5e,O5e)):e(OL,PL),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;y.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;y.push(p)}y.length*2<v&&(y=nC(u,d,v))}else y=nC(h,m,Math.min(m-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=_v(c)).precision==null&&(c.trim=!0),c=QP(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(gY(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function vY(){const e=ZP(TS()).domain([1,10]);return e.copy=()=>zx(e,vY()).base(e.base()),qi.apply(e,arguments),e}function RL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function IL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function e4(e){var t=1,r=e(RL(t),IL(t));return r.constant=function(n){return arguments.length?e(RL(t=+n),IL(t)):t},Qu(r)}function xY(){var e=e4(TS());return e.copy=function(){return zx(e,xY()).constant(e.constant())},qi.apply(e,arguments)}function ML(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function I5e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function M5e(e){return e<0?-e*e:e*e}function t4(e){var t=e(as,as),r=1;function n(){return r===1?e(as,as):r===.5?e(I5e,M5e):e(ML(r),ML(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Qu(t)}function r4(){var e=t4(TS());return e.copy=function(){return zx(e,r4()).exponent(e.exponent())},qi.apply(e,arguments),e}function F5e(){return r4.apply(null,arguments).exponent(.5)}function FL(e){return Math.sign(e)*e*e}function L5e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yY(){var e=XP(),t=[0,1],r=!1,n;function a(s){var i=L5e(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(FL(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,cb)).map(FL)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return yY(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},qi.apply(a,arguments),Qu(a)}function wY(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=z$e(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Ux(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Eu),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return wY().domain(e).range(t).unknown(n)},qi.apply(s,arguments)}function bY(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Ux(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return bY().domain([e,t]).range(a).unknown(s)},qi.apply(Qu(i),arguments)}function _Y(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Ux(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return _Y().domain(e).range(t).unknown(r)},qi.apply(a,arguments)}const Zk=new Date,e2=new Date;function Wn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>Wn(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(Zk.setTime(+s),e2.setTime(+i),e(Zk),e(e2),Math.floor(r(Zk,e2))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const fb=Wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fb);fb.range;const Ql=1e3,Ri=Ql*60,Zl=Ri*60,yc=Zl*24,n4=yc*7,LL=yc*30,t2=yc*365,Od=Wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ql)},(e,t)=>(t-e)/Ql,e=>e.getUTCSeconds());Od.range;const a4=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ql)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getMinutes());a4.range;const s4=Wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCMinutes());s4.range;const i4=Wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ql-e.getMinutes()*Ri)},(e,t)=>{e.setTime(+e+t*Zl)},(e,t)=>(t-e)/Zl,e=>e.getHours());i4.range;const o4=Wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zl)},(e,t)=>(t-e)/Zl,e=>e.getUTCHours());o4.range;const Wx=Wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ri)/yc,e=>e.getDate()-1);Wx.range;const AS=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yc,e=>e.getUTCDate()-1);AS.range;const SY=Wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yc,e=>Math.floor(e/yc));SY.range;function $f(e){return Wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ri)/n4)}const OS=$f(0),hb=$f(1),$5e=$f(2),B5e=$f(3),Gm=$f(4),U5e=$f(5),V5e=$f(6);OS.range;hb.range;$5e.range;B5e.range;Gm.range;U5e.range;V5e.range;function Bf(e){return Wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/n4)}const PS=Bf(0),mb=Bf(1),z5e=Bf(2),W5e=Bf(3),Ym=Bf(4),H5e=Bf(5),q5e=Bf(6);PS.range;mb.range;z5e.range;W5e.range;Ym.range;H5e.range;q5e.range;const l4=Wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());l4.range;const c4=Wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());c4.range;const wc=Wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wc.range;const bc=Wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});bc.range;function jY(e,t,r,n,a,s){const i=[[Od,1,Ql],[Od,5,5*Ql],[Od,15,15*Ql],[Od,30,30*Ql],[s,1,Ri],[s,5,5*Ri],[s,15,15*Ri],[s,30,30*Ri],[a,1,Zl],[a,3,3*Zl],[a,6,6*Zl],[a,12,12*Zl],[n,1,yc],[n,2,2*yc],[r,1,n4],[t,1,LL],[t,3,3*LL],[e,1,t2]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=HP(([,,v])=>v).right(i,h);if(m===i.length)return e.every(sC(u/t2,d/t2,f));if(m===0)return fb.every(Math.max(sC(u,d,f),1));const[g,p]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[K5e,G5e]=jY(bc,c4,PS,SY,o4,s4),[Y5e,X5e]=jY(wc,l4,OS,Wx,i4,a4);function r2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function n2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function w0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function J5e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=b0(a),d=_0(a),f=b0(s),h=_0(s),m=b0(i),g=_0(i),p=b0(l),v=_0(l),y=b0(c),w=_0(c),b={a:V,A:F,b:R,B:re,c:null,d:WL,e:WL,f:w8e,g:A8e,G:P8e,H:v8e,I:x8e,j:y8e,L:kY,m:b8e,M:_8e,p:Z,q:C,Q:KL,s:GL,S:S8e,u:j8e,U:k8e,V:N8e,w:E8e,W:C8e,x:null,X:null,y:T8e,Y:O8e,Z:D8e,"%":qL},_={a:K,A:B,b:z,B:ne,c:null,d:HL,e:HL,f:F8e,g:K8e,G:Y8e,H:R8e,I:I8e,j:M8e,L:EY,m:L8e,M:$8e,p:oe,q:ue,Q:KL,s:GL,S:B8e,u:U8e,U:V8e,V:z8e,w:W8e,W:H8e,x:null,X:null,y:q8e,Y:G8e,Z:X8e,"%":qL},S={a:A,A:D,b:T,B:U,c:q,d:VL,e:VL,f:h8e,g:UL,G:BL,H:zL,I:zL,j:c8e,L:f8e,m:l8e,M:u8e,p:N,q:o8e,Q:p8e,s:g8e,S:d8e,u:r8e,U:n8e,V:a8e,w:t8e,W:s8e,x:M,X:I,y:UL,Y:BL,Z:i8e,"%":m8e};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(ie,X){return function(de){var O=[],Fe=-1,Re=0,Be=ie.length,We,De,ft;for(de instanceof Date||(de=new Date(+de));++Fe<Be;)ie.charCodeAt(Fe)===37&&(O.push(ie.slice(Re,Fe)),(De=$L[We=ie.charAt(++Fe)])!=null?We=ie.charAt(++Fe):De=We==="e"?" ":"0",(ft=X[We])&&(We=ft(de,De)),O.push(We),Re=Fe+1);return O.push(ie.slice(Re,Fe)),O.join("")}}function j(ie,X){return function(de){var O=w0(1900,void 0,1),Fe=E(O,ie,de+="",0),Re,Be;if(Fe!=de.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(X&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(Re=n2(w0(O.y,0,1)),Be=Re.getUTCDay(),Re=Be>4||Be===0?mb.ceil(Re):mb(Re),Re=AS.offset(Re,(O.V-1)*7),O.y=Re.getUTCFullYear(),O.m=Re.getUTCMonth(),O.d=Re.getUTCDate()+(O.w+6)%7):(Re=r2(w0(O.y,0,1)),Be=Re.getDay(),Re=Be>4||Be===0?hb.ceil(Re):hb(Re),Re=Wx.offset(Re,(O.V-1)*7),O.y=Re.getFullYear(),O.m=Re.getMonth(),O.d=Re.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),Be="Z"in O?n2(w0(O.y,0,1)).getUTCDay():r2(w0(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(Be+5)%7:O.w+O.U*7-(Be+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,n2(O)):r2(O)}}function E(ie,X,de,O){for(var Fe=0,Re=X.length,Be=de.length,We,De;Fe<Re;){if(O>=Be)return-1;if(We=X.charCodeAt(Fe++),We===37){if(We=X.charAt(Fe++),De=S[We in $L?X.charAt(Fe++):We],!De||(O=De(ie,de,O))<0)return-1}else if(We!=de.charCodeAt(O++))return-1}return O}function N(ie,X,de){var O=u.exec(X.slice(de));return O?(ie.p=d.get(O[0].toLowerCase()),de+O[0].length):-1}function A(ie,X,de){var O=m.exec(X.slice(de));return O?(ie.w=g.get(O[0].toLowerCase()),de+O[0].length):-1}function D(ie,X,de){var O=f.exec(X.slice(de));return O?(ie.w=h.get(O[0].toLowerCase()),de+O[0].length):-1}function T(ie,X,de){var O=y.exec(X.slice(de));return O?(ie.m=w.get(O[0].toLowerCase()),de+O[0].length):-1}function U(ie,X,de){var O=p.exec(X.slice(de));return O?(ie.m=v.get(O[0].toLowerCase()),de+O[0].length):-1}function q(ie,X,de){return E(ie,t,X,de)}function M(ie,X,de){return E(ie,r,X,de)}function I(ie,X,de){return E(ie,n,X,de)}function V(ie){return i[ie.getDay()]}function F(ie){return s[ie.getDay()]}function R(ie){return c[ie.getMonth()]}function re(ie){return l[ie.getMonth()]}function Z(ie){return a[+(ie.getHours()>=12)]}function C(ie){return 1+~~(ie.getMonth()/3)}function K(ie){return i[ie.getUTCDay()]}function B(ie){return s[ie.getUTCDay()]}function z(ie){return c[ie.getUTCMonth()]}function ne(ie){return l[ie.getUTCMonth()]}function oe(ie){return a[+(ie.getUTCHours()>=12)]}function ue(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var X=k(ie+="",b);return X.toString=function(){return ie},X},parse:function(ie){var X=j(ie+="",!1);return X.toString=function(){return ie},X},utcFormat:function(ie){var X=k(ie+="",_);return X.toString=function(){return ie},X},utcParse:function(ie){var X=j(ie+="",!0);return X.toString=function(){return ie},X}}}var $L={"-":"",_:" ",0:"0"},Qn=/^\s*\d+/,Q5e=/^%/,Z5e=/[\\^$*+?|[\]().{}]/g;function ur(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function e8e(e){return e.replace(Z5e,"\\$&")}function b0(e){return new RegExp("^(?:"+e.map(e8e).join("|")+")","i")}function _0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function t8e(e,t,r){var n=Qn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function r8e(e,t,r){var n=Qn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function n8e(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function a8e(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function s8e(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function BL(e,t,r){var n=Qn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function UL(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function i8e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function o8e(e,t,r){var n=Qn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function l8e(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function VL(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function c8e(e,t,r){var n=Qn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function zL(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function u8e(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function d8e(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function f8e(e,t,r){var n=Qn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function h8e(e,t,r){var n=Qn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function m8e(e,t,r){var n=Q5e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function p8e(e,t,r){var n=Qn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function g8e(e,t,r){var n=Qn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function WL(e,t){return ur(e.getDate(),t,2)}function v8e(e,t){return ur(e.getHours(),t,2)}function x8e(e,t){return ur(e.getHours()%12||12,t,2)}function y8e(e,t){return ur(1+Wx.count(wc(e),e),t,3)}function kY(e,t){return ur(e.getMilliseconds(),t,3)}function w8e(e,t){return kY(e,t)+"000"}function b8e(e,t){return ur(e.getMonth()+1,t,2)}function _8e(e,t){return ur(e.getMinutes(),t,2)}function S8e(e,t){return ur(e.getSeconds(),t,2)}function j8e(e){var t=e.getDay();return t===0?7:t}function k8e(e,t){return ur(OS.count(wc(e)-1,e),t,2)}function NY(e){var t=e.getDay();return t>=4||t===0?Gm(e):Gm.ceil(e)}function N8e(e,t){return e=NY(e),ur(Gm.count(wc(e),e)+(wc(e).getDay()===4),t,2)}function E8e(e){return e.getDay()}function C8e(e,t){return ur(hb.count(wc(e)-1,e),t,2)}function T8e(e,t){return ur(e.getFullYear()%100,t,2)}function A8e(e,t){return e=NY(e),ur(e.getFullYear()%100,t,2)}function O8e(e,t){return ur(e.getFullYear()%1e4,t,4)}function P8e(e,t){var r=e.getDay();return e=r>=4||r===0?Gm(e):Gm.ceil(e),ur(e.getFullYear()%1e4,t,4)}function D8e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ur(t/60|0,"0",2)+ur(t%60,"0",2)}function HL(e,t){return ur(e.getUTCDate(),t,2)}function R8e(e,t){return ur(e.getUTCHours(),t,2)}function I8e(e,t){return ur(e.getUTCHours()%12||12,t,2)}function M8e(e,t){return ur(1+AS.count(bc(e),e),t,3)}function EY(e,t){return ur(e.getUTCMilliseconds(),t,3)}function F8e(e,t){return EY(e,t)+"000"}function L8e(e,t){return ur(e.getUTCMonth()+1,t,2)}function $8e(e,t){return ur(e.getUTCMinutes(),t,2)}function B8e(e,t){return ur(e.getUTCSeconds(),t,2)}function U8e(e){var t=e.getUTCDay();return t===0?7:t}function V8e(e,t){return ur(PS.count(bc(e)-1,e),t,2)}function CY(e){var t=e.getUTCDay();return t>=4||t===0?Ym(e):Ym.ceil(e)}function z8e(e,t){return e=CY(e),ur(Ym.count(bc(e),e)+(bc(e).getUTCDay()===4),t,2)}function W8e(e){return e.getUTCDay()}function H8e(e,t){return ur(mb.count(bc(e)-1,e),t,2)}function q8e(e,t){return ur(e.getUTCFullYear()%100,t,2)}function K8e(e,t){return e=CY(e),ur(e.getUTCFullYear()%100,t,2)}function G8e(e,t){return ur(e.getUTCFullYear()%1e4,t,4)}function Y8e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ym(e):Ym.ceil(e),ur(e.getUTCFullYear()%1e4,t,4)}function X8e(){return"+0000"}function qL(){return"%"}function KL(e){return+e}function GL(e){return Math.floor(+e/1e3)}var ah,TY,AY;J8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function J8e(e){return ah=J5e(e),TY=ah.format,ah.parse,AY=ah.utcFormat,ah.utcParse,ah}function Q8e(e){return new Date(e)}function Z8e(e){return e instanceof Date?+e:+new Date(+e)}function u4(e,t,r,n,a,s,i,l,c,u){var d=XP(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),w=u("%b %d"),b=u("%B"),_=u("%Y");function S(k){return(c(k)<k?m:l(k)<k?g:i(k)<k?p:s(k)<k?v:n(k)<k?a(k)<k?y:w:r(k)<k?b:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,Z8e)):h().map(Q8e)},d.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},d.tickFormat=function(k,j){return j==null?S:u(j)},d.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(gY(j,k)):d},d.copy=function(){return zx(d,u4(e,t,r,n,a,s,i,l,c,u))},d}function e6e(){return qi.apply(u4(Y5e,X5e,wc,l4,OS,Wx,i4,a4,Od,TY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function t6e(){return qi.apply(u4(K5e,G5e,bc,c4,PS,AS,o4,s4,Od,AY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function DS(){var e=0,t=1,r,n,a,s,i=as,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,i=f(m,g),u):[i(0),i(1)]}}return u.range=d(Yp),u.rangeRound=d(YP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Zu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OY(){var e=Qu(DS()(as));return e.copy=function(){return Zu(e,OY())},Cc.apply(e,arguments)}function PY(){var e=ZP(DS()).domain([1,10]);return e.copy=function(){return Zu(e,PY()).base(e.base())},Cc.apply(e,arguments)}function DY(){var e=e4(DS());return e.copy=function(){return Zu(e,DY()).constant(e.constant())},Cc.apply(e,arguments)}function d4(){var e=t4(DS());return e.copy=function(){return Zu(e,d4()).exponent(e.exponent())},Cc.apply(e,arguments)}function r6e(){return d4.apply(null,arguments).exponent(.5)}function RY(){var e=[],t=as;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ux(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Eu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>V$e(e,s/n))},r.copy=function(){return RY(t).domain(e)},Cc.apply(r,arguments)}function RS(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=as,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var y,w,b;return arguments.length?([y,w,b]=v,u=m5e(p,[y,w,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(Yp),m.rangeRound=g(YP),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),i=p(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function IY(){var e=Qu(RS()(as));return e.copy=function(){return Zu(e,IY())},Cc.apply(e,arguments)}function MY(){var e=ZP(RS()).domain([.1,1,10]);return e.copy=function(){return Zu(e,MY()).base(e.base())},Cc.apply(e,arguments)}function FY(){var e=e4(RS());return e.copy=function(){return Zu(e,FY()).constant(e.constant())},Cc.apply(e,arguments)}function f4(){var e=t4(RS());return e.copy=function(){return Zu(e,f4()).exponent(e.exponent())},Cc.apply(e,arguments)}function n6e(){return f4.apply(null,arguments).exponent(.5)}const YL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xv,scaleDiverging:IY,scaleDivergingLog:MY,scaleDivergingPow:f4,scaleDivergingSqrt:n6e,scaleDivergingSymlog:FY,scaleIdentity:pY,scaleImplicit:iC,scaleLinear:db,scaleLog:vY,scaleOrdinal:qP,scalePoint:xg,scalePow:r4,scaleQuantile:wY,scaleQuantize:bY,scaleRadial:yY,scaleSequential:OY,scaleSequentialLog:PY,scaleSequentialPow:d4,scaleSequentialQuantile:RY,scaleSequentialSqrt:r6e,scaleSequentialSymlog:DY,scaleSqrt:F5e,scaleSymlog:xY,scaleThreshold:_Y,scaleTime:e6e,scaleUtc:t6e,tickFormat:mY},Symbol.toStringTag,{value:"Module"}));var a6e=Bp;function s6e(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(l===void 0?i===i&&!a6e(i):r(i,l)))var l=i,c=s}return c}var IS=s6e;function i6e(e,t){return e>t}var LY=i6e,o6e=IS,l6e=LY,c6e=Gp;function u6e(e){return e&&e.length?o6e(e,c6e,l6e):void 0}var d6e=u6e;const MS=gr(d6e);function f6e(e,t){return e<t}var $Y=f6e,h6e=IS,m6e=$Y,p6e=Gp;function g6e(e){return e&&e.length?h6e(e,p6e,m6e):void 0}var v6e=g6e;const FS=gr(v6e);var x6e=kP,y6e=Al,w6e=KG,b6e=zs;function _6e(e,t){var r=b6e(e)?x6e:w6e;return r(e,y6e(t))}var S6e=_6e,j6e=HG,k6e=S6e;function N6e(e,t){return j6e(k6e(e,t),1)}var E6e=N6e;const C6e=gr(E6e);var T6e=BP;function A6e(e,t){return T6e(e,t)}var O6e=A6e;const Hx=gr(O6e);var Xp=1e9,P6e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},m4,Kr=!0,Vi="[DecimalError] ",Jd=Vi+"Invalid argument: ",h4=Vi+"Exponent out of range: ",Jp=Math.floor,pd=Math.pow,D6e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ri,qn=1e7,$r=7,BY=9007199254740991,pb=Jp(BY/$r),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$r;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return sc(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return kr(sc(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return Cn(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ri))throw Error(Vi+"NaN");if(r.s<1)throw Error(Vi+(r.s?"NaN":"-Infinity"));return r.eq(ri)?new n(0):(Kr=!1,t=sc(Sv(r,s),Sv(e,s),s),Kr=!0,kr(t,a))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zY(t,e):UY(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Vi+"NaN");return r.s?(Kr=!1,t=sc(r,e,0,1).times(e),Kr=!0,r.minus(t)):kr(new n(r),a)};ot.naturalExponential=ot.exp=function(){return VY(this)};ot.naturalLogarithm=ot.ln=function(){return Sv(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UY(t,e):zY(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Jd+e);if(t=Cn(a)+1,n=a.d.length-1,r=n*$r+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vi+"NaN")}for(e=Cn(l),Kr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=nl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Jp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(sc(l,s,i+2)).times(.5),nl(s.d).slice(0,i)===(t=nl(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(kr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return Kr=!0,kr(n,r)};ot.times=ot.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%qn|0,t=l/qn|0;s[a]=(s[a]+t)%qn|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Kr?kr(e,f.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(wl(e,0,Xp),t===void 0?t=n.rounding:wl(t,0,8),kr(r,e+Cn(r)+1,t))};ot.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=bf(n,!0):(wl(e,0,Xp),t===void 0?t=a.rounding:wl(t,0,8),n=kr(new a(n),e+1,t),r=bf(n,!0,e+1)),r};ot.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?bf(a):(wl(e,0,Xp),t===void 0?t=s.rounding:wl(t,0,8),n=kr(new s(a),e+Cn(a)+1,t),r=bf(n.abs(),!1,e+Cn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return kr(new t(e),Cn(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ri);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vi+"Infinity");return l}if(l.eq(ri))return l;if(n=c.precision,e.eq(ri))return kr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=BY){for(a=new c(ri),t=Math.ceil(n/$r+4),Kr=!1;r%2&&(a=a.times(l),JL(a.d,t)),r=Jp(r/2),r!==0;)l=l.times(l),JL(l.d,t);return Kr=!0,e.s<0?new c(ri).div(a):kr(a,n)}}else if(s<0)throw Error(Vi+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Kr=!1,a=e.times(Sv(l,n+u)),Kr=!0,a=VY(a),a.s=s,a};ot.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Cn(a),n=bf(a,r<=s.toExpNeg||r>=s.toExpPos)):(wl(e,1,Xp),t===void 0?t=s.rounding:wl(t,0,8),a=kr(new s(a),e,t),r=Cn(a),n=bf(a,e<=r||r<=s.toExpNeg,e)),n};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(wl(e,1,Xp),t===void 0?t=n.rounding:wl(t,0,8)),kr(new n(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cn(e),r=e.constructor;return bf(e,t<=r.toExpNeg||t>=r.toExpPos)};function UY(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Kr?kr(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/$r),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/qn|0,c[s]%=qn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Kr?kr(t,f):t}function wl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Jd+e)}function nl(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=$r-n.length,r&&(s+=zc(r)),s+=n;i=e[t],n=i+"",r=$r-n.length,r&&(s+=zc(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var sc=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%qn|0,i=s/qn|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*qn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,h,m,g,p,v,y,w,b,_,S,k,j,E,N=n.constructor,A=n.s==a.s?1:-1,D=n.d,T=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Vi+"Division by zero");for(c=n.e-a.e,j=T.length,S=D.length,m=new N(A),g=m.d=[],u=0;T[u]==(D[u]||0);)++u;if(T[u]>(D[u]||0)&&--c,s==null?w=s=N.precision:i?w=s+(Cn(n)-Cn(a))+1:w=s,w<0)return new N(0);if(w=w/$r+2|0,u=0,j==1)for(d=0,T=T[0],w++;(u<S||d)&&w--;u++)b=d*qn+(D[u]||0),g[u]=b/T|0,d=b%T|0;else{for(d=qn/(T[0]+1)|0,d>1&&(T=e(T,d),D=e(D,d),j=T.length,S=D.length),_=j,p=D.slice(0,j),v=p.length;v<j;)p[v++]=0;E=T.slice(),E.unshift(0),k=T[0],T[1]>=qn/2&&++k;do d=0,l=t(T,p,j,v),l<0?(y=p[0],j!=v&&(y=y*qn+(p[1]||0)),d=y/k|0,d>1?(d>=qn&&(d=qn-1),f=e(T,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,j<h?E:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(T,p,j,v),l<1&&(d++,r(p,j<v?E:T,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=D[_]||0:(p=[D[_]],v=1);while((_++<S||p[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=c,kr(m,i?s+Cn(m)+1:s)}}();function VY(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(Cn(e)>16)throw Error(h4+Cn(e));if(!e.s)return new d(ri);for(t==null?(Kr=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(pd(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(ri),d.precision=l;;){if(a=kr(a.times(e),l),r=r.times(++c),i=s.plus(sc(a,r,l)),nl(i.d).slice(0,l)===nl(s.d).slice(0,l)){for(;u--;)s=kr(s.times(s),l);return d.precision=f,t==null?(Kr=!0,kr(s,f)):s}s=i}}function Cn(e){for(var t=e.e*$r,r=e.d[0];r>=10;r/=10)t++;return t}function a2(e,t,r){if(t>e.LN10.sd())throw Kr=!0,r&&(e.precision=r),Error(Vi+"LN10 precision limit exceeded");return kr(new e(e.LN10),t)}function zc(e){for(var t="";e--;)t+="0";return t}function Sv(e,t){var r,n,a,s,i,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Vi+(m.s?"NaN":"-Infinity"));if(m.eq(ri))return new p(0);if(t==null?(Kr=!1,u=v):u=t,m.eq(10))return t==null&&(Kr=!0),a2(p,u);if(u+=h,p.precision=u,r=nl(g),n=r.charAt(0),s=Cn(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=nl(m.d),n=r.charAt(0),f++;s=Cn(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=a2(p,u+2,v).times(s+""),m=Sv(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(Kr=!0,kr(m,v)):m;for(l=i=m=sc(m.minus(ri),m.plus(ri),u),d=kr(m.times(m),u),a=3;;){if(i=kr(i.times(d),u),c=l.plus(sc(i,new p(a),u)),nl(c.d).slice(0,u)===nl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(a2(p,u+2,v).times(s+""))),l=sc(l,new p(f),u),p.precision=v,t==null?(Kr=!0,kr(l,v)):l;l=c,a+=2}}function XL(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Jp(r/$r),e.d=[],n=(r+1)%$r,r<0&&(n+=$r),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=$r;n<a;)e.d.push(+t.slice(n,n+=$r));t=t.slice(n),n=$r-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Kr&&(e.e>pb||e.e<-pb))throw Error(h4+r)}else e.s=0,e.e=0,e.d=[0];return e}function kr(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=$r,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/$r),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=$r,a=n-$r+i}if(r!==void 0&&(s=pd(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/pd(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Cn(e),f.length=1,t=t-s-1,f[0]=pd(10,($r-t%$r)%$r),e.e=Jp(-t/$r)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=pd(10,$r-n),f[d]=a>0?(u/pd(10,i-a)%pd(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==qn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=qn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Kr&&(e.e>pb||e.e<-pb))throw Error(h4+Cn(e));return e}function zY(e,t){var r,n,a,s,i,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Kr?kr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/$r),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=qn-1;--c[s],c[a]+=qn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Kr?kr(t,m):t):new h(0)}function bf(e,t,r){var n,a=Cn(e),s=nl(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+zc(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+zc(-a-1)+s,r&&(n=r-i)>0&&(s+=zc(n))):a>=i?(s+=zc(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+zc(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=zc(n))),e.s<0?"-"+s:s}function JL(e,t){if(e.length>t)return e.length=t,!0}function WY(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Jd+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return XL(i,s.toString())}else if(typeof s!="string")throw Error(Jd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,D6e.test(s))XL(i,s);else throw Error(Jd+s)}if(a.prototype=ot,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=WY,a.config=a.set=R6e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function R6e(e){if(!e||typeof e!="object")throw Error(Vi+"Object expected");var t,r,n,a=["precision",1,Xp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Jp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Jd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Jd+r+": "+n);return this}var m4=WY(P6e);ri=new m4(1);const br=m4;function I6e(e){return $6e(e)||L6e(e)||F6e(e)||M6e()}function M6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F6e(e,t){if(e){if(typeof e=="string")return uC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uC(e,t)}}function L6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $6e(e){if(Array.isArray(e))return uC(e)}function uC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B6e=function(t){return t},HY={"@@functional/placeholder":!0},qY=function(t){return t===HY},QL=function(t){return function r(){return arguments.length===0||arguments.length===1&&qY(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},U6e=function e(t,r){return t===1?r:QL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==HY}).length;return i>=t?r.apply(void 0,a):e(t-i,QL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return qY(f)?c.shift():f});return r.apply(void 0,I6e(d).concat(c))}))})},LS=function(t){return U6e(t.length,t)},dC=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},V6e=LS(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),z6e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return B6e;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},fC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},KY=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function W6e(e){var t;return e===0?t=1:t=Math.floor(new br(e).abs().log(10).toNumber())+1,t}function H6e(e,t,r){for(var n=new br(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var q6e=LS(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),K6e=LS(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),G6e=LS(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const $S={rangeStep:H6e,getDigitCount:W6e,interpolateNumber:q6e,uninterpolateNumber:K6e,uninterpolateTruncation:G6e};function hC(e){return J6e(e)||X6e(e)||GY(e)||Y6e()}function Y6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function J6e(e){if(Array.isArray(e))return mC(e)}function jv(e,t){return eBe(e)||Z6e(e,t)||GY(e,t)||Q6e()}function Q6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GY(e,t){if(e){if(typeof e=="string")return mC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mC(e,t)}}function mC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z6e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function eBe(e){if(Array.isArray(e))return e}function YY(e){var t=jv(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function XY(e,t,r){if(e.lte(0))return new br(0);var n=$S.getDigitCount(e.toNumber()),a=new br(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new br(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new br(Math.ceil(c))}function tBe(e,t,r){var n=1,a=new br(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new br(10).pow($S.getDigitCount(e)-1),a=new br(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new br(Math.floor(e)))}else e===0?a=new br(Math.floor((t-1)/2)):r||(a=new br(Math.floor(e)));var i=Math.floor((t-1)/2),l=z6e(V6e(function(c){return a.add(new br(c-i).mul(n)).toNumber()}),dC);return l(0,t)}function JY(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new br(0),tickMin:new br(0),tickMax:new br(0)};var s=XY(new br(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new br(0):(i=new br(e).add(t).div(2),i=i.sub(new br(i).mod(s)));var l=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new br(t).sub(i).div(s).toNumber()),u=l+c+1;return u>r?JY(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:i.sub(new br(l).mul(s)),tickMax:i.add(new br(c).mul(s))})}function rBe(e){var t=jv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=YY([r,n]),c=jv(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(hC(dC(0,a-1).map(function(){return 1/0}))):[].concat(hC(dC(0,a-1).map(function(){return-1/0})),[d]);return r>n?fC(f):f}if(u===d)return tBe(u,a,s);var h=JY(u,d,i,s),m=h.step,g=h.tickMin,p=h.tickMax,v=$S.rangeStep(g,p.add(new br(.1).mul(m)),m);return r>n?fC(v):v}function nBe(e,t){var r=jv(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=YY([n,a]),l=jv(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=XY(new br(u).sub(c).div(d-1),s,0),h=[].concat(hC($S.rangeStep(new br(c),new br(u).sub(new br(.99).mul(f)),f)),[u]);return n>a?fC(h):h}var aBe=KY(rBe),sBe=KY(nBe),iBe="Invariant failed";function _f(e,t){throw new Error(iBe)}var oBe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(this,arguments)}function lBe(e,t){return fBe(e)||dBe(e,t)||uBe(e,t)||cBe()}function cBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uBe(e,t){if(e){if(typeof e=="string")return ZL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZL(e,t)}}function ZL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function fBe(e){if(Array.isArray(e))return e}function hBe(e,t){if(e==null)return{};var r=mBe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eX(n.key),n)}}function vBe(e,t,r){return t&&gBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xBe(e,t,r){return t=vb(t),yBe(e,QY()?Reflect.construct(t,r||[],vb(e).constructor):t.apply(e,r))}function yBe(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wBe(e)}function wBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QY=function(){return!!e})()}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(e)}function bBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pC(e,t)}function pC(e,t){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pC(e,t)}function ZY(e,t,r){return t=eX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eX(e){var t=_Be(e,"string");return Xm(t)=="symbol"?t:t+""}function _Be(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qx=function(e){function t(){return pBe(this,t),xBe(this,t,arguments)}return bBe(t,e),vBe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=hBe(n,oBe),m=kt(h,!1);this.props.direction==="x"&&d.type!=="number"&&_f();var g=c.map(function(p){var v=u(p,l),y=v.x,w=v.y,b=v.value,_=v.errorVal;if(!_)return null;var S=[],k,j;if(Array.isArray(_)){var E=lBe(_,2);k=E[0],j=E[1]}else k=j=_;if(s==="vertical"){var N=d.scale,A=w+a,D=A+i,T=A-i,U=N(b-k),q=N(b+j);S.push({x1:q,y1:D,x2:q,y2:T}),S.push({x1:U,y1:A,x2:q,y2:A}),S.push({x1:U,y1:D,x2:U,y2:T})}else if(s==="horizontal"){var M=f.scale,I=y+a,V=I-i,F=I+i,R=M(b-k),re=M(b+j);S.push({x1:V,y1:re,x2:F,y2:re}),S.push({x1:I,y1:R,x2:I,y2:re}),S.push({x1:V,y1:R,x2:F,y2:R})}return ae.createElement(cr,gb({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),S.map(function(Z){return ae.createElement("line",gb({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return ae.createElement(cr,{className:"recharts-errorBars"},g)}}])}(ae.Component);ZY(qx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZY(qx,"displayName","ErrorBar");function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function e$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(r),!0).forEach(function(n){SBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SBe(e,t,r){return t=jBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jBe(e){var t=kBe(e,"string");return kv(t)=="symbol"?t:t+""}function kBe(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tX=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=Ks(r,Nu);if(!i)return null;var l=Nu.defaultProps,c=l!==void 0?id(id({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:i.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?id(id({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:g,type:c.iconType||v||"square",color:p4(f),value:p||g,payload:m}}),id(id(id({},c),Nu.getWithHeight(i,a)),{},{payload:u,item:i})};function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function t$(e){return TBe(e)||CBe(e)||EBe(e)||NBe()}function NBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EBe(e,t){if(e){if(typeof e=="string")return gC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gC(e,t)}}function CBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TBe(e){if(Array.isArray(e))return gC(e)}function gC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(r),!0).forEach(function(n){sm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sm(e,t,r){return t=ABe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ABe(e){var t=OBe(e,"string");return Nv(t)=="symbol"?t:t+""}function OBe(e,t){if(Nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(e,t,r){return Lt(e)||Lt(t)?r:Vn(t)?ii(e,t,r):Ot(t)?t(e):r}function yg(e,t,r,n){var a=C6e(e,function(l){return $n(l,t)});if(r==="number"){var s=a.filter(function(l){return Xe(l)||parseFloat(l)});return s.length?[FS(s),MS(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Lt(l)}):a;return i.map(function(l){return Vn(l)||l instanceof Date?l:""})}var PBe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(rs(f-d)!==rs(h-f)){var g=[];if(rs(h-f)===rs(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){i=a[u].index;break}}else{var w=Math.min(d,h),b=Math.max(d,h);if(t>(w+f)/2&&t<=(b+f)/2){i=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},p4=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?cn(cn({},t.type.defaultProps),t.props):t.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},DBe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,y=p.filter(function(j){return ac(j.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,b=w!==void 0?cn(cn({},w),y[0].props):y[0].props,_=b.barSize,S=b[v];i[S]||(i[S]=[]);var k=Lt(_)?r:_;i[S].push({item:y[0],stackList:y.slice(1),barSize:Lt(k)?void 0:ns(k,n,0)})}}return i},RBe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=ns(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,m=a/c,g=i.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=i.reduce(function(_,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:h?m:S.barSize}},j=[].concat(t$(_),[k]);return v=j[j.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){j.push({item:E,position:v})}),j},f)}else{var y=ns(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var w=(a-2*y-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;d=i.reduce(function(_,S,k){var j=[].concat(t$(_),[{item:S.item,position:{offset:y+(w+u)*k+(w-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){j.push({item:E,position:j[j.length-1].position})}),j},f)}return d},IBe=function(t,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=tX({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&Xe(t[m]))return cn(cn({},t),{},sm({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&Xe(t[g]))return cn(cn({},t),{},sm({},g,t[g]+(h||0)))}return t},MBe=function(t,r,n){return Lt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},rX=function(t,r,n,a,s){var i=r.props.children,l=oi(i,qx).filter(function(u){return MBe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=$n(d,n);if(Lt(f))return u;var h=Array.isArray(f)?[FS(f),MS(f)]:[f,f],m=c.reduce(function(g,p){var v=$n(d,p,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},FBe=function(t,r,n,a,s){var i=r.map(function(l){return rX(t,l,n,s,a)}).filter(function(l){return!Lt(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},nX=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&rX(t,c,u,a)||yg(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},aX=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},sX=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||l.push(r),i||l.push(n),l},ec=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?rs(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!$x(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},s2=new WeakMap,t1=function(t,r){if(typeof r!="function")return t;s2.has(t)||s2.set(t,new WeakMap);var n=s2.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},iX=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:xv(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:db(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xg(),realScaleType:"point"}:s==="category"?{scale:xv(),realScaleType:"band"}:{scale:db(),realScaleType:"linear"};if(xf(a)){var c="scale".concat(_S(a));return{scale:(YL[c]||xg)(),realScaleType:YL[c]?c:"point"}}return Ot(a)?{scale:a}:{scale:xg(),realScaleType:"point"}},n$=1e-4,oX=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-n$,i=Math.max(a[0],a[1])+n$,l=t(r[0]),c=t(r[n-1]);(l<s||l>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},LBe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},$Be=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Xe(t[0])||t[0]<n)&&(s[0]=n),(!Xe(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},BBe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=$x(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},UBe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=$x(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=s,t[i][n][1]=s+l,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},VBe={sign:BBe,expand:oPe,none:Vm,silhouette:lPe,wiggle:cPe,positive:UBe},zBe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=VBe[n],i=iPe().keys(a).value(function(l,c){return+$n(l,c,0)}).order(UE).offset(s);return i(t)},WBe=function(t,r,n,a,s,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?cn(cn({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var y=g[n],w=f[y]||{hasStack:!1,stackGroups:{}};if(Vn(p)){var b=w.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[p]=b}else w.stackGroups[Hp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return cn(cn({},f),{},sm({},y,w))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var y=m.stackGroups[v];return cn(cn({},p),{},sm({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:zBe(t,y.items,s)}))},g)}return cn(cn({},f),{},sm({},h,m))},d)},lX=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=aBe(u,s,l);return t.domain([FS(d),MS(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=sBe(f,s,l);return{niceTicks:h}}return null};function a$(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lt(a[t.dataKey])){var l=Ww(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=$n(a,Lt(i)?t.dataKey:i);return Lt(c)?null:t.scale(c)}var s$=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=$n(i,r.dataKey,r.domain[l]);return Lt(c)?null:r.scale(c)-s/2+a},HBe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},qBe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?cn(cn({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Vn(s)){var i=r[s];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},KBe=function(t){return t.reduce(function(r,n){return[FS(n.concat([r[0]]).filter(Xe)),MS(n.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},cX=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],l=i.stackedData,c=l.reduce(function(u,d){var f=KBe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},i$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vC=function(t,r,n){if(Ot(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Xe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(i$.test(t[0])){var s=+i$.exec(t[0])[1];a[0]=r[0]-s}else Ot(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Xe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(o$.test(t[1])){var i=+o$.exec(t[1])[1];a[1]=r[1]+i}else Ot(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},xb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=VP(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},l$=function(t,r,n){return!t||!t.length||Hx(t,ii(n,"type.defaultProps.domain"))?r:t},uX=function(t,r){var n=t.type.defaultProps?cn(cn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return cn(cn({},kt(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:p4(t),value:$n(r,a),type:c,payload:r,chartType:u,hide:d})};function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}function c$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(r),!0).forEach(function(n){dX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t,r){return t=GBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GBe(e){var t=YBe(e,"string");return Ev(t)=="symbol"?t:t+""}function YBe(e,t){if(Ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XBe(e,t){return eUe(e)||ZBe(e,t)||QBe(e,t)||JBe()}function JBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QBe(e,t){if(e){if(typeof e=="string")return u$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u$(e,t)}}function u$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function eUe(e){if(Array.isArray(e))return e}var yb=Math.PI/180,tUe=function(t){return t*180/Math.PI},Rr=function(t,r,n,a){return{x:t+Math.cos(-yb*a)*n,y:r+Math.sin(-yb*a)*n}},fX=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},rUe=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=ns(t.cx,i,i/2),f=ns(t.cy,l,l/2),h=fX(i,l,n),m=ns(t.innerRadius,h,0),g=ns(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,y){var w=r[y],b=w.domain,_=w.reversed,S;if(Lt(w.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[m,g]),_&&(S=[S[1],S[0]]);else{S=w.range;var k=S,j=XBe(k,2);c=j[0],u=j[1]}var E=iX(w,s),N=E.realScaleType,A=E.scale;A.domain(b).range(S),oX(A);var D=lX(A,Bl(Bl({},w),{},{realScaleType:N})),T=Bl(Bl(Bl({},w),D),{},{range:S,radius:g,realScaleType:N,scale:A,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return Bl(Bl({},v),{},dX({},y,T))},{})},nUe=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},aUe=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,l=nUe({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:tUe(u),angleInRadian:u}},sUe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},iUe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return t+l*360},d$=function(t,r){var n=t.x,a=t.y,s=aUe({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=sUe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?Bl(Bl({},r),{},{radius:i,angle:iUe(m,r)}):null},hX=function(t){return!x.isValidElement(t)&&!Ot(t)&&typeof t!="boolean"?t.className:""};function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}var oUe=["offset"];function lUe(e){return fUe(e)||dUe(e)||uUe(e)||cUe()}function cUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uUe(e,t){if(e){if(typeof e=="string")return xC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xC(e,t)}}function dUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fUe(e){if(Array.isArray(e))return xC(e)}function xC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hUe(e,t){if(e==null)return{};var r=mUe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(n){pUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pUe(e,t,r){return t=gUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gUe(e){var t=vUe(e,"string");return Cv(t)=="symbol"?t:t+""}function vUe(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(this,arguments)}var xUe=function(t){var r=t.value,n=t.formatter,a=Lt(t.children)?r:t.children;return Ot(n)?n(a):a},yUe=function(t,r){var n=rs(r-t),a=Math.min(Math.abs(r-t),360);return n*a},wUe=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,y=yUe(m,g),w=y>=0?1:-1,b,_;a==="insideStart"?(b=m+w*i,_=p):a==="insideEnd"?(b=g-w*i,_=!p):a==="end"&&(b=g+w*i,_=p),_=y<=0?_:!_;var S=Rr(u,d,v,b),k=Rr(u,d,v,b+(_?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),E=Lt(t.id)?Hp("recharts-radial-line-"):t.id;return ae.createElement("text",Tv({},n,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",l)}),ae.createElement("defs",null,ae.createElement("path",{id:E,d:j})),ae.createElement("textPath",{xlinkHref:"#".concat(E)},r))},bUe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Rr(i,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Rr(i,l,v,h),w=y.x,b=y.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},_Ue=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,y=p>0?"end":"start",w=p>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Rn(Rn({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Rn(Rn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Rn(Rn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var k={x:l+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Rn(Rn({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return s==="insideLeft"?Rn({x:l+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},j):s==="insideRight"?Rn({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},j):s==="insideTop"?Rn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},j):s==="insideBottom"?Rn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},j):s==="insideTopLeft"?Rn({x:l+v,y:c+h,textAnchor:w,verticalAnchor:g},j):s==="insideTopRight"?Rn({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:g},j):s==="insideBottomLeft"?Rn({x:l+v,y:c+d-h,textAnchor:w,verticalAnchor:m},j):s==="insideBottomRight"?Rn({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:m},j):Up(s)&&(Xe(s.x)||Td(s.x))&&(Xe(s.y)||Td(s.y))?Rn({x:l+ns(s.x,u),y:c+ns(s.y,d),textAnchor:"end",verticalAnchor:"end"},j):Rn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},SUe=function(t){return"cx"in t&&Xe(t.cx)};function Gn(e){var t=e.offset,r=t===void 0?5:t,n=hUe(e,oUe),a=Rn({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Lt(l)&&Lt(c)&&!x.isValidElement(u)&&!Ot(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(Ot(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=xUe(a);var g=SUe(s),p=kt(a,!0);if(g&&(i==="insideStart"||i==="insideEnd"||i==="end"))return wUe(a,m,p);var v=g?bUe(a):_Ue(a);return ae.createElement(wf,Tv({className:Bt("recharts-label",f)},p,v,{breakAll:h}),m)}Gn.displayName="Label";var mX=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,y=t.clockWise,w=t.labelViewBox;if(w)return w;if(Xe(p)&&Xe(v)){if(Xe(f)&&Xe(h))return{x:f,y:h,width:p,height:v};if(Xe(m)&&Xe(g))return{x:m,y:g,width:p,height:v}}return Xe(f)&&Xe(h)?{x:f,y:h,width:0,height:0}:Xe(r)&&Xe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},jUe=function(t,r){return t?t===!0?ae.createElement(Gn,{key:"label-implicit",viewBox:r}):Vn(t)?ae.createElement(Gn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===Gn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):ae.createElement(Gn,{key:"label-implicit",content:t,viewBox:r}):Ot(t)?ae.createElement(Gn,{key:"label-implicit",content:t,viewBox:r}):Up(t)?ae.createElement(Gn,Tv({viewBox:r},t,{key:"label-implicit"})):null:null},kUe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=mX(t),i=oi(a,Gn).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=jUe(t.label,r||s);return[l].concat(lUe(i))};Gn.parseViewBox=mX;Gn.renderCallByParent=kUe;function NUe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var EUe=NUe;const CUe=gr(EUe);function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}var TUe=["valueAccessor"],AUe=["data","dataKey","clockWise","id","textBreakAll"];function OUe(e){return IUe(e)||RUe(e)||DUe(e)||PUe()}function PUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DUe(e,t){if(e){if(typeof e=="string")return yC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yC(e,t)}}function RUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IUe(e){if(Array.isArray(e))return yC(e)}function yC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(this,arguments)}function h$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(r),!0).forEach(function(n){MUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MUe(e,t,r){return t=FUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FUe(e){var t=LUe(e,"string");return Av(t)=="symbol"?t:t+""}function LUe(e,t){if(Av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p$(e,t){if(e==null)return{};var r=$Ue(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Ue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BUe=function(t){return Array.isArray(t.value)?CUe(t.value):t.value};function ic(e){var t=e.valueAccessor,r=t===void 0?BUe:t,n=p$(e,TUe),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=p$(n,AUe);return!a||!a.length?null:ae.createElement(cr,{className:"recharts-label-list"},a.map(function(d,f){var h=Lt(s)?r(d,f):$n(d&&d.payload,s),m=Lt(l)?{}:{id:"".concat(l,"-").concat(f)};return ae.createElement(Gn,wb({},kt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Gn.parseViewBox(Lt(i)?d:m$(m$({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}ic.displayName="LabelList";function UUe(e,t){return e?e===!0?ae.createElement(ic,{key:"labelList-implicit",data:t}):ae.isValidElement(e)||Ot(e)?ae.createElement(ic,{key:"labelList-implicit",data:t,content:e}):Up(e)?ae.createElement(ic,wb({data:t},e,{key:"labelList-implicit"})):null:null}function VUe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=oi(n,ic).map(function(i,l){return x.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=UUe(e.label,t);return[s].concat(OUe(a))}ic.renderCallByParent=VUe;function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wC.apply(this,arguments)}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(n){zUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zUe(e,t,r){return t=WUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WUe(e){var t=HUe(e,"string");return Ov(t)=="symbol"?t:t+""}function HUe(e,t){if(Ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qUe=function(t,r){var n=rs(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},r1=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/yb,h=u?s:s+i*f,m=Rr(r,n,d,h),g=Rr(r,n,a,h),p=u?s-i*f:s,v=Rr(r,n,d*Math.cos(f*yb),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},pX=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,l=t.endAngle,c=qUe(i,l),u=i+c,d=Rr(r,n,s,i),f=Rr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Rr(r,n,a,i),g=Rr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},KUe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=rs(d-u),h=r1({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=r1({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),y=v.circleTangency,w=v.lineTangency,b=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-b;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):pX({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var k=r1({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),j=k.circleTangency,E=k.lineTangency,N=k.theta,A=r1({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),D=A.circleTangency,T=A.lineTangency,U=A.theta,q=c?Math.abs(u-d):Math.abs(u-d)-N-U;if(q<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},GUe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gX=function(t){var r=v$(v$({},GUe),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<s||d===f)return null;var m=Bt("recharts-sector",h),g=i-s,p=ns(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=KUe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=pX({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),ae.createElement("path",wC({},kt(r,!0),{className:m,d:v,role:"img"}))};function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(this,arguments)}function x$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(r),!0).forEach(function(n){YUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YUe(e,t,r){return t=XUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XUe(e){var t=JUe(e,"string");return Pv(t)=="symbol"?t:t+""}function JUe(e,t){if(Pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w$={curveBasisClosed:YOe,curveBasisOpen:XOe,curveBasis:GOe,curveBumpX:ROe,curveBumpY:IOe,curveLinearClosed:JOe,curveLinear:jS,curveMonotoneX:QOe,curveMonotoneY:ZOe,curveNatural:ePe,curveStep:tPe,curveStepAfter:nPe,curveStepBefore:rPe},n1=function(t){return t.x===+t.x&&t.y===+t.y},S0=function(t){return t.x},j0=function(t){return t.y},QUe=function(t,r){if(Ot(t))return t;var n="curve".concat(_S(t));return(n==="curveMonotone"||n==="curveBump")&&r?w$["".concat(n).concat(r==="vertical"?"Y":"X")]:w$[n]||jS},ZUe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=QUe(n,l),f=u?s.filter(function(p){return n1(p)}):s,h;if(Array.isArray(i)){var m=u?i.filter(function(p){return n1(p)}):i,g=f.map(function(p,v){return y$(y$({},p),{},{base:m[v]})});return l==="vertical"?h=Ky().y(j0).x1(S0).x0(function(p){return p.base.x}):h=Ky().x(S0).y1(j0).y0(function(p){return p.base.y}),h.defined(n1).curve(d),h(g)}return l==="vertical"&&Xe(i)?h=Ky().y(j0).x1(S0).x0(i):Xe(i)?h=Ky().x(S0).y1(j0).y0(i):h=uG().x(S0).y(j0),h.defined(n1).curve(d),h(f)},bb=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?ZUe(t):a;return x.createElement("path",bC({},kt(t,!1),Hw(t),{className:Bt("recharts-curve",r),d:i,ref:s}))},vX={exports:{}},e9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",t9e=e9e,r9e=t9e;function xX(){}function yX(){}yX.resetWarningCache=xX;var n9e=function(){function e(n,a,s,i,l,c){if(c!==r9e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:yX,resetWarningCache:xX};return r.PropTypes=r,r};vX.exports=n9e();var a9e=vX.exports;const mr=gr(a9e);var s9e=Object.getOwnPropertyNames,i9e=Object.getOwnPropertySymbols,o9e=Object.prototype.hasOwnProperty;function b$(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function a1(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function _$(e){return s9e(e).concat(i9e(e))}var l9e=Object.hasOwn||function(e,t){return o9e.call(e,t)};function Uf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var c9e="__v",u9e="__o",d9e="_owner",S$=Object.getOwnPropertyDescriptor,j$=Object.keys;function f9e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function h9e(e,t){return Uf(e.getTime(),t.getTime())}function m9e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function p9e(e,t){return e===t}function k$(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=i.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var g9e=Uf;function v9e(e,t,r){var n=j$(e),a=n.length;if(j$(t).length!==a)return!1;for(;a-- >0;)if(!wX(e,t,r,n[a]))return!1;return!0}function k0(e,t,r){var n=_$(e),a=n.length;if(_$(t).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!wX(e,t,r,s)||(i=S$(e,s),l=S$(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function x9e(e,t){return Uf(e.valueOf(),t.valueOf())}function y9e(e,t){return e.source===t.source&&e.flags===t.flags}function N$(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,l;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function w9e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function b9e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function wX(e,t,r,n){return(n===d9e||n===u9e||n===c9e)&&(e.$$typeof||t.$$typeof)?!0:l9e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var _9e="[object Arguments]",S9e="[object Boolean]",j9e="[object Date]",k9e="[object Error]",N9e="[object Map]",E9e="[object Number]",C9e="[object Object]",T9e="[object RegExp]",A9e="[object Set]",O9e="[object String]",P9e="[object URL]",D9e=Array.isArray,E$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,C$=Object.assign,R9e=Object.prototype.toString.call.bind(Object.prototype.toString);function I9e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var y=typeof g;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?i(g,p,v):y==="function"?a(g,p,v):!1;var w=g.constructor;if(w!==p.constructor)return!1;if(w===Object)return l(g,p,v);if(D9e(g))return t(g,p,v);if(E$!=null&&E$(g))return f(g,p,v);if(w===Date)return r(g,p,v);if(w===RegExp)return u(g,p,v);if(w===Map)return s(g,p,v);if(w===Set)return d(g,p,v);var b=R9e(g);return b===j9e?r(g,p,v):b===T9e?u(g,p,v):b===N9e?s(g,p,v):b===A9e?d(g,p,v):b===C9e?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):b===P9e?h(g,p,v):b===k9e?n(g,p,v):b===_9e?l(g,p,v):b===S9e||b===E9e||b===O9e?c(g,p,v):!1}}function M9e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?k0:f9e,areDatesEqual:h9e,areErrorsEqual:m9e,areFunctionsEqual:p9e,areMapsEqual:n?b$(k$,k0):k$,areNumbersEqual:g9e,areObjectsEqual:n?k0:v9e,arePrimitiveWrappersEqual:x9e,areRegExpsEqual:y9e,areSetsEqual:n?b$(N$,k0):N$,areTypedArraysEqual:n?k0:w9e,areUrlsEqual:b9e};if(r&&(a=C$({},a,r(a))),t){var s=a1(a.areArraysEqual),i=a1(a.areMapsEqual),l=a1(a.areObjectsEqual),c=a1(a.areSetsEqual);a=C$({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function F9e(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function L9e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var $9e=ed();ed({strict:!0});ed({circular:!0});ed({circular:!0,strict:!0});ed({createInternalComparator:function(){return Uf}});ed({strict:!0,createInternalComparator:function(){return Uf}});ed({circular:!0,createInternalComparator:function(){return Uf}});ed({circular:!0,createInternalComparator:function(){return Uf},strict:!0});function ed(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,l=M9e(e),c=I9e(l),u=n?n(c):F9e(c);return L9e({circular:r,comparator:c,createState:a,equals:u,strict:i})}function B9e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function T$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):B9e(a)};requestAnimationFrame(n)}function _C(e){"@babel/helpers - typeof";return _C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_C(e)}function U9e(e){return H9e(e)||W9e(e)||z9e(e)||V9e()}function V9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9e(e,t){if(e){if(typeof e=="string")return A$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A$(e,t)}}function A$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H9e(e){if(Array.isArray(e))return e}function q9e(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=U9e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){T$(a.bind(null,u),c);return}a(c),T$(a.bind(null,u));return}_C(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function O$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(r),!0).forEach(function(n){bX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bX(e,t,r){return t=K9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9e(e){var t=G9e(e,"string");return Dv(t)==="symbol"?t:String(t)}function G9e(e,t){if(Dv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y9e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},X9e=function(t){return t},J9e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},wg=function(t,r){return Object.keys(r).reduce(function(n,a){return P$(P$({},n),{},bX({},a,t(a,r[a])))},{})},D$=function(t,r,n){return t.map(function(a){return"".concat(J9e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Q9e(e,t){return t7e(e)||e7e(e,t)||_X(e,t)||Z9e()}function Z9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function t7e(e){if(Array.isArray(e))return e}function r7e(e){return s7e(e)||a7e(e)||_X(e)||n7e()}function n7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _X(e,t){if(e){if(typeof e=="string")return SC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SC(e,t)}}function a7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s7e(e){if(Array.isArray(e))return SC(e)}function SC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _b=1e-4,SX=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},jX=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},R$=function(t,r){return function(n){var a=SX(t,r);return jX(a,n)}},i7e=function(t,r){return function(n){var a=SX(t,r),s=[].concat(r7e(a.map(function(i,l){return i*l}).slice(1)),[0]);return jX(s,n)}},I$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Q9e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=R$(a,i),h=R$(s,l),m=i7e(a,i),g=function(y){return y>1?1:y<0?0:y},p=function(y){for(var w=y>1?1:y,b=w,_=0;_<8;++_){var S=f(b)-w,k=m(b);if(Math.abs(S-w)<_b||k<_b)return h(b);b=g(b-S/k)}return h(b)};return p.isStepper=!1,p},o7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var m=-(d-f)*n,g=h*s,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<_b&&Math.abs(p)<_b?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},l7e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return I$(a);case"spring":return o7e();default:if(a.split("(")[0]==="cubic-bezier")return I$(a)}return typeof a=="function"?a:null};function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}function M$(e){return d7e(e)||u7e(e)||kX(e)||c7e()}function c7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d7e(e){if(Array.isArray(e))return kC(e)}function F$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F$(Object(r),!0).forEach(function(n){jC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jC(e,t,r){return t=f7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7e(e){var t=h7e(e,"string");return Rv(t)==="symbol"?t:String(t)}function h7e(e,t){if(Rv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m7e(e,t){return v7e(e)||g7e(e,t)||kX(e,t)||p7e()}function p7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kX(e,t){if(e){if(typeof e=="string")return kC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kC(e,t)}}function kC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function v7e(e){if(Array.isArray(e))return e}var Sb=function(t,r,n){return t+(r-t)*n},NC=function(t){var r=t.from,n=t.to;return r!==n},x7e=function e(t,r,n){var a=wg(function(s,i){if(NC(i)){var l=t(i.from,i.to,i.velocity),c=m7e(l,2),u=c[0],d=c[1];return ea(ea({},i),{},{from:u,velocity:d})}return i},r);return n<1?wg(function(s,i){return NC(i)?ea(ea({},i),{},{velocity:Sb(i.velocity,a[s].velocity,n),from:Sb(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const y7e=function(e,t,r,n,a){var s=Y9e(e,t),i=s.reduce(function(v,y){return ea(ea({},v),{},jC({},y,[e[y],t[y]]))},{}),l=s.reduce(function(v,y){return ea(ea({},v),{},jC({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return wg(function(y,w){return w.from},l)},m=function(){return!Object.values(l).filter(NC).length},g=function(y){u||(u=y);var w=y-u,b=w/r.dt;l=x7e(r,l,b),a(ea(ea(ea({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},p=function(y){d||(d=y);var w=(y-d)/n,b=wg(function(S,k){return Sb.apply(void 0,M$(k).concat([r(w)]))},i);if(a(ea(ea(ea({},e),t),b)),w<1)c=requestAnimationFrame(f);else{var _=wg(function(S,k){return Sb.apply(void 0,M$(k).concat([r(1)]))},i);a(ea(ea(ea({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}var w7e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function b7e(e,t){if(e==null)return{};var r=_7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _7e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function i2(e){return N7e(e)||k7e(e)||j7e(e)||S7e()}function S7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j7e(e,t){if(e){if(typeof e=="string")return EC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(e,t)}}function k7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N7e(e){if(Array.isArray(e))return EC(e)}function EC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L$(Object(r),!0).forEach(function(n){V0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0(e,t,r){return t=NX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NX(n.key),n)}}function T7e(e,t,r){return t&&C7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NX(e){var t=A7e(e,"string");return Jm(t)==="symbol"?t:String(t)}function A7e(e,t){if(Jm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CC(e,t)}function CC(e,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CC(e,t)}function P7e(e){var t=D7e();return function(){var n=jb(e),a;if(t){var s=jb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return TC(this,a)}}function TC(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AC(e)}function AC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(e)}var bl=function(e){O7e(r,e);var t=P7e(r);function r(n,a){var s;E7e(this,r),s=t.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,m=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(AC(s)),s.changeStyle=s.changeStyle.bind(AC(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),TC(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},TC(s);s.state={style:c?V0({},c,u):u}}else s.state={style:{}};return s}return T7e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!i){var m={style:c?V0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!($9e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?V0({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Qi(Qi({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=y7e(i,l,l7e(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,y){if(y===0)return p;var w=v.duration,b=v.easing,_=b===void 0?"ease":b,S=v.style,k=v.properties,j=v.onAnimationEnd,E=y>0?i[y-1]:v,N=k||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(i2(p),[s.runJSAnimation.bind(s,{from:E.style,to:S,duration:w,easing:_}),w]);var A=D$(N,w,_),D=Qi(Qi(Qi({},E.style),S),{},{transition:A});return[].concat(i2(p),[D,w,j]).filter(X9e)};return this.manager.start([c].concat(i2(i.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=q9e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?V0({},l,c):c,v=D$(Object.keys(p),i,u);g.start([d,s,Qi(Qi({},p),{},{transition:v}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=b7e(a,w7e),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,y=g.className,w=x.cloneElement(m,Qi(Qi({},c),{},{style:Qi(Qi({},v),d),className:y}));return w};return u===1?f(x.Children.only(s)):ae.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);bl.displayName="Animate";bl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bl.propTypes={from:mr.oneOfType([mr.object,mr.string]),to:mr.oneOfType([mr.object,mr.string]),attributeName:mr.string,duration:mr.number,begin:mr.number,easing:mr.oneOfType([mr.string,mr.func]),steps:mr.arrayOf(mr.shape({duration:mr.number.isRequired,style:mr.object.isRequired,easing:mr.oneOfType([mr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mr.func]),properties:mr.arrayOf("string"),onAnimationEnd:mr.func})),children:mr.oneOfType([mr.node,mr.func]),isActive:mr.bool,canBegin:mr.bool,onAnimationEnd:mr.func,shouldReAnimate:mr.bool,onAnimationStart:mr.func,onAnimationReStart:mr.func};function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(this,arguments)}function R7e(e,t){return L7e(e)||F7e(e,t)||M7e(e,t)||I7e()}function I7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M7e(e,t){if(e){if(typeof e=="string")return $$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $$(e,t)}}function $$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function L7e(e){if(Array.isArray(e))return e}function B$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B$(Object(r),!0).forEach(function(n){$7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $7e(e,t,r){return t=B7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7e(e){var t=U7e(e,"string");return Iv(t)=="symbol"?t:t+""}function U7e(e,t){if(Iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V$=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>i?i:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var g=Math.min(i,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},V7e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},z7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},g4=function(t){var r=U$(U$({},z7e),t),n=x.useRef(),a=x.useState(-1),s=R7e(a,2),i=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Bt("recharts-rectangle",m);return w?ae.createElement(bl,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:w},function(_){var S=_.width,k=_.height,j=_.x,E=_.y;return ae.createElement(bl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:g},ae.createElement("path",kb({},kt(r,!0),{className:b,d:V$(j,E,S,k,h),ref:n})))}):ae.createElement("path",kb({},kt(r,!0),{className:b,d:V$(c,u,d,f,h)}))},W7e=["points","className","baseLinePoints","connectNulls"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}function H7e(e,t){if(e==null)return{};var r=q7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z$(e){return X7e(e)||Y7e(e)||G7e(e)||K7e()}function K7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G7e(e,t){if(e){if(typeof e=="string")return OC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OC(e,t)}}function Y7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X7e(e){if(Array.isArray(e))return OC(e)}function OC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var W$=function(t){return t&&t.x===+t.x&&t.y===+t.y},J7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){W$(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),W$(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},bg=function(t,r){var n=J7e(t);r&&(n=[n.reduce(function(s,i){return[].concat(z$(s),z$(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Q7e=function(t,r,n){var a=bg(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(bg(r.reverse(),n).slice(1))},Z7e=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,i=H7e(t,W7e);if(!r||!r.length)return null;var l=Bt("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=Q7e(r,a,s);return ae.createElement("g",{className:l},ae.createElement("path",Mh({},kt(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?ae.createElement("path",Mh({},kt(i,!0),{fill:"none",d:bg(r,s)})):null,c?ae.createElement("path",Mh({},kt(i,!0),{fill:"none",d:bg(a,s)})):null)}var d=bg(r,s);return ae.createElement("path",Mh({},kt(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function PC(){return PC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PC.apply(this,arguments)}var BS=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=Bt("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",PC({},kt(t,!1),Hw(t),{className:i,cx:r,cy:n,r:a})):null};function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(e)}var eVe=["x","y","top","left","width","height","className"];function DC(){return DC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DC.apply(this,arguments)}function H$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tVe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H$(Object(r),!0).forEach(function(n){rVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rVe(e,t,r){return t=nVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nVe(e){var t=aVe(e,"string");return Mv(t)=="symbol"?t:t+""}function aVe(e,t){if(Mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sVe(e,t){if(e==null)return{};var r=iVe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oVe=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},lVe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=sVe(t,eVe),v=tVe({x:n,y:s,top:l,left:u,width:f,height:m},p);return!Xe(n)||!Xe(s)||!Xe(f)||!Xe(m)||!Xe(l)||!Xe(u)?null:ae.createElement("path",DC({},kt(v,!0),{className:Bt("recharts-cross",g),d:oVe(n,s,f,m,l,u)}))},cVe=IS,uVe=LY,dVe=Al;function fVe(e,t){return e&&e.length?cVe(e,dVe(t),uVe):void 0}var hVe=fVe;const mVe=gr(hVe);var pVe=IS,gVe=Al,vVe=$Y;function xVe(e,t){return e&&e.length?pVe(e,gVe(t),vVe):void 0}var yVe=xVe;const wVe=gr(yVe);var bVe=["cx","cy","angle","ticks","axisLine"],_Ve=["ticks","tick","angle","tickFormatter","stroke"];function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(this,arguments)}function q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(r),!0).forEach(function(n){US(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K$(e,t){if(e==null)return{};var r=SVe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CX(n.key),n)}}function kVe(e,t,r){return t&&G$(e.prototype,t),r&&G$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NVe(e,t,r){return t=Nb(t),EVe(e,EX()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function EVe(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CVe(e)}function CVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EX=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function TVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RC(e,t)}function RC(e,t){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RC(e,t)}function US(e,t,r){return t=CX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=AVe(e,"string");return Qm(t)=="symbol"?t:t+""}function AVe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VS=function(e){function t(){return jVe(this,t),NVe(this,t,arguments)}return TVe(t,e),kVe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return Rr(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=mVe(l,function(d){return d.coordinate||0}),u=wVe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=K$(n,bVe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Rr(a,s,d[0],i),h=Rr(a,s,d[1],i),m=od(od(od({},kt(u,!1)),{},{fill:"none"},kt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ae.createElement("line",_g({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=K$(a,_Ve),f=this.getTickTextAnchor(),h=kt(d,!1),m=kt(i,!1),g=s.map(function(p,v){var y=n.getTickValueCoord(p),w=od(od(od(od({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},y),{},{payload:p});return ae.createElement(cr,_g({className:Bt("recharts-polar-radius-axis-tick",hX(i)),key:"tick-".concat(p.coordinate)},yf(n.props,p,v)),t.renderTickItem(i,w,c?c(p.value,v):p.value))});return ae.createElement(cr,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:ae.createElement(cr,{className:Bt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Gn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return ae.isValidElement(n)?i=ae.cloneElement(n,a):Ot(n)?i=n(a):i=ae.createElement(wf,_g({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(x.PureComponent);US(VS,"displayName","PolarRadiusAxis");US(VS,"axisType","radiusAxis");US(VS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function Y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y$(Object(r),!0).forEach(function(n){zS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AX(n.key),n)}}function PVe(e,t,r){return t&&X$(e.prototype,t),r&&X$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DVe(e,t,r){return t=Eb(t),RVe(e,TX()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function RVe(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IVe(e)}function IVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TX=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function MVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IC(e,t)}function IC(e,t){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IC(e,t)}function zS(e,t,r){return t=AX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AX(e){var t=FVe(e,"string");return Zm(t)=="symbol"?t:t+""}function FVe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LVe=Math.PI/180,J$=1e-5,WS=function(e){function t(){return OVe(this,t),DVe(this,t,arguments)}return MVe(t,e),PVe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Rr(s,i,l,n.coordinate),h=Rr(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*LVe),i;return s>J$?i=a==="outer"?"start":"end":s<-J$?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=ld(ld({},kt(this.props,!1)),{},{fill:"none"},kt(l,!1));if(c==="circle")return ae.createElement(BS,wd({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(h){return Rr(a,s,i,h.coordinate)});return ae.createElement(Z7e,wd({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=kt(this.props,!1),f=kt(i,!1),h=ld(ld({},d),{},{fill:"none"},kt(l,!1)),m=s.map(function(g,p){var v=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),w=ld(ld(ld({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return ae.createElement(cr,wd({className:Bt("recharts-polar-angle-axis-tick",hX(i)),key:"tick-".concat(g.coordinate)},yf(n.props,g,p)),l&&ae.createElement("line",wd({className:"recharts-polar-angle-axis-tick-line"},h,v)),i&&t.renderTickItem(i,w,c?c(g.value,p):g.value))});return ae.createElement(cr,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:ae.createElement(cr,{className:Bt("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return ae.isValidElement(n)?i=ae.cloneElement(n,a):Ot(n)?i=n(a):i=ae.createElement(wf,wd({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(x.PureComponent);zS(WS,"displayName","PolarAngleAxis");zS(WS,"axisType","angleAxis");zS(WS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var $Ve=RG,BVe=$Ve(Object.getPrototypeOf,Object),UVe=BVe,VVe=Nc,zVe=UVe,WVe=Ec,HVe="[object Object]",qVe=Function.prototype,KVe=Object.prototype,OX=qVe.toString,GVe=KVe.hasOwnProperty,YVe=OX.call(Object);function XVe(e){if(!WVe(e)||VVe(e)!=HVe)return!1;var t=zVe(e);if(t===null)return!0;var r=GVe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&OX.call(r)==YVe}var JVe=XVe;const QVe=gr(JVe);var ZVe=Nc,eze=Ec,tze="[object Boolean]";function rze(e){return e===!0||e===!1||eze(e)&&ZVe(e)==tze}var nze=rze;const aze=gr(nze);function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(this,arguments)}function sze(e,t){return cze(e)||lze(e,t)||oze(e,t)||ize()}function ize(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oze(e,t){if(e){if(typeof e=="string")return Q$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q$(e,t)}}function Q$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function cze(e){if(Array.isArray(e))return e}function Z$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z$(Object(r),!0).forEach(function(n){uze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uze(e,t,r){return t=dze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dze(e){var t=fze(e,"string");return Fv(t)=="symbol"?t:t+""}function fze(e,t){if(Fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t5=function(t,r,n,a,s){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+s),l+="L ".concat(t+n-i/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},hze={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mze=function(t){var r=e5(e5({},hze),t),n=x.useRef(),a=x.useState(-1),s=sze(a,2),i=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Bt("recharts-trapezoid",m);return y?ae.createElement(bl,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(b){var _=b.upperWidth,S=b.lowerWidth,k=b.height,j=b.x,E=b.y;return ae.createElement(bl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},ae.createElement("path",Cb({},kt(r,!0),{className:w,d:t5(j,E,_,S,k),ref:n})))}):ae.createElement("g",null,ae.createElement("path",Cb({},kt(r,!0),{className:w,d:t5(c,u,d,f,h)})))},pze=["option","shapeType","propTransformer","activeClassName","isActive"];function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function gze(e,t){if(e==null)return{};var r=vze(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(r),!0).forEach(function(n){xze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xze(e,t,r){return t=yze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yze(e){var t=wze(e,"string");return Lv(t)=="symbol"?t:t+""}function wze(e,t){if(Lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bze(e,t){return Tb(Tb({},t),e)}function _ze(e,t){return e==="symbols"}function n5(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ae.createElement(g4,r);case"trapezoid":return ae.createElement(mze,r);case"sector":return ae.createElement(gX,r);case"symbols":if(_ze(t))return ae.createElement(RP,r);break;default:return null}}function Sze(e){return x.isValidElement(e)?e.props:e}function PX(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?bze:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,l=e.isActive,c=gze(e,pze),u;if(x.isValidElement(t))u=x.cloneElement(t,Tb(Tb({},c),Sze(t)));else if(Ot(t))u=t(c);else if(QVe(t)&&!aze(t)){var d=a(t,c);u=ae.createElement(n5,{shapeType:r,elementProps:d})}else{var f=c;u=ae.createElement(n5,{shapeType:r,elementProps:f})}return l?ae.createElement(cr,{className:i},u):u}function HS(e,t){return t!=null&&"trapezoids"in e.props}function qS(e,t){return t!=null&&"sectors"in e.props}function $v(e,t){return t!=null&&"points"in e.props}function jze(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function kze(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Nze(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Eze(e,t){var r;return HS(e,t)?r=jze:qS(e,t)?r=kze:$v(e,t)&&(r=Nze),r}function Cze(e,t){var r;return HS(e,t)?r="trapezoids":qS(e,t)?r="sectors":$v(e,t)&&(r="points"),r}function Tze(e,t){if(HS(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qS(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return $v(e,t)?t.payload:{}}function Aze(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Cze(r,t),s=Tze(r,t),i=n.filter(function(c,u){var d=Hx(s,c),f=r.props[a].filter(function(g){var p=Eze(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(i[i.length-1]);return l}var P1;function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(this,arguments)}function a5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(r),!0).forEach(function(n){Oi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RX(n.key),n)}}function Pze(e,t,r){return t&&s5(e.prototype,t),r&&s5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dze(e,t,r){return t=Ab(t),Rze(e,DX()?Reflect.construct(t,r||[],Ab(e).constructor):t.apply(e,r))}function Rze(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ize(e)}function Ize(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DX=function(){return!!e})()}function Ab(e){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(e)}function Mze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MC(e,t)}function MC(e,t){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MC(e,t)}function Oi(e,t,r){return t=RX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=Fze(e,"string");return ep(t)=="symbol"?t:t+""}function Fze(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Na=function(e){function t(r){var n;return Oze(this,t),n=Dze(this,t,[r]),Oi(n,"pieRef",null),Oi(n,"sectorRefs",[]),Oi(n,"id",Hp("recharts-pie-")),Oi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ot(a)&&a()}),Oi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ot(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Mze(t,e),Pze(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=kt(this.props,!1),f=kt(i,!1),h=kt(l,!1),m=i&&i.offsetRadius||20,g=n.map(function(p,v){var y=(p.startAngle+p.endAngle)/2,w=Rr(p.cx,p.cy,p.outerRadius+m,y),b=Ar(Ar(Ar(Ar({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(w.x,p.cx)},w),_=Ar(Ar(Ar(Ar({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Rr(p.cx,p.cy,p.outerRadius,y),w]}),S=c;return Lt(c)&&Lt(u)?S="value":Lt(c)&&(S=u),ae.createElement(cr,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(i,b,$n(p,S)))});return ae.createElement(cr,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?i:h,g=Ar(Ar({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ae.createElement(cr,Fh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},yf(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ae.createElement(PX,Fh({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return ae.createElement(bl,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],y=s&&s[0],w=y.startAngle;return s.forEach(function(b,_){var S=h&&h[_],k=_>0?ii(b,"paddingAngle",0):0;if(S){var j=Qs(S.endAngle-S.startAngle,b.endAngle-b.startAngle),E=Ar(Ar({},b),{},{startAngle:w+k,endAngle:w+j(p)+k});v.push(E),w=E.endAngle}else{var N=b.endAngle,A=b.startAngle,D=Qs(0,N-A),T=D(p),U=Ar(Ar({},b),{},{startAngle:w+k,endAngle:w+T+k});v.push(U),w=U.endAngle}}),ae.createElement(cr,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!Hx(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!i||!i.length||!Xe(u)||!Xe(d)||!Xe(f)||!Xe(h))return null;var p=Bt("recharts-pie",l);return ae.createElement(cr,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(i),Gn.renderCallByParent(this.props,null,!1),(!m||g)&&ic.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(ae.isValidElement(n))return ae.cloneElement(n,a);if(Ot(n))return n(a);var i=Bt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ae.createElement(bb,Fh({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(ae.isValidElement(n))return ae.cloneElement(n,a);var i=s;if(Ot(n)&&(i=n(a),ae.isValidElement(i)))return i;var l=Bt("recharts-pie-label-text",typeof n!="boolean"&&!Ot(n)?n.className:"");return ae.createElement(wf,Fh({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(x.PureComponent);P1=Na;Oi(Na,"displayName","Pie");Oi(Na,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Oi(Na,"parseDeltaAngle",function(e,t){var r=rs(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Oi(Na,"getRealPieData",function(e){var t=e.data,r=e.children,n=kt(e,!1),a=oi(r,mo);return t&&t.length?t.map(function(s,i){return Ar(Ar(Ar({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return Ar(Ar({},n),s.props)}):[]});Oi(Na,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,i=fX(a,s),l=n+ns(e.cx,a,a/2),c=r+ns(e.cy,s,s/2),u=ns(e.innerRadius,i,0),d=ns(e.outerRadius,i,i*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Oi(Na,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ar(Ar({},t.type.defaultProps),t.props):t.props,a=P1.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=P1.parseCoordinateOfPie(n,r),p=P1.parseDeltaAngle(i,l),v=Math.abs(p),y=u;Lt(u)&&Lt(f)?(jo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Lt(u)&&(jo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var w=a.filter(function(E){return $n(E,y,0)!==0}).length,b=(v>=360?w:w-1)*c,_=v-w*m-b,S=a.reduce(function(E,N){var A=$n(N,y,0);return E+(Xe(A)?A:0)},0),k;if(S>0){var j;k=a.map(function(E,N){var A=$n(E,y,0),D=$n(E,d,N),T=(Xe(A)?A:0)/S,U;N?U=j.endAngle+rs(p)*c*(A!==0?1:0):U=i;var q=U+rs(p)*((A!==0?m:0)+T*_),M=(U+q)/2,I=(g.innerRadius+g.outerRadius)/2,V=[{name:D,value:A,payload:E,dataKey:y,type:h}],F=Rr(g.cx,g.cy,I,M);return j=Ar(Ar(Ar({percent:T,cornerRadius:s,name:D,tooltipPayload:V,midAngle:M,middleRadius:I,tooltipPosition:F},E),g),{},{value:$n(E,y),startAngle:U,endAngle:q,payload:E,paddingAngle:rs(p)*c}),j})}return Ar(Ar({},g),{},{sectors:k,data:a})});var Lze=Math.ceil,$ze=Math.max;function Bze(e,t,r,n){for(var a=-1,s=$ze(Lze((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var Uze=Bze,Vze=ZG,i5=1/0,zze=17976931348623157e292;function Wze(e){if(!e)return e===0?e:0;if(e=Vze(e),e===i5||e===-i5){var t=e<0?-1:1;return t*zze}return e===e?e:0}var IX=Wze,Hze=Uze,qze=CS,o2=IX;function Kze(e){return function(t,r,n){return n&&typeof n!="number"&&qze(t,r,n)&&(r=n=void 0),t=o2(t),r===void 0?(r=t,t=0):r=o2(r),n=n===void 0?t<r?1:-1:o2(n),Hze(t,r,n,e)}}var Gze=Kze,Yze=Gze,Xze=Yze(),Jze=Xze;const Ob=gr(Jze);function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function o5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(r),!0).forEach(function(n){MX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MX(e,t,r){return t=Qze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qze(e){var t=Zze(e,"string");return Bv(t)=="symbol"?t:t+""}function Zze(e,t){if(Bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eWe=["Webkit","Moz","O","ms"],tWe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=eWe.reduce(function(s,i){return l5(l5({},s),{},MX({},i+n,r))},{});return a[t]=r,a};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(this,arguments)}function c5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c5(Object(r),!0).forEach(function(n){Hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LX(n.key),n)}}function nWe(e,t,r){return t&&u5(e.prototype,t),r&&u5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aWe(e,t,r){return t=Db(t),sWe(e,FX()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function sWe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iWe(e)}function iWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FX=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function oWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FC(e,t)}function FC(e,t){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FC(e,t)}function Hs(e,t,r){return t=LX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LX(e){var t=lWe(e,"string");return tp(t)=="symbol"?t:t+""}function lWe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cWe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=xg().domain(Ob(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},d5=function(t){return t.changedTouches&&!!t.changedTouches.length},rp=function(e){function t(r){var n;return rWe(this,t),n=aWe(this,t,[r]),Hs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Hs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Hs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Hs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Hs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Hs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Hs(n,"handleSlideDragStart",function(a){var s=d5(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return oWe(t,e),nWe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(i,f),g=t.getIndexInRange(i,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=$n(s[n],l,n);return Ot(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-i):p<0&&(p=Math.max(p,u-i,u-l));var v=this.getIndex({startX:i+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:i+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=d5(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-s;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),y[i]=u+w;var b=this.getIndex(y),_=b.startIndex,S=b.endIndex,k=function(){var E=v.length-1;return i==="startX"&&(l>c?_%p===0:S%p===0)||l<c&&S===E||i==="endX"&&(l>c?S%p===0:_%p===0)||l>c&&S===E};this.setState(Hs(Hs({},i,u+w),"brushMoveStartX",n.pageX),function(){g&&k()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Hs({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return ae.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?ae.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),w=l2(l2({},kt(this.props,!1)),{},{x:y,y:u,width:d,height:f}),b=m||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=g[v])===null||i===void 0?void 0:i.name);return ae.createElement(cr,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return ae.createElement(cr,{className:"recharts-brush-texts"},ae.createElement(wf,Pb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:i+l/2},g),this.getTextOfTick(a)),ae.createElement(wf,Pb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:i+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!Xe(l)||!Xe(c)||!Xe(u)||!Xe(d)||u<=0||d<=0)return null;var b=Bt("recharts-brush",s),_=ae.Children.count(i)===1,S=tWe("userSelect","none");return ae.createElement(cr,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),ae.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return ae.isValidElement(n)?s=ae.cloneElement(n,a):Ot(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return l2({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?cWe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(x.PureComponent);Hs(rp,"displayName","Brush");Hs(rp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uWe=UP;function dWe(e,t){var r;return uWe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var fWe=dWe,hWe=NG,mWe=Al,pWe=fWe,gWe=zs,vWe=CS;function xWe(e,t,r){var n=gWe(e)?hWe:pWe;return r&&vWe(e,t,r)&&(t=void 0),n(e,mWe(t))}var yWe=xWe;const wWe=gr(yWe);var dl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},f5=GG;function bWe(e,t,r){t=="__proto__"&&f5?f5(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _We=bWe,SWe=_We,jWe=qG,kWe=Al;function NWe(e,t){var r={};return t=kWe(t),jWe(e,function(n,a,s){SWe(r,a,t(n,a,s))}),r}var EWe=NWe;const CWe=gr(EWe);function TWe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var AWe=TWe,OWe=UP;function PWe(e,t){var r=!0;return OWe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var DWe=PWe,RWe=AWe,IWe=DWe,MWe=Al,FWe=zs,LWe=CS;function $We(e,t,r){var n=FWe(e)?RWe:IWe;return r&&LWe(e,t,r)&&(t=void 0),n(e,MWe(t))}var BWe=$We;const $X=gr(BWe);var UWe=["x","y"];function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function LC(){return LC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LC.apply(this,arguments)}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){VWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VWe(e,t,r){return t=zWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zWe(e){var t=WWe(e,"string");return Uv(t)=="symbol"?t:t+""}function WWe(e,t){if(Uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HWe(e,t){if(e==null)return{};var r=qWe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KWe(e,t){var r=e.x,n=e.y,a=HWe(e,UWe),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return N0(N0(N0(N0(N0({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function m5(e){return ae.createElement(PX,LC({shapeType:"rectangle",propTransformer:KWe,activeClassName:"recharts-active-bar"},e))}var GWe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Xe(n)||yAe(n);return s?t(n,a):(s||_f(),r)}},YWe=["value","background"],BX;function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function XWe(e,t){if(e==null)return{};var r=JWe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){fu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VX(n.key),n)}}function ZWe(e,t,r){return t&&g5(e.prototype,t),r&&g5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eHe(e,t,r){return t=Ib(t),tHe(e,UX()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function tHe(e,t){if(t&&(np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rHe(e)}function rHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UX=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function nHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$C(e,t)}function $C(e,t){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$C(e,t)}function fu(e,t,r){return t=VX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=aHe(e,"string");return np(t)=="symbol"?t:t+""}function aHe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kx=function(e){function t(){var r;QWe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=eHe(this,t,[].concat(a)),fu(r,"state",{isAnimationFinished:!1}),fu(r,"id",Hp("recharts-bar-")),fu(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),fu(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return nHe(t,e),ZWe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=kt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:i,p=Sn(Sn(Sn({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ae.createElement(cr,Rb({className:"recharts-bar-rectangle"},yf(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ae.createElement(m5,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return ae.createElement(bl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=s.map(function(v,y){var w=h&&h[y];if(w){var b=Qs(w.x,v.x),_=Qs(w.y,v.y),S=Qs(w.width,v.width),k=Qs(w.height,v.height);return Sn(Sn({},v),{},{x:b(g),y:_(g),width:S(g),height:k(g)})}if(i==="horizontal"){var j=Qs(0,v.height),E=j(g);return Sn(Sn({},v),{},{y:v.y+v.height-E,height:E})}var N=Qs(0,v.width),A=N(g);return Sn(Sn({},v),{},{width:A})});return ae.createElement(cr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!Hx(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,l=a.activeIndex,c=kt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=XWe(u,YWe);if(!f)return null;var m=Sn(Sn(Sn(Sn(Sn({},h),{},{fill:"#eee"},f),c),yf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return ae.createElement(m5,Rb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=oi(d,qx);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,m=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:$n(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ae.createElement(cr,g,f.map(function(p){return ae.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Bt("recharts-bar",i),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=w||b,S=Lt(p)?this.id:p;return ae.createElement(cr,{className:y},w||b?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(S)},ae.createElement("rect",{x:w?u:u-f/2,y:b?d:d-h/2,width:w?f:f*2,height:b?h:h*2}))):null,ae.createElement(cr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!m||v)&&ic.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);BX=Kx;fu(Kx,"displayName","Bar");fu(Kx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fu(Kx,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=LBe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?Sn(Sn({},p),r.props):r.props,y=v.dataKey,w=v.children,b=v.minPointSize,_=g==="horizontal"?i:s,S=u?_.scale.domain():null,k=HBe({numericAxis:_}),j=oi(w,mo),E=f.map(function(N,A){var D,T,U,q,M,I;u?D=$Be(u[d+A],S):(D=$n(N,y),Array.isArray(D)||(D=[k,D]));var V=GWe(b,BX.defaultProps.minPointSize)(D[1],A);if(g==="horizontal"){var F,R=[i.scale(D[0]),i.scale(D[1])],re=R[0],Z=R[1];T=s$({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:N,index:A}),U=(F=Z??re)!==null&&F!==void 0?F:void 0,q=m.size;var C=re-Z;if(M=Number.isNaN(C)?0:C,I={x:T,y:i.y,width:q,height:i.height},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var K=rs(M||V)*(Math.abs(V)-Math.abs(M));U-=K,M+=K}}else{var B=[s.scale(D[0]),s.scale(D[1])],z=B[0],ne=B[1];if(T=z,U=s$({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:N,index:A}),q=ne-z,M=m.size,I={x:s.x,y:U,width:s.width,height:M},Math.abs(V)>0&&Math.abs(q)<Math.abs(V)){var oe=rs(q||V)*(Math.abs(V)-Math.abs(q));q+=oe}}return Sn(Sn(Sn({},N),{},{x:T,y:U,width:q,height:M,value:u?D:D[1],payload:N,background:I},j&&j[A]&&j[A].props),{},{tooltipPayload:[uX(r,N)],tooltipPosition:{x:T+q/2,y:U+M/2}})});return Sn({data:E,layout:g},h)});function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function sHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zX(n.key),n)}}function iHe(e,t,r){return t&&v5(e.prototype,t),r&&v5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(r),!0).forEach(function(n){KS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KS(e,t,r){return t=zX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zX(e){var t=oHe(e,"string");return Vv(t)=="symbol"?t:t+""}function oHe(e,t){if(Vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lHe=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ks(u,Kx);return d.reduce(function(m,g){var p=r[g],v=p.orientation,y=p.domain,w=p.padding,b=w===void 0?{}:w,_=p.mirror,S=p.reversed,k="".concat(v).concat(_?"Mirror":""),j,E,N,A,D;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var T=y[1]-y[0],U=1/0,q=p.categoricalDomain.sort(_Ae);if(q.forEach(function(B,z){z>0&&(U=Math.min((B||0)-(q[z-1]||0),U))}),Number.isFinite(U)){var M=U/T,I=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(j=M*I/2),p.padding==="no-gap"){var V=ns(t.barCategoryGap,M*I),F=M*I/2;j=F-V-(F-V)/I*V}}}a==="xAxis"?E=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:E=p.range,S&&(E=[E[1],E[0]]);var R=iX(p,s,h),re=R.scale,Z=R.realScaleType;re.domain(y).range(E),oX(re);var C=lX(re,uo(uo({},p),{},{realScaleType:Z}));a==="xAxis"?(D=v==="top"&&!_||v==="bottom"&&_,N=n.left,A=f[k]-D*p.height):a==="yAxis"&&(D=v==="left"&&!_||v==="right"&&_,N=f[k]-D*p.width,A=n.top);var K=uo(uo(uo({},p),C),{},{realScaleType:Z,x:N,y:A,scale:re,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return K.bandSize=xb(K,C),!p.hide&&a==="xAxis"?f[k]+=(D?-1:1)*K.height:p.hide||(f[k]+=(D?-1:1)*K.width),uo(uo({},m),{},KS({},g,K))},{})},WX=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},cHe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return WX({x:r,y:n},{x:a,y:s})},HX=function(){function e(t){sHe(this,e),this.scale=t}return iHe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();KS(HX,"EPS",1e-4);var v4=function(t){var r=Object.keys(t).reduce(function(n,a){return uo(uo({},n),{},KS({},a,HX.create(t[a])))},{});return uo(uo({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return CWe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return $X(a,function(s,i){return r[i].isInRange(s)})}})};function uHe(e){return(e%180+180)%180}var dHe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=uHe(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},fHe=Al,hHe=Bx,mHe=NS;function pHe(e){return function(t,r,n){var a=Object(t);if(!hHe(t)){var s=fHe(r);t=mHe(t),r=function(l){return s(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var gHe=pHe,vHe=IX;function xHe(e){var t=vHe(e),r=t%1;return t===t?r?t-r:t:0}var yHe=xHe,wHe=BG,bHe=Al,_He=yHe,SHe=Math.max;function jHe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:_He(r);return a<0&&(a=SHe(n+a,0)),wHe(e,bHe(t),a)}var kHe=jHe,NHe=gHe,EHe=kHe,CHe=NHe(EHe),THe=CHe;const AHe=gr(THe);var OHe=STe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),x4=x.createContext(void 0),y4=x.createContext(void 0),qX=x.createContext(void 0),KX=x.createContext({}),GX=x.createContext(void 0),YX=x.createContext(0),XX=x.createContext(0),y5=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=OHe(s);return ae.createElement(x4.Provider,{value:n},ae.createElement(y4.Provider,{value:a},ae.createElement(KX.Provider,{value:s},ae.createElement(qX.Provider,{value:d},ae.createElement(GX.Provider,{value:i},ae.createElement(YX.Provider,{value:u},ae.createElement(XX.Provider,{value:c},l)))))))},PHe=function(){return x.useContext(GX)},JX=function(t){var r=x.useContext(x4);r==null&&_f();var n=r[t];return n==null&&_f(),n},DHe=function(){var t=x.useContext(x4);return Qc(t)},RHe=function(){var t=x.useContext(y4),r=AHe(t,function(n){return $X(n.domain,Number.isFinite)});return r||Qc(t)},QX=function(t){var r=x.useContext(y4);r==null&&_f();var n=r[t];return n==null&&_f(),n},IHe=function(){var t=x.useContext(qX);return t},MHe=function(){return x.useContext(KX)},w4=function(){return x.useContext(XX)},b4=function(){return x.useContext(YX)};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function FHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eJ(n.key),n)}}function $He(e,t,r){return t&&LHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BHe(e,t,r){return t=Mb(t),UHe(e,ZX()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function UHe(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VHe(e)}function VHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZX=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function zHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BC(e,t)}function BC(e,t){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BC(e,t)}function w5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w5(Object(r),!0).forEach(function(n){_4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _4(e,t,r){return t=eJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eJ(e){var t=WHe(e,"string");return ap(t)=="symbol"?t:t+""}function WHe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HHe(e,t){return YHe(e)||GHe(e,t)||KHe(e,t)||qHe()}function qHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KHe(e,t){if(e){if(typeof e=="string")return _5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _5(e,t)}}function _5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function YHe(e){if(Array.isArray(e))return e}function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UC.apply(this,arguments)}var XHe=function(t,r){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,r):Ot(t)?n=t(r):n=ae.createElement("line",UC({},r,{className:"recharts-reference-line-line"})),n},JHe=function(t,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var g=u.y,p=t.y.apply(g,{position:i});if(dl(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var y=u.x,w=t.x.apply(y,{position:i});if(dl(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:f+m},{x:w,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,S=_.map(function(k){return t.apply(k,{position:i})});return dl(u,"discard")&&wWe(S,function(k){return!t.isInRange(k)})?null:S}return null};function QHe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=PHe(),d=JX(a),f=QX(s),h=IHe();if(!u||!h)return null;jo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=v4({x:d.scale,y:f.scale}),g=Vn(t),p=Vn(r),v=n&&n.length===2,y=JHe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var w=HHe(y,2),b=w[0],_=b.x,S=b.y,k=w[1],j=k.x,E=k.y,N=dl(e,"hidden")?"url(#".concat(u,")"):void 0,A=b5(b5({clipPath:N},kt(e,!0)),{},{x1:_,y1:S,x2:j,y2:E});return ae.createElement(cr,{className:Bt("recharts-reference-line",l)},XHe(i,A),Gn.renderCallByParent(e,cHe({x1:_,y1:S,x2:j,y2:E})))}var S4=function(e){function t(){return FHe(this,t),BHe(this,t,arguments)}return zHe(t,e),$He(t,[{key:"render",value:function(){return ae.createElement(QHe,this.props)}}])}(ae.Component);_4(S4,"displayName","ReferenceLine");_4(S4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function VC(){return VC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VC.apply(this,arguments)}function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function S5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(r),!0).forEach(function(n){GS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eqe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rJ(n.key),n)}}function tqe(e,t,r){return t&&eqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rqe(e,t,r){return t=Fb(t),nqe(e,tJ()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function nqe(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aqe(e)}function aqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tJ=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function sqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zC(e,t)}function zC(e,t){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zC(e,t)}function GS(e,t,r){return t=rJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){var t=iqe(e,"string");return sp(t)=="symbol"?t:t+""}function iqe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oqe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=v4({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return dl(t,"discard")&&!i.isInRange(l)?null:l},YS=function(e){function t(){return ZHe(this,t),rqe(this,t,arguments)}return sqe(t,e),tqe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=Vn(a),d=Vn(s);if(jo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=oqe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,y=dl(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=j5(j5({clipPath:y},kt(this.props,!0)),{},{cx:h,cy:m});return ae.createElement(cr,{className:Bt("recharts-reference-dot",v)},t.renderDot(p,w),Gn.renderCallByParent(this.props,{x:h-i,y:m-i,width:2*i,height:2*i}))}}])}(ae.Component);GS(YS,"displayName","ReferenceDot");GS(YS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});GS(YS,"renderDot",function(e,t){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,t):Ot(e)?r=e(t):r=ae.createElement(BS,VC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WC.apply(this,arguments)}function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function k5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(r),!0).forEach(function(n){XS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cqe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aJ(n.key),n)}}function uqe(e,t,r){return t&&cqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dqe(e,t,r){return t=Lb(t),fqe(e,nJ()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function fqe(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hqe(e)}function hqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nJ=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function mqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HC(e,t)}function HC(e,t){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HC(e,t)}function XS(e,t,r){return t=aJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJ(e){var t=pqe(e,"string");return ip(t)=="symbol"?t:t+""}function pqe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gqe=function(t,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=v4({x:d.scale,y:f.scale}),m={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return dl(s,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:WX(m,g)},JS=function(e){function t(){return lqe(this,t),dqe(this,t,arguments)}return mqe(t,e),uqe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;jo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Vn(a),h=Vn(s),m=Vn(i),g=Vn(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=gqe(f,h,m,g,this.props);if(!v&&!p)return null;var y=dl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ae.createElement(cr,{className:Bt("recharts-reference-area",c)},t.renderRect(p,N5(N5({clipPath:y},kt(this.props,!0)),v)),Gn.renderCallByParent(this.props,v))}}])}(ae.Component);XS(JS,"displayName","ReferenceArea");XS(JS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});XS(JS,"renderRect",function(e,t){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,t):Ot(e)?r=e(t):r=ae.createElement(g4,WC({},t,{className:"recharts-reference-area-rect"})),r});function sJ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function vqe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return dHe(n,r)}function xqe(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function $b(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function yqe(e,t){return sJ(e,t+1)}function wqe(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:sJ(n,u)};var p=c,v,y=function(){return v===void 0&&(v=r(g,p)),v},w=g.coordinate,b=c===0||$b(e,w,y,d,l);b||(c=0,d=i,u+=1),b&&(d=w+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function E5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(r),!0).forEach(function(n){bqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bqe(e,t,r){return t=_qe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _qe(e){var t=Sqe(e,"string");return zv(t)=="symbol"?t:t+""}function Sqe(e,t){if(zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jqe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===i-1){var v=e*(m.coordinate+e*p()/2-c);s[h]=m=Sa(Sa({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=Sa(Sa({},m),{},{tickCoord:m.coordinate});var y=$b(e,m.tickCoord,p,l,c);y&&(c=m.tickCoord-e*(p()/2+a),s[h]=Sa(Sa({},m),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function kqe(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=Sa(Sa({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=$b(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),i[l-1]=Sa(Sa({},d),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(w){var b=i[w],_,S=function(){return _===void 0&&(_=r(b,w)),_};if(w===0){var k=e*(b.coordinate-e*S()/2-c);i[w]=b=Sa(Sa({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[w]=b=Sa(Sa({},b),{},{tickCoord:b.coordinate});var j=$b(e,b.tickCoord,S,c,u);j&&(c=b.tickCoord+e*(S()/2+a),i[w]=Sa(Sa({},b),{},{isShow:!0}))},v=0;v<g;v++)p(v);return i}function j4(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Xe(c)||cl.isSsr)return yqe(a,typeof c=="number"&&Xe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?vg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(b,_){var S=Ot(u)?u(b.value,_):b.value;return m==="width"?vqe(vg(S,{fontSize:t,letterSpacing:r}),g,f):vg(S,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?rs(a[1].coordinate-a[0].coordinate):1,y=xqe(s,v,m);return c==="equidistantPreserveStart"?wqe(v,y,p,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=kqe(v,y,p,a,i,c==="preserveStartEnd"):h=jqe(v,y,p,a,i),h.filter(function(w){return w.isShow}))}var Nqe=["viewBox"],Eqe=["viewBox"],Cqe=["ticks"];function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lh.apply(this,arguments)}function C5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(r),!0).forEach(function(n){k4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c2(e,t){if(e==null)return{};var r=Tqe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Aqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oJ(n.key),n)}}function Oqe(e,t,r){return t&&T5(e.prototype,t),r&&T5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pqe(e,t,r){return t=Bb(t),Dqe(e,iJ()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function Dqe(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rqe(e)}function Rqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iJ=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function Iqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qC(e,t)}function qC(e,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qC(e,t)}function k4(e,t,r){return t=oJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJ(e){var t=Mqe(e,"string");return op(t)=="symbol"?t:t+""}function Mqe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qp=function(e){function t(r){var n;return Aqe(this,t),n=Pqe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Iqe(t,e),Oqe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=c2(n,Nqe),l=this.props,c=l.viewBox,u=c2(l,Eqe);return!nm(s,c)||!nm(i,u)||!nm(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,y,w,b=f?-1:1,_=n.tickSize||d,S=Xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=i+ +!f*c,p=v-b*_,w=p-b*h,y=S;break;case"left":p=v=n.coordinate,g=s+ +!f*l,m=g-b*_,y=m-b*h,w=S;break;case"right":p=v=n.coordinate,g=s+ +f*l,m=g+b*_,y=m+b*h,w=S;break;default:m=g=n.coordinate,v=i+ +f*c,p=v+b*_,w=p+b*h,y=S;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Dn(Dn(Dn({},kt(this.props,!1)),kt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Dn(Dn({},f),{},{x1:a,y1:s+h*l,x2:a+i,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Dn(Dn({},f),{},{x1:a+m*i,y1:s,x2:a+m*i,y2:s+l})}return ae.createElement("line",Lh({},f,{className:Bt("recharts-cartesian-axis-line",ii(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=j4(Dn(Dn({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=kt(this.props,!1),y=kt(d,!1),w=Dn(Dn({},v),{},{fill:"none"},kt(c,!1)),b=m.map(function(_,S){var k=i.getTickLineCoord(_),j=k.line,E=k.tick,N=Dn(Dn(Dn(Dn({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},y),E),{},{index:S,payload:_,visibleTicksCount:m.length,tickFormatter:f});return ae.createElement(cr,Lh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},yf(i.props,_,S)),c&&ae.createElement("line",Lh({},w,j,{className:Bt("recharts-cartesian-axis-tick-line",ii(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(Ot(f)?f(_.value,S):_.value).concat(h||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=c2(f,Cqe),g=h;return Ot(c)&&(g=h&&h.length>0?c(this.props):c(m)),i<=0||l<=0||!g||!g.length?null:ae.createElement(cr,{className:Bt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i,l=Bt(a.className,"recharts-cartesian-axis-tick-value");return ae.isValidElement(n)?i=ae.cloneElement(n,Dn(Dn({},a),{},{className:l})):Ot(n)?i=n(Dn(Dn({},a),{},{className:l})):i=ae.createElement(wf,Lh({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(x.Component);k4(Qp,"displayName","CartesianAxis");k4(Qp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Fqe=["x1","y1","x2","y2","key"],Lqe=["offset"];function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function A5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(r),!0).forEach(function(n){$qe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $qe(e,t,r){return t=Bqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bqe(e){var t=Uqe(e,"string");return Sf(t)=="symbol"?t:t+""}function Uqe(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(this,arguments)}function O5(e,t){if(e==null)return{};var r=Vqe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zqe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,l=t.height,c=t.ry;return ae.createElement("rect",{x:a,y:s,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lJ(e,t){var r;if(ae.isValidElement(e))r=ae.cloneElement(e,t);else if(Ot(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,l=t.key,c=O5(t,Fqe),u=kt(c,!1);u.offset;var d=O5(u,Lqe);r=ae.createElement("line",Pd({},d,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return r}function Wqe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Ea(Ea({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return lJ(a,u)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Hqe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Ea(Ea({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return lJ(a,u)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function qqe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+i-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return ae.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Kqe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return ae.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Gqe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return sX(j4(Ea(Ea(Ea({},Qp.defaultProps),n),{},{ticks:ec(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},Yqe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return sX(j4(Ea(Ea(Ea({},Qp.defaultProps),n),{},{ticks:ec(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},sh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function N4(e){var t,r,n,a,s,i,l=w4(),c=b4(),u=MHe(),d=Ea(Ea({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:sh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:sh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:sh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:sh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:sh.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:sh.verticalFill,x:Xe(e.x)?e.x:u.left,y:Xe(e.y)?e.y:u.top,width:Xe(e.width)?e.width:u.width,height:Xe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,w=DHe(),b=RHe();if(!Xe(m)||m<=0||!Xe(g)||g<=0||!Xe(f)||f!==+f||!Xe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||Gqe,S=d.horizontalCoordinatesGenerator||Yqe,k=d.horizontalPoints,j=d.verticalPoints;if((!k||!k.length)&&Ot(S)){var E=v&&v.length,N=S({yAxis:b?Ea(Ea({},b),{},{ticks:E?v:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);jo(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sf(N),"]")),Array.isArray(N)&&(k=N)}if((!j||!j.length)&&Ot(_)){var A=y&&y.length,D=_({xAxis:w?Ea(Ea({},w),{},{ticks:A?y:w.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);jo(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sf(D),"]")),Array.isArray(D)&&(j=D)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(zqe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ae.createElement(Wqe,Pd({},d,{offset:u,horizontalPoints:k,xAxis:w,yAxis:b})),ae.createElement(Hqe,Pd({},d,{offset:u,verticalPoints:j,xAxis:w,yAxis:b})),ae.createElement(qqe,Pd({},d,{horizontalPoints:k})),ae.createElement(Kqe,Pd({},d,{verticalPoints:j})))}N4.displayName="CartesianGrid";var Xqe=["type","layout","connectNulls","ref"],Jqe=["key"];function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function P5(e,t){if(e==null)return{};var r=Qqe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}function D5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(r),!0).forEach(function(n){fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ih(e){return rKe(e)||tKe(e)||eKe(e)||Zqe()}function Zqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eKe(e,t){if(e){if(typeof e=="string")return KC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KC(e,t)}}function tKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rKe(e){if(Array.isArray(e))return KC(e)}function KC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uJ(n.key),n)}}function aKe(e,t,r){return t&&R5(e.prototype,t),r&&R5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sKe(e,t,r){return t=Ub(t),iKe(e,cJ()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function iKe(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oKe(e)}function oKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cJ=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function lKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GC(e,t)}function GC(e,t){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GC(e,t)}function fo(e,t,r){return t=uJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uJ(e){var t=cKe(e,"string");return lp(t)=="symbol"?t:t+""}function cKe(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zp=function(e){function t(){var r;nKe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=sKe(this,t,[].concat(a)),fo(r,"state",{isAnimationFinished:!0,totalLength:0}),fo(r,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),fo(r,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(y,w){return y+w});if(!u)return r.generateSimpleStrokeDasharray(l,i);for(var d=Math.floor(i/u),f=i%u,h=l-i,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(ih(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(ih(t.repeat(c,d)),ih(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),fo(r,"id",Hp("recharts-line-")),fo(r,"pathRef",function(i){r.mainCurve=i}),fo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return lKe(t,e),aKe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=oi(d,qx);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:$n(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ae.createElement(cr,m,f.map(function(g){return ae.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=kt(this.props,!1),h=kt(c,!0),m=u.map(function(p,v){var y=Ws(Ws(Ws({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return ae.createElement(cr,Sg({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,s,i){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=P5(l,Xqe),h=Ws(Ws(Ws({},kt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:d});return ae.createElement(bb,Sg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,g=i.animateNewValues,p=i.width,v=i.height,y=this.state,w=y.prevPoints,b=y.totalLength;return ae.createElement(bl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(w){var k=w.length/l.length,j=l.map(function(T,U){var q=Math.floor(U*k);if(w[q]){var M=w[q],I=Qs(M.x,T.x),V=Qs(M.y,T.y);return Ws(Ws({},T),{},{x:I(S),y:V(S)})}if(g){var F=Qs(p*2,T.x),R=Qs(v/2,T.y);return Ws(Ws({},T),{},{x:F(S),y:R(S)})}return Ws(Ws({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(j,n,a)}var E=Qs(0,b),N=E(S),A;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});A=s.getStrokeDasharray(N,b,D)}else A=s.generateSimpleStrokeDasharray(b,N);return s.renderCurveStatically(l,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var s=this.props,i=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&i&&i.length&&(!u&&d>0||!Hx(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,i=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,w=l.length===1,b=Bt("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=_||S,j=Lt(v)?this.id:v,E=(n=kt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=E.r,A=N===void 0?3:N,D=E.strokeWidth,T=D===void 0?2:D,U=OAe(i)?i:{},q=U.clipDot,M=q===void 0?!0:q,I=A*2+T;return ae.createElement(cr,{className:b},_||S?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(j)},ae.createElement("rect",{x:_?h:h-m/2,y:S?f:f-g/2,width:_?m:m*2,height:S?g:g*2})),!M&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(j)},ae.createElement("rect",{x:h-I/2,y:f-I/2,width:m+I,height:g+I}))):null,!w&&this.renderCurve(k,j),this.renderErrorBar(k,j),(w||i)&&this.renderDots(k,M,j),(!p||y)&&ic.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(ih(n),[0]):n,i=[],l=0;l<a;++l)i=[].concat(ih(i),ih(s));return i}},{key:"renderDotItem",value:function(n,a){var s;if(ae.isValidElement(n))s=ae.cloneElement(n,a);else if(Ot(n))s=n(a);else{var i=a.key,l=P5(a,Jqe),c=Bt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ae.createElement(BS,Sg({key:i},l,{className:c}))}return s}}])}(x.PureComponent);fo(Zp,"displayName","Line");fo(Zp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!cl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fo(Zp,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=$n(h,i);return d==="horizontal"?{x:a$({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Lt(g)?null:n.scale(g),value:g,payload:h}:{x:Lt(g)?null:r.scale(g),y:a$({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Ws({points:f,layout:d},u)});function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function uKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hJ(n.key),n)}}function fKe(e,t,r){return t&&dKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hKe(e,t,r){return t=Vb(t),mKe(e,dJ()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function mKe(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pKe(e)}function pKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dJ=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function gKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YC(e,t)}function fJ(e,t,r){return t=hJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJ(e){var t=vKe(e,"string");return cp(t)=="symbol"?t:t+""}function vKe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XC(){return XC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XC.apply(this,arguments)}function xKe(e){var t=e.xAxisId,r=w4(),n=b4(),a=JX(t);return a==null?null:x.createElement(Qp,XC({},a,{className:Bt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return ec(i,!0)}}))}var Gx=function(e){function t(){return uKe(this,t),hKe(this,t,arguments)}return gKe(t,e),fKe(t,[{key:"render",value:function(){return x.createElement(xKe,this.props)}}])}(x.Component);fJ(Gx,"displayName","XAxis");fJ(Gx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function yKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gJ(n.key),n)}}function bKe(e,t,r){return t&&wKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ke(e,t,r){return t=zb(t),SKe(e,mJ()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function SKe(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jKe(e)}function jKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function kKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JC(e,t)}function JC(e,t){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JC(e,t)}function pJ(e,t,r){return t=gJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=NKe(e,"string");return up(t)=="symbol"?t:t+""}function NKe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QC.apply(this,arguments)}var EKe=function(t){var r=t.yAxisId,n=w4(),a=b4(),s=QX(r);return s==null?null:x.createElement(Qp,QC({},s,{className:Bt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ec(l,!0)}}))},Yx=function(e){function t(){return yKe(this,t),_Ke(this,t,arguments)}return kKe(t,e),bKe(t,[{key:"render",value:function(){return x.createElement(EKe,this.props)}}])}(x.Component);pJ(Yx,"displayName","YAxis");pJ(Yx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function I5(e){return OKe(e)||AKe(e)||TKe(e)||CKe()}function CKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TKe(e,t){if(e){if(typeof e=="string")return ZC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZC(e,t)}}function AKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OKe(e){if(Array.isArray(e))return ZC(e)}function ZC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var eT=function(t,r,n,a,s){var i=oi(t,S4),l=oi(t,YS),c=[].concat(I5(i),I5(l)),u=oi(t,JS),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&dl(v.props,"extendDomain")&&Xe(v.props[f])){var y=v.props[f];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&dl(v.props,"extendDomain")&&Xe(v.props[m])&&Xe(v.props[g])){var y=v.props[m],w=v.props[g];return[Math.min(p[0],y,w),Math.max(p[1],y,w)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,v){return Xe(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},vJ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var _=v.length,S;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];v[b].fn.apply(v[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&i(this,m);else{for(var p=0,v=[],y=g.length;p<y;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(vJ);var PKe=vJ.exports;const DKe=gr(PKe);var u2=new DKe,d2="recharts.syncMouseEvents";function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}function RKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xJ(n.key),n)}}function MKe(e,t,r){return t&&IKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f2(e,t,r){return t=xJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=FKe(e,"string");return Wv(t)=="symbol"?t:t+""}function FKe(e,t){if(Wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LKe=function(){function e(){RKe(this,e),f2(this,"activeIndex",0),f2(this,"coordinateList",[]),f2(this,"layout","horizontal")}return MKe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function $Ke(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Xe(n)&&Xe(a))return!0}return!1}function BKe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function yJ(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=Rr(t,r,n,a),l=Rr(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function UKe(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Rr(l,c,u,f),m=Rr(l,c,d,f);n=h.x,a=h.y,s=m.x,i=m.y}else return yJ(t);return[{x:n,y:a},{x:s,y:i}]}function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function M5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(r),!0).forEach(function(n){VKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VKe(e,t,r){return t=zKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zKe(e){var t=WKe(e,"string");return Hv(t)=="symbol"?t:t+""}function WKe(e,t){if(Hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HKe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var g,p=bb;if(h==="ScatterChart")g=i,p=lVe;else if(h==="BarChart")g=BKe(f,i,c,d),p=g4;else if(f==="radial"){var v=yJ(i),y=v.cx,w=v.cy,b=v.radius,_=v.startAngle,S=v.endAngle;g={cx:y,cy:w,startAngle:_,endAngle:S,innerRadius:b,outerRadius:b},p=gX}else g={points:UKe(f,i,c)},p=bb;var k=s1(s1(s1(s1({stroke:"#ccc",pointerEvents:"none"},c),g),kt(m,!1)),{},{payload:l,payloadIndex:u,className:Bt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,k):x.createElement(p,k)}var qKe=["item"],KKe=["children","className","width","height","style","compact","title","desc"];function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(this,arguments)}function F5(e,t){return XKe(e)||YKe(e,t)||bJ(e,t)||GKe()}function GKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function XKe(e){if(Array.isArray(e))return e}function L5(e,t){if(e==null)return{};var r=JKe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_J(n.key),n)}}function eGe(e,t,r){return t&&ZKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tGe(e,t,r){return t=Wb(t),rGe(e,wJ()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function rGe(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nGe(e)}function nGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wJ=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function aGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tT(e,t)}function tT(e,t){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tT(e,t)}function fp(e){return oGe(e)||iGe(e)||bJ(e)||sGe()}function sGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(e,t){if(e){if(typeof e=="string")return rT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rT(e,t)}}function iGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oGe(e){if(Array.isArray(e))return rT(e)}function rT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(r),!0).forEach(function(n){Nt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nt(e,t,r){return t=_J(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _J(e){var t=lGe(e,"string");return dp(t)=="symbol"?t:t+""}function lGe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cGe={xAxis:["bottom","top"],yAxis:["left","right"]},uGe={width:"100%",height:"100%"},SJ={x:0,y:0};function i1(e){return e}var dGe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},fGe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,l=a.radius;return Pe(Pe(Pe({},a),Rr(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return Pe(Pe(Pe({},a),Rr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return SJ},QS=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(fp(l),fp(u)):l},[]);return i.length>0?i:t&&t.length&&Xe(a)&&Xe(s)?t.slice(a,s+1):[]};function jJ(e){return e==="number"?[0,"auto"]:void 0}var nT=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,l=QS(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var m=f===void 0?l:f;h=Ww(m,i.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(fp(c),[uX(u,h)]):c},[])},B5=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=dGe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=PBe(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=nT(t,r,d,f),m=fGe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},hGe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=aX(d,s);return n.reduce(function(g,p){var v,y=p.type.defaultProps!==void 0?Pe(Pe({},p.type.defaultProps),p.props):p.props,w=y.type,b=y.dataKey,_=y.allowDataOverflow,S=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,E=y.includeHidden,N=y[i];if(g[N])return g;var A=QS(t.data,{graphicalItems:a.filter(function(C){var K,B=i in C.props?C.props[i]:(K=C.type.defaultProps)===null||K===void 0?void 0:K[i];return B===N}),dataStartIndex:c,dataEndIndex:u}),D=A.length,T,U,q;$Ke(y.domain,_,w)&&(T=vC(y.domain,null,_),m&&(w==="number"||k!=="auto")&&(q=yg(A,b,"category")));var M=jJ(w);if(!T||T.length===0){var I,V=(I=y.domain)!==null&&I!==void 0?I:M;if(b){if(T=yg(A,b,w),w==="category"&&m){var F=bAe(T);S&&F?(U=T,T=Ob(0,D)):S||(T=l$(V,T,p).reduce(function(C,K){return C.indexOf(K)>=0?C:[].concat(fp(C),[K])},[]))}else if(w==="category")S?T=T.filter(function(C){return C!==""&&!Lt(C)}):T=l$(V,T,p).reduce(function(C,K){return C.indexOf(K)>=0||K===""||Lt(K)?C:[].concat(fp(C),[K])},[]);else if(w==="number"){var R=FBe(A,a.filter(function(C){var K,B,z=i in C.props?C.props[i]:(K=C.type.defaultProps)===null||K===void 0?void 0:K[i],ne="hide"in C.props?C.props.hide:(B=C.type.defaultProps)===null||B===void 0?void 0:B.hide;return z===N&&(E||!ne)}),b,s,d);R&&(T=R)}m&&(w==="number"||k!=="auto")&&(q=yg(A,b,"category"))}else m?T=Ob(0,D):l&&l[N]&&l[N].hasStack&&w==="number"?T=h==="expand"?[0,1]:cX(l[N].stackGroups,c,u):T=nX(A,a.filter(function(C){var K=i in C.props?C.props[i]:C.type.defaultProps[i],B="hide"in C.props?C.props.hide:C.type.defaultProps.hide;return K===N&&(E||!B)}),w,d,!0);if(w==="number")T=eT(f,T,N,s,j),V&&(T=vC(V,T,_));else if(w==="category"&&V){var re=V,Z=T.every(function(C){return re.indexOf(C)>=0});Z&&(T=re)}}return Pe(Pe({},g),{},Nt({},N,Pe(Pe({},y),{},{axisType:s,domain:T,categoricalDomain:q,duplicateDomain:U,originalDomain:(v=y.domain)!==null&&v!==void 0?v:M,isCategorical:m,layout:d})))},{})},mGe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=QS(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=aX(d,s),p=-1;return n.reduce(function(v,y){var w=y.type.defaultProps!==void 0?Pe(Pe({},y.type.defaultProps),y.props):y.props,b=w[i],_=jJ("number");if(!v[b]){p++;var S;return g?S=Ob(0,m):l&&l[b]&&l[b].hasStack?(S=cX(l[b].stackGroups,c,u),S=eT(f,S,b,s)):(S=vC(_,nX(h,n.filter(function(k){var j,E,N=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],A="hide"in k.props?k.props.hide:(E=k.type.defaultProps)===null||E===void 0?void 0:E.hide;return N===b&&!A}),"number",d),a.defaultProps.allowDataOverflow),S=eT(f,S,b,s)),Pe(Pe({},v),{},Nt({},b,Pe(Pe({axisType:s},a.defaultProps),{},{hide:!0,orientation:ii(cGe,"".concat(s,".").concat(p%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},pGe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=oi(d,s),m={};return h&&h.length?m=hGe(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(m=mGe(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},gGe=function(t){var r=Qc(t),n=ec(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:VP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xb(r,n)}},U5=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ks(r,rp),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},vGe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ac(r&&r.type);return n&&n.indexOf("Bar")>=0})},V5=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xGe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Ks(f,rp),g=Ks(f,Nu),p=Object.keys(c).reduce(function(S,k){var j=c[k],E=j.orientation;return!j.mirror&&!j.hide?Pe(Pe({},S),{},Nt({},E,S[E]+j.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(i).reduce(function(S,k){var j=i[k],E=j.orientation;return!j.mirror&&!j.hide?Pe(Pe({},S),{},Nt({},E,ii(S,"".concat(E))+j.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=Pe(Pe({},v),p),w=y.bottom;m&&(y.bottom+=m.props.height||rp.defaultProps.height),g&&r&&(y=IBe(y,a,n,r));var b=u-y.left-y.right,_=d-y.top-y.bottom;return Pe(Pe({brushBottom:w},y),{},{width:Math.max(b,0),height:Math.max(_,0)})},yGe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},kJ=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,w){var b=w.graphicalItems,_=w.stackGroups,S=w.offset,k=w.updateId,j=w.dataStartIndex,E=w.dataEndIndex,N=y.barSize,A=y.layout,D=y.barGap,T=y.barCategoryGap,U=y.maxBarSize,q=V5(A),M=q.numericAxisName,I=q.cateAxisName,V=vGe(b),F=[];return b.forEach(function(R,re){var Z=QS(y.data,{graphicalItems:[R],dataStartIndex:j,dataEndIndex:E}),C=R.type.defaultProps!==void 0?Pe(Pe({},R.type.defaultProps),R.props):R.props,K=C.dataKey,B=C.maxBarSize,z=C["".concat(M,"Id")],ne=C["".concat(I,"Id")],oe={},ue=c.reduce(function(ve,Q){var ee=w["".concat(Q.axisType,"Map")],he=C["".concat(Q.axisType,"Id")];ee&&ee[he]||Q.axisType==="zAxis"||_f();var me=ee[he];return Pe(Pe({},ve),{},Nt(Nt({},Q.axisType,me),"".concat(Q.axisType,"Ticks"),ec(me)))},oe),ie=ue[I],X=ue["".concat(I,"Ticks")],de=_&&_[z]&&_[z].hasStack&&qBe(R,_[z].stackGroups),O=ac(R.type).indexOf("Bar")>=0,Fe=xb(ie,X),Re=[],Be=V&&DBe({barSize:N,stackGroups:_,totalSize:yGe(ue,I)});if(O){var We,De,ft=Lt(B)?U:B,gt=(We=(De=xb(ie,X,!0))!==null&&De!==void 0?De:ft)!==null&&We!==void 0?We:0;Re=RBe({barGap:D,barCategoryGap:T,bandSize:gt!==Fe?gt:Fe,sizeList:Be[ne],maxBarSize:ft}),gt!==Fe&&(Re=Re.map(function(ve){return Pe(Pe({},ve),{},{position:Pe(Pe({},ve.position),{},{offset:ve.position.offset-gt/2})})}))}var se=R&&R.type&&R.type.getComposedData;se&&F.push({props:Pe(Pe({},se(Pe(Pe({},ue),{},{displayedData:Z,props:y,dataKey:K,item:R,bandSize:Fe,barPosition:Re,offset:S,stackedData:de,layout:A,dataStartIndex:j,dataEndIndex:E}))),{},Nt(Nt(Nt({key:R.key||"item-".concat(re)},M,ue[M]),I,ue[I]),"animationId",k)),childIndex:RAe(R,y.children),item:R})}),F},m=function(y,w){var b=y.props,_=y.dataStartIndex,S=y.dataEndIndex,k=y.updateId;if(!t3({props:b}))return null;var j=b.children,E=b.layout,N=b.stackOffset,A=b.data,D=b.reverseStackOrder,T=V5(E),U=T.numericAxisName,q=T.cateAxisName,M=oi(j,n),I=WBe(A,M,"".concat(U,"Id"),"".concat(q,"Id"),N,D),V=c.reduce(function(C,K){var B="".concat(K.axisType,"Map");return Pe(Pe({},C),{},Nt({},B,pGe(b,Pe(Pe({},K),{},{graphicalItems:M,stackGroups:K.axisType===U&&I,dataStartIndex:_,dataEndIndex:S}))))},{}),F=xGe(Pe(Pe({},V),{},{props:b,graphicalItems:M}),w==null?void 0:w.legendBBox);Object.keys(V).forEach(function(C){V[C]=d(b,V[C],F,C.replace("Map",""),r)});var R=V["".concat(q,"Map")],re=gGe(R),Z=h(b,Pe(Pe({},V),{},{dataStartIndex:_,dataEndIndex:S,updateId:k,graphicalItems:M,stackGroups:I,offset:F}));return Pe(Pe({formattedGraphicalItems:Z,graphicalItems:M,offset:F,stackGroups:I},re),V)},g=function(v){function y(w){var b,_,S;return QKe(this,y),S=tGe(this,y,[w]),Nt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Nt(S,"accessibilityManager",new LKe),Nt(S,"handleLegendBBoxUpdate",function(k){if(k){var j=S.state,E=j.dataStartIndex,N=j.dataEndIndex,A=j.updateId;S.setState(Pe({legendBBox:k},m({props:S.props,dataStartIndex:E,dataEndIndex:N,updateId:A},Pe(Pe({},S.state),{},{legendBBox:k}))))}}),Nt(S,"handleReceiveSyncEvent",function(k,j,E){if(S.props.syncId===k){if(E===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(j)}}),Nt(S,"handleBrushChange",function(k){var j=k.startIndex,E=k.endIndex;if(j!==S.state.dataStartIndex||E!==S.state.dataEndIndex){var N=S.state.updateId;S.setState(function(){return Pe({dataStartIndex:j,dataEndIndex:E},m({props:S.props,dataStartIndex:j,dataEndIndex:E,updateId:N},S.state))}),S.triggerSyncEvent({dataStartIndex:j,dataEndIndex:E})}}),Nt(S,"handleMouseEnter",function(k){var j=S.getMouseInfo(k);if(j){var E=Pe(Pe({},j),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var N=S.props.onMouseEnter;Ot(N)&&N(E,k)}}),Nt(S,"triggeredAfterMouseMove",function(k){var j=S.getMouseInfo(k),E=j?Pe(Pe({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var N=S.props.onMouseMove;Ot(N)&&N(E,k)}),Nt(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Nt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Nt(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),Nt(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};S.setState(j),S.triggerSyncEvent(j);var E=S.props.onMouseLeave;Ot(E)&&E(j,k)}),Nt(S,"handleOuterEvent",function(k){var j=DAe(k),E=ii(S.props,"".concat(j));if(j&&Ot(E)){var N,A;/.*touch.*/i.test(j)?A=S.getMouseInfo(k.changedTouches[0]):A=S.getMouseInfo(k),E((N=A)!==null&&N!==void 0?N:{},k)}}),Nt(S,"handleClick",function(k){var j=S.getMouseInfo(k);if(j){var E=Pe(Pe({},j),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var N=S.props.onClick;Ot(N)&&N(E,k)}}),Nt(S,"handleMouseDown",function(k){var j=S.props.onMouseDown;if(Ot(j)){var E=S.getMouseInfo(k);j(E,k)}}),Nt(S,"handleMouseUp",function(k){var j=S.props.onMouseUp;if(Ot(j)){var E=S.getMouseInfo(k);j(E,k)}}),Nt(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Nt(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),Nt(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),Nt(S,"handleDoubleClick",function(k){var j=S.props.onDoubleClick;if(Ot(j)){var E=S.getMouseInfo(k);j(E,k)}}),Nt(S,"handleContextMenu",function(k){var j=S.props.onContextMenu;if(Ot(j)){var E=S.getMouseInfo(k);j(E,k)}}),Nt(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&u2.emit(d2,S.props.syncId,k,S.eventEmitterSymbol)}),Nt(S,"applySyncEvent",function(k){var j=S.props,E=j.layout,N=j.syncMethod,A=S.state.updateId,D=k.dataStartIndex,T=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(Pe({dataStartIndex:D,dataEndIndex:T},m({props:S.props,dataStartIndex:D,dataEndIndex:T,updateId:A},S.state)));else if(k.activeTooltipIndex!==void 0){var U=k.chartX,q=k.chartY,M=k.activeTooltipIndex,I=S.state,V=I.offset,F=I.tooltipTicks;if(!V)return;if(typeof N=="function")M=N(F,k);else if(N==="value"){M=-1;for(var R=0;R<F.length;R++)if(F[R].value===k.activeLabel){M=R;break}}var re=Pe(Pe({},V),{},{x:V.left,y:V.top}),Z=Math.min(U,re.x+re.width),C=Math.min(q,re.y+re.height),K=F[M]&&F[M].value,B=nT(S.state,S.props.data,M),z=F[M]?{x:E==="horizontal"?F[M].coordinate:Z,y:E==="horizontal"?C:F[M].coordinate}:SJ;S.setState(Pe(Pe({},k),{},{activeLabel:K,activeCoordinate:z,activePayload:B,activeTooltipIndex:M}))}else S.setState(k)}),Nt(S,"renderCursor",function(k){var j,E=S.state,N=E.isTooltipActive,A=E.activeCoordinate,D=E.activePayload,T=E.offset,U=E.activeTooltipIndex,q=E.tooltipAxisBandSize,M=S.getTooltipEventType(),I=(j=k.props.active)!==null&&j!==void 0?j:N,V=S.props.layout,F=k.key||"_recharts-cursor";return ae.createElement(HKe,{key:F,activeCoordinate:A,activePayload:D,activeTooltipIndex:U,chartName:r,element:k,isActive:I,layout:V,offset:T,tooltipAxisBandSize:q,tooltipEventType:M})}),Nt(S,"renderPolarAxis",function(k,j,E){var N=ii(k,"type.axisType"),A=ii(S.state,"".concat(N,"Map")),D=k.type.defaultProps,T=D!==void 0?Pe(Pe({},D),k.props):k.props,U=A&&A[T["".concat(N,"Id")]];return x.cloneElement(k,Pe(Pe({},U),{},{className:Bt(N,U.className),key:k.key||"".concat(j,"-").concat(E),ticks:ec(U,!0)}))}),Nt(S,"renderPolarGrid",function(k){var j=k.props,E=j.radialLines,N=j.polarAngles,A=j.polarRadius,D=S.state,T=D.radiusAxisMap,U=D.angleAxisMap,q=Qc(T),M=Qc(U),I=M.cx,V=M.cy,F=M.innerRadius,R=M.outerRadius;return x.cloneElement(k,{polarAngles:Array.isArray(N)?N:ec(M,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(A)?A:ec(q,!0).map(function(re){return re.coordinate}),cx:I,cy:V,innerRadius:F,outerRadius:R,key:k.key||"polar-grid",radialLines:E})}),Nt(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,j=S.props,E=j.children,N=j.width,A=j.height,D=S.props.margin||{},T=N-(D.left||0)-(D.right||0),U=tX({children:E,formattedGraphicalItems:k,legendWidth:T,legendContent:u});if(!U)return null;var q=U.item,M=L5(U,qKe);return x.cloneElement(q,Pe(Pe({},M),{},{chartWidth:N,chartHeight:A,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Nt(S,"renderTooltip",function(){var k,j=S.props,E=j.children,N=j.accessibilityLayer,A=Ks(E,Ei);if(!A)return null;var D=S.state,T=D.isTooltipActive,U=D.activeCoordinate,q=D.activePayload,M=D.activeLabel,I=D.offset,V=(k=A.props.active)!==null&&k!==void 0?k:T;return x.cloneElement(A,{viewBox:Pe(Pe({},I),{},{x:I.left,y:I.top}),active:V,label:M,payload:V?q:[],coordinate:U,accessibilityLayer:N})}),Nt(S,"renderBrush",function(k){var j=S.props,E=j.margin,N=j.data,A=S.state,D=A.offset,T=A.dataStartIndex,U=A.dataEndIndex,q=A.updateId;return x.cloneElement(k,{key:k.key||"_recharts-brush",onChange:t1(S.handleBrushChange,k.props.onChange),data:N,x:Xe(k.props.x)?k.props.x:D.left,y:Xe(k.props.y)?k.props.y:D.top+D.height+D.brushBottom-(E.bottom||0),width:Xe(k.props.width)?k.props.width:D.width,startIndex:T,endIndex:U,updateId:"brush-".concat(q)})}),Nt(S,"renderReferenceElement",function(k,j,E){if(!k)return null;var N=S,A=N.clipPathId,D=S.state,T=D.xAxisMap,U=D.yAxisMap,q=D.offset,M=k.type.defaultProps||{},I=k.props,V=I.xAxisId,F=V===void 0?M.xAxisId:V,R=I.yAxisId,re=R===void 0?M.yAxisId:R;return x.cloneElement(k,{key:k.key||"".concat(j,"-").concat(E),xAxis:T[F],yAxis:U[re],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:A})}),Nt(S,"renderActivePoints",function(k){var j=k.item,E=k.activePoint,N=k.basePoint,A=k.childIndex,D=k.isRange,T=[],U=j.props.key,q=j.item.type.defaultProps!==void 0?Pe(Pe({},j.item.type.defaultProps),j.item.props):j.item.props,M=q.activeDot,I=q.dataKey,V=Pe(Pe({index:A,dataKey:I,cx:E.x,cy:E.y,r:4,fill:p4(j.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},kt(M,!1)),Hw(M));return T.push(y.renderActiveDot(M,V,"".concat(U,"-activePoint-").concat(A))),N?T.push(y.renderActiveDot(M,Pe(Pe({},V),{},{cx:N.x,cy:N.y}),"".concat(U,"-basePoint-").concat(A))):D&&T.push(null),T}),Nt(S,"renderGraphicChild",function(k,j,E){var N=S.filterFormatItem(k,j,E);if(!N)return null;var A=S.getTooltipEventType(),D=S.state,T=D.isTooltipActive,U=D.tooltipAxis,q=D.activeTooltipIndex,M=D.activeLabel,I=S.props.children,V=Ks(I,Ei),F=N.props,R=F.points,re=F.isRange,Z=F.baseLine,C=N.item.type.defaultProps!==void 0?Pe(Pe({},N.item.type.defaultProps),N.item.props):N.item.props,K=C.activeDot,B=C.hide,z=C.activeBar,ne=C.activeShape,oe=!!(!B&&T&&V&&(K||z||ne)),ue={};A!=="axis"&&V&&V.props.trigger==="click"?ue={onClick:t1(S.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(ue={onMouseLeave:t1(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:t1(S.handleItemMouseEnter,k.props.onMouseEnter)});var ie=x.cloneElement(k,Pe(Pe({},N.props),ue));function X(Q){return typeof U.dataKey=="function"?U.dataKey(Q.payload):null}if(oe)if(q>=0){var de,O;if(U.dataKey&&!U.allowDuplicatedCategory){var Fe=typeof U.dataKey=="function"?X:"payload.".concat(U.dataKey.toString());de=Ww(R,Fe,M),O=re&&Z&&Ww(Z,Fe,M)}else de=R==null?void 0:R[q],O=re&&Z&&Z[q];if(ne||z){var Re=k.props.activeIndex!==void 0?k.props.activeIndex:q;return[x.cloneElement(k,Pe(Pe(Pe({},N.props),ue),{},{activeIndex:Re})),null,null]}if(!Lt(de))return[ie].concat(fp(S.renderActivePoints({item:N,activePoint:de,basePoint:O,childIndex:q,isRange:re})))}else{var Be,We=(Be=S.getItemByXY(S.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:ie},De=We.graphicalItem,ft=De.item,gt=ft===void 0?k:ft,se=De.childIndex,ve=Pe(Pe(Pe({},N.props),ue),{},{activeIndex:se});return[x.cloneElement(gt,ve),null,null]}return re?[ie,null,null]:[ie,null]}),Nt(S,"renderCustomized",function(k,j,E){return x.cloneElement(k,Pe(Pe({key:"recharts-customized-".concat(E)},S.props),S.state))}),Nt(S,"renderMap",{CartesianGrid:{handler:i1,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:i1},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:i1},YAxis:{handler:i1},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:Hp("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=eY(S.triggeredAfterMouseMove,(_=w.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return aGe(y,v),eGe(y,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,S=b.data,k=b.height,j=b.layout,E=Ks(_,Ei);if(E){var N=E.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,D=nT(this.state,S,N,A),T=this.state.tooltipTicks[N].coordinate,U=(this.state.offset.top+k)/2,q=j==="horizontal",M=q?{x:T,y:U}:{y:T,x:U},I=this.state.formattedGraphicalItems.find(function(F){var R=F.item;return R.type.name==="Scatter"});I&&(M=Pe(Pe({},M),I.props.points[N].tooltipPosition),D=I.props.points[N].tooltipPayload);var V={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:A,activePayload:D,activeCoordinate:M};this.setState(V),this.renderCursor(E),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){PE([Ks(b.children,Ei)],[Ks(this.props.children,Ei)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ks(this.props.children,Ei);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),k=i$e(S),j={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},E=S.width/_.offsetWidth||1,N=this.inRange(j.chartX,j.chartY,E);if(!N)return null;var A=this.state,D=A.xAxisMap,T=A.yAxisMap,U=this.getTooltipEventType(),q=B5(this.state,this.props.data,this.props.layout,N);if(U!=="axis"&&D&&T){var M=Qc(D).scale,I=Qc(T).scale,V=M&&M.invert?M.invert(j.chartX):null,F=I&&I.invert?I.invert(j.chartY):null;return Pe(Pe({},j),{},{xValue:V,yValue:F},q)}return q?Pe(Pe({},j),q):null}},{key:"inRange",value:function(b,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=b/S,E=_/S;if(k==="horizontal"||k==="vertical"){var N=this.state.offset,A=j>=N.left&&j<=N.left+N.width&&E>=N.top&&E<=N.top+N.height;return A?{x:j,y:E}:null}var D=this.state,T=D.angleAxisMap,U=D.radiusAxisMap;if(T&&U){var q=Qc(T);return d$({x:j,y:E},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),S=Ks(b,Ei),k={};S&&_==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Hw(this.props,this.handleOuterEvent);return Pe(Pe({},j),k)}},{key:"addListener",value:function(){u2.on(d2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){u2.removeListener(d2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,S){for(var k=this.state.formattedGraphicalItems,j=0,E=k.length;j<E;j++){var N=k[j];if(N.item===b||N.props.key===b.key||_===ac(N.item.type)&&S===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,S=_.left,k=_.top,j=_.height,E=_.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:b},ae.createElement("rect",{x:S,y:k,height:j,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,S){var k=F5(S,2),j=k[0],E=k[1];return Pe(Pe({},_),{},Nt({},j,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,S){var k=F5(S,2),j=k[0],E=k[1];return Pe(Pe({},_),{},Nt({},j,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,S=_.formattedGraphicalItems,k=_.activeItem;if(S&&S.length)for(var j=0,E=S.length;j<E;j++){var N=S[j],A=N.props,D=N.item,T=D.type.defaultProps!==void 0?Pe(Pe({},D.type.defaultProps),D.props):D.props,U=ac(D.type);if(U==="Bar"){var q=(A.data||[]).find(function(F){return V7e(b,F)});if(q)return{graphicalItem:N,payload:q}}else if(U==="RadialBar"){var M=(A.data||[]).find(function(F){return d$(b,F)});if(M)return{graphicalItem:N,payload:M}}else if(HS(N,k)||qS(N,k)||$v(N,k)){var I=Aze({graphicalItem:N,activeTooltipItem:k,itemData:T.data}),V=T.activeIndex===void 0?I:T.activeIndex;return{graphicalItem:Pe(Pe({},N),{},{childIndex:V}),payload:$v(N,k)?T.data[I]:N.props.data[I]}}}return null}},{key:"render",value:function(){var b=this;if(!t3(this))return null;var _=this.props,S=_.children,k=_.className,j=_.width,E=_.height,N=_.style,A=_.compact,D=_.title,T=_.desc,U=L5(_,KKe),q=kt(U,!1);if(A)return ae.createElement(y5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(RE,$h({},q,{width:j,height:E,title:D,desc:T}),this.renderClipPath(),n3(S,this.renderMap)));if(this.props.accessibilityLayer){var M,I;q.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,q.role=(I=this.props.role)!==null&&I!==void 0?I:"application",q.onKeyDown=function(F){b.accessibilityManager.keyboardEvent(F)},q.onFocus=function(){b.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return ae.createElement(y5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",$h({className:Bt("recharts-wrapper",k),style:Pe({position:"relative",cursor:"default",width:j,height:E},N)},V,{ref:function(R){b.container=R}}),ae.createElement(RE,$h({},q,{width:j,height:E,title:D,desc:T,style:uGe}),this.renderClipPath(),n3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Nt(g,"displayName",r),Nt(g,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Nt(g,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,b=v.data,_=v.children,S=v.width,k=v.height,j=v.layout,E=v.stackOffset,N=v.margin,A=y.dataStartIndex,D=y.dataEndIndex;if(y.updateId===void 0){var T=U5(v);return Pe(Pe(Pe({},T),{},{updateId:0},m(Pe(Pe({props:v},T),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:b,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:E,prevMargin:N,prevChildren:_})}if(w!==y.prevDataKey||b!==y.prevData||S!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||E!==y.prevStackOffset||!nm(N,y.prevMargin)){var U=U5(v),q={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},M=Pe(Pe({},B5(y,b,j)),{},{updateId:y.updateId+1}),I=Pe(Pe(Pe({},U),q),M);return Pe(Pe(Pe({},I),m(Pe({props:v},I),y)),{},{prevDataKey:w,prevData:b,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:E,prevMargin:N,prevChildren:_})}if(!PE(_,y.prevChildren)){var V,F,R,re,Z=Ks(_,rp),C=Z&&(V=(F=Z.props)===null||F===void 0?void 0:F.startIndex)!==null&&V!==void 0?V:A,K=Z&&(R=(re=Z.props)===null||re===void 0?void 0:re.endIndex)!==null&&R!==void 0?R:D,B=C!==A||K!==D,z=!Lt(b),ne=z&&!B?y.updateId:y.updateId+1;return Pe(Pe({updateId:ne},m(Pe(Pe({props:v},y),{},{updateId:ne,dataStartIndex:C,dataEndIndex:K}),y)),{},{prevChildren:_,dataStartIndex:C,dataEndIndex:K})}return null}),Nt(g,"renderActiveDot",function(v,y,w){var b;return x.isValidElement(v)?b=x.cloneElement(v,y):Ot(v)?b=v(y):b=ae.createElement(BS,y),ae.createElement(cr,{className:"recharts-active-dot",key:w},b)});var p=x.forwardRef(function(y,w){return ae.createElement(g,$h({},y,{ref:w}))});return p.displayName=g.displayName,p},NJ=kJ({chartName:"LineChart",GraphicalChild:Zp,axisComponents:[{axisType:"xAxis",AxisComp:Gx},{axisType:"yAxis",AxisComp:Yx}],formatAxisMap:lHe}),Wc=kJ({chartName:"PieChart",GraphicalChild:Na,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:WS},{axisType:"radiusAxis",AxisComp:VS}],formatAxisMap:rUe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const wGe={light:"",dark:".dark"},EJ=x.createContext(null);function CJ(){const e=x.useContext(EJ);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Vl=x.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const i=x.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return o.jsx(EJ.Provider,{value:{config:n},children:o.jsxs("div",{"data-chart":l,ref:s,className:ke("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[o.jsx(bGe,{id:l,config:n}),o.jsx(WP,{children:r})]})})});Vl.displayName="Chart";const bGe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?o.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(wGe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Hc=Ei,zl=x.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:g}=CJ(),p=x.useMemo(()=>{var S;if(a||!(t!=null&&t.length))return null;const[y]=t,w=`${h||y.dataKey||y.name||"value"}`,b=aT(g,y,w),_=!h&&typeof i=="string"?((S=g[i])==null?void 0:S.label)||i:b==null?void 0:b.label;return l?o.jsx("div",{className:ke("font-medium",c),children:l(_,t)}):_?o.jsx("div",{className:ke("font-medium",c),children:_}):null},[i,l,t,a,c,g,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return o.jsxs("div",{ref:m,className:ke("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:p,o.jsx("div",{className:"grid gap-1.5",children:t.map((y,w)=>{const b=`${f||y.name||y.dataKey||"value"}`,_=aT(g,y,b),S=d||y.payload.fill||y.color;return o.jsx("div",{className:ke("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,w,y.payload):o.jsxs(o.Fragment,{children:[_!=null&&_.icon?o.jsx(_.icon,{}):!s&&o.jsx("div",{className:ke("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),o.jsxs("div",{className:ke("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[o.jsxs("div",{className:"grid gap-1.5",children:[v?p:null,o.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||y.name})]}),y.value&&o.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});zl.displayName="ChartTooltip";const _Ge=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:i}=CJ();return r!=null&&r.length?o.jsx("div",{ref:s,className:ke("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=aT(i,l,c);return o.jsxs("div",{className:ke("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?o.jsx(u.icon,{}):o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});_Ge.displayName="ChartLegend";function aT(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function SGe(){var q4,K4,G4,Y4,X4,J4,Q4;const{t:e}=Ht(),{user:t}=Sr(),{currentLanguage:r}=mi(),{toast:n}=jl(),a=La(),{setBreadcrumbs:s}=ax();Bs();const[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[g,p]=x.useState([]),[v,y]=x.useState([]),[w,b]=x.useState([]),[_,S]=x.useState([]),[k,j]=x.useState([]),[E,N]=x.useState([]),[A,D]=x.useState([]),[T,U]=x.useState([]),[q,M]=x.useState(!0),[I,V]=x.useState(null),[F,R]=x.useState(""),[re,Z]=x.useState(1),[C]=x.useState(8),[K,B]=x.useState(0),[z,ne]=x.useState(""),[oe,ue]=x.useState(""),[ie,X]=x.useState(""),[de,O]=x.useState(""),[Fe,Re]=x.useState(""),[Be,We]=x.useState(""),[De,ft]=x.useState(null),[gt,se]=x.useState(null),[ve,Q]=x.useState(!1),[ee,he]=x.useState(!1),[me,$e]=x.useState({city_name_en:"",city_name_ar:"",country_id:null}),[we,_e]=x.useState(!1),[fe,je]=x.useState({system_name_en:"",system_name_ar:""}),[Le,Ie]=x.useState(!1),[Ve,vt]=x.useState({activity_name_en:"",activity_name_ar:""}),[Zt,hr]=x.useState(!1),[or,dr]=x.useState({status_name_en:"",status_name_ar:""}),[Ba,An]=x.useState([]),[Vr,hs]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[le,Se]=x.useState(!1),[Oe,Me]=x.useState(null),[et,nt]=x.useState(null),[qt,jr]=x.useState(!1),[Ua,Va]=x.useState([]),[On,td]=x.useState(!1),[Gi,W]=x.useState("list"),[te,J]=x.useState(null),[P,H]=x.useState(!1),[Y,ge]=x.useState(!1),[Ee,ye]=x.useState(!1),[be,Ne]=x.useState(!1),[Ue,Je]=x.useState(!1),[at,Ke]=x.useState(!1),[rt,Pt]=x.useState(!1),[Nr,Er]=x.useState(!1),[Pn,Tc]=x.useState(!1),[Lo,Ac]=x.useState(null),[$o,e0]=x.useState(null),[pi,rj]=x.useState(!1),[I4,nj]=x.useState(!1),[M4,aj]=x.useState(!1),[F4,sj]=x.useState(!1),[L4,ij]=x.useState(!1),[$4,oj]=x.useState(!1),[rr,za]=x.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[s,e]),x.useEffect(()=>{B4()},[]),x.useEffect(()=>{t0()},[re,F,z,oe,ie,de,Fe,Be,r]),x.useEffect(()=>{On&&KJ()},[On,F,z,oe,ie,de,Fe,Be,r]);const B4=async()=>{try{M(!0),V(null);const[L,xe,Ge,yt,Gr,gi,Ol,rd,Vf]=await Promise.all([G.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:200,select_fields:"city_id,city_name_en,city_name_ar"}),G.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:200,select_fields:"activity_id,activity_name_en,activity_name_ar"}),G.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:200,select_fields:"status_id,status_name_en,status_name_ar"}),G.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:200,select_fields:"system_id,system_name_en,system_name_ar"}),G.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:200,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),G.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:200}),G.Users.list({sort_by:"name",sort_order:"asc",pageSize:200,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),G.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:200,select_fields:"country_id,country_name_en,country_name_ar"}),G.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:200,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),Pl=nd=>Array.isArray(nd)?nd:nd!=null&&nd.data&&Array.isArray(nd.data)?nd.data:[];f(Pl(L)),m(Pl(xe)),p(Pl(Ge)),y(Pl(yt)),b(Pl(Gr)),S(Pl(gi)),N(Pl(Ol)),D(Pl(rd)),U(Pl(Vf))}catch(L){const xe=L instanceof Error?L.message:"Failed to load data";V(xe),n({title:"Error",description:xe,variant:"destructive"})}finally{M(!1)}},t0=async()=>{try{M(!0),V(null);const L={};z&&(L.city_id=z),ie&&(L.system_id=ie),de&&(L.status_id=de),Fe&&(L.activity_id=Fe),Be&&(L.assigned_to=Be),oe&&(L.m_city_country_id=oe);const Ol=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),rd={page:re-1,pageSize:C,sort_by:"created_at",sort_order:"desc",exact_filters:L,select_fields:Ol};F&&(rd.search=F);const Vf=await G.mLeads.list(rd);l(Vf.data||[]),B(Vf.total||0)}catch(L){const xe=L instanceof Error?L.message:"Failed to load data";V(xe),n({title:"Error",description:xe,variant:"destructive"})}finally{M(!1)}},KJ=async()=>{try{const L={};z&&(L.city_id=z),ie&&(L.system_id=ie),de&&(L.status_id=de),Fe&&(L.activity_id=Fe),Be&&(L.assigned_to=Be),oe&&(L.m_city_country_id=oe);const Ol=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","CreatedUsers_name","Users_name"].join(","),rd={pageSize:1e3,exact_filters:L,select_fields:Ol};F&&(rd.search=F);const Vf=await G.mLeads.list(rd);u(Vf.data||[])}catch(L){console.error("Failed to load all filtered leads:",L)}},ms=x.useMemo(()=>On?c:i,[On,c,i]),GJ=x.useMemo(()=>{if(On){const L=(re-1)*C,xe=L+C;return ms.slice(L,xe)}else return i},[On,ms,i,re,C]),Oc=Math.ceil(K/C);x.useEffect(()=>{re>Oc&&Oc>0&&Z(Oc)},[re,Oc]);const Yt=(L,xe,Ge)=>{if(!L)return"-";let yt=r==="ar"&&(L==null?void 0:L[Ge])||(L==null?void 0:L[xe]);if(!yt){const Gr=xe.replace(/_en$/,""),gi=Ge.replace(/_ar$/,"");yt=r==="ar"&&(L==null?void 0:L[gi])||(L==null?void 0:L[Gr])}return yt||(L==null?void 0:L.name)||(L==null?void 0:L.label)||(L==null?void 0:L.title)||"-"},lj=L=>L&&(r==="ar"?L.m_city_city_name_ar||L.m_city_city_name_en:L.m_city_city_name_en||L.m_city_city_name_ar)||"-",cj=L=>L&&(r==="ar"?L.m_activity_activity_name_ar||L.m_activity_activity_name_en:L.m_activity_activity_name_en||L.m_activity_activity_name_ar)||"-",uj=L=>L&&(r==="ar"?L.m_status_status_name_ar||L.m_status_status_name_en:L.m_status_status_name_en||L.m_status_status_name_ar)||"-",dj=L=>L&&(r==="ar"?L.m_system_system_name_ar||L.m_system_system_name_en:L.m_system_system_name_en||L.m_system_system_name_ar)||"-",U4=L=>L&&(r==="ar"?L.stages_stage_name_ar||L.stages_stage_name:L.stages_stage_name||L.stages_stage_name_ar)||"-",Jx=L=>{if(!L)return"-";const xe=E.find(Ge=>{var yt,Gr;return((yt=Ge.userid)==null?void 0:yt.toString())===L||((Gr=Ge.user_id)==null?void 0:Gr.toString())===L});return(xe==null?void 0:xe.name)||(xe==null?void 0:xe.user_name)||(xe==null?void 0:xe.display_name)||"-"},YJ=L=>{if(L==null||L==="")return"";const xe=Number(L),Ge=d.find(yt=>Number(yt.city_id)===xe);return Yt(Ge,"city_name_en","city_name_ar")},XJ=L=>{if(L==null||L==="")return"";const xe=Number(L),Ge=h.find(yt=>Number(yt.activity_id)===xe);return Yt(Ge,"activity_name_en","activity_name_ar")},JJ=L=>{if(L==null||L==="")return"";const xe=Number(L),Ge=g.find(yt=>Number(yt.status_id)===xe);return Yt(Ge,"status_name_en","status_name_ar")},QJ=L=>{if(L==null||L==="")return"";const xe=Number(L),Ge=v.find(yt=>Number(yt.system_id)===xe);return Yt(Ge,"system_name_en","system_name_ar")},ZJ=L=>{if(!L)return"";const xe=w.find(Ge=>Number(Ge.stage_id)===Number(L));return Yt(xe,"stage_name","stage_name_ar")},fj=L=>{const Ge={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[L]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${Ge.bg} ${Ge.text} ${Ge.border}`},eQ=async(L,xe)=>{const Ge=L.name.split(".").pop(),Gr=`leads-quotation/${`${xe}/${Math.random().toString(36).substring(2)}.${Ge}`}`,{error:gi}=await $t.storage.from("leads-quotation").upload(Gr,L);if(gi)throw gi;const{data:{publicUrl:Ol}}=$t.storage.from("leads-quotation").getPublicUrl(Gr);return{file_key:Gr,public_url:Ol,name:L.name,size:L.size,content_type:L.type,uploaded_at:new Date().toISOString(),uploaded_by:t==null?void 0:t.id}},tQ=async()=>{try{let L;if(gt)await G.mLeads.update(gt,rr),L=gt,n({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const xe={...rr,created_by:t==null?void 0:t.id},Ge=await G.mLeads.create(xe);if(Ge&&Ge.leads_id)L=Ge.leads_id;else if(L=Ge.id||Ge.leads_id,!L)throw new Error("Failed to create lead");n({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(gt){await hj(gt);const xe=k.filter(Ge=>Ge.leads_id===gt);for(const Ge of xe)await G.mContacts.delete(Ge.contact_id);Ba.length>0&&await H4(L)}else Ba.length>0&&await H4(L);if(te&&rr.status_id===7){H(!0);try{const xe=await eQ(te,L);await G.mLeads.update(L,{lead_quotation:xe})}catch(xe){console.error("File upload failed:",xe),n({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{H(!1),J(null)}}Q(!1),se(null),za({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),An([]),await t0()}catch(L){const xe=L instanceof Error?L.message:"Failed to save";n({title:"Error",description:xe,variant:"destructive"})}},rQ=async L=>{try{await G.mLeads.delete(L),n({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),ft(null),await t0()}catch(xe){const Ge=xe instanceof Error?xe.message:"Failed to delete";n({title:"Error",description:Ge,variant:"destructive"})}},V4=L=>{nt(L),z4(L.leads_id),hj(L.leads_id),jr(!0)},z4=async L=>{try{const xe=await Qh.getByRelated("mlead",L);Va(xe)}catch(xe){console.error("Failed to load notes:",xe),Va([])}},hj=async L=>{try{const xe=await G.mContacts.list({exact_filters:{leads_id:L},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});j(xe.data||[])}catch(xe){console.error("Failed to load contacts:",xe),j([])}},W4=async L=>{se(L.leads_id),za(L),await hj(L.leads_id);const xe=k.filter(Ge=>Ge.leads_id===L.leads_id);An(xe.map(Ge=>{var yt;return{contact_name:Ge.contact_name||"",contact_email:Ge.contact_email||"",contact_mobile:((yt=Ge.contact_mobile)==null?void 0:yt.toString())||"",jobtitle_id:Ge.jobtitle_id}})),Q(!0)},nQ=async L=>{try{await Promise.all(L.map(xe=>G.mLeads.delete(xe))),n({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await t0()}catch(xe){const Ge=xe instanceof Error?xe.message:"Failed to delete";n({title:"Error",description:Ge,variant:"destructive"})}},aQ=async()=>{try{if(!me.city_name_en&&!me.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const L=await G.mCity.create(me);L&&(f([...d,L]),za({...rr,city_id:L.city_id}),he(!1),$e({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(L){const xe=L instanceof Error?L.message:"Failed to create city";n({title:"Error",description:xe,variant:"destructive"})}},sQ=async()=>{try{if(!fe.system_name_en&&!fe.system_name_ar){n({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const L=await G.mSystem.create(fe);L&&(y([...v,L]),za({...rr,system_id:L.system_id}),_e(!1),je({system_name_en:"",system_name_ar:""}),n({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(L){const xe=L instanceof Error?L.message:"Failed to create system";n({title:"Error",description:xe,variant:"destructive"})}},iQ=async()=>{try{if(!Ve.activity_name_en&&!Ve.activity_name_ar){n({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const L=await G.mActivity.create(Ve);L&&(m([...h,L]),za({...rr,activity_id:L.activity_id}),Ie(!1),vt({activity_name_en:"",activity_name_ar:""}),n({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(L){const xe=L instanceof Error?L.message:"Failed to create activity";n({title:"Error",description:xe,variant:"destructive"})}},oQ=async()=>{try{if(!or.status_name_en&&!or.status_name_ar){n({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const L=await G.mStatus.create(or);L&&(p([...g,L]),za({...rr,status_id:L.status_id}),hr(!1),dr({status_name_en:"",status_name_ar:""}),n({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(L){const xe=L instanceof Error?L.message:"Failed to create status";n({title:"Error",description:xe,variant:"destructive"})}},lQ=()=>{if(!Vr.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}An([...Ba,{...Vr}]),hs({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Se(!1)},cQ=L=>{An(Ba.filter((xe,Ge)=>Ge!==L))},H4=async L=>{try{const xe=Ba.map(Ge=>({...Ge,leads_id:L,contact_mobile:Ge.contact_mobile?parseInt(Ge.contact_mobile):null}));if(xe.length>0)for(const Ge of xe)await G.mContacts.create(Ge)}catch(xe){const Ge=xe instanceof Error?xe.message:"Failed to save contacts";n({title:"Error",description:Ge,variant:"destructive"})}},uQ=L=>{Ac(L)},dQ=L=>{L.preventDefault(),L.dataTransfer.dropEffect="move"},fQ=async L=>{if(!Lo)return;const xe=i.find(Ge=>Ge.leads_id===Lo);if(xe&&xe.stage_id!==L)try{await G.mLeads.update(Lo,{stage_id:L}),n({title:e("common.success"),description:"Lead stage updated successfully"}),await t0()}catch(Ge){console.error("Failed to update lead stage:",Ge),n({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}Ac(null)};if(q)return o.jsx(Of,{});if(I)return o.jsx(Rp,{message:I,onRetry:B4});const hQ=[{label:e("common.delete"),icon:o.jsx(_r,{}),onClick:L=>{window.confirm(`Delete ${L.length} leads?`)&&nQ(L.map(xe=>xe.leads_id))},variant:"destructive"}],mQ=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:L=>o.jsx(vc,{title:L.company_name||"-",subtitle:L.address||"",icon:o.jsx(on,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:L=>o.jsx("span",{className:"text-sm text-foreground",children:lj(L)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:L=>o.jsx(mt,{variant:"outline",className:"text-xs truncate",children:cj(L)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:L=>{const xe=uj(L);return o.jsx(mt,{variant:"outline",className:`text-xs truncate ${fj(L.status_id)}`,children:xe})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:L=>o.jsx(mt,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:U4(L)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:L=>o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:dj(L)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[100px]",hideOnMobile:!0,render:L=>o.jsx("div",{className:"truncate",children:o.jsx(Fm,{name:L.created_by_name})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:L=>o.jsx(Iu,{date:L.created_at})}],pQ=[{icon:o.jsx(Bi,{}),label:e("common.edit"),onClick:L=>W4(L)},{icon:o.jsx(_r,{}),label:e("common.delete"),onClick:L=>ft(L.leads_id),variant:"destructive"}];return o.jsxs("div",{className:"h-full flex flex-col space-y-4 bg-background p-4 rounded-md",dir:Ur()?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10",children:o.jsx(on,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:e("mleads.masterLeads")}),o.jsx("p",{className:"text-sm text-muted-foreground hidden sm:block",children:e("mleads.manageMasterLeadsData")})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[o.jsxs(ce,{variant:"default",size:"sm",onClick:()=>W(Gi==="list"?"kanban":"list"),className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[Gi==="list"?o.jsx(Di,{className:"h-4 w-4"}):o.jsx(on,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:e(Gi==="list"?"mleads.kanbanView":"mleads.listView")}),o.jsx("span",{className:"sm:hidden",children:e(Gi==="list"?"mleads.kanbanView":"mleads.listView")})]}),o.jsxs(ce,{variant:"default",size:"sm",onClick:()=>td(!On),className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[o.jsx(Di,{className:"h-4 w-4"}),o.jsx("span",{children:e("mleads.showChart")}),o.jsx(y_,{className:`h-4 w-4 transition-transform ${On?"rotate-180":""}`})]}),o.jsxs(ce,{size:"sm",onClick:()=>{se(null),za({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),An([]),Me(null),he(!1),_e(!1),Ie(!1),hr(!1),$e({city_name_en:"",city_name_ar:"",country_id:null}),je({system_name_en:"",system_name_ar:""}),vt({activity_name_en:"",activity_name_ar:""}),dr({status_name_en:"",status_name_ar:""}),J(null),Q(!0)},className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[o.jsx(ar,{className:"w-4 h-4"}),o.jsx("span",{children:e("common.add")})]})]})]}),o.jsx(gl,{open:ve,onOpenChange:Q,children:o.jsxs(Po,{className:"w-full sm:max-w-[540px] flex flex-col h-full",children:[o.jsx(pc,{children:o.jsx(vl,{children:e(gt?"mleads.editLead":"mleads.createNewLead")})}),o.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),o.jsx(ze,{value:rr.company_name||"",onChange:L=>za({...rr,company_name:L.target.value}),placeholder:e("mleads.companyName")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),o.jsx(la,{value:rr.address||"",onChange:L=>za({...rr,address:L.target.value}),placeholder:e("mleads.address")})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),o.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Se(!le),className:"h-6 px-2 text-xs",children:e(le?"mleads.cancel":"mleads.addContact")})]}),Ba.length>0&&o.jsx("div",{className:"space-y-2 mb-3",children:Ba.map((L,xe)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:L.contact_name}),o.jsxs("div",{className:"text-muted-foreground",children:[L.contact_email&&`${L.contact_email}  `,L.contact_mobile&&`${L.contact_mobile}`]})]}),o.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>cQ(xe),className:"h-6 w-6 p-0",children:o.jsx(Mi,{className:"h-3 w-3"})})]},xe))}),le&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mleads.contactName"),value:Vr.contact_name,onChange:L=>hs({...Vr,contact_name:L.target.value})}),o.jsx(ze,{placeholder:e("mleads.email"),type:"email",value:Vr.contact_email,onChange:L=>hs({...Vr,contact_email:L.target.value})}),o.jsx(ze,{placeholder:e("mleads.mobile"),value:Vr.contact_mobile,onChange:L=>hs({...Vr,contact_mobile:L.target.value})}),o.jsxs(pa,{open:Nr,onOpenChange:Er,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":Nr,className:"w-full justify-between",children:[Vr.jobtitle_id?(q4=T.find(L=>L.jobtitle_id===Vr.jobtitle_id))==null?void 0:q4.jobtitle_name_en:e("mleads.selectJobTitle"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchJobTitle")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsx(ba,{children:T&&T.length>0?T.map(L=>o.jsx(zr,{value:Yt(L,"jobtitle_name_en","jobtitle_name_ar")||L.jobtitle_name_en||"Unknown",onSelect:()=>{hs(xe=>({...xe,jobtitle_id:L.jobtitle_id})),Er(!1)},children:Yt(L,"jobtitle_name_en","jobtitle_name_ar")||L.jobtitle_name_en||"Unknown"},L.jobtitle_id)):o.jsx(zr,{disabled:!0,children:"No job titles available"})})]})]})})]}),o.jsx(ce,{type:"button",onClick:lQ,className:"w-full",children:e("mleads.addContactTitle")})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),o.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>he(!ee),className:"h-6 px-2 text-xs",children:e(ee?"mleads.cancel":"mleads.addNew")})]}),ee?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mleads.cityNameEn"),value:me.city_name_en,onChange:L=>$e({...me,city_name_en:L.target.value})}),o.jsx(ze,{placeholder:e("mleads.cityNameAr"),value:me.city_name_ar,onChange:L=>$e({...me,city_name_ar:L.target.value})}),o.jsxs(pa,{open:Pn,onOpenChange:Tc,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":Pn,className:"w-full justify-between",children:[me.country_id?(K4=A.find(L=>L.country_id===me.country_id))==null?void 0:K4.country_name_en:e("mleads.selectCountry"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchCountry")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsx(ba,{children:A.map(L=>o.jsx(zr,{value:Yt(L,"country_name_en","country_name_ar"),onSelect:()=>{$e({...me,country_id:L.country_id}),Tc(!1)},children:Yt(L,"country_name_en","country_name_ar")},L.country_id))})]})]})})]}),o.jsx(ce,{type:"button",onClick:aQ,className:"w-full",children:e("mleads.createCity")})]}):o.jsxs(pa,{open:Y,onOpenChange:ge,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":Y,className:"w-full justify-between",children:[rr.city_id?YJ(rr.city_id):e("mleads.city"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchCity")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsx(ba,{children:d.map(L=>o.jsx(zr,{value:Yt(L,"city_name_en","city_name_ar"),onSelect:()=>{za({...rr,city_id:L.city_id}),ge(!1)},children:Yt(L,"city_name_en","city_name_ar")},L.city_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),o.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ie(!Le),className:"h-6 px-2 text-xs",children:e(Le?"mleads.cancel":"mleads.addNew")})]}),Le?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mleads.activityNameEn"),value:Ve.activity_name_en,onChange:L=>vt({...Ve,activity_name_en:L.target.value})}),o.jsx(ze,{placeholder:e("mleads.activityNameAr"),value:Ve.activity_name_ar,onChange:L=>vt({...Ve,activity_name_ar:L.target.value})}),o.jsx(ce,{type:"button",onClick:iQ,className:"w-full",children:e("mleads.createActivity")})]}):o.jsxs(pa,{open:Ee,onOpenChange:ye,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":Ee,className:"w-full justify-between",children:[rr.activity_id?XJ(rr.activity_id):e("mleads.selectActivity"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchActivity")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsx(ba,{children:h.map(L=>o.jsx(zr,{value:Yt(L,"activity_name_en","activity_name_ar"),onSelect:()=>{za({...rr,activity_id:L.activity_id}),ye(!1)},children:Yt(L,"activity_name_en","activity_name_ar")},L.activity_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),o.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>_e(!we),className:"h-6 px-2 text-xs",children:e(we?"mleads.cancel":"mleads.addNew")})]}),we?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mleads.systemNameEn"),value:fe.system_name_en,onChange:L=>je({...fe,system_name_en:L.target.value})}),o.jsx(ze,{placeholder:e("mleads.systemNameAr"),value:fe.system_name_ar,onChange:L=>je({...fe,system_name_ar:L.target.value})}),o.jsx(ce,{type:"button",onClick:sQ,className:"w-full",children:e("mleads.createSystem")})]}):o.jsxs(pa,{open:be,onOpenChange:Ne,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":be,className:"w-full justify-between",children:[rr.system_id?QJ(rr.system_id):e("mleads.selectSystem"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchSystem")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsx(ba,{children:v.map(L=>o.jsx(zr,{value:Yt(L,"system_name_en","system_name_ar"),onSelect:()=>{za({...rr,system_id:L.system_id}),Ne(!1)},children:Yt(L,"system_name_en","system_name_ar")},L.system_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),o.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>hr(!Zt),className:"h-6 px-2 text-xs",children:e(Zt?"mleads.cancel":"mleads.addNew")})]}),Zt?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mleads.statusNameEn"),value:or.status_name_en,onChange:L=>dr({...or,status_name_en:L.target.value})}),o.jsx(ze,{placeholder:e("mleads.statusNameAr"),value:or.status_name_ar,onChange:L=>dr({...or,status_name_ar:L.target.value})}),o.jsx(ce,{type:"button",onClick:oQ,className:"w-full",children:e("mleads.createStatus")})]}):o.jsxs(pa,{open:Ue,onOpenChange:Je,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":Ue,className:"w-full justify-between",children:[rr.status_id?JJ(rr.status_id):e("mleads.selectStatus"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchStatus")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsx(ba,{children:g.map(L=>o.jsx(zr,{value:Yt(L,"status_name_en","status_name_ar"),onSelect:()=>{za({...rr,status_id:L.status_id}),Je(!1)},children:Yt(L,"status_name_en","status_name_ar")},L.status_id))})]})]})})]})]}),rr.status_id===7&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[o.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(Gg,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),o.jsx(ze,{type:"file",onChange:L=>{var Ge;const xe=(Ge=L.target.files)==null?void 0:Ge[0];xe&&J(xe)},className:"cursor-pointer"}),rr.lead_quotation&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Current file:",o.jsx("a",{href:(G4=rr.lead_quotation)==null?void 0:G4.public_url,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600 hover:underline font-medium",children:(Y4=rr.lead_quotation)==null?void 0:Y4.name})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),o.jsxs(pa,{open:at,onOpenChange:Ke,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":at,className:"w-full justify-between",children:[rr.stage_id?ZJ(rr.stage_id):e("mleads.selectStage"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchStage")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsx(ba,{children:w.map(L=>o.jsx(zr,{value:L.stage_name,onSelect:()=>{za({...rr,stage_id:L.stage_id}),Ke(!1)},children:L.stage_name},L.stage_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),o.jsxs(pa,{open:rt,onOpenChange:Pt,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":rt,className:"w-full justify-between",children:[rr.assigned_to?Jx(rr.assigned_to):e("mleads.selectUser"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchUser")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsx(ba,{children:E.map(L=>o.jsx(zr,{value:L.user_name,onSelect:()=>{za({...rr,assigned_to:L.userid}),Pt(!1)},children:L.user_name},L.user_id))})]})]})})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[o.jsx(ce,{variant:"outline",onClick:()=>Q(!1),children:e("common.cancel")}),o.jsx(ce,{onClick:tQ,children:e("common.save")})]})]})}),On&&o.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),o.jsxs(xl,{defaultValue:"pie",className:"w-full",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Zr,{value:"pie",children:"Distribution Charts"}),o.jsx(Zr,{value:"timeline",children:"Timeline"})]}),o.jsx(En,{value:"pie",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),o.jsx(Vl,{config:{},className:"h-[350px]",children:o.jsxs(Wc,{children:[o.jsx(Na,{data:(()=>{const L=g.map(xe=>({name:Yt(xe,"status_name_en","status_name_ar"),value:ms.filter(Ge=>Ge.status_id===xe.status_id).length})).filter(xe=>xe.value>0);return L.length>0?L:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:L,value:xe})=>`${L}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((L,xe)=>o.jsx(mo,{fill:L},`cell-${xe}`))}),o.jsx(Hc,{content:o.jsx(zl,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Stage"}),o.jsx(Vl,{config:{},className:"h-[350px]",children:o.jsxs(Wc,{children:[o.jsx(Na,{data:(()=>{const L=w.map(xe=>({name:xe.stage_name,value:ms.filter(Ge=>Ge.stage_id===xe.stage_id).length})).filter(xe=>xe.value>0);return L.length>0?L:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:L,value:xe})=>`${L}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((L,xe)=>o.jsx(mo,{fill:L},`cell-${xe}`))}),o.jsx(Hc,{content:o.jsx(zl,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),o.jsx(Vl,{config:{},className:"h-[350px]",children:o.jsxs(Wc,{children:[o.jsx(Na,{data:(()=>{const L=v.map(xe=>({name:Yt(xe,"system_name_en","system_name_ar"),value:ms.filter(Ge=>Ge.system_id===xe.system_id).length})).filter(xe=>xe.value>0);return L.length>0?L:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:L,value:xe})=>`${L}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((L,xe)=>o.jsx(mo,{fill:L},`cell-${xe}`))}),o.jsx(Hc,{content:o.jsx(zl,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),o.jsx(Vl,{config:{},className:"h-[350px]",children:o.jsxs(Wc,{children:[o.jsx(Na,{data:(()=>{const L=h.map(xe=>({name:Yt(xe,"activity_name_en","activity_name_ar"),value:ms.filter(Ge=>Ge.activity_id===xe.activity_id).length})).filter(xe=>xe.value>0);return L.length>0?L:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:L,value:xe})=>`${L}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((L,xe)=>o.jsx(mo,{fill:L},`cell-${xe}`))}),o.jsx(Hc,{content:o.jsx(zl,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),o.jsx(Vl,{config:{},className:"h-[350px]",children:o.jsxs(Wc,{children:[o.jsx(Na,{data:(()=>{const L=d.map(xe=>({name:Yt(xe,"city_name_en","city_name_ar"),value:ms.filter(Ge=>Ge.city_id===xe.city_id).length})).filter(xe=>xe.value>0);return L.length>0?L:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:L,value:xe})=>`${L}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((L,xe)=>o.jsx(mo,{fill:L},`cell-${xe}`))}),o.jsx(Hc,{content:o.jsx(zl,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),o.jsx(Vl,{config:{},className:"h-[350px]",children:o.jsxs(Wc,{children:[o.jsx(Na,{data:(()=>{const L=E.map(xe=>({name:xe.user_name,value:ms.filter(Ge=>Ge.assigned_to===xe.userid).length})).filter(xe=>xe.value>0);return L.length>0?L:[{name:"Unassigned",value:ms.filter(xe=>!xe.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:L,value:xe})=>`${L}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((L,xe)=>o.jsx(mo,{fill:L},`cell-${xe}`))}),o.jsx(Hc,{content:o.jsx(zl,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),o.jsx("div",{className:"text-5xl font-bold text-primary",children:ms.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),o.jsx(En,{value:"timeline",className:"mt-4",children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(WP,{width:"100%",height:"100%",children:o.jsxs(NJ,{data:(()=>{const L=new Map;return ms.forEach(Ge=>{const yt=new Date(Ge.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});L.set(yt,(L.get(yt)||0)+1)}),Array.from(L.entries()).sort((Ge,yt)=>new Date(Ge[0]).getTime()-new Date(yt[0]).getTime()).map(([Ge,yt])=>({date:Ge,count:yt}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[o.jsx(N4,{strokeDasharray:"3 3"}),o.jsx(Gx,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),o.jsx(Yx,{label:{value:"Number of Leads",angle:-90,position:"insideLeft"}}),o.jsx(Ei,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:L=>[`${L} leads`,"Total"]}),o.jsx(Nu,{}),o.jsx(Zp,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]}),o.jsx(pt,{children:o.jsx(jt,{children:Gi==="kanban"?o.jsx(kx,{stages:w.map(L=>({id:L.stage_id,name:L.stage_name,count:ms.filter(xe=>xe.stage_id===L.stage_id).length})),currentStageId:$o||((X4=w[0])==null?void 0:X4.stage_id),onStageChange:e0,children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4 scrollbar-hide",children:w.filter(L=>{var xe;return!a||L.stage_id===($o||((xe=w[0])==null?void 0:xe.stage_id))}).map((L,xe)=>{const Ge=ms.filter(yt=>yt.stage_id===L.stage_id);return o.jsxs("div",{className:ke("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${xe*.1}s`},onDragOver:dQ,onDrop:()=>fQ(L.stage_id),children:[!a&&o.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-l-4 border-primary/50",children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h2",{className:"font-bold text-base",children:L.stage_name}),o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Ge.length})]})}),o.jsx("div",{className:"space-y-4 overflow-y-auto pr-2 custom-scrollbar",children:Ge.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-40 border-2 border-dashed rounded-xl border-muted-foreground/20 text-muted-foreground",children:[o.jsx(on,{className:"h-8 w-8 mb-2 opacity-20"}),o.jsx("p",{className:"text-sm",children:e("common.noLeads")})]}):Ge.map(yt=>o.jsxs(pt,{className:ke("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 border-l-blue-500",a?"w-full":"w-[300px]","min-h-[160px]",Lo===yt.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>V4(yt),draggable:!0,onDragStart:Gr=>{Gr.dataTransfer.effectAllowed="move",Gr.dataTransfer.setData("text/plain",yt.leads_id.toString()),uQ(yt.leads_id)},children:[o.jsx(fr,{className:"pb-2 px-4 pt-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:yt.company_name||"No Company"}),yt.address&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:yt.address})]})})}),o.jsxs(jt,{className:"px-4 pb-3 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Am,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:lj(yt)})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(nI,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("p",{className:"text-xs truncate",children:cj(yt)})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(on,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("p",{className:"text-xs truncate text-muted-foreground",children:dj(yt)})]})]}),o.jsx("div",{children:o.jsx(mt,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${fj(yt.status_id)}`,children:uj(yt)})})]}),(()=>{const Gr=_.filter(gi=>Number(gi.leads_id)===Number(yt.leads_id));return Gr.length===0?null:o.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:e("mleads.contacts")}),Gr.slice(0,1).map((gi,Ol)=>o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(sa,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("p",{className:"text-[11px] truncate",children:gi.contact_name})]},Ol)),Gr.length>1&&o.jsxs("p",{className:"text-[10px] text-muted-foreground pl-4",children:["+",Gr.length-1," more"]})]})})(),o.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[o.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[o.jsx(sa,{className:"h-2.5 w-2.5 flex-shrink-0"}),o.jsxs("span",{className:"truncate",children:["Assign: ",Jx(yt.assigned_to)]})]}),o.jsx("div",{className:"flex items-center gap-1 min-w-0",children:o.jsxs("span",{className:"truncate opacity-70",children:["By: ",Jx(yt.created_by_name)]})})]}),o.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(yt.created_at).toLocaleDateString()})]})]})]},yt.leads_id))})]},L.stage_id)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 pt-4",children:[o.jsxs(pa,{open:pi,onOpenChange:rj,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":pi,className:"w-full justify-between",children:[de?Yt(g.find(L=>L.status_id.toString()===de),"status_name_en","status_name_ar"):e("mleads.allStatuses"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchStatus")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsxs(ba,{children:[o.jsx(zr,{value:e("mleads.allStatuses"),onSelect:()=>{O(""),Z(1),rj(!1)},children:e("mleads.allStatuses")}),g.map(L=>o.jsx(zr,{value:Yt(L,"status_name_en","status_name_ar"),onSelect:()=>{O(L.status_id.toString()),Z(1),rj(!1)},children:Yt(L,"status_name_en","status_name_ar")},L.status_id))]})]})]})})]}),o.jsxs(pa,{open:I4,onOpenChange:nj,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":I4,className:"w-full justify-between",children:[Fe?Yt(h.find(L=>L.activity_id.toString()===Fe),"activity_name_en","activity_name_ar"):e("mleads.allActivities"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchActivity")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsxs(ba,{children:[o.jsx(zr,{value:e("mleads.allActivities"),onSelect:()=>{Re(""),Z(1),nj(!1)},children:e("mleads.allActivities")}),h.map(L=>o.jsx(zr,{value:Yt(L,"activity_name_en","activity_name_ar"),onSelect:()=>{Re(L.activity_id.toString()),Z(1),nj(!1)},children:Yt(L,"activity_name_en","activity_name_ar")},L.activity_id))]})]})]})})]}),o.jsxs(pa,{open:M4,onOpenChange:aj,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":M4,className:"w-full justify-between",children:[ie?Yt(v.find(L=>L.system_id.toString()===ie),"system_name_en","system_name_ar"):e("mleads.allSystems"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchSystem")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsxs(ba,{children:[o.jsx(zr,{value:e("mleads.allSystems"),onSelect:()=>{X(""),Z(1),aj(!1)},children:e("mleads.allSystems")}),v.map(L=>o.jsx(zr,{value:Yt(L,"system_name_en","system_name_ar"),onSelect:()=>{X(L.system_id.toString()),Z(1),aj(!1)},children:Yt(L,"system_name_en","system_name_ar")},L.system_id))]})]})]})})]}),o.jsxs(pa,{open:F4,onOpenChange:sj,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":F4,className:"w-full justify-between",children:[oe?Yt(A.find(L=>L.country_id.toString()===oe),"country_name_en","country_name_ar"):e("mleads.allCountries"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchCountry")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsxs(ba,{children:[o.jsx(zr,{value:e("mleads.allCountries"),onSelect:()=>{ue(""),Z(1),sj(!1)},children:e("mleads.allCountries")}),A.map(L=>o.jsx(zr,{value:Yt(L,"country_name_en","country_name_ar"),onSelect:()=>{ue(L.country_id.toString()),Z(1),sj(!1)},children:Yt(L,"country_name_en","country_name_ar")},L.country_id))]})]})]})})]}),o.jsxs(pa,{open:L4,onOpenChange:ij,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":L4,className:"w-full justify-between",children:[z?Yt(d.find(L=>L.city_id.toString()===z),"city_name_en","city_name_ar"):e("mleads.allCities"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchCity")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsxs(ba,{children:[o.jsx(zr,{value:e("mleads.allCities"),onSelect:()=>{ne(""),Z(1),ij(!1)},children:e("mleads.allCities")}),d.map(L=>o.jsx(zr,{value:Yt(L,"city_name_en","city_name_ar"),onSelect:()=>{ne(L.city_id.toString()),Z(1),ij(!1)},children:Yt(L,"city_name_en","city_name_ar")},L.city_id))]})]})]})})]}),o.jsxs(pa,{open:$4,onOpenChange:oj,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":$4,className:"w-full justify-between",children:[Be?Jx(Be):e("mleads.allUsers"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mleads.searchUser")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsxs(ba,{children:[o.jsx(zr,{value:e("mleads.allUsers"),onSelect:()=>{We(""),Z(1),oj(!1)},children:e("mleads.allUsers")}),E.map(L=>{var yt;const xe=(yt=L.userid||L.user_id)==null?void 0:yt.toString(),Ge=L.name||L.user_name||L.display_name||"-";return o.jsx(zr,{value:Ge,onSelect:()=>{We(xe),Z(1),oj(!1)},children:Ge},xe)})]})]})]})})]})]}),(z||oe||ie||de||Fe||Be)&&o.jsx("div",{className:"flex justify-end",children:o.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>{ne(""),ue(""),X(""),O(""),Re(""),We(""),Z(1)},children:[o.jsx(Mi,{className:"h-4 w-4 mr-2"}),e("mleads.clearFilters")]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Us,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:e("mleads.searchPlaceholder"),value:F,onChange:L=>{R(L.target.value),Z(1)},className:"pl-8"})]})}),ms.length===0?o.jsx(ll,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:o.jsx(on,{className:"h-12 w-12"})}):o.jsx(gc,{data:GJ,columns:mQ,actions:pQ,bulkActions:hQ,enableBulkSelect:!0,keyExtractor:L=>L.leads_id.toString(),onRowClick:L=>V4(L),rowHeight:"h-26"}),Oc>0&&o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx(hP,{children:o.jsxs(mP,{children:[o.jsx(Yd,{children:o.jsx(gP,{onClick:()=>Z(Math.max(1,re-1)),className:re===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),o.jsx(Yd,{children:o.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",re," ",e("common.of")," ",Oc]})}),o.jsx(Yd,{children:o.jsx(vP,{onClick:()=>Z(Math.min(Oc,re+1)),className:re===Oc?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})]})})}),o.jsx(ci,{open:De!==null,onOpenChange:()=>ft(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("mleads.deleteLead")}),o.jsx(Fs,{children:e("mleads.deleteLeadConfirmation")})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("common.cancel")}),o.jsx(Ls,{onClick:()=>De&&rQ(De),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),o.jsx(gl,{open:qt,onOpenChange:jr,children:o.jsxs(Po,{side:Ur()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[o.jsx(pc,{children:o.jsxs(vl,{className:"flex items-center gap-2 min-w-0",children:[o.jsx(on,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:et==null?void 0:et.company_name})]})}),et&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),o.jsxs(ce,{onClick:()=>{W4(et),jr(!1)},variant:"outline",size:"sm",children:[o.jsx(Bi,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),o.jsxs(xl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Zr,{value:"overview",children:e("common.overview")}),o.jsx(Zr,{value:"notes",children:e("notes.title")})]}),o.jsxs(En,{value:"overview",className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:et.company_name||"-"}),et.address&&o.jsx("p",{className:"text-muted-foreground mt-1",children:et.address})]}),et.lead_quotation&&o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:o.jsx(Gg,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),o.jsx("a",{href:(J4=et.lead_quotation)==null?void 0:J4.public_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline truncate block",children:(Q4=et.lead_quotation)==null?void 0:Q4.name})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Am,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),o.jsx("p",{className:"font-medium",children:lj(et)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(nI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),o.jsx("p",{className:"font-medium",children:cj(et)})]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),o.jsx(mt,{variant:"outline",className:`text-xs ${fj(et.status_id)}`,children:uj(et)})]})}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),o.jsx(mt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:U4(et)})]})}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(on,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),o.jsx("p",{className:"font-medium",children:dj(et)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(sa,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),o.jsx("p",{className:"font-medium",children:et.created_by_name||"-"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(sa,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),o.jsx("p",{className:"text-sm font-medium",children:et.Users_name||"-"})]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),o.jsx("p",{className:"text-sm font-medium",children:new Date(et.created_at).toLocaleDateString()})]})}),o.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),o.jsx("p",{className:"text-sm mt-1",children:et.notes||"-"})]})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const L=k.length>0?k:[];return L.length>0?o.jsx("div",{className:"space-y-2",children:L.map((xe,Ge)=>{var yt;return o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:xe.contact_name||"-"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[xe.contact_email&&`${xe.contact_email}  `,xe.contact_mobile&&`${xe.contact_mobile}`]})]}),o.jsx(mt,{variant:"outline",className:"text-xs",children:((yt=T.find(Gr=>Gr.jobtitle_id===xe.jobtitle_id))==null?void 0:yt.jobtitle_name_en)||"-"})]},xe.contact_id||Ge)})}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),o.jsx(En,{value:"notes",className:"mt-4",children:o.jsx(bO,{relatedType:"mlead",relatedId:et.leads_id,notes:Ua,onNotesChange:()=>z4(et.leads_id)})})]})]})]})})]})}function jGe(e){const t=e.lastIndexOf("."),r=t!==-1?e.slice(t):"";return`contract-${crypto.randomUUID()}${r}`}async function kGe(e,t,r={}){const n=r.bucket||"projects",a=!!r.publicBucket;if(!e)throw new Error("No file provided");if(!t)throw new Error("projectId is required");const s=jGe(e.name),i=`projects/${t}/${s}`,{data:l,error:c}=await $t.storage.from(n).upload(i,e,{cacheControl:"3600",upsert:!1});if(c)throw c;let u=null;if(a){const{data:m}=$t.storage.from(n).getPublicUrl(i);u=(m==null?void 0:m.publicUrl)||null}else{const{data:g,error:p}=await $t.storage.from(n).createSignedUrl(i,3600);if(p){const{data:v}=$t.storage.from(n).getPublicUrl(i);if(u=(v==null?void 0:v.publicUrl)||null,!u)throw p}else u=(g==null?void 0:g.signedUrl)||null}const{data:{user:d}}=await $t.auth.getUser(),f={bucket:n,path:i,url:u,name:e.name,filename:s,mime:e.type||null,size:e.size||null,uploaded_by:(d==null?void 0:d.id)||null,uploaded_at:new Date().toISOString()},{error:h}=await $t.from("m_projects").update({contract_document:f}).eq("project_id",t);if(h){try{await $t.storage.from(n).remove([i])}catch(m){console.error("Failed to delete uploaded file after DB update error:",m)}throw h}return f}async function NGe(e){try{const{data:t,error:r}=await $t.from("m_projects").select("contract_document").eq("project_id",e).single();if(r)throw r;if(t!=null&&t.contract_document){const n=t.contract_document,{error:a}=await $t.storage.from(n.bucket).remove([n.path]);a&&console.error("Failed to delete file from storage:",a);const{error:s}=await $t.from("m_projects").update({contract_document:null}).eq("project_id",e);if(s)throw s}}catch(t){throw console.error("Error deleting contract document:",t),t}}function EGe(){var W,te,J;const{t:e}=Ht(),{user:t}=Sr(),{currentLanguage:r}=mi(),{toast:n}=jl();La();const{setBreadcrumbs:a}=ax();Bs();const[s,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[m,g]=x.useState([]),[p,v]=x.useState([]),[y,w]=x.useState([]),[b,_]=x.useState(!0),[S,k]=x.useState(null),[j,E]=x.useState(""),[N,A]=x.useState(1),[D]=x.useState(9),[T,U]=x.useState(0),[q,M]=x.useState(""),[I,V]=x.useState(""),[F,R]=x.useState(null),[re,Z]=x.useState(null),[C,K]=x.useState(!1),[B,z]=x.useState(!1),[ne,oe]=x.useState({city_name_en:"",city_name_ar:"",country_id:null});x.useState(null);const[ue,ie]=x.useState(null),[X,de]=x.useState(!1),[O,Fe]=x.useState([]),[Re,Be]=x.useState(!1),[We,De]=x.useState("list"),[ft,gt]=x.useState(null),[se,ve]=x.useState(""),[Q,ee]=x.useState([]),[he,me]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[$e,we]=x.useState(!1),[_e,fe]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[je,Le]=x.useState(!1),[Ie,Ve]=x.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});x.useEffect(()=>{a([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[a,e]),x.useEffect(()=>{vt()},[]),x.useEffect(()=>{Zt()},[N,j,q,I,u]),x.useEffect(()=>{Re&&hr()},[Re,j,q,I,u]);const vt=async()=>{try{_(!0),k(null);const[P,H,Y,ge,Ee]=await Promise.all([G.mCity.list({sort_by:"city_name_en",sort_order:"asc"}),G.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),G.users.list({sort_by:"user_name",sort_order:"asc"}),G.mCountry.list({sort_by:"country_name_en",sort_order:"asc"}),G.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc"})]),ye=be=>Array.isArray(be)?be:be!=null&&be.data&&Array.isArray(be.data)?be.data:[];d(ye(P)),h(ye(H)),g(ye(Y)),v(ye(ge)),w(ye(Ee))}catch(P){const H=P instanceof Error?P.message:"Failed to load data";k(H),n({title:"Error",description:H,variant:"destructive"})}finally{_(!1)}},Zt=async()=>{try{_(!0),k(null);const P={};if(q&&(P.city_id=q),I){const ge=u.filter(Ee=>{var ye;return((ye=Ee.country_id)==null?void 0:ye.toString())===I}).map(Ee=>Ee.city_id);ge.length>0?P.city_id=ge:P.city_id=-1}const H={page:N,limit:D,sort_by:"created_at",sort_order:"desc",exact_filters:P};j&&(H.search=j);const Y=await G.mProjects.list(H);i(Y.data||[]),U(Y.total||0)}catch(P){const H=P instanceof Error?P.message:"Failed to load data";k(H),n({title:"Error",description:H,variant:"destructive"})}finally{_(!1)}},hr=async()=>{try{const P={};if(q&&(P.city_id=q),I){const ge=u.filter(Ee=>{var ye;return((ye=Ee.country_id)==null?void 0:ye.toString())===I}).map(Ee=>Ee.city_id);ge.length>0?P.city_id=ge:P.city_id=-1}const H={limit:1e3,exact_filters:P};j&&(H.search=j);const Y=await G.mProjects.list(H);c(Y.data||[])}catch(P){console.error("Failed to load all filtered projects:",P)}},or=async()=>{try{const P=await G.mContacts.list({sort_by:"contact_name",sort_order:"asc"});h(P.data||[])}catch(P){console.error("Failed to load contacts:",P)}},dr=x.useMemo(()=>Re?l:s,[Re,l,s]),Ba=x.useMemo(()=>{if(Re){const P=(N-1)*D,H=P+D;return dr.slice(P,H)}else return s},[Re,dr,s,N,D]),An=Math.ceil(T/D);x.useEffect(()=>{N>An&&An>0&&A(An)},[N,An]);const Vr=(P,H,Y)=>{if(!P)return"-";let ge=r==="ar"&&(P==null?void 0:P[Y])||(P==null?void 0:P[H]);if(!ge){const Ee=H.replace(/_en$/,""),ye=Y.replace(/_ar$/,"");ge=r==="ar"&&(P==null?void 0:P[ye])||(P==null?void 0:P[Ee])}return ge||(P==null?void 0:P.name)||(P==null?void 0:P.label)||(P==null?void 0:P.title)||"-"},hs=P=>{if(P==null||P==="")return"-";const H=Number(P),Y=u.find(ge=>Number(ge.city_id)===H||Number(ge.id)===H);return Vr(Y,"city_name_en","city_name_ar")},le=async()=>{if(!_e){fe(!0);try{let P;if(re)await G.mProjects.update(re,Ie),P=re,n({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")});else{const H={...Ie,created_by:t==null?void 0:t.id},Y=await G.mProjects.create(H);if(P=Y.id||Y.project_id,!P)throw new Error("Failed to create project");n({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(re){const H=f.filter(Y=>Y.project_id===re);for(const Y of H)await G.mContacts.delete(Y.contact_id);Q.length>0&&await Va(P)}else Q.length>0&&await Va(P);if(ft){ve("Uploading contract document...");try{await kGe(ft,P,{bucket:"projects",publicBucket:!1}),ve("Document uploaded successfully"),n({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(H){console.error("File upload failed:",H),ve("Document upload failed"),n({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}K(!1),Z(null),Ve({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),ee([]),gt(null),ve(""),await Zt(),await or()}catch(P){const H=P instanceof Error?P.message:"Failed to save";n({title:"Error",description:H,variant:"destructive"})}finally{fe(!1)}}},Se=async P=>{try{await G.mProjects.delete(P),n({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),R(null),await Zt()}catch(H){const Y=H instanceof Error?H.message:"Failed to delete";n({title:"Error",description:Y,variant:"destructive"})}},Oe=P=>{ie(P),Me(P.project_id),or(),de(!0)},Me=async P=>{try{const H=await Qh.getByRelated("mlead",P);Fe(H)}catch(H){console.error("Failed to load notes:",H),Fe([])}},et=P=>{Z(P.project_id),Ve(P);const H=f.filter(Y=>Y.project_id===P.project_id);ee(H.map(Y=>{var ge;return{contact_name:Y.contact_name||"",contact_email:Y.contact_email||"",contact_mobile:((ge=Y.contact_mobile)==null?void 0:ge.toString())||"",jobtitle_id:Y.jobtitle_id}})),K(!0)},nt=async P=>{try{await Promise.all(P.map(H=>G.mProjects.delete(H))),n({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await Zt()}catch(H){const Y=H instanceof Error?H.message:"Failed to delete";n({title:"Error",description:Y,variant:"destructive"})}},qt=async()=>{try{if(!ne.city_name_en&&!ne.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const P=await G.mCity.create(ne);P&&(d([...u,P]),Ve({...Ie,city_id:P.city_id}),z(!1),oe({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(P){const H=P instanceof Error?P.message:"Failed to create city";n({title:"Error",description:H,variant:"destructive"})}},jr=()=>{if(!he.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(Q.some(H=>H.contact_name===he.contact_name&&H.contact_email===he.contact_email&&H.contact_mobile===he.contact_mobile)){n({title:"Warning",description:"This contact already exists",variant:"destructive"});return}ee([...Q,{...he}]),me({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),we(!1)},Ua=P=>{ee(Q.filter((H,Y)=>Y!==P))},Va=async P=>{try{const H=Q.map(Y=>({contact_name:Y.contact_name,contact_email:Y.contact_email,contact_mobile:Y.contact_mobile?parseInt(Y.contact_mobile):null,jobtitle_id:Y.jobtitle_id,project_id:P}));if(H.length>0)for(const Y of H)await G.mContacts.create(Y)}catch(H){const Y=H instanceof Error?H.message:"Failed to save contacts";n({title:"Error",description:Y,variant:"destructive"})}};if(b)return o.jsx(Of,{});if(S)return o.jsx(Rp,{message:S,onRetry:vt});const On=[{label:e("common.delete"),icon:o.jsx(_r,{}),onClick:P=>{window.confirm(`Delete ${P.length} projects?`)&&nt(P.map(H=>H.project_id))},variant:"destructive"}],td=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:P=>o.jsx(vc,{title:P.company_name||"-",subtitle:P.contract_code||"",icon:o.jsx(on,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:P=>o.jsx("span",{className:"text-sm text-foreground",children:hs(P.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:P=>o.jsx(mt,{variant:"outline",className:"text-xs",children:P.contract_amount?`$${P.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:P=>o.jsx("span",{className:"text-sm text-muted-foreground",children:P.cont_start_date?new Date(P.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:P=>o.jsx("span",{className:"text-sm text-muted-foreground",children:P.cont_end_date?new Date(P.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:P=>o.jsx(Iu,{date:P.created_at})}],Gi=[{icon:o.jsx(Bi,{}),label:e("common.edit"),onClick:P=>et(P)},{icon:o.jsx(_r,{}),label:e("common.delete"),onClick:P=>R(P.project_id),variant:"destructive"}];return o.jsxs("div",{className:`space-y-4 bg-background p-4 rounded-md ${Ur()?"rtl":"ltr"}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10",children:o.jsx(on,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:e("mprojects.masterProjects")}),o.jsx("p",{className:"text-sm text-muted-foreground hidden sm:block",children:e("mprojects.manageMasterProjectsData")})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[o.jsxs(ce,{variant:"default",size:"sm",onClick:()=>De(We==="list"?"kanban":"list"),className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[We==="list"?o.jsx(Di,{className:"h-4 w-4"}):o.jsx(on,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:e(We==="list"?"mprojects.kanbanView":"mprojects.listView")}),o.jsx("span",{className:"sm:hidden",children:e(We==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),o.jsxs(ce,{variant:"default",size:"sm",onClick:()=>Be(!Re),className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[o.jsx(Di,{className:"h-4 w-4"}),o.jsx("span",{children:e("mprojects.showChart")}),o.jsx(y_,{className:`h-4 w-4 transition-transform ${Re?"rotate-180":""}`})]}),o.jsxs(gl,{open:C,onOpenChange:K,children:[o.jsx(Hz,{asChild:!0,children:o.jsxs(ce,{size:"sm",onClick:()=>{Z(null),Ve({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),ee([]),gt(null),ve(""),z(!1),we(!1),oe({city_name_en:"",city_name_ar:"",country_id:null}),me({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null})},className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[o.jsx(ar,{className:"w-4 h-4"}),o.jsx("span",{children:e("common.add")})]})}),o.jsxs(Po,{side:Ur()?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[o.jsx(pc,{className:"p-6 pb-0",children:o.jsx(vl,{children:e(re?"mprojects.editProject":"mprojects.createNewProject")})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),o.jsx(ze,{value:Ie.company_name||"",onChange:P=>Ve({...Ie,company_name:P.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),o.jsx(ze,{value:Ie.contract_code||"",onChange:P=>Ve({...Ie,contract_code:P.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),o.jsx(ze,{type:"number",value:Ie.contract_amount||"",onChange:P=>Ve({...Ie,contract_amount:parseFloat(P.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),o.jsx(ze,{type:"date",value:Ie.cont_start_date||"",onChange:P=>Ve({...Ie,cont_start_date:P.target.value}),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),o.jsx(ze,{type:"date",value:Ie.cont_end_date||"",onChange:P=>Ve({...Ie,cont_end_date:P.target.value}),className:"h-10"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),o.jsxs(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(!B),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[o.jsx(ar,{className:"h-3 w-3 mr-1"}),e(B?"mprojects.cancel":"mprojects.addCity")]})]}),B?o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsx(ze,{placeholder:"City Name (English)",value:ne.city_name_en,onChange:P=>oe({...ne,city_name_en:P.target.value}),className:"h-9"}),o.jsx(ze,{placeholder:"City Name (Arabic)",value:ne.city_name_ar,onChange:P=>oe({...ne,city_name_ar:P.target.value}),className:"h-9"}),o.jsxs(_t,{value:((W=ne.country_id)==null?void 0:W.toString())||"",onValueChange:P=>oe({...ne,country_id:parseInt(P)}),children:[o.jsx(wt,{className:"h-9",children:o.jsx(St,{placeholder:"Select Country"})}),o.jsx(bt,{children:p.map(P=>o.jsx(Ae,{value:P.country_id.toString(),children:Vr(P,"country_name_en","country_name_ar")},P.country_id))})]}),o.jsxs(ce,{onClick:qt,size:"sm",className:"w-full h-9",children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):o.jsxs(_t,{value:((te=Ie.city_id)==null?void 0:te.toString())||"",onValueChange:P=>Ve({...Ie,city_id:parseInt(P)||null}),children:[o.jsx(wt,{className:"h-10",children:o.jsx(St,{placeholder:e("mprojects.selectCity")})}),o.jsx(bt,{children:u.map(P=>o.jsx(Ae,{value:P.city_id.toString(),children:Vr(P,"city_name_en","city_name_ar")},P.city_id))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),o.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>we(!$e),className:"h-6 px-2 text-xs",children:e($e?"mprojects.cancel":"mprojects.addContact")})]}),Q.length>0&&o.jsx("div",{className:"space-y-2 mb-3",children:Q.map((P,H)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:P.contact_name}),o.jsxs("div",{className:"text-muted-foreground",children:[P.contact_email&&`${P.contact_email}  `,P.contact_mobile&&`${P.contact_mobile}`]})]}),o.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ua(H),className:"h-6 w-6 p-0",children:o.jsx(Mi,{className:"h-3 w-3"})})]},H))}),$e&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mprojects.contactName"),value:he.contact_name,onChange:P=>me({...he,contact_name:P.target.value})}),o.jsx(ze,{placeholder:e("mprojects.email"),type:"email",value:he.contact_email,onChange:P=>me({...he,contact_email:P.target.value})}),o.jsx(ze,{placeholder:e("mprojects.mobile"),value:he.contact_mobile,onChange:P=>me({...he,contact_mobile:P.target.value})}),o.jsxs(pa,{open:je,onOpenChange:Le,children:[o.jsx(ga,{asChild:!0,children:o.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":je,className:"w-full justify-between",children:[he.jobtitle_id?(J=y.find(P=>P.jobtitle_id===he.jobtitle_id))==null?void 0:J.jobtitle_name_en:e("mprojects.selectJobTitle"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(va,{children:[o.jsx(xa,{placeholder:e("mprojects.searchJobTitle")}),o.jsxs(ya,{children:[o.jsx(wa,{children:e("common.noResults")}),o.jsx(ba,{children:y&&y.length>0?y.map(P=>o.jsx(zr,{value:Vr(P,"jobtitle_name_en","jobtitle_name_ar")||P.jobtitle_name_en||"Unknown",onSelect:()=>{me(H=>({...H,jobtitle_id:P.jobtitle_id})),Le(!1)},children:Vr(P,"jobtitle_name_en","jobtitle_name_ar")||P.jobtitle_name_en||"Unknown"},P.jobtitle_id)):o.jsx(zr,{disabled:!0,children:"No job titles available"})})]})]})})]}),o.jsx(ce,{type:"button",onClick:jr,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),o.jsx(ze,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:P=>{var Y;const H=(Y=P.target.files)==null?void 0:Y[0];gt(H||null)},className:"file:hidden cursor-pointer"}),o.jsxs(ce,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>{const P=document.querySelector('input[type="file"]');P==null||P.click()},children:[o.jsx(ar,{className:"h-4 w-4"}),e("common.add")]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),ft&&o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[o.jsx(ys,{className:"h-5 w-5 text-primary flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:ft.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ft.size/1024/1024).toFixed(2)," MB"]})]}),o.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>gt(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:o.jsx(Mi,{className:"h-4 w-4"})})]}),se&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),o.jsx("span",{className:"text-sm text-blue-700",children:se})]})]})]})]}),o.jsx("div",{className:"p-6 border-t bg-muted/20",children:o.jsx(ce,{onClick:le,className:"w-full",disabled:_e||!Ie.company_name,children:e(_e?"common.saving":re?"common.save":"common.create")})})]})]})]})]}),Re&&o.jsxs(pt,{children:[o.jsx(fr,{children:o.jsx(Jr,{children:e("mprojects.analytics")})}),o.jsx(jt,{children:o.jsxs(xl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Zr,{value:"overview",children:"Overview"}),o.jsx(Zr,{value:"timeline",children:"Timeline"})]}),o.jsx(En,{value:"overview",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),o.jsx(Vl,{config:{},className:"h-[350px]",children:o.jsxs(Wc,{children:[o.jsx(Na,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(Y=>({name:Y.name,value:dr.filter(ge=>ge.contract_amount&&ge.contract_amount>=Y.min&&ge.contract_amount<Y.max).length})).filter(Y=>Y.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:P,value:H})=>`${P}: ${H}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((P,H)=>o.jsx(mo,{fill:P},`cell-${H}`))}),o.jsx(Hc,{content:o.jsx(zl,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),o.jsx(Vl,{config:{},className:"h-[350px]",children:o.jsxs(Wc,{children:[o.jsx(Na,{data:(()=>{const P=u.map(H=>({name:Vr(H,"city_name_en","city_name_ar"),value:dr.filter(Y=>Y.city_id===H.city_id).length})).filter(H=>H.value>0);return P.length>0?P:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:P,value:H})=>`${P}: ${H}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((P,H)=>o.jsx(mo,{fill:P},`cell-${H}`))}),o.jsx(Hc,{content:o.jsx(zl,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),o.jsx("div",{className:"text-5xl font-bold text-primary",children:dr.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),o.jsx(En,{value:"timeline",className:"mt-4",children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(WP,{width:"100%",height:"100%",children:o.jsxs(NJ,{data:(()=>{const P=new Map;return dr.forEach(Y=>{const ge=new Date(Y.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});P.set(ge,(P.get(ge)||0)+1)}),Array.from(P.entries()).sort((Y,ge)=>new Date(Y[0]).getTime()-new Date(ge[0]).getTime()).map(([Y,ge])=>({date:Y,count:ge}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[o.jsx(N4,{strokeDasharray:"3 3"}),o.jsx(Gx,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),o.jsx(Yx,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),o.jsx(Ei,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:P=>[`${P} projects`,"Total"]}),o.jsx(Nu,{}),o.jsx(Zp,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),o.jsx(pt,{children:o.jsx(jt,{children:We==="kanban"?o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:Ba.map(P=>{var H;return o.jsxs(pt,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>Oe(P),children:[o.jsx(fr,{className:"pb-2 px-4 pt-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:P.company_name||"No Company"}),P.contract_code&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:P.contract_code})]})})}),o.jsxs(jt,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Am,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:hs(P.city_id)})]})}),o.jsx("div",{children:o.jsxs(mt,{variant:"outline",className:"text-xs",children:["$",((H=P.contract_amount)==null?void 0:H.toLocaleString())||"0"]})})]}),o.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("span",{children:["Created: ",new Date(P.created_at).toLocaleDateString()]})})})]})]},P.project_id)})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 pt-4",children:[o.jsxs(_t,{value:I||"all",onValueChange:P=>{V(P==="all"?"":P),A(1)},children:[o.jsx(wt,{children:o.jsx(St,{placeholder:e("mprojects.country")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"all",children:e("mprojects.allCountries")}),p.map(P=>o.jsx(Ae,{value:P.country_id.toString(),children:Vr(P,"country_name_en","country_name_ar")},P.country_id))]})]}),o.jsxs(_t,{value:q||"all",onValueChange:P=>{M(P==="all"?"":P),A(1)},children:[o.jsx(wt,{children:o.jsx(St,{placeholder:e("mprojects.city")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"all",children:e("mprojects.allCities")}),u.map(P=>o.jsx(Ae,{value:P.city_id.toString(),children:Vr(P,"city_name_en","city_name_ar")},P.city_id))]})]})]}),(q||I)&&o.jsx("div",{className:"flex justify-end",children:o.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>{M(""),V(""),A(1)},children:[o.jsx(Mi,{className:"h-4 w-4 mr-2"}),e("mprojects.clearFilters")]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Us,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:e("mprojects.searchPlaceholder"),value:j,onChange:P=>{E(P.target.value),A(1)},className:"pl-8"})]})}),dr.length===0?o.jsx(ll,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:o.jsx(on,{className:"h-12 w-12"})}):o.jsx(gc,{data:Ba,columns:td,actions:Gi,bulkActions:On,enableBulkSelect:!0,keyExtractor:P=>P.project_id.toString(),onRowClick:P=>Oe(P),rowHeight:"h-26"}),An>0&&o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx(hP,{children:o.jsxs(mP,{children:[o.jsx(Yd,{children:o.jsx(gP,{onClick:()=>A(Math.max(1,N-1)),className:N===1?"pointer-events-none opacity-50":"cursor-pointer"})}),o.jsx(Yd,{children:o.jsxs("span",{className:"px-3 py-2 text-sm",children:["Page ",N," of ",An]})}),o.jsx(Yd,{children:o.jsx(vP,{onClick:()=>A(Math.min(An,N+1)),className:N===An?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})})}),o.jsx(ci,{open:F!==null,onOpenChange:()=>R(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("mprojects.deleteProject")}),o.jsx(Fs,{children:e("mprojects.deleteProjectConfirmation")})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("common.cancel")}),o.jsx(Ls,{onClick:()=>F&&Se(F),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),o.jsx(gl,{open:X,onOpenChange:de,children:o.jsxs(Po,{side:Ur()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[o.jsx(pc,{children:o.jsxs(vl,{className:"flex items-center gap-2 min-w-0",children:[o.jsx(on,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:ue==null?void 0:ue.company_name})]})}),ue&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),o.jsxs(ce,{onClick:()=>{et(ue),de(!1)},variant:"outline",size:"sm",children:[o.jsx(Bi,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),o.jsxs(xl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Zr,{value:"overview",children:e("common.overview")}),o.jsx(Zr,{value:"notes",children:e("notes.title")})]}),o.jsxs(En,{value:"overview",className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:ue.company_name||"-"}),ue.contract_code&&o.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",ue.contract_code]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),o.jsx("p",{className:"font-medium",children:ue.contract_amount?`$${ue.contract_amount.toLocaleString()}`:"-"})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),o.jsx("p",{className:"font-medium",children:ue.cont_start_date?new Date(ue.cont_start_date).toLocaleDateString():"-"})]})}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),o.jsx("p",{className:"font-medium",children:ue.cont_end_date?new Date(ue.cont_end_date).toLocaleDateString():"-"})]})})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Am,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),o.jsx("p",{className:"font-medium",children:hs(ue.city_id)})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const P=f.filter(H=>H.project_id===ue.project_id);return P.length>0?o.jsx("div",{className:"space-y-2",children:P.map((H,Y)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:H.contact_name||"-"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[H.contact_email&&`${H.contact_email}  `,H.contact_mobile&&`${H.contact_mobile}`]})]}),o.jsx(mt,{variant:"outline",className:"text-xs",children:y.find(ge=>ge.jobtitle_id===H.jobtitle_id)?Vr(y.find(ge=>ge.jobtitle_id===H.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},H.contact_id||Y))}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),o.jsx("p",{className:"text-sm font-medium",children:new Date(ue.created_at).toLocaleDateString()})]})}),ue.contract_document&&(()=>{const P=ue.contract_document;return o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(ys,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),o.jsx("p",{className:"text-sm font-medium truncate",children:P.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.size&&`${(P.size/1024/1024).toFixed(2)} MB`,"  ",new Date(P.uploaded_at).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-1",children:[P.url&&o.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>window.open(P.url,"_blank"),className:"h-8 w-8 p-0",children:o.jsx(Qie,{className:"h-4 w-4"})}),o.jsx(ce,{variant:"ghost",size:"sm",onClick:async()=>{try{await NGe(ue.project_id),n({title:e("common.success"),description:"Contract document deleted successfully"}),await Zt(),de(!1)}catch{n({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:o.jsx(_r,{className:"h-4 w-4"})})]})]})})()]}),o.jsx(En,{value:"notes",className:"mt-4",children:o.jsx(bO,{relatedType:"mlead",relatedId:ue.project_id,notes:O,onNotesChange:()=>Me(ue.project_id)})})]})]})]})})]})}const o1={async getRequests(){return(await G.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await G.requests.get(e)},async createRequest(e){return await G.requests.create(e)},async updateRequest(e,t){return await G.requests.update(e,t)},async deleteRequest(e){await G.requests.delete(e)}};var Xx=e=>e.type==="checkbox",Dd=e=>e instanceof Date,Ja=e=>e==null;const TJ=e=>typeof e=="object";var xn=e=>!Ja(e)&&!Array.isArray(e)&&TJ(e)&&!Dd(e),AJ=e=>xn(e)&&e.target?Xx(e.target)?e.target.checked:e.target.value:e,CGe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,OJ=(e,t)=>e.has(CGe(t)),TGe=e=>{const t=e.constructor&&e.constructor.prototype;return xn(t)&&t.hasOwnProperty("isPrototypeOf")},E4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(E4&&(e instanceof Blob||n))&&(r||xn(e)))if(t=r?[]:{},!r&&!TGe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Mn(e[a]));else return e;return t}var ZS=e=>/^\w*$/.test(e),fn=e=>e===void 0,C4=e=>Array.isArray(e)?e.filter(Boolean):[],T4=e=>C4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ze=(e,t,r)=>{if(!t||!xn(e))return r;const n=(ZS(t)?[t]:T4(t)).reduce((a,s)=>Ja(a)?a:a[s],e);return fn(n)||n===e?fn(e[t])?r:e[t]:n},Gs=e=>typeof e=="boolean",vr=(e,t,r)=>{let n=-1;const a=ZS(t)?[t]:T4(t),s=a.length,i=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==i){const u=e[l];c=xn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Hb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ml={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},A4=ae.createContext(null);A4.displayName="HookFormContext";const ej=()=>ae.useContext(A4),AGe=e=>{const{children:t,...r}=e;return ae.createElement(A4.Provider,{value:r},t)};var PJ=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const i=s;return t._proxyFormState[i]!==vo.all&&(t._proxyFormState[i]=!n||vo.all),r&&(r[i]=!0),e[i]}});return a};const O4=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;function OGe(e){const t=ej(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[i,l]=ae.useState(r._formState),c=ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return O4(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,s]),ae.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ae.useMemo(()=>PJ(i,r,c.current,!1),[i,r])}var al=e=>typeof e=="string",DJ=(e,t,r,n,a)=>al(e)?(n&&t.watch.add(e),Ze(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Ze(r,s))):(n&&(t.watchAll=!0),r),sT=e=>Ja(e)||!TJ(e);function Kl(e,t,r=new WeakSet){if(sT(e)||sT(t))return e===t;if(Dd(e)&&Dd(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Dd(i)&&Dd(l)||xn(i)&&xn(l)||Array.isArray(i)&&Array.isArray(l)?!Kl(i,l,r):i!==l)return!1}}return!0}function PGe(e){const t=ej(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:i,compute:l}=e||{},c=ae.useRef(a),u=ae.useRef(l),d=ae.useRef(void 0);u.current=l;const f=ae.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=ae.useState(u.current?u.current(f):f);return O4(()=>r._subscribe({name:n,formState:{values:!0},exact:i,callback:g=>{if(!s){const p=DJ(n,r._names,g.values||r._formValues,!1,c.current);if(u.current){const v=u.current(p);Kl(v,d.current)||(m(v),d.current=v)}else m(p)}}}),[r,s,n,i]),ae.useEffect(()=>r._removeUnmounted()),h}function DGe(e){const t=ej(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:i}=e,l=OJ(a._names.array,r),c=ae.useMemo(()=>Ze(a._formValues,r,Ze(a._defaultValues,r,i)),[a,r,i]),u=PGe({control:a,name:r,defaultValue:c,exact:!0}),d=OGe({control:a,name:r,exact:!0}),f=ae.useRef(e),h=ae.useRef(a.register(r,{...e.rules,value:u,...Gs(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=ae.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ze(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ze(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ze(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ze(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ze(d.errors,r)}}),[d,r]),g=ae.useCallback(w=>h.current.onChange({target:{value:AJ(w),name:r},type:Hb.CHANGE}),[r]),p=ae.useCallback(()=>h.current.onBlur({target:{value:Ze(a._formValues,r),name:r},type:Hb.BLUR}),[r,a._formValues]),v=ae.useCallback(w=>{const b=Ze(a._fields,r);b&&w&&(b._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:_=>w.setCustomValidity(_),reportValidity:()=>w.reportValidity()})},[a._fields,r]),y=ae.useMemo(()=>({name:r,value:u,...Gs(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:p,ref:v}),[r,n,d.disabled,g,p,v,u]);return ae.useEffect(()=>{const w=a._options.shouldUnregister||s;a.register(r,{...f.current.rules,...Gs(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(_,S)=>{const k=Ze(a._fields,_);k&&k._f&&(k._f.mount=S)};if(b(r,!0),w){const _=Mn(Ze(a._options.defaultValues,r));vr(a._defaultValues,r,_),fn(Ze(a._formValues,r))&&vr(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?w&&!a._state.action:w)?a.unregister(r):b(r,!1)}},[r,a,l,s]),ae.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ae.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const RGe=e=>e.render(DGe(e));var RJ=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},jg=e=>Array.isArray(e)?e:[e],z5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},gs=e=>xn(e)&&!Object.keys(e).length,P4=e=>e.type==="file",xo=e=>typeof e=="function",qb=e=>{if(!E4)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},IJ=e=>e.type==="select-multiple",D4=e=>e.type==="radio",IGe=e=>D4(e)||Xx(e),h2=e=>qb(e)&&e.isConnected;function MGe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=fn(e)?n++:e[t[n++]];return e}function FGe(e){for(const t in e)if(e.hasOwnProperty(t)&&!fn(e[t]))return!1;return!0}function wn(e,t){const r=Array.isArray(t)?t:ZS(t)?[t]:T4(t),n=r.length===1?e:MGe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(xn(n)&&gs(n)||Array.isArray(n)&&FGe(n))&&wn(e,r.slice(0,-1)),e}var MJ=e=>{for(const t in e)if(xo(e[t]))return!0;return!1};function Kb(e,t={}){const r=Array.isArray(e);if(xn(e)||r)for(const n in e)Array.isArray(e[n])||xn(e[n])&&!MJ(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Kb(e[n],t[n])):Ja(e[n])||(t[n]=!0);return t}function FJ(e,t,r){const n=Array.isArray(e);if(xn(e)||n)for(const a in e)Array.isArray(e[a])||xn(e[a])&&!MJ(e[a])?fn(t)||sT(r[a])?r[a]=Array.isArray(e[a])?Kb(e[a],[]):{...Kb(e[a])}:FJ(e[a],Ja(t)?{}:t[a],r[a]):r[a]=!Kl(e[a],t[a]);return r}var E0=(e,t)=>FJ(e,t,Kb(t));const W5={value:!1,isValid:!1},H5={value:!0,isValid:!0};var LJ=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!fn(e[0].attributes.value)?fn(e[0].value)||e[0].value===""?H5:{value:e[0].value,isValid:!0}:H5:W5}return W5},$J=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>fn(e)?e:t?e===""?NaN:e&&+e:r&&al(e)?new Date(e):n?n(e):e;const q5={isValid:!1,value:null};var BJ=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,q5):q5;function K5(e){const t=e.ref;return P4(t)?t.files:D4(t)?BJ(e.refs).value:IJ(t)?[...t.selectedOptions].map(({value:r})=>r):Xx(t)?LJ(e.refs).value:$J(fn(t.value)?e.ref.value:t.value,e)}var LGe=(e,t,r,n)=>{const a={};for(const s of e){const i=Ze(t,s);i&&vr(a,s,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Gb=e=>e instanceof RegExp,C0=e=>fn(e)?e:Gb(e)?e.source:xn(e)?Gb(e.value)?e.value.source:e.value:e,G5=e=>({isOnSubmit:!e||e===vo.onSubmit,isOnBlur:e===vo.onBlur,isOnChange:e===vo.onChange,isOnAll:e===vo.all,isOnTouch:e===vo.onTouched});const Y5="AsyncFunction";var $Ge=e=>!!e&&!!e.validate&&!!(xo(e.validate)&&e.validate.constructor.name===Y5||xn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Y5)),BGe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),X5=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const kg=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=Ze(e,a);if(s){const{_f:i,...l}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(kg(l,t))break}else if(xn(l)&&kg(l,t))break}}};function J5(e,t,r){const n=Ze(e,r);if(n||ZS(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=Ze(t,s),l=Ze(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var UGe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return gs(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!n||vo.all))},VGe=(e,t,r)=>!e||!t||e===t||jg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),zGe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,WGe=(e,t)=>!C4(Ze(e,t)).length&&wn(e,t),HGe=(e,t,r)=>{const n=jg(Ze(e,r));return vr(n,"root",t[r]),vr(e,r,n),e},D1=e=>al(e);function Q5(e,t,r="validate"){if(D1(e)||Array.isArray(e)&&e.every(D1)||Gs(e)&&!e)return{type:r,message:D1(e)?e:"",ref:t}}var oh=e=>xn(e)&&!Gb(e)?e:{value:e,message:""},Z5=async(e,t,r,n,a,s)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:y}=e._f,w=Ze(r,p);if(!y||t.has(p))return{};const b=l?l[0]:i,_=T=>{a&&b.reportValidity&&(b.setCustomValidity(Gs(T)?"":T||""),b.reportValidity())},S={},k=D4(i),j=Xx(i),E=k||j,N=(v||P4(i))&&fn(i.value)&&fn(w)||qb(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,A=RJ.bind(null,p,n,S),D=(T,U,q,M=Ml.maxLength,I=Ml.minLength)=>{const V=T?U:q;S[p]={type:T?M:I,message:V,ref:i,...A(T?M:I,V)}};if(s?!Array.isArray(w)||!w.length:c&&(!E&&(N||Ja(w))||Gs(w)&&!w||j&&!LJ(l).isValid||k&&!BJ(l).isValid)){const{value:T,message:U}=D1(c)?{value:!!c,message:c}:oh(c);if(T&&(S[p]={type:Ml.required,message:U,ref:b,...A(Ml.required,U)},!n))return _(U),S}if(!N&&(!Ja(f)||!Ja(h))){let T,U;const q=oh(h),M=oh(f);if(!Ja(w)&&!isNaN(w)){const I=i.valueAsNumber||w&&+w;Ja(q.value)||(T=I>q.value),Ja(M.value)||(U=I<M.value)}else{const I=i.valueAsDate||new Date(w),V=re=>new Date(new Date().toDateString()+" "+re),F=i.type=="time",R=i.type=="week";al(q.value)&&w&&(T=F?V(w)>V(q.value):R?w>q.value:I>new Date(q.value)),al(M.value)&&w&&(U=F?V(w)<V(M.value):R?w<M.value:I<new Date(M.value))}if((T||U)&&(D(!!T,q.message,M.message,Ml.max,Ml.min),!n))return _(S[p].message),S}if((u||d)&&!N&&(al(w)||s&&Array.isArray(w))){const T=oh(u),U=oh(d),q=!Ja(T.value)&&w.length>+T.value,M=!Ja(U.value)&&w.length<+U.value;if((q||M)&&(D(q,T.message,U.message),!n))return _(S[p].message),S}if(m&&!N&&al(w)){const{value:T,message:U}=oh(m);if(Gb(T)&&!w.match(T)&&(S[p]={type:Ml.pattern,message:U,ref:i,...A(Ml.pattern,U)},!n))return _(U),S}if(g){if(xo(g)){const T=await g(w,r),U=Q5(T,b);if(U&&(S[p]={...U,...A(Ml.validate,U.message)},!n))return _(U.message),S}else if(xn(g)){let T={};for(const U in g){if(!gs(T)&&!n)break;const q=Q5(await g[U](w,r),b,U);q&&(T={...q,...A(U,q.message)},_(q.message),n&&(S[p]=T))}if(!gs(T)&&(S[p]={ref:b,...T},!n))return S}}return _(!0),S};const qGe={mode:vo.onSubmit,reValidateMode:vo.onChange,shouldFocusError:!0};function KGe(e={}){let t={...qGe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:xo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=xn(t.defaultValues)||xn(t.values)?Mn(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Mn(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:z5(),state:z5()},m=t.criteriaMode===vo.all,g=se=>ve=>{clearTimeout(u),u=setTimeout(se,ve)},p=async se=>{if(!t.disabled&&(d.isValid||f.isValid||se)){const ve=t.resolver?gs((await j()).errors):await N(n,!0);ve!==r.isValid&&h.state.next({isValid:ve})}},v=(se,ve)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((se||Array.from(l.mount)).forEach(Q=>{Q&&(ve?vr(r.validatingFields,Q,ve):wn(r.validatingFields,Q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!gs(r.validatingFields)}))},y=(se,ve=[],Q,ee,he=!0,me=!0)=>{if(ee&&Q&&!t.disabled){if(i.action=!0,me&&Array.isArray(Ze(n,se))){const $e=Q(Ze(n,se),ee.argA,ee.argB);he&&vr(n,se,$e)}if(me&&Array.isArray(Ze(r.errors,se))){const $e=Q(Ze(r.errors,se),ee.argA,ee.argB);he&&vr(r.errors,se,$e),WGe(r.errors,se)}if((d.touchedFields||f.touchedFields)&&me&&Array.isArray(Ze(r.touchedFields,se))){const $e=Q(Ze(r.touchedFields,se),ee.argA,ee.argB);he&&vr(r.touchedFields,se,$e)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=E0(a,s)),h.state.next({name:se,isDirty:D(se,ve),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vr(s,se,ve)},w=(se,ve)=>{vr(r.errors,se,ve),h.state.next({errors:r.errors})},b=se=>{r.errors=se,h.state.next({errors:r.errors,isValid:!1})},_=(se,ve,Q,ee)=>{const he=Ze(n,se);if(he){const me=Ze(s,se,fn(Q)?Ze(a,se):Q);fn(me)||ee&&ee.defaultChecked||ve?vr(s,se,ve?me:K5(he._f)):q(se,me),i.mount&&p()}},S=(se,ve,Q,ee,he)=>{let me=!1,$e=!1;const we={name:se};if(!t.disabled){if(!Q||ee){(d.isDirty||f.isDirty)&&($e=r.isDirty,r.isDirty=we.isDirty=D(),me=$e!==we.isDirty);const _e=Kl(Ze(a,se),ve);$e=!!Ze(r.dirtyFields,se),_e?wn(r.dirtyFields,se):vr(r.dirtyFields,se,!0),we.dirtyFields=r.dirtyFields,me=me||(d.dirtyFields||f.dirtyFields)&&$e!==!_e}if(Q){const _e=Ze(r.touchedFields,se);_e||(vr(r.touchedFields,se,Q),we.touchedFields=r.touchedFields,me=me||(d.touchedFields||f.touchedFields)&&_e!==Q)}me&&he&&h.state.next(we)}return me?we:{}},k=(se,ve,Q,ee)=>{const he=Ze(r.errors,se),me=(d.isValid||f.isValid)&&Gs(ve)&&r.isValid!==ve;if(t.delayError&&Q?(c=g(()=>w(se,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?vr(r.errors,se,Q):wn(r.errors,se)),(Q?!Kl(he,Q):he)||!gs(ee)||me){const $e={...ee,...me&&Gs(ve)?{isValid:ve}:{},errors:r.errors,name:se};r={...r,...$e},h.state.next($e)}},j=async se=>{v(se,!0);const ve=await t.resolver(s,t.context,LGe(se||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(se),ve},E=async se=>{const{errors:ve}=await j(se);if(se)for(const Q of se){const ee=Ze(ve,Q);ee?vr(r.errors,Q,ee):wn(r.errors,Q)}else r.errors=ve;return ve},N=async(se,ve,Q={valid:!0})=>{for(const ee in se){const he=se[ee];if(he){const{_f:me,...$e}=he;if(me){const we=l.array.has(me.name),_e=he._f&&$Ge(he._f);_e&&d.validatingFields&&v([ee],!0);const fe=await Z5(he,l.disabled,s,m,t.shouldUseNativeValidation&&!ve,we);if(_e&&d.validatingFields&&v([ee]),fe[me.name]&&(Q.valid=!1,ve))break;!ve&&(Ze(fe,me.name)?we?HGe(r.errors,fe,me.name):vr(r.errors,me.name,fe[me.name]):wn(r.errors,me.name))}!gs($e)&&await N($e,ve,Q)}}return Q.valid},A=()=>{for(const se of l.unMount){const ve=Ze(n,se);ve&&(ve._f.refs?ve._f.refs.every(Q=>!h2(Q)):!h2(ve._f.ref))&&oe(se)}l.unMount=new Set},D=(se,ve)=>!t.disabled&&(se&&ve&&vr(s,se,ve),!Kl(re(),a)),T=(se,ve,Q)=>DJ(se,l,{...i.mount?s:fn(ve)?a:al(se)?{[se]:ve}:ve},Q,ve),U=se=>C4(Ze(i.mount?s:a,se,t.shouldUnregister?Ze(a,se,[]):[])),q=(se,ve,Q={})=>{const ee=Ze(n,se);let he=ve;if(ee){const me=ee._f;me&&(!me.disabled&&vr(s,se,$J(ve,me)),he=qb(me.ref)&&Ja(ve)?"":ve,IJ(me.ref)?[...me.ref.options].forEach($e=>$e.selected=he.includes($e.value)):me.refs?Xx(me.ref)?me.refs.forEach($e=>{(!$e.defaultChecked||!$e.disabled)&&(Array.isArray(he)?$e.checked=!!he.find(we=>we===$e.value):$e.checked=he===$e.value||!!he)}):me.refs.forEach($e=>$e.checked=$e.value===he):P4(me.ref)?me.ref.value="":(me.ref.value=he,me.ref.type||h.state.next({name:se,values:Mn(s)})))}(Q.shouldDirty||Q.shouldTouch)&&S(se,he,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&R(se)},M=(se,ve,Q)=>{for(const ee in ve){if(!ve.hasOwnProperty(ee))return;const he=ve[ee],me=se+"."+ee,$e=Ze(n,me);(l.array.has(se)||xn(he)||$e&&!$e._f)&&!Dd(he)?M(me,he,Q):q(me,he,Q)}},I=(se,ve,Q={})=>{const ee=Ze(n,se),he=l.array.has(se),me=Mn(ve);vr(s,se,me),he?(h.array.next({name:se,values:Mn(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Q.shouldDirty&&h.state.next({name:se,dirtyFields:E0(a,s),isDirty:D(se,me)})):ee&&!ee._f&&!Ja(me)?M(se,me,Q):q(se,me,Q),X5(se,l)&&h.state.next({...r,name:se}),h.state.next({name:i.mount?se:void 0,values:Mn(s)})},V=async se=>{i.mount=!0;const ve=se.target;let Q=ve.name,ee=!0;const he=Ze(n,Q),me=_e=>{ee=Number.isNaN(_e)||Dd(_e)&&isNaN(_e.getTime())||Kl(_e,Ze(s,Q,_e))},$e=G5(t.mode),we=G5(t.reValidateMode);if(he){let _e,fe;const je=ve.type?K5(he._f):AJ(se),Le=se.type===Hb.BLUR||se.type===Hb.FOCUS_OUT,Ie=!BGe(he._f)&&!t.resolver&&!Ze(r.errors,Q)&&!he._f.deps||zGe(Le,Ze(r.touchedFields,Q),r.isSubmitted,we,$e),Ve=X5(Q,l,Le);vr(s,Q,je),Le?(he._f.onBlur&&he._f.onBlur(se),c&&c(0)):he._f.onChange&&he._f.onChange(se);const vt=S(Q,je,Le),Zt=!gs(vt)||Ve;if(!Le&&h.state.next({name:Q,type:se.type,values:Mn(s)}),Ie)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Le&&p():Le||p()),Zt&&h.state.next({name:Q,...Ve?{}:vt});if(!Le&&Ve&&h.state.next({...r}),t.resolver){const{errors:hr}=await j([Q]);if(me(je),ee){const or=J5(r.errors,n,Q),dr=J5(hr,n,or.name||Q);_e=dr.error,Q=dr.name,fe=gs(hr)}}else v([Q],!0),_e=(await Z5(he,l.disabled,s,m,t.shouldUseNativeValidation))[Q],v([Q]),me(je),ee&&(_e?fe=!1:(d.isValid||f.isValid)&&(fe=await N(n,!0)));ee&&(he._f.deps&&R(he._f.deps),k(Q,fe,_e,vt))}},F=(se,ve)=>{if(Ze(r.errors,ve)&&se.focus)return se.focus(),1},R=async(se,ve={})=>{let Q,ee;const he=jg(se);if(t.resolver){const me=await E(fn(se)?se:he);Q=gs(me),ee=se?!he.some($e=>Ze(me,$e)):Q}else se?(ee=(await Promise.all(he.map(async me=>{const $e=Ze(n,me);return await N($e&&$e._f?{[me]:$e}:$e)}))).every(Boolean),!(!ee&&!r.isValid)&&p()):ee=Q=await N(n);return h.state.next({...!al(se)||(d.isValid||f.isValid)&&Q!==r.isValid?{}:{name:se},...t.resolver||!se?{isValid:Q}:{},errors:r.errors}),ve.shouldFocus&&!ee&&kg(n,F,se?he:l.mount),ee},re=se=>{const ve={...i.mount?s:a};return fn(se)?ve:al(se)?Ze(ve,se):se.map(Q=>Ze(ve,Q))},Z=(se,ve)=>({invalid:!!Ze((ve||r).errors,se),isDirty:!!Ze((ve||r).dirtyFields,se),error:Ze((ve||r).errors,se),isValidating:!!Ze(r.validatingFields,se),isTouched:!!Ze((ve||r).touchedFields,se)}),C=se=>{se&&jg(se).forEach(ve=>wn(r.errors,ve)),h.state.next({errors:se?r.errors:{}})},K=(se,ve,Q)=>{const ee=(Ze(n,se,{_f:{}})._f||{}).ref,he=Ze(r.errors,se)||{},{ref:me,message:$e,type:we,..._e}=he;vr(r.errors,se,{..._e,...ve,ref:ee}),h.state.next({name:se,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&ee&&ee.focus&&ee.focus()},B=(se,ve)=>xo(se)?h.state.subscribe({next:Q=>"values"in Q&&se(T(void 0,ve),Q)}):T(se,ve,!0),z=se=>h.state.subscribe({next:ve=>{VGe(se.name,ve.name,se.exact)&&UGe(ve,se.formState||d,De,se.reRenderRoot)&&se.callback({values:{...s},...r,...ve,defaultValues:a})}}).unsubscribe,ne=se=>(i.mount=!0,f={...f,...se.formState},z({...se,formState:f})),oe=(se,ve={})=>{for(const Q of se?jg(se):l.mount)l.mount.delete(Q),l.array.delete(Q),ve.keepValue||(wn(n,Q),wn(s,Q)),!ve.keepError&&wn(r.errors,Q),!ve.keepDirty&&wn(r.dirtyFields,Q),!ve.keepTouched&&wn(r.touchedFields,Q),!ve.keepIsValidating&&wn(r.validatingFields,Q),!t.shouldUnregister&&!ve.keepDefaultValue&&wn(a,Q);h.state.next({values:Mn(s)}),h.state.next({...r,...ve.keepDirty?{isDirty:D()}:{}}),!ve.keepIsValid&&p()},ue=({disabled:se,name:ve})=>{(Gs(se)&&i.mount||se||l.disabled.has(ve))&&(se?l.disabled.add(ve):l.disabled.delete(ve))},ie=(se,ve={})=>{let Q=Ze(n,se);const ee=Gs(ve.disabled)||Gs(t.disabled);return vr(n,se,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:se}},name:se,mount:!0,...ve}}),l.mount.add(se),Q?ue({disabled:Gs(ve.disabled)?ve.disabled:t.disabled,name:se}):_(se,!0,ve.value),{...ee?{disabled:ve.disabled||t.disabled}:{},...t.progressive?{required:!!ve.required,min:C0(ve.min),max:C0(ve.max),minLength:C0(ve.minLength),maxLength:C0(ve.maxLength),pattern:C0(ve.pattern)}:{},name:se,onChange:V,onBlur:V,ref:he=>{if(he){ie(se,ve),Q=Ze(n,se);const me=fn(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,$e=IGe(me),we=Q._f.refs||[];if($e?we.find(_e=>_e===me):me===Q._f.ref)return;vr(n,se,{_f:{...Q._f,...$e?{refs:[...we.filter(h2),me,...Array.isArray(Ze(a,se))?[{}]:[]],ref:{type:me.type,name:se}}:{ref:me}}}),_(se,!1,void 0,me)}else Q=Ze(n,se,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||ve.shouldUnregister)&&!(OJ(l.array,se)&&i.action)&&l.unMount.add(se)}}},X=()=>t.shouldFocusError&&kg(n,F,l.mount),de=se=>{Gs(se)&&(h.state.next({disabled:se}),kg(n,(ve,Q)=>{const ee=Ze(n,Q);ee&&(ve.disabled=ee._f.disabled||se,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(he=>{he.disabled=ee._f.disabled||se}))},0,!1))},O=(se,ve)=>async Q=>{let ee;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let he=Mn(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:me,values:$e}=await j();r.errors=me,he=Mn($e)}else await N(n);if(l.disabled.size)for(const me of l.disabled)wn(he,me);if(wn(r.errors,"root"),gs(r.errors)){h.state.next({errors:{}});try{await se(he,Q)}catch(me){ee=me}}else ve&&await ve({...r.errors},Q),X(),setTimeout(X);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gs(r.errors)&&!ee,submitCount:r.submitCount+1,errors:r.errors}),ee)throw ee},Fe=(se,ve={})=>{Ze(n,se)&&(fn(ve.defaultValue)?I(se,Mn(Ze(a,se))):(I(se,ve.defaultValue),vr(a,se,Mn(ve.defaultValue))),ve.keepTouched||wn(r.touchedFields,se),ve.keepDirty||(wn(r.dirtyFields,se),r.isDirty=ve.defaultValue?D(se,Mn(Ze(a,se))):D()),ve.keepError||(wn(r.errors,se),d.isValid&&p()),h.state.next({...r}))},Re=(se,ve={})=>{const Q=se?Mn(se):a,ee=Mn(Q),he=gs(se),me=he?a:ee;if(ve.keepDefaultValues||(a=Q),!ve.keepValues){if(ve.keepDirtyValues){const $e=new Set([...l.mount,...Object.keys(E0(a,s))]);for(const we of Array.from($e))Ze(r.dirtyFields,we)?vr(me,we,Ze(s,we)):I(we,Ze(me,we))}else{if(E4&&fn(se))for(const $e of l.mount){const we=Ze(n,$e);if(we&&we._f){const _e=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(qb(_e)){const fe=_e.closest("form");if(fe){fe.reset();break}}}}if(ve.keepFieldsRef)for(const $e of l.mount)I($e,Ze(me,$e));else n={}}s=t.shouldUnregister?ve.keepDefaultValues?Mn(a):{}:Mn(me),h.array.next({values:{...me}}),h.state.next({values:{...me}})}l={mount:ve.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!ve.keepIsValid||!!ve.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:ve.keepSubmitCount?r.submitCount:0,isDirty:he?!1:ve.keepDirty?r.isDirty:!!(ve.keepDefaultValues&&!Kl(se,a)),isSubmitted:ve.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:ve.keepDirtyValues?ve.keepDefaultValues&&s?E0(a,s):r.dirtyFields:ve.keepDefaultValues&&se?E0(a,se):ve.keepDirty?r.dirtyFields:{},touchedFields:ve.keepTouched?r.touchedFields:{},errors:ve.keepErrors?r.errors:{},isSubmitSuccessful:ve.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Be=(se,ve)=>Re(xo(se)?se(s):se,ve),We=(se,ve={})=>{const Q=Ze(n,se),ee=Q&&Q._f;if(ee){const he=ee.refs?ee.refs[0]:ee.ref;he.focus&&(he.focus(),ve.shouldSelect&&xo(he.select)&&he.select())}},De=se=>{r={...r,...se}},gt={control:{register:ie,unregister:oe,getFieldState:Z,handleSubmit:O,setError:K,_subscribe:z,_runSchema:j,_focusError:X,_getWatch:T,_getDirty:D,_setValid:p,_setFieldArray:y,_setDisabledField:ue,_setErrors:b,_getFieldArray:U,_reset:Re,_resetDefaultValues:()=>xo(t.defaultValues)&&t.defaultValues().then(se=>{Be(se,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:de,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(se){i=se},get _defaultValues(){return a},get _names(){return l},set _names(se){l=se},get _formState(){return r},get _options(){return t},set _options(se){t={...t,...se}}},subscribe:ne,trigger:R,register:ie,handleSubmit:O,watch:B,setValue:I,getValues:re,reset:Be,resetField:Fe,clearErrors:C,unregister:oe,setError:K,setFocus:We,getFieldState:Z};return{...gt,formControl:gt}}function GGe(e={}){const t=ae.useRef(void 0),r=ae.useRef(void 0),[n,a]=ae.useState({isDirty:!1,isValidating:!1,isLoading:xo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:xo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!xo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=KGe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,O4(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,i},[s]),ae.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ae.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),ae.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),ae.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),ae.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),ae.useEffect(()=>{e.values&&!Kl(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(i=>({...i}))):s._resetDefaultValues()},[s,e.values]),ae.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=PJ(n,s),t.current}const e8=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ze(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},UJ=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?e8(n.ref,r,e):n.refs&&n.refs.forEach(a=>e8(a,r,e))}},YGe=(e,t)=>{t.shouldUseNativeValidation&&UJ(e,t);const r={};for(const n in e){const a=Ze(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(XGe(t.names||Object.keys(e),n)){const i=Object.assign({},Ze(r,n));vr(i,"root",s),vr(r,n,i)}else vr(r,n,s)}return r},XGe=(e,t)=>e.some(r=>r.startsWith(t+"."));var JGe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=RJ(i,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},QGe=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&UJ({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:YGe(JGe(i.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}}},lr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),i={};for(const l of s)i[l]=a[l];return e.objectValues(i)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},e.find=(a,s)=>{for(const i of a)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(lr||(lr={}));var t8;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(t8||(t8={}));const ut=lr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qc=e=>{switch(typeof e){case"undefined":return ut.undefined;case"string":return ut.string;case"number":return Number.isNaN(e)?ut.nan:ut.number;case"boolean":return ut.boolean;case"function":return ut.function;case"bigint":return ut.bigint;case"symbol":return ut.symbol;case"object":return Array.isArray(e)?ut.array:e===null?ut.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ut.promise:typeof Map<"u"&&e instanceof Map?ut.map:typeof Set<"u"&&e instanceof Set?ut.set:typeof Date<"u"&&e instanceof Date?ut.date:ut.object;default:return ut.unknown}},Ye=lr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _c extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof _c))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,lr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}_c.create=e=>new _c(e);const iT=(e,t)=>{let r;switch(e.code){case Ye.invalid_type:e.received===ut.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,lr.jsonStringifyReplacer)}`;break;case Ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${lr.joinValues(e.keys,", ")}`;break;case Ye.invalid_union:r="Invalid input";break;case Ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${lr.joinValues(e.options)}`;break;case Ye.invalid_enum_value:r=`Invalid enum value. Expected ${lr.joinValues(e.options)}, received '${e.received}'`;break;case Ye.invalid_arguments:r="Invalid function arguments";break;case Ye.invalid_return_type:r="Invalid function return type";break;case Ye.invalid_date:r="Invalid date";break;case Ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:lr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ye.custom:r="Invalid input";break;case Ye.invalid_intersection_types:r="Intersection results could not be merged";break;case Ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,lr.assertNever(e)}return{message:r}};let ZGe=iT;function eYe(){return ZGe}const tYe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],i={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function st(e,t){const r=eYe(),n=tYe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===iT?void 0:iT].filter(a=>!!a)});e.common.issues.push(n)}class di{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Mt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,i=await a.value;n.push({key:s,value:i})}return di.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return Mt;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(n[s.value]=i.value)}return{status:t.value,value:n}}}const Mt=Object.freeze({status:"aborted"}),z0=e=>({status:"dirty",value:e}),Ki=e=>({status:"valid",value:e}),r8=e=>e.status==="aborted",n8=e=>e.status==="dirty",hp=e=>e.status==="valid",Yb=e=>typeof Promise<"u"&&e instanceof Promise;var ht;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ht||(ht={}));class $u{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a8=(e,t)=>{if(hp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new _c(e.common.issues);return this._error=r,this._error}}};function Kt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class ir{get description(){return this._def.description}_getType(t){return qc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:qc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new di,ctx:{common:t.parent.common,data:t.data,parsedType:qc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Yb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qc(t)},a=this._parseSync({data:t,path:n.path,parent:n});return a8(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return hp(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>hp(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qc(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(Yb(a)?a:Promise.resolve(a));return a8(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const i=t(a),l=()=>s.addIssue({code:Ye.custom,...n(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new gp({schema:this,typeName:Ft.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Cu.create(this,this._def)}nullable(){return vp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fl.create(this)}promise(){return Zb.create(this,this._def)}or(t){return Jb.create([this,t],this._def)}and(t){return Qb.create(this,t,this._def)}transform(t){return new gp({...Kt(this._def),schema:this,typeName:Ft.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new lT({...Kt(this._def),innerType:this,defaultValue:r,typeName:Ft.ZodDefault})}brand(){return new jYe({typeName:Ft.ZodBranded,type:this,...Kt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new cT({...Kt(this._def),innerType:this,catchValue:r,typeName:Ft.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return R4.create(this,t)}readonly(){return uT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rYe=/^c[^\s-]{8,}$/i,nYe=/^[0-9a-z]+$/,aYe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sYe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iYe=/^[a-z0-9_-]{21}$/i,oYe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,lYe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cYe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uYe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let m2;const dYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,hYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pYe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gYe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,VJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vYe=new RegExp(`^${VJ}$`);function zJ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function xYe(e){return new RegExp(`^${zJ(e)}$`)}function yYe(e){let t=`${VJ}T${zJ(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function wYe(e,t){return!!((t==="v4"||!t)&&dYe.test(e)||(t==="v6"||!t)&&hYe.test(e))}function bYe(e,t){if(!oYe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function _Ye(e,t){return!!((t==="v4"||!t)&&fYe.test(e)||(t==="v6"||!t)&&mYe.test(e))}class hu extends ir{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ut.string){const s=this._getOrReturnCtx(t);return st(s,{code:Ye.invalid_type,expected:ut.string,received:s.parsedType}),Mt}const n=new di;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,l=t.data.length<s.value;(i||l)&&(a=this._getOrReturnCtx(t,a),i?st(a,{code:Ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&st(a,{code:Ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")cYe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"email",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")m2||(m2=new RegExp(uYe,"u")),m2.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"emoji",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")sYe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"uuid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")iYe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"nanoid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")rYe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"cuid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")nYe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"cuid2",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")aYe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"ulid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),st(a,{validation:"url",code:Ye.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"regex",code:Ye.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?yYe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?vYe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?xYe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?lYe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"duration",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?wYe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"ip",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?bYe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"jwt",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?_Ye(t.data,s.version)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"cidr",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?pYe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"base64",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?gYe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"base64url",code:Ye.invalid_string,message:s.message}),n.dirty()):lr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ye.invalid_string,...ht.errToObj(n)})}_addCheck(t){return new hu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ht.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ht.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ht.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ht.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ht.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ht.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ht.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ht.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ht.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ht.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ht.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ht.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ht.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ht.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ht.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ht.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ht.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ht.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ht.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ht.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ht.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ht.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ht.errToObj(r)})}nonempty(t){return this.min(1,ht.errToObj(t))}trim(){return new hu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}hu.create=e=>new hu({checks:[],typeName:Ft.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Kt(e)});function SYe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),i=Number.parseInt(t.toFixed(a).replace(".",""));return s%i/10**a}class mp extends ir{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ut.number){const s=this._getOrReturnCtx(t);return st(s,{code:Ye.invalid_type,expected:ut.number,received:s.parsedType}),Mt}let n;const a=new di;for(const s of this._def.checks)s.kind==="int"?lr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?SYe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.not_finite,message:s.message}),a.dirty()):lr.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ht.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ht.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ht.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ht.toString(r))}setLimit(t,r,n,a){return new mp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ht.toString(a)}]})}_addCheck(t){return new mp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ht.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ht.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ht.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ht.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ht.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ht.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&lr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}mp.create=e=>new mp({checks:[],typeName:Ft.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Kt(e)});class qv extends ir{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ut.bigint)return this._getInvalidInput(t);let n;const a=new di;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):lr.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return st(r,{code:Ye.invalid_type,expected:ut.bigint,received:r.parsedType}),Mt}gte(t,r){return this.setLimit("min",t,!0,ht.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ht.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ht.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ht.toString(r))}setLimit(t,r,n,a){return new qv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ht.toString(a)}]})}_addCheck(t){return new qv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ht.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ht.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qv.create=e=>new qv({checks:[],typeName:Ft.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Kt(e)});class s8 extends ir{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ut.boolean){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ut.boolean,received:n.parsedType}),Mt}return Ki(t.data)}}s8.create=e=>new s8({typeName:Ft.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Kt(e)});class Xb extends ir{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ut.date){const s=this._getOrReturnCtx(t);return st(s,{code:Ye.invalid_type,expected:ut.date,received:s.parsedType}),Mt}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return st(s,{code:Ye.invalid_date}),Mt}const n=new di;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):lr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Xb({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ht.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ht.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Xb.create=e=>new Xb({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ft.ZodDate,...Kt(e)});class i8 extends ir{_parse(t){if(this._getType(t)!==ut.symbol){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ut.symbol,received:n.parsedType}),Mt}return Ki(t.data)}}i8.create=e=>new i8({typeName:Ft.ZodSymbol,...Kt(e)});class o8 extends ir{_parse(t){if(this._getType(t)!==ut.undefined){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ut.undefined,received:n.parsedType}),Mt}return Ki(t.data)}}o8.create=e=>new o8({typeName:Ft.ZodUndefined,...Kt(e)});class l8 extends ir{_parse(t){if(this._getType(t)!==ut.null){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ut.null,received:n.parsedType}),Mt}return Ki(t.data)}}l8.create=e=>new l8({typeName:Ft.ZodNull,...Kt(e)});class c8 extends ir{constructor(){super(...arguments),this._any=!0}_parse(t){return Ki(t.data)}}c8.create=e=>new c8({typeName:Ft.ZodAny,...Kt(e)});class u8 extends ir{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ki(t.data)}}u8.create=e=>new u8({typeName:Ft.ZodUnknown,...Kt(e)});class Bu extends ir{_parse(t){const r=this._getOrReturnCtx(t);return st(r,{code:Ye.invalid_type,expected:ut.never,received:r.parsedType}),Mt}}Bu.create=e=>new Bu({typeName:Ft.ZodNever,...Kt(e)});class d8 extends ir{_parse(t){if(this._getType(t)!==ut.undefined){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ut.void,received:n.parsedType}),Mt}return Ki(t.data)}}d8.create=e=>new d8({typeName:Ft.ZodVoid,...Kt(e)});class fl extends ir{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ut.array)return st(r,{code:Ye.invalid_type,expected:ut.array,received:r.parsedType}),Mt;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(i||l)&&(st(r,{code:i?Ye.too_big:Ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(st(r,{code:Ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(st(r,{code:Ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>a.type._parseAsync(new $u(r,i,r.path,l)))).then(i=>di.mergeArray(n,i));const s=[...r.data].map((i,l)=>a.type._parseSync(new $u(r,i,r.path,l)));return di.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new fl({...this._def,minLength:{value:t,message:ht.toString(r)}})}max(t,r){return new fl({...this._def,maxLength:{value:t,message:ht.toString(r)}})}length(t,r){return new fl({...this._def,exactLength:{value:t,message:ht.toString(r)}})}nonempty(t){return this.min(1,t)}}fl.create=(e,t)=>new fl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ft.ZodArray,...Kt(t)});function ph(e){if(e instanceof an){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Cu.create(ph(n))}return new an({...e._def,shape:()=>t})}else return e instanceof fl?new fl({...e._def,type:ph(e.element)}):e instanceof Cu?Cu.create(ph(e.unwrap())):e instanceof vp?vp.create(ph(e.unwrap())):e instanceof jf?jf.create(e.items.map(t=>ph(t))):e}class an extends ir{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=lr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ut.object){const u=this._getOrReturnCtx(t);return st(u,{code:Ye.invalid_type,expected:ut.object,received:u.parsedType}),Mt}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Bu&&this._def.unknownKeys==="strip"))for(const u in a.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new $u(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Bu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(st(a,{code:Ye.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new $u(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>di.mergeObjectSync(n,u)):di.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ht.errToObj,new an({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i;const a=((i=(s=this._def).errorMap)==null?void 0:i.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ht.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(t){return new an({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new an({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ft.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new an({...this._def,catchall:t})}pick(t){const r={};for(const n of lr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new an({...this._def,shape:()=>r})}omit(t){const r={};for(const n of lr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new an({...this._def,shape:()=>r})}deepPartial(){return ph(this)}partial(t){const r={};for(const n of lr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new an({...this._def,shape:()=>r})}required(t){const r={};for(const n of lr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Cu;)s=s._def.innerType;r[n]=s}return new an({...this._def,shape:()=>r})}keyof(){return WJ(lr.objectKeys(this.shape))}}an.create=(e,t)=>new an({shape:()=>e,unknownKeys:"strip",catchall:Bu.create(),typeName:Ft.ZodObject,...Kt(t)});an.strictCreate=(e,t)=>new an({shape:()=>e,unknownKeys:"strict",catchall:Bu.create(),typeName:Ft.ZodObject,...Kt(t)});an.lazycreate=(e,t)=>new an({shape:e,unknownKeys:"strip",catchall:Bu.create(),typeName:Ft.ZodObject,...Kt(t)});class Jb extends ir{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=s.map(l=>new _c(l.ctx.common.issues));return st(r,{code:Ye.invalid_union,unionErrors:i}),Mt}if(r.common.async)return Promise.all(n.map(async s=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(a);{let s;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=i.map(c=>new _c(c));return st(r,{code:Ye.invalid_union,unionErrors:l}),Mt}}get options(){return this._def.options}}Jb.create=(e,t)=>new Jb({options:e,typeName:Ft.ZodUnion,...Kt(t)});function oT(e,t){const r=qc(e),n=qc(t);if(e===t)return{valid:!0,data:e};if(r===ut.object&&n===ut.object){const a=lr.objectKeys(t),s=lr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),i={...e,...t};for(const l of s){const c=oT(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===ut.array&&n===ut.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const i=e[s],l=t[s],c=oT(i,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ut.date&&n===ut.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Qb extends ir{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,i)=>{if(r8(s)||r8(i))return Mt;const l=oT(s.value,i.value);return l.valid?((n8(s)||n8(i))&&r.dirty(),{status:r.value,value:l.data}):(st(n,{code:Ye.invalid_intersection_types}),Mt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Qb.create=(e,t,r)=>new Qb({left:e,right:t,typeName:Ft.ZodIntersection,...Kt(r)});class jf extends ir{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.array)return st(n,{code:Ye.invalid_type,expected:ut.array,received:n.parsedType}),Mt;if(n.data.length<this._def.items.length)return st(n,{code:Ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mt;!this._def.rest&&n.data.length>this._def.items.length&&(st(n,{code:Ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new $u(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>di.mergeArray(r,i)):di.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new jf({...this._def,rest:t})}}jf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jf({items:e,typeName:Ft.ZodTuple,rest:null,...Kt(t)})};class f8 extends ir{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.map)return st(n,{code:Ye.invalid_type,expected:ut.map,received:n.parsedType}),Mt;const a=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new $u(n,l,n.path,[u,"key"])),value:s._parse(new $u(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}f8.create=(e,t,r)=>new f8({valueType:t,keyType:e,typeName:Ft.ZodMap,...Kt(r)});class Kv extends ir{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.set)return st(n,{code:Ye.invalid_type,expected:ut.set,received:n.parsedType}),Mt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(st(n,{code:Ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(st(n,{code:Ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Mt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new $u(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new Kv({...this._def,minSize:{value:t,message:ht.toString(r)}})}max(t,r){return new Kv({...this._def,maxSize:{value:t,message:ht.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Kv.create=(e,t)=>new Kv({valueType:e,minSize:null,maxSize:null,typeName:Ft.ZodSet,...Kt(t)});class h8 extends ir{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}h8.create=(e,t)=>new h8({getter:e,typeName:Ft.ZodLazy,...Kt(t)});class m8 extends ir{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return st(r,{received:r.data,code:Ye.invalid_literal,expected:this._def.value}),Mt}return{status:"valid",value:t.data}}get value(){return this._def.value}}m8.create=(e,t)=>new m8({value:e,typeName:Ft.ZodLiteral,...Kt(t)});function WJ(e,t){return new pp({values:e,typeName:Ft.ZodEnum,...Kt(t)})}class pp extends ir{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return st(r,{expected:lr.joinValues(n),received:r.parsedType,code:Ye.invalid_type}),Mt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return st(r,{received:r.data,code:Ye.invalid_enum_value,options:n}),Mt}return Ki(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return pp.create(t,{...this._def,...r})}exclude(t,r=this._def){return pp.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}pp.create=WJ;class p8 extends ir{_parse(t){const r=lr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ut.string&&n.parsedType!==ut.number){const a=lr.objectValues(r);return st(n,{expected:lr.joinValues(a),received:n.parsedType,code:Ye.invalid_type}),Mt}if(this._cache||(this._cache=new Set(lr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=lr.objectValues(r);return st(n,{received:n.data,code:Ye.invalid_enum_value,options:a}),Mt}return Ki(t.data)}get enum(){return this._def.values}}p8.create=(e,t)=>new p8({values:e,typeName:Ft.ZodNativeEnum,...Kt(t)});class Zb extends ir{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.promise&&r.common.async===!1)return st(r,{code:Ye.invalid_type,expected:ut.promise,received:r.parsedType}),Mt;const n=r.parsedType===ut.promise?r.data:Promise.resolve(r.data);return Ki(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Zb.create=(e,t)=>new Zb({type:e,typeName:Ft.ZodPromise,...Kt(t)});class gp extends ir{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ft.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:i=>{st(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const i=a.transform(n.data,s);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return Mt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Mt:c.status==="dirty"||r.value==="dirty"?z0(c.value):c});{if(r.value==="aborted")return Mt;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?Mt:l.status==="dirty"||r.value==="dirty"?z0(l.value):l}}if(a.type==="refinement"){const i=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Mt:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Mt:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hp(i))return Mt;const l=a.transform(i.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>hp(i)?Promise.resolve(a.transform(i.value,s)).then(l=>({status:r.value,value:l})):Mt);lr.assertNever(a)}}gp.create=(e,t,r)=>new gp({schema:e,typeName:Ft.ZodEffects,effect:t,...Kt(r)});gp.createWithPreprocess=(e,t,r)=>new gp({schema:t,effect:{type:"preprocess",transform:e},typeName:Ft.ZodEffects,...Kt(r)});class Cu extends ir{_parse(t){return this._getType(t)===ut.undefined?Ki(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Cu.create=(e,t)=>new Cu({innerType:e,typeName:Ft.ZodOptional,...Kt(t)});class vp extends ir{_parse(t){return this._getType(t)===ut.null?Ki(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vp.create=(e,t)=>new vp({innerType:e,typeName:Ft.ZodNullable,...Kt(t)});class lT extends ir{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ut.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}lT.create=(e,t)=>new lT({innerType:e,typeName:Ft.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Kt(t)});class cT extends ir{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Yb(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new _c(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new _c(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}cT.create=(e,t)=>new cT({innerType:e,typeName:Ft.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Kt(t)});class g8 extends ir{_parse(t){if(this._getType(t)!==ut.nan){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ut.nan,received:n.parsedType}),Mt}return{status:"valid",value:t.data}}}g8.create=e=>new g8({typeName:Ft.ZodNaN,...Kt(e)});class jYe extends ir{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class R4 extends ir{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Mt:s.status==="dirty"?(r.dirty(),z0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Mt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new R4({in:t,out:r,typeName:Ft.ZodPipeline})}}class uT extends ir{_parse(t){const r=this._def.innerType._parse(t),n=a=>(hp(a)&&(a.value=Object.freeze(a.value)),a);return Yb(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}uT.create=(e,t)=>new uT({innerType:e,typeName:Ft.ZodReadonly,...Kt(t)});an.lazycreate;var Ft;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ft||(Ft={}));const l1=hu.create,kYe=mp.create;Bu.create;fl.create;const NYe=an.create;an.strictCreate;Jb.create;Qb.create;jf.create;pp.create;Zb.create;Cu.create;vp.create;const EYe=AGe,HJ=x.createContext({}),T0=({...e})=>o.jsx(HJ.Provider,{value:{name:e.name},children:o.jsx(RGe,{...e})}),tj=()=>{const e=x.useContext(HJ),t=x.useContext(qJ),{getFieldState:r,formState:n}=ej(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},qJ=x.createContext({}),gh=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return o.jsx(qJ.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:ke("space-y-2",e),...t})})});gh.displayName="FormItem";const vh=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=tj();return o.jsx(qe,{ref:r,className:ke(n&&"text-destructive",e),htmlFor:a,...t})});vh.displayName="FormLabel";const xh=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=tj();return o.jsx(bU,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});xh.displayName="FormControl";const CYe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=tj();return o.jsx("p",{ref:r,id:n,className:ke("text-sm text-muted-foreground",e),...t})});CYe.displayName="FormDescription";const yh=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=tj(),i=a?String(a==null?void 0:a.message):t;return i?o.jsx("p",{ref:n,id:s,className:ke("text-sm font-medium text-destructive",e),...r,children:i}):null});yh.displayName="FormMessage";const TYe=NYe({request_title:l1().min(1,"Title is required"),request_description:l1().optional(),request_type:l1().optional(),priority:kYe().optional(),status:l1().optional()});function AYe({open:e,onOpenChange:t,onSubmit:r,initialData:n}){const{t:a}=Ht(),{user:s}=Sr(),i=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="manager",l=GGe({resolver:QGe(TYe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});x.useEffect(()=>{n?l.reset({request_title:n.request_title,request_description:n.request_description||"",request_type:n.request_type||"internal_task",priority:n.priority||1,status:n.status||"pending"}):l.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[n,l,e]);const c=async u=>{await r(u),t(!1),l.reset()};return o.jsx(gl,{open:e,onOpenChange:t,children:o.jsxs(Po,{side:Ur()?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[o.jsx(pc,{children:o.jsx(vl,{children:a(n?"requests.editRequest":"requests.createRequest")})}),o.jsx("div",{className:"py-4",children:o.jsx(EYe,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[o.jsx(T0,{control:l.control,name:"request_title",render:({field:u})=>o.jsxs(gh,{children:[o.jsx(vh,{children:a("requests.title")}),o.jsx(xh,{children:o.jsx(ze,{placeholder:a("requests.titlePlaceholder"),...u})}),o.jsx(yh,{})]})}),o.jsx(T0,{control:l.control,name:"request_description",render:({field:u})=>o.jsxs(gh,{children:[o.jsx(vh,{children:a("requests.description")}),o.jsx(xh,{children:o.jsx(la,{placeholder:a("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...u})}),o.jsx(yh,{})]})}),i&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(T0,{control:l.control,name:"request_type",render:({field:u})=>o.jsxs(gh,{children:[o.jsx(vh,{children:a("requests.type")}),o.jsxs(_t,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[o.jsx(xh,{children:o.jsx(wt,{children:o.jsx(St,{placeholder:"Select type"})})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"internal_task",children:a("requests.types.internalTask")}),o.jsx(Ae,{value:"support",children:a("requests.types.support")}),o.jsx(Ae,{value:"feature",children:a("requests.types.feature")})]})]}),o.jsx(yh,{})]})}),o.jsx(T0,{control:l.control,name:"priority",render:({field:u})=>{var d,f;return o.jsxs(gh,{children:[o.jsx(vh,{children:a("requests.priority")}),o.jsxs(_t,{onValueChange:h=>u.onChange(parseInt(h)),defaultValue:(d=u.value)==null?void 0:d.toString(),value:(f=u.value)==null?void 0:f.toString(),children:[o.jsx(xh,{children:o.jsx(wt,{children:o.jsx(St,{placeholder:"Select priority"})})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"0",children:a("requests.priorities.low")}),o.jsx(Ae,{value:"1",children:a("requests.priorities.medium")}),o.jsx(Ae,{value:"2",children:a("requests.priorities.high")})]})]}),o.jsx(yh,{})]})}})]}),o.jsx(T0,{control:l.control,name:"status",render:({field:u})=>o.jsxs(gh,{children:[o.jsx(vh,{children:a("requests.status")}),o.jsxs(_t,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[o.jsx(xh,{children:o.jsx(wt,{children:o.jsx(St,{placeholder:"Select status"})})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"pending",children:a("status.pending")}),o.jsx(Ae,{value:"in_progress",children:a("status.in_progress")}),o.jsx(Ae,{value:"completed",children:a("status.completed")}),o.jsx(Ae,{value:"approved",children:a("status.approved")}),o.jsx(Ae,{value:"rejected",children:a("status.rejected")})]})]}),o.jsx(yh,{})]})})]}),o.jsx("div",{className:"flex justify-end pt-4 gap-2",children:o.jsx(ce,{type:"submit",children:a(n?"common.save":"common.create")})})]})})})]})})}function OYe(){const{t:e}=Ht(),{toast:t}=jl(),{user:r}=Sr(),[n,a]=x.useState([]),[s,i]=x.useState(!0),[l,c]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,v]=x.useState("all"),[y,w]=x.useState("all"),b=async()=>{try{i(!0);const T=await o1.getRequests();a(T)}catch(T){console.error("Failed to fetch requests:",T),t({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{b()},[]);const _=()=>{h(null),d(!0)},S=T=>{h(T),d(!0)},k=async()=>{if(m)try{await o1.deleteRequest(m),t({title:e("common.success"),description:e("requests.deleteSuccess")}),b()}catch(T){console.error("Failed to delete request:",T),t({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{g(null)}},j=async T=>{try{if(!(r!=null&&r.id)){t({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}f?(await o1.updateRequest(f.request_id,T),t({title:e("common.success"),description:e("requests.updateSuccess")})):(await o1.createRequest({...T,requested_by_auth:r.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),t({title:e("common.success"),description:e("requests.createSuccess")})),b()}catch(U){console.error("Failed to save request:",U),t({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},E=n.filter(T=>{var I;const U=T.request_title.toLowerCase().includes(l.toLowerCase()),q=p==="all"||T.status===p,M=y==="all"||((I=T.priority)==null?void 0:I.toString())===y;return U&&q&&M}),N=T=>{switch(T){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},A=T=>{switch(T){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},D=T=>{switch(T){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Ur()?"rtl":"ltr",children:[o.jsx(Nx,{title:e("requests.title"),description:e("requests.subtitle"),icon:o.jsx(ys,{className:"h-5 w-5 text-primary"}),actions:o.jsxs(ce,{onClick:_,children:[o.jsx(ar,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ze,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:l,onChange:T=>c(T.target.value)})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[o.jsxs(_t,{value:y,onValueChange:w,children:[o.jsx(wt,{className:"w-[130px] h-9",children:o.jsx(St,{placeholder:e("requests.priority")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"all",children:e("common.all")}),o.jsx(Ae,{value:"0",children:e("requests.priorities.low")}),o.jsx(Ae,{value:"1",children:e("requests.priorities.medium")}),o.jsx(Ae,{value:"2",children:e("requests.priorities.high")})]})]}),o.jsxs(_t,{value:p,onValueChange:v,children:[o.jsx(wt,{className:"w-[130px] h-9",children:o.jsx(St,{placeholder:e("requests.status")})}),o.jsxs(bt,{children:[o.jsx(Ae,{value:"all",children:e("common.all")}),o.jsx(Ae,{value:"pending",children:e("status.pending")}),o.jsx(Ae,{value:"approved",children:e("status.approved")}),o.jsx(Ae,{value:"rejected",children:e("status.rejected")}),o.jsx(Ae,{value:"in_progress",children:e("status.in_progress")}),o.jsx(Ae,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const T=[{key:"title",header:e("requests.requestTitle"),render:q=>{var M;return o.jsx(vc,{title:q.request_title,subtitle:(M=q.request_type)==null?void 0:M.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:q=>o.jsx(mt,{variant:"outline",className:A(q.priority),children:D(q.priority)})},{key:"status",header:e("requests.status"),render:q=>o.jsx(mt,{variant:"secondary",className:`capitalize ${N(q.status)}`,children:q.status?e(`status.${q.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:q=>o.jsx(Iu,{date:q.created_at})}],U=[{icon:o.jsx(RN,{}),label:e("common.edit"),onClick:S},{icon:o.jsx(_r,{}),label:e("common.delete"),onClick:q=>g(q.request_id),variant:"destructive"}];return o.jsx(gc,{data:E,columns:T,actions:U,loading:s,keyExtractor:q=>q.request_id,onRowClick:S})})(),o.jsx(AYe,{open:u,onOpenChange:d,onSubmit:j,initialData:f}),o.jsx(ci,{open:!!m,onOpenChange:T=>!T&&g(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("common.confirmDelete")}),o.jsx(Fs,{children:e("requests.deleteConfirmation")})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("common.cancel")}),o.jsx(Ls,{className:"bg-red-500 hover:bg-red-600",onClick:k,children:e("common.delete")})]})]})})]})}const W0="https://api.middar.com",PYe="default",DYe="",p2={async getConversations(){return(await G.whatsappConversations.list()).data},async getMessages(e){return(await G.whatsappMessages.getByConversation(e)).data},async sendMessage(e,t){try{const r={"Content-Type":"application/json",accept:"application/json"},n=e.includes("@")?e:`${e.replace(/\D/g,"")}@c.us`,a=await fetch(`${W0}/api/v1/whatsapp/sendText`,{method:"POST",headers:r,body:JSON.stringify({session:PYe,chatId:n,text:t})}),s=await a.json();if(!a.ok)throw new Error(s.error||"Failed to send message via WAHA");const l=(await G.whatsappConversations.list({exact_filters:{phone:e}})).data[0];if(l){const c=l.id;await G.whatsappMessages.create({conversation_id:c,phone:e,message:t,direction:"outbound",created_at:new Date().toISOString()}),await G.whatsappConversations.update(c,{last_message_at:new Date().toISOString()})}return s}catch(r){throw console.error("Error sending WhatsApp message:",r),r}},async createConversation(e,t){const r=await G.whatsappConversations.list({exact_filters:{phone:e}});return r.data.length>0?r.data[0]:await G.whatsappConversations.create({phone:e,lead_id:t,last_message_at:new Date().toISOString()})}};function RYe(){Ht();const{toast:e}=jl(),[t,r]=x.useState([]),[n,a]=x.useState(null),[s,i]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!0),[f,h]=x.useState(!1),m=x.useRef(null);x.useEffect(()=>{g();const w=$t.channel("whatsapp_conversations_changes").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_conversations"},b=>{g()}).subscribe();return()=>{$t.removeChannel(w)}},[]),x.useEffect(()=>{if(n){p(n.id);const w=$t.channel(`whatsapp_messages:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"whatsapp_messages",filter:`conversation_id=eq.${n.id}`},b=>{const _=b.new;i(S=>S.some(k=>k.id===_.id)?S:[...S,_]),setTimeout(()=>v(),100)}).subscribe();return()=>{$t.removeChannel(w)}}},[n]);const g=async()=>{try{const w=await p2.getConversations();r(w),u&&d(!1)}catch(w){console.error(w),e({variant:"destructive",title:"Error",description:"Failed to load conversations"})}},p=async w=>{try{const b=await p2.getMessages(w);i(b),setTimeout(()=>v(),100)}catch(b){console.error(b)}},v=()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},y=async w=>{if(w==null||w.preventDefault(),!(!l.trim()||!n)){h(!0);try{await p2.sendMessage(n.phone,l),c(""),n&&setTimeout(()=>p(n.id),500)}catch(b){e({variant:"destructive",title:"Error sending message",description:b.message})}finally{h(!1)}}};return o.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg",dir:Ur()?"rtl":"ltr",children:[o.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[o.jsxs("h2",{className:"font-semibold mb-4 flex items-center justify-between",children:[o.jsx("span",{children:"WhatsApp Inbox"}),o.jsx(ce,{variant:"ghost",size:"icon",onClick:g,children:o.jsx(iI,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:"Search...",className:"pl-9"})]})]}),o.jsx(aa,{className:"flex-1",children:o.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[t.map(w=>o.jsxs("button",{onClick:()=>a(w),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(n==null?void 0:n.id)===w.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[o.jsx(Os,{children:o.jsx(Ps,{className:"bg-green-100 text-green-700",children:o.jsx(sa,{className:"h-4 w-4"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"font-medium truncate",children:w.phone}),o.jsx("span",{className:"text-xs text-muted-foreground",children:w.last_message_at&&is(new Date(w.last_message_at),"MMM d")})]}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},w.id)),t.length===0&&!u&&o.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:"No conversations yet."})]})})]}),o.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Os,{className:"h-10 w-10",children:o.jsx(Ps,{className:"bg-green-600 text-white",children:"WA"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:n.phone}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50",ref:m,children:s.map(w=>o.jsx("div",{className:`flex ${w.direction==="outbound"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${w.direction==="outbound"?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[w.media_url&&o.jsx("div",{className:"mb-2",children:w.media_type==="image"||w.media_type==="sticker"?o.jsx("img",{src:`${W0}${w.media_url}`,alt:"WhatsApp media",className:"rounded-lg max-w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(`${W0}${w.media_url}`,"_blank")}):w.media_type==="video"?o.jsx("video",{controls:!0,className:"rounded-lg max-w-full",children:o.jsx("source",{src:`${W0}${w.media_url}`})}):o.jsxs("a",{href:`${W0}${w.media_url}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-muted/50 rounded hover:bg-muted transition-colors text-xs",children:[o.jsx(iI,{className:"h-4 w-4"}),o.jsxs("span",{children:["Download ",w.media_type||"File"]})]})}),w.message&&o.jsx("p",{className:"text-sm",children:w.message}),o.jsx("p",{className:`text-[10px] mt-1 text-right ${w.direction==="outbound"?"text-green-100":"text-muted-foreground"}`,children:is(new Date(w.created_at),"HH:mm")})]})},w.id))}),o.jsx("div",{className:"p-4 border-t bg-background",children:o.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[o.jsx(ze,{value:l,onChange:w=>c(w.target.value),placeholder:"Type a message...",className:"flex-1",disabled:f}),o.jsx(ce,{type:"submit",size:"icon",disabled:f||!l.trim(),children:o.jsx(ox,{className:"h-4 w-4"})})]})})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:o.jsx(Gh,{className:"h-8 w-8 text-green-600"})}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a conversation"}),o.jsx("p",{className:"max-w-xs text-center text-sm",children:"Choose a conversation from the sidebar to start messaging via WhatsApp."})]})})]})}function IYe(){const{t:e}=Ht(),{isRTL:t}=mi(),{setBreadcrumbs:r}=ax(),{toast:n}=jl(),[a,s]=x.useState([]),[i,l]=x.useState(!0),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState(!1),[v,y]=x.useState({});x.useEffect(()=>{r([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),w()},[]);const w=async()=>{try{l(!0);const N=await G.permissions1.list();s(N.data||[]),u(null)}catch(N){u(N.message||"Failed to load permissions")}finally{l(!1)}},b=N=>{f(N),y({...N}),p(!0),m(!0)},_=()=>{f(null),y({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),p(!1),m(!0)},S=async()=>{try{if(!v.permissions_Name){n({title:"Error",description:"Permission name is required",variant:"destructive"});return}d?(await G.permissions1.update(d.permissions_ID,v),n({title:"Success",description:"Permission updated"})):(await G.permissions1.create(v),n({title:"Success",description:"Permission created"})),m(!1),w()}catch(N){n({title:"Error",description:N.message,variant:"destructive"})}},k=[{key:"permissions_Name",header:"Role Name",render:N=>o.jsx(vc,{title:N.permissions_Name||"Unnamed Role",icon:o.jsx(dw,{className:"h-4 w-4 text-primary"})})},{key:"permissions_ID",header:"ID",render:N=>o.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",N.permissions_ID]})}],j=[{icon:o.jsx(Bi,{}),label:"Edit",onClick:N=>b(N)}],E=()=>{const N=Object.keys(v).filter(A=>A!=="permissions_ID"&&A!=="permissions_Name"&&A!=="created_at"&&A!=="updated_at");return o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:N.map(A=>o.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[o.jsx(Ew,{id:A,checked:!!v[A],onCheckedChange:D=>{y(T=>({...T,[A]:D?1:0}))}}),o.jsx(qe,{htmlFor:A,className:"cursor-pointer flex-1 capitalize",children:A.replace(/_/g," ")})]},A))})};return i?o.jsx(Of,{}):c?o.jsx(Rp,{message:c,onRetry:w}):o.jsxs("div",{className:"space-y-4 p-4",dir:t?"rtl":"ltr",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),o.jsxs(ce,{onClick:_,children:[o.jsx(ar,{className:"mr-2 h-4 w-4"})," Add Role"]})]}),o.jsx(gc,{data:a,columns:k,actions:j,keyExtractor:N=>N.permissions_ID.toString()}),o.jsx(gl,{open:h,onOpenChange:m,children:o.jsxs(Po,{side:t?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:t?"rtl":"ltr",children:[o.jsxs(pc,{children:[o.jsx(vl,{children:d?"Edit Role":"New Role"}),o.jsx(wx,{children:"Configure access permissions for this role."})]}),o.jsxs("div",{className:"py-4 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{htmlFor:"roleName",children:"Role Name"}),o.jsx(ze,{id:"roleName",value:v.permissions_Name||"",onChange:N=>y(A=>({...A,permissions_Name:N.target.value}))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),E(),Object.keys(v).filter(N=>N!=="permissions_ID"&&N!=="permissions_Name").length===0&&o.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",a.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx(ce,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),o.jsx(ce,{onClick:S,children:"Save Changes"})]})]})})]})}const MYe=()=>o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),o.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),o.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),FYe=()=>{const{user:e}=Sr();return(e==null?void 0:e.role)==="client"?o.jsx(oye,{}):o.jsx(Ove,{})},v8=({children:e})=>o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-800",children:e});function LYe(){return o.jsx(cae,{children:o.jsx(wU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx(Mie,{children:o.jsx(pae,{children:o.jsx(hae,{children:o.jsx(gae,{children:o.jsx($Ye,{})})})})})})})}function $Ye(){const{isRTL:e}=mi(),t=Sl(),{t:r}=Ht();return x.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),x.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],i={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let l="";if(i[s])l=r(i[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];i[c]?l=`${r(i[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),o.jsxs(rae,{children:[o.jsx(Cr,{path:"/login",element:o.jsx(v8,{children:o.jsx(Rie,{})})}),o.jsx(Cr,{path:"/signup",element:o.jsx(v8,{children:o.jsx(Iie,{})})}),o.jsx(Cr,{path:"/unauthorized",element:o.jsx(MYe,{})}),o.jsx(Cr,{path:"/auth/callback",element:o.jsx(uye,{})}),o.jsx(Cr,{path:"/",element:o.jsx(cye,{})}),o.jsxs(Cr,{element:o.jsx(kae,{children:o.jsx(uE,{children:o.jsx(LR,{})})}),children:[o.jsx(Cr,{path:"/dashboard",element:o.jsx(Gme,{})}),o.jsx(Cr,{path:"/leads",element:o.jsx(Vge,{})}),o.jsx(Cr,{path:"/projects",element:o.jsx(ive,{})}),o.jsx(Cr,{path:"/tasks",element:o.jsx(Kge,{})}),o.jsx(Cr,{path:"/tickets",element:o.jsx(Xge,{})}),o.jsx(Cr,{path:"/users",element:o.jsx(wve,{})}),o.jsx(Cr,{path:"/teams",element:o.jsx(bve,{})}),o.jsx(Cr,{path:"/chats",element:o.jsx(FYe,{})}),o.jsx(Cr,{path:"/all-chats",element:o.jsx(iye,{})}),o.jsx(Cr,{path:"/whatsapp",element:o.jsx(RYe,{})}),o.jsx(Cr,{path:"/requests",element:o.jsx(OYe,{})}),o.jsx(Cr,{path:"/client-portal",element:o.jsx(lye,{})}),o.jsx(Cr,{path:"/surveys",element:o.jsx(mNe,{})}),o.jsx(Cr,{path:"/mleads",element:o.jsx(SGe,{})}),o.jsx(Cr,{path:"/mprojects",element:o.jsx(EGe,{})}),o.jsx(Cr,{path:"/permissions",element:o.jsx(IYe,{})}),o.jsx(Cr,{path:"/settings",element:o.jsx(pNe,{})})]}),o.jsx(Cr,{element:o.jsx(uE,{children:o.jsx(LR,{})})}),o.jsx(Cr,{path:"*",element:o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("h1",{children:"404 - Page Not Found"})})})]})}const BYe=new ste({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});UB(document.getElementById("root")).render(o.jsx(hre,{i18n:Qr,children:o.jsx(ute,{client:BYe,children:o.jsx(wU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx(LYe,{})})})}));
