var i4=e=>{throw TypeError(e)};var Ij=(e,t,r)=>t.has(e)||i4("Cannot "+r);var ye=(e,t,r)=>(Ij(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?i4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ct=(e,t,r,n)=>(Ij(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),qt=(e,t,r)=>(Ij(e,t,"access private method"),r);var Tx=(e,t,r,n)=>({set _(a){ct(e,t,a,r)},get _(){return ye(e,t,n)}});function uX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o$={exports:{}},yw={},l$={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv=Symbol.for("react.element"),dX=Symbol.for("react.portal"),fX=Symbol.for("react.fragment"),hX=Symbol.for("react.strict_mode"),mX=Symbol.for("react.profiler"),pX=Symbol.for("react.provider"),gX=Symbol.for("react.context"),vX=Symbol.for("react.forward_ref"),xX=Symbol.for("react.suspense"),yX=Symbol.for("react.memo"),bX=Symbol.for("react.lazy"),o4=Symbol.iterator;function wX(e){return e===null||typeof e!="object"?null:(e=o4&&e[o4]||e["@@iterator"],typeof e=="function"?e:null)}var c$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u$=Object.assign,d$={};function op(e,t,r){this.props=e,this.context=t,this.refs=d$,this.updater=r||c$}op.prototype.isReactComponent={};op.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};op.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function f$(){}f$.prototype=op.prototype;function fE(e,t,r){this.props=e,this.context=t,this.refs=d$,this.updater=r||c$}var hE=fE.prototype=new f$;hE.constructor=fE;u$(hE,op.prototype);hE.isPureReactComponent=!0;var l4=Array.isArray,h$=Object.prototype.hasOwnProperty,mE={current:null},m$={key:!0,ref:!0,__self:!0,__source:!0};function p$(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)h$.call(t,n)&&!m$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Pv,type:e,key:s,ref:o,props:a,_owner:mE.current}}function _X(e,t){return{$$typeof:Pv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pE(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pv}function jX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var c4=/\/+/g;function Lj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jX(""+e.key):t.toString(36)}function Oy(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pv:case dX:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Lj(o,0):n,l4(a)?(r="",e!=null&&(r=e.replace(c4,"$&/")+"/"),Oy(a,t,r,"",function(u){return u})):a!=null&&(pE(a)&&(a=_X(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(c4,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",l4(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Lj(s,l);o+=Oy(s,t,r,c,a)}else if(c=wX(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Lj(s,l++),o+=Oy(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Px(e,t,r){if(e==null)return e;var n=[],a=0;return Oy(e,n,"","",function(s){return t.call(r,s,a++)}),n}function SX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ss={current:null},Dy={transition:null},NX={ReactCurrentDispatcher:ss,ReactCurrentBatchConfig:Dy,ReactCurrentOwner:mE};function g$(){throw Error("act(...) is not supported in production builds of React.")}Vt.Children={map:Px,forEach:function(e,t,r){Px(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Px(e,function(){t++}),t},toArray:function(e){return Px(e,function(t){return t})||[]},only:function(e){if(!pE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vt.Component=op;Vt.Fragment=fX;Vt.Profiler=mX;Vt.PureComponent=fE;Vt.StrictMode=hX;Vt.Suspense=xX;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NX;Vt.act=g$;Vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=u$({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=mE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)h$.call(t,c)&&!m$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Pv,type:e.type,key:a,ref:s,props:n,_owner:o}};Vt.createContext=function(e){return e={$$typeof:gX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pX,_context:e},e.Consumer=e};Vt.createElement=p$;Vt.createFactory=function(e){var t=p$.bind(null,e);return t.type=e,t};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(e){return{$$typeof:vX,render:e}};Vt.isValidElement=pE;Vt.lazy=function(e){return{$$typeof:bX,_payload:{_status:-1,_result:e},_init:SX}};Vt.memo=function(e,t){return{$$typeof:yX,type:e,compare:t===void 0?null:t}};Vt.startTransition=function(e){var t=Dy.transition;Dy.transition={};try{e()}finally{Dy.transition=t}};Vt.unstable_act=g$;Vt.useCallback=function(e,t){return ss.current.useCallback(e,t)};Vt.useContext=function(e){return ss.current.useContext(e)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(e){return ss.current.useDeferredValue(e)};Vt.useEffect=function(e,t){return ss.current.useEffect(e,t)};Vt.useId=function(){return ss.current.useId()};Vt.useImperativeHandle=function(e,t,r){return ss.current.useImperativeHandle(e,t,r)};Vt.useInsertionEffect=function(e,t){return ss.current.useInsertionEffect(e,t)};Vt.useLayoutEffect=function(e,t){return ss.current.useLayoutEffect(e,t)};Vt.useMemo=function(e,t){return ss.current.useMemo(e,t)};Vt.useReducer=function(e,t,r){return ss.current.useReducer(e,t,r)};Vt.useRef=function(e){return ss.current.useRef(e)};Vt.useState=function(e){return ss.current.useState(e)};Vt.useSyncExternalStore=function(e,t,r){return ss.current.useSyncExternalStore(e,t,r)};Vt.useTransition=function(){return ss.current.useTransition()};Vt.version="18.3.1";l$.exports=Vt;var x=l$.exports;const ie=mr(x),gE=uX({__proto__:null,default:ie},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kX=x,CX=Symbol.for("react.element"),EX=Symbol.for("react.fragment"),TX=Object.prototype.hasOwnProperty,AX=kX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PX={key:!0,ref:!0,__self:!0,__source:!0};function v$(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)TX.call(t,n)&&!PX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:CX,type:e,key:s,ref:o,props:a,_owner:AX.current}}yw.Fragment=EX;yw.jsx=v$;yw.jsxs=v$;o$.exports=yw;var i=o$.exports,x$={exports:{}},li={},y$={exports:{}},b$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,I){var X=B.length;B.push(I);e:for(;0<X;){var Q=X-1>>>1,O=B[Q];if(0<a(O,I))B[Q]=I,B[X]=O,X=Q;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var I=B[0],X=B.pop();if(X!==I){B[0]=X;e:for(var Q=0,O=B.length,M=O>>>1;Q<M;){var F=2*(Q+1)-1,H=B[F],ee=F+1,ne=B[ee];if(0>a(H,X))ee<O&&0>a(ne,H)?(B[Q]=ne,B[ee]=X,Q=ee):(B[Q]=H,B[F]=X,Q=F);else if(ee<O&&0>a(ne,X))B[Q]=ne,B[ee]=X,Q=ee;else break e}}return I}function a(B,I){var X=B.sortIndex-I.sortIndex;return X!==0?X:B.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=B)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function _(B){if(g=!1,w(B),!p)if(r(c)!==null)p=!0,L(j);else{var I=r(u);I!==null&&V(_,I.startTime-B)}}function j(B,I){p=!1,g&&(g=!1,y(k),k=-1),m=!0;var X=h;try{for(w(I),f=r(c);f!==null&&(!(f.expirationTime>I)||B&&!P());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var O=Q(f.expirationTime<=I);I=e.unstable_now(),typeof O=="function"?f.callback=O:f===r(c)&&n(c),w(I)}else n(c);f=r(c)}if(f!==null)var M=!0;else{var F=r(u);F!==null&&V(_,F.startTime-I),M=!1}return M}finally{f=null,h=X,m=!1}}var N=!1,S=null,k=-1,C=5,E=-1;function P(){return!(e.unstable_now()-E<C)}function T(){if(S!==null){var B=e.unstable_now();E=B;var I=!0;try{I=S(!0,B)}finally{I?W():(N=!1,S=null)}}else N=!1}var W;if(typeof b=="function")W=function(){b(T)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,U=G.port2;G.port1.onmessage=T,W=function(){U.postMessage(null)}}else W=function(){v(T,0)};function L(B){S=B,N||(N=!0,W())}function V(B,I){k=v(function(){B(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,L(j))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var X=h;h=I;try{return B()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,I){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=h;h=B;try{return I()}finally{h=X}},e.unstable_scheduleCallback=function(B,I,X){var Q=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Q+X:Q):X=Q,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=X+O,B={id:d++,callback:I,priorityLevel:B,startTime:X,expirationTime:O,sortIndex:-1},X>Q?(B.sortIndex=X,t(u,B),r(c)===null&&B===r(u)&&(g?(y(k),k=-1):g=!0,V(_,X-Q))):(B.sortIndex=O,t(c,B),p||m||(p=!0,L(j))),B},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(B){var I=h;return function(){var X=h;h=I;try{return B.apply(this,arguments)}finally{h=X}}}})(b$);y$.exports=b$;var OX=y$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DX=x,ai=OX;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w$=new Set,og={};function _f(e,t){im(e,t),im(e+"Capture",t)}function im(e,t){for(og[e]=t,e=0;e<t.length;e++)w$.add(t[e])}var nc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O2=Object.prototype.hasOwnProperty,RX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u4={},d4={};function MX(e){return O2.call(d4,e)?!0:O2.call(u4,e)?!1:RX.test(e)?d4[e]=!0:(u4[e]=!0,!1)}function FX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IX(e,t,r,n){if(t===null||typeof t>"u"||FX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function is(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var sa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sa[e]=new is(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sa[t]=new is(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sa[e]=new is(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sa[e]=new is(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sa[e]=new is(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sa[e]=new is(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sa[e]=new is(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sa[e]=new is(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sa[e]=new is(e,5,!1,e.toLowerCase(),null,!1,!1)});var vE=/[\-:]([a-z])/g;function xE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vE,xE);sa[t]=new is(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vE,xE);sa[t]=new is(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vE,xE);sa[t]=new is(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sa[e]=new is(e,1,!1,e.toLowerCase(),null,!1,!1)});sa.xlinkHref=new is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sa[e]=new is(e,1,!1,e.toLowerCase(),null,!0,!0)});function yE(e,t,r,n){var a=sa.hasOwnProperty(t)?sa[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IX(t,r,a,n)&&(r=null),n||a===null?MX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yc=DX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ox=Symbol.for("react.element"),dh=Symbol.for("react.portal"),fh=Symbol.for("react.fragment"),bE=Symbol.for("react.strict_mode"),D2=Symbol.for("react.profiler"),_$=Symbol.for("react.provider"),j$=Symbol.for("react.context"),wE=Symbol.for("react.forward_ref"),R2=Symbol.for("react.suspense"),M2=Symbol.for("react.suspense_list"),_E=Symbol.for("react.memo"),Lc=Symbol.for("react.lazy"),S$=Symbol.for("react.offscreen"),f4=Symbol.iterator;function Up(e){return e===null||typeof e!="object"?null:(e=f4&&e[f4]||e["@@iterator"],typeof e=="function"?e:null)}var Hr=Object.assign,$j;function g0(e){if($j===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$j=t&&t[1]||""}return`
`+$j+e}var Bj=!1;function Uj(e,t){if(!e||Bj)return"";Bj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Bj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?g0(e):""}function LX(e){switch(e.tag){case 5:return g0(e.type);case 16:return g0("Lazy");case 13:return g0("Suspense");case 19:return g0("SuspenseList");case 0:case 2:case 15:return e=Uj(e.type,!1),e;case 11:return e=Uj(e.type.render,!1),e;case 1:return e=Uj(e.type,!0),e;default:return""}}function F2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fh:return"Fragment";case dh:return"Portal";case D2:return"Profiler";case bE:return"StrictMode";case R2:return"Suspense";case M2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j$:return(e.displayName||"Context")+".Consumer";case _$:return(e._context.displayName||"Context")+".Provider";case wE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _E:return t=e.displayName||null,t!==null?t:F2(e.type)||"Memo";case Lc:t=e._payload,e=e._init;try{return F2(e(t))}catch{}}return null}function $X(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F2(t);case 8:return t===bE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Au(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BX(e){var t=N$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dx(e){e._valueTracker||(e._valueTracker=BX(e))}function k$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=N$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function a1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function I2(e,t){var r=t.checked;return Hr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function h4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Au(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function C$(e,t){t=t.checked,t!=null&&yE(e,"checked",t,!1)}function L2(e,t){C$(e,t);var r=Au(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$2(e,t.type,r):t.hasOwnProperty("defaultValue")&&$2(e,t.type,Au(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function m4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $2(e,t,r){(t!=="number"||a1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var v0=Array.isArray;function Th(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Au(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function B2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return Hr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function p4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(v0(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Au(r)}}function E$(e,t){var r=Au(t.value),n=Au(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function g4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function T$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?T$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rx,A$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rx=Rx||document.createElement("div"),Rx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var T0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UX=["Webkit","ms","Moz","O"];Object.keys(T0).forEach(function(e){UX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),T0[t]=T0[e]})});function P$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||T0.hasOwnProperty(e)&&T0[e]?(""+t).trim():t+"px"}function O$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=P$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var zX=Hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function z2(e,t){if(t){if(zX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function V2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W2=null;function jE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var H2=null,Ah=null,Ph=null;function v4(e){if(e=Rv(e)){if(typeof H2!="function")throw Error(We(280));var t=e.stateNode;t&&(t=Sw(t),H2(e.stateNode,e.type,t))}}function D$(e){Ah?Ph?Ph.push(e):Ph=[e]:Ah=e}function R$(){if(Ah){var e=Ah,t=Ph;if(Ph=Ah=null,v4(e),t)for(e=0;e<t.length;e++)v4(t[e])}}function M$(e,t){return e(t)}function F$(){}var zj=!1;function I$(e,t,r){if(zj)return e(t,r);zj=!0;try{return M$(e,t,r)}finally{zj=!1,(Ah!==null||Ph!==null)&&(F$(),R$())}}function cg(e,t){var r=e.stateNode;if(r===null)return null;var n=Sw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var q2=!1;if(nc)try{var zp={};Object.defineProperty(zp,"passive",{get:function(){q2=!0}}),window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,zp)}catch{q2=!1}function VX(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var A0=!1,s1=null,i1=!1,G2=null,WX={onError:function(e){A0=!0,s1=e}};function HX(e,t,r,n,a,s,o,l,c){A0=!1,s1=null,VX.apply(WX,arguments)}function qX(e,t,r,n,a,s,o,l,c){if(HX.apply(this,arguments),A0){if(A0){var u=s1;A0=!1,s1=null}else throw Error(We(198));i1||(i1=!0,G2=u)}}function jf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function L$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x4(e){if(jf(e)!==e)throw Error(We(188))}function GX(e){var t=e.alternate;if(!t){if(t=jf(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return x4(a),e;if(s===n)return x4(a),t;s=s.sibling}throw Error(We(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function $$(e){return e=GX(e),e!==null?B$(e):null}function B$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=B$(e);if(t!==null)return t;e=e.sibling}return null}var U$=ai.unstable_scheduleCallback,y4=ai.unstable_cancelCallback,KX=ai.unstable_shouldYield,YX=ai.unstable_requestPaint,nn=ai.unstable_now,XX=ai.unstable_getCurrentPriorityLevel,SE=ai.unstable_ImmediatePriority,z$=ai.unstable_UserBlockingPriority,o1=ai.unstable_NormalPriority,QX=ai.unstable_LowPriority,V$=ai.unstable_IdlePriority,bw=null,nl=null;function ZX(e){if(nl&&typeof nl.onCommitFiberRoot=="function")try{nl.onCommitFiberRoot(bw,e,void 0,(e.current.flags&128)===128)}catch{}}var fo=Math.clz32?Math.clz32:tQ,JX=Math.log,eQ=Math.LN2;function tQ(e){return e>>>=0,e===0?32:31-(JX(e)/eQ|0)|0}var Mx=64,Fx=4194304;function x0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function l1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=x0(l):(s&=o,s!==0&&(n=x0(s)))}else o=r&~a,o!==0?n=x0(o):s!==0&&(n=x0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fo(t),a=1<<r,n|=e[r],t&=~a;return n}function rQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nQ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-fo(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=rQ(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function K2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W$(){var e=Mx;return Mx<<=1,!(Mx&4194240)&&(Mx=64),e}function Vj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ov(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fo(t),e[t]=r}function aQ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-fo(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function NE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var yr=0;function H$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var q$,kE,G$,K$,Y$,Y2=!1,Ix=[],mu=null,pu=null,gu=null,ug=new Map,dg=new Map,Wc=[],sQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b4(e,t){switch(e){case"focusin":case"focusout":mu=null;break;case"dragenter":case"dragleave":pu=null;break;case"mouseover":case"mouseout":gu=null;break;case"pointerover":case"pointerout":ug.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dg.delete(t.pointerId)}}function Vp(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Rv(t),t!==null&&kE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function iQ(e,t,r,n,a){switch(t){case"focusin":return mu=Vp(mu,e,t,r,n,a),!0;case"dragenter":return pu=Vp(pu,e,t,r,n,a),!0;case"mouseover":return gu=Vp(gu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return ug.set(s,Vp(ug.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,dg.set(s,Vp(dg.get(s)||null,e,t,r,n,a)),!0}return!1}function X$(e){var t=yd(e.target);if(t!==null){var r=jf(t);if(r!==null){if(t=r.tag,t===13){if(t=L$(r),t!==null){e.blockedOn=t,Y$(e.priority,function(){G$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ry(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=X2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);W2=n,r.target.dispatchEvent(n),W2=null}else return t=Rv(r),t!==null&&kE(t),e.blockedOn=r,!1;t.shift()}return!0}function w4(e,t,r){Ry(e)&&r.delete(t)}function oQ(){Y2=!1,mu!==null&&Ry(mu)&&(mu=null),pu!==null&&Ry(pu)&&(pu=null),gu!==null&&Ry(gu)&&(gu=null),ug.forEach(w4),dg.forEach(w4)}function Wp(e,t){e.blockedOn===t&&(e.blockedOn=null,Y2||(Y2=!0,ai.unstable_scheduleCallback(ai.unstable_NormalPriority,oQ)))}function fg(e){function t(a){return Wp(a,e)}if(0<Ix.length){Wp(Ix[0],e);for(var r=1;r<Ix.length;r++){var n=Ix[r];n.blockedOn===e&&(n.blockedOn=null)}}for(mu!==null&&Wp(mu,e),pu!==null&&Wp(pu,e),gu!==null&&Wp(gu,e),ug.forEach(t),dg.forEach(t),r=0;r<Wc.length;r++)n=Wc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wc.length&&(r=Wc[0],r.blockedOn===null);)X$(r),r.blockedOn===null&&Wc.shift()}var Oh=yc.ReactCurrentBatchConfig,c1=!0;function lQ(e,t,r,n){var a=yr,s=Oh.transition;Oh.transition=null;try{yr=1,CE(e,t,r,n)}finally{yr=a,Oh.transition=s}}function cQ(e,t,r,n){var a=yr,s=Oh.transition;Oh.transition=null;try{yr=4,CE(e,t,r,n)}finally{yr=a,Oh.transition=s}}function CE(e,t,r,n){if(c1){var a=X2(e,t,r,n);if(a===null)Jj(e,t,n,u1,r),b4(e,n);else if(iQ(a,e,t,r,n))n.stopPropagation();else if(b4(e,n),t&4&&-1<sQ.indexOf(e)){for(;a!==null;){var s=Rv(a);if(s!==null&&q$(s),s=X2(e,t,r,n),s===null&&Jj(e,t,n,u1,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Jj(e,t,n,null,r)}}var u1=null;function X2(e,t,r,n){if(u1=null,e=jE(n),e=yd(e),e!==null)if(t=jf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=L$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return u1=e,null}function Q$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XX()){case SE:return 1;case z$:return 4;case o1:case QX:return 16;case V$:return 536870912;default:return 16}default:return 16}}var su=null,EE=null,My=null;function Z$(){if(My)return My;var e,t=EE,r=t.length,n,a="value"in su?su.value:su.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return My=a.slice(e,1<n?1-n:void 0)}function Fy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lx(){return!0}function _4(){return!1}function ci(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lx:_4,this.isPropagationStopped=_4,this}return Hr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lx)},persist:function(){},isPersistent:Lx}),t}var lp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},TE=ci(lp),Dv=Hr({},lp,{view:0,detail:0}),uQ=ci(Dv),Wj,Hj,Hp,ww=Hr({},Dv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hp&&(Hp&&e.type==="mousemove"?(Wj=e.screenX-Hp.screenX,Hj=e.screenY-Hp.screenY):Hj=Wj=0,Hp=e),Wj)},movementY:function(e){return"movementY"in e?e.movementY:Hj}}),j4=ci(ww),dQ=Hr({},ww,{dataTransfer:0}),fQ=ci(dQ),hQ=Hr({},Dv,{relatedTarget:0}),qj=ci(hQ),mQ=Hr({},lp,{animationName:0,elapsedTime:0,pseudoElement:0}),pQ=ci(mQ),gQ=Hr({},lp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vQ=ci(gQ),xQ=Hr({},lp,{data:0}),S4=ci(xQ),yQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _Q(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wQ[e])?!!t[e]:!1}function AE(){return _Q}var jQ=Hr({},Dv,{key:function(e){if(e.key){var t=yQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AE,charCode:function(e){return e.type==="keypress"?Fy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SQ=ci(jQ),NQ=Hr({},ww,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N4=ci(NQ),kQ=Hr({},Dv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AE}),CQ=ci(kQ),EQ=Hr({},lp,{propertyName:0,elapsedTime:0,pseudoElement:0}),TQ=ci(EQ),AQ=Hr({},ww,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PQ=ci(AQ),OQ=[9,13,27,32],PE=nc&&"CompositionEvent"in window,P0=null;nc&&"documentMode"in document&&(P0=document.documentMode);var DQ=nc&&"TextEvent"in window&&!P0,J$=nc&&(!PE||P0&&8<P0&&11>=P0),k4=" ",C4=!1;function e8(e,t){switch(e){case"keyup":return OQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hh=!1;function RQ(e,t){switch(e){case"compositionend":return t8(t);case"keypress":return t.which!==32?null:(C4=!0,k4);case"textInput":return e=t.data,e===k4&&C4?null:e;default:return null}}function MQ(e,t){if(hh)return e==="compositionend"||!PE&&e8(e,t)?(e=Z$(),My=EE=su=null,hh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J$&&t.locale!=="ko"?null:t.data;default:return null}}var FQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FQ[e.type]:t==="textarea"}function r8(e,t,r,n){D$(n),t=d1(t,"onChange"),0<t.length&&(r=new TE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var O0=null,hg=null;function IQ(e){h8(e,0)}function _w(e){var t=gh(e);if(k$(t))return e}function LQ(e,t){if(e==="change")return t}var n8=!1;if(nc){var Gj;if(nc){var Kj="oninput"in document;if(!Kj){var T4=document.createElement("div");T4.setAttribute("oninput","return;"),Kj=typeof T4.oninput=="function"}Gj=Kj}else Gj=!1;n8=Gj&&(!document.documentMode||9<document.documentMode)}function A4(){O0&&(O0.detachEvent("onpropertychange",a8),hg=O0=null)}function a8(e){if(e.propertyName==="value"&&_w(hg)){var t=[];r8(t,hg,e,jE(e)),I$(IQ,t)}}function $Q(e,t,r){e==="focusin"?(A4(),O0=t,hg=r,O0.attachEvent("onpropertychange",a8)):e==="focusout"&&A4()}function BQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _w(hg)}function UQ(e,t){if(e==="click")return _w(t)}function zQ(e,t){if(e==="input"||e==="change")return _w(t)}function VQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xo=typeof Object.is=="function"?Object.is:VQ;function mg(e,t){if(xo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!O2.call(t,a)||!xo(e[a],t[a]))return!1}return!0}function P4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O4(e,t){var r=P4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=P4(r)}}function s8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i8(){for(var e=window,t=a1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=a1(e.document)}return t}function OE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WQ(e){var t=i8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&s8(r.ownerDocument.documentElement,r)){if(n!==null&&OE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=O4(r,s);var o=O4(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HQ=nc&&"documentMode"in document&&11>=document.documentMode,mh=null,Q2=null,D0=null,Z2=!1;function D4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Z2||mh==null||mh!==a1(n)||(n=mh,"selectionStart"in n&&OE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),D0&&mg(D0,n)||(D0=n,n=d1(Q2,"onSelect"),0<n.length&&(t=new TE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mh)))}function $x(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ph={animationend:$x("Animation","AnimationEnd"),animationiteration:$x("Animation","AnimationIteration"),animationstart:$x("Animation","AnimationStart"),transitionend:$x("Transition","TransitionEnd")},Yj={},o8={};nc&&(o8=document.createElement("div").style,"AnimationEvent"in window||(delete ph.animationend.animation,delete ph.animationiteration.animation,delete ph.animationstart.animation),"TransitionEvent"in window||delete ph.transitionend.transition);function jw(e){if(Yj[e])return Yj[e];if(!ph[e])return e;var t=ph[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in o8)return Yj[e]=t[r];return e}var l8=jw("animationend"),c8=jw("animationiteration"),u8=jw("animationstart"),d8=jw("transitionend"),f8=new Map,R4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uu(e,t){f8.set(e,t),_f(t,[e])}for(var Xj=0;Xj<R4.length;Xj++){var Qj=R4[Xj],qQ=Qj.toLowerCase(),GQ=Qj[0].toUpperCase()+Qj.slice(1);Uu(qQ,"on"+GQ)}Uu(l8,"onAnimationEnd");Uu(c8,"onAnimationIteration");Uu(u8,"onAnimationStart");Uu("dblclick","onDoubleClick");Uu("focusin","onFocus");Uu("focusout","onBlur");Uu(d8,"onTransitionEnd");im("onMouseEnter",["mouseout","mouseover"]);im("onMouseLeave",["mouseout","mouseover"]);im("onPointerEnter",["pointerout","pointerover"]);im("onPointerLeave",["pointerout","pointerover"]);_f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_f("onBeforeInput",["compositionend","keypress","textInput","paste"]);_f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(y0));function M4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qX(n,t,void 0,e),e.currentTarget=null}function h8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;M4(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;M4(a,l,u),s=c}}}if(i1)throw e=G2,i1=!1,G2=null,e}function Or(e,t){var r=t[nN];r===void 0&&(r=t[nN]=new Set);var n=e+"__bubble";r.has(n)||(m8(t,e,2,!1),r.add(n))}function Zj(e,t,r){var n=0;t&&(n|=4),m8(r,e,n,t)}var Bx="_reactListening"+Math.random().toString(36).slice(2);function pg(e){if(!e[Bx]){e[Bx]=!0,w$.forEach(function(r){r!=="selectionchange"&&(KQ.has(r)||Zj(r,!1,e),Zj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bx]||(t[Bx]=!0,Zj("selectionchange",!1,t))}}function m8(e,t,r,n){switch(Q$(t)){case 1:var a=lQ;break;case 4:a=cQ;break;default:a=CE}r=a.bind(null,t,r,e),a=void 0,!q2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Jj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=yd(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}I$(function(){var u=s,d=jE(r),f=[];e:{var h=f8.get(e);if(h!==void 0){var m=TE,p=e;switch(e){case"keypress":if(Fy(r)===0)break e;case"keydown":case"keyup":m=SQ;break;case"focusin":p="focus",m=qj;break;case"focusout":p="blur",m=qj;break;case"beforeblur":case"afterblur":m=qj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=j4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CQ;break;case l8:case c8:case u8:m=pQ;break;case d8:m=TQ;break;case"scroll":m=uQ;break;case"wheel":m=PQ;break;case"copy":case"cut":case"paste":m=vQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=N4}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var b=u,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=cg(b,y),_!=null&&g.push(gg(b,_,w)))),v)break;b=b.return}0<g.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==W2&&(p=r.relatedTarget||r.fromElement)&&(yd(p)||p[ac]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?yd(p):null,p!==null&&(v=jf(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=j4,_="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=N4,_="onPointerLeave",y="onPointerEnter",b="pointer"),v=m==null?h:gh(m),w=p==null?h:gh(p),h=new g(_,b+"leave",m,r,d),h.target=v,h.relatedTarget=w,_=null,yd(d)===u&&(g=new g(y,b+"enter",p,r,d),g.target=w,g.relatedTarget=v,_=g),v=_,m&&p)t:{for(g=m,y=p,b=0,w=g;w;w=Bf(w))b++;for(w=0,_=y;_;_=Bf(_))w++;for(;0<b-w;)g=Bf(g),b--;for(;0<w-b;)y=Bf(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=Bf(g),y=Bf(y)}g=null}else g=null;m!==null&&F4(f,h,m,g,!1),p!==null&&v!==null&&F4(f,v,p,g,!0)}}e:{if(h=u?gh(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=LQ;else if(E4(h))if(n8)j=zQ;else{j=BQ;var N=$Q}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=UQ);if(j&&(j=j(e,u))){r8(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&$2(h,"number",h.value)}switch(N=u?gh(u):window,e){case"focusin":(E4(N)||N.contentEditable==="true")&&(mh=N,Q2=u,D0=null);break;case"focusout":D0=Q2=mh=null;break;case"mousedown":Z2=!0;break;case"contextmenu":case"mouseup":case"dragend":Z2=!1,D4(f,r,d);break;case"selectionchange":if(HQ)break;case"keydown":case"keyup":D4(f,r,d)}var S;if(PE)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else hh?e8(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(J$&&r.locale!=="ko"&&(hh||k!=="onCompositionStart"?k==="onCompositionEnd"&&hh&&(S=Z$()):(su=d,EE="value"in su?su.value:su.textContent,hh=!0)),N=d1(u,k),0<N.length&&(k=new S4(k,e,null,r,d),f.push({event:k,listeners:N}),S?k.data=S:(S=t8(r),S!==null&&(k.data=S)))),(S=DQ?RQ(e,r):MQ(e,r))&&(u=d1(u,"onBeforeInput"),0<u.length&&(d=new S4("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}h8(f,t)})}function gg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function d1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=cg(e,r),s!=null&&n.unshift(gg(e,s,a)),s=cg(e,t),s!=null&&n.push(gg(e,s,a))),e=e.return}return n}function Bf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function F4(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=cg(r,s),c!=null&&o.unshift(gg(r,c,l))):a||(c=cg(r,s),c!=null&&o.push(gg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var YQ=/\r\n?/g,XQ=/\u0000|\uFFFD/g;function I4(e){return(typeof e=="string"?e:""+e).replace(YQ,`
`).replace(XQ,"")}function Ux(e,t,r){if(t=I4(t),I4(e)!==t&&r)throw Error(We(425))}function f1(){}var J2=null,eN=null;function tN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rN=typeof setTimeout=="function"?setTimeout:void 0,QQ=typeof clearTimeout=="function"?clearTimeout:void 0,L4=typeof Promise=="function"?Promise:void 0,ZQ=typeof queueMicrotask=="function"?queueMicrotask:typeof L4<"u"?function(e){return L4.resolve(null).then(e).catch(JQ)}:rN;function JQ(e){setTimeout(function(){throw e})}function eS(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),fg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);fg(t)}function vu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cp=Math.random().toString(36).slice(2),Go="__reactFiber$"+cp,vg="__reactProps$"+cp,ac="__reactContainer$"+cp,nN="__reactEvents$"+cp,eZ="__reactListeners$"+cp,tZ="__reactHandles$"+cp;function yd(e){var t=e[Go];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ac]||r[Go]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$4(e);e!==null;){if(r=e[Go])return r;e=$4(e)}return t}e=r,r=e.parentNode}return null}function Rv(e){return e=e[Go]||e[ac],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function Sw(e){return e[vg]||null}var aN=[],vh=-1;function zu(e){return{current:e}}function Mr(e){0>vh||(e.current=aN[vh],aN[vh]=null,vh--)}function kr(e,t){vh++,aN[vh]=e.current,e.current=t}var Pu={},Pa=zu(Pu),ys=zu(!1),Yd=Pu;function om(e,t){var r=e.type.contextTypes;if(!r)return Pu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bs(e){return e=e.childContextTypes,e!=null}function h1(){Mr(ys),Mr(Pa)}function B4(e,t,r){if(Pa.current!==Pu)throw Error(We(168));kr(Pa,t),kr(ys,r)}function p8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(We(108,$X(e)||"Unknown",a));return Hr({},r,n)}function m1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pu,Yd=Pa.current,kr(Pa,e),kr(ys,ys.current),!0}function U4(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=p8(e,t,Yd),n.__reactInternalMemoizedMergedChildContext=e,Mr(ys),Mr(Pa),kr(Pa,e)):Mr(ys),kr(ys,r)}var $l=null,Nw=!1,tS=!1;function g8(e){$l===null?$l=[e]:$l.push(e)}function rZ(e){Nw=!0,g8(e)}function Vu(){if(!tS&&$l!==null){tS=!0;var e=0,t=yr;try{var r=$l;for(yr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$l=null,Nw=!1}catch(a){throw $l!==null&&($l=$l.slice(e+1)),U$(SE,Vu),a}finally{yr=t,tS=!1}}return null}var xh=[],yh=0,p1=null,g1=0,_i=[],ji=0,Xd=null,Vl=1,Wl="";function ld(e,t){xh[yh++]=g1,xh[yh++]=p1,p1=e,g1=t}function v8(e,t,r){_i[ji++]=Vl,_i[ji++]=Wl,_i[ji++]=Xd,Xd=e;var n=Vl;e=Wl;var a=32-fo(n)-1;n&=~(1<<a),r+=1;var s=32-fo(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Vl=1<<32-fo(t)+a|r<<a|n,Wl=s+e}else Vl=1<<s|r<<a|n,Wl=e}function DE(e){e.return!==null&&(ld(e,1),v8(e,1,0))}function RE(e){for(;e===p1;)p1=xh[--yh],xh[yh]=null,g1=xh[--yh],xh[yh]=null;for(;e===Xd;)Xd=_i[--ji],_i[ji]=null,Wl=_i[--ji],_i[ji]=null,Vl=_i[--ji],_i[ji]=null}var Js=null,Qs=null,Lr=!1,ao=null;function x8(e,t){var r=Ci(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function z4(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Js=e,Qs=vu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Js=e,Qs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xd!==null?{id:Vl,overflow:Wl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ci(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Js=e,Qs=null,!0):!1;default:return!1}}function sN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iN(e){if(Lr){var t=Qs;if(t){var r=t;if(!z4(e,t)){if(sN(e))throw Error(We(418));t=vu(r.nextSibling);var n=Js;t&&z4(e,t)?x8(n,r):(e.flags=e.flags&-4097|2,Lr=!1,Js=e)}}else{if(sN(e))throw Error(We(418));e.flags=e.flags&-4097|2,Lr=!1,Js=e}}}function V4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Js=e}function zx(e){if(e!==Js)return!1;if(!Lr)return V4(e),Lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tN(e.type,e.memoizedProps)),t&&(t=Qs)){if(sN(e))throw y8(),Error(We(418));for(;t;)x8(e,t),t=vu(t.nextSibling)}if(V4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qs=vu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qs=null}}else Qs=Js?vu(e.stateNode.nextSibling):null;return!0}function y8(){for(var e=Qs;e;)e=vu(e.nextSibling)}function lm(){Qs=Js=null,Lr=!1}function ME(e){ao===null?ao=[e]:ao.push(e)}var nZ=yc.ReactCurrentBatchConfig;function qp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function Vx(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function W4(e){var t=e._init;return t(e._payload)}function b8(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=wu(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,_){return b===null||b.tag!==6?(b=lS(w,y.mode,_),b.return=y,b):(b=a(b,w),b.return=y,b)}function c(y,b,w,_){var j=w.type;return j===fh?d(y,b,w.props.children,_,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Lc&&W4(j)===b.type)?(_=a(b,w.props),_.ref=qp(y,b,w),_.return=y,_):(_=Vy(w.type,w.key,w.props,null,y.mode,_),_.ref=qp(y,b,w),_.return=y,_)}function u(y,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=cS(w,y.mode,_),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function d(y,b,w,_,j){return b===null||b.tag!==7?(b=Ud(w,y.mode,_,j),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=lS(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ox:return w=Vy(b.type,b.key,b.props,null,y.mode,w),w.ref=qp(y,null,b),w.return=y,w;case dh:return b=cS(b,y.mode,w),b.return=y,b;case Lc:var _=b._init;return f(y,_(b._payload),w)}if(v0(b)||Up(b))return b=Ud(b,y.mode,w,null),b.return=y,b;Vx(y,b)}return null}function h(y,b,w,_){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ox:return w.key===j?c(y,b,w,_):null;case dh:return w.key===j?u(y,b,w,_):null;case Lc:return j=w._init,h(y,b,j(w._payload),_)}if(v0(w)||Up(w))return j!==null?null:d(y,b,w,_,null);Vx(y,w)}return null}function m(y,b,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,l(b,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ox:return y=y.get(_.key===null?w:_.key)||null,c(b,y,_,j);case dh:return y=y.get(_.key===null?w:_.key)||null,u(b,y,_,j);case Lc:var N=_._init;return m(y,b,w,N(_._payload),j)}if(v0(_)||Up(_))return y=y.get(w)||null,d(b,y,_,j,null);Vx(b,_)}return null}function p(y,b,w,_){for(var j=null,N=null,S=b,k=b=0,C=null;S!==null&&k<w.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var E=h(y,S,w[k],_);if(E===null){S===null&&(S=C);break}e&&S&&E.alternate===null&&t(y,S),b=s(E,b,k),N===null?j=E:N.sibling=E,N=E,S=C}if(k===w.length)return r(y,S),Lr&&ld(y,k),j;if(S===null){for(;k<w.length;k++)S=f(y,w[k],_),S!==null&&(b=s(S,b,k),N===null?j=S:N.sibling=S,N=S);return Lr&&ld(y,k),j}for(S=n(y,S);k<w.length;k++)C=m(S,y,k,w[k],_),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),b=s(C,b,k),N===null?j=C:N.sibling=C,N=C);return e&&S.forEach(function(P){return t(y,P)}),Lr&&ld(y,k),j}function g(y,b,w,_){var j=Up(w);if(typeof j!="function")throw Error(We(150));if(w=j.call(w),w==null)throw Error(We(151));for(var N=j=null,S=b,k=b=0,C=null,E=w.next();S!==null&&!E.done;k++,E=w.next()){S.index>k?(C=S,S=null):C=S.sibling;var P=h(y,S,E.value,_);if(P===null){S===null&&(S=C);break}e&&S&&P.alternate===null&&t(y,S),b=s(P,b,k),N===null?j=P:N.sibling=P,N=P,S=C}if(E.done)return r(y,S),Lr&&ld(y,k),j;if(S===null){for(;!E.done;k++,E=w.next())E=f(y,E.value,_),E!==null&&(b=s(E,b,k),N===null?j=E:N.sibling=E,N=E);return Lr&&ld(y,k),j}for(S=n(y,S);!E.done;k++,E=w.next())E=m(S,y,k,E.value,_),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?k:E.key),b=s(E,b,k),N===null?j=E:N.sibling=E,N=E);return e&&S.forEach(function(T){return t(y,T)}),Lr&&ld(y,k),j}function v(y,b,w,_){if(typeof w=="object"&&w!==null&&w.type===fh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ox:e:{for(var j=w.key,N=b;N!==null;){if(N.key===j){if(j=w.type,j===fh){if(N.tag===7){r(y,N.sibling),b=a(N,w.props.children),b.return=y,y=b;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Lc&&W4(j)===N.type){r(y,N.sibling),b=a(N,w.props),b.ref=qp(y,N,w),b.return=y,y=b;break e}r(y,N);break}else t(y,N);N=N.sibling}w.type===fh?(b=Ud(w.props.children,y.mode,_,w.key),b.return=y,y=b):(_=Vy(w.type,w.key,w.props,null,y.mode,_),_.ref=qp(y,b,w),_.return=y,y=_)}return o(y);case dh:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=cS(w,y.mode,_),b.return=y,y=b}return o(y);case Lc:return N=w._init,v(y,b,N(w._payload),_)}if(v0(w))return p(y,b,w,_);if(Up(w))return g(y,b,w,_);Vx(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=lS(w,y.mode,_),b.return=y,y=b),o(y)):r(y,b)}return v}var cm=b8(!0),w8=b8(!1),v1=zu(null),x1=null,bh=null,FE=null;function IE(){FE=bh=x1=null}function LE(e){var t=v1.current;Mr(v1),e._currentValue=t}function oN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Dh(e,t){x1=e,FE=bh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gs=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(FE!==e)if(e={context:e,memoizedValue:t,next:null},bh===null){if(x1===null)throw Error(We(308));bh=e,x1.dependencies={lanes:0,firstContext:e}}else bh=bh.next=e;return t}var bd=null;function $E(e){bd===null?bd=[e]:bd.push(e)}function _8(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,$E(t)):(r.next=a.next,a.next=r),t.interleaved=r,sc(e,n)}function sc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $c=!1;function BE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,rr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,sc(e,r)}return a=n.interleaved,a===null?(t.next=t,$E(n)):(t.next=a.next,a.next=t),n.interleaved=t,sc(e,r)}function Iy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,NE(e,r)}}function H4(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function y1(e,t,r,n){var a=e.updateQueue;$c=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(h=t,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Hr({},f,h);break e;case 2:$c=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Zd|=o,e.lanes=o,e.memoizedState=f}}function q4(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(We(191,a));a.call(n)}}}var Mv={},al=zu(Mv),xg=zu(Mv),yg=zu(Mv);function wd(e){if(e===Mv)throw Error(We(174));return e}function UE(e,t){switch(kr(yg,t),kr(xg,e),kr(al,Mv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:U2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=U2(t,e)}Mr(al),kr(al,t)}function um(){Mr(al),Mr(xg),Mr(yg)}function S8(e){wd(yg.current);var t=wd(al.current),r=U2(t,e.type);t!==r&&(kr(xg,e),kr(al,r))}function zE(e){xg.current===e&&(Mr(al),Mr(xg))}var Ur=zu(0);function b1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rS=[];function VE(){for(var e=0;e<rS.length;e++)rS[e]._workInProgressVersionPrimary=null;rS.length=0}var Ly=yc.ReactCurrentDispatcher,nS=yc.ReactCurrentBatchConfig,Qd=0,Wr=null,En=null,Un=null,w1=!1,R0=!1,bg=0,aZ=0;function da(){throw Error(We(321))}function WE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xo(e[r],t[r]))return!1;return!0}function HE(e,t,r,n,a,s){if(Qd=s,Wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ly.current=e===null||e.memoizedState===null?lZ:cZ,e=r(n,a),R0){s=0;do{if(R0=!1,bg=0,25<=s)throw Error(We(301));s+=1,Un=En=null,t.updateQueue=null,Ly.current=uZ,e=r(n,a)}while(R0)}if(Ly.current=_1,t=En!==null&&En.next!==null,Qd=0,Un=En=Wr=null,w1=!1,t)throw Error(We(300));return e}function qE(){var e=bg!==0;return bg=0,e}function Uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?Wr.memoizedState=Un=e:Un=Un.next=e,Un}function Oi(){if(En===null){var e=Wr.alternate;e=e!==null?e.memoizedState:null}else e=En.next;var t=Un===null?Wr.memoizedState:Un.next;if(t!==null)Un=t,En=e;else{if(e===null)throw Error(We(310));En=e,e={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Un===null?Wr.memoizedState=Un=e:Un=Un.next=e}return Un}function wg(e,t){return typeof t=="function"?t(e):t}function aS(e){var t=Oi(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=En,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Qd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Wr.lanes|=d,Zd|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,xo(n,t.memoizedState)||(gs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Wr.lanes|=s,Zd|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sS(e){var t=Oi(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);xo(s,t.memoizedState)||(gs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function N8(){}function k8(e,t){var r=Wr,n=Oi(),a=t(),s=!xo(n.memoizedState,a);if(s&&(n.memoizedState=a,gs=!0),n=n.queue,GE(T8.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Un!==null&&Un.memoizedState.tag&1){if(r.flags|=2048,_g(9,E8.bind(null,r,n,a,t),void 0,null),Wn===null)throw Error(We(349));Qd&30||C8(r,t,a)}return a}function C8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Wr.updateQueue,t===null?(t={lastEffect:null,stores:null},Wr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function E8(e,t,r,n){t.value=r,t.getSnapshot=n,A8(t)&&P8(e)}function T8(e,t,r){return r(function(){A8(t)&&P8(e)})}function A8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xo(e,r)}catch{return!0}}function P8(e){var t=sc(e,1);t!==null&&ho(t,e,1,-1)}function G4(e){var t=Uo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:e},t.queue=e,e=e.dispatch=oZ.bind(null,Wr,e),[t.memoizedState,e]}function _g(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Wr.updateQueue,t===null?(t={lastEffect:null,stores:null},Wr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function O8(){return Oi().memoizedState}function $y(e,t,r,n){var a=Uo();Wr.flags|=e,a.memoizedState=_g(1|t,r,void 0,n===void 0?null:n)}function kw(e,t,r,n){var a=Oi();n=n===void 0?null:n;var s=void 0;if(En!==null){var o=En.memoizedState;if(s=o.destroy,n!==null&&WE(n,o.deps)){a.memoizedState=_g(t,r,s,n);return}}Wr.flags|=e,a.memoizedState=_g(1|t,r,s,n)}function K4(e,t){return $y(8390656,8,e,t)}function GE(e,t){return kw(2048,8,e,t)}function D8(e,t){return kw(4,2,e,t)}function R8(e,t){return kw(4,4,e,t)}function M8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function F8(e,t,r){return r=r!=null?r.concat([e]):null,kw(4,4,M8.bind(null,t,e),r)}function KE(){}function I8(e,t){var r=Oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&WE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function L8(e,t){var r=Oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&WE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $8(e,t,r){return Qd&21?(xo(r,t)||(r=W$(),Wr.lanes|=r,Zd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gs=!0),e.memoizedState=r)}function sZ(e,t){var r=yr;yr=r!==0&&4>r?r:4,e(!0);var n=nS.transition;nS.transition={};try{e(!1),t()}finally{yr=r,nS.transition=n}}function B8(){return Oi().memoizedState}function iZ(e,t,r){var n=bu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},U8(e))z8(t,r);else if(r=_8(e,t,r,n),r!==null){var a=ts();ho(r,e,n,a),V8(r,t,n)}}function oZ(e,t,r){var n=bu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(U8(e))z8(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,xo(l,o)){var c=t.interleaved;c===null?(a.next=a,$E(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=_8(e,t,a,n),r!==null&&(a=ts(),ho(r,e,n,a),V8(r,t,n))}}function U8(e){var t=e.alternate;return e===Wr||t!==null&&t===Wr}function z8(e,t){R0=w1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function V8(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,NE(e,r)}}var _1={readContext:Pi,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useInsertionEffect:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useSyncExternalStore:da,useId:da,unstable_isNewReconciler:!1},lZ={readContext:Pi,useCallback:function(e,t){return Uo().memoizedState=[e,t===void 0?null:t],e},useContext:Pi,useEffect:K4,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$y(4194308,4,M8.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $y(4194308,4,e,t)},useInsertionEffect:function(e,t){return $y(4,2,e,t)},useMemo:function(e,t){var r=Uo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Uo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=iZ.bind(null,Wr,e),[n.memoizedState,e]},useRef:function(e){var t=Uo();return e={current:e},t.memoizedState=e},useState:G4,useDebugValue:KE,useDeferredValue:function(e){return Uo().memoizedState=e},useTransition:function(){var e=G4(!1),t=e[0];return e=sZ.bind(null,e[1]),Uo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Wr,a=Uo();if(Lr){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),Wn===null)throw Error(We(349));Qd&30||C8(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,K4(T8.bind(null,n,s,e),[e]),n.flags|=2048,_g(9,E8.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Uo(),t=Wn.identifierPrefix;if(Lr){var r=Wl,n=Vl;r=(n&~(1<<32-fo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aZ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cZ={readContext:Pi,useCallback:I8,useContext:Pi,useEffect:GE,useImperativeHandle:F8,useInsertionEffect:D8,useLayoutEffect:R8,useMemo:L8,useReducer:aS,useRef:O8,useState:function(){return aS(wg)},useDebugValue:KE,useDeferredValue:function(e){var t=Oi();return $8(t,En.memoizedState,e)},useTransition:function(){var e=aS(wg)[0],t=Oi().memoizedState;return[e,t]},useMutableSource:N8,useSyncExternalStore:k8,useId:B8,unstable_isNewReconciler:!1},uZ={readContext:Pi,useCallback:I8,useContext:Pi,useEffect:GE,useImperativeHandle:F8,useInsertionEffect:D8,useLayoutEffect:R8,useMemo:L8,useReducer:sS,useRef:O8,useState:function(){return sS(wg)},useDebugValue:KE,useDeferredValue:function(e){var t=Oi();return En===null?t.memoizedState=e:$8(t,En.memoizedState,e)},useTransition:function(){var e=sS(wg)[0],t=Oi().memoizedState;return[e,t]},useMutableSource:N8,useSyncExternalStore:k8,useId:B8,unstable_isNewReconciler:!1};function Yi(e,t){if(e&&e.defaultProps){t=Hr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Hr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cw={isMounted:function(e){return(e=e._reactInternals)?jf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ts(),a=bu(e),s=Xl(n,a);s.payload=t,r!=null&&(s.callback=r),t=xu(e,s,a),t!==null&&(ho(t,e,a,n),Iy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ts(),a=bu(e),s=Xl(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=xu(e,s,a),t!==null&&(ho(t,e,a,n),Iy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ts(),n=bu(e),a=Xl(r,n);a.tag=2,t!=null&&(a.callback=t),t=xu(e,a,n),t!==null&&(ho(t,e,n,r),Iy(t,e,n))}};function Y4(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!mg(r,n)||!mg(a,s):!0}function W8(e,t,r){var n=!1,a=Pu,s=t.contextType;return typeof s=="object"&&s!==null?s=Pi(s):(a=bs(t)?Yd:Pa.current,n=t.contextTypes,s=(n=n!=null)?om(e,a):Pu),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function X4(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cw.enqueueReplaceState(t,t.state,null)}function cN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},BE(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Pi(s):(s=bs(t)?Yd:Pa.current,a.context=om(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(lN(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Cw.enqueueReplaceState(a,a.state,null),y1(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function dm(e,t){try{var r="",n=t;do r+=LX(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function iS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dZ=typeof WeakMap=="function"?WeakMap:Map;function H8(e,t,r){r=Xl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){S1||(S1=!0,bN=n),uN(e,t)},r}function q8(e,t,r){r=Xl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){uN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){uN(e,t),typeof n!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Q4(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dZ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=NZ.bind(null,e,t,r),t.then(e,e))}function Z4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function J4(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xl(-1,1),t.tag=2,xu(r,t,1))),r.lanes|=1),e)}var fZ=yc.ReactCurrentOwner,gs=!1;function za(e,t,r,n){t.child=e===null?w8(t,null,r,n):cm(t,e.child,r,n)}function eD(e,t,r,n,a){r=r.render;var s=t.ref;return Dh(t,a),n=HE(e,t,r,n,s,a),r=qE(),e!==null&&!gs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ic(e,t,a)):(Lr&&r&&DE(t),t.flags|=1,za(e,t,n,a),t.child)}function tD(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!rT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,G8(e,t,s,n,a)):(e=Vy(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:mg,r(o,n)&&e.ref===t.ref)return ic(e,t,a)}return t.flags|=1,e=wu(s,n),e.ref=t.ref,e.return=t,t.child=e}function G8(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(mg(s,n)&&e.ref===t.ref)if(gs=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(gs=!0);else return t.lanes=e.lanes,ic(e,t,a)}return dN(e,t,r,n,a)}function K8(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(_h,Vs),Vs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(_h,Vs),Vs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,kr(_h,Vs),Vs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,kr(_h,Vs),Vs|=n;return za(e,t,a,r),t.child}function Y8(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dN(e,t,r,n,a){var s=bs(r)?Yd:Pa.current;return s=om(t,s),Dh(t,a),r=HE(e,t,r,n,s,a),n=qE(),e!==null&&!gs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ic(e,t,a)):(Lr&&n&&DE(t),t.flags|=1,za(e,t,r,a),t.child)}function rD(e,t,r,n,a){if(bs(r)){var s=!0;m1(t)}else s=!1;if(Dh(t,a),t.stateNode===null)By(e,t),W8(t,r,n),cN(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pi(u):(u=bs(r)?Yd:Pa.current,u=om(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&X4(t,o,n,u),$c=!1;var h=t.memoizedState;o.state=h,y1(t,n,o,a),c=t.memoizedState,l!==n||h!==c||ys.current||$c?(typeof d=="function"&&(lN(t,r,d,n),c=t.memoizedState),(l=$c||Y4(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,j8(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Yi(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pi(c):(c=bs(r)?Yd:Pa.current,c=om(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&X4(t,o,n,c),$c=!1,h=t.memoizedState,o.state=h,y1(t,n,o,a);var p=t.memoizedState;l!==f||h!==p||ys.current||$c?(typeof m=="function"&&(lN(t,r,m,n),p=t.memoizedState),(u=$c||Y4(t,r,u,n,h,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return fN(e,t,r,n,s,a)}function fN(e,t,r,n,a,s){Y8(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&U4(t,r,!1),ic(e,t,s);n=t.stateNode,fZ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=cm(t,e.child,null,s),t.child=cm(t,null,l,s)):za(e,t,l,s),t.memoizedState=n.state,a&&U4(t,r,!0),t.child}function X8(e){var t=e.stateNode;t.pendingContext?B4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B4(e,t.context,!1),UE(e,t.containerInfo)}function nD(e,t,r,n,a){return lm(),ME(a),t.flags|=256,za(e,t,r,n),t.child}var hN={dehydrated:null,treeContext:null,retryLane:0};function mN(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q8(e,t,r){var n=t.pendingProps,a=Ur.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),kr(Ur,a&1),e===null)return iN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Aw(o,n,0,null),e=Ud(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=mN(r),t.memoizedState=hN,e):YE(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return hZ(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=wu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=wu(l,s):(s=Ud(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?mN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=hN,n}return s=e.child,e=s.sibling,n=wu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function YE(e,t){return t=Aw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wx(e,t,r,n){return n!==null&&ME(n),cm(t,e.child,null,r),e=YE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hZ(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=iS(Error(We(422))),Wx(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Aw({mode:"visible",children:n.children},a,0,null),s=Ud(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&cm(t,e.child,null,o),t.child.memoizedState=mN(o),t.memoizedState=hN,s);if(!(t.mode&1))return Wx(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(We(419)),n=iS(s,n,void 0),Wx(e,t,o,n)}if(l=(o&e.childLanes)!==0,gs||l){if(n=Wn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,sc(e,a),ho(n,e,a,-1))}return tT(),n=iS(Error(We(421))),Wx(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=kZ.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Qs=vu(a.nextSibling),Js=t,Lr=!0,ao=null,e!==null&&(_i[ji++]=Vl,_i[ji++]=Wl,_i[ji++]=Xd,Vl=e.id,Wl=e.overflow,Xd=t),t=YE(t,n.children),t.flags|=4096,t)}function aD(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),oN(e.return,t,r)}function oS(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Z8(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(za(e,t,n.children,r),n=Ur.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aD(e,r,t);else if(e.tag===19)aD(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kr(Ur,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&b1(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),oS(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&b1(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}oS(t,!0,r,null,s);break;case"together":oS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function By(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ic(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=wu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mZ(e,t,r){switch(t.tag){case 3:X8(t),lm();break;case 5:S8(t);break;case 1:bs(t.type)&&m1(t);break;case 4:UE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;kr(v1,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(kr(Ur,Ur.current&1),t.flags|=128,null):r&t.child.childLanes?Q8(e,t,r):(kr(Ur,Ur.current&1),e=ic(e,t,r),e!==null?e.sibling:null);kr(Ur,Ur.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Z8(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),kr(Ur,Ur.current),n)break;return null;case 22:case 23:return t.lanes=0,K8(e,t,r)}return ic(e,t,r)}var J8,pN,e6,t6;J8=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pN=function(){};e6=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,wd(al.current);var s=null;switch(r){case"input":a=I2(e,a),n=I2(e,n),s=[];break;case"select":a=Hr({},a,{value:void 0}),n=Hr({},n,{value:void 0}),s=[];break;case"textarea":a=B2(e,a),n=B2(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=f1)}z2(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(og.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(og.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Or("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};t6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gp(e,t){if(!Lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fa(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function pZ(e,t,r){var n=t.pendingProps;switch(RE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fa(t),null;case 1:return bs(t.type)&&h1(),fa(t),null;case 3:return n=t.stateNode,um(),Mr(ys),Mr(Pa),VE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ao!==null&&(jN(ao),ao=null))),pN(e,t),fa(t),null;case 5:zE(t);var a=wd(yg.current);if(r=t.type,e!==null&&t.stateNode!=null)e6(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return fa(t),null}if(e=wd(al.current),zx(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Go]=t,n[vg]=s,e=(t.mode&1)!==0,r){case"dialog":Or("cancel",n),Or("close",n);break;case"iframe":case"object":case"embed":Or("load",n);break;case"video":case"audio":for(a=0;a<y0.length;a++)Or(y0[a],n);break;case"source":Or("error",n);break;case"img":case"image":case"link":Or("error",n),Or("load",n);break;case"details":Or("toggle",n);break;case"input":h4(n,s),Or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Or("invalid",n);break;case"textarea":p4(n,s),Or("invalid",n)}z2(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ux(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ux(n.textContent,l,e),a=["children",""+l]):og.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Or("scroll",n)}switch(r){case"input":Dx(n),m4(n,s,!0);break;case"textarea":Dx(n),g4(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=f1)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=T$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Go]=t,e[vg]=n,J8(e,t,!1,!1),t.stateNode=e;e:{switch(o=V2(r,n),r){case"dialog":Or("cancel",e),Or("close",e),a=n;break;case"iframe":case"object":case"embed":Or("load",e),a=n;break;case"video":case"audio":for(a=0;a<y0.length;a++)Or(y0[a],e);a=n;break;case"source":Or("error",e),a=n;break;case"img":case"image":case"link":Or("error",e),Or("load",e),a=n;break;case"details":Or("toggle",e),a=n;break;case"input":h4(e,n),a=I2(e,n),Or("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Hr({},n,{value:void 0}),Or("invalid",e);break;case"textarea":p4(e,n),a=B2(e,n),Or("invalid",e);break;default:a=n}z2(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?O$(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&A$(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&lg(e,c):typeof c=="number"&&lg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(og.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Or("scroll",e):c!=null&&yE(e,s,c,o))}switch(r){case"input":Dx(e),m4(e,n,!1);break;case"textarea":Dx(e),g4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Au(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Th(e,!!n.multiple,s,!1):n.defaultValue!=null&&Th(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=f1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fa(t),null;case 6:if(e&&t.stateNode!=null)t6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=wd(yg.current),wd(al.current),zx(t)){if(n=t.stateNode,r=t.memoizedProps,n[Go]=t,(s=n.nodeValue!==r)&&(e=Js,e!==null))switch(e.tag){case 3:Ux(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ux(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Go]=t,t.stateNode=n}return fa(t),null;case 13:if(Mr(Ur),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Lr&&Qs!==null&&t.mode&1&&!(t.flags&128))y8(),lm(),t.flags|=98560,s=!1;else if(s=zx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(We(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(We(317));s[Go]=t}else lm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fa(t),s=!1}else ao!==null&&(jN(ao),ao=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ur.current&1?On===0&&(On=3):tT())),t.updateQueue!==null&&(t.flags|=4),fa(t),null);case 4:return um(),pN(e,t),e===null&&pg(t.stateNode.containerInfo),fa(t),null;case 10:return LE(t.type._context),fa(t),null;case 17:return bs(t.type)&&h1(),fa(t),null;case 19:if(Mr(Ur),s=t.memoizedState,s===null)return fa(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Gp(s,!1);else{if(On!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=b1(e),o!==null){for(t.flags|=128,Gp(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kr(Ur,Ur.current&1|2),t.child}e=e.sibling}s.tail!==null&&nn()>fm&&(t.flags|=128,n=!0,Gp(s,!1),t.lanes=4194304)}else{if(!n)if(e=b1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Lr)return fa(t),null}else 2*nn()-s.renderingStartTime>fm&&r!==1073741824&&(t.flags|=128,n=!0,Gp(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nn(),t.sibling=null,r=Ur.current,kr(Ur,n?r&1|2:r&1),t):(fa(t),null);case 22:case 23:return eT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Vs&1073741824&&(fa(t),t.subtreeFlags&6&&(t.flags|=8192)):fa(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function gZ(e,t){switch(RE(t),t.tag){case 1:return bs(t.type)&&h1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return um(),Mr(ys),Mr(Pa),VE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zE(t),null;case 13:if(Mr(Ur),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));lm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mr(Ur),null;case 4:return um(),null;case 10:return LE(t.type._context),null;case 22:case 23:return eT(),null;case 24:return null;default:return null}}var Hx=!1,Sa=!1,vZ=typeof WeakSet=="function"?WeakSet:Set,ot=null;function wh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yr(e,t,n)}else r.current=null}function gN(e,t,r){try{r()}catch(n){Yr(e,t,n)}}var sD=!1;function xZ(e,t){if(J2=c1,e=i8(),OE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(eN={focusedElem:e,selectionRange:r},c1=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Yi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(_){Yr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return p=sD,sD=!1,p}function M0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&gN(t,r,s)}a=a.next}while(a!==n)}}function Ew(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function r6(e){var t=e.alternate;t!==null&&(e.alternate=null,r6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Go],delete t[vg],delete t[nN],delete t[eZ],delete t[tZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function n6(e){return e.tag===5||e.tag===3||e.tag===4}function iD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||n6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=f1));else if(n!==4&&(e=e.child,e!==null))for(xN(e,t,r),e=e.sibling;e!==null;)xN(e,t,r),e=e.sibling}function yN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yN(e,t,r),e=e.sibling;e!==null;)yN(e,t,r),e=e.sibling}var Xn=null,Ji=!1;function Ac(e,t,r){for(r=r.child;r!==null;)a6(e,t,r),r=r.sibling}function a6(e,t,r){if(nl&&typeof nl.onCommitFiberUnmount=="function")try{nl.onCommitFiberUnmount(bw,r)}catch{}switch(r.tag){case 5:Sa||wh(r,t);case 6:var n=Xn,a=Ji;Xn=null,Ac(e,t,r),Xn=n,Ji=a,Xn!==null&&(Ji?(e=Xn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xn.removeChild(r.stateNode));break;case 18:Xn!==null&&(Ji?(e=Xn,r=r.stateNode,e.nodeType===8?eS(e.parentNode,r):e.nodeType===1&&eS(e,r),fg(e)):eS(Xn,r.stateNode));break;case 4:n=Xn,a=Ji,Xn=r.stateNode.containerInfo,Ji=!0,Ac(e,t,r),Xn=n,Ji=a;break;case 0:case 11:case 14:case 15:if(!Sa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gN(r,t,o),a=a.next}while(a!==n)}Ac(e,t,r);break;case 1:if(!Sa&&(wh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Yr(r,t,l)}Ac(e,t,r);break;case 21:Ac(e,t,r);break;case 22:r.mode&1?(Sa=(n=Sa)||r.memoizedState!==null,Ac(e,t,r),Sa=n):Ac(e,t,r);break;default:Ac(e,t,r)}}function oD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vZ),t.forEach(function(n){var a=CZ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Vi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xn=l.stateNode,Ji=!1;break e;case 3:Xn=l.stateNode.containerInfo,Ji=!0;break e;case 4:Xn=l.stateNode.containerInfo,Ji=!0;break e}l=l.return}if(Xn===null)throw Error(We(160));a6(s,o,a),Xn=null,Ji=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Yr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)s6(t,e),t=t.sibling}function s6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vi(t,e),Ro(e),n&4){try{M0(3,e,e.return),Ew(3,e)}catch(g){Yr(e,e.return,g)}try{M0(5,e,e.return)}catch(g){Yr(e,e.return,g)}}break;case 1:Vi(t,e),Ro(e),n&512&&r!==null&&wh(r,r.return);break;case 5:if(Vi(t,e),Ro(e),n&512&&r!==null&&wh(r,r.return),e.flags&32){var a=e.stateNode;try{lg(a,"")}catch(g){Yr(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&C$(a,s),V2(l,o);var u=V2(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?O$(a,f):d==="dangerouslySetInnerHTML"?A$(a,f):d==="children"?lg(a,f):yE(a,d,f,u)}switch(l){case"input":L2(a,s);break;case"textarea":E$(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Th(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Th(a,!!s.multiple,s.defaultValue,!0):Th(a,!!s.multiple,s.multiple?[]:"",!1))}a[vg]=s}catch(g){Yr(e,e.return,g)}}break;case 6:if(Vi(t,e),Ro(e),n&4){if(e.stateNode===null)throw Error(We(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Yr(e,e.return,g)}}break;case 3:if(Vi(t,e),Ro(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fg(t.containerInfo)}catch(g){Yr(e,e.return,g)}break;case 4:Vi(t,e),Ro(e);break;case 13:Vi(t,e),Ro(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(ZE=nn())),n&4&&oD(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Sa=(u=Sa)||d,Vi(t,e),Sa=u):Vi(t,e),Ro(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ot=e,d=e.child;d!==null;){for(f=ot=d;ot!==null;){switch(h=ot,m=h.child,h.tag){case 0:case 11:case 14:case 15:M0(4,h,h.return);break;case 1:wh(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Yr(n,r,g)}}break;case 5:wh(h,h.return);break;case 22:if(h.memoizedState!==null){cD(f);continue}}m!==null?(m.return=h,ot=m):cD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=P$("display",o))}catch(g){Yr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Yr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vi(t,e),Ro(e),n&4&&oD(e);break;case 21:break;default:Vi(t,e),Ro(e)}}function Ro(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(n6(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(lg(a,""),n.flags&=-33);var s=iD(e);yN(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=iD(e);xN(e,l,o);break;default:throw Error(We(161))}}catch(c){Yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yZ(e,t,r){ot=e,i6(e)}function i6(e,t,r){for(var n=(e.mode&1)!==0;ot!==null;){var a=ot,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Hx;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Sa;l=Hx;var u=Sa;if(Hx=o,(Sa=c)&&!u)for(ot=a;ot!==null;)o=ot,c=o.child,o.tag===22&&o.memoizedState!==null?uD(a):c!==null?(c.return=o,ot=c):uD(a);for(;s!==null;)ot=s,i6(s),s=s.sibling;ot=a,Hx=l,Sa=u}lD(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ot=s):lD(e)}}function lD(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sa||Ew(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Sa)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Yi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&q4(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}q4(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}Sa||t.flags&512&&vN(t)}catch(h){Yr(t,t.return,h)}}if(t===e){ot=null;break}if(r=t.sibling,r!==null){r.return=t.return,ot=r;break}ot=t.return}}function cD(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ot=r;break}ot=t.return}}function uD(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ew(4,t)}catch(c){Yr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Yr(t,a,c)}}var s=t.return;try{vN(t)}catch(c){Yr(t,s,c)}break;case 5:var o=t.return;try{vN(t)}catch(c){Yr(t,o,c)}}}catch(c){Yr(t,t.return,c)}if(t===e){ot=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ot=l;break}ot=t.return}}var bZ=Math.ceil,j1=yc.ReactCurrentDispatcher,XE=yc.ReactCurrentOwner,Ti=yc.ReactCurrentBatchConfig,rr=0,Wn=null,gn=null,ea=0,Vs=0,_h=zu(0),On=0,jg=null,Zd=0,Tw=0,QE=0,F0=null,ms=null,ZE=0,fm=1/0,Il=null,S1=!1,bN=null,yu=null,qx=!1,iu=null,N1=0,I0=0,wN=null,Uy=-1,zy=0;function ts(){return rr&6?nn():Uy!==-1?Uy:Uy=nn()}function bu(e){return e.mode&1?rr&2&&ea!==0?ea&-ea:nZ.transition!==null?(zy===0&&(zy=W$()),zy):(e=yr,e!==0||(e=window.event,e=e===void 0?16:Q$(e.type)),e):1}function ho(e,t,r,n){if(50<I0)throw I0=0,wN=null,Error(We(185));Ov(e,r,n),(!(rr&2)||e!==Wn)&&(e===Wn&&(!(rr&2)&&(Tw|=r),On===4&&Hc(e,ea)),ws(e,n),r===1&&rr===0&&!(t.mode&1)&&(fm=nn()+500,Nw&&Vu()))}function ws(e,t){var r=e.callbackNode;nQ(e,t);var n=l1(e,e===Wn?ea:0);if(n===0)r!==null&&y4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&y4(r),t===1)e.tag===0?rZ(dD.bind(null,e)):g8(dD.bind(null,e)),ZQ(function(){!(rr&6)&&Vu()}),r=null;else{switch(H$(n)){case 1:r=SE;break;case 4:r=z$;break;case 16:r=o1;break;case 536870912:r=V$;break;default:r=o1}r=m6(r,o6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function o6(e,t){if(Uy=-1,zy=0,rr&6)throw Error(We(327));var r=e.callbackNode;if(Rh()&&e.callbackNode!==r)return null;var n=l1(e,e===Wn?ea:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=k1(e,n);else{t=n;var a=rr;rr|=2;var s=c6();(Wn!==e||ea!==t)&&(Il=null,fm=nn()+500,Bd(e,t));do try{jZ();break}catch(l){l6(e,l)}while(!0);IE(),j1.current=s,rr=a,gn!==null?t=0:(Wn=null,ea=0,t=On)}if(t!==0){if(t===2&&(a=K2(e),a!==0&&(n=a,t=_N(e,a))),t===1)throw r=jg,Bd(e,0),Hc(e,n),ws(e,nn()),r;if(t===6)Hc(e,n);else{if(a=e.current.alternate,!(n&30)&&!wZ(a)&&(t=k1(e,n),t===2&&(s=K2(e),s!==0&&(n=s,t=_N(e,s))),t===1))throw r=jg,Bd(e,0),Hc(e,n),ws(e,nn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:cd(e,ms,Il);break;case 3:if(Hc(e,n),(n&130023424)===n&&(t=ZE+500-nn(),10<t)){if(l1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ts(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=rN(cd.bind(null,e,ms,Il),t);break}cd(e,ms,Il);break;case 4:if(Hc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-fo(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=nn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bZ(n/1960))-n,10<n){e.timeoutHandle=rN(cd.bind(null,e,ms,Il),n);break}cd(e,ms,Il);break;case 5:cd(e,ms,Il);break;default:throw Error(We(329))}}}return ws(e,nn()),e.callbackNode===r?o6.bind(null,e):null}function _N(e,t){var r=F0;return e.current.memoizedState.isDehydrated&&(Bd(e,t).flags|=256),e=k1(e,t),e!==2&&(t=ms,ms=r,t!==null&&jN(t)),e}function jN(e){ms===null?ms=e:ms.push.apply(ms,e)}function wZ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!xo(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hc(e,t){for(t&=~QE,t&=~Tw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fo(t),n=1<<r;e[r]=-1,t&=~n}}function dD(e){if(rr&6)throw Error(We(327));Rh();var t=l1(e,0);if(!(t&1))return ws(e,nn()),null;var r=k1(e,t);if(e.tag!==0&&r===2){var n=K2(e);n!==0&&(t=n,r=_N(e,n))}if(r===1)throw r=jg,Bd(e,0),Hc(e,t),ws(e,nn()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cd(e,ms,Il),ws(e,nn()),null}function JE(e,t){var r=rr;rr|=1;try{return e(t)}finally{rr=r,rr===0&&(fm=nn()+500,Nw&&Vu())}}function Jd(e){iu!==null&&iu.tag===0&&!(rr&6)&&Rh();var t=rr;rr|=1;var r=Ti.transition,n=yr;try{if(Ti.transition=null,yr=1,e)return e()}finally{yr=n,Ti.transition=r,rr=t,!(rr&6)&&Vu()}}function eT(){Vs=_h.current,Mr(_h)}function Bd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,QQ(r)),gn!==null)for(r=gn.return;r!==null;){var n=r;switch(RE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&h1();break;case 3:um(),Mr(ys),Mr(Pa),VE();break;case 5:zE(n);break;case 4:um();break;case 13:Mr(Ur);break;case 19:Mr(Ur);break;case 10:LE(n.type._context);break;case 22:case 23:eT()}r=r.return}if(Wn=e,gn=e=wu(e.current,null),ea=Vs=t,On=0,jg=null,QE=Tw=Zd=0,ms=F0=null,bd!==null){for(t=0;t<bd.length;t++)if(r=bd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}bd=null}return e}function l6(e,t){do{var r=gn;try{if(IE(),Ly.current=_1,w1){for(var n=Wr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}w1=!1}if(Qd=0,Un=En=Wr=null,R0=!1,bg=0,XE.current=null,r===null||r.return===null){On=1,jg=t,gn=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=ea,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Z4(o);if(m!==null){m.flags&=-257,J4(m,o,l,s,t),m.mode&1&&Q4(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){Q4(s,u,t),tT();break e}c=Error(We(426))}}else if(Lr&&l.mode&1){var v=Z4(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),J4(v,o,l,s,t),ME(dm(c,l));break e}}s=c=dm(c,l),On!==4&&(On=2),F0===null?F0=[s]:F0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=H8(s,c,t);H4(s,y);break e;case 1:l=c;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(yu===null||!yu.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=q8(s,l,t);H4(s,_);break e}}s=s.return}while(s!==null)}d6(r)}catch(j){t=j,gn===r&&r!==null&&(gn=r=r.return);continue}break}while(!0)}function c6(){var e=j1.current;return j1.current=_1,e===null?_1:e}function tT(){(On===0||On===3||On===2)&&(On=4),Wn===null||!(Zd&268435455)&&!(Tw&268435455)||Hc(Wn,ea)}function k1(e,t){var r=rr;rr|=2;var n=c6();(Wn!==e||ea!==t)&&(Il=null,Bd(e,t));do try{_Z();break}catch(a){l6(e,a)}while(!0);if(IE(),rr=r,j1.current=n,gn!==null)throw Error(We(261));return Wn=null,ea=0,On}function _Z(){for(;gn!==null;)u6(gn)}function jZ(){for(;gn!==null&&!KX();)u6(gn)}function u6(e){var t=h6(e.alternate,e,Vs);e.memoizedProps=e.pendingProps,t===null?d6(e):gn=t,XE.current=null}function d6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gZ(r,t),r!==null){r.flags&=32767,gn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{On=6,gn=null;return}}else if(r=pZ(r,t,Vs),r!==null){gn=r;return}if(t=t.sibling,t!==null){gn=t;return}gn=t=e}while(t!==null);On===0&&(On=5)}function cd(e,t,r){var n=yr,a=Ti.transition;try{Ti.transition=null,yr=1,SZ(e,t,r,n)}finally{Ti.transition=a,yr=n}return null}function SZ(e,t,r,n){do Rh();while(iu!==null);if(rr&6)throw Error(We(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(aQ(e,s),e===Wn&&(gn=Wn=null,ea=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qx||(qx=!0,m6(o1,function(){return Rh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ti.transition,Ti.transition=null;var o=yr;yr=1;var l=rr;rr|=4,XE.current=null,xZ(e,r),s6(r,e),WQ(eN),c1=!!J2,eN=J2=null,e.current=r,yZ(r),YX(),rr=l,yr=o,Ti.transition=s}else e.current=r;if(qx&&(qx=!1,iu=e,N1=a),s=e.pendingLanes,s===0&&(yu=null),ZX(r.stateNode),ws(e,nn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(S1)throw S1=!1,e=bN,bN=null,e;return N1&1&&e.tag!==0&&Rh(),s=e.pendingLanes,s&1?e===wN?I0++:(I0=0,wN=e):I0=0,Vu(),null}function Rh(){if(iu!==null){var e=H$(N1),t=Ti.transition,r=yr;try{if(Ti.transition=null,yr=16>e?16:e,iu===null)var n=!1;else{if(e=iu,iu=null,N1=0,rr&6)throw Error(We(331));var a=rr;for(rr|=4,ot=e.current;ot!==null;){var s=ot,o=s.child;if(ot.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ot=u;ot!==null;){var d=ot;switch(d.tag){case 0:case 11:case 15:M0(8,d,s)}var f=d.child;if(f!==null)f.return=d,ot=f;else for(;ot!==null;){d=ot;var h=d.sibling,m=d.return;if(r6(d),d===u){ot=null;break}if(h!==null){h.return=m,ot=h;break}ot=m}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ot=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ot=o;else e:for(;ot!==null;){if(s=ot,s.flags&2048)switch(s.tag){case 0:case 11:case 15:M0(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ot=y;break e}ot=s.return}}var b=e.current;for(ot=b;ot!==null;){o=ot;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ot=w;else e:for(o=b;ot!==null;){if(l=ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ew(9,l)}}catch(j){Yr(l,l.return,j)}if(l===o){ot=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ot=_;break e}ot=l.return}}if(rr=a,Vu(),nl&&typeof nl.onPostCommitFiberRoot=="function")try{nl.onPostCommitFiberRoot(bw,e)}catch{}n=!0}return n}finally{yr=r,Ti.transition=t}}return!1}function fD(e,t,r){t=dm(r,t),t=H8(e,t,1),e=xu(e,t,1),t=ts(),e!==null&&(Ov(e,1,t),ws(e,t))}function Yr(e,t,r){if(e.tag===3)fD(e,e,r);else for(;t!==null;){if(t.tag===3){fD(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yu===null||!yu.has(n))){e=dm(r,e),e=q8(t,e,1),t=xu(t,e,1),e=ts(),t!==null&&(Ov(t,1,e),ws(t,e));break}}t=t.return}}function NZ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ts(),e.pingedLanes|=e.suspendedLanes&r,Wn===e&&(ea&r)===r&&(On===4||On===3&&(ea&130023424)===ea&&500>nn()-ZE?Bd(e,0):QE|=r),ws(e,t)}function f6(e,t){t===0&&(e.mode&1?(t=Fx,Fx<<=1,!(Fx&130023424)&&(Fx=4194304)):t=1);var r=ts();e=sc(e,t),e!==null&&(Ov(e,t,r),ws(e,r))}function kZ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),f6(e,r)}function CZ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),f6(e,r)}var h6;h6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ys.current)gs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gs=!1,mZ(e,t,r);gs=!!(e.flags&131072)}else gs=!1,Lr&&t.flags&1048576&&v8(t,g1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;By(e,t),e=t.pendingProps;var a=om(t,Pa.current);Dh(t,r),a=HE(null,t,n,e,a,r);var s=qE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bs(n)?(s=!0,m1(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,BE(t),a.updater=Cw,t.stateNode=a,a._reactInternals=t,cN(t,n,e,r),t=fN(null,t,n,!0,s,r)):(t.tag=0,Lr&&s&&DE(t),za(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(By(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=TZ(n),e=Yi(n,e),a){case 0:t=dN(null,t,n,e,r);break e;case 1:t=rD(null,t,n,e,r);break e;case 11:t=eD(null,t,n,e,r);break e;case 14:t=tD(null,t,n,Yi(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Yi(n,a),dN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Yi(n,a),rD(e,t,n,a,r);case 3:e:{if(X8(t),e===null)throw Error(We(387));n=t.pendingProps,s=t.memoizedState,a=s.element,j8(e,t),y1(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=dm(Error(We(423)),t),t=nD(e,t,n,r,a);break e}else if(n!==a){a=dm(Error(We(424)),t),t=nD(e,t,n,r,a);break e}else for(Qs=vu(t.stateNode.containerInfo.firstChild),Js=t,Lr=!0,ao=null,r=w8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lm(),n===a){t=ic(e,t,r);break e}za(e,t,n,r)}t=t.child}return t;case 5:return S8(t),e===null&&iN(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,tN(n,a)?o=null:s!==null&&tN(n,s)&&(t.flags|=32),Y8(e,t),za(e,t,o,r),t.child;case 6:return e===null&&iN(t),null;case 13:return Q8(e,t,r);case 4:return UE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cm(t,null,n,r):za(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Yi(n,a),eD(e,t,n,a,r);case 7:return za(e,t,t.pendingProps,r),t.child;case 8:return za(e,t,t.pendingProps.children,r),t.child;case 12:return za(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,kr(v1,n._currentValue),n._currentValue=o,s!==null)if(xo(s.value,o)){if(s.children===a.children&&!ys.current){t=ic(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Xl(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),oN(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(We(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),oN(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}za(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Dh(t,r),a=Pi(a),n=n(a),t.flags|=1,za(e,t,n,r),t.child;case 14:return n=t.type,a=Yi(n,t.pendingProps),a=Yi(n.type,a),tD(e,t,n,a,r);case 15:return G8(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Yi(n,a),By(e,t),t.tag=1,bs(n)?(e=!0,m1(t)):e=!1,Dh(t,r),W8(t,n,a),cN(t,n,a,r),fN(null,t,n,!0,e,r);case 19:return Z8(e,t,r);case 22:return K8(e,t,r)}throw Error(We(156,t.tag))};function m6(e,t){return U$(e,t)}function EZ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(e,t,r,n){return new EZ(e,t,r,n)}function rT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TZ(e){if(typeof e=="function")return rT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wE)return 11;if(e===_E)return 14}return 2}function wu(e,t){var r=e.alternate;return r===null?(r=Ci(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vy(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")rT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fh:return Ud(r.children,a,s,t);case bE:o=8,a|=8;break;case D2:return e=Ci(12,r,t,a|2),e.elementType=D2,e.lanes=s,e;case R2:return e=Ci(13,r,t,a),e.elementType=R2,e.lanes=s,e;case M2:return e=Ci(19,r,t,a),e.elementType=M2,e.lanes=s,e;case S$:return Aw(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _$:o=10;break e;case j$:o=9;break e;case wE:o=11;break e;case _E:o=14;break e;case Lc:o=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Ci(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Ud(e,t,r,n){return e=Ci(7,e,n,t),e.lanes=r,e}function Aw(e,t,r,n){return e=Ci(22,e,n,t),e.elementType=S$,e.lanes=r,e.stateNode={isHidden:!1},e}function lS(e,t,r){return e=Ci(6,e,null,t),e.lanes=r,e}function cS(e,t,r){return t=Ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function AZ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vj(0),this.expirationTimes=Vj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function nT(e,t,r,n,a,s,o,l,c){return e=new AZ(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ci(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},BE(s),e}function PZ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function p6(e){if(!e)return Pu;e=e._reactInternals;e:{if(jf(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(bs(r))return p8(e,r,t)}return t}function g6(e,t,r,n,a,s,o,l,c){return e=nT(r,n,!0,e,a,s,o,l,c),e.context=p6(null),r=e.current,n=ts(),a=bu(r),s=Xl(n,a),s.callback=t??null,xu(r,s,a),e.current.lanes=a,Ov(e,a,n),ws(e,n),e}function Pw(e,t,r,n){var a=t.current,s=ts(),o=bu(a);return r=p6(r),t.context===null?t.context=r:t.pendingContext=r,t=Xl(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xu(a,t,o),e!==null&&(ho(e,a,o,s),Iy(e,a,o)),o}function C1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function aT(e,t){hD(e,t),(e=e.alternate)&&hD(e,t)}function OZ(){return null}var v6=typeof reportError=="function"?reportError:function(e){console.error(e)};function sT(e){this._internalRoot=e}Ow.prototype.render=sT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));Pw(e,t,null,null)};Ow.prototype.unmount=sT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jd(function(){Pw(null,e,null,null)}),t[ac]=null}};function Ow(e){this._internalRoot=e}Ow.prototype.unstable_scheduleHydration=function(e){if(e){var t=K$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wc.length&&t!==0&&t<Wc[r].priority;r++);Wc.splice(r,0,e),r===0&&X$(e)}};function iT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mD(){}function DZ(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=C1(o);s.call(u)}}var o=g6(t,n,e,0,null,!1,!1,"",mD);return e._reactRootContainer=o,e[ac]=o.current,pg(e.nodeType===8?e.parentNode:e),Jd(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=C1(c);l.call(u)}}var c=nT(e,0,!1,null,null,!1,!1,"",mD);return e._reactRootContainer=c,e[ac]=c.current,pg(e.nodeType===8?e.parentNode:e),Jd(function(){Pw(t,c,r,n)}),c}function Rw(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=C1(o);l.call(c)}}Pw(t,o,e,a)}else o=DZ(r,t,e,a,n);return C1(o)}q$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=x0(t.pendingLanes);r!==0&&(NE(t,r|1),ws(t,nn()),!(rr&6)&&(fm=nn()+500,Vu()))}break;case 13:Jd(function(){var n=sc(e,1);if(n!==null){var a=ts();ho(n,e,1,a)}}),aT(e,1)}};kE=function(e){if(e.tag===13){var t=sc(e,134217728);if(t!==null){var r=ts();ho(t,e,134217728,r)}aT(e,134217728)}};G$=function(e){if(e.tag===13){var t=bu(e),r=sc(e,t);if(r!==null){var n=ts();ho(r,e,t,n)}aT(e,t)}};K$=function(){return yr};Y$=function(e,t){var r=yr;try{return yr=e,t()}finally{yr=r}};H2=function(e,t,r){switch(t){case"input":if(L2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Sw(n);if(!a)throw Error(We(90));k$(n),L2(n,a)}}}break;case"textarea":E$(e,r);break;case"select":t=r.value,t!=null&&Th(e,!!r.multiple,t,!1)}};M$=JE;F$=Jd;var RZ={usingClientEntryPoint:!1,Events:[Rv,gh,Sw,D$,R$,JE]},Kp={findFiberByHostInstance:yd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MZ={bundleType:Kp.bundleType,version:Kp.version,rendererPackageName:Kp.rendererPackageName,rendererConfig:Kp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$$(e),e===null?null:e.stateNode},findFiberByHostInstance:Kp.findFiberByHostInstance||OZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gx.isDisabled&&Gx.supportsFiber)try{bw=Gx.inject(MZ),nl=Gx}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RZ;li.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iT(t))throw Error(We(200));return PZ(e,t,null,r)};li.createRoot=function(e,t){if(!iT(e))throw Error(We(299));var r=!1,n="",a=v6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=nT(e,1,!1,null,null,r,!1,n,a),e[ac]=t.current,pg(e.nodeType===8?e.parentNode:e),new sT(t)};li.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=$$(t),e=e===null?null:e.stateNode,e};li.flushSync=function(e){return Jd(e)};li.hydrate=function(e,t,r){if(!Dw(t))throw Error(We(200));return Rw(null,e,t,!0,r)};li.hydrateRoot=function(e,t,r){if(!iT(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=v6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=g6(t,null,e,1,r??null,a,!1,s,o),e[ac]=t.current,pg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ow(t)};li.render=function(e,t,r){if(!Dw(t))throw Error(We(200));return Rw(null,e,t,!1,r)};li.unmountComponentAtNode=function(e){if(!Dw(e))throw Error(We(40));return e._reactRootContainer?(Jd(function(){Rw(null,null,e,!1,function(){e._reactRootContainer=null,e[ac]=null})}),!0):!1};li.unstable_batchedUpdates=JE;li.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Dw(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return Rw(e,t,r,!1,n)};li.version="18.3.1-next-f1338f8080-20240426";function x6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x6)}catch(e){console.error(e)}}x6(),x$.exports=li;var up=x$.exports;const FZ=mr(up);var y6,pD=up;y6=pD.createRoot,pD.hydrateRoot;var Fv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ef=typeof window>"u"||"Deno"in globalThis;function hs(){}function IZ(e,t){return typeof e=="function"?e(t):e}function SN(e){return typeof e=="number"&&e>=0&&e!==1/0}function b6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _u(e,t){return typeof e=="function"?e(t):e}function wi(e,t){return typeof e=="function"?e(t):e}function gD(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==oT(o,t.options))return!1}else if(!Ng(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function vD(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Sg(t.options.mutationKey)!==Sg(s))return!1}else if(!Ng(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function oT(e,t){return((t==null?void 0:t.queryKeyHashFn)||Sg)(e)}function Sg(e){return JSON.stringify(e,(t,r)=>kN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ng(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ng(e[r],t[r])):!1}function w6(e,t){if(e===t)return e;const r=xD(e)&&xD(t);if(r||kN(e)&&kN(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=w6(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function NN(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function xD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kN(e){if(!yD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!yD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yD(e){return Object.prototype.toString.call(e)==="[object Object]"}function LZ(e){return new Promise(t=>{setTimeout(t,e)})}function CN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?w6(e,t):t}function $Z(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function BZ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var lT=Symbol();function _6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function UZ(e,t){return typeof e=="function"?e(...t):!!e}var Pd,Qc,Kh,Z5,zZ=(Z5=class extends Fv{constructor(){super();St(this,Pd);St(this,Qc);St(this,Kh);ct(this,Kh,t=>{if(!ef&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ye(this,Qc)||this.setEventListener(ye(this,Kh))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,Qc))==null||t.call(this),ct(this,Qc,void 0))}setEventListener(t){var r;ct(this,Kh,t),(r=ye(this,Qc))==null||r.call(this),ct(this,Qc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ye(this,Pd)!==t&&(ct(this,Pd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ye(this,Pd)=="boolean"?ye(this,Pd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pd=new WeakMap,Qc=new WeakMap,Kh=new WeakMap,Z5),cT=new zZ,Yh,Zc,Xh,J5,VZ=(J5=class extends Fv{constructor(){super();St(this,Yh,!0);St(this,Zc);St(this,Xh);ct(this,Xh,t=>{if(!ef&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ye(this,Zc)||this.setEventListener(ye(this,Xh))}onUnsubscribe(){var t;this.hasListeners()||((t=ye(this,Zc))==null||t.call(this),ct(this,Zc,void 0))}setEventListener(t){var r;ct(this,Xh,t),(r=ye(this,Zc))==null||r.call(this),ct(this,Zc,t(this.setOnline.bind(this)))}setOnline(t){ye(this,Yh)!==t&&(ct(this,Yh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ye(this,Yh)}},Yh=new WeakMap,Zc=new WeakMap,Xh=new WeakMap,J5),E1=new VZ;function EN(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function WZ(e){return Math.min(1e3*2**e,3e4)}function j6(e){return(e??"online")==="online"?E1.isOnline():!0}var S6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function uS(e){return e instanceof S6}function N6(e){let t=!1,r=0,n=!1,a;const s=EN(),o=g=>{var v;n||(h(new S6(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>cT.isFocused()&&(e.networkMode==="always"||E1.isOnline())&&e.canRun(),d=()=>j6(e.networkMode)&&e.canRun(),f=g=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,g),a==null||a(),s.resolve(g))},h=g=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,g),a==null||a(),s.reject(g))},m=()=>new Promise(g=>{var v;a=y=>{(n||u())&&g(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var N;if(n)return;const b=e.retry??(ef?0:3),w=e.retryDelay??WZ,_=typeof w=="function"?w(r,y):w,j=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!j){h(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),LZ(_).then(()=>u()?void 0:m()).then(()=>{t?h(y):p()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),s)}}var HZ=e=>setTimeout(e,0);function qZ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=HZ;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Jn=qZ(),Od,e$,k6=(e$=class{constructor(){St(this,Od)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SN(this.gcTime)&&ct(this,Od,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ef?1/0:5*60*1e3))}clearGcTimeout(){ye(this,Od)&&(clearTimeout(ye(this,Od)),ct(this,Od,void 0))}},Od=new WeakMap,e$),Qh,Dd,bi,Rd,wa,Cv,Md,Qi,Fl,t$,GZ=(t$=class extends k6{constructor(t){super();St(this,Qi);St(this,Qh);St(this,Dd);St(this,bi);St(this,Rd);St(this,wa);St(this,Cv);St(this,Md);ct(this,Md,!1),ct(this,Cv,t.defaultOptions),this.setOptions(t.options),this.observers=[],ct(this,Rd,t.client),ct(this,bi,ye(this,Rd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ct(this,Qh,KZ(this.options)),this.state=t.state??ye(this,Qh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ye(this,wa))==null?void 0:t.promise}setOptions(t){this.options={...ye(this,Cv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ye(this,bi).remove(this)}setData(t,r){const n=CN(this.state.data,t,this.options);return qt(this,Qi,Fl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){qt(this,Qi,Fl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ye(this,wa))==null?void 0:n.promise;return(a=ye(this,wa))==null||a.cancel(t),r?r.then(hs).catch(hs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ye(this,Qh))}isActive(){return this.observers.some(t=>wi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_u(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!b6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ye(this,wa))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ye(this,wa))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ye(this,bi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ye(this,wa)&&(ye(this,Md)?ye(this,wa).cancel({revert:!0}):ye(this,wa).cancelRetry()),this.scheduleGc()),ye(this,bi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qt(this,Qi,Fl).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ye(this,wa))return ye(this,wa).continueRetry(),ye(this,wa).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ct(this,Md,!0),n.signal)})},s=()=>{const h=_6(this.options,r),p=(()=>{const g={client:ye(this,Rd),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return ct(this,Md,!1),this.options.persister?this.options.persister(h,p,this):h(p)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ye(this,Rd),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ct(this,Dd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&qt(this,Qi,Fl).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,p,g,v;uS(h)&&h.silent||qt(this,Qi,Fl).call(this,{type:"error",error:h}),uS(h)||((p=(m=ye(this,bi).config).onError)==null||p.call(m,h,this),(v=(g=ye(this,bi).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return ct(this,wa,N6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,p,g,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(p=(m=ye(this,bi).config).onSuccess)==null||p.call(m,h,this),(v=(g=ye(this,bi).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{qt(this,Qi,Fl).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{qt(this,Qi,Fl).call(this,{type:"pause"})},onContinue:()=>{qt(this,Qi,Fl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ye(this,wa).start()}},Qh=new WeakMap,Dd=new WeakMap,bi=new WeakMap,Rd=new WeakMap,wa=new WeakMap,Cv=new WeakMap,Md=new WeakMap,Qi=new WeakSet,Fl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...C6(n.data,this.options),fetchMeta:t.meta??null};case"success":return ct(this,Dd,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return uS(a)&&a.revert&&ye(this,Dd)?{...ye(this,Dd),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Jn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ye(this,bi).notify({query:this,type:"updated",action:t})})},t$);function C6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function KZ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wo,r$,YZ=(r$=class extends Fv{constructor(t={}){super();St(this,Wo);this.config=t,ct(this,Wo,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??oT(a,r);let o=this.get(s);return o||(o=new GZ({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ye(this,Wo).has(t.queryHash)||(ye(this,Wo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ye(this,Wo).get(t.queryHash);r&&(t.destroy(),r===t&&ye(this,Wo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Jn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ye(this,Wo).get(t)}getAll(){return[...ye(this,Wo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gD(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>gD(t,n)):r}notify(t){Jn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Jn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Jn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wo=new WeakMap,r$),Ho,Ba,Fd,qo,Mc,n$,XZ=(n$=class extends k6{constructor(t){super();St(this,qo);St(this,Ho);St(this,Ba);St(this,Fd);this.mutationId=t.mutationId,ct(this,Ba,t.mutationCache),ct(this,Ho,[]),this.state=t.state||QZ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ye(this,Ho).includes(t)||(ye(this,Ho).push(t),this.clearGcTimeout(),ye(this,Ba).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ct(this,Ho,ye(this,Ho).filter(r=>r!==t)),this.scheduleGc(),ye(this,Ba).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ye(this,Ho).length||(this.state.status==="pending"?this.scheduleGc():ye(this,Ba).remove(this))}continue(){var t;return((t=ye(this,Fd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,c,u,d,f,h,m,p,g,v,y,b,w,_,j,N,S,k;const r=()=>{qt(this,qo,Mc).call(this,{type:"continue"})};ct(this,Fd,N6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,E)=>{qt(this,qo,Mc).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{qt(this,qo,Mc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ye(this,Ba).canRun(this)}));const n=this.state.status==="pending",a=!ye(this,Fd).canStart();try{if(n)r();else{qt(this,qo,Mc).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=ye(this,Ba).config).onMutate)==null?void 0:o.call(s,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&qt(this,qo,Mc).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const C=await ye(this,Fd).start();return await((d=(u=ye(this,Ba).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,t,this.state.context)),await((p=(m=ye(this,Ba).config).onSettled)==null?void 0:p.call(m,C,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,C,null,t,this.state.context)),qt(this,qo,Mc).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(y=ye(this,Ba).config).onError)==null?void 0:b.call(y,C,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,C,t,this.state.context)),await((N=(j=ye(this,Ba).config).onSettled)==null?void 0:N.call(j,void 0,C,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,C,t,this.state.context)),C}finally{qt(this,qo,Mc).call(this,{type:"error",error:C})}}finally{ye(this,Ba).runNext(this)}}},Ho=new WeakMap,Ba=new WeakMap,Fd=new WeakMap,qo=new WeakSet,Mc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jn.batch(()=>{ye(this,Ho).forEach(n=>{n.onMutationUpdate(t)}),ye(this,Ba).notify({mutation:this,type:"updated",action:t})})},n$);function QZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bl,Zi,Ev,a$,ZZ=(a$=class extends Fv{constructor(t={}){super();St(this,Bl);St(this,Zi);St(this,Ev);this.config=t,ct(this,Bl,new Set),ct(this,Zi,new Map),ct(this,Ev,0)}build(t,r,n){const a=new XZ({mutationCache:this,mutationId:++Tx(this,Ev)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ye(this,Bl).add(t);const r=Kx(t);if(typeof r=="string"){const n=ye(this,Zi).get(r);n?n.push(t):ye(this,Zi).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ye(this,Bl).delete(t)){const r=Kx(t);if(typeof r=="string"){const n=ye(this,Zi).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ye(this,Zi).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Kx(t);if(typeof r=="string"){const n=ye(this,Zi).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Kx(t);if(typeof r=="string"){const a=(n=ye(this,Zi).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Jn.batch(()=>{ye(this,Bl).forEach(t=>{this.notify({type:"removed",mutation:t})}),ye(this,Bl).clear(),ye(this,Zi).clear()})}getAll(){return Array.from(ye(this,Bl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vD(r,n))}findAll(t={}){return this.getAll().filter(r=>vD(t,r))}notify(t){Jn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Jn.batch(()=>Promise.all(t.map(r=>r.continue().catch(hs))))}},Bl=new WeakMap,Zi=new WeakMap,Ev=new WeakMap,a$);function Kx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function bD(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=_6(t.options,t.fetchOptions),b=async(w,_,j)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return v(P),P})(),k=await y(S),{maxPages:C}=t.options,E=j?BZ:$Z;return{pages:E(w.pages,k,C),pageParams:E(w.pageParams,_,C)}};if(a&&s.length){const w=a==="backward",_=w?JZ:wD,j={pages:s,pageParams:o},N=_(n,j);l=await b(j,N,w)}else{const w=e??s.length;do{const _=c===0?o[0]??n.initialPageParam:wD(n,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function wD(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function JZ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Gr,Jc,eu,Zh,Jh,tu,em,tm,s$,eJ=(s$=class{constructor(e={}){St(this,Gr);St(this,Jc);St(this,eu);St(this,Zh);St(this,Jh);St(this,tu);St(this,em);St(this,tm);ct(this,Gr,e.queryCache||new YZ),ct(this,Jc,e.mutationCache||new ZZ),ct(this,eu,e.defaultOptions||{}),ct(this,Zh,new Map),ct(this,Jh,new Map),ct(this,tu,0)}mount(){Tx(this,tu)._++,ye(this,tu)===1&&(ct(this,em,cT.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,Gr).onFocus())})),ct(this,tm,E1.subscribe(async e=>{e&&(await this.resumePausedMutations(),ye(this,Gr).onOnline())})))}unmount(){var e,t;Tx(this,tu)._--,ye(this,tu)===0&&((e=ye(this,em))==null||e.call(this),ct(this,em,void 0),(t=ye(this,tm))==null||t.call(this),ct(this,tm,void 0))}isFetching(e){return ye(this,Gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ye(this,Jc).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ye(this,Gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ye(this,Gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(_u(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ye(this,Gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ye(this,Gr).get(n.queryHash),s=a==null?void 0:a.state.data,o=IZ(t,s);if(o!==void 0)return ye(this,Gr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Jn.batch(()=>ye(this,Gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ye(this,Gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ye(this,Gr);Jn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ye(this,Gr);return Jn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Jn.batch(()=>ye(this,Gr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(hs).catch(hs)}invalidateQueries(e,t={}){return Jn.batch(()=>(ye(this,Gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Jn.batch(()=>ye(this,Gr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(hs)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(hs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ye(this,Gr).build(this,t);return r.isStaleByTime(_u(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(hs).catch(hs)}fetchInfiniteQuery(e){return e.behavior=bD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(hs).catch(hs)}ensureInfiniteQueryData(e){return e.behavior=bD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return E1.isOnline()?ye(this,Jc).resumePausedMutations():Promise.resolve()}getQueryCache(){return ye(this,Gr)}getMutationCache(){return ye(this,Jc)}getDefaultOptions(){return ye(this,eu)}setDefaultOptions(e){ct(this,eu,e)}setQueryDefaults(e,t){ye(this,Zh).set(Sg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ye(this,Zh).values()],r={};return t.forEach(n=>{Ng(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ye(this,Jh).set(Sg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ye(this,Jh).values()],r={};return t.forEach(n=>{Ng(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ye(this,eu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=oT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ye(this,eu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ye(this,Gr).clear(),ye(this,Jc).clear()}},Gr=new WeakMap,Jc=new WeakMap,eu=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,tu=new WeakMap,em=new WeakMap,tm=new WeakMap,s$),us,Gt,Tv,Ua,Id,rm,ru,nu,Av,nm,am,Ld,$d,au,sm,hr,b0,TN,AN,PN,ON,DN,RN,MN,E6,i$,tJ=(i$=class extends Fv{constructor(t,r){super();St(this,hr);St(this,us);St(this,Gt);St(this,Tv);St(this,Ua);St(this,Id);St(this,rm);St(this,ru);St(this,nu);St(this,Av);St(this,nm);St(this,am);St(this,Ld);St(this,$d);St(this,au);St(this,sm,new Set);this.options=r,ct(this,us,t),ct(this,nu,null),ct(this,ru,EN()),this.options.experimental_prefetchInRender||ye(this,ru).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ye(this,Gt).addObserver(this),_D(ye(this,Gt),this.options)?qt(this,hr,b0).call(this):this.updateResult(),qt(this,hr,ON).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return FN(ye(this,Gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return FN(ye(this,Gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qt(this,hr,DN).call(this),qt(this,hr,RN).call(this),ye(this,Gt).removeObserver(this)}setOptions(t){const r=this.options,n=ye(this,Gt);if(this.options=ye(this,us).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wi(this.options.enabled,ye(this,Gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qt(this,hr,MN).call(this),ye(this,Gt).setOptions(this.options),r._defaulted&&!NN(this.options,r)&&ye(this,us).getQueryCache().notify({type:"observerOptionsUpdated",query:ye(this,Gt),observer:this});const a=this.hasListeners();a&&jD(ye(this,Gt),n,this.options,r)&&qt(this,hr,b0).call(this),this.updateResult(),a&&(ye(this,Gt)!==n||wi(this.options.enabled,ye(this,Gt))!==wi(r.enabled,ye(this,Gt))||_u(this.options.staleTime,ye(this,Gt))!==_u(r.staleTime,ye(this,Gt)))&&qt(this,hr,TN).call(this);const s=qt(this,hr,AN).call(this);a&&(ye(this,Gt)!==n||wi(this.options.enabled,ye(this,Gt))!==wi(r.enabled,ye(this,Gt))||s!==ye(this,au))&&qt(this,hr,PN).call(this,s)}getOptimisticResult(t){const r=ye(this,us).getQueryCache().build(ye(this,us),t),n=this.createResult(r,t);return nJ(this,n)&&(ct(this,Ua,n),ct(this,rm,this.options),ct(this,Id,ye(this,Gt).state)),n}getCurrentResult(){return ye(this,Ua)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){ye(this,sm).add(t)}getCurrentQuery(){return ye(this,Gt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ye(this,us).defaultQueryOptions(t),n=ye(this,us).getQueryCache().build(ye(this,us),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return qt(this,hr,b0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ye(this,Ua)))}createResult(t,r){var C;const n=ye(this,Gt),a=this.options,s=ye(this,Ua),o=ye(this,Id),l=ye(this,rm),u=t!==n?t.state:ye(this,Tv),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const E=this.hasListeners(),P=!E&&_D(t,r),T=E&&jD(t,n,r,a);(P||T)&&(f={...f,...C6(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:v}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let E;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=s.data,y=!0):E=typeof r.placeholderData=="function"?r.placeholderData((C=ye(this,am))==null?void 0:C.state.data,ye(this,am)):r.placeholderData,E!==void 0&&(v="success",m=CN(s==null?void 0:s.data,E,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(o==null?void 0:o.data)&&r.select===ye(this,Av))m=ye(this,nm);else try{ct(this,Av,r.select),m=r.select(m),m=CN(s==null?void 0:s.data,m,r),ct(this,nm,m),ct(this,nu,null)}catch(E){ct(this,nu,E)}ye(this,nu)&&(p=ye(this,nu),m=ye(this,nm),g=Date.now(),v="error");const b=f.fetchStatus==="fetching",w=v==="pending",_=v==="error",j=w&&b,N=m!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:_&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&N,isStale:uT(t,r),refetch:this.refetch,promise:ye(this,ru),isEnabled:wi(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=W=>{k.status==="error"?W.reject(k.error):k.data!==void 0&&W.resolve(k.data)},P=()=>{const W=ct(this,ru,k.promise=EN());E(W)},T=ye(this,ru);switch(T.status){case"pending":t.queryHash===n.queryHash&&E(T);break;case"fulfilled":(k.status==="error"||k.data!==T.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==T.reason)&&P();break}}return k}updateResult(){const t=ye(this,Ua),r=this.createResult(ye(this,Gt),this.options);if(ct(this,Id,ye(this,Gt).state),ct(this,rm,this.options),ye(this,Id).data!==void 0&&ct(this,am,ye(this,Gt)),NN(r,t))return;ct(this,Ua,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!ye(this,sm).size)return!0;const o=new Set(s??ye(this,sm));return this.options.throwOnError&&o.add("error"),Object.keys(ye(this,Ua)).some(l=>{const c=l;return ye(this,Ua)[c]!==t[c]&&o.has(c)})};qt(this,hr,E6).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qt(this,hr,ON).call(this)}},us=new WeakMap,Gt=new WeakMap,Tv=new WeakMap,Ua=new WeakMap,Id=new WeakMap,rm=new WeakMap,ru=new WeakMap,nu=new WeakMap,Av=new WeakMap,nm=new WeakMap,am=new WeakMap,Ld=new WeakMap,$d=new WeakMap,au=new WeakMap,sm=new WeakMap,hr=new WeakSet,b0=function(t){qt(this,hr,MN).call(this);let r=ye(this,Gt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(hs)),r},TN=function(){qt(this,hr,DN).call(this);const t=_u(this.options.staleTime,ye(this,Gt));if(ef||ye(this,Ua).isStale||!SN(t))return;const n=b6(ye(this,Ua).dataUpdatedAt,t)+1;ct(this,Ld,setTimeout(()=>{ye(this,Ua).isStale||this.updateResult()},n))},AN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ye(this,Gt)):this.options.refetchInterval)??!1},PN=function(t){qt(this,hr,RN).call(this),ct(this,au,t),!(ef||wi(this.options.enabled,ye(this,Gt))===!1||!SN(ye(this,au))||ye(this,au)===0)&&ct(this,$d,setInterval(()=>{(this.options.refetchIntervalInBackground||cT.isFocused())&&qt(this,hr,b0).call(this)},ye(this,au)))},ON=function(){qt(this,hr,TN).call(this),qt(this,hr,PN).call(this,qt(this,hr,AN).call(this))},DN=function(){ye(this,Ld)&&(clearTimeout(ye(this,Ld)),ct(this,Ld,void 0))},RN=function(){ye(this,$d)&&(clearInterval(ye(this,$d)),ct(this,$d,void 0))},MN=function(){const t=ye(this,us).getQueryCache().build(ye(this,us),this.options);if(t===ye(this,Gt))return;const r=ye(this,Gt);ct(this,Gt,t),ct(this,Tv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},E6=function(t){Jn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ye(this,Ua))}),ye(this,us).getQueryCache().notify({query:ye(this,Gt),type:"observerResultsUpdated"})})},i$);function rJ(e,t){return wi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _D(e,t){return rJ(e,t)||e.state.data!==void 0&&FN(e,t,t.refetchOnMount)}function FN(e,t,r){if(wi(t.enabled,e)!==!1&&_u(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&uT(e,t)}return!1}function jD(e,t,r,n){return(e!==t||wi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&uT(e,r)}function uT(e,t){return wi(t.enabled,e)!==!1&&e.isStaleByTime(_u(t.staleTime,e))}function nJ(e,t){return!NN(e.getCurrentResult(),t)}var T6=x.createContext(void 0),aJ=e=>{const t=x.useContext(T6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},sJ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(T6.Provider,{value:e,children:t})),A6=x.createContext(!1),iJ=()=>x.useContext(A6);A6.Provider;function oJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var lJ=x.createContext(oJ()),cJ=()=>x.useContext(lJ),uJ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},dJ=e=>{x.useEffect(()=>{e.clearReset()},[e])},fJ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||UZ(r,[e.error,n])),hJ=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},mJ=(e,t)=>e.isLoading&&e.isFetching&&!t,pJ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,SD=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function gJ(e,t,r){var f,h,m,p,g;const n=iJ(),a=cJ(),s=aJ(),o=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",hJ(o),uJ(o,a),dJ(a);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=d?c.subscribe(Jn.batchCalls(v)):hs;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),pJ(o,u))throw SD(o,c,a);if(fJ({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,u),o.experimental_prefetchInRender&&!ef&&mJ(u,n)){const v=l?SD(o,c,a):(g=s.getQueryCache().get(o.queryHash))==null?void 0:g.promise;v==null||v.catch(hs).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function dT(e,t){return gJ(e,tJ)}const Et=e=>typeof e=="string",Yp=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},ND=e=>e==null?"":""+e,vJ=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},xJ=/###/g,kD=e=>e&&e.indexOf("###")>-1?e.replace(xJ,"."):e,CD=e=>!e||Et(e),L0=(e,t,r)=>{const n=Et(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(CD(e))return{};const s=kD(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return CD(e)?{}:{obj:e,k:kD(n[a])}},ED=(e,t,r)=>{const{obj:n,k:a}=L0(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],o=t.slice(0,t.length-1),l=L0(e,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=L0(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},yJ=(e,t,r,n)=>{const{obj:a,k:s}=L0(e,t,Object);a[s]=a[s]||[],a[s].push(r)},T1=(e,t)=>{const{obj:r,k:n}=L0(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},bJ=(e,t,r)=>{const n=T1(e,r);return n!==void 0?n:T1(t,r)},P6=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Et(e[n])||e[n]instanceof String||Et(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):P6(e[n],t[n],r):e[n]=t[n]);return e},Uf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var wJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const _J=e=>Et(e)?e.replace(/[&<>"'\/]/g,t=>wJ[t]):e;class jJ{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const SJ=[" ",",","?","!",";"],NJ=new jJ(20),kJ=(e,t,r)=>{t=t||"",r=r||"";const n=SJ.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=NJ.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!a.test(e);if(!s){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(s=!0)}return s},IN=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=o}return a},kg=e=>e==null?void 0:e.replace("_","-"),CJ={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class A1{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||CJ,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Et(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new A1(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new A1(this.logger,t)}}var Zo=new A1;let Mw=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a.apply(a,[t,...r])})}};class TD extends Mw{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Et(n)&&s?l.push(...n.split(s)):l.push(n)));const c=T1(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!Et(n)?c:IN((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),ED(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(Et(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,o={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=T1(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?P6(c,n,s):c={...c,...n},ED(this.data,l,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var O6={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var o;t=((o=this.processors[s])==null?void 0:o.process(t,r,n,a))??t}),t}};const D6=Symbol("i18next/PATH_KEY");function EJ(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===D6?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function LN(e,t){const{[D6]:r}=e(EJ());return r.join((t==null?void 0:t.keySeparator)??".")}const AD={},dS=e=>!Et(e)&&typeof e!="boolean"&&typeof e!="number";class P1 extends Mw{constructor(t,r={}){super(),vJ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zo.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=dS(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!kJ(t,n,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Et(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:Et(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=LN(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let p=m==null?void 0:m.res;const g=(m==null?void 0:m.usedKey)||l,v=(m==null?void 0:m.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],b=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,_=a.count!==void 0&&!Et(a.count),j=P1.hasDefaultValue(a),N=_?this.pluralResolver.getSuffix(f,a.count,a):"",S=a.ordinal&&_?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",k=_&&!a.ordinal&&a.count===0,C=k&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${N}`]||a[`defaultValue${S}`]||a.defaultValue;let E=p;w&&!p&&j&&(E=C);const P=dS(E),T=Object.prototype.toString.apply(E);if(w&&E&&P&&y.indexOf(T)<0&&!(Et(b)&&Array.isArray(E))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const W=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,E,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=W,m.usedParams=this.getUsedParamsDetails(a),m):W}if(o){const W=Array.isArray(E),G=W?[]:{},U=W?v:g;for(const L in E)if(Object.prototype.hasOwnProperty.call(E,L)){const V=`${U}${o}${L}`;j&&!p?G[L]=this.translate(V,{...a,defaultValue:dS(C)?C[L]:void 0,joinArrays:!1,ns:c}):G[L]=this.translate(V,{...a,joinArrays:!1,ns:c}),G[L]===V&&(G[L]=E[L])}p=G}}else if(w&&Et(b)&&Array.isArray(p))p=p.join(b),p&&(p=this.extendTranslation(p,t,a,n));else{let W=!1,G=!1;!this.isValidLookup(p)&&j&&(W=!0,p=C),this.isValidLookup(p)||(G=!0,p=l);const L=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&G?void 0:p,V=j&&C!==p&&this.options.updateMissing;if(G||W||V){if(this.logger.log(V?"updateKey":"missingKey",f,u,l,V?C:p),o){const Q=this.resolve(l,{...a,keySeparator:!1});Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let Q=0;Q<I.length;Q++)B.push(I[Q]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(a.lng||this.language):B.push(a.lng||this.language);const X=(Q,O,M)=>{var H;const F=j&&M!==p?M:L;this.options.missingKeyHandler?this.options.missingKeyHandler(Q,u,O,F,V,a):(H=this.backendConnector)!=null&&H.saveMissing&&this.backendConnector.saveMissing(Q,u,O,F,V,a),this.emit("missingKey",Q,u,O,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?B.forEach(Q=>{const O=this.pluralResolver.getSuffixes(Q,a);k&&a[`defaultValue${this.options.pluralSeparator}zero`]&&O.indexOf(`${this.options.pluralSeparator}zero`)<0&&O.push(`${this.options.pluralSeparator}zero`),O.forEach(M=>{X([Q],l+M,a[`defaultValue${M}`]||C)})}):X(B,l,C))}p=this.extendTranslation(p,t,a,m,n),G&&p===l&&this.options.appendNamespaceToMissingKey&&(p=`${u}${d}${l}`),(G||W)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,W?p:void 0,a))}return s?(m.res=p,m.usedParams=this.getUsedParamsDetails(a),m):p}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Et(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=n.replace&&!Et(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),p=m&&m.length;f<p&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):this.translate(...m,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Et(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=O6.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,o,l;return Et(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Et(r.count),m=h&&!r.ordinal&&r.count===0,p=r.context!==void 0&&(Et(r.context)||typeof r.context=="number")&&r.context!=="",g=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var y,b;this.isValidLookup(n)||(l=v,!AD[`${g[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(l))&&(AD[`${g[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${g.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(w=>{var N;if(this.isValidLookup(n))return;o=w;const _=[d];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,w,v,r);else{let S;h&&(S=this.pluralResolver.getSuffix(w,r.count,r));const k=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&S.indexOf(C)===0&&_.push(d+S.replace(C,this.options.pluralSeparator)),_.push(d+S),m&&_.push(d+k)),p){const E=`${d}${this.options.contextSeparator||"_"}${r.context}`;_.push(E),h&&(r.ordinal&&S.indexOf(C)===0&&_.push(E+S.replace(C,this.options.pluralSeparator)),_.push(E+S),m&&_.push(E+k))}}let j;for(;j=_.pop();)this.isValidLookup(n)||(s=j,n=this.getResource(w,v,j,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Et(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class PD{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zo.create("languageUtils")}getScriptPartFromCode(t){if(t=kg(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=kg(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Et(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Et(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Et(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Et(t)&&s(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&s(this.formatLanguageCode(o))}),a}}const OD={zero:0,one:1,two:2,few:3,many:4,other:5},DD={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class TJ{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=Zo.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=kg(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),DD;if(!t.match(/-|_/))return DD;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>OD[a]-OD[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const RD=(e,t,r,n=".",a=!0)=>{let s=bJ(e,t,r);return!s&&a&&Et(r)&&(s=IN(e,r,n),s===void 0&&(s=IN(t,r,n))),s},fS=e=>e.replace(/\$/g,"$$$$");class AJ{constructor(t={}){var r;this.logger=Zo.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=t.interpolation;this.escape=r!==void 0?r:_J,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?Uf(s):o||"{{",this.suffix=l?Uf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?Uf(h):m||Uf("$t("),this.nestingSuffix=p?Uf(p):g||Uf(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var m;let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const b=RD(r,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...a,...r,interpolationkey:p}):b}const g=p.split(this.formatSeparator),v=g.shift().trim(),y=g.join(this.formatSeparator).trim();return this.format(RD(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>fS(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?fS(this.escape(p)):fS(p)}].forEach(p=>{for(l=0;s=p.regex.exec(t);){const g=s[1].trim();if(o=u(g),o===void 0)if(typeof d=="function"){const y=d(t,s,a);o=Et(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,g))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),o="";else!Et(o)&&!this.useRawValueToEscape&&(o=ND(o));const v=p.safeValue(o);if(t=t.replace(s[0],v),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);const m=h.match(/'/g),p=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${d}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!Et(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),o),o),s&&a[0]===t&&!Et(s))return s;Et(s)||(s=ND(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const PJ=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},MD=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const o=n+JSON.stringify(s);let l=t[o];return l||(l=e(kg(n),a),t[o]=l),l(r)}},OJ=e=>(t,r,n)=>e(kg(r),n)(t);class DJ{constructor(t={}){this.logger=Zo.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?MD:OJ;this.formats={number:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s});return l=>o.format(l)}),currency:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>o.format(l)}),datetime:n((a,s)=>{const o=new Intl.DateTimeFormat(a,{...s});return l=>o.format(l)}),relativetime:n((a,s)=>{const o=new Intl.RelativeTimeFormat(a,{...s});return l=>o.format(l,s.range||"day")}),list:n((a,s)=>{const o=new Intl.ListFormat(a,{...s});return l=>o.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=MD(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=PJ(c);if(this.formats[u]){let h=l;try{const m=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},p=m.locale||m.lng||a.locale||a.lng||n;h=this.formats[u](l,p,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const RJ=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class MJ extends Mw{constructor(t,r,n,a={}){var s,o;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Zo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},o={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,d=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],o=a[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{yJ(c.loaded,[s],o),RJ(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,o)},s);return}o(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Et(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Et(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,a,s,o={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const m={...o,isUpdate:s},p=this.backend.create.bind(this.backend);if(p.length<6)try{let g;p.length===5?g=p(t,r,n,a,m):g=p(t,r,n,a),g&&typeof g.then=="function"?g.then(v=>l(null,v)).catch(l):l(null,g)}catch(g){l(g)}else p(t,r,n,a,l,m)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const FD=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Et(e[1])&&(t.defaultValue=e[1]),Et(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ID=e=>{var t,r;return Et(e.ns)&&(e.ns=[e.ns]),Et(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Et(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Yx=()=>{},FJ=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class $0 extends Mw{constructor(t={},r){if(super(),this.options=ID(t),this.services={},this.logger=Zo,this.modules={external:[]},FJ(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Et(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=FD();this.options={...n,...this.options,...ID(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Zo.init(a(this.modules.logger),this.options):Zo.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=DJ;const d=new PD(this.options);this.store=new TD(this.options.resources,this.options);const f=this.services;f.logger=Zo,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new TJ(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new AJ(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new MJ(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new P1(this.services,this.options),this.translator.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Yx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=Yp(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=Yx){var s,o;let n=r;const a=Et(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=Yp();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Yx),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&O6.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=Yp();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},o=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Et(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Et(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,n){const a=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=LN(f,{...this.options,...o})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=LN(s,{...this.options,...o})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Et(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(s,t)))}loadNamespaces(t,r){const n=Yp();return this.options.ns?(Et(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Yp();Et(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=a.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new PD(FD());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new $0(t,r);return n.createInstance=$0.createInstance,n}cloneInstance(t={},r=Yx){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new $0(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new TD(l,a),s.services.resourceStore=s.store}return s.translator=new P1(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const zr=$0.createInstance();zr.createInstance;zr.dir;zr.init;zr.loadResources;zr.reloadResources;zr.use;zr.changeLanguage;zr.getFixedT;zr.t;zr.exists;zr.setDefaultNamespace;zr.hasLoadedNamespace;zr.loadNamespaces;zr.loadLanguages;const IJ=(e,t,r,n)=>{var s,o,l,c;const a=[r,{code:t,...n||{}}];if((o=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&o.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);tf(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},LD={},R6=(e,t,r,n)=>{tf(r)&&LD[r]||(tf(r)&&(LD[r]=new Date),IJ(e,t,r,n))},M6=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},$N=(e,t,r)=>{e.loadNamespaces(t,M6(e,r))},$D=(e,t,r,n)=>{if(tf(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return $N(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,M6(e,n))},LJ=(e,t,r={})=>!t.languages||!t.languages.length?(R6(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),tf=e=>typeof e=="string",$J=e=>typeof e=="object"&&e!==null,BJ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,UJ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},zJ=e=>UJ[e],VJ=e=>e.replace(BJ,zJ);let BN={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:VJ};const WJ=(e={})=>{BN={...BN,...e}},HJ=()=>BN;let F6;const qJ=e=>{F6=e},GJ=()=>F6,KJ={type:"3rdParty",init(e){WJ(e.options.react),qJ(e)}},I6=x.createContext();class YJ{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var L6={exports:{}},$6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=x;function XJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QJ=typeof Object.is=="function"?Object.is:XJ,ZJ=hm.useState,JJ=hm.useEffect,eee=hm.useLayoutEffect,tee=hm.useDebugValue;function ree(e,t){var r=t(),n=ZJ({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return eee(function(){a.value=r,a.getSnapshot=t,hS(a)&&s({inst:a})},[e,r,t]),JJ(function(){return hS(a)&&s({inst:a}),e(function(){hS(a)&&s({inst:a})})},[e]),tee(r),r}function hS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!QJ(e,r)}catch{return!0}}function nee(e,t){return t()}var aee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nee:ree;$6.useSyncExternalStore=hm.useSyncExternalStore!==void 0?hm.useSyncExternalStore:aee;L6.exports=$6;var B6=L6.exports;const see=(e,t)=>tf(t)?t:$J(t)&&tf(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,iee={t:see,ready:!1},oee=()=>()=>{},Bt=(e,t={})=>{var S,k;const{i18n:r}=t,{i18n:n,defaultNS:a}=x.useContext(I6)||{},s=r||n||GJ();s&&!s.reportNamespaces&&(s.reportNamespaces=new YJ),s||R6(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=x.useMemo(()=>{var C;return{...HJ(),...(C=s==null?void 0:s.options)==null?void 0:C.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=o,u=x.useMemo(()=>{var E;const C=a||((E=s==null?void 0:s.options)==null?void 0:E.defaultNS);return tf(C)?[C]:C||["translation"]},[e,a,s]);(k=(S=s==null?void 0:s.reportNamespaces)==null?void 0:S.addUsedNamespaces)==null||k.call(S,u);const d=x.useRef(0),f=x.useCallback(C=>{if(!s)return oee;const{bindI18n:E,bindI18nStore:P}=o,T=()=>{d.current+=1,C()};return E&&s.on(E,T),P&&s.store.on(P,T),()=>{E&&E.split(" ").forEach(W=>s.off(W,T)),P&&P.split(" ").forEach(W=>s.store.off(W,T))}},[s,o]),h=x.useRef(),m=x.useCallback(()=>{if(!s)return iee;const C=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(U=>LJ(U,s,o)),E=t.lng||s.language,P=d.current,T=h.current;if(T&&T.ready===C&&T.lng===E&&T.keyPrefix===c&&T.revision===P)return T;const G={t:s.getFixedT(E,o.nsMode==="fallback"?u:u[0],c),ready:C,lng:E,keyPrefix:c,revision:P};return h.current=G,G},[s,u,c,o,t.lng]),[p,g]=x.useState(0),{t:v,ready:y}=B6.useSyncExternalStore(f,m,m);x.useEffect(()=>{if(s&&!y&&!l){const C=()=>g(E=>E+1);t.lng?$D(s,t.lng,u,C):$N(s,u,C)}},[s,t.lng,u,y,l,p]);const b=s||{},w=x.useRef(null),_=x.useRef(),j=C=>{const E=Object.getOwnPropertyDescriptors(C);E.__original&&delete E.__original;const P=Object.create(Object.getPrototypeOf(C),E);if(!Object.prototype.hasOwnProperty.call(P,"__original"))try{Object.defineProperty(P,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return P},N=x.useMemo(()=>{const C=b,E=C==null?void 0:C.language;let P=C;C&&(w.current&&w.current.__original===C?_.current!==E?(P=j(C),w.current=P,_.current=E):P=w.current:(P=j(C),w.current=P,_.current=E));const T=[v,P,y];return T.t=v,T.i18n=P,T.ready=y,T},[v,b,y,b.resolvedLanguage,b.language,b.languages]);if(s&&l&&!y)throw new Promise(C=>{const E=()=>C();t.lng?$D(s,t.lng,u,E):$N(s,u,E)});return N};function lee({i18n:e,defaultNS:t,children:r}){const n=x.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return x.createElement(I6.Provider,{value:n},r)}const cee={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",whatsapp:"WhatsApp",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions"},uee={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},dee={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},fee={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to access your account",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Logging in...",signInButton:"Login",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",noAccount:"Don't have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",welcomeBack:"Welcome Back",emailOrUsername:"Email / Username",enterEmail:"Enter your email",enterPassword:"Enter your password",companyCode:"Company Code",forgotPassword:"Forgot your password?",forgotPasswordDesc:"Please contact your administrator to reset your password.",loginSuccess:"Logged in successfully",loginFailed:"Failed to login. Please check your credentials.",loginFailedTitle:"Login Failed"},hee={welcome:"Welcome",loading:"Loading...",export:"Export",error:"Error",success:"Success",search:"Search",filter:"Filter",filters:"Filters",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},mee={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},pee={title:"Dashboard",subtitle:"Welcome to your CRM dashboard",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"active projects",clients:"Clients",totalClients:"total clients",teamMembers:"Team Members",activeUsers:"active users",leads:"Leads",totalLeads:"total leads",surveys:"Surveys",totalSurveys:"total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",noClient:"No client",mleadsTrend:"MLeads Trend (Last 30 Days)",recentMLeads:"Recent MLeads",companyName:"Company",contactPerson:"Contact Person",email:"Email",phone:"Phone",status:"Status",createdAt:"Created At",noMLeads:"No MLeads found",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},gee={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},vee={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},xee={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},yee={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},bee={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",loadingMembers:"Loading members...",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},wee={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},_ee={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},jee={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},See={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},Nee={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},kee={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Cee={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},Eee={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},Tee={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",surveyName:"Survey Name",bulkImport:"Bulk Import",selectTemplateForImport:"Select a template to import surveys into",uploadFile:"Upload your Excel file",reviewData:"Review and map your data",importingData:"Importing your data...",importInstructions:"Import Instructions:",importInstruction1:"File must be in Excel (.xlsx, .xls) or CSV format",importInstruction2:"First row should contain column headers",importInstruction3:"Column headers should match template field names",dragDropFile:"Drag and drop your file here, or",selectFile:"Select File",fileEmpty:"The uploaded file is empty",fileParseError:"Failed to parse the file. Please check the format and try again.",validationErrors:"Validation Errors Found",requiredFieldNotFound:"Required field {{field}} not found in file",requiredFieldNotMapped:"Required field {{field}} is not mapped",columnMapping:"Column Mapping",required:"Required",notMapped:"Not Mapped",optional:"Optional",noTemplateSelected:"No template selected",previewFirstRows:"Preview First {{count}} Rows",showingRows:"Showing {{shown}} of {{total}} rows",startImport:"Start Import",processingRows:"Processing",importSuccess:"Successfully imported {{count}} surveys",importFailed:"Failed to import surveys",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",setAsDefault:"Set as Default",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",noResponsesRecorded:"No responses recorded",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},Aee={company:"Company",city:"City",country:"Country",activity:"Activity",distributionCharts:"Distribution Charts",timeline:"Timeline",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",viewQuotation:"View Quotation",editLeadDescription:"Edit lead information and details",createLeadDescription:"Add a new lead to the system",leadDetailsDescription:"View and manage lead details and information",reports:"Reports",selectReport:"Select Report",leadsSummaryReport:"Leads Summary Report",leadsByCityReport:"Leads by City Report",leadsConversionReport:"Leads Conversion Report",salesPerformanceReport:"Sales Performance Report",leadsTrendReport:"Leads Trend Report",reportParameters:"Report Parameters",runReport:"Run Report",reportResults:"Report Results",records:"records",startDate:"Start Date",endDate:"End Date",totalLeads:"Total Leads",wonLeads:"Won Leads",lostLeads:"Lost Leads",leadsByCity:"Leads by City",salesPerformance:"Sales Performance",wonDeals:"Won Deals",lostDeals:"Lost Deals",pendingLeads:"Pending Leads",uploadQuotation:"Upload Quotation",description:"Description",decisionMaker:"Decision Maker",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},Pee={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},Oee={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},Dee={navigation:cee,buttons:uee,forms:dee,auth:fee,common:hee,status:mee,dashboard:pee,leads:gee,notes:vee,projects:xee,settings:yee,chat:bee,tickets:wee,teams:_ee,tasks:jee,landing:See,users:Nee,clients:kee,employeeDashboard:Cee,chats:Eee,surveys:Tee,mleads:Aee,mprojects:Pee,requests:Oee},Ree={home:"",dashboard:" ",projects:"",whatsapp:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:""},Mee={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},Fee={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},Iee={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",companyCode:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    ",emailOrUsername:"  /  ",enterEmail:"  ",enterPassword:"  ",loginSuccess:"   ",loginFailed:"  .    .",loginFailedTitle:"  "},Lee={welcome:"",retry:" ",comingSoon:"",loading:" ...",filters:"",export:"",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noRecordsFound:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",created:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" ",page:"",of:""},$ee={fillAllFields:"   ",required:"",invalidEmail:"   ",passwordTooShort:"   ",passwordsNotMatch:"   "},Bee={title:"   ",subtitle:"     ",comingSoonMessage:"       ."},Uee={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},zee={title:" ",noClient:"  ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},Vee={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},Wee={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},Hee={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},qee={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",loadingMembers:"  ...",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},Gee={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},Kee={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},Yee={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},Xee={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},Qee={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},Zee={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},Jee={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},ete={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},tte={title:"",subtitle:"    ",fileEmpty:" ",fileParseError:"   ",requiredFieldNotFound:"   : {{field}}",requiredFieldNotMapped:"   : {{field}}",importSuccess:"  {{count}}  ",importFailed:" ",selectTemplateForImport:"  ",uploadFile:"  Excel  CSV  ",reviewData:"   ",importingData:"  ...",importInstructions:" ",importInstruction1:"        ",importInstruction2:"       ",importInstruction3:" : Excel (.xlsx, .xls)  CSV",dragDropFile:"   ",selectFile:" ",validationErrors:" ",columnMapping:" ",required:"",notMapped:" ",optional:"",noTemplateSelected:"   ",previewFirstRows:" ( {{count}} )",showingRows:"  {{shown}}  {{total}} ",processingRows:" ",startImport:" ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",setAsDefault:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",noResponsesRecorded:"    ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},rte={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},nte={company:"",city:"",country:"",activity:"",distributionCharts:"  ",timeline:" ",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",viewQuotation:" ",editLeadDescription:"   ",createLeadDescription:"    ",leadDetailsDescription:"    ",reports:"",selectReport:" ",leadsSummaryReport:"   ",leadsByCityReport:"    ",leadsConversionReport:"   ",salesPerformanceReport:"  ",leadsTrendReport:"   ",reportParameters:" ",runReport:" ",reportResults:" ",records:"",allActivities:" ",allSystems:" ",startDate:" ",endDate:" ",totalLeads:"  ",wonLeads:" ",lostLeads:" ",leadsByCity:"   ",salesPerformance:" ",wonDeals:" ",lostDeals:" ",pendingLeads:"  ",uploadQuotation:" ",noContactsFound:"     ",allCountries:" ",allCities:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",decisionMaker:"  ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},ate={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},ste={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},ite={navigation:Ree,buttons:Mee,forms:Fee,auth:Iee,common:Lee,validation:$ee,partnerEmployeeDashboard:Bee,status:Uee,dashboard:zee,leads:Vee,notes:Wee,projects:Hee,chat:qee,tickets:Gee,teams:Kee,tasks:Yee,landing:Xee,users:Qee,clients:Zee,employeeDashboard:Jee,chats:ete,surveys:tte,settings:rte,mleads:nte,mprojects:ate,requests:ste},ote={en:{translation:Dee},ar:{translation:ite}};zr.use(KJ).init({resources:ote,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Oe=(e,t)=>{if(zr.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},dl=(e,t)=>{const r=zr.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},Xt=()=>zr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}var ou;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ou||(ou={}));const BD="popstate";function lte(e){e===void 0&&(e={});function t(a,s){let{pathname:o="/",search:l="",hash:c=""}=Sf(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),UN("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:O1(s))}function n(a,s){fT(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return ute(t,r,n,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cte(){return Math.random().toString(36).substr(2,8)}function UD(e,t){return{usr:e.state,key:e.key,idx:t}}function UN(e,t,r,n){return r===void 0&&(r=null),Cg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sf(t):t,{state:r,key:t&&t.key||n||cte()})}function O1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ute(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=ou.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Cg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ou.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:y})}function h(v,y){l=ou.Push;let b=UN(g.location,v,y);r&&r(b,v),u=d()+1;let w=UD(b,u),_=g.createHref(b);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}s&&c&&c({action:l,location:g.location,delta:1})}function m(v,y){l=ou.Replace;let b=UN(g.location,v,y);r&&r(b,v),u=d();let w=UD(b,u),_=g.createHref(b);o.replaceState(w,"",_),s&&c&&c({action:l,location:g.location,delta:0})}function p(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:O1(v);return b=b.replace(/ $/,"%20"),ln(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(BD,f),c=v,()=>{a.removeEventListener(BD,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return g}var zD;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zD||(zD={}));function dte(e,t,r){return r===void 0&&(r="/"),fte(e,t,r,!1)}function fte(e,t,r,n){let a=typeof t=="string"?Sf(t):t,s=hT(a.pathname||"/",r);if(s==null)return null;let o=U6(e);hte(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Ste(s);l=_te(o[c],u,n)}return l}function U6(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ln(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ju([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),U6(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:bte(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of z6(s.path))a(s,o,c)}),t}function z6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=z6(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function hte(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wte(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const mte=/^:[\w-]+$/,pte=3,gte=2,vte=1,xte=10,yte=-2,VD=e=>e==="*";function bte(e,t){let r=e.split("/"),n=r.length;return r.some(VD)&&(n+=yte),t&&(n+=gte),r.filter(a=>!VD(a)).reduce((a,s)=>a+(mte.test(s)?pte:s===""?vte:xte),n)}function wte(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function _te(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=WD({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=WD({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ju([s,f.pathname]),pathnameBase:Ete(ju([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=ju([s,f.pathnameBase]))}return o}function WD(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jte(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function jte(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Ste(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hT(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Nte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Sf(e):e;return{pathname:r?r.startsWith("/")?r:kte(r,t):t,search:Tte(n),hash:Ate(a)}}function kte(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function mS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cte(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mT(e,t){let r=Cte(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pT(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Sf(e):(a=Cg({},e),ln(!a.pathname||!a.pathname.includes("?"),mS("?","pathname","search",a)),ln(!a.pathname||!a.pathname.includes("#"),mS("#","pathname","hash",a)),ln(!a.search||!a.search.includes("#"),mS("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Nte(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ju=e=>e.join("/").replace(/\/\/+/g,"/"),Ete=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ate=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Pte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const V6=["post","put","patch","delete"];new Set(V6);const Ote=["get",...V6];new Set(Ote);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}const gT=x.createContext(null),Dte=x.createContext(null),Wu=x.createContext(null),Fw=x.createContext(null),bl=x.createContext({outlet:null,matches:[],isDataRoute:!1}),W6=x.createContext(null);function Rte(e,t){let{relative:r}=t===void 0?{}:t;dp()||ln(!1);let{basename:n,navigator:a}=x.useContext(Wu),{hash:s,pathname:o,search:l}=q6(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ju([n,o])),a.createHref({pathname:c,search:l,hash:s})}function dp(){return x.useContext(Fw)!=null}function wl(){return dp()||ln(!1),x.useContext(Fw).location}function H6(e){x.useContext(Wu).static||x.useLayoutEffect(e)}function Ms(){let{isDataRoute:e}=x.useContext(bl);return e?Xte():Mte()}function Mte(){dp()||ln(!1);let e=x.useContext(gT),{basename:t,future:r,navigator:n}=x.useContext(Wu),{matches:a}=x.useContext(bl),{pathname:s}=wl(),o=JSON.stringify(mT(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return H6(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=pT(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ju([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}const Fte=x.createContext(null);function Ite(e){let t=x.useContext(bl).outlet;return t&&x.createElement(Fte.Provider,{value:e},t)}function Lte(){let{matches:e}=x.useContext(bl),t=e[e.length-1];return t?t.params:{}}function q6(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Wu),{matches:a}=x.useContext(bl),{pathname:s}=wl(),o=JSON.stringify(mT(a,n.v7_relativeSplatPath));return x.useMemo(()=>pT(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function $te(e,t){return Bte(e,t)}function Bte(e,t,r,n){dp()||ln(!1);let{navigator:a}=x.useContext(Wu),{matches:s}=x.useContext(bl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=wl(),d;if(t){var f;let v=typeof t=="string"?Sf(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||ln(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=dte(e,{pathname:m}),g=Hte(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ju([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ju([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&g?x.createElement(Fw.Provider,{value:{location:Eg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ou.Pop}},g):g}function Ute(){let e=Yte(),t=Pte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const zte=x.createElement(Ute,null);class Vte extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(bl.Provider,{value:this.props.routeContext},x.createElement(W6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wte(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(gT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(bl.Provider,{value:t},n)}function Hte(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ln(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,p=!1,g=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||zte,c&&(u<0&&h===0?(p=!0,v=null):u===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let w;return m?w=g:p?w=v:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(Wte,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(Vte,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var G6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(G6||{}),D1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D1||{});function qte(e){let t=x.useContext(gT);return t||ln(!1),t}function Gte(e){let t=x.useContext(Dte);return t||ln(!1),t}function Kte(e){let t=x.useContext(bl);return t||ln(!1),t}function K6(e){let t=Kte(),r=t.matches[t.matches.length-1];return r.route.id||ln(!1),r.route.id}function Yte(){var e;let t=x.useContext(W6),r=Gte(D1.UseRouteError),n=K6(D1.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Xte(){let{router:e}=qte(G6.UseNavigateStable),t=K6(D1.UseNavigateStable),r=x.useRef(!1);return H6(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Eg({fromRouteId:t},s)))},[e,t])}function Qte(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wy(e){let{to:t,replace:r,state:n,relative:a}=e;dp()||ln(!1);let{future:s,static:o}=x.useContext(Wu),{matches:l}=x.useContext(bl),{pathname:c}=wl(),u=Ms(),d=pT(t,mT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function HD(e){return Ite(e.context)}function _r(e){ln(!1)}function Zte(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ou.Pop,navigator:s,static:o=!1,future:l}=e;dp()&&ln(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:Eg({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Sf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,g=x.useMemo(()=>{let v=hT(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:p},navigationType:a}},[c,d,f,h,m,p,a]);return g==null?null:x.createElement(Wu.Provider,{value:u},x.createElement(Fw.Provider,{children:r,value:g}))}function Jte(e){let{children:t,location:r}=e;return $te(zN(t),r)}new Promise(()=>{});function zN(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,zN(n.props.children,s));return}n.type!==_r&&ln(!1),!n.props.index||!n.props.children||ln(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=zN(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VN.apply(this,arguments)}function ere(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function tre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rre(e,t){return e.button===0&&(!t||t==="_self")&&!tre(e)}const nre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],are="6";try{window.__reactRouterVersion=are}catch{}const sre="startTransition",qD=gE[sre];function ire(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=lte({window:a,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&qD?qD(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>Qte(n),[n]),x.createElement(Zte,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const ore=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WN=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=ere(t,nre),{basename:m}=x.useContext(Wu),p,g=!1;if(typeof u=="string"&&lre.test(u)&&(p=u,ore))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=hT(_.pathname,m);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:g=!0}catch{}let v=Rte(u,{relative:a}),y=cre(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return x.createElement("a",VN({},h,{href:p||v,onClick:g||s?n:b,ref:r,target:c}))});var GD;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(GD||(GD={}));var KD;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(KD||(KD={}));function cre(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ms(),u=wl(),d=q6(e,{relative:o});return x.useCallback(f=>{if(rre(f,r)){f.preventDefault();let h=n!==void 0?n:O1(u)===O1(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function Tt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ns(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Va(e,t){const r=Tt(e);return isNaN(t)?Ns(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function yo(e,t){const r=Tt(e);if(isNaN(t))return Ns(e,NaN);if(!t)return r;const n=r.getDate(),a=Ns(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const vT=6048e5,ure=864e5,Xx=43200,YD=1440;let dre={};function fp(){return dre}function fl(e,t){var l,c,u,d;const r=fp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Tt(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function rf(e){return fl(e,{weekStartsOn:1})}function Y6(e){const t=Tt(e),r=t.getFullYear(),n=Ns(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=rf(n),s=Ns(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=rf(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function mm(e){const t=Tt(e);return t.setHours(0,0,0,0),t}function pm(e){const t=Tt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Jo(e,t){const r=mm(e),n=mm(t),a=+r-pm(r),s=+n-pm(n);return Math.round((a-s)/ure)}function fre(e){const t=Y6(e),r=Ns(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),rf(r)}function HN(e,t){const r=t*7;return Va(e,r)}function hre(e,t){return yo(e,t*12)}function mre(e){let t;return e.forEach(function(r){const n=Tt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function pre(e){let t;return e.forEach(r=>{const n=Tt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Hy(e,t){const r=Tt(e),n=Tt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function gre(e){return Ns(e,Date.now())}function vs(e,t){const r=mm(e),n=mm(t);return+r==+n}function xT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vre(e){if(!xT(e)&&typeof e!="number")return!1;const t=Tt(e);return!isNaN(Number(t))}function gm(e,t){const r=Tt(e),n=Tt(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function xre(e,t,r){const n=fl(e,r),a=fl(t,r),s=+n-pm(n),o=+a-pm(a);return Math.round((s-o)/vT)}function yre(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function bre(e,t){return+Tt(e)-+Tt(t)}function wre(e){const t=Tt(e);return t.setHours(23,59,59,999),t}function Iw(e){const t=Tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function _re(e){const t=Tt(e);return+wre(t)==+Iw(t)}function jre(e,t){const r=Tt(e),n=Tt(t),a=Hy(r,n),s=Math.abs(gm(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=Hy(r,n)===-a;_re(Tt(e))&&s===1&&Hy(e,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function Sre(e,t,r){const n=bre(e,t)/1e3;return yre(r==null?void 0:r.roundingMethod)(n)}function _s(e){const t=Tt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function X6(e){const t=Tt(e),r=Ns(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function yT(e,t){var l,c,u,d;const r=fp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Tt(e),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Q6(e){return yT(e,{weekStartsOn:1})}const Nre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kre=(e,t,r)=>{let n;const a=Nre[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Mh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Cre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ere={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Are={date:Mh({formats:Cre,defaultWidth:"full"}),time:Mh({formats:Ere,defaultWidth:"full"}),dateTime:Mh({formats:Tre,defaultWidth:"full"})},Pre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ore=(e,t,r,n)=>Pre[e];function Ko(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Dre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Rre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ire={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$re=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Bre={ordinalNumber:$re,era:Ko({values:Dre,defaultWidth:"wide"}),quarter:Ko({values:Rre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ko({values:Mre,defaultWidth:"wide"}),day:Ko({values:Fre,defaultWidth:"wide"}),dayPeriod:Ko({values:Ire,defaultWidth:"wide",formattingValues:Lre,defaultFormattingWidth:"wide"})};function Yo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?zre(l,f=>f.test(o)):Ure(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Ure(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function zre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Z6(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Vre=/^(\d+)(th|st|nd|rd)?/i,Wre=/\d+/i,Hre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qre={any:[/^b/i,/^(a|c)/i]},Gre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Kre={any:[/1/i,/2/i,/3/i,/4/i]},Yre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ene={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tne={ordinalNumber:Z6({matchPattern:Vre,parsePattern:Wre,valueCallback:e=>parseInt(e,10)}),era:Yo({matchPatterns:Hre,defaultMatchWidth:"wide",parsePatterns:qre,defaultParseWidth:"any"}),quarter:Yo({matchPatterns:Gre,defaultMatchWidth:"wide",parsePatterns:Kre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yo({matchPatterns:Yre,defaultMatchWidth:"wide",parsePatterns:Xre,defaultParseWidth:"any"}),day:Yo({matchPatterns:Qre,defaultMatchWidth:"wide",parsePatterns:Zre,defaultParseWidth:"any"}),dayPeriod:Yo({matchPatterns:Jre,defaultMatchWidth:"any",parsePatterns:ene,defaultParseWidth:"any"})},bT={code:"en-US",formatDistance:kre,formatLong:Are,formatRelative:Ore,localize:Bre,match:tne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rne(e){const t=Tt(e);return Jo(t,X6(t))+1}function J6(e){const t=Tt(e),r=+rf(t)-+fre(t);return Math.round(r/vT)+1}function eB(e,t){var d,f,h,m;const r=Tt(e),n=r.getFullYear(),a=fp(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ns(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=fl(o,t),c=Ns(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=fl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function nne(e,t){var l,c,u,d;const r=fp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=eB(e,t),s=Ns(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),fl(s,t)}function tB(e,t){const r=Tt(e),n=+fl(r,t)-+nne(r,t);return Math.round(n/vT)+1}function xr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Pc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return xr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):xr(r+1,2)},d(e,t){return xr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return xr(e.getHours()%12||12,t.length)},H(e,t){return xr(e.getHours(),t.length)},m(e,t){return xr(e.getMinutes(),t.length)},s(e,t){return xr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return xr(a,t.length)}},zf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XD={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Pc.y(e,t)},Y:function(e,t,r,n){const a=eB(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return xr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):xr(s,t.length)},R:function(e,t){const r=Y6(e);return xr(r,t.length)},u:function(e,t){const r=e.getFullYear();return xr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return xr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return xr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Pc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return xr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=tB(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):xr(a,t.length)},I:function(e,t,r){const n=J6(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):xr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Pc.d(e,t)},D:function(e,t,r){const n=rne(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):xr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return xr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return xr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return xr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=zf.noon:n===0?a=zf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=zf.evening:n>=12?a=zf.afternoon:n>=4?a=zf.morning:a=zf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Pc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Pc.s(e,t)},S:function(e,t){return Pc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ZD(n);case"XXXX":case"XX":return ud(n);case"XXXXX":case"XXX":default:return ud(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ZD(n);case"xxxx":case"xx":return ud(n);case"xxxxx":case"xxx":default:return ud(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+QD(n,":");case"OOOO":default:return"GMT"+ud(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+QD(n,":");case"zzzz":default:return"GMT"+ud(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return xr(n,t.length)},T:function(e,t,r){const n=e.getTime();return xr(n,t.length)}};function QD(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+xr(s,2)}function ZD(e,t){return e%60===0?(e>0?"-":"+")+xr(Math.abs(e)/60,2):ud(e,t)}function ud(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=xr(Math.trunc(n/60),2),s=xr(n%60,2);return r+a+t+s}const JD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},rB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ane=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return JD(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",JD(n,t)).replace("{{time}}",rB(a,t))},sne={p:rB,P:ane},ine=/^D+$/,one=/^Y+$/,lne=["D","DD","YY","YYYY"];function cne(e){return ine.test(e)}function une(e){return one.test(e)}function dne(e,t,r){const n=fne(e,t,r);if(console.warn(n),lne.includes(e))throw new RangeError(n)}function fne(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pne=/^'([^]*?)'?$/,gne=/''/g,vne=/[a-zA-Z]/;function rs(e,t,r){var d,f,h,m,p,g,v,y;const n=fp(),a=(r==null?void 0:r.locale)??n.locale??bT,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Tt(e);if(!vre(l))throw new RangeError("Invalid time value");let c=t.match(mne).map(b=>{const w=b[0];if(w==="p"||w==="P"){const _=sne[w];return _(b,a.formatLong)}return b}).join("").match(hne).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:xne(b)};if(XD[w])return{isToken:!0,value:b};if(w.match(vne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&une(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&cne(w))&&dne(w,t,String(e));const _=XD[w[0]];return _(l,w,a.localize,u)}).join("")}function xne(e){const t=e.match(pne);return t?t[1].replace(gne,"'"):e}function yne(e,t,r){const n=fp(),a=(r==null?void 0:r.locale)??n.locale??bT,s=2520,o=Hy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Tt(t),u=Tt(e)):(c=Tt(e),u=Tt(t));const d=Sre(u,c),f=(pm(u)-pm(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<YD){const p=Math.round(h/60);return a.formatDistance("aboutXHours",p,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<Xx){const p=Math.round(h/YD);return a.formatDistance("xDays",p,l)}else if(h<Xx*2)return m=Math.round(h/Xx),a.formatDistance("aboutXMonths",m,l)}if(m=jre(u,c),m<12){const p=Math.round(h/Xx);return a.formatDistance("xMonths",p,l)}else{const p=m%12,g=Math.trunc(m/12);return p<3?a.formatDistance("aboutXYears",g,l):p<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function bne(e,t){return yne(e,gre(e),t)}function wne(e){const t=Tt(e),r=t.getFullYear(),n=t.getMonth(),a=Ns(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function _ne(e){return Math.trunc(+Tt(e)/1e3)}function jne(e){const t=Tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Sne(e,t){return xre(jne(e),_s(e),t)+1}function qN(e,t){const r=Tt(e),n=Tt(t);return r.getTime()>n.getTime()}function nB(e,t){const r=Tt(e),n=Tt(t);return+r<+n}function wT(e,t){const r=Tt(e),n=Tt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Nne(e,t){const r=Tt(e),n=Tt(t);return r.getFullYear()===n.getFullYear()}function pS(e,t){return Va(e,-t)}function gS(e,t){const r=Tt(e),n=r.getFullYear(),a=r.getDate(),s=Ns(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const o=wne(s);return r.setMonth(t,Math.min(a,o)),r}function eR(e,t){const r=Tt(e);return isNaN(+r)?Ns(e,NaN):(r.setFullYear(t),r)}function tR(e){if(!e)return e;if(typeof e=="string")try{const t=new Date(e);return isNaN(t.getTime())?e:rs(t,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?rs(e,"yyyy-MM-dd HH:mm:ss"):e}function GN(e){if(e==null)return e;if(e instanceof Date)return tR(e);if(Array.isArray(e))return e.map(t=>GN(t));if(typeof e=="object"){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r.toLowerCase().includes("date")||r.toLowerCase().includes("time")?t[r]=tR(e[r]):t[r]=GN(e[r]));return t}return e}const kne="https://api.middar.com";async function Fc(e,t={}){const r={"Content-Type":"application/json",...t.headers},n=localStorage.getItem("authToken");n&&(r.Authorization=`Bearer ${n}`);try{let a=t.body;if(a&&typeof a=="string")try{const l=JSON.parse(a),c=GN(l);a=JSON.stringify(c)}catch(l){console.warn("Failed to parse request body for date formatting",l)}console.log(`API Request: ${t.method||"GET"} ${e}`,a?JSON.parse(a):null);const s=await fetch(`${kne}${e}`,{...t,headers:r,body:a});let o;try{const l=await s.text();o=l?JSON.parse(l):{}}catch(l){console.error("Failed to parse API response:",l),o={}}if(!s.ok){const l={status:s.status,statusText:s.statusText,url:e,headers:Object.fromEntries(s.headers.entries()),response:o,requestBody:t.body?JSON.parse(t.body):null};console.error("API Error Details:",JSON.stringify(l,null,2));let c="Something went wrong";o&&typeof o=="object"?c=o.message||o.error||JSON.stringify(o):o&&(c=String(o));const u=new Error(c);throw u.status=s.status,u.response=o,u.details=l,u}return o}catch(a){throw console.error("API Request Failed:",{endpoint:e,error:a.message,stack:a.stack}),a}}const Y={get:(e,t,r)=>{const n=new URLSearchParams(r).toString();return Fc(`/api/v1/get/${e}/${t}${n?`?${n}`:""}`)},list:async(e,t={})=>{const r={...t},n=["m_leads","m_projects","tasks","tickets"];r.sort_by||(r.sort_by="created_at",r.sort_order=n.includes(e)?"DESC":"ASC");let a="";if(r.exact_filters&&(a=typeof r.exact_filters=="string"?r.exact_filters:JSON.stringify(r.exact_filters),delete r.exact_filters),r.advanced_filters&&typeof r.advanced_filters=="string")try{JSON.parse(r.advanced_filters)}catch{delete r.advanced_filters}else r.advanced_filters&&(r.advanced_filters=JSON.stringify(r.advanced_filters));const s=new URLSearchParams;Object.entries(r).forEach(([c,u])=>{u!=null&&s.append(c,u.toString())});const o=a?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(a)}&${s.toString()}`:s.toString()?`/api/v1/${e}/list?${s.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",o);const l=await Fc(o);return{data:l.data||[],total:l.totalRows||0,page:(l.page||1)-1,pageSize:l.totalRows||0}},count:async(e,t={})=>{try{return(await Y.list(e,{...t,pageSize:1})).total||0}catch{return console.warn(`Count failed for ${e}, returning 0`),0}},create:(e,t)=>e==="messages"?Fc(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}):Fc(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>Fc(`/api/v1/update/${e}/${t}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>Fc(`/api/v1/delete/${e}/${t}`,{method:"DELETE"}),getAggregates:async(e,t={})=>{try{console.log("[API] Getting aggregates for tables:",e);const r=e.map(async s=>{try{const l={m_projects:"m_projects",m_leads:"m_leads",clients:"Users",users:"Users",surveys:"surveys",tasks:"tasks"}[s]||s,u=(await Y.list(l,{pageSize:1})).total||0;return console.log(`[API] Got count for ${s} (${l}):`,u),{[s]:{Count:u}}}catch(o){return console.warn(`[API] Count failed for ${s}, using fallback:`,o),{[s]:{Count:0}}}}),a=(await Promise.all(r)).reduce((s,o)=>({...s,...o}),{});return console.log("[API] Combined aggregates result:",a),a}catch(r){return console.error("[API] Failed to get aggregates:",r),{}}},auth:{login:async e=>Fc("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions:{list:(e={})=>Y.list("permissions",e),get:e=>Y.get("permissions",e),create:e=>Y.create("permissions",e),update:(e,t)=>Y.update("permissions",e,t),delete:e=>Y.delete("permissions",e)},comments:{list:(e={})=>Y.list("comments",e),get:e=>Y.get("comments",e),create:e=>Y.create("comments",e),update:(e,t)=>Y.update("comments",e,t),delete:e=>Y.delete("comments",e)},leads:{list:(e={})=>Y.list("leads",e),get:e=>Y.get("leads",e),create:e=>Y.create("leads",e),update:(e,t)=>Y.update("leads",e,t),delete:e=>Y.delete("leads",e)},mAction:{list:(e={})=>Y.list("m_action",e),get:e=>Y.get("m_action",e),create:e=>Y.create("m_action",e),update:(e,t)=>Y.update("m_action",e,t),delete:e=>Y.delete("m_action",e)},mActivity:{list:(e={})=>Y.list("m_activity",e),get:e=>Y.get("m_activity",e),create:e=>Y.create("m_activity",e),update:(e,t)=>Y.update("m_activity",e,t),delete:e=>Y.delete("m_activity",e)},messages:{list:(e={})=>Y.list("messages",e),get:e=>Y.get("messages",e),create:e=>Y.create("messages",e),update:(e,t)=>Y.update("messages",e,t),delete:e=>Y.delete("messages",e)},mContacts:{list:(e={})=>Y.list("m_contacts",e),get:e=>Y.get("m_contacts",e),create:e=>Y.create("m_contacts",e),update:(e,t)=>Y.update("m_contacts",e,t),delete:e=>Y.delete("m_contacts",e)},mCountry:{list:(e={})=>Y.list("m_country",e),get:e=>Y.get("m_country",e),create:e=>Y.create("m_country",e),update:(e,t)=>Y.update("m_country",e,t),delete:e=>Y.delete("m_country",e)},mCity:{list:(e={})=>Y.list("m_city",e),get:e=>Y.get("m_city",e),create:e=>Y.create("m_city",e),update:(e,t)=>Y.update("m_city",e,t),delete:e=>Y.delete("m_city",e),getByCountry:(e,t={})=>Y.list("m_city",{...t,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>Y.list("m_jobtitle",e),get:e=>Y.get("m_jobtitle",e),create:e=>Y.create("m_jobtitle",e),update:(e,t)=>Y.update("m_jobtitle",e,t),delete:e=>Y.delete("m_jobtitle",e)},mLeads:{list:(e={})=>Y.list("m_leads",e),get:e=>Y.get("m_leads",e),create:e=>Y.create("m_leads",e),update:(e,t)=>Y.update("m_leads",e,t),delete:e=>Y.delete("m_leads",e),getByStage:(e,t={})=>Y.list("m_leads",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>Y.list("m_leads",{...t,exact_filters:{assigned_to:e}}),getByStatus:(e,t={})=>Y.list("m_leads",{...t,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>Y.list("m_system",e),get:e=>Y.get("m_system",e),create:e=>Y.create("m_system",e),update:(e,t)=>Y.update("m_system",e,t),delete:e=>Y.delete("m_system",e)},mLeadsTrans:{list:(e={})=>Y.list("m_leads_trans",e),get:e=>Y.get("m_leads_trans",e),create:e=>Y.create("m_leads_trans",e),update:(e,t)=>Y.update("m_leads_trans",e,t),delete:e=>Y.delete("m_leads_trans",e),getByLead:(e,t={})=>Y.list("m_leads_trans",{...t,exact_filters:{leads_id:e}}),getByUser:(e,t={})=>Y.list("m_leads_trans",{...t,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>Y.list("m_projects",e),get:e=>Y.get("m_projects",e),create:e=>Y.create("m_projects",e),update:(e,t)=>Y.update("m_projects",e,t),delete:e=>Y.delete("m_projects",e)},mStatus:{list:(e={})=>Y.list("m_status",e),get:e=>Y.get("m_status",e),create:e=>Y.create("m_status",e),update:(e,t)=>Y.update("m_status",e,t),delete:e=>Y.delete("m_status",e)},notes:{list:(e={})=>Y.list("notes",e),get:e=>Y.get("notes",e),create:e=>Y.create("notes",e),update:(e,t)=>Y.update("notes",e,t),delete:e=>Y.delete("notes",e),getByRelated:(e,t,r={})=>Y.list("notes",{...r,exact_filters:{related_to_type:e,related_to_id:t}})},partnerApply:{list:(e={})=>Y.list("partner_apply",e),get:e=>Y.get("partner_apply",e),create:e=>Y.create("partner_apply",e),update:(e,t)=>Y.update("partner_apply",e,t),delete:e=>Y.delete("partner_apply",e),getPending:(e={})=>Y.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,t={})=>Y.list("partner_apply",{...t,exact_filters:{status:e}})},projectUsers:{list:(e={})=>Y.list("project_users",e),get:e=>Y.get("project_users",e),create:e=>Y.create("project_users",e),update:(e,t)=>Y.update("project_users",e,t),delete:e=>Y.delete("project_users",e),getByProject:(e,t={})=>Y.list("project_users",{...t,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>Y.list("project_images",e),get:e=>Y.get("project_images",e),create:e=>Y.create("project_images",e),update:(e,t)=>Y.update("project_images",e,t),delete:e=>Y.delete("project_images",e),getByProject:(e,t={})=>Y.list("project_images",{...t,exact_filters:{project_id:e}})},projects:{list:(e={})=>Y.list("projects",e),get:e=>Y.get("projects",e),create:e=>Y.create("projects",e),update:(e,t)=>Y.update("projects",e,t),delete:e=>Y.delete("projects",e),getByStage:(e,t={})=>Y.list("projects",{...t,exact_filters:{stage:e}}),getByLead:(e,t={})=>Y.list("projects",{...t,exact_filters:{lead_id:e}})},requests:{list:(e={})=>Y.list("requests_crm",e),get:e=>Y.get("requests_crm",e),create:e=>Y.create("requests_crm",e),update:(e,t)=>Y.update("requests_crm",e,t),delete:e=>Y.delete("requests_crm",e)},rooms:{list:(e={})=>Y.list("rooms",e),get:e=>Y.get("rooms",e),create:e=>Y.create("rooms",e),update:(e,t)=>Y.update("rooms",e,t),delete:e=>Y.delete("rooms",e),getByProject:(e,t={})=>Y.list("rooms",{...t,exact_filters:{project_id:e}}),getByTeam:(e,t={})=>Y.list("rooms",{...t,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>Y.list("room_members",e),get:e=>Y.get("room_members",e),create:e=>Y.create("room_members",e),update:(e,t)=>Y.update("room_members",e,t),delete:e=>Y.delete("room_members",e),getByRoom:(e,t={})=>Y.list("room_members",{...t,exact_filters:{room_id:e}})},stages:{list:(e={})=>Y.list("stages",e),get:e=>Y.get("stages",e),create:e=>Y.create("stages",e),update:(e,t)=>Y.update("stages",e,t),delete:e=>Y.delete("stages",e)},tasks:{list:(e={})=>Y.list("tasks",e),get:e=>Y.get("tasks",e),create:e=>Y.create("tasks",e),update:(e,t)=>Y.update("tasks",e,t),delete:e=>Y.delete("tasks",e),getByStage:(e,t={})=>Y.list("tasks",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>Y.list("tasks",{...t,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>Y.list("survey_templates",e),get:e=>Y.get("survey_templates",e),create:e=>Y.create("survey_templates",e),update:(e,t)=>Y.update("survey_templates",e,t),delete:e=>Y.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>Y.list("survey_template_fields",e),get:e=>Y.get("survey_template_fields",e),create:e=>Y.create("survey_template_fields",e),update:(e,t)=>Y.update("survey_template_fields",e,t),delete:e=>Y.delete("survey_template_fields",e),getByTemplate:(e,t={})=>Y.list("survey_template_fields",{...t,exact_filters:{template_id:e}})},surveys:{list:(e={})=>Y.list("surveys",e),get:e=>Y.get("surveys",e),create:e=>Y.create("surveys",e),update:(e,t)=>Y.update("surveys",e,t),delete:e=>Y.delete("surveys",e)},teams:{list:(e={})=>Y.list("teams",e),get:e=>Y.get("teams",e),create:e=>Y.create("teams",e),update:(e,t)=>Y.update("teams",e,t),delete:e=>Y.delete("teams",e)},teamMembers:{list:(e={})=>Y.list("team_members",e),get:e=>Y.get("team_members",e),create:e=>{const{team_id:t,user_id:r,userid:n,...a}=e??{},s={...a};t!==void 0&&(s.team_id=t);const o=r??(n!==void 0?Number(n):void 0);return o!==void 0&&!Number.isNaN(o)&&(s.user_id=o),Y.create("team_members",s)},update:(e,t)=>Y.update("team_members",e,t),delete:e=>Y.delete("team_members",e),getByTeam:(e,t={})=>Y.list("team_members",{...t,exact_filters:{team_id:e}})},tickets:{list:(e={})=>Y.list("tickets",e),get:e=>Y.get("tickets",e),create:e=>Y.create("tickets",e),update:(e,t)=>Y.update("tickets",e,t),delete:e=>Y.delete("tickets",e),getByStatus:(e,t={})=>Y.list("tickets",{...t,exact_filters:{status:e}}),getByStage:(e,t={})=>Y.list("tickets",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>Y.list("tickets",{...t,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>Y.list("Users",e),get:e=>Y.get("Users",e),create:e=>Y.create("Users",e),update:(e,t)=>Y.update("Users",e,t),delete:e=>Y.delete("Users",e)},whatsappConversations:{list:(e={})=>Y.list("whatsapp_conversations",e),get:e=>Y.get("whatsapp_conversations",e),create:e=>Y.create("whatsapp_conversations",e),update:(e,t)=>Y.update("whatsapp_conversations",e,t),delete:e=>Y.delete("whatsapp_conversations",e),getByLead:(e,t={})=>Y.list("whatsapp_conversations",{...t,exact_filters:{lead_id:e}}),getByUser:(e,t={})=>Y.list("whatsapp_conversations",{...t,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>Y.list("whatsapp_messages",e),get:e=>Y.get("whatsapp_messages",e),create:e=>Y.create("whatsapp_messages",e),update:(e,t)=>Y.update("whatsapp_messages",e,t),delete:e=>Y.delete("whatsapp_messages",e),getByConversation:(e,t={})=>Y.list("whatsapp_messages",{...t,exact_filters:{conversation_id:e}})}};let vS=null,Vf=null;async function _T(){return vS||Vf||(Vf=Y.permissions.list().then(e=>{const t=e.data||[];return vS=t,Vf=null,t}).catch(e=>(Vf=null,console.error("Failed to fetch permissions:",e),[])),Vf)}const aB=x.createContext(void 0),Cne=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[s,o]=x.useState(!0);x.useEffect(()=>{(()=>{try{const h=localStorage.getItem("authToken"),m=localStorage.getItem("authUser");if(h&&m){const p=JSON.parse(m);if(p&&p.role&&(p.role=p.role.toLowerCase()),!p.permissions_permissions_Name)if(p.profile&&p.profile.permissions_permissions_Name)p.permissions_permissions_Name=p.profile.permissions_permissions_Name;else if(p.profile&&p.profile.permissions){const g=p.profile.permissions,v={1:"admin",2:"manager",3:"employee",4:"team_leader",5:"partner_employee",6:"partner_leader"};v[g]&&(p.permissions_permissions_Name=v[g],p.role=v[g])}else p.isAdmin===1&&(p.permissions_permissions_Name="admin",p.role="admin");a(h),r(p)}}catch(h){console.error("Failed to parse stored auth data:",h),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{o(!1)}})()},[]);const l=x.useCallback(async(f,h)=>{a(f),localStorage.setItem("authToken",f);try{await new Promise(v=>setTimeout(v,100)),await _T()}catch(v){console.warn("Failed to preload permissions:",v)}let m=h;try{let v=null;try{v=await Y.list("Users",{exact_filters:{userid:h.id},pageSize:1})}catch{const b=await fetch(`https://api.middar.com/api/v1/Users/list?exact_filters=${encodeURIComponent(JSON.stringify({userid:h.id}))}&pageSize=1`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});b.ok&&(v=await b.json())}v&&v.data&&v.data.length>0&&(m=v.data[0])}catch(v){console.warn("Failed to fetch full user profile, using basic login data:",v)}let p="employee";if(m.permissions_permissions_Name){const v=m.permissions_permissions_Name.toLowerCase();v==="admin"?p="admin":v==="manager"?p="manager":v==="employee"?p="employee":v==="team_leader"?p="team_leader":v==="partner_employee"?p="partner_employee":v==="partner_leader"?p="partner_leader":p="employee"}else m.isAdmin===1&&(p="admin");const g={id:m.userid||m.id||"unknown",email:m.Email||m.email||h.email||"",role:p,profile:m,userid:m.userid||0,permissions:m.permissions||0,permissions_permissions_Name:m.permissions_permissions_Name||"",Employee:m.Employee||0,AccountNumber:m.AccountNumber||null,mobile:m.mobile||null,Owner:m.Owner||0,Email_v:m.Email_v||0,IsActive:m.IsActive||0,user_pasword:m.user_pasword||"",name:m.name||h.name||"",Email:m.Email||m.email||h.email||"",pin:m.pin||null,isAllBranches:m.isAllBranches||0,Safe:m.Safe||0,reset_code:m.reset_code||null,reset_expires:m.reset_expires||"",reset_used:m.reset_used||0,isAdmin:m.isAdmin||0};r(g),localStorage.setItem("authUser",JSON.stringify(g)),await new Promise(v=>setTimeout(v,50))},[]),c=x.useCallback(()=>{a(null),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),u=x.useCallback(f=>!t||!t.role?!1:f.includes(t.role),[t]),d=x.useMemo(()=>({user:t,token:n,isAuthenticated:!!t&&!!n,loading:s,login:l,logout:c,hasRole:u}),[t,n,s,l,c,u]);return i.jsx(aB.Provider,{value:d,children:e})},pr=()=>{const e=x.useContext(aB);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},sB=x.createContext(void 0),Ene=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],Tne=({children:e})=>{const[t,r]=x.useState(zr.language||"ar"),[n,a]=x.useState(Xt());x.useEffect(()=>{const l=c=>{r(c),a(Xt())};return zr.on("languageChanged",l),()=>{zr.off("languageChanged",l)}},[]);const o={currentLanguage:t,changeLanguage:async l=>{try{await zr.changeLanguage(l),r(l),a(Xt())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:Ene};return i.jsx(sB.Provider,{value:o,children:e})},Ma=()=>{const e=x.useContext(sB);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},iB=x.createContext(void 0);function Ane({children:e}){const[t,r]=x.useState([]);return i.jsx(iB.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function Iv(){const e=x.useContext(iB);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var R1=["light","dark"],jT="(prefers-color-scheme: dark)",Pne=typeof window>"u",ST=x.createContext(void 0),One={setTheme:e=>{},themes:[]},Dne=()=>{var e;return(e=x.useContext(ST))!=null?e:One},oB=e=>x.useContext(ST)?e.children:x.createElement(Mne,{...e}),Rne=["light","dark"],Mne=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=Rne,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=x.useState(()=>rR(a,o)),[m,p]=x.useState(()=>rR(a)),g=c?Object.values(c):s,v=x.useCallback(_=>{let j=_;if(!j)return;_==="system"&&r&&(j=nR());let N=c?c[j]:j,S=t?Ine():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...g),N&&k.classList.add(N)):N?k.setAttribute(l,N):k.removeAttribute(l),n){let C=R1.includes(o)?o:null,E=R1.includes(j)?j:C;k.style.colorScheme=E}S==null||S()},[]),y=x.useCallback(_=>{let j=typeof _=="function"?_(_):_;h(j);try{localStorage.setItem(a,j)}catch{}},[e]),b=x.useCallback(_=>{let j=nR(_);p(j),f==="system"&&r&&!e&&v("system")},[f,e]);x.useEffect(()=>{let _=window.matchMedia(jT);return _.addListener(b),b(_),()=>_.removeListener(b)},[b]),x.useEffect(()=>{let _=j=>{if(j.key!==a)return;let N=j.newValue||o;y(N)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),x.useEffect(()=>{v(e??f)},[e,f]);let w=x.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,y,e,m,r,s]);return x.createElement(ST.Provider,{value:w},x.createElement(Fne,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:o,attribute:l,value:c,children:u,attrs:g,nonce:d}),u)},Fne=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?R1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,g=!1,v=!0)=>{let y=o?o[p]:p,b=g?p+"|| ''":`'${y}'`,w="";return a&&v&&!g&&R1.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),r==="class"?g||y?w+=`c.add(${b})`:w+="null":y&&(w+=`d[s](n,${b})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${jT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),rR=(e,t)=>{if(Pne)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Ine=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},nR=e=>(e||(e=window.matchMedia(jT)),e.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $ne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...$ne,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:lB("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(Bne,{ref:s,iconNode:t,className:lB(`lucide-${Lne(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=Ye("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=Ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=Ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Ye("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=Ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=Ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ye("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=Ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=Ye("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=Ye("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=Ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=Ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Ye("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=Ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=Ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=Ye("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=Ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=Ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=Ye("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=Ye("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=Ye("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=Ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=Ye("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Ye("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=Ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=Ye("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=Ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=Ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=Ye("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Ye("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=Ye("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=Ye("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=Ye("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=Ye("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=Ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function mB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=mB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=mB(e))&&(n&&(n+=" "),n+=t);return n}const CT="-",_ae=e=>{const t=Sae(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(CT);return l[0]===""&&l.length!==1&&l.shift(),pB(l,t)||jae(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},pB=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?pB(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(CT);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},uR=/^\[(.+)\]$/,jae=e=>{if(uR.test(e)){const t=uR.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Sae=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return kae(Object.entries(e.classGroups),r).forEach(([s,o])=>{XN(o,n,s,t)}),n},XN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:dR(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Nae(a)){XN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{XN(o,dR(t,s),r,n)})})},dR=(e,t)=>{let r=e;return t.split(CT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Nae=e=>e.isThemeGetter,kae=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,Cae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},gB="!",Eae=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(gB),p=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Tae=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Aae=e=>({cache:Cae(e.cacheSize),parseClassName:Eae(e),..._ae(e)}),Pae=/\s+/,Oae=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(Pae);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let p=!!m,g=n(p?h.substring(0,m):h);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const v=Tae(d).join(":"),y=f?v+gB:v,b=y+g;if(s.includes(b))continue;s.push(b);const w=a(g,p);for(let _=0;_<w.length;++_){const j=w[_];s.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function Dae(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=vB(t))&&(n&&(n+=" "),n+=r);return n}const vB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=vB(e[n]))&&(r&&(r+=" "),r+=t);return r};function Rae(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Aae(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Oae(c,r);return a(c,d),d}return function(){return s(Dae.apply(null,arguments))}}const Pr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},xB=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mae=/^\d+\/\d+$/,Fae=new Set(["px","full","screen"]),Iae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$ae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Bae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Uae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ol=e=>Ih(e)||Fae.has(e)||Mae.test(e),Oc=e=>hp(e,"length",Yae),Ih=e=>!!e&&!Number.isNaN(Number(e)),xS=e=>hp(e,"number",Ih),Xp=e=>!!e&&Number.isInteger(Number(e)),zae=e=>e.endsWith("%")&&Ih(e.slice(0,-1)),Lt=e=>xB.test(e),Dc=e=>Iae.test(e),Vae=new Set(["length","size","percentage"]),Wae=e=>hp(e,Vae,yB),Hae=e=>hp(e,"position",yB),qae=new Set(["image","url"]),Gae=e=>hp(e,qae,Qae),Kae=e=>hp(e,"",Xae),Qp=()=>!0,hp=(e,t,r)=>{const n=xB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Yae=e=>Lae.test(e)&&!$ae.test(e),yB=()=>!1,Xae=e=>Bae.test(e),Qae=e=>Uae.test(e),Zae=()=>{const e=Pr("colors"),t=Pr("spacing"),r=Pr("blur"),n=Pr("brightness"),a=Pr("borderColor"),s=Pr("borderRadius"),o=Pr("borderSpacing"),l=Pr("borderWidth"),c=Pr("contrast"),u=Pr("grayscale"),d=Pr("hueRotate"),f=Pr("invert"),h=Pr("gap"),m=Pr("gradientColorStops"),p=Pr("gradientColorStopPositions"),g=Pr("inset"),v=Pr("margin"),y=Pr("opacity"),b=Pr("padding"),w=Pr("saturate"),_=Pr("scale"),j=Pr("sepia"),N=Pr("skew"),S=Pr("space"),k=Pr("translate"),C=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Lt,t],T=()=>[Lt,t],W=()=>["",Ol,Oc],G=()=>["auto",Ih,Lt],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Lt],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Ih,Lt];return{cacheSize:500,separator:":",theme:{colors:[Qp],spacing:[Ol,Oc],blur:["none","",Dc,Lt],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Dc,Lt],borderSpacing:T(),borderWidth:W(),contrast:Q(),grayscale:I(),hueRotate:Q(),invert:I(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[zae,Oc],inset:P(),margin:P(),opacity:Q(),padding:T(),saturate:Q(),scale:Q(),sepia:I(),skew:Q(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[Dc]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Lt]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xp,Lt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Xp,Lt]}],"grid-cols":[{"grid-cols":[Qp]}],"col-start-end":[{col:["auto",{span:["full",Xp,Lt]},Lt]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Qp]}],"row-start-end":[{row:["auto",{span:[Xp,Lt]},Lt]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,t]}],"min-w":[{"min-w":[Lt,t,"min","max","fit"]}],"max-w":[{"max-w":[Lt,t,"none","full","min","max","fit","prose",{screen:[Dc]},Dc]}],h:[{h:[Lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dc,Oc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xS]}],"font-family":[{font:[Qp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Ih,xS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ol,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ol,Oc]}],"underline-offset":[{"underline-offset":["auto",Ol,Lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),Hae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Gae]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Ol,Lt]}],"outline-w":[{outline:[Ol,Oc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ol,Oc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dc,Kae]}],"shadow-color":[{shadow:[Qp]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Dc,Lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Xp,Lt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ol,Oc,xS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Jae=Rae(Zae);function xe(...e){return Jae(Mt(e))}const ese={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12","2xl":"h-16 w-16"};function ia({message:e="Loading...",className:t="",size:r="xl",fullScreen:n=!1,showProgress:a=!1,progress:s=0}){const o=i.jsxs("div",{className:xe("flex flex-col items-center justify-center space-y-4",n?"min-h-screen":"",t),children:[i.jsx(Uw,{className:xe("animate-spin text-primary",ese[r])}),a&&i.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}})}),e&&!a&&i.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium",children:e}),e&&a&&i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]});return n?i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:o}):o}const Zx=({children:e,allowedRoles:t,requireAuth:r=!0,denyPermissionIds:n=[]})=>{var f,h;const a=wl(),{user:s,loading:o,hasRole:l}=pr(),c=x.useMemo(()=>t?l(t):!0,[t,l]);if(x.useMemo(()=>({loading:o,user:s?{id:s.id,email:s.email,role:s.role}:null,hasRequiredRole:c}),[o,s,c]),console.log("[ProtectedRoute]",{path:a.pathname,loading:o,hasUser:!!s,requireAuth:r,hasRequiredRole:c,userRole:s==null?void 0:s.role}),o)return console.log("[ProtectedRoute] Showing loading spinner"),i.jsx(ia,{size:"xl",fullScreen:!0});if(r&&!s)return console.log("[ProtectedRoute] No user, redirecting to login"),i.jsx(Wy,{to:"/login",state:{from:a},replace:!0});const u=(s==null?void 0:s.permissions)||((f=s==null?void 0:s.profile)==null?void 0:f.permissions)||((h=s==null?void 0:s.profile)==null?void 0:h.permissions_ID),d=u!=null?Number(u):NaN;return n.length>0&&!Number.isNaN(d)&&n.includes(d)?(console.log("[ProtectedRoute] User permission denied:",d),i.jsx(Wy,{to:"/unauthorized",replace:!0})):t&&!c?(console.log("[ProtectedRoute] User does not have required role"),i.jsx(Wy,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),i.jsx(i.Fragment,{children:e}))};function fR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function oc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=fR(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():fR(e[a],null)}}}}function $t(...e){return x.useCallback(oc(...e),e)}function Du(e){const t=tse(e),r=x.forwardRef((n,a)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(nse);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var bB=Du("Slot");function tse(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const o=sse(a),l=ase(s,a.props);return a.type!==x.Fragment&&(l.ref=n?oc(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wB=Symbol("radix.slottable");function rse(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=wB,t}function nse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wB}function ase(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function sse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const hR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mR=Mt,$v=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return mR(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=hR(d)||hR(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...s,...l}[g]):{...s,...l}[g]===v})?[...u,f,h]:u},[]);return mR(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},ym=$v("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?bB:"button";return i.jsx(o,{className:xe(ym({variant:t,size:r,className:e})),ref:s,...a})});le.displayName="Button";const Ve=x.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ve.displayName="Input";var ise=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ut=ise.reduce((e,t)=>{const r=Du(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _B(e,t){e&&up.flushSync(()=>e.dispatchEvent(t))}var ose="Label",jB=x.forwardRef((e,t)=>i.jsx(ut.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));jB.displayName=ose;var SB=jB;const lse=$v("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),He=x.forwardRef(({className:e,...t},r)=>i.jsx(SB,{ref:r,className:xe(lse(),e),...t}));He.displayName=SB.displayName;const st=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));st.displayName="Card";const Ut=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));Ut.displayName="CardHeader";const ur=x.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ur.displayName="CardTitle";const cse=x.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));cse.displayName="CardDescription";const ft=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("p-6 pt-0",e),...t}));ft.displayName="CardContent";const NB=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("flex items-center p-6 pt-0",e),...t}));NB.displayName="CardFooter";const use=1,dse=1e6;let yS=0;function fse(){return yS=(yS+1)%Number.MAX_SAFE_INTEGER,yS.toString()}const bS=new Map,pR=e=>{if(bS.has(e))return;const t=setTimeout(()=>{bS.delete(e),z0({type:"REMOVE_TOAST",toastId:e})},dse);bS.set(e,t)},hse=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,use)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?pR(r):e.toasts.forEach(n=>{pR(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},qy=[];let Gy={toasts:[]};function z0(e){Gy=hse(Gy,e),qy.forEach(t=>{t(Gy)})}function mse({...e}){const t=fse(),r=a=>z0({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>z0({type:"DISMISS_TOAST",toastId:t});return z0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function _l(){const[e,t]=x.useState(Gy);return x.useEffect(()=>(qy.push(t),()=>{const r=qy.indexOf(t);r>-1&&qy.splice(r,1)}),[e]),{...e,toast:mse,dismiss:r=>z0({type:"DISMISS_TOAST",toastId:r})}}const pse=()=>{var b,w;const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,s]=x.useState("crmdb"),[o,l]=x.useState(!1),[c,u]=x.useState(!1),{login:d}=pr(),f=Ms(),h=wl(),{t:m}=Bt(),{isRTL:p}=Ma(),{toast:g}=_l(),v=((w=(b=h.state)==null?void 0:b.from)==null?void 0:w.pathname)||"/dashboard",y=async _=>{if(_.preventDefault(),!e||!r){g({title:m("common.error","Error"),description:m("validation.fillAllFields","Please fill in all fields"),variant:"destructive"});return}l(!0);try{const j=await Y.auth.login({email:e,password:r,company_code:a});if(j.serviceToken&&j.user)await d(j.serviceToken,j.user),g({title:m("common.success","Success"),description:m("auth.loginSuccess","Logged in successfully")}),f(v,{replace:!0});else throw new Error("Invalid response from server")}catch(j){console.error("Login error:",j);let N=m("auth.loginFailed","Failed to login. Please check your credentials.");j.message&&!j.message.includes("Unexpected token")&&(N=j.message),g({title:m("auth.loginFailedTitle","Login Failed"),description:N,variant:"destructive"})}finally{l(!1)}};return i.jsxs("div",{className:"w-full max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:i.jsx(Tn,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:m("auth.welcomeBack","Welcome Back")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:m("auth.enterCredentials","Enter your credentials to access your account")})]}),i.jsx(st,{className:"border-0 shadow-xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm",children:i.jsxs("form",{onSubmit:y,children:[i.jsxs(ft,{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.emailOrUsername","Email / Username")}),i.jsx("div",{className:"relative",children:i.jsx(Ve,{id:"email",type:"text",placeholder:m("auth.enterEmail","Enter your email"),value:e,onChange:_=>t(_.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-10 pl-3":"text-left"}`,autoComplete:"email"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("forms.password","Password")}),i.jsxs("div",{className:"relative",children:[i.jsx(Ve,{id:"password",type:c?"text":"password",placeholder:m("auth.enterPassword","Enter your password"),value:r,onChange:_=>n(_.target.value),disabled:o,className:`pl-10 pr-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-16 pl-3":"text-left"}`,autoComplete:"current-password"}),i.jsx("button",{type:"button",onClick:()=>u(!c),className:`absolute ${p?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors`,disabled:o,children:c?i.jsx(tae,{className:"h-4 w-4"}):i.jsx(Zs,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"companyCode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.companyCode","Company Code")}),i.jsx("div",{className:"relative",children:i.jsx(Ve,{id:"companyCode",type:"text",value:a,onChange:_=>s(_.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-3 pl-10":"text-left"}`,placeholder:"crmdb"})})]})]}),i.jsx(NB,{className:"px-8 pb-8",children:i.jsx(le,{type:"submit",className:"w-full h-12 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(Uw,{className:"mr-2 h-4 w-4 animate-spin"}),m("auth.signingIn","Logging in...")]}):i.jsx(i.Fragment,{children:m("auth.signInButton","Login")})})})]})}),i.jsxs("div",{className:"mt-6 text-center space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m("auth.noAccount","Don't have an account?")," ",i.jsx("button",{onClick:()=>f("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.signUp","Sign up")})]}),i.jsx("button",{onClick:()=>{g({title:m("auth.forgotPassword","Forgot Password"),description:m("auth.forgotPasswordDesc","Please contact your administrator to reset your password.")})},className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.forgotPassword","Forgot your password?")})]})]})},gse=()=>{const[e,t]=x.useState(!1);pr();const r=Ms(),{t:n}=Bt();return i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),i.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),i.jsxs("div",{className:"text-center text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),i.jsx(le,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})},F1=()=>{const{user:e}=pr(),t=e==null?void 0:e.permissions,r=m=>{var g;return t===1?!0:((g={1:[],2:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_templates_INSERT","survey_templates_UPDATE","survey_templates_DELETE","survey_template_fields_SELECT","survey_template_fields_INSERT","survey_template_fields_UPDATE","survey_template_fields_DELETE","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE","fr_can_view_app_settings","system_update","update_permissions"],3:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],4:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],5:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],6:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"]}[t||0])==null?void 0:g.includes(m))||!1};return{user:e,userPermissionId:t,hasPermission:r,canView:m=>r(`${m}_SELECT`),canEdit:m=>r(`${m}_UPDATE`),canDelete:m=>r(`${m}_DELETE`),canCreate:m=>r(`${m}_INSERT`),canViewAllData:()=>t===1||t===2,canViewOwnData:()=>t===3||t===4||t===5||t===6,canViewTeamData:()=>t===4,canUpdateSystem:()=>r("system_update"),canManageUsers:()=>r("update_permissions"),canAccessSystem:()=>{const m=r("fr_can_view_app_settings");return console.log("canAccessSystem check:",{userPermissionId:t,result:m}),m}}},kB=x.createContext(void 0),vse=({children:e})=>{const[t,r]=x.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[n,a]=x.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[s,o]=x.useState(()=>localStorage.getItem("crm_logo_url")||""),l=h=>{r(h),localStorage.setItem("crm_company_name",h)},c=h=>{a(h),localStorage.setItem("crm_primary_color",h),d(h)},u=h=>{o(h),localStorage.setItem("crm_logo_url",h)},d=h=>{const m=f(h);m&&(document.documentElement.style.setProperty("--primary",`${m.h} ${m.s}% ${m.l}%`),document.documentElement.style.setProperty("--ring",`${m.h} ${m.s}% ${m.l}%`))};function f(h){let m=0,p=0,g=0;h.length===4?(m=parseInt(h[1]+h[1],16),p=parseInt(h[2]+h[2],16),g=parseInt(h[3]+h[3],16)):h.length===7&&(m=parseInt(h.substring(1,3),16),p=parseInt(h.substring(3,5),16),g=parseInt(h.substring(5,7),16)),m/=255,p/=255,g/=255;const v=Math.max(m,p,g),y=Math.min(m,p,g);let b=0,w,_=(v+y)/2;if(v===y)b=w=0;else{const j=v-y;switch(w=_>.5?j/(2-v-y):j/(v+y),v){case m:b=(p-g)/j+(p<g?6:0);break;case p:b=(g-m)/j+2;break;case g:b=(m-p)/j+4;break}b/=6}return{h:Math.round(b*360),s:Math.round(w*100),l:Math.round(_*100)}}return x.useEffect(()=>{d(n)},[]),i.jsx(kB.Provider,{value:{companyName:t,setCompanyName:l,primaryColor:n,setPrimaryColor:c,logoUrl:s,setLogoUrl:u},children:e})},CB=()=>{const e=x.useContext(kB);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e};function xse(e,t){const r=x.createContext(t),n=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function os(e,t=[]){let r=[];function n(s,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:m,...p}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,p=x.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,yse(a,...t)]}function yse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Vn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var wn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function bse(){return B6.useSyncExternalStore(wse,()=>!0,()=>!1)}function wse(){return()=>{}}var ET="Avatar",[_se,bHe]=os(ET),[jse,EB]=_se(ET),TB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=x.useState("idle");return i.jsx(jse,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(ut.span,{...n,ref:t})})});TB.displayName=ET;var AB="AvatarImage",PB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=EB(AB,r),l=Sse(n,s),c=Vn(u=>{a(u),o.onImageLoadingStatusChange(u)});return wn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ut.img,{...s,ref:t,src:n}):null});PB.displayName=AB;var OB="AvatarFallback",DB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=EB(OB,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(ut.span,{...a,ref:t}):null});DB.displayName=OB;function gR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Sse(e,{referrerPolicy:t,crossOrigin:r}){const n=bse(),a=x.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>gR(s,e));return wn(()=>{l(gR(s,e))},[s,e]),wn(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}var RB=TB,MB=PB,FB=DB;const ks=x.forwardRef(({className:e,...t},r)=>i.jsx(RB,{ref:r,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ks.displayName=RB.displayName;const jo=x.forwardRef(({className:e,...t},r)=>i.jsx(MB,{ref:r,className:xe("aspect-square h-full w-full",e),...t}));jo.displayName=MB.displayName;const Cs=x.forwardRef(({className:e,...t},r)=>i.jsx(FB,{ref:r,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Cs.displayName=FB.displayName;const Nse=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:sae},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ps}]},{label:"sales",items:[{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Tn},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:zd},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Tn}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:U0},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:th},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ps}]},{label:"communication",items:[{labelKey:"navigation.whatsapp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Ou},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Ou},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:M1}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:xae},{labelKey:"navigation.settings",path:"/settings",roles:["admin","manager"],icon:kT},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:M1}]}];function wS({onNavigate:e}={}){var l,c,u;const t=wl(),{user:r}=pr(),{userPermissionId:n}=F1(),{canAccessSystem:a}=F1(),{t:s}=Bt(),{companyName:o}=CB();return i.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[i.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"text-2xl font-bold text-primary-foreground",children:o})})}),i.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:i.jsx("nav",{className:"space-y-6",children:Nse.map(d=>{if(d.label==="system"&&!a)return null;const f=d.items.filter(h=>r&&h.roles&&h.roles.some(m=>n==={admin:1,manager:2,employee:3,team_leader:4,partner_employee:5,partner_leader:6}[m]));return f.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:s(`navigation.${d.label} Group`,d.label)}),i.jsx("div",{className:"space-y-1",children:f.map(h=>{const m=t.pathname===h.path,p=h.icon;return i.jsxs(WN,{to:h.path,onClick:g=>{m&&g.preventDefault(),e==null||e()},className:xe("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",m?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[m&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),i.jsx(p,{className:xe("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",m?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),i.jsx("span",{className:"flex-1 relative z-10",children:s(h.labelKey)})]},h.path)})})]},d.label)})})}),i.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[i.jsx(ks,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:i.jsx(Cs,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(l=r==null?void 0:r.email)==null?void 0:l.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((c=r==null?void 0:r.profile)==null?void 0:c.name)||(r==null?void 0:r.email)}),i.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(u=r==null?void 0:r.role)==null?void 0:u.replace("_"," ")]})]}),i.jsx(Lw,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function kse(){const e=wl(),{t}=Bt(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(WN,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,o)=>{const l=`/${r.slice(0,o+1).join("/")}`,c=o===r.length-1,u=a(s);return i.jsxs("div",{className:"flex items-center",children:[i.jsx(Lw,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?i.jsx("span",{className:"text-foreground font-medium",children:u}):i.jsx(WN,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function QN(e,[t,r]){return Math.min(r,Math.max(t,e))}function et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function TT(e){const t=e+"CollectionProvider",[r,n]=os(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,b=ie.useRef(null),w=ie.useRef(new Map).current;return i.jsx(a,{scope:v,itemMap:w,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Du(l),u=ie.forwardRef((g,v)=>{const{scope:y,children:b}=g,w=s(l,y),_=$t(v,w.collectionRef);return i.jsx(c,{ref:_,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Du(d),m=ie.forwardRef((g,v)=>{const{scope:y,children:b,...w}=g,_=ie.useRef(null),j=$t(v,_),N=s(d,y);return ie.useEffect(()=>(N.itemMap.set(_,{ref:_,...w}),()=>void N.itemMap.delete(_))),i.jsx(h,{[f]:"",ref:j,children:b})});m.displayName=d;function p(g){const v=s(e+"CollectionConsumer",g);return ie.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,S)=>w.indexOf(N.ref.current)-w.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},p,n]}var Cse=x.createContext(void 0);function Bv(e){const t=x.useContext(Cse);return e||t||"ltr"}function Ese(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Tse="DismissableLayer",ZN="dismissableLayer.update",Ase="dismissableLayer.pointerDownOutside",Pse="dismissableLayer.focusOutside",vR,IB=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uv=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(IB),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),p=$t(t,S=>f(S)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,j=Rse(S=>{const k=S.target,C=[...u.branches].some(E=>E.contains(k));!_||C||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=Mse(S=>{const k=S.target;[...u.branches].some(E=>E.contains(k))||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return Ese(S=>{b===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),xR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=vR)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),xR())},[d,u]),x.useEffect(()=>{const S=()=>m({});return document.addEventListener(ZN,S),()=>document.removeEventListener(ZN,S)},[]),i.jsx(ut.div,{...c,ref:p,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:et(e.onFocusCapture,N.onFocusCapture),onBlurCapture:et(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:et(e.onPointerDownCapture,j.onPointerDownCapture)})});Uv.displayName=Tse;var Ose="DismissableLayerBranch",Dse=x.forwardRef((e,t)=>{const r=x.useContext(IB),n=x.useRef(null),a=$t(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(ut.div,{...e,ref:a})});Dse.displayName=Ose;function Rse(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){LB(Ase,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Mse(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&LB(Pse,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function xR(){const e=new CustomEvent(ZN);document.dispatchEvent(e)}function LB(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?_B(a,s):a.dispatchEvent(s)}var _S=0;function zw(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yR()),document.body.insertAdjacentElement("beforeend",e[1]??yR()),_S++,()=>{_S===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_S--}},[])}function yR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var jS="focusScope.autoFocusOnMount",SS="focusScope.autoFocusOnUnmount",bR={bubbles:!1,cancelable:!0},Fse="FocusScope",zv=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=Vn(a),d=Vn(s),f=x.useRef(null),h=$t(t,g=>c(g)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let g=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Ic(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Ic(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Ic(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){_R.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(jS,bR);l.addEventListener(jS,u),l.dispatchEvent(y),y.defaultPrevented||(Ise(zse($B(l)),{select:!0}),document.activeElement===g&&Ic(l))}return()=>{l.removeEventListener(jS,u),setTimeout(()=>{const y=new CustomEvent(SS,bR);l.addEventListener(SS,d),l.dispatchEvent(y),y.defaultPrevented||Ic(g??document.body,{select:!0}),l.removeEventListener(SS,d),_R.remove(m)},0)}}},[l,u,d,m]);const p=x.useCallback(g=>{if(!r&&!n||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const b=g.currentTarget,[w,_]=Lse(b);w&&_?!g.shiftKey&&y===_?(g.preventDefault(),r&&Ic(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&Ic(_,{select:!0})):y===b&&g.preventDefault()}},[r,n,m.paused]);return i.jsx(ut.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});zv.displayName=Fse;function Ise(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ic(n,{select:t}),document.activeElement!==r)return}function Lse(e){const t=$B(e),r=wR(t,e),n=wR(t.reverse(),e);return[r,n]}function $B(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wR(e,t){for(const r of e)if(!$se(r,{upTo:t}))return r}function $se(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Bse(e){return e instanceof HTMLInputElement&&"select"in e}function Ic(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Bse(e)&&t&&e.select()}}var _R=Use();function Use(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=jR(e,t),e.unshift(t)},remove(t){var r;e=jR(e,t),(r=e[0])==null||r.resume()}}}function jR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function zse(e){return e.filter(t=>t.tagName!=="A")}var Vse=gE[" useId ".trim().toString()]||(()=>{}),Wse=0;function ta(e){const[t,r]=x.useState(Vse());return wn(()=>{r(n=>n??String(Wse++))},[e]),t?`radix-${t}`:""}const Hse=["top","right","bottom","left"],Ru=Math.min,qs=Math.max,I1=Math.round,Jx=Math.floor,sl=e=>({x:e,y:e}),qse={left:"right",right:"left",bottom:"top",top:"bottom"},Gse={start:"end",end:"start"};function JN(e,t,r){return qs(e,Ru(t,r))}function lc(e,t){return typeof e=="function"?e(t):e}function cc(e){return e.split("-")[0]}function mp(e){return e.split("-")[1]}function AT(e){return e==="x"?"y":"x"}function PT(e){return e==="y"?"height":"width"}const Kse=new Set(["top","bottom"]);function el(e){return Kse.has(cc(e))?"y":"x"}function OT(e){return AT(el(e))}function Yse(e,t,r){r===void 0&&(r=!1);const n=mp(e),a=OT(e),s=PT(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=L1(o)),[o,L1(o)]}function Xse(e){const t=L1(e);return[ek(e),t,ek(t)]}function ek(e){return e.replace(/start|end/g,t=>Gse[t])}const SR=["left","right"],NR=["right","left"],Qse=["top","bottom"],Zse=["bottom","top"];function Jse(e,t,r){switch(e){case"top":case"bottom":return r?t?NR:SR:t?SR:NR;case"left":case"right":return t?Qse:Zse;default:return[]}}function eie(e,t,r,n){const a=mp(e);let s=Jse(cc(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(ek)))),s}function L1(e){return e.replace(/left|right|bottom|top/g,t=>qse[t])}function tie(e){return{top:0,right:0,bottom:0,left:0,...e}}function BB(e){return typeof e!="number"?tie(e):{top:e,right:e,bottom:e,left:e}}function $1(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function kR(e,t,r){let{reference:n,floating:a}=e;const s=el(t),o=OT(t),l=PT(o),c=cc(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(mp(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const rie=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=kR(u,n,c),h=n,m={},p=0;for(let g=0;g<l.length;g++){const{name:v,fn:y}=l[g],{x:b,y:w,data:_,reset:j}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=w??f,m={...m,[v]:{...m[v],..._}},j&&p<=50&&(p++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=kR(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Pg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=lc(t,e),p=BB(m),v=l[h?f==="floating"?"reference":"floating":f],y=$1(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},j=$1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-j.top+p.top)/_.y,bottom:(j.bottom-y.bottom+p.bottom)/_.y,left:(y.left-j.left+p.left)/_.x,right:(j.right-y.right+p.right)/_.x}}const nie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=lc(e,t)||{};if(u==null)return{};const f=BB(d),h={x:r,y:n},m=OT(a),p=PT(m),g=await o.getDimensions(u),v=m==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=s.reference[p]+s.reference[m]-h[m]-s.floating[p],j=h[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[w]||s.floating[p]);const k=_/2-j/2,C=S/2-g[p]/2-1,E=Ru(f[y],C),P=Ru(f[b],C),T=E,W=S-g[p]-P,G=S/2-g[p]/2+k,U=JN(T,G,W),L=!c.arrow&&mp(a)!=null&&G!==U&&s.reference[p]/2-(G<T?E:P)-g[p]/2<0,V=L?G<T?G-T:G-W:0;return{[m]:h[m]+V,data:{[m]:U,centerOffset:G-U-V,...L&&{alignmentOffset:V}},reset:L}}}),aie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=lc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=cc(a),b=el(l),w=cc(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!g?[L1(l)]:Xse(l)),N=p!=="none";!h&&N&&j.push(...eie(l,g,p,_));const S=[l,...j],k=await Pg(t,v),C=[];let E=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[y]),f){const G=Yse(a,o,_);C.push(k[G[0]],k[G[1]])}if(E=[...E,{placement:a,overflows:C}],!C.every(G=>G<=0)){var P,T;const G=(((P=s.flip)==null?void 0:P.index)||0)+1,U=S[G];if(U&&(!(f==="alignment"?b!==el(U):!1)||E.every(B=>B.overflows[0]>0&&el(B.placement)===b)))return{data:{index:G,overflows:E},reset:{placement:U}};let L=(T=E.filter(V=>V.overflows[0]<=0).sort((V,B)=>V.overflows[1]-B.overflows[1])[0])==null?void 0:T.placement;if(!L)switch(m){case"bestFit":{var W;const V=(W=E.filter(B=>{if(N){const I=el(B.placement);return I===b||I==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(I=>I>0).reduce((I,X)=>I+X,0)]).sort((B,I)=>B[1]-I[1])[0])==null?void 0:W[0];V&&(L=V);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function CR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ER(e){return Hse.some(t=>e[t]>=0)}const sie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=lc(e,t);switch(n){case"referenceHidden":{const s=await Pg(t,{...a,elementContext:"reference"}),o=CR(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ER(o)}}}case"escaped":{const s=await Pg(t,{...a,altBoundary:!0}),o=CR(s,r.floating);return{data:{escapedOffsets:o,escaped:ER(o)}}}default:return{}}}}},UB=new Set(["left","top"]);async function iie(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=cc(r),l=mp(r),c=el(r)==="y",u=UB.has(o)?-1:1,d=s&&c?-1:1,f=lc(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const oie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await iie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},lie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=lc(e,t),u={x:r,y:n},d=await Pg(t,c),f=el(cc(a)),h=AT(f);let m=u[h],p=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=m+d[v],w=m-d[y];m=JN(b,m,w)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+d[v],w=p-d[y];p=JN(b,p,w)}const g=l.fn({...t,[h]:m,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:s,[f]:o}}}}}},cie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=lc(e,t),d={x:r,y:n},f=el(a),h=AT(f);let m=d[h],p=d[f];const g=lc(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",_=s.reference[h]-s.floating[w]+v.mainAxis,j=s.reference[h]+s.reference[w]-v.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var y,b;const w=h==="y"?"width":"height",_=UB.has(cc(a)),j=s.reference[f]-s.floating[w]+(_&&((y=o.offset)==null?void 0:y[f])||0)+(_?0:v.crossAxis),N=s.reference[f]+s.reference[w]+(_?0:((b=o.offset)==null?void 0:b[f])||0)-(_?v.crossAxis:0);p<j?p=j:p>N&&(p=N)}return{[h]:m,[f]:p}}}},uie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=lc(e,t),d=await Pg(t,u),f=cc(a),h=mp(a),m=el(a)==="y",{width:p,height:g}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,w=p-d.left-d.right,_=Ru(g-d[v],b),j=Ru(p-d[y],w),N=!t.middlewareData.shift;let S=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=b),N&&!h){const E=qs(d.left,0),P=qs(d.right,0),T=qs(d.top,0),W=qs(d.bottom,0);m?k=p-2*(E!==0||P!==0?E+P:qs(d.left,d.right)):S=g-2*(T!==0||W!==0?T+W:qs(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:S});const C=await o.getDimensions(l.floating);return p!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Vw(){return typeof window<"u"}function pp(e){return zB(e)?(e.nodeName||"").toLowerCase():"#document"}function ei(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jl(e){var t;return(t=(zB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zB(e){return Vw()?e instanceof Node||e instanceof ei(e).Node:!1}function So(e){return Vw()?e instanceof Element||e instanceof ei(e).Element:!1}function hl(e){return Vw()?e instanceof HTMLElement||e instanceof ei(e).HTMLElement:!1}function TR(e){return!Vw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ei(e).ShadowRoot}const die=new Set(["inline","contents"]);function Vv(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=No(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!die.has(a)}const fie=new Set(["table","td","th"]);function hie(e){return fie.has(pp(e))}const mie=[":popover-open",":modal"];function Ww(e){return mie.some(t=>{try{return e.matches(t)}catch{return!1}})}const pie=["transform","translate","scale","rotate","perspective"],gie=["transform","translate","scale","rotate","perspective","filter"],vie=["paint","layout","strict","content"];function DT(e){const t=RT(),r=So(e)?No(e):e;return pie.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||gie.some(n=>(r.willChange||"").includes(n))||vie.some(n=>(r.contain||"").includes(n))}function xie(e){let t=Mu(e);for(;hl(t)&&!bm(t);){if(DT(t))return t;if(Ww(t))return null;t=Mu(t)}return null}function RT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yie=new Set(["html","body","#document"]);function bm(e){return yie.has(pp(e))}function No(e){return ei(e).getComputedStyle(e)}function Hw(e){return So(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mu(e){if(pp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||TR(e)&&e.host||jl(e);return TR(t)?t.host:t}function VB(e){const t=Mu(e);return bm(t)?e.ownerDocument?e.ownerDocument.body:e.body:hl(t)&&Vv(t)?t:VB(t)}function Og(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=VB(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=ei(a);if(s){const l=tk(o);return t.concat(o,o.visualViewport||[],Vv(a)?a:[],l&&r?Og(l):[])}return t.concat(a,Og(a,[],r))}function tk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function WB(e){const t=No(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=hl(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=I1(r)!==s||I1(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function MT(e){return So(e)?e:e.contextElement}function Lh(e){const t=MT(e);if(!hl(t))return sl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=WB(t);let o=(s?I1(r.width):r.width)/n,l=(s?I1(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const bie=sl(0);function HB(e){const t=ei(e);return!RT()||!t.visualViewport?bie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ei(e)?!1:t}function nf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=MT(e);let o=sl(1);t&&(n?So(n)&&(o=Lh(n)):o=Lh(e));const l=wie(s,r,n)?HB(s):sl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=ei(s),m=n&&So(n)?ei(n):n;let p=h,g=tk(p);for(;g&&n&&m!==p;){const v=Lh(g),y=g.getBoundingClientRect(),b=No(g),w=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,_=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,p=ei(g),g=tk(p)}}return $1({width:d,height:f,x:c,y:u})}function FT(e,t){const r=Hw(e).scrollLeft;return t?t.left+r:nf(jl(e)).left+r}function qB(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:FT(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function _ie(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=jl(n),l=t?Ww(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=sl(1);const d=sl(0),f=hl(n);if((f||!f&&!s)&&((pp(n)!=="body"||Vv(o))&&(c=Hw(n)),hl(n))){const m=nf(n);u=Lh(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?qB(o,c,!0):sl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function jie(e){return Array.from(e.getClientRects())}function Sie(e){const t=jl(e),r=Hw(e),n=e.ownerDocument.body,a=qs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=qs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+FT(e);const l=-r.scrollTop;return No(n).direction==="rtl"&&(o+=qs(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function Nie(e,t){const r=ei(e),n=jl(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=RT();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}const kie=new Set(["absolute","fixed"]);function Cie(e,t){const r=nf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=hl(e)?Lh(e):sl(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function AR(e,t,r){let n;if(t==="viewport")n=Nie(e,r);else if(t==="document")n=Sie(jl(e));else if(So(t))n=Cie(t,r);else{const a=HB(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return $1(n)}function GB(e,t){const r=Mu(e);return r===t||!So(r)||bm(r)?!1:No(r).position==="fixed"||GB(r,t)}function Eie(e,t){const r=t.get(e);if(r)return r;let n=Og(e,[],!1).filter(l=>So(l)&&pp(l)!=="body"),a=null;const s=No(e).position==="fixed";let o=s?Mu(e):e;for(;So(o)&&!bm(o);){const l=No(o),c=DT(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&kie.has(a.position)||Vv(o)&&!c&&GB(e,o))?n=n.filter(d=>d!==o):a=l,o=Mu(o)}return t.set(e,n),n}function Tie(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Ww(t)?[]:Eie(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=AR(t,d,a);return u.top=qs(f.top,u.top),u.right=Ru(f.right,u.right),u.bottom=Ru(f.bottom,u.bottom),u.left=qs(f.left,u.left),u},AR(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Aie(e){const{width:t,height:r}=WB(e);return{width:t,height:r}}function Pie(e,t,r){const n=hl(t),a=jl(t),s=r==="fixed",o=nf(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=sl(0);function u(){c.x=FT(a)}if(n||!n&&!s)if((pp(t)!=="body"||Vv(a))&&(l=Hw(t)),n){const m=nf(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?qB(a,l):sl(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function NS(e){return No(e).position==="static"}function PR(e,t){if(!hl(e)||No(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return jl(e)===r&&(r=r.ownerDocument.body),r}function KB(e,t){const r=ei(e);if(Ww(e))return r;if(!hl(e)){let a=Mu(e);for(;a&&!bm(a);){if(So(a)&&!NS(a))return a;a=Mu(a)}return r}let n=PR(e,t);for(;n&&hie(n)&&NS(n);)n=PR(n,t);return n&&bm(n)&&NS(n)&&!DT(n)?r:n||xie(e)||r}const Oie=async function(e){const t=this.getOffsetParent||KB,r=this.getDimensions,n=await r(e.floating);return{reference:Pie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Die(e){return No(e).direction==="rtl"}const Rie={convertOffsetParentRelativeRectToViewportRelativeRect:_ie,getDocumentElement:jl,getClippingRect:Tie,getOffsetParent:KB,getElementRects:Oie,getClientRects:jie,getDimensions:Aie,getScale:Lh,isElement:So,isRTL:Die};function YB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Mie(e,t){let r=null,n;const a=jl(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const p=Jx(f),g=Jx(a.clientWidth-(d+h)),v=Jx(a.clientHeight-(f+m)),y=Jx(d),w={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:qs(0,Ru(1,c))||1};let _=!0;function j(N){const S=N[0].intersectionRatio;if(S!==c){if(!_)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!YB(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),s}function Fie(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=MT(e),d=a||s?[...u?Og(u):[],...Og(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&l?Mie(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let p,g=c?nf(e):null;c&&v();function v(){const y=nf(e);g&&!YB(g,y)&&r(),g=y,p=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const Iie=oie,Lie=lie,$ie=aie,Bie=uie,Uie=sie,OR=nie,zie=cie,Vie=(e,t,r)=>{const n=new Map,a={platform:Rie,...r},s={...a.platform,_c:n};return rie(e,t,{...a,platform:s})};var Wie=typeof document<"u",Hie=function(){},Ky=Wie?x.useLayoutEffect:Hie;function B1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!B1(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!B1(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function XB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function DR(e,t){const r=XB(e);return Math.round(t*r)/r}function kS(e){const t=x.useRef(e);return Ky(()=>{t.current=e}),t}function qie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);B1(h,n)||m(n);const[p,g]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(B=>{B!==N.current&&(N.current=B,g(B))},[]),w=x.useCallback(B=>{B!==S.current&&(S.current=B,y(B))},[]),_=s||p,j=o||v,N=x.useRef(null),S=x.useRef(null),k=x.useRef(d),C=c!=null,E=kS(c),P=kS(a),T=kS(u),W=x.useCallback(()=>{if(!N.current||!S.current)return;const B={placement:t,strategy:r,middleware:h};P.current&&(B.platform=P.current),Vie(N.current,S.current,B).then(I=>{const X={...I,isPositioned:T.current!==!1};G.current&&!B1(k.current,X)&&(k.current=X,up.flushSync(()=>{f(X)}))})},[h,t,r,P,T]);Ky(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[u]);const G=x.useRef(!1);Ky(()=>(G.current=!0,()=>{G.current=!1}),[]),Ky(()=>{if(_&&(N.current=_),j&&(S.current=j),_&&j){if(E.current)return E.current(_,j,W);W()}},[_,j,W,E,C]);const U=x.useMemo(()=>({reference:N,floating:S,setReference:b,setFloating:w}),[b,w]),L=x.useMemo(()=>({reference:_,floating:j}),[_,j]),V=x.useMemo(()=>{const B={position:r,left:0,top:0};if(!L.floating)return B;const I=DR(L.floating,d.x),X=DR(L.floating,d.y);return l?{...B,transform:"translate("+I+"px, "+X+"px)",...XB(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:X}},[r,l,L.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:W,refs:U,elements:L,floatingStyles:V}),[d,W,U,L,V])}const Gie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?OR({element:n.current,padding:a}).fn(r):{}:n?OR({element:n,padding:a}).fn(r):{}}}},Kie=(e,t)=>({...Iie(e),options:[e,t]}),Yie=(e,t)=>({...Lie(e),options:[e,t]}),Xie=(e,t)=>({...zie(e),options:[e,t]}),Qie=(e,t)=>({...$ie(e),options:[e,t]}),Zie=(e,t)=>({...Bie(e),options:[e,t]}),Jie=(e,t)=>({...Uie(e),options:[e,t]}),eoe=(e,t)=>({...Gie(e),options:[e,t]});var toe="Arrow",QB=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(ut.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});QB.displayName=toe;var roe=QB;function IT(e){const[t,r]=x.useState(void 0);return wn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var LT="Popper",[ZB,gp]=os(LT),[noe,JB]=ZB(LT),e9=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return i.jsx(noe,{scope:t,anchor:n,onAnchorChange:a,children:r})};e9.displayName=LT;var t9="PopperAnchor",r9=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=JB(t9,r),o=x.useRef(null),l=$t(t,o);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(ut.div,{...a,ref:l})});r9.displayName=t9;var $T="PopperContent",[aoe,soe]=ZB($T),n9=x.forwardRef((e,t)=>{var ne,ge,se,Z,ce,A;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=e,v=JB($T,r),[y,b]=x.useState(null),w=$t(t,$e=>b($e)),[_,j]=x.useState(null),N=IT(_),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,C=n+(s!=="center"?"-"+s:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],T=P.length>0,W={padding:E,boundary:P.filter(ooe),altBoundary:T},{refs:G,floatingStyles:U,placement:L,isPositioned:V,middlewareData:B}=qie({strategy:"fixed",placement:C,whileElementsMounted:(...$e)=>Fie(...$e,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Kie({mainAxis:a+k,alignmentAxis:o}),c&&Yie({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Xie():void 0,...W}),c&&Qie({...W}),Zie({...W,apply:({elements:$e,rects:Me,availableWidth:Fe,availableHeight:ze})=>{const{width:Re,height:vt}=Me.reference,mt=$e.floating.style;mt.setProperty("--radix-popper-available-width",`${Fe}px`),mt.setProperty("--radix-popper-available-height",`${ze}px`),mt.setProperty("--radix-popper-anchor-width",`${Re}px`),mt.setProperty("--radix-popper-anchor-height",`${vt}px`)}}),_&&eoe({element:_,padding:l}),loe({arrowWidth:S,arrowHeight:k}),h&&Jie({strategy:"referenceHidden",...W})]}),[I,X]=i9(L),Q=Vn(p);wn(()=>{V&&(Q==null||Q())},[V,Q]);const O=(ne=B.arrow)==null?void 0:ne.x,M=(ge=B.arrow)==null?void 0:ge.y,F=((se=B.arrow)==null?void 0:se.centerOffset)!==0,[H,ee]=x.useState();return wn(()=>{y&&ee(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:V?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(Z=B.transformOrigin)==null?void 0:Z.x,(ce=B.transformOrigin)==null?void 0:ce.y].join(" "),...((A=B.hide)==null?void 0:A.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(aoe,{scope:r,placedSide:I,onArrowChange:j,arrowX:O,arrowY:M,shouldHideArrow:F,children:i.jsx(ut.div,{"data-side":I,"data-align":X,...g,ref:w,style:{...g.style,animation:V?void 0:"none"}})})})});n9.displayName=$T;var a9="PopperArrow",ioe={top:"bottom",right:"left",bottom:"top",left:"right"},s9=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=soe(a9,n),o=ioe[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(roe,{...a,ref:r,style:{...a.style,display:"block"}})})});s9.displayName=a9;function ooe(e){return e!==null}var loe=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=i9(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=o?f:`${h}px`,g=`${-c}px`):u==="top"?(p=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(p=`${n.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:p,y:g}}}});function i9(e){const[t,r="center"]=e.split("-");return[t,r]}var BT=e9,qw=r9,UT=n9,zT=s9,coe="Portal",Wv=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=x.useState(!1);wn(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?FZ.createPortal(i.jsx(ut.div,{...n,ref:t}),o):null});Wv.displayName=coe;var uoe=gE[" useInsertionEffect ".trim().toString()]||wn;function uc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=doe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=foe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function doe({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return uoe(()=>{s.current=t},[t]),x.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function foe(e){return typeof e=="function"}function VT(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var o9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hoe="VisuallyHidden",moe=x.forwardRef((e,t)=>i.jsx(ut.span,{...e,ref:t,style:{...o9,...e.style}}));moe.displayName=hoe;var poe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wf=new WeakMap,ey=new WeakMap,ty={},CS=0,l9=function(e){return e&&(e.host||l9(e.parentNode))},goe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=l9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},voe=function(e,t,r,n){var a=goe(t,Array.isArray(e)?e:[e]);ty[r]||(ty[r]=new WeakMap);var s=ty[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),p=m!==null&&m!=="false",g=(Wf.get(h)||0)+1,v=(s.get(h)||0)+1;Wf.set(h,g),s.set(h,v),o.push(h),g===1&&p&&ey.set(h,!0),v===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),CS++,function(){o.forEach(function(f){var h=Wf.get(f)-1,m=s.get(f)-1;Wf.set(f,h),s.set(f,m),h||(ey.has(f)||f.removeAttribute(n),ey.delete(f)),m||f.removeAttribute(r)}),CS--,CS||(Wf=new WeakMap,Wf=new WeakMap,ey=new WeakMap,ty={})}},Gw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=poe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),voe(n,a,r,"aria-hidden")):function(){return null}},Xo=function(){return Xo=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Xo.apply(this,arguments)};function c9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function xoe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Yy="right-scroll-bar-position",Xy="width-before-scroll-bar",yoe="with-scroll-bars-hidden",boe="--removed-body-scroll-bar-size";function ES(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function woe(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var _oe=typeof window<"u"?x.useLayoutEffect:x.useEffect,RR=new WeakMap;function joe(e,t){var r=woe(null,function(n){return e.forEach(function(a){return ES(a,n)})});return _oe(function(){var n=RR.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||ES(l,null)}),s.forEach(function(l){a.has(l)||ES(l,o)})}RR.set(r,e)},[e]),r}function Soe(e){return e}function Noe(e,t){t===void 0&&(t=Soe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function koe(e){e===void 0&&(e={});var t=Noe(null);return t.options=Xo({async:!0,ssr:!1},e),t}var u9=function(e){var t=e.sideCar,r=c9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Xo({},r))};u9.isSideCarExport=!0;function Coe(e,t){return e.useMedium(t),u9}var d9=koe(),TS=function(){},Kw=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:TS,onWheelCapture:TS,onTouchMoveCapture:TS}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,_=c9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=joe([r,t]),S=Xo(Xo({},_),a);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:d9,removeScrollBar:u,shards:f,noRelative:m,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?x.cloneElement(x.Children.only(l),Xo(Xo({},S),{ref:N})):x.createElement(b,Xo({},S,{className:c,ref:N}),l))});Kw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kw.classNames={fullWidth:Xy,zeroRight:Yy};var Eoe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Toe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Eoe();return t&&e.setAttribute("nonce",t),e}function Aoe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Poe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ooe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Toe())&&(Aoe(t,r),Poe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Doe=function(){var e=Ooe();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},f9=function(){var e=Doe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Roe={left:0,top:0,right:0,gap:0},AS=function(e){return parseInt(e||"",10)||0},Moe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[AS(r),AS(n),AS(a)]},Foe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Roe;var t=Moe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Ioe=f9(),$h="data-scroll-locked",Loe=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(yoe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat($h,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yy," .").concat(Yy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xy," .").concat(Xy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($h,`] {
    `).concat(boe,": ").concat(l,`px;
  }
`)},MR=function(){var e=parseInt(document.body.getAttribute($h)||"0",10);return isFinite(e)?e:0},$oe=function(){x.useEffect(function(){return document.body.setAttribute($h,(MR()+1).toString()),function(){var e=MR()-1;e<=0?document.body.removeAttribute($h):document.body.setAttribute($h,e.toString())}},[])},Boe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;$oe();var s=x.useMemo(function(){return Foe(a)},[a]);return x.createElement(Ioe,{styles:Loe(s,!t,a,r?"":"!important")})},rk=!1;if(typeof window<"u")try{var ry=Object.defineProperty({},"passive",{get:function(){return rk=!0,!0}});window.addEventListener("test",ry,ry),window.removeEventListener("test",ry,ry)}catch{rk=!1}var Hf=rk?{passive:!1}:!1,Uoe=function(e){return e.tagName==="TEXTAREA"},h9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Uoe(e)&&r[t]==="visible")},zoe=function(e){return h9(e,"overflowY")},Voe=function(e){return h9(e,"overflowX")},FR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=m9(e,n);if(a){var s=p9(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Woe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Hoe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},m9=function(e,t){return e==="v"?zoe(t):Voe(t)},p9=function(e,t){return e==="v"?Woe(t):Hoe(t)},qoe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Goe=function(e,t,r,n,a){var s=qoe(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=p9(e,l),p=m[0],g=m[1],v=m[2],y=g-v-s*p;(p||y)&&m9(e,l)&&(f+=y,h+=p);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},ny=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},IR=function(e){return[e.deltaX,e.deltaY]},LR=function(e){return e&&"current"in e?e.current:e},Koe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Yoe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xoe=0,qf=[];function Qoe(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(Xoe++)[0],s=x.useState(f9)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=xoe([e.lockRef.current],(e.shards||[]).map(LR),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=ny(g),b=r.current,w="deltaX"in g?g.deltaX:b[0]-y[0],_="deltaY"in g?g.deltaY:b[1]-y[1],j,N=g.target,S=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&S==="h"&&N.type==="range")return!1;var k=FR(S,N);if(!k)return!0;if(k?j=S:(j=S==="v"?"h":"v",k=FR(S,N)),!k)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=j),!j)return!0;var C=n.current||j;return Goe(C,v,g,C==="h"?w:_,!0)},[]),c=x.useCallback(function(g){var v=g;if(!(!qf.length||qf[qf.length-1]!==s)){var y="deltaY"in v?IR(v):ny(v),b=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&Koe(j.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(LR).filter(Boolean).filter(function(j){return j.contains(v.target)}),_=w.length>0?l(v,w[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(g,v,y,b){var w={name:g,delta:v,target:y,should:b,shadowParent:Zoe(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=x.useCallback(function(g){r.current=ny(g),n.current=void 0},[]),f=x.useCallback(function(g){u(g.type,IR(g),g.target,l(g,e.lockRef.current))},[]),h=x.useCallback(function(g){u(g.type,ny(g),g.target,l(g,e.lockRef.current))},[]);x.useEffect(function(){return qf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Hf),document.addEventListener("touchmove",c,Hf),document.addEventListener("touchstart",d,Hf),function(){qf=qf.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Hf),document.removeEventListener("touchmove",c,Hf),document.removeEventListener("touchstart",d,Hf)}},[]);var m=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(s,{styles:Yoe(a)}):null,m?x.createElement(Boe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Zoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Joe=Coe(d9,Qoe);var Hv=x.forwardRef(function(e,t){return x.createElement(Kw,Xo({},e,{ref:t,sideCar:Joe}))});Hv.classNames=Kw.classNames;var ele=[" ","Enter","ArrowUp","ArrowDown"],tle=[" ","Enter"],af="Select",[Yw,Xw,rle]=TT(af),[vp,wHe]=os(af,[rle,gp]),Qw=gp(),[nle,Hu]=vp(af),[ale,sle]=vp(af),g9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:p}=e,g=Qw(t),[v,y]=x.useState(null),[b,w]=x.useState(null),[_,j]=x.useState(!1),N=Bv(u),[S,k]=uc({prop:n,defaultProp:a??!1,onChange:s,caller:af}),[C,E]=uc({prop:o,defaultProp:l,onChange:c,caller:af}),P=x.useRef(null),T=v?p||!!v.closest("form"):!0,[W,G]=x.useState(new Set),U=Array.from(W).map(L=>L.props.value).join(";");return i.jsx(BT,{...g,children:i.jsxs(nle,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:ta(),value:C,onValueChange:E,open:S,onOpenChange:k,dir:N,triggerPointerDownPosRef:P,disabled:h,children:[i.jsx(Yw.Provider,{scope:t,children:i.jsx(ale,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(L=>{G(V=>new Set(V).add(L))},[]),onNativeOptionRemove:x.useCallback(L=>{G(V=>{const B=new Set(V);return B.delete(L),B})},[]),children:r})}),T?i.jsxs(B9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:L=>E(L.target.value),disabled:h,form:p,children:[C===void 0?i.jsx("option",{value:""}):null,Array.from(W)]},U):null]})})};g9.displayName=af;var v9="SelectTrigger",x9=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Qw(r),o=Hu(v9,r),l=o.disabled||n,c=$t(t,o.onTriggerChange),u=Xw(r),d=x.useRef("touch"),[f,h,m]=z9(g=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),b=V9(v,g,y);b!==void 0&&o.onValueChange(b.value)}),p=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(qw,{asChild:!0,...s,children:i.jsx(ut.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":U9(o.value)?"":void 0,...a,ref:c,onClick:et(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:et(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:et(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&ele.includes(g.key)&&(p(),g.preventDefault())})})})});x9.displayName=v9;var y9="SelectValue",b9=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=Hu(y9,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=$t(t,c.onValueNodeChange);return wn(()=>{u(d)},[u,d]),i.jsx(ut.span,{...l,ref:f,style:{pointerEvents:"none"},children:U9(c.value)?i.jsx(i.Fragment,{children:o}):s})});b9.displayName=y9;var ile="SelectIcon",w9=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(ut.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});w9.displayName=ile;var ole="SelectPortal",_9=e=>i.jsx(Wv,{asChild:!0,...e});_9.displayName=ole;var sf="SelectContent",j9=x.forwardRef((e,t)=>{const r=Hu(sf,e.__scopeSelect),[n,a]=x.useState();if(wn(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?up.createPortal(i.jsx(S9,{scope:e.__scopeSelect,children:i.jsx(Yw.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(N9,{...e,ref:t})});j9.displayName=sf;var Ki=10,[S9,qu]=vp(sf),lle="SelectContentImpl",cle=Du("SelectContent.RemoveScroll"),N9=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v,...y}=e,b=Hu(sf,r),[w,_]=x.useState(null),[j,N]=x.useState(null),S=$t(t,ne=>_(ne)),[k,C]=x.useState(null),[E,P]=x.useState(null),T=Xw(r),[W,G]=x.useState(!1),U=x.useRef(!1);x.useEffect(()=>{if(w)return Gw(w)},[w]),zw();const L=x.useCallback(ne=>{const[ge,...se]=T().map(A=>A.ref.current),[Z]=se.slice(-1),ce=document.activeElement;for(const A of ne)if(A===ce||(A==null||A.scrollIntoView({block:"nearest"}),A===ge&&j&&(j.scrollTop=0),A===Z&&j&&(j.scrollTop=j.scrollHeight),A==null||A.focus(),document.activeElement!==ce))return},[T,j]),V=x.useCallback(()=>L([k,w]),[L,k,w]);x.useEffect(()=>{W&&V()},[W,V]);const{onOpenChange:B,triggerPointerDownPosRef:I}=b;x.useEffect(()=>{if(w){let ne={x:0,y:0};const ge=Z=>{var ce,A;ne={x:Math.abs(Math.round(Z.pageX)-(((ce=I.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((A=I.current)==null?void 0:A.y)??0))}},se=Z=>{ne.x<=10&&ne.y<=10?Z.preventDefault():w.contains(Z.target)||B(!1),document.removeEventListener("pointermove",ge),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,B,I]),x.useEffect(()=>{const ne=()=>B(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[B]);const[X,Q]=z9(ne=>{const ge=T().filter(ce=>!ce.disabled),se=ge.find(ce=>ce.ref.current===document.activeElement),Z=V9(ge,ne,se);Z&&setTimeout(()=>Z.ref.current.focus())}),O=x.useCallback((ne,ge,se)=>{const Z=!U.current&&!se;(b.value!==void 0&&b.value===ge||Z)&&(C(ne),Z&&(U.current=!0))},[b.value]),M=x.useCallback(()=>w==null?void 0:w.focus(),[w]),F=x.useCallback((ne,ge,se)=>{const Z=!U.current&&!se;(b.value!==void 0&&b.value===ge||Z)&&P(ne)},[b.value]),H=n==="popper"?nk:k9,ee=H===nk?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return i.jsx(S9,{scope:r,content:w,viewport:j,onViewportChange:N,itemRefCallback:O,selectedItem:k,onItemLeave:M,itemTextRefCallback:F,focusSelectedItem:V,selectedItemText:E,position:n,isPositioned:W,searchRef:X,children:i.jsx(Hv,{as:cle,allowPinchZoom:!0,children:i.jsx(zv,{asChild:!0,trapped:b.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:et(a,ne=>{var ge;(ge=b.trigger)==null||ge.focus({preventScroll:!0}),ne.preventDefault()}),children:i.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(H,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ne=>ne.preventDefault(),...y,...ee,onPlaced:()=>G(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:et(y.onKeyDown,ne=>{const ge=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ge&&ne.key.length===1&&Q(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let Z=T().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const ce=ne.target,A=Z.indexOf(ce);Z=Z.slice(A+1)}setTimeout(()=>L(Z)),ne.preventDefault()}})})})})})})});N9.displayName=lle;var ule="SelectItemAlignedPosition",k9=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Hu(sf,r),o=qu(sf,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=$t(t,S=>d(S)),h=Xw(r),m=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,w=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&v&&y){const S=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),E=y.getBoundingClientRect();if(s.dir!=="rtl"){const ce=E.left-k.left,A=C.left-ce,$e=S.left-A,Me=S.width+$e,Fe=Math.max(Me,k.width),ze=window.innerWidth-Ki,Re=QN(A,[Ki,Math.max(Ki,ze-Fe)]);l.style.minWidth=Me+"px",l.style.left=Re+"px"}else{const ce=k.right-E.right,A=window.innerWidth-C.right-ce,$e=window.innerWidth-S.right-A,Me=S.width+$e,Fe=Math.max(Me,k.width),ze=window.innerWidth-Ki,Re=QN(A,[Ki,Math.max(Ki,ze-Fe)]);l.style.minWidth=Me+"px",l.style.right=Re+"px"}const P=h(),T=window.innerHeight-Ki*2,W=g.scrollHeight,G=window.getComputedStyle(u),U=parseInt(G.borderTopWidth,10),L=parseInt(G.paddingTop,10),V=parseInt(G.borderBottomWidth,10),B=parseInt(G.paddingBottom,10),I=U+L+W+B+V,X=Math.min(v.offsetHeight*5,I),Q=window.getComputedStyle(g),O=parseInt(Q.paddingTop,10),M=parseInt(Q.paddingBottom,10),F=S.top+S.height/2-Ki,H=T-F,ee=v.offsetHeight/2,ne=v.offsetTop+ee,ge=U+L+ne,se=I-ge;if(ge<=F){const ce=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const A=u.clientHeight-g.offsetTop-g.offsetHeight,$e=Math.max(H,ee+(ce?M:0)+A+V),Me=ge+$e;l.style.height=Me+"px"}else{const ce=P.length>0&&v===P[0].ref.current;l.style.top="0px";const $e=Math.max(F,U+g.offsetTop+(ce?O:0)+ee)+se;l.style.height=$e+"px",g.scrollTop=ge-F+g.offsetTop}l.style.margin=`${Ki}px 0`,l.style.minHeight=X+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,g,v,y,s.dir,n]);wn(()=>w(),[w]);const[_,j]=x.useState();wn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(S=>{S&&p.current===!0&&(w(),b==null||b(),p.current=!1)},[w,b]);return i.jsx(fle,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(ut.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});k9.displayName=ule;var dle="SelectPopperPosition",nk=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ki,...s}=e,o=Qw(r);return i.jsx(UT,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nk.displayName=dle;var[fle,WT]=vp(sf,{}),ak="SelectViewport",C9=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=qu(ak,r),o=WT(ak,r),l=$t(t,s.onViewportChange),c=x.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Yw.Slot,{scope:r,children:i.jsx(ut.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:et(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-Ki*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(g,v);if(y<p){const b=y+m,w=Math.min(p,b),_=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});C9.displayName=ak;var E9="SelectGroup",[hle,mle]=vp(E9),ple=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ta();return i.jsx(hle,{scope:r,id:a,children:i.jsx(ut.div,{role:"group","aria-labelledby":a,...n,ref:t})})});ple.displayName=E9;var T9="SelectLabel",A9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=mle(T9,r);return i.jsx(ut.div,{id:a.id,...n,ref:t})});A9.displayName=T9;var U1="SelectItem",[gle,P9]=vp(U1),O9=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=Hu(U1,r),c=qu(U1,r),u=l.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),p=$t(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,a)}),g=ta(),v=x.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(gle,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:x.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(Yw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(ut.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:et(o.onFocus,()=>m(!0)),onBlur:et(o.onBlur,()=>m(!1)),onClick:et(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:et(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:et(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:et(o.onPointerMove,b=>{var w;v.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:et(o.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(tle.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});O9.displayName=U1;var w0="SelectItemText",D9=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=Hu(w0,r),l=qu(w0,r),c=P9(w0,r),u=sle(w0,r),[d,f]=x.useState(null),h=$t(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,p=x.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return wn(()=>(g(p),()=>v(p)),[g,v,p]),i.jsxs(i.Fragment,{children:[i.jsx(ut.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?up.createPortal(s.children,o.valueNode):null]})});D9.displayName=w0;var R9="SelectItemIndicator",M9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return P9(R9,r).isSelected?i.jsx(ut.span,{"aria-hidden":!0,...n,ref:t}):null});M9.displayName=R9;var sk="SelectScrollUpButton",F9=x.forwardRef((e,t)=>{const r=qu(sk,e.__scopeSelect),n=WT(sk,e.__scopeSelect),[a,s]=x.useState(!1),o=$t(t,n.onScrollButtonChange);return wn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(L9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});F9.displayName=sk;var ik="SelectScrollDownButton",I9=x.forwardRef((e,t)=>{const r=qu(ik,e.__scopeSelect),n=WT(ik,e.__scopeSelect),[a,s]=x.useState(!1),o=$t(t,n.onScrollButtonChange);return wn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(L9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});I9.displayName=ik;var L9=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=qu("SelectScrollButton",r),o=x.useRef(null),l=Xw(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),wn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ut.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:et(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:et(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:et(a.onPointerLeave,()=>{c()})})}),vle="SelectSeparator",$9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(ut.div,{"aria-hidden":!0,...n,ref:t})});$9.displayName=vle;var ok="SelectArrow",xle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Qw(r),s=Hu(ok,r),o=qu(ok,r);return s.open&&o.position==="popper"?i.jsx(zT,{...a,...n,ref:t}):null});xle.displayName=ok;var yle="SelectBubbleInput",B9=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=$t(n,a),o=VT(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(ut.select,{...r,style:{...o9,...r.style},ref:s,defaultValue:t})});B9.displayName=yle;function U9(e){return e===""||e===void 0}function z9(e){const t=Vn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function V9(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=ble(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function ble(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var wle=g9,W9=x9,_le=b9,jle=w9,Sle=_9,H9=j9,Nle=C9,q9=A9,G9=O9,kle=D9,Cle=M9,K9=F9,Y9=I9,X9=$9;const yt=wle,bt=_le,pt=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(W9,{ref:n,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(jle,{asChild:!0,children:i.jsx(Fh,{className:"h-4 w-4 opacity-50"})})]}));pt.displayName=W9.displayName;const Q9=x.forwardRef(({className:e,...t},r)=>i.jsx(K9,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Yne,{className:"h-4 w-4"})}));Q9.displayName=K9.displayName;const Z9=x.forwardRef(({className:e,...t},r)=>i.jsx(Y9,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Fh,{className:"h-4 w-4"})}));Z9.displayName=Y9.displayName;const gt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(Sle,{children:i.jsxs(H9,{ref:a,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(Q9,{}),i.jsx(Nle,{className:xe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(Z9,{})]})}));gt.displayName=H9.displayName;const Ele=x.forwardRef(({className:e,...t},r)=>i.jsx(q9,{ref:r,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ele.displayName=q9.displayName;const Te=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(G9,{ref:n,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Cle,{children:i.jsx(NT,{className:"h-4 w-4"})})}),i.jsx(kle,{children:t})]}));Te.displayName=G9.displayName;const Tle=x.forwardRef(({className:e,...t},r)=>i.jsx(X9,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));Tle.displayName=X9.displayName;const J9=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=Ma(),n=r.find(a=>a.code===e);return i.jsxs(yt,{value:e,onValueChange:t,children:[i.jsx(pt,{className:"w-[140px]",children:i.jsx(bt,{children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:n==null?void 0:n.name})})})}),i.jsx(gt,{children:r.map(a=>i.jsx(Te,{value:a.code,children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:a.name})})},a.code))})]})};function Ale(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Fa=e=>{const{present:t,children:r}=e,n=Ple(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=$t(n.ref,Ole(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};Fa.displayName="Presence";function Ple(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Ale(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=ay(n.current);s.current=l==="mounted"?u:"none"},[l]),wn(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=ay(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),wn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=ay(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=ay(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ay(e){return(e==null?void 0:e.animationName)||"none"}function Ole(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var PS="rovingFocusGroup.onEntryFocus",Dle={bubbles:!1,cancelable:!0},qv="RovingFocusGroup",[lk,eU,Rle]=TT(qv),[Mle,Zw]=os(qv,[Rle]),[Fle,Ile]=Mle(qv),tU=x.forwardRef((e,t)=>i.jsx(lk.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(lk.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Lle,{...e,ref:t})})}));tU.displayName=qv;var Lle=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=$t(t,h),p=Bv(s),[g,v]=uc({prop:o,defaultProp:l??null,onChange:c,caller:qv}),[y,b]=x.useState(!1),w=Vn(u),_=eU(r),j=x.useRef(!1),[N,S]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(PS,w),()=>k.removeEventListener(PS,w)},[w]),i.jsx(Fle,{scope:r,orientation:n,dir:p,loop:a,currentTabStopId:g,onItemFocus:x.useCallback(k=>v(k),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>S(k=>k-1),[]),children:i.jsx(ut.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:et(e.onMouseDown,()=>{j.current=!0}),onFocus:et(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!y){const E=new CustomEvent(PS,Dle);if(k.currentTarget.dispatchEvent(E),!E.defaultPrevented){const P=_().filter(L=>L.focusable),T=P.find(L=>L.active),W=P.find(L=>L.id===g),U=[T,W,...P].filter(Boolean).map(L=>L.ref.current);aU(U,d)}}j.current=!1}),onBlur:et(e.onBlur,()=>b(!1))})})}),rU="RovingFocusGroupItem",nU=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=ta(),u=s||c,d=Ile(rU,r),f=d.currentTabStopId===u,h=eU(r),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:g}=d;return x.useEffect(()=>{if(n)return m(),()=>p()},[n,m,p]),i.jsx(lk.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:i.jsx(ut.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:et(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:et(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:et(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=Ule(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?zle(w,_+1):w.slice(_+1)}setTimeout(()=>aU(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});nU.displayName=rU;var $le={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ble(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ule(e,t,r){const n=Ble(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $le[n]}function aU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function zle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sU=tU,iU=nU,ck=["Enter"," "],Vle=["ArrowDown","PageUp","Home"],oU=["ArrowUp","PageDown","End"],Wle=[...Vle,...oU],Hle={ltr:[...ck,"ArrowRight"],rtl:[...ck,"ArrowLeft"]},qle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gv="Menu",[Dg,Gle,Kle]=TT(Gv),[Nf,lU]=os(Gv,[Kle,gp,Zw]),Jw=gp(),cU=Zw(),[Yle,kf]=Nf(Gv),[Xle,Kv]=Nf(Gv),uU=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=Jw(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Vn(s),h=Bv(a);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),i.jsx(BT,{...l,children:i.jsx(Yle,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(Xle,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};uU.displayName=Gv;var Qle="MenuAnchor",HT=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Jw(r);return i.jsx(qw,{...a,...n,ref:t})});HT.displayName=Qle;var qT="MenuPortal",[Zle,dU]=Nf(qT,{forceMount:void 0}),fU=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=kf(qT,t);return i.jsx(Zle,{scope:t,forceMount:r,children:i.jsx(Fa,{present:r||s.open,children:i.jsx(Wv,{asChild:!0,container:a,children:n})})})};fU.displayName=qT;var Ai="MenuContent",[Jle,GT]=Nf(Ai),hU=x.forwardRef((e,t)=>{const r=dU(Ai,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=kf(Ai,e.__scopeMenu),o=Kv(Ai,e.__scopeMenu);return i.jsx(Dg.Provider,{scope:e.__scopeMenu,children:i.jsx(Fa,{present:n||s.open,children:i.jsx(Dg.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(ece,{...a,ref:t}):i.jsx(tce,{...a,ref:t})})})})}),ece=x.forwardRef((e,t)=>{const r=kf(Ai,e.__scopeMenu),n=x.useRef(null),a=$t(t,n);return x.useEffect(()=>{const s=n.current;if(s)return Gw(s)},[]),i.jsx(KT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),tce=x.forwardRef((e,t)=>{const r=kf(Ai,e.__scopeMenu);return i.jsx(KT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),rce=Du("MenuContent.ScrollLock"),KT=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:p,...g}=e,v=kf(Ai,r),y=Kv(Ai,r),b=Jw(r),w=cU(r),_=Gle(r),[j,N]=x.useState(null),S=x.useRef(null),k=$t(t,S,v.onContentChange),C=x.useRef(0),E=x.useRef(""),P=x.useRef(0),T=x.useRef(null),W=x.useRef("right"),G=x.useRef(0),U=p?Hv:x.Fragment,L=p?{as:rce,allowPinchZoom:!0}:void 0,V=I=>{var ne,ge;const X=E.current+I,Q=_().filter(se=>!se.disabled),O=document.activeElement,M=(ne=Q.find(se=>se.ref.current===O))==null?void 0:ne.textValue,F=Q.map(se=>se.textValue),H=mce(F,X,M),ee=(ge=Q.find(se=>se.textValue===H))==null?void 0:ge.ref.current;(function se(Z){E.current=Z,window.clearTimeout(C.current),Z!==""&&(C.current=window.setTimeout(()=>se(""),1e3))})(X),ee&&setTimeout(()=>ee.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),zw();const B=x.useCallback(I=>{var Q,O;return W.current===((Q=T.current)==null?void 0:Q.side)&&gce(I,(O=T.current)==null?void 0:O.area)},[]);return i.jsx(Jle,{scope:r,searchRef:E,onItemEnter:x.useCallback(I=>{B(I)&&I.preventDefault()},[B]),onItemLeave:x.useCallback(I=>{var X;B(I)||((X=S.current)==null||X.focus(),N(null))},[B]),onTriggerLeave:x.useCallback(I=>{B(I)&&I.preventDefault()},[B]),pointerGraceTimerRef:P,onPointerGraceIntentChange:x.useCallback(I=>{T.current=I},[]),children:i.jsx(U,{...L,children:i.jsx(zv,{asChild:!0,trapped:a,onMountAutoFocus:et(s,I=>{var X;I.preventDefault(),(X=S.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(sU,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:et(c,I=>{y.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(UT,{role:"menu","aria-orientation":"vertical","data-state":TU(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:et(g.onKeyDown,I=>{const Q=I.target.closest("[data-radix-menu-content]")===I.currentTarget,O=I.ctrlKey||I.altKey||I.metaKey,M=I.key.length===1;Q&&(I.key==="Tab"&&I.preventDefault(),!O&&M&&V(I.key));const F=S.current;if(I.target!==F||!Wle.includes(I.key))return;I.preventDefault();const ee=_().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);oU.includes(I.key)&&ee.reverse(),fce(ee)}),onBlur:et(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:et(e.onPointerMove,Rg(I=>{const X=I.target,Q=G.current!==I.clientX;if(I.currentTarget.contains(X)&&Q){const O=I.clientX>G.current?"right":"left";W.current=O,G.current=I.clientX}}))})})})})})})});hU.displayName=Ai;var nce="MenuGroup",YT=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ut.div,{role:"group",...n,ref:t})});YT.displayName=nce;var ace="MenuLabel",mU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ut.div,{...n,ref:t})});mU.displayName=ace;var z1="MenuItem",$R="menu.itemSelect",e_=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=x.useRef(null),o=Kv(z1,e.__scopeMenu),l=GT(z1,e.__scopeMenu),c=$t(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent($R,{bubbles:!0,cancelable:!0});f.addEventListener($R,m=>n==null?void 0:n(m),{once:!0}),_B(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(pU,{...a,ref:c,disabled:r,onClick:et(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:et(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:et(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||ck.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});e_.displayName=z1;var pU=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=GT(z1,r),l=cU(r),c=x.useRef(null),u=$t(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[s.children]),i.jsx(Dg.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:i.jsx(iU,{asChild:!0,...l,focusable:!n,children:i.jsx(ut.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:et(e.onPointerMove,Rg(p=>{n?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(e.onPointerLeave,Rg(p=>o.onItemLeave(p))),onFocus:et(e.onFocus,()=>f(!0)),onBlur:et(e.onBlur,()=>f(!1))})})})}),sce="MenuCheckboxItem",gU=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(wU,{scope:e.__scopeMenu,checked:r,children:i.jsx(e_,{role:"menuitemcheckbox","aria-checked":V1(r)?"mixed":r,...a,ref:t,"data-state":QT(r),onSelect:et(a.onSelect,()=>n==null?void 0:n(V1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});gU.displayName=sce;var vU="MenuRadioGroup",[ice,oce]=Nf(vU,{value:void 0,onValueChange:()=>{}}),xU=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Vn(n);return i.jsx(ice,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(YT,{...a,ref:t})})});xU.displayName=vU;var yU="MenuRadioItem",bU=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=oce(yU,e.__scopeMenu),s=r===a.value;return i.jsx(wU,{scope:e.__scopeMenu,checked:s,children:i.jsx(e_,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":QT(s),onSelect:et(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});bU.displayName=yU;var XT="MenuItemIndicator",[wU,lce]=Nf(XT,{checked:!1}),_U=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=lce(XT,r);return i.jsx(Fa,{present:n||V1(s.checked)||s.checked===!0,children:i.jsx(ut.span,{...a,ref:t,"data-state":QT(s.checked)})})});_U.displayName=XT;var cce="MenuSeparator",jU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ut.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});jU.displayName=cce;var uce="MenuArrow",SU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Jw(r);return i.jsx(zT,{...a,...n,ref:t})});SU.displayName=uce;var dce="MenuSub",[_He,NU]=Nf(dce),_0="MenuSubTrigger",kU=x.forwardRef((e,t)=>{const r=kf(_0,e.__scopeMenu),n=Kv(_0,e.__scopeMenu),a=NU(_0,e.__scopeMenu),s=GT(_0,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(HT,{asChild:!0,...u,children:i.jsx(pU,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":TU(r.open),...e,ref:oc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,Rg(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:et(e.onPointerLeave,Rg(f=>{var m,p;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(p=r.content)==null?void 0:p.dataset.side,v=g==="right",y=v?-5:5,b=h[v?"left":"right"],w=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||Hle[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});kU.displayName=_0;var CU="MenuSubContent",EU=x.forwardRef((e,t)=>{const r=dU(Ai,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=kf(Ai,e.__scopeMenu),o=Kv(Ai,e.__scopeMenu),l=NU(CU,e.__scopeMenu),c=x.useRef(null),u=$t(t,c);return i.jsx(Dg.Provider,{scope:e.__scopeMenu,children:i.jsx(Fa,{present:n||s.open,children:i.jsx(Dg.Slot,{scope:e.__scopeMenu,children:i.jsx(KT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:et(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:et(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=qle[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});EU.displayName=CU;function TU(e){return e?"open":"closed"}function V1(e){return e==="indeterminate"}function QT(e){return V1(e)?"indeterminate":e?"checked":"unchecked"}function fce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function hce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function mce(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=hce(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function pce(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function gce(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return pce(r,t)}function Rg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var vce=uU,xce=HT,yce=fU,bce=hU,wce=YT,_ce=mU,jce=e_,Sce=gU,Nce=xU,kce=bU,Cce=_U,Ece=jU,Tce=SU,Ace=kU,Pce=EU,t_="DropdownMenu",[Oce,jHe]=os(t_,[lU]),ls=lU(),[Dce,AU]=Oce(t_),PU=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=ls(t),u=x.useRef(null),[d,f]=uc({prop:a,defaultProp:s??!1,onChange:o,caller:t_});return i.jsx(Dce,{scope:t,triggerId:ta(),triggerRef:u,contentId:ta(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(vce,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};PU.displayName=t_;var OU="DropdownMenuTrigger",DU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=AU(OU,r),o=ls(r);return i.jsx(xce,{asChild:!0,...o,children:i.jsx(ut.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:oc(t,s.triggerRef),onPointerDown:et(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:et(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});DU.displayName=OU;var Rce="DropdownMenuPortal",RU=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ls(t);return i.jsx(yce,{...n,...r})};RU.displayName=Rce;var MU="DropdownMenuContent",FU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=AU(MU,r),s=ls(r),o=x.useRef(!1);return i.jsx(bce,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:et(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:et(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FU.displayName=MU;var Mce="DropdownMenuGroup",Fce=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(wce,{...a,...n,ref:t})});Fce.displayName=Mce;var Ice="DropdownMenuLabel",IU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(_ce,{...a,...n,ref:t})});IU.displayName=Ice;var Lce="DropdownMenuItem",LU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(jce,{...a,...n,ref:t})});LU.displayName=Lce;var $ce="DropdownMenuCheckboxItem",$U=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(Sce,{...a,...n,ref:t})});$U.displayName=$ce;var Bce="DropdownMenuRadioGroup",Uce=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(Nce,{...a,...n,ref:t})});Uce.displayName=Bce;var zce="DropdownMenuRadioItem",BU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(kce,{...a,...n,ref:t})});BU.displayName=zce;var Vce="DropdownMenuItemIndicator",UU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(Cce,{...a,...n,ref:t})});UU.displayName=Vce;var Wce="DropdownMenuSeparator",zU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(Ece,{...a,...n,ref:t})});zU.displayName=Wce;var Hce="DropdownMenuArrow",qce=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(Tce,{...a,...n,ref:t})});qce.displayName=Hce;var Gce="DropdownMenuSubTrigger",VU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(Ace,{...a,...n,ref:t})});VU.displayName=Gce;var Kce="DropdownMenuSubContent",WU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return i.jsx(Pce,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WU.displayName=Kce;var Yce=PU,Xce=DU,Qce=RU,HU=FU,qU=IU,GU=LU,KU=$U,YU=BU,XU=UU,QU=zU,ZU=VU,JU=WU;const ZT=Yce,JT=Xce,Zce=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(ZU,{ref:a,className:xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(Lw,{className:"ml-auto h-4 w-4"})]}));Zce.displayName=ZU.displayName;const Jce=x.forwardRef(({className:e,...t},r)=>i.jsx(JU,{ref:r,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Jce.displayName=JU.displayName;const r_=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(Qce,{children:i.jsx(HU,{ref:n,sideOffset:t,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));r_.displayName=HU.displayName;const Ul=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(GU,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Ul.displayName=GU.displayName;const eue=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(KU,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(XU,{children:i.jsx(NT,{className:"h-4 w-4"})})}),t]}));eue.displayName=KU.displayName;const tue=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(YU,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(XU,{children:i.jsx(Qne,{className:"h-2 w-2 fill-current"})})}),t]}));tue.displayName=YU.displayName;const rue=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(qU,{ref:n,className:xe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));rue.displayName=qU.displayName;const uk=x.forwardRef(({className:e,...t},r)=>i.jsx(QU,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));uk.displayName=QU.displayName;var n_="Dialog",[e7,t7]=os(n_),[nue,To]=e7(n_),r7=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=uc({prop:n,defaultProp:a??!1,onChange:s,caller:n_});return i.jsx(nue,{scope:t,triggerRef:l,contentRef:c,contentId:ta(),titleId:ta(),descriptionId:ta(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};r7.displayName=n_;var n7="DialogTrigger",a7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=To(n7,r),s=$t(t,a.triggerRef);return i.jsx(ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rA(a.open),...n,ref:s,onClick:et(e.onClick,a.onOpenToggle)})});a7.displayName=n7;var eA="DialogPortal",[aue,s7]=e7(eA,{forceMount:void 0}),i7=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=To(eA,t);return i.jsx(aue,{scope:t,forceMount:r,children:x.Children.map(n,o=>i.jsx(Fa,{present:r||s.open,children:i.jsx(Wv,{asChild:!0,container:a,children:o})}))})};i7.displayName=eA;var W1="DialogOverlay",o7=x.forwardRef((e,t)=>{const r=s7(W1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=To(W1,e.__scopeDialog);return s.modal?i.jsx(Fa,{present:n||s.open,children:i.jsx(iue,{...a,ref:t})}):null});o7.displayName=W1;var sue=Du("DialogOverlay.RemoveScroll"),iue=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=To(W1,r);return i.jsx(Hv,{as:sue,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(ut.div,{"data-state":rA(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),of="DialogContent",l7=x.forwardRef((e,t)=>{const r=s7(of,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=To(of,e.__scopeDialog);return i.jsx(Fa,{present:n||s.open,children:s.modal?i.jsx(oue,{...a,ref:t}):i.jsx(lue,{...a,ref:t})})});l7.displayName=of;var oue=x.forwardRef((e,t)=>{const r=To(of,e.__scopeDialog),n=x.useRef(null),a=$t(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return Gw(s)},[]),i.jsx(c7,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault())})}),lue=x.forwardRef((e,t)=>{const r=To(of,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(c7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),c7=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=To(of,r),c=x.useRef(null),u=$t(t,c);return zw(),i.jsxs(i.Fragment,{children:[i.jsx(zv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Uv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(uue,{titleId:l.titleId}),i.jsx(fue,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tA="DialogTitle",u7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=To(tA,r);return i.jsx(ut.h2,{id:a.titleId,...n,ref:t})});u7.displayName=tA;var d7="DialogDescription",f7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=To(d7,r);return i.jsx(ut.p,{id:a.descriptionId,...n,ref:t})});f7.displayName=d7;var h7="DialogClose",m7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=To(h7,r);return i.jsx(ut.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>a.onOpenChange(!1))})});m7.displayName=h7;function rA(e){return e?"open":"closed"}var p7="DialogTitleWarning",[cue,g7]=xse(p7,{contentName:of,titleName:tA,docsSlug:"dialog"}),uue=({titleId:e})=>{const t=g7(p7),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},due="DialogDescriptionWarning",fue=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${g7(due).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},a_=r7,nA=a7,s_=i7,xp=o7,yp=l7,Yv=u7,Xv=f7,i_=m7;const vn=a_,H1=nA,hue=s_,v7=x.forwardRef(({className:e,...t},r)=>i.jsx(xp,{ref:r,className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));v7.displayName=xp.displayName;const an=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(hue,{children:[i.jsx(v7,{}),i.jsxs(yp,{ref:n,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,i.jsxs(i_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(_o,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));an.displayName=yp.displayName;const sn=({className:e,...t})=>i.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});sn.displayName="DialogHeader";const Oa=({className:e,...t})=>i.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",Xt()&&"sm:space-x-reverse",e),...t});Oa.displayName="DialogFooter";const on=x.forwardRef(({className:e,...t},r)=>i.jsx(Yv,{ref:r,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));on.displayName=Yv.displayName;const Da=x.forwardRef(({className:e,...t},r)=>i.jsx(Xv,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Da.displayName=Xv.displayName;const mue=$v("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),wm=x.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:xe(mue({variant:t}),e),...r}));wm.displayName="Alert";const pue=x.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:xe("mb-1 font-medium leading-none tracking-tight",e),...t}));pue.displayName="AlertTitle";const _m=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("text-sm [&_p]:leading-relaxed",e),...t}));_m.displayName="AlertDescription";function gue({onToggleSidebar:e}){var _,j,N;const{breadcrumbs:t}=Iv(),{user:r,logout:n}=pr(),{t:a}=Bt(),s=Ms(),{setTheme:o}=Dne(),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,p]=x.useState(""),[g,v]=x.useState(!1),y=()=>{try{n(),s("/login")}catch(S){console.error("Logout failed:",S),s("/login")}},b=()=>{c(!0)},w=async S=>{if(S.preventDefault(),!g){if(!u.trim()){p(a("settings.newPasswordRequired"));return}if(u.length<6){p(a("settings.passwordTooShort"));return}if(u!==f){p(a("settings.passwordsDoNotMatch"));return}p(""),v(!0);try{throw new Error("Password change not available - Supabase removed")}catch(k){console.error("Password change failed:",k),p(k.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return i.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[i.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:i.jsx(lae,{className:"h-5 w-5"})}),t&&t.length>0&&i.jsx("div",{className:"hidden md:block",children:i.jsx(kse,{items:t})})]}),i.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"})]})}),i.jsx("div",{className:"flex-1"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Oe((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),i.jsx(J9,{}),i.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[i.jsx(Hne,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:i.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),i.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),i.jsxs(ZT,{children:[i.jsx(JT,{asChild:!0,children:i.jsxs(le,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[i.jsxs(ks,{className:"h-8 w-8",children:[i.jsx(jo,{src:(_=r==null?void 0:r.profile)==null?void 0:_.avatar}),i.jsx(Cs,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(j=r==null?void 0:r.email)==null?void 0:j.charAt(0).toUpperCase()})]}),i.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),i.jsxs(r_,{align:"end",className:"w-56",children:[i.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:i.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[i.jsx("p",{className:"font-medium text-sm",children:Oe((r==null?void 0:r.profile)||{},"user_name")||((N=r==null?void 0:r.email)==null?void 0:N.split("@")[0])}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),i.jsx(uk,{}),i.jsxs(Ul,{onClick:()=>o("light"),children:[i.jsx(vae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.light","Light")})]}),i.jsxs(Ul,{onClick:()=>o("dark"),children:[i.jsx(uae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.dark","Dark")})]}),i.jsxs(Ul,{onClick:()=>o("system"),children:[i.jsx(kT,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.system","System")})]}),i.jsx(uk,{}),i.jsxs(Ul,{onClick:b,children:[i.jsx(iae,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),i.jsxs(Ul,{onClick:y,className:"text-destructive focus:text-destructive",children:[i.jsx(bae,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),i.jsx(vn,{open:l,onOpenChange:c,children:i.jsxs(an,{className:"sm:max-w-[425px]",children:[i.jsxs(sn,{children:[i.jsx(on,{children:a("settings.changePassword")}),i.jsx(Da,{children:a("settings.changePasswordDescription")})]}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[m&&i.jsx(wm,{variant:"destructive",children:i.jsx(_m,{children:m})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"newPassword",children:a("settings.newPassword")}),i.jsx(Ve,{id:"newPassword",type:"password",value:u,onChange:S=>d(S.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),i.jsx(Ve,{id:"confirmPassword",type:"password",value:f,onChange:S=>h(S.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(le,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),i.jsx(le,{type:"submit",disabled:g||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(g?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const ml=a_,x7=nA,vue=s_,y7=x.forwardRef(({className:e,...t},r)=>i.jsx(xp,{className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));y7.displayName=xp.displayName;const xue=$v("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ko=x.forwardRef(({side:e="right",className:t,children:r,...n},a)=>i.jsxs(vue,{children:[i.jsx(y7,{}),i.jsxs(yp,{ref:a,className:xe(xue({side:e}),t),...n,children:[r,i.jsxs(i_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(_o,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ko.displayName=yp.displayName;const dc=({className:e,...t})=>i.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});dc.displayName="SheetHeader";const pl=x.forwardRef(({className:e,...t},r)=>i.jsx(Yv,{ref:r,className:xe("text-lg font-semibold text-foreground",e),...t}));pl.displayName=Yv.displayName;const lf=x.forwardRef(({className:e,...t},r)=>i.jsx(Xv,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));lf.displayName=Xv.displayName;function dk({children:e}){const[t,r]=x.useState(!0),[n,a]=x.useState(!1),[s,o]=x.useState(!1);x.useEffect(()=>{const u=()=>{const d=window.innerWidth;a(d<768),o(d>=768&&d<1024),d<768?r(!1):r(!0)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const l=()=>{r(!t)},c=()=>{n&&r(!1)};return i.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[i.jsx(gue,{onToggleSidebar:l}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!n&&!s&&i.jsx("aside",{className:xe("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block h-full",t?"w-60":"w-0 overflow-hidden"),children:i.jsx(wS,{onNavigate:c})}),s&&i.jsx("aside",{className:xe("bg-sidebar transition-all duration-300 ease-in-out h-full",t?"w-60":"w-0 overflow-hidden"),children:i.jsx(wS,{onNavigate:c})}),n&&i.jsx(ml,{open:t,onOpenChange:r,children:i.jsxs(ko,{side:Xt()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[i.jsx(pl,{className:"sr-only",children:"Navigation Menu"}),i.jsx(lf,{className:"sr-only",children:"Application navigation sidebar"}),i.jsx(wS,{onNavigate:c})]})}),i.jsx("main",{className:"flex-1 overflow-hidden bg-background w-full",children:i.jsx("div",{className:"h-full p-3 sm:p-4 md:p-6 pt-2 overflow-y-auto",children:e})})]})]})}const OS=1024;function Jr(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${OS-1}px)`),n=()=>{t(window.innerWidth<OS)};return r.addEventListener("change",n),t(window.innerWidth<OS),()=>r.removeEventListener("change",n)},[]),!!e}const yue=$v("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function dt({className:e,variant:t,...r}){return i.jsx("div",{className:xe(yue({variant:t}),e),...r})}function b7(){Bt();const[e,t]=x.useState(new Date);x.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return i.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[i.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),i.jsx("div",{className:"text-sm",children:r(e)})]})}var bue=Array.isArray,Is=bue,wue=typeof Ax=="object"&&Ax&&Ax.Object===Object&&Ax,w7=wue,_ue=w7,jue=typeof self=="object"&&self&&self.Object===Object&&self,Sue=_ue||jue||Function("return this")(),Sl=Sue,Nue=Sl,kue=Nue.Symbol,Qv=kue,BR=Qv,_7=Object.prototype,Cue=_7.hasOwnProperty,Eue=_7.toString,Zp=BR?BR.toStringTag:void 0;function Tue(e){var t=Cue.call(e,Zp),r=e[Zp];try{e[Zp]=void 0;var n=!0}catch{}var a=Eue.call(e);return n&&(t?e[Zp]=r:delete e[Zp]),a}var Aue=Tue,Pue=Object.prototype,Oue=Pue.toString;function Due(e){return Oue.call(e)}var Rue=Due,UR=Qv,Mue=Aue,Fue=Rue,Iue="[object Null]",Lue="[object Undefined]",zR=UR?UR.toStringTag:void 0;function $ue(e){return e==null?e===void 0?Lue:Iue:zR&&zR in Object(e)?Mue(e):Fue(e)}var bc=$ue;function Bue(e){return e!=null&&typeof e=="object"}var wc=Bue,Uue=bc,zue=wc,Vue="[object Symbol]";function Wue(e){return typeof e=="symbol"||zue(e)&&Uue(e)==Vue}var bp=Wue,Hue=Is,que=bp,Gue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kue=/^\w*$/;function Yue(e,t){if(Hue(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||que(e)?!0:Kue.test(e)||!Gue.test(e)||t!=null&&e in Object(t)}var aA=Yue;function Xue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Gu=Xue;const wp=mr(Gu);var Que=bc,Zue=Gu,Jue="[object AsyncFunction]",ede="[object Function]",tde="[object GeneratorFunction]",rde="[object Proxy]";function nde(e){if(!Zue(e))return!1;var t=Que(e);return t==ede||t==tde||t==Jue||t==rde}var sA=nde;const Ct=mr(sA);var ade=Sl,sde=ade["__core-js_shared__"],ide=sde,DS=ide,VR=function(){var e=/[^.]+$/.exec(DS&&DS.keys&&DS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ode(e){return!!VR&&VR in e}var lde=ode,cde=Function.prototype,ude=cde.toString;function dde(e){if(e!=null){try{return ude.call(e)}catch{}try{return e+""}catch{}}return""}var j7=dde,fde=sA,hde=lde,mde=Gu,pde=j7,gde=/[\\^$.*+?()[\]{}|]/g,vde=/^\[object .+?Constructor\]$/,xde=Function.prototype,yde=Object.prototype,bde=xde.toString,wde=yde.hasOwnProperty,_de=RegExp("^"+bde.call(wde).replace(gde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jde(e){if(!mde(e)||hde(e))return!1;var t=fde(e)?_de:vde;return t.test(pde(e))}var Sde=jde;function Nde(e,t){return e==null?void 0:e[t]}var kde=Nde,Cde=Sde,Ede=kde;function Tde(e,t){var r=Ede(e,t);return Cde(r)?r:void 0}var Cf=Tde,Ade=Cf,Pde=Ade(Object,"create"),o_=Pde,WR=o_;function Ode(){this.__data__=WR?WR(null):{},this.size=0}var Dde=Ode;function Rde(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Mde=Rde,Fde=o_,Ide="__lodash_hash_undefined__",Lde=Object.prototype,$de=Lde.hasOwnProperty;function Bde(e){var t=this.__data__;if(Fde){var r=t[e];return r===Ide?void 0:r}return $de.call(t,e)?t[e]:void 0}var Ude=Bde,zde=o_,Vde=Object.prototype,Wde=Vde.hasOwnProperty;function Hde(e){var t=this.__data__;return zde?t[e]!==void 0:Wde.call(t,e)}var qde=Hde,Gde=o_,Kde="__lodash_hash_undefined__";function Yde(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Gde&&t===void 0?Kde:t,this}var Xde=Yde,Qde=Dde,Zde=Mde,Jde=Ude,efe=qde,tfe=Xde;function _p(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_p.prototype.clear=Qde;_p.prototype.delete=Zde;_p.prototype.get=Jde;_p.prototype.has=efe;_p.prototype.set=tfe;var rfe=_p;function nfe(){this.__data__=[],this.size=0}var afe=nfe;function sfe(e,t){return e===t||e!==e&&t!==t}var iA=sfe,ife=iA;function ofe(e,t){for(var r=e.length;r--;)if(ife(e[r][0],t))return r;return-1}var l_=ofe,lfe=l_,cfe=Array.prototype,ufe=cfe.splice;function dfe(e){var t=this.__data__,r=lfe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ufe.call(t,r,1),--this.size,!0}var ffe=dfe,hfe=l_;function mfe(e){var t=this.__data__,r=hfe(t,e);return r<0?void 0:t[r][1]}var pfe=mfe,gfe=l_;function vfe(e){return gfe(this.__data__,e)>-1}var xfe=vfe,yfe=l_;function bfe(e,t){var r=this.__data__,n=yfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var wfe=bfe,_fe=afe,jfe=ffe,Sfe=pfe,Nfe=xfe,kfe=wfe;function jp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jp.prototype.clear=_fe;jp.prototype.delete=jfe;jp.prototype.get=Sfe;jp.prototype.has=Nfe;jp.prototype.set=kfe;var c_=jp,Cfe=Cf,Efe=Sl,Tfe=Cfe(Efe,"Map"),oA=Tfe,HR=rfe,Afe=c_,Pfe=oA;function Ofe(){this.size=0,this.__data__={hash:new HR,map:new(Pfe||Afe),string:new HR}}var Dfe=Ofe;function Rfe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Mfe=Rfe,Ffe=Mfe;function Ife(e,t){var r=e.__data__;return Ffe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var u_=Ife,Lfe=u_;function $fe(e){var t=Lfe(this,e).delete(e);return this.size-=t?1:0,t}var Bfe=$fe,Ufe=u_;function zfe(e){return Ufe(this,e).get(e)}var Vfe=zfe,Wfe=u_;function Hfe(e){return Wfe(this,e).has(e)}var qfe=Hfe,Gfe=u_;function Kfe(e,t){var r=Gfe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Yfe=Kfe,Xfe=Dfe,Qfe=Bfe,Zfe=Vfe,Jfe=qfe,ehe=Yfe;function Sp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sp.prototype.clear=Xfe;Sp.prototype.delete=Qfe;Sp.prototype.get=Zfe;Sp.prototype.has=Jfe;Sp.prototype.set=ehe;var lA=Sp,S7=lA,the="Expected a function";function cA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(the);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(cA.Cache||S7),r}cA.Cache=S7;var N7=cA;const rhe=mr(N7);var nhe=N7,ahe=500;function she(e){var t=nhe(e,function(n){return r.size===ahe&&r.clear(),n}),r=t.cache;return t}var ihe=she,ohe=ihe,lhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,che=/\\(\\)?/g,uhe=ohe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lhe,function(r,n,a,s){t.push(a?s.replace(che,"$1"):n||r)}),t}),dhe=uhe;function fhe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var uA=fhe,qR=Qv,hhe=uA,mhe=Is,phe=bp,ghe=1/0,GR=qR?qR.prototype:void 0,KR=GR?GR.toString:void 0;function k7(e){if(typeof e=="string")return e;if(mhe(e))return hhe(e,k7)+"";if(phe(e))return KR?KR.call(e):"";var t=e+"";return t=="0"&&1/e==-ghe?"-0":t}var vhe=k7,xhe=vhe;function yhe(e){return e==null?"":xhe(e)}var C7=yhe,bhe=Is,whe=aA,_he=dhe,jhe=C7;function She(e,t){return bhe(e)?e:whe(e,t)?[e]:_he(jhe(e))}var E7=She,Nhe=bp,khe=1/0;function Che(e){if(typeof e=="string"||Nhe(e))return e;var t=e+"";return t=="0"&&1/e==-khe?"-0":t}var d_=Che,Ehe=E7,The=d_;function Ahe(e,t){t=Ehe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[The(t[r++])];return r&&r==n?e:void 0}var dA=Ahe,Phe=dA;function Ohe(e,t,r){var n=e==null?void 0:Phe(e,t);return n===void 0?r:n}var T7=Ohe;const ti=mr(T7);function Dhe(e){return e==null}var Rhe=Dhe;const Dt=mr(Rhe);var Mhe=bc,Fhe=Is,Ihe=wc,Lhe="[object String]";function $he(e){return typeof e=="string"||!Fhe(e)&&Ihe(e)&&Mhe(e)==Lhe}var Bhe=$he;const cf=mr(Bhe);var A7={exports:{}},br={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA=Symbol.for("react.element"),hA=Symbol.for("react.portal"),f_=Symbol.for("react.fragment"),h_=Symbol.for("react.strict_mode"),m_=Symbol.for("react.profiler"),p_=Symbol.for("react.provider"),g_=Symbol.for("react.context"),Uhe=Symbol.for("react.server_context"),v_=Symbol.for("react.forward_ref"),x_=Symbol.for("react.suspense"),y_=Symbol.for("react.suspense_list"),b_=Symbol.for("react.memo"),w_=Symbol.for("react.lazy"),zhe=Symbol.for("react.offscreen"),P7;P7=Symbol.for("react.module.reference");function Fi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case fA:switch(e=e.type,e){case f_:case m_:case h_:case x_:case y_:return e;default:switch(e=e&&e.$$typeof,e){case Uhe:case g_:case v_:case w_:case b_:case p_:return e;default:return t}}case hA:return t}}}br.ContextConsumer=g_;br.ContextProvider=p_;br.Element=fA;br.ForwardRef=v_;br.Fragment=f_;br.Lazy=w_;br.Memo=b_;br.Portal=hA;br.Profiler=m_;br.StrictMode=h_;br.Suspense=x_;br.SuspenseList=y_;br.isAsyncMode=function(){return!1};br.isConcurrentMode=function(){return!1};br.isContextConsumer=function(e){return Fi(e)===g_};br.isContextProvider=function(e){return Fi(e)===p_};br.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fA};br.isForwardRef=function(e){return Fi(e)===v_};br.isFragment=function(e){return Fi(e)===f_};br.isLazy=function(e){return Fi(e)===w_};br.isMemo=function(e){return Fi(e)===b_};br.isPortal=function(e){return Fi(e)===hA};br.isProfiler=function(e){return Fi(e)===m_};br.isStrictMode=function(e){return Fi(e)===h_};br.isSuspense=function(e){return Fi(e)===x_};br.isSuspenseList=function(e){return Fi(e)===y_};br.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===f_||e===m_||e===h_||e===x_||e===y_||e===zhe||typeof e=="object"&&e!==null&&(e.$$typeof===w_||e.$$typeof===b_||e.$$typeof===p_||e.$$typeof===g_||e.$$typeof===v_||e.$$typeof===P7||e.getModuleId!==void 0)};br.typeOf=Fi;A7.exports=br;var Vhe=A7.exports,Whe=bc,Hhe=wc,qhe="[object Number]";function Ghe(e){return typeof e=="number"||Hhe(e)&&Whe(e)==qhe}var O7=Ghe;const Khe=mr(O7);var Yhe=O7;function Xhe(e){return Yhe(e)&&e!=+e}var Qhe=Xhe;const Zv=mr(Qhe);var Xa=function(t){return t===0?0:t>0?1:-1},jd=function(t){return cf(t)&&t.indexOf("%")===t.length-1},Ke=function(t){return Khe(t)&&!Zv(t)},Zhe=function(t){return Dt(t)},Dn=function(t){return Ke(t)||cf(t)},Jhe=0,Np=function(t){var r=++Jhe;return"".concat(t||"").concat(r)},Qa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(t)&&!cf(t))return n;var s;if(jd(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Zv(s)&&(s=n),a&&s>r&&(s=r),s},qc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},eme=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Gs=function(t,r){return Ke(t)&&Ke(r)?function(n){return t+n*(r-t)}:function(){return r}};function q1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ti(n,t))===r})}var tme=function(t,r){return Ke(t)&&Ke(r)?t-r:cf(t)&&cf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Bh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function fk(e){"@babel/helpers - typeof";return fk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fk(e)}var rme=["viewBox","children"],nme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YR=["points","pathLength"],RS={svg:rme,polygon:YR,polyline:YR},mA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],G1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!wp(n))return null;var a={};return Object.keys(n).forEach(function(s){mA.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},ame=function(t,r,n){return function(a){return t(r,n,a),null}},uf=function(t,r,n){if(!wp(t)||fk(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];mA.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=ame(o,r,n))}),a},sme=["children"],ime=["children"];function XR(e,t){if(e==null)return{};var r=ome(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ome(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hk(e){"@babel/helpers - typeof";return hk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hk(e)}var QR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ZR=null,MS=null,pA=function e(t){if(t===ZR&&Array.isArray(MS))return MS;var r=[];return x.Children.forEach(t,function(n){Dt(n)||(Vhe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),MS=r,ZR=t,r};function ri(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Zl(a)}):n=[Zl(t)],pA(e).forEach(function(a){var s=ti(a,"type.displayName")||ti(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Ws(e,t){var r=ri(e,t);return r&&r[0]}var JR=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ke(n)||n<=0||!Ke(a)||a<=0)},lme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cme=function(t){return t&&t.type&&cf(t.type)&&lme.indexOf(t.type)>=0},ume=function(t){return t&&hk(t)==="object"&&"clipDot"in t},dme=function(t,r,n,a){var s,o=(s=RS==null?void 0:RS[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ct(t)&&(a&&o.includes(r)||nme.includes(r))||n&&mA.includes(r)},_t=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!wp(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;dme((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},mk=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return eM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!eM(s,o))return!1}return!0},eM=function(t,r){if(Dt(t)&&Dt(r))return!0;if(!Dt(t)&&!Dt(r)){var n=t.props||{},a=n.children,s=XR(n,sme),o=r.props||{},l=o.children,c=XR(o,ime);return a&&l?Bh(s,c)&&mk(a,l):!a&&!l?Bh(s,c):!1}return!1},tM=function(t,r){var n=[],a={};return pA(t).forEach(function(s,o){if(cme(s))n.push(s);else if(s){var l=Zl(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},fme=function(t){var r=t&&t.type;return r&&QR[r]?QR[r]:null},hme=function(t,r){return pA(r).indexOf(t)},mme=["children","width","height","viewBox","className","style","title","desc"];function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pk.apply(this,arguments)}function pme(e,t){if(e==null)return{};var r=gme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gk(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=pme(e,mme),d=a||{width:r,height:n,x:0,y:0},f=Mt("recharts-surface",s);return ie.createElement("svg",pk({},_t(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ie.createElement("title",null,l),ie.createElement("desc",null,c),t)}var vme=["children","className"];function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vk.apply(this,arguments)}function xme(e,t){if(e==null)return{};var r=yme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ir=ie.forwardRef(function(e,t){var r=e.children,n=e.className,a=xme(e,vme),s=Mt("recharts-layer",n);return ie.createElement("g",vk({className:s},_t(a,!0),{ref:t}),r)}),mo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function bme(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var wme=bme,_me=wme;function jme(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:_me(e,t,r)}var Sme=jme,Nme="\\ud800-\\udfff",kme="\\u0300-\\u036f",Cme="\\ufe20-\\ufe2f",Eme="\\u20d0-\\u20ff",Tme=kme+Cme+Eme,Ame="\\ufe0e\\ufe0f",Pme="\\u200d",Ome=RegExp("["+Pme+Nme+Tme+Ame+"]");function Dme(e){return Ome.test(e)}var D7=Dme;function Rme(e){return e.split("")}var Mme=Rme,R7="\\ud800-\\udfff",Fme="\\u0300-\\u036f",Ime="\\ufe20-\\ufe2f",Lme="\\u20d0-\\u20ff",$me=Fme+Ime+Lme,Bme="\\ufe0e\\ufe0f",Ume="["+R7+"]",xk="["+$me+"]",yk="\\ud83c[\\udffb-\\udfff]",zme="(?:"+xk+"|"+yk+")",M7="[^"+R7+"]",F7="(?:\\ud83c[\\udde6-\\uddff]){2}",I7="[\\ud800-\\udbff][\\udc00-\\udfff]",Vme="\\u200d",L7=zme+"?",$7="["+Bme+"]?",Wme="(?:"+Vme+"(?:"+[M7,F7,I7].join("|")+")"+$7+L7+")*",Hme=$7+L7+Wme,qme="(?:"+[M7+xk+"?",xk,F7,I7,Ume].join("|")+")",Gme=RegExp(yk+"(?="+yk+")|"+qme+Hme,"g");function Kme(e){return e.match(Gme)||[]}var Yme=Kme,Xme=Mme,Qme=D7,Zme=Yme;function Jme(e){return Qme(e)?Zme(e):Xme(e)}var epe=Jme,tpe=Sme,rpe=D7,npe=epe,ape=C7;function spe(e){return function(t){t=ape(t);var r=rpe(t)?npe(t):void 0,n=r?r[0]:t.charAt(0),a=r?tpe(r,1).join(""):t.slice(1);return n[e]()+a}}var ipe=spe,ope=ipe,lpe=ope("toUpperCase"),cpe=lpe;const __=mr(cpe);function Nr(e){return function(){return e}}const B7=Math.cos,K1=Math.sin,Ao=Math.sqrt,Y1=Math.PI,j_=2*Y1,bk=Math.PI,wk=2*bk,dd=1e-6,upe=wk-dd;function U7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function dpe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return U7;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class fpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?U7:dpe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>dd)if(!(Math.abs(f*c-u*d)>dd)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-l,g=c*c+u*u,v=m*m+p*p,y=Math.sqrt(g),b=Math.sqrt(h),w=s*Math.tan((bk-Math.acos((g+h-v)/(2*y*b)))/2),_=w/b,j=w/y;Math.abs(_-1)>dd&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>dd||Math.abs(this._y1-d)>dd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%wk+wk),h>upe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>dd&&this._append`A${n},${n},0,${+(h>=bk)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function gA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new fpe(t)}function vA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function z7(e){this._context=e}z7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function S_(e){return new z7(e)}function V7(e){return e[0]}function W7(e){return e[1]}function H7(e,t){var r=Nr(!0),n=null,a=S_,s=null,o=gA(l);e=typeof e=="function"?e:e===void 0?V7:Nr(e),t=typeof t=="function"?t:t===void 0?W7:Nr(t);function l(c){var u,d=(c=vA(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function sy(e,t,r){var n=null,a=Nr(!0),s=null,o=S_,l=null,c=gA(u);e=typeof e=="function"?e:e===void 0?V7:Nr(+e),t=typeof t=="function"?t:Nr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?W7:Nr(+r);function u(f){var h,m,p,g=(f=vA(f)).length,v,y=!1,b,w=new Array(g),_=new Array(g);for(s==null&&(l=o(b=c())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],_[p]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(b)return l=null,b+""||null}function d(){return H7().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Nr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class q7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function hpe(e){return new q7(e,!0)}function mpe(e){return new q7(e,!1)}const xA={draw(e,t){const r=Ao(t/Y1);e.moveTo(r,0),e.arc(0,0,r,0,j_)}},ppe={draw(e,t){const r=Ao(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},G7=Ao(1/3),gpe=G7*2,vpe={draw(e,t){const r=Ao(t/gpe),n=r*G7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xpe={draw(e,t){const r=Ao(t),n=-r/2;e.rect(n,n,r,r)}},ype=.8908130915292852,K7=K1(Y1/10)/K1(7*Y1/10),bpe=K1(j_/10)*K7,wpe=-B7(j_/10)*K7,_pe={draw(e,t){const r=Ao(t*ype),n=bpe*r,a=wpe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=j_*s/5,l=B7(o),c=K1(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},FS=Ao(3),jpe={draw(e,t){const r=-Ao(t/(FS*3));e.moveTo(0,r*2),e.lineTo(-FS*r,-r),e.lineTo(FS*r,-r),e.closePath()}},hi=-.5,mi=Ao(3)/2,_k=1/Ao(12),Spe=(_k/2+1)*3,Npe={draw(e,t){const r=Ao(t/Spe),n=r/2,a=r*_k,s=n,o=r*_k+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(hi*n-mi*a,mi*n+hi*a),e.lineTo(hi*s-mi*o,mi*s+hi*o),e.lineTo(hi*l-mi*c,mi*l+hi*c),e.lineTo(hi*n+mi*a,hi*a-mi*n),e.lineTo(hi*s+mi*o,hi*o-mi*s),e.lineTo(hi*l+mi*c,hi*c-mi*l),e.closePath()}};function kpe(e,t){let r=null,n=gA(a);e=typeof e=="function"?e:Nr(e||xA),t=typeof t=="function"?t:Nr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Nr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function X1(){}function Q1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Y7(e){this._context=e}Y7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Q1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cpe(e){return new Y7(e)}function X7(e){this._context=e}X7.prototype={areaStart:X1,areaEnd:X1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Epe(e){return new X7(e)}function Q7(e){this._context=e}Q7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tpe(e){return new Q7(e)}function Z7(e){this._context=e}Z7.prototype={areaStart:X1,areaEnd:X1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ape(e){return new Z7(e)}function rM(e){return e<0?-1:1}function nM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(rM(s)+rM(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function aM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function IS(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Z1(e){this._context=e}Z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:IS(this,this._t0,aM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,IS(this,aM(this,r=nM(this,e,t)),r);break;default:IS(this,this._t0,r=nM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function J7(e){this._context=new ez(e)}(J7.prototype=Object.create(Z1.prototype)).point=function(e,t){Z1.prototype.point.call(this,t,e)};function ez(e){this._context=e}ez.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Ppe(e){return new Z1(e)}function Ope(e){return new J7(e)}function tz(e){this._context=e}tz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=sM(e),a=sM(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function sM(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Dpe(e){return new tz(e)}function N_(e,t){this._context=e,this._t=t}N_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Rpe(e){return new N_(e,.5)}function Mpe(e){return new N_(e,0)}function Fpe(e){return new N_(e,1)}function jm(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function jk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ipe(e,t){return e[t]}function Lpe(e){const t=[];return t.key=e,t}function $pe(){var e=Nr([]),t=jk,r=jm,n=Ipe;function a(s){var o=Array.from(e.apply(this,arguments),Lpe),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=vA(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Nr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?jk:typeof s=="function"?s:Nr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??jm,a):r},a}function Bpe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}jm(e,t)}}function Upe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}jm(e,t)}}function zpe(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var g=e[t[p]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,jm(e,t)}}function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}var Vpe=["type","size","sizeType"];function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sk.apply(this,arguments)}function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(n){Wpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wpe(e,t,r){return t=Hpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hpe(e){var t=qpe(e,"string");return Mg(t)=="symbol"?t:t+""}function qpe(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gpe(e,t){if(e==null)return{};var r=Kpe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var rz={symbolCircle:xA,symbolCross:ppe,symbolDiamond:vpe,symbolSquare:xpe,symbolStar:_pe,symbolTriangle:jpe,symbolWye:Npe},Ype=Math.PI/180,Xpe=function(t){var r="symbol".concat(__(t));return rz[r]||xA},Qpe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Ype;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Zpe=function(t,r){rz["symbol".concat(__(t))]=r},yA=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Gpe(t,Vpe),u=oM(oM({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=Xpe(n),y=kpe().type(v).size(Qpe(s,l,n));return y()},f=u.className,h=u.cx,m=u.cy,p=_t(u,!0);return h===+h&&m===+m&&s===+s?ie.createElement("path",Sk({},p,{className:Mt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};yA.registerSymbol=Zpe;function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(r),!0).forEach(function(n){Fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,az(n.key),n)}}function r0e(e,t,r){return t&&t0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n0e(e,t,r){return t=J1(t),a0e(e,nz()?Reflect.construct(t,r||[],J1(e).constructor):t.apply(e,r))}function a0e(e,t){if(t&&(Sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s0e(e)}function s0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nz=function(){return!!e})()}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J1(e)}function i0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kk(e,t)}function kk(e,t){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(e,t)}function Fg(e,t,r){return t=az(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e){var t=o0e(e,"string");return Sm(t)=="symbol"?t:t+""}function o0e(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pi=32,bA=function(e){function t(){return e0e(this,t),n0e(this,t,arguments)}return i0e(t,e),r0e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=pi/2,o=pi/6,l=pi/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ie.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:pi,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ie.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(pi,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ie.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(pi/8,"h").concat(pi,"v").concat(pi*3/4,"h").concat(-pi,"z"),className:"recharts-legend-icon"});if(ie.isValidElement(n.legendIcon)){var u=Jpe({},n);return delete u.legendIcon,ie.cloneElement(n.legendIcon,u)}return ie.createElement(yA,{fill:c,cx:s,cy:s,size:pi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:pi,height:pi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,p){var g=m.formatter||c,v=Mt(Fg(Fg({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Ct(m.value)?null:m.value;mo(!Ct(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return ie.createElement("li",Nk({className:v,style:f,key:"legend-item-".concat(p)},uf(n.props,m,p)),ie.createElement(gk,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),ie.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(y,m,p):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ie.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Fg(bA,"displayName","Legend");Fg(bA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var l0e=c_;function c0e(){this.__data__=new l0e,this.size=0}var u0e=c0e;function d0e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var f0e=d0e;function h0e(e){return this.__data__.get(e)}var m0e=h0e;function p0e(e){return this.__data__.has(e)}var g0e=p0e,v0e=c_,x0e=oA,y0e=lA,b0e=200;function w0e(e,t){var r=this.__data__;if(r instanceof v0e){var n=r.__data__;if(!x0e||n.length<b0e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new y0e(n)}return r.set(e,t),this.size=r.size,this}var _0e=w0e,j0e=c_,S0e=u0e,N0e=f0e,k0e=m0e,C0e=g0e,E0e=_0e;function kp(e){var t=this.__data__=new j0e(e);this.size=t.size}kp.prototype.clear=S0e;kp.prototype.delete=N0e;kp.prototype.get=k0e;kp.prototype.has=C0e;kp.prototype.set=E0e;var sz=kp,T0e="__lodash_hash_undefined__";function A0e(e){return this.__data__.set(e,T0e),this}var P0e=A0e;function O0e(e){return this.__data__.has(e)}var D0e=O0e,R0e=lA,M0e=P0e,F0e=D0e;function eb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new R0e;++t<r;)this.add(e[t])}eb.prototype.add=eb.prototype.push=M0e;eb.prototype.has=F0e;var iz=eb;function I0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var oz=I0e;function L0e(e,t){return e.has(t)}var lz=L0e,$0e=iz,B0e=oz,U0e=lz,z0e=1,V0e=2;function W0e(e,t,r,n,a,s){var o=r&z0e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&V0e?new $0e:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var p=e[f],g=t[f];if(n)var v=o?n(g,p,f,t,e,s):n(p,g,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!B0e(t,function(y,b){if(!U0e(m,b)&&(p===y||a(p,y,r,n,s)))return m.push(b)})){h=!1;break}}else if(!(p===g||a(p,g,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var cz=W0e,H0e=Sl,q0e=H0e.Uint8Array,G0e=q0e;function K0e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Y0e=K0e;function X0e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var wA=X0e,cM=Qv,uM=G0e,Q0e=iA,Z0e=cz,J0e=Y0e,ege=wA,tge=1,rge=2,nge="[object Boolean]",age="[object Date]",sge="[object Error]",ige="[object Map]",oge="[object Number]",lge="[object RegExp]",cge="[object Set]",uge="[object String]",dge="[object Symbol]",fge="[object ArrayBuffer]",hge="[object DataView]",dM=cM?cM.prototype:void 0,LS=dM?dM.valueOf:void 0;function mge(e,t,r,n,a,s,o){switch(r){case hge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fge:return!(e.byteLength!=t.byteLength||!s(new uM(e),new uM(t)));case nge:case age:case oge:return Q0e(+e,+t);case sge:return e.name==t.name&&e.message==t.message;case lge:case uge:return e==t+"";case ige:var l=J0e;case cge:var c=n&tge;if(l||(l=ege),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=rge,o.set(e,t);var d=Z0e(l(e),l(t),n,a,s,o);return o.delete(e),d;case dge:if(LS)return LS.call(e)==LS.call(t)}return!1}var pge=mge;function gge(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var uz=gge,vge=uz,xge=Is;function yge(e,t,r){var n=t(e);return xge(e)?n:vge(n,r(e))}var bge=yge;function wge(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var _ge=wge;function jge(){return[]}var Sge=jge,Nge=_ge,kge=Sge,Cge=Object.prototype,Ege=Cge.propertyIsEnumerable,fM=Object.getOwnPropertySymbols,Tge=fM?function(e){return e==null?[]:(e=Object(e),Nge(fM(e),function(t){return Ege.call(e,t)}))}:kge,Age=Tge;function Pge(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Oge=Pge,Dge=bc,Rge=wc,Mge="[object Arguments]";function Fge(e){return Rge(e)&&Dge(e)==Mge}var Ige=Fge,hM=Ige,Lge=wc,dz=Object.prototype,$ge=dz.hasOwnProperty,Bge=dz.propertyIsEnumerable,Uge=hM(function(){return arguments}())?hM:function(e){return Lge(e)&&$ge.call(e,"callee")&&!Bge.call(e,"callee")},_A=Uge,tb={exports:{}};function zge(){return!1}var Vge=zge;tb.exports;(function(e,t){var r=Sl,n=Vge,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(tb,tb.exports);var fz=tb.exports,Wge=9007199254740991,Hge=/^(?:0|[1-9]\d*)$/;function qge(e,t){var r=typeof e;return t=t??Wge,!!t&&(r=="number"||r!="symbol"&&Hge.test(e))&&e>-1&&e%1==0&&e<t}var jA=qge,Gge=9007199254740991;function Kge(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gge}var SA=Kge,Yge=bc,Xge=SA,Qge=wc,Zge="[object Arguments]",Jge="[object Array]",eve="[object Boolean]",tve="[object Date]",rve="[object Error]",nve="[object Function]",ave="[object Map]",sve="[object Number]",ive="[object Object]",ove="[object RegExp]",lve="[object Set]",cve="[object String]",uve="[object WeakMap]",dve="[object ArrayBuffer]",fve="[object DataView]",hve="[object Float32Array]",mve="[object Float64Array]",pve="[object Int8Array]",gve="[object Int16Array]",vve="[object Int32Array]",xve="[object Uint8Array]",yve="[object Uint8ClampedArray]",bve="[object Uint16Array]",wve="[object Uint32Array]",Dr={};Dr[hve]=Dr[mve]=Dr[pve]=Dr[gve]=Dr[vve]=Dr[xve]=Dr[yve]=Dr[bve]=Dr[wve]=!0;Dr[Zge]=Dr[Jge]=Dr[dve]=Dr[eve]=Dr[fve]=Dr[tve]=Dr[rve]=Dr[nve]=Dr[ave]=Dr[sve]=Dr[ive]=Dr[ove]=Dr[lve]=Dr[cve]=Dr[uve]=!1;function _ve(e){return Qge(e)&&Xge(e.length)&&!!Dr[Yge(e)]}var jve=_ve;function Sve(e){return function(t){return e(t)}}var hz=Sve,rb={exports:{}};rb.exports;(function(e,t){var r=w7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(rb,rb.exports);var Nve=rb.exports,kve=jve,Cve=hz,mM=Nve,pM=mM&&mM.isTypedArray,Eve=pM?Cve(pM):kve,mz=Eve,Tve=Oge,Ave=_A,Pve=Is,Ove=fz,Dve=jA,Rve=mz,Mve=Object.prototype,Fve=Mve.hasOwnProperty;function Ive(e,t){var r=Pve(e),n=!r&&Ave(e),a=!r&&!n&&Ove(e),s=!r&&!n&&!a&&Rve(e),o=r||n||a||s,l=o?Tve(e.length,String):[],c=l.length;for(var u in e)(t||Fve.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Dve(u,c)))&&l.push(u);return l}var Lve=Ive,$ve=Object.prototype;function Bve(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||$ve;return e===r}var Uve=Bve;function zve(e,t){return function(r){return e(t(r))}}var pz=zve,Vve=pz,Wve=Vve(Object.keys,Object),Hve=Wve,qve=Uve,Gve=Hve,Kve=Object.prototype,Yve=Kve.hasOwnProperty;function Xve(e){if(!qve(e))return Gve(e);var t=[];for(var r in Object(e))Yve.call(e,r)&&r!="constructor"&&t.push(r);return t}var Qve=Xve,Zve=sA,Jve=SA;function exe(e){return e!=null&&Jve(e.length)&&!Zve(e)}var Jv=exe,txe=Lve,rxe=Qve,nxe=Jv;function axe(e){return nxe(e)?txe(e):rxe(e)}var k_=axe,sxe=bge,ixe=Age,oxe=k_;function lxe(e){return sxe(e,oxe,ixe)}var cxe=lxe,gM=cxe,uxe=1,dxe=Object.prototype,fxe=dxe.hasOwnProperty;function hxe(e,t,r,n,a,s){var o=r&uxe,l=gM(e),c=l.length,u=gM(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:fxe.call(t,h)))return!1}var m=s.get(e),p=s.get(t);if(m&&p)return m==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var y=e[h],b=t[h];if(n)var w=o?n(b,y,h,t,e,s):n(y,b,h,e,t,s);if(!(w===void 0?y===b||a(y,b,r,n,s):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(g=!1)}return s.delete(e),s.delete(t),g}var mxe=hxe,pxe=Cf,gxe=Sl,vxe=pxe(gxe,"DataView"),xxe=vxe,yxe=Cf,bxe=Sl,wxe=yxe(bxe,"Promise"),_xe=wxe,jxe=Cf,Sxe=Sl,Nxe=jxe(Sxe,"Set"),gz=Nxe,kxe=Cf,Cxe=Sl,Exe=kxe(Cxe,"WeakMap"),Txe=Exe,Ck=xxe,Ek=oA,Tk=_xe,Ak=gz,Pk=Txe,vz=bc,Cp=j7,vM="[object Map]",Axe="[object Object]",xM="[object Promise]",yM="[object Set]",bM="[object WeakMap]",wM="[object DataView]",Pxe=Cp(Ck),Oxe=Cp(Ek),Dxe=Cp(Tk),Rxe=Cp(Ak),Mxe=Cp(Pk),fd=vz;(Ck&&fd(new Ck(new ArrayBuffer(1)))!=wM||Ek&&fd(new Ek)!=vM||Tk&&fd(Tk.resolve())!=xM||Ak&&fd(new Ak)!=yM||Pk&&fd(new Pk)!=bM)&&(fd=function(e){var t=vz(e),r=t==Axe?e.constructor:void 0,n=r?Cp(r):"";if(n)switch(n){case Pxe:return wM;case Oxe:return vM;case Dxe:return xM;case Rxe:return yM;case Mxe:return bM}return t});var Fxe=fd,$S=sz,Ixe=cz,Lxe=pge,$xe=mxe,_M=Fxe,jM=Is,SM=fz,Bxe=mz,Uxe=1,NM="[object Arguments]",kM="[object Array]",iy="[object Object]",zxe=Object.prototype,CM=zxe.hasOwnProperty;function Vxe(e,t,r,n,a,s){var o=jM(e),l=jM(t),c=o?kM:_M(e),u=l?kM:_M(t);c=c==NM?iy:c,u=u==NM?iy:u;var d=c==iy,f=u==iy,h=c==u;if(h&&SM(e)){if(!SM(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new $S),o||Bxe(e)?Ixe(e,t,r,n,a,s):Lxe(e,t,c,r,n,a,s);if(!(r&Uxe)){var m=d&&CM.call(e,"__wrapped__"),p=f&&CM.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return s||(s=new $S),a(g,v,r,n,s)}}return h?(s||(s=new $S),$xe(e,t,r,n,a,s)):!1}var Wxe=Vxe,Hxe=Wxe,EM=wc;function xz(e,t,r,n,a){return e===t?!0:e==null||t==null||!EM(e)&&!EM(t)?e!==e&&t!==t:Hxe(e,t,r,n,xz,a)}var NA=xz,qxe=sz,Gxe=NA,Kxe=1,Yxe=2;function Xxe(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new qxe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Gxe(d,u,Kxe|Yxe,n,f):h))return!1}}return!0}var Qxe=Xxe,Zxe=Gu;function Jxe(e){return e===e&&!Zxe(e)}var yz=Jxe,eye=yz,tye=k_;function rye(e){for(var t=tye(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,eye(a)]}return t}var nye=rye;function aye(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var bz=aye,sye=Qxe,iye=nye,oye=bz;function lye(e){var t=iye(e);return t.length==1&&t[0][2]?oye(t[0][0],t[0][1]):function(r){return r===e||sye(r,e,t)}}var cye=lye;function uye(e,t){return e!=null&&t in Object(e)}var dye=uye,fye=E7,hye=_A,mye=Is,pye=jA,gye=SA,vye=d_;function xye(e,t,r){t=fye(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=vye(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&gye(a)&&pye(o,a)&&(mye(e)||hye(e)))}var yye=xye,bye=dye,wye=yye;function _ye(e,t){return e!=null&&wye(e,t,bye)}var jye=_ye,Sye=NA,Nye=T7,kye=jye,Cye=aA,Eye=yz,Tye=bz,Aye=d_,Pye=1,Oye=2;function Dye(e,t){return Cye(e)&&Eye(t)?Tye(Aye(e),t):function(r){var n=Nye(r,e);return n===void 0&&n===t?kye(r,e):Sye(t,n,Pye|Oye)}}var Rye=Dye;function Mye(e){return e}var Ep=Mye;function Fye(e){return function(t){return t==null?void 0:t[e]}}var Iye=Fye,Lye=dA;function $ye(e){return function(t){return Lye(t,e)}}var Bye=$ye,Uye=Iye,zye=Bye,Vye=aA,Wye=d_;function Hye(e){return Vye(e)?Uye(Wye(e)):zye(e)}var qye=Hye,Gye=cye,Kye=Rye,Yye=Ep,Xye=Is,Qye=qye;function Zye(e){return typeof e=="function"?e:e==null?Yye:typeof e=="object"?Xye(e)?Kye(e[0],e[1]):Gye(e):Qye(e)}var Nl=Zye;function Jye(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var wz=Jye;function e1e(e){return e!==e}var t1e=e1e;function r1e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var n1e=r1e,a1e=wz,s1e=t1e,i1e=n1e;function o1e(e,t,r){return t===t?i1e(e,t,r):a1e(e,s1e,r)}var l1e=o1e,c1e=l1e;function u1e(e,t){var r=e==null?0:e.length;return!!r&&c1e(e,t,0)>-1}var d1e=u1e;function f1e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var h1e=f1e;function m1e(){}var p1e=m1e,BS=gz,g1e=p1e,v1e=wA,x1e=1/0,y1e=BS&&1/v1e(new BS([,-0]))[1]==x1e?function(e){return new BS(e)}:g1e,b1e=y1e,w1e=iz,_1e=d1e,j1e=h1e,S1e=lz,N1e=b1e,k1e=wA,C1e=200;function E1e(e,t,r){var n=-1,a=_1e,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=j1e;else if(s>=C1e){var u=t?null:N1e(e);if(u)return k1e(u);o=!1,a=S1e,c=new w1e}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var T1e=E1e,A1e=Nl,P1e=T1e;function O1e(e,t){return e&&e.length?P1e(e,A1e(t)):[]}var D1e=O1e;const TM=mr(D1e);function _z(e,t,r){return t===!0?TM(e,r):Ct(t)?TM(e,t):e}function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}var R1e=["ref"];function AM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(r),!0).forEach(function(n){C_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sz(n.key),n)}}function F1e(e,t,r){return t&&PM(e.prototype,t),r&&PM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I1e(e,t,r){return t=nb(t),L1e(e,jz()?Reflect.construct(t,r||[],nb(e).constructor):t.apply(e,r))}function L1e(e,t){if(t&&(Nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1e(e)}function $1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jz=function(){return!!e})()}function nb(e){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nb(e)}function B1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ok(e,t)}function Ok(e,t){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ok(e,t)}function C_(e,t,r){return t=Sz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sz(e){var t=U1e(e,"string");return Nm(t)=="symbol"?t:t+""}function U1e(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z1e(e,t){if(e==null)return{};var r=V1e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W1e(e){return e.value}function H1e(e,t){if(ie.isValidElement(e))return ie.cloneElement(e,t);if(typeof e=="function")return ie.createElement(e,t);t.ref;var r=z1e(t,R1e);return ie.createElement(bA,r)}var OM=1,ni=function(e){function t(){var r;M1e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=I1e(this,t,[].concat(a)),C_(r,"lastBoundingBox",{width:-1,height:-1}),r}return B1e(t,e),F1e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>OM||Math.abs(a.height-this.lastBoundingBox.height)>OM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Dl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();h={top:((d||0)-p.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Dl(Dl({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Dl(Dl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ie.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},H1e(s,Dl(Dl({},this.props),{},{payload:_z(d,u,W1e)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Dl(Dl({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Ke(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);C_(ni,"displayName","Legend");C_(ni,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DM=Qv,q1e=_A,G1e=Is,RM=DM?DM.isConcatSpreadable:void 0;function K1e(e){return G1e(e)||q1e(e)||!!(RM&&e&&e[RM])}var Y1e=K1e,X1e=uz,Q1e=Y1e;function Nz(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=Q1e),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?Nz(l,t-1,r,n,a):X1e(a,l):n||(a[a.length]=l)}return a}var kz=Nz;function Z1e(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var J1e=Z1e,ebe=J1e,tbe=ebe(),rbe=tbe,nbe=rbe,abe=k_;function sbe(e,t){return e&&nbe(e,t,abe)}var Cz=sbe,ibe=Jv;function obe(e,t){return function(r,n){if(r==null)return r;if(!ibe(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var lbe=obe,cbe=Cz,ube=lbe,dbe=ube(cbe),kA=dbe,fbe=kA,hbe=Jv;function mbe(e,t){var r=-1,n=hbe(e)?Array(e.length):[];return fbe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var Ez=mbe;function pbe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var gbe=pbe,MM=bp;function vbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=MM(e),o=t!==void 0,l=t===null,c=t===t,u=MM(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var xbe=vbe,ybe=xbe;function bbe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=ybe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var wbe=bbe,US=uA,_be=dA,jbe=Nl,Sbe=Ez,Nbe=gbe,kbe=hz,Cbe=wbe,Ebe=Ep,Tbe=Is;function Abe(e,t,r){t.length?t=US(t,function(s){return Tbe(s)?function(o){return _be(o,s.length===1?s[0]:s)}:s}):t=[Ebe];var n=-1;t=US(t,kbe(jbe));var a=Sbe(e,function(s,o,l){var c=US(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Nbe(a,function(s,o){return Cbe(s,o,r)})}var Pbe=Abe;function Obe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Dbe=Obe,Rbe=Dbe,FM=Math.max;function Mbe(e,t,r){return t=FM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=FM(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Rbe(e,this,l)}}var Fbe=Mbe;function Ibe(e){return function(){return e}}var Lbe=Ibe,$be=Cf,Bbe=function(){try{var e=$be(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Tz=Bbe,Ube=Lbe,IM=Tz,zbe=Ep,Vbe=IM?function(e,t){return IM(e,"toString",{configurable:!0,enumerable:!1,value:Ube(t),writable:!0})}:zbe,Wbe=Vbe,Hbe=800,qbe=16,Gbe=Date.now;function Kbe(e){var t=0,r=0;return function(){var n=Gbe(),a=qbe-(n-r);if(r=n,a>0){if(++t>=Hbe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ybe=Kbe,Xbe=Wbe,Qbe=Ybe,Zbe=Qbe(Xbe),Jbe=Zbe,ewe=Ep,twe=Fbe,rwe=Jbe;function nwe(e,t){return rwe(twe(e,t,ewe),e+"")}var awe=nwe,swe=iA,iwe=Jv,owe=jA,lwe=Gu;function cwe(e,t,r){if(!lwe(r))return!1;var n=typeof t;return(n=="number"?iwe(r)&&owe(t,r.length):n=="string"&&t in r)?swe(r[t],e):!1}var E_=cwe,uwe=kz,dwe=Pbe,fwe=awe,LM=E_,hwe=fwe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&LM(e,t[0],t[1])?t=[]:r>2&&LM(t[0],t[1],t[2])&&(t=[t[0]]),dwe(e,uwe(t,1),[])}),mwe=hwe;const CA=mr(mwe);function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dk.apply(this,arguments)}function pwe(e,t){return ywe(e)||xwe(e,t)||vwe(e,t)||gwe()}function gwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vwe(e,t){if(e){if(typeof e=="string")return $M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $M(e,t)}}function $M(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ywe(e){if(Array.isArray(e))return e}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(n){bwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bwe(e,t,r){return t=wwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wwe(e){var t=_we(e,"string");return Ig(t)=="symbol"?t:t+""}function _we(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jwe(e){return Array.isArray(e)&&Dn(e[0])&&Dn(e[1])?e.join(" ~ "):e}var Swe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,p=t.labelClassName,g=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(d&&d.length){var T={padding:0,margin:0},W=(h?CA(d,h):d).map(function(G,U){if(G.type==="none")return null;var L=zS({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),V=G.formatter||f||jwe,B=G.value,I=G.name,X=B,Q=I;if(V&&X!=null&&Q!=null){var O=V(B,I,G,U,d);if(Array.isArray(O)){var M=pwe(O,2);X=M[0],Q=M[1]}else X=O}return ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:L},Dn(Q)?ie.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Dn(Q)?ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ie.createElement("span",{className:"recharts-tooltip-item-value"},X),ie.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return ie.createElement("ul",{className:"recharts-tooltip-item-list",style:T},W)}return null},_=zS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=zS({margin:0},u),N=!Dt(g),S=N?g:"",k=Mt("recharts-default-tooltip",m),C=Mt("recharts-tooltip-label",p);N&&v&&d!==void 0&&d!==null&&(S=v(g,d));var E=b?{role:"status","aria-live":"assertive"}:{};return ie.createElement("div",Dk({className:k,style:_},E),ie.createElement("p",{className:C,style:j},ie.isValidElement(S)?S:"".concat(S)),w())};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function oy(e,t,r){return t=Nwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nwe(e){var t=kwe(e,"string");return Lg(t)=="symbol"?t:t+""}function kwe(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jp="recharts-tooltip-wrapper",Cwe={visibility:"hidden"};function Ewe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Mt(Jp,oy(oy(oy(oy({},"".concat(Jp,"-right"),Ke(r)&&t&&Ke(t.x)&&r>=t.x),"".concat(Jp,"-left"),Ke(r)&&t&&Ke(t.x)&&r<t.x),"".concat(Jp,"-bottom"),Ke(n)&&t&&Ke(t.y)&&n>=t.y),"".concat(Jp,"-top"),Ke(n)&&t&&Ke(t.y)&&n<t.y))}function UM(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Ke(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,g=c[n]+u;return p>g?Math.max(d,c[n]):Math.max(f,c[n])}function Twe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Awe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=UM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=UM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Twe({translateX:d,translateY:f,useTranslate3d:l})):u=Cwe,{cssProperties:u,cssClasses:Ewe({translateX:d,translateY:f,coordinate:r})}}function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){Mk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Owe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pz(n.key),n)}}function Dwe(e,t,r){return t&&Owe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rwe(e,t,r){return t=ab(t),Mwe(e,Az()?Reflect.construct(t,r||[],ab(e).constructor):t.apply(e,r))}function Mwe(e,t){if(t&&(km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fwe(e)}function Fwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Az(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!e})()}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(e)}function Iwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rk(e,t)}function Rk(e,t){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rk(e,t)}function Mk(e,t,r){return t=Pz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=Lwe(e,"string");return km(t)=="symbol"?t:t+""}function Lwe(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WM=1,$we=function(e){function t(){var r;Pwe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Rwe(this,t,[].concat(a)),Mk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Mk(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Iwe(t,e),Dwe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>WM||Math.abs(n.height-this.state.lastBoundingBox.height)>WM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,p=a.position,g=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,w=Awe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),_=w.cssClasses,j=w.cssProperties,N=VM(VM({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ie.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),Bwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},il={isSsr:Bwe(),get:function(t){return il[t]},set:function(t,r){if(typeof t=="string")il[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){il[a]=t[a]})}}};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){EA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dz(n.key),n)}}function Vwe(e,t,r){return t&&zwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wwe(e,t,r){return t=sb(t),Hwe(e,Oz()?Reflect.construct(t,r||[],sb(e).constructor):t.apply(e,r))}function Hwe(e,t){if(t&&(Cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qwe(e)}function qwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!e})()}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sb(e)}function Gwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fk(e,t)}function Fk(e,t){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fk(e,t)}function EA(e,t,r){return t=Dz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=Kwe(e,"string");return Cm(t)=="symbol"?t:t+""}function Kwe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ywe(e){return e.dataKey}function Xwe(e,t){return ie.isValidElement(e)?ie.cloneElement(e,t):typeof e=="function"?ie.createElement(e,t):ie.createElement(Swe,t)}var Qn=function(e){function t(){return Uwe(this,t),Wwe(this,t,arguments)}return Gwe(t,e),Vwe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,p=a.payload,g=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,j=p??[];f&&j.length&&(j=_z(p.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),g,Ywe));var N=j.length>0;return ie.createElement($we,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:_},Xwe(u,qM(qM({},this.props),{},{payload:j})))}}])}(x.PureComponent);EA(Qn,"displayName","Tooltip");EA(Qn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!il.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Qwe=Sl,Zwe=function(){return Qwe.Date.now()},Jwe=Zwe,e_e=/\s/;function t_e(e){for(var t=e.length;t--&&e_e.test(e.charAt(t)););return t}var r_e=t_e,n_e=r_e,a_e=/^\s+/;function s_e(e){return e&&e.slice(0,n_e(e)+1).replace(a_e,"")}var i_e=s_e,o_e=i_e,GM=Gu,l_e=bp,KM=NaN,c_e=/^[-+]0x[0-9a-f]+$/i,u_e=/^0b[01]+$/i,d_e=/^0o[0-7]+$/i,f_e=parseInt;function h_e(e){if(typeof e=="number")return e;if(l_e(e))return KM;if(GM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=GM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=o_e(e);var r=u_e.test(e);return r||d_e.test(e)?f_e(e.slice(2),r?2:8):c_e.test(e)?KM:+e}var Rz=h_e,m_e=Gu,VS=Jwe,YM=Rz,p_e="Expected a function",g_e=Math.max,v_e=Math.min;function x_e(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(p_e);t=YM(t)||0,m_e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?g_e(YM(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(N){var S=n,k=a;return n=a=void 0,u=N,o=e.apply(k,S),o}function p(N){return u=N,l=setTimeout(y,t),d?m(N):o}function g(N){var S=N-c,k=N-u,C=t-S;return f?v_e(C,s-k):C}function v(N){var S=N-c,k=N-u;return c===void 0||S>=t||S<0||f&&k>=s}function y(){var N=VS();if(v(N))return b(N);l=setTimeout(y,g(N))}function b(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:b(VS())}function j(){var N=VS(),S=v(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return j.cancel=w,j.flush=_,j}var y_e=x_e,b_e=y_e,w_e=Gu,__e="Expected a function";function j_e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(__e);return w_e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),b_e(e,t,{leading:n,maxWait:t,trailing:a})}var S_e=j_e;const Mz=mr(S_e);function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ly(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(r),!0).forEach(function(n){N_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N_e(e,t,r){return t=k_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k_e(e){var t=C_e(e,"string");return $g(t)=="symbol"?t:t+""}function C_e(e,t){if($g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E_e(e,t){return O_e(e)||P_e(e,t)||A_e(e,t)||T_e()}function T_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A_e(e,t){if(e){if(typeof e=="string")return QM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QM(e,t)}}function QM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function O_e(e){if(Array.isArray(e))return e}var Su=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,p=e.debounce,g=p===void 0?0:p,v=e.id,y=e.className,b=e.onResize,w=e.style,_=w===void 0?{}:w,j=x.useRef(null),N=x.useRef();N.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=x.useState({containerWidth:a.width,containerHeight:a.height}),k=E_e(S,2),C=k[0],E=k[1],P=x.useCallback(function(W,G){E(function(U){var L=Math.round(W),V=Math.round(G);return U.containerWidth===L&&U.containerHeight===V?U:{containerWidth:L,containerHeight:V}})},[]);x.useEffect(function(){var W=function(I){var X,Q=I[0].contentRect,O=Q.width,M=Q.height;P(O,M),(X=N.current)===null||X===void 0||X.call(N,O,M)};g>0&&(W=Mz(W,g,{trailing:!0,leading:!1}));var G=new ResizeObserver(W),U=j.current.getBoundingClientRect(),L=U.width,V=U.height;return P(L,V),G.observe(j.current),function(){G.disconnect()}},[P,g]);var T=x.useMemo(function(){var W=C.containerWidth,G=C.containerHeight;if(W<0||G<0)return null;mo(jd(o)||jd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),mo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=jd(o)?W:o,L=jd(c)?G:c;r&&r>0&&(U?L=U/r:L&&(U=L*r),h&&L>h&&(L=h)),mo(U>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,L,o,c,d,f,r);var V=!Array.isArray(m)&&Zl(m.type).endsWith("Chart");return ie.Children.map(m,function(B){return ie.isValidElement(B)?x.cloneElement(B,ly({width:U,height:L},V?{style:ly({height:"100%",width:"100%",maxHeight:L,maxWidth:U},B.props.style)}:{})):B})},[r,m,c,h,f,d,C,o]);return ie.createElement("div",{id:v?"".concat(v):void 0,className:Mt("recharts-responsive-container",y),style:ly(ly({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},T)}),Qo=function(t){return null};Qo.displayName="Cell";function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){D_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D_e(e,t,r){return t=R_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R_e(e){var t=M_e(e,"string");return Bg(t)=="symbol"?t:t+""}function M_e(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gf={widthCache:{},cacheCount:0},F_e=2e3,I_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JM="recharts_measurement_span";function L_e(e){var t=Ik({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var V0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||il.isSsr)return{width:0,height:0};var n=L_e(r),a=JSON.stringify({text:t,copyStyle:n});if(Gf.widthCache[a])return Gf.widthCache[a];try{var s=document.getElementById(JM);s||(s=document.createElement("span"),s.setAttribute("id",JM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Ik(Ik({},I_e),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Gf.widthCache[a]=c,++Gf.cacheCount>F_e&&(Gf.cacheCount=0,Gf.widthCache={}),c}catch{return{width:0,height:0}}},$_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function ib(e,t){return V_e(e)||z_e(e,t)||U_e(e,t)||B_e()}function B_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_e(e,t){if(e){if(typeof e=="string")return eF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eF(e,t)}}function eF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function V_e(e){if(Array.isArray(e))return e}function W_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q_e(n.key),n)}}function H_e(e,t,r){return t&&tF(e.prototype,t),r&&tF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q_e(e){var t=G_e(e,"string");return Ug(t)=="symbol"?t:t+""}function G_e(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,K_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Y_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},X_e=Object.keys(Fz),jh="NaN";function Q_e(e,t){return e*Fz[t]}var cy=function(){function e(t,r){W_e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!K_e.test(r)&&(this.num=NaN,this.unit=""),X_e.includes(r)&&(this.num=Q_e(t,r),this.unit="px")}return H_e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Y_e.exec(r))!==null&&n!==void 0?n:[],s=ib(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function Iz(e){if(e.includes(jh))return jh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=rF.exec(t))!==null&&r!==void 0?r:[],a=ib(n,4),s=a[1],o=a[2],l=a[3],c=cy.parse(s??""),u=cy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return jh;t=t.replace(rF,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=nF.exec(t))!==null&&f!==void 0?f:[],m=ib(h,4),p=m[1],g=m[2],v=m[3],y=cy.parse(p??""),b=cy.parse(v??""),w=g==="+"?y.add(b):y.subtract(b);if(w.isNaN())return jh;t=t.replace(nF,w.toString())}return t}var aF=/\(([^()]*)\)/;function Z_e(e){for(var t=e;t.includes("(");){var r=aF.exec(t),n=ib(r,2),a=n[1];t=t.replace(aF,Iz(a))}return t}function J_e(e){var t=e.replace(/\s+/g,"");return t=Z_e(t),t=Iz(t),t}function eje(e){try{return J_e(e)}catch{return jh}}function WS(e){var t=eje(e.slice(5,-1));return t===jh?"":t}var tje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rje=["dx","dy","angle","className","breakAll"];function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lk.apply(this,arguments)}function sF(e,t){if(e==null)return{};var r=nje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iF(e,t){return oje(e)||ije(e,t)||sje(e,t)||aje()}function aje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sje(e,t){if(e){if(typeof e=="string")return oF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oF(e,t)}}function oF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ije(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oje(e){if(Array.isArray(e))return e}var Lz=/[ \f\n\r\t\v\u2028\u2029]+/,$z=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Dt(r)||(n?s=r.toString().split(""):s=r.toString().split(Lz));var o=s.map(function(c){return{word:c,width:V0(c,a).width}}),l=n?0:V0("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},lje=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ke(o),f=l,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(L,V){var B=V.word,I=V.width,X=L[L.length-1];if(X&&(a==null||s||X.width+I+n<Number(a)))X.words.push(B),X.width+=I+n;else{var Q={words:[B],width:I};L.push(Q)}return L},[])},m=h(r),p=function(U){return U.reduce(function(L,V){return L.width>V.width?L:V})};if(!d)return m;for(var g="",v=function(U){var L=f.slice(0,U),V=$z({breakAll:u,style:c,children:L+g}).wordsWithComputedWidth,B=h(V),I=B.length>o||p(B).width>Number(a);return[I,B]},y=0,b=f.length-1,w=0,_;y<=b&&w<=f.length-1;){var j=Math.floor((y+b)/2),N=j-1,S=v(N),k=iF(S,2),C=k[0],E=k[1],P=v(j),T=iF(P,1),W=T[0];if(!C&&!W&&(y=j+1),C&&W&&(b=j-1),!C&&W){_=E;break}w++}return _||m},lF=function(t){var r=Dt(t)?[]:t.toString().split(Lz);return[{words:r}]},cje=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!il.isSsr){var c,u,d=$z({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return lF(a);return lje({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return lF(a)},cF="#808080",df=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,p=t.verticalAnchor,g=p===void 0?"end":p,v=t.fill,y=v===void 0?cF:v,b=sF(t,tje),w=x.useMemo(function(){return cje({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,j=b.dy,N=b.angle,S=b.className,k=b.breakAll,C=sF(b,rje);if(!Dn(n)||!Dn(s))return null;var E=n+(Ke(_)?_:0),P=s+(Ke(j)?j:0),T;switch(g){case"start":T=WS("calc(".concat(u,")"));break;case"middle":T=WS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=WS("calc(".concat(w.length-1," * -").concat(l,")"));break}var W=[];if(f){var G=w[0].width,U=b.width;W.push("scale(".concat((Ke(U)?U/G:1)/G,")"))}return N&&W.push("rotate(".concat(N,", ").concat(E,", ").concat(P,")")),W.length&&(C.transform=W.join(" ")),ie.createElement("text",Lk({},_t(C,!0),{x:E,y:P,className:Mt("recharts-text",S),textAnchor:m,fill:y.includes("url")?cF:y}),w.map(function(L,V){var B=L.words.join(k?"":" ");return ie.createElement("tspan",{x:E,dy:V===0?T:l,key:"".concat(B,"-").concat(V)},B)}))};function Nu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TA(e){let t,r,n;e.length!==2?(t=Nu,r=(l,c)=>Nu(e(l),c),n=(l,c)=>e(l)-c):(t=e===Nu||e===uje?e:dje,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function dje(){return 0}function Bz(e){return e===null?NaN:+e}function*fje(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const hje=TA(Nu),ex=hje.right;TA(Bz).center;class uF extends Map{constructor(t,r=gje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(dF(this,t))}has(t){return super.has(dF(this,t))}set(t,r){return super.set(mje(this,t),r)}delete(t){return super.delete(pje(this,t))}}function dF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function mje({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pje({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function gje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vje(e=Nu){if(e===Nu)return Uz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Uz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xje=Math.sqrt(50),yje=Math.sqrt(10),bje=Math.sqrt(2);function ob(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=xje?10:s>=yje?5:s>=bje?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ob(e,t,r*2):[l,c,u]}function $k(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?ob(t,e,r):ob(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Bk(e,t,r){return t=+t,e=+e,r=+r,ob(e,t,r)[2]}function Uk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Bk(t,e,r):Bk(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function fF(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function hF(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zz(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Uz:vje(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));zz(e,t,m,p,a)}const s=e[t];let o=r,l=n;for(e0(e,r,t),a(e[n],s)>0&&e0(e,r,n);o<l;){for(e0(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?e0(e,r,l):(++l,e0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function e0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function wje(e,t,r){if(e=Float64Array.from(fje(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return hF(e);if(t>=1)return fF(e);var n,a=(n-1)*t,s=Math.floor(a),o=fF(zz(e,s).subarray(0,s+1)),l=hF(e.subarray(s+1));return o+(l-o)*(a-s)}}function _je(e,t,r=Bz){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function jje(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Ii(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _c(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zk=Symbol("implicit");function AA(){var e=new uF,t=[],r=[],n=zk;function a(s){let o=e.get(s);if(o===void 0){if(n!==zk)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new uF;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return AA(t,r).unknown(n)},Ii.apply(a,arguments),a}function zg(){var e=AA().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;s=(g-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(g-p-s*(h-c))*d,o=s*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=jje(h).map(function(y){return p+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return zg(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ii.apply(f(),arguments)}function Vz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Vz(t())},e}function W0(){return Vz(zg.apply(null,arguments).paddingInner(1))}function PA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Wz(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tx(){}var Vg=.7,lb=1/Vg,Uh="\\s*([+-]?\\d+)\\s*",Wg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sje=/^#([0-9a-f]{3,8})$/,Nje=new RegExp(`^rgb\\(${Uh},${Uh},${Uh}\\)$`),kje=new RegExp(`^rgb\\(${ol},${ol},${ol}\\)$`),Cje=new RegExp(`^rgba\\(${Uh},${Uh},${Uh},${Wg}\\)$`),Eje=new RegExp(`^rgba\\(${ol},${ol},${ol},${Wg}\\)$`),Tje=new RegExp(`^hsl\\(${Wg},${ol},${ol}\\)$`),Aje=new RegExp(`^hsla\\(${Wg},${ol},${ol},${Wg}\\)$`),mF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PA(tx,Hg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pF,formatHex:pF,formatHex8:Pje,formatHsl:Oje,formatRgb:gF,toString:gF});function pF(){return this.rgb().formatHex()}function Pje(){return this.rgb().formatHex8()}function Oje(){return Hz(this).formatHsl()}function gF(){return this.rgb().formatRgb()}function Hg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Sje.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?vF(t):r===3?new xs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?uy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?uy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Nje.exec(e))?new xs(t[1],t[2],t[3],1):(t=kje.exec(e))?new xs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cje.exec(e))?uy(t[1],t[2],t[3],t[4]):(t=Eje.exec(e))?uy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tje.exec(e))?bF(t[1],t[2]/100,t[3]/100,1):(t=Aje.exec(e))?bF(t[1],t[2]/100,t[3]/100,t[4]):mF.hasOwnProperty(e)?vF(mF[e]):e==="transparent"?new xs(NaN,NaN,NaN,0):null}function vF(e){return new xs(e>>16&255,e>>8&255,e&255,1)}function uy(e,t,r,n){return n<=0&&(e=t=r=NaN),new xs(e,t,r,n)}function Dje(e){return e instanceof tx||(e=Hg(e)),e?(e=e.rgb(),new xs(e.r,e.g,e.b,e.opacity)):new xs}function Vk(e,t,r,n){return arguments.length===1?Dje(e):new xs(e,t,r,n??1)}function xs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}PA(xs,Vk,Wz(tx,{brighter(e){return e=e==null?lb:Math.pow(lb,e),new xs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vg:Math.pow(Vg,e),new xs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xs(Wd(this.r),Wd(this.g),Wd(this.b),cb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xF,formatHex:xF,formatHex8:Rje,formatRgb:yF,toString:yF}));function xF(){return`#${Sd(this.r)}${Sd(this.g)}${Sd(this.b)}`}function Rje(){return`#${Sd(this.r)}${Sd(this.g)}${Sd(this.b)}${Sd((isNaN(this.opacity)?1:this.opacity)*255)}`}function yF(){const e=cb(this.opacity);return`${e===1?"rgb(":"rgba("}${Wd(this.r)}, ${Wd(this.g)}, ${Wd(this.b)}${e===1?")":`, ${e})`}`}function cb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sd(e){return e=Wd(e),(e<16?"0":"")+e.toString(16)}function bF(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new so(e,t,r,n)}function Hz(e){if(e instanceof so)return new so(e.h,e.s,e.l,e.opacity);if(e instanceof tx||(e=Hg(e)),!e)return new so;if(e instanceof so)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new so(o,l,c,e.opacity)}function Mje(e,t,r,n){return arguments.length===1?Hz(e):new so(e,t,r,n??1)}function so(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}PA(so,Mje,Wz(tx,{brighter(e){return e=e==null?lb:Math.pow(lb,e),new so(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vg:Math.pow(Vg,e),new so(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xs(HS(e>=240?e-240:e+120,a,n),HS(e,a,n),HS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new so(wF(this.h),dy(this.s),dy(this.l),cb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cb(this.opacity);return`${e===1?"hsl(":"hsla("}${wF(this.h)}, ${dy(this.s)*100}%, ${dy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wF(e){return e=(e||0)%360,e<0?e+360:e}function dy(e){return Math.max(0,Math.min(1,e||0))}function HS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const OA=e=>()=>e;function Fje(e,t){return function(r){return e+r*t}}function Ije(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Lje(e){return(e=+e)==1?qz:function(t,r){return r-t?Ije(t,r,e):OA(isNaN(t)?r:t)}}function qz(e,t){var r=t-e;return r?Fje(e,r):OA(isNaN(e)?t:e)}const _F=function e(t){var r=Lje(t);function n(a,s){var o=r((a=Vk(a)).r,(s=Vk(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=qz(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function $je(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Bje(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Uje(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Tp(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function zje(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ub(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Vje(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Tp(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Wk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qS=new RegExp(Wk.source,"g");function Wje(e){return function(){return e}}function Hje(e){return function(t){return e(t)+""}}function qje(e,t){var r=Wk.lastIndex=qS.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Wk.exec(e))&&(a=qS.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ub(n,a)})),r=qS.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Hje(c[0].x):Wje(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Tp(e,t){var r=typeof t,n;return t==null||r==="boolean"?OA(t):(r==="number"?ub:r==="string"?(n=Hg(t))?(t=n,_F):qje:t instanceof Hg?_F:t instanceof Date?zje:Bje(t)?$je:Array.isArray(t)?Uje:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Vje:ub)(e,t)}function DA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Gje(e,t){t===void 0&&(t=e,e=Tp);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function Kje(e){return function(){return e}}function db(e){return+e}var jF=[0,1];function Za(e){return e}function Hk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Kje(isNaN(t)?NaN:.5)}function Yje(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Xje(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Hk(a,n),s=r(o,s)):(n=Hk(n,a),s=r(s,o)),function(l){return s(n(l))}}function Qje(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Hk(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=ex(e,l,1,n)-1;return s[c](a[c](l))}}function rx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function T_(){var e=jF,t=jF,r=Tp,n,a,s,o=Za,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Za&&(o=Yje(e[0],e[h-1])),l=h>2?Qje:Xje,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ub)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,db),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=DA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Za,d()):o!==Za},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function RA(){return T_()(Za,Za)}function Zje(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Em(e){return e=fb(Math.abs(e)),e?e[1]:NaN}function Jje(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function eSe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qg(e){if(!(t=tSe.exec(e)))throw new Error("invalid format: "+e);var t;return new MA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qg.prototype=MA.prototype;function MA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rSe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Gz;function nSe(e,t){var r=fb(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Gz=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+fb(e,Math.max(0,t+s-1))[0]}function SF(e,t){var r=fb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const NF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Zje,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>SF(e*100,t),r:SF,s:nSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kF(e){return e}var CF=Array.prototype.map,EF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aSe(e){var t=e.grouping===void 0||e.thousands===void 0?kF:Jje(CF.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?kF:eSe(CF.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=qg(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,y=f.width,b=f.comma,w=f.precision,_=f.trim,j=f.type;j==="n"?(b=!0,j="g"):NF[j]||(w===void 0&&(w=12),_=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=g==="$"?n:/[%p]/.test(j)?o:"",k=NF[j],C=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(P){var T=N,W=S,G,U,L;if(j==="c")W=k(P)+W,P="";else{P=+P;var V=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),w),_&&(P=rSe(P)),V&&+P==0&&p!=="+"&&(V=!1),T=(V?p==="("?p:l:p==="-"||p==="("?"":p)+T,W=(j==="s"?EF[8+Gz/3]:"")+W+(V&&p==="("?")":""),C){for(G=-1,U=P.length;++G<U;)if(L=P.charCodeAt(G),48>L||L>57){W=(L===46?a+P.slice(G+1):P.slice(G))+W,P=P.slice(0,G);break}}}b&&!v&&(P=t(P,1/0));var B=T.length+P.length+W.length,I=B<y?new Array(y-B+1).join(h):"";switch(b&&v&&(P=t(I+P,I.length?y-W.length:1/0),I=""),m){case"<":P=T+P+W+I;break;case"=":P=T+I+P+W;break;case"^":P=I.slice(0,B=I.length>>1)+T+P+W+I.slice(B);break;default:P=I+T+P+W;break}return s(P)}return E.toString=function(){return f+""},E}function d(f,h){var m=u((f=qg(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Em(h)/3)))*3,g=Math.pow(10,-p),v=EF[8+p/3];return function(y){return m(g*y)+v}}return{format:u,formatPrefix:d}}var fy,FA,Kz;sSe({thousands:",",grouping:[3],currency:["$",""]});function sSe(e){return fy=aSe(e),FA=fy.format,Kz=fy.formatPrefix,fy}function iSe(e){return Math.max(0,-Em(Math.abs(e)))}function oSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Em(t)/3)))*3-Em(Math.abs(e)))}function lSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Em(t)-Em(e))+1}function Yz(e,t,r,n){var a=Uk(e,t,r),s;switch(n=qg(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=oSe(a,o))&&(n.precision=s),Kz(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=lSe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=iSe(a))&&(n.precision=s-(n.type==="%")*2);break}}return FA(n)}function Ku(e){var t=e.domain;return e.ticks=function(r){var n=t();return $k(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Yz(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Bk(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function hb(){var e=RA();return e.copy=function(){return rx(e,hb())},Ii.apply(e,arguments),Ku(e)}function Xz(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,db),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Xz(e).unknown(t)},e=arguments.length?Array.from(e,db):[0,1],Ku(r)}function Qz(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function TF(e){return Math.log(e)}function AF(e){return Math.exp(e)}function cSe(e){return-Math.log(-e)}function uSe(e){return-Math.exp(-e)}function dSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fSe(e){return e===10?dSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PF(e){return(t,r)=>-e(-t,r)}function IA(e){const t=e(TF,AF),r=t.domain;let n=10,a,s;function o(){return a=hSe(n),s=fSe(n),r()[0]<0?(a=PF(a),s=PF(s),e(cSe,uSe)):e(TF,AF),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,g;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<v&&(y=$k(u,d,v))}else y=$k(h,m,Math.min(m-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qg(c)).precision==null&&(c.trim=!0),c=FA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Qz(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function Zz(){const e=IA(T_()).domain([1,10]);return e.copy=()=>rx(e,Zz()).base(e.base()),Ii.apply(e,arguments),e}function OF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function LA(e){var t=1,r=e(OF(t),DF(t));return r.constant=function(n){return arguments.length?e(OF(t=+n),DF(t)):t},Ku(r)}function Jz(){var e=LA(T_());return e.copy=function(){return rx(e,Jz()).constant(e.constant())},Ii.apply(e,arguments)}function RF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pSe(e){return e<0?-e*e:e*e}function $A(e){var t=e(Za,Za),r=1;function n(){return r===1?e(Za,Za):r===.5?e(mSe,pSe):e(RF(r),RF(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ku(t)}function BA(){var e=$A(T_());return e.copy=function(){return rx(e,BA()).exponent(e.exponent())},Ii.apply(e,arguments),e}function gSe(){return BA.apply(null,arguments).exponent(.5)}function MF(e){return Math.sign(e)*e*e}function vSe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function eV(){var e=RA(),t=[0,1],r=!1,n;function a(s){var o=vSe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(MF(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,db)).map(MF)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return eV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ii.apply(a,arguments),Ku(a)}function tV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=_je(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[ex(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Nu),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return tV().domain(e).range(t).unknown(n)},Ii.apply(s,arguments)}function rV(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[ex(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return rV().domain([e,t]).range(a).unknown(s)},Ii.apply(Ku(o),arguments)}function nV(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[ex(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return nV().domain(e).range(t).unknown(r)},Ii.apply(a,arguments)}const GS=new Date,KS=new Date;function Fn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Fn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(GS.setTime(+s),KS.setTime(+o),e(GS),e(KS),Math.floor(r(GS,KS))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const mb=Fn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):mb);mb.range;const ql=1e3,Ei=ql*60,Gl=Ei*60,fc=Gl*24,UA=fc*7,FF=fc*30,YS=fc*365,Nd=Fn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ql)},(e,t)=>(t-e)/ql,e=>e.getUTCSeconds());Nd.range;const zA=Fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ql)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getMinutes());zA.range;const VA=Fn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCMinutes());VA.range;const WA=Fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ql-e.getMinutes()*Ei)},(e,t)=>{e.setTime(+e+t*Gl)},(e,t)=>(t-e)/Gl,e=>e.getHours());WA.range;const HA=Fn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gl)},(e,t)=>(t-e)/Gl,e=>e.getUTCHours());HA.range;const nx=Fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ei)/fc,e=>e.getDate()-1);nx.range;const A_=Fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fc,e=>e.getUTCDate()-1);A_.range;const aV=Fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fc,e=>Math.floor(e/fc));aV.range;function Ef(e){return Fn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ei)/UA)}const P_=Ef(0),pb=Ef(1),xSe=Ef(2),ySe=Ef(3),Tm=Ef(4),bSe=Ef(5),wSe=Ef(6);P_.range;pb.range;xSe.range;ySe.range;Tm.range;bSe.range;wSe.range;function Tf(e){return Fn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/UA)}const O_=Tf(0),gb=Tf(1),_Se=Tf(2),jSe=Tf(3),Am=Tf(4),SSe=Tf(5),NSe=Tf(6);O_.range;gb.range;_Se.range;jSe.range;Am.range;SSe.range;NSe.range;const qA=Fn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qA.range;const GA=Fn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());GA.range;const hc=Fn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hc.range;const mc=Fn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});mc.range;function sV(e,t,r,n,a,s){const o=[[Nd,1,ql],[Nd,5,5*ql],[Nd,15,15*ql],[Nd,30,30*ql],[s,1,Ei],[s,5,5*Ei],[s,15,15*Ei],[s,30,30*Ei],[a,1,Gl],[a,3,3*Gl],[a,6,6*Gl],[a,12,12*Gl],[n,1,fc],[n,2,2*fc],[r,1,UA],[t,1,FF],[t,3,3*FF],[e,1,YS]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=TA(([,,v])=>v).right(o,h);if(m===o.length)return e.every(Uk(u/YS,d/YS,f));if(m===0)return mb.every(Math.max(Uk(u,d,f),1));const[p,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(g)}return[l,c]}const[kSe,CSe]=sV(mc,GA,O_,aV,HA,VA),[ESe,TSe]=sV(hc,qA,P_,nx,WA,zA);function XS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function QS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function t0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ASe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=r0(a),d=n0(a),f=r0(s),h=n0(s),m=r0(o),p=n0(o),g=r0(l),v=n0(l),y=r0(c),b=n0(c),w={a:V,A:B,b:I,B:X,c:null,d:zF,e:zF,f:JSe,g:c2e,G:d2e,H:XSe,I:QSe,j:ZSe,L:iV,m:e2e,M:t2e,p:Q,q:O,Q:HF,s:qF,S:r2e,u:n2e,U:a2e,V:s2e,w:i2e,W:o2e,x:null,X:null,y:l2e,Y:u2e,Z:f2e,"%":WF},_={a:M,A:F,b:H,B:ee,c:null,d:VF,e:VF,f:g2e,g:k2e,G:E2e,H:h2e,I:m2e,j:p2e,L:lV,m:v2e,M:x2e,p:ne,q:ge,Q:HF,s:qF,S:y2e,u:b2e,U:w2e,V:_2e,w:j2e,W:S2e,x:null,X:null,y:N2e,Y:C2e,Z:T2e,"%":WF},j={a:E,A:P,b:T,B:W,c:G,d:BF,e:BF,f:qSe,g:$F,G:LF,H:UF,I:UF,j:zSe,L:HSe,m:USe,M:VSe,p:C,q:BSe,Q:KSe,s:YSe,S:WSe,u:MSe,U:FSe,V:ISe,w:RSe,W:LSe,x:U,X:L,y:$F,Y:LF,Z:$Se,"%":GSe};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(se,Z){return function(ce){var A=[],$e=-1,Me=0,Fe=se.length,ze,Re,vt;for(ce instanceof Date||(ce=new Date(+ce));++$e<Fe;)se.charCodeAt($e)===37&&(A.push(se.slice(Me,$e)),(Re=IF[ze=se.charAt(++$e)])!=null?ze=se.charAt(++$e):Re=ze==="e"?" ":"0",(vt=Z[ze])&&(ze=vt(ce,Re)),A.push(ze),Me=$e+1);return A.push(se.slice(Me,$e)),A.join("")}}function S(se,Z){return function(ce){var A=t0(1900,void 0,1),$e=k(A,se,ce+="",0),Me,Fe;if($e!=ce.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(Z&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(Me=QS(t0(A.y,0,1)),Fe=Me.getUTCDay(),Me=Fe>4||Fe===0?gb.ceil(Me):gb(Me),Me=A_.offset(Me,(A.V-1)*7),A.y=Me.getUTCFullYear(),A.m=Me.getUTCMonth(),A.d=Me.getUTCDate()+(A.w+6)%7):(Me=XS(t0(A.y,0,1)),Fe=Me.getDay(),Me=Fe>4||Fe===0?pb.ceil(Me):pb(Me),Me=nx.offset(Me,(A.V-1)*7),A.y=Me.getFullYear(),A.m=Me.getMonth(),A.d=Me.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),Fe="Z"in A?QS(t0(A.y,0,1)).getUTCDay():XS(t0(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(Fe+5)%7:A.w+A.U*7-(Fe+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,QS(A)):XS(A)}}function k(se,Z,ce,A){for(var $e=0,Me=Z.length,Fe=ce.length,ze,Re;$e<Me;){if(A>=Fe)return-1;if(ze=Z.charCodeAt($e++),ze===37){if(ze=Z.charAt($e++),Re=j[ze in IF?Z.charAt($e++):ze],!Re||(A=Re(se,ce,A))<0)return-1}else if(ze!=ce.charCodeAt(A++))return-1}return A}function C(se,Z,ce){var A=u.exec(Z.slice(ce));return A?(se.p=d.get(A[0].toLowerCase()),ce+A[0].length):-1}function E(se,Z,ce){var A=m.exec(Z.slice(ce));return A?(se.w=p.get(A[0].toLowerCase()),ce+A[0].length):-1}function P(se,Z,ce){var A=f.exec(Z.slice(ce));return A?(se.w=h.get(A[0].toLowerCase()),ce+A[0].length):-1}function T(se,Z,ce){var A=y.exec(Z.slice(ce));return A?(se.m=b.get(A[0].toLowerCase()),ce+A[0].length):-1}function W(se,Z,ce){var A=g.exec(Z.slice(ce));return A?(se.m=v.get(A[0].toLowerCase()),ce+A[0].length):-1}function G(se,Z,ce){return k(se,t,Z,ce)}function U(se,Z,ce){return k(se,r,Z,ce)}function L(se,Z,ce){return k(se,n,Z,ce)}function V(se){return o[se.getDay()]}function B(se){return s[se.getDay()]}function I(se){return c[se.getMonth()]}function X(se){return l[se.getMonth()]}function Q(se){return a[+(se.getHours()>=12)]}function O(se){return 1+~~(se.getMonth()/3)}function M(se){return o[se.getUTCDay()]}function F(se){return s[se.getUTCDay()]}function H(se){return c[se.getUTCMonth()]}function ee(se){return l[se.getUTCMonth()]}function ne(se){return a[+(se.getUTCHours()>=12)]}function ge(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Z=N(se+="",w);return Z.toString=function(){return se},Z},parse:function(se){var Z=S(se+="",!1);return Z.toString=function(){return se},Z},utcFormat:function(se){var Z=N(se+="",_);return Z.toString=function(){return se},Z},utcParse:function(se){var Z=S(se+="",!0);return Z.toString=function(){return se},Z}}}var IF={"-":"",_:" ",0:"0"},qn=/^\s*\d+/,PSe=/^%/,OSe=/[\\^$*+?|[\]().{}]/g;function or(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function DSe(e){return e.replace(OSe,"\\$&")}function r0(e){return new RegExp("^(?:"+e.map(DSe).join("|")+")","i")}function n0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function RSe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function MSe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function FSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ISe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function LSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function LF(e,t,r){var n=qn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $F(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $Se(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BSe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function USe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function BF(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zSe(e,t,r){var n=qn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function UF(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function VSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function WSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function HSe(e,t,r){var n=qn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function qSe(e,t,r){var n=qn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GSe(e,t,r){var n=PSe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function KSe(e,t,r){var n=qn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function YSe(e,t,r){var n=qn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function zF(e,t){return or(e.getDate(),t,2)}function XSe(e,t){return or(e.getHours(),t,2)}function QSe(e,t){return or(e.getHours()%12||12,t,2)}function ZSe(e,t){return or(1+nx.count(hc(e),e),t,3)}function iV(e,t){return or(e.getMilliseconds(),t,3)}function JSe(e,t){return iV(e,t)+"000"}function e2e(e,t){return or(e.getMonth()+1,t,2)}function t2e(e,t){return or(e.getMinutes(),t,2)}function r2e(e,t){return or(e.getSeconds(),t,2)}function n2e(e){var t=e.getDay();return t===0?7:t}function a2e(e,t){return or(P_.count(hc(e)-1,e),t,2)}function oV(e){var t=e.getDay();return t>=4||t===0?Tm(e):Tm.ceil(e)}function s2e(e,t){return e=oV(e),or(Tm.count(hc(e),e)+(hc(e).getDay()===4),t,2)}function i2e(e){return e.getDay()}function o2e(e,t){return or(pb.count(hc(e)-1,e),t,2)}function l2e(e,t){return or(e.getFullYear()%100,t,2)}function c2e(e,t){return e=oV(e),or(e.getFullYear()%100,t,2)}function u2e(e,t){return or(e.getFullYear()%1e4,t,4)}function d2e(e,t){var r=e.getDay();return e=r>=4||r===0?Tm(e):Tm.ceil(e),or(e.getFullYear()%1e4,t,4)}function f2e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+or(t/60|0,"0",2)+or(t%60,"0",2)}function VF(e,t){return or(e.getUTCDate(),t,2)}function h2e(e,t){return or(e.getUTCHours(),t,2)}function m2e(e,t){return or(e.getUTCHours()%12||12,t,2)}function p2e(e,t){return or(1+A_.count(mc(e),e),t,3)}function lV(e,t){return or(e.getUTCMilliseconds(),t,3)}function g2e(e,t){return lV(e,t)+"000"}function v2e(e,t){return or(e.getUTCMonth()+1,t,2)}function x2e(e,t){return or(e.getUTCMinutes(),t,2)}function y2e(e,t){return or(e.getUTCSeconds(),t,2)}function b2e(e){var t=e.getUTCDay();return t===0?7:t}function w2e(e,t){return or(O_.count(mc(e)-1,e),t,2)}function cV(e){var t=e.getUTCDay();return t>=4||t===0?Am(e):Am.ceil(e)}function _2e(e,t){return e=cV(e),or(Am.count(mc(e),e)+(mc(e).getUTCDay()===4),t,2)}function j2e(e){return e.getUTCDay()}function S2e(e,t){return or(gb.count(mc(e)-1,e),t,2)}function N2e(e,t){return or(e.getUTCFullYear()%100,t,2)}function k2e(e,t){return e=cV(e),or(e.getUTCFullYear()%100,t,2)}function C2e(e,t){return or(e.getUTCFullYear()%1e4,t,4)}function E2e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Am(e):Am.ceil(e),or(e.getUTCFullYear()%1e4,t,4)}function T2e(){return"+0000"}function WF(){return"%"}function HF(e){return+e}function qF(e){return Math.floor(+e/1e3)}var Kf,uV,dV;A2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A2e(e){return Kf=ASe(e),uV=Kf.format,Kf.parse,dV=Kf.utcFormat,Kf.utcParse,Kf}function P2e(e){return new Date(e)}function O2e(e){return e instanceof Date?+e:+new Date(+e)}function KA(e,t,r,n,a,s,o,l,c,u){var d=RA(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?p:o(N)<N?g:s(N)<N?v:n(N)<N?a(N)<N?y:b:r(N)<N?w:_)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,O2e)):h().map(P2e)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?j:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(Qz(S,N)):d},d.copy=function(){return rx(d,KA(e,t,r,n,a,s,o,l,c,u))},d}function D2e(){return Ii.apply(KA(ESe,TSe,hc,qA,P_,nx,WA,zA,Nd,uV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function R2e(){return Ii.apply(KA(kSe,CSe,mc,GA,O_,A_,HA,VA,Nd,dV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D_(){var e=0,t=1,r,n,a,s,o=Za,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,o=f(m,p),u):[o(0),o(1)]}}return u.range=d(Tp),u.rangeRound=d(DA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Yu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fV(){var e=Ku(D_()(Za));return e.copy=function(){return Yu(e,fV())},_c.apply(e,arguments)}function hV(){var e=IA(D_()).domain([1,10]);return e.copy=function(){return Yu(e,hV()).base(e.base())},_c.apply(e,arguments)}function mV(){var e=LA(D_());return e.copy=function(){return Yu(e,mV()).constant(e.constant())},_c.apply(e,arguments)}function YA(){var e=$A(D_());return e.copy=function(){return Yu(e,YA()).exponent(e.exponent())},_c.apply(e,arguments)}function M2e(){return YA.apply(null,arguments).exponent(.5)}function pV(){var e=[],t=Za;function r(n){if(n!=null&&!isNaN(n=+n))return t((ex(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Nu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>wje(e,s/n))},r.copy=function(){return pV(t).domain(e)},_c.apply(r,arguments)}function R_(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Za,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,u=Gje(g,[y,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(Tp),m.rangeRound=p(DA),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),s=g(t),o=g(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function gV(){var e=Ku(R_()(Za));return e.copy=function(){return Yu(e,gV())},_c.apply(e,arguments)}function vV(){var e=IA(R_()).domain([.1,1,10]);return e.copy=function(){return Yu(e,vV()).base(e.base())},_c.apply(e,arguments)}function xV(){var e=LA(R_());return e.copy=function(){return Yu(e,xV()).constant(e.constant())},_c.apply(e,arguments)}function XA(){var e=$A(R_());return e.copy=function(){return Yu(e,XA()).exponent(e.exponent())},_c.apply(e,arguments)}function F2e(){return XA.apply(null,arguments).exponent(.5)}const GF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zg,scaleDiverging:gV,scaleDivergingLog:vV,scaleDivergingPow:XA,scaleDivergingSqrt:F2e,scaleDivergingSymlog:xV,scaleIdentity:Xz,scaleImplicit:zk,scaleLinear:hb,scaleLog:Zz,scaleOrdinal:AA,scalePoint:W0,scalePow:BA,scaleQuantile:tV,scaleQuantize:rV,scaleRadial:eV,scaleSequential:fV,scaleSequentialLog:hV,scaleSequentialPow:YA,scaleSequentialQuantile:pV,scaleSequentialSqrt:M2e,scaleSequentialSymlog:mV,scaleSqrt:gSe,scaleSymlog:Jz,scaleThreshold:nV,scaleTime:D2e,scaleUtc:R2e,tickFormat:Yz},Symbol.toStringTag,{value:"Module"}));var I2e=bp;function L2e(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!I2e(o):r(o,l)))var l=o,c=s}return c}var M_=L2e;function $2e(e,t){return e>t}var yV=$2e,B2e=M_,U2e=yV,z2e=Ep;function V2e(e){return e&&e.length?B2e(e,z2e,U2e):void 0}var W2e=V2e;const F_=mr(W2e);function H2e(e,t){return e<t}var bV=H2e,q2e=M_,G2e=bV,K2e=Ep;function Y2e(e){return e&&e.length?q2e(e,K2e,G2e):void 0}var X2e=Y2e;const I_=mr(X2e);var Q2e=uA,Z2e=Nl,J2e=Ez,eNe=Is;function tNe(e,t){var r=eNe(e)?Q2e:J2e;return r(e,Z2e(t))}var rNe=tNe,nNe=kz,aNe=rNe;function sNe(e,t){return nNe(aNe(e,t),1)}var iNe=sNe;const oNe=mr(iNe);var lNe=NA;function cNe(e,t){return lNe(e,t)}var uNe=cNe;const ax=mr(uNe);var Ap=1e9,dNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZA,Br=!0,Ri="[DecimalError] ",Hd=Ri+"Invalid argument: ",QA=Ri+"Exponent out of range: ",Pp=Math.floor,hd=Math.pow,fNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ys,$n=1e7,Rr=7,wV=9007199254740991,vb=Pp(wV/Rr),lt={};lt.absoluteValue=lt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};lt.comparedTo=lt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};lt.dividedBy=lt.div=function(e){return Jl(this,new this.constructor(e))};lt.dividedToIntegerBy=lt.idiv=function(e){var t=this,r=t.constructor;return jr(Jl(t,new r(e),0,1),r.precision)};lt.equals=lt.eq=function(e){return!this.cmp(e)};lt.exponent=function(){return yn(this)};lt.greaterThan=lt.gt=function(e){return this.cmp(e)>0};lt.greaterThanOrEqualTo=lt.gte=function(e){return this.cmp(e)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(e){return this.cmp(e)<0};lt.lessThanOrEqualTo=lt.lte=function(e){return this.cmp(e)<1};lt.logarithm=lt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ys))throw Error(Ri+"NaN");if(r.s<1)throw Error(Ri+(r.s?"NaN":"-Infinity"));return r.eq(Ys)?new n(0):(Br=!1,t=Jl(Gg(r,s),Gg(e,s),s),Br=!0,jr(t,a))};lt.minus=lt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SV(t,e):_V(t,(e.s=-e.s,e))};lt.modulo=lt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ri+"NaN");return r.s?(Br=!1,t=Jl(r,e,0,1).times(e),Br=!0,r.minus(t)):jr(new n(r),a)};lt.naturalExponential=lt.exp=function(){return jV(this)};lt.naturalLogarithm=lt.ln=function(){return Gg(this)};lt.negated=lt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};lt.plus=lt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_V(t,e):SV(t,(e.s=-e.s,e))};lt.precision=lt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hd+e);if(t=yn(a)+1,n=a.d.length-1,r=n*Rr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};lt.squareRoot=lt.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ri+"NaN")}for(e=yn(l),Br=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=tl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Pp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Jl(l,s,o+2)).times(.5),tl(s.d).slice(0,o)===(t=tl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(jr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Br=!0,jr(n,r)};lt.times=lt.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%$n|0,t=l/$n|0;s[a]=(s[a]+t)%$n|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Br?jr(e,f.precision):e};lt.toDecimalPlaces=lt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(gl(e,0,Ap),t===void 0?t=n.rounding:gl(t,0,8),jr(r,e+yn(r)+1,t))};lt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ff(n,!0):(gl(e,0,Ap),t===void 0?t=a.rounding:gl(t,0,8),n=jr(new a(n),e+1,t),r=ff(n,!0,e+1)),r};lt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?ff(a):(gl(e,0,Ap),t===void 0?t=s.rounding:gl(t,0,8),n=jr(new s(a),e+yn(a)+1,t),r=ff(n.abs(),!1,e+yn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};lt.toInteger=lt.toint=function(){var e=this,t=e.constructor;return jr(new t(e),yn(e)+1,t.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ys);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ri+"Infinity");return l}if(l.eq(Ys))return l;if(n=c.precision,e.eq(Ys))return jr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=wV){for(a=new c(Ys),t=Math.ceil(n/Rr+4),Br=!1;r%2&&(a=a.times(l),YF(a.d,t)),r=Pp(r/2),r!==0;)l=l.times(l),YF(l.d,t);return Br=!0,e.s<0?new c(Ys).div(a):jr(a,n)}}else if(s<0)throw Error(Ri+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Br=!1,a=e.times(Gg(l,n+u)),Br=!0,a=jV(a),a.s=s,a};lt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=yn(a),n=ff(a,r<=s.toExpNeg||r>=s.toExpPos)):(gl(e,1,Ap),t===void 0?t=s.rounding:gl(t,0,8),a=jr(new s(a),e,t),r=yn(a),n=ff(a,e<=r||r<=s.toExpNeg,e)),n};lt.toSignificantDigits=lt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(gl(e,1,Ap),t===void 0?t=n.rounding:gl(t,0,8)),jr(new n(r),e,t)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yn(e),r=e.constructor;return ff(e,t<=r.toExpNeg||t>=r.toExpPos)};function _V(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Br?jr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Rr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/$n|0,c[s]%=$n;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Br?jr(t,f):t}function gl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hd+e)}function tl(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Rr-n.length,r&&(s+=Bc(r)),s+=n;o=e[t],n=o+"",r=Rr-n.length,r&&(s+=Bc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Jl=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%$n|0,o=s/$n|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*$n+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,p,g,v,y,b,w,_,j,N,S,k,C=n.constructor,E=n.s==a.s?1:-1,P=n.d,T=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Ri+"Division by zero");for(c=n.e-a.e,S=T.length,j=P.length,m=new C(E),p=m.d=[],u=0;T[u]==(P[u]||0);)++u;if(T[u]>(P[u]||0)&&--c,s==null?b=s=C.precision:o?b=s+(yn(n)-yn(a))+1:b=s,b<0)return new C(0);if(b=b/Rr+2|0,u=0,S==1)for(d=0,T=T[0],b++;(u<j||d)&&b--;u++)w=d*$n+(P[u]||0),p[u]=w/T|0,d=w%T|0;else{for(d=$n/(T[0]+1)|0,d>1&&(T=e(T,d),P=e(P,d),S=T.length,j=P.length),_=S,g=P.slice(0,S),v=g.length;v<S;)g[v++]=0;k=T.slice(),k.unshift(0),N=T[0],T[1]>=$n/2&&++N;do d=0,l=t(T,g,S,v),l<0?(y=g[0],S!=v&&(y=y*$n+(g[1]||0)),d=y/N|0,d>1?(d>=$n&&(d=$n-1),f=e(T,d),h=f.length,v=g.length,l=t(f,g,h,v),l==1&&(d--,r(f,S<h?k:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(T,g,S,v),l<1&&(d++,r(g,S<v?k:T,v))),v=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[v++]=P[_]||0:(g=[P[_]],v=1);while((_++<j||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,jr(m,o?s+yn(m)+1:s)}}();function jV(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(yn(e)>16)throw Error(QA+yn(e));if(!e.s)return new d(Ys);for(t==null?(Br=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(hd(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Ys),d.precision=l;;){if(a=jr(a.times(e),l),r=r.times(++c),o=s.plus(Jl(a,r,l)),tl(o.d).slice(0,l)===tl(s.d).slice(0,l)){for(;u--;)s=jr(s.times(s),l);return d.precision=f,t==null?(Br=!0,jr(s,f)):s}s=o}}function yn(e){for(var t=e.e*Rr,r=e.d[0];r>=10;r/=10)t++;return t}function ZS(e,t,r){if(t>e.LN10.sd())throw Br=!0,r&&(e.precision=r),Error(Ri+"LN10 precision limit exceeded");return jr(new e(e.LN10),t)}function Bc(e){for(var t="";e--;)t+="0";return t}function Gg(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Ri+(m.s?"NaN":"-Infinity"));if(m.eq(Ys))return new g(0);if(t==null?(Br=!1,u=v):u=t,m.eq(10))return t==null&&(Br=!0),ZS(g,u);if(u+=h,g.precision=u,r=tl(p),n=r.charAt(0),s=yn(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=tl(m.d),n=r.charAt(0),f++;s=yn(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return c=ZS(g,u+2,v).times(s+""),m=Gg(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(Br=!0,jr(m,v)):m;for(l=o=m=Jl(m.minus(Ys),m.plus(Ys),u),d=jr(m.times(m),u),a=3;;){if(o=jr(o.times(d),u),c=l.plus(Jl(o,new g(a),u)),tl(c.d).slice(0,u)===tl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(ZS(g,u+2,v).times(s+""))),l=Jl(l,new g(f),u),g.precision=v,t==null?(Br=!0,jr(l,v)):l;l=c,a+=2}}function KF(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Pp(r/Rr),e.d=[],n=(r+1)%Rr,r<0&&(n+=Rr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Rr;n<a;)e.d.push(+t.slice(n,n+=Rr));t=t.slice(n),n=Rr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Br&&(e.e>vb||e.e<-vb))throw Error(QA+r)}else e.s=0,e.e=0,e.d=[0];return e}function jr(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Rr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Rr),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Rr,a=n-Rr+o}if(r!==void 0&&(s=hd(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/hd(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=yn(e),f.length=1,t=t-s-1,f[0]=hd(10,(Rr-t%Rr)%Rr),e.e=Pp(-t/Rr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=hd(10,Rr-n),f[d]=a>0?(u/hd(10,o-a)%hd(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==$n&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=$n)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Br&&(e.e>vb||e.e<-vb))throw Error(QA+yn(e));return e}function SV(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Br?jr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Rr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=$n-1;--c[s],c[a]+=$n}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Br?jr(t,m):t):new h(0)}function ff(e,t,r){var n,a=yn(e),s=tl(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Bc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Bc(-a-1)+s,r&&(n=r-o)>0&&(s+=Bc(n))):a>=o?(s+=Bc(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Bc(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Bc(n))),e.s<0?"-"+s:s}function YF(e,t){if(e.length>t)return e.length=t,!0}function NV(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Hd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return KF(o,s.toString())}else if(typeof s!="string")throw Error(Hd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,fNe.test(s))KF(o,s);else throw Error(Hd+s)}if(a.prototype=lt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=NV,a.config=a.set=hNe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function hNe(e){if(!e||typeof e!="object")throw Error(Ri+"Object expected");var t,r,n,a=["precision",1,Ap,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Pp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Hd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hd+r+": "+n);return this}var ZA=NV(dNe);Ys=new ZA(1);const wr=ZA;function mNe(e){return xNe(e)||vNe(e)||gNe(e)||pNe()}function pNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gNe(e,t){if(e){if(typeof e=="string")return qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qk(e,t)}}function vNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xNe(e){if(Array.isArray(e))return qk(e)}function qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yNe=function(t){return t},kV={"@@functional/placeholder":!0},CV=function(t){return t===kV},XF=function(t){return function r(){return arguments.length===0||arguments.length===1&&CV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},bNe=function e(t,r){return t===1?r:XF(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==kV}).length;return o>=t?r.apply(void 0,a):e(t-o,XF(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return CV(f)?c.shift():f});return r.apply(void 0,mNe(d).concat(c))}))})},L_=function(t){return bNe(t.length,t)},Gk=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},wNe=L_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),_Ne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return yNe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Kk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},EV=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function jNe(e){var t;return e===0?t=1:t=Math.floor(new wr(e).abs().log(10).toNumber())+1,t}function SNe(e,t,r){for(var n=new wr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var NNe=L_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),kNe=L_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),CNe=L_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const $_={rangeStep:SNe,getDigitCount:jNe,interpolateNumber:NNe,uninterpolateNumber:kNe,uninterpolateTruncation:CNe};function Yk(e){return ANe(e)||TNe(e)||TV(e)||ENe()}function ENe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ANe(e){if(Array.isArray(e))return Xk(e)}function Kg(e,t){return DNe(e)||ONe(e,t)||TV(e,t)||PNe()}function PNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TV(e,t){if(e){if(typeof e=="string")return Xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(e,t)}}function Xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ONe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function DNe(e){if(Array.isArray(e))return e}function AV(e){var t=Kg(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function PV(e,t,r){if(e.lte(0))return new wr(0);var n=$_.getDigitCount(e.toNumber()),a=new wr(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new wr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new wr(Math.ceil(c))}function RNe(e,t,r){var n=1,a=new wr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new wr(10).pow($_.getDigitCount(e)-1),a=new wr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new wr(Math.floor(e)))}else e===0?a=new wr(Math.floor((t-1)/2)):r||(a=new wr(Math.floor(e)));var o=Math.floor((t-1)/2),l=_Ne(wNe(function(c){return a.add(new wr(c-o).mul(n)).toNumber()}),Gk);return l(0,t)}function OV(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new wr(0),tickMin:new wr(0),tickMax:new wr(0)};var s=PV(new wr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new wr(0):(o=new wr(e).add(t).div(2),o=o.sub(new wr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new wr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?OV(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new wr(l).mul(s)),tickMax:o.add(new wr(c).mul(s))})}function MNe(e){var t=Kg(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=AV([r,n]),c=Kg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Yk(Gk(0,a-1).map(function(){return 1/0}))):[].concat(Yk(Gk(0,a-1).map(function(){return-1/0})),[d]);return r>n?Kk(f):f}if(u===d)return RNe(u,a,s);var h=OV(u,d,o,s),m=h.step,p=h.tickMin,g=h.tickMax,v=$_.rangeStep(p,g.add(new wr(.1).mul(m)),m);return r>n?Kk(v):v}function FNe(e,t){var r=Kg(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=AV([n,a]),l=Kg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=PV(new wr(u).sub(c).div(d-1),s,0),h=[].concat(Yk($_.rangeStep(new wr(c),new wr(u).sub(new wr(.99).mul(f)),f)),[u]);return n>a?Kk(h):h}var INe=EV(MNe),LNe=EV(FNe),$Ne="Invariant failed";function hf(e,t){throw new Error($Ne)}var BNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(this,arguments)}function UNe(e,t){return HNe(e)||WNe(e,t)||VNe(e,t)||zNe()}function zNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VNe(e,t){if(e){if(typeof e=="string")return QF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QF(e,t)}}function QF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function HNe(e){if(Array.isArray(e))return e}function qNe(e,t){if(e==null)return{};var r=GNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MV(n.key),n)}}function XNe(e,t,r){return t&&YNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QNe(e,t,r){return t=yb(t),ZNe(e,DV()?Reflect.construct(t,r||[],yb(e).constructor):t.apply(e,r))}function ZNe(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JNe(e)}function JNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!e})()}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}function eke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qk(e,t)}function Qk(e,t){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qk(e,t)}function RV(e,t,r){return t=MV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=tke(e,"string");return Pm(t)=="symbol"?t:t+""}function tke(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sx=function(e){function t(){return KNe(this,t),QNe(this,t,arguments)}return eke(t,e),XNe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=qNe(n,BNe),m=_t(h,!1);this.props.direction==="x"&&d.type!=="number"&&hf();var p=c.map(function(g){var v=u(g,l),y=v.x,b=v.y,w=v.value,_=v.errorVal;if(!_)return null;var j=[],N,S;if(Array.isArray(_)){var k=UNe(_,2);N=k[0],S=k[1]}else N=S=_;if(s==="vertical"){var C=d.scale,E=b+a,P=E+o,T=E-o,W=C(w-N),G=C(w+S);j.push({x1:G,y1:P,x2:G,y2:T}),j.push({x1:W,y1:E,x2:G,y2:E}),j.push({x1:W,y1:P,x2:W,y2:T})}else if(s==="horizontal"){var U=f.scale,L=y+a,V=L-o,B=L+o,I=U(w-N),X=U(w+S);j.push({x1:V,y1:X,x2:B,y2:X}),j.push({x1:L,y1:I,x2:L,y2:X}),j.push({x1:V,y1:I,x2:B,y2:I})}return ie.createElement(ir,xb({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),j.map(function(Q){return ie.createElement("line",xb({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return ie.createElement(ir,{className:"recharts-errorBars"},p)}}])}(ie.Component);RV(sx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});RV(sx,"displayName","ErrorBar");function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function ZF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(r),!0).forEach(function(n){rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rke(e,t,r){return t=nke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nke(e){var t=ake(e,"string");return Yg(t)=="symbol"?t:t+""}function ake(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FV=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Ws(r,ni);if(!o)return null;var l=ni.defaultProps,c=l!==void 0?sd(sd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?sd(sd({},h),f.props):{},p=m.dataKey,g=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:p,type:c.iconType||v||"square",color:JA(f),value:g||p,payload:m}}),sd(sd(sd({},c),ni.getWithHeight(o,a)),{},{payload:u,item:o})};function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function JF(e){return lke(e)||oke(e)||ike(e)||ske()}function ske(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ike(e,t){if(e){if(typeof e=="string")return Zk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zk(e,t)}}function oke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lke(e){if(Array.isArray(e))return Zk(e)}function Zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(n){zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zh(e,t,r){return t=cke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cke(e){var t=uke(e,"string");return Xg(t)=="symbol"?t:t+""}function uke(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pn(e,t,r){return Dt(e)||Dt(t)?r:Dn(t)?ti(e,t,r):Ct(t)?t(e):r}function H0(e,t,r,n){var a=oNe(e,function(l){return Pn(l,t)});if(r==="number"){var s=a.filter(function(l){return Ke(l)||parseFloat(l)});return s.length?[I_(s),F_(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Dt(l)}):a;return o.map(function(l){return Dn(l)||l instanceof Date?l:""})}var dke=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Xa(f-d)!==Xa(h-f)){var p=[];if(Xa(h-f)===Xa(c[1]-c[0])){m=h;var g=f+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+c[1]-c[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=p[0]&&t<=p[1]){o=a[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},JA=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},fke=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var p=d[f[h]],g=p.items,v=p.cateAxisId,y=g.filter(function(S){return Zl(S.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Xr(Xr({},b),y[0].props):y[0].props,_=w.barSize,j=w[v];o[j]||(o[j]=[]);var N=Dt(_)?r:_;o[j].push({item:y[0],stackList:y.slice(1),barSize:Dt(N)?void 0:Qa(N,n,0)})}}return o},hke=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Qa(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,p=o.reduce(function(_,j){return _+j.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&m>0&&(h=!0,m*=.9,p=c*m);var g=(a-p)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(_,j){var N={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},S=[].concat(JF(_),[N]);return v=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){S.push({item:k,position:v})}),S},f)}else{var y=Qa(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(_,j,N){var S=[].concat(JF(_),[{item:j.item,position:{offset:y+(b+u)*N+(b-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){S.push({item:k,position:S[S.length-1].position})}),S},f)}return d},mke=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=FV({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&Ke(t[m]))return Xr(Xr({},t),{},zh({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&Ke(t[p]))return Xr(Xr({},t),{},zh({},p,t[p]+(h||0)))}return t},pke=function(t,r,n){return Dt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},IV=function(t,r,n,a,s){var o=r.props.children,l=ri(o,sx).filter(function(u){return pke(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Pn(d,n);if(Dt(f))return u;var h=Array.isArray(f)?[I_(f),F_(f)]:[f,f],m=c.reduce(function(p,g){var v=Pn(d,g,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},gke=function(t,r,n,a,s){var o=r.map(function(l){return IV(t,l,n,s,a)}).filter(function(l){return!Dt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},LV=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&IV(t,c,u,a)||H0(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},$V=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},BV=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Kl=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Xa(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Zv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},JS=new WeakMap,hy=function(t,r){if(typeof r!="function")return t;JS.has(t)||JS.set(t,new WeakMap);var n=JS.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},UV=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:zg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:hb(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:W0(),realScaleType:"point"}:s==="category"?{scale:zg(),realScaleType:"band"}:{scale:hb(),realScaleType:"linear"};if(cf(a)){var c="scale".concat(__(a));return{scale:(GF[c]||W0)(),realScaleType:GF[c]?c:"point"}}return Ct(a)?{scale:a}:{scale:W0(),realScaleType:"point"}},t3=1e-4,zV=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-t3,o=Math.max(a[0],a[1])+t3,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},vke=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},xke=function(t,r){if(!r||r.length!==2||!Ke(r[0])||!Ke(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Ke(t[0])||t[0]<n)&&(s[0]=n),(!Ke(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},yke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Zv(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},bke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Zv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},wke={sign:yke,expand:Bpe,none:jm,silhouette:Upe,wiggle:zpe,positive:bke},_ke=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=wke[n],o=$pe().keys(a).value(function(l,c){return+Pn(l,c,0)}).order(jk).offset(s);return o(t)},jke=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Xr(Xr({},h.type.defaultProps),h.props):h.props,g=p.stackId,v=p.hide;if(v)return f;var y=p[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Dn(g)){var w=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[Np("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Xr(Xr({},f),{},zh({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var y=m.stackGroups[v];return Xr(Xr({},g),{},zh({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:_ke(t,y.items,s)}))},p)}return Xr(Xr({},f),{},zh({},h,m))},d)},VV=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=INe(u,s,l);return t.domain([I_(d),F_(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=LNe(f,s,l);return{niceTicks:h}}return null};function r3(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Dt(a[t.dataKey])){var l=q1(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Pn(a,Dt(o)?t.dataKey:o);return Dt(c)?null:t.scale(c)}var n3=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Pn(o,r.dataKey,r.domain[l]);return Dt(c)?null:r.scale(c)-s/2+a},Ske=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Nke=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Dn(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},kke=function(t){return t.reduce(function(r,n){return[I_(n.concat([r[0]]).filter(Ke)),F_(n.concat([r[1]]).filter(Ke))]},[1/0,-1/0])},WV=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=kke(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},a3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jk=function(t,r,n){if(Ct(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ke(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(a3.test(t[0])){var s=+a3.exec(t[0])[1];a[0]=r[0]-s}else Ct(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ke(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(s3.test(t[1])){var o=+s3.exec(t[1])[1];a[1]=r[1]+o}else Ct(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},bb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=CA(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},i3=function(t,r,n){return!t||!t.length||ax(t,ti(n,"type.defaultProps.domain"))?r:t},HV=function(t,r){var n=t.type.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Xr(Xr({},_t(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:JA(t),value:Pn(r,a),type:c,payload:r,chartType:u,hide:d})};function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(n){qV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qV(e,t,r){return t=Cke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cke(e){var t=Eke(e,"string");return Qg(t)=="symbol"?t:t+""}function Eke(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tke(e,t){return Dke(e)||Oke(e,t)||Pke(e,t)||Ake()}function Ake(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pke(e,t){if(e){if(typeof e=="string")return l3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l3(e,t)}}function l3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Dke(e){if(Array.isArray(e))return e}var wb=Math.PI/180,Rke=function(t){return t*180/Math.PI},Cr=function(t,r,n,a){return{x:t+Math.cos(-wb*a)*n,y:r+Math.sin(-wb*a)*n}},GV=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Mke=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Qa(t.cx,o,o/2),f=Qa(t.cy,l,l/2),h=GV(o,l,n),m=Qa(t.innerRadius,h,0),p=Qa(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,y){var b=r[y],w=b.domain,_=b.reversed,j;if(Dt(b.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,p]),_&&(j=[j[1],j[0]]);else{j=b.range;var N=j,S=Tke(N,2);c=S[0],u=S[1]}var k=UV(b,s),C=k.realScaleType,E=k.scale;E.domain(w).range(j),zV(E);var P=VV(E,Ll(Ll({},b),{},{realScaleType:C})),T=Ll(Ll(Ll({},b),P),{},{range:j,radius:p,realScaleType:C,scale:E,cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:c,endAngle:u});return Ll(Ll({},v),{},qV({},y,T))},{})},Fke=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},Ike=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=Fke({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Rke(u),angleInRadian:u}},Lke=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},$ke=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},c3=function(t,r){var n=t.x,a=t.y,s=Ike({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Lke(r),f=d.startAngle,h=d.endAngle,m=l,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?Ll(Ll({},r),{},{radius:o,angle:$ke(m,r)}):null},KV=function(t){return!x.isValidElement(t)&&!Ct(t)&&typeof t!="boolean"?t.className:""};function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}var Bke=["offset"];function Uke(e){return Hke(e)||Wke(e)||Vke(e)||zke()}function zke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vke(e,t){if(e){if(typeof e=="string")return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}function Wke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hke(e){if(Array.isArray(e))return eC(e)}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qke(e,t){if(e==null)return{};var r=Gke(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){Kke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kke(e,t,r){return t=Yke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yke(e){var t=Xke(e,"string");return Zg(t)=="symbol"?t:t+""}function Xke(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}var Qke=function(t){var r=t.value,n=t.formatter,a=Dt(t.children)?r:t.children;return Ct(n)?n(a):a},Zke=function(t,r){var n=Xa(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Jke=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,p=c.endAngle,g=c.clockWise,v=(f+h)/2,y=Zke(m,p),b=y>=0?1:-1,w,_;a==="insideStart"?(w=m+b*o,_=g):a==="insideEnd"?(w=p-b*o,_=!g):a==="end"&&(w=p+b*o,_=g),_=y<=0?_:!_;var j=Cr(u,d,v,w),N=Cr(u,d,v,w+(_?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),k=Dt(t.id)?Np("recharts-radial-line-"):t.id;return ie.createElement("text",Jg({},n,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),ie.createElement("defs",null,ie.createElement("path",{id:k,d:S})),ie.createElement("textPath",{xlinkHref:"#".concat(k)},r))},eCe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Cr(o,l,u+n,h),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Cr(o,l,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},tCe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,v=g*a,y=g>0?"end":"start",b=g>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Nn(Nn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:p};return Nn(Nn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Nn(Nn({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Nn(Nn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?Nn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideRight"?Nn({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideTop"?Nn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:p},S):s==="insideBottom"?Nn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):s==="insideTopLeft"?Nn({x:l+v,y:c+h,textAnchor:b,verticalAnchor:p},S):s==="insideTopRight"?Nn({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:p},S):s==="insideBottomLeft"?Nn({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},S):s==="insideBottomRight"?Nn({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:m},S):wp(s)&&(Ke(s.x)||jd(s.x))&&(Ke(s.y)||jd(s.y))?Nn({x:l+Qa(s.x,u),y:c+Qa(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):Nn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},rCe=function(t){return"cx"in t&&Ke(t.cx)};function zn(e){var t=e.offset,r=t===void 0?5:t,n=qke(e,Bke),a=Nn({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Dt(l)&&Dt(c)&&!x.isValidElement(u)&&!Ct(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(Ct(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=Qke(a);var p=rCe(s),g=_t(a,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Jke(a,m,g);var v=p?eCe(a):tCe(a);return ie.createElement(df,Jg({className:Mt("recharts-label",f)},g,v,{breakAll:h}),m)}zn.displayName="Label";var YV=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,p=t.left,g=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ke(g)&&Ke(v)){if(Ke(f)&&Ke(h))return{x:f,y:h,width:g,height:v};if(Ke(m)&&Ke(p))return{x:m,y:p,width:g,height:v}}return Ke(f)&&Ke(h)?{x:f,y:h,width:0,height:0}:Ke(r)&&Ke(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},nCe=function(t,r){return t?t===!0?ie.createElement(zn,{key:"label-implicit",viewBox:r}):Dn(t)?ie.createElement(zn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===zn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):ie.createElement(zn,{key:"label-implicit",content:t,viewBox:r}):Ct(t)?ie.createElement(zn,{key:"label-implicit",content:t,viewBox:r}):wp(t)?ie.createElement(zn,Jg({viewBox:r},t,{key:"label-implicit"})):null:null},aCe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=YV(t),o=ri(a,zn).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=nCe(t.label,r||s);return[l].concat(Uke(o))};zn.parseViewBox=YV;zn.renderCallByParent=aCe;function sCe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var iCe=sCe;const oCe=mr(iCe);function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}var lCe=["valueAccessor"],cCe=["data","dataKey","clockWise","id","textBreakAll"];function uCe(e){return mCe(e)||hCe(e)||fCe(e)||dCe()}function dCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fCe(e,t){if(e){if(typeof e=="string")return tC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tC(e,t)}}function hCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mCe(e){if(Array.isArray(e))return tC(e)}function tC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(this,arguments)}function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){pCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pCe(e,t,r){return t=gCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gCe(e){var t=vCe(e,"string");return ev(t)=="symbol"?t:t+""}function vCe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h3(e,t){if(e==null)return{};var r=xCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yCe=function(t){return Array.isArray(t.value)?oCe(t.value):t.value};function ec(e){var t=e.valueAccessor,r=t===void 0?yCe:t,n=h3(e,lCe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=h3(n,cCe);return!a||!a.length?null:ie.createElement(ir,{className:"recharts-label-list"},a.map(function(d,f){var h=Dt(s)?r(d,f):Pn(d&&d.payload,s),m=Dt(l)?{}:{id:"".concat(l,"-").concat(f)};return ie.createElement(zn,_b({},_t(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:zn.parseViewBox(Dt(o)?d:f3(f3({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ec.displayName="LabelList";function bCe(e,t){return e?e===!0?ie.createElement(ec,{key:"labelList-implicit",data:t}):ie.isValidElement(e)||Ct(e)?ie.createElement(ec,{key:"labelList-implicit",data:t,content:e}):wp(e)?ie.createElement(ec,_b({data:t},e,{key:"labelList-implicit"})):null:null}function wCe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ri(n,ec).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=bCe(e.label,t);return[s].concat(uCe(a))}ec.renderCallByParent=wCe;function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rC.apply(this,arguments)}function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(n){_Ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ce(e,t,r){return t=jCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jCe(e){var t=SCe(e,"string");return tv(t)=="symbol"?t:t+""}function SCe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NCe=function(t,r){var n=Xa(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},my=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/wb,h=u?s:s+o*f,m=Cr(r,n,d,h),p=Cr(r,n,a,h),g=u?s-o*f:s,v=Cr(r,n,d*Math.cos(f*wb),g);return{center:m,circleTangency:p,lineTangency:v,theta:f}},XV=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=NCe(o,l),u=o+c,d=Cr(r,n,s,o),f=Cr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Cr(r,n,a,o),p=Cr(r,n,a,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},kCe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Xa(d-u),h=my({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,p=h.lineTangency,g=h.theta,v=my({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(_<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):XV({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var N=my({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,k=N.lineTangency,C=N.theta,E=my({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=E.circleTangency,T=E.lineTangency,W=E.theta,G=c?Math.abs(u-d):Math.abs(u-d)-C-W;if(G<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},CCe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QV=function(t){var r=p3(p3({},CCe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=Mt("recharts-sector",h),p=o-s,g=Qa(l,p,0,!0),v;return g>0&&Math.abs(d-f)<360?v=kCe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=XV({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),ie.createElement("path",rC({},_t(r,!0),{className:m,d:v,role:"img"}))};function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nC.apply(this,arguments)}function g3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(r),!0).forEach(function(n){ECe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ECe(e,t,r){return t=TCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TCe(e){var t=ACe(e,"string");return rv(t)=="symbol"?t:t+""}function ACe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x3={curveBasisClosed:Epe,curveBasisOpen:Tpe,curveBasis:Cpe,curveBumpX:hpe,curveBumpY:mpe,curveLinearClosed:Ape,curveLinear:S_,curveMonotoneX:Ppe,curveMonotoneY:Ope,curveNatural:Dpe,curveStep:Rpe,curveStepAfter:Fpe,curveStepBefore:Mpe},py=function(t){return t.x===+t.x&&t.y===+t.y},a0=function(t){return t.x},s0=function(t){return t.y},PCe=function(t,r){if(Ct(t))return t;var n="curve".concat(__(t));return(n==="curveMonotone"||n==="curveBump")&&r?x3["".concat(n).concat(r==="vertical"?"Y":"X")]:x3[n]||S_},OCe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=PCe(n,l),f=u?s.filter(function(g){return py(g)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return py(g)}):o,p=f.map(function(g,v){return v3(v3({},g),{},{base:m[v]})});return l==="vertical"?h=sy().y(s0).x1(a0).x0(function(g){return g.base.x}):h=sy().x(a0).y1(s0).y0(function(g){return g.base.y}),h.defined(py).curve(d),h(p)}return l==="vertical"&&Ke(o)?h=sy().y(s0).x1(a0).x0(o):Ke(o)?h=sy().x(a0).y1(s0).y0(o):h=H7().x(a0).y(s0),h.defined(py).curve(d),h(f)},jb=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?OCe(t):a;return x.createElement("path",nC({},_t(t,!1),G1(t),{className:Mt("recharts-curve",r),d:o,ref:s}))},ZV={exports:{}},DCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",RCe=DCe,MCe=RCe;function JV(){}function eW(){}eW.resetWarningCache=JV;var FCe=function(){function e(n,a,s,o,l,c){if(c!==MCe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eW,resetWarningCache:JV};return r.PropTypes=r,r};ZV.exports=FCe();var ICe=ZV.exports;const dr=mr(ICe);var LCe=Object.getOwnPropertyNames,$Ce=Object.getOwnPropertySymbols,BCe=Object.prototype.hasOwnProperty;function y3(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function gy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function b3(e){return LCe(e).concat($Ce(e))}var UCe=Object.hasOwn||function(e,t){return BCe.call(e,t)};function Af(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var zCe="__v",VCe="__o",WCe="_owner",w3=Object.getOwnPropertyDescriptor,_3=Object.keys;function HCe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function qCe(e,t){return Af(e.getTime(),t.getTime())}function GCe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function KCe(e,t){return e===t}function j3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var YCe=Af;function XCe(e,t,r){var n=_3(e),a=n.length;if(_3(t).length!==a)return!1;for(;a-- >0;)if(!tW(e,t,r,n[a]))return!1;return!0}function i0(e,t,r){var n=b3(e),a=n.length;if(b3(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!tW(e,t,r,s)||(o=w3(e,s),l=w3(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function QCe(e,t){return Af(e.valueOf(),t.valueOf())}function ZCe(e,t){return e.source===t.source&&e.flags===t.flags}function S3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function JCe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function eEe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function tW(e,t,r,n){return(n===WCe||n===VCe||n===zCe)&&(e.$$typeof||t.$$typeof)?!0:UCe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var tEe="[object Arguments]",rEe="[object Boolean]",nEe="[object Date]",aEe="[object Error]",sEe="[object Map]",iEe="[object Number]",oEe="[object Object]",lEe="[object RegExp]",cEe="[object Set]",uEe="[object String]",dEe="[object URL]",fEe=Array.isArray,N3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,k3=Object.assign,hEe=Object.prototype.toString.call.bind(Object.prototype.toString);function mEe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(p,g,v){if(p===g)return!0;if(p==null||g==null)return!1;var y=typeof p;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?o(p,g,v):y==="function"?a(p,g,v):!1;var b=p.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(p,g,v);if(fEe(p))return t(p,g,v);if(N3!=null&&N3(p))return f(p,g,v);if(b===Date)return r(p,g,v);if(b===RegExp)return u(p,g,v);if(b===Map)return s(p,g,v);if(b===Set)return d(p,g,v);var w=hEe(p);return w===nEe?r(p,g,v):w===lEe?u(p,g,v):w===sEe?s(p,g,v):w===cEe?d(p,g,v):w===oEe?typeof p.then!="function"&&typeof g.then!="function"&&l(p,g,v):w===dEe?h(p,g,v):w===aEe?n(p,g,v):w===tEe?l(p,g,v):w===rEe||w===iEe||w===uEe?c(p,g,v):!1}}function pEe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?i0:HCe,areDatesEqual:qCe,areErrorsEqual:GCe,areFunctionsEqual:KCe,areMapsEqual:n?y3(j3,i0):j3,areNumbersEqual:YCe,areObjectsEqual:n?i0:XCe,arePrimitiveWrappersEqual:QCe,areRegExpsEqual:ZCe,areSetsEqual:n?y3(S3,i0):S3,areTypedArraysEqual:n?i0:JCe,areUrlsEqual:eEe};if(r&&(a=k3({},a,r(a))),t){var s=gy(a.areArraysEqual),o=gy(a.areMapsEqual),l=gy(a.areObjectsEqual),c=gy(a.areSetsEqual);a=k3({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function gEe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function vEe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var xEe=Xu();Xu({strict:!0});Xu({circular:!0});Xu({circular:!0,strict:!0});Xu({createInternalComparator:function(){return Af}});Xu({strict:!0,createInternalComparator:function(){return Af}});Xu({circular:!0,createInternalComparator:function(){return Af}});Xu({circular:!0,createInternalComparator:function(){return Af},strict:!0});function Xu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=pEe(e),c=mEe(l),u=n?n(c):gEe(c);return vEe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function yEe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function C3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):yEe(a)};requestAnimationFrame(n)}function aC(e){"@babel/helpers - typeof";return aC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aC(e)}function bEe(e){return SEe(e)||jEe(e)||_Ee(e)||wEe()}function wEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(e,t){if(e){if(typeof e=="string")return E3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E3(e,t)}}function E3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SEe(e){if(Array.isArray(e))return e}function NEe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=bEe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){C3(a.bind(null,u),c);return}a(c),C3(a.bind(null,u));return}aC(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(n){rW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rW(e,t,r){return t=kEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kEe(e){var t=CEe(e,"string");return nv(t)==="symbol"?t:String(t)}function CEe(e,t){if(nv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EEe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},TEe=function(t){return t},AEe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},q0=function(t,r){return Object.keys(r).reduce(function(n,a){return A3(A3({},n),{},rW({},a,t(a,r[a])))},{})},P3=function(t,r,n){return t.map(function(a){return"".concat(AEe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function PEe(e,t){return REe(e)||DEe(e,t)||nW(e,t)||OEe()}function OEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function REe(e){if(Array.isArray(e))return e}function MEe(e){return LEe(e)||IEe(e)||nW(e)||FEe()}function FEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nW(e,t){if(e){if(typeof e=="string")return sC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sC(e,t)}}function IEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LEe(e){if(Array.isArray(e))return sC(e)}function sC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sb=1e-4,aW=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},sW=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},O3=function(t,r){return function(n){var a=aW(t,r);return sW(a,n)}},$Ee=function(t,r){return function(n){var a=aW(t,r),s=[].concat(MEe(a.map(function(o,l){return o*l}).slice(1)),[0]);return sW(s,n)}},D3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=PEe(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=O3(a,o),h=O3(s,l),m=$Ee(a,o),p=function(y){return y>1?1:y<0?0:y},g=function(y){for(var b=y>1?1:y,w=b,_=0;_<8;++_){var j=f(w)-b,N=m(w);if(Math.abs(j-b)<Sb||N<Sb)return h(w);w=p(w-j/N)}return h(w)};return g.isStepper=!1,g},BEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,p=h*s,g=h+(m-p)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Sb&&Math.abs(g)<Sb?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},UEe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return D3(a);case"spring":return BEe();default:if(a.split("(")[0]==="cubic-bezier")return D3(a)}return typeof a=="function"?a:null};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function R3(e){return WEe(e)||VEe(e)||iW(e)||zEe()}function zEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WEe(e){if(Array.isArray(e))return oC(e)}function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){iC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iC(e,t,r){return t=HEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HEe(e){var t=qEe(e,"string");return av(t)==="symbol"?t:String(t)}function qEe(e,t){if(av(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GEe(e,t){return XEe(e)||YEe(e,t)||iW(e,t)||KEe()}function KEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iW(e,t){if(e){if(typeof e=="string")return oC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oC(e,t)}}function oC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XEe(e){if(Array.isArray(e))return e}var Nb=function(t,r,n){return t+(r-t)*n},lC=function(t){var r=t.from,n=t.to;return r!==n},QEe=function e(t,r,n){var a=q0(function(s,o){if(lC(o)){var l=t(o.from,o.to,o.velocity),c=GEe(l,2),u=c[0],d=c[1];return Yn(Yn({},o),{},{from:u,velocity:d})}return o},r);return n<1?q0(function(s,o){return lC(o)?Yn(Yn({},o),{},{velocity:Nb(o.velocity,a[s].velocity,n),from:Nb(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const ZEe=function(e,t,r,n,a){var s=EEe(e,t),o=s.reduce(function(v,y){return Yn(Yn({},v),{},iC({},y,[e[y],t[y]]))},{}),l=s.reduce(function(v,y){return Yn(Yn({},v),{},iC({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return q0(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(lC).length},p=function(y){u||(u=y);var b=y-u,w=b/r.dt;l=QEe(r,l,w),a(Yn(Yn(Yn({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},g=function(y){d||(d=y);var b=(y-d)/n,w=q0(function(j,N){return Nb.apply(void 0,R3(N).concat([r(b)]))},o);if(a(Yn(Yn(Yn({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var _=q0(function(j,N){return Nb.apply(void 0,R3(N).concat([r(1)]))},o);a(Yn(Yn(Yn({},e),t),_))}};return f=r.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}var JEe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function eTe(e,t){if(e==null)return{};var r=tTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tTe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function e2(e){return sTe(e)||aTe(e)||nTe(e)||rTe()}function rTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nTe(e,t){if(e){if(typeof e=="string")return cC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cC(e,t)}}function aTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sTe(e){if(Array.isArray(e))return cC(e)}function cC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0(e,t,r){return t=oW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oW(n.key),n)}}function lTe(e,t,r){return t&&oTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oW(e){var t=cTe(e,"string");return Om(t)==="symbol"?t:String(t)}function cTe(e,t){if(Om(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Om(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uC(e,t)}function uC(e,t){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uC(e,t)}function dTe(e){var t=fTe();return function(){var n=kb(e),a;if(t){var s=kb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return dC(this,a)}}function dC(e,t){if(t&&(Om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fC(e)}function fC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}var vl=function(e){uTe(r,e);var t=dTe(r);function r(n,a){var s;iTe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(fC(s)),s.changeStyle=s.changeStyle.bind(fC(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),dC(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},dC(s);s.state={style:c?j0({},c,u):u}}else s.state={style:{}};return s}return lTe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?j0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(xEe(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:a.to;if(this.state&&h){var v={style:c?j0({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(Wi(Wi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=ZEe(o,l,UEe(u),c,this.changeStyle),p=function(){s.stopJSAnimation=m()};this.manager.start([h,d,p,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,y){if(y===0)return g;var b=v.duration,w=v.easing,_=w===void 0?"ease":w,j=v.style,N=v.properties,S=v.onAnimationEnd,k=y>0?o[y-1]:v,C=N||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(e2(g),[s.runJSAnimation.bind(s,{from:k.style,to:j,duration:b,easing:_}),b]);var E=P3(C,b,_),P=Wi(Wi(Wi({},k.style),j),{},{transition:E});return[].concat(e2(g),[P,b,S]).filter(TEe)};return this.manager.start([c].concat(e2(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=NEe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?j0({},l,c):c,v=P3(Object.keys(g),o,u);p.start([d,s,Wi(Wi({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=eTe(a,JEe),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var p=m.props,g=p.style,v=g===void 0?{}:g,y=p.className,b=x.cloneElement(m,Wi(Wi({},c),{},{style:Wi(Wi({},v),d),className:y}));return b};return u===1?f(x.Children.only(s)):ie.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);vl.displayName="Animate";vl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vl.propTypes={from:dr.oneOfType([dr.object,dr.string]),to:dr.oneOfType([dr.object,dr.string]),attributeName:dr.string,duration:dr.number,begin:dr.number,easing:dr.oneOfType([dr.string,dr.func]),steps:dr.arrayOf(dr.shape({duration:dr.number.isRequired,style:dr.object.isRequired,easing:dr.oneOfType([dr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dr.func]),properties:dr.arrayOf("string"),onAnimationEnd:dr.func})),children:dr.oneOfType([dr.node,dr.func]),isActive:dr.bool,canBegin:dr.bool,onAnimationEnd:dr.func,shouldReAnimate:dr.bool,onAnimationStart:dr.func,onAnimationReStart:dr.func};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(this,arguments)}function hTe(e,t){return vTe(e)||gTe(e,t)||pTe(e,t)||mTe()}function mTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pTe(e,t){if(e){if(typeof e=="string")return I3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I3(e,t)}}function I3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vTe(e){if(Array.isArray(e))return e}function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(n){xTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xTe(e,t,r){return t=yTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yTe(e){var t=bTe(e,"string");return sv(t)=="symbol"?t:t+""}function bTe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B3=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var p=Math.min(o,s);d="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*p,`
            L `).concat(t+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n-c*p,",").concat(r+a,`
            L `).concat(t+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*p," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},wTe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},_Te={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eP=function(t){var r=$3($3({},_Te),t),n=x.useRef(),a=x.useState(-1),s=hTe(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Mt("recharts-rectangle",m);return b?ie.createElement(vl,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:b},function(_){var j=_.width,N=_.height,S=_.x,k=_.y;return ie.createElement(vl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:p},ie.createElement("path",Cb({},_t(r,!0),{className:w,d:B3(S,k,j,N,h),ref:n})))}):ie.createElement("path",Cb({},_t(r,!0),{className:w,d:B3(c,u,d,f,h)}))},jTe=["points","className","baseLinePoints","connectNulls"];function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(this,arguments)}function STe(e,t){if(e==null)return{};var r=NTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U3(e){return TTe(e)||ETe(e)||CTe(e)||kTe()}function kTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CTe(e,t){if(e){if(typeof e=="string")return hC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(e,t)}}function ETe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TTe(e){if(Array.isArray(e))return hC(e)}function hC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var z3=function(t){return t&&t.x===+t.x&&t.y===+t.y},ATe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){z3(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),z3(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},G0=function(t,r){var n=ATe(t);r&&(n=[n.reduce(function(s,o){return[].concat(U3(s),U3(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},PTe=function(t,r,n){var a=G0(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(G0(r.reverse(),n).slice(1))},OTe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=STe(t,jTe);if(!r||!r.length)return null;var l=Mt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=PTe(r,a,s);return ie.createElement("g",{className:l},ie.createElement("path",Sh({},_t(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ie.createElement("path",Sh({},_t(o,!0),{fill:"none",d:G0(r,s)})):null,c?ie.createElement("path",Sh({},_t(o,!0),{fill:"none",d:G0(a,s)})):null)}var d=G0(r,s);return ie.createElement("path",Sh({},_t(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function mC(){return mC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mC.apply(this,arguments)}var B_=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Mt("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",mC({},_t(t,!1),G1(t),{className:o,cx:r,cy:n,r:a})):null};function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}var DTe=["x","y","top","left","width","height","className"];function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pC.apply(this,arguments)}function V3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(r),!0).forEach(function(n){MTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MTe(e,t,r){return t=FTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FTe(e){var t=ITe(e,"string");return iv(t)=="symbol"?t:t+""}function ITe(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LTe(e,t){if(e==null)return{};var r=$Te(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Te(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BTe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},UTe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,p=t.className,g=LTe(t,DTe),v=RTe({x:n,y:s,top:l,left:u,width:f,height:m},g);return!Ke(n)||!Ke(s)||!Ke(f)||!Ke(m)||!Ke(l)||!Ke(u)?null:ie.createElement("path",pC({},_t(v,!0),{className:Mt("recharts-cross",p),d:BTe(n,s,f,m,l,u)}))},zTe=M_,VTe=yV,WTe=Nl;function HTe(e,t){return e&&e.length?zTe(e,WTe(t),VTe):void 0}var qTe=HTe;const GTe=mr(qTe);var KTe=M_,YTe=Nl,XTe=bV;function QTe(e,t){return e&&e.length?KTe(e,YTe(t),XTe):void 0}var ZTe=QTe;const JTe=mr(ZTe);var eAe=["cx","cy","angle","ticks","axisLine"],tAe=["ticks","tick","angle","tickFormatter","stroke"];function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function W3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(r),!0).forEach(function(n){U_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H3(e,t){if(e==null)return{};var r=rAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cW(n.key),n)}}function aAe(e,t,r){return t&&q3(e.prototype,t),r&&q3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sAe(e,t,r){return t=Eb(t),iAe(e,lW()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function iAe(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oAe(e)}function oAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lW=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function lAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gC(e,t)}function gC(e,t){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gC(e,t)}function U_(e,t,r){return t=cW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cW(e){var t=cAe(e,"string");return Dm(t)=="symbol"?t:t+""}function cAe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z_=function(e){function t(){return nAe(this,t),sAe(this,t,arguments)}return lAe(t,e),aAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Cr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=GTe(l,function(d){return d.coordinate||0}),u=JTe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=H3(n,eAe),d=l.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),f=Cr(a,s,d[0],o),h=Cr(a,s,d[1],o),m=id(id(id({},_t(u,!1)),{},{fill:"none"},_t(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ie.createElement("line",K0({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=H3(a,tAe),f=this.getTickTextAnchor(),h=_t(d,!1),m=_t(o,!1),p=s.map(function(g,v){var y=n.getTickValueCoord(g),b=id(id(id(id({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},y),{},{payload:g});return ie.createElement(ir,K0({className:Mt("recharts-polar-radius-axis-tick",KV(o)),key:"tick-".concat(g.coordinate)},uf(n.props,g,v)),t.renderTickItem(o,b,c?c(g.value,v):g.value))});return ie.createElement(ir,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:ie.createElement(ir,{className:Mt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),zn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ie.isValidElement(n)?o=ie.cloneElement(n,a):Ct(n)?o=n(a):o=ie.createElement(df,K0({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(x.PureComponent);U_(z_,"displayName","PolarRadiusAxis");U_(z_,"axisType","radiusAxis");U_(z_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(n){V_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dW(n.key),n)}}function dAe(e,t,r){return t&&K3(e.prototype,t),r&&K3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fAe(e,t,r){return t=Tb(t),hAe(e,uW()?Reflect.construct(t,r||[],Tb(e).constructor):t.apply(e,r))}function hAe(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mAe(e)}function mAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uW=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(e)}function pAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vC(e,t)}function vC(e,t){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vC(e,t)}function V_(e,t,r){return t=dW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dW(e){var t=gAe(e,"string");return Rm(t)=="symbol"?t:t+""}function gAe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vAe=Math.PI/180,Y3=1e-5,W_=function(e){function t(){return uAe(this,t),fAe(this,t,arguments)}return pAe(t,e),dAe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Cr(s,o,l,n.coordinate),h=Cr(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*vAe),o;return s>Y3?o=a==="outer"?"start":"end":s<-Y3?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=od(od({},_t(this.props,!1)),{},{fill:"none"},_t(l,!1));if(c==="circle")return ie.createElement(B_,md({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return Cr(a,s,o,h.coordinate)});return ie.createElement(OTe,md({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=_t(this.props,!1),f=_t(o,!1),h=od(od({},d),{},{fill:"none"},_t(l,!1)),m=s.map(function(p,g){var v=n.getTickLineCoord(p),y=n.getTickTextAnchor(p),b=od(od(od({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:p,x:v.x2,y:v.y2});return ie.createElement(ir,md({className:Mt("recharts-polar-angle-axis-tick",KV(o)),key:"tick-".concat(p.coordinate)},uf(n.props,p,g)),l&&ie.createElement("line",md({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(p.value,g):p.value))});return ie.createElement(ir,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:ie.createElement(ir,{className:Mt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ie.isValidElement(n)?o=ie.cloneElement(n,a):Ct(n)?o=n(a):o=ie.createElement(df,md({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(x.PureComponent);V_(W_,"displayName","PolarAngleAxis");V_(W_,"axisType","angleAxis");V_(W_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xAe=pz,yAe=xAe(Object.getPrototypeOf,Object),bAe=yAe,wAe=bc,_Ae=bAe,jAe=wc,SAe="[object Object]",NAe=Function.prototype,kAe=Object.prototype,fW=NAe.toString,CAe=kAe.hasOwnProperty,EAe=fW.call(Object);function TAe(e){if(!jAe(e)||wAe(e)!=SAe)return!1;var t=_Ae(e);if(t===null)return!0;var r=CAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&fW.call(r)==EAe}var AAe=TAe;const PAe=mr(AAe);var OAe=bc,DAe=wc,RAe="[object Boolean]";function MAe(e){return e===!0||e===!1||DAe(e)&&OAe(e)==RAe}var FAe=MAe;const IAe=mr(FAe);function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function LAe(e,t){return zAe(e)||UAe(e,t)||BAe(e,t)||$Ae()}function $Ae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BAe(e,t){if(e){if(typeof e=="string")return X3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X3(e,t)}}function X3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zAe(e){if(Array.isArray(e))return e}function Q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(r),!0).forEach(function(n){VAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VAe(e,t,r){return t=WAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WAe(e){var t=HAe(e,"string");return ov(t)=="symbol"?t:t+""}function HAe(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J3=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},qAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GAe=function(t){var r=Z3(Z3({},qAe),t),n=x.useRef(),a=x.useState(-1),s=LAe(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Mt("recharts-trapezoid",m);return y?ie.createElement(vl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:y},function(w){var _=w.upperWidth,j=w.lowerWidth,N=w.height,S=w.x,k=w.y;return ie.createElement(vl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},ie.createElement("path",Ab({},_t(r,!0),{className:b,d:J3(S,k,_,j,N),ref:n})))}):ie.createElement("g",null,ie.createElement("path",Ab({},_t(r,!0),{className:b,d:J3(c,u,d,f,h)})))},KAe=["option","shapeType","propTransformer","activeClassName","isActive"];function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function YAe(e,t){if(e==null)return{};var r=XAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){QAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QAe(e,t,r){return t=ZAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZAe(e){var t=JAe(e,"string");return lv(t)=="symbol"?t:t+""}function JAe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ePe(e,t){return Pb(Pb({},t),e)}function tPe(e,t){return e==="symbols"}function tI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ie.createElement(eP,r);case"trapezoid":return ie.createElement(GAe,r);case"sector":return ie.createElement(QV,r);case"symbols":if(tPe(t))return ie.createElement(yA,r);break;default:return null}}function rPe(e){return x.isValidElement(e)?e.props:e}function hW(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ePe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=YAe(e,KAe),u;if(x.isValidElement(t))u=x.cloneElement(t,Pb(Pb({},c),rPe(t)));else if(Ct(t))u=t(c);else if(PAe(t)&&!IAe(t)){var d=a(t,c);u=ie.createElement(tI,{shapeType:r,elementProps:d})}else{var f=c;u=ie.createElement(tI,{shapeType:r,elementProps:f})}return l?ie.createElement(ir,{className:o},u):u}function H_(e,t){return t!=null&&"trapezoids"in e.props}function q_(e,t){return t!=null&&"sectors"in e.props}function cv(e,t){return t!=null&&"points"in e.props}function nPe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function aPe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function sPe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function iPe(e,t){var r;return H_(e,t)?r=nPe:q_(e,t)?r=aPe:cv(e,t)&&(r=sPe),r}function oPe(e,t){var r;return H_(e,t)?r="trapezoids":q_(e,t)?r="sectors":cv(e,t)&&(r="points"),r}function lPe(e,t){if(H_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(q_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return cv(e,t)?t.payload:{}}function cPe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=oPe(r,t),s=lPe(r,t),o=n.filter(function(c,u){var d=ax(s,c),f=r.props[a].filter(function(p){var g=iPe(r,t);return g(p,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Qy;function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){ki(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pW(n.key),n)}}function dPe(e,t,r){return t&&nI(e.prototype,t),r&&nI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fPe(e,t,r){return t=Ob(t),hPe(e,mW()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function hPe(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mPe(e)}function mPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mW=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function pPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xC(e,t)}function xC(e,t){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xC(e,t)}function ki(e,t,r){return t=pW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pW(e){var t=gPe(e,"string");return Mm(t)=="symbol"?t:t+""}function gPe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ga=function(e){function t(r){var n;return uPe(this,t),n=fPe(this,t,[r]),ki(n,"pieRef",null),ki(n,"sectorRefs",[]),ki(n,"id",Np("recharts-pie-")),ki(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ct(a)&&a()}),ki(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ct(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return pPe(t,e),dPe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=_t(this.props,!1),f=_t(o,!1),h=_t(l,!1),m=o&&o.offsetRadius||20,p=n.map(function(g,v){var y=(g.startAngle+g.endAngle)/2,b=Cr(g.cx,g.cy,g.outerRadius+m,y),w=Sr(Sr(Sr(Sr({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),_=Sr(Sr(Sr(Sr({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Cr(g.cx,g.cy,g.outerRadius,y),b]}),j=c;return Dt(c)&&Dt(u)?j="value":Dt(c)&&(j=u),ie.createElement(ir,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,w,Pn(g,j)))});return ie.createElement(ir,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,p=Sr(Sr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ie.createElement(ir,Nh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},uf(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ie.createElement(hW,Nh({option:m,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return ie.createElement(vl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,v=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(w,_){var j=h&&h[_],N=_>0?ti(w,"paddingAngle",0):0;if(j){var S=Gs(j.endAngle-j.startAngle,w.endAngle-w.startAngle),k=Sr(Sr({},w),{},{startAngle:b+N,endAngle:b+S(g)+N});v.push(k),b=k.endAngle}else{var C=w.endAngle,E=w.startAngle,P=Gs(0,C-E),T=P(g),W=Sr(Sr({},w),{},{startAngle:b+N,endAngle:b+T+N});v.push(W),b=W.endAngle}}),ie.createElement(ir,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!ax(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,p=this.state.isAnimationFinished;if(s||!o||!o.length||!Ke(u)||!Ke(d)||!Ke(f)||!Ke(h))return null;var g=Mt("recharts-pie",l);return ie.createElement(ir,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),zn.renderCallByParent(this.props,null,!1),(!m||p)&&ec.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(ie.isValidElement(n))return ie.cloneElement(n,a);if(Ct(n))return n(a);var o=Mt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ie.createElement(jb,Nh({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(ie.isValidElement(n))return ie.cloneElement(n,a);var o=s;if(Ct(n)&&(o=n(a),ie.isValidElement(o)))return o;var l=Mt("recharts-pie-label-text",typeof n!="boolean"&&!Ct(n)?n.className:"");return ie.createElement(df,Nh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);Qy=Ga;ki(Ga,"displayName","Pie");ki(Ga,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!il.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ki(Ga,"parseDeltaAngle",function(e,t){var r=Xa(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ki(Ga,"getRealPieData",function(e){var t=e.data,r=e.children,n=_t(e,!1),a=ri(r,Qo);return t&&t.length?t.map(function(s,o){return Sr(Sr(Sr({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Sr(Sr({},n),s.props)}):[]});ki(Ga,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=GV(a,s),l=n+Qa(e.cx,a,a/2),c=r+Qa(e.cy,s,s/2),u=Qa(e.innerRadius,o,0),d=Qa(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ki(Ga,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Sr(Sr({},t.type.defaultProps),t.props):t.props,a=Qy.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),p=Qy.parseCoordinateOfPie(n,r),g=Qy.parseDeltaAngle(o,l),v=Math.abs(g),y=u;Dt(u)&&Dt(f)?(mo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Dt(u)&&(mo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=a.filter(function(k){return Pn(k,y,0)!==0}).length,w=(v>=360?b:b-1)*c,_=v-b*m-w,j=a.reduce(function(k,C){var E=Pn(C,y,0);return k+(Ke(E)?E:0)},0),N;if(j>0){var S;N=a.map(function(k,C){var E=Pn(k,y,0),P=Pn(k,d,C),T=(Ke(E)?E:0)/j,W;C?W=S.endAngle+Xa(g)*c*(E!==0?1:0):W=o;var G=W+Xa(g)*((E!==0?m:0)+T*_),U=(W+G)/2,L=(p.innerRadius+p.outerRadius)/2,V=[{name:P,value:E,payload:k,dataKey:y,type:h}],B=Cr(p.cx,p.cy,L,U);return S=Sr(Sr(Sr({percent:T,cornerRadius:s,name:P,tooltipPayload:V,midAngle:U,middleRadius:L,tooltipPosition:B},k),p),{},{value:Pn(k,y),startAngle:W,endAngle:G,payload:k,paddingAngle:Xa(g)*c}),S})}return Sr(Sr({},p),{},{sectors:N,data:a})});var vPe=Math.ceil,xPe=Math.max;function yPe(e,t,r,n){for(var a=-1,s=xPe(vPe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var bPe=yPe,wPe=Rz,aI=1/0,_Pe=17976931348623157e292;function jPe(e){if(!e)return e===0?e:0;if(e=wPe(e),e===aI||e===-aI){var t=e<0?-1:1;return t*_Pe}return e===e?e:0}var gW=jPe,SPe=bPe,NPe=E_,t2=gW;function kPe(e){return function(t,r,n){return n&&typeof n!="number"&&NPe(t,r,n)&&(r=n=void 0),t=t2(t),r===void 0?(r=t,t=0):r=t2(r),n=n===void 0?t<r?1:-1:t2(n),SPe(t,r,n,e)}}var CPe=kPe,EPe=CPe,TPe=EPe(),APe=TPe;const Db=mr(APe);function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return t=PPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PPe(e){var t=OPe(e,"string");return uv(t)=="symbol"?t:t+""}function OPe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DPe=["Webkit","Moz","O","ms"],RPe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=DPe.reduce(function(s,o){return iI(iI({},s),{},vW({},o+n,r))},{});return a[t]=r,a};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(n){zs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yW(n.key),n)}}function FPe(e,t,r){return t&&lI(e.prototype,t),r&&lI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IPe(e,t,r){return t=Mb(t),LPe(e,xW()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function LPe(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Pe(e)}function $Pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xW=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function BPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yC(e,t)}function yC(e,t){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yC(e,t)}function zs(e,t,r){return t=yW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=UPe(e,"string");return Fm(t)=="symbol"?t:t+""}function UPe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zPe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=W0().domain(Db(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},cI=function(t){return t.changedTouches&&!!t.changedTouches.length},Im=function(e){function t(r){var n;return MPe(this,t),n=IPe(this,t,[r]),zs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),zs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),zs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),zs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),zs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),zs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),zs(n,"handleSlideDragStart",function(a){var s=cI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return BPe(t,e),FPe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),p=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Pn(s[n],l,n);return Ct(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,p=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==h||v.endIndex!==m)&&p&&p(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=cI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var w=this.getIndex(y),_=w.startIndex,j=w.endIndex,N=function(){var k=v.length-1;return o==="startX"&&(l>c?_%g===0:j%g===0)||l<c&&j===k||o==="endX"&&(l>c?j%g===0:_%g===0)||l>c&&j===k};this.setState(zs(zs({},o,u+b),"brushMoveStartX",n.pageX),function(){p&&N()&&p(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(zs({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ie.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?ie.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,p=c.data,g=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=r2(r2({},_t(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=p[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=p[v])===null||o===void 0?void 0:o.name);return ie.createElement(ir,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,p={pointerEvents:"none",fill:u};return ie.createElement(ir,{className:"recharts-brush-texts"},ie.createElement(df,Rb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},p),this.getTextOfTick(a)),ie.createElement(df,Rb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,p=h.endX,g=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ke(l)||!Ke(c)||!Ke(u)||!Ke(d)||u<=0||d<=0)return null;var w=Mt("recharts-brush",s),_=ie.Children.count(o)===1,j=RPe("userSelect","none");return ie.createElement(ir,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return ie.createElement(ie.Fragment,null,ie.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),ie.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ie.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return ie.isValidElement(n)?s=ie.cloneElement(n,a):Ct(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return r2({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?zPe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);zs(Im,"displayName","Brush");zs(Im,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VPe=kA;function WPe(e,t){var r;return VPe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var HPe=WPe,qPe=oz,GPe=Nl,KPe=HPe,YPe=Is,XPe=E_;function QPe(e,t,r){var n=YPe(e)?qPe:KPe;return r&&XPe(e,t,r)&&(t=void 0),n(e,GPe(t))}var ZPe=QPe;const JPe=mr(ZPe);var ll=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},uI=Tz;function eOe(e,t,r){t=="__proto__"&&uI?uI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var tOe=eOe,rOe=tOe,nOe=Cz,aOe=Nl;function sOe(e,t){var r={};return t=aOe(t),nOe(e,function(n,a,s){rOe(r,a,t(n,a,s))}),r}var iOe=sOe;const oOe=mr(iOe);function lOe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var cOe=lOe,uOe=kA;function dOe(e,t){var r=!0;return uOe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var fOe=dOe,hOe=cOe,mOe=fOe,pOe=Nl,gOe=Is,vOe=E_;function xOe(e,t,r){var n=gOe(e)?hOe:mOe;return r&&vOe(e,t,r)&&(t=void 0),n(e,pOe(t))}var yOe=xOe;const bW=mr(yOe);var bOe=["x","y"];function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(this,arguments)}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){wOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wOe(e,t,r){return t=_Oe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Oe(e){var t=jOe(e,"string");return dv(t)=="symbol"?t:t+""}function jOe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SOe(e,t){if(e==null)return{};var r=NOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kOe(e,t){var r=e.x,n=e.y,a=SOe(e,bOe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return o0(o0(o0(o0(o0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function fI(e){return ie.createElement(hW,bC({shapeType:"rectangle",propTransformer:kOe,activeClassName:"recharts-active-bar"},e))}var COe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Ke(n)||Zhe(n);return s?t(n,a):(s||hf(),r)}},EOe=["value","background"],wW;function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function TOe(e,t){if(e==null)return{};var r=AOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(this,arguments)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){lu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function POe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jW(n.key),n)}}function OOe(e,t,r){return t&&mI(e.prototype,t),r&&mI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DOe(e,t,r){return t=Ib(t),ROe(e,_W()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function ROe(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MOe(e)}function MOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function FOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wC(e,t)}function wC(e,t){return wC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wC(e,t)}function lu(e,t,r){return t=jW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=IOe(e,"string");return Lm(t)=="symbol"?t:t+""}function IOe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Si=function(e){function t(){var r;POe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=DOe(this,t,[].concat(a)),lu(r,"state",{isAnimationFinished:!1}),lu(r,"id",Np("recharts-bar-")),lu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),lu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return FOe(t,e),OOe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=_t(this.props,!1);return n&&n.map(function(f,h){var m=h===c,p=m?u:o,g=hn(hn(hn({},d),f),{},{isActive:m,option:p,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ie.createElement(ir,Fb({className:"recharts-bar-rectangle"},uf(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ie.createElement(fI,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return ie.createElement(vl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=s.map(function(v,y){var b=h&&h[y];if(b){var w=Gs(b.x,v.x),_=Gs(b.y,v.y),j=Gs(b.width,v.width),N=Gs(b.height,v.height);return hn(hn({},v),{},{x:w(p),y:_(p),width:j(p),height:N(p)})}if(o==="horizontal"){var S=Gs(0,v.height),k=S(p);return hn(hn({},v),{},{y:v.y+v.height-k,height:k})}var C=Gs(0,v.width),E=C(p);return hn(hn({},v),{},{width:E})});return ie.createElement(ir,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!ax(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=_t(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=TOe(u,EOe);if(!f)return null;var m=hn(hn(hn(hn(hn({},h),{},{fill:"#eee"},f),c),uf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ie.createElement(fI,Fb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ri(d,sx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Pn(v,y)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ie.createElement(ir,p,f.map(function(g){return ie.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,p=n.background,g=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Mt("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=b||w,j=Dt(g)?this.id:g;return ie.createElement(ir,{className:y},b||w?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(j)},ie.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,ie.createElement(ir,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||v)&&ec.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);wW=Si;lu(Si,"displayName","Bar");lu(Si,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!il.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});lu(Si,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=vke(n,r);if(!m)return null;var p=t.layout,g=r.type.defaultProps,v=g!==void 0?hn(hn({},g),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,_=p==="horizontal"?o:s,j=u?_.scale.domain():null,N=Ske({numericAxis:_}),S=ri(b,Qo),k=f.map(function(C,E){var P,T,W,G,U,L;u?P=xke(u[d+E],j):(P=Pn(C,y),Array.isArray(P)||(P=[N,P]));var V=COe(w,wW.defaultProps.minPointSize)(P[1],E);if(p==="horizontal"){var B,I=[o.scale(P[0]),o.scale(P[1])],X=I[0],Q=I[1];T=n3({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:C,index:E}),W=(B=Q??X)!==null&&B!==void 0?B:void 0,G=m.size;var O=X-Q;if(U=Number.isNaN(O)?0:O,L={x:T,y:o.y,width:G,height:o.height},Math.abs(V)>0&&Math.abs(U)<Math.abs(V)){var M=Xa(U||V)*(Math.abs(V)-Math.abs(U));W-=M,U+=M}}else{var F=[s.scale(P[0]),s.scale(P[1])],H=F[0],ee=F[1];if(T=H,W=n3({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:C,index:E}),G=ee-H,U=m.size,L={x:s.x,y:W,width:s.width,height:U},Math.abs(V)>0&&Math.abs(G)<Math.abs(V)){var ne=Xa(G||V)*(Math.abs(V)-Math.abs(G));G+=ne}}return hn(hn(hn({},C),{},{x:T,y:W,width:G,height:U,value:u?P:P[1],payload:C,background:L},S&&S[E]&&S[E].props),{},{tooltipPayload:[HV(r,C)],tooltipPosition:{x:T+G/2,y:W+U/2}})});return hn({data:k,layout:p},h)});function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function LOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SW(n.key),n)}}function $Oe(e,t,r){return t&&pI(e.prototype,t),r&&pI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){G_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G_(e,t,r){return t=SW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=BOe(e,"string");return fv(t)=="symbol"?t:t+""}function BOe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NW=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ws(u,Si);return d.reduce(function(m,p){var g=r[p],v=g.orientation,y=g.domain,b=g.padding,w=b===void 0?{}:b,_=g.mirror,j=g.reversed,N="".concat(v).concat(_?"Mirror":""),S,k,C,E,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var T=y[1]-y[0],W=1/0,G=g.categoricalDomain.sort(tme);if(G.forEach(function(F,H){H>0&&(W=Math.min((F||0)-(G[H-1]||0),W))}),Number.isFinite(W)){var U=W/T,L=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(S=U*L/2),g.padding==="no-gap"){var V=Qa(t.barCategoryGap,U*L),B=U*L/2;S=B-V-(B-V)/L*V}}}a==="xAxis"?k=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:k=g.range,j&&(k=[k[1],k[0]]);var I=UV(g,s,h),X=I.scale,Q=I.realScaleType;X.domain(y).range(k),zV(X);var O=VV(X,eo(eo({},g),{},{realScaleType:Q}));a==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,C=n.left,E=f[N]-P*g.height):a==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,C=f[N]-P*g.width,E=n.top);var M=eo(eo(eo({},g),O),{},{realScaleType:Q,x:C,y:E,scale:X,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return M.bandSize=bb(M,O),!g.hide&&a==="xAxis"?f[N]+=(P?-1:1)*M.height:g.hide||(f[N]+=(P?-1:1)*M.width),eo(eo({},m),{},G_({},p,M))},{})},kW=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},UOe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return kW({x:r,y:n},{x:a,y:s})},CW=function(){function e(t){LOe(this,e),this.scale=t}return $Oe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();G_(CW,"EPS",1e-4);var tP=function(t){var r=Object.keys(t).reduce(function(n,a){return eo(eo({},n),{},G_({},a,CW.create(t[a])))},{});return eo(eo({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return oOe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return bW(a,function(s,o){return r[o].isInRange(s)})}})};function zOe(e){return(e%180+180)%180}var VOe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=zOe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},WOe=Nl,HOe=Jv,qOe=k_;function GOe(e){return function(t,r,n){var a=Object(t);if(!HOe(t)){var s=WOe(r);t=qOe(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var KOe=GOe,YOe=gW;function XOe(e){var t=YOe(e),r=t%1;return t===t?r?t-r:t:0}var QOe=XOe,ZOe=wz,JOe=Nl,e4e=QOe,t4e=Math.max;function r4e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:e4e(r);return a<0&&(a=t4e(n+a,0)),ZOe(e,JOe(t),a)}var n4e=r4e,a4e=KOe,s4e=n4e,i4e=a4e(s4e),o4e=i4e;const l4e=mr(o4e);var c4e=rhe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),rP=x.createContext(void 0),nP=x.createContext(void 0),EW=x.createContext(void 0),TW=x.createContext({}),AW=x.createContext(void 0),PW=x.createContext(0),OW=x.createContext(0),vI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=c4e(s);return ie.createElement(rP.Provider,{value:n},ie.createElement(nP.Provider,{value:a},ie.createElement(TW.Provider,{value:s},ie.createElement(EW.Provider,{value:d},ie.createElement(AW.Provider,{value:o},ie.createElement(PW.Provider,{value:u},ie.createElement(OW.Provider,{value:c},l)))))))},u4e=function(){return x.useContext(AW)},DW=function(t){var r=x.useContext(rP);r==null&&hf();var n=r[t];return n==null&&hf(),n},d4e=function(){var t=x.useContext(rP);return qc(t)},f4e=function(){var t=x.useContext(nP),r=l4e(t,function(n){return bW(n.domain,Number.isFinite)});return r||qc(t)},RW=function(t){var r=x.useContext(nP);r==null&&hf();var n=r[t];return n==null&&hf(),n},h4e=function(){var t=x.useContext(EW);return t},m4e=function(){return x.useContext(TW)},aP=function(){return x.useContext(OW)},sP=function(){return x.useContext(PW)};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function p4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FW(n.key),n)}}function v4e(e,t,r){return t&&g4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x4e(e,t,r){return t=Lb(t),y4e(e,MW()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function y4e(e,t){if(t&&($m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b4e(e)}function b4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MW=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function w4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_C(e,t)}function _C(e,t){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_C(e,t)}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){iP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iP(e,t,r){return t=FW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=_4e(e,"string");return $m(t)=="symbol"?t:t+""}function _4e(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j4e(e,t){return C4e(e)||k4e(e,t)||N4e(e,t)||S4e()}function S4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4e(e,t){if(e){if(typeof e=="string")return bI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bI(e,t)}}function bI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function C4e(e){if(Array.isArray(e))return e}function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jC.apply(this,arguments)}var E4e=function(t,r){var n;return ie.isValidElement(t)?n=ie.cloneElement(t,r):Ct(t)?n=t(r):n=ie.createElement("line",jC({},r,{className:"recharts-reference-line-line"})),n},T4e=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var p=u.y,g=t.y.apply(p,{position:o});if(ll(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:o});if(ll(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,j=_.map(function(N){return t.apply(N,{position:o})});return ll(u,"discard")&&JPe(j,function(N){return!t.isInRange(N)})?null:j}return null};function A4e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=u4e(),d=DW(a),f=RW(s),h=h4e();if(!u||!h)return null;mo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=tP({x:d.scale,y:f.scale}),p=Dn(t),g=Dn(r),v=n&&n.length===2,y=T4e(m,p,g,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=j4e(y,2),w=b[0],_=w.x,j=w.y,N=b[1],S=N.x,k=N.y,C=ll(e,"hidden")?"url(#".concat(u,")"):void 0,E=yI(yI({clipPath:C},_t(e,!0)),{},{x1:_,y1:j,x2:S,y2:k});return ie.createElement(ir,{className:Mt("recharts-reference-line",l)},E4e(o,E),zn.renderCallByParent(e,UOe({x1:_,y1:j,x2:S,y2:k})))}var oP=function(e){function t(){return p4e(this,t),x4e(this,t,arguments)}return w4e(t,e),v4e(t,[{key:"render",value:function(){return ie.createElement(A4e,this.props)}}])}(ie.Component);iP(oP,"displayName","ReferenceLine");iP(oP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SC.apply(this,arguments)}function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){K_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LW(n.key),n)}}function D4e(e,t,r){return t&&O4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R4e(e,t,r){return t=$b(t),M4e(e,IW()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function M4e(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F4e(e)}function F4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IW=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function I4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NC(e,t)}function NC(e,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NC(e,t)}function K_(e,t,r){return t=LW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=L4e(e,"string");return Bm(t)=="symbol"?t:t+""}function L4e(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $4e=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=tP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ll(t,"discard")&&!o.isInRange(l)?null:l},Y_=function(e){function t(){return P4e(this,t),R4e(this,t,arguments)}return I4e(t,e),D4e(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Dn(a),d=Dn(s);if(mo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=$4e(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,g=p.shape,v=p.className,y=ll(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=_I(_I({clipPath:y},_t(this.props,!0)),{},{cx:h,cy:m});return ie.createElement(ir,{className:Mt("recharts-reference-dot",v)},t.renderDot(g,b),zn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(ie.Component);K_(Y_,"displayName","ReferenceDot");K_(Y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});K_(Y_,"renderDot",function(e,t){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,t):Ct(e)?r=e(t):r=ie.createElement(B_,SC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function kC(){return kC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kC.apply(this,arguments)}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){X_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BW(n.key),n)}}function z4e(e,t,r){return t&&U4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V4e(e,t,r){return t=Bb(t),W4e(e,$W()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function W4e(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H4e(e)}function H4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function q4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CC(e,t)}function CC(e,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CC(e,t)}function X_(e,t,r){return t=BW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=G4e(e,"string");return Um(t)=="symbol"?t:t+""}function G4e(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K4e=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=tP({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ll(s,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:kW(m,p)},Q_=function(e){function t(){return B4e(this,t),V4e(this,t,arguments)}return q4e(t,e),z4e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;mo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dn(a),h=Dn(s),m=Dn(o),p=Dn(l),g=this.props.shape;if(!f&&!h&&!m&&!p&&!g)return null;var v=K4e(f,h,m,p,this.props);if(!v&&!g)return null;var y=ll(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ie.createElement(ir,{className:Mt("recharts-reference-area",c)},t.renderRect(g,SI(SI({clipPath:y},_t(this.props,!0)),v)),zn.renderCallByParent(this.props,v))}}])}(ie.Component);X_(Q_,"displayName","ReferenceArea");X_(Q_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});X_(Q_,"renderRect",function(e,t){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,t):Ct(e)?r=e(t):r=ie.createElement(eP,kC({},t,{className:"recharts-reference-area-rect"})),r});function UW(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Y4e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return VOe(n,r)}function X4e(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Ub(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Q4e(e,t){return UW(e,t+1)}function Z4e(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:UW(n,u)};var g=c,v,y=function(){return v===void 0&&(v=r(p,g)),v},b=p.coordinate,w=c===0||Ub(e,b,y,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){J4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J4e(e,t,r){return t=eDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eDe(e){var t=tDe(e,"string");return hv(t)=="symbol"?t:t+""}function tDe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],p,g=function(){return p===void 0&&(p=r(m,h)),p};if(h===o-1){var v=e*(m.coordinate+e*g()/2-c);s[h]=m=_a(_a({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=_a(_a({},m),{},{tickCoord:m.coordinate});var y=Ub(e,m.tickCoord,g,l,c);y&&(c=m.tickCoord-e*(g()/2+a),s[h]=_a(_a({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function nDe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=_a(_a({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ub(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=_a(_a({},d),{},{isShow:!0}))}for(var p=s?l-1:l,g=function(b){var w=o[b],_,j=function(){return _===void 0&&(_=r(w,b)),_};if(b===0){var N=e*(w.coordinate-e*j()/2-c);o[b]=w=_a(_a({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[b]=w=_a(_a({},w),{},{tickCoord:w.coordinate});var S=Ub(e,w.tickCoord,j,c,u);S&&(c=w.tickCoord+e*(j()/2+a),o[b]=_a(_a({},w),{},{isShow:!0}))},v=0;v<p;v++)g(v);return o}function lP(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ke(c)||il.isSsr)return Q4e(a,typeof c=="number"&&Ke(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",p=d&&m==="width"?V0(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(w,_){var j=Ct(u)?u(w.value,_):w.value;return m==="width"?Y4e(V0(j,{fontSize:t,letterSpacing:r}),p,f):V0(j,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Xa(a[1].coordinate-a[0].coordinate):1,y=X4e(s,v,m);return c==="equidistantPreserveStart"?Z4e(v,y,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=nDe(v,y,g,a,o,c==="preserveStartEnd"):h=rDe(v,y,g,a,o),h.filter(function(b){return b.isShow}))}var aDe=["viewBox"],sDe=["viewBox"],iDe=["ticks"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(this,arguments)}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){cP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n2(e,t){if(e==null)return{};var r=oDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VW(n.key),n)}}function cDe(e,t,r){return t&&CI(e.prototype,t),r&&CI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uDe(e,t,r){return t=zb(t),dDe(e,zW()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function dDe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fDe(e)}function fDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function hDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EC(e,t)}function EC(e,t){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EC(e,t)}function cP(e,t,r){return t=VW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VW(e){var t=mDe(e,"string");return zm(t)=="symbol"?t:t+""}function mDe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Op=function(e){function t(r){var n;return lDe(this,t),n=uDe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return hDe(t,e),cDe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=n2(n,aDe),l=this.props,c=l.viewBox,u=n2(l,sDe);return!Bh(s,c)||!Bh(o,u)||!Bh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,p,g,v,y,b,w=f?-1:1,_=n.tickSize||d,j=Ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=p=n.coordinate,v=o+ +!f*c,g=v-w*_,b=g-w*h,y=j;break;case"left":g=v=n.coordinate,p=s+ +!f*l,m=p-w*_,y=m-w*h,b=j;break;case"right":g=v=n.coordinate,p=s+ +f*l,m=p+w*_,y=m+w*h,b=j;break;default:m=p=n.coordinate,v=o+ +f*c,g=v+w*_,b=g+w*h,y=j;break}return{line:{x1:m,y1:g,x2:p,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Sn(Sn(Sn({},_t(this.props,!1)),_t(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Sn(Sn({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Sn(Sn({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return ie.createElement("line",kh({},f,{className:Mt("recharts-cartesian-axis-line",ti(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=lP(Sn(Sn({},this.props),{},{ticks:n}),a,s),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=_t(this.props,!1),y=_t(d,!1),b=Sn(Sn({},v),{},{fill:"none"},_t(c,!1)),w=m.map(function(_,j){var N=o.getTickLineCoord(_),S=N.line,k=N.tick,C=Sn(Sn(Sn(Sn({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:u},y),k),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return ie.createElement(ir,kh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},uf(o.props,_,j)),c&&ie.createElement("line",kh({},b,S,{className:Mt("recharts-cartesian-axis-tick-line",ti(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Ct(f)?f(_.value,j):_.value).concat(h||"")))});return ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=n2(f,iDe),p=h;return Ct(c)&&(p=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!p||!p.length?null:ie.createElement(ir,{className:Mt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),zn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Mt(a.className,"recharts-cartesian-axis-tick-value");return ie.isValidElement(n)?o=ie.cloneElement(n,Sn(Sn({},a),{},{className:l})):Ct(n)?o=n(Sn(Sn({},a),{},{className:l})):o=ie.createElement(df,kh({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);cP(Op,"displayName","CartesianAxis");cP(Op,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pDe=["x1","y1","x2","y2","key"],gDe=["offset"];function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){vDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vDe(e,t,r){return t=xDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xDe(e){var t=yDe(e,"string");return mf(t)=="symbol"?t:t+""}function yDe(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}function TI(e,t){if(e==null)return{};var r=bDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wDe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return ie.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function WW(e,t){var r;if(ie.isValidElement(e))r=ie.cloneElement(e,t);else if(Ct(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=TI(t,pDe),u=_t(c,!1);u.offset;var d=TI(u,gDe);r=ie.createElement("line",kd({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function _De(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Na(Na({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return WW(a,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jDe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Na(Na({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return WW(a,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function SDe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?a+o-h:d[m+1]-h;if(g<=0)return null;var v=m%t.length;return ie.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function NDe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?s+l-h:d[m+1]-h;if(g<=0)return null;var v=m%n.length;return ie.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var kDe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return BV(lP(Na(Na(Na({},Op.defaultProps),n),{},{ticks:Kl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},CDe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return BV(lP(Na(Na(Na({},Op.defaultProps),n),{},{ticks:Kl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Yf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ku(e){var t,r,n,a,s,o,l=aP(),c=sP(),u=m4e(),d=Na(Na({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Yf.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Yf.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Yf.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Yf.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Yf.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Yf.verticalFill,x:Ke(e.x)?e.x:u.left,y:Ke(e.y)?e.y:u.top,width:Ke(e.width)?e.width:u.width,height:Ke(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,p=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=d4e(),w=f4e();if(!Ke(m)||m<=0||!Ke(p)||p<=0||!Ke(f)||f!==+f||!Ke(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||kDe,j=d.horizontalCoordinatesGenerator||CDe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&Ct(j)){var k=v&&v.length,C=j({yAxis:w?Na(Na({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);mo(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(mf(C),"]")),Array.isArray(C)&&(N=C)}if((!S||!S.length)&&Ct(_)){var E=y&&y.length,P=_({xAxis:b?Na(Na({},b),{},{ticks:E?y:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:g);mo(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(mf(P),"]")),Array.isArray(P)&&(S=P)}return ie.createElement("g",{className:"recharts-cartesian-grid"},ie.createElement(wDe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ie.createElement(_De,kd({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:w})),ie.createElement(jDe,kd({},d,{offset:u,verticalPoints:S,xAxis:b,yAxis:w})),ie.createElement(SDe,kd({},d,{horizontalPoints:N})),ie.createElement(NDe,kd({},d,{verticalPoints:S})))}ku.displayName="CartesianGrid";var EDe=["type","layout","connectNulls","ref"],TDe=["key"];function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function AI(e,t){if(e==null)return{};var r=ADe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ADe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){to(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xf(e){return RDe(e)||DDe(e)||ODe(e)||PDe()}function PDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ODe(e,t){if(e){if(typeof e=="string")return TC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TC(e,t)}}function DDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RDe(e){if(Array.isArray(e))return TC(e)}function TC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qW(n.key),n)}}function FDe(e,t,r){return t&&OI(e.prototype,t),r&&OI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IDe(e,t,r){return t=Vb(t),LDe(e,HW()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function LDe(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $De(e)}function $De(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HW=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function BDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AC(e,t)}function AC(e,t){return AC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AC(e,t)}function to(e,t,r){return t=qW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=UDe(e,"string");return Vm(t)=="symbol"?t:t+""}function UDe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jc=function(e){function t(){var r;MDe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=IDe(this,t,[].concat(a)),to(r,"state",{isAnimationFinished:!0,totalLength:0}),to(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),to(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>f){m=[].concat(Xf(c.slice(0,p)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Xf(t.repeat(c,d)),Xf(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),to(r,"id",Np("recharts-line-")),to(r,"pathRef",function(o){r.mainCurve=o}),to(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),to(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return BDe(t,e),FDe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ri(d,sx);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Pn(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ie.createElement(ir,m,f.map(function(p){return ie.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=_t(this.props,!1),h=_t(c,!0),m=u.map(function(g,v){var y=Us(Us(Us({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,y)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return ie.createElement(ir,Y0({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=AI(l,EDe),h=Us(Us(Us({},_t(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ie.createElement(jb,Y0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,p=o.animateNewValues,g=o.width,v=o.height,y=this.state,b=y.prevPoints,w=y.totalLength;return ie.createElement(vl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var j=_.t;if(b){var N=b.length/l.length,S=l.map(function(T,W){var G=Math.floor(W*N);if(b[G]){var U=b[G],L=Gs(U.x,T.x),V=Gs(U.y,T.y);return Us(Us({},T),{},{x:L(j),y:V(j)})}if(p){var B=Gs(g*2,T.x),I=Gs(v/2,T.y);return Us(Us({},T),{},{x:B(j),y:I(j)})}return Us(Us({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(S,n,a)}var k=Gs(0,w),C=k(j),E;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});E=s.getStrokeDasharray(C,w,P)}else E=s.generateSimpleStrokeDasharray(w,C);return s.renderCurveStatically(l,n,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ax(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,p=a.height,g=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=Mt("recharts-line",c),_=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,N=_||j,S=Dt(v)?this.id:v,k=(n=_t(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,E=C===void 0?3:C,P=k.strokeWidth,T=P===void 0?2:P,W=ume(o)?o:{},G=W.clipDot,U=G===void 0?!0:G,L=E*2+T;return ie.createElement(ir,{className:w},_||j?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(S)},ie.createElement("rect",{x:_?h:h-m/2,y:j?f:f-p/2,width:_?m:m*2,height:j?p:p*2})),!U&&ie.createElement("clipPath",{id:"clipPath-dots-".concat(S)},ie.createElement("rect",{x:h-L/2,y:f-L/2,width:m+L,height:p+L}))):null,!b&&this.renderCurve(N,S),this.renderErrorBar(N,S),(b||o)&&this.renderDots(N,U,S),(!g||y)&&ec.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Xf(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Xf(o),Xf(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(ie.isValidElement(n))s=ie.cloneElement(n,a);else if(Ct(n))s=n(a);else{var o=a.key,l=AI(a,TDe),c=Mt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ie.createElement(B_,Y0({key:o},l,{className:c}))}return s}}])}(x.PureComponent);to(jc,"displayName","Line");to(jc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!il.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});to(jc,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var p=Pn(h,o);return d==="horizontal"?{x:r3({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Dt(p)?null:n.scale(p),value:p,payload:h}:{x:Dt(p)?null:r.scale(p),y:r3({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:p,payload:h}});return Us({points:f,layout:d},u)});function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function zDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YW(n.key),n)}}function WDe(e,t,r){return t&&VDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HDe(e,t,r){return t=Wb(t),qDe(e,GW()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function qDe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GDe(e)}function GDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GW=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function KDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PC(e,t)}function KW(e,t,r){return t=YW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YW(e){var t=YDe(e,"string");return Wm(t)=="symbol"?t:t+""}function YDe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OC.apply(this,arguments)}function XDe(e){var t=e.xAxisId,r=aP(),n=sP(),a=DW(t);return a==null?null:x.createElement(Op,OC({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Kl(o,!0)}}))}var po=function(e){function t(){return zDe(this,t),HDe(this,t,arguments)}return KDe(t,e),WDe(t,[{key:"render",value:function(){return x.createElement(XDe,this.props)}}])}(x.Component);KW(po,"displayName","XAxis");KW(po,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function QDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZW(n.key),n)}}function JDe(e,t,r){return t&&ZDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eRe(e,t,r){return t=Hb(t),tRe(e,XW()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function tRe(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rRe(e)}function rRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function nRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DC(e,t)}function DC(e,t){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DC(e,t)}function QW(e,t,r){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=aRe(e,"string");return Hm(t)=="symbol"?t:t+""}function aRe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RC.apply(this,arguments)}var sRe=function(t){var r=t.yAxisId,n=aP(),a=sP(),s=RW(r);return s==null?null:x.createElement(Op,RC({},s,{className:Mt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Kl(l,!0)}}))},go=function(e){function t(){return QDe(this,t),eRe(this,t,arguments)}return nRe(t,e),JDe(t,[{key:"render",value:function(){return x.createElement(sRe,this.props)}}])}(x.Component);QW(go,"displayName","YAxis");QW(go,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function DI(e){return cRe(e)||lRe(e)||oRe(e)||iRe()}function iRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oRe(e,t){if(e){if(typeof e=="string")return MC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MC(e,t)}}function lRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cRe(e){if(Array.isArray(e))return MC(e)}function MC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FC=function(t,r,n,a,s){var o=ri(t,oP),l=ri(t,Y_),c=[].concat(DI(o),DI(l)),u=ri(t,Q_),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===n&&ll(v.props,"extendDomain")&&Ke(v.props[f])){var y=v.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),u.length){var m="".concat(f,"1"),p="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&ll(v.props,"extendDomain")&&Ke(v.props[m])&&Ke(v.props[p])){var y=v.props[m],b=v.props[p];return[Math.min(g[0],y,b),Math.max(g[1],y,b)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,v){return Ke(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},JW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var _=v.length,j;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&o(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(JW);var uRe=JW.exports;const dRe=mr(uRe);var a2=new dRe,s2="recharts.syncMouseEvents";function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function fRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eH(n.key),n)}}function mRe(e,t,r){return t&&hRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i2(e,t,r){return t=eH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=pRe(e,"string");return mv(t)=="symbol"?t:t+""}function pRe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gRe=function(){function e(){fRe(this,e),i2(this,"activeIndex",0),i2(this,"coordinateList",[]),i2(this,"layout","horizontal")}return mRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function vRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ke(n)&&Ke(a))return!0}return!1}function xRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function tH(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Cr(t,r,n,a),l=Cr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function yRe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Cr(l,c,u,f),m=Cr(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return tH(t);return[{x:n,y:a},{x:s,y:o}]}function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){bRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bRe(e,t,r){return t=wRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wRe(e){var t=_Re(e,"string");return pv(t)=="symbol"?t:t+""}function _Re(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jRe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var p,g=jb;if(h==="ScatterChart")p=o,g=UTe;else if(h==="BarChart")p=xRe(f,o,c,d),g=eP;else if(f==="radial"){var v=tH(o),y=v.cx,b=v.cy,w=v.radius,_=v.startAngle,j=v.endAngle;p={cx:y,cy:b,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},g=QV}else p={points:yRe(f,o,c)},g=jb;var N=vy(vy(vy(vy({stroke:"#ccc",pointerEvents:"none"},c),p),_t(m,!1)),{},{payload:l,payloadIndex:u,className:Mt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,N):x.createElement(g,N)}var SRe=["item"],NRe=["children","className","width","height","style","compact","title","desc"];function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(this,arguments)}function MI(e,t){return ERe(e)||CRe(e,t)||nH(e,t)||kRe()}function kRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ERe(e){if(Array.isArray(e))return e}function FI(e,t){if(e==null)return{};var r=TRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ARe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aH(n.key),n)}}function ORe(e,t,r){return t&&PRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DRe(e,t,r){return t=qb(t),RRe(e,rH()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function RRe(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MRe(e)}function MRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rH=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function FRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IC(e,t)}function IC(e,t){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IC(e,t)}function Gm(e){return $Re(e)||LRe(e)||nH(e)||IRe()}function IRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nH(e,t){if(e){if(typeof e=="string")return LC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LC(e,t)}}function LRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Re(e){if(Array.isArray(e))return LC(e)}function LC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(n){jt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jt(e,t,r){return t=aH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=BRe(e,"string");return qm(t)=="symbol"?t:t+""}function BRe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var URe={xAxis:["bottom","top"],yAxis:["left","right"]},zRe={width:"100%",height:"100%"},sH={x:0,y:0};function xy(e){return e}var VRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},WRe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Le(Le(Le({},a),Cr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Le(Le(Le({},a),Cr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return sH},Z_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Gm(l),Gm(u)):l},[]);return o.length>0?o:t&&t.length&&Ke(a)&&Ke(s)?t.slice(a,s+1):[]};function iH(e){return e==="number"?[0,"auto"]:void 0}var $C=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=Z_(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=q1(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Gm(c),[HV(u,h)]):c},[])},LI=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=VRe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=dke(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=$C(t,r,d,f),m=WRe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},HRe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=$V(d,s);return n.reduce(function(p,g){var v,y=g.type.defaultProps!==void 0?Le(Le({},g.type.defaultProps),g.props):g.props,b=y.type,w=y.dataKey,_=y.allowDataOverflow,j=y.allowDuplicatedCategory,N=y.scale,S=y.ticks,k=y.includeHidden,C=y[o];if(p[C])return p;var E=Z_(t.data,{graphicalItems:a.filter(function(O){var M,F=o in O.props?O.props[o]:(M=O.type.defaultProps)===null||M===void 0?void 0:M[o];return F===C}),dataStartIndex:c,dataEndIndex:u}),P=E.length,T,W,G;vRe(y.domain,_,b)&&(T=Jk(y.domain,null,_),m&&(b==="number"||N!=="auto")&&(G=H0(E,w,"category")));var U=iH(b);if(!T||T.length===0){var L,V=(L=y.domain)!==null&&L!==void 0?L:U;if(w){if(T=H0(E,w,b),b==="category"&&m){var B=eme(T);j&&B?(W=T,T=Db(0,P)):j||(T=i3(V,T,g).reduce(function(O,M){return O.indexOf(M)>=0?O:[].concat(Gm(O),[M])},[]))}else if(b==="category")j?T=T.filter(function(O){return O!==""&&!Dt(O)}):T=i3(V,T,g).reduce(function(O,M){return O.indexOf(M)>=0||M===""||Dt(M)?O:[].concat(Gm(O),[M])},[]);else if(b==="number"){var I=gke(E,a.filter(function(O){var M,F,H=o in O.props?O.props[o]:(M=O.type.defaultProps)===null||M===void 0?void 0:M[o],ee="hide"in O.props?O.props.hide:(F=O.type.defaultProps)===null||F===void 0?void 0:F.hide;return H===C&&(k||!ee)}),w,s,d);I&&(T=I)}m&&(b==="number"||N!=="auto")&&(G=H0(E,w,"category"))}else m?T=Db(0,P):l&&l[C]&&l[C].hasStack&&b==="number"?T=h==="expand"?[0,1]:WV(l[C].stackGroups,c,u):T=LV(E,a.filter(function(O){var M=o in O.props?O.props[o]:O.type.defaultProps[o],F="hide"in O.props?O.props.hide:O.type.defaultProps.hide;return M===C&&(k||!F)}),b,d,!0);if(b==="number")T=FC(f,T,C,s,S),V&&(T=Jk(V,T,_));else if(b==="category"&&V){var X=V,Q=T.every(function(O){return X.indexOf(O)>=0});Q&&(T=X)}}return Le(Le({},p),{},jt({},C,Le(Le({},y),{},{axisType:s,domain:T,categoricalDomain:G,duplicateDomain:W,originalDomain:(v=y.domain)!==null&&v!==void 0?v:U,isCategorical:m,layout:d})))},{})},qRe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Z_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,p=$V(d,s),g=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?Le(Le({},y.type.defaultProps),y.props):y.props,w=b[o],_=iH("number");if(!v[w]){g++;var j;return p?j=Db(0,m):l&&l[w]&&l[w].hasStack?(j=WV(l[w].stackGroups,c,u),j=FC(f,j,w,s)):(j=Jk(_,LV(h,n.filter(function(N){var S,k,C=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],E="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!E}),"number",d),a.defaultProps.allowDataOverflow),j=FC(f,j,w,s)),Le(Le({},v),{},jt({},w,Le(Le({axisType:s},a.defaultProps),{},{hide:!0,orientation:ti(URe,"".concat(s,".").concat(g%2),null),domain:j,originalDomain:_,isCategorical:p,layout:d})))}return v},{})},GRe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ri(d,s),m={};return h&&h.length?m=HRe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=qRe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},KRe=function(t){var r=qc(t),n=Kl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:CA(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bb(r,n)}},$I=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ws(r,Im),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},YRe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Zl(r&&r.type);return n&&n.indexOf("Bar")>=0})},BI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},XRe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Ws(f,Im),p=Ws(f,ni),g=Object.keys(c).reduce(function(j,N){var S=c[N],k=S.orientation;return!S.mirror&&!S.hide?Le(Le({},j),{},jt({},k,j[k]+S.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,N){var S=o[N],k=S.orientation;return!S.mirror&&!S.hide?Le(Le({},j),{},jt({},k,ti(j,"".concat(k))+S.height)):j},{top:h.top||0,bottom:h.bottom||0}),y=Le(Le({},v),g),b=y.bottom;m&&(y.bottom+=m.props.height||Im.defaultProps.height),p&&r&&(y=mke(y,a,n,r));var w=u-y.left-y.right,_=d-y.top-y.bottom;return Le(Le({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(_,0)})},QRe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},uP=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var w=b.graphicalItems,_=b.stackGroups,j=b.offset,N=b.updateId,S=b.dataStartIndex,k=b.dataEndIndex,C=y.barSize,E=y.layout,P=y.barGap,T=y.barCategoryGap,W=y.maxBarSize,G=BI(E),U=G.numericAxisName,L=G.cateAxisName,V=YRe(w),B=[];return w.forEach(function(I,X){var Q=Z_(y.data,{graphicalItems:[I],dataStartIndex:S,dataEndIndex:k}),O=I.type.defaultProps!==void 0?Le(Le({},I.type.defaultProps),I.props):I.props,M=O.dataKey,F=O.maxBarSize,H=O["".concat(U,"Id")],ee=O["".concat(L,"Id")],ne={},ge=c.reduce(function(me,z){var de=b["".concat(z.axisType,"Map")],be=O["".concat(z.axisType,"Id")];de&&de[be]||z.axisType==="zAxis"||hf();var we=de[be];return Le(Le({},me),{},jt(jt({},z.axisType,we),"".concat(z.axisType,"Ticks"),Kl(we)))},ne),se=ge[L],Z=ge["".concat(L,"Ticks")],ce=_&&_[H]&&_[H].hasStack&&Nke(I,_[H].stackGroups),A=Zl(I.type).indexOf("Bar")>=0,$e=bb(se,Z),Me=[],Fe=V&&fke({barSize:C,stackGroups:_,totalSize:QRe(ge,L)});if(A){var ze,Re,vt=Dt(F)?W:F,mt=(ze=(Re=bb(se,Z,!0))!==null&&Re!==void 0?Re:vt)!==null&&ze!==void 0?ze:0;Me=hke({barGap:P,barCategoryGap:T,bandSize:mt!==$e?mt:$e,sizeList:Fe[ee],maxBarSize:vt}),mt!==$e&&(Me=Me.map(function(me){return Le(Le({},me),{},{position:Le(Le({},me.position),{},{offset:me.position.offset-mt/2})})}))}var oe=I&&I.type&&I.type.getComposedData;oe&&B.push({props:Le(Le({},oe(Le(Le({},ge),{},{displayedData:Q,props:y,dataKey:M,item:I,bandSize:$e,barPosition:Me,offset:j,stackedData:ce,layout:E,dataStartIndex:S,dataEndIndex:k}))),{},jt(jt(jt({key:I.key||"item-".concat(X)},U,ge[U]),L,ge[L]),"animationId",N)),childIndex:hme(I,y.children),item:I})}),B},m=function(y,b){var w=y.props,_=y.dataStartIndex,j=y.dataEndIndex,N=y.updateId;if(!JR({props:w}))return null;var S=w.children,k=w.layout,C=w.stackOffset,E=w.data,P=w.reverseStackOrder,T=BI(k),W=T.numericAxisName,G=T.cateAxisName,U=ri(S,n),L=jke(E,U,"".concat(W,"Id"),"".concat(G,"Id"),C,P),V=c.reduce(function(O,M){var F="".concat(M.axisType,"Map");return Le(Le({},O),{},jt({},F,GRe(w,Le(Le({},M),{},{graphicalItems:U,stackGroups:M.axisType===W&&L,dataStartIndex:_,dataEndIndex:j}))))},{}),B=XRe(Le(Le({},V),{},{props:w,graphicalItems:U}),b==null?void 0:b.legendBBox);Object.keys(V).forEach(function(O){V[O]=d(w,V[O],B,O.replace("Map",""),r)});var I=V["".concat(G,"Map")],X=KRe(I),Q=h(w,Le(Le({},V),{},{dataStartIndex:_,dataEndIndex:j,updateId:N,graphicalItems:U,stackGroups:L,offset:B}));return Le(Le({formattedGraphicalItems:Q,graphicalItems:U,offset:B,stackGroups:L},X),V)},p=function(v){function y(b){var w,_,j;return ARe(this,y),j=DRe(this,y,[b]),jt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(j,"accessibilityManager",new gRe),jt(j,"handleLegendBBoxUpdate",function(N){if(N){var S=j.state,k=S.dataStartIndex,C=S.dataEndIndex,E=S.updateId;j.setState(Le({legendBBox:N},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:E},Le(Le({},j.state),{},{legendBBox:N}))))}}),jt(j,"handleReceiveSyncEvent",function(N,S,k){if(j.props.syncId===N){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),jt(j,"handleBrushChange",function(N){var S=N.startIndex,k=N.endIndex;if(S!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return Le({dataStartIndex:S,dataEndIndex:k},m({props:j.props,dataStartIndex:S,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:k})}}),jt(j,"handleMouseEnter",function(N){var S=j.getMouseInfo(N);if(S){var k=Le(Le({},S),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;Ct(C)&&C(k,N)}}),jt(j,"triggeredAfterMouseMove",function(N){var S=j.getMouseInfo(N),k=S?Le(Le({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;Ct(C)&&C(k,N)}),jt(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),jt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),jt(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),jt(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var k=j.props.onMouseLeave;Ct(k)&&k(S,N)}),jt(j,"handleOuterEvent",function(N){var S=fme(N),k=ti(j.props,"".concat(S));if(S&&Ct(k)){var C,E;/.*touch.*/i.test(S)?E=j.getMouseInfo(N.changedTouches[0]):E=j.getMouseInfo(N),k((C=E)!==null&&C!==void 0?C:{},N)}}),jt(j,"handleClick",function(N){var S=j.getMouseInfo(N);if(S){var k=Le(Le({},S),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;Ct(C)&&C(k,N)}}),jt(j,"handleMouseDown",function(N){var S=j.props.onMouseDown;if(Ct(S)){var k=j.getMouseInfo(N);S(k,N)}}),jt(j,"handleMouseUp",function(N){var S=j.props.onMouseUp;if(Ct(S)){var k=j.getMouseInfo(N);S(k,N)}}),jt(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),jt(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),jt(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),jt(j,"handleDoubleClick",function(N){var S=j.props.onDoubleClick;if(Ct(S)){var k=j.getMouseInfo(N);S(k,N)}}),jt(j,"handleContextMenu",function(N){var S=j.props.onContextMenu;if(Ct(S)){var k=j.getMouseInfo(N);S(k,N)}}),jt(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&a2.emit(s2,j.props.syncId,N,j.eventEmitterSymbol)}),jt(j,"applySyncEvent",function(N){var S=j.props,k=S.layout,C=S.syncMethod,E=j.state.updateId,P=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(Le({dataStartIndex:P,dataEndIndex:T},m({props:j.props,dataStartIndex:P,dataEndIndex:T,updateId:E},j.state)));else if(N.activeTooltipIndex!==void 0){var W=N.chartX,G=N.chartY,U=N.activeTooltipIndex,L=j.state,V=L.offset,B=L.tooltipTicks;if(!V)return;if(typeof C=="function")U=C(B,N);else if(C==="value"){U=-1;for(var I=0;I<B.length;I++)if(B[I].value===N.activeLabel){U=I;break}}var X=Le(Le({},V),{},{x:V.left,y:V.top}),Q=Math.min(W,X.x+X.width),O=Math.min(G,X.y+X.height),M=B[U]&&B[U].value,F=$C(j.state,j.props.data,U),H=B[U]?{x:k==="horizontal"?B[U].coordinate:Q,y:k==="horizontal"?O:B[U].coordinate}:sH;j.setState(Le(Le({},N),{},{activeLabel:M,activeCoordinate:H,activePayload:F,activeTooltipIndex:U}))}else j.setState(N)}),jt(j,"renderCursor",function(N){var S,k=j.state,C=k.isTooltipActive,E=k.activeCoordinate,P=k.activePayload,T=k.offset,W=k.activeTooltipIndex,G=k.tooltipAxisBandSize,U=j.getTooltipEventType(),L=(S=N.props.active)!==null&&S!==void 0?S:C,V=j.props.layout,B=N.key||"_recharts-cursor";return ie.createElement(jRe,{key:B,activeCoordinate:E,activePayload:P,activeTooltipIndex:W,chartName:r,element:N,isActive:L,layout:V,offset:T,tooltipAxisBandSize:G,tooltipEventType:U})}),jt(j,"renderPolarAxis",function(N,S,k){var C=ti(N,"type.axisType"),E=ti(j.state,"".concat(C,"Map")),P=N.type.defaultProps,T=P!==void 0?Le(Le({},P),N.props):N.props,W=E&&E[T["".concat(C,"Id")]];return x.cloneElement(N,Le(Le({},W),{},{className:Mt(C,W.className),key:N.key||"".concat(S,"-").concat(k),ticks:Kl(W,!0)}))}),jt(j,"renderPolarGrid",function(N){var S=N.props,k=S.radialLines,C=S.polarAngles,E=S.polarRadius,P=j.state,T=P.radiusAxisMap,W=P.angleAxisMap,G=qc(T),U=qc(W),L=U.cx,V=U.cy,B=U.innerRadius,I=U.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(C)?C:Kl(U,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(E)?E:Kl(G,!0).map(function(X){return X.coordinate}),cx:L,cy:V,innerRadius:B,outerRadius:I,key:N.key||"polar-grid",radialLines:k})}),jt(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,S=j.props,k=S.children,C=S.width,E=S.height,P=j.props.margin||{},T=C-(P.left||0)-(P.right||0),W=FV({children:k,formattedGraphicalItems:N,legendWidth:T,legendContent:u});if(!W)return null;var G=W.item,U=FI(W,SRe);return x.cloneElement(G,Le(Le({},U),{},{chartWidth:C,chartHeight:E,margin:P,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),jt(j,"renderTooltip",function(){var N,S=j.props,k=S.children,C=S.accessibilityLayer,E=Ws(k,Qn);if(!E)return null;var P=j.state,T=P.isTooltipActive,W=P.activeCoordinate,G=P.activePayload,U=P.activeLabel,L=P.offset,V=(N=E.props.active)!==null&&N!==void 0?N:T;return x.cloneElement(E,{viewBox:Le(Le({},L),{},{x:L.left,y:L.top}),active:V,label:U,payload:V?G:[],coordinate:W,accessibilityLayer:C})}),jt(j,"renderBrush",function(N){var S=j.props,k=S.margin,C=S.data,E=j.state,P=E.offset,T=E.dataStartIndex,W=E.dataEndIndex,G=E.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:hy(j.handleBrushChange,N.props.onChange),data:C,x:Ke(N.props.x)?N.props.x:P.left,y:Ke(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(k.bottom||0),width:Ke(N.props.width)?N.props.width:P.width,startIndex:T,endIndex:W,updateId:"brush-".concat(G)})}),jt(j,"renderReferenceElement",function(N,S,k){if(!N)return null;var C=j,E=C.clipPathId,P=j.state,T=P.xAxisMap,W=P.yAxisMap,G=P.offset,U=N.type.defaultProps||{},L=N.props,V=L.xAxisId,B=V===void 0?U.xAxisId:V,I=L.yAxisId,X=I===void 0?U.yAxisId:I;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(k),xAxis:T[B],yAxis:W[X],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:E})}),jt(j,"renderActivePoints",function(N){var S=N.item,k=N.activePoint,C=N.basePoint,E=N.childIndex,P=N.isRange,T=[],W=S.props.key,G=S.item.type.defaultProps!==void 0?Le(Le({},S.item.type.defaultProps),S.item.props):S.item.props,U=G.activeDot,L=G.dataKey,V=Le(Le({index:E,dataKey:L,cx:k.x,cy:k.y,r:4,fill:JA(S.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},_t(U,!1)),G1(U));return T.push(y.renderActiveDot(U,V,"".concat(W,"-activePoint-").concat(E))),C?T.push(y.renderActiveDot(U,Le(Le({},V),{},{cx:C.x,cy:C.y}),"".concat(W,"-basePoint-").concat(E))):P&&T.push(null),T}),jt(j,"renderGraphicChild",function(N,S,k){var C=j.filterFormatItem(N,S,k);if(!C)return null;var E=j.getTooltipEventType(),P=j.state,T=P.isTooltipActive,W=P.tooltipAxis,G=P.activeTooltipIndex,U=P.activeLabel,L=j.props.children,V=Ws(L,Qn),B=C.props,I=B.points,X=B.isRange,Q=B.baseLine,O=C.item.type.defaultProps!==void 0?Le(Le({},C.item.type.defaultProps),C.item.props):C.item.props,M=O.activeDot,F=O.hide,H=O.activeBar,ee=O.activeShape,ne=!!(!F&&T&&V&&(M||H||ee)),ge={};E!=="axis"&&V&&V.props.trigger==="click"?ge={onClick:hy(j.handleItemMouseEnter,N.props.onClick)}:E!=="axis"&&(ge={onMouseLeave:hy(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:hy(j.handleItemMouseEnter,N.props.onMouseEnter)});var se=x.cloneElement(N,Le(Le({},C.props),ge));function Z(z){return typeof W.dataKey=="function"?W.dataKey(z.payload):null}if(ne)if(G>=0){var ce,A;if(W.dataKey&&!W.allowDuplicatedCategory){var $e=typeof W.dataKey=="function"?Z:"payload.".concat(W.dataKey.toString());ce=q1(I,$e,U),A=X&&Q&&q1(Q,$e,U)}else ce=I==null?void 0:I[G],A=X&&Q&&Q[G];if(ee||H){var Me=N.props.activeIndex!==void 0?N.props.activeIndex:G;return[x.cloneElement(N,Le(Le(Le({},C.props),ge),{},{activeIndex:Me})),null,null]}if(!Dt(ce))return[se].concat(Gm(j.renderActivePoints({item:C,activePoint:ce,basePoint:A,childIndex:G,isRange:X})))}else{var Fe,ze=(Fe=j.getItemByXY(j.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:se},Re=ze.graphicalItem,vt=Re.item,mt=vt===void 0?N:vt,oe=Re.childIndex,me=Le(Le(Le({},C.props),ge),{},{activeIndex:oe});return[x.cloneElement(mt,me),null,null]}return X?[se,null,null]:[se,null]}),jt(j,"renderCustomized",function(N,S,k){return x.cloneElement(N,Le(Le({key:"recharts-customized-".concat(k)},j.props),j.state))}),jt(j,"renderMap",{CartesianGrid:{handler:xy,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:xy},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:xy},YAxis:{handler:xy},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Np("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=Mz(j.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return FRe(y,v),ORe(y,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,j=w.data,N=w.height,S=w.layout,k=Ws(_,Qn);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,P=$C(this.state,j,C,E),T=this.state.tooltipTicks[C].coordinate,W=(this.state.offset.top+N)/2,G=S==="horizontal",U=G?{x:T,y:W}:{y:T,x:W},L=this.state.formattedGraphicalItems.find(function(B){var I=B.item;return I.type.name==="Scatter"});L&&(U=Le(Le({},U),L.props.points[C].tooltipPosition),P=L.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:E,activePayload:P,activeCoordinate:U};this.setState(V),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){mk([Ws(w.children,Qn)],[Ws(this.props.children,Qn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ws(this.props.children,Qn);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),N=$_e(j),S={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},k=j.width/_.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,k);if(!C)return null;var E=this.state,P=E.xAxisMap,T=E.yAxisMap,W=this.getTooltipEventType(),G=LI(this.state,this.props.data,this.props.layout,C);if(W!=="axis"&&P&&T){var U=qc(P).scale,L=qc(T).scale,V=U&&U.invert?U.invert(S.chartX):null,B=L&&L.invert?L.invert(S.chartY):null;return Le(Le({},S),{},{xValue:V,yValue:B},G)}return G?Le(Le({},S),G):null}},{key:"inRange",value:function(w,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=w/j,k=_/j;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,E=S>=C.left&&S<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return E?{x:S,y:k}:null}var P=this.state,T=P.angleAxisMap,W=P.radiusAxisMap;if(T&&W){var G=qc(T);return c3({x:S,y:k},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),j=Ws(w,Qn),N={};j&&_==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=G1(this.props,this.handleOuterEvent);return Le(Le({},S),N)}},{key:"addListener",value:function(){a2.on(s2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){a2.removeListener(s2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,j){for(var N=this.state.formattedGraphicalItems,S=0,k=N.length;S<k;S++){var C=N[S];if(C.item===w||C.props.key===w.key||_===Zl(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,j=_.left,N=_.top,S=_.height,k=_.width;return ie.createElement("defs",null,ie.createElement("clipPath",{id:w},ie.createElement("rect",{x:j,y:N,height:S,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,j){var N=MI(j,2),S=N[0],k=N[1];return Le(Le({},_),{},jt({},S,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,j){var N=MI(j,2),S=N[0],k=N[1];return Le(Le({},_),{},jt({},S,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,j=_.formattedGraphicalItems,N=_.activeItem;if(j&&j.length)for(var S=0,k=j.length;S<k;S++){var C=j[S],E=C.props,P=C.item,T=P.type.defaultProps!==void 0?Le(Le({},P.type.defaultProps),P.props):P.props,W=Zl(P.type);if(W==="Bar"){var G=(E.data||[]).find(function(B){return wTe(w,B)});if(G)return{graphicalItem:C,payload:G}}else if(W==="RadialBar"){var U=(E.data||[]).find(function(B){return c3(w,B)});if(U)return{graphicalItem:C,payload:U}}else if(H_(C,N)||q_(C,N)||cv(C,N)){var L=cPe({graphicalItem:C,activeTooltipItem:N,itemData:T.data}),V=T.activeIndex===void 0?L:T.activeIndex;return{graphicalItem:Le(Le({},C),{},{childIndex:V}),payload:cv(C,N)?T.data[L]:C.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!JR(this))return null;var _=this.props,j=_.children,N=_.className,S=_.width,k=_.height,C=_.style,E=_.compact,P=_.title,T=_.desc,W=FI(_,NRe),G=_t(W,!1);if(E)return ie.createElement(vI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement(gk,Ch({},G,{width:S,height:k,title:P,desc:T}),this.renderClipPath(),tM(j,this.renderMap)));if(this.props.accessibilityLayer){var U,L;G.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,G.role=(L=this.props.role)!==null&&L!==void 0?L:"application",G.onKeyDown=function(B){w.accessibilityManager.keyboardEvent(B)},G.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return ie.createElement(vI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement("div",Ch({className:Mt("recharts-wrapper",N),style:Le({position:"relative",cursor:"default",width:S,height:k},C)},V,{ref:function(I){w.container=I}}),ie.createElement(gk,Ch({},G,{width:S,height:k,title:P,desc:T,style:zRe}),this.renderClipPath(),tM(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);jt(p,"displayName",r),jt(p,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),jt(p,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,_=v.children,j=v.width,N=v.height,S=v.layout,k=v.stackOffset,C=v.margin,E=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var T=$I(v);return Le(Le(Le({},T),{},{updateId:0},m(Le(Le({props:v},T),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(b!==y.prevDataKey||w!==y.prevData||j!==y.prevWidth||N!==y.prevHeight||S!==y.prevLayout||k!==y.prevStackOffset||!Bh(C,y.prevMargin)){var W=$I(v),G={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},U=Le(Le({},LI(y,w,S)),{},{updateId:y.updateId+1}),L=Le(Le(Le({},W),G),U);return Le(Le(Le({},L),m(Le({props:v},L),y)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(!mk(_,y.prevChildren)){var V,B,I,X,Q=Ws(_,Im),O=Q&&(V=(B=Q.props)===null||B===void 0?void 0:B.startIndex)!==null&&V!==void 0?V:E,M=Q&&(I=(X=Q.props)===null||X===void 0?void 0:X.endIndex)!==null&&I!==void 0?I:P,F=O!==E||M!==P,H=!Dt(w),ee=H&&!F?y.updateId:y.updateId+1;return Le(Le({updateId:ee},m(Le(Le({props:v},y),{},{updateId:ee,dataStartIndex:O,dataEndIndex:M}),y)),{},{prevChildren:_,dataStartIndex:O,dataEndIndex:M})}return null}),jt(p,"renderActiveDot",function(v,y,b){var w;return x.isValidElement(v)?w=x.cloneElement(v,y):Ct(v)?w=v(y):w=ie.createElement(B_,y),ie.createElement(ir,{className:"recharts-active-dot",key:b},w)});var g=x.forwardRef(function(y,b){return ie.createElement(p,Ch({},y,{ref:b}))});return g.displayName=p.displayName,g},ix=uP({chartName:"LineChart",GraphicalChild:jc,axisComponents:[{axisType:"xAxis",AxisComp:po},{axisType:"yAxis",AxisComp:go}],formatAxisMap:NW}),UI=uP({chartName:"BarChart",GraphicalChild:Si,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:po},{axisType:"yAxis",AxisComp:go}],formatAxisMap:NW}),pd=uP({chartName:"PieChart",GraphicalChild:Ga,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:W_},{axisType:"radiusAxis",AxisComp:z_}],formatAxisMap:Mke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const zI=({projects:e,clients:t,users:r,leads:n,surveys:a,loadData:s,isRTL:o,t:l,counts:c,mleadsChartData:u})=>{var w;const{user:d}=pr(),f=c.projects,h=0,m=c.projects,p=0;c.clients;const g=c.users,v=c.leads,y=c.surveys,b=[...e].sort((_,j)=>new Date(j.created_at||"").getTime()-new Date(_.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:o?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:l("dashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:l("dashboard.subtitle")})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx(b7,{})})]}),i.jsxs(st,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx(Ut,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(ur,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(An,{className:"h-6 w-6 text-primary"}),l("employeeDashboard.employeeInfo")]})}),i.jsx(ft,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.name")}),i.jsx("p",{className:"font-medium",children:Oe(d.profile||{},"user_name")||d.name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.email")}),i.jsx("p",{className:"font-medium truncate",title:d.email,children:d.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.role")}),i.jsx(dt,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:d.permissions_permissions_Name||d.role||"Unknown"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.memberSince")}),i.jsx("p",{className:"font-medium",children:(w=d.profile)!=null&&w.created_at?new Date(d.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[i.jsx(Ni,{title:l("dashboard.totalProjects"),value:f,subtext:`${h} ${l("dashboard.completed")}`,icon:fB,isRTL:o}),i.jsx(Ni,{title:l("dashboard.inProgress"),value:m,subtext:l("dashboard.activeProjects"),icon:Ya,isRTL:o}),i.jsx(Ni,{title:l("dashboard.teamMembers"),value:g,subtext:l("dashboard.activeUsers"),icon:Ya,isRTL:o}),i.jsx(Ni,{title:l("dashboard.leads"),value:v,subtext:l("dashboard.totalLeads"),icon:Vd,isRTL:o}),i.jsx(Ni,{title:l("dashboard.surveys"),value:y,subtext:l("dashboard.totalSurveys"),icon:ps,isRTL:o})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ut,{children:i.jsxs(ur,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Vd,{className:"h-6 w-6 text-primary"}),l("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(ft,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Su,{width:"100%",height:"100%",children:i.jsxs(ix,{data:u,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(ku,{strokeDasharray:"3 3"}),i.jsx(po,{dataKey:"date",angle:o?45:-45,textAnchor:o?"start":"end",height:80,tick:{fontSize:12},reversed:o}),i.jsx(go,{orientation:o?"right":"left",label:{value:"Number of Leads",angle:o?90:-90,position:o?"insideRight":"insideLeft"}}),i.jsx(Qn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:_=>[`${_} leads`,"Total"]}),i.jsx(ni,{}),i.jsx(jc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ut,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(ur,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.recentProjects")})}),i.jsx(ft,{className:"space-y-2 pt-4",children:b.length>0?b.map(_=>i.jsx(JRe,{project:_,clientName:_.company_name||l("dashboard.noClient"),isRTL:o,t:l},_.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:l("dashboard.noProjectsYet")})})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ut,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(ur,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.projectStatus")})}),i.jsxs(ft,{className:"space-y-2 pt-4",children:[i.jsx(o2,{color:"bg-emerald-500",label:l("dashboard.completedStatus"),value:h,isRTL:o}),i.jsx(o2,{color:"bg-blue-500",label:l("dashboard.inProgressStatus"),value:m,isRTL:o}),i.jsx(o2,{color:"bg-slate-400",label:l("dashboard.notStartedStatus"),value:p,isRTL:o})]})]})]})]})},ZRe=({user:e,myTasks:t,myProjects:r,leads:n,surveys:a,isRTL:s,t:o,counts:l,mleadsChartData:c})=>{var m;const u=t.filter(p=>p.task_status==="completed").length,d=t.filter(p=>p.task_status==="in_progress").length,f=l.projects,h=[...t].sort((p,g)=>new Date(g.created_at||"").getTime()-new Date(p.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:s?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:o("employeeDashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:o("employeeDashboard.subtitle",{name:Oe(e.profile||{},"user.name")||e.email})})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx(b7,{})})]}),i.jsxs(st,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx(Ut,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(ur,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(An,{className:"h-6 w-6 text-primary"}),o("employeeDashboard.employeeInfo")]})}),i.jsx(ft,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsx(l2,{label:o("employeeDashboard.name"),value:Oe(e.profile||{},"user_name")||"N/A",isRTL:s}),i.jsx(l2,{label:o("employeeDashboard.email"),value:e.email,isRTL:s}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:o("employeeDashboard.role")}),i.jsx(dt,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:e.permissions_permissions_Name||e.role||"Unknown"})]}),i.jsx(l2,{label:o("employeeDashboard.memberSince"),value:(m=e.profile)!=null&&m.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A",isRTL:s})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[i.jsx(Ni,{title:o("employeeDashboard.myProjects"),value:l.projects,subtext:`${f} ${o("employeeDashboard.active")}`,icon:zd,isRTL:s}),i.jsx(Ni,{title:o("employeeDashboard.myTasks"),value:l.myTasks,subtext:`${u} ${o("employeeDashboard.completed")}`,icon:Vd,isRTL:s}),i.jsx(Ni,{title:o("employeeDashboard.inProgress"),value:d,subtext:o("employeeDashboard.activeTasks"),icon:_d,isRTL:s}),i.jsx(Ni,{title:o("employeeDashboard.completedTasks"),value:u,subtext:o("employeeDashboard.finishedTasks"),icon:Ql,isRTL:s}),i.jsx(Ni,{title:o("employeeDashboard.leads"),value:l.leads,subtext:o("employeeDashboard.totalLeads"),icon:Vd,isRTL:s}),i.jsx(Ni,{title:o("employeeDashboard.surveys"),value:l.surveys,subtext:o("employeeDashboard.totalSurveys"),icon:ps,isRTL:s})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ut,{children:i.jsxs(ur,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Vd,{className:"h-6 w-6 text-primary"}),o("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(ft,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Su,{width:"100%",height:"100%",children:i.jsxs(ix,{data:c,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(ku,{strokeDasharray:"3 3"}),i.jsx(po,{dataKey:"date",angle:s?45:-45,textAnchor:s?"start":"end",height:80,tick:{fontSize:12},reversed:s}),i.jsx(go,{orientation:s?"right":"left",label:{value:"Number of Leads",angle:s?90:-90,position:s?"insideRight":"insideLeft"}}),i.jsx(Qn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:p=>[`${p} leads`,"Total"]}),i.jsx(ni,{}),i.jsx(jc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ut,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(ur,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.myProjects")})}),i.jsx(ft,{className:"space-y-2 pt-4",children:r.length>0?r.slice(0,5).map(p=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.company_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.contract_code||o("employeeDashboard.noDescription")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:p.contract_code})]},p.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noProjectsAssigned")})})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ut,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(ur,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.recentTasks")})}),i.jsx(ft,{className:"space-y-2 pt-4",children:h.length>0?h.map(p=>{var g;return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.task_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.description||o("employeeDashboard.noDescription")})]}),i.jsx(dt,{variant:p.task_status==="completed"?"default":p.task_status==="in_progress"?"secondary":"outline",className:"text-xs whitespace-nowrap",children:(g=p.task_status)==null?void 0:g.replace("_"," ")})]},p.task_id)}):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noTasksAssigned")})})]})]})]})},Ni=({title:e,value:t,subtext:r,icon:n,isRTL:a})=>i.jsxs(st,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",dir:a?"rtl":"ltr",children:[i.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[i.jsx(ur,{className:"text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e}),i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})})]}),i.jsxs(ft,{children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:t}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:r})]})]}),JRe=({project:e,clientName:t,isRTL:r,t:n})=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-900 dark:text-white leading-none truncate",children:e.company_name}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:t||n("dashboard.noClient")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:e.contract_code})]}),o2=({color:e,label:t,value:r,isRTL:n})=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors duration-200",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${e} shadow-sm`}),i.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300",children:t})]}),i.jsx("span",{className:"text-sm sm:text-base font-bold text-slate-900 dark:text-white",children:r})]}),l2=({label:e,value:t,isRTL:r})=>i.jsxs("div",{dir:r?"rtl":"ltr",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium mb-2",children:e}),i.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white",children:t})]});function eMe(){const{t:e}=Bt(),{currentLanguage:t,isRTL:r}=Ma();Jr();const{user:n,loading:a}=pr(),[s,o]=x.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,p]=x.useState(new Map),g=s.projects.filter(w=>{var N;const _=(N=n==null?void 0:n.profile)==null?void 0:N.userid,j=_?Number(_):null;return j!==null&&!isNaN(j)&&w.created_by===j}),v=async()=>{try{if(l.length>0){console.log("[Dashboard] MLeads chart data already loaded, skipping...");return}const w={pageSize:100,select_fields:"leads_id,created_at"},j=(await Y.mLeads.list(w)).data||[],N=new Map;j.forEach(C=>{const E=new Date(C.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});N.set(E,(N.get(E)||0)+1)});const k=Array.from(N.entries()).sort((C,E)=>new Date(C[0]).getTime()-new Date(E[0]).getTime()).map(([C,E])=>({date:C,count:E}));c(k)}catch(w){console.error("[Dashboard] Failed to load MLeads chart data:",w)}};x.useEffect(()=>{n&&!a&&(b(),y(),v())},[n,a]);const y=async()=>{try{const w=await _T(),_=new Map;w.forEach(j=>{_.set(j.permissions_ID,j.permissions_Name)}),p(_)}catch(w){console.error("Failed to load permission names:",w)}},b=async()=>{var w,_,j,N,S,k;try{d(!0),h(null);const[C]=await Promise.all([Y.getAggregates(["m_projects","users","m_leads","surveys","tasks","clients"])]),E=((w=C.m_projects)==null?void 0:w.Count)||0,P=((_=C.users)==null?void 0:_.Count)||0,T=((j=C.m_leads)==null?void 0:j.Count)||0,W=((N=C.surveys)==null?void 0:N.Count)||0,G=((S=C.clients)==null?void 0:S.Count)||0,U=((k=C.tasks)==null?void 0:k.Count)||0;o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:{projects:E,users:P,leads:T,surveys:W,clients:G,myTasks:0}})}catch(C){console.error("[Dashboard] Failed to load data:",C),o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),h(C.message||"Failed to load data")}finally{d(!1)}};return u||a||!n?i.jsx("div",{className:"flex items-center justify-center h-full py-12",dir:r?"rtl":"ltr",children:i.jsx(ia,{message:e("common.loading"),size:"2xl"})}):f?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:f}),i.jsx(le,{onClick:b,className:"mt-4",children:e("common.retry","Retry")})]})}):n.role==="client"?i.jsx(Wy,{to:"/client-portal",replace:!0}):n.role==="admin"?i.jsx(zI,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:b,isRTL:r,t:e,counts:s.counts,mleadsChartData:l}):["employee","manager","team_leader"].includes(n.role)?i.jsx(ZRe,{user:n,myTasks:s.myTasks,myProjects:g,leads:s.leads,surveys:s.surveys,isRTL:r,t:e,counts:s.counts,mleadsChartData:l}):["partner_employee","partner_leader"].includes(n.role)?i.jsxs("div",{className:"space-y-8",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("partnerEmployeeDashboard.title","Partner Employee Dashboard")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("partnerEmployeeDashboard.subtitle","Welcome to your partner employee portal")})]})}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(Ut,{children:i.jsxs(ur,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Vd,{className:"h-6 w-6 text-primary"}),e("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(ft,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Su,{width:"100%",height:"100%",children:i.jsxs(ix,{data:l,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(ku,{strokeDasharray:"3 3"}),i.jsx(po,{dataKey:"date",angle:r?45:-45,textAnchor:r?"start":"end",height:80,tick:{fontSize:12},reversed:r}),i.jsx(go,{orientation:r?"right":"left",label:{value:"Number of Leads",angle:r?90:-90,position:r?"insideRight":"insideLeft"}}),i.jsx(Qn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:w=>[`${w} leads`,"Total"]}),i.jsx(ni,{}),i.jsx(jc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx(Ni,{title:"",value:0,subtext:"",icon:zd,isRTL:r})}),i.jsx("h2",{className:"text-2xl font-semibold",children:e("common.comingSoon","Coming Soon")}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:e("partnerEmployeeDashboard.comingSoonMessage","We're working hard to bring you an amazing partner employee experience.")})]})})]}):i.jsx(zI,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:b,isRTL:r,t:e,counts:s.counts,mleadsChartData:l})}var J_="Popover",[oH,SHe]=os(J_,[gp]),ox=gp(),[tMe,Qu]=oH(J_),lH=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=e,l=ox(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=uc({prop:n,defaultProp:a??!1,onChange:s,caller:J_});return i.jsx(BT,{...l,children:i.jsx(tMe,{scope:t,contentId:ta(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};lH.displayName=J_;var cH="PopoverAnchor",rMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Qu(cH,r),s=ox(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(qw,{...s,...n,ref:t})});rMe.displayName=cH;var uH="PopoverTrigger",dH=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Qu(uH,r),s=ox(r),o=$t(t,a.triggerRef),l=i.jsx(ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":gH(a.open),...n,ref:o,onClick:et(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(qw,{asChild:!0,...s,children:l})});dH.displayName=uH;var dP="PopoverPortal",[nMe,aMe]=oH(dP,{forceMount:void 0}),fH=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Qu(dP,t);return i.jsx(nMe,{scope:t,forceMount:r,children:i.jsx(Fa,{present:r||s.open,children:i.jsx(Wv,{asChild:!0,container:a,children:n})})})};fH.displayName=dP;var Km="PopoverContent",hH=x.forwardRef((e,t)=>{const r=aMe(Km,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Qu(Km,e.__scopePopover);return i.jsx(Fa,{present:n||s.open,children:s.modal?i.jsx(iMe,{...a,ref:t}):i.jsx(oMe,{...a,ref:t})})});hH.displayName=Km;var sMe=Du("PopoverContent.RemoveScroll"),iMe=x.forwardRef((e,t)=>{const r=Qu(Km,e.__scopePopover),n=x.useRef(null),a=$t(t,n),s=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return Gw(o)},[]),i.jsx(Hv,{as:sMe,allowPinchZoom:!0,children:i.jsx(mH,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:et(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),oMe=x.forwardRef((e,t)=>{const r=Qu(Km,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(mH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),mH=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Qu(Km,r),m=ox(r);return zw(),i.jsx(zv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(UT,{"data-state":gH(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pH="PopoverClose",lMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Qu(pH,r);return i.jsx(ut.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>a.onOpenChange(!1))})});lMe.displayName=pH;var cMe="PopoverArrow",uMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ox(r);return i.jsx(zT,{...a,...n,ref:t})});uMe.displayName=cMe;function gH(e){return e?"open":"closed"}var dMe=lH,fMe=dH,hMe=fH,vH=hH;const ma=dMe,pa=fMe,Kn=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>i.jsx(hMe,{children:i.jsx(vH,{ref:a,align:t,sideOffset:r,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Kn.displayName=vH.displayName;const mMe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},pMe=(e,t,r)=>{const n=mMe[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},gMe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},vMe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},xMe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yMe={date:Mh({formats:gMe,defaultWidth:"full"}),time:Mh({formats:vMe,defaultWidth:"full"}),dateTime:Mh({formats:xMe,defaultWidth:"full"})},bMe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},wMe=e=>bMe[e],_Me={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},jMe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},SMe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},NMe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},kMe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},CMe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},EMe=e=>String(e),TMe={ordinalNumber:EMe,era:Ko({values:_Me,defaultWidth:"wide"}),quarter:Ko({values:jMe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ko({values:SMe,defaultWidth:"wide"}),day:Ko({values:NMe,defaultWidth:"wide"}),dayPeriod:Ko({values:kMe,defaultWidth:"wide",formattingValues:CMe,defaultFormattingWidth:"wide"})},AMe=/^(\d+)(th|st|nd|rd)?/i,PMe=/\d+/i,OMe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},DMe={any:[//,//]},RMe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},MMe={any:[/1/i,/2/i,/3/i,/4/i]},FMe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},IMe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},LMe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},$Me={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},BMe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},UMe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},zMe={ordinalNumber:Z6({matchPattern:AMe,parsePattern:PMe,valueCallback:e=>parseInt(e,10)}),era:Yo({matchPatterns:OMe,defaultMatchWidth:"wide",parsePatterns:DMe,defaultParseWidth:"any"}),quarter:Yo({matchPatterns:RMe,defaultMatchWidth:"wide",parsePatterns:MMe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yo({matchPatterns:FMe,defaultMatchWidth:"wide",parsePatterns:IMe,defaultParseWidth:"any"}),day:Yo({matchPatterns:LMe,defaultMatchWidth:"wide",parsePatterns:$Me,defaultParseWidth:"any"}),dayPeriod:Yo({matchPatterns:BMe,defaultMatchWidth:"any",parsePatterns:UMe,defaultParseWidth:"any"})},VMe={code:"ar",formatDistance:pMe,formatLong:yMe,formatRelative:wMe,localize:TMe,match:zMe,options:{weekStartsOn:6,firstWeekContainsDate:1}};var Nt=function(){return Nt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Nt.apply(this,arguments)};function WMe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function xH(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function lx(e){return e.mode==="multiple"}function cx(e){return e.mode==="range"}function ej(e){return e.mode==="single"}var HMe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function qMe(e,t){return rs(e,"LLLL y",t)}function GMe(e,t){return rs(e,"d",t)}function KMe(e,t){return rs(e,"LLLL",t)}function YMe(e){return"".concat(e)}function XMe(e,t){return rs(e,"cccccc",t)}function QMe(e,t){return rs(e,"yyyy",t)}var ZMe=Object.freeze({__proto__:null,formatCaption:qMe,formatDay:GMe,formatMonthCaption:KMe,formatWeekNumber:YMe,formatWeekdayName:XMe,formatYearCaption:QMe}),JMe=function(e,t,r){return rs(e,"do MMMM (EEEE)",r)},eFe=function(){return"Month: "},tFe=function(){return"Go to next month"},rFe=function(){return"Go to previous month"},nFe=function(e,t){return rs(e,"cccc",t)},aFe=function(e){return"Week n. ".concat(e)},sFe=function(){return"Year: "},iFe=Object.freeze({__proto__:null,labelDay:JMe,labelMonthDropdown:eFe,labelNext:tFe,labelPrevious:rFe,labelWeekNumber:aFe,labelWeekday:nFe,labelYearDropdown:sFe});function oFe(){var e="buttons",t=HMe,r=bT,n={},a={},s=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:ZMe,labels:iFe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:o,today:l,mode:"default"}}function lFe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,o=e.toDate;return n?s=_s(n):t&&(s=new Date(t,0,1)),a?o=Iw(a):r&&(o=new Date(r,11,31)),{fromDate:s?mm(s):void 0,toDate:o?mm(o):void 0}}var yH=x.createContext(void 0);function cFe(e){var t,r=e.initialProps,n=oFe(),a=lFe(r),s=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!o)&&(l="buttons");var c;(ej(r)||lx(r)||cx(r))&&(c=r.onSelect);var u=Nt(Nt(Nt({},n),r),{captionLayout:l,classNames:Nt(Nt({},n.classNames),r.classNames),components:Nt({},r.components),formatters:Nt(Nt({},n.formatters),r.formatters),fromDate:s,labels:Nt(Nt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Nt(Nt({},n.modifiers),r.modifiers),modifiersClassNames:Nt(Nt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Nt(Nt({},n.styles),r.styles),toDate:o});return i.jsx(yH.Provider,{value:u,children:e.children})}function Tr(){var e=x.useContext(yH);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function bH(e){var t=Tr(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function uFe(e){return i.jsx("svg",Nt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wH(e){var t,r,n=e.onChange,a=e.value,s=e.children,o=e.caption,l=e.className,c=e.style,u=Tr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:uFe;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function dFe(e){var t,r=Tr(),n=r.fromDate,a=r.toDate,s=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});var f=[];if(Nne(n,a))for(var h=_s(n),m=n.getMonth();m<=a.getMonth();m++)f.push(gS(h,m));else for(var h=_s(new Date),m=0;m<=11;m++)f.push(gS(h,m));var p=function(v){var y=Number(v.target.value),b=gS(_s(e.displayMonth),y);e.onChange(b)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:wH;return i.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return i.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function fFe(e){var t,r=e.displayMonth,n=Tr(),a=n.fromDate,s=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});for(var m=a.getFullYear(),p=s.getFullYear(),g=m;g<=p;g++)h.push(eR(X6(new Date),g));var v=function(b){var w=eR(_s(r),Number(b.target.value));e.onChange(w)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:wH;return i.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return i.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function hFe(e,t){var r=x.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function mFe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&gm(s,a)<0){var u=-1*(c-1);a=yo(s,u)}return o&&gm(a,o)<0&&(a=o),_s(a)}function pFe(){var e=Tr(),t=mFe(e),r=hFe(t,e.month),n=r[0],a=r[1],s=function(o){var l;if(!e.disableNavigation){var c=_s(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function gFe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=_s(e),s=_s(yo(a,n)),o=gm(s,a),l=[],c=0;c<o;c++){var u=yo(a,c);l.push(u)}return r&&(l=l.reverse()),l}function vFe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=_s(e);if(!r)return yo(l,o);var c=gm(r,e);if(!(c<s))return yo(l,o)}}function xFe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=_s(e);if(!r)return yo(l,-o);var c=gm(l,r);if(!(c<=0))return yo(l,-o)}}var _H=x.createContext(void 0);function yFe(e){var t=Tr(),r=pFe(),n=r[0],a=r[1],s=gFe(n,t),o=vFe(n,t),l=xFe(n,t),c=function(f){return s.some(function(h){return wT(f,h)})},u=function(f,h){c(f)||(h&&nB(f,h)?a(yo(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(_H.Provider,{value:d,children:e.children})}function ux(){var e=x.useContext(_H);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function VI(e){var t,r=Tr(),n=r.classNames,a=r.styles,s=r.components,o=ux().goToMonth,l=function(d){o(yo(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:bH,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(dFe,{onChange:l,displayMonth:e.displayMonth}),i.jsx(fFe,{onChange:l,displayMonth:e.displayMonth})]})}function bFe(e){return i.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wFe(e){return i.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Gb=x.forwardRef(function(e,t){var r=Tr(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var o=s.join(" "),l=Nt(Nt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),i.jsx("button",Nt({},e,{ref:t,type:"button",className:o,style:l}))});function _Fe(e){var t,r,n=Tr(),a=n.dir,s=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[o.nav_button,o.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:s}),g=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:wFe,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:bFe;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(Gb,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?i.jsx(v,{className:o.nav_icon,style:l.nav_icon}):i.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(Gb,{name:"next-month","aria-label":p,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?i.jsx(y,{className:o.nav_icon,style:l.nav_icon}):i.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function WI(e){var t=Tr().numberOfMonths,r=ux(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(p){return wT(e.displayMonth,p)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return i.jsx(_Fe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function jFe(e){var t,r=Tr(),n=r.classNames,a=r.disableNavigation,s=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:bH,u;return a?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(VI,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(VI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(WI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(WI,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:s.caption,children:u})}function SFe(e){var t=Tr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?i.jsx("tfoot",{className:a,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function NFe(e,t,r){for(var n=r?rf(new Date):fl(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var o=Va(n,s);a.push(o)}return a}function kFe(){var e=Tr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=NFe(a,s,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function CFe(){var e,t=Tr(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:kFe;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(s,{})})}function EFe(e){var t=Tr(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var fP=x.createContext(void 0);function TFe(e){if(!lx(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(fP.Provider,{value:t,children:e.children})}return i.jsx(AFe,{initialProps:e.initialProps,children:e.children})}function AFe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var p=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!p){var g=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var v=n?xH([],n):[];if(d.selected){var y=v.findIndex(function(b){return vs(u,b)});v.splice(y,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return vs(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(fP.Provider,{value:c,children:r})}function hP(){var e=x.useContext(fP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function PFe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?vs(a,e)&&vs(n,e)?void 0:vs(a,e)?{from:a,to:void 0}:vs(n,e)?void 0:qN(n,e)?{from:e,to:a}:{from:n,to:e}:a?qN(e,a)?{from:a,to:e}:{from:e,to:a}:n?nB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var mP=x.createContext(void 0);function OFe(e){if(!cx(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(mP.Provider,{value:t,children:e.children})}return i.jsx(DFe,{initialProps:e.initialProps,children:e.children})}function DFe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,o=a.to,l=t.min,c=t.max,u=function(m,p,g){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,m,p,g);var b=PFe(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,b,m,p,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],vs(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),l&&(s&&!o&&d.disabled.push({after:pS(s,l-1),before:Va(s,l-1)}),s&&o&&d.disabled.push({after:s,before:Va(s,l-1)}),!s&&o&&d.disabled.push({after:pS(o,l-1),before:Va(o,l-1)})),c){if(s&&!o&&(d.disabled.push({before:Va(s,-c+1)}),d.disabled.push({after:Va(s,c-1)})),s&&o){var f=Jo(o,s)+1,h=c-f;d.disabled.push({before:pS(s,h)}),d.disabled.push({after:Va(o,h)})}!s&&o&&(d.disabled.push({before:Va(o,-c+1)}),d.disabled.push({after:Va(o,c-1)}))}return i.jsx(mP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function pP(){var e=x.useContext(mP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Zy(e){return Array.isArray(e)?xH([],e):e!==void 0?[e]:[]}function RFe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Zy(a)}),t}var Co;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Co||(Co={}));var MFe=Co.Selected,Rl=Co.Disabled,FFe=Co.Hidden,IFe=Co.Today,c2=Co.RangeEnd,u2=Co.RangeMiddle,d2=Co.RangeStart,LFe=Co.Outside;function $Fe(e,t,r){var n,a=(n={},n[MFe]=Zy(e.selected),n[Rl]=Zy(e.disabled),n[FFe]=Zy(e.hidden),n[IFe]=[e.today],n[c2]=[],n[u2]=[],n[d2]=[],n[LFe]=[],n);return e.fromDate&&a[Rl].push({before:e.fromDate}),e.toDate&&a[Rl].push({after:e.toDate}),lx(e)?a[Rl]=a[Rl].concat(t.modifiers[Rl]):cx(e)&&(a[Rl]=a[Rl].concat(r.modifiers[Rl]),a[d2]=r.modifiers[d2],a[u2]=r.modifiers[u2],a[c2]=r.modifiers[c2]),a}var jH=x.createContext(void 0);function BFe(e){var t=Tr(),r=hP(),n=pP(),a=$Fe(t,r,n),s=RFe(t.modifiers),o=Nt(Nt({},a),s);return i.jsx(jH.Provider,{value:o,children:e.children})}function SH(){var e=x.useContext(jH);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function UFe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function zFe(e){return!!(e&&typeof e=="object"&&"from"in e)}function VFe(e){return!!(e&&typeof e=="object"&&"after"in e)}function WFe(e){return!!(e&&typeof e=="object"&&"before"in e)}function HFe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function qFe(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=Jo(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var o=Jo(e,n)>=0&&Jo(a,e)>=0;return o}return a?vs(a,e):n?vs(n,e):!1}function GFe(e){return xT(e)}function KFe(e){return Array.isArray(e)&&e.every(xT)}function YFe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(GFe(r))return vs(e,r);if(KFe(r))return r.includes(e);if(zFe(r))return qFe(e,r);if(HFe(r))return r.dayOfWeek.includes(e.getDay());if(UFe(r)){var n=Jo(r.before,e),a=Jo(r.after,e),s=n>0,o=a<0,l=qN(r.before,r.after);return l?o&&s:s||o}return VFe(r)?Jo(e,r.after)>0:WFe(r)?Jo(r.before,e)>0:typeof r=="function"?r(e):!1})}function gP(e,t,r){var n=Object.keys(t).reduce(function(s,o){var l=t[o];return YFe(e,l)&&s.push(o),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!wT(e,r)&&(a.outside=!0),a}function XFe(e,t){for(var r=_s(e[0]),n=Iw(e[e.length-1]),a,s,o=r;o<=n;){var l=gP(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Va(o,1);continue}if(l.selected)return o;l.today&&!s&&(s=o),a||(a=o),o=Va(o,1)}return s||a}var QFe=365;function NH(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Va,week:HN,month:yo,year:hre,startOfWeek:function(v){return a.ISOWeek?rf(v):fl(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?Q6(v):yT(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=mre([u,m]):n==="after"&&d&&(m=pre([d,m]));var p=!0;if(s){var g=gP(m,s);p=!g.disabled&&!g.hidden}return p?m:l.count>QFe?l.lastFocused:NH(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:Nt(Nt({},l),{count:l.count+1})})}var kH=x.createContext(void 0);function ZFe(e){var t=ux(),r=SH(),n=x.useState(),a=n[0],s=n[1],o=x.useState(),l=o[0],c=o[1],u=XFe(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},m=Tr(),p=function(v,y){if(a){var b=NH(a,{moveBy:v,direction:y,context:m,modifiers:r});vs(a,b)||(t.goToDate(b,a),h(b))}},g={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return i.jsx(kH.Provider,{value:g,children:e.children})}function vP(){var e=x.useContext(kH);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function JFe(e,t){var r=SH(),n=gP(e,r,t);return n}var xP=x.createContext(void 0);function e3e(e){if(!ej(e.initialProps)){var t={selected:void 0};return i.jsx(xP.Provider,{value:t,children:e.children})}return i.jsx(t3e,{initialProps:e.initialProps,children:e.children})}function t3e(e){var t=e.initialProps,r=e.children,n=function(s,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,o,l)},a={selected:t.selected,onDayClick:n};return i.jsx(xP.Provider,{value:a,children:r})}function CH(){var e=x.useContext(xP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function r3e(e,t){var r=Tr(),n=CH(),a=hP(),s=pP(),o=vP(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,p=o.focusMonthAfter,g=o.focusYearBefore,v=o.focusYearAfter,y=o.focusStartOfWeek,b=o.focusEndOfWeek,w=function(V){var B,I,X,Q;ej(r)?(B=n.onDayClick)===null||B===void 0||B.call(n,e,t,V):lx(r)?(I=a.onDayClick)===null||I===void 0||I.call(a,e,t,V):cx(r)?(X=s.onDayClick)===null||X===void 0||X.call(s,e,t,V):(Q=r.onDayClick)===null||Q===void 0||Q.call(r,e,t,V)},_=function(V){var B;h(e),(B=r.onDayFocus)===null||B===void 0||B.call(r,e,t,V)},j=function(V){var B;f(),(B=r.onDayBlur)===null||B===void 0||B.call(r,e,t,V)},N=function(V){var B;(B=r.onDayMouseEnter)===null||B===void 0||B.call(r,e,t,V)},S=function(V){var B;(B=r.onDayMouseLeave)===null||B===void 0||B.call(r,e,t,V)},k=function(V){var B;(B=r.onDayPointerEnter)===null||B===void 0||B.call(r,e,t,V)},C=function(V){var B;(B=r.onDayPointerLeave)===null||B===void 0||B.call(r,e,t,V)},E=function(V){var B;(B=r.onDayTouchCancel)===null||B===void 0||B.call(r,e,t,V)},P=function(V){var B;(B=r.onDayTouchEnd)===null||B===void 0||B.call(r,e,t,V)},T=function(V){var B;(B=r.onDayTouchMove)===null||B===void 0||B.call(r,e,t,V)},W=function(V){var B;(B=r.onDayTouchStart)===null||B===void 0||B.call(r,e,t,V)},G=function(V){var B;(B=r.onDayKeyUp)===null||B===void 0||B.call(r,e,t,V)},U=function(V){var B;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),u();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),d();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?g():m();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?v():p();break;case"Home":V.preventDefault(),V.stopPropagation(),y();break;case"End":V.preventDefault(),V.stopPropagation(),b();break}(B=r.onDayKeyDown)===null||B===void 0||B.call(r,e,t,V)},L={onClick:w,onFocus:_,onBlur:j,onKeyDown:U,onKeyUp:G,onMouseEnter:N,onMouseLeave:S,onPointerEnter:k,onPointerLeave:C,onTouchCancel:E,onTouchEnd:P,onTouchMove:T,onTouchStart:W};return L}function n3e(){var e=Tr(),t=CH(),r=hP(),n=pP(),a=ej(e)?t.selected:lx(e)?r.selected:cx(e)?n.selected:void 0;return a}function a3e(e){return Object.values(Co).includes(e)}function s3e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(a3e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function i3e(e,t){var r=Nt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Nt(Nt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function o3e(e,t,r){var n,a,s,o=Tr(),l=vP(),c=JFe(e,t),u=r3e(e,c),d=n3e(),f=!!(o.onDayClick||o.mode!=="default");x.useEffect(function(){var N;c.outside||l.focusedDay&&f&&vs(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=s3e(o,c).join(" "),m=i3e(o,c),p=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(s=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:EFe,v=i.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:v,role:"gridcell"},b=l.focusTarget&&vs(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&vs(l.focusedDay,e),_=Nt(Nt(Nt({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||b?0:-1,n)),u),j={isButton:f,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:y};return j}function l3e(e){var t=x.useRef(null),r=o3e(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Gb,Nt({name:"day",ref:t},r.buttonProps)):i.jsx("div",Nt({},r.divProps))}function c3e(e){var t=e.number,r=e.dates,n=Tr(),a=n.onWeekNumberClick,s=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return i.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return i.jsx(Gb,{name:"week-number","aria-label":f,className:o.weeknumber,style:s.weeknumber,onClick:h,children:d})}function u3e(e){var t,r,n=Tr(),a=n.styles,s=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:l3e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:c3e,d;return o&&(d=i.jsx("td",{className:s.cell,style:a.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return i.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:f})},_ne(f))})]})}function HI(e,t,r){for(var n=r!=null&&r.ISOWeek?Q6(t):yT(t,r),a=r!=null&&r.ISOWeek?rf(e):fl(e,r),s=Jo(n,a),o=[],l=0;l<=s;l++)o.push(Va(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?J6(d):tB(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function d3e(e,t){var r=HI(_s(e),Iw(e),t);if(t!=null&&t.useFixedWeeks){var n=Sne(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],o=HN(s,6-n),l=HI(HN(s,1),o,t);r.push.apply(r,l)}}return r}function f3e(e){var t,r,n,a=Tr(),s=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,p=d3e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:CFe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:u3e,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:SFe;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(g,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:p.map(function(b){return i.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),i.jsx(y,{displayMonth:e.displayMonth})]})}function h3e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var m3e=h3e()?x.useLayoutEffect:x.useEffect,f2=!1,p3e=0;function qI(){return"react-day-picker-".concat(++p3e)}function g3e(e){var t,r=e??(f2?qI():null),n=x.useState(r),a=n[0],s=n[1];return m3e(function(){a===null&&s(qI())},[]),x.useEffect(function(){f2===!1&&(f2=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function v3e(e){var t,r,n=Tr(),a=n.dir,s=n.classNames,o=n.styles,l=n.components,c=ux().displayMonths,u=g3e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=o.month,m=e.displayIndex===0,p=e.displayIndex===c.length-1,g=!m&&!p;a==="rtl"&&(t=[m,p],p=t[0],m=t[1]),m&&(f.push(s.caption_start),h=Nt(Nt({},h),o.caption_start)),p&&(f.push(s.caption_end),h=Nt(Nt({},h),o.caption_end)),g&&(f.push(s.caption_between),h=Nt(Nt({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:jFe;return i.jsxs("div",{className:f.join(" "),style:h,children:[i.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(f3e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function x3e(e){var t=Tr(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function y3e(e){var t,r,n=e.initialProps,a=Tr(),s=vP(),o=ux(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Nt(Nt({},a.styles.root),a.style),h=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,g){var v;return Nt(Nt({},p),(v={},v[g]=n[g],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:x3e;return i.jsx("div",Nt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(m,{children:o.displayMonths.map(function(p,g){return i.jsx(v3e,{displayIndex:g,displayMonth:p},g)})})}))}function b3e(e){var t=e.children,r=WMe(e,["children"]);return i.jsx(cFe,{initialProps:r,children:i.jsx(yFe,{children:i.jsx(e3e,{initialProps:r,children:i.jsx(TFe,{initialProps:r,children:i.jsx(OFe,{initialProps:r,children:i.jsx(BFe,{children:i.jsx(ZFe,{children:t})})})})})})})}function w3e(e){return i.jsx(b3e,Nt({},e,{children:i.jsx(y3e,{initialProps:e})}))}function EH({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(w3e,{showOutsideDays:r,className:xe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:xe(ym({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:xe(ym({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>i.jsx(Kne,{className:"h-4 w-4"}),IconRight:({...a})=>i.jsx(Lw,{className:"h-4 w-4"})},...n})}EH.displayName="Calendar";function yP({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:o,className:l}){const{t:c}=Bt(),{currentLanguage:u}=Ma(),[d,f]=x.useState(""),[h,m]=x.useState({from:void 0,to:void 0}),p=u==="ar"?VMe:void 0;x.useEffect(()=>{const y=setTimeout(()=>{e(d)},300);return()=>clearTimeout(y)},[d,e]);const g=y=>{m(y),n&&n(y)},v=()=>{f(""),m({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return i.jsxs("div",{className:xe("flex flex-col sm:flex-row gap-3 mb-6",l),children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Fs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),i.jsx(Ve,{placeholder:o||c("common.search","Search..."),value:d,onChange:y=>f(y.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&i.jsxs(yt,{onValueChange:t,children:[i.jsxs(pt,{className:"w-[140px]",children:[i.jsx(rae,{className:"mr-2 h-4 w-4"}),i.jsx(bt,{placeholder:c("common.status","Status")})]}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:c("common.all","All")}),s.map(y=>i.jsx(Te,{value:y.value,children:y.label},y.value))]})]}),r&&a.length>0&&i.jsxs(yt,{onValueChange:r,children:[i.jsxs(pt,{className:"w-[140px]",children:[i.jsx(_3e,{className:"mr-2 h-4 w-4"}),i.jsx(bt,{placeholder:c("common.assignee","Assignee")})]}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:c("common.all","All")}),a.filter(y=>["employee","admin","manager","team_leader"].includes(y.user_role)).map(y=>i.jsx(Te,{value:y.user_id.toString(),children:Oe(y,"user_name")},y.user_id))]})]}),n&&i.jsxs(ma,{children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",className:xe("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[i.jsx(bo,{className:"mr-2 h-4 w-4"}),h.from?h.to?i.jsxs(i.Fragment,{children:[rs(h.from,"LLL dd, y",{locale:p})," -"," ",rs(h.to,"LLL dd, y",{locale:p})]}):rs(h.from,"LLL dd, y",{locale:p}):i.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),i.jsx(Kn,{className:"w-auto p-0",align:"start",children:i.jsx(EH,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:g,numberOfMonths:2})})]}),i.jsx(le,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:i.jsx(_o,{className:"h-4 w-4"})})]})]})}function _3e(e){return i.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}const Ja={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await Y.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await Y.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const t=await Y.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${t.data.length} ${e} stages`),t.data}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const t=await this.getAll(),r=t.length>0?Math.max(...t.map(o=>o.stager_order_index||0)):-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var};return await Y.stages.create(a)}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=dl(t,{stage_name:"stage_name"});await Y.stages.update(e,r)}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{await Y.stages.delete(e)}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},bn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await Y.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return Y.count("Users")},async getById(e){try{const t=await Y.Users.list({exact_filters:{userid:e},pageSize:1});return t.data&&t.data.length>0?t.data[0]:null}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{return(await Y.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.name!==void 0&&(r.name=t.name),t.Email!==void 0&&(r.Email=t.Email),t.permissions!==void 0&&(r.permissions=t.permissions),t.mobile!==void 0&&(r.mobile=t.mobile),t.IsActive!==void 0&&(r.IsActive=t.IsActive),t.Employee!==void 0&&(r.Employee=t.Employee),await Y.Users.update(e,r),console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},TH={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await Y.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return Y.count("Users")},async getById(e){try{const t=await Y.Users.list({exact_filters:{userid:e},pageSize:1});if(t.data&&t.data.length>0){const r=t.data[0];if(r.user_role==="client")return r}return null}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await Y.Users.create(t)}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},Uc={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await Y.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return Y.count("projects")},async getById(e){try{return await Y.projects.get(e)}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{return await Y.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date),await Y.projects.update(e,r)}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{await Y.projects.delete(e)}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const r=(await Y.projectUsers.list({exact_filters:{userid:e}})).data.map(a=>a.project_id);if(r.length===0)return[];const n=await Promise.all(r.map(a=>Y.projects.get(a)));return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n.filter(a=>a!==null)}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},Cd={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await Y.tasks.list();return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return Y.count("tasks",e)},async getByStage(e){try{return(await Y.tasks.getByStage(e)).data}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=dl({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await Y.tasks.create(t)}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=dl(t,{task_name:"task_name",description:"description"});await Y.tasks.update(e,r)}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{await Y.tasks.delete(e)}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},BC={async getByTask(e){try{return(await Y.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{return await Y.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},Xi={async getUserRooms(e){try{const r=(await Y.roomMembers.list({exact_filters:{userid:e}})).data;if(!r||r.length===0)return[];const n=r.map(o=>o.room_id);return(await Y.rooms.list({advanced_filters:[{column:"room_id",filter_type:"in",value:n}]})).data}catch(t){throw console.error("[roomService] Failed to get user rooms:",t),t}},async createRoom(e){let t=e.created_by;if(!t||t===0){const n=await bn.getByAuthId(e.userid);n&&(t=n.userid)}return await Y.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,userid:e.userid})},async addMember(e,t){await Y.roomMembers.create({room_id:e,userid:t})},async getRoomMembers(e){const t=await Y.roomMembers.getByRoom(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(n=>n.userid).filter(Boolean);if(r.length===0)return[];try{return(await Y.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:r}]})).data||[]}catch(n){return console.warn("[roomService] Batch user fetch failed, falling back to individual calls:",n),(await Promise.all(t.data.map(async s=>await bn.getByAuthId(s.userid)))).filter(Boolean)}},async markAsRead(e,t){try{const r=await Y.roomMembers.list({exact_filters:{room_id:e,userid:t}});if(r.data.length>0){const n=r.data[0].id;n&&await Y.roomMembers.update(n,{last_read_at:new Date().toISOString()})}}catch(r){console.error("[roomService] Failed to mark room as read:",r)}}},j3e={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const t=await Y.projectUsers.getByProject(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(a=>a.user_id);return(await Promise.all(r.map(a=>bn.getById(a)))).filter(Boolean)}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e),await Y.projectUsers.create({project_id:e,user_id:t}),console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const r=await Y.projectUsers.list({exact_filters:{project_id:e,user_id:t}});if(r.data.length>0){const n=r.data[0].id;n&&await Y.projectUsers.delete(n)}console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},Qf={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await Y.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const n=((await Y.teamMembers.list()).data||[]).reduce((s,o)=>(s[o.team_id]||(s[o.team_id]=[]),s[o.team_id].push({userid:o.userid,joined_at:o.joined_at||o.created_at}),s),{});return e.map(s=>({...s,team_members:n[s.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const t=(await Y.teamMembers.list()).data,r={};return(t||[]).forEach(n=>{const a={userid:n.user_id,name:n.Users_name||n.user_name||"Unknown User",Email:n.Users_Email||n.user_email,mobile:n.Users_mobile||n.user_mobile,IsActive:n.Users_IsActive,isAdmin:n.Users_isAdmin};r[n.team_id]||(r[n.team_id]=[]),r[n.team_id].push(a)}),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await Y.teams.get(e)}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{return await Y.teams.create(e)}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=dl(t,{team_name:"team_name"});await Y.teams.update(e,r)}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{await Y.teams.delete(e)}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const r=(await Y.teamMembers.getByTeam(e)).data;if(!r||r.length===0)return[];const n=r.map(s=>s.userid);return(await Promise.all(n.map(s=>bn.getByAuthId(s)))).filter(Boolean)}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Adding member",r,"to team",e),await Y.teamMembers.create({team_id:e,user_id:r}),console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Removing member",r,"from team",e);const n=await Y.teamMembers.list({exact_filters:{team_id:e,user_id:r}});if(console.log("[teamService] Found records for deletion:",n.data.length,n.data),n.data.length>0){const a=n.data[0],s=(a==null?void 0:a.team_mem_id)??(a==null?void 0:a.id)??(a==null?void 0:a.team_members_id)??(a==null?void 0:a.team_membersId)??(a==null?void 0:a.team_id);if(!s)throw new Error("Unable to determine team member identifier for deletion");console.log("[teamService] Deleting team member record with ID:",s),await Y.teamMembers.delete(s)}else console.warn("[teamService] No team member record found for team_id:",e,"user_id:",r);console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},l0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await Y.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await Y.tickets.get(e)}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{return await Y.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.status!==void 0&&(r.status=t.status),await Y.tickets.update(e,r)}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`),await Y.tickets.update(e,{stage_id:t}),console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{await Y.tickets.delete(e)}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},Gc={async getByRoom(e,t){try{const r={exact_filters:{room_id:e}};t!=null&&t.limit&&(r.limit=t.limit);const n=await Y.messages.list(r);if(!n.data)return[];const a=n.data,s=[...new Set(a.map(u=>u.userid))];let o=[];try{if(s.length===0)return[];o=(await Y.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:s}]})).data||[]}catch(u){console.warn("[messageService] Batch user fetch failed, falling back to individual calls:",u),o=await Promise.all(s.map(d=>bn.getByAuthId(d)))}const l=new Map(o.filter(u=>u).map(u=>[u.userid,u]));return a.map(u=>({...u,sender:l.get(u.userid)||null})).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{return await Y.messages.create(e)}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{await Y.messages.update(e,{content:t,is_edited:!0})}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{await Y.messages.delete(e)}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{throw new Error("File upload not available - Supabase storage removed")}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},gd={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await Y.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getCount(){return Y.count("teams")},async getById(e){try{return await Y.leads.get(e)}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{return await Y.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async createMLead(e){try{return await Y.mLeads.create(e)}catch(t){throw console.error("[leadService] Failed to create MLead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency),await Y.leads.update(e,r)}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{await Y.leads.delete(e)}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},Vh={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const n=(await Y.notes.list({exact_filters:{related_to_type:e,related_to_id:t}})).data;if(!n||n.length===0)return[];const a=[...new Set(n.map(l=>l.created_by))],s=await Promise.all(a.map(l=>bn.getById(l))),o=new Map(s.filter(l=>l).map(l=>[l.userid,l]));return n.map(l=>({...l,user:o.get(l.created_by)?{userid:o.get(l.created_by).userid,user_id:o.get(l.created_by).userid,user_name:o.get(l.created_by).name,name:o.get(l.created_by).name,Email:o.get(l.created_by).Email}:void 0}))}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const t=await Y.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{await Y.notes.update(e,{content:t,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{await Y.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},Hi={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await Y.surveyTemplates.list();return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch survey templates:",e),e}},async getById(e){try{return await Y.surveyTemplates.get(e)}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{const t=await Y.surveyTemplates.create(e);return{...e,template_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null}}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default),await Y.surveyTemplates.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{await Y.surveyTemplates.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const r=(await Y.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(r==null?void 0:r.length)||0} fields`),(r||[]).sort((n,a)=>(n.field_order||0)-(a.field_order||0))}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{const t={...e,field_options:e.field_options?JSON.stringify(e.field_options):null},r=await Y.surveyTemplateFields.create(t);return{...e,field_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options?JSON.stringify(t.field_options):null),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic?JSON.stringify(t.conditional_logic):null),await Y.surveyTemplateFields.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{await Y.surveyTemplateFields.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},rh={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await Y.surveys.list({select_fields:["survey_id","created_at","survey_name","client_name","client_name_ar","client_company","client_contact","client_email","client_address","location_address","location_latitude","location_longitude","location_accuracy","survey_responses","status","created_by","created_by_name","notes","notes_ar","template_id","lead_id","device_info","decision_maker","updated_at","updated_by","reviewed_at","reviewed_by","converted_to_lead_at","completion_time_seconds"],pageSize:1e3});return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){try{console.log("[surveyService] Fetching surveys count...");const t=(await Fc("/api/v1/surveys/list?pageSize=1")).totalRows||0;return console.log(`[surveyService] Successfully fetched surveys count: ${t}`),t}catch(e){return console.error("[surveyService] Failed to fetch surveys count:",e),0}},async getById(e){try{return await Y.surveys.get(e)}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{const t={...e,survey_responses:e.survey_responses?JSON.stringify(e.survey_responses):null},r=await Y.surveys.create(t);return{...e,survey_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const t=e.map(n=>({...n,survey_responses:n.survey_responses?JSON.stringify(n.survey_responses):null})),r=await Promise.all(t.map(n=>Y.surveys.create(n)));return console.log(`[surveyService] Successfully batch created ${r.length} surveys`),r}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses?JSON.stringify(t.survey_responses):null),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar),await Y.surveys.update(e,r)}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{await Y.surveys.delete(e)}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}};var AH="AlertDialog",[S3e,NHe]=os(AH,[t7]),Sc=t7(),PH=e=>{const{__scopeAlertDialog:t,...r}=e,n=Sc(t);return i.jsx(a_,{...n,...r,modal:!0})};PH.displayName=AH;var N3e="AlertDialogTrigger",OH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Sc(r);return i.jsx(nA,{...a,...n,ref:t})});OH.displayName=N3e;var k3e="AlertDialogPortal",DH=e=>{const{__scopeAlertDialog:t,...r}=e,n=Sc(t);return i.jsx(s_,{...n,...r})};DH.displayName=k3e;var C3e="AlertDialogOverlay",RH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Sc(r);return i.jsx(xp,{...a,...n,ref:t})});RH.displayName=C3e;var Wh="AlertDialogContent",[E3e,T3e]=S3e(Wh),A3e=rse("AlertDialogContent"),MH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=Sc(r),o=x.useRef(null),l=$t(t,o),c=x.useRef(null);return i.jsx(cue,{contentName:Wh,titleName:FH,docsSlug:"alert-dialog",children:i.jsx(E3e,{scope:r,cancelRef:c,children:i.jsxs(yp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:et(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(A3e,{children:n}),i.jsx(O3e,{contentRef:o})]})})})});MH.displayName=Wh;var FH="AlertDialogTitle",IH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Sc(r);return i.jsx(Yv,{...a,...n,ref:t})});IH.displayName=FH;var LH="AlertDialogDescription",$H=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Sc(r);return i.jsx(Xv,{...a,...n,ref:t})});$H.displayName=LH;var P3e="AlertDialogAction",BH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Sc(r);return i.jsx(i_,{...a,...n,ref:t})});BH.displayName=P3e;var UH="AlertDialogCancel",zH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=T3e(UH,r),s=Sc(r),o=$t(t,a);return i.jsx(i_,{...s,...n,ref:o})});zH.displayName=UH;var O3e=({contentRef:e})=>{const t=`\`${Wh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wh}\` by passing a \`${LH}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},D3e=PH,R3e=OH,M3e=DH,VH=RH,WH=MH,HH=BH,qH=zH,GH=IH,KH=$H;const si=D3e,dx=R3e,F3e=M3e,YH=x.forwardRef(({className:e,...t},r)=>i.jsx(VH,{className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));YH.displayName=VH.displayName;const Es=x.forwardRef(({className:e,...t},r)=>i.jsxs(F3e,{children:[i.jsx(YH,{}),i.jsx(WH,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Es.displayName=WH.displayName;const Ts=({className:e,...t})=>i.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ts.displayName="AlertDialogHeader";const As=({className:e,...t})=>i.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",Xt()&&"sm:space-x-reverse",e),...t});As.displayName="AlertDialogFooter";const Ps=x.forwardRef(({className:e,...t},r)=>i.jsx(GH,{ref:r,className:xe("text-lg font-semibold",e),...t}));Ps.displayName=GH.displayName;const Os=x.forwardRef(({className:e,...t},r)=>i.jsx(KH,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Os.displayName=KH.displayName;const Ds=x.forwardRef(({className:e,...t},r)=>i.jsx(HH,{ref:r,className:xe(ym(),e),...t}));Ds.displayName=HH.displayName;const Rs=x.forwardRef(({className:e,...t},r)=>i.jsx(qH,{ref:r,className:xe(ym({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Rs.displayName=qH.displayName;const ra=x.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ra.displayName="Textarea";function fx({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=Jr(),s=x.useRef(null),o=e.find(l=>l.id===t)??e[0];return x.useEffect(()=>{a&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[o==null?void 0:o.id,a]),a?i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:i.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:Xt()?"ltr":"rtl",children:i.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((l,c)=>(Xt(),l.id-c.id)).map(l=>{const c=l.id===o.id;return i.jsxs("button",{ref:c?s:null,onClick:()=>r(l.id),className:xe("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",c?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[i.jsx("span",{className:"truncate max-w-[140px]",children:l.name}),i.jsx(dt,{variant:"secondary",className:xe("h-5 min-w-5 px-1.5 text-xs font-semibold",c?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:l.count})]},l.id)})})})}),i.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:i.jsx("div",{className:"p-2",children:n})})]}):i.jsx(i.Fragment,{children:n})}var tj="Tabs",[I3e,kHe]=os(tj,[Zw]),XH=Zw(),[L3e,bP]=I3e(tj),QH=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Bv(l),[f,h]=uc({prop:n,onChange:a,defaultProp:s??"",caller:tj});return i.jsx(L3e,{scope:r,baseId:ta(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(ut.div,{dir:d,"data-orientation":o,...u,ref:t})})});QH.displayName=tj;var ZH="TabsList",JH=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=bP(ZH,r),o=XH(r);return i.jsx(sU,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(ut.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});JH.displayName=ZH;var eq="TabsTrigger",tq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=bP(eq,r),l=XH(r),c=aq(o.baseId,n),u=sq(o.baseId,n),d=n===o.value;return i.jsx(iU,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(ut.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:et(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:et(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:et(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});tq.displayName=eq;var rq="TabsContent",nq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=bP(rq,r),c=aq(l.baseId,n),u=sq(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Fa,{present:a||d,children:({present:h})=>i.jsx(ut.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});nq.displayName=rq;function aq(e,t){return`${e}-trigger-${t}`}function sq(e,t){return`${e}-content-${t}`}var $3e=QH,iq=JH,oq=tq,lq=nq;const xl=$3e,Eo=x.forwardRef(({className:e,...t},r)=>i.jsx(iq,{ref:r,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Eo.displayName=iq.displayName;const Vr=x.forwardRef(({className:e,...t},r)=>i.jsx(oq,{ref:r,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Vr.displayName=oq.displayName;const xn=x.forwardRef(({className:e,...t},r)=>i.jsx(lq,{ref:r,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xn.displayName=lq.displayName;function wP({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=Bt(),{user:s}=pr(),[o,l]=x.useState(""),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState(null),[p,g]=x.useState(!1),v=async()=>{if(!(!o.trim()||!(s!=null&&s.id))){g(!0);try{await Vh.create({content:o.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(_){console.error("Failed to create note:",_)}finally{g(!1)}}},y=async _=>{if(d.trim()){g(!0);try{await Vh.update(_,d.trim()),u(null),f(""),n()}catch(j){console.error("Failed to update note:",j)}finally{g(!1)}}},b=async()=>{if(h){g(!0);try{await Vh.delete(h),m(null),n()}catch(_){console.error("Failed to delete note:",_)}finally{g(!1)}}},w=_=>{if(!_)return"";try{return bne(new Date(_),{addSuffix:!0})}catch{return _}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ra,{value:o,onChange:_=>l(_.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),i.jsxs(le,{onClick:v,disabled:!o.trim()||p,className:"w-full",children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),i.jsx("div",{className:"space-y-3",children:r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(_=>{var S;const j=c===_.note_id,N=_.created_by===(s==null?void 0:s.id);return i.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(S=_.user)!=null&&S.avatar?i.jsx("img",{src:_.user.avatar,alt:Oe(_.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-semibold text-primary",children:_.user?Oe(_.user,"user_name")[0]:"?"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:_.user?Oe(_.user,"user_name"):a("notes.unknown")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:w(_.created_at)})]})]}),N&&!j&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(_.note_id),f(_.content)},children:i.jsx(Di,{className:"h-3.5 w-3.5"})}),i.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>m(_.note_id),children:i.jsx(cr,{className:"h-3.5 w-3.5"})})]})]}),j?i.jsxs("div",{className:"space-y-2",children:[i.jsx(ra,{value:d,onChange:k=>f(k.target.value),rows:3,className:"resize-none"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(le,{size:"sm",onClick:()=>y(_.note_id),disabled:!d.trim()||p,children:[i.jsx(wo,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),i.jsxs(le,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[i.jsx(_o,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content})]},_.note_id)})}),i.jsx(si,{open:!!h,onOpenChange:()=>m(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:a("notes.delete")}),i.jsx(Os,{children:a("notes.deleteConfirmation")})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:a("buttons.cancel")}),i.jsx(Ds,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function cq({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return i.jsxs("div",{className:xe("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(o=>i.jsx(dB,{className:xe(s[t],o<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},o)),r&&i.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function B3e({leadId:e}){const{t}=Bt(),{isRTL:r}=Ma(),{user:n}=pr(),[a,s]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(""),[p,g]=x.useState([]),[v,y]=x.useState(!0),[b,w]=x.useState(!1),[_,j]=x.useState([]),[N,S]=x.useState([]),[k,C]=x.useState([]),[E,P]=x.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{W(),T()},[e]);const T=async()=>{try{const X=await bn.getAll().then(Q=>Q.filter(O=>O.user_role==="client"));C(X)}catch(X){console.error("Failed to load clients:",X)}},W=async()=>{var X,Q,O;try{y(!0);const[M,F,H]=await Promise.all([gd.getById(e),Ja.getByType("leads"),bn.getAll()]);if(s(M),j(F),S(H),!M)return;if(P({lead_name:M.lead_name||"",lead_description:M.lead_description||"",client_user_id:M.client_user_id||"",stage:((X=M.stage)==null?void 0:X.toString())||"",assigned_to:M.assigned_to||"",value:((Q=M.value)==null?void 0:Q.toString())||"",currency:M.currency||"SAR",priority:((O=M.priority)==null?void 0:O.toString())||"3",expected_close_date:M.expected_close_date||""}),M.client_user_id){const ee=await bn.getByAuthId(M.client_user_id);l(ee)}if(M.created_by){const ee=H.find(ne=>ne.auth_user_id===M.created_by)||null;u(ee)}if(M.assigned_to){const ee=H.find(ne=>ne.auth_user_id===M.assigned_to)||null;f(ee)}if(M.stage){const ee=F.find(ne=>ne.stage_id===M.stage);ee&&m(Oe(ee,"stage_name"))}G()}catch(M){console.error("Failed to load lead data:",M)}finally{y(!1)}},G=async()=>{try{const X=await Vh.getByRelated("lead",e);g(X)}catch(X){console.error("Failed to load notes:",X)}},U=async()=>{if(a)try{const X=E.assigned_to&&E.assigned_to!=="unassigned"?E.assigned_to:null,Q=dl({lead_name:E.lead_name,lead_description:E.lead_description||null,client_user_id:E.client_user_id||null,stage:parseInt(E.stage),assigned_to:X,value:E.value?parseFloat(E.value):null,currency:E.currency,priority:parseInt(E.priority),expected_close_date:E.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await gd.update(a.lead_id,Q);const O={...a,...Q};if(s(O),E.client_user_id){const F=k.find(H=>H.auth_user_id===E.client_user_id)||null;l(F)}if(X){const F=N.find(H=>H.auth_user_id===X)||null;f(F)}const M=_.find(F=>F.stage_id===parseInt(E.stage));M&&m(Oe(M,"stage_name")),w(!1)}catch(X){console.error("Failed to update lead:",X)}},L=()=>{var X,Q,O;a&&P({lead_name:a.lead_name||"",lead_description:a.lead_description||"",client_user_id:a.client_user_id||"",stage:((X=a.stage)==null?void 0:X.toString())||"",assigned_to:a.assigned_to||"",value:((Q=a.value)==null?void 0:Q.toString())||"",currency:a.currency||"SAR",priority:((O=a.priority)==null?void 0:O.toString())||"3",expected_close_date:a.expected_close_date||""}),w(!1)},V=(X,Q)=>{if(X===null)return"-";const O=Q||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:O==="SAR"?"SAR":O}).format(X)},B=X=>X?new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(v)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!a)return i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const I=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager";return i.jsxs("div",{className:"w-full",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),I&&!b&&i.jsxs(le,{onClick:()=>w(!0),variant:"outline",size:"sm",children:[i.jsx(Di,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),b&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(le,{onClick:L,variant:"outline",size:"sm",children:[i.jsx(_o,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),i.jsxs(le,{onClick:U,size:"sm",children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),i.jsxs(xl,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Eo,{className:"grid w-full grid-cols-2",children:[i.jsx(Vr,{value:"overview",children:t("common.overview")}),i.jsx(Vr,{value:"notes",children:t("notes.title")})]}),i.jsx(xn,{value:"overview",className:"space-y-4 mt-4",children:b?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),i.jsx(Ve,{id:"lead_name",value:E.lead_name,onChange:X=>P(Q=>({...Q,lead_name:X.target.value})),placeholder:t("leads.leadName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"lead_description",children:t("leads.description")}),i.jsx(ra,{id:"lead_description",value:E.lead_description,onChange:X=>P(Q=>({...Q,lead_description:X.target.value})),placeholder:t("leads.description"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("leads.client")}),i.jsxs(yt,{value:E.client_user_id,onValueChange:X=>P(Q=>({...Q,client_user_id:X})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:t("leads.selectClient")})}),i.jsx(gt,{children:k.filter(X=>X.auth_user_id).map(X=>i.jsx(Te,{value:X.auth_user_id,children:Oe(X,"user_name")},X.user_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("common.stage")}),i.jsxs(yt,{value:E.stage,onValueChange:X=>P(Q=>({...Q,stage:X})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:t("leads.selectStage")})}),i.jsx(gt,{children:_.map(X=>i.jsx(Te,{value:X.stage_id.toString(),children:Oe(X,"stage_name")},X.stage_id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("leads.value")}),i.jsx(Ve,{type:"number",min:"0",step:"0.01",value:E.value,onChange:X=>P(Q=>({...Q,value:X.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("leads.currency")}),i.jsxs(yt,{value:E.currency,onValueChange:X=>P(Q=>({...Q,currency:X})),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"SAR",children:"SAR (.)"}),i.jsx(Te,{value:"USD",children:"USD ($)"}),i.jsx(Te,{value:"EUR",children:"EUR ()"}),i.jsx(Te,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("common.priority")}),i.jsxs(yt,{value:E.priority,onValueChange:X=>P(Q=>({...Q,priority:X})),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsxs(Te,{value:"1",children:[" ",t("common.veryLow")]}),i.jsxs(Te,{value:"2",children:[" ",t("common.low")]}),i.jsxs(Te,{value:"3",children:[" ",t("common.medium")]}),i.jsxs(Te,{value:"4",children:[" ",t("common.high")]}),i.jsxs(Te,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("leads.expectedCloseDate")}),i.jsx(Ve,{type:"date",value:E.expected_close_date,onChange:X=>P(Q=>({...Q,expected_close_date:X.target.value}))})]})]}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("leads.assignToEmployee")}),i.jsxs(yt,{value:E.assigned_to,onValueChange:X=>P(Q=>({...Q,assigned_to:X})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:t("leads.selectAssignee")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"unassigned",children:t("common.unassigned")}),N.filter(X=>["employee","admin","manager","team_leader"].includes(X.user_role)&&X.auth_user_id).map(X=>i.jsx(Te,{value:X.auth_user_id,children:Oe(X,"user_name")},X.user_id))]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:Oe(a,"lead_name")}),Oe(a,"lead_description")&&i.jsx("p",{className:"text-muted-foreground mt-1",children:Oe(a,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(lR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),i.jsx(cq,{priority:a.priority,size:"sm"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[i.jsx(B0,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),i.jsx("p",{className:"text-lg font-semibold",children:V(a.value,a.currency)})]})]}),o&&i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[i.jsx(Tn,{className:"h-5 w-5 text-primary mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),i.jsx("p",{className:"font-medium truncate",children:Oe(o,"user_name")}),o.user_email&&i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:o.user_email})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(lR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),i.jsx(dt,{variant:"secondary",children:h||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(An,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),i.jsx("p",{className:"font-medium",children:d?Oe(d,"user_name"):t("common.unassigned")})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(bo,{className:"h-3.5 w-3.5"}),t("common.created")]}),i.jsx("p",{className:"text-sm font-medium mt-1",children:B(a.created_date)})]}),c&&i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),i.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Oe(c,"user_name")})]})]})]})}),i.jsx(xn,{value:"notes",className:"mt-4",children:i.jsx(wP,{relatedType:"lead",relatedId:e,notes:p,onNotesChange:G})})]})]})}function hx({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){Bt();const o=Jr();return i.jsxs("div",{className:xe("mb-6",s),children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[r&&i.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?ie.createElement(r):r}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&i.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&i.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!o&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>i.jsx(st,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:i.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&i.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?ie.createElement(l.icon):l.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&i.jsxs("span",{className:xe("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function cl({icon:e,title:t,description:r,action:n,className:a=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&i.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ie.createElement(e):e}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const _P=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:xe("w-full caption-bottom text-sm",e),...t})}));_P.displayName="Table";const jP=x.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:xe("[&_tr]:border-b",e),...t}));jP.displayName="TableHeader";const SP=x.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:xe("[&_tr:last-child]:border-0",e),...t}));SP.displayName="TableBody";const U3e=x.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));U3e.displayName="TableFooter";const gv=x.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:xe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));gv.displayName="TableRow";const ro=x.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:xe("h-12 py-4 align-middle font-medium text-muted-foreground",Xt()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...t}));ro.displayName="TableHead";const no=x.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:xe("py-4 align-middle",Xt()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...t}));no.displayName="TableCell";const z3e=x.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:xe("mt-4 text-sm text-muted-foreground",e),...t}));z3e.displayName="TableCaption";var rj="Checkbox",[V3e,CHe]=os(rj),[W3e,NP]=V3e(rj);function H3e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=uc({prop:r,defaultProp:a??!1,onChange:c,caller:rj}),[p,g]=x.useState(null),[v,y]=x.useState(null),b=x.useRef(!1),w=p?!!o||!!p.closest("form"):!0,_={checked:h,disabled:s,setChecked:m,control:p,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Cu(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:y};return i.jsx(W3e,{scope:t,..._,children:q3e(f)?f(_):n})}var uq="CheckboxTrigger",dq=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:p}=NP(uq,e),g=$t(a,d),v=x.useRef(c);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>f(v.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,f]),i.jsx(ut.button,{type:"button",role:"checkbox","aria-checked":Cu(c)?"mixed":c,"aria-required":u,"data-state":gq(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:et(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:et(r,y=>{f(b=>Cu(b)?!0:!b),p&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});dq.displayName=uq;var kP=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(H3e,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(dq,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(pq,{__scopeCheckbox:r})]})})});kP.displayName=rj;var fq="CheckboxIndicator",hq=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=NP(fq,r);return i.jsx(Fa,{present:n||Cu(s.checked)||s.checked===!0,children:i.jsx(ut.span,{"data-state":gq(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});hq.displayName=fq;var mq="CheckboxBubbleInput",pq=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=NP(mq,e),p=$t(r,m),g=VT(s),v=IT(n);x.useEffect(()=>{const b=h;if(!b)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(g!==s&&j){const S=new Event("click",{bubbles:N});b.indeterminate=Cu(s),j.call(b,Cu(s)?!1:s),b.dispatchEvent(S)}},[h,g,s,a]);const y=x.useRef(Cu(s)?!1:s);return i.jsx(ut.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:p,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});pq.displayName=mq;function q3e(e){return typeof e=="function"}function Cu(e){return e==="indeterminate"}function gq(e){return Cu(e)?"indeterminate":e?"checked":"unchecked"}const Kb=x.forwardRef(({className:e,indeterminate:t,...r},n)=>i.jsx(kP,{ref:n,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:i.jsx(hq,{className:xe("flex items-center justify-center text-current"),children:t?i.jsx(cae,{className:"h-4 w-4"}):i.jsx(NT,{className:"h-4 w-4"})})}));Kb.displayName=kP.displayName;function pc({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:o,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d}){const f=Jr(),{t:h}=Bt(),[m,p]=x.useState(new Set);x.useEffect(()=>{const S=new Set(e.map(a));p(k=>{const C=new Set(k);for(const E of k)S.has(E)||C.delete(E);return C})},[e,a]);const g=S=>{const k=new Set(m);k.has(S)?k.delete(S):k.add(S),p(k)},v=()=>{m.size===e.length?p(new Set):p(new Set(e.map(a)))},y=()=>{p(new Set)},b=()=>e.filter(S=>m.has(a(S))),w=S=>{const k=r.filter(C=>!C.show||C.show(S));return k.length===0?null:i.jsxs(ZT,{children:[i.jsx(JT,{asChild:!0,onClick:C=>C.stopPropagation(),children:i.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:i.jsx(Jne,{className:"h-4 w-4"})})}),i.jsx(r_,{align:"end",children:k.map((C,E)=>i.jsxs(Ul,{onClick:P=>{P.stopPropagation(),C.onClick(S)},className:xe(C.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[C.icon&&i.jsx("span",{className:"mr-2",children:C.icon}),C.label]},E))})]})};if(e.length===0)return o||i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:h("common.noData","No data available")});if(f)return i.jsx("div",{className:xe("space-y-3 w-full overflow-hidden",c),children:e.map((S,k)=>l?i.jsx("div",{onClick:()=>s==null?void 0:s(S),className:"w-full",children:l(S,w(S))},a(S)):i.jsx(st,{className:xe("w-full overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(S),children:i.jsx(ft,{className:"p-4 w-full",children:i.jsxs("div",{className:"space-y-3 w-full",children:[t.filter(C=>!C.hideOnMobile).map((C,E)=>i.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[i.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:C.header}),i.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:C.render(S,k)})]},C.key)),r.length>0&&i.jsx("div",{className:"pt-2 border-t flex justify-end",children:w(S)})]})})},a(S)))});const _=m.size,j=_===e.length&&e.length>0,N=_>0&&_<e.length;return i.jsxs("div",{className:"space-y-4",children:[u&&_>0&&i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm font-medium",children:[_," ",_===1?h("common.item","item"):h("common.items","items")," ",h("common.selected","selected")]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[n.map((S,k)=>i.jsxs(le,{variant:S.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>S.onClick(b()),className:xe(S.variant==="destructive"&&"hover:bg-destructive/90"),children:[S.icon&&i.jsx("span",{className:"mr-2",children:S.icon}),S.label]},k)),i.jsx(le,{variant:"ghost",size:"sm",onClick:y,className:"text-muted-foreground hover:text-foreground",children:i.jsx(_o,{className:"h-4 w-4"})})]})]}),i.jsx(st,{className:xe("overflow-hidden",c),children:i.jsx(ft,{className:"p-0",children:i.jsxs(_P,{children:[i.jsx(jP,{children:i.jsxs(gv,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-20 shadow-sm",children:[u&&i.jsx(ro,{className:"w-12",children:i.jsx(Kb,{checked:j,indeterminate:N,onCheckedChange:v,"aria-label":h("common.selectAll","Select all")})}),t.map(S=>i.jsx(ro,{className:xe("font-semibold",S.className),children:S.header},S.key)),r.length>0&&i.jsx(ro,{className:"w-[100px] text-right",children:h("common.actions")})]})}),i.jsx(SP,{children:e.map((S,k)=>{const C=a(S),E=m.has(C);return i.jsxs(gv,{className:xe("group transition-colors",E&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(S),children:[u&&i.jsx(no,{onClick:P=>P.stopPropagation(),children:i.jsx(Kb,{checked:E,onCheckedChange:()=>g(C),"aria-label":h("common.selectItem","Select item")})}),t.map(P=>i.jsx(no,{className:xe(P.className,"overflow-hidden"),children:P.render(S,k)},P.key)),r.length>0&&i.jsx(no,{className:"text-right",children:i.jsx("div",{children:w(S)})})]},C)})})]})})})]})}function vq({children:e,variant:t="secondary"}){return i.jsx(dt,{variant:t,className:"text-xs font-medium",children:e})}function Ym({name:e,fallback:t="Unassigned"}){return i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(An,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:xe(!e&&"text-muted-foreground"),children:e||t})]})}function Pf({date:e,fallback:t="Not set"}){return e?i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(bo,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{children:new Date(e).toLocaleDateString()})]}):i.jsx("span",{className:"text-muted-foreground",children:t})}function gc({title:e,subtitle:t,icon:r}){return i.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[r&&(typeof r=="function"?ie.createElement(r):r),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),t&&i.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:t})]})]})}function G3e({value:e,currency:t="SAR"}){return e==null?i.jsx("span",{className:"text-muted-foreground",children:"-"}):i.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function K3e({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:o,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=Bt(),m=Jr(),p=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),g=(v,y)=>{if(v===null)return"-";const b=y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(v)};return i.jsxs(st,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",m?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[i.jsxs(Ut,{className:"pb-3 px-4 pt-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Oe(e,"lead_name")}),Oe(e,"lead_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Oe(e,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&i.jsx(le,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:i.jsx(Di,{className:"h-4 w-4"})}),o&&i.jsxs(si,{children:[i.jsx(dx,{asChild:!0,onClick:v=>v.stopPropagation(),children:i.jsx(le,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(cr,{className:"h-4 w-4"})})}),i.jsxs(Es,{onClick:v=>v.stopPropagation(),children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:h("leads.deleteLead")}),i.jsx(Os,{children:h("leads.deleteConfirmation",{name:Oe(e,"lead_name")})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:h("buttons.cancel")}),i.jsx(Ds,{onClick:v=>{v.stopPropagation(),o(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[i.jsx(cq,{priority:e.priority,size:"sm"}),e.expected_close_date&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(bo,{className:"h-3 w-3"}),i.jsx("span",{children:p(e.expected_close_date)})]})]})]}),i.jsxs(ft,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(B0,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),i.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:g(e.value,e.currency)})]})]}),t&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Tn,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),i.jsx("p",{className:"text-sm font-semibold truncate",children:Oe(t,"user_name")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(An,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),i.jsx("p",{className:"text-xs font-medium truncate",children:Oe(r,"user_name")})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(An,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),i.jsx("p",{className:"text-xs font-medium truncate",children:n?Oe(n,"user_name"):h("common.all","Unassigned")})]})]})]}),i.jsx("div",{className:"pt-1",children:i.jsxs(yt,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[i.jsx(pt,{className:"h-7 text-xs",children:i.jsx(bt,{placeholder:h("leads.selectAssignee","Select assignee")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"unassigned",children:h("common.all","Unassigned")}),s.map(v=>i.jsx(Te,{value:(v.userid||v.userid||"").toString(),children:Oe(v,"user_name")},v.userid))]})]})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(bo,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:p(e.created_date)})]}),i.jsx(dt,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function Y3e(){var mt,oe,me;Ms();const{hasRole:e,user:t}=pr(),r=Jr(),{t:n}=Bt(),{setBreadcrumbs:a}=Iv();x.useEffect(()=>{a([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,a]);const[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[m,p]=x.useState(!0);x.useState(!1),x.useState("");const[g,v]=x.useState(null),[y,b]=x.useState(""),[w,_]=x.useState(null),[j,N]=x.useState(null),[S,k]=x.useState(!1),[C,E]=x.useState(null),[P,T]=x.useState("kanban"),[W,G]=x.useState(null),[U,L]=x.useState(""),[V,B]=x.useState("all"),[I,X]=x.useState("all"),[Q,O]=x.useState({from:void 0,to:void 0}),M=x.useMemo(()=>s.filter(z=>{const de=(z.lead_name||"").toLowerCase().includes(U.toLowerCase())||(z.lead_description||"").toLowerCase().includes(U.toLowerCase())||(z.client_name||"").toLowerCase().includes(U.toLowerCase()),be=I==="all"||z.assigned_to&&z.assigned_to===I;let we=!0;if(Q.from&&z.created_date){const Ue=new Date(z.created_date),Se=new Date(Q.from);Se.setHours(0,0,0,0);const Ne=new Date(Ue);if(Ne.setHours(0,0,0,0),we=Ne>=Se,we&&Q.to){const ve=new Date(Q.to);ve.setHours(23,59,59,999),we=Ne<=ve}}else Q.from&&!z.created_date&&(we=!1);return de&&be&&we}),[s,U,V,I,Q]),[F,H]=x.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{ee()},[]),x.useEffect(()=>{if(f.length>0&&C===null){const z=f.find(de=>de.stage_id===1);z&&E(z.stage_id)}},[f,C]);const ee=async()=>{try{p(!0);const[z,de,be,we]=await Promise.all([gd.getAll(),bn.getAll(),TH.getAll(),Ja.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:z.length,clients:be.length,users:de.length,stages:we.length}),console.log("[Leads] Leads data:",z),console.log("[Leads] Stages data:",we),o(z),c(be),d(de),h(we)}catch(z){console.error("Failed to load data:",z)}finally{p(!1)}},ne=async z=>{if(y.trim())try{await Ja.update(z,{stage_name:y.trim()}),h(f.map(de=>de.stage_id===z?{...de,stage_name:y.trim()}:de)),v(null),b("")}catch(de){console.error("Failed to update stage:",de)}},ge=async z=>{if(s.filter(be=>be.stage===z).length>0){_(z);return}try{await Ja.delete(z),h(f.filter(be=>be.stage_id!==z))}catch(be){console.error("Failed to delete stage:",be)}},se=async()=>{if(w)try{await Ja.delete(w),h(f.filter(z=>z.stage_id!==w)),_(null),ee()}catch(z){console.error("Failed to delete stage:",z)}},Z=z=>{N(z)},ce=z=>{z.preventDefault(),z.dataTransfer.dropEffect="move"},A=async z=>{if(!j)return;const de=s.find(be=>be.lead_id===j);if(de&&de.stage!==z)try{await gd.update(j,{stage:z}),o(s.map(be=>be.lead_id===j?{...be,stage:z}:be))}catch(be){console.error("Failed to update lead stage:",be)}N(null)},$e=async z=>{try{await gd.delete(z),o(s.filter(de=>de.lead_id!==z))}catch(de){console.error("Failed to delete lead:",de)}},Me=async(z,de)=>{const be=de||null,we=be?new Date().toISOString():null,Ue=s.find(Se=>Se.lead_id===z);if(Ue){o(s.map(Se=>Se.lead_id===z?{...Se,assigned_to:be,assigned_at:we}:Se));try{await gd.update(z,{assigned_to:be,assigned_at:we})}catch(Se){console.error("Failed to assign lead:",Se),o(s.map(Ne=>Ne.lead_id===z?{...Ne,assigned_to:Ue.assigned_to,assigned_at:Ue.assigned_at}:Ne))}}},Fe=z=>{H(de=>({...de,stage:z.toString()})),k(!0)},ze=async()=>{if(F.lead_name.trim())try{const z=F.assigned_to&&F.assigned_to!=="unassigned"?F.assigned_to:null,de=z?new Date().toISOString():null,be=dl({lead_name:F.lead_name.trim(),lead_description:F.lead_description.trim()||null,client_name:F.client_name.trim()||null,client_user_id:F.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(F.stage),assigned_to:z,assigned_at:de,value:F.value?parseFloat(F.value):null,currency:F.currency||"SAR",priority:F.priority?parseInt(F.priority):3,expected_close_date:F.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),we=await gd.create(be);o([...s,we]),H({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),k(!1)}catch(z){console.error("Failed to create lead:",z)}},Re=f.filter(z=>z.stage_type==="leads").sort((z,de)=>{const be=z.stager_order_index??0,we=de.stager_order_index??0;return be-we}),vt=Re.map(z=>({id:z.stage_id,name:Oe(z,"stage_name"),color:z.color,count:M.filter(de=>de.stage===z.stage_id).length}));return m?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Xt()?"rtl":"ltr",children:[i.jsx(hx,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:i.jsx(Ya,{className:"h-6 w-6 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:P==="kanban"?"default":"ghost",size:"sm",onClick:()=>T("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Bw,{className:"h-4 w-4"})}),i.jsx(le,{variant:P==="list"?"default":"ghost",size:"sm",onClick:()=>T("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})})]}),i.jsxs(le,{onClick:()=>k(!0),children:[i.jsx(Zt,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:s.length,icon:i.jsx(Ya,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:s.filter(z=>{const de=new Date(z.created_date),be=new Date;return de.getMonth()===be.getMonth()&&de.getFullYear()===be.getFullYear()}).length,icon:i.jsx(bo,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${s.reduce((z,de)=>z+(de.value||0),0).toLocaleString()}`,icon:i.jsx(B0,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:s.length>0?`SAR ${Math.round(s.reduce((z,de)=>z+(de.value||0),0)/s.length).toLocaleString()}`:"SAR 0",icon:i.jsx(B0,{className:"h-5 w-5 text-blue-500"})}]}),i.jsx(yP,{onSearch:L,onFilterAssignee:X,onFilterDateRange:O,users:u}),P==="kanban"?i.jsxs(fx,{stages:vt,currentStageId:C||((mt=vt[0])==null?void 0:mt.id),onStageChange:E,children:[i.jsx(vn,{open:S,onOpenChange:k,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("leads.createLead")}),i.jsx(Da,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(Ve,{value:F.lead_name,onChange:z=>H(de=>({...de,lead_name:z.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(ra,{value:F.lead_description,onChange:z=>H(de=>({...de,lead_description:z.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(Ve,{value:F.client_name,onChange:z=>H(de=>({...de,client_name:z.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(yt,{value:F.client_user_id,onValueChange:z=>H(de=>({...de,client_user_id:z})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("leads.selectClient")})}),i.jsx(gt,{children:l.filter(z=>z.userid||z.userid).map(z=>i.jsx(Te,{value:(z.userid||z.userid||"").toString(),children:Oe(z,"user_name")},z.userid))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),i.jsx(Ve,{type:"number",min:"0",step:"0.01",value:F.value,onChange:z=>H(de=>({...de,value:z.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),i.jsxs(yt,{value:F.currency,onValueChange:z=>H(de=>({...de,currency:z})),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"SAR",children:"SAR (.)"}),i.jsx(Te,{value:"USD",children:"USD ($)"}),i.jsx(Te,{value:"EUR",children:"EUR ()"}),i.jsx(Te,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),i.jsxs(yt,{value:F.priority,onValueChange:z=>H(de=>({...de,priority:z})),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsxs(Te,{value:"1",children:[" ",n("common.veryLow")]}),i.jsxs(Te,{value:"2",children:[" ",n("common.low")]}),i.jsxs(Te,{value:"3",children:[" ",n("common.medium")]}),i.jsxs(Te,{value:"4",children:[" ",n("common.high")]}),i.jsxs(Te,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),i.jsx(Ve,{type:"date",value:F.expected_close_date,onChange:z=>H(de=>({...de,expected_close_date:z.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(yt,{value:F.assigned_to,onValueChange:z=>H(de=>({...de,assigned_to:z})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(z=>i.jsx(Te,{value:String(z.userid),children:Oe(z,"user_name")},z.userid))]})]})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(le,{onClick:ze,disabled:!((oe=F.lead_name)!=null&&oe.trim()),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:Re.filter(z=>{var de;return r?z.stage_id===(C||((de=vt[0])==null?void 0:de.id)):!0}).map((z,de)=>{var ve,Ae;const be=M.filter(Pe=>Pe.stage===z.stage_id),we=be.reduce((Pe,Ze)=>Pe+(Ze.value||0),0),Ue=new Set(be.filter(Pe=>Pe.value!==null&&Pe.currency).map(Pe=>Pe.currency)),Se=Ue.size===1?Array.from(Ue)[0]:"SAR",Ne=Pe=>new Intl.NumberFormat(void 0,{style:"currency",currency:Se}).format(Pe);return be.length>0&&console.log(`[Leads] Stage ${z.stage_name} (${z.stage_id}): ${be.length} leads`),de===0&&M.length>0&&(console.log("[Leads] First lead structure:",M[0]),console.log("[Leads] Stage IDs:",f.map(Pe=>Pe.stage_id))),i.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${de*.1}s`},onDragOver:ce,onDrop:()=>A(z.stage_id),children:[i.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",z.color||"border-l-4 border-primary/50","hidden md:block"),children:i.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:g===z.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Ve,{value:y,onChange:Pe=>b(Pe.target.value),onKeyDown:Pe=>{Pe.key==="Enter"&&ne(z.stage_id),Pe.key==="Escape"&&(v(null),b(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>ne(z.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("h2",{className:"font-bold text-base",children:Oe(z,"stage_name")})}),i.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:be.length}),i.jsxs(i.Fragment,{children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>Fe(z.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:i.jsx(Zt,{className:"h-4 w-4"})}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{v(z.stage_id),b(Oe(z,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:i.jsx(Di,{className:"h-3 w-3"})}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>ge(z.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:i.jsx(cr,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((ve=f.sort((Pe,Ze)=>(Pe.stager_order_index||0)-(Ze.stager_order_index||0))[0])==null?void 0:ve.stage_id)===z.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(st,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Fe(z.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Zt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),be.map(Pe=>{const Ze=l.find(Rt=>{var Yt,gr;return((Yt=Rt.userid||Rt.userid)==null?void 0:Yt.toString())===((gr=Pe.client_user_id)==null?void 0:gr.toString())}),qe=u.find(Rt=>{var Yt,gr;return((Yt=Rt.userid||Rt.userid)==null?void 0:Yt.toString())===((gr=Pe.created_by)==null?void 0:gr.toString())}),it=u.find(Rt=>{var Yt,gr;return((Yt=Rt.userid||Rt.userid)==null?void 0:Yt.toString())===((gr=Pe.assigned_to)==null?void 0:gr.toString())});return i.jsx("div",{children:i.jsx(K3e,{lead:Pe,client:Ze||null,creator:qe||null,assignedUser:it||null,userRole:t==null?void 0:t.role,users:u,onDelete:()=>$e(Pe.lead_id),onEdit:()=>G(Pe.lead_id),onAssign:Me,onClick:()=>G(Pe.lead_id),onDragStart:Z,isDragging:j===Pe.lead_id})},Pe.lead_id)}),((Ae=f.sort((Pe,Ze)=>(Pe.stager_order_index||0)-(Ze.stager_order_index||0))[0])==null?void 0:Ae.stage_id)!==z.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(le,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Fe(z.stage_id),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),i.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(B0,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),i.jsx("span",{className:"text-lg font-bold text-primary",children:Ne(we)})]})})]},z.stage_id)})}),i.jsx(si,{open:!!w,onOpenChange:()=>_(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:n("leads.deleteStage")}),i.jsx(Os,{children:n("leads.deleteStageConfirmation",{count:s.filter(z=>z.stage===w).length})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:n("buttons.cancel")}),i.jsx(Ds,{onClick:se,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",s.length,")"]}),i.jsx(vn,{open:S,onOpenChange:k,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("leads.createLead")}),i.jsx(Da,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(Ve,{value:F.lead_name,onChange:z=>H(de=>({...de,lead_name:z.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(ra,{value:F.lead_description,onChange:z=>H(de=>({...de,lead_description:z.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(Ve,{value:F.client_name,onChange:z=>H(de=>({...de,client_name:z.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(yt,{value:F.client_user_id,onValueChange:z=>H(de=>({...de,client_user_id:z})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("leads.selectClient")})}),i.jsx(gt,{children:l.filter(z=>z.userid).map(z=>i.jsx(Te,{value:String(z.userid),children:Oe(z,"user_name")},z.userid))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(yt,{value:F.assigned_to,onValueChange:z=>H(de=>({...de,assigned_to:z})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(z=>i.jsx(Te,{value:String(z.userid),children:Oe(z,"user_name")},z.userid))]})]})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(le,{onClick:ze,disabled:!((me=F.lead_name)!=null&&me.trim()),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const z=[{key:"lead",header:n("leads.leadName"),render:we=>i.jsx(gc,{title:Oe(we,"lead_name"),subtitle:Oe(we,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:we=>i.jsx(G3e,{value:we.value,currency:we.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:we=>{const Ue=l.find(Se=>String(Se.userid)===we.client_user_id);return Ue?Oe(Ue,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:we=>{const Ue=u.find(Se=>String(Se.userid)===we.created_by);return i.jsx(Ym,{name:Ue?Oe(Ue,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:we=>{const Ue=u.find(Se=>String(Se.userid)===we.assigned_to);return i.jsx(Ym,{name:Ue?Oe(Ue,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:we=>{const Ue=f.find(Se=>Se.stage_id===we.stage);return Ue?Oe(Ue,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:we=>i.jsx(Pf,{date:we.created_date,fallback:n("leads.notSet")})}],de=[{label:n("common.view"),icon:i.jsx(Zs,{className:"h-4 w-4"}),onClick:we=>G(we.lead_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(cr,{className:"h-4 w-4"}),onClick:we=>$e(we.lead_id),variant:"destructive",show:()=>!0}],be=[{label:n("buttons.delete","Delete"),icon:i.jsx(cr,{className:"h-4 w-4"}),onClick:we=>{we.forEach(Ue=>$e(Ue.lead_id))},variant:"destructive"}];return i.jsx(pc,{data:M,columns:z,actions:de,bulkActions:be,keyExtractor:we=>we.lead_id,onRowClick:we=>G(we.lead_id),enableBulkSelect:!0,emptyState:i.jsx(cl,{icon:i.jsx(Ya,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:i.jsxs(le,{onClick:()=>k(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),i.jsx(ml,{open:!!W,onOpenChange:()=>G(null),children:i.jsxs(ko,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:Xt()?"left":"right",children:[i.jsxs(dc,{children:[i.jsx(pl,{children:n("leads.leadDetails")}),i.jsx(lf,{children:n("leads.leadDetailsDesc")})]}),i.jsx("div",{className:"mt-6",children:W&&i.jsx(B3e,{leadId:W})})]})})]})}const CP={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},X3e=()=>dT({queryKey:CP.users,queryFn:bn.getAll}),Q3e=()=>dT({queryKey:CP.tasks,queryFn:Cd.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),Z3e=e=>dT({queryKey:[...CP.stages,"type",e],queryFn:()=>Ja.getByType(e)});function Dp({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:i.jsx($w,{className:"h-10 w-10 text-destructive"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&i.jsxs(le,{onClick:r,variant:"outline",className:"gap-2",children:[i.jsx(Tg,{className:"h-4 w-4"}),"Try Again"]})]})}function J3e({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:o,isDragging:l=!1}){var g,v;const{t:c}=Bt(),u=Jr(),d=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=y=>{switch(y){case"done":return i.jsx(Ql,{className:"h-3 w-3 text-green-500"});case"in_progress":return i.jsx(_d,{className:"h-3 w-3 text-blue-500"});case"todo":default:return i.jsx($w,{className:"h-3 w-3 text-gray-500"})}},h=y=>{switch(y){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},m=y=>{if(!y)return null;const b=new Date,_=(new Date(y).getTime()-b.getTime())/(1e3*60*60);return _<0?"overdue":_<24?"urgent":_<72?"soon":null},p=y=>{switch(m(y)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(st,{className:xe("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),p(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:y=>{s&&(y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[i.jsx(Ut,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&i.jsxs(si,{children:[i.jsx(dx,{asChild:!0,onClick:y=>y.stopPropagation(),children:i.jsx(le,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(cr,{className:"h-4 w-4"})})}),i.jsxs(Es,{onClick:y=>y.stopPropagation(),children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:"Delete Task"}),i.jsxs(Os,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:"Cancel"}),i.jsx(Ds,{onClick:y=>{y.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),i.jsxs(ft,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(An,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t?Oe(t,"user_name"):c("common.all","Unassigned")})]})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),i.jsx("span",{className:"text-xs font-medium capitalize",children:((g=e.task_status)==null?void 0:g.replace("_"," "))||"Todo"})]})})]}),u&&o&&i.jsx("div",{className:"pt-1",children:i.jsxs(yt,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:y=>o(e.task_id,parseInt(y)),children:[i.jsx(pt,{className:"h-7 text-xs",children:i.jsx(bt,{placeholder:c("tasks.selectStage","Select stage")})}),i.jsx(gt,{children:r.map(y=>{var b;return i.jsx(Te,{value:((b=y.stage_id)==null?void 0:b.toString())||"",children:Oe(y,"stage_name")},y.stage_id)})})]})}),e.due_date&&i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[i.jsx(bo,{className:"h-3 w-3 flex-shrink-0"}),i.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function eIe(){var se;Ms();const{hasRole:e,user:t,loading:r}=pr(),{t:n}=Bt(),a=Jr(),[s,o]=x.useState(null),[l,c]=x.useState("kanban");x.useState(!1);const u=Z=>{switch(Z==null?void 0:Z.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};x.useState(""),x.useState(null),x.useState(""),x.useState(null);const[d,f]=x.useState(null),[h,m]=x.useState(!1),[p,g]=x.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[v,y]=x.useState(""),[b,w]=x.useState("all"),[_,j]=x.useState("all"),[N,S]=x.useState({from:void 0,to:void 0}),{data:k=[],isLoading:C,error:E}=Q3e(),{data:P=[],isLoading:T,error:W}=X3e(),{data:G=[],isLoading:U,error:L}=Z3e("tasks"),V=x.useMemo(()=>k.filter(Z=>{const ce=Z.task_name.toLowerCase().includes(v.toLowerCase())||Z.description&&Z.description.toLowerCase().includes(v.toLowerCase()),A=b==="all"||Z.task_status===b,$e=_==="all"||Z.assigned_to&&Z.assigned_to.toString()===_;let Me=!0;if(N.from&&Z.due_date){const Fe=new Date(Z.due_date),ze=new Date(N.from);ze.setHours(0,0,0,0);const Re=new Date(Fe);if(Re.setHours(0,0,0,0),Me=Re>=ze,Me&&N.to){const vt=new Date(N.to);vt.setHours(23,59,59,999),Me=Re<=vt}}else N.from&&!Z.due_date&&(Me=!1);return ce&&A&&$e&&Me}),[k,v,b,_,N]),B=G.sort((Z,ce)=>{const A=Z.stager_order_index??0,$e=ce.stager_order_index??0;return A-$e}).map(Z=>({id:Z.stage_id,name:Oe(Z,"stage_name"),color:Z.color,count:V.filter(ce=>ce.stage_id===Z.stage_id).length})),I=C||T||U||r,X=(E==null?void 0:E.message)||(W==null?void 0:W.message)||(L==null?void 0:L.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:I,data:{tasks:k.length,users:P.length,stages:G.length}});const Q=()=>{},O=async Z=>{try{await Cd.delete(Z),Q()}catch(ce){console.error("Failed to delete task:",ce)}},M=Z=>{f(Z)},F=Z=>{Z.preventDefault(),Z.dataTransfer.dropEffect="move"},H=async Z=>{if(!d)return;const ce=k.find(A=>A.task_id===d);if(ce&&ce.stage_id!==Z)try{await Cd.update(d,{stage_id:Z}),Q()}catch(A){console.error("Failed to update task stage:",A)}f(null)},ee=async(Z,ce)=>{const A=k.find($e=>$e.task_id===Z);if(A&&A.stage_id!==ce)try{await Cd.update(Z,{stage_id:ce}),Q()}catch($e){console.error("Failed to update task stage:",$e)}},ne=async()=>{if(p.task_name.trim())try{const Z=dl({task_name:p.task_name.trim(),stage_id:p.stage_id?parseInt(p.stage_id):null,assigned_to:p.assigned_to?parseInt(p.assigned_to):null,task_status:p.task_status,due_date:p.due_date?new Date(p.due_date).toISOString():null,description:p.description.trim()||null,userid:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await Cd.create(Z),Q(),g({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),m(!1)}catch(Z){console.error("Failed to create task:",Z)}},ge=!0;return x.useEffect(()=>{if(G.length>0&&s===null){const Z=G.sort((ce,A)=>(ce.stager_order_index??0)-(A.stager_order_index??0));Z.length>0&&o(Z[0].stage_id)}},[G,s]),I||r||!t?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:n("common.loading"),size:"2xl"})}):X?i.jsx(Dp,{message:X}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Xt()?"rtl":"ltr",children:[i.jsx(hx,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:i.jsx(U0,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:l==="kanban"?"default":"ghost",size:"sm",onClick:()=>c("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Bw,{className:"h-4 w-4"})}),i.jsx(le,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})})]}),i.jsxs(le,{onClick:()=>m(!0),children:[i.jsx(Zt,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.totalTasks"),value:k.length,icon:i.jsx(U0,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:k.filter(Z=>Z.task_status==="todo").length,icon:i.jsx($w,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:k.filter(Z=>Z.task_status==="in_progress").length,icon:i.jsx(_d,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:k.filter(Z=>Z.task_status==="done").length,icon:i.jsx(Ql,{className:"h-4 w-4 text-green-500"})}]}),i.jsx(yP,{onSearch:y,onFilterStatus:w,onFilterAssignee:j,onFilterDateRange:S,users:P,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),l==="kanban"?i.jsxs(fx,{stages:B,currentStageId:s||((se=B[0])==null?void 0:se.id),onStageChange:o,children:[i.jsx(vn,{open:h,onOpenChange:m,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("tasks.createTask")}),i.jsx(Da,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(Ve,{value:p.task_name,onChange:Z=>g(ce=>({...ce,task_name:Z.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(ra,{value:p.description,onChange:Z=>g(ce=>({...ce,description:Z.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(yt,{value:p.assigned_to,onValueChange:Z=>g(ce=>({...ce,assigned_to:Z})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("tasks.selectUser")})}),i.jsx(gt,{children:P.map(Z=>{var ce;return i.jsx(Te,{value:((ce=Z.user_id)==null?void 0:ce.toString())||"",children:Oe(Z,"user_name")},Z.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(yt,{value:p.stage_id,onValueChange:Z=>g(ce=>({...ce,stage_id:Z})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("tasks.selectStage")})}),i.jsx(gt,{children:G.map(Z=>{var ce;return i.jsx(Te,{value:((ce=Z.stage_id)==null?void 0:ce.toString())||"",children:Oe(Z,"stage_name")},Z.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(yt,{value:p.task_status,onValueChange:Z=>g(ce=>({...ce,task_status:Z})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("tasks.selectStatus")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"todo",children:n("tasks.todo")}),i.jsx(Te,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(Te,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(Ve,{type:"date",value:p.due_date,onChange:Z=>g(ce=>({...ce,due_date:Z.target.value}))})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),i.jsxs(le,{onClick:ne,disabled:!p.task_name.trim(),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:G.sort((Z,ce)=>{const A=Z.stager_order_index??0,$e=ce.stager_order_index??0;return A-$e}).filter(Z=>{var ce;return a?Z.stage_id===(s||((ce=B[0])==null?void 0:ce.id)):!0}).map((Z,ce)=>{var $e,Me;const A=V.filter(Fe=>Fe.stage_id===Z.stage_id);return i.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${ce*.1}s`},onDragOver:F,onDrop:()=>H(Z.stage_id),children:[i.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",Z.color||"border-l-4 border-primary/50"),children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Oe(Z,"stage_name")})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:A.length})})]})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[(($e=G.sort((Fe,ze)=>(Fe.stager_order_index||0)-(ze.stager_order_index||0))[0])==null?void 0:$e.stage_id)===Z.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(st,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>m(!0),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Zt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),A.map(Fe=>{const ze=P.find(Re=>Re.user_id===Fe.assigned_to);return i.jsx("div",{draggable:ge,onDragStart:()=>M(Fe.task_id),className:"cursor-move",children:i.jsx(J3e,{task:Fe,assignedUser:ze||null,stages:G,onDelete:()=>O(Fe.task_id),onClick:()=>{console.log("Task clicked:",Fe.task_id)},onDragStart:M,onStageChange:ee,isDragging:d===Fe.task_id})},Fe.task_id)}),((Me=G.sort((Fe,ze)=>(Fe.stager_order_index||0)-(ze.stager_order_index||0))[0])==null?void 0:Me.stage_id)!==Z.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(le,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>m(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},Z.stage_id)})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",k.length,")"]}),i.jsx(vn,{open:h,onOpenChange:m,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("tasks.createTask")}),i.jsx(Da,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(Ve,{value:p.task_name,onChange:Z=>g(ce=>({...ce,task_name:Z.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(ra,{value:p.description,onChange:Z=>g(ce=>({...ce,description:Z.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(yt,{value:p.assigned_to,onValueChange:Z=>g(ce=>({...ce,assigned_to:Z})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("tasks.selectUser")})}),i.jsx(gt,{children:P.map(Z=>{var ce;return i.jsx(Te,{value:((ce=Z.user_id)==null?void 0:ce.toString())||"",children:Oe(Z,"user_name")},Z.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(yt,{value:p.stage_id,onValueChange:Z=>g(ce=>({...ce,stage_id:Z})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("tasks.selectStage")})}),i.jsx(gt,{children:G.map(Z=>{var ce;return i.jsx(Te,{value:((ce=Z.stage_id)==null?void 0:ce.toString())||"",children:Oe(Z,"stage_name")},Z.stage_id)})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(yt,{value:p.task_status,onValueChange:Z=>g(ce=>({...ce,task_status:Z})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("tasks.selectStatus")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"todo",children:n("tasks.todo")}),i.jsx(Te,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(Te,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(Ve,{type:"date",value:p.due_date,onChange:Z=>g(ce=>({...ce,due_date:Z.target.value}))})]})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),i.jsxs(le,{onClick:ne,disabled:!p.task_name.trim(),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const Z=[{key:"task",header:n("tasks.taskName"),render:A=>i.jsx(gc,{title:A.task_name,subtitle:A.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:A=>{const $e=P.find(Me=>Me.user_id===A.assigned_to);return i.jsx(Ym,{name:$e?Oe($e,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:A=>i.jsx(vq,{variant:u(A.task_status),children:A.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:A=>i.jsx(Pf,{date:A.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:A=>{const $e=G.find(Me=>Me.stage_id===A.stage_id);return $e?Oe($e,"stage_name"):n("leads.unknown")}}],ce=[{label:n("common.view"),icon:i.jsx(Zs,{className:"h-4 w-4"}),onClick:A=>console.log("View task:",A.task_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(cr,{className:"h-4 w-4"}),onClick:A=>O(A.task_id),variant:"destructive"}];return i.jsx(pc,{data:V,columns:Z,actions:ce,keyExtractor:A=>A.task_id,emptyState:i.jsx(cl,{icon:i.jsx(U0,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:i.jsxs(le,{onClick:()=>m(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function GI(e){const[t,r]=x.useState(e),n=x.useCallback((s,o)=>{r(l=>({...l,[s]:o}))},[]),a=x.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const UC=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},tIe=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,rIe=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return i.jsx(YN,{className:"h-3 w-3 text-red-500"});case"high":return i.jsx(YN,{className:"h-3 w-3 text-orange-500"});default:return null}};function KI({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:o,isDragging:l=!1,stageName:c}){const{t:u}=Bt(),d=Jr();return i.jsxs(st,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{o&&o()},children:[i.jsx(Ut,{className:"pb-3 px-4 pt-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),rIe(e.priority)]}),i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&i.jsxs(si,{children:[i.jsx(dx,{asChild:!0,onClick:f=>f.stopPropagation(),children:i.jsx(le,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(cr,{className:"h-4 w-4"})})}),i.jsxs(Es,{onClick:f=>f.stopPropagation(),children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:u("tickets.deleteTicket","Delete Ticket")}),i.jsx(Os,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:u("buttons.cancel")}),i.jsx(Ds,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(ft,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&i.jsx(dt,{variant:"outline",className:"text-xs",children:c}),i.jsx(dt,{variant:UC(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&i.jsx(dt,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(An,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Oe(t,"user_name")})]}),i.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(bo,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:tIe(e.created_date,u("leads.unknown"))})]})})]})]})}function nIe(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,s]=x.useState([]),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState("all"),[p,g]=x.useState("all"),[v,y]=x.useState("all"),[b,w]=x.useState(!1),[_,j]=x.useState(null),[N,S]=x.useState(!1),[k,C]=x.useState(!1),E=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),P=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:T,setField:W,reset:G,setValues:U}=GI(E),{values:L,setField:V,reset:B,setValues:I}=GI(P),[X,Q]=x.useState(null),[O,M]=x.useState(null),[F,H]=x.useState("kanban"),[ee,ne]=x.useState(""),[ge,se]=x.useState(!1),{user:Z,loading:ce}=pr(),{t:A}=Bt(),$e=Jr();x.useEffect(()=>{Z&&!ce&&Me()},[Z,ce]),x.useEffect(()=>{if(a.length>0&&O===null){const ve=a.filter(Ae=>Ae.stage_type==="tickets");ve.length>0&&M(ve[0].stage_id)}},[a,O]);const Me=async()=>{try{l(!0),u(null);const[ve,Ae,Pe]=await Promise.all([l0.getAll().catch(Ze=>(console.error("[Tickets] Error fetching tickets:",Ze),[])),bn.getAll().catch(Ze=>(console.error("[Tickets] Error fetching users:",Ze),[])),Ja.getByType("tickets").catch(Ze=>(console.error("[Tickets] Error fetching stages:",Ze),[]))]);if(t(ve),n(Ae),s(Pe),Pe.length>0){const Ze=[...Pe].sort((qe,it)=>(qe.stager_order_index||0)-(it.stager_order_index||0));U(qe=>{var it;return{...qe,stage_id:qe.stage_id||((it=Ze[0].stage_id)==null?void 0:it.toString())||""}})}}catch(ve){console.error("[Tickets] Failed to load data:",ve),u(ve.message||A("common.error"))}finally{l(!1)}},Fe=ve=>ve&&r.find(Ae=>Ae.user_id===ve)||null,ze=async ve=>{var Ae,Pe;if(ve.preventDefault(),!(ge||!Z)){ne(""),se(!0);try{const Ze=T.assigned_to?parseInt(T.assigned_to):null,qe=r.find(gr=>gr.user_id===Ze),it={subject:T.subject,description:T.description||null,priority:T.priority,ticket_type:T.ticket_type,stage_id:T.stage_id?parseInt(T.stage_id):null,created_by:((Ae=Z.profile)==null?void 0:Ae.user_id)||null,assigned_to:Ze,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Rt=await l0.create(it);t([Rt,...e]);const Yt=a.length>0&&((Pe=[...a].sort((gr,_n)=>(gr.stager_order_index||0)-(_n.stager_order_index||0))[0].stage_id)==null?void 0:Pe.toString())||"";G({...E,stage_id:Yt}),w(!1)}catch(Ze){ne(Ze.message||A("tickets.createError"))}finally{se(!1)}}},Re=ve=>{var Ae,Pe;j(ve),C(!1),I({...P,subject:ve.subject||"",description:ve.description||"",priority:ve.priority||"medium",ticket_type:ve.ticket_type||"request",assigned_to:((Ae=ve.assigned_to)==null?void 0:Ae.toString())||"unassigned",stage_id:((Pe=ve.stage_id)==null?void 0:Pe.toString())||""}),S(!0)},vt=async()=>{if(!(!_||ge)){ne(""),se(!0);try{const ve=L.assigned_to&&L.assigned_to!=="unassigned"?parseInt(L.assigned_to):null,Ae=r.find(Pe=>Pe.user_id===ve);await l0.update(_.ticket_id,{subject:L.subject,description:L.description||null,priority:L.priority,ticket_type:L.ticket_type,assigned_to:ve,stage_id:L.stage_id?parseInt(L.stage_id):null}),t(e.map(Pe=>Pe.ticket_id===_.ticket_id?{...Pe,subject:L.subject,description:L.description||null,priority:L.priority,ticket_type:L.ticket_type,assigned_to:ve,stage_id:L.stage_id?parseInt(L.stage_id):null}:Pe)),j(Pe=>Pe?{...Pe,subject:L.subject,description:L.description||null,priority:L.priority,ticket_type:L.ticket_type,assigned_to:ve,stage_id:L.stage_id?parseInt(L.stage_id):null}:null),C(!1)}catch(ve){ne(ve.message||A("tickets.updateError","Failed to update ticket"))}finally{se(!1)}}},mt=async ve=>{try{await l0.delete(ve),t(e.filter(Ae=>Ae.ticket_id!==ve))}catch(Ae){console.error("[Tickets] Failed to delete ticket:",Ae)}},oe=ve=>{Q(ve)},me=()=>{Q(null)},z=ve=>{ve.preventDefault(),ve.dataTransfer.dropEffect="move"},de=async ve=>{if(!X)return;const Ae=e.find(Pe=>Pe.ticket_id===X);if(Ae&&Ae.stage_id!==ve){t(Pe=>Pe.map(Ze=>Ze.ticket_id===X?{...Ze,stage_id:ve}:Ze));try{await l0.moveToStage(X,ve)}catch(Pe){console.error("Failed to update ticket stage:",Pe),t(Ze=>Ze.map(qe=>qe.ticket_id===X?{...qe,stage_id:Ae.stage_id}:qe))}}Q(null)},be=x.useMemo(()=>e.filter(ve=>{var it,Rt,Yt;const Ae=((it=ve.subject)==null?void 0:it.toLowerCase().includes(d.toLowerCase()))||((Rt=ve.description)==null?void 0:Rt.toLowerCase().includes(d.toLowerCase())),Pe=h==="all"||ve.priority===h,Ze=p==="all"||ve.ticket_type===p,qe=v==="all"||((Yt=ve.stage_id)==null?void 0:Yt.toString())===v;return Ae&&Pe&&Ze&&qe}),[e,d,h,p,v]),we=x.useMemo(()=>a.filter(ve=>ve.stage_type==="tickets").sort((ve,Ae)=>{const Pe=ve.stager_order_index??0,Ze=Ae.stager_order_index??0;return Pe-Ze}),[a]),Ue=x.useMemo(()=>we.map(ve=>({id:ve.stage_id,name:Oe(ve,"stage_name"),color:ve.color,count:be.filter(Ae=>Ae.stage_id===ve.stage_id).length})),[we,be]),Se=()=>{var ve;return we.length===0?i.jsx(cl,{icon:i.jsx(th,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noStages","No ticket stages found"),description:A("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):i.jsxs(fx,{stages:Ue,currentStageId:O||((ve=Ue[0])==null?void 0:ve.id),onStageChange:M,children:[i.jsx("div",{className:xe("flex gap-4 pb-4 overflow-x-auto",$e?"hidden":"flex"),children:we.map(Ae=>{const Pe=be.filter(it=>it.stage_id===Ae.stage_id),Ze=Ae.color||"border-l-4 border-gray-400",qe=Oe(Ae,"stage_name");return i.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-full bg-background/50 border border-muted/50 rounded-lg",onDragOver:z,onDrop:()=>de(Ae.stage_id),children:[i.jsx("div",{className:xe("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Ze),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-sm",children:Oe(Ae,"stage_name")}),i.jsx(dt,{variant:"secondary",className:"text-xs",children:Pe.length})]}),i.jsx(le,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{U(it=>{var Rt;return{...it,stage_id:((Rt=Ae.stage_id)==null?void 0:Rt.toString())||""}}),w(!0)},children:i.jsx(Zt,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:i.jsxs("div",{className:"space-y-3",children:[Pe.map(it=>i.jsx(KI,{ticket:it,assignedUser:Fe(it.assigned_to),userRole:Z==null?void 0:Z.role,onDelete:mt,onClick:()=>Re(it),onDragStart:oe,onDragEnd:me,isDragging:X===it.ticket_id,stageName:qe},it.ticket_id)),Pe.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:A("tickets.noTicketsInStage","No tickets in this stage")})]})})]},Ae.stage_id)})}),$e&&O&&i.jsxs("div",{className:"space-y-3 p-2",children:[be.filter(Ae=>Ae.stage_id===O).map(Ae=>{var Pe;return i.jsx(KI,{ticket:Ae,assignedUser:Fe(Ae.assigned_to),userRole:Z==null?void 0:Z.role,onDelete:mt,onClick:()=>Re(Ae),onDragStart:oe,onDragEnd:me,isDragging:X===Ae.ticket_id,stageName:((Pe=Ue.find(Ze=>Ze.id===O))==null?void 0:Pe.name)||null},Ae.ticket_id)}),be.filter(Ae=>Ae.stage_id===O).length===0&&i.jsx(cl,{icon:i.jsx(th,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noTicketsInStage","No tickets in this stage"),description:A("tickets.createFirst","Create a ticket to get started"),action:i.jsxs(le,{onClick:()=>{U(Ae=>({...Ae,stage_id:(O==null?void 0:O.toString())||""})),w(!0)},children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket")]})})]})]})},Ne=()=>{const ve=[{key:"ticket",header:A("tickets.subject","Subject"),render:Pe=>i.jsx(gc,{title:Pe.subject||A("tickets.noSubject","No Subject"),subtitle:Pe.description})},{key:"priority",header:A("tickets.priority","Priority"),render:Pe=>i.jsx(vq,{variant:UC(Pe.priority),children:Pe.priority||A("leads.unknown")})},{key:"type",header:A("tickets.ticketType","Type"),hideOnMobile:!0,render:Pe=>i.jsx(dt,{variant:"outline",className:"text-xs",children:Pe.ticket_type||A("leads.unknown")})},{key:"assignee",header:A("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Pe=>{const Ze=Fe(Pe.assigned_to);return i.jsx(Ym,{name:Ze?Oe(Ze,"user_name"):null,fallback:A("tickets.unassigned","Unassigned")})}},{key:"stage",header:A("tickets.stage","Stage"),hideOnMobile:!0,render:Pe=>{const Ze=we.find(qe=>qe.stage_id===Pe.stage_id);return Ze?Oe(Ze,"stage_name"):A("tickets.noStage","No stage")}},{key:"created",header:A("tickets.createdDate","Created"),hideOnMobile:!0,render:Pe=>i.jsx(Pf,{date:Pe.created_date,fallback:A("leads.notSet","Not set")})}],Ae=[{label:A("common.view","View"),icon:i.jsx(Zs,{className:"h-4 w-4"}),onClick:Re},{label:A("buttons.delete","Delete"),icon:i.jsx(cr,{className:"h-4 w-4"}),onClick:Pe=>mt(Pe.ticket_id),variant:"destructive",show:()=>!0}];return i.jsx(pc,{data:be,columns:ve,actions:Ae,keyExtractor:Pe=>Pe.ticket_id,onRowClick:Re,emptyState:i.jsx(cl,{icon:i.jsx(th,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noTicketsInPage"),description:A("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:i.jsxs(le,{onClick:()=>w(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket","New Ticket")]})})})};return o||ce?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:A("common.loading"),size:"2xl"})}):Z?c?i.jsx(Dp,{title:A("tickets.errorTitle","Error loading tickets"),message:c,onRetry:Me}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Xt()?"rtl":"ltr",children:[i.jsx(hx,{title:A("tickets.title"),description:A("tickets.description","Manage and track support tickets"),icon:i.jsx(th,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:F==="kanban"?"default":"ghost",size:"sm",onClick:()=>H("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Bw,{className:"h-4 w-4"})}),i.jsx(le,{variant:F==="list"?"default":"ghost",size:"sm",onClick:()=>H("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})})]}),i.jsxs(le,{onClick:()=>w(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket")]})]}),stats:[{label:A("tickets.total","Total Tickets"),value:e.length,icon:i.jsx(th,{className:"h-4 w-4 text-primary"})},...we.map(ve=>({label:Oe(ve,"stage_name"),value:e.filter(Ae=>Ae.stage_id===ve.stage_id).length,icon:i.jsx(zo,{className:"h-4 w-4 text-muted-foreground"})}))]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ve,{placeholder:A("tickets.searchPlaceholder","Search tickets..."),value:d,onChange:ve=>f(ve.target.value),className:"pl-10 h-9"})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(yt,{value:v,onValueChange:y,children:[i.jsx(pt,{className:"w-[130px] h-9",children:i.jsx(bt,{placeholder:A("tickets.allStages","All Stages")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:A("tickets.allStages","All Stages")}),we.map(ve=>{var Ae;return i.jsx(Te,{value:((Ae=ve.stage_id)==null?void 0:Ae.toString())||"",children:Oe(ve,"stage_name")},ve.stage_id)})]})]}),i.jsxs(yt,{value:p,onValueChange:g,children:[i.jsx(pt,{className:"w-[130px] h-9",children:i.jsx(bt,{placeholder:A("tickets.allTypes")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:A("tickets.allTypes","All Types")}),i.jsx(Te,{value:"issue",children:A("tickets.typeIssue","Issue")}),i.jsx(Te,{value:"request",children:A("tickets.typeRequest","Request")}),i.jsx(Te,{value:"follow_up",children:A("tickets.typeFollowUp","Follow Up")}),i.jsx(Te,{value:"internal_task",children:A("tickets.typeInternalTask","Internal Task")})]})]}),i.jsxs(yt,{value:h,onValueChange:m,children:[i.jsx(pt,{className:"w-[130px] h-9",children:i.jsx(bt,{placeholder:A("tickets.allPriorities")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:A("tickets.allPriorities","All Priorities")}),i.jsx(Te,{value:"low",children:A("tickets.priorityLow","Low")}),i.jsx(Te,{value:"medium",children:A("tickets.priorityMedium","Medium")}),i.jsx(Te,{value:"high",children:A("tickets.priorityHigh","High")}),i.jsx(Te,{value:"urgent",children:A("tickets.priorityUrgent","Urgent")})]})]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:F==="kanban"?Se():Ne()}),i.jsx(vn,{open:b,onOpenChange:w,children:i.jsxs(an,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:A("tickets.createNewTicket")}),i.jsx(Da,{children:A("tickets.createTicketDesc")})]}),i.jsxs("form",{onSubmit:ze,className:"space-y-4",children:[ee&&i.jsx(wm,{variant:"destructive",children:i.jsx(_m,{children:ee})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"subject",children:[A("tickets.subject")," *"]}),i.jsx(Ve,{id:"subject",value:T.subject,onChange:ve=>W("subject",ve.target.value),placeholder:A("tickets.subjectPlaceholder"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"description",children:A("tickets.description")}),i.jsx(ra,{id:"description",value:T.description,onChange:ve=>W("description",ve.target.value),placeholder:A("tickets.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"stage",children:A("tickets.stage","Stage")}),i.jsxs(yt,{value:T.stage_id,onValueChange:ve=>W("stage_id",ve),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:A("tickets.selectStage","Select stage")})}),i.jsx(gt,{children:we.map(ve=>{var Ae;return i.jsx(Te,{value:((Ae=ve.stage_id)==null?void 0:Ae.toString())||"",children:Oe(ve,"stage_name")},ve.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"priority",children:[A("tickets.priority")," *"]}),i.jsxs(yt,{value:T.priority,onValueChange:ve=>W("priority",ve),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"low",children:A("tickets.priorityLow")}),i.jsx(Te,{value:"medium",children:A("tickets.priorityMedium")}),i.jsx(Te,{value:"high",children:A("tickets.priorityHigh")}),i.jsx(Te,{value:"urgent",children:A("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"ticket_type",children:[A("tickets.ticketType")," *"]}),i.jsxs(yt,{value:T.ticket_type,onValueChange:ve=>W("ticket_type",ve),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"request",children:A("tickets.typeRequest")}),i.jsx(Te,{value:"follow_up",children:A("tickets.typeFollowUp")}),i.jsx(Te,{value:"issue",children:A("tickets.typeIssue")}),i.jsx(Te,{value:"internal_task",children:A("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"assigned_to",children:A("tickets.assignTo")}),i.jsxs(yt,{value:T.assigned_to,onValueChange:ve=>W("assigned_to",ve),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:A("tickets.selectAssignee")})}),i.jsx(gt,{children:r.map(ve=>{var Ae;return i.jsx(Te,{value:((Ae=ve.user_id)==null?void 0:Ae.toString())||"",children:Oe(ve,"user_name")},ve.user_id)})})]})]})]}),i.jsxs(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(le,{type:"button",variant:"outline",onClick:()=>w(!1),className:"w-full sm:w-auto",children:A("buttons.cancel")}),i.jsx(le,{type:"submit",disabled:ge||!T.subject.trim(),className:"w-full sm:w-auto",children:A(ge?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),i.jsx(vn,{open:N,onOpenChange:S,children:i.jsxs(an,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[i.jsxs(sn,{children:[i.jsx(on,{className:"text-lg sm:text-xl leading-tight",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[i.jsx("span",{className:"break-words",children:_==null?void 0:_.subject}),i.jsx(dt,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(_==null?void 0:_.status)||A("leads.unknown")})]})}),i.jsxs(Da,{className:"text-sm",children:[A("tickets.ticketId"),": #",_==null?void 0:_.ticket_id]})]}),_&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[ee&&i.jsx(wm,{variant:"destructive",children:i.jsx(_m,{children:ee})}),k?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"edit-subject",children:[A("tickets.subject")," *"]}),i.jsx(Ve,{id:"edit-subject",value:L.subject,onChange:ve=>V("subject",ve.target.value),placeholder:A("tickets.subjectPlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"edit-description",children:A("tickets.description")}),i.jsx(ra,{id:"edit-description",value:L.description,onChange:ve=>V("description",ve.target.value),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:A("tickets.stage","Stage")}),i.jsxs(yt,{value:L.stage_id,onValueChange:ve=>V("stage_id",ve),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:A("tickets.selectStage","Select stage")})}),i.jsx(gt,{children:we.map(ve=>{var Ae;return i.jsx(Te,{value:((Ae=ve.stage_id)==null?void 0:Ae.toString())||"",children:Oe(ve,"stage_name")},ve.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:A("tickets.priority")}),i.jsxs(yt,{value:L.priority,onValueChange:ve=>V("priority",ve),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"low",children:A("tickets.priorityLow")}),i.jsx(Te,{value:"medium",children:A("tickets.priorityMedium")}),i.jsx(Te,{value:"high",children:A("tickets.priorityHigh")}),i.jsx(Te,{value:"urgent",children:A("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:A("tickets.ticketType")}),i.jsxs(yt,{value:L.ticket_type,onValueChange:ve=>V("ticket_type",ve),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"request",children:A("tickets.typeRequest")}),i.jsx(Te,{value:"follow_up",children:A("tickets.typeFollowUp")}),i.jsx(Te,{value:"issue",children:A("tickets.typeIssue")}),i.jsx(Te,{value:"internal_task",children:A("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:A("tickets.assignTo")}),i.jsxs(yt,{value:L.assigned_to,onValueChange:ve=>V("assigned_to",ve),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:A("tickets.selectAssignee")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"unassigned",children:A("tickets.unassigned","Unassigned")}),r.map(ve=>{var Ae;return i.jsx(Te,{value:((Ae=ve.user_id)==null?void 0:Ae.toString())||"",children:Oe(ve,"user_name")},ve.user_id)})]})]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:A("tickets.priority")}),i.jsx("div",{className:"mt-1",children:i.jsx(dt,{variant:UC(_.priority),className:"text-xs",children:_.priority||A("leads.unknown")})})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:A("tickets.ticketType")}),i.jsx("div",{className:"mt-1",children:i.jsx(dt,{variant:"outline",className:"text-xs",children:_.ticket_type||A("leads.unknown")})})]})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:A("tickets.stage","Stage")}),i.jsx("div",{className:"mt-1 text-sm",children:we.find(ve=>ve.stage_id===_.stage_id)?Oe(we.find(ve=>ve.stage_id===_.stage_id),"stage_name"):A("tickets.noStage","No stage")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:A("tickets.assignedTo")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:Fe(_.assigned_to)?Oe(Fe(_.assigned_to),"user_name"):A("tickets.unassigned","Unassigned")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:A("tickets.createdDate")}),i.jsx("div",{className:"mt-1 text-sm",children:_.created_date?new Date(_.created_date).toLocaleString():"N/A"})]})]}),_.description&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:A("tickets.description")}),i.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:_.description})]})]}),i.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:A("tickets.createdBy")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:Fe(_.created_by)?Oe(Fe(_.created_by),"user_name"):A("leads.unknown")})]}),_.resolved_date&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:A("tickets.resolvedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(_.resolved_date).toLocaleString()})]}),_.closed_at&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:A("tickets.closedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(_.closed_at).toLocaleString()})]})]})]}),i.jsx(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:k?i.jsxs(i.Fragment,{children:[i.jsx(le,{variant:"outline",onClick:()=>C(!1),className:"w-full sm:w-auto",children:A("buttons.cancel")}),i.jsxs(le,{onClick:vt,disabled:ge||!L.subject.trim(),className:"w-full sm:w-auto",children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),ge?A("buttons.saving","Saving..."):A("buttons.save","Save")]})]}):i.jsxs(i.Fragment,{children:[i.jsx(le,{variant:"outline",onClick:()=>S(!1),className:"w-full sm:w-auto",children:A("buttons.close","Close")}),i.jsxs(le,{onClick:()=>C(!0),className:"w-full sm:w-auto",children:[i.jsx(Di,{className:"h-4 w-4 mr-2"}),A("buttons.edit","Edit")]})]})})]})})]}):null}var EP="Progress",TP=100,[aIe,EHe]=os(EP),[sIe,iIe]=aIe(EP),xq=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=oIe,...o}=e;(a||a===0)&&!YI(a)&&console.error(lIe(`${a}`,"Progress"));const l=YI(a)?a:TP;n!==null&&!XI(n,l)&&console.error(cIe(`${n}`,"Progress"));const c=XI(n,l)?n:null,u=Yb(c)?s(c,l):void 0;return i.jsx(sIe,{scope:r,value:c,max:l,children:i.jsx(ut.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":wq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});xq.displayName=EP;var yq="ProgressIndicator",bq=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=iIe(yq,r);return i.jsx(ut.div,{"data-state":wq(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});bq.displayName=yq;function oIe(e,t){return`${Math.round(e/t*100)}%`}function wq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yb(e){return typeof e=="number"}function YI(e){return Yb(e)&&!isNaN(e)&&e>0}function XI(e,t){return Yb(e)&&!isNaN(e)&&e<=t&&e>=0}function lIe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${TP}\`.`}function cIe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${TP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _q=xq,uIe=bq;const pf=x.forwardRef(({className:e,value:t,...r},n)=>i.jsx(_q,{ref:n,className:xe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(uIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));pf.displayName=_q.displayName;function dIe({projectId:e,onClose:t}){const{id:r}=Lte(),n=Ms(),{user:a}=pr(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[y,b]=x.useState(null),[w,_]=x.useState([]),[j,N]=x.useState([]),S=e||(r?parseInt(r):null),k=!!e;x.useEffect(()=>{(async()=>{!S||!a||h(!0)})()},[S,a]),x.useEffect(()=>{S&&f&&C()},[S,f]);const C=async()=>{if(S)try{d(!0);const U=await Uc.getById(S);if(p(U),U){if(U.created_by)try{const L=await bn.getByAuthId(U.created_by.toString());v(L)}catch(L){console.error("Failed to fetch client:",L)}if(U.created_by)try{const L=await bn.getByAuthId(U.created_by.toString());b(L)}catch(L){console.error("Failed to fetch manager:",L)}try{const V=(await j3e.getProjectUsers(S)).map(I=>I.userid),B=await Promise.all(V.map(I=>I?bn.getByAuthId(I.toString()).catch(()=>null):null));_(B.filter(I=>I!==null))}catch(L){console.error("Failed to fetch project users:",L)}try{const B=(await Ja.getAll()).filter(Q=>Q.project_id===S).map(Q=>Q.stage_id),X=(await Promise.all(B.map(Q=>Cd.getByStage(Q)))).flat();N(X)}catch(L){console.error("Failed to fetch tasks:",L)}}}catch(U){console.error("Failed to load project data:",U)}finally{d(!1)}};x.useEffect(()=>{S&&m&&j.length>0&&E()},[S,m,j]);const E=async()=>{if(!(!S||!m||j.length===0))try{const U=[];for(const L of j){const V=await BC.getByTask(L.task_id);U.push(...V)}o(U)}catch(U){console.error("Failed to load comments:",U)}},P=async U=>{if(!(!l.trim()||!a))try{const L=await BC.create({task_id:U,userid:a.id.toString(),message:l.trim()});o(V=>[...V,L]),c("")}catch(L){console.error("Failed to add comment:",L)}},T=()=>{t?t():n("/projects")},W=({children:U})=>k?i.jsx("div",{className:"h-full overflow-y-auto p-1",children:U}):i.jsx(dk,{children:U});if(f===!1)return i.jsx(W,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),i.jsx(le,{onClick:T,children:"Back to Projects"})]})})});if(f===null||!m||!g||!y)return u?i.jsx(W,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):i.jsx(W,{children:i.jsx("div",{children:"Project not found"})});const G={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return i.jsx(W,{children:i.jsxs("div",{className:"space-y-6 pb-10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(le,{variant:"ghost",size:"icon",onClick:T,children:i.jsx(cB,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Oe(m,"project_name")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Oe(g,"company_name")})]})]}),i.jsx(le,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),i.jsx(st,{children:i.jsxs(ft,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),i.jsxs("span",{className:"text-sm font-bold",children:[m.progress||0,"%"]})]}),i.jsx(pf,{value:m.progress||0,className:"h-3"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:i.jsxs(xl,{defaultValue:"tasks",children:[i.jsxs(Eo,{className:"w-full sm:w-auto",children:[i.jsx(Vr,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),i.jsx(Vr,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),i.jsx(Vr,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),i.jsxs(xn,{value:"tasks",className:"space-y-3",children:[j.map(U=>{var V;const L=w.find(B=>B.user_id===U.assigned_to);return i.jsx(st,{children:i.jsx(ft,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:Oe(U,"task_name")}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Oe(U,"description")}),i.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[i.jsx(dt,{className:xe("text-xs",G[U.task_status]),children:((V=U.task_status)==null?void 0:V.replace("_"," "))||"todo"}),U.due_date&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(bo,{className:"h-3 w-3"}),"Due: ",new Date(U.due_date).toLocaleDateString()]})]})]}),L&&i.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[i.jsx("div",{className:"text-2xl mb-1",children:""}),Oe(L,"user_name")]})]})})},U.task_id)}),i.jsx(le,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),i.jsx(xn,{value:"images",children:i.jsx(st,{children:i.jsxs(ft,{className:"pt-6",children:[i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(U=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},U))}),i.jsxs(le,{variant:"outline",className:"w-full mt-4",children:[i.jsx(Ag,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),i.jsxs(xn,{value:"comments",className:"space-y-3",children:[s.map(U=>{const L=[...w,g,y].find(V=>{var B,I,X,Q;return V&&(((B=V.userid)==null?void 0:B.toString())===((I=U.userid)==null?void 0:I.toString())||((X=V.user_id)==null?void 0:X.toString())===((Q=U.userid)==null?void 0:Q.toString()))});return i.jsx(st,{children:i.jsx(ft,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"text-2xl",children:(L==null?void 0:L.avatar)||""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:L?Oe(L,"user_name"):"Unknown"}),i.jsx("p",{className:"text-sm mt-1",children:U.message}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(U.created_date||"").toLocaleString()})]})]})})},U.comment_id)}),j.length>0&&i.jsx(st,{children:i.jsx(ft,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ve,{placeholder:"Add a comment...",value:l,onChange:U=>c(U.target.value),onKeyDown:U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),P(j[0].task_id))}}),i.jsx(le,{size:"icon",onClick:()=>P(j[0].task_id),children:i.jsx(Lv,{className:"h-4 w-4"})})]})})})]})]})}),i.jsxs("div",{className:"space-y-4 lg:order-last",children:[i.jsxs(st,{children:[i.jsx(Ut,{children:i.jsx(ur,{className:"text-base sm:text-lg",children:"Project Summary"})}),i.jsxs(ft,{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:g.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:Oe(g,"user_name")}),i.jsx("div",{className:"text-xs text-muted-foreground",children:Oe(g,"company_name")})]})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:y.avatar}),i.jsx("div",{className:"text-sm",children:Oe(y,"user_name")})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),i.jsx("div",{className:"space-y-2",children:w.map(U=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:U.avatar||""}),i.jsx("div",{className:"text-sm",children:Oe(U,"user_name")})]},U.user_id))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",m.created_date?new Date(m.created_date).toLocaleDateString():"Not set",m.end_date&&i.jsxs("div",{children:["End: ",new Date(m.end_date).toLocaleDateString()]})]})]})]})]}),i.jsxs(st,{children:[i.jsx(Ut,{children:i.jsx(ur,{className:"text-base sm:text-lg",children:"Recent Activity"})}),i.jsx(ft,{children:i.jsxs("div",{className:"space-y-3 text-xs",children:[i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"Task completed"}),i.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"New comment added"}),i.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Images uploaded"}),i.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function fIe({project:e,client:t,manager:r,stages:n,onDelete:a,onClick:s,onDragStart:o,onStageChange:l,isDragging:c=!1}){const{t:u}=Bt(),d=Jr(),f=e.progress||0,h=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),m=g=>{if(!g)return null;const v=new Date,b=(new Date(g).getTime()-v.getTime())/(1e3*60*60);return b<0?"overdue":b<24?"urgent":b<72?"soon":null},p=g=>{switch(m(g)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(st,{className:xe("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!d&&(f===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),p(e.end_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!o,onDragStart:g=>{o&&(g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("text/plain",e.project_id.toString()),o(e.project_id))},children:[i.jsx(Ut,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Oe(e,"project_name")}),Oe(e,"project_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Oe(e,"project_description")})]}),a&&i.jsxs(si,{children:[i.jsx(dx,{asChild:!0,onClick:g=>g.stopPropagation(),children:i.jsx(le,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(cr,{className:"h-4 w-4"})})}),i.jsxs(Es,{onClick:g=>g.stopPropagation(),children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:u("projects.deleteProject")}),i.jsx(Os,{children:u("projects.deleteConfirmation",{name:Oe(e,"project_name")})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:u("buttons.cancel")}),i.jsx(Ds,{onClick:g=>{g.stopPropagation(),a(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(ft,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:u("projects.progress")}),i.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),i.jsx(pf,{value:f,className:"h-2"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Tn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t.user_name})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(An,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),i.jsx("p",{className:"text-xs font-medium truncate",children:r?r.user_name:u("common.all","Unassigned")})]})]})]}),d&&l&&i.jsx("div",{className:"pt-1",children:i.jsxs(yt,{value:e.stage.toString(),onValueChange:g=>l(e.project_id,parseInt(g)),children:[i.jsx(pt,{className:"h-7 text-xs",children:i.jsx(bt,{placeholder:u("projects.selectStage","Select stage")})}),i.jsx(gt,{children:n.filter(g=>["New","In Progress","Overdue","Completed"].includes(g.stage_name)).map(g=>i.jsx(Te,{value:g.stage_id.toString(),children:Oe(g,"stage_name")},g.stage_id))})]})}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(bo,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:h(e.created_date)})]}),f===100?i.jsx(dt,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?i.jsx(dt,{variant:"default",className:"text-xs",children:"In Progress"}):i.jsx(dt,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function hIe(){var we,Ue;Ms();const{hasRole:e,user:t}=pr();Ma();const{t:r}=Bt(),n=Jr(),[a,s]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState(!0),[p,g]=x.useState(null);x.useState(!1),x.useState("");const[v,y]=x.useState(null),[b,w]=x.useState(""),[_,j]=x.useState(null),[N,S]=x.useState(null),[k,C]=x.useState(!1),[E,P]=x.useState(null),[T,W]=x.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[G,U]=x.useState(!1),[L,V]=x.useState({project_name:"",project_description:"",client_id:""}),[B,I]=x.useState("kanban"),[X,Q]=x.useState(null),[O,M]=x.useState(""),[F,H]=x.useState("all"),[ee,ne]=x.useState("all"),[ge,se]=x.useState({from:void 0,to:void 0}),Z=x.useMemo(()=>a.filter(Se=>{const Ne=(Se.project_name||"").toLowerCase().includes(O.toLowerCase())||(Se.project_description||"").toLowerCase().includes(O.toLowerCase());let ve=!0;F==="todo"?ve=(Se.progress||0)===0:F==="in_progress"?ve=(Se.progress||0)>0&&(Se.progress||0)<100:F==="done"&&(ve=(Se.progress||0)===100);const Ae=ee==="all"||Se.created_by&&Se.created_by.toString()===ee;let Pe=!0;if(ge.from&&Se.end_date){const Ze=new Date(Se.end_date),qe=new Date(ge.from);qe.setHours(0,0,0,0);const it=new Date(Ze);if(it.setHours(0,0,0,0),Pe=it>=qe,Pe&&ge.to){const Rt=new Date(ge.to);Rt.setHours(23,59,59,999),Pe=it<=Rt}}else ge.from&&!Se.end_date&&(Pe=!1);return Ne&&ve&&Ae&&Pe}),[a,O,F,ee,ge]);x.useEffect(()=>{ce()},[]),x.useEffect(()=>{if(d.length>0&&E===null){const Se=d.find(Ne=>Ne.stage_id===5);Se&&P(Se.stage_id)}},[d,E]);const ce=async()=>{try{m(!0),g(null);const[Se,Ne,ve,Ae]=await Promise.all([Uc.getAll(),TH.getAll(),bn.getAll(),Ja.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:Se.length,clients:Ne.length,users:ve.length,stages:Ae.length}),console.log("[Projects] Projects data:",Se),console.log("[Projects] Stages data:",Ae),s(Se),l(Ne),u(ve),f(Ae)}catch(Se){console.error("Failed to load data:",Se),g(r("projects.loadError","Failed to load projects. Please try again."))}finally{m(!1)}},A=async Se=>{if(b.trim())try{await Ja.update(Se,{stage_name:b.trim()}),f(d.map(Ne=>Ne.stage_id===Se?{...Ne,stage_name:b.trim()}:Ne)),y(null),w("")}catch(Ne){console.error("Failed to update stage:",Ne)}},$e=async Se=>{if(a.filter(ve=>ve.stage===Se).length>0){j(Se);return}try{await Ja.delete(Se),f(d.filter(ve=>ve.stage_id!==Se))}catch(ve){console.error("Failed to delete stage:",ve)}},Me=Se=>{S(Se)},Fe=Se=>{Se.preventDefault(),Se.dataTransfer.dropEffect="move"},ze=async Se=>{if(!N)return;const Ne=a.find(ve=>ve.project_id===N);if(Ne&&Ne.stage!==Se)try{await Uc.update(N,{stage:Se}),s(a.map(ve=>ve.project_id===N?{...ve,stage:Se}:ve))}catch(ve){console.error("Failed to update project stage:",ve)}S(null)},Re=async(Se,Ne)=>{const ve=a.find(Ae=>Ae.project_id===Se);if(ve&&ve.stage!==Ne)try{await Uc.update(Se,{stage:Ne}),s(a.map(Ae=>Ae.project_id===Se?{...Ae,stage:Ne}:Ae))}catch(Ae){console.error("Failed to update project stage:",Ae)}},vt=async Se=>{try{await Uc.delete(Se),s(a.filter(Ne=>Ne.project_id!==Se))}catch(Ne){console.error("Failed to delete project:",Ne)}},mt=Se=>{W(Ne=>({...Ne,stage:Se.toString()})),C(!0)},oe=async()=>{var Se;if(T.project_name.trim())try{const Ne=dl({project_name:T.project_name.trim(),project_description:T.project_description.trim()||null,created_by:((Se=t==null?void 0:t.profile)==null?void 0:Se.user_id)||1,progress:T.progress,stage:parseInt(T.stage),end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),ve=await Uc.create(Ne);s([...a,ve]),W({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),C(!1)}catch(Ne){console.error("Failed to create project:",Ne)}},me=async()=>{var Se;if(L.project_name.trim())try{const Ne=dl({project_name:L.project_name.trim(),project_description:L.project_description.trim()||null,created_by:((Se=t==null?void 0:t.profile)==null?void 0:Se.user_id)||1,progress:0,stage:1,end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),ve=await Uc.create(Ne);s([...a,ve]),V({project_name:"",project_description:"",client_id:""}),U(!1)}catch(Ne){console.error("Failed to create lead:",Ne)}},z=d.filter(Se=>Se.stage_type==="projects").sort((Se,Ne)=>{const ve=Se.stager_order_index??0,Ae=Ne.stager_order_index??0;return Xt()?Ae-ve:ve-Ae}),de=z.map(Se=>({id:Se.stage_id,name:Oe(Se,"stage_name"),color:Se.color,count:Z.filter(Ne=>Ne.stage===Se.stage_id).length}));if(h)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:r("common.loading"),size:"2xl"})});const be=()=>{var Se;return p?i.jsx(Dp,{title:r("projects.errorTitle","Error loading projects"),message:p,onRetry:ce}):a.length===0&&!O&&F==="all"&&ee==="all"?i.jsx(cl,{title:r("projects.emptyTitle","No projects found"),description:r("projects.emptyDescription","Get started by creating your first project."),icon:i.jsx(zd,{className:"h-10 w-10 text-muted-foreground"}),action:i.jsxs(le,{onClick:()=>U(!0),children:[i.jsx(Zt,{className:"mr-2 h-4 w-4"})," ",r("projects.createProject")]})}):i.jsxs(i.Fragment,{children:[i.jsx(yP,{onSearch:M,onFilterStatus:H,onFilterAssignee:ne,onFilterDateRange:se,users:c,statuses:[{value:"todo",label:r("mprojects.notStarted")},{value:"in_progress",label:r("mprojects.inProgress")},{value:"done",label:r("mprojects.completed")}]}),B==="kanban"?i.jsx(i.Fragment,{children:i.jsx(fx,{stages:de,currentStageId:E||((Se=de[0])==null?void 0:Se.id),onStageChange:P,children:i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:z.sort((Ne,ve)=>Ne.stage_id-ve.stage_id).filter(Ne=>{var Ae;return window.innerWidth<1024?Ne.stage_id===(E||((Ae=de[0])==null?void 0:Ae.id)):!0}).map((Ne,ve)=>{var Pe,Ze;const Ae=Z.filter(qe=>qe.stage===Ne.stage_id);return console.log(`[Projects] Stage ${Ne.stage_name} (${Ne.stage_id}): ${Ae.length} projects`),console.log("[Projects] Stage projects:",Ae),i.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${ve*.1}s`},onDragOver:Fe,onDrop:()=>ze(Ne.stage_id),children:[!n&&i.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",Ne.color||"border-l-4 border-primary/50"),children:i.jsx("div",{className:"flex items-center justify-between mb-2",children:v===Ne.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Ve,{value:b,onChange:qe=>w(qe.target.value),onKeyDown:qe=>{qe.key==="Enter"&&A(Ne.stage_id),qe.key==="Escape"&&(y(null),w(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>A(Ne.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Oe(Ne,"stage_name")})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Ae.length}),i.jsxs(i.Fragment,{children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{y(Ne.stage_id),w(Oe(Ne,"stage_name"))},className:"h-6 w-6 p-0",title:r("buttons.edit"),children:i.jsx(Di,{className:"h-3 w-3"})}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>$e(Ne.stage_id),className:"h-6 w-6 p-0 text-destructive",title:r("buttons.delete"),children:i.jsx(cr,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[((Pe=d.sort((qe,it)=>(qe.stager_order_index||0)-(it.stager_order_index||0))[0])==null?void 0:Pe.stage_id)===Ne.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(st,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>mt(Ne.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Zt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:r("projects.addNewProjectCard")})]})})}),Ae.map(qe=>{const it=c.find(Rt=>Rt.userid===Number(qe.created_by)||Rt.user_id===Number(qe.created_by));return i.jsx(fIe,{project:qe,client:o.find(Rt=>{var Yt,gr;return((Yt=Rt.user_id)==null?void 0:Yt.toString())===((gr=qe.client_id)==null?void 0:gr.toString())})||null,manager:it||null,stages:d,onDelete:vt,onClick:()=>Q(qe.project_id),onDragStart:Me,onStageChange:Re,isDragging:N===qe.project_id},qe.project_id)}),((Ze=d.sort((qe,it)=>(qe.stager_order_index||0)-(it.stager_order_index||0))[0])==null?void 0:Ze.stage_id)!==Ne.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(le,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>mt(Ne.stage_id),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),r("projects.addProject")]})})]})]},Ne.stage_id)})})})}):i.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:i.jsxs(_P,{children:[i.jsx(jP,{children:i.jsxs(gv,{children:[i.jsx(ro,{children:r("projects.projectName")}),i.jsx(ro,{children:r("projects.client")}),i.jsx(ro,{children:r("projects.manager")}),i.jsx(ro,{children:r("projects.stage")}),i.jsx(ro,{children:r("projects.progress")}),i.jsx(ro,{children:r("projects.dueDate")}),i.jsx(ro,{className:"w-[50px]"})]})}),i.jsx(SP,{children:Z.map(Ne=>{const ve=c.find(Ze=>Ze.userid===Number(Ne.created_by)||Ze.user_id===Number(Ne.created_by)),Ae=o.find(Ze=>{var qe,it;return((qe=Ze.user_id)==null?void 0:qe.toString())===((it=Ne.client_id)==null?void 0:it.toString())}),Pe=d.find(Ze=>Ze.stage_id===Ne.stage);return i.jsxs(gv,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Q(Ne.project_id),children:[i.jsx(no,{className:"font-medium",children:Oe(Ne,"project_name")}),i.jsx(no,{children:Ae?Oe(Ae,"user_name"):"-"}),i.jsx(no,{children:ve?Oe(ve,"user_name"):"-"}),i.jsx(no,{children:i.jsx(dt,{variant:"outline",className:"bg-background",children:Pe?Oe(Pe,"stage_name"):"-"})}),i.jsx(no,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pf,{value:Ne.progress||0,className:"w-16 h-2"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ne.progress,"%"]})]})}),i.jsx(no,{className:"text-muted-foreground text-sm",children:Ne.end_date?new Date(Ne.end_date).toLocaleDateString():"-"}),i.jsx(no,{children:i.jsx(le,{variant:"ghost",size:"icon",onClick:Ze=>{Ze.stopPropagation(),vt(Ne.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:i.jsx(cr,{className:"h-4 w-4"})})})]},Ne.project_id)})})]})})]})};return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Xt()?"rtl":"ltr",children:[i.jsx(hx,{title:r("projects.title"),description:r("projects.subtitle"),icon:i.jsx(zd,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:B==="kanban"?"default":"ghost",size:"sm",onClick:()=>I("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Bw,{className:"h-4 w-4"})}),i.jsx(le,{variant:B==="list"?"default":"ghost",size:"sm",onClick:()=>I("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})})]}),i.jsxs(le,{onClick:()=>U(!0),children:[i.jsx(Zt,{className:"mr-2 h-4 w-4"})," ",r("projects.newProject")]})]}),stats:[{label:r("projects.total","Total Projects"),value:a.length,icon:i.jsx(zd,{className:"h-4 w-4 text-primary"})},{label:r("projects.inProgress","In Progress"),value:a.filter(Se=>(Se.progress||0)>0&&(Se.progress||0)<100).length,icon:i.jsx(bo,{className:"h-4 w-4 text-blue-500"})},{label:r("projects.completed","Completed"),value:a.filter(Se=>(Se.progress||0)===100).length,icon:i.jsx(Tn,{className:"h-4 w-4 text-green-600"})},{label:r("projects.avgProgress","Avg Progress"),value:a.length>0?`${Math.round(a.reduce((Se,Ne)=>Se+(Ne.progress||0),0)/a.length)}%`:"0%",icon:i.jsx(pf,{className:"h-4 w-4 text-blue-500"})}]}),be(),i.jsx(vn,{open:k,onOpenChange:C,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:r("projects.createProject")}),i.jsx(Da,{children:r("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),i.jsx(Ve,{value:T.project_name,onChange:Se=>W(Ne=>({...Ne,project_name:Se.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),i.jsx(ra,{value:T.project_description,onChange:Se=>W(Ne=>({...Ne,project_description:Se.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),i.jsxs(yt,{value:T.client_id,onValueChange:Se=>W(Ne=>({...Ne,client_id:Se})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:r("projects.selectClient")})}),i.jsx(gt,{children:o.map(Se=>{var Ne;return i.jsx(Te,{value:((Ne=Se.user_id)==null?void 0:Ne.toString())||"",children:Oe(Se,"user_name")},Se.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.initialProgress")}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"range",min:"0",max:"100",value:T.progress,onChange:Se=>W(Ne=>({...Ne,progress:parseInt(Se.target.value)})),className:"w-full h-1.5"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"0%"}),i.jsxs("span",{children:[T.progress,"%"]}),i.jsx("span",{children:"100%"})]})]})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>C(!1),children:r("buttons.cancel")}),i.jsxs(le,{onClick:oe,disabled:!((we=T.project_name)!=null&&we.trim()),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),i.jsx(vn,{open:G,onOpenChange:U,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:r("projects.createProject")}),i.jsx(Da,{children:r("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),i.jsx(Ve,{value:L.project_name,onChange:Se=>V(Ne=>({...Ne,project_name:Se.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),i.jsx(ra,{value:L.project_description,onChange:Se=>V(Ne=>({...Ne,project_description:Se.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),i.jsxs(yt,{value:L.client_id,onValueChange:Se=>V(Ne=>({...Ne,client_id:Se})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:r("projects.selectClient")})}),i.jsx(gt,{children:o.map(Se=>{var Ne;return i.jsx(Te,{value:((Ne=Se.user_id)==null?void 0:Ne.toString())||"",children:Oe(Se,"user_name")},Se.user_id)})})]})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>U(!1),children:r("buttons.cancel")}),i.jsxs(le,{onClick:me,disabled:!((Ue=L.project_name)!=null&&Ue.trim()),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),i.jsx(ml,{open:!!X,onOpenChange:Se=>!Se&&Q(null),children:i.jsxs(ko,{side:Xt()?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[i.jsxs(dc,{className:"sr-only",children:[i.jsx(pl,{children:"Project Details"}),i.jsx(lf,{children:"View and manage project information"})]}),X&&i.jsx(dIe,{projectId:X,onClose:()=>Q(null)})]})})]})}function mIe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var AP="ScrollArea",[jq,THe]=os(AP),[pIe,Li]=jq(AP),Sq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[y,b]=x.useState(0),[w,_]=x.useState(0),[j,N]=x.useState(!1),[S,k]=x.useState(!1),C=$t(t,P=>c(P)),E=Bv(a);return i.jsx(pIe,{scope:r,type:n,dir:E,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:p,scrollbarXEnabled:j,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:_,children:i.jsx(ut.div,{dir:E,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Sq.displayName=AP;var Nq="ScrollAreaViewport",kq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=Li(Nq,r),l=x.useRef(null),c=$t(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(ut.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});kq.displayName=Nq;var kl="ScrollAreaScrollbar",PP=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Li(kl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(gIe,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(vIe,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(Cq,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(OP,{...n,ref:t}):null});PP.displayName=kl;var gIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Li(kl,e.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(Fa,{present:r||s,children:i.jsx(Cq,{"data-state":s?"visible":"hidden",...n,ref:t})})}),vIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Li(kl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=aj(()=>c("SCROLL_END"),100),[l,c]=mIe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(Fa,{present:r||l!=="hidden",children:i.jsx(OP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:et(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:et(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Cq=x.forwardRef((e,t)=>{const r=Li(kl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=x.useState(!1),l=e.orientation==="horizontal",c=aj(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Xm(r.viewport,c),Xm(r.content,c),i.jsx(Fa,{present:n||s,children:i.jsx(OP,{"data-state":s?"visible":"hidden",...a,ref:t})})}),OP=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Li(kl,e.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Oq(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return jIe(h,o.current,l,m)}return r==="horizontal"?i.jsx(xIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=QI(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?i.jsx(yIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=QI(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),xIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Li(kl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=$t(t,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Tq,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Rq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Qb(o.paddingLeft),paddingEnd:Qb(o.paddingRight)}})}})}),yIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Li(kl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=$t(t,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Tq,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Rq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Qb(o.paddingTop),paddingEnd:Qb(o.paddingBottom)}})}})}),[bIe,Eq]=jq(kl),Tq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Li(kl,r),[p,g]=x.useState(null),v=$t(t,C=>g(C)),y=x.useRef(null),b=x.useRef(""),w=m.viewport,_=n.content-n.viewport,j=Vn(d),N=Vn(c),S=aj(f,10);function k(C){if(y.current){const E=C.clientX-y.current.left,P=C.clientY-y.current.top;u({x:E,y:P})}}return x.useEffect(()=>{const C=E=>{const P=E.target;(p==null?void 0:p.contains(P))&&j(E,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,p,_,j]),x.useEffect(N,[n,N]),Xm(p,S),Xm(m.content,S),i.jsx(bIe,{scope:r,scrollbar:p,hasThumb:a,onThumbChange:Vn(s),onThumbPointerUp:Vn(o),onThumbPositionChange:N,onThumbPointerDown:Vn(l),children:i.jsx(ut.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:et(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=p.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:et(e.onPointerMove,k),onPointerUp:et(e.onPointerUp,C=>{const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Xb="ScrollAreaThumb",Aq=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Eq(Xb,e.__scopeScrollArea);return i.jsx(Fa,{present:r||a.hasThumb,children:i.jsx(wIe,{ref:t,...n})})}),wIe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Li(Xb,r),o=Eq(Xb,r),{onThumbPositionChange:l}=o,c=$t(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=aj(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=SIe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(ut.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:et(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),p=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:et(e.onPointerUp,o.onThumbPointerUp)})});Aq.displayName=Xb;var DP="ScrollAreaCorner",Pq=x.forwardRef((e,t)=>{const r=Li(DP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(_Ie,{...e,ref:t}):null});Pq.displayName=DP;var _Ie=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Li(DP,r),[s,o]=x.useState(0),[l,c]=x.useState(0),u=!!(s&&l);return Xm(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Xm(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(ut.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qb(e){return e?parseInt(e,10):0}function Oq(e,t){const r=e/t;return isNaN(r)?0:r}function nj(e){const t=Oq(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function jIe(e,t,r,n="ltr"){const a=nj(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Dq([c,u],f)(e)}function QI(e,t,r="ltr"){const n=nj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=QN(e,c);return Dq([0,o],[0,l])(u)}function Dq(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Rq(e,t){return e>0&&e<t}var SIe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function aj(e,t){const r=Vn(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Xm(e,t){const r=Vn(t);wn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Mq=Sq,NIe=kq,kIe=Pq;const Ka=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Mq,{ref:n,className:xe("relative overflow-hidden",e),...r,children:[i.jsx(NIe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(Fq,{}),i.jsx(kIe,{})]}));Ka.displayName=Mq.displayName;const Fq=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(PP,{ref:n,orientation:t,className:xe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(Aq,{className:"relative flex-1 rounded-full bg-border"})}));Fq.displayName=PP.displayName;const Jy={async createApplication(e){return await Y.partnerApply.create(e)},async getApplications(){return(await Y.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,t){await Y.partnerApply.update(e,{status:t})}},CIe=async e=>{const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")};function EIe(){const{user:e}=pr(),{currentLanguage:t,isRTL:r}=Ma();Jr();const{t:n}=Bt(),[a,s]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(""),[h,m]=x.useState(!1),[p,g]=x.useState(""),[v,y]=x.useState(""),[b,w]=x.useState(""),[_,j]=x.useState("employee"),[N,S]=x.useState(""),[k,C]=x.useState(!1),[E,P]=x.useState(null),[T,W]=x.useState("all"),[G,U]=x.useState("employees"),[L,V]=x.useState(!1),[B,I]=x.useState(null),[X,Q]=x.useState(!1),[O,M]=x.useState({name:"",Email:"",mobile:"",permissions:""}),[F,H]=x.useState(!1),[ee,ne]=x.useState(""),[ge,se]=x.useState(new Map);x.useEffect(()=>{ce(),Z()},[]);const Z=async()=>{try{const z=await _T(),de=new Map;z.forEach(be=>{de.set(be.permissions_ID,be.permissions_Name)}),se(de)}catch(z){console.error("Failed to load permission names:",z)}},ce=async()=>{try{u(!0);const[z,de]=await Promise.all([bn.getAll(),Jy.getApplications()]);s(z),l(de)}catch(z){console.error("Failed to load users:",z)}finally{u(!1)}},A=a.filter(z=>{var Ae,Pe;const de=G==="employees",be=G==="clients",we=G==="partners";if(de&&![1,2,3,4].includes(Number(z.permissions))||we&&![5,6].includes(Number(z.permissions)))return!1;const Ue=((Ae=z.name)==null?void 0:Ae.toLowerCase())||"",Se=((Pe=z.Email)==null?void 0:Pe.toLowerCase())||"",Ne=String(z.permissions||""),ve=d.toLowerCase();return Ue.includes(ve)||Se.includes(ve)||Ne.includes(ve)}),$e=z=>{const de=["destructive","default","secondary","outline","default","secondary"];return z&&z>=1&&z<=de.length?de[z-1]:"secondary"},Me=z=>{if(!z)return"User";const de=ge.get(z);return de||{1:"Admin",2:"Manager",3:"Employee",4:"Team Leader",5:"Partner Employee",6:"Partner Leader"}[z]||`Permission ${z}`},Fe=async z=>{if(z.preventDefault(),!k){S(""),C(!0);try{const de=await CIe(b),be={name:p,Email:v,user_pasword:de,permissions:_==="admin"?1:_==="manager"||_==="employee"?2:_==="team_leader"?4:2},we=await Y.Users.create(be);E&&(await Jy.updateStatus(E,"approved"),P(null)),m(!1),g(""),y(""),w(""),j("employee"),ce()}catch(de){S(de.message||n("users.addUserError"))}finally{C(!1)}}},ze=z=>{g(z.full_name),y(z.email),j("employee"),w(""),P(z.apply_id),m(!0),U("employees")},Re=async z=>{if(confirm(n("users.rejectConfirmation")))try{await Jy.updateStatus(z,"rejected"),ce()}catch(de){console.error("Failed to reject application:",de)}},vt=async(z,de)=>{if(confirm(n("users.deleteConfirmation",{name:de})))try{await Y.Users.delete(z),ce()}catch(be){alert(`${n("users.deleteError")}: ${be.message}`)}},mt=async(z,de)=>{try{const be=de==="1"?1:2;await Y.Users.update(z,{permissions:be}),ce()}catch(be){alert(`${n("users.updateRoleError")}: ${be.message}`)}},oe=async z=>{var de;if(z.preventDefault(),!(F||!B)){ne(""),H(!0);try{const be={};O.name!==Oe(B,"name")&&(be.name=O.name),O.Email!==B.Email&&(be.Email=O.Email),O.mobile!==((de=B.mobile)==null?void 0:de.toString())&&(be.mobile=O.mobile?parseInt(O.mobile):null),O.permissions!==B.permissions&&(be.permissions=O.permissions),Object.keys(be).length>0?(await Y.Users.update(B.userid,be),Q(!1),ce()):Q(!1)}catch(be){ne(be.message||n("users.updateUserError"))}finally{H(!1)}}},me=z=>{var de;I(z),M({name:z.name||"",Email:z.Email||"",mobile:((de=z.mobile)==null?void 0:de.toString())||"",permissions:z.permissions||""}),Q(!1),ne(""),V(!0)};return c?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:n("users.title")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ya,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",n("users.totalUsers")]})]}),i.jsx("p",{className:"hidden md:block text-muted-foreground",children:n("users.subtitle")})]}),i.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[i.jsxs(le,{variant:G==="employees"?"default":"ghost",size:"sm",onClick:()=>U("employees"),className:"h-8 px-3",children:[i.jsx(cR,{className:"h-4 w-4 mr-2"}),n("users.employees")]}),i.jsxs(le,{variant:G==="clients"?"default":"ghost",size:"sm",onClick:()=>U("clients"),className:"h-8 px-3",children:[i.jsx(An,{className:"h-4 w-4 mr-2"}),n("users.clients")]}),i.jsxs(le,{variant:G==="partners"?"default":"ghost",size:"sm",onClick:()=>U("partners"),className:"h-8 px-3",children:[i.jsx(Ya,{className:"h-4 w-4 mr-2"}),n("users.partners")]})]}),G==="employees"&&i.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&i.jsxs(vn,{open:h,onOpenChange:m,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(le,{className:"w-full",children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),n("users.addUser")]})}),i.jsxs(an,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("users.addNewUser")}),i.jsx(Da,{children:n("users.addUserDescription")})]}),i.jsxs("form",{onSubmit:Fe,className:"space-y-4",children:[N&&i.jsx(wm,{variant:"destructive",children:i.jsx(_m,{children:N})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"formName",children:n("users.fullName")}),i.jsx(Ve,{id:"formName",value:p,onChange:z=>g(z.target.value),placeholder:n("users.fullName"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"formEmail",children:n("users.email")}),i.jsx(Ve,{id:"formEmail",type:"email",value:v,onChange:z=>y(z.target.value),placeholder:n("users.email"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"formPassword",children:n("users.password")}),i.jsx(Ve,{id:"formPassword",type:"password",value:b,onChange:z=>w(z.target.value),placeholder:n("users.password"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"formRole",children:n("users.role")}),i.jsxs(yt,{value:_,onValueChange:z=>j(z),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"employee",children:n("users.employee")}),i.jsx(Te,{value:"manager",children:n("users.manager")}),i.jsx(Te,{value:"admin",children:n("users.admin")}),i.jsx(Te,{value:"team_leader",children:n("users.team_leader")})]})]})]}),i.jsx(le,{type:"submit",className:"w-full",disabled:k,children:n(k?"users.addingUser":"users.addUser")})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ve,{placeholder:n("users.searchPlaceholder"),value:d,onChange:z=>f(z.target.value),className:"pl-10"})]}),i.jsxs(Ka,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(z=>i.jsxs(st,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Ut,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(ur,{className:"text-lg truncate",children:Oe(z,"name")}),i.jsx(dt,{variant:$e(z.permissions),className:"mt-1",children:Me(z.permissions)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>me(z),children:i.jsx(Zs,{className:"h-4 w-4"})}),i.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>vt(z.userid,Oe(z,"name")),children:i.jsx(cr,{className:"h-4 w-4"})})]})]})}),i.jsxs(ft,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(eh,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:z.Email})]}),z.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Hl,{className:"h-4 w-4"}),i.jsx("span",{children:z.mobile})]}),(z.permissions===2||z.permissions===1)&&!0&&i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("div",{className:"text-xs font-medium mb-1",children:n("users.changeRole")}),i.jsxs(yt,{value:String(z.permissions),onValueChange:de=>mt(z.userid,de),children:[i.jsx(pt,{className:"w-full h-8",children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"2",children:n("users.employee")}),i.jsx(Te,{value:"1",children:n("users.manager")})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",z.created_at?new Date(z.created_at).toLocaleDateString():"-"]})]})]},z.userid))}),A.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ya,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("users.noUsersFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(d?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),G==="clients"&&i.jsx("div",{className:"space-y-6",children:i.jsxs(Ka,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(z=>i.jsxs(st,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Ut,{className:"pb-3",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(ur,{className:"text-lg truncate",children:Oe(z,"name")}),i.jsx(dt,{variant:"outline",className:"mt-1",children:n("users.client")})]})})}),i.jsxs(ft,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(eh,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:z.Email})]}),z.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Hl,{className:"h-4 w-4"}),i.jsx("span",{children:z.mobile})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",z.created_at?new Date(z.created_at).toLocaleDateString():"-"]})]})]},z.userid))}),A.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(An,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("clients.noClientsFound")}),i.jsx("p",{className:"text-muted-foreground",children:n("clients.noClientsYet")})]})]})}),G==="partners"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(cR,{className:"h-5 w-5"}),n("users.partnerUsers"),i.jsx(dt,{variant:"secondary",className:"ml-auto",children:a.filter(z=>[5,6].includes(Number(z.permissions))).length})]}),i.jsx(Ka,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:a.filter(z=>[5,6].includes(Number(z.permissions))).length>0?a.filter(z=>[5,6].includes(Number(z.permissions))).map(z=>i.jsx(st,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>me(z),children:i.jsxs(ft,{className:"p-4 flex items-center gap-3",children:[i.jsxs(ks,{children:[i.jsx(jo,{src:z.avatar||""}),i.jsx(Cs,{children:Oe(z,"name").charAt(0).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:Oe(z,"name")}),i.jsx("div",{className:"text-xs text-muted-foreground truncate",children:z.Email}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(dt,{variant:"outline",className:"text-xs py-0 h-5",children:z.permissions===5?n("users.partner_leader"):n("users.partner_employee")}),z.company_name&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(qne,{className:"h-3 w-3"}),z.company_name]})]})]})]})},z.userid)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Ya,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noPartnerUsersFound")})]})})})]}),i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(eh,{className:"h-5 w-5"}),n("users.partnerApplications"),i.jsx(dt,{variant:"secondary",children:o.length})]}),i.jsx("div",{className:"w-[140px]",children:i.jsxs(yt,{value:T,onValueChange:z=>W(z),children:[i.jsx(pt,{className:"h-8",children:i.jsx(bt,{placeholder:n("common.filter")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:n("common.all")}),i.jsx(Te,{value:"pending",children:n("status.pending")}),i.jsx(Te,{value:"approved",children:n("status.approved")}),i.jsx(Te,{value:"rejected",children:n("status.rejected")})]})]})})]}),i.jsx(Ka,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:o.filter(z=>T==="all"||z.status===T).length>0?o.filter(z=>T==="all"||z.status===T).map(z=>i.jsx(st,{children:i.jsxs(ft,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[i.jsx("div",{className:"font-medium",children:z.company_name||z.full_name}),i.jsx(dt,{variant:z.status==="pending"?"outline":z.status==="approved"?"default":"destructive",className:"capitalize",children:n(`status.${z.status}`)})]}),i.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(An,{className:"h-3 w-3"}),z.full_name]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(eh,{className:"h-3 w-3"}),z.email]}),z.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Hl,{className:"h-3 w-3"}),z.phone]})]}),z.status==="pending"&&i.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[i.jsx(le,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Re(z.apply_id),children:n("users.reject")}),i.jsx(le,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>ze(z),children:n("users.approve")})]})]})},z.apply_id)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(eh,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noApplicationsFound")})]})})})]})]}),i.jsx(vn,{open:L,onOpenChange:V,children:i.jsxs(an,{className:"max-w-2xl max-h-[80vh]",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n("users.userDetails")}),i.jsx(Da,{children:n("users.userDetailsDescription")})]}),B&&i.jsx(Ka,{className:"max-h-[60vh] pr-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold",children:Oe(B,"name")}),i.jsx(dt,{variant:$e(B.permissions),className:"mt-1",children:Me(B.permissions)})]})}),X?i.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[ee&&i.jsx(wm,{variant:"destructive",children:i.jsx(_m,{children:ee})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"editName",children:n("users.fullName")}),i.jsx(Ve,{id:"editName",value:O.name,onChange:z=>M(de=>({...de,name:z.target.value})),placeholder:n("users.fullName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"editEmail",children:n("users.email")}),i.jsx(Ve,{id:"editEmail",type:"email",value:O.Email,onChange:z=>M(de=>({...de,Email:z.target.value})),placeholder:n("users.email")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"editRole",children:n("users.role")}),i.jsxs(yt,{value:String(O.permissions),onValueChange:z=>M(de=>({...de,permissions:Number(z)})),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"2",children:n("users.employee")}),i.jsx(Te,{value:"1",children:n("users.manager")}),i.jsx(Te,{value:"3",children:n("users.client")}),i.jsx(Te,{value:"4",children:n("users.partner")}),i.jsx(Te,{value:"5",children:n("users.partner_employee")})]})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(He,{className:"text-sm font-medium",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(B.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(He,{className:"text-sm font-medium",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:B.updated_at?new Date(B.updated_at).toLocaleDateString():"-"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"editPhone",children:n("users.phone")}),i.jsx(Ve,{id:"editPhone",type:"tel",value:O.mobile,onChange:z=>M(de=>({...de,mobile:z.target.value})),placeholder:n("users.phone")})]}),B.client_contact&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(He,{className:"text-sm font-medium",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:B.client_contact})]}),B.company_name&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(He,{className:"text-sm font-medium",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Oe(B,"company_name")})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(He,{className:"text-sm font-medium",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:B.userid})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(le,{type:"button",variant:"outline",onClick:()=>Q(!1),children:n("buttons.cancel")}),i.jsx(le,{type:"submit",disabled:F,children:n(F?"buttons.saving":"buttons.save")})]})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.fullName")}),i.jsx("p",{className:"text-sm",children:Oe(B,"name")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.email")}),i.jsx("p",{className:"text-sm",children:B.Email||n("common.na")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.role")}),i.jsx("p",{className:"text-sm",children:n(`users.${B.permissions===1?"admin":B.permissions===2?"employee":B.permissions===3?"client":"user"}`)})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(B.created_at).toLocaleDateString()})]}),B.updated_at&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:new Date(B.updated_at).toLocaleDateString()})]})]}),i.jsxs("div",{className:"space-y-3",children:[B.user_phone&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.phone")}),i.jsx("p",{className:"text-sm",children:B.mobile})]}),B.client_contact&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:B.client_contact})]}),B.company_name&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Oe(B,"company_name")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:B.userid})]})]})]}),B.userid&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.authId","Auth ID")}),i.jsx("p",{className:"text-sm font-mono text-xs break-all",children:B.userid})]})]})}),i.jsxs(Oa,{children:[!X&&!0&&i.jsx(le,{variant:"outline",onClick:()=>Q(!0),children:n("buttons.edit")}),i.jsx(le,{onClick:()=>V(!1),children:n("buttons.close")})]})]})})]})}function TIe(){pr();const{t:e}=Bt(),{isRTL:t}=Ma();Jr();const r=Ms();console.log("Teams Page - isRTL:",t);const[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState({}),[u,d]=x.useState(!0),[f,h]=x.useState(""),[m,p]=x.useState(!1),[g,v]=x.useState(""),[y,b]=x.useState(""),[w,_]=x.useState(null),j=!0;x.useEffect(()=>{S(),k()},[]);const N=U=>{r("/chats",{state:{teamId:U}})},S=async()=>{try{d(!0);const U=await Qf.getAll(),L=await Qf.getAllTeamMembers();a(U),c(L)}catch(U){console.error("Failed to load teams:",U)}finally{d(!1)}},k=async()=>{try{const U=await bn.getAll();o(U)}catch(U){console.error("Failed to load users:",U)}},C=async()=>{if(g.trim())try{const U=dl({team_name:g.trim(),team_leader_id:(y==null?void 0:y.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await Qf.create(U),v(""),b(""),p(!1),await S()}catch(U){console.error("Failed to create team:",U)}},E=async(U,L)=>{try{await Qf.addMember(U,L),await S()}catch(V){console.error("Failed to add team member:",V)}},P=async(U,L)=>{try{await Qf.removeMember(U,L),await S()}catch(V){console.error("Failed to remove team member:",V)}},T=async U=>{try{await Qf.delete(U),a(L=>L.filter(V=>V.team_id!==U)),c(L=>{const V={...L};return delete V[U],V}),_(null)}catch(L){console.error("Failed to delete team:",L)}},W=n.filter(U=>(Oe(U,"team_name")||"").toLowerCase().includes(f.toLowerCase())),G=s;return u?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ya,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:n.length})})]}),i.jsxs(vn,{open:m,onOpenChange:p,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(le,{children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),i.jsxs(an,{className:"sm:max-w-[425px]",children:[i.jsxs(sn,{children:[i.jsx(on,{children:e("teams.createTeamTitle")}),i.jsx(Da,{children:e("teams.createTeamDesc")})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(He,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),i.jsx(Ve,{id:"team-name",value:g,onChange:U=>v(U.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(He,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),i.jsxs(yt,{value:y,onValueChange:b,children:[i.jsx(pt,{className:"col-span-3",children:i.jsx(bt,{placeholder:e("teams.selectTeamLeader")})}),i.jsx(gt,{children:G.map(U=>i.jsx(Te,{value:U.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:U.name})]})},U.userid))})]})]})]}),i.jsx(Oa,{children:i.jsx(le,{type:"submit",onClick:C,disabled:!g.trim(),children:e("teams.createTeam")})})]})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ve,{placeholder:e("teams.searchPlaceholder"),value:f,onChange:U=>h(U.target.value),className:"pl-10"})]}),i.jsxs(Ka,{className:"flex-1",dir:t?"rtl":"ltr",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:t?"rtl":"ltr",children:W.map(U=>{const L=l[U.team_id]||[];return i.jsxs(st,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(Ut,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ur,{className:"text-lg",children:Oe(U,"team_name")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>N(U.team_id),title:e("teams.chat","Chat"),children:i.jsx(Ou,{className:"h-4 w-4"})}),i.jsx(dt,{variant:"outline",children:e("teams.memberCount_plural",{count:L.length})}),i.jsxs(si,{children:[i.jsx(dx,{asChild:!0,children:i.jsx(le,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:V=>{V.stopPropagation(),_(U.team_id)},children:i.jsx(cr,{className:"h-3 w-3"})})}),i.jsxs(Es,{onClick:V=>V.stopPropagation(),children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:e("teams.deleteTeam")}),i.jsx(Os,{children:e("teams.deleteConfirmation",{name:Oe(U,"team_name")})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:e("buttons.cancel")}),i.jsx(Ds,{onClick:V=>{V.stopPropagation(),T(U.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),U.team_leader_id_name&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[e("teams.teamLeader"),":"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:U.team_leader_id_name})]})]})]}),i.jsxs(ft,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),i.jsxs("div",{className:"space-y-2",children:[L.slice(0,4).map(V=>i.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ks,{className:"h-6 w-6",children:[i.jsx(jo,{src:""}),i.jsx(Cs,{className:"text-xs",children:(V.name||"").charAt(0).toUpperCase()})]}),i.jsx("span",{className:"text-sm",children:V.name})]}),i.jsx(le,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var B;return P(U.team_id,((B=V.userid)==null?void 0:B.toString())||"")},children:i.jsx(yae,{className:"h-3 w-3"})})]},V.userid)),L.length>4&&i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:L.length-4})}),L.length===0&&i.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),i.jsx("div",{children:i.jsxs(yt,{onValueChange:V=>{V&&E(U.team_id,V)},children:[i.jsx(pt,{className:"w-full",children:i.jsx(bt,{placeholder:e("teams.addMember")})}),i.jsx(gt,{children:s.filter(V=>!L.some(B=>B.userid.toString()===V.userid.toString())).map(V=>i.jsx(Te,{value:V.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:V.name})]})},V.userid))})]})}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",U.created_at?new Date(U.created_at).toLocaleDateString():"N/A"]})]})]},U.team_id)})}),W.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ya,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:e(f?"teams.noTeamsFound":"teams.noTeamsYet")}),i.jsx("p",{className:"text-muted-foreground mb-4",children:e(f?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!f&&j&&i.jsxs(le,{onClick:()=>p(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function AIe({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:o}){const{t:l}=Bt(),[c,u]=x.useState(""),d=e.filter(g=>{const v=g.is_private&&Oe(g.other_user||{},"user_name")||g.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(g=>!g.is_private&&!g.team_id),h=d.filter(g=>g.is_private),m=d.filter(g=>g.team_id),p=g=>{var j;const v=(t==null?void 0:t.room_id)===g.room_id,y=g.is_private,b=y&&Oe(g.other_user||{},"user_name")||g.room_name,w=y?(j=g.other_user)==null?void 0:j.avatar:null,_=(b==null?void 0:b.charAt(0).toUpperCase())||"?";return i.jsxs("button",{onClick:()=>r(g),className:xe("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[i.jsx("div",{className:"relative flex-shrink-0",children:y?i.jsxs(ks,{className:"h-6 w-6",children:[i.jsx(jo,{src:w}),i.jsx(Cs,{className:"text-[10px]",children:_})]}):i.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:i.jsx(Ya,{className:"h-3.5 w-3.5"})})}),i.jsx("span",{className:"truncate flex-1 text-left",children:b})]},g.room_id)};return i.jsxs("div",{className:xe("flex flex-col h-full bg-background border-r",o),children:[i.jsxs("div",{className:"flex-shrink-0 p-3 border-b",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(uB,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{placeholder:l("common.search","Jump to..."),value:c,onChange:g=>u(g.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),i.jsxs(Ka,{className:"flex-1 px-2 py-3 overflow-hidden",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsx(le,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:i.jsx(Zt,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[f.map(p),f.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),m.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),i.jsx("div",{className:"space-y-0.5",children:m.map(p)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),i.jsx(le,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:i.jsx(Zt,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[h.map(p),h.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function PIe({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:o,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var H;const{t:h}=Bt(),[m,p]=x.useState(""),g=x.useRef(null),[v,y]=x.useState(!1),[b,w]=x.useState(null),[_,j]=x.useState(""),[N,S]=x.useState(!1),k=x.useRef(null),[C,E]=x.useState(null);x.useEffect(()=>{if(g.current&&!c){const ee=g.current.querySelector("[data-radix-scroll-area-viewport]");ee&&(ee.scrollTop=ee.scrollHeight)}},[t,c]);const P=ee=>{const ne=ee.target;if(!ne)return;const se=ne.scrollTop<100;y(se),se&&l&&o&&!c&&o()};x.useEffect(()=>{var ne;const ee=(ne=g.current)==null?void 0:ne.querySelector("[data-radix-scroll-area-viewport]");if(ee)return ee.addEventListener("scroll",P),()=>ee.removeEventListener("scroll",P)},[l,c,o]),x.useEffect(()=>{e&&!e.is_private?(async()=>{try{if(console.log("[ChatArea] Room data:",e),e.member_count!==void 0){console.log("[ChatArea] Using room.member_count:",e.member_count),E(e.member_count);return}console.log("[ChatArea] Fetching room members for room:",e.room_id);const ne=await Xi.getRoomMembers(e.room_id);console.log("[ChatArea] Fetched members:",ne.length),E(ne.length)}catch(ne){console.error("Failed to fetch member count:",ne),E(null)}})():(console.log("[ChatArea] Room is private or null, clearing member count"),E(null))},[e==null?void 0:e.room_id]);const T=ee=>{w(ee.message_id),j(ee.content)},W=()=>{w(null),j("")},G=()=>{b&&_.trim()&&u&&(u(b,_),w(null),j(""))},U=()=>{m.trim()&&(n(m),p(""))},L=ee=>{ee.key==="Enter"&&!ee.shiftKey&&(ee.preventDefault(),U())},V=async ee=>{var ge;const ne=(ge=ee.target.files)==null?void 0:ge[0];if(!(!ne||!n))try{S(!0);const se=await Gc.uploadAttachment(ne),ce=ne.type.startsWith("image/")?`![${ne.name}](${se})`:`[${ne.name}](${se})`;n(ce)}catch(se){console.error("Failed to upload file:",se),alert(h("chat.uploadError","Failed to upload file"))}finally{S(!1),k.current&&(k.current.value="")}},B=()=>{var ee;(ee=k.current)==null||ee.click()},I=ee=>{const ne=/!\\[(.*?)\\]\((.*?)\)/g,ge=/\\[(.*?)\\]\((.*?)\)/g,se=ne.exec(ee);if(se)return i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("img",{src:se[2],alt:se[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(se[2],"_blank")}),ee.replace(se[0],"").trim()&&i.jsx("span",{children:ee.replace(se[0],"").trim()})]});const Z=ge.exec(ee);return Z?i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("a",{href:Z[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[i.jsx(iR,{className:"h-4 w-4"}),Z[1]]}),ee.replace(Z[0],"").trim()&&i.jsx("span",{children:ee.replace(Z[0],"").trim()})]}):ee};if(s)return i.jsx("div",{className:xe("flex items-center justify-center h-full bg-background",f),children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return i.jsxs("div",{className:xe("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(Ou,{className:"h-8 w-8"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),i.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const X=e.is_private,Q=X&&Oe(e.other_user||{},"user_name")||e.room_name,O=X?(H=e.other_user)==null?void 0:H.avatar:null,M=(Q==null?void 0:Q.charAt(0).toUpperCase())||"?",F=t.reduce((ee,ne)=>{const ge=new Date(ne.created_at).toLocaleDateString();return ee[ge]||(ee[ge]=[]),ee[ge].push(ne),ee},{});return i.jsxs("div",{className:xe("flex flex-col h-full bg-background overflow-x-hidden",f),children:[i.jsxs("div",{className:"flex-shrink-0 h-16 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[a&&i.jsx(le,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:i.jsx(cB,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[X?i.jsxs(ks,{className:"h-9 w-9",children:[i.jsx(jo,{src:O}),i.jsx(Cs,{children:M})]}):i.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?i.jsx(Ya,{className:"h-5 w-5"}):i.jsx(nae,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[Q,X&&i.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!X&&i.jsx("p",{className:"text-xs text-muted-foreground",children:C!==null?h("chat.membersCount",{count:C}):h("chat.loadingMembers","Loading members...")})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(le,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Hl,{className:"h-5 w-5"})}),i.jsx(le,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(wae,{className:"h-5 w-5"})}),i.jsx(le,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(aae,{className:"h-5 w-5"})})]})]}),i.jsx(Ka,{className:"flex-1 p-4 overflow-hidden",ref:g,children:i.jsxs("div",{className:"space-y-6 pb-4",children:[c&&i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(F).map(([ee,ne])=>i.jsxs("div",{children:[i.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:ee===new Date().toLocaleDateString()?h("common.today","Today"):ee})})]}),i.jsx("div",{className:"space-y-4",children:ne.map((ge,se)=>{var Me;const Z=ge.auth_user_id===(r==null?void 0:r.id),ce=se===0||ne[se-1].auth_user_id!==ge.auth_user_id,A=ge.sender,$e=b===ge.message_id;return i.jsxs("div",{className:xe("flex gap-3 group",Z?"flex-row-reverse":""),children:[ce?i.jsxs(ks,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[i.jsx(jo,{src:A==null?void 0:A.avatar}),i.jsx(Cs,{children:((Me=A==null?void 0:A.user_name)==null?void 0:Me.charAt(0))||"?"})]}):i.jsx("div",{className:"w-8 flex-shrink-0"}),i.jsxs("div",{className:xe("flex flex-col max-w-[75%]",Z?"items-end":"items-start"),children:[ce&&i.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-semibold",children:A==null?void 0:A.user_name}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:rs(new Date(ge.created_at),"h:mm a")})]}),i.jsx("div",{className:xe("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",Z?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",$e?"w-full min-w-[200px]":""),children:$e?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("textarea",{value:_,onChange:Fe=>j(Fe.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:W,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),i.jsx(le,{size:"sm",variant:"secondary",onClick:G,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):i.jsxs(i.Fragment,{children:[I(ge.content),Z&&!$e&&i.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[i.jsxs(le,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>T(ge),children:[i.jsx("span",{className:"sr-only",children:"Edit"}),i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[i.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),i.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),i.jsxs(le,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(ge.message_id),children:[i.jsx("span",{className:"sr-only",children:"Delete"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:i.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},`${ge.message_id}-${se}`)})})]},ee))]})}),i.jsxs("div",{className:"flex-shrink-0 p-4 bg-background border-t",children:[i.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[i.jsx(le,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:B,disabled:N,children:N?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):i.jsx(iR,{className:"h-5 w-5"})}),i.jsx("input",{type:"file",ref:k,className:"hidden",onChange:V,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),i.jsx("textarea",{value:m,onChange:ee=>p(ee.target.value),onKeyDown:L,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:ee=>{const ne=ee.target;ne.style.height="auto",ne.style.height=`${Math.min(ne.scrollHeight,128)}px`}}),i.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:i.jsx(pae,{className:"h-5 w-5"})}),i.jsx(le,{size:"icon",className:xe("h-8 w-8 transition-all",m.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:U,disabled:!m.trim()&&!N,children:i.jsx(Lv,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:i.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function OIe({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=Bt(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!1);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const m=await bn.getAll();o(m.filter(p=>p.auth_user_id!==n))}catch(m){console.error("Failed to load users:",m)}finally{d(!1)}},h=s.filter(m=>{var p,g;return((p=m.user_name)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))||((g=m.user_email)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))});return i.jsx(vn,{open:e,onOpenChange:t,children:i.jsxs(an,{className:"sm:max-w-[425px]",children:[i.jsx(sn,{children:i.jsx(on,{children:a("chat.newDirectMessage","New Direct Message")})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:m=>c(m.target.value),className:"pl-8"})]}),i.jsx(Ka,{className:"h-[300px]",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?i.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):i.jsx("div",{className:"space-y-1",children:h.map(m=>{var p;return i.jsxs("button",{onClick:()=>{r(m),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[i.jsxs(ks,{children:[i.jsx(jo,{src:m.avatar}),i.jsx(Cs,{children:((p=m.user_name)==null?void 0:p.charAt(0))||"?"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:m.user_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:m.user_email})]})]},m.user_id)})})})]})]})})}var sj="Switch",[DIe,AHe]=os(sj),[RIe,MIe]=DIe(sj),Iq=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),p=$t(t,w=>m(w)),g=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,b]=uc({prop:a,defaultProp:s??!1,onChange:u,caller:sj});return i.jsxs(RIe,{scope:r,checked:y,disabled:l,children:[i.jsx(ut.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Uq(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:et(e.onClick,w=>{b(_=>!_),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&i.jsx(Bq,{control:h,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Iq.displayName=sj;var Lq="SwitchThumb",$q=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=MIe(Lq,r);return i.jsx(ut.span,{"data-state":Uq(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});$q.displayName=Lq;var FIe="SwitchBubbleInput",Bq=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=x.useRef(null),l=$t(o,s),c=VT(r),u=IT(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const p=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(p)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Bq.displayName=FIe;function Uq(e){return e?"checked":"unchecked"}var zq=Iq,IIe=$q;const Vq=x.forwardRef(({className:e,...t},r)=>i.jsx(zq,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(IIe,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vq.displayName=zq.displayName;function LIe({open:e,onOpenChange:t,onCreate:r}){const{t:n}=Bt(),[a,s]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,o),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return i.jsx(vn,{open:e,onOpenChange:t,children:i.jsxs(an,{children:[i.jsx(sn,{children:i.jsx(on,{children:n("chat.createRoomTitle","Create New Room")})}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"name",children:n("chat.roomName","Room Name")}),i.jsx(Ve,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs(He,{htmlFor:"private",className:"flex flex-col space-y-1",children:[i.jsx("span",{children:n("chat.privateRoom","Private Room")}),i.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),i.jsx(Vq,{id:"private",checked:o,onCheckedChange:l,disabled:c})]}),i.jsxs(Oa,{children:[i.jsx(le,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),i.jsx(le,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function $Ie(){var B;const{user:e}=pr(),{t}=Bt(),{isRTL:r}=Ma(),[n,a]=x.useState([]),[s,o]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(!1),[m,p]=x.useState(!0),[g,v]=x.useState(!0),[y,b]=x.useState(!1);x.useState([]);const[w,_]=x.useState(!1),[j,N]=x.useState(!1),S=x.useRef(!1),k=x.useRef(null);x.useRef(null),x.useRef(null),x.useEffect(()=>{const I=()=>{const X=window.innerWidth<768;h(X),X||p(!0)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),x.useEffect(()=>{e&&!S.current&&P()},[e]),x.useEffect(()=>{var X;const I=(X=window.history.state)==null?void 0:X.usr;if(I!=null&&I.teamId&&n.length>0){const Q=n.find(O=>O.team_id===I.teamId);Q&&o(Q)}},[n]),x.useEffect(()=>{s&&(k.current!==s.room_id&&(v(!0),b(!1),T(s.room_id),e&&(Xi.markAsRead(s.room_id,e.id.toString()),a(I=>I.map(X=>X.room_id===s.room_id?{...X,unreadCount:0}:X)))),f&&p(!1))},[s,f,e]),x.useEffect(()=>{var O;if(!e||!s)return;let I=((O=l[0])==null?void 0:O.message_id)||0;const X=async()=>{try{const M=await Gc.getByRoom(s.room_id.toString(),{limit:5});if(M.length>0){const F=M[0];F.message_id>I&&(console.log("New message detected, refreshing..."),await T(s.room_id.toString()),I=F.message_id)}}catch(M){console.warn("Failed to poll for new messages:",M)}},Q=setInterval(X,2e3);return X(),()=>{clearInterval(Q)}},[e,s,l]);const C=async(I,X)=>{try{await Gc.update(I,X)}catch(Q){console.error("Failed to edit message:",Q)}},E=async I=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await Gc.delete(I)}catch(X){console.error("Failed to delete message:",X)}},P=async()=>{try{d(!0);const I=await Xi.getUserRooms(e==null?void 0:e.id.toString()),X=I.filter(M=>M.is_private).map(M=>M.room_id),Q=new Map;if(X.length>0){const M=X.map(H=>Xi.getRoomMembers(H).catch(()=>[])),F=await Promise.all(M);X.forEach((H,ee)=>{Q.set(H,F[ee])})}const O=I.map(M=>{if(M.is_private){const H=(Q.get(M.room_id)||[]).find(ee=>{var ne;return((ne=ee.userid)==null?void 0:ne.toString())!==(e==null?void 0:e.id.toString())});return{...M,other_user:H}}return M});a(O),S.current=!0}catch(I){console.error("Failed to load rooms:",I)}finally{d(!1)}},T=async(I,X=!1)=>{try{X&&b(!0);const Q=10,O=X&&l.length>0?l[0].created_at:void 0,M=await Gc.getByRoom(I,{limit:Q,before:O});X?(c(F=>[...M,...F]),v(M.length===Q)):(c(M),v(M.length===Q),k.current=I)}catch(Q){console.error("Failed to load messages:",Q)}finally{X&&b(!1)}},W=async()=>{!s||y||!g||await T(s.room_id,!0)},G=async I=>{if(!(!s||!e))try{const X={message_id:Date.now(),room_id:s.room_id,user_id:parseInt(e.id.toString()),content:I,metadata:null,created_at:new Date().toISOString(),sender:e.profile};c(Q=>[...Q,X]),await Gc.create({room_id:s.room_id,user_id:parseInt(e.id.toString()),content:I,metadata:null}),setTimeout(()=>{T(s.room_id.toString())},500)}catch(X){console.error("Failed to send message:",X),c(Q=>Q.filter(O=>O.message_id!==Date.now()))}},U=()=>{p(!0)},L=async(I,X)=>{if(e)try{const Q=await Xi.createRoom({name:I,is_private:X,created_by:e.profile.user_id||0,userid:e.id.toString()});await Xi.addMember(Q.room_id,e.id.toString()),await P();const O={...Q};o(O)}catch(Q){console.error("Failed to create channel:",Q)}},V=async I=>{if(!e)return;const X=n.find(Q=>{var O;return Q.is_private&&((O=Q.other_user)==null?void 0:O.userid)===I.userid});if(X){o(X);return}try{const Q=await Xi.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await Xi.addMember(Q.room_id,e.id.toString()),await Xi.addMember(Q.room_id,(I.userid||I.user_id||"").toString()),await P();const O={...Q,other_user:I};o(O)}catch(Q){console.error("Failed to create DM:",Q)}};return i.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-background",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:xe("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-hidden",m?"translate-x-0":"-translate-x-full md:translate-x-0",f&&!m&&"hidden"),children:i.jsx(AIe,{rooms:n,selectedRoom:s,onSelectRoom:o,currentUser:e,onNewChannel:()=>_(!0),onNewDM:()=>N(!0)})}),i.jsx("div",{className:xe("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full overflow-hidden",f&&m?"hidden":"flex"),children:i.jsx(PIe,{room:s,messages:l,currentUser:e,onSendMessage:G,onBack:U,loading:u,onLoadMore:W,hasMoreMessages:g,isLoadingMore:y,onEditMessage:C,onDeleteMessage:E})}),i.jsx(LIe,{open:w,onOpenChange:_,onCreate:L}),i.jsx(OIe,{open:j,onOpenChange:N,onSelectUser:V,currentUserId:(B=e==null?void 0:e.id)==null?void 0:B.toString()})]})}function Wq(e,t){return function(){return e.apply(t,arguments)}}const{toString:BIe}=Object.prototype,{getPrototypeOf:RP}=Object,{iterator:ij,toStringTag:Hq}=Symbol,oj=(e=>t=>{const r=BIe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Po=e=>(e=e.toLowerCase(),t=>oj(t)===e),lj=e=>t=>typeof t===e,{isArray:Rp}=Array,Qm=lj("undefined");function mx(e){return e!==null&&!Qm(e)&&e.constructor!==null&&!Qm(e.constructor)&&js(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qq=Po("ArrayBuffer");function UIe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qq(e.buffer),t}const zIe=lj("string"),js=lj("function"),Gq=lj("number"),px=e=>e!==null&&typeof e=="object",VIe=e=>e===!0||e===!1,e1=e=>{if(oj(e)!=="object")return!1;const t=RP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Hq in e)&&!(ij in e)},WIe=e=>{if(!px(e)||mx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},HIe=Po("Date"),qIe=Po("File"),GIe=Po("Blob"),KIe=Po("FileList"),YIe=e=>px(e)&&js(e.pipe),XIe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||js(e.append)&&((t=oj(e))==="formdata"||t==="object"&&js(e.toString)&&e.toString()==="[object FormData]"))},QIe=Po("URLSearchParams"),[ZIe,JIe,eLe,tLe]=["ReadableStream","Request","Response","Headers"].map(Po),rLe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gx(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Rp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(mx(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function Kq(e,t){if(mx(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Ed=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yq=e=>!Qm(e)&&e!==Ed;function zC(){const{caseless:e,skipUndefined:t}=Yq(this)&&this||{},r={},n=(a,s)=>{const o=e&&Kq(r,s)||s;e1(r[o])&&e1(a)?r[o]=zC(r[o],a):e1(a)?r[o]=zC({},a):Rp(a)?r[o]=a.slice():(!t||!Qm(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&gx(arguments[a],n);return r}const nLe=(e,t,r,{allOwnKeys:n}={})=>(gx(t,(a,s)=>{r&&js(a)?e[s]=Wq(a,r):e[s]=a},{allOwnKeys:n}),e),aLe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),sLe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},iLe=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&RP(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},oLe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},lLe=e=>{if(!e)return null;if(Rp(e))return e;let t=e.length;if(!Gq(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},cLe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&RP(Uint8Array)),uLe=(e,t)=>{const n=(e&&e[ij]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},dLe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},fLe=Po("HTMLFormElement"),hLe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),ZI=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),mLe=Po("RegExp"),Xq=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};gx(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},pLe=e=>{Xq(e,(t,r)=>{if(js(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(js(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},gLe=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Rp(e)?n(e):n(String(e).split(t)),r},vLe=()=>{},xLe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function yLe(e){return!!(e&&js(e.append)&&e[Hq]==="FormData"&&e[ij])}const bLe=e=>{const t=new Array(10),r=(n,a)=>{if(px(n)){if(t.indexOf(n)>=0)return;if(mx(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Rp(n)?[]:{};return gx(n,(o,l)=>{const c=r(o,a+1);!Qm(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},wLe=Po("AsyncFunction"),_Le=e=>e&&(px(e)||js(e))&&js(e.then)&&js(e.catch),Qq=((e,t)=>e?setImmediate:t?((r,n)=>(Ed.addEventListener("message",({source:a,data:s})=>{a===Ed&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ed.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",js(Ed.postMessage)),jLe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ed):typeof process<"u"&&process.nextTick||Qq,SLe=e=>e!=null&&js(e[ij]),De={isArray:Rp,isArrayBuffer:qq,isBuffer:mx,isFormData:XIe,isArrayBufferView:UIe,isString:zIe,isNumber:Gq,isBoolean:VIe,isObject:px,isPlainObject:e1,isEmptyObject:WIe,isReadableStream:ZIe,isRequest:JIe,isResponse:eLe,isHeaders:tLe,isUndefined:Qm,isDate:HIe,isFile:qIe,isBlob:GIe,isRegExp:mLe,isFunction:js,isStream:YIe,isURLSearchParams:QIe,isTypedArray:cLe,isFileList:KIe,forEach:gx,merge:zC,extend:nLe,trim:rLe,stripBOM:aLe,inherits:sLe,toFlatObject:iLe,kindOf:oj,kindOfTest:Po,endsWith:oLe,toArray:lLe,forEachEntry:uLe,matchAll:dLe,isHTMLForm:fLe,hasOwnProperty:ZI,hasOwnProp:ZI,reduceDescriptors:Xq,freezeMethods:pLe,toObjectSet:gLe,toCamelCase:hLe,noop:vLe,toFiniteNumber:xLe,findKey:Kq,global:Ed,isContextDefined:Yq,isSpecCompliantForm:yLe,toJSONObject:bLe,isAsyncFn:wLe,isThenable:_Le,setImmediate:Qq,asap:jLe,isIterable:SLe};function It(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}De.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}});const Zq=It.prototype,Jq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Jq[e]={value:e}});Object.defineProperties(It,Jq);Object.defineProperty(Zq,"isAxiosError",{value:!0});It.from=(e,t,r,n,a,s)=>{const o=Object.create(Zq);De.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return It.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const NLe=null;function VC(e){return De.isPlainObject(e)||De.isArray(e)}function eG(e){return De.endsWith(e,"[]")?e.slice(0,-2):e}function JI(e,t,r){return e?e.concat(t).map(function(a,s){return a=eG(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function kLe(e){return De.isArray(e)&&!e.some(VC)}const CLe=De.toFlatObject(De,{},null,function(t){return/^is[A-Z]/.test(t)});function cj(e,t,r){if(!De.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=De.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!De.isUndefined(v[g])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(t);if(!De.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(De.isDate(p))return p.toISOString();if(De.isBoolean(p))return p.toString();if(!c&&De.isBlob(p))throw new It("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(p)||De.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,v){let y=p;if(p&&!v&&typeof p=="object"){if(De.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(De.isArray(p)&&kLe(p)||(De.isFileList(p)||De.endsWith(g,"[]"))&&(y=De.toArray(p)))return g=eG(g),y.forEach(function(w,_){!(De.isUndefined(w)||w===null)&&t.append(o===!0?JI([g],_,s):o===null?g:g+"[]",u(w))}),!1}return VC(p)?!0:(t.append(JI(v,g,s),u(p)),!1)}const f=[],h=Object.assign(CLe,{defaultVisitor:d,convertValue:u,isVisitable:VC});function m(p,g){if(!De.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),De.forEach(p,function(y,b){(!(De.isUndefined(y)||y===null)&&a.call(t,y,De.isString(b)?b.trim():b,g,h))===!0&&m(y,g?g.concat(b):[b])}),f.pop()}}if(!De.isObject(e))throw new TypeError("data must be an object");return m(e),t}function eL(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function MP(e,t){this._pairs=[],e&&cj(e,this,t)}const tG=MP.prototype;tG.append=function(t,r){this._pairs.push([t,r])};tG.toString=function(t){const r=t?function(n){return t.call(this,n,eL)}:eL;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function ELe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rG(e,t,r){if(!t)return e;const n=r&&r.encode||ELe;De.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=De.isURLSearchParams(t)?t.toString():new MP(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class tL{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){De.forEach(this.handlers,function(n){n!==null&&t(n)})}}const nG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},TLe=typeof URLSearchParams<"u"?URLSearchParams:MP,ALe=typeof FormData<"u"?FormData:null,PLe=typeof Blob<"u"?Blob:null,OLe={isBrowser:!0,classes:{URLSearchParams:TLe,FormData:ALe,Blob:PLe},protocols:["http","https","file","blob","url","data"]},FP=typeof window<"u"&&typeof document<"u",WC=typeof navigator=="object"&&navigator||void 0,DLe=FP&&(!WC||["ReactNative","NativeScript","NS"].indexOf(WC.product)<0),RLe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",MLe=FP&&window.location.href||"http://localhost",FLe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FP,hasStandardBrowserEnv:DLe,hasStandardBrowserWebWorkerEnv:RLe,navigator:WC,origin:MLe},Symbol.toStringTag,{value:"Module"})),Ca={...FLe,...OLe};function ILe(e,t){return cj(e,new Ca.classes.URLSearchParams,{visitor:function(r,n,a,s){return Ca.isNode&&De.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function LLe(e){return De.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $Le(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function aG(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&De.isArray(a)?a.length:o,c?(De.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!De.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&De.isArray(a[o])&&(a[o]=$Le(a[o])),!l)}if(De.isFormData(e)&&De.isFunction(e.entries)){const r={};return De.forEachEntry(e,(n,a)=>{t(LLe(n),a,r,0)}),r}return null}function BLe(e,t,r){if(De.isString(e))try{return(t||JSON.parse)(e),De.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const vx={transitional:nG,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=De.isObject(t);if(s&&De.isHTMLForm(t)&&(t=new FormData(t)),De.isFormData(t))return a?JSON.stringify(aG(t)):t;if(De.isArrayBuffer(t)||De.isBuffer(t)||De.isStream(t)||De.isFile(t)||De.isBlob(t)||De.isReadableStream(t))return t;if(De.isArrayBufferView(t))return t.buffer;if(De.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ILe(t,this.formSerializer).toString();if((l=De.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return cj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),BLe(t)):t}],transformResponse:[function(t){const r=this.transitional||vx.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(De.isResponse(t)||De.isReadableStream(t))return t;if(t&&De.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?It.from(l,It.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ca.classes.FormData,Blob:Ca.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],e=>{vx.headers[e]={}});const ULe=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zLe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&ULe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},rL=Symbol("internals");function c0(e){return e&&String(e).trim().toLowerCase()}function t1(e){return e===!1||e==null?e:De.isArray(e)?e.map(t1):String(e)}function VLe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const WLe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function h2(e,t,r,n,a){if(De.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!De.isString(t)){if(De.isString(n))return t.indexOf(n)!==-1;if(De.isRegExp(n))return n.test(t)}}function HLe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function qLe(e,t){const r=De.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}class Ss{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=c0(c);if(!d)throw new Error("header name must be a non-empty string");const f=De.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=t1(l))}const o=(l,c)=>De.forEach(l,(u,d)=>s(u,d,c));if(De.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(De.isString(t)&&(t=t.trim())&&!WLe(t))o(zLe(t),r);else if(De.isObject(t)&&De.isIterable(t)){let l={},c,u;for(const d of t){if(!De.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?De.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=c0(t),t){const n=De.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return VLe(a);if(De.isFunction(r))return r.call(this,a,n);if(De.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=c0(t),t){const n=De.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||h2(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=c0(o),o){const l=De.findKey(n,o);l&&(!r||h2(n,n[l],l,r))&&(delete n[l],a=!0)}}return De.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||h2(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return De.forEach(this,(a,s)=>{const o=De.findKey(n,s);if(o){r[o]=t1(a),delete r[s];return}const l=t?HLe(s):String(s).trim();l!==s&&delete r[s],r[l]=t1(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return De.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&De.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[rL]=this[rL]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=c0(o);n[l]||(qLe(a,o),n[l]=!0)}return De.isArray(t)?t.forEach(s):s(t),this}}Ss.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(Ss.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});De.freezeMethods(Ss);function m2(e,t){const r=this||vx,n=t||r,a=Ss.from(n.headers);let s=n.data;return De.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function sG(e){return!!(e&&e.__CANCEL__)}function Mp(e,t,r){It.call(this,e??"canceled",It.ERR_CANCELED,t,r),this.name="CanceledError"}De.inherits(Mp,It,{__CANCEL__:!0});function iG(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new It("Request failed with status code "+r.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function GLe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function KLe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];o||(o=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function YLe(e,t){let r=0,n=1e3/t,a,s;const o=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},n-f)))},()=>a&&o(a)]}const Zb=(e,t,r=3)=>{let n=0;const a=KLe(50,250);return YLe(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},nL=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},aL=e=>(...t)=>De.asap(()=>e(...t)),XLe=Ca.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ca.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ca.origin),Ca.navigator&&/(msie|trident)/i.test(Ca.navigator.userAgent)):()=>!0,QLe=Ca.hasStandardBrowserEnv?{write(e,t,r,n,a,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];De.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),De.isString(n)&&l.push(`path=${n}`),De.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),De.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ZLe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function JLe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function oG(e,t,r){let n=!ZLe(t);return e&&(n||r==!1)?JLe(e,t):t}const sL=e=>e instanceof Ss?{...e}:e;function gf(e,t){t=t||{};const r={};function n(u,d,f,h){return De.isPlainObject(u)&&De.isPlainObject(d)?De.merge.call({caseless:h},u,d):De.isPlainObject(d)?De.merge({},d):De.isArray(d)?d.slice():d}function a(u,d,f,h){if(De.isUndefined(d)){if(!De.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!De.isUndefined(d))return n(void 0,d)}function o(u,d){if(De.isUndefined(d)){if(!De.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(sL(u),sL(d),f,!0)};return De.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);De.isUndefined(h)&&f!==l||(r[d]=h)}),r}const lG=e=>{const t=gf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Ss.from(o),t.url=rG(oG(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),De.isFormData(r)){if(Ca.hasStandardBrowserEnv||Ca.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(De.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Ca.hasStandardBrowserEnv&&(n&&De.isFunction(n)&&(n=n(t)),n||n!==!1&&XLe(t.url))){const c=a&&s&&QLe.read(s);c&&o.set(a,c)}return t},e5e=typeof XMLHttpRequest<"u",t5e=e5e&&function(e){return new Promise(function(r,n){const a=lG(e);let s=a.data;const o=Ss.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function g(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const w=Ss.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};iG(function(S){r(S),g()},function(S){n(S),g()},j),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new It("Request aborted",It.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const j=_&&_.message?_.message:"Network Error",N=new It(j,It.ERR_NETWORK,e,v);N.event=_||null,n(N),v=null},v.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||nG;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new It(_,j.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&De.forEach(o.toJSON(),function(_,j){v.setRequestHeader(j,_)}),De.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,p]=Zb(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=Zb(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=w=>{v&&(n(!w||w.type?new Mp(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=GLe(a.url);if(b&&Ca.protocols.indexOf(b)===-1){n(new It("Unsupported protocol "+b+":",It.ERR_BAD_REQUEST,e));return}v.send(s||null)})},r5e=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof It?d:new Mp(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new It(`timeout ${t} of ms exceeded`,It.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>De.asap(l),c}},n5e=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},a5e=async function*(e,t){for await(const r of s5e(e))yield*n5e(r,t)},s5e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},iL=(e,t,r,n)=>{const a=a5e(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},oL=64*1024,{isFunction:yy}=De,i5e=(({Request:e,Response:t})=>({Request:e,Response:t}))(De.global),{ReadableStream:lL,TextEncoder:cL}=De.global,uL=(e,...t)=>{try{return!!e(...t)}catch{return!1}},o5e=e=>{e=De.merge.call({skipUndefined:!0},i5e,e);const{fetch:t,Request:r,Response:n}=e,a=t?yy(t):typeof fetch=="function",s=yy(r),o=yy(n);if(!a)return!1;const l=a&&yy(lL),c=a&&(typeof cL=="function"?(p=>g=>p.encode(g))(new cL):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&uL(()=>{let p=!1;const g=new r(Ca.origin,{body:new lL,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),d=o&&l&&uL(()=>De.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(g,v)=>{let y=g&&g[p];if(y)return y.call(g);throw new It(`Response type '${p}' is not supported`,It.ERR_NOT_SUPPORT,v)})});const h=async p=>{if(p==null)return 0;if(De.isBlob(p))return p.size;if(De.isSpecCompliantForm(p))return(await new r(Ca.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(De.isArrayBufferView(p)||De.isArrayBuffer(p))return p.byteLength;if(De.isURLSearchParams(p)&&(p=p+""),De.isString(p))return(await c(p)).byteLength},m=async(p,g)=>{const v=De.toFiniteNumber(p.getContentLength());return v??h(g)};return async p=>{let{url:g,method:v,data:y,signal:b,cancelToken:w,timeout:_,onDownloadProgress:j,onUploadProgress:N,responseType:S,headers:k,withCredentials:C="same-origin",fetchOptions:E}=lG(p),P=t||fetch;S=S?(S+"").toLowerCase():"text";let T=r5e([b,w&&w.toAbortSignal()],_),W=null;const G=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let U;try{if(N&&u&&v!=="get"&&v!=="head"&&(U=await m(k,y))!==0){let Q=new r(g,{method:"POST",body:y,duplex:"half"}),O;if(De.isFormData(y)&&(O=Q.headers.get("content-type"))&&k.setContentType(O),Q.body){const[M,F]=nL(U,Zb(aL(N)));y=iL(Q.body,oL,M,F)}}De.isString(C)||(C=C?"include":"omit");const L=s&&"credentials"in r.prototype,V={...E,signal:T,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:y,duplex:"half",credentials:L?C:void 0};W=s&&new r(g,V);let B=await(s?P(W,E):P(g,V));const I=d&&(S==="stream"||S==="response");if(d&&(j||I&&G)){const Q={};["status","statusText","headers"].forEach(H=>{Q[H]=B[H]});const O=De.toFiniteNumber(B.headers.get("content-length")),[M,F]=j&&nL(O,Zb(aL(j),!0))||[];B=new n(iL(B.body,oL,M,()=>{F&&F(),G&&G()}),Q)}S=S||"text";let X=await f[De.findKey(f,S)||"text"](B,p);return!I&&G&&G(),await new Promise((Q,O)=>{iG(Q,O,{data:X,headers:Ss.from(B.headers),status:B.status,statusText:B.statusText,config:p,request:W})})}catch(L){throw G&&G(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new It("Network Error",It.ERR_NETWORK,p,W),{cause:L.cause||L}):It.from(L,L&&L.code,p,W)}}},l5e=new Map,cG=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,c,u,d=l5e;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:o5e(t)),d=u;return u};cG();const IP={http:NLe,xhr:t5e,fetch:{get:cG}};De.forEach(IP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dL=e=>`- ${e}`,c5e=e=>De.isFunction(e)||e===null||e===!1;function u5e(e,t){e=De.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!c5e(n)&&(a=IP[(l=String(n)).toLowerCase()],a===void 0))throw new It(`Unknown adapter '${l}'`);if(a&&(De.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(dL).join(`
`):" "+dL(o[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const uG={getAdapter:u5e,adapters:IP};function p2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mp(null,e)}function fL(e){return p2(e),e.headers=Ss.from(e.headers),e.data=m2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),uG.getAdapter(e.adapter||vx.adapter,e)(e).then(function(n){return p2(e),n.data=m2.call(e,e.transformResponse,n),n.headers=Ss.from(n.headers),n},function(n){return sG(n)||(p2(e),n&&n.response&&(n.response.data=m2.call(e,e.transformResponse,n.response),n.response.headers=Ss.from(n.response.headers))),Promise.reject(n)})}const dG="1.13.2",uj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{uj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const hL={};uj.transitional=function(t,r,n){function a(s,o){return"[Axios v"+dG+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new It(a(o," has been removed"+(r?" in "+r:"")),It.ERR_DEPRECATED);return r&&!hL[o]&&(hL[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};uj.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function d5e(e,t,r){if(typeof e!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new It("option "+s+" must be "+c,It.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new It("Unknown option "+s,It.ERR_BAD_OPTION)}}const r1={assertOptions:d5e,validators:uj},Mo=r1.validators;class qd{constructor(t){this.defaults=t||{},this.interceptors={request:new tL,response:new tL}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=gf(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&r1.assertOptions(n,{silentJSONParsing:Mo.transitional(Mo.boolean),forcedJSONParsing:Mo.transitional(Mo.boolean),clarifyTimeoutError:Mo.transitional(Mo.boolean)},!1),a!=null&&(De.isFunction(a)?r.paramsSerializer={serialize:a}:r1.assertOptions(a,{encode:Mo.function,serialize:Mo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),r1.assertOptions(r,{baseUrl:Mo.spelling("baseURL"),withXsrfToken:Mo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&De.merge(s.common,s[r.method]);s&&De.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Ss.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const p=[fL.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let m=r;for(;f<h;){const p=l[f++],g=l[f++];try{m=p(m)}catch(v){g.call(this,v);break}}try{d=fL.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=gf(this.defaults,t);const r=oG(t.baseURL,t.url,t.allowAbsoluteUrls);return rG(r,t.params,t.paramsSerializer)}}De.forEach(["delete","get","head","options"],function(t){qd.prototype[t]=function(r,n){return this.request(gf(n||{},{method:t,url:r,data:(n||{}).data}))}});De.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(gf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}qd.prototype[t]=r(),qd.prototype[t+"Form"]=r(!0)});class LP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new Mp(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new LP(function(a){t=a}),cancel:t}}}function f5e(e){return function(r){return e.apply(null,r)}}function h5e(e){return De.isObject(e)&&e.isAxiosError===!0}const HC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HC).forEach(([e,t])=>{HC[t]=e});function fG(e){const t=new qd(e),r=Wq(qd.prototype.request,t);return De.extend(r,qd.prototype,t,{allOwnKeys:!0}),De.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return fG(gf(e,a))},r}const $r=fG(vx);$r.Axios=qd;$r.CanceledError=Mp;$r.CancelToken=LP;$r.isCancel=sG;$r.VERSION=dG;$r.toFormData=cj;$r.AxiosError=It;$r.Cancel=$r.CanceledError;$r.all=function(t){return Promise.all(t)};$r.spread=f5e;$r.isAxiosError=h5e;$r.mergeConfig=gf;$r.AxiosHeaders=Ss;$r.formToJSON=e=>aG(De.isHTMLForm(e)?new FormData(e):e);$r.getAdapter=uG.getAdapter;$r.HttpStatusCode=HC;$r.default=$r;const u0="https://app.chatwoot.com",Fo="",Io="",by={async getConversations(e="open",t=1){var r;try{if(!Fo||!Io)return console.warn("Chatwoot credentials missing. Please check .env file."),[];const a=(await $r.get(`${u0}/api/v1/accounts/${Io}/conversations`,{headers:{api_access_token:Fo},params:{status:e,page:t}})).data;return(r=a==null?void 0:a.data)!=null&&r.payload?a.data.payload:a!=null&&a.payload?a.payload:[]}catch(n){return console.error("[Chatwoot] Failed to fetch conversations:",n),[]}},async getMessages(e){try{return!Fo||!Io?[]:(await $r.get(`${u0}/api/v1/accounts/${Io}/conversations/${e}/messages`,{headers:{api_access_token:Fo}})).data.payload||[]}catch(t){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,t),[]}},async sendMessage(e,t,r=!1){try{return!Fo||!Io?null:(await $r.post(`${u0}/api/v1/accounts/${Io}/conversations/${e}/messages`,{content:t,message_type:r?"private":"outgoing",private:r},{headers:{api_access_token:Fo}})).data}catch(n){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,n),n}},async toggleStatus(e,t){try{if(!Fo||!Io)return;await $r.post(`${u0}/api/v1/accounts/${Io}/conversations/${e}/toggle_status`,{status:t},{headers:{api_access_token:Fo}})}catch(r){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,r),r}},async getInboxes(){try{return!Fo||!Io?[]:(await $r.get(`${u0}/api/v1/accounts/${Io}/inboxes`,{headers:{api_access_token:Fo}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function m5e(){const{t:e}=Bt();pr(),_l();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,p]=x.useState(""),[g,v]=x.useState("open"),y=x.useRef(null);x.useEffect(()=>{b(g);const k=setInterval(()=>{b(g,!0)},3e4);return()=>clearInterval(k)},[g]),x.useEffect(()=>{if(n){w(n.id);const k=setInterval(()=>w(n.id),1e4);return()=>clearInterval(k)}},[n]),x.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[s]);const b=async(k,C=!1)=>{C||c(!0);try{const E=await by.getConversations(k);r(E||[])}catch(E){console.error("Failed to load conversations:",E),C||console.error("User notification skipped for load error")}finally{C||c(!1)}},w=async k=>{s.length===0&&d(!0);try{const C=await by.getMessages(k);o(C)}catch(C){console.error("Failed to load messages",C)}finally{d(!1)}},_=async()=>{if(!(!m.trim()||!n)){h(!0);try{const k=await by.sendMessage(n.id,m);k&&(o(C=>[...C,k]),p(""))}catch(k){console.error("Failed to send message",k)}finally{h(!1)}}},j=async k=>{try{const C=g==="open"?"resolved":"open";await by.toggleStatus(k,C),g!=="all"?(r(E=>E.filter(P=>P.id!==k)),(n==null?void 0:n.id)===k&&(a(null),o([]))):(r(E=>E.map(P=>P.id===k?{...P,status:C}:P)),b(g))}catch(C){console.error("Failed to toggle status",C)}},N=k=>k!=null&&k.includes("email")?i.jsx(eh,{className:"h-4 w-4"}):k!=null&&k.includes("whatsapp")?i.jsx(Hl,{className:"h-4 w-4"}):i.jsx(Ou,{className:"h-4 w-4"}),S=k=>new Date(k*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:Xt()?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[i.jsxs("div",{className:"p-4 border-b space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),i.jsx(le,{variant:"ghost",size:"icon",onClick:()=>b(g),disabled:l,children:i.jsx(Tg,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]}),i.jsx(xl,{defaultValue:"open",onValueChange:k=>v(k),className:"w-full",children:i.jsxs(Eo,{className:"grid w-full grid-cols-3",children:[i.jsx(Vr,{value:"open",children:e("status.open")}),i.jsx(Vr,{value:"resolved",children:e("status.closed")}),i.jsx(Vr,{value:"all",children:e("common.all")})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),i.jsx(Ka,{className:"flex-1",children:t.length===0&&!l?i.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):i.jsx("div",{className:"divide-y",children:t.map(k=>i.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(n==null?void 0:n.id)===k.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>a(k),children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ks,{className:"h-8 w-8",children:[i.jsx(jo,{src:k.meta.sender.thumbnail}),i.jsx(Cs,{children:k.meta.sender.name.charAt(0)})]}),i.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:k.meta.sender.name})]}),i.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:S(k.timestamp)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[N(k.meta.channel),i.jsx("span",{className:"capitalize",children:k.meta.channel.split(".")[1]||"Web"}),k.status==="resolved"&&i.jsx(dt,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),i.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:k.messages&&k.messages.length>0?k.messages[k.messages.length-1].content:e("common.noMessages")||"No messages"})]},k.id))})})]}),i.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:n?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ks,{children:[i.jsx(jo,{src:n.meta.sender.thumbnail}),i.jsx(Cs,{children:n.meta.sender.name.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:n.meta.sender.name}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.meta.sender.email&&i.jsx("span",{children:n.meta.sender.email}),n.meta.sender.phone_number&&i.jsxs("span",{children:[" ",n.meta.sender.phone_number]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(le,{variant:n.status==="resolved"?"outline":"default",size:"sm",onClick:()=>j(n.id),children:n.status==="resolved"?i.jsxs(i.Fragment,{children:[i.jsx(Tg,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):i.jsxs(i.Fragment,{children:[i.jsx(sR,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),i.jsxs(ZT,{children:[i.jsx(JT,{asChild:!0,children:i.jsx(le,{variant:"ghost",size:"icon",children:i.jsx(uB,{className:"h-4 w-4"})})}),i.jsxs(r_,{align:"end",children:[i.jsx(Ul,{children:e("chats.viewContactDetails")}),i.jsx(Ul,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),i.jsx("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):s.map(k=>{const C=k.message_type==="outgoing"||k.sender&&k.sender.type==="user",E=k.private;return i.jsx("div",{className:`flex w-full ${C?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${E?"bg-yellow-50 border border-yellow-200":C?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[E&&i.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[i.jsx(Une,{className:"h-3 w-3"})," ",e("chats.note")]}),i.jsx("div",{className:"text-sm whitespace-pre-wrap",children:k.content}),i.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${C?"text-primary-foreground/70":"text-muted-foreground"}`,children:[S(k.created_at),C&&i.jsx(sR,{className:"h-3 w-3"})]})]})},k.id)})}),i.jsxs("div",{className:"p-4 border-t bg-background",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ve,{placeholder:e("chats.typeMessage"),value:m,onChange:k=>p(k.target.value),onKeyDown:k=>k.key==="Enter"&&!k.shiftKey&&_(),disabled:f||n.status==="resolved",className:"flex-1"}),i.jsx(le,{onClick:_,disabled:f||!m.trim()||n.status==="resolved",children:f?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):i.jsx(Lv,{className:"h-4 w-4"})})]}),n.status==="resolved"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[i.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:i.jsx(Ou,{className:"h-8 w-8 text-muted-foreground/50"})}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function p5e(){const{user:e}=pr(),{t}=Bt(),[r,n]=x.useState([]),[a,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(""),[h,m]=x.useState(!0),[p,g]=x.useState(!1),[v,y]=x.useState(null),[b,w]=x.useState(null),[_,j]=x.useState(!1),[N,S]=x.useState(!0),k=x.useRef(!1),C=x.useRef(null),E=x.useRef(null);x.useEffect(()=>{e&&!k.current&&P()},[e]),x.useEffect(()=>{a&&(E.current!==a.room_id&&W(),C.current!==a.room_id&&T())},[a]),x.useEffect(()=>{a&&(async()=>{try{console.log("Realtime not available - Supabase removed");return}catch(V){console.error("Failed to setup realtime:",V)}})()},[a]),x.useEffect(()=>{g(!1),y(null),w(null),k.current=!1,C.current=null,E.current=null},[e]);const P=async()=>{if(!k.current)try{m(!0);const L=await Xi.getUserRooms((e==null?void 0:e.id)||"");n(L),L.length>0&&s(L[0]),g(!0),k.current=!0}catch(L){console.error("Failed to load rooms:",L)}finally{m(!1)}},T=async()=>{if(!(!a||C.current===a.room_id))try{const L=await Gc.getByRoom(a.room_id);l(L),y(a.room_id),C.current=a.room_id}catch(L){console.error("Failed to load messages:",L)}},W=async()=>{if(!(!a||E.current===a.room_id))try{const L=await Xi.getRoomMembers(a.room_id);u(L),w(a.room_id),E.current=a.room_id}catch(L){console.error("Failed to load room members:",L)}},G=async()=>{if(!d.trim()||!a||!e)return;const L=d.trim(),V={message_id:`temp-${Date.now()}`,room_id:a.room_id,userid:e.id.toString(),content:L,created_at:new Date().toISOString(),metadata:null};l(B=>[...B,V]),f("");try{await Gc.create({room_id:a.room_id,userid:e.id.toString(),content:L,metadata:null})}catch(B){console.error("Failed to send message:",B),l(I=>I.filter(X=>X.message_id!==V.message_id)),f(L)}},U=L=>new Date(L).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{size:"xl"})}):i.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[i.jsxs("div",{className:`flex-col border rounded-lg ${N?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[i.jsx("div",{className:"p-4 border-b",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),i.jsx(Ka,{className:"flex-1 p-4",children:i.jsx("div",{className:"space-y-2",children:r.map(L=>i.jsx(st,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===L.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(L),children:i.jsx(ft,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Qx,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:L.room_name||`Room ${L.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:L.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},L.room_id))})})]}),a&&i.jsx("div",{className:"md:hidden mb-4",children:i.jsxs(ml,{open:_,onOpenChange:j,children:[i.jsx(x7,{asChild:!0,children:i.jsxs(le,{variant:"outline",className:"w-full justify-between",children:[i.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsx(Qx,{className:"h-4 w-4 ml-2"})]})}),i.jsx(ko,{side:"left",className:"w-80 p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),i.jsx(Ka,{className:"h-[60vh]",children:i.jsx("div",{className:"space-y-2",children:r.map(L=>i.jsx(st,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===L.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(L),j(!1)},children:i.jsx(ft,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Qx,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:L.room_name||`Room ${L.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:L.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},L.room_id))})})]})})]})}),i.jsx("div",{className:"flex-1 flex flex-col",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ya,{className:"h-4 w-4"}),i.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&i.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>S(!N),children:i.jsx(dae,{className:"h-4 w-4"})})]}),i.jsx(Ka,{className:"flex-1 mb-4",children:i.jsx("div",{className:"space-y-4 p-4",children:b===a.room_id&&o.map(L=>{var B,I,X,Q,O;let V;return L.userid===((B=e==null?void 0:e.id)==null?void 0:B.toString())?V={userid:e.id.toString(),user_name:((I=e.profile)==null?void 0:I.user_name)||e.email||t("chats.you"),avatar:(X=e.profile)==null?void 0:X.avatar,user_id:((Q=e.profile)==null?void 0:Q.user_id)||0,user_email:e.email}:V=c.find(M=>M.userid===L.userid),V||(V={userid:L.userid,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(ks,{className:"h-8 w-8",children:[i.jsx(jo,{src:V.avatar||""}),i.jsx(Cs,{children:((O=V.user_name)==null?void 0:O.charAt(0))||"?"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-sm",children:V.user_name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:U(L.created_at)})]}),i.jsx("p",{className:"text-sm",children:L.content})]})]},L.message_id)})})}),i.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[i.jsx(Ve,{value:d,onChange:L=>f(L.target.value),placeholder:t("chats.typeMessage"),onKeyPress:L=>L.key==="Enter"&&G(),className:"flex-1"}),i.jsx(le,{onClick:G,disabled:!d.trim(),children:i.jsx(Lv,{className:"h-4 w-4"})})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(Qx,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function g5e(){const{isRTL:e}=Ma();Jr();const[t,r]=x.useState(null),[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),{user:f,signOut:h}=pr();x.useEffect(()=>{(async()=>{if(f!=null&&f.id)try{d(!0);const g=await Uc.getByUserAuthId(f.id);a(g)}catch(g){console.error("Failed to fetch user projects:",g)}finally{d(!1)}})()},[f==null?void 0:f.id]),x.useEffect(()=>{(async()=>{if(t)try{const[g,v]=await Promise.all([Cd.getAll(),BC.getByTask(0)]),y=g.filter(b=>!0);o(y),c(v)}catch(g){console.error("Failed to fetch project data:",g)}})()},[t]);const m=t?n.find(p=>p.project_id===t):null;return i.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[i.jsx("header",{className:"border-b bg-card",children:i.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),i.jsxs(le,{variant:"ghost",size:"sm",children:[i.jsx(oae,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),i.jsxs("div",{className:"container mx-auto px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Oe((f==null?void 0:f.profile)||{},"user_name"),"! "]}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),m?i.jsxs("div",{children:[i.jsx(le,{variant:"ghost",className:"mb-4",onClick:()=>r(null),children:" Back to Projects"}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(st,{children:[i.jsx(Ut,{children:i.jsx(ur,{children:m.project_name})}),i.jsxs(ft,{children:[i.jsx("p",{className:"text-muted-foreground",children:m.project_description||"No description available"}),i.jsxs("div",{className:"mt-4",children:[i.jsx(pf,{value:m.progress||0,className:"h-3"}),i.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[m.progress||0,"% Complete"]})]})]})]}),i.jsxs(xl,{defaultValue:"tasks",children:[i.jsxs(Eo,{children:[i.jsx(Vr,{value:"tasks",children:"Tasks"}),i.jsx(Vr,{value:"images",children:"Gallery"}),i.jsx(Vr,{value:"comments",children:"Comments"})]}),i.jsx(xn,{value:"tasks",className:"space-y-3",children:s.filter(p=>p.stage_id!==null).map(p=>{var g;return i.jsx(st,{children:i.jsx(ft,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:p.task_name}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.description||"No description"})]}),i.jsxs(dt,{variant:p.task_status==="completed"?"default":"secondary",children:[p.task_status==="completed"?"":""," ",((g=p.task_status)==null?void 0:g.replace("_"," "))||"pending"]})]})})},p.task_id)})}),i.jsx(xn,{value:"images",children:i.jsx(st,{children:i.jsx(ft,{className:"pt-6",children:i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(p=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},p))})})})}),i.jsx(xn,{value:"comments",children:i.jsx(st,{children:i.jsxs(ft,{className:"pt-6 space-y-4",children:[l.map(p=>i.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[i.jsx("div",{className:"text-2xl",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),i.jsx("p",{className:"text-sm mt-1",children:p.message||"No message"}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:p.created_date?new Date(p.created_date).toLocaleString():"Unknown date"})]})]},p.comment_id)),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(Ve,{placeholder:"Add a comment..."}),i.jsx(le,{children:i.jsx(Ou,{className:"h-4 w-4"})})]})]})})})]})]}),i.jsx("div",{children:i.jsxs(st,{children:[i.jsx(Ut,{children:i.jsx(ur,{className:"text-lg",children:"Timeline"})}),i.jsxs(ft,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"})]}),m.end_date&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"End Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.end_date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Project Kickoff"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Design Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-blue-500",children:""}),i.jsx("span",{children:"Development Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):u?i.jsx(ia,{size:"xl"}):n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),i.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(p=>i.jsxs(st,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(p.project_id),children:[i.jsxs(Ut,{children:[i.jsx(ur,{className:"text-lg",children:p.project_name}),i.jsxs(dt,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",p.stage||"N/A"]})]}),i.jsx(ft,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progress"}),i.jsxs("span",{className:"font-semibold",children:[p.progress||0,"%"]})]}),i.jsx(pf,{value:p.progress||0,className:"h-2"})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",p.created_date?new Date(p.created_date).toLocaleDateString():"N/A"]}),i.jsx(le,{className:"w-full",variant:"outline",children:"View Details "})]})})]},p.project_id))})]})]})}const v5e=()=>{const e=Ms(),{t}=Bt(),{toast:r}=_l(),{companyName:n}=CB(),a=[{icon:i.jsx(zd,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:i.jsx(Ya,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:i.jsx(Gne,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:i.jsx(Ou,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:i.jsx(U0,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:i.jsx(M1,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsx("span",{className:"text-xl font-bold text-gray-900",children:n})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(J9,{}),i.jsx(le,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),i.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"text-center",children:[i.jsxs(dt,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[i.jsx(dB,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),i.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),i.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[i.jsxs(le,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),i.jsx(Vne,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),i.jsx(le,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),i.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:a.map((s,o)=>i.jsx(st,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:i.jsxs(ft,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:s.icon}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title})]}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description})]})},o))})]})}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[i.jsx(st,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:i.jsxs(ft,{className:"p-8 sm:p-12 text-center",children:[i.jsx(hB,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),i.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),i.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),i.jsxs(le,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[t("landing.cta.button"),i.jsx(Vd,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),i.jsx(st,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:i.jsxs(ft,{className:"p-8 sm:p-12",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("landing.partner.title")}),i.jsx("p",{className:"text-gray-600",children:t("landing.partner.subtitle")})]}),i.jsxs("form",{className:"space-y-4",onSubmit:async s=>{s.preventDefault();const o=s.target,l=new FormData(o);try{await Jy.createApplication({company_name:l.get("company_name"),full_name:l.get("full_name"),email:l.get("email"),phone:l.get("phone")}),r({title:t("landing.partner.success"),description:t("landing.partner.successMessage")}),o.reset()}catch{r({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[i.jsx("div",{className:"space-y-2",children:i.jsx(Ve,{name:"company_name",placeholder:t("landing.partner.companyName"),required:!0,className:"bg-white"})}),i.jsx("div",{className:"space-y-2",children:i.jsx(Ve,{name:"full_name",placeholder:t("landing.partner.fullName"),required:!0,className:"bg-white"})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Ve,{name:"email",type:"email",placeholder:t("landing.partner.email"),required:!0,className:"bg-white"}),i.jsx(Ve,{name:"phone",type:"tel",placeholder:t("landing.partner.phone"),required:!0,className:"bg-white"})]}),i.jsx(le,{type:"submit",className:"w-full text-lg h-12",children:t("landing.partner.submit")})]})]})})]})})}),i.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[n," CRM"]})]}),i.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},x5e=()=>{const[e,t]=x.useState("loading"),[r,n]=x.useState("Processing authentication..."),a=Ms(),{user:s}=pr();return x.useEffect(()=>((async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] No user from context, checking localStorage..."),t("error"),n("OAuth authentication is not available. Please use email/password sign in."),setTimeout(()=>a("/login"),3e3)}catch(l){console.error("[AuthCallback] Error handling callback:",l),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{}),[s,a]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&i.jsxs(i.Fragment,{children:[i.jsx(ia,{size:"xl",message:r}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),i.jsx("p",{className:"text-gray-600",children:r})]})]})})},Zm=({className:e,...t})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:xe("mx-auto flex w-full justify-center",e),...t});Zm.displayName="Pagination";const Jm=x.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,className:xe("flex flex-row items-center gap-1",e),...t}));Jm.displayName="PaginationContent";const ka=x.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,className:xe("",e),...t}));ka.displayName="PaginationItem";const $P=({className:e,isActive:t,size:r="icon",...n})=>i.jsx("a",{"aria-current":t?"page":void 0,className:xe(ym({variant:t?"outline":"ghost",size:r}),e),...n});$P.displayName="PaginationLink";const cu=({className:e,children:t,...r})=>i.jsx($P,{"aria-label":"Go to previous page",size:"default",className:xe("gap-1 pl-2.5",e),...r,children:i.jsx("span",{children:t||"Previous"})});cu.displayName="PaginationPrevious";const uu=({className:e,children:t,...r})=>i.jsx($P,{"aria-label":"Go to next page",size:"default",className:xe("gap-1 pr-2.5",e),...r,children:i.jsx("span",{children:t||"Next"})});uu.displayName="PaginationNext";/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var hG=1252,y5e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],BP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},UP=function(e){y5e.indexOf(e)!=-1&&(hG=BP[0]=e)};function b5e(){UP(1252)}var co=function(e){UP(e)};function mG(){co(1200),b5e()}function mL(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function w5e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function pG(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var S0=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?w5e(e.slice(2)):t==254&&r==255?pG(e.slice(2)):t==65279?e.slice(1):e},wy=function(t){return String.fromCharCode(t)},pL=function(t){return String.fromCharCode(t)},Kc,du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function gL(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=du.charAt(s)+du.charAt(o)+du.charAt(l)+du.charAt(c);return t}function ii(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=du.indexOf(e.charAt(u++)),o=du.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=du.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=du.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Kt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Of=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Fu(e){return Kt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function vL(e){return Kt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var io=function(t){return Kt?Of(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Df(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function zP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return zP(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Yc=Kt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Of(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function _5e(e){for(var t=[],r=0,n=e.length+250,a=Fu(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Fu(65535),n=65530)}return t.push(a.slice(0,r)),Yc(t)}var ns=/\u0000/g,N0=/[\u0001-\u0006]/g;function Hh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function uo(e,t){var r=""+e;return r.length>=t?r:Qr("0",t-r.length)+r}function VP(e,t){var r=""+e;return r.length>=t?r:Qr(" ",t-r.length)+r}function Jb(e,t){var r=""+e;return r.length>=t?r:r+Qr(" ",t-r.length)}function j5e(e,t){var r=""+Math.round(e);return r.length>=t?r:Qr("0",t-r.length)+r}function S5e(e,t){var r=""+e;return r.length>=t?r:Qr("0",t-r.length)+r}var xL=Math.pow(2,32);function Zf(e,t){if(e>xL||e<-xL)return j5e(e,t);var r=Math.round(e);return S5e(r,t)}function ew(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var yL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],g2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function N5e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ft={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},bL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},k5e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function tw(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Td(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=O5e(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var gG=new Date(1899,11,31,0,0,0),C5e=gG.getTime(),E5e=new Date(1900,2,1,0,0,0);function vG(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=E5e&&(r+=24*60*60*1e3),(r-(C5e+(e.getTimezoneOffset()-gG.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function WP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function T5e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function A5e(e){var t=e<0?12:11,r=WP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function P5e(e){var t=WP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function vv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=A5e(e):t===10?r=e.toFixed(10).substr(0,12):r=P5e(e),WP(T5e(r.toUpperCase()))}function vf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):vv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Mi(14,vG(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function O5e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function D5e(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return g2[r.m-1][1];case 5:return g2[r.m-1][0];default:return g2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return yL[r.q][0];default:return yL[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?uo(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=uo(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?uo(c,u):"";return d}function fu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var xG=/%/g;function R5e(e,t,r){var n=t.replace(xG,""),a=t.length-n.length;return tc(e,n,r*Math.pow(10,2*a))+Qr("%",a)}function M5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return tc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function yG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+yG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var bG=/# (\?+)( ?)\/( ?)(\d+)/;function F5e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?Qr(" ",e[1].length+1+e[4].length):VP(o,e[1].length)+e[2]+"/"+e[3]+uo(l,e[4].length))}function I5e(e,t,r){return r+(t===0?"":""+t)+Qr(" ",e[1].length+2+e[4].length)}var wG=/^#*0*\.([0#]+)/,_G=/\).*[0#]/,jG=/\(###\) ###\\?-####/;function Wa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function wL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function _L(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function L5e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function $5e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function xi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_G)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?xi("n",n,r):"("+xi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return M5e(e,t,r);if(t.indexOf("%")!==-1)return R5e(e,t,r);if(t.indexOf("E")!==-1)return yG(t,r);if(t.charCodeAt(0)===36)return"$"+xi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Zf(c,t.length);if(t.match(/^[#?]+$/))return a=Zf(r,0),a==="0"&&(a=""),a.length>t.length?a:Wa(t.substr(0,t.length-a.length))+a;if(s=t.match(bG))return F5e(s,c,u);if(t.match(/^#+0+$/))return u+Zf(c,t.length-t.indexOf("0"));if(s=t.match(wG))return a=wL(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Wa(s[1])).replace(/\.$/,"."+Wa(s[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+Qr("0",Wa(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+wL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+fu(Zf(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+xi(e,t,-r):fu(""+(Math.floor(r)+L5e(r,s[1].length)))+"."+uo(_L(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return xi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Hh(xi(e,t.replace(/[\\-]/g,""),r)),o=0,Hh(Hh(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(jG))return a=xi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=tw(c,Math.pow(10,o)-1,!1),a=""+u,d=tc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Jb(l[2],o),d.length<s[4].length&&(d=Wa(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=tw(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?VP(l[1],o)+s[2]+"/"+s[3]+Jb(l[2],o):Qr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Zf(r,0),t.length<=a.length?a:Wa(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Wa(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=_L(r,s[1].length),r<0?"-"+xi(e,t,-r):fu($5e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?uo(0,3-p.length):"")+p})+"."+uo(o,s[1].length);switch(t){case"###,##0.00":return xi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=fu(Zf(c,0));return m!=="0"?u+m:"";case"###,###.00":return xi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return xi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function B5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return tc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function U5e(e,t,r){var n=t.replace(xG,""),a=t.length-n.length;return tc(e,n,r*Math.pow(10,2*a))+Qr("%",a)}function SG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+SG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Bo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_G)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Bo("n",n,r):"("+Bo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return B5e(e,t,r);if(t.indexOf("%")!==-1)return U5e(e,t,r);if(t.indexOf("E")!==-1)return SG(t,r);if(t.charCodeAt(0)===36)return"$"+Bo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+uo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Wa(t.substr(0,t.length-a.length))+a;if(s=t.match(bG))return I5e(s,c,u);if(t.match(/^#+0+$/))return u+uo(c,t.length-t.indexOf("0"));if(s=t.match(wG))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Wa(s[1])).replace(/\.$/,"."+Wa(s[1])),a=a.replace(/\.(\d*)$/,function(p,g){return"."+g+Qr("0",Wa(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+fu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Bo(e,t,-r):fu(""+r)+"."+Qr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Bo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Hh(Bo(e,t.replace(/[\\-]/g,""),r)),o=0,Hh(Hh(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(jG))return a=Bo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=tw(c,Math.pow(10,o)-1,!1),a=""+u,d=tc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Jb(l[2],o),d.length<s[4].length&&(d=Wa(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=tw(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?VP(l[1],o)+s[2]+"/"+s[3]+Jb(l[2],o):Qr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Wa(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Wa(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Bo(e,t,-r):fu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?uo(0,3-p.length):"")+p})+"."+uo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=fu(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Bo(e,t.slice(0,t.lastIndexOf(".")),r)+Wa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function tc(e,t,r){return(r|0)===r?Bo(e,t,r):xi(e,t,r)}function z5e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var NG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Fp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ew(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(NG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function V5e(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!ew(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var m=e.charAt(++o),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Td(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Td(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=Td(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,h="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(NG)){if(u==null&&(u=Td(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Fp(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,y=0,b;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",v<1&&(v=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",_;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=D5e(a[o].t.charCodeAt(0),a[o].v,u,y),a[o].t="t";break;case"n":case"?":for(_=o+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[o].v+=a[_].v,a[_]={v:"",t:";"},++_;w+=a[o].v,o=_-1;break;case"G":a[o].t="t",a[o].v=vf(t,r);break}var j="",N,S;if(w.length>0){w.charCodeAt(0)==40?(N=t<0&&w.charCodeAt(0)===45?-t:t,S=tc("n",w,N)):(N=t<0&&n>1?-t:t,S=tc("n",w,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),_=S.length-1;var k=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){k=o;break}var C=a.length;if(k===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(_>=a[o].v.length-1?(_-=a[o].v.length,a[o].v=S.substr(_+1,a[o].v.length)):_<0?a[o].v="":(a[o].v=S.substr(0,_+1),_=-1),a[o].t="t",C=o);_>=0&&C<a.length&&(a[C].v=S.substr(0,_+1)+a[C].v)}else if(k!==a.length&&S.indexOf("E")===-1){for(_=S.indexOf(".")-1,o=k;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")-1:a[o].v.length-1,j=a[o].v.substr(d+1);d>=0;--d)_>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(j=S.charAt(_--)+j);a[o].v=j,a[o].t="t",C=o}for(_>=0&&C<a.length&&(a[C].v=S.substr(0,_+1)+a[C].v),_=S.indexOf(".")+1,o=k;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==k)){for(d=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")+1:0,j=a[o].v.substr(0,d);d<a[o].v.length;++d)_<S.length&&(j+=S.charAt(_++));a[o].v=j,a[o].t="t",C=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=tc(a[o].t,a[o].v,N),a[o].t="t");var E="";for(o=0;o!==a.length;++o)a[o]!=null&&(E+=a[o].v);return E}var jL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function SL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function W5e(e,t){var r=z5e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(jL),l=r[1].match(jL);return SL(t,o)?[n,r[0]]:SL(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function Mi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ft)[e],n==null&&(n=r.table&&r.table[bL[e]]||Ft[bL[e]]),n==null&&(n=k5e[e]||"General");break}if(ew(n,0))return vf(t,r);t instanceof Date&&(t=vG(t,r.date1904));var a=W5e(n,t);if(ew(a[1]))return vf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return V5e(a[1],t,r,a[0])}function Gd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ft[r]==null){t<0&&(t=r);continue}if(Ft[r]==e){t=r;break}}t<0&&(t=391)}return Ft[t]=e,t}function kG(){Ft=N5e()}var H5e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},CG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function q5e(e){var t=typeof e=="number"?Ft[e]:e;return t=t.replace(CG,"(\\d+)"),new RegExp("^"+t+"$")}function G5e(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(CG)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var K5e=function(){var e={};e.version="1.2.0";function t(){for(var S=0,k=new Array(256),C=0;C!=256;++C)S=C,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,k[C]=S;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(S){var k=0,C=0,E=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(E=0;E!=256;++E)P[E]=S[E];for(E=0;E!=256;++E)for(C=S[E],k=256+E;k<4096;k+=256)C=P[k]=C>>>8^S[C&255];var T=[];for(E=1;E!=16;++E)T[E-1]=typeof Int32Array<"u"?P.subarray(E*256,E*256+256):P.slice(E*256,E*256+256);return T}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],p=a[9],g=a[10],v=a[11],y=a[12],b=a[13],w=a[14];function _(S,k){for(var C=k^-1,E=0,P=S.length;E<P;)C=C>>>8^r[(C^S.charCodeAt(E++))&255];return~C}function j(S,k){for(var C=k^-1,E=S.length-15,P=0;P<E;)C=w[S[P++]^C&255]^b[S[P++]^C>>8&255]^y[S[P++]^C>>16&255]^v[S[P++]^C>>>24]^g[S[P++]]^p[S[P++]]^m[S[P++]]^h[S[P++]]^f[S[P++]]^d[S[P++]]^u[S[P++]]^c[S[P++]]^l[S[P++]]^o[S[P++]]^s[S[P++]]^r[S[P++]];for(E+=15;P<E;)C=C>>>8^r[(C^S[P++])&255];return~C}function N(S,k){for(var C=k^-1,E=0,P=S.length,T=0,W=0;E<P;)T=S.charCodeAt(E++),T<128?C=C>>>8^r[(C^T)&255]:T<2048?(C=C>>>8^r[(C^(192|T>>6&31))&255],C=C>>>8^r[(C^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,W=S.charCodeAt(E++)&1023,C=C>>>8^r[(C^(240|T>>8&7))&255],C=C>>>8^r[(C^(128|T>>2&63))&255],C=C>>>8^r[(C^(128|W>>6&15|(T&3)<<4))&255],C=C>>>8^r[(C^(128|W&63))&255]):(C=C>>>8^r[(C^(224|T>>12&15))&255],C=C>>>8^r[(C^(128|T>>6&63))&255],C=C>>>8^r[(C^(128|T&63))&255]);return~C}return e.table=r,e.bstr=_,e.buf=j,e.str=N,e}(),Qt=function(){var t={};t.version="1.2.1";function r(q,ae){for(var J=q.split("/"),re=ae.split("/"),R=0,K=0,he=Math.min(J.length,re.length);R<he;++R){if(K=J[R].length-re[R].length)return K;if(J[R]!=re[R])return J[R]<re[R]?-1:1}return J.length-re.length}function n(q){if(q.charAt(q.length-1)=="/")return q.slice(0,-1).indexOf("/")===-1?q:n(q.slice(0,-1));var ae=q.lastIndexOf("/");return ae===-1?q:q.slice(0,ae+1)}function a(q){if(q.charAt(q.length-1)=="/")return a(q.slice(0,-1));var ae=q.lastIndexOf("/");return ae===-1?q:q.slice(ae+1)}function s(q,ae){typeof ae=="string"&&(ae=new Date(ae));var J=ae.getHours();J=J<<6|ae.getMinutes(),J=J<<5|ae.getSeconds()>>>1,q.write_shift(2,J);var re=ae.getFullYear()-1980;re=re<<4|ae.getMonth()+1,re=re<<5|ae.getDate(),q.write_shift(2,re)}function o(q){var ae=q.read_shift(2)&65535,J=q.read_shift(2)&65535,re=new Date,R=J&31;J>>>=5;var K=J&15;J>>>=4,re.setMilliseconds(0),re.setFullYear(J+1980),re.setMonth(K-1),re.setDate(R);var he=ae&31;ae>>>=5;var Ce=ae&63;return ae>>>=6,re.setHours(ae),re.setMinutes(Ce),re.setSeconds(he<<1),re}function l(q){Zn(q,0);for(var ae={},J=0;q.l<=q.length-4;){var re=q.read_shift(2),R=q.read_shift(2),K=q.l+R,he={};switch(re){case 21589:J=q.read_shift(1),J&1&&(he.mtime=q.read_shift(4)),R>5&&(J&2&&(he.atime=q.read_shift(4)),J&4&&(he.ctime=q.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}q.l=K,ae[re]=he}return ae}var c;function u(){return c||(c={})}function d(q,ae){if(q[0]==80&&q[1]==75)return $s(q,ae);if((q[0]|32)==109&&(q[1]|32)==105)return fi(q,ae);if(q.length<512)throw new Error("CFB file size "+q.length+" < 512");var J=3,re=512,R=0,K=0,he=0,Ce=0,je=0,_e=[],Ee=q.slice(0,512);Zn(Ee,0);var Be=f(Ee);switch(J=Be[0],J){case 3:re=512;break;case 4:re=4096;break;case 0:if(Be[1]==0)return $s(q,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+J)}re!==512&&(Ee=q.slice(0,re),Zn(Ee,28));var Xe=q.slice(0,re);h(Ee,J);var te=Ee.read_shift(4,"i");if(J===3&&te!==0)throw new Error("# Directory Sectors: Expected 0 saw "+te);Ee.l+=4,he=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),Ce=Ee.read_shift(4,"i"),R=Ee.read_shift(4,"i"),je=Ee.read_shift(4,"i"),K=Ee.read_shift(4,"i");for(var fe=-1,ke=0;ke<109&&(fe=Ee.read_shift(4,"i"),!(fe<0));++ke)_e[ke]=fe;var pe=m(q,re);v(je,K,pe,re,_e);var tt=b(pe,he,_e,re);tt[he].name="!Directory",R>0&&Ce!==W&&(tt[Ce].name="!MiniFAT"),tt[_e[0]].name="!FAT",tt.fat_addrs=_e,tt.ssz=re;var wt={},Wt=[],rt=[],at=[];w(he,tt,pe,Wt,R,wt,rt,Ce),p(rt,at,Wt),Wt.shift();var en={FileIndex:rt,FullPaths:at};return ae&&ae.raw&&(en.raw={header:Xe,sectors:pe}),en}function f(q){if(q[q.l]==80&&q[q.l+1]==75)return[0,0];q.chk(G,"Header Signature: "),q.l+=16;var ae=q.read_shift(2,"u");return[q.read_shift(2,"u"),ae]}function h(q,ae){var J=9;switch(q.l+=2,J=q.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+J);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+J);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+J)}q.chk("0600","Mini Sector Shift: "),q.chk("000000000000","Reserved: ")}function m(q,ae){for(var J=Math.ceil(q.length/ae)-1,re=[],R=1;R<J;++R)re[R-1]=q.slice(R*ae,(R+1)*ae);return re[J-1]=q.slice(J*ae),re}function p(q,ae,J){for(var re=0,R=0,K=0,he=0,Ce=0,je=J.length,_e=[],Ee=[];re<je;++re)_e[re]=Ee[re]=re,ae[re]=J[re];for(;Ce<Ee.length;++Ce)re=Ee[Ce],R=q[re].L,K=q[re].R,he=q[re].C,_e[re]===re&&(R!==-1&&_e[R]!==R&&(_e[re]=_e[R]),K!==-1&&_e[K]!==K&&(_e[re]=_e[K])),he!==-1&&(_e[he]=re),R!==-1&&re!=_e[re]&&(_e[R]=_e[re],Ee.lastIndexOf(R)<Ce&&Ee.push(R)),K!==-1&&re!=_e[re]&&(_e[K]=_e[re],Ee.lastIndexOf(K)<Ce&&Ee.push(K));for(re=1;re<je;++re)_e[re]===re&&(K!==-1&&_e[K]!==K?_e[re]=_e[K]:R!==-1&&_e[R]!==R&&(_e[re]=_e[R]));for(re=1;re<je;++re)if(q[re].type!==0){if(Ce=re,Ce!=_e[Ce])do Ce=_e[Ce],ae[re]=ae[Ce]+"/"+ae[re];while(Ce!==0&&_e[Ce]!==-1&&Ce!=_e[Ce]);_e[re]=-1}for(ae[0]+="/",re=1;re<je;++re)q[re].type!==2&&(ae[re]+="/")}function g(q,ae,J){for(var re=q.start,R=q.size,K=[],he=re;J&&R>0&&he>=0;)K.push(ae.slice(he*T,he*T+T)),R-=T,he=vd(J,he*4);return K.length===0?Cn(0):Yc(K).slice(0,q.size)}function v(q,ae,J,re,R){var K=W;if(q===W){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(q!==-1){var he=J[q],Ce=(re>>>2)-1;if(!he)return;for(var je=0;je<Ce&&(K=vd(he,je*4))!==W;++je)R.push(K);v(vd(he,re-4),ae-1,J,re,R)}}function y(q,ae,J,re,R){var K=[],he=[];R||(R=[]);var Ce=re-1,je=0,_e=0;for(je=ae;je>=0;){R[je]=!0,K[K.length]=je,he.push(q[je]);var Ee=J[Math.floor(je*4/re)];if(_e=je*4&Ce,re<4+_e)throw new Error("FAT boundary crossed: "+je+" 4 "+re);if(!q[Ee])break;je=vd(q[Ee],_e)}return{nodes:K,data:RL([he])}}function b(q,ae,J,re){var R=q.length,K=[],he=[],Ce=[],je=[],_e=re-1,Ee=0,Be=0,Xe=0,te=0;for(Ee=0;Ee<R;++Ee)if(Ce=[],Xe=Ee+ae,Xe>=R&&(Xe-=R),!he[Xe]){je=[];var fe=[];for(Be=Xe;Be>=0;){fe[Be]=!0,he[Be]=!0,Ce[Ce.length]=Be,je.push(q[Be]);var ke=J[Math.floor(Be*4/re)];if(te=Be*4&_e,re<4+te)throw new Error("FAT boundary crossed: "+Be+" 4 "+re);if(!q[ke]||(Be=vd(q[ke],te),fe[Be]))break}K[Xe]={nodes:Ce,data:RL([je])}}return K}function w(q,ae,J,re,R,K,he,Ce){for(var je=0,_e=re.length?2:0,Ee=ae[q].data,Be=0,Xe=0,te;Be<Ee.length;Be+=128){var fe=Ee.slice(Be,Be+128);Zn(fe,64),Xe=fe.read_shift(2),te=YP(fe,0,Xe-_e),re.push(te);var ke={name:te,type:fe.read_shift(1),color:fe.read_shift(1),L:fe.read_shift(4,"i"),R:fe.read_shift(4,"i"),C:fe.read_shift(4,"i"),clsid:fe.read_shift(16),state:fe.read_shift(4,"i"),start:0,size:0},pe=fe.read_shift(2)+fe.read_shift(2)+fe.read_shift(2)+fe.read_shift(2);pe!==0&&(ke.ct=_(fe,fe.l-8));var tt=fe.read_shift(2)+fe.read_shift(2)+fe.read_shift(2)+fe.read_shift(2);tt!==0&&(ke.mt=_(fe,fe.l-8)),ke.start=fe.read_shift(4,"i"),ke.size=fe.read_shift(4,"i"),ke.size<0&&ke.start<0&&(ke.size=ke.type=0,ke.start=W,ke.name=""),ke.type===5?(je=ke.start,R>0&&je!==W&&(ae[je].name="!StreamData")):ke.size>=4096?(ke.storage="fat",ae[ke.start]===void 0&&(ae[ke.start]=y(J,ke.start,ae.fat_addrs,ae.ssz)),ae[ke.start].name=ke.name,ke.content=ae[ke.start].data.slice(0,ke.size)):(ke.storage="minifat",ke.size<0?ke.size=0:je!==W&&ke.start!==W&&ae[je]&&(ke.content=g(ke,ae[je].data,(ae[Ce]||{}).data))),ke.content&&Zn(ke.content,0),K[te]=ke,he.push(ke)}}function _(q,ae){return new Date((Ks(q,ae+4)/1e7*Math.pow(2,32)+Ks(q,ae)/1e7-11644473600)*1e3)}function j(q,ae){return u(),d(c.readFileSync(q),ae)}function N(q,ae){var J=ae&&ae.type;switch(J||Kt&&Buffer.isBuffer(q)&&(J="buffer"),J||"base64"){case"file":return j(q,ae);case"base64":return d(io(ii(q)),ae);case"binary":return d(io(q),ae)}return d(q,ae)}function S(q,ae){var J=ae||{},re=J.root||"Root Entry";if(q.FullPaths||(q.FullPaths=[]),q.FileIndex||(q.FileIndex=[]),q.FullPaths.length!==q.FileIndex.length)throw new Error("inconsistent CFB structure");q.FullPaths.length===0&&(q.FullPaths[0]=re+"/",q.FileIndex[0]={name:re,type:5}),J.CLSID&&(q.FileIndex[0].clsid=J.CLSID),k(q)}function k(q){var ae="Sh33tJ5";if(!Qt.find(q,"/"+ae)){var J=Cn(4);J[0]=55,J[1]=J[3]=50,J[2]=54,q.FileIndex.push({name:ae,type:2,content:J,size:4,L:69,R:69,C:69}),q.FullPaths.push(q.FullPaths[0]+ae),C(q)}}function C(q,ae){S(q);for(var J=!1,re=!1,R=q.FullPaths.length-1;R>=0;--R){var K=q.FileIndex[R];switch(K.type){case 0:re?J=!0:(q.FileIndex.pop(),q.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(K.R*K.L*K.C)&&(J=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(J=!0);break;default:J=!0;break}}if(!(!J&&!ae)){var he=new Date(1987,1,19),Ce=0,je=Object.create?Object.create(null):{},_e=[];for(R=0;R<q.FullPaths.length;++R)je[q.FullPaths[R]]=!0,q.FileIndex[R].type!==0&&_e.push([q.FullPaths[R],q.FileIndex[R]]);for(R=0;R<_e.length;++R){var Ee=n(_e[R][0]);re=je[Ee],re||(_e.push([Ee,{name:a(Ee).replace("/",""),type:1,clsid:L,ct:he,mt:he,content:null}]),je[Ee]=!0)}for(_e.sort(function(te,fe){return r(te[0],fe[0])}),q.FullPaths=[],q.FileIndex=[],R=0;R<_e.length;++R)q.FullPaths[R]=_e[R][0],q.FileIndex[R]=_e[R][1];for(R=0;R<_e.length;++R){var Be=q.FileIndex[R],Xe=q.FullPaths[R];if(Be.name=a(Xe).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||L,R===0)Be.C=_e.length>1?1:-1,Be.size=0,Be.type=5;else if(Xe.slice(-1)=="/"){for(Ce=R+1;Ce<_e.length&&n(q.FullPaths[Ce])!=Xe;++Ce);for(Be.C=Ce>=_e.length?-1:Ce,Ce=R+1;Ce<_e.length&&n(q.FullPaths[Ce])!=n(Xe);++Ce);Be.R=Ce>=_e.length?-1:Ce,Be.type=1}else n(q.FullPaths[R+1]||"")==n(Xe)&&(Be.R=R+1),Be.type=2}}}function E(q,ae){var J=ae||{};if(J.fileType=="mad")return Tl(q,J);switch(C(q),J.fileType){case"zip":return In(q,J)}var re=function(te){for(var fe=0,ke=0,pe=0;pe<te.FileIndex.length;++pe){var tt=te.FileIndex[pe];if(tt.content){var wt=tt.content.length;wt>0&&(wt<4096?fe+=wt+63>>6:ke+=wt+511>>9)}}for(var Wt=te.FullPaths.length+3>>2,rt=fe+7>>3,at=fe+127>>7,en=rt+ke+Wt+at,qr=en+127>>7,Bs=qr<=109?0:Math.ceil((qr-109)/127);en+qr+Bs+127>>7>qr;)Bs=++qr<=109?0:Math.ceil((qr-109)/127);var Ln=[1,Bs,qr,at,Wt,ke,fe,0];return te.FileIndex[0].size=fe<<6,Ln[7]=(te.FileIndex[0].start=Ln[0]+Ln[1]+Ln[2]+Ln[3]+Ln[4]+Ln[5])+(Ln[6]+7>>3),Ln}(q),R=Cn(re[7]<<9),K=0,he=0;{for(K=0;K<8;++K)R.write_shift(1,U[K]);for(K=0;K<8;++K)R.write_shift(2,0);for(R.write_shift(2,62),R.write_shift(2,3),R.write_shift(2,65534),R.write_shift(2,9),R.write_shift(2,6),K=0;K<3;++K)R.write_shift(2,0);for(R.write_shift(4,0),R.write_shift(4,re[2]),R.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),R.write_shift(4,0),R.write_shift(4,4096),R.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:W),R.write_shift(4,re[3]),R.write_shift(-4,re[1]?re[0]-1:W),R.write_shift(4,re[1]),K=0;K<109;++K)R.write_shift(-4,K<re[2]?re[1]+K:-1)}if(re[1])for(he=0;he<re[1];++he){for(;K<236+he*127;++K)R.write_shift(-4,K<re[2]?re[1]+K:-1);R.write_shift(-4,he===re[1]-1?W:he+1)}var Ce=function(te){for(he+=te;K<he-1;++K)R.write_shift(-4,K+1);te&&(++K,R.write_shift(-4,W))};for(he=K=0,he+=re[1];K<he;++K)R.write_shift(-4,V.DIFSECT);for(he+=re[2];K<he;++K)R.write_shift(-4,V.FATSECT);Ce(re[3]),Ce(re[4]);for(var je=0,_e=0,Ee=q.FileIndex[0];je<q.FileIndex.length;++je)Ee=q.FileIndex[je],Ee.content&&(_e=Ee.content.length,!(_e<4096)&&(Ee.start=he,Ce(_e+511>>9)));for(Ce(re[6]+7>>3);R.l&511;)R.write_shift(-4,V.ENDOFCHAIN);for(he=K=0,je=0;je<q.FileIndex.length;++je)Ee=q.FileIndex[je],Ee.content&&(_e=Ee.content.length,!(!_e||_e>=4096)&&(Ee.start=he,Ce(_e+63>>6)));for(;R.l&511;)R.write_shift(-4,V.ENDOFCHAIN);for(K=0;K<re[4]<<2;++K){var Be=q.FullPaths[K];if(!Be||Be.length===0){for(je=0;je<17;++je)R.write_shift(4,0);for(je=0;je<3;++je)R.write_shift(4,-1);for(je=0;je<12;++je)R.write_shift(4,0);continue}Ee=q.FileIndex[K],K===0&&(Ee.start=Ee.size?Ee.start-1:W);var Xe=K===0&&J.root||Ee.name;if(_e=2*(Xe.length+1),R.write_shift(64,Xe,"utf16le"),R.write_shift(2,_e),R.write_shift(1,Ee.type),R.write_shift(1,Ee.color),R.write_shift(-4,Ee.L),R.write_shift(-4,Ee.R),R.write_shift(-4,Ee.C),Ee.clsid)R.write_shift(16,Ee.clsid,"hex");else for(je=0;je<4;++je)R.write_shift(4,0);R.write_shift(4,Ee.state||0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,Ee.start),R.write_shift(4,Ee.size),R.write_shift(4,0)}for(K=1;K<q.FileIndex.length;++K)if(Ee=q.FileIndex[K],Ee.size>=4096)if(R.l=Ee.start+1<<9,Kt&&Buffer.isBuffer(Ee.content))Ee.content.copy(R,R.l,0,Ee.size),R.l+=Ee.size+511&-512;else{for(je=0;je<Ee.size;++je)R.write_shift(1,Ee.content[je]);for(;je&511;++je)R.write_shift(1,0)}for(K=1;K<q.FileIndex.length;++K)if(Ee=q.FileIndex[K],Ee.size>0&&Ee.size<4096)if(Kt&&Buffer.isBuffer(Ee.content))Ee.content.copy(R,R.l,0,Ee.size),R.l+=Ee.size+63&-64;else{for(je=0;je<Ee.size;++je)R.write_shift(1,Ee.content[je]);for(;je&63;++je)R.write_shift(1,0)}if(Kt)R.l=R.length;else for(;R.l<R.length;)R.write_shift(1,0);return R}function P(q,ae){var J=q.FullPaths.map(function(je){return je.toUpperCase()}),re=J.map(function(je){var _e=je.split("/");return _e[_e.length-(je.slice(-1)=="/"?2:1)]}),R=!1;ae.charCodeAt(0)===47?(R=!0,ae=J[0].slice(0,-1)+ae):R=ae.indexOf("/")!==-1;var K=ae.toUpperCase(),he=R===!0?J.indexOf(K):re.indexOf(K);if(he!==-1)return q.FileIndex[he];var Ce=!K.match(N0);for(K=K.replace(ns,""),Ce&&(K=K.replace(N0,"!")),he=0;he<J.length;++he)if((Ce?J[he].replace(N0,"!"):J[he]).replace(ns,"")==K||(Ce?re[he].replace(N0,"!"):re[he]).replace(ns,"")==K)return q.FileIndex[he];return null}var T=64,W=-2,G="d0cf11e0a1b11ae1",U=[208,207,17,224,161,177,26,225],L="00000000000000000000000000000000",V={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:L,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function B(q,ae,J){u();var re=E(q,J);c.writeFileSync(ae,re)}function I(q){for(var ae=new Array(q.length),J=0;J<q.length;++J)ae[J]=String.fromCharCode(q[J]);return ae.join("")}function X(q,ae){var J=E(q,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),c.writeFileSync(ae.filename,J),J;case"binary":return typeof J=="string"?J:I(J);case"base64":return gL(typeof J=="string"?J:I(J));case"buffer":if(Kt)return Buffer.isBuffer(J)?J:Of(J);case"array":return typeof J=="string"?io(J):J}return J}var Q;function O(q){try{var ae=q.InflateRaw,J=new ae;if(J._processChunk(new Uint8Array([3,0]),J._finishFlushFlag),J.bytesRead)Q=q;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function M(q,ae){if(!Q)return _n(q,ae);var J=Q.InflateRaw,re=new J,R=re._processChunk(q.slice(q.l),re._finishFlushFlag);return q.l+=re.bytesRead,R}function F(q){return Q?Q.deflateRawSync(q):Ae(q)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ne=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(q){var ae=(q<<1|q<<11)&139536|(q<<5|q<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var se=typeof Uint8Array<"u",Z=se?new Uint8Array(256):[],ce=0;ce<256;++ce)Z[ce]=ge(ce);function A(q,ae){var J=Z[q&255];return ae<=8?J>>>8-ae:(J=J<<8|Z[q>>8&255],ae<=16?J>>>16-ae:(J=J<<8|Z[q>>16&255],J>>>24-ae))}function $e(q,ae){var J=ae&7,re=ae>>>3;return(q[re]|(J<=6?0:q[re+1]<<8))>>>J&3}function Me(q,ae){var J=ae&7,re=ae>>>3;return(q[re]|(J<=5?0:q[re+1]<<8))>>>J&7}function Fe(q,ae){var J=ae&7,re=ae>>>3;return(q[re]|(J<=4?0:q[re+1]<<8))>>>J&15}function ze(q,ae){var J=ae&7,re=ae>>>3;return(q[re]|(J<=3?0:q[re+1]<<8))>>>J&31}function Re(q,ae){var J=ae&7,re=ae>>>3;return(q[re]|(J<=1?0:q[re+1]<<8))>>>J&127}function vt(q,ae,J){var re=ae&7,R=ae>>>3,K=(1<<J)-1,he=q[R]>>>re;return J<8-re||(he|=q[R+1]<<8-re,J<16-re)||(he|=q[R+2]<<16-re,J<24-re)||(he|=q[R+3]<<24-re),he&K}function mt(q,ae,J){var re=ae&7,R=ae>>>3;return re<=5?q[R]|=(J&7)<<re:(q[R]|=J<<re&255,q[R+1]=(J&7)>>8-re),ae+3}function oe(q,ae,J){var re=ae&7,R=ae>>>3;return J=(J&1)<<re,q[R]|=J,ae+1}function me(q,ae,J){var re=ae&7,R=ae>>>3;return J<<=re,q[R]|=J&255,J>>>=8,q[R+1]=J,ae+8}function z(q,ae,J){var re=ae&7,R=ae>>>3;return J<<=re,q[R]|=J&255,J>>>=8,q[R+1]=J&255,q[R+2]=J>>>8,ae+16}function de(q,ae){var J=q.length,re=2*J>ae?2*J:ae+5,R=0;if(J>=ae)return q;if(Kt){var K=vL(re);if(q.copy)q.copy(K);else for(;R<q.length;++R)K[R]=q[R];return K}else if(se){var he=new Uint8Array(re);if(he.set)he.set(q);else for(;R<J;++R)he[R]=q[R];return he}return q.length=re,q}function be(q){for(var ae=new Array(q),J=0;J<q;++J)ae[J]=0;return ae}function we(q,ae,J){var re=1,R=0,K=0,he=0,Ce=0,je=q.length,_e=se?new Uint16Array(32):be(32);for(K=0;K<32;++K)_e[K]=0;for(K=je;K<J;++K)q[K]=0;je=q.length;var Ee=se?new Uint16Array(je):be(je);for(K=0;K<je;++K)_e[R=q[K]]++,re<R&&(re=R),Ee[K]=0;for(_e[0]=0,K=1;K<=re;++K)_e[K+16]=Ce=Ce+_e[K-1]<<1;for(K=0;K<je;++K)Ce=q[K],Ce!=0&&(Ee[K]=_e[Ce+16]++);var Be=0;for(K=0;K<je;++K)if(Be=q[K],Be!=0)for(Ce=A(Ee[K],re)>>re-Be,he=(1<<re+4-Be)-1;he>=0;--he)ae[Ce|he<<Be]=Be&15|K<<4;return re}var Ue=se?new Uint16Array(512):be(512),Se=se?new Uint16Array(32):be(32);if(!se){for(var Ne=0;Ne<512;++Ne)Ue[Ne]=0;for(Ne=0;Ne<32;++Ne)Se[Ne]=0}(function(){for(var q=[],ae=0;ae<32;ae++)q.push(5);we(q,Se,32);var J=[];for(ae=0;ae<=143;ae++)J.push(8);for(;ae<=255;ae++)J.push(9);for(;ae<=279;ae++)J.push(7);for(;ae<=287;ae++)J.push(8);we(J,Ue,288)})();var ve=function(){for(var ae=se?new Uint8Array(32768):[],J=0,re=0;J<ne.length-1;++J)for(;re<ne[J+1];++re)ae[re]=J;for(;re<32768;++re)ae[re]=29;var R=se?new Uint8Array(259):[];for(J=0,re=0;J<ee.length-1;++J)for(;re<ee[J+1];++re)R[re]=J;function K(Ce,je){for(var _e=0;_e<Ce.length;){var Ee=Math.min(65535,Ce.length-_e),Be=_e+Ee==Ce.length;for(je.write_shift(1,+Be),je.write_shift(2,Ee),je.write_shift(2,~Ee&65535);Ee-- >0;)je[je.l++]=Ce[_e++]}return je.l}function he(Ce,je){for(var _e=0,Ee=0,Be=se?new Uint16Array(32768):[];Ee<Ce.length;){var Xe=Math.min(65535,Ce.length-Ee);if(Xe<10){for(_e=mt(je,_e,+(Ee+Xe==Ce.length)),_e&7&&(_e+=8-(_e&7)),je.l=_e/8|0,je.write_shift(2,Xe),je.write_shift(2,~Xe&65535);Xe-- >0;)je[je.l++]=Ce[Ee++];_e=je.l*8;continue}_e=mt(je,_e,+(Ee+Xe==Ce.length)+2);for(var te=0;Xe-- >0;){var fe=Ce[Ee];te=(te<<5^fe)&32767;var ke=-1,pe=0;if((ke=Be[te])&&(ke|=Ee&-32768,ke>Ee&&(ke-=32768),ke<Ee))for(;Ce[ke+pe]==Ce[Ee+pe]&&pe<250;)++pe;if(pe>2){fe=R[pe],fe<=22?_e=me(je,_e,Z[fe+1]>>1)-1:(me(je,_e,3),_e+=5,me(je,_e,Z[fe-23]>>5),_e+=3);var tt=fe<8?0:fe-4>>2;tt>0&&(z(je,_e,pe-ee[fe]),_e+=tt),fe=ae[Ee-ke],_e=me(je,_e,Z[fe]>>3),_e-=3;var wt=fe<4?0:fe-2>>1;wt>0&&(z(je,_e,Ee-ke-ne[fe]),_e+=wt);for(var Wt=0;Wt<pe;++Wt)Be[te]=Ee&32767,te=(te<<5^Ce[Ee])&32767,++Ee;Xe-=pe-1}else fe<=143?fe=fe+48:_e=oe(je,_e,1),_e=me(je,_e,Z[fe]),Be[te]=Ee&32767,++Ee}_e=me(je,_e,0)-1}return je.l=(_e+7)/8|0,je.l}return function(je,_e){return je.length<8?K(je,_e):he(je,_e)}}();function Ae(q){var ae=Cn(50+Math.floor(q.length*1.1)),J=ve(q,ae);return ae.slice(0,J)}var Pe=se?new Uint16Array(32768):be(32768),Ze=se?new Uint16Array(32768):be(32768),qe=se?new Uint16Array(128):be(128),it=1,Rt=1;function Yt(q,ae){var J=ze(q,ae)+257;ae+=5;var re=ze(q,ae)+1;ae+=5;var R=Fe(q,ae)+4;ae+=4;for(var K=0,he=se?new Uint8Array(19):be(19),Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],je=1,_e=se?new Uint8Array(8):be(8),Ee=se?new Uint8Array(8):be(8),Be=he.length,Xe=0;Xe<R;++Xe)he[H[Xe]]=K=Me(q,ae),je<K&&(je=K),_e[K]++,ae+=3;var te=0;for(_e[0]=0,Xe=1;Xe<=je;++Xe)Ee[Xe]=te=te+_e[Xe-1]<<1;for(Xe=0;Xe<Be;++Xe)(te=he[Xe])!=0&&(Ce[Xe]=Ee[te]++);var fe=0;for(Xe=0;Xe<Be;++Xe)if(fe=he[Xe],fe!=0){te=Z[Ce[Xe]]>>8-fe;for(var ke=(1<<7-fe)-1;ke>=0;--ke)qe[te|ke<<fe]=fe&7|Xe<<3}var pe=[];for(je=1;pe.length<J+re;)switch(te=qe[Re(q,ae)],ae+=te&7,te>>>=3){case 16:for(K=3+$e(q,ae),ae+=2,te=pe[pe.length-1];K-- >0;)pe.push(te);break;case 17:for(K=3+Me(q,ae),ae+=3;K-- >0;)pe.push(0);break;case 18:for(K=11+Re(q,ae),ae+=7;K-- >0;)pe.push(0);break;default:pe.push(te),je<te&&(je=te);break}var tt=pe.slice(0,J),wt=pe.slice(J);for(Xe=J;Xe<286;++Xe)tt[Xe]=0;for(Xe=re;Xe<30;++Xe)wt[Xe]=0;return it=we(tt,Pe,286),Rt=we(wt,Ze,30),ae}function gr(q,ae){if(q[0]==3&&!(q[1]&3))return[Fu(ae),2];for(var J=0,re=0,R=vL(ae||1<<18),K=0,he=R.length>>>0,Ce=0,je=0;!(re&1);){if(re=Me(q,J),J+=3,re>>>1)re>>1==1?(Ce=9,je=5):(J=Yt(q,J),Ce=it,je=Rt);else{J&7&&(J+=8-(J&7));var _e=q[J>>>3]|q[(J>>>3)+1]<<8;if(J+=32,_e>0)for(!ae&&he<K+_e&&(R=de(R,K+_e),he=R.length);_e-- >0;)R[K++]=q[J>>>3],J+=8;continue}for(;;){!ae&&he<K+32767&&(R=de(R,K+32767),he=R.length);var Ee=vt(q,J,Ce),Be=re>>>1==1?Ue[Ee]:Pe[Ee];if(J+=Be&15,Be>>>=4,!(Be>>>8&255))R[K++]=Be;else{if(Be==256)break;Be-=257;var Xe=Be<8?0:Be-4>>2;Xe>5&&(Xe=0);var te=K+ee[Be];Xe>0&&(te+=vt(q,J,Xe),J+=Xe),Ee=vt(q,J,je),Be=re>>>1==1?Se[Ee]:Ze[Ee],J+=Be&15,Be>>>=4;var fe=Be<4?0:Be-2>>1,ke=ne[Be];for(fe>0&&(ke+=vt(q,J,fe),J+=fe),!ae&&he<te&&(R=de(R,te+100),he=R.length);K<te;)R[K]=R[K-ke],++K}}}return ae?[R,J+7>>>3]:[R.slice(0,K),J+7>>>3]}function _n(q,ae){var J=q.slice(q.l||0),re=gr(J,ae);return q.l+=re[1],re[0]}function Ar(q,ae){if(q)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function $s(q,ae){var J=q;Zn(J,0);var re=[],R=[],K={FileIndex:re,FullPaths:R};S(K,{root:ae.root});for(var he=J.length-4;(J[he]!=80||J[he+1]!=75||J[he+2]!=5||J[he+3]!=6)&&he>=0;)--he;J.l=he+4,J.l+=4;var Ce=J.read_shift(2);J.l+=6;var je=J.read_shift(4);for(J.l=je,he=0;he<Ce;++he){J.l+=20;var _e=J.read_shift(4),Ee=J.read_shift(4),Be=J.read_shift(2),Xe=J.read_shift(2),te=J.read_shift(2);J.l+=8;var fe=J.read_shift(4),ke=l(J.slice(J.l+Be,J.l+Be+Xe));J.l+=Be+Xe+te;var pe=J.l;J.l=fe+4,oa(J,_e,Ee,K,ke),J.l=pe}return K}function oa(q,ae,J,re,R){q.l+=2;var K=q.read_shift(2),he=q.read_shift(2),Ce=o(q);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var je=q.read_shift(4),_e=q.read_shift(4),Ee=q.read_shift(4),Be=q.read_shift(2),Xe=q.read_shift(2),te="",fe=0;fe<Be;++fe)te+=String.fromCharCode(q[q.l++]);if(Xe){var ke=l(q.slice(q.l,q.l+Xe));(ke[21589]||{}).mt&&(Ce=ke[21589].mt),((R||{})[21589]||{}).mt&&(Ce=R[21589].mt)}q.l+=Xe;var pe=q.slice(q.l,q.l+_e);switch(he){case 8:pe=M(q,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var tt=!1;K&8&&(je=q.read_shift(4),je==134695760&&(je=q.read_shift(4),tt=!0),_e=q.read_shift(4),Ee=q.read_shift(4)),_e!=ae&&Ar(tt,"Bad compressed size: "+ae+" != "+_e),Ee!=J&&Ar(tt,"Bad uncompressed size: "+J+" != "+Ee),Do(re,te,pe,{unsafe:!0,mt:Ce})}function In(q,ae){var J=ae||{},re=[],R=[],K=Cn(1),he=J.compression?8:0,Ce=0,je=0,_e=0,Ee=0,Be=0,Xe=q.FullPaths[0],te=Xe,fe=q.FileIndex[0],ke=[],pe=0;for(je=1;je<q.FullPaths.length;++je)if(te=q.FullPaths[je].slice(Xe.length),fe=q.FileIndex[je],!(!fe.size||!fe.content||te=="Sh33tJ5")){var tt=Ee,wt=Cn(te.length);for(_e=0;_e<te.length;++_e)wt.write_shift(1,te.charCodeAt(_e)&127);wt=wt.slice(0,wt.l),ke[Be]=K5e.buf(fe.content,0);var Wt=fe.content;he==8&&(Wt=F(Wt)),K=Cn(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,Ce),K.write_shift(2,he),fe.mt?s(K,fe.mt):K.write_shift(4,0),K.write_shift(-4,ke[Be]),K.write_shift(4,Wt.length),K.write_shift(4,fe.content.length),K.write_shift(2,wt.length),K.write_shift(2,0),Ee+=K.length,re.push(K),Ee+=wt.length,re.push(wt),Ee+=Wt.length,re.push(Wt),K=Cn(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,Ce),K.write_shift(2,he),K.write_shift(4,0),K.write_shift(-4,ke[Be]),K.write_shift(4,Wt.length),K.write_shift(4,fe.content.length),K.write_shift(2,wt.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,tt),pe+=K.l,R.push(K),pe+=wt.length,R.push(wt),++Be}return K=Cn(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,Be),K.write_shift(2,Be),K.write_shift(4,pe),K.write_shift(4,Ee),K.write_shift(2,0),Yc([Yc(re),Yc(R),K])}var jn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Oo(q,ae){if(q.ctype)return q.ctype;var J=q.name||"",re=J.match(/\.([^\.]+)$/);return re&&jn[re[1]]||ae&&(re=(J=ae).match(/[\.\\]([^\.\\])+$/),re&&jn[re[1]])?jn[re[1]]:"application/octet-stream"}function ui(q){for(var ae=gL(q),J=[],re=0;re<ae.length;re+=76)J.push(ae.slice(re,re+76));return J.join(`\r
`)+`\r
`}function cs(q){var ae=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(_e){var Ee=_e.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var J=[],re=ae.split(`\r
`),R=0;R<re.length;++R){var K=re[R];if(K.length==0){J.push("");continue}for(var he=0;he<K.length;){var Ce=76,je=K.slice(he,he+Ce);je.charAt(Ce-1)=="="?Ce--:je.charAt(Ce-2)=="="?Ce-=2:je.charAt(Ce-3)=="="&&(Ce-=3),je=K.slice(he,he+Ce),he+=Ce,he<K.length&&(je+="="),J.push(je)}}return J.join(`\r
`)}function Gn(q){for(var ae=[],J=0;J<q.length;++J){for(var re=q[J];J<=q.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+q[++J];ae.push(re)}for(var R=0;R<ae.length;++R)ae[R]=ae[R].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return io(ae.join(`\r
`))}function di(q,ae,J){for(var re="",R="",K="",he,Ce=0;Ce<10;++Ce){var je=ae[Ce];if(!je||je.match(/^\s*$/))break;var _e=je.match(/^(.*?):\s*([^\s].*)$/);if(_e)switch(_e[1].toLowerCase()){case"content-location":re=_e[2].trim();break;case"content-type":K=_e[2].trim();break;case"content-transfer-encoding":R=_e[2].trim();break}}switch(++Ce,R.toLowerCase()){case"base64":he=io(ii(ae.slice(Ce).join("")));break;case"quoted-printable":he=Gn(ae.slice(Ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+R)}var Ee=Do(q,re.slice(J.length),he,{unsafe:!0});K&&(Ee.ctype=K)}function fi(q,ae){if(I(q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var J=ae&&ae.root||"",re=(Kt&&Buffer.isBuffer(q)?q.toString("binary"):I(q)).split(`\r
`),R=0,K="";for(R=0;R<re.length;++R)if(K=re[R],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),J||(J=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,J.length)!=J))for(;J.length>0&&(J=J.slice(0,J.length-1),J=J.slice(0,J.lastIndexOf("/")+1),K.slice(0,J.length)!=J););var he=(re[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var Ce="--"+(he[1]||""),je=[],_e=[],Ee={FileIndex:je,FullPaths:_e};S(Ee);var Be,Xe=0;for(R=0;R<re.length;++R){var te=re[R];te!==Ce&&te!==Ce+"--"||(Xe++&&di(Ee,re.slice(Be,R),J),Be=R)}return Ee}function Tl(q,ae){var J=ae||{},re=J.boundary||"SheetJS";re="------="+re;for(var R=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],K=q.FullPaths[0],he=K,Ce=q.FileIndex[0],je=1;je<q.FullPaths.length;++je)if(he=q.FullPaths[je].slice(K.length),Ce=q.FileIndex[je],!(!Ce.size||!Ce.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pe){return"_x"+pe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pe){return"_u"+pe.charCodeAt(0).toString(16)+"_"});for(var _e=Ce.content,Ee=Kt&&Buffer.isBuffer(_e)?_e.toString("binary"):I(_e),Be=0,Xe=Math.min(1024,Ee.length),te=0,fe=0;fe<=Xe;++fe)(te=Ee.charCodeAt(fe))>=32&&te<128&&++Be;var ke=Be>=Xe*4/5;R.push(re),R.push("Content-Location: "+(J.root||"file:///C:/SheetJS/")+he),R.push("Content-Transfer-Encoding: "+(ke?"quoted-printable":"base64")),R.push("Content-Type: "+Oo(Ce,he)),R.push(""),R.push(ke?cs(Ee):ui(Ee))}return R.push(re+`--\r
`),R.join(`\r
`)}function Ju(q){var ae={};return S(ae,q),ae}function Do(q,ae,J,re){var R=re&&re.unsafe;R||S(q);var K=!R&&Qt.find(q,ae);if(!K){var he=q.FullPaths[0];ae.slice(0,he.length)==he?he=ae:(he.slice(-1)!="/"&&(he+="/"),he=(he+ae).replace("//","/")),K={name:a(ae),type:2},q.FileIndex.push(K),q.FullPaths.push(he),R||Qt.utils.cfb_gc(q)}return K.content=J,K.size=J?J.length:0,re&&(re.CLSID&&(K.clsid=re.CLSID),re.mt&&(K.mt=re.mt),re.ct&&(K.ct=re.ct)),K}function lr(q,ae){S(q);var J=Qt.find(q,ae);if(J){for(var re=0;re<q.FileIndex.length;++re)if(q.FileIndex[re]==J)return q.FileIndex.splice(re,1),q.FullPaths.splice(re,1),!0}return!1}function ed(q,ae,J){S(q);var re=Qt.find(q,ae);if(re){for(var R=0;R<q.FileIndex.length;++R)if(q.FileIndex[R]==re)return q.FileIndex[R].name=a(J),q.FullPaths[R]=J,!0}return!1}function td(q){C(q,!0)}return t.find=P,t.read=N,t.parse=d,t.write=X,t.writeFile=B,t.utils={cfb_new:Ju,cfb_add:Do,cfb_del:lr,cfb_mov:ed,cfb_gc:td,ReadShift:X0,CheckField:YG,prep_blob:Zn,bconcat:Yc,use_zlib:O,_deflateRaw:Ae,_inflateRaw:_n,consts:V},t}();function Y5e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function yl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function HP(e){for(var t=[],r=yl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var rw=new Date(1899,11,30,0,0,0);function as(e,t){var r=e.getTime(),n=rw.getTime()+(e.getTimezoneOffset()-rw.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var EG=new Date,X5e=rw.getTime()+(EG.getTimezoneOffset()-rw.getTimezoneOffset())*6e4,NL=EG.getTimezoneOffset();function dj(e){var t=new Date;return t.setTime(e*24*60*60*1e3+X5e),t.getTimezoneOffset()!==NL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-NL)*6e4),t}function Q5e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var kL=new Date("2017-02-19T19:06:09.000Z"),TG=isNaN(kL.getFullYear())?new Date("2/19/17"):kL,Z5e=TG.getFullYear()==2017;function Hn(e,t){var r=new Date(e);if(Z5e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(TG.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function xf(e,t){if(Kt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return C0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return C0(pG(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return C0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return C0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function na(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=na(e[r]));return t}function Qr(e,t){for(var r="";r.length<t;)r+=e;return r}function vo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var J5e=["january","february","march","april","may","june","july","august","september","october","november","december"];function ep(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&J5e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var e$e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],l=1;l<s.length;++l)o.push(a),o.push(s[l]);return o}}();function AG(e){return e?e.content&&e.type?xf(e.content,!0):e.data?S0(e.data):e.asNodeBuffer&&Kt?S0(e.asNodeBuffer().toString("binary")):e.asBinary?S0(e.asBinary()):e._data&&e._data.getContent?S0(xf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function PG(e){if(!e)return null;if(e.data)return mL(e.data);if(e.asNodeBuffer&&Kt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?mL(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function t$e(e){return e&&e.name.slice(-4)===".bin"?PG(e):AG(e)}function yi(e,t){for(var r=e.FullPaths||yl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function qP(e,t){var r=yi(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function mn(e,t,r){if(!r)return t$e(qP(e,t));if(!t)return null;try{return mn(e,t)}catch{return null}}function Xs(e,t,r){if(!r)return AG(qP(e,t));if(!t)return null;try{return Xs(e,t)}catch{return null}}function r$e(e,t,r){return PG(qP(e,t))}function CL(e){for(var t=e.FullPaths||yl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function n$e(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Kt?n=Of(r):n=_5e(r),Qt.utils.cfb_add(e,t,n)}Qt.utils.cfb_add(e,t,r)}else e.file(t,r)}function OG(e,t){switch(t.type){case"base64":return Qt.read(e,{type:"base64"});case"binary":return Qt.read(e,{type:"binary"});case"buffer":case"array":return Qt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function k0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var DG=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,a$e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,EL=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,s$e=/<[^>]*>/g,Ia=DG.match(EL)?EL:s$e,i$e=/<\w*:/,o$e=/<(\/?)\w+:/;function kt(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(a$e),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function Cl(e){return e.replace(o$e,"<$1")}var RG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},l$e=HP(RG),nr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return RG[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,o)+r(a.slice(o+3))}}(),c$e=/[&<>'"]/g,u$e=/[\u0000-\u001f]/g;function GP(e){var t=e+"";return t.replace(c$e,function(r){return l$e[r]}).replace(/\n/g,"<br/>").replace(u$e,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var TL=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Ir(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function v2(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function AL(e){var t=Fu(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function PL(e){return Of(e,"binary").toString("utf8")}var _y="foo bar baz",Er=Kt&&(PL(_y)==v2(_y)&&PL||AL(_y)==v2(_y)&&AL)||v2,C0=Kt?function(e){return Of(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},xv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),MG=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),d$e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),f$e=/<\/?(?:vt:)?variant>/g,h$e=/<(?:vt:)([^>]*)>([\s\S]*)</;function OL(e,t){var r=kt(e),n=e.match(d$e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var o=s.replace(f$e,"").match(h$e);o&&a.push({v:Er(o[2]),t:o[1]})}),a}var m$e=/(^\s|\s$|\n)/;function p$e(e){return yl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function g$e(e,t,r){return"<"+e+(r!=null?p$e(r):"")+(t!=null?(t.match(m$e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function KP(e){if(Kt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Er(Df(zP(e)));throw new Error("Bad input format: expected Buffer or string")}var yv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,v$e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},x$e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function y$e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function b$e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var DL=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},RL=Kt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Of(t)})):DL(e)}:DL,ML=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Yl(e,a)));return n.join("").replace(ns,"")},YP=Kt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ns,""):ML(e,t,r)}:ML,FL=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},FG=Kt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):FL(e,t,r)}:FL,IL=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(nh(e,a)));return n.join("")},xx=Kt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):IL(t,r,n)}:IL,IG=function(e,t){var r=Ks(e,t);return r>0?xx(e,t+4,t+4+r-1):""},LG=IG,$G=function(e,t){var r=Ks(e,t);return r>0?xx(e,t+4,t+4+r-1):""},BG=$G,UG=function(e,t){var r=2*Ks(e,t);return r>0?xx(e,t+4,t+4+r-1):""},zG=UG,VG=function(t,r){var n=Ks(t,r);return n>0?YP(t,r+4,r+4+n):""},WG=VG,HG=function(e,t){var r=Ks(e,t);return r>0?xx(e,t+4,t+4+r):""},qG=HG,GG=function(e,t){return y$e(e,t)},nw=GG,KG=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Kt&&(LG=function(t,r){if(!Buffer.isBuffer(t))return IG(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},BG=function(t,r){if(!Buffer.isBuffer(t))return $G(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},zG=function(t,r){if(!Buffer.isBuffer(t))return UG(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},WG=function(t,r){if(!Buffer.isBuffer(t))return VG(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},qG=function(t,r){if(!Buffer.isBuffer(t))return HG(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},nw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):GG(t,r)},KG=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var nh=function(e,t){return e[t]},Yl=function(e,t){return e[t+1]*256+e[t]},w$e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ks=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},vd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},_$e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function X0(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Kt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Yl(this,u)),u+=2;e*=2;break;case"utf8":r=xx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=YP(this,this.l,this.l+e);break;case"wstr":return X0.call(this,e,"dbcs");case"lpstr-ansi":r=LG(this,this.l),e=4+Ks(this,this.l);break;case"lpstr-cp":r=BG(this,this.l),e=4+Ks(this,this.l);break;case"lpwstr":r=zG(this,this.l),e=4+2*Ks(this,this.l);break;case"lpp4":e=4+Ks(this,this.l),r=WG(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ks(this,this.l),r=qG(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=nh(this,this.l+e++))!==0;)s.push(wy(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=Yl(this,this.l+e))!==0;)s.push(wy(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=nh(this,u),this.l=u+1,l=X0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(wy(Yl(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=nh(this,u),this.l=u+1,l=X0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(wy(nh(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=nh(this,this.l),this.l++,n;case 2:return n=(t==="i"?w$e:Yl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?vd:_$e)(this,this.l),this.l+=4,n):(a=Ks(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=nw(this,this.l):a=nw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=FG(this,this.l,e);break}}return this.l+=e,r}var j$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},S$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},N$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function k$e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)N$e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,j$e(this,t,this.l);break;case 8:if(n=8,r==="f"){b$e(this,t,this.l);break}case 16:break;case-4:n=4,S$e(this,t,this.l);break}return this.l+=n,this}function YG(e,t){var r=FG(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Zn(e,t){e.l=t,e.read_shift=X0,e.chk=YG,e.write_shift=k$e}function Ra(e,t){e.l+=t}function Cn(e){var t=Fu(e);return Zn(t,0),t}function Nc(e,t,r){if(e){var n,a,s;Zn(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=cw[l]||cw[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function qC(){var e=[],t=Kt?256:2048,r=function(u){var d=Cn(u);return Zn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Yc(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function Q0(e,t,r){var n=na(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function LL(e,t,r){var n=na(e);return n.s=Q0(n.s,t.s,r),n.e=Q0(n.e,t.s,r),n}function Z0(e,t){if(e.cRel&&e.c<0)for(e=na(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=na(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=At(e);return!e.cRel&&e.cRel!=null&&(r=T$e(r)),!e.rRel&&e.rRel!=null&&(r=C$e(r)),r}function x2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Rn(e.s.c)+":"+(e.e.cRel?"":"$")+Rn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+aa(e.s.r)+":"+(e.e.rRel?"":"$")+aa(e.e.r):Z0(e.s,t.biff)+":"+Z0(e.e,t.biff)}function XP(e){return parseInt(E$e(e),10)-1}function aa(e){return""+(e+1)}function C$e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function E$e(e){return e.replace(/\$(\d+)$/,"$1")}function QP(e){for(var t=A$e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Rn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function T$e(e){return e.replace(/^([A-Z])/,"$$$1")}function A$e(e){return e.replace(/^\$([A-Z])/,"$1")}function P$e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function es(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function At(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ip(e){var t=e.indexOf(":");return t==-1?{s:es(e),e:es(e)}:{s:es(e.slice(0,t)),e:es(e.slice(t+1))}}function Jt(e,t){return typeof t>"u"||typeof t=="number"?Jt(e.s,e.e):(typeof e!="string"&&(e=At(e)),typeof t!="string"&&(t=At(t)),e==t?e:e+":"+t)}function Zr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function $L(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Mi(e.z,r?as(t):t)}catch{}try{return e.w=Mi((e.XF||{}).numFmtId||(r?14:0),r?as(t):t)}catch{return""+t}}function vc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Ff[e.v]||e.v:t==null?$L(e,e.v):$L(e,t))}function Zu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function XG(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?es(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Zr(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=o+f,g=l+h;if(u.s.r>p&&(u.s.r=p),u.s.c>g&&(u.s.c=g),u.e.r<p&&(u.e.r=p),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Ft[14],n.cellDates?(m.t="d",m.w=Mi(m.z,as(m.v))):(m.t="n",m.v=as(m.v),m.w=Mi(m.z,m.v))):m.t="s";if(a)s[p]||(s[p]=[]),s[p][g]&&s[p][g].z&&(m.z=s[p][g].z),s[p][g]=m;else{var v=At({c:g,r:p});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=Jt(u)),s}function Lp(e,t){return XG(null,e,t)}function O$e(e){return e.read_shift(4,"i")}function Aa(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function D$e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ZP(e,t){var r=e.l,n=e.read_shift(1),a=Aa(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(D$e(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var R$e=ZP;function $i(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Rf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var M$e=Aa;function JP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var F$e=Aa,GC=JP;function eO(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?nw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):vd(t,0)>>2;return r?a/100:a}function QG(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Mf=QG;function Ea(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function I$e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Kd[a];u&&(t.rgb=wv(u));break;case 2:t.rgb=wv([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function L$e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function ZG(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function $$e(e){return ZG(e,1)}function B$e(e){return ZG(e,2)}var tO=2,fs=3,jy=11,BL=12,aw=19,Sy=64,U$e=65,z$e=71,V$e=4108,W$e=4126,Bn=80,JG=81,H$e=[Bn,JG],q$e={1:{n:"CodePage",t:tO},2:{n:"Category",t:Bn},3:{n:"PresentationFormat",t:Bn},4:{n:"ByteCount",t:fs},5:{n:"LineCount",t:fs},6:{n:"ParagraphCount",t:fs},7:{n:"SlideCount",t:fs},8:{n:"NoteCount",t:fs},9:{n:"HiddenCount",t:fs},10:{n:"MultimediaClipCount",t:fs},11:{n:"ScaleCrop",t:jy},12:{n:"HeadingPairs",t:V$e},13:{n:"TitlesOfParts",t:W$e},14:{n:"Manager",t:Bn},15:{n:"Company",t:Bn},16:{n:"LinksUpToDate",t:jy},17:{n:"CharacterCount",t:fs},19:{n:"SharedDoc",t:jy},22:{n:"HyperlinksChanged",t:jy},23:{n:"AppVersion",t:fs,p:"version"},24:{n:"DigSig",t:U$e},26:{n:"ContentType",t:Bn},27:{n:"ContentStatus",t:Bn},28:{n:"Language",t:Bn},29:{n:"Version",t:Bn},255:{},2147483648:{n:"Locale",t:aw},2147483651:{n:"Behavior",t:aw},1919054434:{}},G$e={1:{n:"CodePage",t:tO},2:{n:"Title",t:Bn},3:{n:"Subject",t:Bn},4:{n:"Author",t:Bn},5:{n:"Keywords",t:Bn},6:{n:"Comments",t:Bn},7:{n:"Template",t:Bn},8:{n:"LastAuthor",t:Bn},9:{n:"RevNumber",t:Bn},10:{n:"EditTime",t:Sy},11:{n:"LastPrinted",t:Sy},12:{n:"CreatedDate",t:Sy},13:{n:"ModifiedDate",t:Sy},14:{n:"PageCount",t:fs},15:{n:"WordCount",t:fs},16:{n:"CharCount",t:fs},17:{n:"Thumbnail",t:z$e},18:{n:"Application",t:Bn},19:{n:"DocSecurity",t:fs},255:{},2147483648:{n:"Locale",t:aw},2147483651:{n:"Behavior",t:aw},1919054434:{}},UL={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},K$e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Y$e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var X$e=Y$e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Kd=na(X$e),Ff={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},eK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},zL={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Q$e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Z$e(e){var t=Q$e();if(!e||!e.match)return t;var r={};if((e.match(Ia)||[]).forEach(function(n){var a=kt(n);switch(a[0].replace(i$e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[zL[a.ContentType]]!==void 0&&t[zL[a.ContentType]].push(a.PartName);break}}),t.xmlns!==v$e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Eh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function KC(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function J0(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ia)||[]).forEach(function(a){var s=kt(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:k0(s.Target,t);r[l]=o,n[s.Id]=o}}),r["!id"]=n,r}var J$e="application/vnd.oasis.opendocument.spreadsheet";function e8e(e,t){for(var r=KP(e),n,a;n=yv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=kt(n[0],!1),a.path=="/"&&a.type!==J$e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var eg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],t8e=function(){for(var e=new Array(eg.length),t=0;t<eg.length;++t){var r=eg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function tK(e){var t={};e=Er(e);for(var r=0;r<eg.length;++r){var n=eg[r],a=e.match(t8e[r]);a!=null&&a.length>0&&(t[n[1]]=nr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Hn(t[n[1]]))}return t}var r8e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function rK(e,t,r,n){var a=[];if(typeof e=="string")a=OL(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?OL(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function n8e(e,t,r){var n={};return t||(t={}),e=Er(e),r8e.forEach(function(a){var s=(e.match(xv(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=nr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&rK(n.HeadingPairs,n.TitlesOfParts,t,r),t}var a8e=/<[^>]+>[^<]*/g;function s8e(e,t){var r={},n="",a=e.match(a8e);if(a)for(var s=0;s!=a.length;++s){var o=a[s],l=kt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=nr(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=nr(d);break;case"bool":r[n]=Ir(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Hn(d);break;case"cy":case"error":r[n]=nr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var i8e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},y2;function o8e(e,t,r){y2||(y2=HP(i8e)),t=y2[t]||t,e[t]=r}function rO(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function nK(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function aK(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function sK(e,t,r){return t===31?aK(e):nK(e,t,r)}function YC(e,t,r){return sK(e,t,r===!1?0:4)}function l8e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return sK(e,t,0)}function c8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ns,""),e.l-a&2&&(e.l+=2)}return r}function u8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ns,"");return r}function d8e(e){var t=e.l,r=sw(e,JG);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=sw(e,fs);return[r,n]}function f8e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(d8e(e));return r}function VL(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),o=e.read_shift(4);n[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(ns,"").replace(N0,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function iK(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function h8e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function sw(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==BL&&n!==t&&H$e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===BL?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return nK(e,n,4).replace(ns,"");case 31:return aK(e);case 64:return rO(e);case 65:return iK(e);case 71:return h8e(e);case 80:return YC(e,n,!s.raw).replace(ns,"");case 81:return l8e(e,n).replace(ns,"");case 4108:return f8e(e);case 4126:case 4127:return n==4127?c8e(e):u8e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function WL(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+r]}s.sort(function(b,w){return b[1]-w[1]});var h={};for(o=0;o!=a;++o){if(e.l!==s[o][1]){var m=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(m=!1,e.l=s[o][1]),m)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var p=t[s[o][0]];if(h[p.n]=sw(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:co(l=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(s[o][0]===1){if(l=h.CodePage=sw(e,tO),co(l),c!==-1){var g=e.l;e.l=s[c][1],u=VL(e,l),e.l=g}}else if(s[o][0]===0){if(l===0){c=o,e.l=s[o+1][1];continue}u=VL(e,l)}else{var v=u[s[o][0]],y;switch(e[e.l]){case 65:e.l+=4,y=iK(e);break;case 30:e.l+=4,y=YC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=YC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=tn(e,4);break;case 64:e.l+=4,y=Hn(rO(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function HL(e,t,r){var n=e.content;if(!n)return{};Zn(n,0);var a,s,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Qt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=WL(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var p;try{p=WL(n,null)}catch{}for(m in p)h[m]=p[m];return h.FMTID=[s,o],h}function Rc(e,t){return e.read_shift(t),null}function m8e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function tn(e,t){return e.read_shift(t)===1}function pn(e){return e.read_shift(2,"u")}function oK(e,t){return m8e(e,t,pn)}function p8e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function yx(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function g8e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function yf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function bx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):yf(e,n,r)}function If(e,t,r){if(r.biff>5)return bx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function v8e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function x8e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ns,"");return n&&(e.l+=24),a}function y8e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(ns,"");return r+o}function b8e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return x8e(e);case"0303000000000000c000000000000046":return y8e(e);default:throw new Error("Unsupported Moniker "+r)}}function Ny(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ns,""):"";return r}function w8e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,o,l,c,u="",d,f;a&16&&(s=Ny(e,r-e.l)),a&128&&(o=Ny(e,r-e.l)),(a&257)===257&&(l=Ny(e,r-e.l)),(a&257)===1&&(c=b8e(e,r-e.l)),a&8&&(u=Ny(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=rO(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function lK(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function cK(e,t){var r=lK(e);return r[3]=0,r}function El(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function _8e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function j8e(e,t,r){return t===0?"":If(e,t,r)}function S8e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function uK(e){var t=e.read_shift(2),r=eO(e);return[t,r]}function N8e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=yx(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function fj(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function dK(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var k8e=dK;function fK(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function C8e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function E8e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ha(e){e.l+=2,e.l+=e.read_shift(2)}var T8e={0:ha,4:ha,5:ha,6:ha,7:E8e,8:ha,9:ha,10:ha,11:ha,12:ha,13:C8e,14:ha,15:ha,16:ha,17:ha,18:ha,19:ha,20:ha,21:fK};function A8e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(T8e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function ky(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function P8e(e,t){return t===0||e.read_shift(2),1200}function O8e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=If(e,0,r);return e.read_shift(t+n-e.l),a}function D8e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function R8e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=yx(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:s,name:o}}function M8e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0;o!=a&&e.l<r;++o)s.push(g8e(e));return s.Count=n,s.Unique=a,s}function F8e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function I8e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function L8e(e){var t=_8e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function $8e(e){return e.read_shift(2),e.read_shift(4)}function qL(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function B8e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function U8e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function z8e(){}function V8e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=yx(e,0,r),n}function W8e(e){var t=El(e);return t.isst=e.read_shift(4),t}function H8e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=El(e);r.biff==2&&e.l++;var s=bx(e,n-e.l,r);return a.val=s,a}function q8e(e,t,r){var n=e.read_shift(2),a=If(e,0,r);return[n,a]}var G8e=If;function GL(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:o,c}}}function K8e(e){var t=e.read_shift(2),r=e.read_shift(2),n=uK(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Y8e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(uK(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:s}}function X8e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:s}}function Q8e(e,t,r,n){var a={},s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=K$e[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function Z8e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Q8e(e,t,n.fStyle,r),n}function J8e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function KL(e,t,r){var n=El(e);(r.biff==2||t==9)&&++e.l;var a=p8e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function e6e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=El(e),a=Ea(e);return n.val=a,n}var YL=j8e;function t6e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=yf(e,s),l=[];n>e.l;)l.push(bx(e));return[s,a,o,l]}function XL(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=N8e(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var r6e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function QL(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=yf(e,o,r);a&32&&(u=r6e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:IUe(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function hK(e,t,r){if(r.biff<8)return n6e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(S8e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function n6e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=yx(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function a6e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=yf(e,n,r),o=yf(e,a,r);return[s,o]}function s6e(e,t,r){var n=dK(e);e.l++;var a=e.read_shift(1);return t-=8,[LUe(e,t,r),a,n]}function ZL(e,t,r){var n=k8e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,MUe(e,t,r)]}function i6e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function o6e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=If(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,s]}}function l6e(e,t,r){return o6e(e,t,r)}function c6e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(fj(e));return r}function u6e(e,t,r){if(r&&r.biff<8)return f6e(e,t,r);var n=fK(e),a=A8e(e,t-22,n[1]);return{cmo:n,ft:a}}var d6e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function f6e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((d6e[n]||Ra)(e,t,r)),{cmo:[a,n,s],ft:o}}function h6e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=v8e(e,6,r);var l=e.read_shift(2);e.read_shift(2),pn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=yf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function m6e(e,t){var r=fj(e);e.l+=16;var n=w8e(e,t-24);return[r,n]}function p6e(e,t){e.read_shift(2);var r=fj(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ns,""),[r,n]}function g6e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=UL[r]||r,r=e.read_shift(2),t[1]=UL[r]||r,t}function v6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(cK(e));return r}function x6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(cK(e));return r}function y6e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function mK(e,t,r){if(!r.cellStyles)return Ra(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function b6e(e,t){var r={};return t<32||(e.l+=16,r.header=Ea(e),r.footer=Ea(e),e.l+=2),r}function w6e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var _6e=El,j6e=oK,S6e=bx;function N6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function k6e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=El(e);++e.l;var a=If(e,t-7,r);return n.t="str",n.val=a,n}function C6e(e){var t=El(e);++e.l;var r=Ea(e);return t.t="n",t.val=r,t}function E6e(e){var t=El(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function T6e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function A6e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function P6e(e,t,r){var n=e.l+t,a=El(e),s=e.read_shift(2),o=yf(e,s,r);return e.l=n,a.t="str",a.val=o,a}var O6e=[2,3,48,49,131,139,140,245],JL=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=HP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Fu(1);switch(c.type){case"base64":d=io(ii(l));break;case"binary":d=io(l);break;case"buffer":case"array":d=l;break}Zn(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),p&&(d.l+=36);for(var w=[],_={},j=Math.min(d.length,f==2?521:v-10-(m?264:0)),N=p?32:11;d.l<j&&d[d.l]!=13;)switch(_={},_.name=Kc.utils.decode(b,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!p&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&w.push(_),f!=2&&(d.l+=p?13:14),_.type){case"B":(!m||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var S=0,k=0;for(u[0]=[],k=0;k!=w.length;++k)u[0][k]=w[k].name;for(;g-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++S]=[],k=0,k=0;k!=w.length;++k){var C=d.slice(d.l,d.l+w[k].len);d.l+=w[k].len,Zn(C,0);var E=Kc.utils.decode(b,C);switch(w[k].type){case"C":E.trim().length&&(u[S][k]=E.replace(/\s+$/,""));break;case"D":E.length===8?u[S][k]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8)):u[S][k]=E;break;case"F":u[S][k]=parseFloat(E.trim());break;case"+":case"I":u[S][k]=p?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":case"T":u[S][k]=!0;break;case"N":case"F":u[S][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][k]="##MEMO##"+(p?parseInt(E.trim(),10):C.read_shift(4));break;case"N":E=E.replace(/\u0000/g,"").trim(),E&&E!="."&&(u[S][k]=+E||0);break;case"@":u[S][k]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[S][k]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[S][k]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][k]=-C.read_shift(-8,"f");break;case"B":if(m&&w[k].len==8){u[S][k]=C.read_shift(8,"f");break}case"G":case"P":C.l+=w[k].len;break;case"0":if(w[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[k].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Lp(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Zu(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&co(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=qC(),f=rE(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=l["!cols"]||[],g=0,v=0,y=0,b=1;for(g=0;g<h.length;++g){if(((p[g]||{}).DBF||{}).name){h[g]=p[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(v=0;v<1024;++v)if(h.indexOf(h[g]+"_"+v)==-1){h[g]+="_"+v;break}}}}var w=Zr(l["!ref"]),_=[],j=[],N=[];for(g=0;g<=w.e.c-w.s.c;++g){var S="",k="",C=0,E=[];for(v=0;v<m.length;++v)m[v][g]!=null&&E.push(m[v][g]);if(E.length==0||h[g]==null){_[g]="?";continue}for(v=0;v<E.length;++v){switch(typeof E[v]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=E[v]instanceof Date?"D":"C";break;default:k="C"}C=Math.max(C,String(E[v]).length),S=S&&S!=k?"C":k}C>250&&(C=250),k=((p[g]||{}).DBF||{}).type,k=="C"&&p[g].DBF.len>C&&(C=p[g].DBF.len),S=="B"&&k=="N"&&(S="N",N[g]=p[g].DBF.dec,C=p[g].DBF.len),j[g]=S=="C"||k=="N"?C:s[S]||0,b+=j[g],_[g]=S}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,m.length),P.write_shift(2,296+32*y),P.write_shift(2,b),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+t[hG]||3)<<8),g=0,v=0;g<h.length;++g)if(h[g]!=null){var T=d.next(32),W=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,W,"sbcs"),T.write_shift(1,_[g]=="?"?"C":_[g],"sbcs"),T.write_shift(4,v),T.write_shift(1,j[g]||s[_[g]]||0),T.write_shift(1,N[g]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=j[g]||s[_[g]]||0}var G=d.next(264);for(G.write_shift(4,13),g=0;g<65;++g)G.write_shift(4,0);for(g=0;g<m.length;++g){var U=d.next(b);for(U.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(_[v]){case"L":U.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":U.write_shift(8,m[g][v]||0,"f");break;case"N":var L="0";for(typeof m[g][v]=="number"&&(L=m[g][v].toFixed(N[v]||0)),y=0;y<j[v]-L.length;++y)U.write_shift(1,32);U.write_shift(1,L,"sbcs");break;case"D":m[g][v]?(U.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),U.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),U.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):U.write_shift(8,"00000000","sbcs");break;case"C":var V=String(m[g][v]!=null?m[g][v]:"").slice(0,j[v]);for(U.write_shift(1,V,"sbcs"),y=0;y<j[v]-V.length;++y)U.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),D6e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+yl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?pL(p):p},n=function(h,m,p){var g=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?h:pL(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(ii(h),m);case"binary":return s(h,m);case"buffer":return s(Kt&&Buffer.isBuffer(h)?h.toString("binary"):Df(h),m);case"array":return s(xf(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var p=h.split(/[\n\r]+/),g=-1,v=-1,y=0,b=0,w=[],_=[],j=null,N={},S=[],k=[],C=[],E=0,P;for(+m.codepage>=0&&co(+m.codepage);y!==p.length;++y){E=0;var T=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),W=T.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),G=W[0],U;if(T.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&_.push(T.slice(3).replace(/;;/g,";"));break;case"C":var L=!1,V=!1,B=!1,I=!1,X=-1,Q=-1;for(b=1;b<W.length;++b)switch(W[b].charAt(0)){case"A":break;case"X":v=parseInt(W[b].slice(1))-1,V=!0;break;case"Y":for(g=parseInt(W[b].slice(1))-1,V||(v=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":U=W[b].slice(1),U.charAt(0)==='"'?U=U.slice(1,U.length-1):U==="TRUE"?U=!0:U==="FALSE"?U=!1:isNaN(vo(U))?isNaN(ep(U).getDate())||(U=Hn(U)):(U=vo(U),j!==null&&Fp(j)&&(U=dj(U))),L=!0;break;case"E":I=!0;var O=qh(W[b].slice(1),{r:g,c:v});w[g][v]=[w[g][v],O];break;case"S":B=!0,w[g][v]=[w[g][v],"S5S"];break;case"G":break;case"R":X=parseInt(W[b].slice(1))-1;break;case"C":Q=parseInt(W[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}if(L&&(w[g][v]&&w[g][v].length==2?w[g][v][0]=U:w[g][v]=U,j=null),B){if(I)throw new Error("SYLK shared formula cannot have own formula");var M=X>-1&&w[X][Q];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");w[g][v][1]=SK(M[1],{r:g-X,c:v-Q})}break;case"F":var F=0;for(b=1;b<W.length;++b)switch(W[b].charAt(0)){case"X":v=parseInt(W[b].slice(1))-1,++F;break;case"Y":for(g=parseInt(W[b].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":E=parseInt(W[b].slice(1))/20;break;case"F":break;case"G":break;case"P":j=_[parseInt(W[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=W[b].slice(1).split(" "),P=parseInt(C[0],10);P<=parseInt(C[1],10);++P)E=parseInt(C[2],10),k[P-1]=E===0?{hidden:!0}:{wch:E},tp(k[P-1]);break;case"C":v=parseInt(W[b].slice(1))-1,k[v]||(k[v]={});break;case"R":g=parseInt(W[b].slice(1))-1,S[g]||(S[g]={}),E>0?(S[g].hpt=E,S[g].hpx=_v(E)):E===0&&(S[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}F<1&&(j=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}}return S.length>0&&(N["!rows"]=S),k.length>0&&(N["!cols"]=k),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,N]}function o(h,m){var p=a(h,m),g=p[0],v=p[1],y=Lp(g,m);return yl(v).forEach(function(b){y[b]=v[b]}),y}function l(h,m){return Zu(o(h,m),m)}function c(h,m,p,g){var v="C;Y"+(p+1)+";X"+(g+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+y9e(h.f,{r:p,c:g}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(p,g){var v="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?v+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=ow(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=lw(p.wpx)),typeof p.wch=="number"&&(v+=Math.round(p.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(p,g){var v="F;";p.hidden?v+="M0;":p.hpt?v+="M"+20*p.hpt+";":p.hpx&&(v+="M"+20*wK(p.hpx)+";"),v.length>2&&h.push(v+"R"+(g+1))})}function f(h,m){var p=["ID;PWXL;N;E"],g=[],v=Zr(h["!ref"]),y,b=Array.isArray(h),w=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&u(p,h["!cols"]),h["!rows"]&&d(p,h["!rows"]),p.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var j=v.s.c;j<=v.e.c;++j){var N=At({r:_,c:j});y=b?(h[_]||[])[j]:h[N],!(!y||y.v==null&&(!y.f||y.F))&&g.push(c(y,h,_,j))}return p.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),R6e=function(){function e(s,o){switch(o.type){case"base64":return t(ii(s),o);case"binary":return t(s,o);case"buffer":return t(Kt&&Buffer.isBuffer(s)?s.toString("binary"):Df(s),o);case"array":return t(xf(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],p=h[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(vo(p))?isNaN(ep(p).getDate())?f[c][u]=p:f[c][u]=Hn(p):f[c][u]=vo(p),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return Lp(e(s,o),o)}function n(s,o){return Zu(r(s,o),o)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Zr(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var p=d.s.c;p<=d.e.c;++p){var g=At({r:m,c:p});if(f=h?(c[m]||[])[p]:c[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Mi(f.z||Ft[14],as(Hn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var y=`\r
`,b=u.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),M6e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,g=-1,v=0,y=[];v!==m.length;++v){var b=m[v].trim().split(":");if(b[0]==="cell"){var w=es(b[1]);if(y.length<=w.r)for(p=y.length;p<=w.r;++p)y[p]||(y[p]=[]);switch(p=w.r,g=w.c,b[2]){case"t":y[p][g]=e(b[3]);break;case"v":y[p][g]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[p][g]=!!+b[4];break;default:y[p][g]=+b[4];break}b[2]=="vtf"&&(y[p][g]=[y[p][g],_])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Lp(r(f,h),h)}function a(f,h){return Zu(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,g="",v=Ip(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var w=v.s.c;w<=v.e.c;++w)if(g=At({r:b,c:w}),p=y?(f[b]||[])[w]:f[g],!(!p||p.v==null||p.t==="z")){switch(m=["cell",g,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var _=as(Hn(p.v));m[2]="vtc",m[3]="nd",m[4]=""+_,m[5]=p.w||Mi(p.z||Ft[14],_);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),bv=function(){function e(d,f,h,m,p){p.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(vo(d))?isNaN(ep(d).getDate())?f[h][m]=d:f[h][m]=Hn(d):f[h][m]=vo(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var p=d.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var v=10,y=0,b=0;b<=g;++b)y=p[b].indexOf(" "),y==-1?y=p[b].length:y++,v=Math.max(v,y);for(b=0;b<=g;++b){m[b]=[];var w=0;for(e(p[b].slice(0,v).trim(),m,b,w,h),w=1;w<=(p[b].length-v)/10+1;++w)e(p[b].slice(v+(w-1)*10,v+w*10).trim(),m,b,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,p=0;m<d.length;++m)(p=d.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[p.pop()[1]]||44}function s(d,f){var h=f||{},m="",p=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,y=0,b=0,w=0,_=0,j=m.charCodeAt(0),N=!1,S=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?q5e(h.dateNF):null;function E(){var P=d.slice(w,_),T={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)T.t="z";else if(h.raw)T.t="s",T.v=P;else if(P.trim().length===0)T.t="s",T.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(T.t="s",T.v=P.slice(2,-1).replace(/""/g,'"')):w9e(P)?(T.t="n",T.f=P.slice(1)):(T.t="s",T.v=P);else if(P=="TRUE")T.t="b",T.v=!0;else if(P=="FALSE")T.t="b",T.v=!1;else if(!isNaN(b=vo(P)))T.t="n",h.cellText!==!1&&(T.w=P),T.v=b;else if(!isNaN(ep(P).getDate())||C&&P.match(C)){T.z=h.dateNF||Ft[14];var W=0;C&&P.match(C)&&(P=G5e(P,h.dateNF,P.match(C)||[]),W=1),h.cellDates?(T.t="d",T.v=Hn(P,W)):(T.t="n",T.v=as(Hn(P,W))),h.cellText!==!1&&(T.w=Mi(T.z,T.v instanceof Date?as(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=P;if(T.t=="z"||(h.dense?(p[v]||(p[v]=[]),p[v][y]=T):p[At({c:y,r:v})]=T),w=_+1,k=d.charCodeAt(w),g.e.c<y&&(g.e.c=y),g.e.r<v&&(g.e.r=v),S==j)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;_<d.length;++_)switch(S=d.charCodeAt(_)){case 34:k===34&&(N=!N);break;case j:case 10:case 13:if(!N&&E())break e;break}return _-w>0&&E(),p["!ref"]=Jt(g),p}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Lp(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:uO(d,f);switch(f.type){case"base64":h=ii(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Kc<"u"?h=Kc.utils.decode(f.codepage,d):h=Kt&&Buffer.isBuffer(d)?d.toString("binary"):Df(d);break;case"array":h=xf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Er(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Er(h):f.type=="binary"&&typeof Kc<"u"&&f.codepage&&(h=Kc.utils.decode(f.codepage,Kc.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?M6e.to_sheet(f.type=="string"?h:Er(h),f):o(h,f)}function c(d,f){return Zu(l(d,f),f)}function u(d){for(var f=[],h=Zr(d["!ref"]),m,p=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=At({r:g,c:y});if(m=p?(d[g]||[])[y]:d[b],!m||m.v==null){v.push("          ");continue}for(var w=(m.w||(vc(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function F6e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=D6e.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return bv.to_workbook(e,t)}}var tg=function(){function e(O,M,F){if(O){Zn(O,O.l||0);for(var H=F.Enum||X;O.l<O.length;){var ee=O.read_shift(2),ne=H[ee]||H[65535],ge=O.read_shift(2),se=O.l+ge,Z=ne.f&&ne.f(O,ge,F);if(O.l=se,M(Z,ne,ee))return}}}function t(O,M){switch(M.type){case"base64":return r(io(ii(O)),M);case"binary":return r(io(O),M);case"buffer":case"array":return r(O,M)}throw"Unsupported type "+M.type}function r(O,M){if(!O)return O;var F=M||{},H=F.dense?[]:{},ee="Sheet1",ne="",ge=0,se={},Z=[],ce=[],A={s:{r:0,c:0},e:{r:0,c:0}},$e=F.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)F.Enum=X,e(O,function(Re,vt,mt){switch(mt){case 0:F.vers=Re,Re>=4096&&(F.qpro=!0);break;case 6:A=Re;break;case 204:Re&&(ne=Re);break;case 222:ne=Re;break;case 15:case 51:F.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:mt==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=F.dateNF||Ft[14],F.cellDates&&(Re[1].t="d",Re[1].v=dj(Re[1].v))),F.qpro&&Re[3]>ge&&(H["!ref"]=Jt(A),se[ee]=H,Z.push(ee),H=F.dense?[]:{},A={s:{r:0,c:0},e:{r:0,c:0}},ge=Re[3],ee=ne||"Sheet"+(ge+1),ne="");var oe=F.dense?(H[Re[0].r]||[])[Re[0].c]:H[At(Re[0])];if(oe){oe.t=Re[1].t,oe.v=Re[1].v,Re[1].z!=null&&(oe.z=Re[1].z),Re[1].f!=null&&(oe.f=Re[1].f);break}F.dense?(H[Re[0].r]||(H[Re[0].r]=[]),H[Re[0].r][Re[0].c]=Re[1]):H[At(Re[0])]=Re[1];break}},F);else if(O[2]==26||O[2]==14)F.Enum=Q,O[2]==14&&(F.qpro=!0,O.l=0),e(O,function(Re,vt,mt){switch(mt){case 204:ee=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>ge&&(H["!ref"]=Jt(A),se[ee]=H,Z.push(ee),H=F.dense?[]:{},A={s:{r:0,c:0},e:{r:0,c:0}},ge=Re[3],ee="Sheet"+(ge+1)),$e>0&&Re[0].r>=$e)break;F.dense?(H[Re[0].r]||(H[Re[0].r]=[]),H[Re[0].r][Re[0].c]=Re[1]):H[At(Re[0])]=Re[1],A.e.c<Re[0].c&&(A.e.c=Re[0].c),A.e.r<Re[0].r&&(A.e.r=Re[0].r);break;case 27:Re[14e3]&&(ce[Re[14e3][0]]=Re[14e3][1]);break;case 1537:ce[Re[0]]=Re[1],Re[0]==ge&&(ee=Re[1]);break}},F);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(H["!ref"]=Jt(A),se[ne||ee]=H,Z.push(ne||ee),!ce.length)return{SheetNames:Z,Sheets:se};for(var Me={},Fe=[],ze=0;ze<ce.length;++ze)se[Z[ze]]?(Fe.push(ce[ze]||Z[ze]),Me[ce[ze]]=se[ce[ze]]||se[Z[ze]]):(Fe.push(ce[ze]),Me[ce[ze]]={"!ref":"A1"});return{SheetNames:Fe,Sheets:Me}}function n(O,M){var F=M||{};if(+F.codepage>=0&&co(+F.codepage),F.type=="string")throw new Error("Cannot write WK1 to JS string");var H=qC(),ee=Zr(O["!ref"]),ne=Array.isArray(O),ge=[];Gi(H,0,s(1030)),Gi(H,6,c(ee));for(var se=Math.min(ee.e.r,8191),Z=ee.s.r;Z<=se;++Z)for(var ce=aa(Z),A=ee.s.c;A<=ee.e.c;++A){Z===ee.s.r&&(ge[A]=Rn(A));var $e=ge[A]+ce,Me=ne?(O[Z]||[])[A]:O[$e];if(!(!Me||Me.t=="z"))if(Me.t=="n")(Me.v|0)==Me.v&&Me.v>=-32768&&Me.v<=32767?Gi(H,13,m(Z,A,Me.v)):Gi(H,14,g(Z,A,Me.v));else{var Fe=vc(Me);Gi(H,15,f(Z,A,Fe.slice(0,239)))}}return Gi(H,1),H.end()}function a(O,M){var F=M||{};if(+F.codepage>=0&&co(+F.codepage),F.type=="string")throw new Error("Cannot write WK3 to JS string");var H=qC();Gi(H,0,o(O));for(var ee=0,ne=0;ee<O.SheetNames.length;++ee)(O.Sheets[O.SheetNames[ee]]||{})["!ref"]&&Gi(H,27,I(O.SheetNames[ee],ne++));var ge=0;for(ee=0;ee<O.SheetNames.length;++ee){var se=O.Sheets[O.SheetNames[ee]];if(!(!se||!se["!ref"])){for(var Z=Zr(se["!ref"]),ce=Array.isArray(se),A=[],$e=Math.min(Z.e.r,8191),Me=Z.s.r;Me<=$e;++Me)for(var Fe=aa(Me),ze=Z.s.c;ze<=Z.e.c;++ze){Me===Z.s.r&&(A[ze]=Rn(ze));var Re=A[ze]+Fe,vt=ce?(se[Me]||[])[ze]:se[Re];if(!(!vt||vt.t=="z"))if(vt.t=="n")Gi(H,23,E(Me,ze,ge,vt.v));else{var mt=vc(vt);Gi(H,22,S(Me,ze,ge,mt.slice(0,239)))}}++ge}}return Gi(H,1),H.end()}function s(O){var M=Cn(2);return M.write_shift(2,O),M}function o(O){var M=Cn(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var F=0,H=0,ee=0,ne=0;ne<O.SheetNames.length;++ne){var ge=O.SheetNames[ne],se=O.Sheets[ge];if(!(!se||!se["!ref"])){++ee;var Z=Ip(se["!ref"]);F<Z.e.r&&(F=Z.e.r),H<Z.e.c&&(H=Z.e.c)}}return F>8191&&(F=8191),M.write_shift(2,F),M.write_shift(1,ee),M.write_shift(1,H),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function l(O,M,F){var H={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&F.qpro?(H.s.c=O.read_shift(1),O.l++,H.s.r=O.read_shift(2),H.e.c=O.read_shift(1),O.l++,H.e.r=O.read_shift(2),H):(H.s.c=O.read_shift(2),H.s.r=O.read_shift(2),M==12&&F.qpro&&(O.l+=2),H.e.c=O.read_shift(2),H.e.r=O.read_shift(2),M==12&&F.qpro&&(O.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function c(O){var M=Cn(8);return M.write_shift(2,O.s.c),M.write_shift(2,O.s.r),M.write_shift(2,O.e.c),M.write_shift(2,O.e.r),M}function u(O,M,F){var H=[{c:0,r:0},{t:"n",v:0},0,0];return F.qpro&&F.vers!=20768?(H[0].c=O.read_shift(1),H[3]=O.read_shift(1),H[0].r=O.read_shift(2),O.l+=2):(H[2]=O.read_shift(1),H[0].c=O.read_shift(2),H[0].r=O.read_shift(2)),H}function d(O,M,F){var H=O.l+M,ee=u(O,M,F);if(ee[1].t="s",F.vers==20768){O.l++;var ne=O.read_shift(1);return ee[1].v=O.read_shift(ne,"utf8"),ee}return F.qpro&&O.l++,ee[1].v=O.read_shift(H-O.l,"cstr"),ee}function f(O,M,F){var H=Cn(7+F.length);H.write_shift(1,255),H.write_shift(2,M),H.write_shift(2,O),H.write_shift(1,39);for(var ee=0;ee<H.length;++ee){var ne=F.charCodeAt(ee);H.write_shift(1,ne>=128?95:ne)}return H.write_shift(1,0),H}function h(O,M,F){var H=u(O,M,F);return H[1].v=O.read_shift(2,"i"),H}function m(O,M,F){var H=Cn(7);return H.write_shift(1,255),H.write_shift(2,M),H.write_shift(2,O),H.write_shift(2,F,"i"),H}function p(O,M,F){var H=u(O,M,F);return H[1].v=O.read_shift(8,"f"),H}function g(O,M,F){var H=Cn(13);return H.write_shift(1,255),H.write_shift(2,M),H.write_shift(2,O),H.write_shift(8,F,"f"),H}function v(O,M,F){var H=O.l+M,ee=u(O,M,F);if(ee[1].v=O.read_shift(8,"f"),F.qpro)O.l=H;else{var ne=O.read_shift(2);_(O.slice(O.l,O.l+ne),ee),O.l+=ne}return ee}function y(O,M,F){var H=M&32768;return M&=-32769,M=(H?O:0)+(M>=8192?M-16384:M),(H?"":"$")+(F?Rn(M):aa(M))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(O,M){Zn(O,0);for(var F=[],H=0,ee="",ne="",ge="",se="";O.l<O.length;){var Z=O[O.l++];switch(Z){case 0:F.push(O.read_shift(8,"f"));break;case 1:ne=y(M[0].c,O.read_shift(2),!0),ee=y(M[0].r,O.read_shift(2),!1),F.push(ne+ee);break;case 2:{var ce=y(M[0].c,O.read_shift(2),!0),A=y(M[0].r,O.read_shift(2),!1);ne=y(M[0].c,O.read_shift(2),!0),ee=y(M[0].r,O.read_shift(2),!1),F.push(ce+A+":"+ne+ee)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:F.push("("+F.pop()+")");break;case 5:F.push(O.read_shift(2));break;case 6:{for(var $e="";Z=O[O.l++];)$e+=String.fromCharCode(Z);F.push('"'+$e.replace(/"/g,'""')+'"')}break;case 8:F.push("-"+F.pop());break;case 23:F.push("+"+F.pop());break;case 22:F.push("NOT("+F.pop()+")");break;case 20:case 21:se=F.pop(),ge=F.pop(),F.push(["AND","OR"][Z-20]+"("+ge+","+se+")");break;default:if(Z<32&&w[Z])se=F.pop(),ge=F.pop(),F.push(ge+w[Z]+se);else if(b[Z]){if(H=b[Z][1],H==69&&(H=O[O.l++]),H>F.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+F.join("|")+"|");return}var Me=F.slice(-H);F.length-=H,F.push(b[Z][0]+"("+Me.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}F.length==1?M[1].f=""+F[0]:console.error("WK1 bad formula parse |"+F.join("|")+"|")}function j(O){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=O.read_shift(2),M[3]=O[O.l++],M[0].c=O[O.l++],M}function N(O,M){var F=j(O);return F[1].t="s",F[1].v=O.read_shift(M-4,"cstr"),F}function S(O,M,F,H){var ee=Cn(6+H.length);ee.write_shift(2,O),ee.write_shift(1,F),ee.write_shift(1,M),ee.write_shift(1,39);for(var ne=0;ne<H.length;++ne){var ge=H.charCodeAt(ne);ee.write_shift(1,ge>=128?95:ge)}return ee.write_shift(1,0),ee}function k(O,M){var F=j(O);F[1].v=O.read_shift(2);var H=F[1].v>>1;if(F[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return F[1].v=H,F}function C(O,M){var F=j(O),H=O.read_shift(4),ee=O.read_shift(4),ne=O.read_shift(2);if(ne==65535)return H===0&&ee===3221225472?(F[1].t="e",F[1].v=15):H===0&&ee===3489660928?(F[1].t="e",F[1].v=42):F[1].v=0,F;var ge=ne&32768;return ne=(ne&32767)-16446,F[1].v=(1-ge*2)*(ee*Math.pow(2,ne+32)+H*Math.pow(2,ne)),F}function E(O,M,F,H){var ee=Cn(14);if(ee.write_shift(2,O),ee.write_shift(1,F),ee.write_shift(1,M),H==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var ne=0,ge=0,se=0,Z=0;return H<0&&(ne=1,H=-H),ge=Math.log2(H)|0,H/=Math.pow(2,ge-31),Z=H>>>0,Z&2147483648||(H/=2,++ge,Z=H>>>0),H-=Z,Z|=2147483648,Z>>>=0,H*=Math.pow(2,32),se=H>>>0,ee.write_shift(4,se),ee.write_shift(4,Z),ge+=16383+(ne?32768:0),ee.write_shift(2,ge),ee}function P(O,M){var F=C(O);return O.l+=M-14,F}function T(O,M){var F=j(O),H=O.read_shift(4);return F[1].v=H>>6,F}function W(O,M){var F=j(O),H=O.read_shift(8,"f");return F[1].v=H,F}function G(O,M){var F=W(O);return O.l+=M-10,F}function U(O,M){return O[O.l+M-1]==0?O.read_shift(M,"cstr"):""}function L(O,M){var F=O[O.l++];F>M-1&&(F=M-1);for(var H="";H.length<F;)H+=String.fromCharCode(O[O.l++]);return H}function V(O,M,F){if(!(!F.qpro||M<21)){var H=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var ee=O.read_shift(M-21,"cstr");return[H,ee]}}function B(O,M){for(var F={},H=O.l+M;O.l<H;){var ee=O.read_shift(2);if(ee==14e3){for(F[ee]=[0,""],F[ee][0]=O.read_shift(2);O[O.l];)F[ee][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return F}function I(O,M){var F=Cn(5+O.length);F.write_shift(2,14e3),F.write_shift(2,M);for(var H=0;H<O.length;++H){var ee=O.charCodeAt(H);F[F.l++]=ee>127?95:ee}return F[F.l++]=0,F}var X={0:{n:"BOF",f:pn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:U},222:{n:"SHEETNAMELP",f:L},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:B},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:U},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:V},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function I6e(e){var t={},r=e.match(Ia),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=kt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=BP[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var L6e=function(){var e=xv("t"),t=xv("rPr");function r(s){var o=s.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:nr(o[1])},c=s.match(t);return c&&(l.s=I6e(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),$6e=function(){var t=/(\r\n|\n)/g;function r(a,s,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),B6e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,U6e=/<(?:\w+:)?r>/,z6e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function nO(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=nr(Er(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Er(e),r&&(n.h=GP(n.t))):e.match(U6e)&&(n.r=Er(e),n.t=nr(Er((e.replace(z6e,"").match(B6e)||[]).join("").replace(Ia,""))),r&&(n.h=$6e(L6e(n.r)))),n):{t:""}}var V6e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,W6e=/<(?:\w+:)?(?:si|sstItem)>/g,H6e=/<\/(?:\w+:)?(?:si|sstItem)>/;function q6e(e,t){var r=[],n="";if(!e)return r;var a=e.match(V6e);if(a){n=a[2].replace(W6e,"").split(H6e);for(var s=0;s!=n.length;++s){var o=nO(n[s].trim(),t);o!=null&&(r[r.length]=o)}a=kt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function G6e(e){return[e.read_shift(4),e.read_shift(4)]}function K6e(e,t){var r=[],n=!1;return Nc(e,function(s,o,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function pK(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function rc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Y6e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=rc(e,4),t.U=rc(e,4),t.W=rc(e,4),t}function X6e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Q6e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(X6e(e));return t}function Z6e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function J6e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=rc(e,4),t.U=rc(e,4),t.W=rc(e,4),t}function eBe(e){var t=J6e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function gK(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function vK(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function tBe(e){var t=rc(e);switch(t.Minor){case 2:return[t.Minor,rBe(e)];case 3:return[t.Minor,nBe()];case 4:return[t.Minor,aBe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function rBe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=gK(e,r),a=vK(e,e.length-e.l);return{t:"Std",h:n,v:a}}function nBe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function aBe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ia,function(s){var o=kt(s);switch(Cl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function sBe(e,t){var r={},n=r.EncryptionVersionInfo=rc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=gK(e,a),t-=a,r.EncryptionVerifier=vK(e,t),r}function iBe(e){var t={},r=t.EncryptionVersionInfo=rc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function oBe(e){var t=0,r,n=pK(e),a=n.length+1,s,o,l,c,u;for(r=Fu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var xK=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},s=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=pK(o),c=s(l),u=l.length,d=Fu(16),f=0;f!=16;++f)d[f]=0;var h,m,p;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,p=15-l.length;p>0;)h=c>>8,d[u]=a(e[p],h),--u,--p,h=c&255,d[u]=a(l[u],h),--u,--p;return d}}(),lBe=function(e,t,r,n,a){a||(a=t),n||(n=xK(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=n[r],o=(o>>5|o<<3)&255,a[s]=o,++r;return[a,r,n]},cBe=function(e){var t=0,r=xK(e);return function(n){var a=lBe("",n,t,r);return t=a[1],a[0]}};function uBe(e,t,r,n){var a={key:pn(e),verificationBytes:pn(e)};return r.password&&(a.verifier=oBe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=cBe(r.password)),a}function dBe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=iBe(e):n.Data=sBe(e,t),n}function fBe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?dBe(e,t-2,n):uBe(e,r.biff>=8?t:t-2,r,n),n}var hBe=function(){function e(a,s){switch(s.type){case"base64":return t(ii(a),s);case"binary":return t(a,s);case"buffer":return t(Kt&&Buffer.isBuffer(a)?a.toString("binary"):Df(a),s);case"array":return t(xf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,p,g=-1;p=h.exec(d);){switch(p[0]){case"\\cell":var v=d.slice(m,h.lastIndex-p[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var y={v,t:"s"};Array.isArray(l)?l[f][g]=y:l[At({r:f,c:g})]=y}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Jt(u),l}function r(a,s){return Zu(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=Zr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=At({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(vc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function mBe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function wv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function pBe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),o=a-s;if(o===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function gBe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,o=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function iw(e,t){if(t===0)return e;var r=pBe(mBe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),wv(gBe(r))}var yK=6,vBe=15,xBe=1,qa=yK;function ow(e){return Math.floor((e+Math.round(128/qa)/256)*qa)}function lw(e){return Math.floor((e-5)/qa*100+.5)/100}function XC(e){return Math.round((e*qa+5)/qa*256)/256}function b2(e){return XC(lw(ow(e)))}function aO(e){var t=Math.abs(e-b2(e)),r=qa;if(t>.005)for(qa=xBe;qa<vBe;++qa)Math.abs(e-b2(e))<=t&&(t=Math.abs(e-b2(e)),r=qa);qa=r}function tp(e){e.width?(e.wpx=ow(e.width),e.wch=lw(e.wpx),e.MDW=qa):e.wpx?(e.wch=lw(e.wpx),e.width=XC(e.wch),e.MDW=qa):typeof e.wch=="number"&&(e.width=XC(e.wch),e.wpx=ow(e.width),e.MDW=qa),e.customWidth&&delete e.customWidth}var yBe=96,bK=yBe;function wK(e){return e*96/bK}function _v(e){return e*bK/96}var bBe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function wBe(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Ia)||[]).forEach(function(o){var l=kt(o);switch(Cl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Ir(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Ir(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function _Be(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Ia)||[]).forEach(function(o){var l=kt(o);switch(Cl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function jBe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Ia)||[]).forEach(function(o){var l=kt(o);switch(Cl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Er(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Ir(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Ir(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Ir(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Ir(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Ir(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Ir(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Ir(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=BP[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Ir(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Kd[a.color.index];a.color.index==81&&(c=Kd[1]),c||(c=Kd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=iw(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function SBe(e,t,r){t.NumberFmt=[];for(var n=yl(Ft),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Ft[n[a]];var s=e[0].match(Ia);if(s)for(a=0;a<s.length;++a){var o=kt(s[a]);switch(Cl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=nr(Er(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Gd(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Cy=["numFmtId","fillId","fontId","borderId","xfId"],Ey=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function NBe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ia)||[]).forEach(function(s){var o=kt(s),l=0;switch(Cl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<Cy.length;++l)n[Cy[l]]&&(n[Cy[l]]=parseInt(n[Cy[l]],10));for(l=0;l<Ey.length;++l)n[Ey[l]]&&(n[Ey[l]]=Ir(n[Ey[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Ir(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var kBe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&SBe(f,d,u),(f=l.match(a))&&jBe(f,d,c,u),(f=l.match(n))&&_Be(f,d,c,u),(f=l.match(s))&&wBe(f,d,c,u),(f=l.match(r))&&NBe(f,d,u),d}}();function CBe(e,t){var r=e.read_shift(2),n=Aa(e);return[r,n]}function EBe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=L$e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=I$e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Aa(e),n}var TBe=Ra;function ABe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var PBe=Ra;function OBe(e,t,r){var n={};n.NumberFmt=[];for(var a in Ft)n.NumberFmt[a]=Ft[a];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return Nc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Gd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=iw(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var DBe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function RBe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ia)||[]).forEach(function(a){var s=kt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[DBe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function MBe(){}function FBe(){}var IBe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,LBe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,$Be=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function BBe(e,t,r){t.themeElements={};var n;[["clrScheme",IBe,RBe],["fontScheme",LBe,MBe],["fmtScheme",$Be,FBe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var UBe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function _K(e,t){(!e||e.length===0)&&(e=zBe());var r,n={};if(!(r=e.match(UBe)))throw new Error("themeElements not found in theme");return BBe(r[0],n,t),n.raw=e,n}function zBe(e,t){var r=[DG];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function VBe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var o;try{o=OG(s,{type:"array"})}catch{return}var l=Xs(o,"theme/theme/theme1.xml",!0);if(l)return _K(l,r)}}function WBe(e){return e.read_shift(4)}function HBe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=qBe(e,4);break;case 2:t.xclrValue=lK(e);break;case 3:t.xclrValue=WBe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function qBe(e,t){return Ra(e,t)}function GBe(e,t){return Ra(e,t)}function KBe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=HBe(e);break;case 6:n[1]=GBe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function YBe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(KBe(e,r-e.l));return{ixfe:n,ext:s}}function XBe(e,t){t.forEach(function(r){switch(r[0]){}})}function QBe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Aa(e)}}function ZBe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function JBe(e){return e.l+=4,e.read_shift(4)!=0}function e9e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],o=!1,l=2;return Nc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function t9e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,o;return e.replace(Ia,function(l){var c=kt(l);switch(Cl(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function r9e(e){var t=[];if(!e)return t;var r=1;return(e.match(Ia)||[]).forEach(function(n){var a=kt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function n9e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=At(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function a9e(e,t,r){var n=[];return Nc(e,function(s,o,l){switch(l){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function s9e(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Nc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function i9e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function e5(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(o){var l=es(o.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[o.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[o.ref]=s;var c=Zr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Jt(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function o9e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=kt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=es(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&nO(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function l9e(e,t){var r=[],n=!1,a={},s=0;return e.replace(Ia,function(l,c){var u=kt(l);switch(Cl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function c9e(e,t){var r=[],n=!1;return e.replace(Ia,function(s){var o=kt(s);switch(Cl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function u9e(e){var t={};t.iauthor=e.read_shift(4);var r=Mf(e);return t.rfx=r.s,t.ref=At(r.s),e.l+=16,t}var d9e=Aa;function f9e(e,t){var r=[],n=[],a={},s=!1;return Nc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var h9e="application/vnd.ms-office.vbaProject";function m9e(e){var t=Qt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Qt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Qt.write(t)}function p9e(){return{"!type":"dialog"}}function g9e(){return{"!type":"dialog"}}function v9e(){return{"!type":"macro"}}function x9e(){return{"!type":"macro"}}var qh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Rn(d)+(c?"":"$")+aa(u)}return function(a,s){return t=s,a.replace(e,r)}}(),jK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,y9e=function(){return function(t,r){return t.replace(jK,function(n,a,s,o,l,c){var u=QP(o)-(s?0:r.c),d=XP(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function SK(e,t){return e.replace(jK,function(r,n,a,s,o,l){return n+(a=="$"?a+s:Rn(QP(s)+t.c))+(o=="$"?o+l:aa(XP(l)+t.r))})}function b9e(e,t,r){var n=Ip(t),a=n.s,s=es(r),o={r:s.r-a.r,c:s.c-a.c};return SK(e,o)}function w9e(e){return e.length!=1}function t5(e){return e.replace(/_xlfn\./g,"")}function dn(e){e.l+=1}function Iu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function NK(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return kK(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Iu(e),l=Iu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function kK(e){var t=Iu(e),r=Iu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function _9e(e,t,r){if(r.biff<8)return kK(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Iu(e),o=Iu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function CK(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return j9e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Iu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function j9e(e){var t=Iu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function S9e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function N9e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return k9e(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function k9e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function C9e(e,t,r){var n=(e[e.l++]&96)>>5,a=NK(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function E9e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=NK(e,s,r);return[n,a,o]}function T9e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function A9e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function P9e(e,t,r){var n=(e[e.l++]&96)>>5,a=_9e(e,t-1,r);return[n,a]}function O9e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function r5(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function D9e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function R9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function M9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function F9e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function I9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function EK(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function L9e(e){return e.read_shift(2),EK(e)}function $9e(e){return e.read_shift(2),EK(e)}function B9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=CK(e,0,r);return[n,a]}function U9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=N9e(e,0,r);return[n,a]}function z9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=CK(e,0,r);return[n,a,s]}function V9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[WUe[a],PK[a],n]}function W9e(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:H9e(e);return[a,(s[0]===0?PK:VUe)[s[1]]]}function H9e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function q9e(e,t,r){e.l+=r&&r.biff==2?3:4}function G9e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function K9e(e){return e.l++,Ff[e.read_shift(1)]}function Y9e(e){return e.l++,e.read_shift(2)}function X9e(e){return e.l++,e.read_shift(1)!==0}function Q9e(e){return e.l++,Ea(e)}function Z9e(e,t,r){return e.l++,yx(e,t-1,r)}function J9e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=tn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Ff[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ea(e);break;case 2:r[1]=If(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function eUe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Mf:fj)(e));return a}function tUe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=J9e(e,r.biff);return o}function rUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function nUe(e,t,r){if(r.biff==5)return aUe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function aUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function sUe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function iUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function oUe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function lUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var cUe=Ra,uUe=Ra,dUe=Ra;function wx(e,t,r){return e.l+=2,[S9e(e)]}function sO(e){return e.l+=6,[]}var fUe=wx,hUe=sO,mUe=sO,pUe=wx;function TK(e){return e.l+=2,[pn(e),e.read_shift(2)&1]}var gUe=wx,vUe=TK,xUe=sO,yUe=wx,bUe=wx,wUe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function _Ue(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=wUe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function jUe(e){return e.l+=2,[e.read_shift(4)]}function SUe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function NUe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function kUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function CUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function EUe(e){return e.l+=4,[0,0]}var n5={1:{n:"PtgExp",f:G9e},2:{n:"PtgTbl",f:dUe},3:{n:"PtgAdd",f:dn},4:{n:"PtgSub",f:dn},5:{n:"PtgMul",f:dn},6:{n:"PtgDiv",f:dn},7:{n:"PtgPower",f:dn},8:{n:"PtgConcat",f:dn},9:{n:"PtgLt",f:dn},10:{n:"PtgLe",f:dn},11:{n:"PtgEq",f:dn},12:{n:"PtgGe",f:dn},13:{n:"PtgGt",f:dn},14:{n:"PtgNe",f:dn},15:{n:"PtgIsect",f:dn},16:{n:"PtgUnion",f:dn},17:{n:"PtgRange",f:dn},18:{n:"PtgUplus",f:dn},19:{n:"PtgUminus",f:dn},20:{n:"PtgPercent",f:dn},21:{n:"PtgParen",f:dn},22:{n:"PtgMissArg",f:dn},23:{n:"PtgStr",f:Z9e},26:{n:"PtgSheet",f:SUe},27:{n:"PtgEndSheet",f:NUe},28:{n:"PtgErr",f:K9e},29:{n:"PtgBool",f:X9e},30:{n:"PtgInt",f:Y9e},31:{n:"PtgNum",f:Q9e},32:{n:"PtgArray",f:O9e},33:{n:"PtgFunc",f:V9e},34:{n:"PtgFuncVar",f:W9e},35:{n:"PtgName",f:rUe},36:{n:"PtgRef",f:B9e},37:{n:"PtgArea",f:C9e},38:{n:"PtgMemArea",f:sUe},39:{n:"PtgMemErr",f:cUe},40:{n:"PtgMemNoMem",f:uUe},41:{n:"PtgMemFunc",f:iUe},42:{n:"PtgRefErr",f:oUe},43:{n:"PtgAreaErr",f:T9e},44:{n:"PtgRefN",f:U9e},45:{n:"PtgAreaN",f:P9e},46:{n:"PtgMemAreaN",f:kUe},47:{n:"PtgMemNoMemN",f:CUe},57:{n:"PtgNameX",f:nUe},58:{n:"PtgRef3d",f:z9e},59:{n:"PtgArea3d",f:E9e},60:{n:"PtgRefErr3d",f:lUe},61:{n:"PtgAreaErr3d",f:A9e},255:{}},TUe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},AUe={1:{n:"PtgElfLel",f:TK},2:{n:"PtgElfRw",f:yUe},3:{n:"PtgElfCol",f:fUe},6:{n:"PtgElfRwV",f:bUe},7:{n:"PtgElfColV",f:pUe},10:{n:"PtgElfRadical",f:gUe},11:{n:"PtgElfRadicalS",f:xUe},13:{n:"PtgElfColS",f:hUe},15:{n:"PtgElfColSV",f:mUe},16:{n:"PtgElfRadicalLel",f:vUe},25:{n:"PtgList",f:_Ue},29:{n:"PtgSxName",f:jUe},255:{}},PUe={0:{n:"PtgAttrNoop",f:EUe},1:{n:"PtgAttrSemi",f:I9e},2:{n:"PtgAttrIf",f:M9e},4:{n:"PtgAttrChoose",f:D9e},8:{n:"PtgAttrGoto",f:R9e},16:{n:"PtgAttrSum",f:q9e},32:{n:"PtgAttrBaxcel",f:r5},33:{n:"PtgAttrBaxcel",f:r5},64:{n:"PtgAttrSpace",f:L9e},65:{n:"PtgAttrSpaceSemi",f:$9e},128:{n:"PtgAttrIfError",f:F9e},255:{}};function _x(e,t,r,n){if(n.biff<8)return Ra(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=tUe(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=eUe(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(Ra(e,t)),s}function jx(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=n5[s]||n5[TUe[s]],(s===24||s===25)&&(a=(s===24?AUe:PUe)[e[e.l+1]]),!a||!a.f?Ra(e,t):o.push([a.n,a.f(e,t,r)]);return o}function OUe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var DUe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function RUe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function AK(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function a5(e,t,r){var n=AK(e,t,r);return n=="#REF"?n:RUe(n,r)}function ja(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",y=0,b=e[0].length;y<b;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=Qr(" ",e[0][g][1][1]);break;case 1:v=Qr("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+v,g=-1}l.push(u+DUe[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Q0(w[1][1],o,a),l.push(Z0(d,s));break;case"PtgRefN":d=r?Q0(w[1][1],r,a):w[1][1],l.push(Z0(d,s));break;case"PtgRef3d":f=w[1][1],d=Q0(w[1][2],o,a),p=a5(n,f,a),l.push(p+"!"+Z0(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=w[1][0],j=w[1][1];_||(_=0),_&=127;var N=_==0?[]:l.slice(-_);l.length-=_,j==="User"&&(j=N.shift()),l.push(j+"("+N.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":m=LL(w[1][1],r?{s:r}:o,a),l.push(x2(m,a));break;case"PtgArea":m=LL(w[1][1],o,a),l.push(x2(m,a));break;case"PtgArea3d":f=w[1][1],m=w[1][2],p=a5(n,f,a),l.push(p+"!"+x2(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],k=S?S.Name:"SH33TJSNAME"+String(h);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var C=w[1][1];h=w[1][2];var E;if(a.biff<=5)C<0&&(C=-C),n[C]&&(E=n[C][h]);else{var P="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][h]&&n[C][h].itab>0&&(P=n.SheetNames[n[C][h].itab-1]+"!"):P=n.SheetNames[h-1]+"!"),n[C]&&n[C][h])P+=n[C][h].Name;else if(n[0]&&n[0][h])P+=n[0][h].Name;else{var T=(AK(n,C,a)||"").split(";;");T[h-1]?P=T[h-1]:P+="SH33TJSERRX"}l.push(P);break}E||(E={Name:"SH33TJSERRY"}),l.push(E.Name);break;case"PtgParen":var W="(",G=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:W=Qr(" ",e[0][g][1][1])+W;break;case 3:W=Qr("\r",e[0][g][1][1])+W;break;case 4:G=Qr(" ",e[0][g][1][1])+G;break;case 5:G=Qr("\r",e[0][g][1][1])+G;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(W+l.pop()+G);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var U={c:r.c,r:r.r};if(n.sharedf[At(d)]){var L=n.sharedf[At(d)];l.push(ja(L,o,U,n,a))}else{var V=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(ja(u[1],o,U,n,a)),V=!0;break}V||l.push(w[1])}break;case"PtgArray":l.push("{"+OUe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var B=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&B.indexOf(e[0][y][0])==-1){w=e[0][g];var I=!0;switch(w[1][0]){case 4:I=!1;case 0:v=Qr(" ",w[1][1]);break;case 5:I=!1;case 1:v=Qr("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((I?v:"")+l.pop()+(I?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function MUe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Ra(e,t-2)];var l=jx(e,o,r);return t!==o+a&&(s=_x(e,t-o-a,l,r)),e.l=n,[l,s]}function FUe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Ra(e,t-2)];var l=jx(e,o,r);return t!==o+a&&(s=_x(e,t-o-a,l,r)),e.l=n,[l,s]}function IUe(e,t,r,n){var a=e.l+t,s=jx(e,n,r),o;return a!==e.l&&(o=_x(e,a-e.l,s,r)),[s,o]}function LUe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),o=jx(e,s,r);return s==65535?[[],Ra(e,t-2)]:(t!==s+2&&(a=_x(e,n-s-2,o,r)),[o,a])}function $Ue(e){var t;if(Yl(e,e.l+6)!==65535)return[Ea(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function w2(e,t,r){var n=e.l+t,a=El(e);r.biff==2&&++e.l;var s=$Ue(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=FUe(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function hj(e,t,r){var n=e.read_shift(4),a=jx(e,n,r),s=e.read_shift(4),o=s>0?_x(e,s,a,r):null;return[a,o]}var BUe=hj,mj=hj,UUe=hj,zUe=hj,VUe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},PK={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},WUe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function s5(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function _2(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var rg={},Gh={};function ng(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function OK(e,t,r,n,a,s){try{n.cellNF&&(e.z=Ft[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Hn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ft[t]==null&&Gd(H5e[t]||"General",t),e.t==="e")e.w=e.w||Ff[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=vv(e.v);else if(e.t==="d"){var o=as(e.v);(o|0)===o?e.w=o.toString(10):e.w=vv(o)}else{if(e.v===void 0)return"";e.w=vf(e.v,Gh)}else e.t==="d"?e.w=Mi(t,as(e.v),Gh):e.w=Mi(t,e.v,Gh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=iw(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=iw(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function HUe(e,t){var r=Zr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Jt(r))}var qUe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,GUe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,KUe=/<(?:\w:)?hyperlink [^>]*>/mg,YUe=/"(\w*:\w*)"/,XUe=/<(?:\w:)?col\b[^>]*[\/]?>/g,QUe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,ZUe=/<(?:\w:)?pageMargins[^>]*\/>/g,DK=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,JUe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,e7e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function t7e(e,t,r,n,a,s,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(GUe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(DK);h?iO(h[0],l,a,r):(h=u.match(JUe))&&r7e(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=u.slice(m,m+50).match(YUe);p&&HUe(l,p[1])}var g=u.match(e7e);g&&g[1]&&l7e(g[1],a);var v=[];if(t.cellStyles){var y=u.match(XUe);y&&s7e(v,y)}f&&c7e(f[1],l,t,c,s,o);var b=d.match(QUe);b&&(l["!autofilter"]=i7e(b[0]));var w=[],_=d.match(qUe);if(_)for(m=0;m!=_.length;++m)w[m]=Zr(_[m].slice(_[m].indexOf('"')+1));var j=d.match(KUe);j&&n7e(l,j,n);var N=d.match(ZUe);if(N&&(l["!margins"]=a7e(kt(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Jt(c)),t.sheetRows>0&&l["!ref"]){var S=Zr(l["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>c.e.r&&(S.e.r=c.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>c.e.c&&(S.e.c=c.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Jt(S))}return v.length>0&&(l["!cols"]=v),w.length>0&&(l["!merges"]=w),l}function iO(e,t,r,n){var a=kt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=nr(Er(a.codeName)))}function r7e(e,t,r,n,a){iO(e.slice(0,e.indexOf(">")),r,n,a)}function n7e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=kt(Er(t[a]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+nr(s.location))):(s.Target="#"+nr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=Zr(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=At({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function a7e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function s7e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=kt(t[n],!0);a.hidden&&(a.hidden=Ir(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,aO(a.width)),tp(a);s<=o;)e[s++]=na(a)}}function i7e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var o7e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function l7e(e,t){t.Views||(t.Views=[{}]),(e.match(o7e)||[]).forEach(function(r,n){var a=kt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Ir(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var c7e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=xv("v"),o=xv("f");return function(c,u,d,f,h,m){for(var p=0,g="",v=[],y=[],b=0,w=0,_=0,j="",N,S,k=0,C=0,E,P,T=0,W=0,G=Array.isArray(m.CellXf),U,L=[],V=[],B=Array.isArray(u),I=[],X={},Q=!1,O=!!d.sheetStubs,M=c.split(t),F=0,H=M.length;F!=H;++F){g=M[F].trim();var ee=g.length;if(ee!==0){var ne=0;e:for(p=0;p<ee;++p)switch(g[p]){case">":if(g[p-1]!="/"){++p;break e}if(d&&d.cellStyles){if(S=kt(g.slice(ne,p),!0),k=S.r!=null?parseInt(S.r,10):k+1,C=-1,d.sheetRows&&d.sheetRows<k)continue;X={},Q=!1,S.ht&&(Q=!0,X.hpt=parseFloat(S.ht),X.hpx=_v(X.hpt)),S.hidden=="1"&&(Q=!0,X.hidden=!0),S.outlineLevel!=null&&(Q=!0,X.level=+S.outlineLevel),Q&&(I[k-1]=X)}break;case"<":ne=p;break}if(ne>=p)break;if(S=kt(g.slice(ne,p),!0),k=S.r!=null?parseInt(S.r,10):k+1,C=-1,!(d.sheetRows&&d.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),d&&d.cellStyles&&(X={},Q=!1,S.ht&&(Q=!0,X.hpt=parseFloat(S.ht),X.hpx=_v(X.hpt)),S.hidden=="1"&&(Q=!0,X.hidden=!0),S.outlineLevel!=null&&(Q=!0,X.level=+S.outlineLevel),Q&&(I[k-1]=X)),v=g.slice(p).split(e);for(var ge=0;ge!=v.length&&v[ge].trim().charAt(0)=="<";++ge);for(v=v.slice(ge),p=0;p!=v.length;++p)if(g=v[p].trim(),g.length!==0){if(y=g.match(r),b=p,w=0,_=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,y!=null&&y.length===2){for(b=0,j=y[1],w=0;w!=j.length&&!((_=j.charCodeAt(w)-64)<1||_>26);++w)b=26*b+_;--b,C=b}else++C;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,S=kt(g.slice(0,w),!0),S.r||(S.r=At({r:k-1,c:C})),j=g.slice(w),N={t:""},(y=j.match(s))!=null&&y[1]!==""&&(N.v=nr(y[1])),d.cellFormula){if((y=j.match(o))!=null&&y[1]!==""){if(N.f=nr(Er(y[1])).replace(/\r\n/g,`
`),d.xlfn||(N.f=t5(N.f)),y[0].indexOf('t="array"')>-1)N.F=(j.match(a)||[])[1],N.F.indexOf(":")>-1&&L.push([Zr(N.F),N.F]);else if(y[0].indexOf('t="shared"')>-1){P=kt(y[0]);var se=nr(Er(y[1]));d.xlfn||(se=t5(se)),V[parseInt(P.si,10)]=[P,se,S.r]}}else(y=j.match(/<f[^>]*\/>/))&&(P=kt(y[0]),V[P.si]&&(N.f=b9e(V[P.si][1],V[P.si][2],S.r)));var Z=es(S.r);for(w=0;w<L.length;++w)Z.r>=L[w][0].s.r&&Z.r<=L[w][0].e.r&&Z.c>=L[w][0].s.c&&Z.c<=L[w][0].e.c&&(N.F=L[w][1])}if(S.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(O)N.t="z";else continue;else N.t=S.t||"n";switch(f.s.c>C&&(f.s.c=C),f.e.c<C&&(f.e.c=C),N.t){case"n":if(N.v==""||N.v==null){if(!O)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!O)continue;N.t="z"}else E=rg[parseInt(N.v,10)],N.v=E.t,N.r=E.r,d.cellHTML&&(N.h=E.h);break;case"str":N.t="s",N.v=N.v!=null?Er(N.v):"",d.cellHTML&&(N.h=GP(N.v));break;case"inlineStr":y=j.match(n),N.t="s",y!=null&&(E=nO(y[1]))?(N.v=E.t,d.cellHTML&&(N.h=E.h)):N.v="";break;case"b":N.v=Ir(N.v);break;case"d":d.cellDates?N.v=Hn(N.v,1):(N.v=as(Hn(N.v,1)),N.t="n");break;case"e":(!d||d.cellText!==!1)&&(N.w=N.v),N.v=eK[N.v];break}if(T=W=0,U=null,G&&S.s!==void 0&&(U=m.CellXf[S.s],U!=null&&(U.numFmtId!=null&&(T=U.numFmtId),d.cellStyles&&U.fillId!=null&&(W=U.fillId))),OK(N,T,W,d,h,m),d.cellDates&&G&&N.t=="n"&&Fp(Ft[T])&&(N.t="d",N.v=dj(N.v)),S.cm&&d.xlmeta){var ce=(d.xlmeta.Cell||[])[+S.cm-1];ce&&ce.type=="XLDAPR"&&(N.D=!0)}if(B){var A=es(S.r);u[A.r]||(u[A.r]=[]),u[A.r][A.c]=N}else u[S.r]=N}}}}I.length>0&&(u["!rows"]=I)}}();function u7e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var d7e=Mf;function f7e(){}function h7e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=M$e(e),r}function m7e(e){var t=$i(e);return[t]}function p7e(e){var t=Rf(e);return[t]}function g7e(e){var t=$i(e),r=e.read_shift(1);return[t,r,"b"]}function v7e(e){var t=Rf(e),r=e.read_shift(1);return[t,r,"b"]}function x7e(e){var t=$i(e),r=e.read_shift(1);return[t,r,"e"]}function y7e(e){var t=Rf(e),r=e.read_shift(1);return[t,r,"e"]}function b7e(e){var t=$i(e),r=e.read_shift(4);return[t,r,"s"]}function w7e(e){var t=Rf(e),r=e.read_shift(4);return[t,r,"s"]}function _7e(e){var t=$i(e),r=Ea(e);return[t,r,"n"]}function RK(e){var t=Rf(e),r=Ea(e);return[t,r,"n"]}function j7e(e){var t=$i(e),r=eO(e);return[t,r,"n"]}function S7e(e){var t=Rf(e),r=eO(e);return[t,r,"n"]}function N7e(e){var t=$i(e),r=ZP(e);return[t,r,"is"]}function k7e(e){var t=$i(e),r=Aa(e);return[t,r,"str"]}function C7e(e){var t=Rf(e),r=Aa(e);return[t,r,"str"]}function E7e(e,t,r){var n=e.l+t,a=$i(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=mj(e,n-e.l,r);o[3]=ja(l,null,a,r.supbooks,r)}else e.l=n;return o}function T7e(e,t,r){var n=e.l+t,a=$i(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=mj(e,n-e.l,r);o[3]=ja(l,null,a,r.supbooks,r)}else e.l=n;return o}function A7e(e,t,r){var n=e.l+t,a=$i(e);a.r=r["!row"];var s=Ea(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=mj(e,n-e.l,r);o[3]=ja(l,null,a,r.supbooks,r)}else e.l=n;return o}function P7e(e,t,r){var n=e.l+t,a=$i(e);a.r=r["!row"];var s=Aa(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=mj(e,n-e.l,r);o[3]=ja(l,null,a,r.supbooks,r)}else e.l=n;return o}var O7e=Mf;function D7e(e,t){var r=e.l+t,n=Mf(e),a=JP(e),s=Aa(e),o=Aa(e),l=Aa(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function R7e(){}function M7e(e,t,r){var n=e.l+t,a=QG(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=BUe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function F7e(e,t,r){var n=e.l+t,a=Mf(e),s=[a];if(r.cellFormula){var o=zUe(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}var I7e=["left","right","top","bottom","header","footer"];function L7e(e){var t={};return I7e.forEach(function(r){t[r]=Ea(e)}),t}function $7e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function B7e(){}function U7e(){}function z7e(e,t,r,n,a,s,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,g,v,y,b,w,_,j,N=[];l.biff=12,l["!row"]=0;var S=0,k=!1,C=[],E={},P=l.supbooks||a.supbooks||[[]];if(P.sharedf=E,P.arrayf=C,P.SheetNames=a.SheetNames||a.Sheets.map(function(B){return B.name}),!l.supbooks&&(l.supbooks=P,a.Names))for(var T=0;T<a.Names.length;++T)P[0][T+1]=a.Names[T];var W=[],G=[],U=!1;cw[16]={n:"BrtShortReal",f:RK};var L;if(Nc(e,function(I,X,Q){if(!h)switch(Q){case 148:u=I;break;case 0:m=I,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),_=aa(v=m.r),l["!row"]=m.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=_v(I.hpt)),G[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:I[2]},I[2]){case"n":p.v=I[1];break;case"s":w=rg[I[1]],p.v=w.t,p.r=w.r;break;case"b":p.v=!!I[1];break;case"e":p.v=I[1],l.cellText!==!1&&(p.w=Ff[p.v]);break;case"str":p.t="s",p.v=I[1];break;case"is":p.t="s",p.v=I[1].t;break}if((g=o.CellXf[I[0].iStyleRef])&&OK(p,g.numFmtId,null,l,s,o),y=I[0].c==-1?y+1:I[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=p):c[Rn(y)+_]=p,l.cellFormula){for(k=!1,S=0;S<C.length;++S){var O=C[S];m.r>=O[0].s.r&&m.r<=O[0].e.r&&y>=O[0].s.c&&y<=O[0].e.c&&(p.F=Jt(O[0]),k=!0)}!k&&I.length>3&&(p.f=I[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),l.cellDates&&g&&p.t=="n"&&Fp(Ft[g.numFmtId])){var M=Td(p.v);M&&(p.t="d",p.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}L&&(L.type=="XLDAPR"&&(p.D=!0),L=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;p={t:"z",v:void 0},y=I[0].c==-1?y+1:I[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=p):c[Rn(y)+_]=p,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),L&&(L.type=="XLDAPR"&&(p.D=!0),L=void 0);break;case 176:N.push(I);break;case 49:L=((l.xlmeta||{}).Cell||[])[I-1];break;case 494:var F=n["!id"][I.relId];for(F?(I.Target=F.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=F):I.relId==""&&(I.Target="#"+I.loc),v=I.rfx.s.r;v<=I.rfx.e.r;++v)for(y=I.rfx.s.c;y<=I.rfx.e.c;++y)l.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=I):(b=At({c:y,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=I);break;case 426:if(!l.cellFormula)break;C.push(I),j=l.dense?c[v][y]:c[Rn(y)+_],j.f=ja(I[1],d,{r:m.r,c:y},P,l),j.F=Jt(I[0]);break;case 427:if(!l.cellFormula)break;E[At(I[0].s)]=I[1],j=l.dense?c[v][y]:c[Rn(y)+_],j.f=ja(I[1],d,{r:m.r,c:y},P,l);break;case 60:if(!l.cellStyles)break;for(;I.e>=I.s;)W[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},U||(U=!0,aO(I.w/256)),tp(W[I.e+1]);break;case 161:c["!autofilter"]={ref:Jt(I)};break;case 476:c["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(c["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!X.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+Q.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Jt(u||d)),l.sheetRows&&c["!ref"]){var V=Zr(c["!ref"]);l.sheetRows<=+V.e.r&&(V.e.r=l.sheetRows-1,V.e.r>d.e.r&&(V.e.r=d.e.r),V.e.r<V.s.r&&(V.s.r=V.e.r),V.e.c>d.e.c&&(V.e.c=d.e.c),V.e.c<V.s.c&&(V.s.c=V.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Jt(V))}return N.length>0&&(c["!merges"]=N),W.length>0&&(c["!cols"]=W),G.length>0&&(c["!rows"]=G),c}function V7e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=nr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function W7e(e,t,r,n,a,s){var o=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=V7e(f);d.s.r=d.s.c=0,d.e.c=l,u=Rn(l),h[0].forEach(function(m,p){o[u+aa(p)]={t:"n",v:m,z:h[1]},c=p}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Jt(d)),o}function H7e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(DK);return l&&iO(l[0],s,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function q7e(e,t){e.l+=10;var r=Aa(e);return{name:r}}function G7e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Nc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var MK=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],K7e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Y7e=[],X7e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function i5(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Ir(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function o5(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Ir(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function FK(e){o5(e.WBProps,MK),o5(e.CalcPr,X7e),i5(e.WBView,K7e),i5(e.Sheets,Y7e),Gh.date1904=Ir(e.WBProps.date1904)}var Q7e="][*?/\\".split("");function Z7e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Q7e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var J7e=/<\w+:workbook/;function eze(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},o=0;if(e.replace(Ia,function(c,u){var d=kt(c);switch(Cl(d[0])){case"<?xml":break;case"<workbook":c.match(J7e)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":MK.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Ir(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Er(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=nr(Er(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Er(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Ir(d.hidden||"0")&&(s.Hidden=!0),o=u+c.length;break;case"</definedName>":s.Ref=nr(Er(e.slice(o,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),x$e.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return FK(r),r}function tze(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=GC(e),r.name=Aa(e),r}function rze(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Aa(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function nze(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function aze(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=F$e(e),o=UUe(e,0,r),l=JP(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function sze(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],cw[16]={n:"BrtFRTArchID$",f:nze},Nc(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ja(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),FK(r),r.Names=s,r.supbooks=o,r}function ize(e,t,r){return t.slice(-4)===".bin"?sze(e,r):eze(e,r)}function oze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?z7e(e,n,r,a,s,o,l):t7e(e,n,r,a,s,o,l)}function lze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?G7e(e,n,r,a,s):H7e(e,n,r,a,s)}function cze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?v9e():x9e()}function uze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?p9e():g9e()}function dze(e,t,r,n){return t.slice(-4)===".bin"?OBe(e,r,n):kBe(e,r,n)}function fze(e,t,r){return _K(e,r)}function hze(e,t,r){return t.slice(-4)===".bin"?K6e(e,r):q6e(e,r)}function mze(e,t,r){return t.slice(-4)===".bin"?f9e(e,r):o9e(e,r)}function pze(e,t,r){return t.slice(-4)===".bin"?a9e(e):r9e(e)}function gze(e,t,r,n){return r.slice(-4)===".bin"?s9e(e,t,r,n):void 0}function vze(e,t,r){return t.slice(-4)===".bin"?e9e(e,t,r):t9e(e,t,r)}var IK=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,LK=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function qi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(IK),s,o,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(LK),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),n[l]=s[2].slice(1,s[2].length-1));return n}function xze(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(IK),a,s,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(LK),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}var ag;function yze(e,t){var r=ag[e]||nr(e);return r==="General"?vf(t):Mi(r,t)}function bze(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ir(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Hn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[nr(t)]=a}function wze(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Ff[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=vv(e.v):e.w=vf(e.v):e.w=yze(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=ag[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Fp(n)){var a=Td(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function _ze(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=bBe[n.Pattern]||n.Pattern)}e[t.ID]=t}function jze(e,t,r,n,a,s,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],p=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ir(e);break;case"String":n.t="s",n.r=TL(nr(e)),n.v=e.indexOf("<")>-1?nr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Hn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=nr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=eK[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=TL(t||e));break}if(wze(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=nr(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=qh(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=qh("RC:RC",a):n.ArrayRange&&(n.F=qh(n.ArrayRange,a),c.push([Zr(n.F),n.F]))}else for(p=0;p<c.length;++p)a.r>=c[p][0].s.r&&a.r<=c[p][0].e.r&&a.c>=c[p][0].s.c&&a.c<=c[p][0].e.c&&(n.F=c[p][1]);u.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Sze(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function j2(e,t){var r=t||{};kG();var n=S0(KP(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Er(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=na(r);return o.type="string",bv.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(vt){a.indexOf("<"+vt)>=0&&(s=!0)}),s)return Dze(n,r);ag={"General Number":"General","General Date":Ft[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ft[15],"Short Date":Ft[14],"Long Time":Ft[19],"Medium Time":Ft[18],"Short Time":Ft[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ft[2],Standard:Ft[4],Percent:Ft[10],Scientific:Ft[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",p={},g={},v=qi('<Data ss:Type="String">'),y=0,b=0,w=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},N={},S="",k=0,C=[],E={},P={},T=0,W=[],G=[],U={},L=[],V,B=!1,I=[],X=[],Q={},O=0,M=0,F={Sheets:[],WBProps:{date1904:!1}},H={};yv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";l=yv.exec(n);)switch(l[3]=(ee=l[3]).toLowerCase()){case"data":if(ee=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?jze(n.slice(y,l.index),S,v,c[c.length-1][0]=="comment"?U:p,{c:b,r:w},j,L[b],g,I,r):(S="",v=qi(l[0]),y=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(G.length>0&&(p.c=G),(!r.sheetRows||r.sheetRows>w)&&p.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][b]=p):h[Rn(b)+aa(w)]=p),p.HRef&&(p.l={Target:nr(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(O=b+(parseInt(p.MergeAcross,10)|0),M=w+(parseInt(p.MergeDown,10)|0),C.push({s:{c:b,r:w},e:{c:O,r:M}})),!r.sheetStubs)p.MergeAcross?b=O+1:++b;else if(p.MergeAcross||p.MergeDown){for(var ne=b;ne<=O;++ne)for(var ge=w;ge<=M;++ge)(ne>b||ge>w)&&(r.dense?(h[ge]||(h[ge]=[]),h[ge][ne]={t:"z"}):h[Rn(ne)+aa(ge)]={t:"z"});b=O+1}else++b;else p=xze(l[0]),p.Index&&(b=+p.Index-1),b<_.s.c&&(_.s.c=b),b>_.e.c&&(_.e.c=b),l[0].slice(-2)==="/>"&&++b,G=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(w<_.s.r&&(_.s.r=w),w>_.e.r&&(_.e.r=w),l[0].slice(-2)==="/>"&&(g=qi(l[0]),g.Index&&(w=+g.Index-1)),b=0,++w):(g=qi(l[0]),g.Index&&(w=+g.Index-1),Q={},(g.AutoFitHeight=="0"||g.Height)&&(Q.hpx=parseInt(g.Height,10),Q.hpt=wK(Q.hpx),X[w]=Q),g.Hidden=="1"&&(Q.hidden=!0,X[w]=Q));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=Jt(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=Jt(_))),C.length&&(h["!merges"]=C),L.length>0&&(h["!cols"]=L),X.length>0&&(h["!rows"]=X),d[m]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,c.push([l[3],!1]),u=qi(l[0]),m=nr(u.Name),h=r.dense?[]:{},C=[],I=[],X=[],H={name:m,Hidden:0},F.Sheets.push(H);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),L=[],B=!1}break;case"style":l[1]==="/"?_ze(j,N,r):N=qi(l[0]);break;case"numberformat":N.nf=nr(qi(l[0]).Format||"General"),ag[N.nf]&&(N.nf=ag[N.nf]);for(var se=0;se!=392&&Ft[se]!=N.nf;++se);if(se==392){for(se=57;se!=392;++se)if(Ft[se]==null){Gd(N.nf,se);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(V=qi(l[0]),V.Hidden&&(V.hidden=!0,delete V.Hidden),V.Width&&(V.wpx=parseInt(V.Width,10)),!B&&V.wpx>10){B=!0,qa=yK;for(var Z=0;Z<L.length;++Z)L[Z]&&tp(L[Z])}B&&tp(V),L[V.Index-1||L.length]=V;for(var ce=0;ce<+V.Span;++ce)L[L.length]=na(V);break;case"namedrange":if(l[1]==="/")break;F.Names||(F.Names=[]);var A=kt(l[0]),$e={Name:A.Name,Ref:qh(A.RefersTo.slice(1),{r:0,c:0})};F.Sheets.length>0&&($e.Sheet=F.Sheets.length-1),F.Names.push($e);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?S+=n.slice(k,l.index):k=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=qi(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?o8e(E,ee,n.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));Sze(U),G.push(U)}else c.push([l[3],!1]),u=qi(l[0]),U={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Me=qi(l[0]);h["!autofilter"]={ref:qh(Me.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return h5(n,r);var Fe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Fe=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Fe=!1}break;case"excelworkbook":switch(l[3]){case"date1904":F.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Fe=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Fe=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(T,l.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else T=l.index+l[0].length;break;case"header":h["!margins"]||ng(h["!margins"]={},"xlml"),isNaN(+kt(l[0]).Margin)||(h["!margins"].header=+kt(l[0]).Margin);break;case"footer":h["!margins"]||ng(h["!margins"]={},"xlml"),isNaN(+kt(l[0]).Margin)||(h["!margins"].footer=+kt(l[0]).Margin);break;case"pagemargins":var ze=kt(l[0]);h["!margins"]||ng(h["!margins"]={},"xlml"),isNaN(+ze.Top)||(h["!margins"].top=+ze.Top),isNaN(+ze.Left)||(h["!margins"].left=+ze.Left),isNaN(+ze.Right)||(h["!margins"].right=+ze.Right),isNaN(+ze.Bottom)||(h["!margins"].bottom=+ze.Bottom);break;case"displayrighttoleft":F.Views||(F.Views=[]),F.Views[0]||(F.Views[0]={}),F.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Fe=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Fe=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Fe=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Fe=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Fe=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Fe=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Fe=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Fe=!1}break;case"smarttags":break;default:Fe=!1;break}if(Fe||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?bze(P,ee,W,n.slice(T,l.index)):(W=l,T=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Re={};return!r.bookSheets&&!r.bookProps&&(Re.Sheets=d),Re.SheetNames=f,Re.Workbook=F,Re.SSF=na(Ft),Re.Props=E,Re.Custprops=P,Re}function QC(e,t){switch(cO(t=t||{}),t.type||"base64"){case"base64":return j2(ii(e),t);case"binary":case"buffer":case"file":return j2(e,t);case"array":return j2(Df(e),t)}}function Nze(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=$$e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=B$e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var kze=[60,1084,2066,2165,2175];function Cze(e,t,r,n,a){var s=n,o=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=s;for(var c=Yl(r,r.l),u=ZC[c],d=0;u!=null&&kze.indexOf(c)>-1;)s=Yl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),o.push(l),r.l+=4+s,u=ZC[c=Yl(r,r.l)];var f=Yc(o);Zn(f,0);var h=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(h),h+=o[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Lo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ft[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Ff[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=vv(e.v):e.w=vf(e.v):e.w=Mi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Fp(Ft[n]||String(n))){var a=Td(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Ty(e,t,r){return{v:e,ixfe:t,t:r}}function Eze(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},o={},l=null,c=[],u="",d={},f,h="",m,p,g,v,y={},b=[],w,_,j=[],N=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},C=function(Ae){return Ae<8?Kd[Ae]:Ae<64&&N[Ae-8]||Kd[Ae]},E=function(Ae,Pe,Ze){var qe=Pe.XF.data;if(!(!qe||!qe.patternType||!Ze||!Ze.cellStyles)){Pe.s={},Pe.s.patternType=qe.patternType;var it;(it=wv(C(qe.icvFore)))&&(Pe.s.fgColor={rgb:it}),(it=wv(C(qe.icvBack)))&&(Pe.s.bgColor={rgb:it})}},P=function(Ae,Pe,Ze){if(!(Q>1)&&!(Ze.sheetRows&&Ae.r>=Ze.sheetRows)){if(Ze.cellStyles&&Pe.XF&&Pe.XF.data&&E(Ae,Pe,Ze),delete Pe.ixfe,delete Pe.XF,f=Ae,h=At(Ae),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Ae.r<o.s.r&&(o.s.r=Ae.r),Ae.c<o.s.c&&(o.s.c=Ae.c),Ae.r+1>o.e.r&&(o.e.r=Ae.r+1),Ae.c+1>o.e.c&&(o.e.c=Ae.c+1),Ze.cellFormula&&Pe.f){for(var qe=0;qe<b.length;++qe)if(!(b[qe][0].s.c>Ae.c||b[qe][0].s.r>Ae.r)&&!(b[qe][0].e.c<Ae.c||b[qe][0].e.r<Ae.r)){Pe.F=Jt(b[qe][0]),(b[qe][0].s.c!=Ae.c||b[qe][0].s.r!=Ae.r)&&delete Pe.f,Pe.f&&(Pe.f=""+ja(b[qe][1],o,Ae,I,T));break}}Ze.dense?(a[Ae.r]||(a[Ae.r]=[]),a[Ae.r][Ae.c]=Pe):a[h]=Pe}},T={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var W,G=[],U=[],L=[],V=[],B=!1,I=[];I.SheetNames=T.snames,I.sharedf=T.sharedf,I.arrayf=T.arrayf,I.names=[],I.XTI=[];var X=0,Q=0,O=0,M=[],F=[],H;T.codepage=1200,co(1200);for(var ee=!1;e.l<e.length-1;){var ne=e.l,ge=e.read_shift(2);if(ge===0&&X===10)break;var se=e.l===e.length?0:e.read_shift(2),Z=ZC[ge];if(Z&&Z.f){if(t.bookSheets&&X===133&&ge!==133)break;if(X=ge,Z.r===2||Z.r==12){var ce=e.read_shift(2);if(se-=2,!T.enc&&ce!==ge&&((ce&255)<<8|ce>>8)!==ge)throw new Error("rt mismatch: "+ce+"!="+ge);Z.r==12&&(e.l+=10,se-=10)}var A={};if(ge===10?A=Z.f(e,se,T):A=Cze(ge,Z,e,se,T),Q==0&&[9,521,1033,2057].indexOf(X)===-1)continue;switch(ge){case 34:r.opts.Date1904=S.WBProps.date1904=A;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=A,!t.password)throw new Error("File is password-protected");if(A.valid==null)throw new Error("Encryption scheme unsupported");if(!A.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=A;break;case 66:var $e=Number(A);switch($e){case 21010:$e=1200;break;case 32768:$e=1e4;break;case 32769:$e=1252;break}co(T.codepage=$e),ee=!0;break;case 317:T.rrtabid=A;break;case 25:T.winlocked=A;break;case 439:r.opts.RefreshAll=A;break;case 12:r.opts.CalcCount=A;break;case 16:r.opts.CalcDelta=A;break;case 17:r.opts.CalcIter=A;break;case 13:r.opts.CalcMode=A;break;case 14:r.opts.CalcPrecision=A;break;case 95:r.opts.CalcSaveRecalc=A;break;case 15:T.CalcRefMode=A;break;case 2211:r.opts.FullCalc=A;break;case 129:A.fDialog&&(a["!type"]="dialog"),A.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),A.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:j.push(A);break;case 430:I.push([A]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(A);break;case 24:case 536:H={Name:A.Name,Ref:ja(A.rgce,o,null,I,T)},A.itab>0&&(H.Sheet=A.itab-1),I.names.push(H),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(A),A.Name=="_xlnm._FilterDatabase"&&A.itab>0&&A.rgce&&A.rgce[0]&&A.rgce[0][0]&&A.rgce[0][0][0]=="PtgArea3d"&&(F[A.itab-1]={ref:Jt(A.rgce[0][0][1][2])});break;case 22:T.ExternCount=A;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(A),I.XTI=I.XTI.concat(A);break;case 2196:if(T.biff<8)break;H!=null&&(H.Comment=A[1]);break;case 18:a["!protect"]=A;break;case 19:A!==0&&T.WTF&&console.error("Password verifier: "+A);break;case 133:s[A.pos]=A,T.snames.push(A.name);break;case 10:{if(--Q)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Jt(o),t.sheetRows&&t.sheetRows<=o.e.r){var Me=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Jt(o),o.e.r=Me}o.e.r++,o.e.c++}G.length>0&&(a["!merges"]=G),U.length>0&&(a["!objects"]=U),L.length>0&&(a["!cols"]=L),V.length>0&&(a["!rows"]=V),S.Sheets.push(k)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[ge]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[A.BIFFVer]||8),T.biffguess=A.BIFFVer==0,A.BIFFVer==0&&A.dt==4096&&(T.biff=5,ee=!0,co(T.codepage=28591)),T.biff==8&&A.BIFFVer==0&&A.dt==16&&(T.biff=2),Q++)break;if(a=t.dense?[]:{},T.biff<8&&!ee&&(ee=!0,co(T.codepage=t.codepage||1252)),T.biff<5||A.BIFFVer==0&&A.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Fe={pos:e.l-se,name:u};s[Fe.pos]=Fe,T.snames.push(u)}else u=(s[ne]||{name:""}).name;A.dt==32&&(a["!type"]="chart"),A.dt==64&&(a["!type"]="macro"),G=[],U=[],T.arrayf=b=[],L=[],V=[],B=!1,k={Hidden:(s[ne]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[A.r]||[])[A.c]:a[At({c:A.c,r:A.r})])&&++A.c,w={ixfe:A.ixfe,XF:j[A.ixfe]||{},v:A.val,t:"n"},O>0&&(w.z=M[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t);break;case 5:case 517:w={ixfe:A.ixfe,XF:j[A.ixfe],v:A.val,t:A.t},O>0&&(w.z=M[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t);break;case 638:w={ixfe:A.ixfe,XF:j[A.ixfe],v:A.rknum,t:"n"},O>0&&(w.z=M[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t);break;case 189:for(var ze=A.c;ze<=A.C;++ze){var Re=A.rkrec[ze-A.c][0];w={ixfe:Re,XF:j[Re],v:A.rkrec[ze-A.c][1],t:"n"},O>0&&(w.z=M[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),P({c:ze,r:A.r},w,t)}break;case 6:case 518:case 1030:{if(A.val=="String"){l=A;break}if(w=Ty(A.val,A.cell.ixfe,A.tt),w.XF=j[w.ixfe],t.cellFormula){var vt=A.formula;if(vt&&vt[0]&&vt[0][0]&&vt[0][0][0]=="PtgExp"){var mt=vt[0][0][1][0],oe=vt[0][0][1][1],me=At({r:mt,c:oe});y[me]?w.f=""+ja(A.formula,o,A.cell,I,T):w.F=((t.dense?(a[mt]||[])[oe]:a[me])||{}).F}else w.f=""+ja(A.formula,o,A.cell,I,T)}O>0&&(w.z=M[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),P(A.cell,w,t),l=A}break;case 7:case 519:if(l)l.val=A,w=Ty(A,l.cell.ixfe,"s"),w.XF=j[w.ixfe],t.cellFormula&&(w.f=""+ja(l.formula,o,l.cell,I,T)),O>0&&(w.z=M[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),P(l.cell,w,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(A);var z=At(A[0].s);if(m=t.dense?(a[A[0].s.r]||[])[A[0].s.c]:a[z],t.cellFormula&&m){if(!l||!z||!m)break;m.f=""+ja(A[1],o,A[0],I,T),m.F=Jt(A[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;y[At(l.cell)]=A[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[At(l.cell)],(m||{}).f=""+ja(A[0],o,f,I,T)}}break;case 253:w=Ty(c[A.isst].t,A.ixfe,"s"),c[A.isst].h&&(w.h=c[A.isst].h),w.XF=j[w.ixfe],O>0&&(w.z=M[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:A.ixfe,XF:j[A.ixfe],t:"z"},O>0&&(w.z=M[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t));break;case 190:if(t.sheetStubs)for(var de=A.c;de<=A.C;++de){var be=A.ixfe[de-A.c];w={ixfe:be,XF:j[be],t:"z"},O>0&&(w.z=M[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),P({c:de,r:A.r},w,t)}break;case 214:case 516:case 4:w=Ty(A.val,A.ixfe,"s"),w.XF=j[w.ixfe],O>0&&(w.z=M[w.ixfe>>8&63]),Lo(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t);break;case 0:case 512:Q===1&&(o=A);break;case 252:c=A;break;case 1054:if(T.biff==4){M[O++]=A[1];for(var we=0;we<O+163&&Ft[we]!=A[1];++we);we>=163&&Gd(A[1],O+163)}else Gd(A[1],A[0]);break;case 30:{M[O++]=A;for(var Ue=0;Ue<O+163&&Ft[Ue]!=A;++Ue);Ue>=163&&Gd(A,O+163)}break;case 229:G=G.concat(A);break;case 93:U[A.cmo[0]]=T.lastobj=A;break;case 438:T.lastobj.TxO=A;break;case 127:T.lastobj.ImData=A;break;case 440:for(v=A[0].s.r;v<=A[0].e.r;++v)for(g=A[0].s.c;g<=A[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[At({c:g,r:v})],m&&(m.l=A[1]);break;case 2048:for(v=A[0].s.r;v<=A[0].e.r;++v)for(g=A[0].s.c;g<=A[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[At({c:g,r:v})],m&&m.l&&(m.l.Tooltip=A[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;m=t.dense?(a[A[0].r]||[])[A[0].c]:a[At(A[0])];var Se=U[A[2]];m||(t.dense?(a[A[0].r]||(a[A[0].r]=[]),m=a[A[0].r][A[0].c]={t:"z"}):m=a[At(A[0])]={t:"z"},o.e.r=Math.max(o.e.r,A[0].r),o.s.r=Math.min(o.s.r,A[0].r),o.e.c=Math.max(o.e.c,A[0].c),o.s.c=Math.min(o.s.c,A[0].c)),m.c||(m.c=[]),p={a:A[1],t:Se.TxO.t},m.c.push(p)}break;case 2173:XBe(j[A.ixfe],A.ext);break;case 125:{if(!T.cellStyles)break;for(;A.e>=A.s;)L[A.e--]={width:A.w/256,level:A.level||0,hidden:!!(A.flags&1)},B||(B=!0,aO(A.w/256)),tp(L[A.e+1])}break;case 520:{var Ne={};A.level!=null&&(V[A.r]=Ne,Ne.level=A.level),A.hidden&&(V[A.r]=Ne,Ne.hidden=!0),A.hpt&&(V[A.r]=Ne,Ne.hpt=A.hpt,Ne.hpx=_v(A.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||ng(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ge]]=A;break;case 161:a["!margins"]||ng(a["!margins"]={}),a["!margins"].header=A.header,a["!margins"].footer=A.footer;break;case 574:A.RTL&&(S.Views[0].RTL=!0);break;case 146:N=A;break;case 2198:W=A;break;case 140:_=A;break;case 442:u?k.CodeName=A||k.name:S.WBProps.CodeName=A||"ThisWorkbook";break}}else Z||console.error("Missing Info for XLS Record 0x"+ge.toString(16)),e.l+=se}return r.SheetNames=yl(s).sort(function(ve,Ae){return Number(ve)-Number(Ae)}).map(function(ve){return s[ve].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&F.forEach(function(ve,Ae){r.Sheets[r.SheetNames[Ae]]["!autofilter"]=ve}),r.Strings=c,r.SSF=na(Ft),T.enc&&(r.Encryption=T.enc),W&&(r.Themes=W),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),I.names.length>0&&(S.Names=I.names),r.Workbook=S,r}var l5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Tze(e,t,r){var n=Qt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=HL(n,q$e,l5.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var o=Qt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=HL(o,G$e,l5.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(rK(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function $K(e,t){t||(t={}),cO(t),mG(),t.codepage&&UP(t.codepage);var r,n;if(e.FullPaths){if(Qt.find(e,"/encryption"))throw new Error("File is password-protected");r=Qt.find(e,"!CompObj"),n=Qt.find(e,"/Workbook")||Qt.find(e,"/Book")}else{switch(t.type){case"base64":e=io(ii(e));break;case"binary":e=io(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Zn(e,0),n={content:e}}var a,s;if(r&&Nze(r),t.bookProps&&!t.bookSheets)a={};else{var o=Kt?"buffer":"array";if(n&&n.content)a=Eze(n.content,t);else if((s=Qt.find(e,"PerfectOffice_MAIN"))&&s.content)a=tg.to_workbook(s.content,(t.type=o,t));else if((s=Qt.find(e,"NativeContent_MAIN"))&&s.content)a=tg.to_workbook(s.content,(t.type=o,t));else throw(s=Qt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Qt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=m9e(e))}var l={};return e.FullPaths&&Tze(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var cw={0:{f:u7e},1:{f:m7e},2:{f:j7e},3:{f:x7e},4:{f:g7e},5:{f:_7e},6:{f:k7e},7:{f:b7e},8:{f:P7e},9:{f:A7e},10:{f:E7e},11:{f:T7e},12:{f:p7e},13:{f:S7e},14:{f:y7e},15:{f:v7e},16:{f:RK},17:{f:C7e},18:{f:w7e},19:{f:ZP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:aze},40:{},42:{},43:{f:EBe},44:{f:CBe},45:{f:TBe},46:{f:PBe},47:{f:ABe},48:{},49:{f:O$e},50:{},51:{f:ZBe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mK},62:{f:N7e},63:{f:n9e},64:{f:B7e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ra,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:$7e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:h7e},148:{f:d7e,p:16},151:{f:R7e},152:{},153:{f:rze},154:{},155:{},156:{f:tze},157:{},158:{},159:{T:1,f:G6e},160:{T:-1},161:{T:1,f:Mf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:O7e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:QBe},336:{T:-1},337:{f:JBe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:GC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:M7e},427:{f:F7e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:L7e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:f7e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:D7e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:GC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:d9e},633:{T:1},634:{T:-1},635:{T:1,f:u9e},636:{T:-1},637:{f:R$e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:q7e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:U7e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},ZC={6:{f:w2},10:{f:Rc},12:{f:pn},13:{f:pn},14:{f:tn},15:{f:tn},16:{f:Ea},17:{f:tn},18:{f:tn},19:{f:pn},20:{f:YL},21:{f:YL},23:{f:hK},24:{f:QL},25:{f:tn},26:{},27:{},28:{f:l6e},29:{},34:{f:tn},35:{f:XL},38:{f:Ea},39:{f:Ea},40:{f:Ea},41:{f:Ea},42:{f:tn},43:{f:tn},47:{f:fBe},49:{f:V8e},51:{f:pn},60:{},61:{f:B8e},64:{f:tn},65:{f:z8e},66:{f:pn},77:{},80:{},81:{},82:{},85:{f:pn},89:{},90:{},91:{},92:{f:O8e},93:{f:u6e},94:{},95:{f:tn},96:{},97:{},99:{f:tn},125:{f:mK},128:{f:J8e},129:{f:D8e},130:{f:pn},131:{f:tn},132:{f:tn},133:{f:R8e},134:{},140:{f:g6e},141:{f:pn},144:{},146:{f:x6e},151:{},152:{},153:{},154:{},155:{},156:{f:pn},157:{},158:{},160:{f:j6e},161:{f:b6e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Y8e},190:{f:X8e},193:{f:Rc},197:{},198:{},199:{},200:{},201:{},202:{f:tn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:pn},220:{},221:{f:tn},222:{},224:{f:Z8e},225:{f:P8e},226:{f:Rc},227:{},229:{f:c6e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:M8e},253:{f:W8e},255:{f:F8e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:oK},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:tn},353:{f:Rc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:t6e},431:{f:tn},432:{},433:{},434:{},437:{},438:{f:h6e},439:{f:tn},440:{f:m6e},441:{},442:{f:bx},443:{},444:{f:pn},445:{},446:{},448:{f:Rc},449:{f:$8e,r:2},450:{f:Rc},512:{f:GL},513:{f:_6e},515:{f:e6e},516:{f:H8e},517:{f:KL},519:{f:S6e},520:{f:I8e},523:{},545:{f:ZL},549:{f:qL},566:{},574:{f:U8e},638:{f:K8e},659:{},1048:{},1054:{f:q8e},1084:{},1212:{f:s6e},2048:{f:p6e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ky},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Rc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:y6e,r:12},2173:{f:YBe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:tn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:a6e,r:12},2197:{},2198:{f:VBe,r:12},2199:{},2200:{},2201:{},2202:{f:i6e,r:12},2203:{f:Rc},2204:{},2205:{},2206:{},2207:{},2211:{f:L8e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:pn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:w6e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:v6e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:GL},1:{},2:{f:E6e},3:{f:C6e},4:{f:k6e},5:{f:KL},7:{f:T6e},8:{},9:{f:ky},11:{},22:{f:pn},30:{f:G8e},31:{},32:{},33:{f:ZL},36:{},37:{f:qL},50:{f:A6e},62:{},52:{},67:{},68:{f:pn},69:{},86:{},126:{},127:{f:N6e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:P6e},223:{},234:{},354:{},421:{},518:{f:w2},521:{f:ky},536:{f:QL},547:{f:XL},561:{},579:{},1030:{f:w2},1033:{f:ky},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Gi(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&KG(r)&&e.push(r)}}function c5(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=a.index,l=s&&s.index||e.length,c=e$e(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(o=0;o<c.length;++o){var g=c[o].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=g.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var b=y[l].trim();if(b.match(/<t[dh]/i)){for(var w=b,_=0;w.charAt(0)=="<"&&(_=w.indexOf(">"))>-1;)w=w.slice(_+1);for(var j=0;j<p.length;++j){var N=p[j];N.s.c==d&&N.s.r<u&&u<=N.e.r&&(d=N.e.c+1,j=-1)}var S=kt(b.slice(0,b.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&p.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var k=S.t||S["data-t"]||"";if(!w.length){d+=h;continue}if(w=MG(w),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!w.length){d+=h;continue}var C={t:"s",v:w};r.raw||!w.trim().length||k=="s"||(w==="TRUE"?C={t:"b",v:!0}:w==="FALSE"?C={t:"b",v:!1}:isNaN(vo(w))?isNaN(ep(w).getDate())||(C={t:"d",v:Hn(w)},r.cellDates||(C={t:"n",v:as(C.v)}),C.z=r.dateNF||Ft[14]):C={t:"n",v:vo(w)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=C):n[At({r:u,c:d})]=C,d+=h}}}}return n["!ref"]=Jt(m),p.length&&(n["!merges"]=p),n}function Aze(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=At({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||GP(f.w||(vc(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(g$e("td",h,m))}}var p="<tr>";return p+s.join("")+"</tr>"}var Pze='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Oze="</body></html>";function Dze(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Zu(c5(r[0],t),t);var n=dO();return r.forEach(function(a,s){fO(n,c5(a,t),"Sheet"+(s+1))}),n}function Rze(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Mze(e,t){var r=t||{},n=r.header!=null?r.header:Pze,a=r.footer!=null?r.footer:Oze,s=[n],o=Ip(e["!ref"]);r.dense=Array.isArray(e),s.push(Rze(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(Aze(e,o,l,r));return s.push("</table>"+a),s.join("")}function BK(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?es(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Ip(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,g=0,v=0,y=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);p<l.length&&g<c;++p){var _=l[p];if(u5(_)){if(n.display)continue;m[g]={hidden:!0}}var j=_.children;for(v=y=0;v<j.length;++v){var N=j[v];if(!(n.display&&u5(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):MG(N.innerHTML),k=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==y+s&&C.s.r<g+a&&g+a<=C.e.r&&(y=C.e.c+1-s,h=-1)}w=+N.getAttribute("colspan")||1,((b=+N.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+a,c:y+s},e:{r:g+a+(b||1)-1,c:y+s+(w||1)-1}});var E={t:"s",v:S},P=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?E.t=P||"z":n.raw||S.trim().length==0||P=="s"||(S==="TRUE"?E={t:"b",v:!0}:S==="FALSE"?E={t:"b",v:!1}:isNaN(vo(S))?isNaN(ep(S).getDate())||(E={t:"d",v:Hn(S)},n.cellDates||(E={t:"n",v:as(E.v)}),E.z=n.dateNF||Ft[14]):E={t:"n",v:vo(S)})),E.z===void 0&&k!=null&&(E.z=k);var T="",W=N.getElementsByTagName("A");if(W&&W.length)for(var G=0;G<W.length&&!(W[G].hasAttribute("href")&&(T=W[G].getAttribute("href"),T.charAt(0)!="#"));++G);T&&T.charAt(0)!="#"&&(E.l={Target:T}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][y+s]=E):e[At({c:y+s,r:g+a})]=E,u.e.c<y+s&&(u.e.c=y+s),y+=w}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Jt(u),g>=c&&(e["!fullref"]=Jt((u.e.r=l.length-p+g-1+a,u))),e}function UK(e,t){var r=t||{},n=r.dense?[]:{};return BK(n,e,t)}function Fze(e,t){return Zu(UK(e,t),t)}function u5(e){var t="",r=Ize(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Ize(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Lze(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=nr(t.replace(/<[^>]*>/g,""));return[r]}var d5={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function zK(e,t){var r=t||{},n=KP(e),a=[],s,o,l={name:""},c="",u=0,d,f,h={},m=[],p=r.dense?[]:{},g,v,y={value:""},b="",w=0,_=[],j=-1,N=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,C={},E=[],P={},T=0,W=0,G=[],U=1,L=1,V=[],B={Names:[]},I={},X=["",""],Q=[],O={},M="",F=0,H=!1,ee=!1,ne=0;for(yv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=yv.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?p["!ref"]=Jt(S):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(p["!fullref"]=p["!ref"],S.e.r=r.sheetRows-1,p["!ref"]=Jt(S)),E.length&&(p["!merges"]=E),G.length&&(p["!rows"]=G),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=p,ee=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=kt(g[0],!1),j=N=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,p=r.dense?[]:{},E=[],G=[],ee=!0);break;case"table-row-group":g[1]==="/"?--k:++k;break;case"table-row":case"":if(g[1]==="/"){j+=U,U=1;break}if(f=kt(g[0],!1),f.?j=f.-1:j==-1&&(j=0),U=+f["number-rows-repeated"]||1,U<10)for(ne=0;ne<U;++ne)k>0&&(G[j+ne]={level:k});N=-1;break;case"covered-table-cell":g[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(p[j]||(p[j]=[]),p[j][N]={t:"z"}):p[At({r:j,c:N})]={t:"z"}),b="",_=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++N,y=kt(g[0],!1),L=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=s5(nr(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=nr(y["string-value"]||""),r.dense?(p[j]||(p[j]=[]),p[j][N]=v):p[At({r:j,c:N})]=v),N+=L-1;else if(g[1]!=="/"){++N,b="",w=0,_=[],L=1;var ge=U?j+U-1:j;if(N>S.e.c&&(S.e.c=N),N<S.s.c&&(S.s.c=N),j<S.s.r&&(S.s.r=j),ge>S.e.r&&(S.e.r=ge),y=kt(g[0],!1),Q=[],O={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=nr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(T=parseInt(y["number-matrix-rows-spanned"],10)||0,W=parseInt(y["number-matrix-columns-spanned"],10)||0,P={s:{r:j,c:N},e:{r:j+T-1,c:N+W-1}},v.F=Jt(P),V.push([P,v.F])),y.formula)v.f=s5(y.formula);else for(ne=0;ne<V.length;++ne)j>=V[ne][0].s.r&&j<=V[ne][0].e.r&&N>=V[ne][0].s.c&&N<=V[ne][0].e.c&&(v.F=V[ne][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(T=parseInt(y["number-rows-spanned"],10)||0,W=parseInt(y["number-columns-spanned"],10)||0,P={s:{r:j,c:N},e:{r:j+T-1,c:N+W-1}},E.push(P)),y["number-columns-repeated"]&&(L=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Ir(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Hn(y["date-value"]),r.cellDates||(v.t="n",v.v=as(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Q5e(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=dj(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=nr(y["string-value"]),_=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(H=!1,v.t==="s"&&(v.v=b||"",_.length&&(v.R=_),H=w==0),I.Target&&(v.l=I),Q.length>0&&(v.c=Q,Q=[]),b&&r.cellText!==!1&&(v.w=b),H&&(v.t="z",delete v.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var se=0;se<U;++se){if(L=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(p[j+se]||(p[j+se]=[]),p[j+se][N]=se==0?v:na(v);--L>0;)p[j+se][N+L]=na(v);else for(p[At({r:j+se,c:N})]=v;--L>0;)p[At({r:j+se,c:N+L})]=na(v);S.e.c<=N&&(S.e.c=N)}L=parseInt(y["number-columns-repeated"]||"1",10),N+=L-1,L=0,v={},b="",_=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s;O.t=b,_.length&&(O.R=_),O.a=M,Q.push(O)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);M="",F=0,b="",w=0,_=[];break;case"creator":g[1]==="/"?M=n.slice(F,g.index):F=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",w=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(C[l.name]=c,(s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=kt(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=kt(g[0],!1),c+=d5[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=kt(g[0],!1),c+=d5[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=kt(g[0],!1),X=_2(o["cell-range-address"]);var Z={Name:o.name,Ref:X[0]+"!"+X[1]};ee&&(Z.Sheet=m.length),B.Names.push(Z);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!y||!y["string-value"])){var ce=Lze(n.slice(w,g.index));b=(b.length>0?b+`
`:"")+ce[0]}else kt(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{X=_2(kt(g[0])["target-range-address"]),h[X[0]]["!autofilter"]={ref:X[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(I=kt(g[0],!1),!I.href)break;I.Target=nr(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(X=_2(I.Target.slice(1)),I.Target="#"+X[0]+"!"+X[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var A={Sheets:h,SheetNames:m,Workbook:B};return r.bookSheets&&delete A.Sheets,A}function f5(e,t){t=t||{},yi(e,"META-INF/manifest.xml")&&e8e(mn(e,"META-INF/manifest.xml"),t);var r=Xs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=zK(Er(r),t);return yi(e,"meta.xml")&&(n.Props=tK(mn(e,"meta.xml"))),n}function h5(e,t){return zK(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function oO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function JC(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Er(Df(e))}function eE(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function m5(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function $ze(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function jv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Mn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ta(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=jv(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=jv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function lO(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Bze(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=jv(e,n),s=Ta(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Mn(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ta(l.data),u=Mn(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=Mn(s[3][0].data)>>>0>0),r.push(o)}return r}function Uze(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=jv(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[eE(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=eE(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function zze(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Uze(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return eE(t)}function Vze(e,t,r,n){var a=oO(e),s=a.getUint32(4,!0),o=(n>1?12:8)+m5(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(o,!0),o+=4),o+=m5(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(o,!0),o+=4),s&32&&(u=a.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Wze(e,t,r){var n=oO(e),a=n.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=$ze(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(o=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Hze(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Vze(e,t,r,e[0]);case 5:return Wze(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Eu(e){var t=Ta(e);return jv(t[1][0].data)}function p5(e,t){var r=Ta(t.data),n=Mn(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(o){var l=Ta(o.data),c=Mn(l[1][0].data)>>>0;switch(n){case 1:s[c]=JC(l[3][0].data);break;case 8:{var u=e[Eu(l[9][0].data)][0],d=Ta(u.data),f=e[Eu(d[1][0].data)][0],h=Mn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Ta(f.data);s[c]=m[3].map(function(p){return JC(p.data)}).join("")}break}}),s}function qze(e,t){var r,n,a,s,o,l,c,u,d,f,h,m,p,g,v=Ta(e),y=Mn(v[1][0].data)>>>0,b=Mn(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Mn(v[8][0].data)>0||!1,_,j;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,j=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,j=(g=(p=v[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=w?4:1,S=oO(_),k=[],C=0;C<_.length/2;++C){var E=S.getUint16(C*2,!0);E<65535&&k.push([C,E])}if(k.length!=b)throw"Expected ".concat(b," cells, found ").concat(k.length);var P=[];for(C=0;C<k.length-1;++C)P[k[C][0]]=j.subarray(k[C][1]*N,k[C+1][1]*N);return k.length>=1&&(P[k[k.length-1][0]]=j.subarray(k[k.length-1][1]*N)),{R:y,cells:P}}function Gze(e,t){var r,n=Ta(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Mn(n[7][0].data)>>>0>0?1:0:-1,s=lO(n[5],function(o){return qze(o,a)});return{nrows:Mn(n[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function Kze(e,t,r){var n,a=Ta(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Mn(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Mn(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Jt(s);var o=Ta(a[4][0].data),l=p5(e,e[Eu(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?p5(e,e[Eu(o[17][0].data)][0]):[],u=Ta(o[3][0].data),d=0;u[1].forEach(function(f){var h=Ta(f.data),m=e[Eu(h[2][0].data)][0],p=Mn(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var g=Gze(e,m);g.data.forEach(function(v,y){v.forEach(function(b,w){var _=At({r:d+y,c:w}),j=Hze(b,l,c);j&&(r[_]=j)})}),d+=g.nrows})}function Yze(e,t){var r=Ta(t.data),n={"!ref":"A1"},a=e[Eu(r[2][0].data)],s=Mn(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Kze(e,a[0],n),n}function Xze(e,t){var r,n=Ta(t.data),a={name:(r=n[1])!=null&&r[0]?JC(n[1][0].data):"",sheets:[]},s=lO(n[2],Eu);return s.forEach(function(o){e[o].forEach(function(l){var c=Mn(l.meta[1][0].data);c==6e3&&a.sheets.push(Yze(e,l))})}),a}function Qze(e,t){var r=dO(),n=Ta(t.data),a=lO(n[1],Eu);if(a.forEach(function(s){e[s].forEach(function(o){var l=Mn(o.meta[1][0].data);if(l==2){var c=Xze(e,o);c.sheets.forEach(function(u,d){fO(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function S2(e){var t,r,n,a,s={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=zze(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Bze(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Mn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(c){s[c].forEach(function(u){var d=Mn(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Qze(s,l)}function Zze(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function cO(e){Zze([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Jze(e){return Eh.WS.indexOf(e)>-1?"sheet":e==Eh.CS?"chart":e==Eh.DS?"dialog":e==Eh.MS?"macro":e&&e.length?e:"sheet"}function eVe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Jze(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function tVe(e,t,r,n,a,s,o,l,c,u,d,f){try{s[n]=J0(Xs(e,r,!0),t);var h=mn(e,t),m;switch(l){case"sheet":m=oze(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=lze(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var p=k0(m["!drawel"].Target,t),g=KC(p),v=i9e(Xs(e,p,!0),J0(Xs(e,g,!0),p)),y=k0(v,p),b=KC(y);m=W7e(Xs(e,y,!0),y,c,J0(Xs(e,b,!0),y),u,m);break;case"macro":m=cze(h,t,a,c,s[n],u,d,f);break;case"dialog":m=uze(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=m;var w=[];s&&s[n]&&yl(s[n]).forEach(function(_){var j="";if(s[n][_].Type==Eh.CMNT){j=k0(s[n][_].Target,t);var N=mze(mn(e,j,!0),j,c);if(!N||!N.length)return;e5(m,N,!1)}s[n][_].Type==Eh.TCMNT&&(j=k0(s[n][_].Target,t),w=w.concat(l9e(mn(e,j,!0),c)))}),w&&w.length&&e5(m,w,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function gi(e){return e.charAt(0)=="/"?e.slice(1):e}function rVe(e,t){if(kG(),t=t||{},cO(t),yi(e,"META-INF/manifest.xml")||yi(e,"objectdata.xml"))return f5(e,t);if(yi(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof S2<"u"){if(e.FileIndex)return S2(e);var r=Qt.utils.cfb_new();return CL(e).forEach(function(G){n$e(r,G,r$e(e,G))}),S2(r)}throw new Error("Unsupported NUMBERS file")}if(!yi(e,"[Content_Types].xml"))throw yi(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):yi(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=CL(e),a=Z$e(Xs(e,"[Content_Types].xml")),s=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",mn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!mn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(rg=[],a.sst)try{rg=hze(mn(e,gi(a.sst)),a.sst,t)}catch(G){if(t.WTF)throw G}t.cellStyles&&a.themes.length&&(c=fze(Xs(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=dze(mn(e,gi(a.style)),a.style,c,t))}a.links.map(function(G){try{var U=J0(Xs(e,KC(gi(G))),G);return gze(mn(e,gi(G)),U,G,t)}catch{}});var d=ize(mn(e,gi(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=mn(e,gi(a.coreprops[0]),!0),h&&(f=tK(h)),a.extprops.length!==0&&(h=mn(e,gi(a.extprops[0]),!0),h&&n8e(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Xs(e,gi(a.custprops[0]),!0),h&&(m=s8e(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(U){return U.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof o<"u"&&(p.SheetNames=o),t.bookSheets?p.SheetNames:t.bookProps))return p;o={};var g={};t.bookDeps&&a.calcchain&&(g=pze(mn(e,gi(a.calcchain)),a.calcchain));var v=0,y={},b,w;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var j=0;j!=_.length;++j)f.SheetNames[j]=_[j].name}var N=s?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),k=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");yi(e,k)||(k="xl/_rels/workbook."+N+".rels");var C=J0(Xs(e,k,!0),k.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=vze(mn(e,gi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=c9e(mn(e,gi(a.people[0])),t)),C&&(C=eVe(C,d.Sheets));var E=mn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var P="sheet";if(C&&C[v]?(b="xl/"+C[v][1].replace(/[\/]?xl\//,""),yi(e,b)||(b=C[v][1]),yi(e,b)||(b=k.replace(/_rels\/.*$/,"")+C[v][1]),P=C[v][2]):(b="xl/worksheets/sheet"+(v+1-E)+"."+N,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,W=0;W!=t.sheets.length;++W)typeof t.sheets[W]=="number"&&t.sheets[W]==v&&(T=1),typeof t.sheets[W]=="string"&&t.sheets[W].toLowerCase()==f.SheetNames[v].toLowerCase()&&(T=1);if(!T)continue e}}tVe(e,b,w,f.SheetNames[v],v,y,o,P,t,d,c,u)}return p={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:rg,Styles:u,Themes:c,SSF:na(Ft)},t&&t.bookFiles&&(e.files?(p.keys=n,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(G,U){G=G.replace(/^Root Entry[\/]/,""),p.keys.push(G),p.files[G]=e.FileIndex[U]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=mn(e,gi(a.vba[0]),!0):a.defaults&&a.defaults.bin===h9e&&(p.vbaraw=mn(e,"xl/vbaProject.bin",!0))),p}function nVe(e,t){var r=t||{},n="Workbook",a=Qt.find(e,n);try{if(n="/!DataSpaces/Version",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Y6e(a.content),n="/!DataSpaces/DataSpaceMap",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Q6e(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Z6e(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);eBe(a.content)}catch{}if(n="/EncryptionInfo",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=tBe(a.content);if(n="/EncryptedPackage",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function uO(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ii(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function aVe(e,t){return Qt.find(e,"EncryptedPackage")?nVe(e,t):$K(e,t)}function sVe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Kt&&Buffer.isBuffer(e)?"buffer":"base64"),r=OG(n,a),rVe(r,a)}function VK(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return QC(e.slice(r),t);default:break e}return bv.to_workbook(e,t)}function iVe(e,t){var r="",n=uO(e,t);switch(t.type){case"base64":r=ii(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=xf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Er(r)),t.type="binary",VK(r,t)}function oVe(e,t){var r=e;return t.type=="base64"&&(r=ii(r)),r=Kc.utils.decode(1200,r.slice(2),"str"),t.type="binary",VK(r,t)}function lVe(e){return e.match(/[^\x00-\x7F]/)?C0(e):e}function N2(e,t,r,n){return n?(r.type="string",bv.to_workbook(e,r)):bv.to_workbook(t,r)}function tE(e,t){mG();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return tE(new Uint8Array(e),(r=na(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Gh={},r.dateNF&&(Gh.dateNF=r.dateNF),r.type||(r.type=Kt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Kt?"buffer":"binary",n=Y5e(e),typeof Uint8Array<"u"&&!Kt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=lVe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=na(r),r.type="array",tE(zP(n),r)}switch((a=uO(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return aVe(Qt.read(n,r),r);break;case 9:if(a[1]<=8)return $K(n,r);break;case 60:return QC(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return F6e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return R6e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?sVe(n,r):N2(e,n,r,s);case 239:return a[3]===60?QC(n,r):N2(e,n,r,s);case 255:if(a[1]===254)return oVe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return tg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return tg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return JL.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return hBe.to_workbook(n,r);break;case 10:case 13:case 32:return iVe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return O6e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?JL.to_workbook(n,r):N2(e,n,r,s)}function cVe(e,t,r,n,a,s,o,l){var c=aa(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=o?e[r][m]:e[n[m]+c];if(p===void 0||p.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(s[m]!=null){if(g==null)if(p.t=="e"&&g===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&g===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(p.t!=="n"||p.t==="n"&&l.rawNumbers!==!1)?g:vc(p,g,l);g!=null&&(f=!1)}}return{row:h,isempty:f}}function rE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Zr(d);break;case"number":c=Zr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=aa(c.s.r),h=[],m=[],p=0,g=0,v=Array.isArray(e),y=c.s.r,b=0,w={};v&&!e[y]&&(e[y]=[]);var _=u.skipHidden&&e["!cols"]||[],j=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(_[b]||{}).hidden)switch(h[b]=Rn(b),r=v?e[y][b]:e[h[b]+f],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=vc(r,null,u),g=w[o]||0,!g)w[o]=1;else{do l=o+"_"+g++;while(w[l]);w[o]=g,w[l]=1}s[b]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(j[y]||{}).hidden){var N=cVe(e,c,y,h,n,s,v,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[p++]=N.row)}return m.length=p,m}var g5=/"/g;function uVe(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",f=aa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:vc(m,null,l));for(var p=0,g=0;p!==d.length;++p)if((g=d.charCodeAt(p))===a||g===s||g===34||l.forceQuotes){d='"'+d.replace(g5,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(g5,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function WK(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Zr(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(f[p]=Rn(p));for(var g=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=uVe(e,a,v,f,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function dVe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=WK(e,t);return r}function fVe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Zr(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=Rn(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=aa(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function HK(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?es(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=Zr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,v){yl(g).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var b=g[y],w="z",_="",j=At({c:l+m,r:o+v+a});u=Sv(s,j),b&&typeof b=="object"&&!(b instanceof Date)?s[j]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=as(b)),_=n.dateNF||Ft[14]):b===null&&n.nullError&&(w="e",b=0),u?(u.t=w,u.v=b,delete u.w,delete u.R,_&&(u.z=_)):s[j]=u={t:w,v:b},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var p=aa(o);if(a)for(m=0;m<h.length;++m)s[Rn(m+l)+p]={t:"s",v:h[m]};return s["!ref"]=Jt(d),s}function hVe(e,t){return HK(null,e,t)}function Sv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=es(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Sv(e,At(t)):Sv(e,At({r:t,c:r||0}))}function mVe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dO(){return{SheetNames:[],Sheets:{}}}function fO(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Z7e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function pVe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=mVe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function gVe(e,t){return e.z=t,e}function qK(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function vVe(e,t,r){return qK(e,"#"+t,r)}function xVe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function yVe(e,t,r,n){for(var a=typeof t!="string"?t:Zr(t),s=typeof t=="string"?t:Jt(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Sv(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var bVe={encode_col:Rn,encode_row:aa,encode_cell:At,encode_range:Jt,decode_col:QP,decode_row:XP,split_cell:P$e,decode_cell:es,decode_range:Ip,format_cell:vc,sheet_add_aoa:XG,sheet_add_json:HK,sheet_add_dom:BK,aoa_to_sheet:Lp,json_to_sheet:hVe,table_to_sheet:UK,table_to_book:Fze,sheet_to_csv:WK,sheet_to_txt:dVe,sheet_to_json:rE,sheet_to_html:Mze,sheet_to_formulae:fVe,sheet_to_row_object_array:rE,sheet_get_cell:Sv,book_new:dO,book_append_sheet:fO,book_set_sheet_visibility:pVe,cell_set_number_format:gVe,cell_set_hyperlink:qK,cell_set_internal_link:vVe,cell_add_comment:xVe,sheet_set_array_formula:yVe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const k2=({permission:e,permissions:t=[],requireAll:r=!1,children:n,fallback:a=null})=>{const{hasPermission:s}=F1();let o=!1;return e?o=s(e):t.length>0&&(r?o=t.every(l=>s(l)):o=t.some(l=>s(l))),o?i.jsx(i.Fragment,{children:n}):i.jsx(i.Fragment,{children:a})};function wVe({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var E,P;const{t:a}=Bt(),{user:s}=pr(),{toast:o}=_l(),[l,c]=x.useState("template"),[u,d]=x.useState(null),[f,h]=x.useState([]),[m,p]=x.useState({}),[g,v]=x.useState([]),[y,b]=x.useState(!1),[w,_]=x.useState(0),j=async T=>{var G;const W=(G=T.target.files)==null?void 0:G[0];if(W)try{const U=await W.arrayBuffer(),L=tE(U,{type:"array"}),V=L.Sheets[L.SheetNames[0]],B=bVe.sheet_to_json(V);if(B.length===0){o({title:a("common.error"),description:a("surveys.fileEmpty"),variant:"destructive"});return}h(B),N(B),c("preview")}catch(U){console.error("Error parsing file:",U),o({title:a("common.error"),description:a("surveys.fileParseError"),variant:"destructive"})}},N=T=>{if(!u)return;const W=t[u.template_id]||[],G=Object.keys(T[0]||{}),U=[],L={};for(const V of W){const B=V.field_label||"",I=G.find(X=>X.toLowerCase().trim()===B.toLowerCase().trim());I?L[B]=I:V.is_required&&U.push(a("surveys.requiredFieldNotFound",{field:`"${B}"`}))}p(L),v(U)},S=()=>f.slice(0,5),k=async()=>{if(!u||!s)return;const T=t[u.template_id]||[],W=[];for(const G of T)G.is_required&&!m[G.field_label||""]&&W.push(a("surveys.requiredFieldNotMapped",{field:`"${G.field_label}"`}));if(W.length>0){v(W);return}c("importing"),b(!0);try{const G=f.length,U=[];for(let V=0;V<f.length;V++){const B=f[V],I={};for(const Q of T){const O=Q.field_label||"",M=m[O];M&&B[M]!==void 0&&B[M]!==null&&B[M]!==""&&(I[O]=B[M])}const X={template_id:u.template_id,survey_name:B.survey_name||B["Survey Name"]||`Bulk Import ${V+1}`,survey_description:B.survey_description||B["Survey Description"]||null,client_name:B.client_name||B["Client Name"]||`Client ${V+1}`,client_name_ar:B.client_name_ar||B["Client Name AR"]||null,client_contact:B.client_contact||B["Client Contact"]||null,client_email:B.client_email||B["Client Email"]||null,client_address:B.client_address||B["Client Address"]||null,client_company:B.client_company||B["Client Company"]||null,client_company_ar:B.client_company_ar||B["Client Company AR"]||null,survey_responses:I,location_latitude:parseFloat(B.location_latitude||B.Latitude||"0"),location_longitude:parseFloat(B.location_longitude||B.Longitude||"0"),location_accuracy:B.location_accuracy?parseFloat(B.location_accuracy):null,location_address:B.location_address||B["Location Address"]||null,created_by:s.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:B.notes||null,notes_ar:B.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};U.push(X),_(Math.round((V+1)/G*50))}_(50);const L=await rh.createBatch(U);_(100),o({title:a("common.success"),description:a("surveys.importSuccess",{count:L.length})}),r(L),C()}catch(G){console.error("Error importing surveys:",G),o({title:a("common.error"),description:G.message||a("surveys.importFailed"),variant:"destructive"}),c("preview")}finally{b(!1)}},C=()=>{c("template"),d(null),h([]),p({}),v([]),_(0),n()};return i.jsxs(i.Fragment,{children:[i.jsxs(sn,{children:[i.jsx(on,{children:a("surveys.bulkImport")}),i.jsxs(Da,{children:[l==="template"&&a("surveys.selectTemplateForImport"),l==="upload"&&a("surveys.uploadFile"),l==="preview"&&a("surveys.reviewData"),l==="importing"&&a("surveys.importingData")]})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[l==="template"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(He,{className:"text-base font-medium",children:a("surveys.selectTemplate")}),i.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(T=>T.is_active).map(T=>i.jsx(st,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(u==null?void 0:u.template_id)===T.template_id?"ring-2 ring-primary":""}`,onClick:()=>d(T),children:i.jsxs(ft,{className:"p-4",children:[i.jsx("h4",{className:"font-medium text-sm",children:T.template_name}),T.template_description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.template_description}),T.category&&i.jsx(dt,{variant:"outline",className:"mt-2 text-xs",children:T.category})]})},T.template_id||`template-${Math.random()}`))})]}),l==="upload"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx($w,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[i.jsx("p",{className:"font-medium mb-1",children:a("surveys.importInstructions")}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[i.jsx("li",{children:a("surveys.importInstruction1")}),i.jsx("li",{children:a("surveys.importInstruction2")}),i.jsx("li",{children:a("surveys.importInstruction3")})]})]})]})}),i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[i.jsx(Ag,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),i.jsx(He,{className:"block text-sm font-medium mb-2",children:a("surveys.dragDropFile")}),i.jsx(Ve,{type:"file",accept:".xlsx,.xls,.csv",onChange:j,className:"hidden",id:"file-upload"}),i.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:i.jsx(le,{variant:"outline",asChild:!0,children:i.jsx("span",{children:a("surveys.selectFile")})})})]})]}),l==="preview"&&i.jsxs("div",{className:"space-y-4",children:[g.length>0&&i.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(YN,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[i.jsx("p",{className:"font-medium mb-2",children:a("surveys.validationErrors")}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:g.map((T,W)=>i.jsx("li",{children:T},W))})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.columnMapping")}),i.jsxs(dt,{variant:"secondary",children:[Object.keys(m).length," / ",u&&((E=t[u.template_id])==null?void 0:E.length)||0]})]}),i.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:u?(P=t[u.template_id])==null?void 0:P.map(T=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:T.field_label}),T.is_required&&i.jsx(dt,{variant:"destructive",className:"text-xs mt-1",children:a("surveys.required")})]}),m[T.field_label||""]?i.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[i.jsx(Ql,{className:"h-4 w-4"}),i.jsx("span",{className:"text-xs font-medium",children:m[T.field_label||""]})]}):i.jsx("div",{className:"text-xs text-muted-foreground",children:T.is_required?i.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:a("surveys.notMapped")}):i.jsx("span",{children:a("surveys.optional")})})]},T.field_id)):i.jsx("div",{className:"text-center text-muted-foreground py-4",children:a("surveys.noTemplateSelected")})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.previewFirstRows",{count:5})}),i.jsx("div",{className:"border rounded-lg",children:i.jsxs("table",{className:"w-full text-sm table-auto",children:[i.jsx("thead",{className:"bg-muted border-b",children:i.jsx("tr",{children:Object.keys(S()[0]||{}).map(T=>i.jsx("th",{className:"px-3 py-2 text-start font-medium text-xs",children:T},T))})}),i.jsx("tbody",{children:S().map((T,W)=>i.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.entries(T).map(([G,U],L)=>i.jsx("td",{className:"px-3 py-2 text-xs break-words max-w-xs",children:typeof U=="boolean"?G.toLowerCase().includes("is_default")?U?i.jsx(Ql,{className:"h-4 w-4 text-green-600"}):i.jsx("span",{className:"text-transparent",children:"-"}):U?i.jsx(Ql,{className:"h-4 w-4 text-green-600"}):i.jsx(Xne,{className:"h-4 w-4 text-gray-400"}):String(U||"")},L))},W))})]})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a("surveys.showingRows",{shown:Math.min(5,f.length),total:f.length})})]})]}),l==="importing"&&i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Uw,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),i.jsx("p",{className:"font-medium mb-2",children:a("surveys.importingData")}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[a("surveys.processingRows",{progress:w}),"%"]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${w}%`}})})]})})})]}),i.jsxs(Oa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(le,{variant:"outline",onClick:C,disabled:y,className:"w-full sm:w-auto",children:a("buttons.cancel")}),l==="template"&&i.jsx(le,{onClick:()=>c("upload"),disabled:!u,className:"w-full sm:w-auto",children:a("common.next")}),l==="upload"&&i.jsx(le,{onClick:()=>c("template"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),l==="preview"&&i.jsxs(i.Fragment,{children:[i.jsx(le,{onClick:()=>c("upload"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),i.jsx(le,{onClick:k,disabled:g.length>0||y,className:"w-full sm:w-auto",children:a("surveys.startImport")})]})]})]})}function _Ve(){var _e,Ee,Be,Xe;const{user:e}=pr(),{currentLanguage:t,isRTL:r}=Ma();Jr();const{t:n}=Bt(),{toast:a}=_l(),{canView:s,canEdit:o,canDelete:l,canViewAllData:c,canViewOwnData:u,canViewTeamData:d,hasPermission:f}=F1(),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState({}),[b,w]=x.useState(!0),[_,j]=x.useState(""),[N,S]=x.useState(null),[k,C]=x.useState(null),[E,P]=x.useState([]);x.useState(!1);const[T,W]=x.useState(!1),[G,U]=x.useState(null),[L,V]=x.useState({}),[B,I]=x.useState({}),[X,Q]=x.useState([]),[O,M]=x.useState(!1),[F,H]=x.useState(null),[ee,ne]=x.useState(null),[ge,se]=x.useState(null),[Z,ce]=x.useState("list"),[A,$e]=x.useState("list"),[Me,Fe]=x.useState(1),[ze,Re]=x.useState(1),[vt,mt]=x.useState(10),[oe,me]=x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});x.useEffect(()=>{Fe(1),Re(1)},[_]);const[z,de]=x.useState([]);x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[be,we]=x.useState({}),[Ue,Se]=x.useState(!1),[Ne,ve]=x.useState(!1),[Ae,Pe]=x.useState(new Set);x.useState(!1),x.useEffect(()=>{Ze()},[]),x.useEffect(()=>{Fe(1)},[_,Z]);const Ze=async()=>{try{w(!0);const[te,fe,ke]=await Promise.all([rh.getAll().catch(rt=>(console.error("[Surveys] Error fetching surveys:",rt),[])),Hi.getAll().catch(rt=>(console.error("[Surveys] Error fetching templates:",rt),[])),bn.getAll().catch(rt=>(console.error("[Surveys] Error fetching users:",rt),[]))]),pe=fe.map(rt=>Hi.getFields(rt.template_id).catch(at=>(console.error(`[Surveys] Error fetching fields for template ${rt.template_id}:`,at),[]))),tt=await Promise.all(pe),wt={};fe.forEach((rt,at)=>{wt[rt.template_id]=tt[at]||[]}),y(wt),console.log(`[Surveys] Loaded template fields for ${Object.keys(wt).length} templates`);const Wt=te.map(rt=>{try{let at=rt.survey_responses;return typeof rt.survey_responses=="string"&&(at=JSON.parse(rt.survey_responses)),{...rt,survey_responses:at}}catch(at){return console.error(`[Surveys] Error parsing survey_responses for survey ${rt.survey_id}:`,at),rt}});m(Wt),g(fe),Q(ke),y(wt)}catch(te){console.error("Failed to load surveys data:",te)}finally{w(!1)}},qe=h.filter(te=>_?te.client_name&&te.client_name.toLowerCase().includes(_.toLowerCase())||te.client_company&&te.client_company.toLowerCase().includes(_.toLowerCase())||te.survey_name&&te.survey_name.toLowerCase().includes(_.toLowerCase()):!0),it=Math.ceil(qe.length/vt),Rt=(Me-1)*vt,Yt=Rt+vt,gr=qe.slice(Rt,Yt),_n=p.filter(te=>{if(!_)return!0;const fe=Oe(te,"template_name");return fe&&fe.toLowerCase().includes(_.toLowerCase())||te.category&&te.category.toLowerCase().includes(_.toLowerCase())}),Ar=Math.ceil(_n.length/vt),$s=(ze-1)*vt,oa=$s+vt,In=_n.slice($s,oa),jn=te=>{if(!te)return n("surveys.unknownCreator");const fe=X.find(ke=>{var pe,tt;return((pe=ke.userid)==null?void 0:pe.toString())===te||((tt=ke.user_id)==null?void 0:tt.toString())===te});return fe?Oe(fe,"user_name"):n("surveys.unknownCreator")},Oo=te=>{switch(te.toLowerCase()){case"completed":return i.jsxs(dt,{variant:"default",className:"bg-green-500",children:[i.jsx(Ql,{className:"h-3 w-3 me-1"}),n("surveys.completed")]});case"in_progress":return i.jsxs(dt,{variant:"secondary",children:[i.jsx(_d,{className:"h-3 w-3 me-1"}),n("surveys.inProgress")]});case"pending":return i.jsxs(dt,{variant:"outline",children:[i.jsx(_d,{className:"h-3 w-3 me-1"}),n("surveys.pending")]});default:return i.jsx(dt,{variant:"outline",children:te})}},ui=te=>{const fe=te.filter(ke=>ke.survey_id);fe.length!==te.length&&console.warn("[Surveys] Some imported surveys are missing IDs and will be skipped"),m([...fe,...h])},cs=async te=>{C(te);const fe=v[te.template_id]||[];P(fe)},Gn=()=>{const te={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};de(fe=>[...fe,te])},di=te=>{de(fe=>fe.filter((ke,pe)=>pe!==te))},fi=(te,fe)=>{de(ke=>ke.map((pe,tt)=>tt===te?{...pe,...fe}:pe))},Tl=(te,fe)=>{de(ke=>{const pe=[...ke],[tt]=pe.splice(te,1);return pe.splice(fe,0,tt),pe})},Ju=()=>{me({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),de([]),H(null)},Do=async te=>{me({template_name:te.template_name||"",template_name_ar:te.template_name_ar||"",template_description:te.template_description||"",template_description_ar:te.template_description_ar||"",category:te.category||"",is_active:te.is_active,is_default:te.is_default||!1});const ke=(v[te.template_id]||[]).map(pe=>({field_type:pe.field_type,field_label:pe.field_label||"",field_label_ar:pe.field_label_ar||"",help_text:pe.help_text||"",help_text_ar:pe.help_text_ar||"",is_required:pe.is_required||!1,field_options:pe.field_options,validation_rules:pe.validation_rules,default_value:pe.default_value,conditional_logic:pe.conditional_logic,image_path:pe.image_path}));de(ke),H(te.template_id),M(!0)},lr=()=>{const te={};return oe.template_name.trim()||(te.template_name=n("surveys.templateNameRequired")),z.length===0?te.fields=n("surveys.atLeastOneFieldRequired"):z.forEach((fe,ke)=>{fe.field_label.trim()||(te[`field_${ke}`]=n("surveys.fieldLabelRequired",{number:ke+1}))}),we(te),Object.keys(te).length===0},ed=async()=>{if(!lr()){a({title:n("common.error"),description:n("surveys.templateValidationFailed"),variant:"destructive"});return}Se(!0);try{if(F){await Hi.update(F,oe);const te=v[F]||[];for(const fe of te)fe.field_id&&await Hi.deleteField(fe.field_id);for(let fe=0;fe<z.length;fe++){const ke=z[fe];await Hi.createField({template_id:F,field_order:fe+1,field_type:ke.field_type,field_label:ke.field_label,field_label_ar:ke.field_label_ar||"",help_text:ke.help_text||null,help_text_ar:ke.help_text_ar||null,is_required:ke.is_required,field_options:ke.field_options,validation_rules:ke.validation_rules,default_value:ke.default_value||null,conditional_logic:ke.conditional_logic,image_path:ke.image_path||null})}a({title:n("common.success"),description:n("surveys.templateUpdated")})}else{const te={...oe,created_by:e==null?void 0:e.id},fe=await Hi.create(te);for(let ke=0;ke<z.length;ke++){const pe=z[ke];await Hi.createField({template_id:fe.template_id,field_order:ke+1,field_type:pe.field_type,field_label:pe.field_label,field_label_ar:pe.field_label_ar||"",help_text:pe.help_text||null,help_text_ar:pe.help_text_ar||null,is_required:pe.is_required,field_options:pe.field_options,validation_rules:pe.validation_rules,default_value:pe.default_value||null,conditional_logic:pe.conditional_logic,image_path:pe.image_path||null})}a({title:n("common.success"),description:n("surveys.templateCreated")})}Ju(),M(!1),Ze()}catch(te){console.error("Failed to save template:",te),a({title:n("common.error"),description:n("surveys.templateSaveError",{action:n(F?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{Se(!1)}},td=async te=>{U(te);const fe=v[te.template_id]||[],ke={};fe.forEach(pe=>{pe.default_value!==null&&pe.default_value!==void 0&&(ke[pe.field_id.toString()]=pe.default_value)}),V(ke),U(te)},q=async te=>{try{await Hi.delete(te),g(fe=>fe.filter(ke=>ke.template_id!==te)),ne(null),y(fe=>{const ke={...fe};return delete ke[te],ke})}catch(fe){console.error("Failed to delete template:",fe),alert("Failed to delete template. Please try again.")}},ae=async te=>{try{await rh.delete(te),m(fe=>fe.filter(ke=>ke.survey_id!==te)),se(null)}catch(fe){console.error("Failed to delete survey:",fe),alert("Failed to delete survey. Please try again.")}},J=async te=>{try{const fe=p.filter(ke=>ke.is_default&&ke.template_id!==te);for(const ke of fe)await Hi.update(ke.template_id,{is_default:!1});await Hi.update(te,{is_default:!0}),g(ke=>ke.map(pe=>({...pe,is_default:pe.template_id===te}))),a({title:n("common.success"),description:n("surveys.templateSetAsDefault")})}catch(fe){console.error("Failed to set default template:",fe),a({title:n("common.error"),description:n("surveys.templateSetDefaultError"),variant:"destructive"})}},re=()=>new Promise((te,fe)=>{if(!navigator.geolocation){fe(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(ke=>{te({latitude:ke.coords.latitude,longitude:ke.coords.longitude,accuracy:ke.coords.accuracy})},ke=>{fe(ke)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),R=async()=>{if(!(!G||!e))try{let te={latitude:0,longitude:0,accuracy:0};try{te=await re()}catch(la){console.warn("Could not get location:",la)}const fe=v[G.template_id]||[],ke=new Map(fe.map(la=>[la.field_id.toString(),la.field_label])),pe={};for(const[la,Ui]of Object.entries(L)){const Al=ke.get(la)||la;pe[Al]=Ui}const tt=pe["Customer Name"]||pe["Client Name"]||pe.client_name||pe.customer_name||"Anonymous",wt=pe["Customer Company"]||pe["Client Company"]||pe.Company||pe.company||pe.client_company||null,Wt=pe["Contact Number"]||pe["Contact Email"]||pe.Contact||pe.contact||pe.phone||null,rt=pe["Contact Email"]||pe.Email||pe.email||pe.client_email||null,at=pe.Address||pe.address||pe.client_address||null,en=pe["Additional Notes"]||pe.Notes||pe.notes||null,qr={},Bs=Object.keys(B);for(const[la,Ui]of Object.entries(L))Bs.includes(la)||(qr[la]=Array.isArray(Ui)?Ui.join(", "):Ui);const Ln={template_id:G.template_id,survey_name:`${Oe(G,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Oe(G,"template_description")||null,client_name:tt,client_name_ar:null,client_contact:Wt,client_email:rt,client_address:at,client_company:wt,client_company_ar:null,survey_responses:qr,location_latitude:te.latitude,location_longitude:te.longitude,location_accuracy:te.accuracy,location_address:at,status:"collected",created_by:e.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:en,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null},kc=await rh.create(Ln);if(Object.keys(B).length>0){const la={...qr};for(const[Al,Lf]of Object.entries(B)){const Cc=await new Promise((kx,Cx)=>{const rd=new FileReader;rd.onload=()=>{const $p=rd.result,yj=$p.split(",")[1];kx($p)},rd.onerror=Cx,rd.readAsDataURL(Lf)});la[Al]=Cc}const Ui=Object.entries(la).reduce((Al,[Lf,Cc])=>(Al[Lf]=Array.isArray(Cc)?Cc.join(", "):Cc,Al),{});await rh.update(kc.survey_id,{survey_responses:Ui}),kc.survey_responses=Ui}m([kc,...h]),U(null),V({}),I({}),W(!1)}catch(te){console.error("[Survey] Failed to create survey:",te),alert(`Failed to create survey: ${te.message}`)}},K=te=>te.is_required===1||te.is_required===!0,he=te=>{const fe=te.field_id.toString(),ke=L[fe]||"";switch(te.field_type.toLowerCase()){case"text":return i.jsx(Ve,{id:fe,value:ke,onChange:rt=>V(at=>({...at,[fe]:rt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required});case"textarea":return i.jsx(ra,{id:fe,value:ke,onChange:rt=>V(at=>({...at,[fe]:rt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required,rows:3});case"number":return i.jsx(Ve,{id:fe,type:"number",value:ke,onChange:rt=>V(at=>({...at,[fe]:rt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required});case"email":return i.jsx(Ve,{id:fe,type:"email",value:ke,onChange:rt=>V(at=>({...at,[fe]:rt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required});case"date":return i.jsx(Ve,{id:fe,type:"date",value:ke,onChange:rt=>V(at=>({...at,[fe]:rt.target.value})),required:te.is_required});case"select":let pe=te.field_options;if(typeof pe=="string")try{pe=JSON.parse(pe)}catch(rt){console.error("Failed to parse field_options:",rt),pe=null}if(pe&&typeof pe=="object"&&!Array.isArray(pe)&&"options"in pe&&Array.isArray(pe.options)){const rt=pe.options.filter(at=>typeof at=="string");return i.jsxs(yt,{value:ke,onValueChange:at=>V(en=>({...en,[fe]:at})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:Oe(te,"help_text")||`${n("common.select")} ${Oe(te,"field_label")}`})}),i.jsx(gt,{children:rt.map((at,en)=>i.jsx(Te,{value:at,children:at},en))})]})}return i.jsx(Ve,{id:fe,value:ke,onChange:rt=>V(at=>({...at,[fe]:rt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required});case"radio":let tt=te.field_options;if(typeof tt=="string")try{tt=JSON.parse(tt)}catch(rt){console.error("Failed to parse field_options:",rt),tt=null}if(tt&&typeof tt=="object"&&!Array.isArray(tt)&&"options"in tt&&Array.isArray(tt.options)){const rt=tt.options.filter(at=>typeof at=="string");return i.jsx("div",{className:"space-y-2",children:rt.map((at,en)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:fe,value:at,checked:ke===at,onChange:qr=>V(Bs=>({...Bs,[fe]:qr.target.value}))}),i.jsx("span",{className:"text-sm",children:at})]},en))})}return i.jsx(Ve,{id:fe,value:ke,onChange:rt=>V(at=>({...at,[fe]:rt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required});case"multiselect":case"checkbox":let wt=te.field_options;if(typeof wt=="string")try{wt=JSON.parse(wt)}catch(rt){console.error("Failed to parse field_options:",rt),wt=null}if(wt&&typeof wt=="object"&&!Array.isArray(wt)&&"options"in wt&&Array.isArray(wt.options)){const rt=wt.options.filter(at=>typeof at=="string");return i.jsx("div",{className:"space-y-2",children:rt.map((at,en)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:Array.isArray(ke)?ke.includes(at):!1,onChange:qr=>{const Bs=Array.isArray(ke)?ke:[];qr.target.checked?V(Ln=>({...Ln,[fe]:[...Bs,at]})):V(Ln=>({...Ln,[fe]:Bs.filter(kc=>kc!==at)}))}}),i.jsx("span",{className:"text-sm",children:at})]},en))})}return i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:!!ke,onChange:rt=>V(at=>({...at,[fe]:rt.target.checked}))}),i.jsx("span",{className:"text-sm",children:Oe(te,"field_label")})]});case"image":const Wt=L[fe];return i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{id:fe,type:"file",accept:"image/*",onChange:rt=>{var en;const at=(en=rt.target.files)==null?void 0:en[0];at&&(I(qr=>({...qr,[fe]:at})),V(qr=>({...qr,[fe]:{preview:URL.createObjectURL(at),filename:at.name}})))},required:te.is_required}),(Wt==null?void 0:Wt.preview)&&i.jsxs("div",{className:"relative w-full",children:[i.jsx("img",{src:Wt.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),i.jsx(le,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 inset-inline-end-2",onClick:()=>{I(rt=>{const at={...rt};return delete at[fe],at}),V(rt=>{const at={...rt};return delete at[fe],at})},children:i.jsx(cr,{className:"h-4 w-4"})})]})]});default:return i.jsx(Ve,{id:fe,value:ke,onChange:rt=>V(at=>({...at,[fe]:rt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required})}},Ce=()=>{const te=[{key:"survey",header:n("surveys.surveyName"),render:pe=>i.jsx(gc,{title:pe.survey_name||`${n("surveys.survey")} #${pe.survey_id||"Unknown"}`,subtitle:Oe(pe,"client_name")})},{key:"creator",header:n("surveys.createdBy"),render:pe=>i.jsx(Ym,{name:pe.created_by_name||jn(pe.created_by),fallback:n("surveys.unknownCreator")})}],fe=[{label:n("common.view"),icon:i.jsx(Zs,{className:"h-4 w-4"}),onClick:pe=>S(pe)},{label:n("buttons.delete"),icon:i.jsx(cr,{className:"h-4 w-4"}),onClick:pe=>se(pe.survey_id),variant:"destructive",show:()=>f("surveys_DELETE")}],ke=[{label:n("buttons.delete"),icon:i.jsx(cr,{className:"h-4 w-4"}),onClick:async pe=>{if(pe.length===0)return;if(window.confirm(n("surveys.confirmBulkDeleteDesc",{count:pe.length})))try{const wt=pe.map(Wt=>rh.delete(Wt.survey_id));await Promise.all(wt),m(Wt=>Wt.filter(rt=>!pe.find(at=>at.survey_id===rt.survey_id))),Pe(new Set),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:pe.length})})}catch(wt){console.error("Failed to bulk delete surveys:",wt),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(pe=>f("surveys_DELETE"));return i.jsx(pc,{data:gr,columns:te,actions:fe,bulkActions:ke,keyExtractor:pe=>{var tt;return((tt=pe.survey_id)==null?void 0:tt.toString())||`survey-${Math.random()}`},onRowClick:pe=>S(pe),enableBulkSelect:!0,rowHeight:"h-26",rtl:r,emptyState:i.jsx(cl,{icon:i.jsx(ps,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noSurveysFound"),description:n(_?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},je=()=>{const te=[{key:"template",header:n("surveys.templateName"),render:pe=>i.jsx(gc,{title:Oe(pe,"template_name"),subtitle:Oe(pe,"template_description")})},{key:"category",header:n("surveys.category"),render:pe=>pe.category||n("surveys.noCategory")},{key:"status",header:n("surveys.status"),render:pe=>i.jsxs("div",{className:"flex items-center gap-2",children:[pe.is_active?i.jsx(dt,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(dt,{variant:"secondary",children:n("surveys.inactive")}),pe.is_default&&i.jsx(dt,{variant:"default",children:n("surveys.default")})]})},{key:"created",header:n("surveys.createdDate"),hideOnMobile:!0,render:pe=>i.jsx(Pf,{date:pe.created_at,fallback:n("leads.notSet")})}],fe=[{label:n("common.view"),icon:i.jsx(Zs,{className:"h-4 w-4"}),onClick:pe=>cs(pe)},{label:n("surveys.setAsDefault"),icon:i.jsx(Ql,{className:"h-4 w-4"}),onClick:pe=>J(pe.template_id),show:pe=>!pe.is_default},{label:n("buttons.edit"),icon:i.jsx(KN,{className:"h-4 w-4"}),onClick:pe=>Do(pe),show:()=>f("survey_templates_UPDATE")},{label:n("buttons.delete"),icon:i.jsx(cr,{className:"h-4 w-4"}),onClick:pe=>ne(pe.template_id),variant:"destructive",show:()=>f("survey_templates_DELETE")}],ke=[{label:n("buttons.delete"),icon:i.jsx(cr,{className:"h-4 w-4"}),onClick:async pe=>{if(window.confirm(n("surveys.bulkDeleteConfirm",{count:pe.length})))try{await Promise.all(pe.map(tt=>Hi.delete(tt.template_id))),await Ze(),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:pe.length})})}catch(tt){console.error("Failed to bulk delete templates:",tt),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(pe=>f("survey_templates_DELETE"));return i.jsx(pc,{data:In,columns:te,actions:fe,bulkActions:ke,keyExtractor:pe=>{var tt;return((tt=pe.template_id)==null?void 0:tt.toString())||`template-${Math.random()}`},onRowClick:pe=>cs(pe),enableBulkSelect:!0,rtl:r,emptyState:i.jsx(cl,{icon:i.jsx(ps,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noTemplatesFound"),description:n(_?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return b?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"h-full flex flex-col overflow-hidden pb-4",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"w-full flex-1 flex flex-col min-h-0 px-6",dir:r?"rtl":"ltr",children:i.jsxs(xl,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs(Eo,{className:"grid w-full grid-cols-2",children:[i.jsxs(Vr,{value:"surveys",children:[n("surveys.surveys")," (",qe.length,")"]}),i.jsxs(Vr,{value:"templates",children:[n("surveys.templates")," (",_n.length,")"]})]}),i.jsxs(xn,{value:"surveys",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute inset-inline-start-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ve,{placeholder:n("surveys.searchPlaceholder"),value:_,onChange:te=>j(te.target.value),className:"ps-10 pe-3"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:Z==="list"?"default":"ghost",size:"sm",onClick:()=>ce("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})}),i.jsx(le,{variant:Z==="card"?"default":"ghost",size:"sm",onClick:()=>ce("card"),className:"h-8 w-8 p-0",children:i.jsx(ps,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",dir:r?"rtl":"ltr",children:[i.jsxs(vn,{open:T,onOpenChange:W,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(le,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Zt,{className:"h-4 w-4 me-2"}),n("surveys.newSurvey")]})}),i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(sn,{children:i.jsx(on,{children:n("surveys.createNewSurvey")})}),i.jsx("div",{className:"space-y-6 py-4",children:G?i.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:Oe(G,"template_name")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.fillSurveyDetails")})]}),i.jsx(le,{variant:"outline",size:"sm",onClick:()=>{U(null),V({})},children:n("surveys.changeTemplate")})]}),i.jsx("div",{className:"space-y-4",dir:r?"rtl":"ltr",children:(_e=v[G.template_id])==null?void 0:_e.map(te=>i.jsxs("div",{className:"space-y-2",dir:r?"rtl":"ltr",children:[i.jsxs(He,{className:"text-sm font-medium mb-1.5 block",children:[Oe(te,"field_label"),K(te)&&i.jsx("span",{className:"text-red-500 ms-1",children:"*"})]}),he(te),Oe(te,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Oe(te,"help_text")})]},te.field_id))}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",dir:r?"rtl":"ltr",children:[i.jsx(xm,{className:"h-4 w-4"}),i.jsx("span",{children:n("surveys.locationWillBeCaptured")})]})})]}):i.jsxs("div",{children:[i.jsx(He,{className:"text-base font-medium mb-4 block",children:n("surveys.selectTemplate")}),i.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:p.filter(te=>te.is_active).map(te=>i.jsx(st,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(G==null?void 0:G.template_id)===te.template_id?"ring-2 ring-primary":""}`,onClick:()=>td(te),children:i.jsx(ft,{className:"p-4",dir:r?"rtl":"ltr",children:i.jsx("div",{className:"flex items-start gap-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-medium text-sm truncate",children:Oe(te,"template_name")}),te.category&&i.jsx(dt,{variant:"outline",className:"mt-1 text-xs",children:te.category}),Oe(te,"template_description")&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Oe(te,"template_description")})]})})})},te.template_id||`template-${Math.random()}`))})]})}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",dir:r?"rtl":"ltr",children:[i.jsx(le,{variant:"outline",onClick:()=>{W(!1),U(null),V({})},className:"w-full sm:w-auto",children:n("buttons.cancel")}),G&&i.jsx(le,{onClick:R,disabled:!G,className:"w-full sm:w-auto",children:n("surveys.submitSurvey")})]})]})]}),i.jsxs(vn,{open:Ne,onOpenChange:ve,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(le,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[i.jsx(Ag,{className:"h-4 w-4 me-2 text-primary"}),n("surveys.bulkImport")]})}),i.jsx(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:i.jsx(wVe,{templates:p,templateFields:v,onImportComplete:ui,onClose:()=>ve(!1)})})]})]})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:gr.length===0?i.jsx(st,{children:i.jsxs(ft,{className:"text-center py-12",children:[i.jsx(ps,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noSurveysFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(_?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):Z==="card"?i.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto",children:gr.map(te=>i.jsxs(st,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer",children:[i.jsx(Ut,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate",children:te.survey_name||`${n("surveys.survey")} #${te.survey_id||"Unknown"}`}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Oe(te,"client_name")})]}),Oo(te.status)]})}),i.jsxs(ft,{className:"pt-0 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Tn,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:te.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(xm,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:te.location_address||(te.location_latitude&&te.location_longitude?`${te.location_latitude.toFixed(4)}, ${te.location_longitude.toFixed(4)}`:n("surveys.noLocation"))})]}),i.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(An,{className:"h-4 w-4"}),i.jsxs("span",{children:[n("surveys.createdBy"),": ",jn(te.created_by)]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(_d,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(te.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(le,{size:"sm",variant:"outline",className:"h-8 px-2 flex items-center gap-1 hover:bg-primary hover:text-primary-foreground border-primary/20",onClick:()=>S(te),children:[i.jsx(Zs,{className:"h-4 w-4 me-1"}),i.jsx("span",{className:"text-xs",children:n("common.view")})]}),i.jsx(le,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:fe=>{fe.stopPropagation(),se(te.survey_id)},children:i.jsx(cr,{className:"h-4 w-4"})})]})]})]})]})]},te.survey_id||`survey-${Math.random()}`))}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:Ce()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:it>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(Jm,{className:r?"flex-row-reverse":"",children:[i.jsx(ka,{children:r?i.jsx(uu,{onClick:()=>Fe(Math.min(it,Me+1)),className:Me===it?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(cu,{onClick:()=>Fe(Math.max(1,Me-1)),className:Me===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(ka,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",Me," ",n("common.of")," ",it]})}),i.jsx(ka,{children:r?i.jsx(cu,{onClick:()=>Fe(Math.max(1,Me-1)),className:Me===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(uu,{onClick:()=>Fe(Math.min(it,Me+1)),className:Me===it?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]}),i.jsxs(xn,{value:"templates",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(le,{variant:A==="list"?"default":"ghost",size:"sm",onClick:()=>$e("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})}),i.jsx(le,{variant:A==="card"?"default":"ghost",size:"sm",onClick:()=>$e("card"),className:"h-8 w-8 p-0",children:i.jsx(ps,{className:"h-4 w-4"})})]}),i.jsx(k2,{permission:"survey_templates_INSERT",children:i.jsxs(le,{onClick:()=>{Ju(),M(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Zt,{className:"h-4 w-4 me-2"}),n("surveys.createTemplate")]})})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:_n.length===0?i.jsx(st,{className:"border-dashed",children:i.jsxs(ft,{className:"text-center py-16",children:[i.jsx("div",{className:"bg-muted/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ps,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noTemplatesFound")}),i.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto",children:n(_?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):A==="card"?i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 pb-4",dir:r?"rtl":"ltr",children:In.map(te=>i.jsxs(st,{className:"group relative overflow-hidden transition-all duration-300 hover:shadow-xl border-primary/5 hover:border-primary/20",children:[i.jsx("div",{className:"absolute top-0 inset-inline-start-0 w-1 h-full bg-primary/10 group-hover:bg-primary transition-colors"}),i.jsx(Ut,{className:"pb-3",children:i.jsx("div",{className:"flex items-start justify-between gap-2",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:Oe(te,"template_name")}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[te.category&&i.jsx(dt,{variant:"secondary",className:"text-[10px] uppercase tracking-wider font-bold bg-muted/50",children:te.category}),te.is_default&&i.jsx(dt,{variant:"default",className:"text-[10px] uppercase tracking-wider font-bold bg-green-500 hover:bg-green-600",children:n("surveys.default")}),i.jsx(dt,{variant:te.is_active?"outline":"secondary",className:"text-[10px] uppercase tracking-wider font-bold",children:te.is_active?n("surveys.active"):n("surveys.inactive")})]})]})})}),i.jsxs(ft,{className:"space-y-4",children:[Oe(te,"template_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[40px]",children:Oe(te,"template_description")}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-primary/5",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(_d,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(te.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-1 opacity-80 group-hover:opacity-100 transition-opacity",children:[i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hover:bg-primary/5",onClick:()=>cs(te),title:n("common.view"),children:i.jsx(Zs,{className:"h-4 w-4"})}),!te.is_default&&i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-green-500 hover:bg-green-50",onClick:fe=>{fe.stopPropagation(),J(te.template_id)},title:n("surveys.setAsDefault"),children:i.jsx(Ql,{className:"h-4 w-4"})}),i.jsx(k2,{permission:"survey_templates_UPDATE",children:i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-500 hover:bg-blue-50",onClick:fe=>{fe.stopPropagation(),Do(te)},title:n("buttons.edit"),children:i.jsx(KN,{className:"h-4 w-4"})})}),i.jsx(k2,{permission:"survey_templates_DELETE",children:i.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:bg-red-50",onClick:fe=>{fe.stopPropagation(),ne(te.template_id)},title:n("buttons.delete"),children:i.jsx(cr,{className:"h-4 w-4"})})})]})]})]})]},te.template_id||`template-${Math.random()}`))}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:je()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:Ar>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(Jm,{className:r?"flex-row-reverse":"",children:[i.jsx(ka,{children:r?i.jsx(uu,{onClick:()=>Re(Math.min(Ar,ze+1)),className:ze===Ar?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(cu,{onClick:()=>Re(Math.max(1,ze-1)),className:ze===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(ka,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",ze," ",n("common.of")," ",Ar]})}),i.jsx(ka,{children:r?i.jsx(cu,{onClick:()=>Re(Math.max(1,ze-1)),className:ze===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(uu,{onClick:()=>Re(Math.min(Ar,ze+1)),className:ze===Ar?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]})]})}),i.jsx(vn,{open:!!N,onOpenChange:te=>!te&&S(null),children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(sn,{children:i.jsx(on,{children:(N==null?void 0:N.survey_name)||`${n("surveys.survey")} #${N==null?void 0:N.survey_id}`})}),N&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.clientName")}),i.jsx("p",{className:"text-sm",children:Oe(N,"client_name")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.clientCompany")}),i.jsx("p",{className:"text-sm",children:N.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.contact")}),i.jsx("p",{className:"text-sm",children:N.client_contact||n("surveys.noContact")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.email")}),i.jsx("p",{className:"text-sm",children:N.client_email||n("surveys.noEmail")})]})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.location")}),i.jsx("p",{className:"text-sm",children:i.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${N.location_latitude},${N.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:N.location_address||`${(Ee=N.location_latitude)==null?void 0:Ee.toFixed(6)}, ${(Be=N.location_longitude)==null?void 0:Be.toFixed(6)}`})})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.responses")}),i.jsx("div",{className:"mt-2 space-y-2",children:N.survey_responses&&Object.keys(N.survey_responses).length>0?(()=>{const te=v[N.template_id]||[],fe=new Map(te.map(ke=>[ke.field_id.toString(),ke.field_label]));return Object.entries(N.survey_responses).map(([ke,pe])=>{const tt=fe.get(ke)||ke,wt=typeof pe=="string"&&pe.startsWith("data:image/");return i.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[i.jsxs("div",{className:"font-medium text-sm text-primary",children:[tt,":"]}),wt?i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:pe,alt:tt,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):i.jsx("div",{className:"text-sm text-muted-foreground break-words",children:(()=>{if(pe==null)return"N/A";if(Array.isArray(pe))return pe.join(", ");if(typeof pe=="object"){if("bucket"in pe&&"path"in pe&&"url"in pe)return"Image";try{const Wt=JSON.stringify(pe,null,2);return i.jsx("pre",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto",children:Wt})}catch{return String(pe)}}return String(pe)})()})]},ke)})})():i.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:n("surveys.noResponsesRecorded")})})]})]})]})}),i.jsx(si,{open:!!ge,onOpenChange:te=>!te&&se(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:n("surveys.deleteSurvey")}),i.jsx(Os,{children:n("surveys.deleteSurveyConfirmation",{name:((Xe=h.find(te=>te.survey_id===ge))==null?void 0:Xe.survey_name)||`${n("surveys.survey")} #${ge}`})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:n("buttons.cancel")}),i.jsx(Ds,{onClick:()=>{ge&&ae(ge)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(vn,{open:!!k,onOpenChange:te=>!te&&C(null),children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(sn,{children:i.jsx(on,{children:Oe(k||{},"template_name")})}),k&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.category")}),i.jsx("p",{className:"text-sm",children:k.category||n("surveys.noCategory")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.status")}),i.jsxs("div",{className:"flex items-center gap-2",children:[k.is_active?i.jsx(dt,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(dt,{variant:"secondary",children:n("surveys.inactive")}),k.is_default&&i.jsx(dt,{variant:"default",children:n("surveys.default")})]})]})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.description")}),i.jsx("p",{className:"text-sm mt-1",children:Oe(k,"template_description")||n("surveys.noDescription")})]}),i.jsxs("div",{children:[i.jsxs(He,{className:"text-sm font-medium",children:[n("surveys.fields")," (",E.length,")"]}),i.jsx("div",{className:"mt-2 space-y-2",children:E.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.noFields")}):E.sort((te,fe)=>te.field_order-fe.field_order).map(te=>i.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(dt,{variant:"outline",className:"text-xs",children:te.field_type}),i.jsx("span",{className:"text-sm font-medium",children:Oe(te,"field_label")}),K(te)&&i.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Oe(te,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Oe(te,"help_text")})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",te.field_order]})]})},te.field_id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.created")}),i.jsx("p",{children:new Date(k.created_at).toLocaleString()})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.updated")}),i.jsx("p",{children:new Date(k.updated_at).toLocaleString()})]})]})]})]})}),i.jsx(si,{open:!!ee,onOpenChange:te=>!te&&ne(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:n("surveys.deleteTemplate")}),i.jsx(Os,{children:n("surveys.deleteTemplateConfirmation",{name:p.find(te=>te.template_id===ee)?Oe(p.find(te=>te.template_id===ee),"template_name"):`${n("surveys.template")} #${ee}`})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:n("buttons.cancel")}),i.jsx(Ds,{onClick:()=>{ee&&q(ee)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(vn,{open:O,onOpenChange:M,children:i.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsxs(sn,{children:[i.jsx(on,{children:n(F?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),i.jsx(Da,{children:n("surveys.createTemplateDesc")})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"template_name",children:[n("surveys.templateName")," *"]}),i.jsx(Ve,{id:"template_name",value:oe.template_name,onChange:te=>me(fe=>({...fe,template_name:te.target.value})),placeholder:n("surveys.templateName"),className:be.template_name?"border-red-500":""}),be.template_name&&i.jsx("p",{className:"text-sm text-red-500",children:be.template_name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"category",children:n("surveys.category")}),i.jsxs(yt,{value:oe.category,onValueChange:te=>me(fe=>({...fe,category:te})),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:n("surveys.selectCategory")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"customer_satisfaction",children:n("surveys.customerSatisfaction")}),i.jsx(Te,{value:"product_feedback",children:n("surveys.productFeedback")}),i.jsx(Te,{value:"service_quality",children:n("surveys.serviceQuality")}),i.jsx(Te,{value:"general",children:n("surveys.general")})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"template_description",children:n("surveys.description")}),i.jsx(ra,{id:"template_description",value:oe.template_description,onChange:te=>me(fe=>({...fe,template_description:te.target.value})),placeholder:n("surveys.description"),rows:3})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"is_active",checked:oe.is_active,onChange:te=>me(fe=>({...fe,is_active:te.target.checked})),className:"rounded"}),i.jsx(He,{htmlFor:"is_active",children:n("surveys.isActive")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h3",{className:"text-lg font-semibold",children:n("surveys.fields")})}),be.fields&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600",children:be.fields})}),i.jsx("div",{className:"space-y-3",children:z.map((te,fe)=>{var ke,pe,tt;return i.jsx(st,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>Tl(fe,Math.max(0,fe-1)),disabled:fe===0,children:i.jsx(Wne,{className:"h-4 w-4"})}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>Tl(fe,Math.min(z.length-1,fe+1)),disabled:fe===z.length-1,children:i.jsx(zne,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{children:[n("surveys.fieldLabel")," *"]}),i.jsx(Ve,{value:te.field_label,onChange:wt=>fi(fe,{field_label:wt.target.value}),placeholder:n("surveys.fieldLabel"),className:be[`field_${fe}`]?"border-red-500":""}),be[`field_${fe}`]&&i.jsx("p",{className:"text-sm text-red-500",children:be[`field_${fe}`]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{children:[n("surveys.fieldType")," *"]}),i.jsxs(yt,{value:te.field_type,onValueChange:wt=>fi(fe,{field_type:wt}),children:[i.jsx(pt,{children:i.jsx(bt,{})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"text",children:n("surveys.text")}),i.jsx(Te,{value:"textarea",children:n("surveys.textarea")}),i.jsx(Te,{value:"email",children:n("surveys.email")}),i.jsx(Te,{value:"date",children:n("surveys.date")}),i.jsx(Te,{value:"select",children:n("surveys.select")}),i.jsx(Te,{value:"multiselect",children:n("surveys.multiselect")}),i.jsx(Te,{value:"radio",children:n("surveys.radio")}),i.jsx(Te,{value:"checkbox",children:n("surveys.checkbox")}),i.jsx(Te,{value:"image",children:n("surveys.image")})]})]})]})]}),(te.field_type==="select"||te.field_type==="multiselect"||te.field_type==="radio")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:n("surveys.options")}),i.jsx(ra,{defaultValue:((pe=(ke=te.field_options)==null?void 0:ke.options)==null?void 0:pe.join(`
`))||"",onBlur:wt=>{const Wt=wt.target.value.split(/[\n\s]+/).filter(rt=>rt.trim()).map(rt=>rt.trim());fi(fe,{field_options:{options:Wt,allow_multiple:te.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((tt=te.field_options)==null?void 0:tt.options)&&te.field_options.options.length>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[te.field_options.options.length," option(s): ",te.field_options.options.join(", ")]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`required-${fe}`,checked:te.is_required,onChange:wt=>fi(fe,{is_required:wt.target.checked}),className:"rounded"}),i.jsx(He,{htmlFor:`required-${fe}`,children:n("surveys.isRequired")})]})]}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>di(fe),className:"text-red-500 hover:text-red-700",children:i.jsx(cr,{className:"h-4 w-4"})})]})},fe)})}),i.jsx("div",{className:"flex justify-center pt-4",children:i.jsxs(le,{onClick:Gn,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:[i.jsx(Zt,{className:"h-4 w-4 me-2"}),n("surveys.addField")]})})]})]}),i.jsxs(Oa,{children:[i.jsx(le,{variant:"outline",onClick:()=>M(!1),disabled:Ue,children:n("buttons.cancel")}),i.jsx(le,{onClick:ed,disabled:!oe.template_name.trim()||Ue,children:n(Ue?"buttons.saving":F?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function jVe(){const{t:e}=Bt();pr();const{isRTL:t}=Ma(),r=Jr(),[n,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(""),[f,h]=x.useState(null),[m,p]=x.useState(!1),[g,v]=x.useState("leads"),[y,b]=x.useState(""),[w,_]=x.useState("");x.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const P=await Ja.getAll();a(P)}catch(P){console.error("Failed to load stages:",P)}finally{o(!1)}},N=P=>n.filter(T=>T.stage_type===P).sort((T,W)=>(T.stager_order_index??0)-(W.stager_order_index??0)),S=async()=>{if(y.trim())try{const P=N(g),T=P.length>0?Math.max(...P.map(G=>G.stager_order_index||0)):-1,W={stage_name:y.trim(),stage_name_ar:w.trim()||null,stage_type:g,stager_order_index:T+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await Ja.create(W),await j(),b(""),_(""),p(!1)}catch(P){console.error("Failed to create stage:",P)}},k=async(P,T)=>{try{await Ja.update(P.stage_id,T),await j(),c(null),d("")}catch(W){console.error("Failed to update stage:",W)}},C=async P=>{try{await Ja.delete(P),await j(),h(null)}catch(T){console.error("Failed to delete stage:",T)}},E=P=>{const T=N(P);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${P}`)}),i.jsxs(le,{size:r?"default":"sm",onClick:()=>{v(P),p(!0)},className:"w-full sm:w-auto",children:[i.jsx(Zt,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),T.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):i.jsx("div",{className:"space-y-2",children:T.map((W,G)=>i.jsx(st,{className:"p-3 md:p-4",children:i.jsxs("div",{className:xe("flex gap-2 md:gap-3 rtl:flex-row-reverse",r?"flex-col":"items-center"),children:[!r&&i.jsx(zo,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(l==null?void 0:l.stage_id)===W.stage_id?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Ve,{value:l.stage_name,onChange:U=>c({...l,stage_name:U.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),i.jsx(Ve,{value:u,onChange:U=>d(U.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>k(W,{stage_name:l.stage_name,stage_name_ar:u||null}),className:"flex-1 sm:flex-initial",children:i.jsx(wo,{className:"h-4 w-4"})}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{c(null),d("")},className:"flex-1 sm:flex-initial",children:i.jsx(_o,{className:"h-4 w-4"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Oe(W,"stage_name")}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",W.stager_order_index]})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{c(W),d(W.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:i.jsx(Di,{className:"h-4 w-4"})}),i.jsx(le,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>h(W.stage_id),children:i.jsx(cr,{className:"h-4 w-4"})})]})]})]})},W.stage_id))})]})};return s?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),i.jsxs(xl,{defaultValue:"stages",className:"space-y-6",children:[i.jsx(Eo,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:t?"rtl":"ltr",children:i.jsx(Vr,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),i.jsx(xn,{value:"stages",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:t?"rtl":"ltr",children:[i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ut,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(ur,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),i.jsx(ft,{className:"p-4 md:p-6",children:E("leads")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ut,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(ur,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),i.jsx(ft,{className:"p-4 md:p-6",children:E("projects")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ut,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(ur,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),i.jsx(ft,{className:"p-4 md:p-6",children:E("tasks")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ut,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(ur,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),i.jsx(ft,{className:"p-4 md:p-6",children:E("tickets")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ut,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(ur,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),i.jsx(ft,{className:"p-4 md:p-6",children:E("mleads")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Ut,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(ur,{className:"text-lg flex items-center gap-2",children:[i.jsx(zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),i.jsx(ft,{className:"p-4 md:p-6",children:E("mprojects")})]})]})})]}),i.jsx(vn,{open:m,onOpenChange:p,children:i.jsxs(an,{className:"w-[95vw] sm:max-w-[425px]",children:[i.jsxs(sn,{children:[i.jsx(on,{children:e("settings.addStage")}),i.jsx(Da,{children:e("settings.addStageDesc",{type:e(`settings.${g}`)})})]}),i.jsxs("div",{className:"space-y-4 py-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),i.jsx(Ve,{id:"stage-name",value:y,onChange:P=>b(P.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),i.jsx(Ve,{id:"stage-name-ar",value:w,onChange:P=>_(P.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),i.jsxs(Oa,{className:"flex-col sm:flex-row gap-2",dir:t?"rtl":"ltr",children:[i.jsx(le,{variant:"outline",onClick:()=>p(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),i.jsx(le,{onClick:S,disabled:!y.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),i.jsx(si,{open:!!f,onOpenChange:P=>!P&&h(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:e("settings.deleteStage")}),i.jsx(Os,{children:e("settings.deleteStageConfirmation")})]}),i.jsxs(As,{dir:t?"rtl":"ltr",children:[i.jsx(Rs,{children:e("buttons.cancel")}),i.jsx(Ds,{onClick:()=>f&&C(f),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}var v5=1,SVe=.9,NVe=.8,kVe=.17,C2=.1,E2=.999,CVe=.9999,EVe=.99,TVe=/[\\\/_+.#"@\[\(\{&]/,AVe=/[\\\/_+.#"@\[\(\{&]/g,PVe=/[\s-]/,GK=/[\s-]/g;function nE(e,t,r,n,a,s,o){if(s===t.length)return a===e.length?v5:EVe;var l=`${a},${s}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,p;u>=0;)f=nE(e,t,r,n,u+1,s+1,o),f>d&&(u===a?f*=v5:TVe.test(e.charAt(u-1))?(f*=NVe,m=e.slice(a,u-1).match(AVe),m&&a>0&&(f*=Math.pow(E2,m.length))):PVe.test(e.charAt(u-1))?(f*=SVe,p=e.slice(a,u-1).match(GK),p&&a>0&&(f*=Math.pow(E2,p.length))):(f*=kVe,a>0&&(f*=Math.pow(E2,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=CVe)),(f<C2&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=nE(e,t,r,n,u+1,s+2,o),h*C2>f&&(f=h*C2)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function x5(e){return e.toLowerCase().replace(GK," ")}function OVe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,nE(e,t,x5(e),x5(t),0,0,{})}var d0='[cmdk-group=""]',T2='[cmdk-group-items=""]',DVe='[cmdk-group-heading=""]',KK='[cmdk-item=""]',y5=`${KK}:not([aria-disabled="true"])`,aE="cmdk-item-select",ah="data-value",RVe=(e,t,r)=>OVe(e,t,r),YK=x.createContext(void 0),Sx=()=>x.useContext(YK),XK=x.createContext(void 0),hO=()=>x.useContext(XK),QK=x.createContext(void 0),ZK=x.forwardRef((e,t)=>{let r=sh(()=>{var O,M;return{search:"",value:(M=(O=e.value)!=null?O:e.defaultValue)!=null?M:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=sh(()=>new Set),a=sh(()=>new Map),s=sh(()=>new Map),o=sh(()=>new Set),l=JK(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:p,disablePointerSelection:g=!1,vimBindings:v=!0,...y}=e,b=ta(),w=ta(),_=ta(),j=x.useRef(null),N=HVe();bf(()=>{if(d!==void 0){let O=d.trim();r.current.value=O,S.emit()}},[d]),bf(()=>{N(6,W)},[]);let S=x.useMemo(()=>({subscribe:O=>(o.current.add(O),()=>o.current.delete(O)),snapshot:()=>r.current,setState:(O,M,F)=>{var H,ee,ne,ge;if(!Object.is(r.current[O],M)){if(r.current[O]=M,O==="search")T(),E(),N(1,P);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let se=document.getElementById(_);se?se.focus():(H=document.getElementById(b))==null||H.focus()}if(N(7,()=>{var se;r.current.selectedItemId=(se=G())==null?void 0:se.id,S.emit()}),F||N(5,W),((ee=l.current)==null?void 0:ee.value)!==void 0){let se=M??"";(ge=(ne=l.current).onValueChange)==null||ge.call(ne,se);return}}S.emit()}},emit:()=>{o.current.forEach(O=>O())}}),[]),k=x.useMemo(()=>({value:(O,M,F)=>{var H;M!==((H=s.current.get(O))==null?void 0:H.value)&&(s.current.set(O,{value:M,keywords:F}),r.current.filtered.items.set(O,C(M,F)),N(2,()=>{E(),S.emit()}))},item:(O,M)=>(n.current.add(O),M&&(a.current.has(M)?a.current.get(M).add(O):a.current.set(M,new Set([O]))),N(3,()=>{T(),E(),r.current.value||P(),S.emit()}),()=>{s.current.delete(O),n.current.delete(O),r.current.filtered.items.delete(O);let F=G();N(4,()=>{T(),(F==null?void 0:F.getAttribute("id"))===O&&P(),S.emit()})}),group:O=>(a.current.has(O)||a.current.set(O,new Set),()=>{s.current.delete(O),a.current.delete(O)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:_,labelId:w,listInnerRef:j}),[]);function C(O,M){var F,H;let ee=(H=(F=l.current)==null?void 0:F.filter)!=null?H:RVe;return O?ee(O,r.current.search,M):0}function E(){if(!r.current.search||l.current.shouldFilter===!1)return;let O=r.current.filtered.items,M=[];r.current.filtered.groups.forEach(H=>{let ee=a.current.get(H),ne=0;ee.forEach(ge=>{let se=O.get(ge);ne=Math.max(se,ne)}),M.push([H,ne])});let F=j.current;U().sort((H,ee)=>{var ne,ge;let se=H.getAttribute("id"),Z=ee.getAttribute("id");return((ne=O.get(Z))!=null?ne:0)-((ge=O.get(se))!=null?ge:0)}).forEach(H=>{let ee=H.closest(T2);ee?ee.appendChild(H.parentElement===ee?H:H.closest(`${T2} > *`)):F.appendChild(H.parentElement===F?H:H.closest(`${T2} > *`))}),M.sort((H,ee)=>ee[1]-H[1]).forEach(H=>{var ee;let ne=(ee=j.current)==null?void 0:ee.querySelector(`${d0}[${ah}="${encodeURIComponent(H[0])}"]`);ne==null||ne.parentElement.appendChild(ne)})}function P(){let O=U().find(F=>F.getAttribute("aria-disabled")!=="true"),M=O==null?void 0:O.getAttribute(ah);S.setState("value",M||void 0)}function T(){var O,M,F,H;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ee=0;for(let ne of n.current){let ge=(M=(O=s.current.get(ne))==null?void 0:O.value)!=null?M:"",se=(H=(F=s.current.get(ne))==null?void 0:F.keywords)!=null?H:[],Z=C(ge,se);r.current.filtered.items.set(ne,Z),Z>0&&ee++}for(let[ne,ge]of a.current)for(let se of ge)if(r.current.filtered.items.get(se)>0){r.current.filtered.groups.add(ne);break}r.current.filtered.count=ee}function W(){var O,M,F;let H=G();H&&(((O=H.parentElement)==null?void 0:O.firstChild)===H&&((F=(M=H.closest(d0))==null?void 0:M.querySelector(DVe))==null||F.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))}function G(){var O;return(O=j.current)==null?void 0:O.querySelector(`${KK}[aria-selected="true"]`)}function U(){var O;return Array.from(((O=j.current)==null?void 0:O.querySelectorAll(y5))||[])}function L(O){let M=U()[O];M&&S.setState("value",M.getAttribute(ah))}function V(O){var M;let F=G(),H=U(),ee=H.findIndex(ge=>ge===F),ne=H[ee+O];(M=l.current)!=null&&M.loop&&(ne=ee+O<0?H[H.length-1]:ee+O===H.length?H[0]:H[ee+O]),ne&&S.setState("value",ne.getAttribute(ah))}function B(O){let M=G(),F=M==null?void 0:M.closest(d0),H;for(;F&&!H;)F=O>0?VVe(F,d0):WVe(F,d0),H=F==null?void 0:F.querySelector(y5);H?S.setState("value",H.getAttribute(ah)):V(O)}let I=()=>L(U().length-1),X=O=>{O.preventDefault(),O.metaKey?I():O.altKey?B(1):V(1)},Q=O=>{O.preventDefault(),O.metaKey?L(0):O.altKey?B(-1):V(-1)};return x.createElement(ut.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:O=>{var M;(M=y.onKeyDown)==null||M.call(y,O);let F=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||F))switch(O.key){case"n":case"j":{v&&O.ctrlKey&&X(O);break}case"ArrowDown":{X(O);break}case"p":case"k":{v&&O.ctrlKey&&Q(O);break}case"ArrowUp":{Q(O);break}case"Home":{O.preventDefault(),L(0);break}case"End":{O.preventDefault(),I();break}case"Enter":{O.preventDefault();let H=G();if(H){let ee=new Event(aE);H.dispatchEvent(ee)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:GVe},c),pj(e,O=>x.createElement(XK.Provider,{value:S},x.createElement(YK.Provider,{value:k},O))))}),MVe=x.forwardRef((e,t)=>{var r,n;let a=ta(),s=x.useRef(null),o=x.useContext(QK),l=Sx(),c=JK(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;bf(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=eY(a,s,[e.value,e.children,s],e.keywords),f=hO(),h=Lu(N=>N.value&&N.value===d.current),m=Lu(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);x.useEffect(()=>{let N=s.current;if(!(!N||e.disabled))return N.addEventListener(aE,p),()=>N.removeEventListener(aE,p)},[m,e.onSelect,e.disabled]);function p(){var N,S;g(),(S=(N=c.current).onSelect)==null||S.call(N,d.current)}function g(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:y,onSelect:b,forceMount:w,keywords:_,...j}=e;return x.createElement(ut.div,{ref:oc(s,t),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:g,onClick:v?void 0:p},e.children)}),FVe=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,o=ta(),l=x.useRef(null),c=x.useRef(null),u=ta(),d=Sx(),f=Lu(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);bf(()=>d.group(o),[]),eY(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:a}),[a]);return x.createElement(ut.div,{ref:oc(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),pj(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(QK.Provider,{value:h},m))))}),IVe=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=Lu(o=>!o.search);return!r&&!s?null:x.createElement(ut.div,{ref:oc(a,t),...n,"cmdk-separator":"",role:"separator"})}),LVe=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=hO(),o=Lu(u=>u.search),l=Lu(u=>u.selectedItemId),c=Sx();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(ut.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),$Ve=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),o=x.useRef(null),l=Lu(u=>u.selectedItemId),c=Sx();return x.useEffect(()=>{if(o.current&&s.current){let u=o.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(ut.div,{ref:oc(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},pj(e,u=>x.createElement("div",{ref:oc(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),BVe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:o,...l}=e;return x.createElement(a_,{open:r,onOpenChange:n},x.createElement(s_,{container:o},x.createElement(xp,{"cmdk-overlay":"",className:a}),x.createElement(yp,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(ZK,{ref:t,...l}))))}),UVe=x.forwardRef((e,t)=>Lu(r=>r.filtered.count===0)?x.createElement(ut.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),zVe=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(ut.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},pj(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),Ls=Object.assign(ZK,{List:$Ve,Item:MVe,Input:LVe,Group:FVe,Separator:IVe,Dialog:BVe,Empty:UVe,Loading:zVe});function VVe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function WVe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function JK(e){let t=x.useRef(e);return bf(()=>{t.current=e}),t}var bf=typeof window>"u"?x.useEffect:x.useLayoutEffect;function sh(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Lu(e){let t=hO(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function eY(e,t,r,n=[]){let a=x.useRef(),s=Sx();return bf(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(o=t.current)==null||o.setAttribute(ah,l),a.current=l}),a}var HVe=()=>{let[e,t]=x.useState(),r=sh(()=>new Map);return bf(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function qVe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function pj({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(qVe(t),{ref:t.ref},r(t.props.children)):r(t)}var GVe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ga=x.forwardRef(({className:e,...t},r)=>i.jsx(Ls,{ref:r,className:xe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ga.displayName=Ls.displayName;const va=x.forwardRef(({className:e,...t},r)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(Fs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(Ls.Input,{ref:r,className:xe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));va.displayName=Ls.Input.displayName;const xa=x.forwardRef(({className:e,...t},r)=>i.jsx(Ls.List,{ref:r,className:xe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));xa.displayName=Ls.List.displayName;const ya=x.forwardRef((e,t)=>i.jsx(Ls.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ya.displayName=Ls.Empty.displayName;const ba=x.forwardRef(({className:e,...t},r)=>i.jsx(Ls.Group,{ref:r,className:xe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ba.displayName=Ls.Group.displayName;const KVe=x.forwardRef(({className:e,...t},r)=>i.jsx(Ls.Separator,{ref:r,className:xe("-mx-1 h-px bg-border",e),...t}));KVe.displayName=Ls.Separator.displayName;const fr=x.forwardRef(({className:e,...t},r)=>i.jsx(Ls.Item,{ref:r,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));fr.displayName=Ls.Item.displayName;const YVe={light:"",dark:".dark"},tY=x.createContext(null);function rY(){const e=x.useContext(tY);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Vo=x.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const o=x.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return i.jsx(tY.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:xe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[i.jsx(XVe,{id:l,config:n}),i.jsx(Su,{children:r})]})})});Vo.displayName="Chart";const XVe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(YVe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},xd=Qn,Xc=x.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:p}=rY(),g=x.useMemo(()=>{var j;if(a||!(t!=null&&t.length))return null;const[y]=t,b=`${h||y.dataKey||y.name||"value"}`,w=sE(p,y,b),_=!h&&typeof o=="string"?((j=p[o])==null?void 0:j.label)||o:w==null?void 0:w.label;return l?i.jsx("div",{className:xe("font-medium",c),children:l(_,t)}):_?i.jsx("div",{className:xe("font-medium",c),children:_}):null},[o,l,t,a,c,p,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return i.jsxs("div",{ref:m,className:xe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:g,i.jsx("div",{className:"grid gap-1.5",children:t.map((y,b)=>{const w=`${f||y.name||y.dataKey||"value"}`,_=sE(p,y,w),j=d||y.payload.fill||y.color;return i.jsx("div",{className:xe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,b,y.payload):i.jsxs(i.Fragment,{children:[_!=null&&_.icon?i.jsx(_.icon,{}):!s&&i.jsx("div",{className:xe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),i.jsxs("div",{className:xe("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?g:null,i.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||y.name})]}),y.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});Xc.displayName="ChartTooltip";const QVe=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=rY();return r!=null&&r.length?i.jsx("div",{ref:s,className:xe("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=sE(o,l,c);return i.jsxs("div",{className:xe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});QVe.displayName="ChartLegend";function sE(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function ZVe(){var e4,t4,r4,n4,a4,s4;const{t:e}=Bt(),{user:t}=pr(),{currentLanguage:r}=Ma(),{toast:n}=_l(),a=Jr(),{setBreadcrumbs:s}=Iv();Ms();const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState([]),[b,w]=x.useState([]),[_,j]=x.useState([]),[N,S]=x.useState([]),[k,C]=x.useState([]),[E,P]=x.useState([]),[T,W]=x.useState([]),[G,U]=x.useState(!0),[L,V]=x.useState(null),[B,I]=x.useState(""),[X,Q]=x.useState(""),[O,M]=x.useState(!1),[F,H]=x.useState(1),[ee]=x.useState(10),[ne,ge]=x.useState(0),[se,Z]=x.useState(0),[ce,A]=x.useState(""),[$e,Me]=x.useState(""),[Fe,ze]=x.useState(""),[Re,vt]=x.useState(""),[mt,oe]=x.useState(""),[me,z]=x.useState(""),[de,be]=x.useState(null),[we,Ue]=x.useState(null),[Se,Ne]=x.useState(!1),[ve,Ae]=x.useState(!1),[Pe,Ze]=x.useState({city_name_en:"",city_name_ar:"",country_id:null}),[qe,it]=x.useState(!1),[Rt,Yt]=x.useState({system_name_en:"",system_name_ar:""}),[gr,_n]=x.useState(!1),[Ar,$s]=x.useState({activity_name_en:"",activity_name_ar:""}),[oa,In]=x.useState(!1),[jn,Oo]=x.useState({status_name_en:"",status_name_ar:""}),[ui,cs]=x.useState([]),[Gn,di]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[fi,Tl]=x.useState(!1),[Ju,Do]=x.useState(null),[lr,ed]=x.useState(null),[td,q]=x.useState(!1),[ae,J]=x.useState([]),[re,R]=x.useState(!1),[K,he]=x.useState(window.innerWidth>=768),[Ce,je]=x.useState("list"),[_e,Ee]=x.useState(!1),[Be,Xe]=x.useState(null),[te,fe]=x.useState("leads_summary"),[ke,pe]=x.useState(!1),[tt,wt]=x.useState({}),[Wt,rt]=x.useState(null),[at,en]=x.useState(!1),[qr,Bs]=x.useState(!1),[Ln,kc]=x.useState(!1),[la,Ui]=x.useState(!1),[Al,Lf]=x.useState(!1),[Cc,kx]=x.useState(!1),[Cx,rd]=x.useState(!1),[$p,yj]=x.useState(!1),[_O,jO]=x.useState(!1),[Ex,SO]=x.useState(null),[NO,wY]=x.useState(null),[kO,bj]=x.useState(!1),[CO,wj]=x.useState(!1),[EO,_j]=x.useState(!1),[TO,jj]=x.useState(!1),[AO,Sj]=x.useState(!1),[PO,Nj]=x.useState(!1),[_Y,OO]=x.useState(1),[jY,DO]=x.useState(1),[SY,RO]=x.useState(1),[NY,MO]=x.useState(1),[kY,FO]=x.useState(1),[CY,IO]=x.useState(1),[pHe,EY]=x.useState(1),[gHe,TY]=x.useState(1),[vHe,AY]=x.useState(1),[kj,LO]=x.useState(!1),[Cj,$O]=x.useState(!1),[Ej,BO]=x.useState(!1),[Tj,UO]=x.useState(!1),[Aj,zO]=x.useState(!1),[Pj,VO]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[er,La]=x.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[s,e]),x.useEffect(()=>{HO()},[]),x.useEffect(()=>{const D=setTimeout(()=>{Q(B)},500);return()=>clearTimeout(D)},[B]);const WO=x.useMemo(()=>!!(ce||$e||Fe||Re||mt||me),[ce,$e,Fe,Re,mt,me]),Ec=x.useMemo(()=>WO||!!X,[WO,X]);x.useEffect(()=>{Bp(X!=="")},[F,X,ce,$e,Fe,Re,mt,me,r]),x.useEffect(()=>{re?IY():u([])},[re,X,ce,$e,Fe,Re,mt,me,r]);const HO=async()=>{try{U(!0),V(null),OO(1),DO(1),RO(1),MO(1),FO(1),IO(1),EY(1),TY(1),AY(1);const[D,ue,Ie,Qe,tr,Fr,zi,Pl,un]=await Promise.all([Y.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),Y.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"activity_id,activity_name_en,activity_name_ar"}),Y.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"status_id,status_name_en,status_name_ar"}),Y.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"system_id,system_name_en,system_name_ar"}),Y.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:10,page:0,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),Y.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:10,page:0}),Y.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:0,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),Y.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"country_id,country_name_en,country_name_ar"}),Y.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),ua=ad=>Array.isArray(ad)?ad:ad!=null&&ad.data&&Array.isArray(ad.data)?ad.data:[];f(ua(D)),m(ua(ue)),g(ua(Ie)),y(ua(Qe)),w(ua(tr)),j(ua(Fr)),C(ua(zi)),P(ua(Pl)),W(ua(un))}catch(D){const ue=D instanceof Error?D.message:"Failed to load data";V(ue),n({title:"Error",description:ue,variant:"destructive"})}finally{U(!1)}},PY=async()=>{if(!kj)try{LO(!0);const D=_Y+1,ue=await Y.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:D,select_fields:"city_id,city_name_en,city_name_ar"}),Ie=(ue==null?void 0:ue.data)||[];Ie.length>0&&(f(Qe=>[...Qe,...Ie]),OO(D))}catch(D){console.error("Failed to load more cities:",D)}finally{LO(!1)}},OY=async()=>{if(!Cj)try{$O(!0);const D=jY+1,ue=await Y.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:D,select_fields:"activity_id,activity_name_en,activity_name_ar"}),Ie=(ue==null?void 0:ue.data)||[];Ie.length>0&&(m(Qe=>[...Qe,...Ie]),DO(D))}catch(D){console.error("Failed to load more activities:",D)}finally{$O(!1)}},DY=async()=>{if(!Ej)try{BO(!0);const D=SY+1,ue=await Y.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:D,select_fields:"status_id,status_name_en,status_name_ar"}),Ie=(ue==null?void 0:ue.data)||[];Ie.length>0&&(g(Qe=>[...Qe,...Ie]),RO(D))}catch(D){console.error("Failed to load more statuses:",D)}finally{BO(!1)}},RY=async()=>{if(!Tj)try{UO(!0);const D=NY+1,ue=await Y.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:D,select_fields:"system_id,system_name_en,system_name_ar"}),Ie=(ue==null?void 0:ue.data)||[];Ie.length>0&&(y(Qe=>[...Qe,...Ie]),MO(D))}catch(D){console.error("Failed to load more systems:",D)}finally{UO(!1)}},MY=async()=>{if(!Aj)try{zO(!0);const D=kY+1,ue=await Y.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:D,select_fields:"country_id,country_name_en,country_name_ar"}),Ie=(ue==null?void 0:ue.data)||[];Ie.length>0&&(P(Qe=>[...Qe,...Ie]),FO(D))}catch(D){console.error("Failed to load more countries:",D)}finally{zO(!1)}},FY=async()=>{if(!Pj)try{VO(!0);const D=CY+1,ue=await Y.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:D,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),Ie=(ue==null?void 0:ue.data)||[];Ie.length>0&&(C(Qe=>[...Qe,...Ie]),IO(D))}catch(D){console.error("Failed to load more users:",D)}finally{VO(!1)}},$f=(D,ue,Ie)=>{const{scrollTop:Qe,scrollHeight:tr,clientHeight:Fr}=D.currentTarget;Qe+Fr>=tr-50&&!Ie&&ue()},Bp=async(D=!1)=>{try{D?M(!0):U(!0),V(null);const ue={};ce&&(ue.city_id=parseInt(ce)),Fe&&(ue.system_id=parseInt(Fe)),Re&&(ue.status_id=parseInt(Re)),mt&&(ue.activity_id=parseInt(mt)),me&&(ue.assigned_to=parseInt(me)),$e&&(ue.m_city_country_id=parseInt($e));const Pl=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation","decision_maker",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),un={page:Ec?0:F-1,pageSize:Ec?100:ee,sort_by:"created_at",sort_order:"desc",exact_filters:ue,select_fields:Pl};X&&(un.search_fields="company_name",un.search=X);const ua=await Y.mLeads.list(un);l(ua.data||[]),Z(ua.total||0)}catch(ue){const Ie=ue instanceof Error?ue.message:"Failed to load data";V(Ie),n({title:"Error",description:Ie,variant:"destructive"})}finally{U(!1),M(!1)}},IY=async()=>{try{const D={};ce&&(D.city_id=parseInt(ce)),Fe&&(D.system_id=parseInt(Fe)),Re&&(D.status_id=parseInt(Re)),mt&&(D.activity_id=parseInt(mt)),me&&(D.assigned_to=parseInt(me)),$e&&(D.m_city_country_id=parseInt($e));const zi=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Pl={pageSize:200,exact_filters:D,select_fields:zi};X&&(Pl.search=X);const un=await Y.mLeads.list(Pl);u(un.data||[])}catch(D){console.error("Failed to load all filtered leads:",D)}},qO=x.useMemo(()=>{if(!Ec)return o;const D=un=>un?parseInt(un,10):void 0,ue=D(Re),Ie=D(mt),Qe=D(Fe),tr=D(ce),Fr=D($e),zi=D(me),Pl=X.trim().toLowerCase();return o.filter(un=>{if(ue!==void 0&&un.status_id!==ue||Ie!==void 0&&un.activity_id!==Ie||Qe!==void 0&&un.system_id!==Qe||tr!==void 0&&un.city_id!==tr)return!1;if(Fr!==void 0){const ua=un.m_city_country_id??null;if(ua===null||ua!==Fr)return!1}return!(zi!==void 0&&(un.assigned_to===null||un.assigned_to===void 0||un.assigned_to!==zi)||Pl&&!(un.company_name||"").toLowerCase().includes(Pl))})},[Ec,o,Re,mt,Fe,ce,$e,me,X]),ca=x.useMemo(()=>re?c:qO,[re,c,qO]),LY=x.useMemo(()=>{if(re){const D=(F-1)*ee,ue=D+ee;return ca.slice(D,ue)}if(Ec){const D=(F-1)*ee,ue=D+ee;return ca.slice(D,ue)}return o},[re,Ec,ca,o,F,ee]),nd=x.useMemo(()=>Math.max(1,Math.ceil(ne/ee)),[ne,ee]);x.useEffect(()=>{ge(Ec?ca.length:se)},[ca,Ec,se]),x.useEffect(()=>{F>nd&&H(nd)},[F,nd]);const Ht=(D,ue,Ie)=>{if(!D)return"-";let Qe=r==="ar"&&(D==null?void 0:D[Ie])||(D==null?void 0:D[ue]);if(!Qe){const tr=ue.replace(/_en$/,""),Fr=Ie.replace(/_ar$/,"");Qe=r==="ar"&&(D==null?void 0:D[Fr])||(D==null?void 0:D[tr])}return Qe||(D==null?void 0:D.name)||(D==null?void 0:D.label)||(D==null?void 0:D.title)||"-"},Oj=D=>D&&(r==="ar"?D.m_city_city_name_ar||D.m_city_city_name_en:D.m_city_city_name_en||D.m_city_city_name_ar)||"-",Dj=D=>D&&(r==="ar"?D.m_activity_activity_name_ar||D.m_activity_activity_name_en:D.m_activity_activity_name_en||D.m_activity_activity_name_ar)||"-",Rj=D=>D&&(r==="ar"?D.m_status_status_name_ar||D.m_status_status_name_en:D.m_status_status_name_en||D.m_status_status_name_ar)||"-",Mj=D=>D&&(r==="ar"?D.m_system_system_name_ar||D.m_system_system_name_en:D.m_system_system_name_en||D.m_system_system_name_ar)||"-",GO=D=>D&&(r==="ar"?D.stages_stage_name_ar||D.stages_stage_name:D.stages_stage_name||D.stages_stage_name_ar)||"-",KO=D=>{if(!D)return"-";const ue=k.find(Ie=>{var Qe,tr;return((Qe=Ie.userid)==null?void 0:Qe.toString())===D||((tr=Ie.user_id)==null?void 0:tr.toString())===D});return(ue==null?void 0:ue.name)||(ue==null?void 0:ue.user_name)||(ue==null?void 0:ue.display_name)||"-"},$Y=D=>{if(D==null||D==="")return"";const ue=Number(D),Ie=d.find(Qe=>Number(Qe.city_id)===ue);return Ht(Ie,"city_name_en","city_name_ar")},BY=D=>{if(D==null||D==="")return"";const ue=Number(D),Ie=h.find(Qe=>Number(Qe.activity_id)===ue);return Ht(Ie,"activity_name_en","activity_name_ar")},UY=D=>{if(D==null||D==="")return"";const ue=Number(D),Ie=p.find(Qe=>Number(Qe.status_id)===ue);return Ht(Ie,"status_name_en","status_name_ar")},zY=D=>{if(D==null||D==="")return"";const ue=Number(D),Ie=v.find(Qe=>Number(Qe.system_id)===ue);return Ht(Ie,"system_name_en","system_name_ar")},VY=D=>{if(!D)return"";const ue=b.find(Ie=>Number(Ie.stage_id)===Number(D));return Ht(ue,"stage_name","stage_name_ar")},Fj=D=>{const Ie={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[D]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${Ie.bg} ${Ie.text} ${Ie.border}`},WY=async(D,ue)=>await new Promise((Qe,tr)=>{const Fr=new FileReader;Fr.onload=()=>{const zi=Fr.result;Qe(zi)},Fr.onerror=tr,Fr.readAsDataURL(D)}),YO=D=>D&&D!=="{}"&&D!==""&&typeof D=="string"&&D.startsWith("data:"),HY=async()=>{try{let D;if(we)await Y.mLeads.update(we,er),D=we,n({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const ue={...er,created_by:t==null?void 0:t.id},Ie=await Y.mLeads.create(ue);if(Ie&&Ie.leads_id)D=Ie.leads_id;else if(D=Ie.id||Ie.leads_id,!D)throw new Error("Failed to create lead");n({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(ui.length>0&&await nX(D),Wt&&er.status_id===7){en(!0);try{const ue=await WY(Wt,D);await Y.mLeads.update(D,{lead_quotation:ue})}catch(ue){console.error("File upload failed:",ue),n({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{en(!1),rt(null)}}Ne(!1),Ue(null),La({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),cs([]),await Bp()}catch(D){const ue=D instanceof Error?D.message:"Failed to save";n({title:"Error",description:ue,variant:"destructive"})}},qY=async D=>{try{await Y.mLeads.delete(D),n({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),be(null),await Bp()}catch(ue){const Ie=ue instanceof Error?ue.message:"Failed to delete";n({title:"Error",description:Ie,variant:"destructive"})}},XO=D=>{ed(D),QO(D.leads_id),ZO(D.leads_id),q(!0)},QO=async D=>{try{const ue=await Vh.getByRelated("mlead",D);J(ue)}catch(ue){console.error("Failed to load notes:",ue),J([])}},ZO=async D=>{try{const ue=await Y.mContacts.list({exact_filters:{leads_id:D},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});S(ue.data||[])}catch(ue){console.error("Failed to load contacts:",ue),S([])}},JO=async D=>{Ue(D.leads_id),La(D),await ZO(D.leads_id);const ue=N.filter(Ie=>Ie.leads_id===D.leads_id);cs(ue.map(Ie=>{var Qe;return{contact_name:Ie.contact_name||"",contact_email:Ie.contact_email||"",contact_mobile:((Qe=Ie.contact_mobile)==null?void 0:Qe.toString())||"",jobtitle_id:Ie.jobtitle_id}})),Ne(!0)},GY=async D=>{try{await Promise.all(D.map(ue=>Y.mLeads.delete(ue))),n({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await Bp()}catch(ue){const Ie=ue instanceof Error?ue.message:"Failed to delete";n({title:"Error",description:Ie,variant:"destructive"})}},KY=async(D,ue={})=>{try{pe(!0),Xe(null);const Ie=await fetchAPI(`/api/v1/search?type=${D}&Filters=${encodeURIComponent(JSON.stringify(ue))}&lang=${r}`);Ie?Xe(Ie):n({title:"Error",description:"No data returned from report",variant:"destructive"})}catch(Ie){console.error("Failed to load report:",Ie),n({title:"Error",description:Ie instanceof Error?Ie.message:"Failed to load report",variant:"destructive"})}finally{pe(!1)}},Tc=(D,ue)=>{wt(Ie=>({...Ie,[D]:ue}))},YY=()=>{KY(te,tt)},XY=()=>{if(!Be||!Be.data)return;const D=[Be.columns.join(","),...Be.data.map(tr=>Be.columns.map(Fr=>typeof tr[Fr]=="string"&&tr[Fr].includes(",")?`"${tr[Fr]}"`:tr[Fr]).join(","))].join(`
`),ue=new Blob([D],{type:"text/csv"}),Ie=window.URL.createObjectURL(ue),Qe=document.createElement("a");Qe.href=Ie,Qe.download=`${te}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe),window.URL.revokeObjectURL(Ie),n({title:e("common.success"),description:"Report exported successfully"})},QY=async()=>{try{if(!Pe.city_name_en&&!Pe.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const D=await Y.mCity.create(Pe);D&&(f([...d,D]),La({...er,city_id:D.city_id}),Ae(!1),Ze({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(D){const ue=D instanceof Error?D.message:"Failed to create city";n({title:"Error",description:ue,variant:"destructive"})}},ZY=async()=>{try{if(!Rt.system_name_en&&!Rt.system_name_ar){n({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const D=await Y.mSystem.create(Rt);D&&(y([...v,D]),La({...er,system_id:D.system_id}),it(!1),Yt({system_name_en:"",system_name_ar:""}),n({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(D){const ue=D instanceof Error?D.message:"Failed to create system";n({title:"Error",description:ue,variant:"destructive"})}},JY=async()=>{try{if(!Ar.activity_name_en&&!Ar.activity_name_ar){n({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const D=await Y.mActivity.create(Ar);D&&(m([...h,D]),La({...er,activity_id:D.activity_id}),_n(!1),$s({activity_name_en:"",activity_name_ar:""}),n({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(D){const ue=D instanceof Error?D.message:"Failed to create activity";n({title:"Error",description:ue,variant:"destructive"})}},eX=async()=>{try{if(!jn.status_name_en&&!jn.status_name_ar){n({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const D=await Y.mStatus.create(jn);D&&(g([...p,D]),La({...er,status_id:D.status_id}),In(!1),Oo({status_name_en:"",status_name_ar:""}),n({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(D){const ue=D instanceof Error?D.message:"Failed to create status";n({title:"Error",description:ue,variant:"destructive"})}},tX=()=>{if(!Gn.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}cs([...ui,{...Gn}]),di({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Tl(!1)},rX=D=>{cs(ui.filter((ue,Ie)=>Ie!==D))},nX=async D=>{try{const ue=ui.map(Ie=>({...Ie,leads_id:D,contact_mobile:Ie.contact_mobile?parseInt(Ie.contact_mobile):null}));if(ue.length>0)for(const Ie of ue)await Y.mContacts.create(Ie)}catch(ue){const Ie=ue instanceof Error?ue.message:"Failed to save contacts";n({title:"Error",description:Ie,variant:"destructive"})}},aX=D=>{SO(D)},sX=D=>{D.preventDefault(),D.dataTransfer.dropEffect="move"},iX=async D=>{if(!Ex)return;const ue=o.find(Ie=>Ie.leads_id===Ex);if(ue&&ue.stage_id!==D)try{await Y.mLeads.update(Ex,{stage_id:D}),n({title:e("common.success"),description:"Lead stage updated successfully"}),await Bp()}catch(Ie){console.error("Failed to update lead stage:",Ie),n({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}SO(null)};if(G)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:e("common.loading"),size:"2xl"})});if(L)return i.jsx(Dp,{message:L,onRetry:HO});const oX=[{label:e("common.delete"),icon:i.jsx(cr,{}),onClick:D=>{window.confirm(`Delete ${D.length} leads?`)&&GY(D.map(ue=>ue.leads_id))},variant:"destructive"}],lX=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:D=>i.jsx(gc,{title:D.company_name||"-",subtitle:D.address||"",icon:i.jsx(Tn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:D=>i.jsx("span",{className:"text-sm text-foreground",children:Oj(D)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:D=>i.jsx(dt,{variant:"outline",className:"text-xs truncate",children:Dj(D)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:D=>{const ue=Rj(D);return i.jsx(dt,{variant:"outline",className:`text-xs truncate ${Fj(D.status_id)}`,children:ue})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:D=>i.jsx(dt,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:GO(D)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:D=>i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:Mj(D)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:D=>i.jsx("div",{className:"truncate",children:i.jsx(Ym,{name:D.created_by_name||"-"})})},{key:"decision_maker",header:e("mleads.decisionMaker"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:D=>i.jsx("div",{className:"truncate",children:i.jsx("span",{className:"text-sm",children:D.decision_maker||"-"})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:D=>i.jsx(Pf,{date:D.created_at})}],cX=[{icon:i.jsx(Di,{}),label:e("common.edit"),onClick:D=>JO(D)},{icon:i.jsx(cr,{}),label:e("common.delete"),onClick:D=>be(D.leads_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:Xt()?"rtl":"ltr",children:[i.jsx("div",{className:"flex-shrink-0 pb-3",children:i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(le,{variant:"outline",size:"default",onClick:()=>je(Ce==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Ce==="list"?i.jsx(Zs,{className:"h-4 w-4"}):i.jsx(Tn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(Ce==="list"?"mleads.kanbanView":"mleads.listView")})]}),i.jsxs(le,{variant:re?"default":"outline",size:"default",onClick:()=>R(!re),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(Zs,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.showChart")}),i.jsx(Fh,{className:`h-4 w-4 transition-transform ${re?"rotate-180":""}`})]}),i.jsxs(le,{variant:_e?"default":"outline",size:"default",onClick:()=>Ee(!_e),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(ps,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.reports")}),i.jsx(Fh,{className:`h-4 w-4 transition-transform ${_e?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[i.jsx(Fs,{className:"absolute inset-inline-start-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{placeholder:e("mleads.searchPlaceholder"),value:B,onChange:D=>{I(D.target.value),H(1)},className:"ps-10 pe-3 h-10 bg-background border-input"})]})]}),i.jsxs(le,{size:"default",onClick:()=>{Ue(null),La({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),cs([]),Do(null),Ae(!1),it(!1),_n(!1),In(!1),Ze({city_name_en:"",city_name_ar:"",country_id:null}),Yt({system_name_en:"",system_name_ar:""}),$s({activity_name_en:"",activity_name_ar:""}),Oo({status_name_en:"",status_name_ar:""}),rt(null),Ne(!0)},variant:"outline",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:Xt()?"rtl":"ltr",children:[i.jsx(Zt,{className:`w-4 h-4 ${Xt()?"order-2":"order-1"}`}),i.jsx("span",{className:`${Xt()?"order-1":"order-2"}`,children:e("common.add")})]})]})})}),i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm",children:[i.jsx(le,{variant:"ghost",onClick:()=>he(!K),className:"w-full justify-between h-auto p-4 rounded-lg hover:bg-accent transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")}),i.jsxs("div",{className:"flex items-center gap-2",children:[(ce||$e||Fe||Re||mt||me)&&i.jsxs(le,{variant:"outline",size:"sm",onClick:D=>{D.stopPropagation(),A(""),Me(""),ze(""),vt(""),oe(""),z(""),H(1)},title:e("mleads.clearFilters"),className:"h-8 px-3 hover:bg-destructive/10 hover:border-destructive/30 hover:text-destructive transition-colors",children:[i.jsx(_o,{className:`h-3 w-3 ${Xt()?"ms-2":"me-2"}`}),e("mleads.clearFilters")]}),i.jsx(Fh,{className:`h-4 w-4 transition-transform ${K?"rotate-180":""}`})]})]})}),K&&i.jsx("div",{className:"px-4 pb-4 animate-in fade-in slide-in-from-top-2",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3",children:[i.jsxs(ma,{open:kO,onOpenChange:bj,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":kO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Re?Ht(p.find(D=>D.status_id.toString()===Re),"status_name_en","status_name_ar"):e("mleads.allStatuses")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchStatus")}),i.jsxs(xa,{onScroll:D=>$f(D,DY,Ej),children:[i.jsx(ya,{children:e("common.noResults")}),i.jsxs(ba,{children:[i.jsx(fr,{value:e("mleads.allStatuses"),onSelect:()=>{vt(""),H(1),bj(!1)},children:e("mleads.allStatuses")},"all-statuses"),p.map(D=>i.jsx(fr,{value:D.status_id.toString(),onSelect:()=>{vt(D.status_id.toString()),H(1),bj(!1)},children:Ht(D,"status_name_en","status_name_ar")},D.status_id)),Ej&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ma,{open:CO,onOpenChange:wj,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":CO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:mt?Ht(h.find(D=>D.activity_id.toString()===mt),"activity_name_en","activity_name_ar"):e("mleads.allActivities")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchActivity")}),i.jsxs(xa,{onScroll:D=>$f(D,OY,Cj),children:[i.jsx(ya,{children:e("common.noResults")}),i.jsxs(ba,{children:[i.jsx(fr,{value:e("mleads.allActivities"),onSelect:()=>{oe(""),H(1),wj(!1)},children:e("mleads.allActivities")},"all-activities"),h.map(D=>i.jsx(fr,{value:D.activity_id.toString(),onSelect:()=>{oe(D.activity_id.toString()),H(1),wj(!1)},children:Ht(D,"activity_name_en","activity_name_ar")},D.activity_id)),Cj&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ma,{open:EO,onOpenChange:_j,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":EO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Fe?Ht(v.find(D=>D.system_id.toString()===Fe),"system_name_en","system_name_ar"):e("mleads.allSystems")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchSystem")}),i.jsxs(xa,{onScroll:D=>$f(D,RY,Tj),children:[i.jsx(ya,{children:e("common.noResults")}),i.jsxs(ba,{children:[i.jsx(fr,{value:e("mleads.allSystems"),onSelect:()=>{ze(""),H(1),_j(!1)},children:e("mleads.allSystems")},"all-systems"),v.map(D=>i.jsx(fr,{value:D.system_id.toString(),onSelect:()=>{ze(D.system_id.toString()),H(1),_j(!1)},children:Ht(D,"system_name_en","system_name_ar")},D.system_id)),Tj&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ma,{open:TO,onOpenChange:jj,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":TO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:$e?Ht(E.find(D=>D.country_id.toString()===$e),"country_name_en","country_name_ar"):e("mleads.allCountries")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchCountry")}),i.jsxs(xa,{onScroll:D=>$f(D,MY,Aj),children:[i.jsx(ya,{children:e("common.noResults")}),i.jsxs(ba,{children:[i.jsx(fr,{value:e("mleads.allCountries"),onSelect:()=>{Me(""),H(1),jj(!1)},children:e("mleads.allCountries")},"all-countries"),E.map(D=>i.jsx(fr,{value:D.country_id.toString(),onSelect:()=>{Me(D.country_id.toString()),H(1),jj(!1)},children:Ht(D,"country_name_en","country_name_ar")},D.country_id)),Aj&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ma,{open:AO,onOpenChange:Sj,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":AO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:ce?Ht(d.find(D=>D.city_id.toString()===ce),"city_name_en","city_name_ar"):e("mleads.allCities")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchCity")}),i.jsxs(xa,{onScroll:D=>$f(D,PY,kj),children:[i.jsx(ya,{children:e("common.noResults")}),i.jsxs(ba,{children:[i.jsx(fr,{value:e("mleads.allCities"),onSelect:()=>{A(""),H(1),Sj(!1)},children:e("mleads.allCities")},"all-cities"),d.map(D=>i.jsx(fr,{value:D.city_id.toString(),onSelect:()=>{A(D.city_id.toString()),H(1),Sj(!1)},children:Ht(D,"city_name_en","city_name_ar")},D.city_id)),kj&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ma,{open:PO,onOpenChange:Nj,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":PO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:me?KO(me):e("mleads.allUsers")}),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchUser")}),i.jsxs(xa,{onScroll:D=>$f(D,FY,Pj),children:[i.jsx(ya,{children:e("common.noResults")}),i.jsxs(ba,{children:[i.jsx(fr,{value:e("mleads.allUsers"),onSelect:()=>{z(""),H(1),Nj(!1)},children:e("mleads.allUsers")},"all-users"),k.map(D=>{var Qe;const ue=(Qe=D.userid||D.user_id||D.id)==null?void 0:Qe.toString(),Ie=D.name||D.user_name||D.display_name||"-";return i.jsx(fr,{value:ue,onSelect:()=>{z(ue),H(1),Nj(!1)},children:Ie},ue)}),Pj&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]})})]})}),i.jsx(ml,{open:Se,onOpenChange:Ne,children:i.jsxs(ko,{className:`w-full sm:max-w-[540px] flex flex-col h-full ${r==="ar"?"rtl":"ltr"}`,children:[i.jsxs(dc,{children:[i.jsx(pl,{children:e(we?"mleads.editLead":"mleads.createNewLead")}),i.jsx(lf,{children:e(we?"mleads.editLeadDescription":"mleads.createLeadDescription")})]}),i.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),i.jsx(Ve,{value:er.company_name||"",onChange:D=>La({...er,company_name:D.target.value}),placeholder:e("mleads.companyName")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),i.jsx(ra,{value:er.address||"",onChange:D=>La({...er,address:D.target.value}),placeholder:e("mleads.address")})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>Tl(!fi),className:"h-6 px-2 text-xs",children:e(fi?"mleads.cancel":"mleads.addContact")})]}),ui.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:ui.map((D,ue)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:D.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[D.contact_email&&`${D.contact_email}  `,D.contact_mobile&&`${D.contact_mobile}`]})]}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>rX(ue),className:"h-6 w-6 p-0",children:i.jsx(_o,{className:"h-3 w-3"})})]},ue))}),fi&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mleads.contactName"),value:Gn.contact_name,onChange:D=>di({...Gn,contact_name:D.target.value})}),i.jsx(Ve,{placeholder:e("mleads.email"),type:"email",value:Gn.contact_email,onChange:D=>di({...Gn,contact_email:D.target.value})}),i.jsx(Ve,{placeholder:e("mleads.mobile"),value:Gn.contact_mobile,onChange:D=>di({...Gn,contact_mobile:D.target.value})}),i.jsxs(ma,{open:$p,onOpenChange:yj,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":$p,className:"w-full justify-between",children:[Gn.jobtitle_id?(e4=T.find(D=>D.jobtitle_id===Gn.jobtitle_id))==null?void 0:e4.jobtitle_name_en:e("mleads.selectJobTitle"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchJobTitle")}),i.jsxs(xa,{children:[i.jsx(ya,{children:e("common.noResults")}),i.jsx(ba,{children:T&&T.length>0?T.map(D=>i.jsx(fr,{value:Ht(D,"jobtitle_name_en","jobtitle_name_ar")||D.jobtitle_name_en||"Unknown",onSelect:()=>{di(ue=>({...ue,jobtitle_id:D.jobtitle_id})),yj(!1)},children:Ht(D,"jobtitle_name_en","jobtitle_name_ar")||D.jobtitle_name_en||"Unknown"},D.jobtitle_id)):i.jsx(fr,{disabled:!0,children:"No job titles available"},"no-job-titles")})]})]})})]}),i.jsx(le,{type:"button",onClick:tX,className:"w-full",children:e("mleads.addContactTitle")})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ae(!ve),className:"h-6 px-2 text-xs",children:e(ve?"mleads.cancel":"mleads.addNew")})]}),ve?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mleads.cityNameEn"),value:Pe.city_name_en,onChange:D=>Ze({...Pe,city_name_en:D.target.value})}),i.jsx(Ve,{placeholder:e("mleads.cityNameAr"),value:Pe.city_name_ar,onChange:D=>Ze({...Pe,city_name_ar:D.target.value})}),i.jsxs(ma,{open:_O,onOpenChange:jO,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":_O,className:"w-full justify-between",children:[Pe.country_id?(t4=E.find(D=>D.country_id===Pe.country_id))==null?void 0:t4.country_name_en:e("mleads.selectCountry"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchCountry")}),i.jsxs(xa,{children:[i.jsx(ya,{children:e("common.noResults")}),i.jsx(ba,{children:E.map(D=>i.jsx(fr,{value:Ht(D,"country_name_en","country_name_ar"),onSelect:()=>{Ze({...Pe,country_id:D.country_id}),jO(!1)},children:Ht(D,"country_name_en","country_name_ar")},D.country_id))})]})]})})]}),i.jsx(le,{type:"button",onClick:QY,className:"w-full",children:e("mleads.createCity")})]}):i.jsxs(ma,{open:qr,onOpenChange:Bs,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":qr,className:"w-full justify-between",children:[er.city_id?$Y(er.city_id):e("mleads.city"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchCity")}),i.jsxs(xa,{children:[i.jsx(ya,{children:e("common.noResults")}),i.jsx(ba,{children:d.map(D=>i.jsx(fr,{value:Ht(D,"city_name_en","city_name_ar"),onSelect:()=>{La({...er,city_id:D.city_id}),Bs(!1)},children:Ht(D,"city_name_en","city_name_ar")},D.city_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>_n(!gr),className:"h-6 px-2 text-xs",children:e(gr?"mleads.cancel":"mleads.addNew")})]}),gr?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mleads.activityNameEn"),value:Ar.activity_name_en,onChange:D=>$s({...Ar,activity_name_en:D.target.value})}),i.jsx(Ve,{placeholder:e("mleads.activityNameAr"),value:Ar.activity_name_ar,onChange:D=>$s({...Ar,activity_name_ar:D.target.value})}),i.jsx(le,{type:"button",onClick:JY,className:"w-full",children:e("mleads.createActivity")})]}):i.jsxs(ma,{open:Ln,onOpenChange:kc,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Ln,className:"w-full justify-between",children:[er.activity_id?BY(er.activity_id):e("mleads.selectActivity"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchActivity")}),i.jsxs(xa,{children:[i.jsx(ya,{children:e("common.noResults")}),i.jsx(ba,{children:h.map(D=>i.jsx(fr,{value:Ht(D,"activity_name_en","activity_name_ar"),onSelect:()=>{La({...er,activity_id:D.activity_id}),kc(!1)},children:Ht(D,"activity_name_en","activity_name_ar")},D.activity_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>it(!qe),className:"h-6 px-2 text-xs",children:e(qe?"mleads.cancel":"mleads.addNew")})]}),qe?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mleads.systemNameEn"),value:Rt.system_name_en,onChange:D=>Yt({...Rt,system_name_en:D.target.value})}),i.jsx(Ve,{placeholder:e("mleads.systemNameAr"),value:Rt.system_name_ar,onChange:D=>Yt({...Rt,system_name_ar:D.target.value})}),i.jsx(le,{type:"button",onClick:ZY,className:"w-full",children:e("mleads.createSystem")})]}):i.jsxs(ma,{open:la,onOpenChange:Ui,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":la,className:"w-full justify-between",children:[er.system_id?zY(er.system_id):e("mleads.selectSystem"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchSystem")}),i.jsxs(xa,{children:[i.jsx(ya,{children:e("common.noResults")}),i.jsx(ba,{children:v.map(D=>i.jsx(fr,{value:Ht(D,"system_name_en","system_name_ar"),onSelect:()=>{La({...er,system_id:D.system_id}),Ui(!1)},children:Ht(D,"system_name_en","system_name_ar")},D.system_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>In(!oa),className:"h-6 px-2 text-xs",children:e(oa?"mleads.cancel":"mleads.addNew")})]}),oa?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mleads.statusNameEn"),value:jn.status_name_en,onChange:D=>Oo({...jn,status_name_en:D.target.value})}),i.jsx(Ve,{placeholder:e("mleads.statusNameAr"),value:jn.status_name_ar,onChange:D=>Oo({...jn,status_name_ar:D.target.value})}),i.jsx(le,{type:"button",onClick:eX,className:"w-full",children:e("mleads.createStatus")})]}):i.jsxs(ma,{open:Al,onOpenChange:Lf,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Al,className:"w-full justify-between",children:[er.status_id?UY(er.status_id):e("mleads.selectStatus"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchStatus")}),i.jsxs(xa,{children:[i.jsx(ya,{children:e("common.noResults")}),i.jsx(ba,{children:p.map(D=>i.jsx(fr,{value:Ht(D,"status_name_en","status_name_ar"),onSelect:()=>{La({...er,status_id:D.status_id}),Lf(!1)},children:Ht(D,"status_name_en","status_name_ar")},D.status_id))})]})]})})]})]}),er.status_id===7&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[i.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Ag,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),i.jsx(Ve,{type:"file",onChange:D=>{var Ie;const ue=(Ie=D.target.files)==null?void 0:Ie[0];ue&&rt(ue)},className:"cursor-pointer"}),YO(er.lead_quotation)&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.jsx("button",{onClick:()=>{const D=window.open();if(D)D.document.write(`
                          <html>
                            <body style="margin:0;padding:20px;">
                              <embed src="${er.lead_quotation}" width="100%" height="100%" />
                            </body>
                          </html>
                        `);else{const ue=document.createElement("a");ue.href=er.lead_quotation,ue.download="quotation.pdf",ue.click()}},className:"ms-1 text-blue-600 hover:underline font-medium bg-transparent border-none cursor-pointer",children:e("mleads.viewQuotation")})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),i.jsxs(ma,{open:Cc,onOpenChange:kx,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Cc,className:"w-full justify-between",children:[er.stage_id?VY(er.stage_id):e("mleads.selectStage"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchStage")}),i.jsxs(xa,{children:[i.jsx(ya,{children:e("common.noResults")}),i.jsx(ba,{children:b.map(D=>i.jsx(fr,{value:D.stage_name,onSelect:()=>{La({...er,stage_id:D.stage_id}),kx(!1)},children:D.stage_name},D.stage_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),i.jsxs(ma,{open:Cx,onOpenChange:rd,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Cx,className:"w-full justify-between",children:[er.assigned_to?KO(er.assigned_to):e("mleads.selectUser"),i.jsx($a,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mleads.searchUser")}),i.jsxs(xa,{children:[i.jsx(ya,{children:e("common.noResults")}),i.jsx(ba,{children:k.map(D=>i.jsx(fr,{value:D.user_name,onSelect:()=>{La({...er,assigned_to:D.userid}),rd(!1)},children:D.user_name},D.user_id))})]})]})})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[i.jsx(le,{variant:"outline",onClick:()=>Ne(!1),children:e("common.cancel")}),i.jsx(le,{onClick:HY,children:e("common.save")})]})]})}),re&&i.jsx("div",{className:"flex-shrink-0 px-4 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),i.jsxs(xl,{defaultValue:"pie",className:"w-full",children:[i.jsxs(Eo,{className:`flex w-full ${Xt()?"flex-row-reverse":""}`,children:[i.jsx(Vr,{value:"pie",className:"flex-1",children:e("mleads.distributionCharts")}),i.jsx(Vr,{value:"timeline",className:"flex-1",children:e("mleads.timeline")})]}),i.jsx(xn,{value:"pie",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),i.jsx(Vo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(Ga,{data:(()=>{const D=p.map(ue=>({name:Ht(ue,"status_name_en","status_name_ar"),value:ca.filter(Ie=>Ie.status_id===ue.status_id).length})).filter(ue=>ue.value>0);return D.length>0?D:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:D,value:ue})=>`${D}: ${ue}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((D,ue)=>i.jsx(Qo,{fill:D},`cell-${ue}`))}),i.jsx(xd,{content:i.jsx(Xc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),i.jsx(Vo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(Ga,{data:(()=>{const D=v.map(ue=>({name:Ht(ue,"system_name_en","system_name_ar"),value:ca.filter(Ie=>Ie.system_id===ue.system_id).length})).filter(ue=>ue.value>0);return D.length>0?D:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:D,value:ue})=>`${D}: ${ue}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((D,ue)=>i.jsx(Qo,{fill:D},`cell-${ue}`))}),i.jsx(xd,{content:i.jsx(Xc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),i.jsx(Vo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(Ga,{data:(()=>{const D=h.map(ue=>({name:Ht(ue,"activity_name_en","activity_name_ar"),value:ca.filter(Ie=>Ie.activity_id===ue.activity_id).length})).filter(ue=>ue.value>0);return D.length>0?D:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:D,value:ue})=>`${D}: ${ue}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((D,ue)=>i.jsx(Qo,{fill:D},`cell-${ue}`))}),i.jsx(xd,{content:i.jsx(Xc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(Vo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(Ga,{data:(()=>{const D=d.map(ue=>({name:Ht(ue,"city_name_en","city_name_ar"),value:ca.filter(Ie=>Ie.city_id===ue.city_id).length})).filter(ue=>ue.value>0);return D.length>0?D:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:D,value:ue})=>`${D}: ${ue}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((D,ue)=>i.jsx(Qo,{fill:D},`cell-${ue}`))}),i.jsx(xd,{content:i.jsx(Xc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),i.jsx(Vo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(Ga,{data:(()=>{const D=k.map(ue=>({name:ue.user_name,value:ca.filter(Ie=>Ie.assigned_to===ue.userid).length})).filter(ue=>ue.value>0);return D.length>0?D:[{name:"Unassigned",value:ca.filter(ue=>!ue.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:D,value:ue})=>`${D}: ${ue}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((D,ue)=>i.jsx(Qo,{fill:D},`cell-${ue}`))}),i.jsx(xd,{content:i.jsx(Xc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),i.jsx("div",{className:"text-5xl font-bold text-primary",children:ca.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),i.jsx(xn,{value:"timeline",className:"mt-4",children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Su,{width:"100%",height:"100%",children:i.jsxs(ix,{data:(()=>{const D=new Map;return ca.forEach(Ie=>{const Qe=new Date(Ie.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});D.set(Qe,(D.get(Qe)||0)+1)}),Array.from(D.entries()).sort((Ie,Qe)=>new Date(Ie[0]).getTime()-new Date(Qe[0]).getTime()).map(([Ie,Qe])=>({date:Ie,count:Qe}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx(ku,{strokeDasharray:"3 3"}),i.jsx(po,{dataKey:"date",angle:Xt()?45:-45,textAnchor:Xt()?"start":"end",height:80,tick:{fontSize:12},reversed:Xt()}),i.jsx(go,{label:{value:"Number of Leads",angle:Xt()?90:-90,position:"insideLeft"}}),i.jsx(Qn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:D=>[`${D} leads`,"Total"]}),i.jsx(ni,{}),i.jsx(jc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]})}),_e&&i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e("mleads.reports")}),i.jsxs(le,{variant:"outline",size:"sm",onClick:XY,disabled:!Be||ke,className:"flex items-center gap-2",children:[i.jsx(Zne,{className:"h-4 w-4"}),e("common.export")]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.selectReport")}),i.jsxs(yt,{value:te,onValueChange:fe,children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:e("mleads.selectReport")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"leads_summary",children:e("mleads.leadsSummaryReport")}),i.jsx(Te,{value:"leads_by_city",children:e("mleads.leadsByCityReport")}),i.jsx(Te,{value:"leads_conversion",children:e("mleads.leadsConversionReport")}),i.jsx(Te,{value:"sales_performance",children:e("mleads.salesPerformanceReport")}),i.jsx(Te,{value:"leads_trend_simple",children:e("mleads.leadsTrendReport")})]})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.reportParameters")}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[te==="leads_summary"&&i.jsxs(yt,{value:tt.status_id||"all",onValueChange:D=>Tc("status_id",D==="all"?null:D),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:e("mleads.allStatuses")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:e("mleads.allStatuses")}),p.map(D=>i.jsx(Te,{value:D.status_id.toString(),children:Ht(D,"status_name_en","status_name_ar")},D.status_id))]})]}),te==="leads_by_city"&&i.jsxs(i.Fragment,{children:[i.jsxs(yt,{value:tt.city_id||"all",onValueChange:D=>Tc("city_id",D==="all"?null:D),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:e("mleads.allCities")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:e("mleads.allCities")}),d.map(D=>i.jsx(Te,{value:D.city_id.toString(),children:Ht(D,"city_name_en","city_name_ar")},D.city_id))]})]}),i.jsx(Ve,{type:"date",placeholder:e("mleads.startDate"),value:tt.start_date||"",onChange:D=>Tc("start_date",D.target.value)})]}),(te==="leads_conversion"||te==="sales_performance"||te==="leads_trend_simple")&&i.jsxs(i.Fragment,{children:[i.jsx(Ve,{type:"date",placeholder:e("mleads.startDate"),value:tt.start_date||"",onChange:D=>Tc("start_date",D.target.value)}),i.jsx(Ve,{type:"date",placeholder:e("mleads.endDate"),value:tt.end_date||"",onChange:D=>Tc("end_date",D.target.value)})]}),te==="leads_conversion"&&i.jsxs(yt,{value:tt.activity_id||"all",onValueChange:D=>Tc("activity_id",D==="all"?null:D),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:e("mleads.allActivities")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:e("mleads.allActivities")}),h.map(D=>i.jsx(Te,{value:D.activity_id.toString(),children:Ht(D,"activity_name_en","activity_name_ar")},D.activity_id))]})]}),te==="leads_conversion"&&i.jsxs(yt,{value:tt.system_id||"all",onValueChange:D=>Tc("system_id",D==="all"?null:D),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:e("mleads.allSystems")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:e("mleads.allSystems")}),v.map(D=>i.jsx(Te,{value:D.system_id.toString(),children:Ht(D,"system_name_en","system_name_ar")},D.system_id))]})]}),te==="sales_performance"&&i.jsxs(yt,{value:tt.assigned_to||"all",onValueChange:D=>Tc("assigned_to",D==="all"?null:D),children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:e("mleads.allUsers")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:e("mleads.allUsers")}),k.map(D=>{var Qe;const ue=(Qe=D.userid||D.user_id||D.id)==null?void 0:Qe.toString(),Ie=D.name||D.user_name||D.display_name||"-";return i.jsx(Te,{value:ue,children:Ie},ue)})]})]})]})]})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx(le,{onClick:YY,disabled:ke,className:"flex items-center gap-2 px-6",children:ke?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e("common.loading")]}):i.jsxs(i.Fragment,{children:[i.jsx(fB,{className:"h-4 w-4"}),e("mleads.runReport")]})})}),Be&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-md font-medium",children:e("mleads.reportResults")}),i.jsxs(dt,{variant:"secondary",children:[((r4=Be.data)==null?void 0:r4.length)||0," ",e("mleads.records")]})]}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-96",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsx("tr",{children:(n4=Be.columns)==null?void 0:n4.map((D,ue)=>i.jsx("th",{className:"px-4 py-2 text-left font-medium border-b",children:D.replace(/_/g," ").replace(/\b\w/g,Ie=>Ie.toUpperCase())},ue))})}),i.jsx("tbody",{children:(a4=Be.data)==null?void 0:a4.map((D,ue)=>{var Ie;return i.jsx("tr",{className:"border-b hover:bg-muted/50",children:(Ie=Be.columns)==null?void 0:Ie.map((Qe,tr)=>i.jsx("td",{className:"px-4 py-2 border-b",children:D[Qe]||"-"},tr))},ue)})})]})})}),te==="leads_by_city"&&Be.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs(Vo,{config:{},children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.leadsByCity")}),i.jsx(Su,{width:"100%",height:300,children:i.jsxs(UI,{data:Be.data,children:[i.jsx(ku,{strokeDasharray:"3 3"}),i.jsx(po,{dataKey:"city_name"}),i.jsx(go,{}),i.jsx(Qn,{}),i.jsx(ni,{}),i.jsx(Si,{dataKey:"total_leads",fill:"#3b82f6",name:e("mleads.totalLeads")}),i.jsx(Si,{dataKey:"won_leads",fill:"#10b981",name:e("mleads.wonLeads")}),i.jsx(Si,{dataKey:"lost_leads",fill:"#ef4444",name:e("mleads.lostLeads")})]})})]})}),te==="sales_performance"&&Be.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs(Vo,{config:{},children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.salesPerformance")}),i.jsx(Su,{width:"100%",height:300,children:i.jsxs(UI,{data:Be.data,children:[i.jsx(ku,{strokeDasharray:"3 3"}),i.jsx(po,{dataKey:"sales_person"}),i.jsx(go,{}),i.jsx(Qn,{}),i.jsx(ni,{}),i.jsx(Si,{dataKey:"won_deals",fill:"#10b981",name:e("mleads.wonDeals")}),i.jsx(Si,{dataKey:"lost_deals",fill:"#ef4444",name:e("mleads.lostDeals")}),i.jsx(Si,{dataKey:"pending_leads",fill:"#f59e0b",name:e("mleads.pendingLeads")})]})})]})})]})]})}),i.jsx(st,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(ft,{className:"h-full flex flex-col p-0 overflow-hidden",children:Ce==="kanban"?i.jsx(fx,{stages:b.map(D=>({id:D.stage_id,name:D.stage_name,count:ca.filter(ue=>ue.stage_id===D.stage_id).length})),currentStageId:NO||((s4=b[0])==null?void 0:s4.stage_id),onStageChange:wY,children:i.jsx("div",{className:"space-y-4 h-full flex flex-col",children:i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4 scrollbar-hide flex-1 min-h-0",children:b.filter(D=>{var ue;return!a||D.stage_id===(NO||((ue=b[0])==null?void 0:ue.stage_id))}).map((D,ue)=>{const Ie=ca.filter(Qe=>Qe.stage_id===D.stage_id);return i.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in h-full flex flex-col",a?"w-full":"w-[300px]"),style:{animationDelay:`${ue*.1}s`},onDragOver:sX,onDrop:()=>iX(D.stage_id),children:[!a&&i.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-s-4 border-primary/50 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h2",{className:"font-bold text-base",children:D.stage_name}),i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Ie.length})]})}),i.jsx("div",{className:"space-y-4 overflow-y-auto pe-2 custom-scrollbar flex-1 min-h-0",children:Ie.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 border-2 border-dashed rounded-xl border-muted-foreground/20 text-muted-foreground",children:[i.jsx(Tn,{className:"h-8 w-8 mb-2 opacity-20"}),i.jsx("p",{className:"text-sm",children:e("common.noLeads")})]}):Ie.map(Qe=>i.jsxs(st,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-s-4 border-s-blue-500",a?"w-full":"w-[300px]","min-h-[160px]",Ex===Qe.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>XO(Qe),draggable:!0,onDragStart:tr=>{tr.dataTransfer.effectAllowed="move",tr.dataTransfer.setData("text/plain",Qe.leads_id.toString()),aX(Qe.leads_id)},children:[i.jsx(Ut,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:Qe.company_name||"No Company"}),Qe.address&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:Qe.address})]})})}),i.jsxs(ft,{className:"px-4 pb-3 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(xm,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:Oj(Qe)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(aR,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate",children:Dj(Qe)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Tn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate text-muted-foreground",children:Mj(Qe)})]})]}),i.jsx("div",{children:i.jsx(dt,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${Fj(Qe.status_id)}`,children:Rj(Qe)})})]}),(()=>{const tr=_.filter(Fr=>Number(Fr.leads_id)===Number(Qe.leads_id));return tr.length===0?null:i.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:e("mleads.contacts")}),tr.slice(0,1).map((Fr,zi)=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(An,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("p",{className:"text-[11px] truncate",children:Fr.contact_name})]},zi)),tr.length>1&&i.jsxs("p",{className:"text-[10px] text-muted-foreground ps-4",children:["+",tr.length-1," more"]})]})})(),i.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[i.jsx(An,{className:"h-2.5 w-2.5 flex-shrink-0"}),i.jsxs("span",{className:"truncate",children:["Assign: ",Qe.Users_name||"-"]})]}),i.jsx("div",{className:"flex items-center gap-1 min-w-0",children:i.jsxs("span",{className:"truncate opacity-70",children:["By: ",Qe.created_by_name||"-"]})})]}),i.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(Qe.created_at).toLocaleDateString()})]})]})]},Qe.leads_id))})]},D.stage_id)})})})}):i.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:ca.length===0?i.jsx(cl,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:i.jsx(Tn,{className:"h-12 w-12"})}):i.jsx(pc,{data:LY,columns:["kanban","timeline"].includes(Ce)?[]:lX,actions:cX,bulkActions:oX,enableBulkSelect:!0,keyExtractor:D=>D.leads_id.toString(),onRowClick:D=>XO(D),rowHeight:"h-26"},`leads-${Re}-${mt}-${Fe}-${ce}-${$e}-${me}-${B}-${F}`)}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:nd>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(Jm,{children:[i.jsx(ka,{children:i.jsx(cu,{onClick:()=>H(Math.max(1,F-1)),className:F===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(ka,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",F," ",e("common.of")," ",nd]})}),i.jsx(ka,{children:i.jsx(uu,{onClick:()=>H(Math.min(nd,F+1)),className:F===nd?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})})}),i.jsx(si,{open:de!==null,onOpenChange:()=>be(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:e("mleads.deleteLead")}),i.jsx(Os,{children:e("mleads.deleteLeadConfirm")})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:e("common.cancel")}),i.jsx(Ds,{onClick:()=>de&&qY(de),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(ml,{open:td,onOpenChange:q,children:i.jsxs(ko,{side:Xt()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsxs(dc,{children:[i.jsxs(pl,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Tn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:lr==null?void 0:lr.company_name})]}),i.jsx(lf,{children:e("mleads.leadDetailsDescription")})]}),lr&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),i.jsxs(le,{onClick:()=>{JO(lr),q(!1)},variant:"outline",size:"sm",children:[i.jsx(Di,{className:"h-4 w-4 me-2"}),e("common.edit")]})]}),i.jsxs(xl,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Eo,{className:`flex w-full ${Xt()?"flex-row-reverse":""}`,children:[i.jsx(Vr,{value:"overview",className:"flex-1",children:e("common.overview")}),i.jsx(Vr,{value:"notes",className:"flex-1",children:e("notes.title")})]}),i.jsxs(xn,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:lr.company_name||"-"}),lr.address&&i.jsx("p",{className:"text-muted-foreground mt-1",children:lr.address})]}),YO(lr.lead_quotation)&&i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(Ag,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),i.jsx("button",{onClick:()=>{const D=window.open();if(D)D.document.write(`
                                <html>
                                  <body style="margin:0;padding:20px;">
                                    <embed src="${lr.lead_quotation}" width="100%" height="100%" />
                                  </body>
                                </html>
                              `);else{const ue=document.createElement("a");ue.href=lr.lead_quotation,ue.download="quotation.pdf",ue.click()}},className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left",children:e("mleads.viewQuotation")})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(xm,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),i.jsx("p",{className:"font-medium",children:Oj(lr)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(aR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),i.jsx("p",{className:"font-medium",children:Dj(lr)})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),i.jsx(dt,{variant:"outline",className:`text-xs ${Fj(lr.status_id)}`,children:Rj(lr)})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),i.jsx(dt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:GO(lr)})]})}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Tn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),i.jsx("p",{className:"font-medium",children:Mj(lr)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(An,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),i.jsx("p",{className:"font-medium",children:lr.created_by_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(An,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),i.jsx("p",{className:"text-sm font-medium",children:lr.Users_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(An,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.decisionMaker")}),i.jsx("p",{className:"text-sm font-medium",children:lr.decision_maker||"-"})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(lr.created_at).toLocaleDateString()})]})}),i.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),i.jsx("p",{className:"text-sm mt-1",children:lr.notes||"-"})]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const D=N.length>0?N:[];return D.length>0?i.jsx("div",{className:"space-y-2",children:D.map((ue,Ie)=>{var Qe;return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:ue.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ue.contact_email&&`${ue.contact_email}  `,ue.contact_mobile&&`${ue.contact_mobile}`]})]}),i.jsx(dt,{variant:"outline",className:"text-xs",children:((Qe=T.find(tr=>tr.jobtitle_id===ue.jobtitle_id))==null?void 0:Qe.jobtitle_name_en)||"-"})]},ue.contact_id||Ie)})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),i.jsx(xn,{value:"notes",className:"mt-4",children:i.jsx(wP,{relatedType:"mlead",relatedId:lr.leads_id,notes:ae,onNotesChange:()=>QO(lr.leads_id)})})]})]})]})})]})}async function JVe(e,t,r={}){throw new Error("File upload not available - Supabase storage removed")}async function eWe(e){throw new Error("File deletion not available - Supabase storage removed")}function tWe(){var ae,J,re;const{t:e}=Bt(),{user:t}=pr(),{currentLanguage:r,isRTL:n}=Ma(),{toast:a}=_l();Jr();const{setBreadcrumbs:s}=Iv();Ms();const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState([]),[b,w]=x.useState([]),[_,j]=x.useState(!0),[N,S]=x.useState(null),[k,C]=x.useState(""),[E,P]=x.useState(0),[T]=x.useState(9),[W,G]=x.useState(0),[U,L]=x.useState(""),[V,B]=x.useState(""),[I,X]=x.useState(null),[Q,O]=x.useState(null),[M,F]=x.useState(!1),[H,ee]=x.useState(!1),[ne,ge]=x.useState({city_name_en:"",city_name_ar:"",country_id:null});x.useState(null);const[se,Z]=x.useState(null),[ce,A]=x.useState(!1),[$e,Me]=x.useState([]),[Fe,ze]=x.useState(!1),[Re,vt]=x.useState("list"),[mt,oe]=x.useState(null),[me,z]=x.useState(""),[de,be]=x.useState([]),[we,Ue]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Se,Ne]=x.useState(!1),[ve,Ae]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[Pe,Ze]=x.useState(!1),[qe,it]=x.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[s,e]),x.useEffect(()=>{Rt()},[]),x.useEffect(()=>{Yt()},[E,k,U,V,d]),x.useEffect(()=>{Fe&&gr()},[Fe,k,U,V,d]);const Rt=async()=>{try{j(!0),S(null);const[R,K,he,Ce,je]=await Promise.all([Y.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),Y.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),Y.Users.list({sort_by:"user_name",sort_order:"asc"}),Y.mCountry.list({sort_by:"country_name_en",sort_order:"asc"}),Y.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc"})]),_e=Ee=>Array.isArray(Ee)?Ee:Ee!=null&&Ee.data&&Array.isArray(Ee.data)?Ee.data:[];f(_e(R)),m(_e(K)),g(_e(he)),y(_e(Ce)),w(_e(je))}catch(R){const K=R instanceof Error?R.message:"Failed to load data";S(K),a({title:"Error",description:K,variant:"destructive"})}finally{j(!1)}},Yt=async()=>{try{j(!0),S(null);const R={};if(U&&(R.city_id=U),V){const Ce=d.filter(je=>{var _e;return((_e=je.country_id)==null?void 0:_e.toString())===V}).map(je=>je.city_id);Ce.length>0?R.city_id=Ce:R.city_id=-1}const K={page:E,limit:T,sort_by:"created_at",sort_order:"desc",exact_filters:R};k&&(K.search=k);const he=await Y.mProjects.list(K);l(he.data||[]),G(he.total||0)}catch(R){const K=R instanceof Error?R.message:"Failed to load data";S(K),a({title:"Error",description:K,variant:"destructive"})}finally{j(!1)}},gr=async()=>{try{const R={};if(U&&(R.city_id=U),V){const Ce=d.filter(je=>{var _e;return((_e=je.country_id)==null?void 0:_e.toString())===V}).map(je=>je.city_id);Ce.length>0?R.city_id=Ce:R.city_id=-1}const K={limit:1e3,exact_filters:R};k&&(K.search=k);const he=await Y.mProjects.list(K);u(he.data||[])}catch(R){console.error("Failed to load all filtered projects:",R)}},_n=async()=>{try{const R=await Y.mContacts.list({sort_by:"contact_name",sort_order:"asc"});m(R.data||[])}catch(R){console.error("Failed to load contacts:",R)}},Ar=x.useMemo(()=>Fe?c:o,[Fe,c,o]),$s=x.useMemo(()=>{if(Fe){const R=E*T,K=R+T;return Ar.slice(R,K)}else return o},[Fe,Ar,o,E,T]),oa=Math.ceil(W/T);x.useEffect(()=>{E>=oa&&oa>0&&P(oa-1)},[E,oa]);const In=(R,K,he)=>{if(!R)return"-";let Ce=r==="ar"&&(R==null?void 0:R[he])||(R==null?void 0:R[K]);if(!Ce){const je=K.replace(/_en$/,""),_e=he.replace(/_ar$/,"");Ce=r==="ar"&&(R==null?void 0:R[_e])||(R==null?void 0:R[je])}return Ce||(R==null?void 0:R.name)||(R==null?void 0:R.label)||(R==null?void 0:R.title)||"-"},jn=R=>{if(R==null||R==="")return"-";const K=Number(R),he=d.find(Ce=>Number(Ce.city_id)===K||Number(Ce.id)===K);return In(he,"city_name_en","city_name_ar")},Oo=async()=>{if(!ve){Ae(!0);try{let R;if(Q)await Y.mProjects.update(Q,qe),R=Q,a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")});else{const K={...qe,created_by:t==null?void 0:t.id},he=await Y.mProjects.create(K);if(R=he.id||he.project_id,!R)throw new Error("Failed to create project");a({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(Q){const K=h.filter(he=>he.project_id===Q);for(const he of K)await Y.mContacts.delete(he.contact_id);de.length>0&&await lr(R)}else de.length>0&&await lr(R);if(mt){z("Uploading contract document...");try{await JVe(mt,R,{bucket:"projects",publicBucket:!1}),z("Document uploaded successfully"),a({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(K){console.error("File upload failed:",K),z("Document upload failed"),a({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}F(!1),O(null),it({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),be([]),oe(null),z(""),await Yt(),await _n()}catch(R){const K=R instanceof Error?R.message:"Failed to save";a({title:"Error",description:K,variant:"destructive"})}finally{Ae(!1)}}},ui=async R=>{try{await Y.mProjects.delete(R),a({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),X(null),await Yt()}catch(K){const he=K instanceof Error?K.message:"Failed to delete";a({title:"Error",description:he,variant:"destructive"})}},cs=R=>{Z(R),Gn(R.project_id),_n(),A(!0)},Gn=async R=>{try{const K=await Vh.getByRelated("mlead",R);Me(K)}catch(K){console.error("Failed to load notes:",K),Me([])}},di=R=>{O(R.project_id),it(R);const K=h.filter(he=>he.project_id===R.project_id);be(K.map(he=>{var Ce;return{contact_name:he.contact_name||"",contact_email:he.contact_email||"",contact_mobile:((Ce=he.contact_mobile)==null?void 0:Ce.toString())||"",jobtitle_id:he.jobtitle_id}})),F(!0)},fi=async R=>{try{await Promise.all(R.map(K=>Y.mProjects.delete(K))),a({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await Yt()}catch(K){const he=K instanceof Error?K.message:"Failed to delete";a({title:"Error",description:he,variant:"destructive"})}},Tl=async()=>{try{if(!ne.city_name_en&&!ne.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const R=await Y.mCity.create(ne);R&&(f([...d,R]),it({...qe,city_id:R.city_id}),ee(!1),ge({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(R){const K=R instanceof Error?R.message:"Failed to create city";a({title:"Error",description:K,variant:"destructive"})}},Ju=()=>{if(!we.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(de.some(K=>K.contact_name===we.contact_name&&K.contact_email===we.contact_email&&K.contact_mobile===we.contact_mobile)){a({title:"Warning",description:"This contact already exists",variant:"destructive"});return}be([...de,{...we}]),Ue({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Ne(!1)},Do=R=>{be(de.filter((K,he)=>he!==R))},lr=async R=>{try{const K=de.map(he=>({contact_name:he.contact_name,contact_email:he.contact_email,contact_mobile:he.contact_mobile?parseInt(he.contact_mobile):null,jobtitle_id:he.jobtitle_id,project_id:R}));if(K.length>0)for(const he of K)await Y.mContacts.create(he)}catch(K){const he=K instanceof Error?K.message:"Failed to save contacts";a({title:"Error",description:he,variant:"destructive"})}};if(_)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:e("common.loading"),size:"2xl"})});if(N)return i.jsx(Dp,{message:N,onRetry:Rt});const ed=[{label:e("common.delete"),icon:i.jsx(cr,{}),onClick:R=>{window.confirm(`Delete ${R.length} projects?`)&&fi(R.map(K=>K.project_id))},variant:"destructive"}],td=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:R=>i.jsx(gc,{title:R.company_name||"-",subtitle:R.contract_code||"",icon:i.jsx(Tn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:R=>i.jsx("span",{className:"text-sm text-foreground",children:jn(R.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:R=>i.jsx(dt,{variant:"outline",className:"text-xs",children:R.contract_amount?`$${R.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:R=>i.jsx("span",{className:"text-sm text-muted-foreground",children:R.cont_start_date?new Date(R.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:R=>i.jsx("span",{className:"text-sm text-muted-foreground",children:R.cont_end_date?new Date(R.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:R=>i.jsx(Pf,{date:R.created_at})}],q=[{icon:i.jsx(Di,{}),label:e("common.edit"),onClick:R=>di(R)},{icon:i.jsx(cr,{}),label:e("common.delete"),onClick:R=>X(R.project_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex-shrink-0 pb-3",children:[i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4 mb-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(le,{variant:"outline",size:"default",onClick:()=>vt(Re==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Re==="list"?i.jsx(Zs,{className:"h-4 w-4"}):i.jsx(Tn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(Re==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),i.jsxs(le,{variant:Fe?"default":"outline",size:"default",onClick:()=>ze(!Fe),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(Zs,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mprojects.showChart")}),i.jsx(Fh,{className:`h-4 w-4 transition-transform ${Fe?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:n?"rtl":"ltr",children:[i.jsx(Fs,{className:`absolute ${n?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),i.jsx(Ve,{placeholder:e("mprojects.searchPlaceholder"),value:k,onChange:R=>{C(R.target.value),P(1)},className:`${n?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),i.jsxs(ml,{open:M,onOpenChange:F,children:[i.jsx(x7,{asChild:!0,children:i.jsxs(le,{size:"default",onClick:()=>{O(null),it({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),be([]),oe(null),z(""),ee(!1),Ne(!1),ge({city_name_en:"",city_name_ar:"",country_id:null}),Ue({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),F(!0)},className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:n?"rtl":"ltr",children:[i.jsx(Zt,{className:`w-4 h-4 ${n?"order-2":"order-1"}`}),i.jsx("span",{className:`${n?"order-1":"order-2"}`,children:e("common.add")})]})}),i.jsxs(ko,{side:n?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[i.jsx(dc,{className:"p-6 pb-0",children:i.jsx(pl,{children:e(Q?"mprojects.editProject":"mprojects.createNewProject")})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),i.jsx(Ve,{value:qe.company_name||"",onChange:R=>it({...qe,company_name:R.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),i.jsx(Ve,{value:qe.contract_code||"",onChange:R=>it({...qe,contract_code:R.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),i.jsx(Ve,{type:"number",value:qe.contract_amount||"",onChange:R=>it({...qe,contract_amount:parseFloat(R.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),i.jsx(Ve,{type:"date",value:qe.cont_start_date||"",onChange:R=>it({...qe,cont_start_date:R.target.value}),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),i.jsx(Ve,{type:"date",value:qe.cont_end_date||"",onChange:R=>it({...qe,cont_end_date:R.target.value}),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),i.jsxs(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>ee(!H),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[i.jsx(Zt,{className:"h-3 w-3 mr-1"}),e(H?"mprojects.cancel":"mprojects.addCity")]})]}),H?i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[i.jsx(Ve,{placeholder:"City Name (English)",value:ne.city_name_en,onChange:R=>ge({...ne,city_name_en:R.target.value}),className:"h-9"}),i.jsx(Ve,{placeholder:"City Name (Arabic)",value:ne.city_name_ar,onChange:R=>ge({...ne,city_name_ar:R.target.value}),className:"h-9"}),i.jsxs(yt,{value:((ae=ne.country_id)==null?void 0:ae.toString())||"",onValueChange:R=>ge({...ne,country_id:parseInt(R)}),children:[i.jsx(pt,{className:"h-9",children:i.jsx(bt,{placeholder:"Select Country"})}),i.jsx(gt,{children:v.map(R=>i.jsx(Te,{value:R.country_id.toString(),children:In(R,"country_name_en","country_name_ar")},R.country_id))})]}),i.jsxs(le,{onClick:Tl,size:"sm",className:"w-full h-9",children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):i.jsxs(yt,{value:((J=qe.city_id)==null?void 0:J.toString())||"",onValueChange:R=>it({...qe,city_id:parseInt(R)||null}),children:[i.jsx(pt,{className:"h-10",children:i.jsx(bt,{placeholder:e("mprojects.selectCity")})}),i.jsx(gt,{children:d.map(R=>i.jsx(Te,{value:R.city_id.toString(),children:In(R,"city_name_en","city_name_ar")},R.city_id))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),i.jsxs(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ne(!Se),className:"h-6 px-2 text-xs",children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),e(Se?"mprojects.cancel":"mprojects.addContact")]})]}),de.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:de.map((R,K)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:R.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[R.contact_email&&`${R.contact_email}  `,R.contact_mobile&&`${R.contact_mobile}`]})]}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>Do(K),className:"h-6 w-6 p-0",children:i.jsx(_o,{className:"h-3 w-3"})})]},K))}),Se&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mprojects.contactName"),value:we.contact_name,onChange:R=>Ue({...we,contact_name:R.target.value})}),i.jsx(Ve,{placeholder:e("mprojects.email"),type:"email",value:we.contact_email,onChange:R=>Ue({...we,contact_email:R.target.value})}),i.jsx(Ve,{placeholder:e("mprojects.mobile"),value:we.contact_mobile,onChange:R=>Ue({...we,contact_mobile:R.target.value})}),i.jsxs(ma,{open:Pe,onOpenChange:Ze,children:[i.jsx(pa,{asChild:!0,children:i.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Pe,className:"w-full justify-between",children:[we.jobtitle_id?(re=b.find(R=>R.jobtitle_id===we.jobtitle_id))==null?void 0:re.jobtitle_name_en:e("mprojects.selectJobTitle"),i.jsx($a,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Kn,{className:"w-full p-0",children:i.jsxs(ga,{children:[i.jsx(va,{placeholder:e("mprojects.searchJobTitle")}),i.jsxs(xa,{children:[i.jsx(ya,{children:e("common.noResults")}),i.jsx(ba,{children:b&&b.length>0?b.map(R=>i.jsx(fr,{value:In(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown",onSelect:()=>{Ue(K=>({...K,jobtitle_id:R.jobtitle_id})),Ze(!1)},children:In(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown"},R.jobtitle_id)):i.jsx(fr,{disabled:!0,children:"No job titles available"})})]})]})})]}),i.jsx(le,{type:"button",onClick:Ju,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),i.jsx(Ve,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:R=>{var he;const K=(he=R.target.files)==null?void 0:he[0];oe(K||null)},className:"file:hidden cursor-pointer"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),mt&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[i.jsx(ps,{className:"h-5 w-5 text-primary flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:mt.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(mt.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>oe(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:i.jsx(_o,{className:"h-4 w-4"})})]}),me&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx(ia,{size:"sm"}),i.jsx("span",{className:"text-sm text-blue-700",children:me})]})]})]})]}),i.jsx("div",{className:"p-6 border-t bg-muted/20",children:i.jsx(le,{onClick:Oo,className:"w-full",disabled:ve||!qe.company_name,children:e(ve?"common.saving":Q?"common.save":"common.create")})})]})]})]})}),i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")||"Filters"}),(U||V||k)&&i.jsx(le,{variant:"outline",size:"sm",onClick:()=>{L(""),B(""),C(""),P(1)},children:e("mprojects.clearFilters")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(yt,{value:V||"all",onValueChange:R=>{B(R==="all"?"":R),P(1)},children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:e("mprojects.country")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:e("mprojects.allCountries")}),v.map(R=>i.jsx(Te,{value:R.country_id.toString(),children:In(R,"country_name_en","country_name_ar")},R.country_id))]})]}),i.jsxs(yt,{value:U||"all",onValueChange:R=>{L(R==="all"?"":R),P(1)},children:[i.jsx(pt,{children:i.jsx(bt,{placeholder:e("mprojects.city")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:e("mprojects.allCities")}),d.map(R=>i.jsx(Te,{value:R.city_id.toString(),children:In(R,"city_name_en","city_name_ar")},R.city_id))]})]})]})]})]}),Fe&&i.jsxs(st,{children:[i.jsx(Ut,{children:i.jsx(ur,{children:e("mprojects.analytics")})}),i.jsx(ft,{children:i.jsxs(xl,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Eo,{className:"grid w-full grid-cols-2",children:[i.jsx(Vr,{value:"overview",children:"Overview"}),i.jsx(Vr,{value:"timeline",children:"Timeline"})]}),i.jsx(xn,{value:"overview",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),i.jsx(Vo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(Ga,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(he=>({name:he.name,value:Ar.filter(Ce=>Ce.contract_amount&&Ce.contract_amount>=he.min&&Ce.contract_amount<he.max).length})).filter(he=>he.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:K})=>`${R}: ${K}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,K)=>i.jsx(Qo,{fill:R},`cell-${K}`))}),i.jsx(xd,{content:i.jsx(Xc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(Vo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(Ga,{data:(()=>{const R=d.map(K=>({name:In(K,"city_name_en","city_name_ar"),value:Ar.filter(he=>he.city_id===K.city_id).length})).filter(K=>K.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:K})=>`${R}: ${K}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,K)=>i.jsx(Qo,{fill:R},`cell-${K}`))}),i.jsx(xd,{content:i.jsx(Xc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),i.jsx("div",{className:"text-5xl font-bold text-primary",children:Ar.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),i.jsx(xn,{value:"timeline",className:"mt-4",children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Su,{width:"100%",height:"100%",children:i.jsxs(ix,{data:(()=>{const R=new Map;return Ar.forEach(he=>{const Ce=new Date(he.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});R.set(Ce,(R.get(Ce)||0)+1)}),Array.from(R.entries()).sort((he,Ce)=>new Date(he[0]).getTime()-new Date(Ce[0]).getTime()).map(([he,Ce])=>({date:he,count:Ce}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx(ku,{strokeDasharray:"3 3"}),i.jsx(po,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),i.jsx(go,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),i.jsx(Qn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:R=>[`${R} projects`,"Total"]}),i.jsx(ni,{}),i.jsx(jc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),i.jsx(st,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(ft,{className:"h-full flex flex-col p-0",children:i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:Re==="kanban"?i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:$s.map(R=>{var K;return i.jsxs(st,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>cs(R),children:[i.jsx(Ut,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:R.company_name||"No Company"}),R.contract_code&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:R.contract_code})]})})}),i.jsxs(ft,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(xm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:jn(R.city_id)})]})}),i.jsx("div",{children:i.jsxs(dt,{variant:"outline",className:"text-xs",children:["$",((K=R.contract_amount)==null?void 0:K.toLocaleString())||"0"]})})]}),i.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("span",{children:["Created: ",new Date(R.created_at).toLocaleDateString()]})})})]})]},R.project_id)})})}):i.jsx(i.Fragment,{children:Ar.length===0?i.jsx(cl,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:i.jsx(Tn,{className:"h-12 w-12"})}):i.jsx(pc,{data:$s,columns:td,actions:q,bulkActions:ed,enableBulkSelect:!0,keyExtractor:R=>R.project_id.toString(),onRowClick:R=>cs(R),rowHeight:"h-26"})})})})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:oa>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(Jm,{children:[i.jsx(ka,{children:i.jsx(cu,{onClick:()=>P(Math.max(0,E-1)),className:E===0?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(ka,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",E+1," ",e("common.of")," ",oa]})}),i.jsx(ka,{children:i.jsx(uu,{onClick:()=>P(Math.min(oa-1,E+1)),className:E===oa-1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})}),i.jsx(si,{open:I!==null,onOpenChange:()=>X(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:e("mprojects.deleteProject")}),i.jsx(Os,{children:e("mprojects.deleteProjectConfirmation")})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:e("common.cancel")}),i.jsx(Ds,{onClick:()=>I&&ui(I),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(ml,{open:ce,onOpenChange:A,children:i.jsxs(ko,{side:n?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsx(dc,{children:i.jsxs(pl,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Tn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:se==null?void 0:se.company_name})]})}),se&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),i.jsxs(le,{onClick:()=>{di(se),A(!1)},variant:"outline",size:"sm",children:[i.jsx(Di,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),i.jsxs(xl,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Eo,{className:"grid w-full grid-cols-2",children:[i.jsx(Vr,{value:"overview",children:e("common.overview")}),i.jsx(Vr,{value:"notes",children:e("notes.title")})]}),i.jsxs(xn,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:se.company_name||"-"}),se.contract_code&&i.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",se.contract_code]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),i.jsx("p",{className:"font-medium",children:se.contract_amount?`$${se.contract_amount.toLocaleString()}`:"-"})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),i.jsx("p",{className:"font-medium",children:se.cont_start_date?new Date(se.cont_start_date).toLocaleDateString():"-"})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),i.jsx("p",{className:"font-medium",children:se.cont_end_date?new Date(se.cont_end_date).toLocaleDateString():"-"})]})})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(xm,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),i.jsx("p",{className:"font-medium",children:jn(se.city_id)})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const R=h.filter(K=>K.project_id===se.project_id);return R.length>0?i.jsx("div",{className:"space-y-2",children:R.map((K,he)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:K.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[K.contact_email&&`${K.contact_email}  `,K.contact_mobile&&`${K.contact_mobile}`]})]}),i.jsx(dt,{variant:"outline",className:"text-xs",children:b.find(Ce=>Ce.jobtitle_id===K.jobtitle_id)?In(b.find(Ce=>Ce.jobtitle_id===K.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},K.contact_id||he))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(se.created_at).toLocaleDateString()})]})}),se.contract_document&&(()=>{const R=se.contract_document;return i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(ps,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),i.jsx("p",{className:"text-sm font-medium truncate",children:R.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.size&&`${(R.size/1024/1024).toFixed(2)} MB`,"  ",new Date(R.uploaded_at).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex gap-1",children:[R.url&&i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>window.open(R.url,"_blank"),className:"h-8 w-8 p-0",children:i.jsx(eae,{className:"h-4 w-4"})}),i.jsx(le,{variant:"ghost",size:"sm",onClick:async()=>{try{await eWe(se.project_id),a({title:e("common.success"),description:"Contract document deleted successfully"}),await Yt(),A(!1)}catch{a({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:i.jsx(cr,{className:"h-4 w-4"})})]})]})})()]}),i.jsx(xn,{value:"notes",className:"mt-4",children:i.jsx(wP,{relatedType:"mlead",relatedId:se.project_id,notes:$e,onNotesChange:()=>Gn(se.project_id)})})]})]})]})})]})}const f0={async getRequests(){return(await Y.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await Y.requests.get(e)},async createRequest(e){return await Y.requests.create(e)},async updateRequest(e,t){return await Y.requests.update(e,t)},async deleteRequest(e){await Y.requests.delete(e)}};var Nx=e=>e.type==="checkbox",Ad=e=>e instanceof Date,Ha=e=>e==null;const nY=e=>typeof e=="object";var cn=e=>!Ha(e)&&!Array.isArray(e)&&nY(e)&&!Ad(e),aY=e=>cn(e)&&e.target?Nx(e.target)?e.target.checked:e.target.value:e,rWe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,sY=(e,t)=>e.has(rWe(t)),nWe=e=>{const t=e.constructor&&e.constructor.prototype;return cn(t)&&t.hasOwnProperty("isPrototypeOf")},mO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(mO&&(e instanceof Blob||n))&&(r||cn(e)))if(t=r?[]:{},!r&&!nWe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=kn(e[a]));else return e;return t}var gj=e=>/^\w*$/.test(e),rn=e=>e===void 0,pO=e=>Array.isArray(e)?e.filter(Boolean):[],gO=e=>pO(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(e,t,r)=>{if(!t||!cn(e))return r;const n=(gj(t)?[t]:gO(t)).reduce((a,s)=>Ha(a)?a:a[s],e);return rn(n)||n===e?rn(e[t])?r:e[t]:n},Hs=e=>typeof e=="boolean",vr=(e,t,r)=>{let n=-1;const a=gj(t)?[t]:gO(t),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=cn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const uw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},oo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ml={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vO=ie.createContext(null);vO.displayName="HookFormContext";const vj=()=>ie.useContext(vO),aWe=e=>{const{children:t,...r}=e;return ie.createElement(vO.Provider,{value:r},t)};var iY=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==oo.all&&(t._proxyFormState[o]=!n||oo.all),r&&(r[o]=!0),e[o]}});return a};const xO=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;function sWe(e){const t=vj(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[o,l]=ie.useState(r._formState),c=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return xO(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,s]),ie.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ie.useMemo(()=>iY(o,r,c.current,!1),[o,r])}var rl=e=>typeof e=="string",oY=(e,t,r,n,a)=>rl(e)?(n&&t.watch.add(e),Je(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Je(r,s))):(n&&(t.watchAll=!0),r),iE=e=>Ha(e)||!nY(e);function zl(e,t,r=new WeakSet){if(iE(e)||iE(t))return e===t;if(Ad(e)&&Ad(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const o=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Ad(o)&&Ad(l)||cn(o)&&cn(l)||Array.isArray(o)&&Array.isArray(l)?!zl(o,l,r):o!==l)return!1}}return!0}function iWe(e){const t=vj(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:o,compute:l}=e||{},c=ie.useRef(a),u=ie.useRef(l),d=ie.useRef(void 0);u.current=l;const f=ie.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=ie.useState(u.current?u.current(f):f);return xO(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:p=>{if(!s){const g=oY(n,r._names,p.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);zl(v,d.current)||(m(v),d.current=v)}else m(g)}}}),[r,s,n,o]),ie.useEffect(()=>r._removeUnmounted()),h}function oWe(e){const t=vj(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:o}=e,l=sY(a._names.array,r),c=ie.useMemo(()=>Je(a._formValues,r,Je(a._defaultValues,r,o)),[a,r,o]),u=iWe({control:a,name:r,defaultValue:c,exact:!0}),d=sWe({control:a,name:r,exact:!0}),f=ie.useRef(e),h=ie.useRef(a.register(r,{...e.rules,value:u,...Hs(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=ie.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Je(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Je(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Je(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Je(d.validatingFields,r)},error:{enumerable:!0,get:()=>Je(d.errors,r)}}),[d,r]),p=ie.useCallback(b=>h.current.onChange({target:{value:aY(b),name:r},type:uw.CHANGE}),[r]),g=ie.useCallback(()=>h.current.onBlur({target:{value:Je(a._formValues,r),name:r},type:uw.BLUR}),[r,a._formValues]),v=ie.useCallback(b=>{const w=Je(a._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})},[a._fields,r]),y=ie.useMemo(()=>({name:r,value:u,...Hs(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:p,onBlur:g,ref:v}),[r,n,d.disabled,p,g,v,u]);return ie.useEffect(()=>{const b=a._options.shouldUnregister||s;a.register(r,{...f.current.rules,...Hs(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(_,j)=>{const N=Je(a._fields,_);N&&N._f&&(N._f.mount=j)};if(w(r,!0),b){const _=kn(Je(a._options.defaultValues,r));vr(a._defaultValues,r,_),rn(Je(a._formValues,r))&&vr(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?b&&!a._state.action:b)?a.unregister(r):w(r,!1)}},[r,a,l,s]),ie.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ie.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const lWe=e=>e.render(oWe(e));var lY=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},sg=e=>Array.isArray(e)?e:[e],b5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},ds=e=>cn(e)&&!Object.keys(e).length,yO=e=>e.type==="file",lo=e=>typeof e=="function",dw=e=>{if(!mO)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},cY=e=>e.type==="select-multiple",bO=e=>e.type==="radio",cWe=e=>bO(e)||Nx(e),A2=e=>dw(e)&&e.isConnected;function uWe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=rn(e)?n++:e[t[n++]];return e}function dWe(e){for(const t in e)if(e.hasOwnProperty(t)&&!rn(e[t]))return!1;return!0}function fn(e,t){const r=Array.isArray(t)?t:gj(t)?[t]:gO(t),n=r.length===1?e:uWe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(cn(n)&&ds(n)||Array.isArray(n)&&dWe(n))&&fn(e,r.slice(0,-1)),e}var uY=e=>{for(const t in e)if(lo(e[t]))return!0;return!1};function fw(e,t={}){const r=Array.isArray(e);if(cn(e)||r)for(const n in e)Array.isArray(e[n])||cn(e[n])&&!uY(e[n])?(t[n]=Array.isArray(e[n])?[]:{},fw(e[n],t[n])):Ha(e[n])||(t[n]=!0);return t}function dY(e,t,r){const n=Array.isArray(e);if(cn(e)||n)for(const a in e)Array.isArray(e[a])||cn(e[a])&&!uY(e[a])?rn(t)||iE(r[a])?r[a]=Array.isArray(e[a])?fw(e[a],[]):{...fw(e[a])}:dY(e[a],Ha(t)?{}:t[a],r[a]):r[a]=!zl(e[a],t[a]);return r}var h0=(e,t)=>dY(e,t,fw(t));const w5={value:!1,isValid:!1},_5={value:!0,isValid:!0};var fY=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!rn(e[0].attributes.value)?rn(e[0].value)||e[0].value===""?_5:{value:e[0].value,isValid:!0}:_5:w5}return w5},hY=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>rn(e)?e:t?e===""?NaN:e&&+e:r&&rl(e)?new Date(e):n?n(e):e;const j5={isValid:!1,value:null};var mY=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,j5):j5;function S5(e){const t=e.ref;return yO(t)?t.files:bO(t)?mY(e.refs).value:cY(t)?[...t.selectedOptions].map(({value:r})=>r):Nx(t)?fY(e.refs).value:hY(rn(t.value)?e.ref.value:t.value,e)}var fWe=(e,t,r,n)=>{const a={};for(const s of e){const o=Je(t,s);o&&vr(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},hw=e=>e instanceof RegExp,m0=e=>rn(e)?e:hw(e)?e.source:cn(e)?hw(e.value)?e.value.source:e.value:e,N5=e=>({isOnSubmit:!e||e===oo.onSubmit,isOnBlur:e===oo.onBlur,isOnChange:e===oo.onChange,isOnAll:e===oo.all,isOnTouch:e===oo.onTouched});const k5="AsyncFunction";var hWe=e=>!!e&&!!e.validate&&!!(lo(e.validate)&&e.validate.constructor.name===k5||cn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===k5)),mWe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),C5=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ig=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=Je(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(ig(l,t))break}else if(cn(l)&&ig(l,t))break}}};function E5(e,t,r){const n=Je(e,r);if(n||gj(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=Je(t,s),l=Je(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var pWe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return ds(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||oo.all))},gWe=(e,t,r)=>!e||!t||e===t||sg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),vWe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,xWe=(e,t)=>!pO(Je(e,t)).length&&fn(e,t),yWe=(e,t,r)=>{const n=sg(Je(e,r));return vr(n,"root",t[r]),vr(e,r,n),e},n1=e=>rl(e);function T5(e,t,r="validate"){if(n1(e)||Array.isArray(e)&&e.every(n1)||Hs(e)&&!e)return{type:r,message:n1(e)?e:"",ref:t}}var Jf=e=>cn(e)&&!hw(e)?e:{value:e,message:""},A5=async(e,t,r,n,a,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:p,name:g,valueAsNumber:v,mount:y}=e._f,b=Je(r,g);if(!y||t.has(g))return{};const w=l?l[0]:o,_=T=>{a&&w.reportValidity&&(w.setCustomValidity(Hs(T)?"":T||""),w.reportValidity())},j={},N=bO(o),S=Nx(o),k=N||S,C=(v||yO(o))&&rn(o.value)&&rn(b)||dw(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,E=lY.bind(null,g,n,j),P=(T,W,G,U=Ml.maxLength,L=Ml.minLength)=>{const V=T?W:G;j[g]={type:T?U:L,message:V,ref:o,...E(T?U:L,V)}};if(s?!Array.isArray(b)||!b.length:c&&(!k&&(C||Ha(b))||Hs(b)&&!b||S&&!fY(l).isValid||N&&!mY(l).isValid)){const{value:T,message:W}=n1(c)?{value:!!c,message:c}:Jf(c);if(T&&(j[g]={type:Ml.required,message:W,ref:w,...E(Ml.required,W)},!n))return _(W),j}if(!C&&(!Ha(f)||!Ha(h))){let T,W;const G=Jf(h),U=Jf(f);if(!Ha(b)&&!isNaN(b)){const L=o.valueAsNumber||b&&+b;Ha(G.value)||(T=L>G.value),Ha(U.value)||(W=L<U.value)}else{const L=o.valueAsDate||new Date(b),V=X=>new Date(new Date().toDateString()+" "+X),B=o.type=="time",I=o.type=="week";rl(G.value)&&b&&(T=B?V(b)>V(G.value):I?b>G.value:L>new Date(G.value)),rl(U.value)&&b&&(W=B?V(b)<V(U.value):I?b<U.value:L<new Date(U.value))}if((T||W)&&(P(!!T,G.message,U.message,Ml.max,Ml.min),!n))return _(j[g].message),j}if((u||d)&&!C&&(rl(b)||s&&Array.isArray(b))){const T=Jf(u),W=Jf(d),G=!Ha(T.value)&&b.length>+T.value,U=!Ha(W.value)&&b.length<+W.value;if((G||U)&&(P(G,T.message,W.message),!n))return _(j[g].message),j}if(m&&!C&&rl(b)){const{value:T,message:W}=Jf(m);if(hw(T)&&!b.match(T)&&(j[g]={type:Ml.pattern,message:W,ref:o,...E(Ml.pattern,W)},!n))return _(W),j}if(p){if(lo(p)){const T=await p(b,r),W=T5(T,w);if(W&&(j[g]={...W,...E(Ml.validate,W.message)},!n))return _(W.message),j}else if(cn(p)){let T={};for(const W in p){if(!ds(T)&&!n)break;const G=T5(await p[W](b,r),w,W);G&&(T={...G,...E(W,G.message)},_(G.message),n&&(j[g]=T))}if(!ds(T)&&(j[g]={ref:w,...T},!n))return j}}return _(!0),j};const bWe={mode:oo.onSubmit,reValidateMode:oo.onChange,shouldFocusError:!0};function wWe(e={}){let t={...bWe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:lo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=cn(t.defaultValues)||cn(t.values)?kn(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:kn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:b5(),state:b5()},m=t.criteriaMode===oo.all,p=oe=>me=>{clearTimeout(u),u=setTimeout(oe,me)},g=async oe=>{if(!t.disabled&&(d.isValid||f.isValid||oe)){const me=t.resolver?ds((await S()).errors):await C(n,!0);me!==r.isValid&&h.state.next({isValid:me})}},v=(oe,me)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((oe||Array.from(l.mount)).forEach(z=>{z&&(me?vr(r.validatingFields,z,me):fn(r.validatingFields,z))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ds(r.validatingFields)}))},y=(oe,me=[],z,de,be=!0,we=!0)=>{if(de&&z&&!t.disabled){if(o.action=!0,we&&Array.isArray(Je(n,oe))){const Ue=z(Je(n,oe),de.argA,de.argB);be&&vr(n,oe,Ue)}if(we&&Array.isArray(Je(r.errors,oe))){const Ue=z(Je(r.errors,oe),de.argA,de.argB);be&&vr(r.errors,oe,Ue),xWe(r.errors,oe)}if((d.touchedFields||f.touchedFields)&&we&&Array.isArray(Je(r.touchedFields,oe))){const Ue=z(Je(r.touchedFields,oe),de.argA,de.argB);be&&vr(r.touchedFields,oe,Ue)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=h0(a,s)),h.state.next({name:oe,isDirty:P(oe,me),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vr(s,oe,me)},b=(oe,me)=>{vr(r.errors,oe,me),h.state.next({errors:r.errors})},w=oe=>{r.errors=oe,h.state.next({errors:r.errors,isValid:!1})},_=(oe,me,z,de)=>{const be=Je(n,oe);if(be){const we=Je(s,oe,rn(z)?Je(a,oe):z);rn(we)||de&&de.defaultChecked||me?vr(s,oe,me?we:S5(be._f)):G(oe,we),o.mount&&g()}},j=(oe,me,z,de,be)=>{let we=!1,Ue=!1;const Se={name:oe};if(!t.disabled){if(!z||de){(d.isDirty||f.isDirty)&&(Ue=r.isDirty,r.isDirty=Se.isDirty=P(),we=Ue!==Se.isDirty);const Ne=zl(Je(a,oe),me);Ue=!!Je(r.dirtyFields,oe),Ne?fn(r.dirtyFields,oe):vr(r.dirtyFields,oe,!0),Se.dirtyFields=r.dirtyFields,we=we||(d.dirtyFields||f.dirtyFields)&&Ue!==!Ne}if(z){const Ne=Je(r.touchedFields,oe);Ne||(vr(r.touchedFields,oe,z),Se.touchedFields=r.touchedFields,we=we||(d.touchedFields||f.touchedFields)&&Ne!==z)}we&&be&&h.state.next(Se)}return we?Se:{}},N=(oe,me,z,de)=>{const be=Je(r.errors,oe),we=(d.isValid||f.isValid)&&Hs(me)&&r.isValid!==me;if(t.delayError&&z?(c=p(()=>b(oe,z)),c(t.delayError)):(clearTimeout(u),c=null,z?vr(r.errors,oe,z):fn(r.errors,oe)),(z?!zl(be,z):be)||!ds(de)||we){const Ue={...de,...we&&Hs(me)?{isValid:me}:{},errors:r.errors,name:oe};r={...r,...Ue},h.state.next(Ue)}},S=async oe=>{v(oe,!0);const me=await t.resolver(s,t.context,fWe(oe||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(oe),me},k=async oe=>{const{errors:me}=await S(oe);if(oe)for(const z of oe){const de=Je(me,z);de?vr(r.errors,z,de):fn(r.errors,z)}else r.errors=me;return me},C=async(oe,me,z={valid:!0})=>{for(const de in oe){const be=oe[de];if(be){const{_f:we,...Ue}=be;if(we){const Se=l.array.has(we.name),Ne=be._f&&hWe(be._f);Ne&&d.validatingFields&&v([de],!0);const ve=await A5(be,l.disabled,s,m,t.shouldUseNativeValidation&&!me,Se);if(Ne&&d.validatingFields&&v([de]),ve[we.name]&&(z.valid=!1,me))break;!me&&(Je(ve,we.name)?Se?yWe(r.errors,ve,we.name):vr(r.errors,we.name,ve[we.name]):fn(r.errors,we.name))}!ds(Ue)&&await C(Ue,me,z)}}return z.valid},E=()=>{for(const oe of l.unMount){const me=Je(n,oe);me&&(me._f.refs?me._f.refs.every(z=>!A2(z)):!A2(me._f.ref))&&ne(oe)}l.unMount=new Set},P=(oe,me)=>!t.disabled&&(oe&&me&&vr(s,oe,me),!zl(X(),a)),T=(oe,me,z)=>oY(oe,l,{...o.mount?s:rn(me)?a:rl(oe)?{[oe]:me}:me},z,me),W=oe=>pO(Je(o.mount?s:a,oe,t.shouldUnregister?Je(a,oe,[]):[])),G=(oe,me,z={})=>{const de=Je(n,oe);let be=me;if(de){const we=de._f;we&&(!we.disabled&&vr(s,oe,hY(me,we)),be=dw(we.ref)&&Ha(me)?"":me,cY(we.ref)?[...we.ref.options].forEach(Ue=>Ue.selected=be.includes(Ue.value)):we.refs?Nx(we.ref)?we.refs.forEach(Ue=>{(!Ue.defaultChecked||!Ue.disabled)&&(Array.isArray(be)?Ue.checked=!!be.find(Se=>Se===Ue.value):Ue.checked=be===Ue.value||!!be)}):we.refs.forEach(Ue=>Ue.checked=Ue.value===be):yO(we.ref)?we.ref.value="":(we.ref.value=be,we.ref.type||h.state.next({name:oe,values:kn(s)})))}(z.shouldDirty||z.shouldTouch)&&j(oe,be,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&I(oe)},U=(oe,me,z)=>{for(const de in me){if(!me.hasOwnProperty(de))return;const be=me[de],we=oe+"."+de,Ue=Je(n,we);(l.array.has(oe)||cn(be)||Ue&&!Ue._f)&&!Ad(be)?U(we,be,z):G(we,be,z)}},L=(oe,me,z={})=>{const de=Je(n,oe),be=l.array.has(oe),we=kn(me);vr(s,oe,we),be?(h.array.next({name:oe,values:kn(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&z.shouldDirty&&h.state.next({name:oe,dirtyFields:h0(a,s),isDirty:P(oe,we)})):de&&!de._f&&!Ha(we)?U(oe,we,z):G(oe,we,z),C5(oe,l)&&h.state.next({...r,name:oe}),h.state.next({name:o.mount?oe:void 0,values:kn(s)})},V=async oe=>{o.mount=!0;const me=oe.target;let z=me.name,de=!0;const be=Je(n,z),we=Ne=>{de=Number.isNaN(Ne)||Ad(Ne)&&isNaN(Ne.getTime())||zl(Ne,Je(s,z,Ne))},Ue=N5(t.mode),Se=N5(t.reValidateMode);if(be){let Ne,ve;const Ae=me.type?S5(be._f):aY(oe),Pe=oe.type===uw.BLUR||oe.type===uw.FOCUS_OUT,Ze=!mWe(be._f)&&!t.resolver&&!Je(r.errors,z)&&!be._f.deps||vWe(Pe,Je(r.touchedFields,z),r.isSubmitted,Se,Ue),qe=C5(z,l,Pe);vr(s,z,Ae),Pe?(be._f.onBlur&&be._f.onBlur(oe),c&&c(0)):be._f.onChange&&be._f.onChange(oe);const it=j(z,Ae,Pe),Rt=!ds(it)||qe;if(!Pe&&h.state.next({name:z,type:oe.type,values:kn(s)}),Ze)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Pe&&g():Pe||g()),Rt&&h.state.next({name:z,...qe?{}:it});if(!Pe&&qe&&h.state.next({...r}),t.resolver){const{errors:Yt}=await S([z]);if(we(Ae),de){const gr=E5(r.errors,n,z),_n=E5(Yt,n,gr.name||z);Ne=_n.error,z=_n.name,ve=ds(Yt)}}else v([z],!0),Ne=(await A5(be,l.disabled,s,m,t.shouldUseNativeValidation))[z],v([z]),we(Ae),de&&(Ne?ve=!1:(d.isValid||f.isValid)&&(ve=await C(n,!0)));de&&(be._f.deps&&I(be._f.deps),N(z,ve,Ne,it))}},B=(oe,me)=>{if(Je(r.errors,me)&&oe.focus)return oe.focus(),1},I=async(oe,me={})=>{let z,de;const be=sg(oe);if(t.resolver){const we=await k(rn(oe)?oe:be);z=ds(we),de=oe?!be.some(Ue=>Je(we,Ue)):z}else oe?(de=(await Promise.all(be.map(async we=>{const Ue=Je(n,we);return await C(Ue&&Ue._f?{[we]:Ue}:Ue)}))).every(Boolean),!(!de&&!r.isValid)&&g()):de=z=await C(n);return h.state.next({...!rl(oe)||(d.isValid||f.isValid)&&z!==r.isValid?{}:{name:oe},...t.resolver||!oe?{isValid:z}:{},errors:r.errors}),me.shouldFocus&&!de&&ig(n,B,oe?be:l.mount),de},X=oe=>{const me={...o.mount?s:a};return rn(oe)?me:rl(oe)?Je(me,oe):oe.map(z=>Je(me,z))},Q=(oe,me)=>({invalid:!!Je((me||r).errors,oe),isDirty:!!Je((me||r).dirtyFields,oe),error:Je((me||r).errors,oe),isValidating:!!Je(r.validatingFields,oe),isTouched:!!Je((me||r).touchedFields,oe)}),O=oe=>{oe&&sg(oe).forEach(me=>fn(r.errors,me)),h.state.next({errors:oe?r.errors:{}})},M=(oe,me,z)=>{const de=(Je(n,oe,{_f:{}})._f||{}).ref,be=Je(r.errors,oe)||{},{ref:we,message:Ue,type:Se,...Ne}=be;vr(r.errors,oe,{...Ne,...me,ref:de}),h.state.next({name:oe,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&de&&de.focus&&de.focus()},F=(oe,me)=>lo(oe)?h.state.subscribe({next:z=>"values"in z&&oe(T(void 0,me),z)}):T(oe,me,!0),H=oe=>h.state.subscribe({next:me=>{gWe(oe.name,me.name,oe.exact)&&pWe(me,oe.formState||d,Re,oe.reRenderRoot)&&oe.callback({values:{...s},...r,...me,defaultValues:a})}}).unsubscribe,ee=oe=>(o.mount=!0,f={...f,...oe.formState},H({...oe,formState:f})),ne=(oe,me={})=>{for(const z of oe?sg(oe):l.mount)l.mount.delete(z),l.array.delete(z),me.keepValue||(fn(n,z),fn(s,z)),!me.keepError&&fn(r.errors,z),!me.keepDirty&&fn(r.dirtyFields,z),!me.keepTouched&&fn(r.touchedFields,z),!me.keepIsValidating&&fn(r.validatingFields,z),!t.shouldUnregister&&!me.keepDefaultValue&&fn(a,z);h.state.next({values:kn(s)}),h.state.next({...r,...me.keepDirty?{isDirty:P()}:{}}),!me.keepIsValid&&g()},ge=({disabled:oe,name:me})=>{(Hs(oe)&&o.mount||oe||l.disabled.has(me))&&(oe?l.disabled.add(me):l.disabled.delete(me))},se=(oe,me={})=>{let z=Je(n,oe);const de=Hs(me.disabled)||Hs(t.disabled);return vr(n,oe,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:oe}},name:oe,mount:!0,...me}}),l.mount.add(oe),z?ge({disabled:Hs(me.disabled)?me.disabled:t.disabled,name:oe}):_(oe,!0,me.value),{...de?{disabled:me.disabled||t.disabled}:{},...t.progressive?{required:!!me.required,min:m0(me.min),max:m0(me.max),minLength:m0(me.minLength),maxLength:m0(me.maxLength),pattern:m0(me.pattern)}:{},name:oe,onChange:V,onBlur:V,ref:be=>{if(be){se(oe,me),z=Je(n,oe);const we=rn(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Ue=cWe(we),Se=z._f.refs||[];if(Ue?Se.find(Ne=>Ne===we):we===z._f.ref)return;vr(n,oe,{_f:{...z._f,...Ue?{refs:[...Se.filter(A2),we,...Array.isArray(Je(a,oe))?[{}]:[]],ref:{type:we.type,name:oe}}:{ref:we}}}),_(oe,!1,void 0,we)}else z=Je(n,oe,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||me.shouldUnregister)&&!(sY(l.array,oe)&&o.action)&&l.unMount.add(oe)}}},Z=()=>t.shouldFocusError&&ig(n,B,l.mount),ce=oe=>{Hs(oe)&&(h.state.next({disabled:oe}),ig(n,(me,z)=>{const de=Je(n,z);de&&(me.disabled=de._f.disabled||oe,Array.isArray(de._f.refs)&&de._f.refs.forEach(be=>{be.disabled=de._f.disabled||oe}))},0,!1))},A=(oe,me)=>async z=>{let de;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let be=kn(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:we,values:Ue}=await S();r.errors=we,be=kn(Ue)}else await C(n);if(l.disabled.size)for(const we of l.disabled)fn(be,we);if(fn(r.errors,"root"),ds(r.errors)){h.state.next({errors:{}});try{await oe(be,z)}catch(we){de=we}}else me&&await me({...r.errors},z),Z(),setTimeout(Z);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ds(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},$e=(oe,me={})=>{Je(n,oe)&&(rn(me.defaultValue)?L(oe,kn(Je(a,oe))):(L(oe,me.defaultValue),vr(a,oe,kn(me.defaultValue))),me.keepTouched||fn(r.touchedFields,oe),me.keepDirty||(fn(r.dirtyFields,oe),r.isDirty=me.defaultValue?P(oe,kn(Je(a,oe))):P()),me.keepError||(fn(r.errors,oe),d.isValid&&g()),h.state.next({...r}))},Me=(oe,me={})=>{const z=oe?kn(oe):a,de=kn(z),be=ds(oe),we=be?a:de;if(me.keepDefaultValues||(a=z),!me.keepValues){if(me.keepDirtyValues){const Ue=new Set([...l.mount,...Object.keys(h0(a,s))]);for(const Se of Array.from(Ue))Je(r.dirtyFields,Se)?vr(we,Se,Je(s,Se)):L(Se,Je(we,Se))}else{if(mO&&rn(oe))for(const Ue of l.mount){const Se=Je(n,Ue);if(Se&&Se._f){const Ne=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(dw(Ne)){const ve=Ne.closest("form");if(ve){ve.reset();break}}}}if(me.keepFieldsRef)for(const Ue of l.mount)L(Ue,Je(we,Ue));else n={}}s=t.shouldUnregister?me.keepDefaultValues?kn(a):{}:kn(we),h.array.next({values:{...we}}),h.state.next({values:{...we}})}l={mount:me.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!me.keepIsValid||!!me.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:me.keepSubmitCount?r.submitCount:0,isDirty:be?!1:me.keepDirty?r.isDirty:!!(me.keepDefaultValues&&!zl(oe,a)),isSubmitted:me.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:be?{}:me.keepDirtyValues?me.keepDefaultValues&&s?h0(a,s):r.dirtyFields:me.keepDefaultValues&&oe?h0(a,oe):me.keepDirty?r.dirtyFields:{},touchedFields:me.keepTouched?r.touchedFields:{},errors:me.keepErrors?r.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Fe=(oe,me)=>Me(lo(oe)?oe(s):oe,me),ze=(oe,me={})=>{const z=Je(n,oe),de=z&&z._f;if(de){const be=de.refs?de.refs[0]:de.ref;be.focus&&(be.focus(),me.shouldSelect&&lo(be.select)&&be.select())}},Re=oe=>{r={...r,...oe}},mt={control:{register:se,unregister:ne,getFieldState:Q,handleSubmit:A,setError:M,_subscribe:H,_runSchema:S,_focusError:Z,_getWatch:T,_getDirty:P,_setValid:g,_setFieldArray:y,_setDisabledField:ge,_setErrors:w,_getFieldArray:W,_reset:Me,_resetDefaultValues:()=>lo(t.defaultValues)&&t.defaultValues().then(oe=>{Fe(oe,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:ce,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(oe){o=oe},get _defaultValues(){return a},get _names(){return l},set _names(oe){l=oe},get _formState(){return r},get _options(){return t},set _options(oe){t={...t,...oe}}},subscribe:ee,trigger:I,register:se,handleSubmit:A,watch:F,setValue:L,getValues:X,reset:Fe,resetField:$e,clearErrors:O,unregister:ne,setError:M,setFocus:ze,getFieldState:Q};return{...mt,formControl:mt}}function _We(e={}){const t=ie.useRef(void 0),r=ie.useRef(void 0),[n,a]=ie.useState({isDirty:!1,isValidating:!1,isLoading:lo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:lo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!lo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=wWe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,xO(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),ie.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ie.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),ie.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),ie.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),ie.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ie.useEffect(()=>{e.values&&!zl(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),ie.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=iY(n,s),t.current}const P5=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Je(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},pY=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?P5(n.ref,r,e):n.refs&&n.refs.forEach(a=>P5(a,r,e))}},jWe=(e,t)=>{t.shouldUseNativeValidation&&pY(e,t);const r={};for(const n in e){const a=Je(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(SWe(t.names||Object.keys(e),n)){const o=Object.assign({},Je(r,n));vr(o,"root",s),vr(r,n,o)}else vr(r,n,s)}return r},SWe=(e,t)=>e.some(r=>r.startsWith(t+"."));var NWe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=lY(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},kWe=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&pY({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:jWe(NWe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},sr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(sr||(sr={}));var O5;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(O5||(O5={}));const ht=sr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zc=e=>{switch(typeof e){case"undefined":return ht.undefined;case"string":return ht.string;case"number":return Number.isNaN(e)?ht.nan:ht.number;case"boolean":return ht.boolean;case"function":return ht.function;case"bigint":return ht.bigint;case"symbol":return ht.symbol;case"object":return Array.isArray(e)?ht.array:e===null?ht.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ht.promise:typeof Map<"u"&&e instanceof Map?ht.map:typeof Set<"u"&&e instanceof Set?ht.set:typeof Date<"u"&&e instanceof Date?ht.date:ht.object;default:return ht.unknown}},Ge=sr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof xc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,sr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}xc.create=e=>new xc(e);const oE=(e,t)=>{let r;switch(e.code){case Ge.invalid_type:e.received===ht.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ge.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,sr.jsonStringifyReplacer)}`;break;case Ge.unrecognized_keys:r=`Unrecognized key(s) in object: ${sr.joinValues(e.keys,", ")}`;break;case Ge.invalid_union:r="Invalid input";break;case Ge.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${sr.joinValues(e.options)}`;break;case Ge.invalid_enum_value:r=`Invalid enum value. Expected ${sr.joinValues(e.options)}, received '${e.received}'`;break;case Ge.invalid_arguments:r="Invalid function arguments";break;case Ge.invalid_return_type:r="Invalid function return type";break;case Ge.invalid_date:r="Invalid date";break;case Ge.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:sr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ge.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ge.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ge.custom:r="Invalid input";break;case Ge.invalid_intersection_types:r="Intersection results could not be merged";break;case Ge.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ge.not_finite:r="Number must be finite";break;default:r=t.defaultError,sr.assertNever(e)}return{message:r}};let CWe=oE;function EWe(){return CWe}const TWe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function nt(e,t){const r=EWe(),n=TWe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===oE?void 0:oE].filter(a=>!!a)});e.common.issues.push(n)}class oi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Pt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return oi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return Pt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Pt=Object.freeze({status:"aborted"}),E0=e=>({status:"dirty",value:e}),Bi=e=>({status:"valid",value:e}),D5=e=>e.status==="aborted",R5=e=>e.status==="dirty",rp=e=>e.status==="valid",mw=e=>typeof Promise<"u"&&e instanceof Promise;var xt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xt||(xt={}));class $u{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const M5=(e,t)=>{if(rp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new xc(e.common.issues);return this._error=r,this._error}}};function zt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class ar{get description(){return this._def.description}_getType(t){return zc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:zc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new oi,ctx:{common:t.parent.common,data:t.data,parsedType:zc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(mw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zc(t)},a=this._parseSync({data:t,path:n.path,parent:n});return M5(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return rp(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>rp(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zc(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(mw(a)?a:Promise.resolve(a));return M5(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:Ge.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new sp({schema:this,typeName:Ot.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Tu.create(this,this._def)}nullable(){return ip.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ul.create(this)}promise(){return xw.create(this,this._def)}or(t){return gw.create([this,t],this._def)}and(t){return vw.create(this,t,this._def)}transform(t){return new sp({...zt(this._def),schema:this,typeName:Ot.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new cE({...zt(this._def),innerType:this,defaultValue:r,typeName:Ot.ZodDefault})}brand(){return new ZWe({typeName:Ot.ZodBranded,type:this,...zt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new uE({...zt(this._def),innerType:this,catchValue:r,typeName:Ot.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return wO.create(this,t)}readonly(){return dE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const AWe=/^c[^\s-]{8,}$/i,PWe=/^[0-9a-z]+$/,OWe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DWe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,RWe=/^[a-z0-9_-]{21}$/i,MWe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FWe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IWe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,LWe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let P2;const $We=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BWe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,UWe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zWe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VWe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,WWe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HWe=new RegExp(`^${gY}$`);function vY(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function qWe(e){return new RegExp(`^${vY(e)}$`)}function GWe(e){let t=`${gY}T${vY(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function KWe(e,t){return!!((t==="v4"||!t)&&$We.test(e)||(t==="v6"||!t)&&UWe.test(e))}function YWe(e,t){if(!MWe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function XWe(e,t){return!!((t==="v4"||!t)&&BWe.test(e)||(t==="v6"||!t)&&zWe.test(e))}class hu extends ar{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ht.string){const s=this._getOrReturnCtx(t);return nt(s,{code:Ge.invalid_type,expected:ht.string,received:s.parsedType}),Pt}const n=new oi;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:Ge.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:Ge.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?nt(a,{code:Ge.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&nt(a,{code:Ge.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")IWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"email",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")P2||(P2=new RegExp(LWe,"u")),P2.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"emoji",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")DWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"uuid",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")RWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"nanoid",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")AWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"cuid",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")PWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"cuid2",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")OWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"ulid",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),nt(a,{validation:"url",code:Ge.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"regex",code:Ge.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),nt(a,{code:Ge.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),nt(a,{code:Ge.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),nt(a,{code:Ge.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?GWe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{code:Ge.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?HWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{code:Ge.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?qWe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{code:Ge.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?FWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"duration",code:Ge.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?KWe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"ip",code:Ge.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?YWe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"jwt",code:Ge.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?XWe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"cidr",code:Ge.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?VWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"base64",code:Ge.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?WWe.test(t.data)||(a=this._getOrReturnCtx(t,a),nt(a,{validation:"base64url",code:Ge.invalid_string,message:s.message}),n.dirty()):sr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ge.invalid_string,...xt.errToObj(n)})}_addCheck(t){return new hu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...xt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...xt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...xt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...xt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...xt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...xt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...xt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...xt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...xt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...xt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...xt.errToObj(r)})}nonempty(t){return this.min(1,xt.errToObj(t))}trim(){return new hu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}hu.create=e=>new hu({checks:[],typeName:Ot.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});function QWe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}class np extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ht.number){const s=this._getOrReturnCtx(t);return nt(s,{code:Ge.invalid_type,expected:ht.number,received:s.parsedType}),Pt}let n;const a=new oi;for(const s of this._def.checks)s.kind==="int"?sr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),nt(n,{code:Ge.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Ge.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Ge.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?QWe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Ge.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),nt(n,{code:Ge.not_finite,message:s.message}),a.dirty()):sr.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,xt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,xt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,xt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,xt.toString(r))}setLimit(t,r,n,a){return new np({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:xt.toString(a)}]})}_addCheck(t){return new np({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:xt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&sr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}np.create=e=>new np({checks:[],typeName:Ot.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class Nv extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ht.bigint)return this._getInvalidInput(t);let n;const a=new oi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Ge.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Ge.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),nt(n,{code:Ge.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):sr.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return nt(r,{code:Ge.invalid_type,expected:ht.bigint,received:r.parsedType}),Pt}gte(t,r){return this.setLimit("min",t,!0,xt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,xt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,xt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,xt.toString(r))}setLimit(t,r,n,a){return new Nv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:xt.toString(a)}]})}_addCheck(t){return new Nv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Nv.create=e=>new Nv({checks:[],typeName:Ot.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});class F5 extends ar{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ht.boolean){const n=this._getOrReturnCtx(t);return nt(n,{code:Ge.invalid_type,expected:ht.boolean,received:n.parsedType}),Pt}return Bi(t.data)}}F5.create=e=>new F5({typeName:Ot.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class pw extends ar{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ht.date){const s=this._getOrReturnCtx(t);return nt(s,{code:Ge.invalid_type,expected:ht.date,received:s.parsedType}),Pt}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return nt(s,{code:Ge.invalid_date}),Pt}const n=new oi;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:Ge.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),nt(a,{code:Ge.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):sr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pw({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:xt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:xt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}pw.create=e=>new pw({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ot.ZodDate,...zt(e)});class I5 extends ar{_parse(t){if(this._getType(t)!==ht.symbol){const n=this._getOrReturnCtx(t);return nt(n,{code:Ge.invalid_type,expected:ht.symbol,received:n.parsedType}),Pt}return Bi(t.data)}}I5.create=e=>new I5({typeName:Ot.ZodSymbol,...zt(e)});class L5 extends ar{_parse(t){if(this._getType(t)!==ht.undefined){const n=this._getOrReturnCtx(t);return nt(n,{code:Ge.invalid_type,expected:ht.undefined,received:n.parsedType}),Pt}return Bi(t.data)}}L5.create=e=>new L5({typeName:Ot.ZodUndefined,...zt(e)});class $5 extends ar{_parse(t){if(this._getType(t)!==ht.null){const n=this._getOrReturnCtx(t);return nt(n,{code:Ge.invalid_type,expected:ht.null,received:n.parsedType}),Pt}return Bi(t.data)}}$5.create=e=>new $5({typeName:Ot.ZodNull,...zt(e)});class B5 extends ar{constructor(){super(...arguments),this._any=!0}_parse(t){return Bi(t.data)}}B5.create=e=>new B5({typeName:Ot.ZodAny,...zt(e)});class U5 extends ar{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Bi(t.data)}}U5.create=e=>new U5({typeName:Ot.ZodUnknown,...zt(e)});class Bu extends ar{_parse(t){const r=this._getOrReturnCtx(t);return nt(r,{code:Ge.invalid_type,expected:ht.never,received:r.parsedType}),Pt}}Bu.create=e=>new Bu({typeName:Ot.ZodNever,...zt(e)});class z5 extends ar{_parse(t){if(this._getType(t)!==ht.undefined){const n=this._getOrReturnCtx(t);return nt(n,{code:Ge.invalid_type,expected:ht.void,received:n.parsedType}),Pt}return Bi(t.data)}}z5.create=e=>new z5({typeName:Ot.ZodVoid,...zt(e)});class ul extends ar{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ht.array)return nt(r,{code:Ge.invalid_type,expected:ht.array,received:r.parsedType}),Pt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(nt(r,{code:o?Ge.too_big:Ge.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(nt(r,{code:Ge.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(nt(r,{code:Ge.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new $u(r,o,r.path,l)))).then(o=>oi.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new $u(r,o,r.path,l)));return oi.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new ul({...this._def,minLength:{value:t,message:xt.toString(r)}})}max(t,r){return new ul({...this._def,maxLength:{value:t,message:xt.toString(r)}})}length(t,r){return new ul({...this._def,exactLength:{value:t,message:xt.toString(r)}})}nonempty(t){return this.min(1,t)}}ul.create=(e,t)=>new ul({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ot.ZodArray,...zt(t)});function ih(e){if(e instanceof Kr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Tu.create(ih(n))}return new Kr({...e._def,shape:()=>t})}else return e instanceof ul?new ul({...e._def,type:ih(e.element)}):e instanceof Tu?Tu.create(ih(e.unwrap())):e instanceof ip?ip.create(ih(e.unwrap())):e instanceof wf?wf.create(e.items.map(t=>ih(t))):e}class Kr extends ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=sr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ht.object){const u=this._getOrReturnCtx(t);return nt(u,{code:Ge.invalid_type,expected:ht.object,received:u.parsedType}),Pt}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Bu&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new $u(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Bu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(nt(a,{code:Ge.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new $u(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>oi.mergeObjectSync(n,u)):oi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return xt.errToObj,new Kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:xt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ot.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Kr({...this._def,catchall:t})}pick(t){const r={};for(const n of sr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of sr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}deepPartial(){return ih(this)}partial(t){const r={};for(const n of sr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Kr({...this._def,shape:()=>r})}required(t){const r={};for(const n of sr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Tu;)s=s._def.innerType;r[n]=s}return new Kr({...this._def,shape:()=>r})}keyof(){return xY(sr.objectKeys(this.shape))}}Kr.create=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strip",catchall:Bu.create(),typeName:Ot.ZodObject,...zt(t)});Kr.strictCreate=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strict",catchall:Bu.create(),typeName:Ot.ZodObject,...zt(t)});Kr.lazycreate=(e,t)=>new Kr({shape:e,unknownKeys:"strip",catchall:Bu.create(),typeName:Ot.ZodObject,...zt(t)});class gw extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new xc(l.ctx.common.issues));return nt(r,{code:Ge.invalid_union,unionErrors:o}),Pt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new xc(c));return nt(r,{code:Ge.invalid_union,unionErrors:l}),Pt}}get options(){return this._def.options}}gw.create=(e,t)=>new gw({options:e,typeName:Ot.ZodUnion,...zt(t)});function lE(e,t){const r=zc(e),n=zc(t);if(e===t)return{valid:!0,data:e};if(r===ht.object&&n===ht.object){const a=sr.objectKeys(t),s=sr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=lE(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ht.array&&n===ht.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=lE(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ht.date&&n===ht.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class vw extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,o)=>{if(D5(s)||D5(o))return Pt;const l=lE(s.value,o.value);return l.valid?((R5(s)||R5(o))&&r.dirty(),{status:r.value,value:l.data}):(nt(n,{code:Ge.invalid_intersection_types}),Pt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}vw.create=(e,t,r)=>new vw({left:e,right:t,typeName:Ot.ZodIntersection,...zt(r)});class wf extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ht.array)return nt(n,{code:Ge.invalid_type,expected:ht.array,received:n.parsedType}),Pt;if(n.data.length<this._def.items.length)return nt(n,{code:Ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pt;!this._def.rest&&n.data.length>this._def.items.length&&(nt(n,{code:Ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new $u(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>oi.mergeArray(r,o)):oi.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new wf({...this._def,rest:t})}}wf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wf({items:e,typeName:Ot.ZodTuple,rest:null,...zt(t)})};class V5 extends ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ht.map)return nt(n,{code:Ge.invalid_type,expected:ht.map,received:n.parsedType}),Pt;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new $u(n,l,n.path,[u,"key"])),value:s._parse(new $u(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}V5.create=(e,t,r)=>new V5({valueType:t,keyType:e,typeName:Ot.ZodMap,...zt(r)});class kv extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ht.set)return nt(n,{code:Ge.invalid_type,expected:ht.set,received:n.parsedType}),Pt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(nt(n,{code:Ge.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(nt(n,{code:Ge.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Pt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new $u(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new kv({...this._def,minSize:{value:t,message:xt.toString(r)}})}max(t,r){return new kv({...this._def,maxSize:{value:t,message:xt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}kv.create=(e,t)=>new kv({valueType:e,minSize:null,maxSize:null,typeName:Ot.ZodSet,...zt(t)});class W5 extends ar{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}W5.create=(e,t)=>new W5({getter:e,typeName:Ot.ZodLazy,...zt(t)});class H5 extends ar{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return nt(r,{received:r.data,code:Ge.invalid_literal,expected:this._def.value}),Pt}return{status:"valid",value:t.data}}get value(){return this._def.value}}H5.create=(e,t)=>new H5({value:e,typeName:Ot.ZodLiteral,...zt(t)});function xY(e,t){return new ap({values:e,typeName:Ot.ZodEnum,...zt(t)})}class ap extends ar{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return nt(r,{expected:sr.joinValues(n),received:r.parsedType,code:Ge.invalid_type}),Pt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return nt(r,{received:r.data,code:Ge.invalid_enum_value,options:n}),Pt}return Bi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ap.create(t,{...this._def,...r})}exclude(t,r=this._def){return ap.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ap.create=xY;class q5 extends ar{_parse(t){const r=sr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ht.string&&n.parsedType!==ht.number){const a=sr.objectValues(r);return nt(n,{expected:sr.joinValues(a),received:n.parsedType,code:Ge.invalid_type}),Pt}if(this._cache||(this._cache=new Set(sr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=sr.objectValues(r);return nt(n,{received:n.data,code:Ge.invalid_enum_value,options:a}),Pt}return Bi(t.data)}get enum(){return this._def.values}}q5.create=(e,t)=>new q5({values:e,typeName:Ot.ZodNativeEnum,...zt(t)});class xw extends ar{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ht.promise&&r.common.async===!1)return nt(r,{code:Ge.invalid_type,expected:ht.promise,received:r.parsedType}),Pt;const n=r.parsedType===ht.promise?r.data:Promise.resolve(r.data);return Bi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}xw.create=(e,t)=>new xw({type:e,typeName:Ot.ZodPromise,...zt(t)});class sp extends ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{nt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Pt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Pt:c.status==="dirty"||r.value==="dirty"?E0(c.value):c});{if(r.value==="aborted")return Pt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Pt:l.status==="dirty"||r.value==="dirty"?E0(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Pt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Pt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!rp(o))return Pt;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>rp(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):Pt);sr.assertNever(a)}}sp.create=(e,t,r)=>new sp({schema:e,typeName:Ot.ZodEffects,effect:t,...zt(r)});sp.createWithPreprocess=(e,t,r)=>new sp({schema:t,effect:{type:"preprocess",transform:e},typeName:Ot.ZodEffects,...zt(r)});class Tu extends ar{_parse(t){return this._getType(t)===ht.undefined?Bi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Tu.create=(e,t)=>new Tu({innerType:e,typeName:Ot.ZodOptional,...zt(t)});class ip extends ar{_parse(t){return this._getType(t)===ht.null?Bi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ip.create=(e,t)=>new ip({innerType:e,typeName:Ot.ZodNullable,...zt(t)});class cE extends ar{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ht.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}cE.create=(e,t)=>new cE({innerType:e,typeName:Ot.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...zt(t)});class uE extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return mw(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new xc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}uE.create=(e,t)=>new uE({innerType:e,typeName:Ot.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...zt(t)});class G5 extends ar{_parse(t){if(this._getType(t)!==ht.nan){const n=this._getOrReturnCtx(t);return nt(n,{code:Ge.invalid_type,expected:ht.nan,received:n.parsedType}),Pt}return{status:"valid",value:t.data}}}G5.create=e=>new G5({typeName:Ot.ZodNaN,...zt(e)});class ZWe extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class wO extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Pt:s.status==="dirty"?(r.dirty(),E0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Pt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new wO({in:t,out:r,typeName:Ot.ZodPipeline})}}class dE extends ar{_parse(t){const r=this._def.innerType._parse(t),n=a=>(rp(a)&&(a.value=Object.freeze(a.value)),a);return mw(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}dE.create=(e,t)=>new dE({innerType:e,typeName:Ot.ZodReadonly,...zt(t)});Kr.lazycreate;var Ot;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ot||(Ot={}));const Ay=hu.create,JWe=np.create;Bu.create;ul.create;const eHe=Kr.create;Kr.strictCreate;gw.create;vw.create;wf.create;ap.create;xw.create;Tu.create;ip.create;const tHe=aWe,yY=x.createContext({}),p0=({...e})=>i.jsx(yY.Provider,{value:{name:e.name},children:i.jsx(lWe,{...e})}),xj=()=>{const e=x.useContext(yY),t=x.useContext(bY),{getFieldState:r,formState:n}=vj(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},bY=x.createContext({}),oh=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return i.jsx(bY.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:xe("space-y-2",e),...t})})});oh.displayName="FormItem";const lh=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=xj();return i.jsx(He,{ref:r,className:xe(n&&"text-destructive",e),htmlFor:a,...t})});lh.displayName="FormLabel";const ch=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=xj();return i.jsx(bB,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});ch.displayName="FormControl";const rHe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=xj();return i.jsx("p",{ref:r,id:n,className:xe("text-sm text-muted-foreground",e),...t})});rHe.displayName="FormDescription";const uh=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=xj(),o=a?String(a==null?void 0:a.message):t;return o?i.jsx("p",{ref:n,id:s,className:xe("text-sm font-medium text-destructive",e),...r,children:o}):null});uh.displayName="FormMessage";const nHe=eHe({request_title:Ay().min(1,"Title is required"),request_description:Ay().optional(),request_type:Ay().optional(),priority:JWe().optional(),status:Ay().optional()});function aHe({open:e,onOpenChange:t,onSubmit:r,initialData:n}){const{t:a}=Bt(),{user:s}=pr(),o=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="manager",l=_We({resolver:kWe(nHe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});x.useEffect(()=>{n?l.reset({request_title:n.request_title,request_description:n.request_description||"",request_type:n.request_type||"internal_task",priority:n.priority||1,status:n.status||"pending"}):l.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[n,l,e]);const c=async u=>{await r(u),t(!1),l.reset()};return i.jsx(ml,{open:e,onOpenChange:t,children:i.jsxs(ko,{side:Xt()?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[i.jsx(dc,{children:i.jsx(pl,{children:a(n?"requests.editRequest":"requests.createRequest")})}),i.jsx("div",{className:"py-4",children:i.jsx(tHe,{...l,children:i.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[i.jsx(p0,{control:l.control,name:"request_title",render:({field:u})=>i.jsxs(oh,{children:[i.jsx(lh,{children:a("requests.title")}),i.jsx(ch,{children:i.jsx(Ve,{placeholder:a("requests.titlePlaceholder"),...u})}),i.jsx(uh,{})]})}),i.jsx(p0,{control:l.control,name:"request_description",render:({field:u})=>i.jsxs(oh,{children:[i.jsx(lh,{children:a("requests.description")}),i.jsx(ch,{children:i.jsx(ra,{placeholder:a("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...u})}),i.jsx(uh,{})]})}),o&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(p0,{control:l.control,name:"request_type",render:({field:u})=>i.jsxs(oh,{children:[i.jsx(lh,{children:a("requests.type")}),i.jsxs(yt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[i.jsx(ch,{children:i.jsx(pt,{children:i.jsx(bt,{placeholder:"Select type"})})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"internal_task",children:a("requests.types.internalTask")}),i.jsx(Te,{value:"support",children:a("requests.types.support")}),i.jsx(Te,{value:"feature",children:a("requests.types.feature")})]})]}),i.jsx(uh,{})]})}),i.jsx(p0,{control:l.control,name:"priority",render:({field:u})=>{var d,f;return i.jsxs(oh,{children:[i.jsx(lh,{children:a("requests.priority")}),i.jsxs(yt,{onValueChange:h=>u.onChange(parseInt(h)),defaultValue:(d=u.value)==null?void 0:d.toString(),value:(f=u.value)==null?void 0:f.toString(),children:[i.jsx(ch,{children:i.jsx(pt,{children:i.jsx(bt,{placeholder:"Select priority"})})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"0",children:a("requests.priorities.low")}),i.jsx(Te,{value:"1",children:a("requests.priorities.medium")}),i.jsx(Te,{value:"2",children:a("requests.priorities.high")})]})]}),i.jsx(uh,{})]})}})]}),i.jsx(p0,{control:l.control,name:"status",render:({field:u})=>i.jsxs(oh,{children:[i.jsx(lh,{children:a("requests.status")}),i.jsxs(yt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[i.jsx(ch,{children:i.jsx(pt,{children:i.jsx(bt,{placeholder:"Select status"})})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"pending",children:a("status.pending")}),i.jsx(Te,{value:"in_progress",children:a("status.in_progress")}),i.jsx(Te,{value:"completed",children:a("status.completed")}),i.jsx(Te,{value:"approved",children:a("status.approved")}),i.jsx(Te,{value:"rejected",children:a("status.rejected")})]})]}),i.jsx(uh,{})]})})]}),i.jsx("div",{className:"flex justify-end pt-4 gap-2",children:i.jsx(le,{type:"submit",children:a(n?"common.save":"common.create")})})]})})})]})})}function sHe(){const{t:e}=Bt(),{toast:t}=_l(),{user:r}=pr();Jr();const[n,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState([]),[y,b]=x.useState("all"),[w,_]=x.useState("all"),[j,N]=x.useState(1),S=10,k=async()=>{try{o(!0);const Q=await f0.getRequests();a(Q)}catch(Q){console.error("Failed to fetch requests:",Q),t({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{o(!1)}};x.useEffect(()=>{k()},[]);const C=()=>{h(null),d(!0)},E=Q=>{h(Q),d(!0)},P=async()=>{if(m)try{await f0.deleteRequest(m),t({title:e("common.success"),description:e("requests.deleteSuccess")}),k()}catch(Q){console.error("Failed to delete request:",Q),t({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{p(null)}},T=async Q=>{try{if(!(r!=null&&r.id)){t({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}f?(await f0.updateRequest(f.request_id,Q),t({title:e("common.success"),description:e("requests.updateSuccess")})):(await f0.createRequest({...Q,requested_by_auth:r.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),t({title:e("common.success"),description:e("requests.createSuccess")})),k()}catch(O){console.error("Failed to save request:",O),t({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},W=n.filter(Q=>{var H;const O=Q.request_title.toLowerCase().includes(l.toLowerCase()),M=y==="all"||Q.status===y,F=w==="all"||((H=Q.priority)==null?void 0:H.toString())===w;return O&&M&&F}),G=Math.ceil(W.length/S),U=(j-1)*S,L=U+S,V=W.slice(U,L),B=Q=>{switch(Q){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},I=Q=>{switch(Q){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},X=Q=>{switch(Q){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Xt()?"rtl":"ltr",children:[i.jsx(hx,{title:e("requests.title"),description:e("requests.subtitle"),icon:i.jsx(ps,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(le,{onClick:C,children:[i.jsx(Zt,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ve,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:l,onChange:Q=>c(Q.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(yt,{value:w,onValueChange:_,children:[i.jsx(pt,{className:"w-[130px] h-9",children:i.jsx(bt,{placeholder:e("requests.priority")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:e("common.all")}),i.jsx(Te,{value:"0",children:e("requests.priorities.low")}),i.jsx(Te,{value:"1",children:e("requests.priorities.medium")}),i.jsx(Te,{value:"2",children:e("requests.priorities.high")})]})]}),i.jsxs(yt,{value:y,onValueChange:b,children:[i.jsx(pt,{className:"w-[130px] h-9",children:i.jsx(bt,{placeholder:e("requests.status")})}),i.jsxs(gt,{children:[i.jsx(Te,{value:"all",children:e("common.all")}),i.jsx(Te,{value:"pending",children:e("status.pending")}),i.jsx(Te,{value:"approved",children:e("status.approved")}),i.jsx(Te,{value:"rejected",children:e("status.rejected")}),i.jsx(Te,{value:"in_progress",children:e("status.in_progress")}),i.jsx(Te,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const Q=[{key:"title",header:e("requests.requestTitle"),render:F=>{var H;return i.jsx(gc,{title:F.request_title,subtitle:(H=F.request_type)==null?void 0:H.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:F=>i.jsx(dt,{variant:"outline",className:I(F.priority),children:X(F.priority)})},{key:"status",header:e("requests.status"),render:F=>i.jsx(dt,{variant:"secondary",className:`capitalize ${B(F.status)}`,children:F.status?e(`status.${F.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:F=>i.jsx(Pf,{date:F.created_at})}],O=[{icon:i.jsx(KN,{}),label:e("common.edit"),onClick:E},{icon:i.jsx(cr,{}),label:e("common.delete"),onClick:F=>p(F.request_id),variant:"destructive"}],M=[{label:e("buttons.delete"),icon:i.jsx(cr,{className:"h-4 w-4"}),onClick:async F=>{try{await Promise.all(F.map(H=>f0.deleteRequest(H))),t({title:e("common.success"),description:e("requests.deleteSuccess")}),a(H=>H.filter(ee=>!F.includes(ee.request_id))),v([])}catch(H){console.error("Failed to bulk delete requests:",H),t({title:e("common.error"),description:e("requests.deleteError"),variant:"destructive"})}}}];return i.jsx(pc,{data:V,columns:Q,actions:O,bulkActions:M,keyExtractor:F=>F.request_id,onRowClick:E,enableBulkSelect:!0,selectedItems:g,onSelectionChange:v,loading:s,rtl:Xt()})})(),i.jsx(aHe,{open:u,onOpenChange:d,onSubmit:T,initialData:f}),i.jsx(si,{open:!!m,onOpenChange:Q=>!Q&&p(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:e("common.confirmDelete")}),i.jsx(Os,{children:e("requests.deleteConfirmation")})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:e("common.cancel")}),i.jsx(Ds,{className:"bg-red-500 hover:bg-red-600",onClick:P,children:e("common.delete")})]})]})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:G>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(Jm,{children:[i.jsx(ka,{children:i.jsx(cu,{onClick:()=>N(Math.max(1,j-1)),className:j===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(ka,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",j," ",e("common.of")," ",G]})}),i.jsx(ka,{children:i.jsx(uu,{onClick:()=>N(Math.min(G,j+1)),className:j===G?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})}const K5="9",Y5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyaWQiOjEsInBlcm1pc3Npb25zIjoidXNlciIsImNvbXBhbnlfY29kZSI6ImNybWRiIiwiY29tcGFueV9pZCI6MjQsImV4cCI6MTc3MDUzNjU0OX0.uYGncrK-4KEZgy_eoJcfNWuRSHs12ju6O41BmrA59GM";function iHe(){Bt();const{toast:e}=_l();Jr();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,o]=x.useState([]),[l,c]=x.useState(null),[u,d]=x.useState([]),[f,h]=x.useState(""),[m,p]=x.useState(null),[g,v]=x.useState(!0),[y,b]=x.useState(!1),[w,_]=x.useState(null),[j,N]=x.useState(!1),S=x.useRef(null),k=x.useCallback(async(M,F={})=>{const H=`https://api.middar.com/api/v1/plugins/${K5}`;console.log(`Calling plugin API: ${H}`,{action:M,data:F});try{const ne=await(await fetch(H,{method:"POST",headers:{Authorization:`Bearer ${Y5}`,"Content-Type":"application/json"},body:JSON.stringify({action:M,...F})})).json();return console.log("Plugin API response:",ne),ne}catch(ee){return console.error("Plugin API error:",ee),{success:!1,message:ee.message}}},[K5,Y5]);x.useEffect(()=>{const M=localStorage.getItem("whatsapp_sessions");if(M)try{const F=JSON.parse(M);console.log("Loading sessions from localStorage:",F),r(F);const H=F.find(ee=>ee.is_primary);a(H||null),(H==null?void 0:H.state)==="connected"&&T()}catch(F){console.error("Failed to load sessions from localStorage:",F)}},[]),x.useEffect(()=>{setTimeout(async()=>{await P(),await C()},100)},[]),x.useEffect(()=>{let M;return(n==null?void 0:n.state)==="connected"&&(T(),M=window.setInterval(()=>{T()},1e4)),()=>{M&&window.clearInterval(M)}},[n]);const C=async()=>{try{const M=await k("enable_crm");console.log("Global CRM enable result:",M);for(const F of t){const H=await k("enable_crm",{session_id:F.session_id});console.log(`CRM enable result for session ${F.session_id}:`,H)}M.success&&(console.log("CRM enabled successfully"),e({title:"CRM Enabled",description:"WhatsApp CRM integration is now active"}))}catch(M){console.error("Failed to enable CRM:",M),e({variant:"destructive",title:"CRM Enable Failed",description:"Could not enable CRM functionality"})}},E=(M,F)=>{r(ee=>ee.map(ne=>ne.session_id===M?{...ne,state:F}:ne));const H=localStorage.getItem("whatsapp_sessions");if(H)try{const ne=JSON.parse(H).map(ge=>ge.session_id===M?{...ge,state:F}:ge);localStorage.setItem("whatsapp_sessions",JSON.stringify(ne))}catch(ee){console.error("Failed to update localStorage session state:",ee)}};x.useEffect(()=>{t.length>0&&localStorage.setItem("whatsapp_sessions",JSON.stringify(t))},[t]);const P=async()=>{console.log("Loading sessions...");const M=await k("list_sessions");if(console.log("Sessions result:",M),M.success){const F=M.data||[];console.log("Sessions array from API:",F),console.log("Sessions length from API:",F.length);const H=localStorage.getItem("whatsapp_sessions");let ee=[];if(H)try{ee=JSON.parse(H)}catch(ce){console.error("Failed to parse saved sessions:",ce)}const ne=[...F];ee.forEach(ce=>{ne.find(A=>A.session_id===ce.session_id)||ne.push(ce)}),console.log("Merged sessions:",ne),r(ne);const ge=ne.find(ce=>ce.is_primary),se=ne[0]||null;a(ge||se);const Z=ge||se;(Z==null?void 0:Z.state)==="connected"&&T()}else e({variant:"destructive",title:"Error",description:M.message||"Failed to load sessions"})};x.useEffect(()=>{let M;return l&&(W(l.id),M=window.setInterval(()=>W(l.id),3e3)),()=>{M&&window.clearInterval(M)}},[l]);const T=async()=>{if(n)try{const M=await k("get_conversations",{limit:50,offset:0});M.success?(o(M.data||[]),g&&v(!1)):e({variant:"destructive",title:"Error",description:M.message||"Failed to load conversations"})}catch(M){console.error(M),g&&v(!1)}},W=async M=>{if(n)try{const F=await k("get_conversation_messages",{conversation_id:M,limit:50,offset:0});F.success&&(d(F.data||[]),setTimeout(()=>Q(),100))}catch(F){console.error(F)}},G=async M=>{_(M);const F=await k("connect_session",{session_id:M});return console.log("Connect session result:",F),F.success?F.needs_qr&&F.qr_code?(p(F.qr_code),U(M)):F.message==="already connected"?await P():U(M):e({variant:"destructive",title:"Connection failed",description:F.message||"Failed to connect session"}),_(null),F},U=async(M,F=40)=>{for(let H=0;H<F;H++){const ee=await k("get_status",{session_id:M});if(console.log(`Status check ${H+1}:`,ee),ee.success&&ee.data){const ne=ee.data.state||ee.data.status;if(console.log("Session state:",ne),ne==="connected"){p(null),E(M,"connected"),await P();return}else if(ne==="pending_qr"&&ee.data.qr_code){p(ee.data.qr_code),E(M,"pending_qr");return}else if(ne==="pending_qr")console.log("Still waiting for QR code..."),E(M,"pending_qr");else if(ne==="active"||ne==="working"){p(null),E(M,"connected"),await P();return}else if(ne==="inactive"){console.log("Session inactive, attempting to connect..."),E(M,"inactive");return}else if(ne==="error"){console.log("Session error, stopping polling"),p(null),E(M,"error"),e({variant:"destructive",title:"Connection Error",description:ee.data.error_message||"Session encountered an error"});return}}await new Promise(ne=>setTimeout(ne,3e3))}e({variant:"destructive",title:"Connection timeout",description:"Timeout waiting for QR scan"}),p(null)},L=async M=>{var F,H,ee,ne,ge,se,Z;console.log("Creating session:",M);try{const ce=await k("create_session",{display_name:M,is_primary:!1});if(console.log("Create session result:",ce),ce.success){const A={session_id:((F=ce.data)==null?void 0:F.session_id)||Date.now(),display_name:((H=ce.data)==null?void 0:H.display_name)||M,state:((ee=ce.data)==null?void 0:ee.state)||"inactive",is_primary:((ne=ce.data)==null?void 0:ne.is_primary)||!1,created_at:((ge=ce.data)==null?void 0:ge.created_at)||new Date().toISOString(),last_activity:((se=ce.data)==null?void 0:se.last_activity)||Date.now(),jid:((Z=ce.data)==null?void 0:Z.jid)||""};console.log("Adding session to state:",A),r(Me=>[...Me,A]);const $e=localStorage.getItem("whatsapp_sessions");if($e)try{const Fe=[...JSON.parse($e),A];localStorage.setItem("whatsapp_sessions",JSON.stringify(Fe)),console.log("Saved to localStorage")}catch(Me){console.error("Failed to save to localStorage:",Me)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([A]));e({title:"Session created",description:"New session created successfully (local mode)"})}else if(confirm(`API create failed: ${ce.message}. Create local session anyway?`)){const A={session_id:Date.now(),display_name:M,state:"inactive",is_primary:!1,created_at:new Date().toISOString(),last_activity:Date.now(),jid:""};r(Me=>[...Me,A]);const $e=localStorage.getItem("whatsapp_sessions");if($e)try{const Fe=[...JSON.parse($e),A];localStorage.setItem("whatsapp_sessions",JSON.stringify(Fe))}catch(Me){console.error("Failed to save to localStorage:",Me)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([A]));e({title:"Local Session Created",description:"Session created locally (API failed)"})}else e({variant:"destructive",title:"Creation failed",description:ce.message||"Failed to create session"})}catch(ce){console.error("Create session error:",ce),e({variant:"destructive",title:"Creation failed",description:"An error occurred while creating session"})}},V=async M=>{const F=await k("pause_session",{session_id:M});F.success?await P():e({variant:"destructive",title:"Pause failed",description:F.message||"Failed to pause session"})},B=async M=>{const F=await k("resume_session",{session_id:M});F.success?await P():e({variant:"destructive",title:"Resume failed",description:F.message||"Failed to resume session"})},I=async M=>{const F=await k("disconnect_session",{session_id:M});F.success?(await P(),e({title:"Session Disconnected",description:"Session disconnected successfully"})):e({variant:"destructive",title:"Disconnect failed",description:F.message||"Failed to disconnect session"})},X=async M=>{if(confirm("Are you sure you want to delete this session?")){console.log("Deleting session:",M);try{const F=await k("delete_session",{session_id:M});if(console.log("Delete result:",F),F.success){const H=localStorage.getItem("whatsapp_sessions");if(H)try{const ne=JSON.parse(H).filter(ge=>ge.session_id!==M);localStorage.setItem("whatsapp_sessions",JSON.stringify(ne)),console.log("Removed session from localStorage")}catch(ee){console.error("Failed to update localStorage:",ee)}r(ee=>ee.filter(ne=>ne.session_id!==M)),e({title:"Session deleted",description:"Session deleted successfully"})}else if(confirm(`API delete failed: ${F.message}. Remove from local list anyway?`)){const H=localStorage.getItem("whatsapp_sessions");if(H)try{const ne=JSON.parse(H).filter(ge=>ge.session_id!==M);localStorage.setItem("whatsapp_sessions",JSON.stringify(ne))}catch(ee){console.error("Failed to update localStorage:",ee)}r(ee=>ee.filter(ne=>ne.session_id!==M)),e({title:"Session removed locally",description:"Session removed from local list (API delete failed)"})}else e({variant:"destructive",title:"Delete failed",description:F.message||"Failed to delete session"})}catch(F){console.error("Delete session error:",F),e({variant:"destructive",title:"Delete failed",description:"An error occurred while deleting session"})}}},Q=()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},O=async M=>{if(M==null||M.preventDefault(),!(!f.trim()||!l||!n)){b(!0);try{const F=await k("send_text",{phone:l.phone,message:f,session_id:n.session_id});if(F.success)h(""),setTimeout(()=>W(l.id),500);else throw new Error(F.message||"Failed to send message")}catch(F){e({variant:"destructive",title:"Error sending message",description:(F==null?void 0:F.message)||"Unknown error"})}finally{b(!1)}}};return i.jsxs("div",{className:"h-full flex flex-1 overflow-hidden bg-background border rounded-lg",dir:Xt()?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[i.jsx(Hl,{className:"h-4 w-4"}),"WhatsApp"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(le,{variant:"outline",size:"sm",onClick:()=>N(!j),className:"flex items-center gap-2",children:[i.jsx(kT,{className:"h-4 w-4"}),"Sessions"]}),i.jsx(le,{variant:"ghost",size:"icon",onClick:T,children:i.jsx(oR,{className:"h-4 w-4"})}),n&&i.jsx(i.Fragment,{children:n.state==="connected"?i.jsxs(le,{variant:"outline",size:"sm",onClick:()=>I(n.session_id),className:"flex items-center gap-2",children:[i.jsx(Hl,{className:"h-4 w-4 rotate-135"}),"Disconnect"]}):i.jsxs(le,{variant:"default",size:"sm",onClick:()=>G(n.session_id),disabled:w===n.session_id,className:"flex items-center gap-2",children:[i.jsx(Hl,{className:"h-4 w-4"}),w===n.session_id?"Connecting...":"Connect"]})})]})]}),n&&i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${n.state==="connected"?"bg-green-500":n.state==="pending_qr"?"bg-yellow-500":n.state==="connecting"?"bg-blue-500":n.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"text-sm font-medium",children:n.display_name}),n.is_primary&&i.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:n.state==="connected"?" Connected":n.state==="pending_qr"?" Waiting QR":n.state==="connecting"?" Connecting":n.state==="paused"?" Paused":n.state==="disconnected"?" Disconnected":" Inactive"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{placeholder:"Search...",className:"pl-9"})]})]}),i.jsx(Ka,{className:"flex-1",children:j?i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-medium",children:"Session Manager"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(le,{variant:"outline",size:"sm",onClick:P,className:"flex items-center gap-2",children:[i.jsx(oR,{className:"h-4 w-4"}),"Refresh"]}),i.jsx(le,{variant:"outline",size:"sm",onClick:async()=>{console.log("Check Status clicked"),console.log("Current sessions:",t),console.log("Active session:",n);const M=n||t[0];if(M){console.log("Checking status for session:",M.session_id);const F=await k("get_status",{session_id:M.session_id});if(console.log("Manual status check:",F),F.success&&F.data){const H=F.data.state||F.data.status;console.log("Current session status:",H),E(M.session_id,H),e({title:"Status Updated",description:`Session status: ${H}`})}else e({variant:"destructive",title:"Status Check Failed",description:F.message||"Failed to check status"})}else e({variant:"destructive",title:"No Session",description:"No session available to check"})},children:"Check Status"}),i.jsx(le,{variant:"outline",size:"sm",onClick:C,children:"Enable CRM"}),i.jsx(le,{variant:"outline",size:"sm",onClick:()=>{confirm("Clear all local sessions? This will remove all sessions from the UI.")&&(localStorage.removeItem("whatsapp_sessions"),r([]),a(null),e({title:"Sessions Cleared",description:"All local sessions have been removed"}))},children:"Clear Local"}),i.jsxs(le,{variant:"outline",size:"sm",onClick:()=>L("New Session"),className:"flex items-center gap-2",children:[i.jsx(Zt,{className:"h-4 w-4"}),"Create Session"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[t.map(M=>i.jsxs("div",{className:`p-3 border rounded-lg ${M.is_primary?"border-primary/20 bg-primary/5":"border-border"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${M.state==="connected"?"bg-green-500":M.state==="pending_qr"?"bg-yellow-500":M.state==="connecting"?"bg-blue-500":M.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"font-medium text-sm",children:M.display_name}),M.is_primary&&i.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:M.state==="connected"?"":M.state==="pending_qr"?"":M.state==="connecting"?"":M.state==="paused"?"":M.state==="disconnected"?"":""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(le,{size:"sm",variant:"outline",onClick:()=>G(M.session_id),disabled:M.state!=="inactive"&&M.state!=="disconnected"||w===M.session_id,children:w===M.session_id?"Connecting...":"Connect"}),M.state==="connected"&&i.jsx(le,{size:"sm",variant:"outline",onClick:()=>V(M.session_id),children:i.jsx(fae,{className:"h-3 w-3"})}),M.state==="paused"&&i.jsx(le,{size:"sm",variant:"outline",onClick:()=>B(M.session_id),children:i.jsx(hae,{className:"h-3 w-3"})}),i.jsx(le,{size:"sm",variant:"outline",onClick:()=>X(M.session_id),className:"text-destructive hover:text-destructive",children:i.jsx(cr,{className:"h-3 w-3"})})]})]},`session-${M.session_id}-${M.state}`)),t.length===0&&i.jsx("div",{className:"text-center p-4 text-muted-foreground text-sm",children:"No sessions configured. Create your first session to get started."})]})]}):i.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[s.map(M=>i.jsxs("button",{onClick:()=>c(M),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(l==null?void 0:l.id)===M.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[i.jsx(ks,{children:i.jsx(Cs,{className:"bg-green-100 text-green-700",children:i.jsx(An,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium truncate",children:M.phone}),i.jsx("span",{className:"text-xs text-muted-foreground",children:M.last_message_at&&rs(new Date(M.last_message_at),"MMM d")})]}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},M.id)),s.length===0&&!g&&i.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:n?"No conversations yet.":"Connect a session to start messaging."})]})})]}),i.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:l?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ks,{className:"h-10 w-10",children:i.jsx(Cs,{className:"bg-green-600 text-white",children:"WA"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:l.phone}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50 ltr",ref:S,dir:"ltr",children:u.map(M=>{const F=M.direction==="outbound"||M.direction==="outgoing";return i.jsx("div",{className:`flex ${F?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${F?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[M.message&&i.jsx("p",{className:"text-sm",children:M.message}),i.jsx("p",{className:`text-[10px] mt-1 text-right ${F?"text-green-100":"text-muted-foreground"}`,children:M.created_at?rs(new Date(M.created_at),"HH:mm"):""})]})},M.id)})}),i.jsx("div",{className:"p-4 border-t bg-background",children:i.jsxs("form",{onSubmit:O,className:"flex gap-2",children:[i.jsx(Ve,{value:f,onChange:M=>h(M.target.value),placeholder:"Type a message...",className:"flex-1",disabled:y}),i.jsx(le,{type:"submit",size:"icon",disabled:y||!f.trim(),children:i.jsx(Lv,{className:"h-4 w-4"})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:i.jsx(Hl,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n?"Select a conversation":"No active session"}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:n?"Choose a conversation from the sidebar to start messaging.":"Connect a WhatsApp session to start messaging."})]})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-background rounded-lg p-6 max-w-sm w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(mae,{className:"h-5 w-5"}),"Scan QR Code"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(le,{variant:"ghost",size:"icon",onClick:()=>p(null),children:""}),i.jsx(le,{variant:"outline",size:"sm",onClick:async()=>{var F;const M=await k("get_status",{session_id:sessionId});M.success&&((F=M.data)!=null&&F.qr_code)&&p(M.data.qr_code)},children:"Refresh QR"})]})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("img",{src:m.startsWith("data:image/png;base64,")?m:`data:image/png;base64,${m}`,alt:"WhatsApp QR Code",className:"w-64 h-64 border-2 border-border rounded-lg mb-4"}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"font-medium",children:"Scan with WhatsApp"}),i.jsxs("ol",{className:"text-sm text-left space-y-1 text-muted-foreground",children:[i.jsx("li",{children:"1. Open WhatsApp on your phone"}),i.jsx("li",{children:"2. Tap Settings  Linked Devices"}),i.jsx("li",{children:"3. Tap Link a Device"}),i.jsx("li",{children:"4. Point camera at this QR code"})]})]})]})]})})]})}function oHe(){const{t:e}=Bt(),{isRTL:t}=Ma(),r=Jr(),{setBreadcrumbs:n}=Iv(),{toast:a}=_l(),[s,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,p]=x.useState(!1),[g,v]=x.useState(!1),[y,b]=x.useState({});x.useEffect(()=>{n([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),w()},[]);const w=async()=>{try{c(!0);const E=await Y.permissions.list({sort:"ASC"});o(E.data||[]),d(null)}catch(E){d(E.message||"Failed to load permissions")}finally{c(!1)}},_=E=>{h(E),b({...E}),v(!0),p(!0)},j=()=>{h(null),b({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),v(!1),p(!0)},N=async()=>{try{if(!y.permissions_Name){a({title:"Error",description:"Permission name is required",variant:"destructive"});return}f?(await Y.permissions.update(f.permissions_ID,y),a({title:"Success",description:"Permission updated"})):(await Y.permissions.create(y),a({title:"Success",description:"Permission created"})),p(!1),w()}catch(E){a({title:"Error",description:E.message,variant:"destructive"})}},S=[{key:"permissions_Name",header:"Role Name",render:E=>i.jsx(gc,{title:E.permissions_Name||"Unnamed Role",icon:i.jsx(M1,{className:"h-4 w-4 text-primary"})}),align:"left"},{key:"permissions_ID",header:"ID",render:E=>i.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",E.permissions_ID]}),align:"left"}],k=[{icon:i.jsx(Di,{}),label:"Edit",onClick:E=>_(E)}],C=()=>{const E=Object.keys(y).filter(P=>P!=="permissions_ID"&&P!=="permissions_Name"&&P!=="created_at"&&P!=="updated_at");return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:E.map(P=>i.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[i.jsx(Kb,{id:P,checked:!!y[P],onCheckedChange:T=>{b(W=>({...W,[P]:T?1:0}))}}),i.jsx(He,{htmlFor:P,className:"cursor-pointer flex-1 capitalize",children:P.replace(/_/g," ")})]},P))})};return l?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ia,{message:e("common.loading"),size:"2xl"})}):u?i.jsx(Dp,{message:u,onRetry:w}):i.jsxs("div",{className:"space-y-4 p-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),i.jsxs(le,{onClick:j,children:[i.jsx(Zt,{className:xe("h-4 w-4",t?"ml-2":"mr-2")})," Add Role"]})]}),i.jsx(pc,{data:s,columns:S,actions:k,keyExtractor:E=>E.permissions_ID.toString(),rtl:t,isMobile:r}),i.jsx(ml,{open:m,onOpenChange:p,children:i.jsxs(ko,{side:t?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:t?"rtl":"ltr",children:[i.jsxs(dc,{children:[i.jsx(pl,{children:f?"Edit Role":"New Role"}),i.jsx(lf,{children:"Configure access permissions for this role."})]}),i.jsxs("div",{className:"py-4 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"roleName",children:"Role Name"}),i.jsx(Ve,{id:"roleName",value:y.permissions_Name||"",onChange:E=>b(P=>({...P,permissions_Name:E.target.value}))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),C(),Object.keys(y).filter(E=>E!=="permissions_ID"&&E!=="permissions_Name").length===0&&i.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",s.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(le,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),i.jsx(le,{onClick:N,children:"Save Changes"})]})]})})]})}const vi={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},$o={primary:"text-primary",secondary:"text-muted-foreground",success:"text-green-600",warning:"text-yellow-600",destructive:"text-red-600"},Py={primary:"bg-primary",secondary:"bg-muted-foreground",success:"bg-green-600",warning:"bg-yellow-600",destructive:"bg-red-600"};function Vc({size:e="md",variant:t="default",className:r,color:n="primary"}){const a=xe(vi[e],$o[n],r);switch(t){case"dots":return i.jsxs("div",{className:xe("flex space-x-1",r),children:[i.jsx("div",{className:xe("animate-bounce",vi[e],$o[n]),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),i.jsx("div",{className:xe("animate-bounce",vi[e],$o[n],"animation-delay-100"),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),i.jsx("div",{className:xe("animate-bounce",vi[e],$o[n],"animation-delay-200"),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})})]});case"pulse":return i.jsxs("div",{className:xe("relative",vi[e],r),children:[i.jsx("div",{className:xe("h-full w-full rounded-full border-2 border-current opacity-20")}),i.jsx("div",{className:xe("absolute inset-0 h-full w-full rounded-full border-2 border-t-current animate-spin")})]});case"bounce":return i.jsxs("div",{className:xe("flex space-x-1",r),children:[i.jsx("div",{className:xe("animate-bounce",vi[e],$o[n]),children:i.jsx(gae,{className:"h-full w-full"})}),i.jsx("div",{className:xe("animate-bounce",vi[e],$o[n],"animation-delay-100"),children:i.jsx(hB,{className:"h-full w-full"})}),i.jsx("div",{className:xe("animate-bounce",vi[e],$o[n],"animation-delay-200"),children:i.jsx(Tg,{className:"h-full w-full animate-spin"})})]});case"rotate":return i.jsx("div",{className:xe("relative",vi[e],r),children:i.jsx(Tg,{className:xe("h-full w-full animate-spin",$o[n])})});case"rings":return i.jsxs("div",{className:xe("relative",vi[e],r),children:[i.jsx("div",{className:xe("absolute inset-0 h-full w-full rounded-full border-2 border-current opacity-20 animate-ping")}),i.jsx("div",{className:xe("absolute inset-2 h-full w-full rounded-full border-2 border-current opacity-40 animate-ping","animation-delay-100")}),i.jsx("div",{className:xe("absolute inset-4 h-full w-full rounded-full border-2 border-current animate-spin")})]});case"bars":return i.jsx("div",{className:xe("flex items-end space-x-1",r),children:[0,1,2,3,4].map(s=>i.jsx("div",{className:xe("w-1 bg-current rounded-full animate-pulse",e==="sm"?"h-4":e==="md"?"h-6":e==="lg"?"h-8":"h-12",$o[n],s===0&&"animation-delay-0",s===1&&"animation-delay-100",s===2&&"animation-delay-200",s===3&&"animation-delay-300",s===4&&"animation-delay-400"),style:{animationDelay:`${s*100}ms`,animation:"pulse 1.4s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},s))});case"wave":return i.jsx("div",{className:xe("flex space-x-1",r),children:[0,1,2,3,4].map(s=>i.jsx("div",{className:xe("rounded-full bg-current animate-bounce",e==="sm"?"h-2 w-2":e==="md"?"h-3 w-3":e==="lg"?"h-4 w-4":"h-6 w-6",$o[n]),style:{animationDelay:`${s*100}ms`}},s))});case"orbit":return i.jsxs("div",{className:xe("relative",vi[e],r),children:[i.jsxs("div",{className:xe("absolute inset-0 h-full w-full animate-spin"),children:[i.jsx("div",{className:xe("absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full",Py[n])}),i.jsx("div",{className:xe("absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 w-2 h-2 rounded-full opacity-60",Py[n])}),i.jsx("div",{className:xe("absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-2 h-2 rounded-full opacity-40",Py[n])}),i.jsx("div",{className:xe("absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2 w-2 h-2 rounded-full opacity-80",Py[n])})]}),i.jsx("div",{className:xe("absolute inset-2 h-full w-full rounded-full border border-current opacity-20")})]});case"morph":return i.jsx("div",{className:xe("relative",vi[e],r),children:i.jsx("div",{className:xe("h-full w-full bg-current rounded-full animate-morph")})});default:return i.jsx(Uw,{className:xe("animate-spin",a)})}}function X5({message:e="Loading...",size:t="lg",variant:r="default",showProgress:n=!1,progress:a=0,className:s}){return i.jsxs("div",{className:xe("flex flex-col items-center justify-center py-8 space-y-4",s),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Vc,{size:t,variant:r}),n&&i.jsx("div",{className:"absolute -bottom-6 left-0 right-0",children:i.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${a}%`}})})})]}),e&&i.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium text-center max-w-xs",children:e})]})}function lHe({message:e="Loading...",fullScreen:t=!1,variant:r="bounce",className:n}){const a=i.jsxs("div",{className:xe("flex flex-col items-center justify-center space-y-6",t?"min-h-screen":"py-16",n),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Vc,{size:"xl",variant:r}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-muted/20 animate-ping"})})]}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-lg font-medium text-foreground animate-pulse",children:e}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we prepare your content..."})]})]});return t?i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:a}):a}function cHe(){const[e,t]=x.useState(!1),[r,n]=x.useState(0),a=()=>{n(0),t(!0);const c=setInterval(()=>{n(u=>u>=100?(clearInterval(c),setTimeout(()=>t(!1),500),100):u+10)},200)},s=["default","dots","pulse","bounce","rotate","rings","bars","wave","orbit","morph"],o=["sm","md","lg","xl"],l=["primary","secondary","success","warning","destructive"];return i.jsxs("div",{className:"min-h-screen bg-background p-8 space-y-8",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"text-center space-y-4 mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold",children:"Custom Loading Spinners"}),i.jsx("p",{className:"text-muted-foreground text-lg",children:"Showcase of different spinner variants and configurations"}),i.jsx(le,{onClick:a,className:"mt-4",children:"Show Page Loader with Progress"})]}),i.jsxs(st,{children:[i.jsx(Ut,{children:i.jsx(ur,{children:"Spinner Variants"})}),i.jsx(ft,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:s.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Vc,{variant:c,size:"lg"})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(st,{children:[i.jsx(Ut,{children:i.jsx(ur,{children:"Spinner Sizes"})}),i.jsx(ft,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:o.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Vc,{variant:"bounce",size:c})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(st,{children:[i.jsx(Ut,{children:i.jsx(ur,{children:"Spinner Colors"})}),i.jsx(ft,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:l.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Vc,{variant:"default",size:"lg",color:c})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(st,{children:[i.jsx(Ut,{children:i.jsx(ur,{children:"Loading Spinner with Messages"})}),i.jsx(ft,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Basic Loading"}),i.jsx(X5,{message:"Loading dashboard data...",variant:"dots",size:"md"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"With Progress"}),i.jsx(X5,{message:"Processing files...",variant:"pulse",size:"lg",showProgress:!0,progress:65})]})]})})]}),i.jsxs(st,{children:[i.jsx(Ut,{children:i.jsx(ur,{children:"Combined Examples"})}),i.jsx(ft,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Vc,{variant:"bounce",size:"xl",color:"success"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Success State"})]}),i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Vc,{variant:"rotate",size:"xl",color:"warning"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing"})]}),i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Vc,{variant:"dots",size:"xl",color:"destructive"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Error State"})]})]})})]})]}),e&&i.jsx(lHe,{message:"Loading amazing content...",variant:"bounce",fullScreen:!0})]})}const uHe=()=>i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),i.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),dHe=()=>{const{user:e}=pr();return(e==null?void 0:e.role)==="client"?i.jsx(p5e,{}):i.jsx($Ie,{})},Q5=({children:e})=>i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-indigo-400/20 to-blue-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-primary/5 to-blue-400/5 rounded-full blur-3xl"})]}),i.jsx("div",{className:"relative z-10 w-full px-4 py-8",children:e})]});function fHe(){return i.jsx(ire,{children:i.jsx(oB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(vse,{children:i.jsx(Tne,{children:i.jsx(Cne,{children:i.jsx(Ane,{children:i.jsx(hHe,{})})})})})})})}function hHe(){const{isRTL:e}=Ma(),t=wl(),{t:r}=Bt();return x.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),x.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],o={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let l="";if(o[s])l=r(o[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];o[c]?l=`${r(o[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),i.jsxs(Jte,{children:[i.jsx(_r,{path:"/login",element:i.jsx(Q5,{children:i.jsx(pse,{})})}),i.jsx(_r,{path:"/signup",element:i.jsx(Q5,{children:i.jsx(gse,{})})}),i.jsx(_r,{path:"/unauthorized",element:i.jsx(uHe,{})}),i.jsx(_r,{path:"/auth/callback",element:i.jsx(x5e,{})}),i.jsx(_r,{path:"/",element:i.jsx(v5e,{})}),i.jsxs(_r,{element:i.jsx(Zx,{children:i.jsx(dk,{children:i.jsx(HD,{})})}),children:[i.jsx(_r,{path:"/dashboard",element:i.jsx(eMe,{})}),i.jsx(_r,{path:"/leads",element:i.jsx(Y3e,{})}),i.jsx(_r,{path:"/projects",element:i.jsx(hIe,{})}),i.jsx(_r,{path:"/tasks",element:i.jsx(eIe,{})}),i.jsx(_r,{path:"/tickets",element:i.jsx(nIe,{})}),i.jsx(_r,{path:"/users",element:i.jsx(Zx,{denyPermissionIds:[3,4,5,6],children:i.jsx(EIe,{})})}),i.jsx(_r,{path:"/teams",element:i.jsx(TIe,{})}),i.jsx(_r,{path:"/chats",element:i.jsx(dHe,{})}),i.jsx(_r,{path:"/all-chats",element:i.jsx(m5e,{})}),i.jsx(_r,{path:"/whatsapp",element:i.jsx(iHe,{})}),i.jsx(_r,{path:"/requests",element:i.jsx(sHe,{})}),i.jsx(_r,{path:"/client-portal",element:i.jsx(g5e,{})}),i.jsx(_r,{path:"/surveys",element:i.jsx(_Ve,{})}),i.jsx(_r,{path:"/mleads",element:i.jsx(ZVe,{})}),i.jsx(_r,{path:"/mprojects",element:i.jsx(tWe,{})}),i.jsx(_r,{path:"/permissions",element:i.jsx(Zx,{denyPermissionIds:[3,4,5,6],children:i.jsx(oHe,{})})}),i.jsx(_r,{path:"/settings",element:i.jsx(Zx,{denyPermissionIds:[3,4,5,6],children:i.jsx(jVe,{})})}),i.jsx(_r,{path:"/spinner-demo",element:i.jsx(cHe,{})})]}),i.jsx(_r,{element:i.jsx(dk,{children:i.jsx(HD,{})})}),i.jsx(_r,{path:"*",element:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("h1",{children:"404 - Page Not Found"})})})]})}const mHe=new eJ({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});y6(document.getElementById("root")).render(i.jsx(lee,{i18n:zr,children:i.jsx(sJ,{client:mHe,children:i.jsx(oB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(fHe,{})})})}));
