var dg=t=>{throw TypeError(t)};var vd=(t,e,r)=>e.has(t)||dg("Cannot "+r);var P=(t,e,r)=>(vd(t,e,"read from private field"),r?r.call(t):e.get(t)),ie=(t,e,r)=>e.has(t)?dg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),X=(t,e,r,n)=>(vd(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),xe=(t,e,r)=>(vd(t,e,"access private method"),r);var Tl=(t,e,r,n)=>({set _(s){X(t,e,s,r)},get _(){return P(t,e,n)}});function wx(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function bx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _x(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var jx={exports:{}},Su={},Sx={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=Symbol.for("react.element"),GN=Symbol.for("react.portal"),QN=Symbol.for("react.fragment"),JN=Symbol.for("react.strict_mode"),YN=Symbol.for("react.profiler"),XN=Symbol.for("react.provider"),ZN=Symbol.for("react.context"),eC=Symbol.for("react.forward_ref"),tC=Symbol.for("react.suspense"),rC=Symbol.for("react.memo"),nC=Symbol.for("react.lazy"),hg=Symbol.iterator;function sC(t){return t===null||typeof t!="object"?null:(t=hg&&t[hg]||t["@@iterator"],typeof t=="function"?t:null)}var Nx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cx=Object.assign,kx={};function Ii(t,e,r){this.props=t,this.context=e,this.refs=kx,this.updater=r||Nx}Ii.prototype.isReactComponent={};Ii.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ii.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ex(){}Ex.prototype=Ii.prototype;function im(t,e,r){this.props=t,this.context=e,this.refs=kx,this.updater=r||Nx}var am=im.prototype=new Ex;am.constructor=im;Cx(am,Ii.prototype);am.isPureReactComponent=!0;var fg=Array.isArray,Px=Object.prototype.hasOwnProperty,lm={current:null},Tx={key:!0,ref:!0,__self:!0,__source:!0};function Rx(t,e,r){var n,s={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Px.call(e,n)&&!Tx.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:cl,type:t,key:o,ref:a,props:s,_owner:lm.current}}function oC(t,e){return{$$typeof:cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cm(t){return typeof t=="object"&&t!==null&&t.$$typeof===cl}function iC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var mg=/\/+/g;function yd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iC(""+t.key):e.toString(36)}function dc(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case cl:case GN:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+yd(a,0):n,fg(s)?(r="",t!=null&&(r=t.replace(mg,"$&/")+"/"),dc(s,e,r,"",function(u){return u})):s!=null&&(cm(s)&&(s=oC(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(mg,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",fg(t))for(var l=0;l<t.length;l++){o=t[l];var c=n+yd(o,l);a+=dc(o,e,r,c,s)}else if(c=sC(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=n+yd(o,l++),a+=dc(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Rl(t,e,r){if(t==null)return t;var n=[],s=0;return dc(t,n,"","",function(o){return e.call(r,o,s++)}),n}function aC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},hc={transition:null},lC={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:hc,ReactCurrentOwner:lm};function Ox(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Rl,forEach:function(t,e,r){Rl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Rl(t,function(){e++}),e},toArray:function(t){return Rl(t,function(e){return e})||[]},only:function(t){if(!cm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Ii;ge.Fragment=QN;ge.Profiler=YN;ge.PureComponent=im;ge.StrictMode=JN;ge.Suspense=tC;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lC;ge.act=Ox;ge.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Cx({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=lm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Px.call(e,c)&&!Tx.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:cl,type:t.type,key:s,ref:o,props:n,_owner:a}};ge.createContext=function(t){return t={$$typeof:ZN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XN,_context:t},t.Consumer=t};ge.createElement=Rx;ge.createFactory=function(t){var e=Rx.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:eC,render:t}};ge.isValidElement=cm;ge.lazy=function(t){return{$$typeof:nC,_payload:{_status:-1,_result:t},_init:aC}};ge.memo=function(t,e){return{$$typeof:rC,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=hc.transition;hc.transition={};try{t()}finally{hc.transition=e}};ge.unstable_act=Ox;ge.useCallback=function(t,e){return Ct.current.useCallback(t,e)};ge.useContext=function(t){return Ct.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Ct.current.useEffect(t,e)};ge.useId=function(){return Ct.current.useId()};ge.useImperativeHandle=function(t,e,r){return Ct.current.useImperativeHandle(t,e,r)};ge.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Ct.current.useMemo(t,e)};ge.useReducer=function(t,e,r){return Ct.current.useReducer(t,e,r)};ge.useRef=function(t){return Ct.current.useRef(t)};ge.useState=function(t){return Ct.current.useState(t)};ge.useSyncExternalStore=function(t,e,r){return Ct.current.useSyncExternalStore(t,e,r)};ge.useTransition=function(){return Ct.current.useTransition()};ge.version="18.3.1";Sx.exports=ge;var f=Sx.exports;const Sn=bx(f),um=wx({__proto__:null,default:Sn},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC=f,uC=Symbol.for("react.element"),dC=Symbol.for("react.fragment"),hC=Object.prototype.hasOwnProperty,fC=cC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mC={key:!0,ref:!0,__self:!0,__source:!0};function Ax(t,e,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)hC.call(e,n)&&!mC.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:uC,type:t,key:o,ref:a,props:s,_owner:fC.current}}Su.Fragment=dC;Su.jsx=Ax;Su.jsxs=Ax;jx.exports=Su;var i=jx.exports,Ix={exports:{}},Gt={},Dx={exports:{}},Lx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,L){var W=I.length;I.push(L);e:for(;0<W;){var q=W-1>>>1,Z=I[q];if(0<s(Z,L))I[q]=L,I[W]=Z,W=q;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var L=I[0],W=I.pop();if(W!==L){I[0]=W;e:for(var q=0,Z=I.length,be=Z>>>1;q<be;){var je=2*(q+1)-1,F=I[je],Q=je+1,H=I[Q];if(0>s(F,W))Q<Z&&0>s(H,F)?(I[q]=H,I[Q]=W,q=Q):(I[q]=F,I[je]=W,q=je);else if(Q<Z&&0>s(H,W))I[q]=H,I[Q]=W,q=Q;else break e}}return L}function s(I,L){var W=I.sortIndex-L.sortIndex;return W!==0?W:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,b=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=I)n(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=r(u)}}function _(I){if(v=!1,x(I),!b)if(r(c)!==null)b=!0,M(j);else{var L=r(u);L!==null&&D(_,L.startTime-I)}}function j(I,L){b=!1,v&&(v=!1,y(E),E=-1),p=!0;var W=m;try{for(x(L),h=r(c);h!==null&&(!(h.expirationTime>L)||I&&!A());){var q=h.callback;if(typeof q=="function"){h.callback=null,m=h.priorityLevel;var Z=q(h.expirationTime<=L);L=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===r(c)&&n(c),x(L)}else n(c);h=r(c)}if(h!==null)var be=!0;else{var je=r(u);je!==null&&D(_,je.startTime-L),be=!1}return be}finally{h=null,m=W,p=!1}}var S=!1,N=null,E=-1,T=5,R=-1;function A(){return!(t.unstable_now()-R<T)}function O(){if(N!==null){var I=t.unstable_now();R=I;var L=!0;try{L=N(!0,I)}finally{L?U():(S=!1,N=null)}}else S=!1}var U;if(typeof g=="function")U=function(){g(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,B=k.port2;k.port1.onmessage=O,U=function(){B.postMessage(null)}}else U=function(){w(O,0)};function M(I){N=I,S||(S=!0,U())}function D(I,L){E=w(function(){I(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,M(j))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(I){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var W=m;m=L;try{return I()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=m;m=I;try{return L()}finally{m=W}},t.unstable_scheduleCallback=function(I,L,W){var q=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?q+W:q):W=q,I){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,I={id:d++,callback:L,priorityLevel:I,startTime:W,expirationTime:Z,sortIndex:-1},W>q?(I.sortIndex=W,e(u,I),r(c)===null&&I===r(u)&&(v?(y(E),E=-1):v=!0,D(_,W-q))):(I.sortIndex=Z,e(c,I),b||p||(b=!0,M(j))),I},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(I){var L=m;return function(){var W=m;m=L;try{return I.apply(this,arguments)}finally{m=W}}}})(Lx);Dx.exports=Lx;var pC=Dx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC=f,qt=pC;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mx=new Set,ka={};function no(t,e){vi(t,e),vi(t+"Capture",e)}function vi(t,e){for(ka[t]=e,t=0;t<e.length;t++)Mx.add(e[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=Object.prototype.hasOwnProperty,vC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pg={},gg={};function yC(t){return gh.call(gg,t)?!0:gh.call(pg,t)?!1:vC.test(t)?gg[t]=!0:(pg[t]=!0,!1)}function xC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wC(t,e,r,n){if(e===null||typeof e>"u"||xC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,r,n,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dm=/[\-:]([a-z])/g;function hm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dm,hm);ht[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dm,hm);ht[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dm,hm);ht[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fm(t,e,r,n){var s=ht.hasOwnProperty(e)?ht[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wC(e,r,s,n)&&(r=null),n||s===null?yC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gn=gC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),Oo=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),mm=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),$x=Symbol.for("react.provider"),Ux=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),yh=Symbol.for("react.suspense"),xh=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy"),Fx=Symbol.for("react.offscreen"),vg=Symbol.iterator;function qi(t){return t===null||typeof t!="object"?null:(t=vg&&t[vg]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,xd;function oa(t){if(xd===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xd=e&&e[1]||""}return`
`+xd+t}var wd=!1;function bd(t,e){if(!t||wd)return"";wd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{wd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?oa(t):""}function bC(t){switch(t.tag){case 5:return oa(t.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return t=bd(t.type,!1),t;case 11:return t=bd(t.type.render,!1),t;case 1:return t=bd(t.type,!0),t;default:return""}}function wh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ao:return"Fragment";case Oo:return"Portal";case vh:return"Profiler";case mm:return"StrictMode";case yh:return"Suspense";case xh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ux:return(t.displayName||"Context")+".Consumer";case $x:return(t._context.displayName||"Context")+".Provider";case pm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gm:return e=t.displayName||null,e!==null?e:wh(t.type)||"Memo";case Pn:e=t._payload,t=t._init;try{return wh(t(e))}catch{}}return null}function _C(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wh(e);case 8:return e===mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jC(t){var e=Bx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Al(t){t._valueTracker||(t._valueTracker=jC(t))}function zx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Bx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ec(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bh(t,e){var r=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function yg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ns(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vx(t,e){e=e.checked,e!=null&&fm(t,"checked",e,!1)}function _h(t,e){Vx(t,e);var r=ns(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jh(t,e.type,r):e.hasOwnProperty("defaultValue")&&jh(t,e.type,ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function jh(t,e,r){(e!=="number"||Ec(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ia=Array.isArray;function qo(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ns(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(V(92));if(ia(r)){if(1<r.length)throw Error(V(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ns(r)}}function Wx(t,e){var r=ns(e.value),n=ns(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function bg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Il,Kx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Il=Il||document.createElement("div"),Il.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Il.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SC=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){SC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function qx(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function Gx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=qx(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var NC=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ch(t,e){if(e){if(NC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function kh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eh=null;function vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ph=null,Go=null,Qo=null;function _g(t){if(t=hl(t)){if(typeof Ph!="function")throw Error(V(280));var e=t.stateNode;e&&(e=Pu(e),Ph(t.stateNode,t.type,e))}}function Qx(t){Go?Qo?Qo.push(t):Qo=[t]:Go=t}function Jx(){if(Go){var t=Go,e=Qo;if(Qo=Go=null,_g(t),e)for(t=0;t<e.length;t++)_g(e[t])}}function Yx(t,e){return t(e)}function Xx(){}var _d=!1;function Zx(t,e,r){if(_d)return t(e,r);_d=!0;try{return Yx(t,e,r)}finally{_d=!1,(Go!==null||Qo!==null)&&(Xx(),Jx())}}function Pa(t,e){var r=t.stateNode;if(r===null)return null;var n=Pu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(V(231,e,typeof r));return r}var Th=!1;if(ln)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){Th=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{Th=!1}function CC(t,e,r,n,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var ma=!1,Pc=null,Tc=!1,Rh=null,kC={onError:function(t){ma=!0,Pc=t}};function EC(t,e,r,n,s,o,a,l,c){ma=!1,Pc=null,CC.apply(kC,arguments)}function PC(t,e,r,n,s,o,a,l,c){if(EC.apply(this,arguments),ma){if(ma){var u=Pc;ma=!1,Pc=null}else throw Error(V(198));Tc||(Tc=!0,Rh=u)}}function so(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ew(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jg(t){if(so(t)!==t)throw Error(V(188))}function TC(t){var e=t.alternate;if(!e){if(e=so(t),e===null)throw Error(V(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return jg(s),t;if(o===n)return jg(s),e;o=o.sibling}throw Error(V(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?t:e}function tw(t){return t=TC(t),t!==null?rw(t):null}function rw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rw(t);if(e!==null)return e;t=t.sibling}return null}var nw=qt.unstable_scheduleCallback,Sg=qt.unstable_cancelCallback,RC=qt.unstable_shouldYield,OC=qt.unstable_requestPaint,Ge=qt.unstable_now,AC=qt.unstable_getCurrentPriorityLevel,ym=qt.unstable_ImmediatePriority,sw=qt.unstable_UserBlockingPriority,Rc=qt.unstable_NormalPriority,IC=qt.unstable_LowPriority,ow=qt.unstable_IdlePriority,Nu=null,Ur=null;function DC(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Nu,t,void 0,(t.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:$C,LC=Math.log,MC=Math.LN2;function $C(t){return t>>>=0,t===0?32:31-(LC(t)/MC|0)|0}var Dl=64,Ll=4194304;function aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=aa(l):(o&=a,o!==0&&(n=aa(o)))}else a=r&~s,a!==0?n=aa(a):o!==0&&(n=aa(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Sr(e),s=1<<r,n|=t[r],e&=~s;return n}function UC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Sr(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=UC(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function Oh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iw(){var t=Dl;return Dl<<=1,!(Dl&4194240)&&(Dl=64),t}function jd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ul(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sr(e),t[e]=r}function BC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Sr(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function xm(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Sr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Ee=0;function aw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lw,wm,cw,uw,dw,Ah=!1,Ml=[],Kn=null,qn=null,Gn=null,Ta=new Map,Ra=new Map,Rn=[],zC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ng(t,e){switch(t){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(e.pointerId)}}function Qi(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=hl(e),e!==null&&wm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function VC(t,e,r,n,s){switch(e){case"focusin":return Kn=Qi(Kn,t,e,r,n,s),!0;case"dragenter":return qn=Qi(qn,t,e,r,n,s),!0;case"mouseover":return Gn=Qi(Gn,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return Ta.set(o,Qi(Ta.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Ra.set(o,Qi(Ra.get(o)||null,t,e,r,n,s)),!0}return!1}function hw(t){var e=js(t.target);if(e!==null){var r=so(e);if(r!==null){if(e=r.tag,e===13){if(e=ew(r),e!==null){t.blockedOn=e,dw(t.priority,function(){cw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ih(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Eh=n,r.target.dispatchEvent(n),Eh=null}else return e=hl(r),e!==null&&wm(e),t.blockedOn=r,!1;e.shift()}return!0}function Cg(t,e,r){fc(t)&&r.delete(e)}function WC(){Ah=!1,Kn!==null&&fc(Kn)&&(Kn=null),qn!==null&&fc(qn)&&(qn=null),Gn!==null&&fc(Gn)&&(Gn=null),Ta.forEach(Cg),Ra.forEach(Cg)}function Ji(t,e){t.blockedOn===e&&(t.blockedOn=null,Ah||(Ah=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,WC)))}function Oa(t){function e(s){return Ji(s,t)}if(0<Ml.length){Ji(Ml[0],t);for(var r=1;r<Ml.length;r++){var n=Ml[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Kn!==null&&Ji(Kn,t),qn!==null&&Ji(qn,t),Gn!==null&&Ji(Gn,t),Ta.forEach(e),Ra.forEach(e),r=0;r<Rn.length;r++)n=Rn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rn.length&&(r=Rn[0],r.blockedOn===null);)hw(r),r.blockedOn===null&&Rn.shift()}var Jo=gn.ReactCurrentBatchConfig,Ac=!0;function HC(t,e,r,n){var s=Ee,o=Jo.transition;Jo.transition=null;try{Ee=1,bm(t,e,r,n)}finally{Ee=s,Jo.transition=o}}function KC(t,e,r,n){var s=Ee,o=Jo.transition;Jo.transition=null;try{Ee=4,bm(t,e,r,n)}finally{Ee=s,Jo.transition=o}}function bm(t,e,r,n){if(Ac){var s=Ih(t,e,r,n);if(s===null)Ad(t,e,n,Ic,r),Ng(t,n);else if(VC(s,t,e,r,n))n.stopPropagation();else if(Ng(t,n),e&4&&-1<zC.indexOf(t)){for(;s!==null;){var o=hl(s);if(o!==null&&lw(o),o=Ih(t,e,r,n),o===null&&Ad(t,e,n,Ic,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Ad(t,e,n,null,r)}}var Ic=null;function Ih(t,e,r,n){if(Ic=null,t=vm(n),t=js(t),t!==null)if(e=so(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ew(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ic=t,null}function fw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AC()){case ym:return 1;case sw:return 4;case Rc:case IC:return 16;case ow:return 536870912;default:return 16}default:return 16}}var Vn=null,_m=null,mc=null;function mw(){if(mc)return mc;var t,e=_m,r=e.length,n,s="value"in Vn?Vn.value:Vn.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[o-n];n++);return mc=s.slice(t,1<n?1-n:void 0)}function pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $l(){return!0}function kg(){return!1}function Qt(t){function e(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$l:kg,this.isPropagationStopped=kg,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),e}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jm=Qt(Di),dl=Ve({},Di,{view:0,detail:0}),qC=Qt(dl),Sd,Nd,Yi,Cu=Ve({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yi&&(Yi&&t.type==="mousemove"?(Sd=t.screenX-Yi.screenX,Nd=t.screenY-Yi.screenY):Nd=Sd=0,Yi=t),Sd)},movementY:function(t){return"movementY"in t?t.movementY:Nd}}),Eg=Qt(Cu),GC=Ve({},Cu,{dataTransfer:0}),QC=Qt(GC),JC=Ve({},dl,{relatedTarget:0}),Cd=Qt(JC),YC=Ve({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),XC=Qt(YC),ZC=Ve({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ek=Qt(ZC),tk=Ve({},Di,{data:0}),Pg=Qt(tk),rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ok(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sk[t])?!!e[t]:!1}function Sm(){return ok}var ik=Ve({},dl,{key:function(t){if(t.key){var e=rk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(t){return t.type==="keypress"?pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ak=Qt(ik),lk=Ve({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tg=Qt(lk),ck=Ve({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),uk=Qt(ck),dk=Ve({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),hk=Qt(dk),fk=Ve({},Cu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mk=Qt(fk),pk=[9,13,27,32],Nm=ln&&"CompositionEvent"in window,pa=null;ln&&"documentMode"in document&&(pa=document.documentMode);var gk=ln&&"TextEvent"in window&&!pa,pw=ln&&(!Nm||pa&&8<pa&&11>=pa),Rg=" ",Og=!1;function gw(t,e){switch(t){case"keyup":return pk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function vk(t,e){switch(t){case"compositionend":return vw(e);case"keypress":return e.which!==32?null:(Og=!0,Rg);case"textInput":return t=e.data,t===Rg&&Og?null:t;default:return null}}function yk(t,e){if(Io)return t==="compositionend"||!Nm&&gw(t,e)?(t=mw(),mc=_m=Vn=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pw&&e.locale!=="ko"?null:e.data;default:return null}}var xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xk[t.type]:e==="textarea"}function yw(t,e,r,n){Qx(n),e=Dc(e,"onChange"),0<e.length&&(r=new jm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ga=null,Aa=null;function wk(t){Pw(t,0)}function ku(t){var e=Mo(t);if(zx(e))return t}function bk(t,e){if(t==="change")return e}var xw=!1;if(ln){var kd;if(ln){var Ed="oninput"in document;if(!Ed){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Ed=typeof Ig.oninput=="function"}kd=Ed}else kd=!1;xw=kd&&(!document.documentMode||9<document.documentMode)}function Dg(){ga&&(ga.detachEvent("onpropertychange",ww),Aa=ga=null)}function ww(t){if(t.propertyName==="value"&&ku(Aa)){var e=[];yw(e,Aa,t,vm(t)),Zx(wk,e)}}function _k(t,e,r){t==="focusin"?(Dg(),ga=e,Aa=r,ga.attachEvent("onpropertychange",ww)):t==="focusout"&&Dg()}function jk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Aa)}function Sk(t,e){if(t==="click")return ku(e)}function Nk(t,e){if(t==="input"||t==="change")return ku(e)}function Ck(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:Ck;function Ia(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!gh.call(e,s)||!Cr(t[s],e[s]))return!1}return!0}function Lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,e){var r=Lg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lg(r)}}function bw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _w(){for(var t=window,e=Ec();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ec(t.document)}return e}function Cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kk(t){var e=_w(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&bw(r.ownerDocument.documentElement,r)){if(n!==null&&Cm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=Mg(r,o);var a=Mg(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ek=ln&&"documentMode"in document&&11>=document.documentMode,Do=null,Dh=null,va=null,Lh=!1;function $g(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||Do==null||Do!==Ec(n)||(n=Do,"selectionStart"in n&&Cm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),va&&Ia(va,n)||(va=n,n=Dc(Dh,"onSelect"),0<n.length&&(e=new jm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Do)))}function Ul(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Lo={animationend:Ul("Animation","AnimationEnd"),animationiteration:Ul("Animation","AnimationIteration"),animationstart:Ul("Animation","AnimationStart"),transitionend:Ul("Transition","TransitionEnd")},Pd={},jw={};ln&&(jw=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Eu(t){if(Pd[t])return Pd[t];if(!Lo[t])return t;var e=Lo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in jw)return Pd[t]=e[r];return t}var Sw=Eu("animationend"),Nw=Eu("animationiteration"),Cw=Eu("animationstart"),kw=Eu("transitionend"),Ew=new Map,Ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){Ew.set(t,e),no(e,[t])}for(var Td=0;Td<Ug.length;Td++){var Rd=Ug[Td],Pk=Rd.toLowerCase(),Tk=Rd[0].toUpperCase()+Rd.slice(1);as(Pk,"on"+Tk)}as(Sw,"onAnimationEnd");as(Nw,"onAnimationIteration");as(Cw,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(kw,"onTransitionEnd");vi("onMouseEnter",["mouseout","mouseover"]);vi("onMouseLeave",["mouseout","mouseover"]);vi("onPointerEnter",["pointerout","pointerover"]);vi("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rk=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function Fg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,PC(n,e,void 0,t),t.currentTarget=null}function Pw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Fg(s,l,u),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Fg(s,l,u),o=c}}}if(Tc)throw t=Rh,Tc=!1,Rh=null,t}function Oe(t,e){var r=e[Bh];r===void 0&&(r=e[Bh]=new Set);var n=t+"__bubble";r.has(n)||(Tw(e,t,2,!1),r.add(n))}function Od(t,e,r){var n=0;e&&(n|=4),Tw(r,t,n,e)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function Da(t){if(!t[Fl]){t[Fl]=!0,Mx.forEach(function(r){r!=="selectionchange"&&(Rk.has(r)||Od(r,!1,t),Od(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fl]||(e[Fl]=!0,Od("selectionchange",!1,e))}}function Tw(t,e,r,n){switch(fw(e)){case 1:var s=HC;break;case 4:s=KC;break;default:s=bm}r=s.bind(null,e,r,t),s=void 0,!Th||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ad(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=js(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}Zx(function(){var u=o,d=vm(r),h=[];e:{var m=Ew.get(t);if(m!==void 0){var p=jm,b=t;switch(t){case"keypress":if(pc(r)===0)break e;case"keydown":case"keyup":p=ak;break;case"focusin":b="focus",p=Cd;break;case"focusout":b="blur",p=Cd;break;case"beforeblur":case"afterblur":p=Cd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=QC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uk;break;case Sw:case Nw:case Cw:p=XC;break;case kw:p=hk;break;case"scroll":p=qC;break;case"wheel":p=mk;break;case"copy":case"cut":case"paste":p=ek;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Tg}var v=(e&4)!==0,w=!v&&t==="scroll",y=v?m!==null?m+"Capture":null:m;v=[];for(var g=u,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,y!==null&&(_=Pa(g,y),_!=null&&v.push(La(g,_,x)))),w)break;g=g.return}0<v.length&&(m=new p(m,b,null,r,d),h.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&r!==Eh&&(b=r.relatedTarget||r.fromElement)&&(js(b)||b[cn]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?js(b):null,b!==null&&(w=so(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(v=Eg,_="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Tg,_="onPointerLeave",y="onPointerEnter",g="pointer"),w=p==null?m:Mo(p),x=b==null?m:Mo(b),m=new v(_,g+"leave",p,r,d),m.target=w,m.relatedTarget=x,_=null,js(d)===u&&(v=new v(y,g+"enter",b,r,d),v.target=x,v.relatedTarget=w,_=v),w=_,p&&b)t:{for(v=p,y=b,g=0,x=v;x;x=xo(x))g++;for(x=0,_=y;_;_=xo(_))x++;for(;0<g-x;)v=xo(v),g--;for(;0<x-g;)y=xo(y),x--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=xo(v),y=xo(y)}v=null}else v=null;p!==null&&Bg(h,m,p,v,!1),b!==null&&w!==null&&Bg(h,w,b,v,!0)}}e:{if(m=u?Mo(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=bk;else if(Ag(m))if(xw)j=Nk;else{j=jk;var S=_k}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=Sk);if(j&&(j=j(t,u))){yw(h,j,r,d);break e}S&&S(t,m,u),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&jh(m,"number",m.value)}switch(S=u?Mo(u):window,t){case"focusin":(Ag(S)||S.contentEditable==="true")&&(Do=S,Dh=u,va=null);break;case"focusout":va=Dh=Do=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,$g(h,r,d);break;case"selectionchange":if(Ek)break;case"keydown":case"keyup":$g(h,r,d)}var N;if(Nm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Io?gw(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(pw&&r.locale!=="ko"&&(Io||E!=="onCompositionStart"?E==="onCompositionEnd"&&Io&&(N=mw()):(Vn=d,_m="value"in Vn?Vn.value:Vn.textContent,Io=!0)),S=Dc(u,E),0<S.length&&(E=new Pg(E,t,null,r,d),h.push({event:E,listeners:S}),N?E.data=N:(N=vw(r),N!==null&&(E.data=N)))),(N=gk?vk(t,r):yk(t,r))&&(u=Dc(u,"onBeforeInput"),0<u.length&&(d=new Pg("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}Pw(h,e)})}function La(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Dc(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Pa(t,r),o!=null&&n.unshift(La(t,o,s)),o=Pa(t,e),o!=null&&n.push(La(t,o,s))),t=t.return}return n}function xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bg(t,e,r,n,s){for(var o=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Pa(r,o),c!=null&&a.unshift(La(r,c,l))):s||(c=Pa(r,o),c!=null&&a.push(La(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Ok=/\r\n?/g,Ak=/\u0000|\uFFFD/g;function zg(t){return(typeof t=="string"?t:""+t).replace(Ok,`
`).replace(Ak,"")}function Bl(t,e,r){if(e=zg(e),zg(t)!==e&&r)throw Error(V(425))}function Lc(){}var Mh=null,$h=null;function Uh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fh=typeof setTimeout=="function"?setTimeout:void 0,Ik=typeof clearTimeout=="function"?clearTimeout:void 0,Vg=typeof Promise=="function"?Promise:void 0,Dk=typeof queueMicrotask=="function"?queueMicrotask:typeof Vg<"u"?function(t){return Vg.resolve(null).then(t).catch(Lk)}:Fh;function Lk(t){setTimeout(function(){throw t})}function Id(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Oa(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Oa(e)}function Qn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Li=Math.random().toString(36).slice(2),Lr="__reactFiber$"+Li,Ma="__reactProps$"+Li,cn="__reactContainer$"+Li,Bh="__reactEvents$"+Li,Mk="__reactListeners$"+Li,$k="__reactHandles$"+Li;function js(t){var e=t[Lr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[cn]||r[Lr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Wg(t);t!==null;){if(r=t[Lr])return r;t=Wg(t)}return e}t=r,r=t.parentNode}return null}function hl(t){return t=t[Lr]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function Pu(t){return t[Ma]||null}var zh=[],$o=-1;function ls(t){return{current:t}}function Ie(t){0>$o||(t.current=zh[$o],zh[$o]=null,$o--)}function Te(t,e){$o++,zh[$o]=t.current,t.current=e}var ss={},xt=ls(ss),It=ls(!1),Bs=ss;function yi(t,e){var r=t.type.contextTypes;if(!r)return ss;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(t){return t=t.childContextTypes,t!=null}function Mc(){Ie(It),Ie(xt)}function Hg(t,e,r){if(xt.current!==ss)throw Error(V(168));Te(xt,e),Te(It,r)}function Rw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(V(108,_C(t)||"Unknown",s));return Ve({},r,n)}function $c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ss,Bs=xt.current,Te(xt,t),Te(It,It.current),!0}function Kg(t,e,r){var n=t.stateNode;if(!n)throw Error(V(169));r?(t=Rw(t,e,Bs),n.__reactInternalMemoizedMergedChildContext=t,Ie(It),Ie(xt),Te(xt,t)):Ie(It),Te(It,r)}var tn=null,Tu=!1,Dd=!1;function Ow(t){tn===null?tn=[t]:tn.push(t)}function Uk(t){Tu=!0,Ow(t)}function cs(){if(!Dd&&tn!==null){Dd=!0;var t=0,e=Ee;try{var r=tn;for(Ee=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}tn=null,Tu=!1}catch(s){throw tn!==null&&(tn=tn.slice(t+1)),nw(ym,cs),s}finally{Ee=e,Dd=!1}}return null}var Uo=[],Fo=0,Uc=null,Fc=0,tr=[],rr=0,zs=null,nn=1,sn="";function ys(t,e){Uo[Fo++]=Fc,Uo[Fo++]=Uc,Uc=t,Fc=e}function Aw(t,e,r){tr[rr++]=nn,tr[rr++]=sn,tr[rr++]=zs,zs=t;var n=nn;t=sn;var s=32-Sr(n)-1;n&=~(1<<s),r+=1;var o=32-Sr(e)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,nn=1<<32-Sr(e)+s|r<<s|n,sn=o+t}else nn=1<<o|r<<s|n,sn=t}function km(t){t.return!==null&&(ys(t,1),Aw(t,1,0))}function Em(t){for(;t===Uc;)Uc=Uo[--Fo],Uo[Fo]=null,Fc=Uo[--Fo],Uo[Fo]=null;for(;t===zs;)zs=tr[--rr],tr[rr]=null,sn=tr[--rr],tr[rr]=null,nn=tr[--rr],tr[rr]=null}var Vt=null,zt=null,$e=!1,jr=null;function Iw(t,e){var r=sr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function qg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,zt=Qn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=zs!==null?{id:nn,overflow:sn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=sr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Vt=t,zt=null,!0):!1;default:return!1}}function Vh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wh(t){if($e){var e=zt;if(e){var r=e;if(!qg(t,e)){if(Vh(t))throw Error(V(418));e=Qn(r.nextSibling);var n=Vt;e&&qg(t,e)?Iw(n,r):(t.flags=t.flags&-4097|2,$e=!1,Vt=t)}}else{if(Vh(t))throw Error(V(418));t.flags=t.flags&-4097|2,$e=!1,Vt=t}}}function Gg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function zl(t){if(t!==Vt)return!1;if(!$e)return Gg(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uh(t.type,t.memoizedProps)),e&&(e=zt)){if(Vh(t))throw Dw(),Error(V(418));for(;e;)Iw(t,e),e=Qn(e.nextSibling)}if(Gg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){zt=Qn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Vt?Qn(t.stateNode.nextSibling):null;return!0}function Dw(){for(var t=zt;t;)t=Qn(t.nextSibling)}function xi(){zt=Vt=null,$e=!1}function Pm(t){jr===null?jr=[t]:jr.push(t)}var Fk=gn.ReactCurrentBatchConfig;function Xi(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,t))}return t}function Vl(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qg(t){var e=t._init;return e(t._payload)}function Lw(t){function e(y,g){if(t){var x=y.deletions;x===null?(y.deletions=[g],y.flags|=16):x.push(g)}}function r(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Zn(y,g),y.index=0,y.sibling=null,y}function o(y,g,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<g?(y.flags|=2,g):x):(y.flags|=2,g)):(y.flags|=1048576,g)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,g,x,_){return g===null||g.tag!==6?(g=zd(x,y.mode,_),g.return=y,g):(g=s(g,x),g.return=y,g)}function c(y,g,x,_){var j=x.type;return j===Ao?d(y,g,x.props.children,_,x.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pn&&Qg(j)===g.type)?(_=s(g,x.props),_.ref=Xi(y,g,x),_.return=y,_):(_=_c(x.type,x.key,x.props,null,y.mode,_),_.ref=Xi(y,g,x),_.return=y,_)}function u(y,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Vd(x,y.mode,_),g.return=y,g):(g=s(g,x.children||[]),g.return=y,g)}function d(y,g,x,_,j){return g===null||g.tag!==7?(g=Ms(x,y.mode,_,j),g.return=y,g):(g=s(g,x),g.return=y,g)}function h(y,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=zd(""+g,y.mode,x),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ol:return x=_c(g.type,g.key,g.props,null,y.mode,x),x.ref=Xi(y,null,g),x.return=y,x;case Oo:return g=Vd(g,y.mode,x),g.return=y,g;case Pn:var _=g._init;return h(y,_(g._payload),x)}if(ia(g)||qi(g))return g=Ms(g,y.mode,x,null),g.return=y,g;Vl(y,g)}return null}function m(y,g,x,_){var j=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:l(y,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ol:return x.key===j?c(y,g,x,_):null;case Oo:return x.key===j?u(y,g,x,_):null;case Pn:return j=x._init,m(y,g,j(x._payload),_)}if(ia(x)||qi(x))return j!==null?null:d(y,g,x,_,null);Vl(y,x)}return null}function p(y,g,x,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(x)||null,l(g,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ol:return y=y.get(_.key===null?x:_.key)||null,c(g,y,_,j);case Oo:return y=y.get(_.key===null?x:_.key)||null,u(g,y,_,j);case Pn:var S=_._init;return p(y,g,x,S(_._payload),j)}if(ia(_)||qi(_))return y=y.get(x)||null,d(g,y,_,j,null);Vl(g,_)}return null}function b(y,g,x,_){for(var j=null,S=null,N=g,E=g=0,T=null;N!==null&&E<x.length;E++){N.index>E?(T=N,N=null):T=N.sibling;var R=m(y,N,x[E],_);if(R===null){N===null&&(N=T);break}t&&N&&R.alternate===null&&e(y,N),g=o(R,g,E),S===null?j=R:S.sibling=R,S=R,N=T}if(E===x.length)return r(y,N),$e&&ys(y,E),j;if(N===null){for(;E<x.length;E++)N=h(y,x[E],_),N!==null&&(g=o(N,g,E),S===null?j=N:S.sibling=N,S=N);return $e&&ys(y,E),j}for(N=n(y,N);E<x.length;E++)T=p(N,y,E,x[E],_),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?E:T.key),g=o(T,g,E),S===null?j=T:S.sibling=T,S=T);return t&&N.forEach(function(A){return e(y,A)}),$e&&ys(y,E),j}function v(y,g,x,_){var j=qi(x);if(typeof j!="function")throw Error(V(150));if(x=j.call(x),x==null)throw Error(V(151));for(var S=j=null,N=g,E=g=0,T=null,R=x.next();N!==null&&!R.done;E++,R=x.next()){N.index>E?(T=N,N=null):T=N.sibling;var A=m(y,N,R.value,_);if(A===null){N===null&&(N=T);break}t&&N&&A.alternate===null&&e(y,N),g=o(A,g,E),S===null?j=A:S.sibling=A,S=A,N=T}if(R.done)return r(y,N),$e&&ys(y,E),j;if(N===null){for(;!R.done;E++,R=x.next())R=h(y,R.value,_),R!==null&&(g=o(R,g,E),S===null?j=R:S.sibling=R,S=R);return $e&&ys(y,E),j}for(N=n(y,N);!R.done;E++,R=x.next())R=p(N,y,E,R.value,_),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?E:R.key),g=o(R,g,E),S===null?j=R:S.sibling=R,S=R);return t&&N.forEach(function(O){return e(y,O)}),$e&&ys(y,E),j}function w(y,g,x,_){if(typeof x=="object"&&x!==null&&x.type===Ao&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ol:e:{for(var j=x.key,S=g;S!==null;){if(S.key===j){if(j=x.type,j===Ao){if(S.tag===7){r(y,S.sibling),g=s(S,x.props.children),g.return=y,y=g;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pn&&Qg(j)===S.type){r(y,S.sibling),g=s(S,x.props),g.ref=Xi(y,S,x),g.return=y,y=g;break e}r(y,S);break}else e(y,S);S=S.sibling}x.type===Ao?(g=Ms(x.props.children,y.mode,_,x.key),g.return=y,y=g):(_=_c(x.type,x.key,x.props,null,y.mode,_),_.ref=Xi(y,g,x),_.return=y,y=_)}return a(y);case Oo:e:{for(S=x.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(y,g.sibling),g=s(g,x.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else e(y,g);g=g.sibling}g=Vd(x,y.mode,_),g.return=y,y=g}return a(y);case Pn:return S=x._init,w(y,g,S(x._payload),_)}if(ia(x))return b(y,g,x,_);if(qi(x))return v(y,g,x,_);Vl(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,x),g.return=y,y=g):(r(y,g),g=zd(x,y.mode,_),g.return=y,y=g),a(y)):r(y,g)}return w}var wi=Lw(!0),Mw=Lw(!1),Bc=ls(null),zc=null,Bo=null,Tm=null;function Rm(){Tm=Bo=zc=null}function Om(t){var e=Bc.current;Ie(Bc),t._currentValue=e}function Hh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Yo(t,e){zc=t,Tm=Bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(At=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(Tm!==t)if(t={context:t,memoizedValue:e,next:null},Bo===null){if(zc===null)throw Error(V(308));Bo=t,zc.dependencies={lanes:0,firstContext:t}}else Bo=Bo.next=t;return e}var Ss=null;function Am(t){Ss===null?Ss=[t]:Ss.push(t)}function $w(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Am(e)):(r.next=s.next,s.next=r),e.interleaved=r,un(t,n)}function un(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Tn=!1;function Im(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function an(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,un(t,r)}return s=n.interleaved,s===null?(e.next=e,Am(n)):(e.next=s.next,s.next=e),n.interleaved=e,un(t,r)}function gc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,xm(t,r)}}function Jg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Vc(t,e,r,n){var s=t.updateQueue;Tn=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;a=0,d=u=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,v=l;switch(m=e,p=r,v.tag){case 1:if(b=v.payload,typeof b=="function"){h=b.call(p,h,m);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,m=typeof b=="function"?b.call(p,h,m):b,m==null)break e;h=Ve({},h,m);break e;case 2:Tn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ws|=a,t.lanes=a,t.memoizedState=h}}function Yg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(V(191,s));s.call(n)}}}var fl={},Fr=ls(fl),$a=ls(fl),Ua=ls(fl);function Ns(t){if(t===fl)throw Error(V(174));return t}function Dm(t,e){switch(Te(Ua,e),Te($a,t),Te(Fr,fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nh(e,t)}Ie(Fr),Te(Fr,e)}function bi(){Ie(Fr),Ie($a),Ie(Ua)}function Fw(t){Ns(Ua.current);var e=Ns(Fr.current),r=Nh(e,t.type);e!==r&&(Te($a,t),Te(Fr,r))}function Lm(t){$a.current===t&&(Ie(Fr),Ie($a))}var Fe=ls(0);function Wc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ld=[];function Mm(){for(var t=0;t<Ld.length;t++)Ld[t]._workInProgressVersionPrimary=null;Ld.length=0}var vc=gn.ReactCurrentDispatcher,Md=gn.ReactCurrentBatchConfig,Vs=0,ze=null,tt=null,ot=null,Hc=!1,ya=!1,Fa=0,Bk=0;function ft(){throw Error(V(321))}function $m(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Cr(t[r],e[r]))return!1;return!0}function Um(t,e,r,n,s,o){if(Vs=o,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vc.current=t===null||t.memoizedState===null?Hk:Kk,t=r(n,s),ya){o=0;do{if(ya=!1,Fa=0,25<=o)throw Error(V(301));o+=1,ot=tt=null,e.updateQueue=null,vc.current=qk,t=r(n,s)}while(ya)}if(vc.current=Kc,e=tt!==null&&tt.next!==null,Vs=0,ot=tt=ze=null,Hc=!1,e)throw Error(V(300));return t}function Fm(){var t=Fa!==0;return Fa=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?ze.memoizedState=ot=t:ot=ot.next=t,ot}function ur(){if(tt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=ot===null?ze.memoizedState:ot.next;if(e!==null)ot=e,tt=t;else{if(t===null)throw Error(V(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?ze.memoizedState=ot=t:ot=ot.next=t}return ot}function Ba(t,e){return typeof e=="function"?e(t):e}function $d(t){var e=ur(),r=e.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=t;var n=tt,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Vs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,ze.lanes|=d,Ws|=d}u=u.next}while(u!==null&&u!==o);c===null?a=n:c.next=l,Cr(n,e.memoizedState)||(At=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,ze.lanes|=o,Ws|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ud(t){var e=ur(),r=e.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);Cr(o,e.memoizedState)||(At=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Bw(){}function zw(t,e){var r=ze,n=ur(),s=e(),o=!Cr(n.memoizedState,s);if(o&&(n.memoizedState=s,At=!0),n=n.queue,Bm(Hw.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,za(9,Ww.bind(null,r,n,s,e),void 0,null),at===null)throw Error(V(349));Vs&30||Vw(r,e,s)}return s}function Vw(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ww(t,e,r,n){e.value=r,e.getSnapshot=n,Kw(e)&&qw(t)}function Hw(t,e,r){return r(function(){Kw(e)&&qw(t)})}function Kw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Cr(t,r)}catch{return!0}}function qw(t){var e=un(t,1);e!==null&&Nr(e,t,1,-1)}function Xg(t){var e=Or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},e.queue=t,t=t.dispatch=Wk.bind(null,ze,t),[e.memoizedState,t]}function za(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Gw(){return ur().memoizedState}function yc(t,e,r,n){var s=Or();ze.flags|=t,s.memoizedState=za(1|e,r,void 0,n===void 0?null:n)}function Ru(t,e,r,n){var s=ur();n=n===void 0?null:n;var o=void 0;if(tt!==null){var a=tt.memoizedState;if(o=a.destroy,n!==null&&$m(n,a.deps)){s.memoizedState=za(e,r,o,n);return}}ze.flags|=t,s.memoizedState=za(1|e,r,o,n)}function Zg(t,e){return yc(8390656,8,t,e)}function Bm(t,e){return Ru(2048,8,t,e)}function Qw(t,e){return Ru(4,2,t,e)}function Jw(t,e){return Ru(4,4,t,e)}function Yw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xw(t,e,r){return r=r!=null?r.concat([t]):null,Ru(4,4,Yw.bind(null,e,t),r)}function zm(){}function Zw(t,e){var r=ur();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$m(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function e0(t,e){var r=ur();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$m(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function t0(t,e,r){return Vs&21?(Cr(r,e)||(r=iw(),ze.lanes|=r,Ws|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,At=!0),t.memoizedState=r)}function zk(t,e){var r=Ee;Ee=r!==0&&4>r?r:4,t(!0);var n=Md.transition;Md.transition={};try{t(!1),e()}finally{Ee=r,Md.transition=n}}function r0(){return ur().memoizedState}function Vk(t,e,r){var n=Xn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},n0(t))s0(e,r);else if(r=$w(t,e,r,n),r!==null){var s=Nt();Nr(r,t,n,s),o0(r,e,n)}}function Wk(t,e,r){var n=Xn(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(n0(t))s0(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,Cr(l,a)){var c=e.interleaved;c===null?(s.next=s,Am(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=$w(t,e,s,n),r!==null&&(s=Nt(),Nr(r,t,n,s),o0(r,e,n))}}function n0(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function s0(t,e){ya=Hc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function o0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,xm(t,r)}}var Kc={readContext:cr,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},Hk={readContext:cr,useCallback:function(t,e){return Or().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:Zg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,yc(4194308,4,Yw.bind(null,e,t),r)},useLayoutEffect:function(t,e){return yc(4194308,4,t,e)},useInsertionEffect:function(t,e){return yc(4,2,t,e)},useMemo:function(t,e){var r=Or();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Or();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Vk.bind(null,ze,t),[n.memoizedState,t]},useRef:function(t){var e=Or();return t={current:t},e.memoizedState=t},useState:Xg,useDebugValue:zm,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=Xg(!1),e=t[0];return t=zk.bind(null,t[1]),Or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ze,s=Or();if($e){if(r===void 0)throw Error(V(407));r=r()}else{if(r=e(),at===null)throw Error(V(349));Vs&30||Vw(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,Zg(Hw.bind(null,n,o,t),[t]),n.flags|=2048,za(9,Ww.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Or(),e=at.identifierPrefix;if($e){var r=sn,n=nn;r=(n&~(1<<32-Sr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fa++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Bk++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Kk={readContext:cr,useCallback:Zw,useContext:cr,useEffect:Bm,useImperativeHandle:Xw,useInsertionEffect:Qw,useLayoutEffect:Jw,useMemo:e0,useReducer:$d,useRef:Gw,useState:function(){return $d(Ba)},useDebugValue:zm,useDeferredValue:function(t){var e=ur();return t0(e,tt.memoizedState,t)},useTransition:function(){var t=$d(Ba)[0],e=ur().memoizedState;return[t,e]},useMutableSource:Bw,useSyncExternalStore:zw,useId:r0,unstable_isNewReconciler:!1},qk={readContext:cr,useCallback:Zw,useContext:cr,useEffect:Bm,useImperativeHandle:Xw,useInsertionEffect:Qw,useLayoutEffect:Jw,useMemo:e0,useReducer:Ud,useRef:Gw,useState:function(){return Ud(Ba)},useDebugValue:zm,useDeferredValue:function(t){var e=ur();return tt===null?e.memoizedState=t:t0(e,tt.memoizedState,t)},useTransition:function(){var t=Ud(Ba)[0],e=ur().memoizedState;return[t,e]},useMutableSource:Bw,useSyncExternalStore:zw,useId:r0,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Kh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ve({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ou={isMounted:function(t){return(t=t._reactInternals)?so(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Nt(),s=Xn(t),o=an(n,s);o.payload=e,r!=null&&(o.callback=r),e=Jn(t,o,s),e!==null&&(Nr(e,t,s,n),gc(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Nt(),s=Xn(t),o=an(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Jn(t,o,s),e!==null&&(Nr(e,t,s,n),gc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Nt(),n=Xn(t),s=an(r,n);s.tag=2,e!=null&&(s.callback=e),e=Jn(t,s,n),e!==null&&(Nr(e,t,n,r),gc(e,t,n))}};function ev(t,e,r,n,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ia(r,n)||!Ia(s,o):!0}function i0(t,e,r){var n=!1,s=ss,o=e.contextType;return typeof o=="object"&&o!==null?o=cr(o):(s=Dt(e)?Bs:xt.current,n=e.contextTypes,o=(n=n!=null)?yi(t,s):ss),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ou,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function tv(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ou.enqueueReplaceState(e,e.state,null)}function qh(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Im(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=cr(o):(o=Dt(e)?Bs:xt.current,s.context=yi(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Kh(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ou.enqueueReplaceState(s,s.state,null),Vc(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function _i(t,e){try{var r="",n=e;do r+=bC(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Fd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Gh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Gk=typeof WeakMap=="function"?WeakMap:Map;function a0(t,e,r){r=an(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Gc||(Gc=!0,sf=n),Gh(t,e)},r}function l0(t,e,r){r=an(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Gh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Gh(t,e),typeof n!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function rv(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Gk;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=lE.bind(null,t,e,r),e.then(t,t))}function nv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sv(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=an(-1,1),e.tag=2,Jn(r,e,1))),r.lanes|=1),t)}var Qk=gn.ReactCurrentOwner,At=!1;function jt(t,e,r,n){e.child=t===null?Mw(e,null,r,n):wi(e,t.child,r,n)}function ov(t,e,r,n,s){r=r.render;var o=e.ref;return Yo(e,s),n=Um(t,e,r,n,o,s),r=Fm(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dn(t,e,s)):($e&&r&&km(e),e.flags|=1,jt(t,e,n,s),e.child)}function iv(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!Jm(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,c0(t,e,o,n,s)):(t=_c(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ia,r(a,n)&&t.ref===e.ref)return dn(t,e,s)}return e.flags|=1,t=Zn(o,n),t.ref=e.ref,t.return=e,e.child=t}function c0(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(Ia(o,n)&&t.ref===e.ref)if(At=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(At=!0);else return e.lanes=t.lanes,dn(t,e,s)}return Qh(t,e,r,n,s)}function u0(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Vo,$t),$t|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Vo,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Te(Vo,$t),$t|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Te(Vo,$t),$t|=n;return jt(t,e,s,r),e.child}function d0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Qh(t,e,r,n,s){var o=Dt(r)?Bs:xt.current;return o=yi(e,o),Yo(e,s),r=Um(t,e,r,n,o,s),n=Fm(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dn(t,e,s)):($e&&n&&km(e),e.flags|=1,jt(t,e,r,s),e.child)}function av(t,e,r,n,s){if(Dt(r)){var o=!0;$c(e)}else o=!1;if(Yo(e,s),e.stateNode===null)xc(t,e),i0(e,r,n),qh(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=cr(u):(u=Dt(r)?Bs:xt.current,u=yi(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&tv(e,a,n,u),Tn=!1;var m=e.memoizedState;a.state=m,Vc(e,n,a,s),c=e.memoizedState,l!==n||m!==c||It.current||Tn?(typeof d=="function"&&(Kh(e,r,d,n),c=e.memoizedState),(l=Tn||ev(e,r,l,n,m,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Uw(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:vr(e.type,l),a.props=u,h=e.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=cr(c):(c=Dt(r)?Bs:xt.current,c=yi(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==c)&&tv(e,a,n,c),Tn=!1,m=e.memoizedState,a.state=m,Vc(e,n,a,s);var b=e.memoizedState;l!==h||m!==b||It.current||Tn?(typeof p=="function"&&(Kh(e,r,p,n),b=e.memoizedState),(u=Tn||ev(e,r,u,n,m,b,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Jh(t,e,r,n,o,s)}function Jh(t,e,r,n,s,o){d0(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Kg(e,r,!1),dn(t,e,o);n=e.stateNode,Qk.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=wi(e,t.child,null,o),e.child=wi(e,null,l,o)):jt(t,e,l,o),e.memoizedState=n.state,s&&Kg(e,r,!0),e.child}function h0(t){var e=t.stateNode;e.pendingContext?Hg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hg(t,e.context,!1),Dm(t,e.containerInfo)}function lv(t,e,r,n,s){return xi(),Pm(s),e.flags|=256,jt(t,e,r,n),e.child}var Yh={dehydrated:null,treeContext:null,retryLane:0};function Xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function f0(t,e,r){var n=e.pendingProps,s=Fe.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Te(Fe,s&1),t===null)return Wh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Du(a,n,0,null),t=Ms(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Xh(r),e.memoizedState=Yh,t):Vm(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Jk(t,e,a,n,l,s,r);if(o){o=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Zn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Zn(l,o):(o=Ms(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?Xh(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=Yh,n}return o=t.child,t=o.sibling,n=Zn(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Vm(t,e){return e=Du({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wl(t,e,r,n){return n!==null&&Pm(n),wi(e,t.child,null,r),t=Vm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jk(t,e,r,n,s,o,a){if(r)return e.flags&256?(e.flags&=-257,n=Fd(Error(V(422))),Wl(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=Du({mode:"visible",children:n.children},s,0,null),o=Ms(o,s,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&wi(e,t.child,null,a),e.child.memoizedState=Xh(a),e.memoizedState=Yh,o);if(!(e.mode&1))return Wl(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(V(419)),n=Fd(o,n,void 0),Wl(t,e,a,n)}if(l=(a&t.childLanes)!==0,At||l){if(n=at,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,un(t,s),Nr(n,t,s,-1))}return Qm(),n=Fd(Error(V(421))),Wl(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cE.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,zt=Qn(s.nextSibling),Vt=e,$e=!0,jr=null,t!==null&&(tr[rr++]=nn,tr[rr++]=sn,tr[rr++]=zs,nn=t.id,sn=t.overflow,zs=e),e=Vm(e,n.children),e.flags|=4096,e)}function cv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Hh(t.return,e,r)}function Bd(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function m0(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(jt(t,e,n.children,r),n=Fe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cv(t,r,e);else if(t.tag===19)cv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Te(Fe,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Wc(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Bd(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Wc(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Bd(e,!0,r,null,o);break;case"together":Bd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ws|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,r=Zn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Zn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Yk(t,e,r){switch(e.tag){case 3:h0(e),xi();break;case 5:Fw(e);break;case 1:Dt(e.type)&&$c(e);break;case 4:Dm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Te(Bc,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Te(Fe,Fe.current&1),e.flags|=128,null):r&e.child.childLanes?f0(t,e,r):(Te(Fe,Fe.current&1),t=dn(t,e,r),t!==null?t.sibling:null);Te(Fe,Fe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return m0(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Fe,Fe.current),n)break;return null;case 22:case 23:return e.lanes=0,u0(t,e,r)}return dn(t,e,r)}var p0,Zh,g0,v0;p0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zh=function(){};g0=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Ns(Fr.current);var o=null;switch(r){case"input":s=bh(t,s),n=bh(t,n),o=[];break;case"select":s=Ve({},s,{value:void 0}),n=Ve({},n,{value:void 0}),o=[];break;case"textarea":s=Sh(t,s),n=Sh(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Lc)}Ch(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ka.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ka.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Oe("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};v0=function(t,e,r,n){r!==n&&(e.flags|=4)};function Zi(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Xk(t,e,r){var n=e.pendingProps;switch(Em(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Dt(e.type)&&Mc(),mt(e),null;case 3:return n=e.stateNode,bi(),Ie(It),Ie(xt),Mm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jr!==null&&(lf(jr),jr=null))),Zh(t,e),mt(e),null;case 5:Lm(e);var s=Ns(Ua.current);if(r=e.type,t!==null&&e.stateNode!=null)g0(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(V(166));return mt(e),null}if(t=Ns(Fr.current),zl(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Lr]=e,n[Ma]=o,t=(e.mode&1)!==0,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(s=0;s<la.length;s++)Oe(la[s],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":yg(n,o),Oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Oe("invalid",n);break;case"textarea":wg(n,o),Oe("invalid",n)}Ch(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Bl(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Bl(n.textContent,l,t),s=["children",""+l]):ka.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Oe("scroll",n)}switch(r){case"input":Al(n),xg(n,o,!0);break;case"textarea":Al(n),bg(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Lc)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hx(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Lr]=e,t[Ma]=n,p0(t,e,!1,!1),e.stateNode=t;e:{switch(a=kh(r,n),r){case"dialog":Oe("cancel",t),Oe("close",t),s=n;break;case"iframe":case"object":case"embed":Oe("load",t),s=n;break;case"video":case"audio":for(s=0;s<la.length;s++)Oe(la[s],t);s=n;break;case"source":Oe("error",t),s=n;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=n;break;case"details":Oe("toggle",t),s=n;break;case"input":yg(t,n),s=bh(t,n),Oe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ve({},n,{value:void 0}),Oe("invalid",t);break;case"textarea":wg(t,n),s=Sh(t,n),Oe("invalid",t);break;default:s=n}Ch(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Gx(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kx(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ea(t,c):typeof c=="number"&&Ea(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ka.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Oe("scroll",t):c!=null&&fm(t,o,c,a))}switch(r){case"input":Al(t),xg(t,n,!1);break;case"textarea":Al(t),bg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ns(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?qo(t,!!n.multiple,o,!1):n.defaultValue!=null&&qo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Lc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)v0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(V(166));if(r=Ns(Ua.current),Ns(Fr.current),zl(e)){if(n=e.stateNode,r=e.memoizedProps,n[Lr]=e,(o=n.nodeValue!==r)&&(t=Vt,t!==null))switch(t.tag){case 3:Bl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bl(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Lr]=e,e.stateNode=n}return mt(e),null;case 13:if(Ie(Fe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&zt!==null&&e.mode&1&&!(e.flags&128))Dw(),xi(),e.flags|=98560,o=!1;else if(o=zl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(V(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[Lr]=e}else xi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),o=!1}else jr!==null&&(lf(jr),jr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?rt===0&&(rt=3):Qm())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return bi(),Zh(t,e),t===null&&Da(e.stateNode.containerInfo),mt(e),null;case 10:return Om(e.type._context),mt(e),null;case 17:return Dt(e.type)&&Mc(),mt(e),null;case 19:if(Ie(Fe),o=e.memoizedState,o===null)return mt(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)Zi(o,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Wc(t),a!==null){for(e.flags|=128,Zi(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Te(Fe,Fe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ge()>ji&&(e.flags|=128,n=!0,Zi(o,!1),e.lanes=4194304)}else{if(!n)if(t=Wc(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Zi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!$e)return mt(e),null}else 2*Ge()-o.renderingStartTime>ji&&r!==1073741824&&(e.flags|=128,n=!0,Zi(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ge(),e.sibling=null,r=Fe.current,Te(Fe,n?r&1|2:r&1),e):(mt(e),null);case 22:case 23:return Gm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$t&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function Zk(t,e){switch(Em(e),e.tag){case 1:return Dt(e.type)&&Mc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bi(),Ie(It),Ie(xt),Mm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lm(e),null;case 13:if(Ie(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Fe),null;case 4:return bi(),null;case 10:return Om(e.type._context),null;case 22:case 23:return Gm(),null;case 24:return null;default:return null}}var Hl=!1,vt=!1,eE=typeof WeakSet=="function"?WeakSet:Set,Y=null;function zo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){He(t,e,n)}else r.current=null}function ef(t,e,r){try{r()}catch(n){He(t,e,n)}}var uv=!1;function tE(t,e){if(Mh=Ac,t=_w(),Cm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==o||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===r&&++u===s&&(l=a),m===o&&++d===n&&(c=a),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for($h={focusedElem:t,selectionRange:r},Ac=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,w=b.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:vr(e.type,v),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){He(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return b=uv,uv=!1,b}function xa(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&ef(e,r,o)}s=s.next}while(s!==n)}}function Au(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function tf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function y0(t){var e=t.alternate;e!==null&&(t.alternate=null,y0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lr],delete e[Ma],delete e[Bh],delete e[Mk],delete e[$k])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x0(t){return t.tag===5||t.tag===3||t.tag===4}function dv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Lc));else if(n!==4&&(t=t.child,t!==null))for(rf(t,e,r),t=t.sibling;t!==null;)rf(t,e,r),t=t.sibling}function nf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(nf(t,e,r),t=t.sibling;t!==null;)nf(t,e,r),t=t.sibling}var lt=null,br=!1;function wn(t,e,r){for(r=r.child;r!==null;)w0(t,e,r),r=r.sibling}function w0(t,e,r){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Nu,r)}catch{}switch(r.tag){case 5:vt||zo(r,e);case 6:var n=lt,s=br;lt=null,wn(t,e,r),lt=n,br=s,lt!==null&&(br?(t=lt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):lt.removeChild(r.stateNode));break;case 18:lt!==null&&(br?(t=lt,r=r.stateNode,t.nodeType===8?Id(t.parentNode,r):t.nodeType===1&&Id(t,r),Oa(t)):Id(lt,r.stateNode));break;case 4:n=lt,s=br,lt=r.stateNode.containerInfo,br=!0,wn(t,e,r),lt=n,br=s;break;case 0:case 11:case 14:case 15:if(!vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ef(r,e,a),s=s.next}while(s!==n)}wn(t,e,r);break;case 1:if(!vt&&(zo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){He(r,e,l)}wn(t,e,r);break;case 21:wn(t,e,r);break;case 22:r.mode&1?(vt=(n=vt)||r.memoizedState!==null,wn(t,e,r),vt=n):wn(t,e,r);break;default:wn(t,e,r)}}function hv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new eE),e.forEach(function(n){var s=uE.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function fr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:lt=l.stateNode,br=!1;break e;case 3:lt=l.stateNode.containerInfo,br=!0;break e;case 4:lt=l.stateNode.containerInfo,br=!0;break e}l=l.return}if(lt===null)throw Error(V(160));w0(o,a,s),lt=null,br=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){He(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b0(e,t),e=e.sibling}function b0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(e,t),Rr(t),n&4){try{xa(3,t,t.return),Au(3,t)}catch(v){He(t,t.return,v)}try{xa(5,t,t.return)}catch(v){He(t,t.return,v)}}break;case 1:fr(e,t),Rr(t),n&512&&r!==null&&zo(r,r.return);break;case 5:if(fr(e,t),Rr(t),n&512&&r!==null&&zo(r,r.return),t.flags&32){var s=t.stateNode;try{Ea(s,"")}catch(v){He(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Vx(s,o),kh(l,a);var u=kh(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Gx(s,h):d==="dangerouslySetInnerHTML"?Kx(s,h):d==="children"?Ea(s,h):fm(s,d,h,u)}switch(l){case"input":_h(s,o);break;case"textarea":Wx(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?qo(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?qo(s,!!o.multiple,o.defaultValue,!0):qo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ma]=o}catch(v){He(t,t.return,v)}}break;case 6:if(fr(e,t),Rr(t),n&4){if(t.stateNode===null)throw Error(V(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(v){He(t,t.return,v)}}break;case 3:if(fr(e,t),Rr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oa(e.containerInfo)}catch(v){He(t,t.return,v)}break;case 4:fr(e,t),Rr(t);break;case 13:fr(e,t),Rr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Km=Ge())),n&4&&hv(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(vt=(u=vt)||d,fr(e,t),vt=u):fr(e,t),Rr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(m=Y,p=m.child,m.tag){case 0:case 11:case 14:case 15:xa(4,m,m.return);break;case 1:zo(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){He(n,r,v)}}break;case 5:zo(m,m.return);break;case 22:if(m.memoizedState!==null){mv(h);continue}}p!==null?(p.return=m,Y=p):mv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qx("display",a))}catch(v){He(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){He(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fr(e,t),Rr(t),n&4&&hv(t);break;case 21:break;default:fr(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(x0(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ea(s,""),n.flags&=-33);var o=dv(t);nf(t,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=dv(t);rf(t,l,a);break;default:throw Error(V(161))}}catch(c){He(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rE(t,e,r){Y=t,_0(t)}function _0(t,e,r){for(var n=(t.mode&1)!==0;Y!==null;){var s=Y,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Hl;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vt;l=Hl;var u=vt;if(Hl=a,(vt=c)&&!u)for(Y=s;Y!==null;)a=Y,c=a.child,a.tag===22&&a.memoizedState!==null?pv(s):c!==null?(c.return=a,Y=c):pv(s);for(;o!==null;)Y=o,_0(o),o=o.sibling;Y=s,Hl=l,vt=u}fv(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Y=o):fv(t)}}function fv(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Au(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!vt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:vr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Yg(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Yg(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Oa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}vt||e.flags&512&&tf(e)}catch(m){He(e,e.return,m)}}if(e===t){Y=null;break}if(r=e.sibling,r!==null){r.return=e.return,Y=r;break}Y=e.return}}function mv(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Y=r;break}Y=e.return}}function pv(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Au(4,e)}catch(c){He(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){He(e,s,c)}}var o=e.return;try{tf(e)}catch(c){He(e,o,c)}break;case 5:var a=e.return;try{tf(e)}catch(c){He(e,a,c)}}}catch(c){He(e,e.return,c)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var nE=Math.ceil,qc=gn.ReactCurrentDispatcher,Wm=gn.ReactCurrentOwner,or=gn.ReactCurrentBatchConfig,_e=0,at=null,Ye=null,dt=0,$t=0,Vo=ls(0),rt=0,Va=null,Ws=0,Iu=0,Hm=0,wa=null,Ot=null,Km=0,ji=1/0,Zr=null,Gc=!1,sf=null,Yn=null,Kl=!1,Wn=null,Qc=0,ba=0,of=null,wc=-1,bc=0;function Nt(){return _e&6?Ge():wc!==-1?wc:wc=Ge()}function Xn(t){return t.mode&1?_e&2&&dt!==0?dt&-dt:Fk.transition!==null?(bc===0&&(bc=iw()),bc):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:fw(t.type)),t):1}function Nr(t,e,r,n){if(50<ba)throw ba=0,of=null,Error(V(185));ul(t,r,n),(!(_e&2)||t!==at)&&(t===at&&(!(_e&2)&&(Iu|=r),rt===4&&On(t,dt)),Lt(t,n),r===1&&_e===0&&!(e.mode&1)&&(ji=Ge()+500,Tu&&cs()))}function Lt(t,e){var r=t.callbackNode;FC(t,e);var n=Oc(t,t===at?dt:0);if(n===0)r!==null&&Sg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Sg(r),e===1)t.tag===0?Uk(gv.bind(null,t)):Ow(gv.bind(null,t)),Dk(function(){!(_e&6)&&cs()}),r=null;else{switch(aw(n)){case 1:r=ym;break;case 4:r=sw;break;case 16:r=Rc;break;case 536870912:r=ow;break;default:r=Rc}r=T0(r,j0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function j0(t,e){if(wc=-1,bc=0,_e&6)throw Error(V(327));var r=t.callbackNode;if(Xo()&&t.callbackNode!==r)return null;var n=Oc(t,t===at?dt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Jc(t,n);else{e=n;var s=_e;_e|=2;var o=N0();(at!==t||dt!==e)&&(Zr=null,ji=Ge()+500,Ls(t,e));do try{iE();break}catch(l){S0(t,l)}while(!0);Rm(),qc.current=o,_e=s,Ye!==null?e=0:(at=null,dt=0,e=rt)}if(e!==0){if(e===2&&(s=Oh(t),s!==0&&(n=s,e=af(t,s))),e===1)throw r=Va,Ls(t,0),On(t,n),Lt(t,Ge()),r;if(e===6)On(t,n);else{if(s=t.current.alternate,!(n&30)&&!sE(s)&&(e=Jc(t,n),e===2&&(o=Oh(t),o!==0&&(n=o,e=af(t,o))),e===1))throw r=Va,Ls(t,0),On(t,n),Lt(t,Ge()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(V(345));case 2:xs(t,Ot,Zr);break;case 3:if(On(t,n),(n&130023424)===n&&(e=Km+500-Ge(),10<e)){if(Oc(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Fh(xs.bind(null,t,Ot,Zr),e);break}xs(t,Ot,Zr);break;case 4:if(On(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Sr(n);o=1<<a,a=e[a],a>s&&(s=a),n&=~o}if(n=s,n=Ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nE(n/1960))-n,10<n){t.timeoutHandle=Fh(xs.bind(null,t,Ot,Zr),n);break}xs(t,Ot,Zr);break;case 5:xs(t,Ot,Zr);break;default:throw Error(V(329))}}}return Lt(t,Ge()),t.callbackNode===r?j0.bind(null,t):null}function af(t,e){var r=wa;return t.current.memoizedState.isDehydrated&&(Ls(t,e).flags|=256),t=Jc(t,e),t!==2&&(e=Ot,Ot=r,e!==null&&lf(e)),t}function lf(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function sE(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Cr(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function On(t,e){for(e&=~Hm,e&=~Iu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Sr(e),n=1<<r;t[r]=-1,e&=~n}}function gv(t){if(_e&6)throw Error(V(327));Xo();var e=Oc(t,0);if(!(e&1))return Lt(t,Ge()),null;var r=Jc(t,e);if(t.tag!==0&&r===2){var n=Oh(t);n!==0&&(e=n,r=af(t,n))}if(r===1)throw r=Va,Ls(t,0),On(t,e),Lt(t,Ge()),r;if(r===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xs(t,Ot,Zr),Lt(t,Ge()),null}function qm(t,e){var r=_e;_e|=1;try{return t(e)}finally{_e=r,_e===0&&(ji=Ge()+500,Tu&&cs())}}function Hs(t){Wn!==null&&Wn.tag===0&&!(_e&6)&&Xo();var e=_e;_e|=1;var r=or.transition,n=Ee;try{if(or.transition=null,Ee=1,t)return t()}finally{Ee=n,or.transition=r,_e=e,!(_e&6)&&cs()}}function Gm(){$t=Vo.current,Ie(Vo)}function Ls(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Ik(r)),Ye!==null)for(r=Ye.return;r!==null;){var n=r;switch(Em(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mc();break;case 3:bi(),Ie(It),Ie(xt),Mm();break;case 5:Lm(n);break;case 4:bi();break;case 13:Ie(Fe);break;case 19:Ie(Fe);break;case 10:Om(n.type._context);break;case 22:case 23:Gm()}r=r.return}if(at=t,Ye=t=Zn(t.current,null),dt=$t=e,rt=0,Va=null,Hm=Iu=Ws=0,Ot=wa=null,Ss!==null){for(e=0;e<Ss.length;e++)if(r=Ss[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}Ss=null}return t}function S0(t,e){do{var r=Ye;try{if(Rm(),vc.current=Kc,Hc){for(var n=ze.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Hc=!1}if(Vs=0,ot=tt=ze=null,ya=!1,Fa=0,Wm.current=null,r===null||r.return===null){rt=1,Va=e,Ye=null;break}e:{var o=t,a=r.return,l=r,c=e;if(e=dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=nv(a);if(p!==null){p.flags&=-257,sv(p,a,l,o,e),p.mode&1&&rv(o,u,e),e=p,c=u;var b=e.updateQueue;if(b===null){var v=new Set;v.add(c),e.updateQueue=v}else b.add(c);break e}else{if(!(e&1)){rv(o,u,e),Qm();break e}c=Error(V(426))}}else if($e&&l.mode&1){var w=nv(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),sv(w,a,l,o,e),Pm(_i(c,l));break e}}o=c=_i(c,l),rt!==4&&(rt=2),wa===null?wa=[o]:wa.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=a0(o,c,e);Jg(o,y);break e;case 1:l=c;var g=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yn===null||!Yn.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=l0(o,l,e);Jg(o,_);break e}}o=o.return}while(o!==null)}k0(r)}catch(j){e=j,Ye===r&&r!==null&&(Ye=r=r.return);continue}break}while(!0)}function N0(){var t=qc.current;return qc.current=Kc,t===null?Kc:t}function Qm(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||!(Ws&268435455)&&!(Iu&268435455)||On(at,dt)}function Jc(t,e){var r=_e;_e|=2;var n=N0();(at!==t||dt!==e)&&(Zr=null,Ls(t,e));do try{oE();break}catch(s){S0(t,s)}while(!0);if(Rm(),_e=r,qc.current=n,Ye!==null)throw Error(V(261));return at=null,dt=0,rt}function oE(){for(;Ye!==null;)C0(Ye)}function iE(){for(;Ye!==null&&!RC();)C0(Ye)}function C0(t){var e=P0(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?k0(t):Ye=e,Wm.current=null}function k0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Zk(r,e),r!==null){r.flags&=32767,Ye=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ye=null;return}}else if(r=Xk(r,e,$t),r!==null){Ye=r;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);rt===0&&(rt=5)}function xs(t,e,r){var n=Ee,s=or.transition;try{or.transition=null,Ee=1,aE(t,e,r,n)}finally{or.transition=s,Ee=n}return null}function aE(t,e,r,n){do Xo();while(Wn!==null);if(_e&6)throw Error(V(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(BC(t,o),t===at&&(Ye=at=null,dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kl||(Kl=!0,T0(Rc,function(){return Xo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=or.transition,or.transition=null;var a=Ee;Ee=1;var l=_e;_e|=4,Wm.current=null,tE(t,r),b0(r,t),kk($h),Ac=!!Mh,$h=Mh=null,t.current=r,rE(r),OC(),_e=l,Ee=a,or.transition=o}else t.current=r;if(Kl&&(Kl=!1,Wn=t,Qc=s),o=t.pendingLanes,o===0&&(Yn=null),DC(r.stateNode),Lt(t,Ge()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Gc)throw Gc=!1,t=sf,sf=null,t;return Qc&1&&t.tag!==0&&Xo(),o=t.pendingLanes,o&1?t===of?ba++:(ba=0,of=t):ba=0,cs(),null}function Xo(){if(Wn!==null){var t=aw(Qc),e=or.transition,r=Ee;try{if(or.transition=null,Ee=16>t?16:t,Wn===null)var n=!1;else{if(t=Wn,Wn=null,Qc=0,_e&6)throw Error(V(331));var s=_e;for(_e|=4,Y=t.current;Y!==null;){var o=Y,a=o.child;if(Y.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:xa(8,d,o)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var m=d.sibling,p=d.return;if(y0(d),d===u){Y=null;break}if(m!==null){m.return=p,Y=m;break}Y=p}}}var b=o.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Y=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Y=a;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xa(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Y=y;break e}Y=o.return}}var g=t.current;for(Y=g;Y!==null;){a=Y;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Y=x;else e:for(a=g;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Au(9,l)}}catch(j){He(l,l.return,j)}if(l===a){Y=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Y=_;break e}Y=l.return}}if(_e=s,cs(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Nu,t)}catch{}n=!0}return n}finally{Ee=r,or.transition=e}}return!1}function vv(t,e,r){e=_i(r,e),e=a0(t,e,1),t=Jn(t,e,1),e=Nt(),t!==null&&(ul(t,1,e),Lt(t,e))}function He(t,e,r){if(t.tag===3)vv(t,t,r);else for(;e!==null;){if(e.tag===3){vv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yn===null||!Yn.has(n))){t=_i(r,t),t=l0(e,t,1),e=Jn(e,t,1),t=Nt(),e!==null&&(ul(e,1,t),Lt(e,t));break}}e=e.return}}function lE(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&r,at===t&&(dt&r)===r&&(rt===4||rt===3&&(dt&130023424)===dt&&500>Ge()-Km?Ls(t,0):Hm|=r),Lt(t,e)}function E0(t,e){e===0&&(t.mode&1?(e=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):e=1);var r=Nt();t=un(t,e),t!==null&&(ul(t,e,r),Lt(t,r))}function cE(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),E0(t,r)}function uE(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(e),E0(t,r)}var P0;P0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)At=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return At=!1,Yk(t,e,r);At=!!(t.flags&131072)}else At=!1,$e&&e.flags&1048576&&Aw(e,Fc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;xc(t,e),t=e.pendingProps;var s=yi(e,xt.current);Yo(e,r),s=Um(null,e,n,t,s,r);var o=Fm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dt(n)?(o=!0,$c(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Im(e),s.updater=Ou,e.stateNode=s,s._reactInternals=e,qh(e,n,t,r),e=Jh(null,e,n,!0,o,r)):(e.tag=0,$e&&o&&km(e),jt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(xc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=hE(n),t=vr(n,t),s){case 0:e=Qh(null,e,n,t,r);break e;case 1:e=av(null,e,n,t,r);break e;case 11:e=ov(null,e,n,t,r);break e;case 14:e=iv(null,e,n,vr(n.type,t),r);break e}throw Error(V(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vr(n,s),Qh(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vr(n,s),av(t,e,n,s,r);case 3:e:{if(h0(e),t===null)throw Error(V(387));n=e.pendingProps,o=e.memoizedState,s=o.element,Uw(t,e),Vc(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=_i(Error(V(423)),e),e=lv(t,e,n,r,s);break e}else if(n!==s){s=_i(Error(V(424)),e),e=lv(t,e,n,r,s);break e}else for(zt=Qn(e.stateNode.containerInfo.firstChild),Vt=e,$e=!0,jr=null,r=Mw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xi(),n===s){e=dn(t,e,r);break e}jt(t,e,n,r)}e=e.child}return e;case 5:return Fw(e),t===null&&Wh(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,Uh(n,s)?a=null:o!==null&&Uh(n,o)&&(e.flags|=32),d0(t,e),jt(t,e,a,r),e.child;case 6:return t===null&&Wh(e),null;case 13:return f0(t,e,r);case 4:return Dm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=wi(e,null,n,r):jt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vr(n,s),ov(t,e,n,s,r);case 7:return jt(t,e,e.pendingProps,r),e.child;case 8:return jt(t,e,e.pendingProps.children,r),e.child;case 12:return jt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,Te(Bc,n._currentValue),n._currentValue=a,o!==null)if(Cr(o.value,a)){if(o.children===s.children&&!It.current){e=dn(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=an(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Hh(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(V(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Hh(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}jt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Yo(e,r),s=cr(s),n=n(s),e.flags|=1,jt(t,e,n,r),e.child;case 14:return n=e.type,s=vr(n,e.pendingProps),s=vr(n.type,s),iv(t,e,n,s,r);case 15:return c0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vr(n,s),xc(t,e),e.tag=1,Dt(n)?(t=!0,$c(e)):t=!1,Yo(e,r),i0(e,n,s),qh(e,n,s,r),Jh(null,e,n,!0,t,r);case 19:return m0(t,e,r);case 22:return u0(t,e,r)}throw Error(V(156,e.tag))};function T0(t,e){return nw(t,e)}function dE(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,r,n){return new dE(t,e,r,n)}function Jm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hE(t){if(typeof t=="function")return Jm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pm)return 11;if(t===gm)return 14}return 2}function Zn(t,e){var r=t.alternate;return r===null?(r=sr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function _c(t,e,r,n,s,o){var a=2;if(n=t,typeof t=="function")Jm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ao:return Ms(r.children,s,o,e);case mm:a=8,s|=8;break;case vh:return t=sr(12,r,e,s|2),t.elementType=vh,t.lanes=o,t;case yh:return t=sr(13,r,e,s),t.elementType=yh,t.lanes=o,t;case xh:return t=sr(19,r,e,s),t.elementType=xh,t.lanes=o,t;case Fx:return Du(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $x:a=10;break e;case Ux:a=9;break e;case pm:a=11;break e;case gm:a=14;break e;case Pn:a=16,n=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=sr(a,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function Ms(t,e,r,n){return t=sr(7,t,n,e),t.lanes=r,t}function Du(t,e,r,n){return t=sr(22,t,n,e),t.elementType=Fx,t.lanes=r,t.stateNode={isHidden:!1},t}function zd(t,e,r){return t=sr(6,t,null,e),t.lanes=r,t}function Vd(t,e,r){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fE(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jd(0),this.expirationTimes=jd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ym(t,e,r,n,s,o,a,l,c){return t=new fE(t,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Im(o),t}function mE(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function R0(t){if(!t)return ss;t=t._reactInternals;e:{if(so(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var r=t.type;if(Dt(r))return Rw(t,r,e)}return e}function O0(t,e,r,n,s,o,a,l,c){return t=Ym(r,n,!0,t,s,o,a,l,c),t.context=R0(null),r=t.current,n=Nt(),s=Xn(r),o=an(n,s),o.callback=e??null,Jn(r,o,s),t.current.lanes=s,ul(t,s,n),Lt(t,n),t}function Lu(t,e,r,n){var s=e.current,o=Nt(),a=Xn(s);return r=R0(r),e.context===null?e.context=r:e.pendingContext=r,e=an(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Jn(s,e,a),t!==null&&(Nr(t,s,a,o),gc(t,s,a)),a}function Yc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Xm(t,e){yv(t,e),(t=t.alternate)&&yv(t,e)}function pE(){return null}var A0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zm(t){this._internalRoot=t}Mu.prototype.render=Zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));Lu(t,e,null,null)};Mu.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hs(function(){Lu(null,t,null,null)}),e[cn]=null}};function Mu(t){this._internalRoot=t}Mu.prototype.unstable_scheduleHydration=function(t){if(t){var e=uw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rn.length&&e!==0&&e<Rn[r].priority;r++);Rn.splice(r,0,t),r===0&&hw(t)}};function ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xv(){}function gE(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Yc(a);o.call(u)}}var a=O0(e,n,t,0,null,!1,!1,"",xv);return t._reactRootContainer=a,t[cn]=a.current,Da(t.nodeType===8?t.parentNode:t),Hs(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Yc(c);l.call(u)}}var c=Ym(t,0,!1,null,null,!1,!1,"",xv);return t._reactRootContainer=c,t[cn]=c.current,Da(t.nodeType===8?t.parentNode:t),Hs(function(){Lu(e,c,r,n)}),c}function Uu(t,e,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Yc(a);l.call(c)}}Lu(e,a,t,s)}else a=gE(r,e,t,s,n);return Yc(a)}lw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=aa(e.pendingLanes);r!==0&&(xm(e,r|1),Lt(e,Ge()),!(_e&6)&&(ji=Ge()+500,cs()))}break;case 13:Hs(function(){var n=un(t,1);if(n!==null){var s=Nt();Nr(n,t,1,s)}}),Xm(t,1)}};wm=function(t){if(t.tag===13){var e=un(t,134217728);if(e!==null){var r=Nt();Nr(e,t,134217728,r)}Xm(t,134217728)}};cw=function(t){if(t.tag===13){var e=Xn(t),r=un(t,e);if(r!==null){var n=Nt();Nr(r,t,e,n)}Xm(t,e)}};uw=function(){return Ee};dw=function(t,e){var r=Ee;try{return Ee=t,e()}finally{Ee=r}};Ph=function(t,e,r){switch(e){case"input":if(_h(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Pu(n);if(!s)throw Error(V(90));zx(n),_h(n,s)}}}break;case"textarea":Wx(t,r);break;case"select":e=r.value,e!=null&&qo(t,!!r.multiple,e,!1)}};Yx=qm;Xx=Hs;var vE={usingClientEntryPoint:!1,Events:[hl,Mo,Pu,Qx,Jx,qm]},ea={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yE={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tw(t),t===null?null:t.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||pE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Nu=ql.inject(yE),Ur=ql}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vE;Gt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ep(e))throw Error(V(200));return mE(t,e,null,r)};Gt.createRoot=function(t,e){if(!ep(t))throw Error(V(299));var r=!1,n="",s=A0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ym(t,1,!1,null,null,r,!1,n,s),t[cn]=e.current,Da(t.nodeType===8?t.parentNode:t),new Zm(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=tw(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return Hs(t)};Gt.hydrate=function(t,e,r){if(!$u(e))throw Error(V(200));return Uu(null,t,e,!0,r)};Gt.hydrateRoot=function(t,e,r){if(!ep(t))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=A0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=O0(e,null,t,1,r??null,s,!1,o,a),t[cn]=e.current,Da(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Mu(e)};Gt.render=function(t,e,r){if(!$u(e))throw Error(V(200));return Uu(null,t,e,!1,r)};Gt.unmountComponentAtNode=function(t){if(!$u(t))throw Error(V(40));return t._reactRootContainer?(Hs(function(){Uu(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1};Gt.unstable_batchedUpdates=qm;Gt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!$u(r))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Uu(t,e,r,!1,n)};Gt.version="18.3.1-next-f1338f8080-20240426";function I0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I0)}catch(t){console.error(t)}}I0(),Ix.exports=Gt;var Mi=Ix.exports;const xE=bx(Mi);var D0,wv=Mi;D0=wv.createRoot,wv.hydrateRoot;var ml=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ks=typeof window>"u"||"Deno"in globalThis;function Rt(){}function wE(t,e){return typeof t=="function"?t(e):t}function cf(t){return typeof t=="number"&&t>=0&&t!==1/0}function L0(t,e){return Math.max(t+(e||0)-Date.now(),0)}function es(t,e){return typeof t=="function"?t(e):t}function er(t,e){return typeof t=="function"?t(e):t}function bv(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:a,stale:l}=t;if(a){if(n){if(e.queryHash!==tp(a,e.options))return!1}else if(!Ha(e.queryKey,a))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||o&&!o(e))}function _v(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Wa(e.options.mutationKey)!==Wa(o))return!1}else if(!Ha(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function tp(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wa)(t)}function Wa(t){return JSON.stringify(t,(e,r)=>df(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ha(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Ha(t[r],e[r])):!1}function M0(t,e){if(t===e)return t;const r=jv(t)&&jv(e);if(r||df(t)&&df(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),a=o.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<a;d++){const h=r?d:o[d];(!r&&c.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=M0(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function uf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function jv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function df(t){if(!Sv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Sv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Sv(t){return Object.prototype.toString.call(t)==="[object Object]"}function bE(t){return new Promise(e=>{setTimeout(e,t)})}function hf(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?M0(t,e):e}function _E(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function jE(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var rp=Symbol();function $0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===rp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function SE(t,e){return typeof t=="function"?t(...e):!!t}var ks,Dn,oi,dx,NE=(dx=class extends ml{constructor(){super();ie(this,ks);ie(this,Dn);ie(this,oi);X(this,oi,e=>{if(!Ks&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){P(this,Dn)||this.setEventListener(P(this,oi))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Dn))==null||e.call(this),X(this,Dn,void 0))}setEventListener(e){var r;X(this,oi,e),(r=P(this,Dn))==null||r.call(this),X(this,Dn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){P(this,ks)!==e&&(X(this,ks,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof P(this,ks)=="boolean"?P(this,ks):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ks=new WeakMap,Dn=new WeakMap,oi=new WeakMap,dx),np=new NE,ii,Ln,ai,hx,CE=(hx=class extends ml{constructor(){super();ie(this,ii,!0);ie(this,Ln);ie(this,ai);X(this,ai,e=>{if(!Ks&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){P(this,Ln)||this.setEventListener(P(this,ai))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Ln))==null||e.call(this),X(this,Ln,void 0))}setEventListener(e){var r;X(this,ai,e),(r=P(this,Ln))==null||r.call(this),X(this,Ln,e(this.setOnline.bind(this)))}setOnline(e){P(this,ii)!==e&&(X(this,ii,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return P(this,ii)}},ii=new WeakMap,Ln=new WeakMap,ai=new WeakMap,hx),Xc=new CE;function ff(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function kE(t){return Math.min(1e3*2**t,3e4)}function U0(t){return(t??"online")==="online"?Xc.isOnline():!0}var F0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Wd(t){return t instanceof F0}function B0(t){let e=!1,r=0,n=!1,s;const o=ff(),a=v=>{var w;n||(m(new F0(v)),(w=t.abort)==null||w.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>np.isFocused()&&(t.networkMode==="always"||Xc.isOnline())&&t.canRun(),d=()=>U0(t.networkMode)&&t.canRun(),h=v=>{var w;n||(n=!0,(w=t.onSuccess)==null||w.call(t,v),s==null||s(),o.resolve(v))},m=v=>{var w;n||(n=!0,(w=t.onError)==null||w.call(t,v),s==null||s(),o.reject(v))},p=()=>new Promise(v=>{var w;s=y=>{(n||u())&&v(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var v;s=void 0,n||(v=t.onContinue)==null||v.call(t)}),b=()=>{if(n)return;let v;const w=r===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var S;if(n)return;const g=t.retry??(Ks?0:3),x=t.retryDelay??kE,_=typeof x=="function"?x(r,y):x,j=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,y);if(e||!j){m(y);return}r++,(S=t.onFail)==null||S.call(t,r,y),bE(_).then(()=>u()?void 0:p()).then(()=>{e?m(y):b()})})};return{promise:o,cancel:a,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),o)}}var EE=t=>setTimeout(t,0);function PE(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=EE;const o=l=>{e?t.push(l):s(()=>{r(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ut=PE(),Es,fx,z0=(fx=class{constructor(){ie(this,Es)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cf(this.gcTime)&&X(this,Es,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ks?1/0:5*60*1e3))}clearGcTimeout(){P(this,Es)&&(clearTimeout(P(this,Es)),X(this,Es,void 0))}},Es=new WeakMap,fx),li,Ps,Xt,Ts,gt,ol,Rs,xr,Xr,mx,TE=(mx=class extends z0{constructor(e){super();ie(this,xr);ie(this,li);ie(this,Ps);ie(this,Xt);ie(this,Ts);ie(this,gt);ie(this,ol);ie(this,Rs);X(this,Rs,!1),X(this,ol,e.defaultOptions),this.setOptions(e.options),this.observers=[],X(this,Ts,e.client),X(this,Xt,P(this,Ts).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,X(this,li,RE(this.options)),this.state=e.state??P(this,li),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=P(this,gt))==null?void 0:e.promise}setOptions(e){this.options={...P(this,ol),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Xt).remove(this)}setData(e,r){const n=hf(this.state.data,e,this.options);return xe(this,xr,Xr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){xe(this,xr,Xr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=P(this,gt))==null?void 0:n.promise;return(s=P(this,gt))==null||s.cancel(e),r?r.then(Rt).catch(Rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,li))}isActive(){return this.observers.some(e=>er(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>es(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!L0(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=P(this,gt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=P(this,gt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(this,Xt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(P(this,gt)&&(P(this,Rs)?P(this,gt).cancel({revert:!0}):P(this,gt).cancelRetry()),this.scheduleGc()),P(this,Xt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xe(this,xr,Xr).call(this,{type:"invalidate"})}fetch(e,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,gt))return P(this,gt).continueRetry(),P(this,gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(X(this,Rs,!0),n.signal)})},o=()=>{const m=$0(this.options,r),b=(()=>{const v={client:P(this,Ts),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return X(this,Rs,!1),this.options.persister?this.options.persister(m,b,this):m(b)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:P(this,Ts),state:this.state,fetchFn:o};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),X(this,Ps,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&xe(this,xr,Xr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var p,b,v,w;Wd(m)&&m.silent||xe(this,xr,Xr).call(this,{type:"error",error:m}),Wd(m)||((b=(p=P(this,Xt).config).onError)==null||b.call(p,m,this),(w=(v=P(this,Xt).config).onSettled)==null||w.call(v,this.state.data,m,this)),this.scheduleGc()};return X(this,gt,B0({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,b,v,w;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(b=(p=P(this,Xt).config).onSuccess)==null||b.call(p,m,this),(w=(v=P(this,Xt).config).onSettled)==null||w.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{xe(this,xr,Xr).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{xe(this,xr,Xr).call(this,{type:"pause"})},onContinue:()=>{xe(this,xr,Xr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),P(this,gt).start()}},li=new WeakMap,Ps=new WeakMap,Xt=new WeakMap,Ts=new WeakMap,gt=new WeakMap,ol=new WeakMap,Rs=new WeakMap,xr=new WeakSet,Xr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...V0(n.data,this.options),fetchMeta:e.meta??null};case"success":return X(this,Ps,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Wd(s)&&s.revert&&P(this,Ps)?{...P(this,Ps),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ut.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),P(this,Xt).notify({query:this,type:"updated",action:e})})},mx);function V0(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ar,px,OE=(px=class extends ml{constructor(e={}){super();ie(this,Ar);this.config=e,X(this,Ar,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??tp(s,r);let a=this.get(o);return a||(a=new TE({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){P(this,Ar).has(e.queryHash)||(P(this,Ar).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=P(this,Ar).get(e.queryHash);r&&(e.destroy(),r===e&&P(this,Ar).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,Ar).get(e)}getAll(){return[...P(this,Ar).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>bv(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>bv(e,n)):r}notify(e){ut.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ar=new WeakMap,px),Ir,bt,Os,Dr,Nn,gx,AE=(gx=class extends z0{constructor(e){super();ie(this,Dr);ie(this,Ir);ie(this,bt);ie(this,Os);this.mutationId=e.mutationId,X(this,bt,e.mutationCache),X(this,Ir,[]),this.state=e.state||IE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(this,Ir).includes(e)||(P(this,Ir).push(e),this.clearGcTimeout(),P(this,bt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){X(this,Ir,P(this,Ir).filter(r=>r!==e)),this.scheduleGc(),P(this,bt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(this,Ir).length||(this.state.status==="pending"?this.scheduleGc():P(this,bt).remove(this))}continue(){var e;return((e=P(this,Os))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,d,h,m,p,b,v,w,y,g,x,_,j,S,N,E;const r=()=>{xe(this,Dr,Nn).call(this,{type:"continue"})};X(this,Os,B0({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{xe(this,Dr,Nn).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{xe(this,Dr,Nn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,bt).canRun(this)}));const n=this.state.status==="pending",s=!P(this,Os).canStart();try{if(n)r();else{xe(this,Dr,Nn).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=P(this,bt).config).onMutate)==null?void 0:a.call(o,e,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));R!==this.state.context&&xe(this,Dr,Nn).call(this,{type:"pending",context:R,variables:e,isPaused:s})}const T=await P(this,Os).start();return await((d=(u=P(this,bt).config).onSuccess)==null?void 0:d.call(u,T,e,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,T,e,this.state.context)),await((b=(p=P(this,bt).config).onSettled)==null?void 0:b.call(p,T,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,T,null,e,this.state.context)),xe(this,Dr,Nn).call(this,{type:"success",data:T}),T}catch(T){try{throw await((g=(y=P(this,bt).config).onError)==null?void 0:g.call(y,T,e,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,T,e,this.state.context)),await((S=(j=P(this,bt).config).onSettled)==null?void 0:S.call(j,void 0,T,this.state.variables,this.state.context,this)),await((E=(N=this.options).onSettled)==null?void 0:E.call(N,void 0,T,e,this.state.context)),T}finally{xe(this,Dr,Nn).call(this,{type:"error",error:T})}}finally{P(this,bt).runNext(this)}}},Ir=new WeakMap,bt=new WeakMap,Os=new WeakMap,Dr=new WeakSet,Nn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ut.batch(()=>{P(this,Ir).forEach(n=>{n.onMutationUpdate(e)}),P(this,bt).notify({mutation:this,type:"updated",action:e})})},gx);function IE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rn,wr,il,vx,DE=(vx=class extends ml{constructor(e={}){super();ie(this,rn);ie(this,wr);ie(this,il);this.config=e,X(this,rn,new Set),X(this,wr,new Map),X(this,il,0)}build(e,r,n){const s=new AE({mutationCache:this,mutationId:++Tl(this,il)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){P(this,rn).add(e);const r=Gl(e);if(typeof r=="string"){const n=P(this,wr).get(r);n?n.push(e):P(this,wr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(this,rn).delete(e)){const r=Gl(e);if(typeof r=="string"){const n=P(this,wr).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&P(this,wr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Gl(e);if(typeof r=="string"){const n=P(this,wr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Gl(e);if(typeof r=="string"){const s=(n=P(this,wr).get(r))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ut.batch(()=>{P(this,rn).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(this,rn).clear(),P(this,wr).clear()})}getAll(){return Array.from(P(this,rn))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>_v(r,n))}findAll(e={}){return this.getAll().filter(r=>_v(e,r))}notify(e){ut.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ut.batch(()=>Promise.all(e.map(r=>r.continue().catch(Rt))))}},rn=new WeakMap,wr=new WeakMap,il=new WeakMap,vx);function Gl(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Nv(t){return{onFetch:(e,r)=>{var d,h,m,p,b;const n=e.options,s=(m=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],a=((b=e.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},y=$0(e.options,e.fetchOptions),g=async(x,_,j)=>{if(v)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const N=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:_,direction:j?"backward":"forward",meta:e.options.meta};return w(A),A})(),E=await y(N),{maxPages:T}=e.options,R=j?jE:_E;return{pages:R(x.pages,E,T),pageParams:R(x.pageParams,_,T)}};if(s&&o.length){const x=s==="backward",_=x?LE:Cv,j={pages:o,pageParams:a},S=_(n,j);l=await g(j,S,x)}else{const x=t??o.length;do{const _=c===0?a[0]??n.initialPageParam:Cv(n,l);if(c>0&&_==null)break;l=await g(l,_),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Cv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function LE(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var We,Mn,$n,ci,ui,Un,di,hi,yx,ME=(yx=class{constructor(t={}){ie(this,We);ie(this,Mn);ie(this,$n);ie(this,ci);ie(this,ui);ie(this,Un);ie(this,di);ie(this,hi);X(this,We,t.queryCache||new OE),X(this,Mn,t.mutationCache||new DE),X(this,$n,t.defaultOptions||{}),X(this,ci,new Map),X(this,ui,new Map),X(this,Un,0)}mount(){Tl(this,Un)._++,P(this,Un)===1&&(X(this,di,np.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,We).onFocus())})),X(this,hi,Xc.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,We).onOnline())})))}unmount(){var t,e;Tl(this,Un)._--,P(this,Un)===0&&((t=P(this,di))==null||t.call(this),X(this,di,void 0),(e=P(this,hi))==null||e.call(this),X(this,hi,void 0))}isFetching(t){return P(this,We).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,Mn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=P(this,We).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=P(this,We).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(es(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return P(this,We).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=P(this,We).get(n.queryHash),o=s==null?void 0:s.state.data,a=wE(e,o);if(a!==void 0)return P(this,We).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return ut.batch(()=>P(this,We).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=P(this,We).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=P(this,We);ut.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=P(this,We);return ut.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ut.batch(()=>P(this,We).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Rt).catch(Rt)}invalidateQueries(t,e={}){return ut.batch(()=>(P(this,We).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ut.batch(()=>P(this,We).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Rt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Rt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=P(this,We).build(this,e);return r.isStaleByTime(es(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rt).catch(Rt)}fetchInfiniteQuery(t){return t.behavior=Nv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rt).catch(Rt)}ensureInfiniteQueryData(t){return t.behavior=Nv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xc.isOnline()?P(this,Mn).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,We)}getMutationCache(){return P(this,Mn)}getDefaultOptions(){return P(this,$n)}setDefaultOptions(t){X(this,$n,t)}setQueryDefaults(t,e){P(this,ci).set(Wa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,ci).values()],r={};return e.forEach(n=>{Ha(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){P(this,ui).set(Wa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,ui).values()],r={};return e.forEach(n=>{Ha(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...P(this,$n).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=tp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===rp&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,$n).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,We).clear(),P(this,Mn).clear()}},We=new WeakMap,Mn=new WeakMap,$n=new WeakMap,ci=new WeakMap,ui=new WeakMap,Un=new WeakMap,di=new WeakMap,hi=new WeakMap,yx),Tt,we,al,_t,As,fi,Fn,Bn,ll,mi,pi,Is,Ds,zn,gi,Ce,ca,mf,pf,gf,vf,yf,xf,wf,W0,xx,$E=(xx=class extends ml{constructor(e,r){super();ie(this,Ce);ie(this,Tt);ie(this,we);ie(this,al);ie(this,_t);ie(this,As);ie(this,fi);ie(this,Fn);ie(this,Bn);ie(this,ll);ie(this,mi);ie(this,pi);ie(this,Is);ie(this,Ds);ie(this,zn);ie(this,gi,new Set);this.options=r,X(this,Tt,e),X(this,Bn,null),X(this,Fn,ff()),this.options.experimental_prefetchInRender||P(this,Fn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,we).addObserver(this),kv(P(this,we),this.options)?xe(this,Ce,ca).call(this):this.updateResult(),xe(this,Ce,vf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bf(P(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bf(P(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xe(this,Ce,yf).call(this),xe(this,Ce,xf).call(this),P(this,we).removeObserver(this)}setOptions(e){const r=this.options,n=P(this,we);if(this.options=P(this,Tt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof er(this.options.enabled,P(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xe(this,Ce,wf).call(this),P(this,we).setOptions(this.options),r._defaulted&&!uf(this.options,r)&&P(this,Tt).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,we),observer:this});const s=this.hasListeners();s&&Ev(P(this,we),n,this.options,r)&&xe(this,Ce,ca).call(this),this.updateResult(),s&&(P(this,we)!==n||er(this.options.enabled,P(this,we))!==er(r.enabled,P(this,we))||es(this.options.staleTime,P(this,we))!==es(r.staleTime,P(this,we)))&&xe(this,Ce,mf).call(this);const o=xe(this,Ce,pf).call(this);s&&(P(this,we)!==n||er(this.options.enabled,P(this,we))!==er(r.enabled,P(this,we))||o!==P(this,zn))&&xe(this,Ce,gf).call(this,o)}getOptimisticResult(e){const r=P(this,Tt).getQueryCache().build(P(this,Tt),e),n=this.createResult(r,e);return FE(this,n)&&(X(this,_t,n),X(this,fi,this.options),X(this,As,P(this,we).state)),n}getCurrentResult(){return P(this,_t)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(e){P(this,gi).add(e)}getCurrentQuery(){return P(this,we)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=P(this,Tt).defaultQueryOptions(e),n=P(this,Tt).getQueryCache().build(P(this,Tt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return xe(this,Ce,ca).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,_t)))}createResult(e,r){var T;const n=P(this,we),s=this.options,o=P(this,_t),a=P(this,As),l=P(this,fi),u=e!==n?e.state:P(this,al),{state:d}=e;let h={...d},m=!1,p;if(r._optimisticResults){const R=this.hasListeners(),A=!R&&kv(e,r),O=R&&Ev(e,n,r,s);(A||O)&&(h={...h,...V0(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:w}=h;p=h.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let R;o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(R=o.data,y=!0):R=typeof r.placeholderData=="function"?r.placeholderData((T=P(this,pi))==null?void 0:T.state.data,P(this,pi)):r.placeholderData,R!==void 0&&(w="success",p=hf(o==null?void 0:o.data,R,r),m=!0)}if(r.select&&p!==void 0&&!y)if(o&&p===(a==null?void 0:a.data)&&r.select===P(this,ll))p=P(this,mi);else try{X(this,ll,r.select),p=r.select(p),p=hf(o==null?void 0:o.data,p,r),X(this,mi,p),X(this,Bn,null)}catch(R){X(this,Bn,R)}P(this,Bn)&&(b=P(this,Bn),p=P(this,mi),v=Date.now(),w="error");const g=h.fetchStatus==="fetching",x=w==="pending",_=w==="error",j=x&&g,S=p!==void 0,E={status:w,fetchStatus:h.fetchStatus,isPending:x,isSuccess:w==="success",isError:_,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:_&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&S,isStale:sp(e,r),refetch:this.refetch,promise:P(this,Fn),isEnabled:er(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=U=>{E.status==="error"?U.reject(E.error):E.data!==void 0&&U.resolve(E.data)},A=()=>{const U=X(this,Fn,E.promise=ff());R(U)},O=P(this,Fn);switch(O.status){case"pending":e.queryHash===n.queryHash&&R(O);break;case"fulfilled":(E.status==="error"||E.data!==O.value)&&A();break;case"rejected":(E.status!=="error"||E.error!==O.reason)&&A();break}}return E}updateResult(){const e=P(this,_t),r=this.createResult(P(this,we),this.options);if(X(this,As,P(this,we).state),X(this,fi,this.options),P(this,As).data!==void 0&&X(this,pi,P(this,we)),uf(r,e))return;X(this,_t,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!P(this,gi).size)return!0;const a=new Set(o??P(this,gi));return this.options.throwOnError&&a.add("error"),Object.keys(P(this,_t)).some(l=>{const c=l;return P(this,_t)[c]!==e[c]&&a.has(c)})};xe(this,Ce,W0).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xe(this,Ce,vf).call(this)}},Tt=new WeakMap,we=new WeakMap,al=new WeakMap,_t=new WeakMap,As=new WeakMap,fi=new WeakMap,Fn=new WeakMap,Bn=new WeakMap,ll=new WeakMap,mi=new WeakMap,pi=new WeakMap,Is=new WeakMap,Ds=new WeakMap,zn=new WeakMap,gi=new WeakMap,Ce=new WeakSet,ca=function(e){xe(this,Ce,wf).call(this);let r=P(this,we).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Rt)),r},mf=function(){xe(this,Ce,yf).call(this);const e=es(this.options.staleTime,P(this,we));if(Ks||P(this,_t).isStale||!cf(e))return;const n=L0(P(this,_t).dataUpdatedAt,e)+1;X(this,Is,setTimeout(()=>{P(this,_t).isStale||this.updateResult()},n))},pf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,we)):this.options.refetchInterval)??!1},gf=function(e){xe(this,Ce,xf).call(this),X(this,zn,e),!(Ks||er(this.options.enabled,P(this,we))===!1||!cf(P(this,zn))||P(this,zn)===0)&&X(this,Ds,setInterval(()=>{(this.options.refetchIntervalInBackground||np.isFocused())&&xe(this,Ce,ca).call(this)},P(this,zn)))},vf=function(){xe(this,Ce,mf).call(this),xe(this,Ce,gf).call(this,xe(this,Ce,pf).call(this))},yf=function(){P(this,Is)&&(clearTimeout(P(this,Is)),X(this,Is,void 0))},xf=function(){P(this,Ds)&&(clearInterval(P(this,Ds)),X(this,Ds,void 0))},wf=function(){const e=P(this,Tt).getQueryCache().build(P(this,Tt),this.options);if(e===P(this,we))return;const r=P(this,we);X(this,we,e),X(this,al,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},W0=function(e){ut.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(P(this,_t))}),P(this,Tt).getQueryCache().notify({query:P(this,we),type:"observerResultsUpdated"})})},xx);function UE(t,e){return er(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function kv(t,e){return UE(t,e)||t.state.data!==void 0&&bf(t,e,e.refetchOnMount)}function bf(t,e,r){if(er(e.enabled,t)!==!1&&es(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&sp(t,e)}return!1}function Ev(t,e,r,n){return(t!==e||er(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&sp(t,r)}function sp(t,e){return er(e.enabled,t)!==!1&&t.isStaleByTime(es(e.staleTime,t))}function FE(t,e){return!uf(t.getCurrentResult(),e)}var H0=f.createContext(void 0),BE=t=>{const e=f.useContext(H0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},zE=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(H0.Provider,{value:t,children:e})),K0=f.createContext(!1),VE=()=>f.useContext(K0);K0.Provider;function WE(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var HE=f.createContext(WE()),KE=()=>f.useContext(HE),qE=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},GE=t=>{f.useEffect(()=>{t.clearReset()},[t])},QE=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||SE(r,[t.error,n])),JE=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},YE=(t,e)=>t.isLoading&&t.isFetching&&!e,XE=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Pv=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function ZE(t,e,r){var h,m,p,b,v;const n=VE(),s=KE(),o=BE(),a=o.defaultQueryOptions(t);(m=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,a),a._optimisticResults=n?"isRestoring":"optimistic",JE(a),qE(a,s),GE(s);const l=!o.getQueryCache().get(a.queryHash),[c]=f.useState(()=>new e(o,a)),u=c.getOptimisticResult(a),d=!n&&t.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(w=>{const y=d?c.subscribe(ut.batchCalls(w)):Rt;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(a)},[a,c]),XE(a,u))throw Pv(a,c,s);if(QE({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((b=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||b.call(p,a,u),a.experimental_prefetchInRender&&!Ks&&YE(u,n)){const w=l?Pv(a,c,s):(v=o.getQueryCache().get(a.queryHash))==null?void 0:v.promise;w==null||w.catch(Rt).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function pl(t,e){return ZE(t,$E)}const le=t=>typeof t=="string",ta=()=>{let t,e;const r=new Promise((n,s)=>{t=n,e=s});return r.resolve=t,r.reject=e,r},Tv=t=>t==null?"":""+t,eP=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},tP=/###/g,Rv=t=>t&&t.indexOf("###")>-1?t.replace(tP,"."):t,Ov=t=>!t||le(t),_a=(t,e,r)=>{const n=le(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(Ov(t))return{};const o=Rv(n[s]);!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++s}return Ov(t)?{}:{obj:t,k:Rv(n[s])}},Av=(t,e,r)=>{const{obj:n,k:s}=_a(t,e,Object);if(n!==void 0||e.length===1){n[s]=r;return}let o=e[e.length-1],a=e.slice(0,e.length-1),l=_a(t,a,Object);for(;l.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),l=_a(t,a,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${o}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${o}`]=r},rP=(t,e,r,n)=>{const{obj:s,k:o}=_a(t,e,Object);s[o]=s[o]||[],s[o].push(r)},Zc=(t,e)=>{const{obj:r,k:n}=_a(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},nP=(t,e,r)=>{const n=Zc(t,r);return n!==void 0?n:Zc(e,r)},q0=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?le(t[n])||t[n]instanceof String||le(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):q0(t[n],e[n],r):t[n]=e[n]);return t},wo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var sP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const oP=t=>le(t)?t.replace(/[&<>"'\/]/g,e=>sP[e]):t;class iP{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const aP=[" ",",","?","!",";"],lP=new iP(20),cP=(t,e,r)=>{e=e||"",r=r||"";const n=aP.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const s=lP.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!s.test(t);if(!o){const a=t.indexOf(r);a>0&&!s.test(t.substring(0,a))&&(o=!0)}return o},_f=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let s=t;for(let o=0;o<n.length;){if(!s||typeof s!="object")return;let a,l="";for(let c=o;c<n.length;++c)if(c!==o&&(l+=r),l+=n[c],a=s[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;o+=c-o+1;break}s=a}return s},Ka=t=>t==null?void 0:t.replace("_","-"),uP={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class eu{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||uP,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,s){return s&&!this.debug?null:(le(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new eu(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new eu(this.logger,e)}}var Mr=new eu;class Fu{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,o])=>{for(let a=0;a<o;a++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,o])=>{for(let a=0;a<o;a++)s.apply(s,[e,...r])})}}class Iv extends Fu{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,s={}){var u,d;const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):le(n)&&o?l.push(...n.split(o)):l.push(n)));const c=Zc(this.data,l);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),c||!a||!le(n)?c:_f((d=(u=this.data)==null?void 0:u[e])==null?void 0:d[r],n,o)}addResource(e,r,n,s,o={silent:!1}){const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(l=e.split("."),s=r,r=l[1]),this.addNamespaces(r),Av(this.data,l,s),o.silent||this.emit("added",e,r,n,s)}addResources(e,r,n,s={silent:!1}){for(const o in n)(le(n[o])||Array.isArray(n[o]))&&this.addResource(e,r,o,n[o],{silent:!0});s.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,s,o,a={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),s=n,n=r,r=l[1]),this.addNamespaces(r);let c=Zc(this.data,l)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?q0(c,n,o):c={...c,...n},Av(this.data,l,c),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var G0={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,s){return t.forEach(o=>{var a;e=((a=this.processors[o])==null?void 0:a.process(e,r,n,s))??e}),e}};const Q0=Symbol("i18next/PATH_KEY");function dP(){const t=[],e=Object.create(null);let r;return e.get=(n,s)=>{var o;return(o=r==null?void 0:r.revoke)==null||o.call(r),s===Q0?t:(t.push(s),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function jf(t,e){const{[Q0]:r}=t(dP());return r.join((e==null?void 0:e.keySeparator)??".")}const Dv={},Hd=t=>!le(t)&&typeof t!="boolean"&&typeof t!="number";class tu extends Fu{constructor(e,r={}){super(),eP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Mr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const s=this.resolve(e,n);if((s==null?void 0:s.res)===void 0)return!1;const o=Hd(s.res);return!(n.returnObjects===!1&&o)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!cP(e,n,s);if(a&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:le(o)?[o]:o};const u=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(s)}return{key:e,namespaces:le(o)?[o]:o}}translate(e,r,n){let s=typeof r=="object"?{...r}:r;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=jf(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const o=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],s),u=c[c.length-1];let d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?o?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${d}${l}`:o?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:l;const p=this.resolve(e,s);let b=p==null?void 0:p.res;const v=(p==null?void 0:p.usedKey)||l,w=(p==null?void 0:p.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],g=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,_=s.count!==void 0&&!le(s.count),j=tu.hasDefaultValue(s),S=_?this.pluralResolver.getSuffix(h,s.count,s):"",N=s.ordinal&&_?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",E=_&&!s.ordinal&&s.count===0,T=E&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${S}`]||s[`defaultValue${N}`]||s.defaultValue;let R=b;x&&!b&&j&&(R=T);const A=Hd(R),O=Object.prototype.toString.apply(R);if(x&&R&&A&&y.indexOf(O)<0&&!(le(g)&&Array.isArray(R))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,R,{...s,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return o?(p.res=U,p.usedParams=this.getUsedParamsDetails(s),p):U}if(a){const U=Array.isArray(R),k=U?[]:{},B=U?w:v;for(const M in R)if(Object.prototype.hasOwnProperty.call(R,M)){const D=`${B}${a}${M}`;j&&!b?k[M]=this.translate(D,{...s,defaultValue:Hd(T)?T[M]:void 0,joinArrays:!1,ns:c}):k[M]=this.translate(D,{...s,joinArrays:!1,ns:c}),k[M]===D&&(k[M]=R[M])}b=k}}else if(x&&le(g)&&Array.isArray(b))b=b.join(g),b&&(b=this.extendTranslation(b,e,s,n));else{let U=!1,k=!1;!this.isValidLookup(b)&&j&&(U=!0,b=T),this.isValidLookup(b)||(k=!0,b=l);const M=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:b,D=j&&T!==b&&this.options.updateMissing;if(k||U||D){if(this.logger.log(D?"updateKey":"missingKey",h,u,l,D?T:b),a){const q=this.resolve(l,{...s,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&L&&L[0])for(let q=0;q<L.length;q++)I.push(L[q]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(s.lng||this.language):I.push(s.lng||this.language);const W=(q,Z,be)=>{var F;const je=j&&be!==b?be:M;this.options.missingKeyHandler?this.options.missingKeyHandler(q,u,Z,je,D,s):(F=this.backendConnector)!=null&&F.saveMissing&&this.backendConnector.saveMissing(q,u,Z,je,D,s),this.emit("missingKey",q,u,Z,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?I.forEach(q=>{const Z=this.pluralResolver.getSuffixes(q,s);E&&s[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(be=>{W([q],l+be,s[`defaultValue${be}`]||T)})}):W(I,l,T))}b=this.extendTranslation(b,e,s,p,n),k&&b===l&&this.options.appendNamespaceToMissingKey&&(b=`${u}${d}${l}`),(k||U)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,U?b:void 0,s))}return o?(p.res=b,p.usedParams=this.getUsedParamsDetails(s),p):b}extendTranslation(e,r,n,s,o){var c,u;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=le(e)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const p=e.match(this.interpolator.nestingRegexp);h=p&&p.length}let m=n.replace&&!le(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||s.usedLng,n),d){const p=e.match(this.interpolator.nestingRegexp),b=p&&p.length;h<b&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(o==null?void 0:o[0])===p[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):this.translate(...p,r),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=le(a)?[a]:a;return e!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(e=G0.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,s,o,a,l;return le(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;s=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=r.count!==void 0&&!le(r.count),p=m&&!r.ordinal&&r.count===0,b=r.context!==void 0&&(le(r.context)||typeof r.context=="number")&&r.context!=="",v=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(w=>{var y,g;this.isValidLookup(n)||(l=w,!Dv[`${v[0]}-${w}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((g=this.utils)!=null&&g.hasLoadedNamespace(l))&&(Dv[`${v[0]}-${w}`]=!0,this.logger.warn(`key "${s}" for languages "${v.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(x=>{var S;if(this.isValidLookup(n))return;a=x;const _=[d];if((S=this.i18nFormat)!=null&&S.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,x,w,r);else{let N;m&&(N=this.pluralResolver.getSuffix(x,r.count,r));const E=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(r.ordinal&&N.indexOf(T)===0&&_.push(d+N.replace(T,this.options.pluralSeparator)),_.push(d+N),p&&_.push(d+E)),b){const R=`${d}${this.options.contextSeparator||"_"}${r.context}`;_.push(R),m&&(r.ordinal&&N.indexOf(T)===0&&_.push(R+N.replace(T,this.options.pluralSeparator)),_.push(R+N),p&&_.push(R+E))}}let j;for(;j=_.pop();)this.isValidLookup(n)||(o=j,n=this.getResource(x,w,j,r))}))})}),{res:n,usedKey:s,exactUsedKey:o,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,s={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,r,n,s):this.resourceStore.getResource(e,r,n,s)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!le(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const o of r)delete s[o]}return s}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Lv{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Mr.create("languageUtils")}getScriptPartFromCode(e){if(e=Ka(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Ka(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(le(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const s=this.getScriptPartFromCode(n);if(this.isSupportedCode(s))return r=s;const o=this.getLanguagePartFromCode(n);if(this.isSupportedCode(o))return r=o;r=this.options.supportedLngs.find(a=>{if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&(a.indexOf("-")>0&&o.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===o||a.indexOf(o)===0&&o.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),le(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),s=[],o=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return le(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):le(e)&&o(this.formatLanguageCode(e)),n.forEach(a=>{s.indexOf(a)<0&&o(this.formatLanguageCode(a))}),s}}const Mv={zero:0,one:1,two:2,few:3,many:4,other:5},$v={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class hP{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Mr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=Ka(e==="dev"?"en":e),s=r.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),$v;if(!e.match(/-|_/))return $v;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,r)}return this.pluralRulesCache[o]=a,a}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(s=>`${r}${s}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((s,o)=>Mv[s]-Mv[o]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,r,n={}){const s=this.getRule(e,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Uv=(t,e,r,n=".",s=!0)=>{let o=nP(t,e,r);return!o&&s&&le(r)&&(o=_f(t,r,n),o===void 0&&(o=_f(e,r,n))),o},Kd=t=>t.replace(/\$/g,"$$$$");class fP{constructor(e={}){var r;this.logger=Mr.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:o,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:b,nestingSuffixEscaped:v,nestingOptionsSeparator:w,maxReplaces:y,alwaysFormat:g}=e.interpolation;this.escape=r!==void 0?r:oP,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?wo(o):a||"{{",this.suffix=l?wo(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?wo(m):p||wo("$t("),this.nestingSuffix=b?wo(b):v||wo(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=y||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,s){var p;let o,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=b=>{if(b.indexOf(this.formatSeparator)<0){const g=Uv(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(g,void 0,n,{...s,...r,interpolationkey:b}):g}const v=b.split(this.formatSeparator),w=v.shift().trim(),y=v.join(this.formatSeparator).trim();return this.format(Uv(r,c,w,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...s,...r,interpolationkey:w})};this.resetRegExp();const d=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((p=s==null?void 0:s.interpolation)==null?void 0:p.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Kd(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Kd(this.escape(b)):Kd(b)}].forEach(b=>{for(l=0;o=b.regex.exec(e);){const v=o[1].trim();if(a=u(v),a===void 0)if(typeof d=="function"){const y=d(e,o,s);a=le(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))a="";else if(h){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),a="";else!le(a)&&!this.useRawValueToEscape&&(a=Tv(a));const w=b.safeValue(a);if(e=e.replace(o[0],w),h?(b.regex.lastIndex+=a.length,b.regex.lastIndex-=o[0].length):b.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let s,o,a;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,a);const p=m.match(/'/g),b=m.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!b||b.length%2!==0)&&(m=m.replace(/'/g,'"'));try{a=JSON.parse(m),u&&(a={...u,...a})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${d}${m}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;s=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!le(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(c=s[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),o=r(l.call(this,s[1].trim(),a),a),o&&s[0]===e&&!le(o))return o;le(o)||(o=Tv(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),o=""),c.length&&(o=c.reduce((d,h)=>this.format(d,h,n.lng,{...n,interpolationkey:s[1].trim()}),o.trim())),e=e.replace(s[0],o),this.regexp.lastIndex=0}return e}}const mP=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},Fv=t=>{const e={};return(r,n,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const a=n+JSON.stringify(o);let l=e[a];return l||(l=t(Ka(n),s),e[a]=l),l(r)}},pP=t=>(e,r,n)=>t(Ka(r),n)(e);class gP{constructor(e={}){this.logger=Mr.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?Fv:pP;this.formats={number:n((s,o)=>{const a=new Intl.NumberFormat(s,{...o});return l=>a.format(l)}),currency:n((s,o)=>{const a=new Intl.NumberFormat(s,{...o,style:"currency"});return l=>a.format(l)}),datetime:n((s,o)=>{const a=new Intl.DateTimeFormat(s,{...o});return l=>a.format(l)}),relativetime:n((s,o)=>{const a=new Intl.RelativeTimeFormat(s,{...o});return l=>a.format(l,o.range||"day")}),list:n((s,o)=>{const a=new Intl.ListFormat(s,{...o});return l=>a.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Fv(r)}format(e,r,n,s={}){const o=r.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(l=>l.indexOf(")")>-1)){const l=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,l)].join(this.formatSeparator)}return o.reduce((l,c)=>{var h;const{formatName:u,formatOptions:d}=mP(c);if(this.formats[u]){let m=l;try{const p=((h=s==null?void 0:s.formatParams)==null?void 0:h[s.interpolationkey])||{},b=p.locale||p.lng||s.locale||s.lng||n;m=this.formats[u](l,b,{...d,...s,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const vP=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class yP extends Fu{constructor(e,r,n,s={}){var o,a;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=Mr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(a=(o=this.backend)==null?void 0:o.init)==null||a.call(o,n,s.backend,s)}queueLoad(e,r,n,s){const o={},a={},l={},c={};return e.forEach(u=>{let d=!0;r.forEach(h=>{const m=`${u}|${h}`;!n.reload&&this.store.hasResourceBundle(u,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?a[m]===void 0&&(a[m]=!0):(this.state[m]=1,d=!1,a[m]===void 0&&(a[m]=!0),o[m]===void 0&&(o[m]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const s=e.split("|"),o=s[0],a=s[1];r&&this.emit("failedLoading",o,a,r),!r&&n&&this.store.addResourceBundle(o,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{rP(c.loaded,[o],a),vP(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,s=0,o=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:s,wait:o,callback:a});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,s+1,o*2,a)},o);return}a(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(e,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,r,l)}prepareLoading(e,r,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();le(e)&&(e=this.languageUtils.toResolveHierarchy(e)),le(r)&&(r=[r]);const o=this.queueLoad(e,r,n,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),s=n[0],o=n[1];this.read(s,o,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${r}loading namespace ${o} for language ${s} failed`,a),!a&&l&&this.logger.log(`${r}loaded namespace ${o} for language ${s}`,l),this.loaded(e,a,l)})}saveMissing(e,r,n,s,o,a={},l=()=>{}){var c,u,d,h,m;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((m=this.backend)!=null&&m.create){const p={...a,isUpdate:o},b=this.backend.create.bind(this.backend);if(b.length<6)try{let v;b.length===5?v=b(e,r,n,s,p):v=b(e,r,n,s),v&&typeof v.then=="function"?v.then(w=>l(null,w)).catch(l):l(null,v)}catch(v){l(v)}else b(e,r,n,s,l,p)}!e||!e[0]||this.store.addResource(e[0],r,n,s)}}}const Bv=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),le(t[1])&&(e.defaultValue=t[1]),le(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),zv=t=>{var e,r;return le(t.ns)&&(t.ns=[t.ns]),le(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),le(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Ql=()=>{},xP=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class ja extends Fu{constructor(e={},r){if(super(),this.options=zv(e),this.services={},this.logger=Mr,this.modules={external:[]},xP(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(le(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Bv();this.options={...n,...this.options,...zv(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Mr.init(s(this.modules.logger),this.options):Mr.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=gP;const d=new Lv(this.options);this.store=new Iv(this.options.resources,this.options);const h=this.services;h.logger=Mr,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new hP(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=s(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new fP(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new yP(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...b)=>{this.emit(p,...b)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new tu(this.services,this.options),this.translator.on("*",(p,...b)=>{this.emit(p,...b)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ql),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=ta(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,r=Ql){var o,a;let n=r;const s=le(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};s?c(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(a=(o=this.options.preload)==null?void 0:o.forEach)==null||a.call(o,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,r,n){const s=ta();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Ql),this.services.backendConnector.reload(e,r,o=>{s.resolve(),n(o)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&G0.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=ta();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?this.isLanguageChangingTo===e&&(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},a=l=>{var d,h;!e&&!l&&this.services.languageDetector&&(l=[]);const c=le(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(le(l)?[l]:l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,u)),this.loadResources(u,m=>{o(m,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,r,n){const s=(o,a,...l)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([o,a].concat(l)):c={...a},c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(o)?d=o.map(h=>(typeof h=="function"&&(h=jf(h,{...this.options,...a})),`${c.keyPrefix}${u}${h}`)):(typeof o=="function"&&(o=jf(o,{...this.options,...a})),d=c.keyPrefix?`${c.keyPrefix}${u}${o}`:o),this.t(d,c)};return le(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!s||a(o,e)))}loadNamespaces(e,r){const n=ta();return this.options.ns?(le(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=ta();le(e)&&(e=[e]);const s=this.options.preload||[],o=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=s.concat(o),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){var s,o;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((o=this.services)==null?void 0:o.languageUtils)||new Lv(Bv());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new ja(e,r);return n.createInstance=ja.createInstance,n}cloneInstance(e={},r=Ql){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new ja(s);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});o.store=new Iv(l,s),o.services.resourceStore=o.store}return o.translator=new tu(o.services,s),o.translator.on("*",(l,...c)=>{o.emit(l,...c)}),o.init(s,r),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Be=ja.createInstance();Be.createInstance;Be.dir;Be.init;Be.loadResources;Be.reloadResources;Be.use;Be.changeLanguage;Be.getFixedT;Be.t;Be.exists;Be.setDefaultNamespace;Be.hasLoadedNamespace;Be.loadNamespaces;Be.loadLanguages;const wP=(t,e,r,n)=>{var o,a,l,c;const s=[r,{code:e,...n||{}}];if((a=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&a.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);qs(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(c=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&c.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Vv={},J0=(t,e,r,n)=>{qs(r)&&Vv[r]||(qs(r)&&(Vv[r]=new Date),wP(t,e,r,n))},Y0=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},Sf=(t,e,r)=>{t.loadNamespaces(e,Y0(t,r))},Wv=(t,e,r,n)=>{if(qs(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Sf(t,r,n);r.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,Y0(t,n))},bP=(t,e,r={})=>!e.languages||!e.languages.length?(J0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,t))return!1}}),qs=t=>typeof t=="string",_P=t=>typeof t=="object"&&t!==null,jP=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,SP={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},NP=t=>SP[t],CP=t=>t.replace(jP,NP);let Nf={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:CP};const kP=(t={})=>{Nf={...Nf,...t}},EP=()=>Nf;let X0;const PP=t=>{X0=t},TP=()=>X0,RP={type:"3rdParty",init(t){kP(t.options.react),PP(t)}},Z0=f.createContext();class OP{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var eb={exports:{}},tb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=f;function AP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IP=typeof Object.is=="function"?Object.is:AP,DP=Si.useState,LP=Si.useEffect,MP=Si.useLayoutEffect,$P=Si.useDebugValue;function UP(t,e){var r=e(),n=DP({inst:{value:r,getSnapshot:e}}),s=n[0].inst,o=n[1];return MP(function(){s.value=r,s.getSnapshot=e,qd(s)&&o({inst:s})},[t,r,e]),LP(function(){return qd(s)&&o({inst:s}),t(function(){qd(s)&&o({inst:s})})},[t]),$P(r),r}function qd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!IP(t,r)}catch{return!0}}function FP(t,e){return e()}var BP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FP:UP;tb.useSyncExternalStore=Si.useSyncExternalStore!==void 0?Si.useSyncExternalStore:BP;eb.exports=tb;var rb=eb.exports;const zP=(t,e)=>qs(e)?e:_P(e)&&qs(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,VP={t:zP,ready:!1},WP=()=>()=>{},Ze=(t,e={})=>{var N,E;const{i18n:r}=e,{i18n:n,defaultNS:s}=f.useContext(Z0)||{},o=r||n||TP();o&&!o.reportNamespaces&&(o.reportNamespaces=new OP),o||J0(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=f.useMemo(()=>{var T;return{...EP(),...(T=o==null?void 0:o.options)==null?void 0:T.react,...e}},[o,e]),{useSuspense:l,keyPrefix:c}=a,u=f.useMemo(()=>{var R;const T=s||((R=o==null?void 0:o.options)==null?void 0:R.defaultNS);return qs(T)?[T]:T||["translation"]},[t,s,o]);(E=(N=o==null?void 0:o.reportNamespaces)==null?void 0:N.addUsedNamespaces)==null||E.call(N,u);const d=f.useRef(0),h=f.useCallback(T=>{if(!o)return WP;const{bindI18n:R,bindI18nStore:A}=a,O=()=>{d.current+=1,T()};return R&&o.on(R,O),A&&o.store.on(A,O),()=>{R&&R.split(" ").forEach(U=>o.off(U,O)),A&&A.split(" ").forEach(U=>o.store.off(U,O))}},[o,a]),m=f.useRef(),p=f.useCallback(()=>{if(!o)return VP;const T=!!(o.isInitialized||o.initializedStoreOnce)&&u.every(B=>bP(B,o,a)),R=e.lng||o.language,A=d.current,O=m.current;if(O&&O.ready===T&&O.lng===R&&O.keyPrefix===c&&O.revision===A)return O;const k={t:o.getFixedT(R,a.nsMode==="fallback"?u:u[0],c),ready:T,lng:R,keyPrefix:c,revision:A};return m.current=k,k},[o,u,c,a,e.lng]),[b,v]=f.useState(0),{t:w,ready:y}=rb.useSyncExternalStore(h,p,p);f.useEffect(()=>{if(o&&!y&&!l){const T=()=>v(R=>R+1);e.lng?Wv(o,e.lng,u,T):Sf(o,u,T)}},[o,e.lng,u,y,l,b]);const g=o||{},x=f.useRef(null),_=f.useRef(),j=T=>{const R=Object.getOwnPropertyDescriptors(T);R.__original&&delete R.__original;const A=Object.create(Object.getPrototypeOf(T),R);if(!Object.prototype.hasOwnProperty.call(A,"__original"))try{Object.defineProperty(A,"__original",{value:T,writable:!1,enumerable:!1,configurable:!1})}catch{}return A},S=f.useMemo(()=>{const T=g,R=T==null?void 0:T.language;let A=T;T&&(x.current&&x.current.__original===T?_.current!==R?(A=j(T),x.current=A,_.current=R):A=x.current:(A=j(T),x.current=A,_.current=R));const O=[w,A,y];return O.t=w,O.i18n=A,O.ready=y,O},[w,g,y,g.resolvedLanguage,g.language,g.languages]);if(o&&l&&!y)throw new Promise(T=>{const R=()=>T();e.lng?Wv(o,e.lng,u,R):Sf(o,u,R)});return S};function HP({i18n:t,defaultNS:e,children:r}){const n=f.useMemo(()=>({i18n:t,defaultNS:e}),[t,e]);return f.createElement(Z0.Provider,{value:n},r)}const KP={home:"Home",dashboard:"Dashboard",projects:"Projects",users:"Users",settings:"Settings",leads:"Leads",tickets:"Tickets",tasks:"Tasks",teams:"Teams",clients:"Clients",chats:"Chats",clientPortal:"CLIENT PORTAL",partnerDashboard:"PARTNER DASHBOARD",empDashboard:"EMP DASHBOARD"},qP={save:"Save",cancel:"Cancel",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",login:"Login",signup:"Sign Up",logout:"Logout"},GP={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},QP={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to continue",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Signing in...",signInButton:"Sign In",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google"},JP={welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",search:"Search",filter:"Filter",notifications:"Notifications"},YP={title:"Dashboard",subtitle:"Welcome back! Here's an overview of your projects.",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"Active projects",clients:"Clients",totalClients:"Total clients",teamMembers:"Team Members",activeUsers:"Active users",leads:"Leads",totalLeads:"Total leads",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",retry:"Retry",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},XP={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead"},ZP={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?'},eT={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",status:"Status",priority:"Priority",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets..."},tT={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.'},rT={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done"},nT={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to transform your business?",description:"Join thousands of businesses already using our platform to streamline their operations and boost productivity.",button:"Start Free Trial"},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},sT={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",teamLeader:"Team Leader",client:"Client",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined"},oT={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},iT={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},aT={navigation:KP,buttons:qP,forms:GP,auth:QP,common:JP,dashboard:YP,leads:XP,projects:ZP,tickets:eT,teams:tT,tasks:rT,landing:nT,users:sT,clients:oT,employeeDashboard:iT},lT={home:"",dashboard:" ",projects:"",users:"",settings:"",leads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  "},cT={save:"",cancel:"",submit:"",delete:"",edit:"",add:"",login:" ",signup:" ",logout:" "},uT={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},dT={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    "},hT={welcome:"",loading:" ...",error:"",success:"",search:"",filter:"",notifications:""},fT={title:" ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},mT={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   "},pT={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"'},gT={title:"",subtitle:"    .",newTicket:" ",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",status:"",priority:"",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ..."},vT={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .'},yT={title:"",subtitle:"      .",loading:" ...",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:""},xT={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:"  ",description:"           .",button:"  "},footer:{copyright:" 2025 {{brand}} CRM.   ."}},wT={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:""},bT={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},_T={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},jT={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ..."},ST={navigation:lT,buttons:cT,forms:uT,auth:dT,common:hT,dashboard:fT,leads:mT,projects:pT,tickets:gT,teams:vT,tasks:yT,landing:xT,users:wT,clients:bT,employeeDashboard:_T,chats:jT},NT={en:{translation:aT},ar:{translation:ST}};Be.use(RP).init({resources:NT,lng:"ar",fallbackLng:"ar",interpolation:{escapeValue:!1}});const ce=(t,e)=>{if(Be.language==="ar"){const s=`${e}_ar`;if(t[s]&&t[s].trim())return t[s]}if(t[e]&&t[e].trim())return t[e];const n=`${e}_ar`;return t[n]&&t[n].trim()?t[n]:""},dr=(t,e)=>{const r=Be.language,n={...t};return Object.entries(e).forEach(([s,o])=>{r==="ar"?(n[`${o}_ar`]=t[s],n[o]=t[s]):(n[o]=t[s],n[`${o}_ar`]=t[s])}),n},Mt=()=>Be.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qa.apply(this,arguments)}var Hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hn||(Hn={}));const Hv="popstate";function CT(t){t===void 0&&(t={});function e(s,o){let{pathname:a="/",search:l="",hash:c=""}=oo(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Cf("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof o=="string"?o:ru(o))}function n(s,o){op(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return ET(e,r,n,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function op(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kT(){return Math.random().toString(36).substr(2,8)}function Kv(t,e){return{usr:t.state,key:t.key,idx:e}}function Cf(t,e,r,n){return r===void 0&&(r=null),qa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oo(e):e,{state:r,key:e&&e.key||n||kT()})}function ru(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function oo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function ET(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=Hn.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(qa({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Hn.Pop;let w=d(),y=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:y})}function m(w,y){l=Hn.Push;let g=Cf(v.location,w,y);r&&r(g,w),u=d()+1;let x=Kv(g,u),_=v.createHref(g);try{a.pushState(x,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}o&&c&&c({action:l,location:v.location,delta:1})}function p(w,y){l=Hn.Replace;let g=Cf(v.location,w,y);r&&r(g,w),u=d();let x=Kv(g,u),_=v.createHref(g);a.replaceState(x,"",_),o&&c&&c({action:l,location:v.location,delta:0})}function b(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof w=="string"?w:ru(w);return g=g.replace(/ $/,"%20"),Qe(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let v={get action(){return l},get location(){return t(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Hv,h),c=w,()=>{s.removeEventListener(Hv,h),c=null}},createHref(w){return e(s,w)},createURL:b,encodeLocation(w){let y=b(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(w){return a.go(w)}};return v}var qv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qv||(qv={}));function PT(t,e,r){return r===void 0&&(r="/"),TT(t,e,r,!1)}function TT(t,e,r,n){let s=typeof e=="string"?oo(e):e,o=ip(s.pathname||"/",r);if(o==null)return null;let a=nb(t);RT(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=zT(o);l=FT(a[c],u,n)}return l}function nb(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Qe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ts([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nb(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:$T(u,o.index),routesMeta:d})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of sb(o.path))s(o,a,c)}),e}function sb(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=sb(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function RT(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:UT(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const OT=/^:[\w-]+$/,AT=3,IT=2,DT=1,LT=10,MT=-2,Gv=t=>t==="*";function $T(t,e){let r=t.split("/"),n=r.length;return r.some(Gv)&&(n+=MT),e&&(n+=IT),r.filter(s=>!Gv(s)).reduce((s,o)=>s+(OT.test(o)?AT:o===""?DT:LT),n)}function UT(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function FT(t,e,r){let{routesMeta:n}=t,s={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=Qv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Qv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:ts([o,h.pathname]),pathnameBase:KT(ts([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=ts([o,h.pathnameBase]))}return a}function Qv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=BT(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let v=l[h]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[h];return p&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function BT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),op(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function zT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return op(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ip(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function VT(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?oo(t):t;return{pathname:r?r.startsWith("/")?r:WT(r,e):e,search:qT(n),hash:GT(s)}}function WT(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Gd(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HT(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ap(t,e){let r=HT(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lp(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=oo(t):(s=qa({},t),Qe(!s.pathname||!s.pathname.includes("?"),Gd("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),Gd("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),Gd("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=VT(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),KT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ob=["post","put","patch","delete"];new Set(ob);const JT=["get",...ob];new Set(JT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ga.apply(this,arguments)}const cp=f.createContext(null),YT=f.createContext(null),us=f.createContext(null),Bu=f.createContext(null),vn=f.createContext({outlet:null,matches:[],isDataRoute:!1}),ib=f.createContext(null);function XT(t,e){let{relative:r}=e===void 0?{}:e;$i()||Qe(!1);let{basename:n,navigator:s}=f.useContext(us),{hash:o,pathname:a,search:l}=lb(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:ts([n,a])),s.createHref({pathname:c,search:l,hash:o})}function $i(){return f.useContext(Bu)!=null}function ds(){return $i()||Qe(!1),f.useContext(Bu).location}function ab(t){f.useContext(us).static||f.useLayoutEffect(t)}function Pr(){let{isDataRoute:t}=f.useContext(vn);return t?h2():ZT()}function ZT(){$i()||Qe(!1);let t=f.useContext(cp),{basename:e,future:r,navigator:n}=f.useContext(us),{matches:s}=f.useContext(vn),{pathname:o}=ds(),a=JSON.stringify(ap(s,r.v7_relativeSplatPath)),l=f.useRef(!1);return ab(()=>{l.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=lp(u,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ts([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,o,t])}function e2(){let{matches:t}=f.useContext(vn),e=t[t.length-1];return e?e.params:{}}function lb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=f.useContext(us),{matches:s}=f.useContext(vn),{pathname:o}=ds(),a=JSON.stringify(ap(s,n.v7_relativeSplatPath));return f.useMemo(()=>lp(t,JSON.parse(a),o,r==="path"),[t,a,o,r])}function t2(t,e){return r2(t,e)}function r2(t,e,r,n){$i()||Qe(!1);let{navigator:s}=f.useContext(us),{matches:o}=f.useContext(vn),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ds(),d;if(e){var h;let w=typeof e=="string"?oo(e):e;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Qe(!1),d=w}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=PT(t,{pathname:p}),v=a2(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ts([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ts([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return e&&v?f.createElement(Bu.Provider,{value:{location:Ga({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hn.Pop}},v):v}function n2(){let t=d2(),e=QT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),r?f.createElement("pre",{style:s},r):null,null)}const s2=f.createElement(n2,null);class o2 extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?f.createElement(vn.Provider,{value:this.props.routeContext},f.createElement(ib.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i2(t){let{routeContext:e,match:r,children:n}=t,s=f.useContext(cp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(vn.Provider,{value:e},n)}function a2(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Qe(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=r,b=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let p,b=!1,v=null,w=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||s2,c&&(u<0&&m===0?(b=!0,w=null):u===m&&(b=!0,w=h.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,m+1)),g=()=>{let x;return p?x=v:b?x=w:h.route.Component?x=f.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,f.createElement(i2,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(o2,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var cb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cb||{}),nu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nu||{});function l2(t){let e=f.useContext(cp);return e||Qe(!1),e}function c2(t){let e=f.useContext(YT);return e||Qe(!1),e}function u2(t){let e=f.useContext(vn);return e||Qe(!1),e}function ub(t){let e=u2(),r=e.matches[e.matches.length-1];return r.route.id||Qe(!1),r.route.id}function d2(){var t;let e=f.useContext(ib),r=c2(nu.UseRouteError),n=ub(nu.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function h2(){let{router:t}=l2(cb.UseNavigateStable),e=ub(nu.UseNavigateStable),r=f.useRef(!1);return ab(()=>{r.current=!0}),f.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ga({fromRouteId:e},o)))},[t,e])}function f2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Jv(t){let{to:e,replace:r,state:n,relative:s}=t;$i()||Qe(!1);let{future:o,static:a}=f.useContext(us),{matches:l}=f.useContext(vn),{pathname:c}=ds(),u=Pr(),d=lp(e,ap(l,o.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return f.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Ke(t){Qe(!1)}function m2(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Hn.Pop,navigator:o,static:a=!1,future:l}=t;$i()&&Qe(!1);let c=e.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:o,static:a,future:Ga({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof n=="string"&&(n=oo(n));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:b="default"}=n,v=f.useMemo(()=>{let w=ip(d,c);return w==null?null:{location:{pathname:w,search:h,hash:m,state:p,key:b},navigationType:s}},[c,d,h,m,p,b,s]);return v==null?null:f.createElement(us.Provider,{value:u},f.createElement(Bu.Provider,{children:r,value:v}))}function p2(t){let{children:e,location:r}=t;return t2(kf(e),r)}new Promise(()=>{});function kf(t,e){e===void 0&&(e=[]);let r=[];return f.Children.forEach(t,(n,s)=>{if(!f.isValidElement(n))return;let o=[...e,s];if(n.type===f.Fragment){r.push.apply(r,kf(n.props.children,o));return}n.type!==Ke&&Qe(!1),!n.props.index||!n.props.children||Qe(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=kf(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ef.apply(this,arguments)}function g2(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function v2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y2(t,e){return t.button===0&&(!e||e==="_self")&&!v2(t)}const x2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],w2="6";try{window.__reactRouterVersion=w2}catch{}const b2="startTransition",Yv=um[b2];function _2(t){let{basename:e,children:r,future:n,window:s}=t,o=f.useRef();o.current==null&&(o.current=CT({window:s,v5Compat:!0}));let a=o.current,[l,c]=f.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=f.useCallback(h=>{u&&Yv?Yv(()=>c(h)):c(h)},[c,u]);return f.useLayoutEffect(()=>a.listen(d),[a,d]),f.useEffect(()=>f2(n),[n]),f.createElement(m2,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const j2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pf=f.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,m=g2(e,x2),{basename:p}=f.useContext(us),b,v=!1;if(typeof u=="string"&&S2.test(u)&&(b=u,j2))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),j=ip(_.pathname,p);_.origin===x.origin&&j!=null?u=j+_.search+_.hash:v=!0}catch{}let w=XT(u,{relative:s}),y=N2(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function g(x){n&&n(x),x.defaultPrevented||y(x)}return f.createElement("a",Ef({},m,{href:b||w,onClick:v||o?n:g,ref:r,target:c}))});var Xv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xv||(Xv={}));var Zv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zv||(Zv={}));function N2(t,e){let{target:r,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l}=e===void 0?{}:e,c=Pr(),u=ds(),d=lb(t,{relative:a});return f.useCallback(h=>{if(y2(h,r)){h.preventDefault();let m=n!==void 0?n:ru(u)===ru(d);c(t,{replace:m,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,n,s,r,t,o,a,l])}var Tf=function(t,e){return Tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Tf(t,e)};function db(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nr=function(){return nr=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},nr.apply(this,arguments)};function hs(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function hb(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(s<3?a(o):s>3?a(e,r,o):a(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function fb(t,e){return function(r,n){e(r,n,t)}}function mb(t,e,r,n,s,o){function a(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,m=!1,p=r.length-1;p>=0;p--){var b={};for(var v in n)b[v]=v==="access"?{}:n[v];for(var v in n.access)b.access[v]=n.access[v];b.addInitializer=function(y){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(y||null))};var w=(0,r[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],b);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=a(w.get))&&(d.get=h),(h=a(w.set))&&(d.set=h),(h=a(w.init))&&s.unshift(h)}else(h=a(w))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),m=!0}function pb(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function gb(t){return typeof t=="symbol"?t:"".concat(t)}function vb(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function yb(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function te(t,e,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}function xb(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var zu=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function wb(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zu(e,t,r)}function su(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function up(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function bb(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(up(arguments[e]));return t}function _b(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,s++)n[s]=o[a];return n}function dp(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Ni(t){return this instanceof Ni?(this.v=t,this):new Ni(t)}function jb(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(p){return function(b){return Promise.resolve(b).then(p,h)}}function l(p,b){n[p]&&(s[p]=function(v){return new Promise(function(w,y){o.push([p,v,w,y])>1||c(p,v)})},b&&(s[p]=b(s[p])))}function c(p,b){try{u(n[p](b))}catch(v){m(o[0][3],v)}}function u(p){p.value instanceof Ni?Promise.resolve(p.value.v).then(d,h):m(o[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function m(p,b){p(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Sb(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(a){return(r=!r)?{value:Ni(t[s](a)),done:!1}:o?o(a):a}:o}}function Nb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof su=="function"?su(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(l,c){a=t[o](a),s(l,c,a.done,a.value)})}}function s(o,a,l,c){Promise.resolve(c).then(function(u){o({value:u,done:l})},a)}}function Cb(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var C2=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Rf=function(t){return Rf=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Rf(t)};function kb(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Rf(t),n=0;n<r.length;n++)r[n]!=="default"&&zu(e,t,r[n]);return C2(e,t),e}function Eb(t){return t&&t.__esModule?t:{default:t}}function Pb(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Tb(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function Rb(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Ob(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var k2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Ab(t){function e(o){t.error=t.hasError?new k2(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(a){return e(a),s()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Ib(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,a){return n?e?".jsx":".js":s&&(!o||!a)?r:s+o+"."+a.toLowerCase()+"js"}):t}const E2={__extends:db,__assign:nr,__rest:hs,__decorate:hb,__param:fb,__esDecorate:mb,__runInitializers:pb,__propKey:gb,__setFunctionName:vb,__metadata:yb,__awaiter:te,__generator:xb,__createBinding:zu,__exportStar:wb,__values:su,__read:up,__spread:bb,__spreadArrays:_b,__spreadArray:dp,__await:Ni,__asyncGenerator:jb,__asyncDelegator:Sb,__asyncValues:Nb,__makeTemplateObject:Cb,__importStar:kb,__importDefault:Eb,__classPrivateFieldGet:Pb,__classPrivateFieldSet:Tb,__classPrivateFieldIn:Rb,__addDisposableResource:Ob,__disposeResources:Ab,__rewriteRelativeImportExtension:Ib},P2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ob,get __assign(){return nr},__asyncDelegator:Sb,__asyncGenerator:jb,__asyncValues:Nb,__await:Ni,__awaiter:te,__classPrivateFieldGet:Pb,__classPrivateFieldIn:Rb,__classPrivateFieldSet:Tb,__createBinding:zu,__decorate:hb,__disposeResources:Ab,__esDecorate:mb,__exportStar:wb,__extends:db,__generator:xb,__importDefault:Eb,__importStar:kb,__makeTemplateObject:Cb,__metadata:yb,__param:fb,__propKey:gb,__read:up,__rest:hs,__rewriteRelativeImportExtension:Ib,__runInitializers:pb,__setFunctionName:vb,__spread:bb,__spreadArray:dp,__spreadArrays:_b,__values:su,default:E2},Symbol.toStringTag,{value:"Module"})),T2="modulepreload",R2=function(t){return"/"+t},ey={},Ui=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=R2(c),c in ey)return;ey[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":T2,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},O2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ui(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class hp extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ty extends hp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ry extends hp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ny extends hp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Of;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Of||(Of={}));class A2{constructor(e,{headers:r={},customFetch:n,region:s=Of.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=O2(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return te(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:o,method:a,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let m;l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const p=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:m,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new ty(y)}),b=p.headers.get("x-relay-error");if(b&&b==="true")throw new ry(p);if(!p.ok)throw new ny(p);let v=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield p.json():v==="application/octet-stream"||v==="application/pdf"?w=yield p.blob():v==="text/event-stream"?w=p:v==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new ty(o)}:{data:null,error:o,response:o instanceof ny||o instanceof ry?o.context:void 0}}})}}var St={};const Fi=_x(P2);var Jl={},Yl={},Xl={},Zl={},ec={},I2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ci=I2();const D2=Ci.fetch,Db=Ci.fetch.bind(Ci),Lb=Ci.Headers,L2=Ci.Request,M2=Ci.Response,io=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lb,Request:L2,Response:M2,default:Db,fetch:D2},Symbol.toStringTag,{value:"Module"})),$2=_x(io);var tc={},sy;function Mb(){if(sy)return tc;sy=1,Object.defineProperty(tc,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return tc.default=t,tc}var oy;function $b(){if(oy)return ec;oy=1,Object.defineProperty(ec,"__esModule",{value:!0});const t=Fi,e=t.__importDefault($2),r=t.__importDefault(Mb());class n{constructor(o){var a,l;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(l=o.isMaybeSingle)!==null&&l!==void 0?l:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,m,p;let b=null,v=null,w=null,y=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?v=S:v=JSON.parse(S))}const _=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),j=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");_&&j&&j.length>1&&(w=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(b={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,y=406,g="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const _=await u.text();try{b=JSON.parse(_),Array.isArray(b)&&u.status===404&&(v=[],b=null,y=200,g="OK")}catch{u.status===404&&_===""?(y=204,g="No Content"):b={message:_}}if(b&&this.isMaybeSingle&&(!((p=b==null?void 0:b.details)===null||p===void 0)&&p.includes("0 rows"))&&(b=null,y=200,g="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:v,count:w,status:y,statusText:g}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,h,m;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(o,a)}returns(){return this}overrideTypes(){return this}}return ec.default=n,ec}var iy;function Ub(){if(iy)return Zl;iy=1,Object.defineProperty(Zl,"__esModule",{value:!0});const e=Fi.__importDefault($b());class r extends e.default{select(s){let o=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,o,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,o?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Zl.default=r,Zl}var ay;function fp(){if(ay)return Xl;ay=1,Object.defineProperty(Xl,"__esModule",{value:!0});const e=Fi.__importDefault(Ub()),r=new RegExp("[,()]");class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${u}fts${d}.${a}`),this}match(o){return Object.entries(o).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(o,a,l){return this.url.searchParams.append(o,`not.${a}.${l}`),this}or(o,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,a,l){return this.url.searchParams.append(o,`${a}.${l}`),this}}return Xl.default=n,Xl}var ly;function Fb(){if(ly)return Yl;ly=1,Object.defineProperty(Yl,"__esModule",{value:!0});const e=Fi.__importDefault(fp());class r{constructor(s,{headers:o={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(o),this.schema=a,this.fetch=l}select(s,o){const{head:a=!1,count:l}=o??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:a=!0}={}){var l;const c="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:o}={}){var a;const l="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var o;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Yl.default=r,Yl}var cy;function U2(){if(cy)return Jl;cy=1,Object.defineProperty(Jl,"__esModule",{value:!0});const t=Fi,e=t.__importDefault(Fb()),r=t.__importDefault(fp());class n{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const m=new URL(`${this.url}/rpc/${o}`);let p;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{m.searchParams.append(v,w)})):(h="POST",p=a);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new r.default({method:h,url:m,headers:b,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Jl.default=n,Jl}Object.defineProperty(St,"__esModule",{value:!0});var Bb=St.PostgrestError=Yb=St.PostgrestBuilder=Qb=St.PostgrestTransformBuilder=qb=St.PostgrestFilterBuilder=Hb=St.PostgrestQueryBuilder=Vb=St.PostgrestClient=void 0;const Bi=Fi,zb=Bi.__importDefault(U2());var Vb=St.PostgrestClient=zb.default;const Wb=Bi.__importDefault(Fb());var Hb=St.PostgrestQueryBuilder=Wb.default;const Kb=Bi.__importDefault(fp());var qb=St.PostgrestFilterBuilder=Kb.default;const Gb=Bi.__importDefault(Ub());var Qb=St.PostgrestTransformBuilder=Gb.default;const Jb=Bi.__importDefault($b());var Yb=St.PostgrestBuilder=Jb.default;const Xb=Bi.__importDefault(Mb());Bb=St.PostgrestError=Xb.default;var Zb=St.default={PostgrestClient:zb.default,PostgrestQueryBuilder:Wb.default,PostgrestFilterBuilder:Kb.default,PostgrestTransformBuilder:Gb.default,PostgrestBuilder:Jb.default,PostgrestError:Xb.default};const F2=wx({__proto__:null,get PostgrestBuilder(){return Yb},get PostgrestClient(){return Vb},get PostgrestError(){return Bb},get PostgrestFilterBuilder(){return qb},get PostgrestQueryBuilder(){return Hb},get PostgrestTransformBuilder(){return Qb},default:Zb},[St]),{PostgrestClient:B2,PostgrestQueryBuilder:eF,PostgrestFilterBuilder:tF,PostgrestTransformBuilder:rF,PostgrestBuilder:nF,PostgrestError:sF}=Zb||F2;class z2{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const V2="2.78.0",W2=`realtime-js/${V2}`,H2="1.0.0",Af=1e4,K2=1e3,q2=100;var Sa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Sa||(Sa={}));var et;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(et||(et={}));var _r;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_r||(_r={}));var If;(function(t){t.websocket="websocket"})(If||(If={}));var bs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(bs||(bs={}));class G2{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+s));a=a+s;const c=n.decode(e.slice(a,a+o));a=a+o;const u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class e_{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Pe||(Pe={}));const uy=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=Q2(a,t,e,s),o),{}):{}},Q2=(t,e,r,n)=>{const s=e.find(l=>l.name===t),o=s==null?void 0:s.type,a=r[t];return o&&!n.includes(o)?t_(o,a):Df(a)},t_=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Z2(e,r)}switch(t){case Pe.bool:return J2(e);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return Y2(e);case Pe.json:case Pe.jsonb:return X2(e);case Pe.timestamp:return eR(e);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return Df(e);default:return Df(e)}},Df=t=>t,J2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Y2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},X2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Z2=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const a=t.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>t_(e,l))}return t},eR=t=>typeof t=="string"?t.replace(" ","T"):t,r_=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Qd{constructor(e,r,n={},s=Af){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(dy||(dy={}));class Na{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Na.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=Na.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Na.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),a=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=o[u];if(h){const m=d.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),b=d.filter(w=>p.indexOf(w.presence_ref)<0),v=h.filter(w=>m.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),m=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...m)}n(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hy||(hy={}));var Ca;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ca||(Ca={}));var en;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class mp{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qd(this,_r.join,this.params,this.timeout),this.rejoinTimer=new e_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_r.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Na(this),this.broadcastEndpointURL=r_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ca.PRESENCE]&&this.bindings[Ca.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(en.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(en.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){e==null||e(en.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,y=[];for(let g=0;g<w;g++){const x=v[g],{filter:{event:_,schema:j,table:S,filter:N}}=x,E=p&&p[g];if(E&&E.event===_&&E.schema===j&&E.table===S&&E.filter===N)y.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),this.state=et.errored,e==null||e(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(en.SUBSCRIBED);return}}).receive("error",p=>{this.state=et.errored,e==null||e(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===et.joined&&e===Ca.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_r.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Qd(this,_r.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Qd(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>q2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=_r;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,v,w;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(v=p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(p=>p.callback(m,n)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var b,v,w,y,g,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,j=(b=p.filter)===null||b===void 0?void 0:b.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:v,table:w,commit_timestamp:y,type:g,errors:x}=b;m=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:y,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(b))}p.callback(m,n)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&mp.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_r.close,{},e)}_onError(e){this._on(_r.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=uy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=uy(e.columns,e.old_record)),r}}const Jd=()=>{},rc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tR=[1e3,2e3,5e3,1e4],rR=1e4,nR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sR{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Af,this.transport=null,this.heartbeatIntervalMs=rc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jd,this.ref=0,this.reconnectTimer=null,this.logger=Jd,this.conn=null,this.sendBuffer=[],this.serializer=new G2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Ui(async()=>{const{default:l}=await Promise.resolve().then(()=>io);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...a)=>o(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${If.websocket}`,this.httpEndpoint=r_(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=z2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:H2}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Sa.connecting:return bs.Connecting;case Sa.open:return bs.Open;case Sa.closing:return bs.Closing;default:return bs.Closed}}isConnected(){return this.connectionState()===bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new mp(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(K2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},rc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:a}=r,l=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_r.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([nR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:W2};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(_r.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new e_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,a,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Af,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:rc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Jd,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>tR[h-1]||rR,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class pp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class oR extends pp{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lf extends pp{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const gp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ui(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},iR=()=>te(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ui(()=>Promise.resolve().then(()=>io),void 0)).Response:Response}),Mf=t=>{if(Array.isArray(t))return t.map(r=>Mf(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Mf(n)}),e},aR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},lR=(t,e,r)=>te(void 0,void 0,void 0,function*(){const n=yield iR();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,a=(s==null?void 0:s.statusCode)||o+"";e(new oR(Yd(s),o,a))}).catch(s=>{e(new Lf(Yd(s),s))}):e(new Lf(Yd(t),t))}),cR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(aR(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function gl(t,e,r,n,s,o){return te(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,cR(e,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>lR(c,l,n))})})}function Qa(t,e,r,n){return te(this,void 0,void 0,function*(){return gl(t,"GET",e,r,n)})}function yr(t,e,r,n,s){return te(this,void 0,void 0,function*(){return gl(t,"POST",e,n,s,r)})}function $f(t,e,r,n,s){return te(this,void 0,void 0,function*(){return gl(t,"PUT",e,n,s,r)})}function uR(t,e,r,n){return te(this,void 0,void 0,function*(){return gl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vp(t,e,r,n,s){return te(this,void 0,void 0,function*(){return gl(t,"DELETE",e,n,s,r)})}class dR{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ue(e))return{data:null,error:e};throw e}})}}var n_;class hR{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[n_]="BlobDownloadBuilder",this.promise=null}asStream(){return new dR(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ue(e))return{data:null,error:e};throw e}})}}n_=Symbol.toStringTag;const fR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mR{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=gp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return te(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},fy),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?$f:yr)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}upload(e,r,n){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return te(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:fy.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield $f(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return te(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield yr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new pp("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}update(e,r,n){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return te(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}copy(e,r,n){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield yr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield yr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return te(this,void 0,void 0,function*(){try{const s=yield yr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"",l=this._getFinalPath(e),c=()=>Qa(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new hR(c,this.shouldThrowOnError)}info(e){return te(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Qa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Mf(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}exists(e){return te(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield uR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n)&&n instanceof Lf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return te(this,void 0,void 0,function*(){try{return{data:yield vp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}list(e,r,n){return te(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fR),r),{prefix:e||""});return{data:yield yr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}listV2(e,r){return te(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield yr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const s_="2.78.0",o_={"X-Client-Info":`storage-js/${s_}`};class pR{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o_),r),this.fetch=gp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return te(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Qa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}getBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}createBucket(e){return te(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield yr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return te(this,void 0,void 0,function*(){try{return{data:yield $f(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}emptyBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield vp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class gR{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o_),r),this.fetch=gp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}listBuckets(e){return te(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Qa(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield vp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}}const yp={"X-Client-Info":`storage-js/${s_}`,"Content-Type":"application/json"};class i_ extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ft(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Xd extends i_{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vR extends i_{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var my;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(my||(my={}));const xp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ui(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},yR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},py=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xR=(t,e,r)=>te(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new Xd(py(a),s,l))}).catch(()=>{const a=s+"",l=o.statusText||`HTTP ${s} error`;e(new Xd(l,s,a))});else{const a=s+"",l=o.statusText||`HTTP ${s} error`;e(new Xd(l,s,a))}}else e(new vR(py(t),t))}),wR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(yR(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function bR(t,e,r,n,s,o){return te(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,wR(e,n,s,o)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>xR(c,l,n))})})}function Bt(t,e,r,n,s){return te(this,void 0,void 0,function*(){return bR(t,"POST",e,n,s,r)})}class _R{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yp),r),this.fetch=xp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return te(this,void 0,void 0,function*(){try{return{data:(yield Bt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}getIndex(e,r){return te(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}listIndexes(e){return te(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return te(this,void 0,void 0,function*(){try{return{data:(yield Bt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ft(n))return{data:null,error:n};throw n}})}}class jR{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yp),r),this.fetch=xp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return te(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Bt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}getVectors(e){return te(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}listVectors(e){return te(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Bt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}queryVectors(e){return te(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}deleteVectors(e){return te(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Bt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}}class SR{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yp),r),this.fetch=xp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return te(this,void 0,void 0,function*(){try{return{data:(yield Bt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}getBucket(e){return te(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}listBuckets(){return te(this,arguments,void 0,function*(e={}){try{return{data:yield Bt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}deleteBucket(e){return te(this,void 0,void 0,function*(){try{return{data:(yield Bt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ft(r))return{data:null,error:r};throw r}})}}class NR extends SR{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new CR(this.url,this.headers,e,this.fetch)}}class CR extends _R{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return te(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return te(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return te(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return te(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new kR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class kR extends jR{constructor(e,r,n,s,o){super(e,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return te(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return te(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return te(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return te(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return te(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ER extends pR{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new mR(this.url,this.headers,e,this.fetch)}get vectors(){return new NR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gR(this.url+"/iceberg",this.headers,this.fetch)}}const PR="2.78.0";let ua="";typeof Deno<"u"?ua="deno":typeof document<"u"?ua="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ua="react-native":ua="node";const TR={"X-Client-Info":`supabase-js-${ua}/${PR}`},RR={headers:TR},OR={schema:"public"},AR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IR={},DR=t=>{let e;return t?e=t:typeof fetch>"u"?e=Db:e=fetch,(...r)=>e(...r)},LR=()=>typeof Headers>"u"?Lb:Headers,MR=(t,e,r)=>{const n=DR(r),s=LR();return async(o,a)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},a),{headers:u}))}};function $R(t){return t.endsWith("/")?t:t+"/"}function UR(t,e){var r,n;const{db:s,auth:o,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function FR(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($R(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const a_="2.78.0",To=30*1e3,Uf=3,Zd=Uf*To,BR="http://localhost:9999",zR="supabase.auth.token",VR={"X-Client-Info":`gotrue-js/${a_}`},Ff="X-Supabase-Api-Version",l_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HR=10*60*1e3;class Ja extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function re(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class KR extends Ja{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function qR(t){return re(t)&&t.name==="AuthApiError"}class _s extends Ja{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class fs extends Ja{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class mr extends fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GR(t){return re(t)&&t.name==="AuthSessionMissingError"}class bo extends fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nc extends fs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sc extends fs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QR(t){return re(t)&&t.name==="AuthImplicitGrantRedirectError"}class gy extends fs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bf extends fs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function eh(t){return re(t)&&t.name==="AuthRetryableFetchError"}class vy extends fs{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zf extends fs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yy=` 	
\r=`.split(""),JR=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yy.length;e+=1)t[yy[e].charCodeAt(0)]=-2;for(let e=0;e<ou.length;e+=1)t[ou[e].charCodeAt(0)]=e;return t})();function xy(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ou[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ou[n]),e.queuedBits-=6}}function c_(t,e,r){const n=JR[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wy(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{ZR(a,n,r)};for(let a=0;a<t.length;a+=1)c_(t.charCodeAt(a),s,o);return e.join("")}function YR(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function XR(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}YR(n,e)}}function ZR(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Zo(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)c_(t.charCodeAt(s),r,n);return new Uint8Array(e)}function eO(t){const e=[];return XR(t,r=>e.push(r)),new Uint8Array(e)}function Cs(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>xy(s,r,n)),xy(null,r,n),e.join("")}function tO(t){return Math.round(Date.now()/1e3)+t}function rO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const wt=()=>typeof window<"u"&&typeof document<"u",gs={tested:!1,writable:!1},u_=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function nO(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const d_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ui(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},sO=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ro=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},vs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bn=async(t,e)=>{await t.removeItem(e)};class Vu{constructor(){this.promise=new Vu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Vu.promiseConstructor=Promise;function th(t){const e=t.split(".");if(e.length!==3)throw new zf("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!WR.test(e[n]))throw new zf("JWT not in base64url format");return{header:JSON.parse(wy(e[0])),payload:JSON.parse(wy(e[1])),signature:Zo(e[2]),raw:{header:e[0],payload:e[1]}}}async function oO(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iO(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){n(a);return}}catch(a){if(!e(o,a)){s(a);return}}})()})}function aO(t){return("0"+t.toString(16)).substr(-2)}function lO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,aO).join("")}async function cO(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function uO(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await cO(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _o(t,e,r=!1){const n=lO();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ro(t,`${e}-code-verifier`,s);const o=await uO(n);return[o,n===o?"plain":"s256"]}const dO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hO(t){const e=t.headers.get(Ff);if(!e||!e.match(dO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fO(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mO(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jo(t){if(!pO.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gO(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function by(t){return JSON.parse(JSON.stringify(t))}const ws=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vO=[502,503,504];async function _y(t){var e;if(!sO(t))throw new Bf(ws(t),0);if(vO.includes(t.status))throw new Bf(ws(t),t.status);let r;try{r=await t.json()}catch(o){throw new _s(ws(o),o)}let n;const s=hO(t);if(s&&s.getTime()>=l_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vy(ws(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new mr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new vy(ws(r),t.status,r.weak_password.reasons);throw new KR(ws(r),t.status||500,n)}const yO=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ae(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Ff]||(o[Ff]=l_["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await xO(t,e,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function xO(t,e,r,n,s,o){const a=yO(e,n,s,o);let l;try{l=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new Bf(ws(c),0)}if(l.ok||await _y(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await _y(c)}}function pr(t){var e;let r=null;_O(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=tO(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function jy(t){const e=pr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function An(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wO(t){return{data:t,error:null}}function bO(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,a=hs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Sy(t){return t}function _O(t){return t.access_token&&t.refresh_token&&t.expires_in}const nh=["global","local","others"];class jO{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=d_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=nh[0]){if(nh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nh.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:An})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=hs(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:An})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Sy});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(re(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){jo(e);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:An})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){jo(e);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:An})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){jo(e);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:An})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){jo(e.userId);try{const{data:r,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(e){jo(e.userId),jo(e.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Sy});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(re(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}}function Ny(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const So={debug:!!(globalThis&&u_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class h_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class SO extends h_{}async function NO(t,e,r){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),So.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){So.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{So.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw So.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new SO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(So.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function CO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function f_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function kO(t){return parseInt(t,16)}function EO(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function PO(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=f_(t.address),b=d?`${d}://${n}`:n,v=t.statement?`${t.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${p}

${v}`;let y=`URI: ${h}
Version: ${m}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);g+=`
- ${x}`}y+=g}return`${w}
${y}`}class Je extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class iu extends Je{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function TO({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Je({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(m_(a)){if(o.rp.id!==a)return new Je({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function RO({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Je({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(m_(n)){if(r.rpId!==n)return new Je({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class OO{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const AO=new OO;function IO(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=hs(t,["challenge","user","excludeCredentials"]),o=Zo(e).buffer,a=Object.assign(Object.assign({},r),{id:Zo(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Zo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function DO(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=hs(t,["challenge","allowCredentials"]),s=Zo(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];o.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Zo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function LO(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Cs(new Uint8Array(t.response.attestationObject)),clientDataJSON:Cs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function MO(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Cs(new Uint8Array(s.authenticatorData)),clientDataJSON:Cs(new Uint8Array(s.clientDataJSON)),signature:Cs(new Uint8Array(s.signature)),userHandle:s.userHandle?Cs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function m_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Cy(){var t,e;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $O(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new iu("Browser returned unexpected credential type",e)}:{data:null,error:new iu("Empty credential response",e)}}catch(e){return{data:null,error:TO({error:e,options:t})}}}async function UO(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new iu("Browser returned unexpected credential type",e)}:{data:null,error:new iu("Empty credential response",e)}}catch(e){return{data:null,error:RO({error:e,options:t})}}}const FO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},BO={userVerification:"preferred",hints:["security-key"]};function au(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const a=s[o];if(a!==void 0)if(Array.isArray(a))n[o]=a;else if(r(a))n[o]=a;else if(e(a)){const l=n[o];e(l)?n[o]=au(l,a):n[o]=au(a)}else n[o]=a}return n}function zO(t,e){return au(FO,t,e||{})}function VO(t,e){return au(BO,t,e||{})}class WO{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const c=s??AO.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=zO(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await $O({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=VO(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await UO(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return re(a)?{data:null,error:a}:{data:null,error:new _s("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!r)return{data:null,error:new Ja("rpId is required for WebAuthn authentication")};try{if(!Cy())return{data:null,error:new _s("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return re(a)?{data:null,error:a}:{data:null,error:new _s("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!r)return{data:null,error:new Ja("rpId is required for WebAuthn registration")};try{if(!Cy())return{data:null,error:new _s("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return re(a)?{data:null,error:a}:{data:null,error:new _s("Unexpected error in register",a)}}}}CO();const HO={url:BR,storageKey:zR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ky(t,e,r){return await r()}const No={};class Ya{get jwks(){var e,r;return(r=(e=No[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=No[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ya.nextInstanceID,Ya.nextInstanceID+=1,this.instanceID>0&&wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},HO),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new jO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=d_(s.fetch),this.lock=s.lock||ky,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=NO:this.lock=ky,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:u_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ny(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ny(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${a_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=nO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),wt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),QR(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?{error:r}:{error:new _s("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pr}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(re(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:d,password:h,options:m}=e;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await _o(this.storage,this.storageKey)),o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:b},xform:pr})}else if("phone"in e){const{phone:d,password:h,options:m}=e;o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:pr})}else throw new nc("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(re(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:a,options:l}=e;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jy})}else if("phone"in e){const{phone:o,password:a,options:l}=e;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jy})}else throw new nc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,a,l,c,u,d,h,m;let p,b;if("message"in e)p=e.message,b=e.signature;else{const{chain:v,wallet:w,statement:y,options:g}=e;let x;if(wt())if(typeof w=="object")x=w;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")x=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),j=await x.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=f_(j[0]);let N=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const T=await x.request({method:"eth_chainId"});N=kO(T)}const E={domain:_.host,address:S,statement:y,uri:_.href,version:"1",chainId:N,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=PO(E),b=await x.request({method:"personal_sign",params:[EO(p),S]})}try{const{data:v,error:w}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:b},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:pr});if(w)throw w;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new bo}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:w})}catch(v){if(re(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(e){var r,n,s,o,a,l,c,u,d,h,m,p;let b,v;if("message"in e)b=e.message,v=e.signature;else{const{chain:w,wallet:y,statement:g,options:x}=e;let _;if(wt())if(typeof y=="object")_=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:w,error:y}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Cs(v)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:pr});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new bo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(re(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await vs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:a}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:pr});if(await bn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new bo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(re(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=e,l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new bo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _o(this.storage,this.storageKey));const{error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new nc("You must provide either an email or phone number.")}catch(l){if(re(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:pr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await _o(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:wO})}catch(o){if(re(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new mr;const{error:s}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(re(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:a}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:a,error:l}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new nc("You must provide either an email or phone number and a type")}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Zd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await vs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=rh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=gO(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:An}):await this._useSession(async r=>{var n,s,o;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mr}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:An})})}catch(r){if(re(r))return GR(r)&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new mr;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await _o(this.storage,this.storageKey));const{data:u,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:An});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mr;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=th(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new mr;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!wt())throw new sc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gy("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!o||!l||!a||!u)throw new sc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const p=m-d;p*1e3<=To&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const b=m-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,d);const{data:v,error:w}=await this._getUser(o);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:m,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await vs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(qR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=rO(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await _o(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(re(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,l,c,u,d;const{data:h,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return wt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(re(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=e,h=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:pr}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new bo}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:p})}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iO(async s=>(s>0&&await oO(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pr})),(s,o)=>{const a=200*Math.pow(2,s);return o&&eh(o)&&Date.now()+a-n<To})}catch(n){if(this._debug(r,"error",n),re(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),wt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await vs(this.storage,this.storageKey);if(s&&this.userStorage){let a=await vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ro(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:rh()}else if(s&&!s.user&&!s.user){const a=await vs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await bn(this.storage,this.storageKey+"-user"),await Ro(this.storage,this.storageKey,s)):s.user=rh()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zd;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Zd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),eh(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new mr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vu;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new mr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),re(o)){const a={data:null,error:o};return eh(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ro(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=by(s);await Ro(this.storage,this.storageKey,o)}else{const s=by(r);await Ro(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await bn(this.storage,this.storageKey),await bn(this.storage,this.storageKey+"-code-verifier"),await bn(this.storage,this.storageKey+"-user"),this.userStorage&&await bn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),To);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/To);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${To}ms, refresh threshold is ${Uf} ticks`),s<=Uf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof h_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await _o(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?LO(e.webauthn.credential_response):MO(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:IO(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:DO(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=th(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?{data:null,error:s}:n?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):{data:null,error:new mr}})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new mr};const a=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&wt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new mr};const a=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&wt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(re(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+HR>s)return n;const{data:o,error:a}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};n=p.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=th(n);r!=null&&r.allowExpired||fO(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:a},error:null}}const d=mO(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,eO(`${l}.${c}`)))throw new zf("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}}Ya.nextInstanceID=0;const KO=Ya;class qO extends KO{constructor(e){super(e)}}class GO{constructor(e,r,n){var s,o,a;this.supabaseUrl=e,this.supabaseKey=r;const l=FR(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:OR,realtime:IR,auth:Object.assign(Object.assign({},AR),{storageKey:c}),global:RR},d=UR(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=MR(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new B2(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ER(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new A2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:a,flowType:l,lock:c,debug:u},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qO({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new sR(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QO=(t,e,r)=>new GO(t,e,r);function JO(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}JO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p_="https://qaqrnyyhctqqvnpiqnjm.supabase.co",jc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhcXJueXloY3RxcXZucGlxbmptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4MDU5NzEsImV4cCI6MjA3ODM4MTk3MX0.4lOTNnZpZvvqv4LUBAWWpqd1D4O6SRVwOjJfWeeCbDA";console.log(" SUPABASE URL at runtime:",p_);console.log(" SUPABASE KEY (first 8):",jc==null?void 0:jc.slice(0,8));const K=QO(p_,jc,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"middar_crm_session"},global:{headers:{"Content-Type":"application/json"}}}),Zt={async signUpStaff(t,e,r){console.log("[authService] Creating staff user:",{email:t,userData:r});try{const{data:n,error:s}=await K.auth.signUp({email:t,password:e});if(s)throw s;if(!n.user)throw new Error("No user data returned from sign up");console.log("[authService] Auth user created:",n.user.id);const{data:o,error:a}=await K.from("users").upsert({user_name:r.name,user_email:t,user_role:r.role,avatar:r.avatar,auth_user_id:n.user.id},{onConflict:"auth_user_id"}).select("*").single();if(a)throw console.error("[authService] Error creating user profile:",a),new Error(`Failed to create user profile: ${a.message}`);return console.log("[authService] User profile created:",o),console.log("[authService] User profile created:",o),{id:n.user.id,email:t,role:r.role,profile:{user_id:o.user_id||parseInt(n.user.id),user_name:o.user_name||r.name,user_email:o.user_email||t,user_role:o.user_role||r.role,avatar:o.avatar||r.avatar,auth_user_id:o.auth_user_id||n.user.id,client_contact:o.client_contact||null,company_name:o.company_name||null,company_name_ar:o.company_name_ar||null,user_name_ar:o.user_name_ar||null,created_at:o.created_at||new Date().toISOString(),updated_at:o.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in signUpStaff:",n),n}},async createStaffUser(t,e,r){console.log("[authService] Creating staff user via Edge Function:",{email:t,userData:r});try{const{data:{session:n},error:s}=await K.auth.getSession();if(s||!(n!=null&&n.access_token))throw new Error("No active session found");const a="https://qaqrnyyhctqqvnpiqnjm.supabase.co".includes("127.0.0.1")?"http://127.0.0.1:54321/functions/v1/create-staff-user":"https://qaqrnyyhctqqvnpiqnjm.supabase.co/functions/v1/create-staff-user",l=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,"x-user-id":n.user.id},body:JSON.stringify({email:t,password:e,user_role:r.role,avatar:r.avatar,...r.localizedData||{user_name:r.name}})});if(!l.ok){const u=await l.json();throw new Error(u.error||`HTTP ${l.status}`)}const c=await l.json();return console.log("[authService] Staff user created successfully:",c),{id:c.auth_id,email:t,role:r.role,profile:{user_id:c.profile.user_id,user_name:c.profile.user_name,user_email:c.profile.user_email,user_role:c.profile.user_role,avatar:c.profile.avatar,auth_user_id:c.profile.auth_user_id,client_contact:c.profile.client_contact||null,company_name:c.profile.company_name||null,company_name_ar:c.profile.company_name_ar||null,user_name_ar:c.profile.user_name_ar||null,created_at:c.profile.created_at,updated_at:c.profile.updated_at}}}catch(n){throw console.error("[authService] Error in createStaffUser:",n),n}},async deleteUser(t){console.log("[authService] Deleting user:",t);try{const{data:{session:e},error:r}=await K.auth.getSession();if(r||!(e!=null&&e.access_token))throw new Error("No active session found");const s="https://qaqrnyyhctqqvnpiqnjm.supabase.co".includes("127.0.0.1")?"http://127.0.0.1:54321/functions/v1/delete-user":"https://qaqrnyyhctqqvnpiqnjm.supabase.co/functions/v1/delete-user",o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`,"x-user-id":e.user.id},body:JSON.stringify({user_id:t})});if(!o.ok){const a=await o.json();throw new Error(a.error||`HTTP ${o.status}`)}console.log("[authService] User deleted successfully")}catch(e){throw console.error("[authService] Error in deleteUser:",e),e}},async signUpClient(t,e,r){console.log("[authService] Signing up client:",{email:t,...r});const{data:n,error:s}=await K.auth.signUp({email:t,password:e});if(s)throw s;if(!n.user)throw new Error("User creation failed");console.log("[authService] Auth user created:",n.user.id);const{data:o,error:a}=await K.from("users").upsert({user_name:r.name,user_email:t,user_role:"client",avatar:r.avatar,client_contact:r.contact,company_name:r.company,auth_user_id:n.user.id},{onConflict:"auth_user_id"}).select().single();if(a)throw console.error("[authService] Error creating user profile:",a),a;return console.log("[authService] User profile created:",o),{id:n.user.id,email:t,role:"client",profile:{user_id:o.user_id,user_name:o.user_name||r.name,user_email:o.user_email||t,user_role:"client",avatar:o.avatar||r.avatar,client_contact:o.client_contact||r.contact||null,company_name:o.company_name||r.company||null,company_name_ar:o.company_name_ar||null,user_name_ar:o.user_name_ar||null,auth_user_id:n.user.id,created_at:o.created_at||new Date().toISOString(),updated_at:o.updated_at||new Date().toISOString()}}},async signIn(t,e){console.log("[authService] Signing in with email:",t);try{const{data:r,error:n}=await K.auth.signInWithPassword({email:t,password:e});if(n)throw console.error("[authService] Authentication error:",n),n;if(!r.user)throw new Error("Sign in failed: No user data returned");console.log("[authService] User authenticated, fetching profile...");const{data:s,error:o}=await K.from("users").select("*").eq("auth_user_id",r.user.id).maybeSingle();if(o)throw console.error("[authService] Error fetching user profile:",o),new Error("Failed to fetch user profile");if(!s)throw console.error("[authService] User profile not found for user:",r.user.id),new Error("User profile not found");return console.log("[authService] User profile found:",s),{id:r.user.id,email:r.user.email,role:s.user_role||"client",profile:{...s}}}catch(r){throw console.error("[authService] Error in signIn:",r),r}},async signOut(){console.log("[authService] Signing out...");try{const{data:{session:t}}=await K.auth.getSession();if(!t){console.warn("[authService] No active session found  skipping signOut()");return}const{error:e}=await K.auth.signOut();if(e)throw console.error("[authService] Error signing out:",e),e;console.log("[authService] Sign out successful")}catch(t){throw console.error("[authService] Error in signOut:",t),t}},async signInWithGoogle(t="client"){console.log("[authService] Starting Google OAuth sign-in with role:",t);try{localStorage.setItem("oauth_intended_role",t);const{data:e,error:r}=await K.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,data:{intended_role:t},queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(r)throw console.error("[authService] Google OAuth error:",r),localStorage.removeItem("oauth_intended_role"),r;console.log("[authService] Google OAuth initiated successfully with role:",t)}catch(e){throw console.error("[authService] Error in Google sign-in:",e),localStorage.removeItem("oauth_intended_role"),e}},async getCurrentUser(t){console.log("[authService] Getting current user",{authUserId:t});try{let e;if(t)e={id:t},console.log("[authService] Using provided auth user ID:",t);else{console.log("[authService] Fetching auth user from session");const l=K.auth.getUser(),c=new Promise((u,d)=>setTimeout(()=>d(new Error("getUser timeout")),3e3));try{const{data:{user:u},error:d}=await Promise.race([l,c]);if(d||!u)return console.log("[authService] No authenticated user found"),null;e=u}catch(u){return console.warn("[authService] Failed to get user from session:",u),null}}console.log("[authService] Found auth user:",{id:e.id}),console.log("[authService] Checking users table for user:",e.id);const r=K.from("users").select("*").eq("auth_user_id",e.id).maybeSingle(),n=new Promise((l,c)=>setTimeout(()=>c(new Error("Database query timeout")),3e3));let s,o;try{const l=await Promise.race([r,n]);s=l.data,o=l.error}catch(l){return console.error("[authService] Database query timed out:",l),{id:e.id,email:"",role:"client",profile:{user_id:0,user_name:"User",user_email:"",user_role:"client",auth_user_id:e.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}if(console.log("[authService] Database query completed:",{hasData:!!s,hasError:!!o}),o&&console.error("[authService] Error fetching user from users table:",o),s)return console.log("[authService] Found user in users table:",s),{id:e.id,email:s.user_email||"",role:s.user_role||"client",profile:{...s}};console.warn("[authService] User authenticated but not found in users table, creating minimal user object",{userId:e.id});const a={id:e.id,email:"",role:"client",profile:{user_id:0,user_name:"User",user_email:"",user_role:"client",auth_user_id:e.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};return console.log("[authService] Returning minimal user object"),a}catch(e){return console.error("[authService] Error in getCurrentUser:",e),null}},async getFreshJwt(){const{data:{session:t},error:e}=await K.auth.getSession();if(e)throw e;if(!(t!=null&&t.access_token))throw new Error("No access token available");return t.access_token},onAuthStateChange(t){console.log("[authService] Setting up auth state change listener");let e=null;const r=async(s,o)=>{var l;console.log("[authService] Auth state changed:",{event:s,hasSession:!!o,userId:(l=o==null?void 0:o.user)==null?void 0:l.id});const a=async c=>{const u=this.getCurrentUser(c),d=new Promise((h,m)=>setTimeout(()=>m(new Error("getCurrentUser timeout")),3e3));return Promise.race([u,d])};if(s==="SIGNED_IN"&&(o!=null&&o.user))try{console.log("[authService] Fetching user profile for SIGNED_IN event");const c=await a(o.user.id);if(console.log("[authService] User profile fetched:",{hasUser:!!c}),c){const u=c.profile.user_name==="User",d=e&&e.profile.user_name!=="User";u&&d?console.log("[authService] Skipping update to minimal user, keeping full user"):JSON.stringify(c)!==JSON.stringify(e)&&(e=c,t(c))}}catch(c){if(console.error("[authService] Error or timeout getting current user:",c),!e){const u={id:o.user.id,email:o.user.email||"",role:"client",profile:{user_id:0,user_name:"User",user_email:o.user.email||"",user_role:"client",auth_user_id:o.user.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};e=u,t(u)}}else if(s==="INITIAL_SESSION")if(o!=null&&o.user)try{console.log("[authService] Fetching user profile for INITIAL_SESSION event"),await new Promise(u=>setTimeout(u,100));const c=await a(o.user.id);if(console.log("[authService] User profile fetched:",{hasUser:!!c}),c){const u=c.profile.user_name==="User",d=e&&e.profile.user_name!=="User";u&&d?console.log("[authService] Skipping update to minimal user, keeping full user"):JSON.stringify(c)!==JSON.stringify(e)&&(e=c,t(c))}}catch(c){if(console.error("[authService] Error or timeout getting current user:",c),!e){const u={id:o.user.id,email:o.user.email||"",role:"client",profile:{user_id:0,user_name:"User",user_email:o.user.email||"",user_role:"client",auth_user_id:o.user.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};e=u,t(u)}}else console.log("[authService] No session on initial check"),e=null,t(null);else s==="SIGNED_OUT"&&(console.log("[authService] User signed out"),e=null,t(null))},{data:{subscription:n}}=K.auth.onAuthStateChange(r);return console.log("[authService] Auth state change listener set up"),{data:{subscription:n}}}},g_=f.createContext(void 0),YO=({children:t})=>{const[e,r]=f.useState(null),[n,s]=f.useState(!0),[o,a]=f.useState(!1);f.useEffect(()=>{let w=!0,y=null,g=!1;const x=j=>{if(w){if(console.log("[AuthContext] Auth state changed:",{hasUser:!!j,isSigningUp:o}),o){console.log("[AuthContext] Skipping auth state change during signup");return}r(j),g||(g=!0,s(!1))}};console.log("[AuthContext] Initializing auth state...");const{data:{subscription:_}}=Zt.onAuthStateChange(x);return y=_,()=>{console.log("[AuthContext] Cleaning up auth state change listener"),w=!1,y&&y.unsubscribe()}},[]);const l=async(w,y)=>{console.log("[AuthContext] Signing in..."),s(!0);try{const g=await Zt.signIn(w,y);return console.log("[AuthContext] Sign in successful:",g),r(g),s(!1),g}catch(g){throw console.error("[AuthContext] Sign in failed:",g),s(!1),r(null),g}},c=async(w="client")=>{console.log("[AuthContext] Starting Google sign-in with role:",w),s(!0);try{await Zt.signInWithGoogle(w)}catch(y){throw console.error("[AuthContext] Google sign-in failed:",y),s(!1),y}},u=async()=>{console.log("[AuthContext] Signing out...");try{r(null),await Zt.signOut(),console.log("[AuthContext] Sign out successful")}catch(w){throw console.error("[AuthContext] Sign out failed:",w),r(null),w}},d=async(w,y,g)=>{console.log("[AuthContext] Signing up staff..."),s(!0),a(!0);try{const x=await Zt.signUpStaff(w,y,g);return console.log("[AuthContext] Staff sign up successful:",x),r(x),s(!1),x}catch(x){throw console.error("[AuthContext] Staff sign up failed:",x),s(!1),x}finally{a(!1)}},h=async(w,y,g)=>{console.log("[AuthContext] Creating staff user..."),s(!0);try{const x=await Zt.createStaffUser(w,y,g);return console.log("[AuthContext] Staff user creation successful:",x),s(!1),x}catch(x){throw console.error("[AuthContext] Staff user creation failed:",x),s(!1),x}},m=async w=>{console.log("[AuthContext] Deleting user..."),s(!0);try{await Zt.deleteUser(w),console.log("[AuthContext] User deletion successful"),s(!1)}catch(y){throw console.error("[AuthContext] User deletion failed:",y),s(!1),y}},p=async(w,y,g)=>{console.log("[AuthContext] Signing up client..."),s(!0),a(!0);try{const x=await Zt.signUpClient(w,y,g);return console.log("[AuthContext] Client sign up successful:",x),r(x),s(!1),x}catch(x){throw console.error("[AuthContext] Client sign up failed:",x),s(!1),x}finally{a(!1)}},b=w=>e?w.includes(e.role):!1,v={user:e,loading:n,signIn:l,signInWithGoogle:c,signOut:u,signUpStaff:d,createStaffUser:h,deleteUser:m,signUpClient:p,isAuthenticated:!!e,isClient:(e==null?void 0:e.role)==="client",isStaff:e?["admin","manager","employee","team_leader"].includes(e.role):!1,hasRole:b};return i.jsx(g_.Provider,{value:v,children:t})},st=()=>{const t=f.useContext(g_);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},v_=f.createContext(void 0),XO=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],ZO=({children:t})=>{const[e,r]=f.useState(Be.language||"ar"),[n,s]=f.useState(Mt());f.useEffect(()=>{const l=c=>{r(c),s(Mt())};return Be.on("languageChanged",l),()=>{Be.off("languageChanged",l)}},[]);const a={currentLanguage:e,changeLanguage:async l=>{try{await Be.changeLanguage(l),r(l),s(Mt())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:XO};return i.jsx(v_.Provider,{value:a,children:t})},vl=()=>{const t=f.useContext(v_);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t},eA=()=>i.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),i.jsx("span",{className:"sr-only",children:"Loading..."})]}),Pt=({children:t,allowedRoles:e,requireAuth:r=!0})=>{const n=ds(),{user:s,loading:o,hasRole:a}=st(),l=s&&s.role&&s.profile.user_name!=="User",c=f.useMemo(()=>e?a(e):!0,[e,a]);return f.useMemo(()=>({loading:o,user:s?{id:s.id,email:s.email,role:s.role}:null,hasRequiredRole:c}),[o,s,c]),console.log("[ProtectedRoute]",{path:n.pathname,loading:o,hasUser:!!s,isUserProfileLoaded:l,requireAuth:r,hasRequiredRole:c,userRole:s==null?void 0:s.role}),o||s&&!l?(console.log("[ProtectedRoute] Showing loading spinner - waiting for profile"),i.jsx(eA,{})):r&&!s?(console.log("[ProtectedRoute] No user, redirecting to login"),i.jsx(Jv,{to:"/login",state:{from:n},replace:!0})):e&&!c?(console.log("[ProtectedRoute] User does not have required role"),i.jsx(Jv,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),i.jsx(i.Fragment,{children:t}))};function Ey(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Wu(...t){return e=>{let r=!1;const n=t.map(s=>{const o=Ey(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Ey(t[s],null)}}}}function pe(...t){return f.useCallback(Wu(...t),t)}function Gs(t){const e=rA(t),r=f.forwardRef((n,s)=>{const{children:o,...a}=n,l=f.Children.toArray(o),c=l.find(sA);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return i.jsx(e,{...a,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return i.jsx(e,{...a,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var tA=Gs("Slot");function rA(t){const e=f.forwardRef((r,n)=>{const{children:s,...o}=r;if(f.isValidElement(s)){const a=iA(s),l=oA(o,s.props);return s.type!==f.Fragment&&(l.ref=n?Wu(n,a):a),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var y_=Symbol("radix.slottable");function nA(t){const e=({children:r})=>i.jsx(i.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=y_,e}function sA(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===y_}function oA(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function iA(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function x_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=x_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function w_(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=x_(t))&&(n&&(n+=" "),n+=e);return n}const Py=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ty=w_,yl=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Ty(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=o==null?void 0:o[u];if(d===null)return null;const m=Py(d)||Py(h);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:m,...p}=d;return Object.entries(p).every(b=>{let[v,w]=b;return Array.isArray(w)?w.includes({...o,...l}[v]):{...o,...l}[v]===w})?[...u,h,m]:u},[]);return Ty(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},wp="-",aA=t=>{const e=cA(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const l=a.split(wp);return l[0]===""&&l.length!==1&&l.shift(),b_(l,e)||lA(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},b_=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?b_(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(wp);return(a=e.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},Ry=/^\[(.+)\]$/,lA=t=>{if(Ry.test(t)){const e=Ry.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},cA=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return dA(Object.entries(t.classGroups),r).forEach(([o,a])=>{Vf(a,n,o,e)}),n},Vf=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Oy(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(uA(s)){Vf(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{Vf(a,Oy(e,o),r,n)})})},Oy=(t,e)=>{let r=t;return e.split(wp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},uA=t=>t.isThemeGetter,dA=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[e+a,l])):o);return[r,s]}):t,hA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}},__="!",fA=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,a=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===s&&(n||l.slice(w,w+o)===e)){c.push(l.slice(d,w)),d=w+o;continue}if(y==="/"){h=w;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(__),b=p?m.substring(1):m,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:a}):a},mA=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},pA=t=>({cache:hA(t.cacheSize),parseClassName:fA(t),...aA(t)}),gA=/\s+/,vA=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],a=t.trim().split(gA);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let b=!!p,v=n(b?m.substring(0,p):m);if(!v){if(!b){l=u+(l.length>0?" "+l:l);continue}if(v=n(m),!v){l=u+(l.length>0?" "+l:l);continue}b=!1}const w=mA(d).join(":"),y=h?w+__:w,g=y+v;if(o.includes(g))continue;o.push(g);const x=s(v,b);for(let _=0;_<x.length;++_){const j=x[_];o.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function yA(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=j_(e))&&(n&&(n+=" "),n+=r);return n}const j_=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=j_(t[n]))&&(r&&(r+=" "),r+=e);return r};function xA(t,...e){let r,n,s,o=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return r=pA(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=vA(c,r);return s(c,d),d}return function(){return o(yA.apply(null,arguments))}}const Re=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},S_=/^\[(?:([a-z-]+):)?(.+)\]$/i,wA=/^\d+\/\d+$/,bA=new Set(["px","full","screen"]),_A=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yr=t=>ei(t)||bA.has(t)||wA.test(t),_n=t=>zi(t,"length",IA),ei=t=>!!t&&!Number.isNaN(Number(t)),sh=t=>zi(t,"number",ei),ra=t=>!!t&&Number.isInteger(Number(t)),kA=t=>t.endsWith("%")&&ei(t.slice(0,-1)),he=t=>S_.test(t),jn=t=>_A.test(t),EA=new Set(["length","size","percentage"]),PA=t=>zi(t,EA,N_),TA=t=>zi(t,"position",N_),RA=new Set(["image","url"]),OA=t=>zi(t,RA,LA),AA=t=>zi(t,"",DA),na=()=>!0,zi=(t,e,r)=>{const n=S_.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},IA=t=>jA.test(t)&&!SA.test(t),N_=()=>!1,DA=t=>NA.test(t),LA=t=>CA.test(t),MA=()=>{const t=Re("colors"),e=Re("spacing"),r=Re("blur"),n=Re("brightness"),s=Re("borderColor"),o=Re("borderRadius"),a=Re("borderSpacing"),l=Re("borderWidth"),c=Re("contrast"),u=Re("grayscale"),d=Re("hueRotate"),h=Re("invert"),m=Re("gap"),p=Re("gradientColorStops"),b=Re("gradientColorStopPositions"),v=Re("inset"),w=Re("margin"),y=Re("opacity"),g=Re("padding"),x=Re("saturate"),_=Re("scale"),j=Re("sepia"),S=Re("skew"),N=Re("space"),E=Re("translate"),T=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",he,e],O=()=>[he,e],U=()=>["",Yr,_n],k=()=>["auto",ei,he],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",he],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[ei,he];return{cacheSize:500,separator:":",theme:{colors:[na],spacing:[Yr,_n],blur:["none","",jn,he],brightness:q(),borderColor:[t],borderRadius:["none","","full",jn,he],borderSpacing:O(),borderWidth:U(),contrast:q(),grayscale:L(),hueRotate:q(),invert:L(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[kA,_n],inset:A(),margin:A(),opacity:q(),padding:O(),saturate:q(),scale:q(),sepia:L(),skew:q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[jn]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),he]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ra,he]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",ra,he]}],"grid-cols":[{"grid-cols":[na]}],"col-start-end":[{col:["auto",{span:["full",ra,he]},he]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[na]}],"row-start-end":[{row:["auto",{span:[ra,he]},he]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[jn]},jn]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",jn,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sh]}],"font-family":[{font:[na]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",ei,sh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr,_n]}],"underline-offset":[{"underline-offset":["auto",Yr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),TA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Yr,he]}],"outline-w":[{outline:[Yr,_n]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Yr,_n]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",jn,AA]}],"shadow-color":[{shadow:[na]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",jn,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ra,he]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yr,_n,sh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$A=xA(MA);function z(...t){return $A(w_(t))}const bp=yl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=f.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const a=n?tA:"button";return i.jsx(a,{className:z(bp({variant:e,size:r,className:t})),ref:o,...s})});G.displayName="Button";const Ne=f.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ne.displayName="Input";var UA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oe=UA.reduce((t,e)=>{const r=Gs(`Primitive.${e}`),n=f.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function C_(t,e){t&&Mi.flushSync(()=>t.dispatchEvent(e))}var FA="Label",k_=f.forwardRef((t,e)=>i.jsx(oe.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));k_.displayName=FA;var E_=k_;const BA=yl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ct=f.forwardRef(({className:t,...e},r)=>i.jsx(E_,{ref:r,className:z(BA(),t),...e}));ct.displayName=E_.displayName;const zA=yl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),lu=f.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:z(zA({variant:e}),t),...r}));lu.displayName="Alert";const VA=f.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:z("mb-1 font-medium leading-none tracking-tight",t),...e}));VA.displayName="AlertTitle";const cu=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:z("text-sm [&_p]:leading-relaxed",t),...e}));cu.displayName="AlertDescription";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P_=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...l},c)=>f.createElement("svg",{ref:c,...HA,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:P_("lucide",s),...l},[...a.map(([u,d])=>f.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(t,e)=>{const r=f.forwardRef(({className:n,...s},o)=>f.createElement(KA,{ref:o,iconNode:e,className:P_(`lucide-${WA(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=ne("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ne("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=ne("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=ne("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=ne("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=ne("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ne("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=ne("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=ne("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=ne("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=ne("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=ne("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=ne("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=ne("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_I=()=>{const{t}=Ze(),[e,r]=f.useState(""),[n,s]=f.useState(""),[o,a]=f.useState(!1),[l,c]=f.useState(""),[u,d]=f.useState(!1);f.useState(!1);const{signIn:h,signInWithGoogle:m}=st(),p=Pr(),b=async v=>{v.preventDefault(),c(""),d(!0);try{const w=await h(e,n);w&&(console.log("[LoginForm] Sign in successful, user role:",w.role),w.role==="client"?p("/client-portal"):w.role==="employee"||w.role==="team_leader"?p("/employee_dashboard"):w.role==="partner"?p("/partner-dashboard"):w.role==="partner_employee"?p("/partner-employee-dashboard"):p("/dashboard"))}catch(w){console.error("[LoginForm] Sign in error:",w),c(w.message||t("auth.failedToSignIn")),d(!1)}};return i.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6 px-4 sm:px-0",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:t("auth.signIn")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:t("auth.enterCredentials")})]}),i.jsxs("form",{onSubmit:b,className:"space-y-5",children:[l&&i.jsx(lu,{variant:"destructive",children:i.jsx(cu,{className:"text-sm",children:l})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ct,{htmlFor:"email",className:"text-sm font-medium",children:t("auth.email")}),i.jsx(Ne,{id:"email",type:"email",value:e,onChange:v=>r(v.target.value),placeholder:"you@middar.com",required:!0,className:"h-11 text-base"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ct,{htmlFor:"password",className:"text-sm font-medium",children:t("auth.password")}),i.jsxs("div",{className:"relative",children:[i.jsx(Ne,{id:"password",type:o?"text":"password",value:n,onChange:v=>s(v.target.value),placeholder:"",required:!0,className:"h-11 text-base pe-10"}),i.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute end-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!o),"aria-label":o?"Hide password":"Show password",children:o?i.jsx(sI,{className:"h-4 w-4 text-muted-foreground"}):i.jsx(oI,{className:"h-4 w-4 text-muted-foreground"})})]})]}),i.jsx(G,{type:"submit",className:"w-full h-11 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200",disabled:u,children:u?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-current"}),t("auth.signingIn")]}):t("auth.signInButton")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:t("auth.dontHaveAccount")}),i.jsx(G,{variant:"link",className:"p-0 h-auto text-sm font-medium hover:text-primary transition-colors",onClick:()=>p("/signup"),children:t("auth.signUp")})]})]})},jI=()=>{const[t,e]=f.useState(!1);st();const r=Pr(),{t:n}=Ze();return i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),i.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),t&&i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),i.jsxs("div",{className:"text-center text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),i.jsx(G,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})},SI=[{labelKey:"navigation.clientPortal",path:"/client-portal",roles:["client"],icon:aI},{labelKey:"navigation.partnerDashboard",path:"/partner-dashboard",roles:["partner"],icon:XA},{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager"],icon:Ay},{labelKey:"navigation.empDashboard",path:"/employee_dashboard",roles:["employee","team_leader"],icon:Ay},{labelKey:"navigation.leads",path:"/leads",roles:["admin","manager","employee","team_leader"],icon:Vr},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader"],icon:Hu},{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader"],icon:L_},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","client"],icon:mI},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader"],icon:D_},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","client"],icon:Sp},{labelKey:"navigation.clients",path:"/clients",roles:["admin","manager"],icon:ki},{labelKey:"navigation.users",path:"/users",roles:["admin","manager"],icon:vI}];function Iy({onNavigate:t}={}){var o,a;const e=ds(),{user:r}=st(),{t:n}=Ze(),s=SI.filter(l=>r&&l.roles.includes(r.role));return i.jsxs("div",{className:"h-full w-full bg-sidebar border-r border-sidebar-border flex flex-col",children:[i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-6 sm:mb-8 px-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-xl",children:"M"})}),i.jsx("h1",{className:"text-xl font-bold text-sidebar-foreground tracking-tight",children:n("landing.brandName")})]}),i.jsx("nav",{className:"space-y-1",children:s.map(l=>{const c=e.pathname===l.path,u=l.icon;return i.jsxs(Pf,{to:l.path,onClick:t,className:z("flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium transition-all duration-200 group",c?"bg-primary text-primary-foreground shadow-sm":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[i.jsx(u,{className:z("h-4 w-4",c?"text-primary-foreground":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),i.jsx("span",{children:n(l.labelKey)})]},l.path+l.labelKey)})})]}),i.jsx("div",{className:"mt-auto p-4 sm:p-6 border-t border-sidebar-border/50",children:i.jsxs("div",{className:"flex items-center gap-3 px-2 py-2 rounded-lg bg-sidebar-accent/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold text-sm",children:(o=r==null?void 0:r.email)==null?void 0:o.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:r==null?void 0:r.email}),i.jsx("p",{className:"text-xs text-sidebar-foreground/50 capitalize",children:(a=r==null?void 0:r.role)==null?void 0:a.replace("_"," ")})]})]})})]})}function NI(){const e=ds().pathname.split("/").filter(r=>r);return e.length===0?null:i.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(Pf,{to:"/",className:"hover:text-foreground transition-colors",children:"Home"}),e.map((r,n)=>{const s=`/${e.slice(0,n+1).join("/")}`,o=n===e.length-1,a=r.split("-").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ");return i.jsxs("div",{className:"flex items-center",children:[i.jsx(R_,{className:"h-4 w-4 mx-2 text-muted-foreground"}),o?i.jsx("span",{className:"text-foreground font-medium",children:a}):i.jsx(Pf,{to:s,className:"hover:text-foreground transition-colors",children:a})]},r)})]})}function Hf(t,[e,r]){return Math.min(r,Math.max(e,t))}function J(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function CI(t,e){const r=f.createContext(e),n=o=>{const{children:a,...l}=o,c=f.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:a})};n.displayName=t+"Provider";function s(o){const a=f.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function Jt(t,e=[]){let r=[];function n(o,a){const l=f.createContext(a),c=r.length;r=[...r,a];const u=h=>{var y;const{scope:m,children:p,...b}=h,v=((y=m==null?void 0:m[t])==null?void 0:y[c])||l,w=f.useMemo(()=>b,Object.values(b));return i.jsx(v.Provider,{value:w,children:p})};u.displayName=o+"Provider";function d(h,m){var v;const p=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,b=f.useContext(p);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[t])||o;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,kI(s,...e)]}function kI(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function Cp(t){const e=t+"CollectionProvider",[r,n]=Jt(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:w,children:y}=v,g=Sn.useRef(null),x=Sn.useRef(new Map).current;return i.jsx(s,{scope:w,itemMap:x,collectionRef:g,children:y})};a.displayName=e;const l=t+"CollectionSlot",c=Gs(l),u=Sn.forwardRef((v,w)=>{const{scope:y,children:g}=v,x=o(l,y),_=pe(w,x.collectionRef);return i.jsx(c,{ref:_,children:g})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=Gs(d),p=Sn.forwardRef((v,w)=>{const{scope:y,children:g,...x}=v,_=Sn.useRef(null),j=pe(w,_),S=o(d,y);return Sn.useEffect(()=>(S.itemMap.set(_,{ref:_,...x}),()=>void S.itemMap.delete(_))),i.jsx(m,{[h]:"",ref:j,children:g})});p.displayName=d;function b(v){const w=o(t+"CollectionConsumer",v);return Sn.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((S,N)=>x.indexOf(S.ref.current)-x.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},b,n]}var EI=f.createContext(void 0);function xl(t){const e=f.useContext(EI);return t||e||"ltr"}function it(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function PI(t,e=globalThis==null?void 0:globalThis.document){const r=it(t);f.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var TI="DismissableLayer",Kf="dismissableLayer.update",RI="dismissableLayer.pointerDownOutside",OI="dismissableLayer.focusOutside",Dy,$_=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ku=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=f.useContext($_),[d,h]=f.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),b=pe(e,N=>h(N)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(w),g=d?v.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=y,j=DI(N=>{const E=N.target,T=[...u.branches].some(R=>R.contains(E));!_||T||(s==null||s(N),a==null||a(N),N.defaultPrevented||l==null||l())},m),S=LI(N=>{const E=N.target;[...u.branches].some(R=>R.contains(E))||(o==null||o(N),a==null||a(N),N.defaultPrevented||l==null||l())},m);return PI(N=>{g===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),f.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Dy=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ly(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Dy)}},[d,m,r,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ly())},[d,u]),f.useEffect(()=>{const N=()=>p({});return document.addEventListener(Kf,N),()=>document.removeEventListener(Kf,N)},[]),i.jsx(oe.div,{...c,ref:b,style:{pointerEvents:x?_?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,S.onFocusCapture),onBlurCapture:J(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,j.onPointerDownCapture)})});Ku.displayName=TI;var AI="DismissableLayerBranch",II=f.forwardRef((t,e)=>{const r=f.useContext($_),n=f.useRef(null),s=pe(e,n);return f.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(oe.div,{...t,ref:s})});II.displayName=AI;function DI(t,e=globalThis==null?void 0:globalThis.document){const r=it(t),n=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){U_(RI,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function LI(t,e=globalThis==null?void 0:globalThis.document){const r=it(t),n=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!n.current&&U_(OI,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ly(){const t=new CustomEvent(Kf);document.dispatchEvent(t)}function U_(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?C_(s,o):s.dispatchEvent(o)}var oh=0;function kp(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??My()),document.body.insertAdjacentElement("beforeend",t[1]??My()),oh++,()=>{oh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),oh--}},[])}function My(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ih="focusScope.autoFocusOnMount",ah="focusScope.autoFocusOnUnmount",$y={bubbles:!1,cancelable:!0},MI="FocusScope",qu=f.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=t,[l,c]=f.useState(null),u=it(s),d=it(o),h=f.useRef(null),m=pe(e,v=>c(v)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let v=function(x){if(p.paused||!l)return;const _=x.target;l.contains(_)?h.current=_:Cn(h.current,{select:!0})},w=function(x){if(p.paused||!l)return;const _=x.relatedTarget;_!==null&&(l.contains(_)||Cn(h.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const j of x)j.removedNodes.length>0&&Cn(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),g.disconnect()}}},[n,l,p.paused]),f.useEffect(()=>{if(l){Fy.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(ih,$y);l.addEventListener(ih,u),l.dispatchEvent(y),y.defaultPrevented||($I(VI(F_(l)),{select:!0}),document.activeElement===v&&Cn(l))}return()=>{l.removeEventListener(ih,u),setTimeout(()=>{const y=new CustomEvent(ah,$y);l.addEventListener(ah,d),l.dispatchEvent(y),y.defaultPrevented||Cn(v??document.body,{select:!0}),l.removeEventListener(ah,d),Fy.remove(p)},0)}}},[l,u,d,p]);const b=f.useCallback(v=>{if(!r&&!n||p.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(w&&y){const g=v.currentTarget,[x,_]=UI(g);x&&_?!v.shiftKey&&y===_?(v.preventDefault(),r&&Cn(x,{select:!0})):v.shiftKey&&y===x&&(v.preventDefault(),r&&Cn(_,{select:!0})):y===g&&v.preventDefault()}},[r,n,p.paused]);return i.jsx(oe.div,{tabIndex:-1,...a,ref:m,onKeyDown:b})});qu.displayName=MI;function $I(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Cn(n,{select:e}),document.activeElement!==r)return}function UI(t){const e=F_(t),r=Uy(e,t),n=Uy(e.reverse(),t);return[r,n]}function F_(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Uy(t,e){for(const r of t)if(!FI(r,{upTo:e}))return r}function FI(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function BI(t){return t instanceof HTMLInputElement&&"select"in t}function Cn(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&BI(t)&&e&&t.select()}}var Fy=zI();function zI(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=By(t,e),t.unshift(e)},remove(e){var r;t=By(t,e),(r=t[0])==null||r.resume()}}}function By(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function VI(t){return t.filter(e=>e.tagName!=="A")}var Xe=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},WI=um[" useId ".trim().toString()]||(()=>{}),HI=0;function Br(t){const[e,r]=f.useState(WI());return Xe(()=>{r(n=>n??String(HI++))},[t]),e?`radix-${e}`:""}const KI=["top","right","bottom","left"],os=Math.min,Ut=Math.max,fu=Math.round,oc=Math.floor,zr=t=>({x:t,y:t}),qI={left:"right",right:"left",bottom:"top",top:"bottom"},GI={start:"end",end:"start"};function qf(t,e,r){return Ut(t,os(e,r))}function hn(t,e){return typeof t=="function"?t(e):t}function fn(t){return t.split("-")[0]}function Vi(t){return t.split("-")[1]}function Ep(t){return t==="x"?"y":"x"}function Pp(t){return t==="y"?"height":"width"}const QI=new Set(["top","bottom"]);function $r(t){return QI.has(fn(t))?"y":"x"}function Tp(t){return Ep($r(t))}function JI(t,e,r){r===void 0&&(r=!1);const n=Vi(t),s=Tp(t),o=Pp(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=mu(a)),[a,mu(a)]}function YI(t){const e=mu(t);return[Gf(t),e,Gf(e)]}function Gf(t){return t.replace(/start|end/g,e=>GI[e])}const zy=["left","right"],Vy=["right","left"],XI=["top","bottom"],ZI=["bottom","top"];function eD(t,e,r){switch(t){case"top":case"bottom":return r?e?Vy:zy:e?zy:Vy;case"left":case"right":return e?XI:ZI;default:return[]}}function tD(t,e,r,n){const s=Vi(t);let o=eD(fn(t),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(Gf)))),o}function mu(t){return t.replace(/left|right|bottom|top/g,e=>qI[e])}function rD(t){return{top:0,right:0,bottom:0,left:0,...t}}function B_(t){return typeof t!="number"?rD(t):{top:t,right:t,bottom:t,left:t}}function pu(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Wy(t,e,r){let{reference:n,floating:s}=t;const o=$r(e),a=Tp(e),l=Pp(a),c=fn(e),u=o==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Vi(e)){case"start":p[a]-=m*(r&&u?-1:1);break;case"end":p[a]+=m*(r&&u?-1:1);break}return p}const nD=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=Wy(u,n,c),m=n,p={},b=0;for(let v=0;v<l.length;v++){const{name:w,fn:y}=l[v],{x:g,y:x,data:_,reset:j}=await y({x:d,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=g??d,h=x??h,p={...p,[w]:{...p[w],..._}},j&&b<=50&&(b++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:d,y:h}=Wy(u,m,c)),v=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:p}};async function Za(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=hn(e,t),b=B_(p),w=l[m?h==="floating"?"reference":"floating":h],y=pu(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},j=pu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:x,strategy:c}):g);return{top:(y.top-j.top+b.top)/_.y,bottom:(j.bottom-y.bottom+b.bottom)/_.y,left:(y.left-j.left+b.left)/_.x,right:(j.right-y.right+b.right)/_.x}}const sD=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=hn(t,e)||{};if(u==null)return{};const h=B_(d),m={x:r,y:n},p=Tp(s),b=Pp(p),v=await a.getDimensions(u),w=p==="y",y=w?"top":"left",g=w?"bottom":"right",x=w?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[p]-m[p]-o.floating[b],j=m[p]-o.reference[p],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=S?S[x]:0;(!N||!await(a.isElement==null?void 0:a.isElement(S)))&&(N=l.floating[x]||o.floating[b]);const E=_/2-j/2,T=N/2-v[b]/2-1,R=os(h[y],T),A=os(h[g],T),O=R,U=N-v[b]-A,k=N/2-v[b]/2+E,B=qf(O,k,U),M=!c.arrow&&Vi(s)!=null&&k!==B&&o.reference[b]/2-(k<O?R:A)-v[b]/2<0,D=M?k<O?k-O:k-U:0;return{[p]:m[p]+D,data:{[p]:B,centerOffset:k-B-D,...M&&{alignmentOffset:D}},reset:M}}}),oD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...w}=hn(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=fn(s),g=$r(l),x=fn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=m||(x||!v?[mu(l)]:YI(l)),S=b!=="none";!m&&S&&j.push(...tD(l,v,b,_));const N=[l,...j],E=await Za(e,w),T=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&T.push(E[y]),h){const k=JI(s,a,_);T.push(E[k[0]],E[k[1]])}if(R=[...R,{placement:s,overflows:T}],!T.every(k=>k<=0)){var A,O;const k=(((A=o.flip)==null?void 0:A.index)||0)+1,B=N[k];if(B&&(!(h==="alignment"?g!==$r(B):!1)||R.every(I=>I.overflows[0]>0&&$r(I.placement)===g)))return{data:{index:k,overflows:R},reset:{placement:B}};let M=(O=R.filter(D=>D.overflows[0]<=0).sort((D,I)=>D.overflows[1]-I.overflows[1])[0])==null?void 0:O.placement;if(!M)switch(p){case"bestFit":{var U;const D=(U=R.filter(I=>{if(S){const L=$r(I.placement);return L===g||L==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(L=>L>0).reduce((L,W)=>L+W,0)]).sort((I,L)=>I[1]-L[1])[0])==null?void 0:U[0];D&&(M=D);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function Hy(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ky(t){return KI.some(e=>t[e]>=0)}const iD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=hn(t,e);switch(n){case"referenceHidden":{const o=await Za(e,{...s,elementContext:"reference"}),a=Hy(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Ky(a)}}}case"escaped":{const o=await Za(e,{...s,altBoundary:!0}),a=Hy(o,r.floating);return{data:{escapedOffsets:a,escaped:Ky(a)}}}default:return{}}}}},z_=new Set(["left","top"]);async function aD(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=fn(r),l=Vi(r),c=$r(r)==="y",u=z_.has(a)?-1:1,d=o&&c?-1:1,h=hn(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const lD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:a,middlewareData:l}=e,c=await aD(e,t);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},cD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:y,y:g}=w;return{x:y,y:g}}},...c}=hn(t,e),u={x:r,y:n},d=await Za(e,c),h=$r(fn(s)),m=Ep(h);let p=u[m],b=u[h];if(o){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",g=p+d[w],x=p-d[y];p=qf(g,p,x)}if(a){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=b+d[w],x=b-d[y];b=qf(g,b,x)}const v=l.fn({...e,[m]:p,[h]:b});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:o,[h]:a}}}}}},uD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=hn(t,e),d={x:r,y:n},h=$r(s),m=Ep(h);let p=d[m],b=d[h];const v=hn(l,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const x=m==="y"?"height":"width",_=o.reference[m]-o.floating[x]+w.mainAxis,j=o.reference[m]+o.reference[x]-w.mainAxis;p<_?p=_:p>j&&(p=j)}if(u){var y,g;const x=m==="y"?"width":"height",_=z_.has(fn(s)),j=o.reference[h]-o.floating[x]+(_&&((y=a.offset)==null?void 0:y[h])||0)+(_?0:w.crossAxis),S=o.reference[h]+o.reference[x]+(_?0:((g=a.offset)==null?void 0:g[h])||0)-(_?w.crossAxis:0);b<j?b=j:b>S&&(b=S)}return{[m]:p,[h]:b}}}},dD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:a,elements:l}=e,{apply:c=()=>{},...u}=hn(t,e),d=await Za(e,u),h=fn(s),m=Vi(s),p=$r(s)==="y",{width:b,height:v}=o.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,w=m==="end"?"top":"bottom");const g=v-d.top-d.bottom,x=b-d.left-d.right,_=os(v-d[w],g),j=os(b-d[y],x),S=!e.middlewareData.shift;let N=_,E=j;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=x),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(N=g),S&&!m){const R=Ut(d.left,0),A=Ut(d.right,0),O=Ut(d.top,0),U=Ut(d.bottom,0);p?E=b-2*(R!==0||A!==0?R+A:Ut(d.left,d.right)):N=v-2*(O!==0||U!==0?O+U:Ut(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:N});const T=await a.getDimensions(l.floating);return b!==T.width||v!==T.height?{reset:{rects:!0}}:{}}}};function Gu(){return typeof window<"u"}function Wi(t){return V_(t)?(t.nodeName||"").toLowerCase():"#document"}function Wt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gr(t){var e;return(e=(V_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function V_(t){return Gu()?t instanceof Node||t instanceof Wt(t).Node:!1}function kr(t){return Gu()?t instanceof Element||t instanceof Wt(t).Element:!1}function Wr(t){return Gu()?t instanceof HTMLElement||t instanceof Wt(t).HTMLElement:!1}function qy(t){return!Gu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wt(t).ShadowRoot}const hD=new Set(["inline","contents"]);function wl(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Er(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!hD.has(s)}const fD=new Set(["table","td","th"]);function mD(t){return fD.has(Wi(t))}const pD=[":popover-open",":modal"];function Qu(t){return pD.some(e=>{try{return t.matches(e)}catch{return!1}})}const gD=["transform","translate","scale","rotate","perspective"],vD=["transform","translate","scale","rotate","perspective","filter"],yD=["paint","layout","strict","content"];function Rp(t){const e=Op(),r=kr(t)?Er(t):t;return gD.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||vD.some(n=>(r.willChange||"").includes(n))||yD.some(n=>(r.contain||"").includes(n))}function xD(t){let e=is(t);for(;Wr(e)&&!Ti(e);){if(Rp(e))return e;if(Qu(e))return null;e=is(e)}return null}function Op(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wD=new Set(["html","body","#document"]);function Ti(t){return wD.has(Wi(t))}function Er(t){return Wt(t).getComputedStyle(t)}function Ju(t){return kr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function is(t){if(Wi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qy(t)&&t.host||Gr(t);return qy(e)?e.host:e}function W_(t){const e=is(t);return Ti(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wr(e)&&wl(e)?e:W_(e)}function el(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=W_(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),a=Wt(s);if(o){const l=Qf(a);return e.concat(a,a.visualViewport||[],wl(s)?s:[],l&&r?el(l):[])}return e.concat(s,el(s,[],r))}function Qf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function H_(t){const e=Er(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Wr(t),o=s?t.offsetWidth:r,a=s?t.offsetHeight:n,l=fu(r)!==o||fu(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function Ap(t){return kr(t)?t:t.contextElement}function ti(t){const e=Ap(t);if(!Wr(e))return zr(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=H_(e);let a=(o?fu(r.width):r.width)/n,l=(o?fu(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const bD=zr(0);function K_(t){const e=Wt(t);return!Op()||!e.visualViewport?bD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _D(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Wt(t)?!1:e}function Qs(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Ap(t);let a=zr(1);e&&(n?kr(n)&&(a=ti(n)):a=ti(t));const l=_D(o,r,n)?K_(o):zr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(o){const m=Wt(o),p=n&&kr(n)?Wt(n):n;let b=m,v=Qf(b);for(;v&&n&&p!==b;){const w=ti(v),y=v.getBoundingClientRect(),g=Er(v),x=y.left+(v.clientLeft+parseFloat(g.paddingLeft))*w.x,_=y.top+(v.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=x,u+=_,b=Wt(v),v=Qf(b)}}return pu({width:d,height:h,x:c,y:u})}function Ip(t,e){const r=Ju(t).scrollLeft;return e?e.left+r:Qs(Gr(t)).left+r}function q_(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:Ip(t,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function jD(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",a=Gr(n),l=e?Qu(e.floating):!1;if(n===a||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=zr(1);const d=zr(0),h=Wr(n);if((h||!h&&!o)&&((Wi(n)!=="body"||wl(a))&&(c=Ju(n)),Wr(n))){const p=Qs(n);u=ti(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=a&&!h&&!o?q_(a,c,!0):zr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function SD(t){return Array.from(t.getClientRects())}function ND(t){const e=Gr(t),r=Ju(t),n=t.ownerDocument.body,s=Ut(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Ut(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Ip(t);const l=-r.scrollTop;return Er(n).direction==="rtl"&&(a+=Ut(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:l}}function CD(t,e){const r=Wt(t),n=Gr(t),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=Op();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}const kD=new Set(["absolute","fixed"]);function ED(t,e){const r=Qs(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Wr(t)?ti(t):zr(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:a,height:l,x:c,y:u}}function Gy(t,e,r){let n;if(e==="viewport")n=CD(t,r);else if(e==="document")n=ND(Gr(t));else if(kr(e))n=ED(e,r);else{const s=K_(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return pu(n)}function G_(t,e){const r=is(t);return r===e||!kr(r)||Ti(r)?!1:Er(r).position==="fixed"||G_(r,e)}function PD(t,e){const r=e.get(t);if(r)return r;let n=el(t,[],!1).filter(l=>kr(l)&&Wi(l)!=="body"),s=null;const o=Er(t).position==="fixed";let a=o?is(t):t;for(;kr(a)&&!Ti(a);){const l=Er(a),c=Rp(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&kD.has(s.position)||wl(a)&&!c&&G_(t,a))?n=n.filter(d=>d!==a):s=l,a=is(a)}return e.set(t,n),n}function TD(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const a=[...r==="clippingAncestors"?Qu(e)?[]:PD(e,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const h=Gy(e,d,s);return u.top=Ut(h.top,u.top),u.right=os(h.right,u.right),u.bottom=os(h.bottom,u.bottom),u.left=Ut(h.left,u.left),u},Gy(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function RD(t){const{width:e,height:r}=H_(t);return{width:e,height:r}}function OD(t,e,r){const n=Wr(e),s=Gr(e),o=r==="fixed",a=Qs(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=zr(0);function u(){c.x=Ip(s)}if(n||!n&&!o)if((Wi(e)!=="body"||wl(s))&&(l=Ju(e)),n){const p=Qs(e,!0,o,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();o&&!n&&s&&u();const d=s&&!n&&!o?q_(s,l):zr(0),h=a.left+l.scrollLeft-c.x-d.x,m=a.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function lh(t){return Er(t).position==="static"}function Qy(t,e){if(!Wr(t)||Er(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Gr(t)===r&&(r=r.ownerDocument.body),r}function Q_(t,e){const r=Wt(t);if(Qu(t))return r;if(!Wr(t)){let s=is(t);for(;s&&!Ti(s);){if(kr(s)&&!lh(s))return s;s=is(s)}return r}let n=Qy(t,e);for(;n&&mD(n)&&lh(n);)n=Qy(n,e);return n&&Ti(n)&&lh(n)&&!Rp(n)?r:n||xD(t)||r}const AD=async function(t){const e=this.getOffsetParent||Q_,r=this.getDimensions,n=await r(t.floating);return{reference:OD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ID(t){return Er(t).direction==="rtl"}const DD={convertOffsetParentRelativeRectToViewportRelativeRect:jD,getDocumentElement:Gr,getClippingRect:TD,getOffsetParent:Q_,getElementRects:AD,getClientRects:SD,getDimensions:RD,getScale:ti,isElement:kr,isRTL:ID};function J_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LD(t,e){let r=null,n;const s=Gr(t);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:p}=u;if(l||e(),!m||!p)return;const b=oc(h),v=oc(s.clientWidth-(d+m)),w=oc(s.clientHeight-(h+p)),y=oc(d),x={rootMargin:-b+"px "+-v+"px "+-w+"px "+-y+"px",threshold:Ut(0,os(1,c))||1};let _=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!_)return a();N?a(!1,N):n=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!J_(u,t.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(j,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,x)}r.observe(t)}return a(!0),o}function MD(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Ap(t),d=s||o?[...u?el(u):[],...el(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const h=u&&l?LD(u,r):null;let m=-1,p=null;a&&(p=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let b,v=c?Qs(t):null;c&&w();function w(){const y=Qs(t);v&&!J_(v,y)&&r(),v=y,b=requestAnimationFrame(w)}return r(),()=>{var y;d.forEach(g=>{s&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const $D=lD,UD=cD,FD=oD,BD=dD,zD=iD,Jy=sD,VD=uD,WD=(t,e,r)=>{const n=new Map,s={platform:DD,...r},o={...s.platform,_c:n};return nD(t,e,{...s,platform:o})};var HD=typeof document<"u",KD=function(){},Sc=HD?f.useLayoutEffect:KD;function gu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!gu(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!gu(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Y_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Yy(t,e){const r=Y_(t);return Math.round(e*r)/r}function ch(t){const e=f.useRef(t);return Sc(()=>{e.current=t}),e}function qD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=f.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(n);gu(m,n)||p(n);const[b,v]=f.useState(null),[w,y]=f.useState(null),g=f.useCallback(I=>{I!==S.current&&(S.current=I,v(I))},[]),x=f.useCallback(I=>{I!==N.current&&(N.current=I,y(I))},[]),_=o||b,j=a||w,S=f.useRef(null),N=f.useRef(null),E=f.useRef(d),T=c!=null,R=ch(c),A=ch(s),O=ch(u),U=f.useCallback(()=>{if(!S.current||!N.current)return;const I={placement:e,strategy:r,middleware:m};A.current&&(I.platform=A.current),WD(S.current,N.current,I).then(L=>{const W={...L,isPositioned:O.current!==!1};k.current&&!gu(E.current,W)&&(E.current=W,Mi.flushSync(()=>{h(W)}))})},[m,e,r,A,O]);Sc(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const k=f.useRef(!1);Sc(()=>(k.current=!0,()=>{k.current=!1}),[]),Sc(()=>{if(_&&(S.current=_),j&&(N.current=j),_&&j){if(R.current)return R.current(_,j,U);U()}},[_,j,U,R,T]);const B=f.useMemo(()=>({reference:S,floating:N,setReference:g,setFloating:x}),[g,x]),M=f.useMemo(()=>({reference:_,floating:j}),[_,j]),D=f.useMemo(()=>{const I={position:r,left:0,top:0};if(!M.floating)return I;const L=Yy(M.floating,d.x),W=Yy(M.floating,d.y);return l?{...I,transform:"translate("+L+"px, "+W+"px)",...Y_(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:W}},[r,l,M.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:U,refs:B,elements:M,floatingStyles:D}),[d,U,B,M,D])}const GD=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Jy({element:n.current,padding:s}).fn(r):{}:n?Jy({element:n,padding:s}).fn(r):{}}}},QD=(t,e)=>({...$D(t),options:[t,e]}),JD=(t,e)=>({...UD(t),options:[t,e]}),YD=(t,e)=>({...VD(t),options:[t,e]}),XD=(t,e)=>({...FD(t),options:[t,e]}),ZD=(t,e)=>({...BD(t),options:[t,e]}),eL=(t,e)=>({...zD(t),options:[t,e]}),tL=(t,e)=>({...GD(t),options:[t,e]});var rL="Arrow",X_=f.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return i.jsx(oe.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});X_.displayName=rL;var nL=X_;function Z_(t){const[e,r]=f.useState(void 0);return Xe(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;r({width:a,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Dp="Popper",[ej,Yu]=Jt(Dp),[sL,tj]=ej(Dp),rj=t=>{const{__scopePopper:e,children:r}=t,[n,s]=f.useState(null);return i.jsx(sL,{scope:e,anchor:n,onAnchorChange:s,children:r})};rj.displayName=Dp;var nj="PopperAnchor",sj=f.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=tj(nj,r),a=f.useRef(null),l=pe(e,a);return f.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:i.jsx(oe.div,{...s,ref:l})});sj.displayName=nj;var Lp="PopperContent",[oL,iL]=ej(Lp),oj=f.forwardRef((t,e)=>{var H,de,ye,se,fe,ve;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:b,...v}=t,w=tj(Lp,r),[y,g]=f.useState(null),x=pe(e,C=>g(C)),[_,j]=f.useState(null),S=Z_(_),N=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,T=n+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],O=A.length>0,U={padding:R,boundary:A.filter(lL),altBoundary:O},{refs:k,floatingStyles:B,placement:M,isPositioned:D,middlewareData:I}=qD({strategy:"fixed",placement:T,whileElementsMounted:(...C)=>MD(...C,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[QD({mainAxis:s+E,alignmentAxis:a}),c&&JD({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?YD():void 0,...U}),c&&XD({...U}),ZD({...U,apply:({elements:C,rects:$,availableWidth:ee,availableHeight:Se})=>{const{width:De,height:Le}=$.reference,Me=C.floating.style;Me.setProperty("--radix-popper-available-width",`${ee}px`),Me.setProperty("--radix-popper-available-height",`${Se}px`),Me.setProperty("--radix-popper-anchor-width",`${De}px`),Me.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),_&&tL({element:_,padding:l}),cL({arrowWidth:N,arrowHeight:E}),m&&eL({strategy:"referenceHidden",...U})]}),[L,W]=lj(M),q=it(b);Xe(()=>{D&&(q==null||q())},[D,q]);const Z=(H=I.arrow)==null?void 0:H.x,be=(de=I.arrow)==null?void 0:de.y,je=((ye=I.arrow)==null?void 0:ye.centerOffset)!==0,[F,Q]=f.useState();return Xe(()=>{y&&Q(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:D?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[(se=I.transformOrigin)==null?void 0:se.x,(fe=I.transformOrigin)==null?void 0:fe.y].join(" "),...((ve=I.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(oL,{scope:r,placedSide:L,onArrowChange:j,arrowX:Z,arrowY:be,shouldHideArrow:je,children:i.jsx(oe.div,{"data-side":L,"data-align":W,...v,ref:x,style:{...v.style,animation:D?void 0:"none"}})})})});oj.displayName=Lp;var ij="PopperArrow",aL={top:"bottom",right:"left",bottom:"top",left:"right"},aj=f.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=iL(ij,n),a=aL[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(nL,{...s,ref:r,style:{...s.style,display:"block"}})})});aj.displayName=ij;function lL(t){return t!==null}var cL=t=>({name:"transformOrigin",options:t,fn(e){var w,y,g;const{placement:r,rects:n,middlewareData:s}=e,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=lj(r),h={start:"0%",center:"50%",end:"100%"}[d],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let b="",v="";return u==="bottom"?(b=a?h:`${m}px`,v=`${-c}px`):u==="top"?(b=a?h:`${m}px`,v=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,v=a?h:`${p}px`):u==="left"&&(b=`${n.floating.width+c}px`,v=a?h:`${p}px`),{data:{x:b,y:v}}}});function lj(t){const[e,r="center"]=t.split("-");return[e,r]}var cj=rj,uj=sj,dj=oj,hj=aj,uL="Portal",Xu=f.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,o]=f.useState(!1);Xe(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?xE.createPortal(i.jsx(oe.div,{...n,ref:e}),a):null});Xu.displayName=uL;var dL=um[" useInsertionEffect ".trim().toString()]||Xe;function Js({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,a]=hL({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:s;{const d=f.useRef(t!==void 0);f.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=f.useCallback(d=>{var h;if(l){const m=fL(d)?d(t):d;m!==t&&((h=a.current)==null||h.call(a,m))}else o(d)},[l,t,o,a]);return[c,u]}function hL({defaultProp:t,onChange:e}){const[r,n]=f.useState(t),s=f.useRef(r),o=f.useRef(e);return dL(()=>{o.current=e},[e]),f.useEffect(()=>{var a;s.current!==r&&((a=o.current)==null||a.call(o,r),s.current=r)},[r,s]),[r,n,o]}function fL(t){return typeof t=="function"}function fj(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mL="VisuallyHidden",pL=f.forwardRef((t,e)=>i.jsx(oe.span,{...t,ref:e,style:{...mj,...t.style}}));pL.displayName=mL;var gL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Co=new WeakMap,ic=new WeakMap,ac={},uh=0,pj=function(t){return t&&(t.host||pj(t.parentNode))},vL=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=pj(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},yL=function(t,e,r,n){var s=vL(e,Array.isArray(t)?t:[t]);ac[r]||(ac[r]=new WeakMap);var o=ac[r],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(n),b=p!==null&&p!=="false",v=(Co.get(m)||0)+1,w=(o.get(m)||0)+1;Co.set(m,v),o.set(m,w),a.push(m),v===1&&b&&ic.set(m,!0),w===1&&m.setAttribute(r,"true"),b||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return d(e),l.clear(),uh++,function(){a.forEach(function(h){var m=Co.get(h)-1,p=o.get(h)-1;Co.set(h,m),o.set(h,p),m||(ic.has(h)||h.removeAttribute(n),ic.delete(h)),p||h.removeAttribute(r)}),uh--,uh||(Co=new WeakMap,Co=new WeakMap,ic=new WeakMap,ac={})}},Mp=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=gL(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),yL(n,s,r,"aria-hidden")):function(){return null}},Nc="right-scroll-bar-position",Cc="width-before-scroll-bar",xL="with-scroll-bars-hidden",wL="--removed-body-scroll-bar-size";function dh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bL(t,e){var r=f.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var _L=typeof window<"u"?f.useLayoutEffect:f.useEffect,Xy=new WeakMap;function jL(t,e){var r=bL(null,function(n){return t.forEach(function(s){return dh(s,n)})});return _L(function(){var n=Xy.get(r);if(n){var s=new Set(n),o=new Set(t),a=r.current;s.forEach(function(l){o.has(l)||dh(l,null)}),o.forEach(function(l){s.has(l)||dh(l,a)})}Xy.set(r,t)},[t]),r}function SL(t){return t}function NL(t,e){e===void 0&&(e=SL);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var a=e(o,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function CL(t){t===void 0&&(t={});var e=NL(null);return e.options=nr({async:!0,ssr:!1},t),e}var gj=function(t){var e=t.sideCar,r=hs(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,nr({},r))};gj.isSideCarExport=!0;function kL(t,e){return t.useMedium(e),gj}var vj=CL(),hh=function(){},Zu=f.forwardRef(function(t,e){var r=f.useRef(null),n=f.useState({onScrollCapture:hh,onWheelCapture:hh,onTouchMoveCapture:hh}),s=n[0],o=n[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,p=t.noRelative,b=t.noIsolation,v=t.inert,w=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,x=t.gapMode,_=hs(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,S=jL([r,e]),N=nr(nr({},_),s);return f.createElement(f.Fragment,null,d&&f.createElement(j,{sideCar:vj,removeScrollBar:u,shards:h,noRelative:p,noIsolation:b,inert:v,setCallbacks:o,allowPinchZoom:!!w,lockRef:r,gapMode:x}),a?f.cloneElement(f.Children.only(l),nr(nr({},N),{ref:S})):f.createElement(g,nr({},N,{className:c,ref:S}),l))});Zu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zu.classNames={fullWidth:Cc,zeroRight:Nc};var EL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=EL();return e&&t.setAttribute("nonce",e),t}function TL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function RL(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var OL=function(){var t=0,e=null;return{add:function(r){t==0&&(e=PL())&&(TL(e,r),RL(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AL=function(){var t=OL();return function(e,r){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},yj=function(){var t=AL(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},IL={left:0,top:0,right:0,gap:0},fh=function(t){return parseInt(t||"",10)||0},DL=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[fh(r),fh(n),fh(s)]},LL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return IL;var e=DL(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},ML=yj(),ri="data-scroll-locked",$L=function(t,e,r,n){var s=t.left,o=t.top,a=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(xL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ri,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Cc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Nc," .").concat(Nc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Cc," .").concat(Cc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ri,`] {
    `).concat(wL,": ").concat(l,`px;
  }
`)},Zy=function(){var t=parseInt(document.body.getAttribute(ri)||"0",10);return isFinite(t)?t:0},UL=function(){f.useEffect(function(){return document.body.setAttribute(ri,(Zy()+1).toString()),function(){var t=Zy()-1;t<=0?document.body.removeAttribute(ri):document.body.setAttribute(ri,t.toString())}},[])},FL=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;UL();var o=f.useMemo(function(){return LL(s)},[s]);return f.createElement(ML,{styles:$L(o,!e,s,r?"":"!important")})},Jf=!1;if(typeof window<"u")try{var lc=Object.defineProperty({},"passive",{get:function(){return Jf=!0,!0}});window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{Jf=!1}var ko=Jf?{passive:!1}:!1,BL=function(t){return t.tagName==="TEXTAREA"},xj=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!BL(t)&&r[e]==="visible")},zL=function(t){return xj(t,"overflowY")},VL=function(t){return xj(t,"overflowX")},ex=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=wj(t,n);if(s){var o=bj(t,n),a=o[1],l=o[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},WL=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},HL=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},wj=function(t,e){return t==="v"?zL(e):VL(e)},bj=function(t,e){return t==="v"?WL(e):HL(e)},KL=function(t,e){return t==="h"&&e==="rtl"?-1:1},qL=function(t,e,r,n,s){var o=KL(t,window.getComputedStyle(e).direction),a=o*n,l=r.target,c=e.contains(l),u=!1,d=a>0,h=0,m=0;do{if(!l)break;var p=bj(t,l),b=p[0],v=p[1],w=p[2],y=v-w-o*b;(b||y)&&wj(t,l)&&(h+=y,m+=b);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},cc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tx=function(t){return[t.deltaX,t.deltaY]},rx=function(t){return t&&"current"in t?t.current:t},GL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},QL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},JL=0,Eo=[];function YL(t){var e=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),s=f.useState(JL++)[0],o=f.useState(yj)[0],a=f.useRef(t);f.useEffect(function(){a.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=dp([t.lockRef.current],(t.shards||[]).map(rx),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=f.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var y=cc(v),g=r.current,x="deltaX"in v?v.deltaX:g[0]-y[0],_="deltaY"in v?v.deltaY:g[1]-y[1],j,S=v.target,N=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in v&&N==="h"&&S.type==="range")return!1;var E=ex(N,S);if(!E)return!0;if(E?j=N:(j=N==="v"?"h":"v",E=ex(N,S)),!E)return!1;if(!n.current&&"changedTouches"in v&&(x||_)&&(n.current=j),!j)return!0;var T=n.current||j;return qL(T,w,v,T==="h"?x:_,!0)},[]),c=f.useCallback(function(v){var w=v;if(!(!Eo.length||Eo[Eo.length-1]!==o)){var y="deltaY"in w?tx(w):cc(w),g=e.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&GL(j.delta,y)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var x=(a.current.shards||[]).map(rx).filter(Boolean).filter(function(j){return j.contains(w.target)}),_=x.length>0?l(w,x[0]):!a.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=f.useCallback(function(v,w,y,g){var x={name:v,delta:w,target:y,should:g,shadowParent:XL(y)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(_){return _!==x})},1)},[]),d=f.useCallback(function(v){r.current=cc(v),n.current=void 0},[]),h=f.useCallback(function(v){u(v.type,tx(v),v.target,l(v,t.lockRef.current))},[]),m=f.useCallback(function(v){u(v.type,cc(v),v.target,l(v,t.lockRef.current))},[]);f.useEffect(function(){return Eo.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ko),document.addEventListener("touchmove",c,ko),document.addEventListener("touchstart",d,ko),function(){Eo=Eo.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,ko),document.removeEventListener("touchmove",c,ko),document.removeEventListener("touchstart",d,ko)}},[]);var p=t.removeScrollBar,b=t.inert;return f.createElement(f.Fragment,null,b?f.createElement(o,{styles:QL(s)}):null,p?f.createElement(FL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function XL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ZL=kL(vj,YL);var ed=f.forwardRef(function(t,e){return f.createElement(Zu,nr({},t,{ref:e,sideCar:ZL}))});ed.classNames=Zu.classNames;var eM=[" ","Enter","ArrowUp","ArrowDown"],tM=[" ","Enter"],Ys="Select",[td,rd,rM]=Cp(Ys),[Hi,oF]=Jt(Ys,[rM,Yu]),nd=Yu(),[nM,ms]=Hi(Ys),[sM,oM]=Hi(Ys),_j=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:m,required:p,form:b}=t,v=nd(e),[w,y]=f.useState(null),[g,x]=f.useState(null),[_,j]=f.useState(!1),S=xl(u),[N,E]=Js({prop:n,defaultProp:s??!1,onChange:o,caller:Ys}),[T,R]=Js({prop:a,defaultProp:l,onChange:c,caller:Ys}),A=f.useRef(null),O=w?b||!!w.closest("form"):!0,[U,k]=f.useState(new Set),B=Array.from(U).map(M=>M.props.value).join(";");return i.jsx(cj,{...v,children:i.jsxs(nM,{required:p,scope:e,trigger:w,onTriggerChange:y,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Br(),value:T,onValueChange:R,open:N,onOpenChange:E,dir:S,triggerPointerDownPosRef:A,disabled:m,children:[i.jsx(td.Provider,{scope:e,children:i.jsx(sM,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(M=>{k(D=>new Set(D).add(M))},[]),onNativeOptionRemove:f.useCallback(M=>{k(D=>{const I=new Set(D);return I.delete(M),I})},[]),children:r})}),O?i.jsxs(Kj,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:M=>R(M.target.value),disabled:m,form:b,children:[T===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},B):null]})})};_j.displayName=Ys;var jj="SelectTrigger",Sj=f.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=nd(r),a=ms(jj,r),l=a.disabled||n,c=pe(e,a.onTriggerChange),u=rd(r),d=f.useRef("touch"),[h,m,p]=Gj(v=>{const w=u().filter(x=>!x.disabled),y=w.find(x=>x.value===a.value),g=Qj(w,v,y);g!==void 0&&a.onValueChange(g.value)}),b=v=>{l||(a.onOpenChange(!0),p()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(uj,{asChild:!0,...o,children:i.jsx(oe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":qj(a.value)?"":void 0,...s,ref:c,onClick:J(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&b(v)}),onPointerDown:J(s.onPointerDown,v=>{d.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:J(s.onKeyDown,v=>{const w=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(w&&v.key===" ")&&eM.includes(v.key)&&(b(),v.preventDefault())})})})});Sj.displayName=jj;var Nj="SelectValue",Cj=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:a="",...l}=t,c=ms(Nj,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,h=pe(e,c.onValueNodeChange);return Xe(()=>{u(d)},[u,d]),i.jsx(oe.span,{...l,ref:h,style:{pointerEvents:"none"},children:qj(c.value)?i.jsx(i.Fragment,{children:a}):o})});Cj.displayName=Nj;var iM="SelectIcon",kj=f.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return i.jsx(oe.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});kj.displayName=iM;var aM="SelectPortal",Ej=t=>i.jsx(Xu,{asChild:!0,...t});Ej.displayName=aM;var Xs="SelectContent",Pj=f.forwardRef((t,e)=>{const r=ms(Xs,t.__scopeSelect),[n,s]=f.useState();if(Xe(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Mi.createPortal(i.jsx(Tj,{scope:t.__scopeSelect,children:i.jsx(td.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),o):null}return i.jsx(Rj,{...t,ref:e})});Pj.displayName=Xs;var gr=10,[Tj,ps]=Hi(Xs),lM="SelectContentImpl",cM=Gs("SelectContent.RemoveScroll"),Rj=f.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:v,avoidCollisions:w,...y}=t,g=ms(Xs,r),[x,_]=f.useState(null),[j,S]=f.useState(null),N=pe(e,H=>_(H)),[E,T]=f.useState(null),[R,A]=f.useState(null),O=rd(r),[U,k]=f.useState(!1),B=f.useRef(!1);f.useEffect(()=>{if(x)return Mp(x)},[x]),kp();const M=f.useCallback(H=>{const[de,...ye]=O().map(ve=>ve.ref.current),[se]=ye.slice(-1),fe=document.activeElement;for(const ve of H)if(ve===fe||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===de&&j&&(j.scrollTop=0),ve===se&&j&&(j.scrollTop=j.scrollHeight),ve==null||ve.focus(),document.activeElement!==fe))return},[O,j]),D=f.useCallback(()=>M([E,x]),[M,E,x]);f.useEffect(()=>{U&&D()},[U,D]);const{onOpenChange:I,triggerPointerDownPosRef:L}=g;f.useEffect(()=>{if(x){let H={x:0,y:0};const de=se=>{var fe,ve;H={x:Math.abs(Math.round(se.pageX)-(((fe=L.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(se.pageY)-(((ve=L.current)==null?void 0:ve.y)??0))}},ye=se=>{H.x<=10&&H.y<=10?se.preventDefault():x.contains(se.target)||I(!1),document.removeEventListener("pointermove",de),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ye,{capture:!0})}}},[x,I,L]),f.useEffect(()=>{const H=()=>I(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[I]);const[W,q]=Gj(H=>{const de=O().filter(fe=>!fe.disabled),ye=de.find(fe=>fe.ref.current===document.activeElement),se=Qj(de,H,ye);se&&setTimeout(()=>se.ref.current.focus())}),Z=f.useCallback((H,de,ye)=>{const se=!B.current&&!ye;(g.value!==void 0&&g.value===de||se)&&(T(H),se&&(B.current=!0))},[g.value]),be=f.useCallback(()=>x==null?void 0:x.focus(),[x]),je=f.useCallback((H,de,ye)=>{const se=!B.current&&!ye;(g.value!==void 0&&g.value===de||se)&&A(H)},[g.value]),F=n==="popper"?Yf:Oj,Q=F===Yf?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:v,avoidCollisions:w}:{};return i.jsx(Tj,{scope:r,content:x,viewport:j,onViewportChange:S,itemRefCallback:Z,selectedItem:E,onItemLeave:be,itemTextRefCallback:je,focusSelectedItem:D,selectedItemText:R,position:n,isPositioned:U,searchRef:W,children:i.jsx(ed,{as:cM,allowPinchZoom:!0,children:i.jsx(qu,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:J(s,H=>{var de;(de=g.trigger)==null||de.focus({preventScroll:!0}),H.preventDefault()}),children:i.jsx(Ku,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(F,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...y,...Q,onPlaced:()=>k(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:J(y.onKeyDown,H=>{const de=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!de&&H.key.length===1&&q(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let se=O().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(H.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const fe=H.target,ve=se.indexOf(fe);se=se.slice(ve+1)}setTimeout(()=>M(se)),H.preventDefault()}})})})})})})});Rj.displayName=lM;var uM="SelectItemAlignedPosition",Oj=f.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=ms(Xs,r),a=ps(Xs,r),[l,c]=f.useState(null),[u,d]=f.useState(null),h=pe(e,N=>d(N)),m=rd(r),p=f.useRef(!1),b=f.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:y,focusSelectedItem:g}=a,x=f.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&v&&w&&y){const N=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(o.dir!=="rtl"){const fe=R.left-E.left,ve=T.left-fe,C=N.left-ve,$=N.width+C,ee=Math.max($,E.width),Se=window.innerWidth-gr,De=Hf(ve,[gr,Math.max(gr,Se-ee)]);l.style.minWidth=$+"px",l.style.left=De+"px"}else{const fe=E.right-R.right,ve=window.innerWidth-T.right-fe,C=window.innerWidth-N.right-ve,$=N.width+C,ee=Math.max($,E.width),Se=window.innerWidth-gr,De=Hf(ve,[gr,Math.max(gr,Se-ee)]);l.style.minWidth=$+"px",l.style.right=De+"px"}const A=m(),O=window.innerHeight-gr*2,U=v.scrollHeight,k=window.getComputedStyle(u),B=parseInt(k.borderTopWidth,10),M=parseInt(k.paddingTop,10),D=parseInt(k.borderBottomWidth,10),I=parseInt(k.paddingBottom,10),L=B+M+U+I+D,W=Math.min(w.offsetHeight*5,L),q=window.getComputedStyle(v),Z=parseInt(q.paddingTop,10),be=parseInt(q.paddingBottom,10),je=N.top+N.height/2-gr,F=O-je,Q=w.offsetHeight/2,H=w.offsetTop+Q,de=B+M+H,ye=L-de;if(de<=je){const fe=A.length>0&&w===A[A.length-1].ref.current;l.style.bottom="0px";const ve=u.clientHeight-v.offsetTop-v.offsetHeight,C=Math.max(F,Q+(fe?be:0)+ve+D),$=de+C;l.style.height=$+"px"}else{const fe=A.length>0&&w===A[0].ref.current;l.style.top="0px";const C=Math.max(je,B+v.offsetTop+(fe?Z:0)+Q)+ye;l.style.height=C+"px",v.scrollTop=de-je+v.offsetTop}l.style.margin=`${gr}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,u,v,w,y,o.dir,n]);Xe(()=>x(),[x]);const[_,j]=f.useState();Xe(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=f.useCallback(N=>{N&&b.current===!0&&(x(),g==null||g(),b.current=!1)},[x,g]);return i.jsx(hM,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(oe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Oj.displayName=uM;var dM="SelectPopperPosition",Yf=f.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=gr,...o}=t,a=nd(r);return i.jsx(dj,{...a,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yf.displayName=dM;var[hM,$p]=Hi(Xs,{}),Xf="SelectViewport",Aj=f.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=ps(Xf,r),a=$p(Xf,r),l=pe(e,o.onViewportChange),c=f.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(td.Slot,{scope:r,children:i.jsx(oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:J(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const b=window.innerHeight-gr*2,v=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),y=Math.max(v,w);if(y<b){const g=y+p,x=Math.min(b,g),_=g-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Aj.displayName=Xf;var Ij="SelectGroup",[fM,mM]=Hi(Ij),pM=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Br();return i.jsx(fM,{scope:r,id:s,children:i.jsx(oe.div,{role:"group","aria-labelledby":s,...n,ref:e})})});pM.displayName=Ij;var Dj="SelectLabel",Lj=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=mM(Dj,r);return i.jsx(oe.div,{id:s.id,...n,ref:e})});Lj.displayName=Dj;var vu="SelectItem",[gM,Mj]=Hi(vu),$j=f.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...a}=t,l=ms(vu,r),c=ps(vu,r),u=l.value===n,[d,h]=f.useState(o??""),[m,p]=f.useState(!1),b=pe(e,g=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,g,n,s)}),v=Br(),w=f.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(gM,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:f.useCallback(g=>{h(x=>x||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(td.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(oe.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:b,onFocus:J(a.onFocus,()=>p(!0)),onBlur:J(a.onBlur,()=>p(!1)),onClick:J(a.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:J(a.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:J(a.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:J(a.onPointerMove,g=>{var x;w.current=g.pointerType,s?(x=c.onItemLeave)==null||x.call(c):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(a.onPointerLeave,g=>{var x;g.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:J(a.onKeyDown,g=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(tM.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});$j.displayName=vu;var da="SelectItemText",Uj=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,a=ms(da,r),l=ps(da,r),c=Mj(da,r),u=oM(da,r),[d,h]=f.useState(null),m=pe(e,y=>h(y),c.onItemTextChange,y=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,b=f.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return Xe(()=>(v(b),()=>w(b)),[v,w,b]),i.jsxs(i.Fragment,{children:[i.jsx(oe.span,{id:c.textId,...o,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Mi.createPortal(o.children,a.valueNode):null]})});Uj.displayName=da;var Fj="SelectItemIndicator",Bj=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Mj(Fj,r).isSelected?i.jsx(oe.span,{"aria-hidden":!0,...n,ref:e}):null});Bj.displayName=Fj;var Zf="SelectScrollUpButton",zj=f.forwardRef((t,e)=>{const r=ps(Zf,t.__scopeSelect),n=$p(Zf,t.__scopeSelect),[s,o]=f.useState(!1),a=pe(e,n.onScrollButtonChange);return Xe(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(Wj,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});zj.displayName=Zf;var em="SelectScrollDownButton",Vj=f.forwardRef((t,e)=>{const r=ps(em,t.__scopeSelect),n=$p(em,t.__scopeSelect),[s,o]=f.useState(!1),a=pe(e,n.onScrollButtonChange);return Xe(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(Wj,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Vj.displayName=em;var Wj=f.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=ps("SelectScrollButton",r),a=f.useRef(null),l=rd(r),c=f.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Xe(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:J(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:J(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:J(s.onPointerLeave,()=>{c()})})}),vM="SelectSeparator",Hj=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(oe.div,{"aria-hidden":!0,...n,ref:e})});Hj.displayName=vM;var tm="SelectArrow",yM=f.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=nd(r),o=ms(tm,r),a=ps(tm,r);return o.open&&a.position==="popper"?i.jsx(hj,{...s,...n,ref:e}):null});yM.displayName=tm;var xM="SelectBubbleInput",Kj=f.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=f.useRef(null),o=pe(n,s),a=fj(e);return f.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[a,e]),i.jsx(oe.select,{...r,style:{...mj,...r.style},ref:o,defaultValue:e})});Kj.displayName=xM;function qj(t){return t===""||t===void 0}function Gj(t){const e=it(t),r=f.useRef(""),n=f.useRef(0),s=f.useCallback(a=>{const l=r.current+a;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),o=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function Qj(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=wM(t,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function wM(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var bM=_j,Jj=Sj,_M=Cj,jM=kj,SM=Ej,Yj=Pj,NM=Aj,Xj=Lj,Zj=$j,CM=Uj,kM=Bj,eS=zj,tS=Vj,rS=Hj;const ir=bM,ar=_M,Ht=f.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(Jj,{ref:n,className:z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(jM,{asChild:!0,children:i.jsx(T_,{className:"h-4 w-4 opacity-50"})})]}));Ht.displayName=Jj.displayName;const nS=f.forwardRef(({className:t,...e},r)=>i.jsx(eS,{ref:r,className:z("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(eI,{className:"h-4 w-4"})}));nS.displayName=eS.displayName;const sS=f.forwardRef(({className:t,...e},r)=>i.jsx(tS,{ref:r,className:z("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(T_,{className:"h-4 w-4"})}));sS.displayName=tS.displayName;const Kt=f.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>i.jsx(SM,{children:i.jsxs(Yj,{ref:s,className:z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(nS,{}),i.jsx(NM,{className:z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(sS,{})]})}));Kt.displayName=Yj.displayName;const EM=f.forwardRef(({className:t,...e},r)=>i.jsx(Xj,{ref:r,className:z("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));EM.displayName=Xj.displayName;const qe=f.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(Zj,{ref:n,className:z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(kM,{children:i.jsx(_p,{className:"h-4 w-4"})})}),i.jsx(CM,{children:e})]}));qe.displayName=Zj.displayName;const PM=f.forwardRef(({className:t,...e},r)=>i.jsx(rS,{ref:r,className:z("-mx-1 my-1 h-px bg-muted",t),...e}));PM.displayName=rS.displayName;const oS=()=>{const{currentLanguage:t,changeLanguage:e,languages:r}=vl(),n=r.find(s=>s.code===t);return i.jsxs(ir,{value:t,onValueChange:e,children:[i.jsx(Ht,{className:"w-[140px]",children:i.jsx(ar,{children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:n==null?void 0:n.name})})})}),i.jsx(Kt,{children:r.map(s=>i.jsx(qe,{value:s.code,children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:s.name})})},s.code))})]})};function TM({onToggleSidebar:t}){const{user:e,signOut:r}=st(),{t:n}=Ze(),s=Pr(),o=async()=>{try{await r(),s("/login")}catch(a){console.error("Logout failed:",a),s("/login")}};return i.jsx("header",{className:"border-b bg-background sticky top-0 z-50",children:i.jsxs("div",{className:"h-14 flex items-center px-4 md:px-6",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("button",{onClick:t,className:"text-foreground hover:text-muted-foreground transition-colors","aria-label":"Toggle sidebar",children:i.jsx(cI,{className:"h-5 w-5"})}),i.jsx("div",{className:"hidden md:block",children:i.jsx(NI,{})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:ce((e==null?void 0:e.profile)||{},"user_name")||(e==null?void 0:e.email)}),i.jsx(oS,{}),i.jsxs("button",{className:"text-foreground hover:text-muted-foreground transition-colors",title:n("navigation.settings"),children:[i.jsx(dI,{className:"h-5 w-5"}),i.jsx("span",{className:"sr-only",children:n("navigation.settings")})]}),i.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:n("common.notifications"),children:[i.jsx(QA,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:i.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),i.jsx("span",{className:"sr-only",children:n("common.notifications")})]}),i.jsxs(G,{variant:"ghost",size:"sm",onClick:o,className:"text-foreground hover:text-muted-foreground",title:n("buttons.logout"),children:[i.jsx(xI,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:n("buttons.logout")})]})]})]})})}function RM(t,e){return f.useReducer((r,n)=>e[r][n]??r,t)}var Yt=t=>{const{present:e,children:r}=t,n=OM(e),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),o=pe(n.ref,AM(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:o}):null};Yt.displayName="Presence";function OM(t){const[e,r]=f.useState(),n=f.useRef(null),s=f.useRef(t),o=f.useRef("none"),a=t?"mounted":"unmounted",[l,c]=RM(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=uc(n.current);o.current=l==="mounted"?u:"none"},[l]),Xe(()=>{const u=n.current,d=s.current;if(d!==t){const m=o.current,p=uc(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Xe(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const v=uc(n.current).includes(p.animationName);if(p.target===e&&v&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=p=>{p.target===e&&(o.current=uc(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function uc(t){return(t==null?void 0:t.animationName)||"none"}function AM(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var sd="Dialog",[iS,aS]=Jt(sd),[IM,Tr]=iS(sd),lS=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=f.useRef(null),c=f.useRef(null),[u,d]=Js({prop:n,defaultProp:s??!1,onChange:o,caller:sd});return i.jsx(IM,{scope:e,triggerRef:l,contentRef:c,contentId:Br(),titleId:Br(),descriptionId:Br(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};lS.displayName=sd;var cS="DialogTrigger",uS=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Tr(cS,r),o=pe(e,s.triggerRef);return i.jsx(oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Bp(s.open),...n,ref:o,onClick:J(t.onClick,s.onOpenToggle)})});uS.displayName=cS;var Up="DialogPortal",[DM,dS]=iS(Up,{forceMount:void 0}),hS=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=Tr(Up,e);return i.jsx(DM,{scope:e,forceMount:r,children:f.Children.map(n,a=>i.jsx(Yt,{present:r||o.open,children:i.jsx(Xu,{asChild:!0,container:s,children:a})}))})};hS.displayName=Up;var yu="DialogOverlay",fS=f.forwardRef((t,e)=>{const r=dS(yu,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Tr(yu,t.__scopeDialog);return o.modal?i.jsx(Yt,{present:n||o.open,children:i.jsx(MM,{...s,ref:e})}):null});fS.displayName=yu;var LM=Gs("DialogOverlay.RemoveScroll"),MM=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Tr(yu,r);return i.jsx(ed,{as:LM,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(oe.div,{"data-state":Bp(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Zs="DialogContent",mS=f.forwardRef((t,e)=>{const r=dS(Zs,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Tr(Zs,t.__scopeDialog);return i.jsx(Yt,{present:n||o.open,children:o.modal?i.jsx($M,{...s,ref:e}):i.jsx(UM,{...s,ref:e})})});mS.displayName=Zs;var $M=f.forwardRef((t,e)=>{const r=Tr(Zs,t.__scopeDialog),n=f.useRef(null),s=pe(e,r.contentRef,n);return f.useEffect(()=>{const o=n.current;if(o)return Mp(o)},[]),i.jsx(pS,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:J(t.onFocusOutside,o=>o.preventDefault())})}),UM=f.forwardRef((t,e)=>{const r=Tr(Zs,t.__scopeDialog),n=f.useRef(!1),s=f.useRef(!1);return i.jsx(pS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),pS=f.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=t,l=Tr(Zs,r),c=f.useRef(null),u=pe(e,c);return kp(),i.jsxs(i.Fragment,{children:[i.jsx(qu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Ku,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Bp(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(BM,{titleId:l.titleId}),i.jsx(VM,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Fp="DialogTitle",gS=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Tr(Fp,r);return i.jsx(oe.h2,{id:s.titleId,...n,ref:e})});gS.displayName=Fp;var vS="DialogDescription",yS=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Tr(vS,r);return i.jsx(oe.p,{id:s.descriptionId,...n,ref:e})});yS.displayName=vS;var xS="DialogClose",wS=f.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Tr(xS,r);return i.jsx(oe.button,{type:"button",...n,ref:e,onClick:J(t.onClick,()=>s.onOpenChange(!1))})});wS.displayName=xS;function Bp(t){return t?"open":"closed"}var bS="DialogTitleWarning",[FM,_S]=CI(bS,{contentName:Zs,titleName:Fp,docsSlug:"dialog"}),BM=({titleId:t})=>{const e=_S(bS),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},zM="DialogDescriptionWarning",VM=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_S(zM).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},zp=lS,Vp=uS,Wp=hS,bl=fS,_l=mS,jl=gS,Sl=yS,od=wS;const jS=zp,WM=Vp,HM=Wp,SS=f.forwardRef(({className:t,...e},r)=>i.jsx(bl,{className:z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));SS.displayName=bl.displayName;const KM=yl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Hp=f.forwardRef(({side:t="right",className:e,children:r,...n},s)=>i.jsxs(HM,{children:[i.jsx(SS,{}),i.jsxs(_l,{ref:s,className:z(KM({side:t}),e),...n,children:[r,i.jsxs(od,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(M_,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hp.displayName=_l.displayName;const NS=f.forwardRef(({className:t,...e},r)=>i.jsx(jl,{ref:r,className:z("text-lg font-semibold text-foreground",t),...e}));NS.displayName=jl.displayName;const CS=f.forwardRef(({className:t,...e},r)=>i.jsx(Sl,{ref:r,className:z("text-sm text-muted-foreground",t),...e}));CS.displayName=Sl.displayName;function pt({children:t}){const[e,r]=f.useState(!0),[n,s]=f.useState(!1);f.useEffect(()=>{const l=()=>{s(window.innerWidth<768),window.innerWidth<768?r(!1):r(!0)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const o=()=>{r(!e)},a=()=>{n&&r(!1)};return i.jsxs("div",{className:"min-h-screen bg-background w-full flex flex-col",children:[i.jsx(TM,{onToggleSidebar:o}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!n&&i.jsx("aside",{className:z("bg-sidebar transition-all duration-300 ease-in-out hidden md:block",e?"w-60":"w-0 overflow-hidden"),children:i.jsx(Iy,{onNavigate:a})}),n&&i.jsx(jS,{open:e,onOpenChange:r,children:i.jsxs(Hp,{side:Mt()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[i.jsx(NS,{className:"sr-only",children:"Navigation Menu"}),i.jsx(CS,{className:"sr-only",children:"Application navigation sidebar"}),i.jsx(Iy,{onNavigate:a})]})}),i.jsx("main",{className:"flex-1 overflow-auto bg-background",children:i.jsx("div",{className:"p-3 sm:p-4 md:p-6 w-full min-h-full",children:t})})]})]})}const on={async getAll(){try{console.log("[stageService] Fetching all stages...");const{data:t,error:e}=await K.from("stages").select("*").order("stager_order_index",{ascending:!0});if(e)throw console.error("[stageService] Error fetching stages:",e),e;return console.log(`[stageService] Successfully fetched ${(t==null?void 0:t.length)||0} stages`),t||[]}catch(t){throw console.error("[stageService] Failed to fetch stages:",t),t}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const{data:t,error:e}=await K.from("stages").select("*").is("project_id",null).order("stager_order_index",{ascending:!0});if(e)throw console.error("[stageService] Error fetching global stages:",e),e;return console.log(`[stageService] Successfully fetched ${(t==null?void 0:t.length)||0} global stages`),t||[]}catch(t){throw console.error("[stageService] Failed to fetch global stages:",t),t}},async create(t){try{const{data:e}=await K.from("stages").select("stager_order_index").order("stager_order_index",{ascending:!1}).limit(1),r=e&&e.length>0?e[0].stager_order_index:-1,n=t.stager_order_index??r+1,s=dr({stage_name:t.stage_name,stager_order_index:n,project_id:t.project_id,color:t.color,color_var:t.color_var},{stage_name:"stage_name"}),{data:o,error:a}=await K.from("stages").insert(s).select().single();if(a)throw a;return o}catch(e){throw console.error("[stageService] Failed to create stage:",e),e}},async update(t,e){try{const r=dr(e,{stage_name:"stage_name"}),{error:n}=await K.from("stages").update(r).eq("stage_id",t);if(n)throw n}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(t){try{const{error:e}=await K.from("stages").delete().eq("stage_id",t);if(e)throw e}catch(e){throw console.error("[stageService] Failed to delete stage:",e),e}}},mn={async getAll(){try{console.log("[userService] Fetching all users...");const{data:t,error:e}=await K.from("users").select("*");if(e)throw e;return console.log(`[userService] Successfully fetched ${(t==null?void 0:t.length)||0} users`),t||[]}catch(t){throw console.error("[userService] Failed to fetch users:",t),t}},async getById(t){try{const{data:e,error:r}=await K.from("users").select("*").eq("user_id",t).single();return r?null:e}catch(e){return console.error("[userService] Failed to fetch user:",e),null}},async update(t,e){try{const r={};e.user_name!==void 0&&(r.user_name=e.user_name),e.user_name_ar!==void 0&&(r.user_name_ar=e.user_name_ar),e.user_email!==void 0&&(r.user_email=e.user_email),e.user_role!==void 0&&(r.user_role=e.user_role),e.avatar!==void 0&&(r.avatar=e.avatar),e.client_contact!==void 0&&(r.client_contact=e.client_contact),e.company_name!==void 0&&(r.company_name=e.company_name),e.company_name_ar!==void 0&&(r.company_name_ar=e.company_name_ar);const{error:n}=await K.from("users").update(r).eq("user_id",t);if(n)throw n;console.log(`[userService] Successfully updated user ${t}`)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},id={async getAll(){try{console.log("[clientService] Fetching all clients...");const{data:t,error:e}=await K.from("users").select("*").eq("user_role","client");if(e)throw e;return console.log(`[clientService] Successfully fetched ${(t==null?void 0:t.length)||0} clients`),t||[]}catch(t){throw console.error("[clientService] Failed to fetch clients:",t),t}},async getById(t){try{const{data:e,error:r}=await K.from("users").select("*").eq("user_id",t).eq("user_role","client").single();return r?null:e}catch(e){return console.error("[clientService] Failed to fetch client:",e),null}},async create(t){try{const e=dr({user_name:t.user_name,user_email:t.user_email,user_role:"client",avatar:t.avatar,client_contact:t.client_contact,company_name:t.company_name},{user_name:"user_name",company_name:"company_name"}),{data:r,error:n}=await K.from("users").insert(e).select().single();if(n)throw n;return r}catch(e){throw console.error("[clientService] Failed to create client:",e),e}}},In={async getAll(){try{console.log("[projectService] Fetching all projects...");const{data:t,error:e}=await K.from("projects").select("*").order("created_date",{ascending:!1});if(e)throw e;return console.log(`[projectService] Successfully fetched ${(t==null?void 0:t.length)||0} projects`),t||[]}catch(t){throw console.error("[projectService] Failed to fetch projects:",t),t}},async getById(t){try{const{data:e,error:r}=await K.from("projects").select("*").eq("project_id",t).single();return r?null:e}catch(e){return console.error("[projectService] Failed to fetch project:",e),null}},async create(t){try{const{data:e,error:r}=await K.from("projects").insert({project_name:t.project_name,project_description:t.project_description,created_by:t.created_by,progress:t.progress||0,stage:t.stage,end_date:t.end_date}).select().single();if(r)throw r;return e}catch(e){throw console.error("[projectService] Failed to create project:",e),e}},async update(t,e){try{const r={};e.project_name&&(r.project_name=e.project_name),e.project_description!==void 0&&(r.project_description=e.project_description),e.progress!==void 0&&(r.progress=e.progress),e.stage!==void 0&&(r.stage=e.stage),e.end_date!==void 0&&(r.end_date=e.end_date);const{error:n}=await K.from("projects").update(r).eq("project_id",t);if(n)throw n}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(t){try{const{error:e}=await K.from("projects").delete().eq("project_id",t);if(e)throw e}catch(e){throw console.error("[projectService] Failed to delete project:",e),e}},async getByUserAuthId(t){try{console.log("[projectService] Fetching projects for user:",t);const{data:e,error:r}=await K.from("project_users").select(`
          project_id,
          projects (
            project_id,
            project_name,
            project_description,
            created_date,
            created_by,
            progress,
            stage,
            end_date,
            updated_at
          )
        `).eq("auth_user_id",t);if(r)throw r;const n=(e==null?void 0:e.map(s=>s.projects).filter(Boolean))||[];return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n}catch(e){throw console.error("[projectService] Failed to fetch projects for user:",e),e}}},ni={async getAll(){try{console.log("[taskService] Fetching all tasks...");const{data:t,error:e}=await K.from("tasks").select("*").order("created_at",{ascending:!1});if(e)throw e;return console.log(`[taskService] Successfully fetched ${(t==null?void 0:t.length)||0} tasks`),t||[]}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async getByStage(t){try{const{data:e,error:r}=await K.from("tasks").select("*").eq("stage_id",t);if(r)throw r;return e||[]}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async create(t){try{const e=dr({task_name:t.task_name,stage_id:t.stage_id,assigned_to:t.assigned_to,task_status:t.task_status,due_date:t.due_date,description:t.description,auth_user_id:t.auth_user_id},{task_name:"task_name",description:"description"}),{data:r,error:n}=await K.from("tasks").insert(e).select().single();if(n)throw n;return r}catch(e){throw console.error("[taskService] Failed to create task:",e),e}},async update(t,e){try{const r=dr(e,{task_name:"task_name",description:"description"}),{error:n}=await K.from("tasks").update(r).eq("task_id",t);if(n)throw n}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(t){try{const{error:e}=await K.from("tasks").delete().eq("task_id",t);if(e)throw e}catch(e){throw console.error("[taskService] Failed to delete task:",e),e}}},rm={async getByTask(t){try{const{data:e,error:r}=await K.from("comments").select("*").eq("task_id",t).order("created_date",{ascending:!0});if(r)throw r;return e||[]}catch(e){throw console.error("[commentService] Failed to fetch comments:",e),e}},async create(t){try{const{data:e,error:r}=await K.from("comments").insert({task_id:t.task_id,auth_user_id:t.auth_user_id,message:t.message}).select().single();if(r)throw r;return e}catch(e){throw console.error("[commentService] Failed to create comment:",e),e}}},Ho={async getUserRooms(t){const{data:e,error:r}=await K.from("room_members").select("room_id").eq("auth_user_id",t);if(r)throw r;if(!e||e.length===0)return[];const n=e.map(a=>a.room_id),{data:s,error:o}=await K.from("rooms").select("*").in("room_id",n);if(o)throw o;return s||[]},async createRoom(t){const{data:e,error:r}=await K.from("rooms").insert({room_name:t.name,is_private:t.is_private??!0,project_id:t.project_id,created_by:t.created_by,auth_user_id:t.auth_user_id}).select().single();if(r)throw r;return e},async addMember(t,e){const{error:r}=await K.from("room_members").insert({room_id:t,auth_user_id:e});if(r)throw r},async getRoomMembers(t){const{data:e,error:r}=await K.from("room_members").select(`
        auth_user_id,
        users (*)
      `).eq("room_id",t);if(r)throw r;return!e||e.length===0?[]:e.map(n=>n.users).filter(Boolean)}},qM={async getProjectUsers(t){try{console.log("[projectUserService] Fetching users for project:",t);const{data:e,error:r}=await K.from("project_users").select(`
          user_id,
          users (
            user_id,
            user_name,
            user_email,
            user_role,
            avatar,
            auth_user_id,
            client_contact,
            company_name,
            created_at,
            updated_at
          )
        `).eq("project_id",t);if(r)throw r;const n=(e==null?void 0:e.map(s=>s.users).filter(Boolean))||[];return console.log(`[projectUserService] Found ${n.length} users for project ${t}`),n}catch(e){throw console.error("[projectUserService] Failed to fetch project users:",e),e}},async addUserToProject(t,e){try{console.log("[projectUserService] Adding user",e,"to project",t);const{error:r}=await K.from("project_users").insert({project_id:t,user_id:e});if(r)throw r;console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(t,e){try{console.log("[projectUserService] Removing user",e,"from project",t);const{error:r}=await K.from("project_users").delete().eq("project_id",t).eq("user_id",e);if(r)throw r;console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},Po={async getAll(){try{console.log("[teamService] Fetching all teams...");const{data:t,error:e}=await K.from("teams").select("*").order("created_at",{ascending:!1});if(e)throw e;return console.log(`[teamService] Successfully fetched ${(t==null?void 0:t.length)||0} teams`),t||[]}catch(t){throw console.error("[teamService] Failed to fetch teams:",t),t}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const{data:t,error:e}=await K.from("teams").select(`
          team_id,
          team_name,
          team_name_ar,
          partner_id,
          auth_user_id,
          team_leader_id,
          created_at
        `).order("created_at",{ascending:!1});if(e)throw e;if(!t||t.length===0)return[];const r=t.map(l=>l.team_id),{data:n,error:s}=await K.from("team_members").select(`
          team_id,
          auth_user_id,
          joined_at
        `).in("team_id",r);if(s)throw s;const o=(n||[]).reduce((l,c)=>(l[c.team_id]||(l[c.team_id]=[]),l[c.team_id].push({auth_user_id:c.auth_user_id,joined_at:c.joined_at}),l),{}),a=t.map(l=>({...l,team_members:o[l.team_id]||[]}));return console.log(`[teamService] Successfully fetched ${a.length} teams with members`),a}catch(t){throw console.error("[teamService] Failed to fetch teams with members:",t),t}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const{data:t,error:e}=await K.from("team_members").select(`
          team_id,
          users (
            user_id,
            user_name,
            user_email,
            user_role,
            avatar,
            auth_user_id,
            client_contact,
            company_name,
            created_at,
            updated_at
          )
        `);if(e)throw e;const r=(t||[]).reduce((n,s)=>{const o=s.team_id;return n[o]||(n[o]=[]),n[o].push(s.users),n},{});return console.log(`[teamService] Successfully fetched members for ${Object.keys(r).length} teams`),r}catch(t){throw console.error("[teamService] Failed to fetch all team members:",t),t}},async getById(t){try{const{data:e,error:r}=await K.from("teams").select("*").eq("team_id",t).single();return r?null:e}catch(e){return console.error("[teamService] Failed to fetch team:",e),null}},async create(t){try{const{data:e,error:r}=await K.from("teams").insert(t).select().single();if(r)throw r;return e}catch(e){throw console.error("[teamService] Failed to create team:",e),e}},async update(t,e){try{const r=dr(e,{team_name:"team_name"}),{error:n}=await K.from("teams").update(r).eq("team_id",t);if(n)throw n}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(t){try{const{error:e}=await K.from("teams").delete().eq("team_id",t);if(e)throw e}catch(e){throw console.error("[teamService] Failed to delete team:",e),e}},async getTeamMembers(t){try{console.log("[teamService] Fetching members for team:",t);const{data:e,error:r}=await K.from("team_members").select(`
          auth_user_id,
          users!auth_user_id (
            user_id,
            user_name,
            user_email,
            user_role,
            avatar,
            auth_user_id,
            client_contact,
            company_name,
            created_at,
            updated_at
          )
        `).eq("team_id",t);if(r)throw r;const n=(e==null?void 0:e.map(s=>s.users).filter(Boolean))||[];return console.log(`[teamService] Found ${n.length} members for team ${t}`),n}catch(e){throw console.error("[teamService] Failed to fetch team members:",e),e}},async addMember(t,e){try{console.log("[teamService] Adding member",e,"to team",t);const{error:r}=await K.from("team_members").insert({team_id:t,auth_user_id:e});if(r)throw r;console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(t,e){try{console.log("[teamService] Removing member",e,"from team",t);const{error:r}=await K.from("team_members").delete().eq("team_id",t).eq("auth_user_id",e);if(r)throw r;console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},GM={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const{data:t,error:e}=await K.from("tickets").select("*").order("created_date",{ascending:!1});if(e)throw e;return console.log(`[ticketService] Successfully fetched ${(t==null?void 0:t.length)||0} tickets`),t||[]}catch(t){throw console.error("[ticketService] Failed to fetch tickets:",t),t}},async getById(t){try{const{data:e,error:r}=await K.from("tickets").select("*").eq("ticket_id",t).single();return r?null:e}catch(e){return console.error("[ticketService] Failed to fetch ticket:",e),null}},async create(t){try{const{data:e,error:r}=await K.from("tickets").insert({user_id:t.user_id,assigned_to:t.assigned_to,subject:t.subject,description:t.description,priority:t.priority,status:t.status,created_by:t.created_by}).select().single();if(r)throw r;return e}catch(e){throw console.error("[ticketService] Failed to create ticket:",e),e}},async update(t,e){try{const r={};e.user_id!==void 0&&(r.user_id=e.user_id),e.assigned_to!==void 0&&(r.assigned_to=e.assigned_to),e.subject&&(r.subject=e.subject),e.description!==void 0&&(r.description=e.description),e.priority&&(r.priority=e.priority),e.status&&(r.status=e.status),e.resolved_date!==void 0&&(r.resolved_date=e.resolved_date);const{error:n}=await K.from("tickets").update(r).eq("ticket_id",t);if(n)throw n}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async delete(t){try{const{error:e}=await K.from("tickets").delete().eq("ticket_id",t);if(e)throw e}catch(e){throw console.error("[ticketService] Failed to delete ticket:",e),e}}},$s={async getByRoom(t){try{const{data:e,error:r}=await K.from("messages").select("*").eq("room_id",t).order("created_at",{ascending:!0});if(r)throw r;return e||[]}catch(e){throw console.error("[messageService] Failed to fetch messages:",e),e}},async create(t){try{const{data:e,error:r}=await K.from("messages").insert(t).select().single();if(r)throw r;return e}catch(e){throw console.error("[messageService] Failed to create message:",e),e}}},Ko={async getAll(){try{console.log("[leadService] Fetching all leads...");const{data:t,error:e}=await K.from("leads").select("*").order("created_date",{ascending:!1});if(e)throw e;return console.log(`[leadService] Successfully fetched ${(t==null?void 0:t.length)||0} leads`),t||[]}catch(t){throw console.error("[leadService] Failed to fetch leads:",t),t}},async getById(t){try{const{data:e,error:r}=await K.from("leads").select("*").eq("lead_id",t).single();return r?null:e}catch(e){return console.error("[leadService] Failed to fetch lead:",e),null}},async create(t){try{const{data:e,error:r}=await K.from("leads").insert({lead_name:t.lead_name,lead_description:t.lead_description,client_name:t.client_name,client_user_id:t.client_user_id,created_by:t.created_by,stage:t.stage}).select().single();if(r)throw r;return e}catch(e){throw console.error("[leadService] Failed to create lead:",e),e}},async update(t,e){try{const r={};e.lead_name&&(r.lead_name=e.lead_name),e.lead_description!==void 0&&(r.lead_description=e.lead_description),e.client_name&&(r.client_name=e.client_name),e.client_user_id&&(r.client_user_id=e.client_user_id),e.stage!==void 0&&(r.stage=e.stage);const{error:n}=await K.from("leads").update(r).eq("lead_id",t);if(n)throw n}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(t){try{const{error:e}=await K.from("leads").delete().eq("lead_id",t);if(e)throw e}catch(e){throw console.error("[leadService] Failed to delete lead:",e),e}}},ue=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:z("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ue.displayName="Card";const ke=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:z("flex flex-col space-y-1.5 p-6",t),...e}));ke.displayName="CardHeader";const Ae=f.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:z("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ae.displayName="CardTitle";const QM=f.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:z("text-sm text-muted-foreground",t),...e}));QM.displayName="CardDescription";const me=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:z("p-6 pt-0",t),...e}));me.displayName="CardContent";const JM=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:z("flex items-center p-6 pt-0",t),...e}));JM.displayName="CardFooter";var Kp="Progress",qp=100,[YM,iF]=Jt(Kp),[XM,ZM]=YM(Kp),kS=f.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=e4,...a}=t;(s||s===0)&&!nx(s)&&console.error(t4(`${s}`,"Progress"));const l=nx(s)?s:qp;n!==null&&!sx(n,l)&&console.error(r4(`${n}`,"Progress"));const c=sx(n,l)?n:null,u=xu(c)?o(c,l):void 0;return i.jsx(XM,{scope:r,value:c,max:l,children:i.jsx(oe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":xu(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":TS(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});kS.displayName=Kp;var ES="ProgressIndicator",PS=f.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=ZM(ES,r);return i.jsx(oe.div,{"data-state":TS(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});PS.displayName=ES;function e4(t,e){return`${Math.round(t/e*100)}%`}function TS(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function xu(t){return typeof t=="number"}function nx(t){return xu(t)&&!isNaN(t)&&t>0}function sx(t,e){return xu(t)&&!isNaN(t)&&t<=e&&t>=0}function t4(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${qp}\`.`}function r4(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${qp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var RS=kS,n4=PS;const eo=f.forwardRef(({className:t,value:e,...r},n)=>i.jsx(RS,{ref:n,className:z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:i.jsx(n4,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));eo.displayName=RS.displayName;function s4(){const{t}=Ze();vl();const[e,r]=f.useState([]),[n,s]=f.useState([]),[o,a]=f.useState([]),[l,c]=f.useState([]),[u,d]=f.useState(!0),[h,m]=f.useState(null),{user:p,loading:b}=st();console.log("[Dashboard] Rendering. Auth state:",{user:p?{id:p.id,email:p.email,role:p.role}:null,authLoading:b,hasUser:!!p,loading:u}),f.useEffect(()=>{console.log("[Dashboard] useEffect - User changed:",{hasUser:!!p,authLoading:b}),p&&!b&&(console.log("[Dashboard] User is authenticated, loading data..."),v())},[p,b]);const v=async()=>{console.log("[Dashboard] Starting to load data...");try{d(!0),m(null),console.log("[Dashboard] Fetching data...");const[E,T,R,A]=await Promise.all([In.getAll().catch(O=>(console.error("[Dashboard] Error fetching projects:",O),[])),id.getAll().catch(O=>(console.error("[Dashboard] Error fetching clients:",O),[])),mn.getAll().catch(O=>(console.error("[Dashboard] Error fetching users:",O),[])),Ko.getAll().catch(O=>(console.error("[Dashboard] Error fetching leads:",O),[]))]);console.log("[Dashboard] Data fetched successfully:",{projects:E.length,clients:T.length,users:R.length,leads:A.length}),r(E),s(T),a(R),c(A)}catch(E){console.error("[Dashboard] Failed to load data:",E),m(E.message||"Failed to load data")}finally{console.log("[Dashboard] Data loading completed"),d(!1)}};if(u||b||!p)return i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:t("common.loading")})]})});if(h)return i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600",children:t("common.error")}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:h}),i.jsx(G,{onClick:v,className:"mt-4",children:"Retry"})]})});const w=e.length,y=e.filter(E=>E.progress===100).length,g=e.filter(E=>E.progress>0&&E.progress<100).length,x=e.filter(E=>E.progress===0).length,_=n.length,j=o.length,S=l.length,N=e.sort((E,T)=>new Date(T.created_date||"").getTime()-new Date(E.created_date||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:t("dashboard.title")}),i.jsx("p",{className:"text-muted-foreground mt-1 sm:mt-2 text-sm sm:text-base",children:t("dashboard.subtitle")})]})}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[i.jsxs(ue,{children:[i.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ae,{className:"text-xs sm:text-sm font-medium",children:t("dashboard.totalProjects")}),i.jsx(pI,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:w}),i.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[y," ",t("dashboard.completed")]})]})]}),i.jsxs(ue,{children:[i.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ae,{className:"text-xs sm:text-sm font-medium",children:t("dashboard.inProgress")}),i.jsx(Vr,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:g}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:t("dashboard.activeProjects")})]})]}),i.jsxs(ue,{children:[i.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ae,{className:"text-xs sm:text-sm font-medium",children:t("dashboard.clients")}),i.jsx(ki,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:_}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:t("dashboard.totalClients")})]})]}),i.jsxs(ue,{children:[i.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ae,{className:"text-xs sm:text-sm font-medium",children:t("dashboard.teamMembers")}),i.jsx(Vr,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:j}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:t("dashboard.activeUsers")})]})]}),i.jsxs(ue,{children:[i.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ae,{className:"text-xs sm:text-sm font-medium",children:t("dashboard.leads")}),i.jsx(hu,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:S}),i.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:t("dashboard.totalLeads")})]})]})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2",children:[i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsx(Ae,{className:"text-base sm:text-lg",children:t("dashboard.recentProjects")})}),i.jsx(me,{className:"space-y-3 sm:space-y-4",children:N.length>0?N.map(E=>{const T=n.find(R=>R.user_id===E.created_by);return i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[i.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium leading-none truncate",children:ce(E,"project_name")}),i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:ce(T||{},"user_name")||"No client"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(eo,{value:E.progress,className:"w-16 sm:w-20 h-2"}),i.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground w-8",children:[E.progress,"%"]})]})]},E.project_id)}):i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:t("dashboard.noProjectsYet")})})]}),i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsx(Ae,{className:"text-base sm:text-lg",children:t("dashboard.projectStatus")})}),i.jsxs(me,{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-green-500"}),i.jsx("span",{className:"text-xs sm:text-sm",children:t("dashboard.completedStatus")})]}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:y})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-xs sm:text-sm",children:t("dashboard.inProgressStatus")})]}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:g})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-gray-500"}),i.jsx("span",{className:"text-xs sm:text-sm",children:t("dashboard.notStartedStatus")})]}),i.jsx("span",{className:"text-xs sm:text-sm font-medium",children:x})]})]})]})]})]})}const Nl={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:t=>["projects",t,"users"],comments:t=>["tasks",t,"comments"],rooms:t=>["rooms",t],messages:t=>["messages",t],userProjects:t=>["users",t,"projects"]},o4=()=>pl({queryKey:Nl.users,queryFn:mn.getAll}),ad=t=>pl({queryKey:Nl.userProjects(t),queryFn:()=>In.getByUserAuthId(t),enabled:!!t}),i4=()=>pl({queryKey:Nl.tasks,queryFn:ni.getAll}),a4=()=>pl({queryKey:Nl.globalStages,queryFn:on.getGlobalStages}),l4=()=>pl({queryKey:Nl.clients,queryFn:id.getAll}),c4=yl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function nt({className:t,variant:e,...r}){return i.jsx("div",{className:z(c4({variant:e}),t),...r})}function u4(){var _;const{t}=Ze(),[e,r]=f.useState([]),[n,s]=f.useState([]),[o,a]=f.useState([]),[l,c]=f.useState(!0),[u,d]=f.useState(null),{user:h,loading:m}=st(),{data:p=[],isLoading:b}=ad((h==null?void 0:h.id)||"");f.useEffect(()=>{h&&!m&&v()},[h,m]);const v=async()=>{try{c(!0),d(null);const S=(await ni.getAll()).filter(T=>{var R;return T.assigned_to===((R=h==null?void 0:h.profile)==null?void 0:R.user_id)}),N=await mn.getAll(),E=await Ko.getAll();r(S),s(N),a(E)}catch(j){console.error("Failed to load employee data:",j),d(j.message||"Failed to load data")}finally{c(!1)}};if(l||m||!h)return i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:t("common.loading")})]})});if(u)return i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600",children:t("common.error")}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:u}),i.jsx(G,{onClick:v,className:"mt-4",children:t("dashboard.retry")})]})});const w=e.filter(j=>j.task_status==="done").length,y=e.filter(j=>j.task_status==="in_progress").length;e.filter(j=>j.task_status==="todo").length;const g=p.filter(j=>j.progress!==void 0&&j.progress<100).length,x=e.sort((j,S)=>new Date(S.created_at||"").getTime()-new Date(j.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:t("employeeDashboard.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:t("employeeDashboard.subtitle",{name:ce(h.profile||{},"user_name")||h.email})})]})}),i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsxs(Ae,{className:"flex items-center gap-2",children:[i.jsx(Pi,{className:"h-5 w-5"}),t("employeeDashboard.employeeInfo")]})}),i.jsx(me,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:t("employeeDashboard.name")}),i.jsx("p",{className:"font-medium",children:ce(h.profile||{},"user_name")||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:t("employeeDashboard.email")}),i.jsx("p",{className:"font-medium",children:h.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:t("employeeDashboard.role")}),i.jsx(nt,{variant:"secondary",className:"capitalize",children:h.role})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:t("employeeDashboard.memberSince")}),i.jsx("p",{className:"font-medium",children:(_=h.profile)!=null&&_.created_at?new Date(h.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[i.jsxs(ue,{children:[i.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ae,{className:"text-sm font-medium",children:t("employeeDashboard.myProjects")}),i.jsx(Hu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:p.length}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[g," ",t("employeeDashboard.active")]})]})]}),i.jsxs(ue,{children:[i.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ae,{className:"text-sm font-medium",children:t("employeeDashboard.myTasks")}),i.jsx(hu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.length}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[w," ",t("employeeDashboard.completed")]})]})]}),i.jsxs(ue,{children:[i.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ae,{className:"text-sm font-medium",children:t("employeeDashboard.inProgress")}),i.jsx(A_,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:y}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("employeeDashboard.activeTasks")})]})]}),i.jsxs(ue,{children:[i.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ae,{className:"text-sm font-medium",children:t("employeeDashboard.completedTasks")}),i.jsx(O_,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:w}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("employeeDashboard.finishedTasks")})]})]}),i.jsxs(ue,{children:[i.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Ae,{className:"text-sm font-medium",children:t("employeeDashboard.leads")}),i.jsx(hu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:o.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("employeeDashboard.totalLeads")})]})]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsx(Ae,{children:t("employeeDashboard.myProjects")})}),i.jsx(me,{className:"space-y-4",children:p.length>0?p.slice(0,5).map(j=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium leading-none",children:j.project_name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:j.project_description||t("employeeDashboard.noDescription")})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(eo,{value:j.progress||0,className:"w-16 h-2"}),i.jsxs("span",{className:"text-sm text-muted-foreground w-8",children:[j.progress||0,"%"]})]})]},j.project_id)):i.jsx("p",{className:"text-sm text-muted-foreground",children:t("employeeDashboard.noProjectsAssigned")})})]}),i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsx(Ae,{children:t("employeeDashboard.recentTasks")})}),i.jsx(me,{className:"space-y-4",children:x.length>0?x.map(j=>{var S;return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium leading-none",children:j.task_name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:j.description||t("employeeDashboard.noDescription")})]}),i.jsx(nt,{variant:j.task_status==="done"?"default":j.task_status==="in_progress"?"secondary":"outline",className:"text-xs",children:(S=j.task_status)==null?void 0:S.replace("_"," ")})]},j.task_id)}):i.jsx("p",{className:"text-sm text-muted-foreground",children:t("employeeDashboard.noTasksAssigned")})})]})]})]})}const mh=768;function lo(){const[t,e]=f.useState(void 0);return f.useEffect(()=>{const r=window.matchMedia(`(max-width: ${mh-1}px)`),n=()=>{e(window.innerWidth<mh)};return r.addEventListener("change",n),e(window.innerWidth<mh),()=>r.removeEventListener("change",n)},[]),!!t}var OS="AlertDialog",[d4,aF]=Jt(OS,[aS]),yn=aS(),AS=t=>{const{__scopeAlertDialog:e,...r}=t,n=yn(e);return i.jsx(zp,{...n,...r,modal:!0})};AS.displayName=OS;var h4="AlertDialogTrigger",IS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=yn(r);return i.jsx(Vp,{...s,...n,ref:e})});IS.displayName=h4;var f4="AlertDialogPortal",DS=t=>{const{__scopeAlertDialog:e,...r}=t,n=yn(e);return i.jsx(Wp,{...n,...r})};DS.displayName=f4;var m4="AlertDialogOverlay",LS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=yn(r);return i.jsx(bl,{...s,...n,ref:e})});LS.displayName=m4;var si="AlertDialogContent",[p4,g4]=d4(si),v4=nA("AlertDialogContent"),MS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,o=yn(r),a=f.useRef(null),l=pe(e,a),c=f.useRef(null);return i.jsx(FM,{contentName:si,titleName:$S,docsSlug:"alert-dialog",children:i.jsx(p4,{scope:r,cancelRef:c,children:i.jsxs(_l,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:J(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(v4,{children:n}),i.jsx(x4,{contentRef:a})]})})})});MS.displayName=si;var $S="AlertDialogTitle",US=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=yn(r);return i.jsx(jl,{...s,...n,ref:e})});US.displayName=$S;var FS="AlertDialogDescription",BS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=yn(r);return i.jsx(Sl,{...s,...n,ref:e})});BS.displayName=FS;var y4="AlertDialogAction",zS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=yn(r);return i.jsx(od,{...s,...n,ref:e})});zS.displayName=y4;var VS="AlertDialogCancel",WS=f.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=g4(VS,r),o=yn(r),a=pe(e,s);return i.jsx(od,{...o,...n,ref:a})});WS.displayName=VS;var x4=({contentRef:t})=>{const e=`\`${si}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${si}\` by passing a \`${FS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${si}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},w4=AS,b4=IS,_4=DS,HS=LS,KS=MS,qS=zS,GS=WS,QS=US,JS=BS;const Ki=w4,ld=b4,j4=_4,YS=f.forwardRef(({className:t,...e},r)=>i.jsx(HS,{className:z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));YS.displayName=HS.displayName;const co=f.forwardRef(({className:t,...e},r)=>i.jsxs(j4,{children:[i.jsx(YS,{}),i.jsx(KS,{ref:r,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));co.displayName=KS.displayName;const uo=({className:t,...e})=>i.jsx("div",{className:z("flex flex-col space-y-2 text-center sm:text-left",t),...e});uo.displayName="AlertDialogHeader";const ho=({className:t,...e})=>i.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ho.displayName="AlertDialogFooter";const fo=f.forwardRef(({className:t,...e},r)=>i.jsx(QS,{ref:r,className:z("text-lg font-semibold",t),...e}));fo.displayName=QS.displayName;const mo=f.forwardRef(({className:t,...e},r)=>i.jsx(JS,{ref:r,className:z("text-sm text-muted-foreground",t),...e}));mo.displayName=JS.displayName;const po=f.forwardRef(({className:t,...e},r)=>i.jsx(qS,{ref:r,className:z(bp(),t),...e}));po.displayName=qS.displayName;const go=f.forwardRef(({className:t,...e},r)=>i.jsx(GS,{ref:r,className:z(bp({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));go.displayName=GS.displayName;const pn=zp,tl=Vp,S4=Wp,XS=f.forwardRef(({className:t,...e},r)=>i.jsx(bl,{ref:r,className:z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));XS.displayName=bl.displayName;const Hr=f.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(S4,{children:[i.jsx(XS,{}),i.jsxs(_l,{ref:n,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs(od,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(M_,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hr.displayName=_l.displayName;const Kr=({className:t,...e})=>i.jsx("div",{className:z("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Kr.displayName="DialogHeader";const to=({className:t,...e})=>i.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});to.displayName="DialogFooter";const qr=f.forwardRef(({className:t,...e},r)=>i.jsx(jl,{ref:r,className:z("text-lg font-semibold leading-none tracking-tight",t),...e}));qr.displayName=jl.displayName;const ro=f.forwardRef(({className:t,...e},r)=>i.jsx(Sl,{ref:r,className:z("text-sm text-muted-foreground",t),...e}));ro.displayName=Sl.displayName;const rl=f.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));rl.displayName="Textarea";function Gp({stages:t,currentStageId:e,onStageChange:r,children:n}){if(!lo())return i.jsx(i.Fragment,{children:n});const o=t.find(a=>a.id===e)??t[0];return i.jsxs("div",{className:"flex flex-col h-[calc(100vh-200px)]",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:i.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:Mt()?"rtl":"ltr",children:i.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...t].sort((a,l)=>(Mt(),a.id-l.id)).map(a=>{const l=a.id===o.id;return i.jsxs("button",{onClick:()=>r(a.id),className:z("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",l?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[i.jsx("span",{className:"truncate max-w-[140px]",children:a.name}),i.jsx(nt,{variant:"secondary",className:z("h-5 min-w-5 px-1.5 text-xs font-semibold",l?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:a.count})]},a.id)})})})}),i.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:i.jsx("div",{className:"p-4",children:n})})]})}function N4({lead:t,client:e,creator:r,assignedUser:n,userRole:s,onDelete:o,onClick:a,onDragStart:l,isDragging:c=!1}){const{t:u}=Ze(),d=lo(),h=m=>m?new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.unknown");return i.jsxs(ue,{className:z("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",c&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!l,onDragStart:m=>{l&&(m.dataTransfer.effectAllowed="move",m.dataTransfer.setData("text/plain",t.lead_id.toString()),l(t.lead_id))},children:[i.jsx(ke,{className:"pb-3 px-4 pt-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:ce(t,"lead_name")}),ce(t,"lead_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ce(t,"lead_description")})]}),o&&i.jsxs(Ki,{children:[i.jsx(ld,{asChild:!0,onClick:m=>m.stopPropagation(),children:i.jsx(G,{variant:"ghost",size:"sm",className:z("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(ao,{className:"h-4 w-4"})})}),i.jsxs(co,{onClick:m=>m.stopPropagation(),children:[i.jsxs(uo,{children:[i.jsx(fo,{children:u("leads.deleteLead")}),i.jsx(mo,{children:u("leads.deleteConfirmation",{name:ce(t,"lead_name")})})]}),i.jsxs(ho,{children:[i.jsx(go,{children:u("buttons.cancel")}),i.jsx(po,{onClick:m=>{m.stopPropagation(),o(t.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(me,{className:"px-4 pb-4 space-y-3",children:[e&&i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50",children:[i.jsx(ki,{className:"h-4 w-4 text-primary flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:u("leads.client")}),i.jsx("p",{className:"text-sm font-medium truncate",children:ce(e,"user_name")})]})]}),(s==="admin"||s==="manager")&&i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Pi,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:u("leads.createdBy")}),i.jsx("p",{className:"text-xs font-medium truncate",children:ce(r,"user_name")})]})]}),n&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Pi,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:u("leads.assignedTo")}),i.jsx("p",{className:"text-xs font-medium truncate",children:ce(n,"user_name")})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Ei,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:h(t.created_date)})]}),i.jsx(nt,{variant:"secondary",className:"text-xs",children:u("leads.lead")})]})]})]})}function C4(){var be,je;Pr();const{hasRole:t,user:e}=st(),r=lo(),{t:n}=Ze(),[s,o]=f.useState([]),[a,l]=f.useState([]),[c,u]=f.useState([]),[d,h]=f.useState([]),[m,p]=f.useState(!0);f.useState(!1),f.useState("");const[b,v]=f.useState(null),[w,y]=f.useState(""),[g,x]=f.useState(null),[_,j]=f.useState(null),[S,N]=f.useState(!1),[E,T]=f.useState(null),[R,A]=f.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1"});f.useEffect(()=>{O()},[]),f.useEffect(()=>{if(d.length>0&&E===null){const F=d.find(Q=>Q.stage_id===1);F&&T(F.stage_id)}},[d,E]);const O=async()=>{try{p(!0);const[F,Q,H,de]=await Promise.all([Ko.getAll(),id.getAll(),mn.getAll(),on.getGlobalStages()]);console.log("[Leads] Loaded data:",{leads:F.length,clients:Q.length,users:H.length,stages:de.length}),console.log("[Leads] Leads data:",F),console.log("[Leads] Stages data:",de),o(F),l(Q),u(H),h(de)}catch(F){console.error("Failed to load data:",F)}finally{p(!1)}},U=async F=>{if(w.trim())try{await on.update(F,{stage_name:w.trim()}),h(d.map(Q=>Q.stage_id===F?{...Q,stage_name:w.trim()}:Q)),v(null),y("")}catch(Q){console.error("Failed to update stage:",Q)}},k=async F=>{if(s.filter(H=>H.stage===F).length>0){x(F);return}try{await on.delete(F),h(d.filter(H=>H.stage_id!==F))}catch(H){console.error("Failed to delete stage:",H)}},B=async()=>{if(g)try{await on.delete(g),h(d.filter(F=>F.stage_id!==g)),x(null),O()}catch(F){console.error("Failed to delete stage:",F)}},M=F=>{j(F)},D=F=>{F.preventDefault(),F.dataTransfer.dropEffect="move"},I=async F=>{if(!_)return;const Q=s.find(H=>H.lead_id===_);if(Q&&Q.stage!==F)try{await Ko.update(_,{stage:F}),o(s.map(H=>H.lead_id===_?{...H,stage:F}:H))}catch(H){console.error("Failed to update lead stage:",H)}j(null)},L=async F=>{try{await Ko.delete(F),o(s.filter(Q=>Q.lead_id!==F))}catch(Q){console.error("Failed to delete lead:",Q)}},W=F=>{A(Q=>({...Q,stage:F.toString()})),N(!0)},q=async()=>{if(R.lead_name.trim())try{const F=dr({lead_name:R.lead_name.trim(),lead_description:R.lead_description.trim()||null,client_name:R.client_name.trim()||null,client_user_id:R.client_user_id||null,created_by:(e==null?void 0:e.id)||null,stage:parseInt(R.stage)},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),Q=await Ko.create(F);o([...s,Q]),A({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1"}),N(!1)}catch(F){console.error("Failed to create lead:",F)}},Z=d.filter(F=>[1,2,3,4].includes(F.stage_id)).sort((F,Q)=>Mt()?Q.stage_id-F.stage_id:F.stage_id-Q.stage_id).map(F=>({id:F.stage_id,name:ce(F,"stage_name"),color:F.color,count:s.filter(Q=>Q.stage===F.stage_id).length}));return m?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:n("leads.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:n("leads.subtitle")})]}),i.jsxs(G,{size:"lg",className:"shadow-lg hover:shadow-xl transition-all",onClick:()=>N(!0),children:[i.jsx(yt,{className:"h-5 w-5 mr-2"}),n("leads.newLead")]})]}),i.jsxs(Gp,{stages:Z,currentStageId:E||((be=Z[0])==null?void 0:be.id),onStageChange:T,children:[i.jsx(pn,{open:S,onOpenChange:N,children:i.jsxs(Hr,{className:"sm:max-w-[500px]",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:n("leads.createLead")}),i.jsx(ro,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(Ne,{value:R.lead_name,onChange:F=>A(Q=>({...Q,lead_name:F.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(rl,{value:R.lead_description,onChange:F=>A(Q=>({...Q,lead_description:F.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(Ne,{value:R.client_name,onChange:F=>A(Q=>({...Q,client_name:F.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(ir,{value:R.client_user_id,onValueChange:F=>A(Q=>({...Q,client_user_id:F})),children:[i.jsx(Ht,{children:i.jsx(ar,{placeholder:n("leads.selectClient")})}),i.jsx(Kt,{children:a.map(F=>i.jsx(qe,{value:F.auth_user_id||"",children:ce(F,"user_name")},F.user_id))})]})]})]}),i.jsxs(to,{children:[i.jsx(G,{variant:"outline",onClick:()=>N(!1),children:n("buttons.cancel")}),i.jsxs(G,{onClick:q,disabled:!((je=R.lead_name)!=null&&je.trim()),children:[i.jsx(uu,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide rtl:flex-row-reverse max-w-full",children:d.filter(F=>[1,2,3,4].includes(F.stage_id)).sort((F,Q)=>Mt?Q.stage_id-F.stage_id:F.stage_id-Q.stage_id).filter(F=>{var Q;return r?F.stage_id===(E||((Q=Z[0])==null?void 0:Q.id)):!0}).map((F,Q)=>{var de,ye;const H=s.filter(se=>se.stage===F.stage_id);return console.log(`[Leads] Stage ${F.stage_name} (${F.stage_id}): ${H.length} leads`),console.log("[Leads] Stage leads:",H),i.jsxs("div",{className:z("flex-shrink-0 animate-fade-in",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${Q*.1}s`},onDragOver:D,onDrop:()=>I(F.stage_id),children:[i.jsx("div",{className:z("rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft hidden md:block",F.color||"border-l-4 border-primary/50"),children:i.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:b===F.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Ne,{value:w,onChange:se=>y(se.target.value),onKeyDown:se=>{se.key==="Enter"&&U(F.stage_id),se.key==="Escape"&&(v(null),y(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(G,{size:"sm",variant:"ghost",onClick:()=>U(F.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jp,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:ce(F,"stage_name")})]}),i.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:H.length}),i.jsxs(i.Fragment,{children:[i.jsx(G,{size:"sm",variant:"ghost",onClick:()=>{v(F.stage_id),y(F.stage_name)},className:"h-6 w-6 p-0",title:"Edit stage",children:i.jsx(I_,{className:"h-3 w-3"})}),i.jsx(G,{size:"sm",variant:"ghost",onClick:()=>k(F.stage_id),className:"h-6 w-6 p-0 text-destructive",title:"Delete stage",children:i.jsx(ao,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((de=d.sort((se,fe)=>(se.stager_order_index||0)-(fe.stager_order_index||0))[0])==null?void 0:de.stage_id)===F.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(ue,{className:z("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>W(F.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(yt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),H.map(se=>{const fe=a.find($=>$.auth_user_id===se.client_user_id),ve=c.find($=>$.auth_user_id===se.created_by),C=c.find($=>$.auth_user_id===se.assigned_to);return i.jsx("div",{children:i.jsx(N4,{lead:se,client:fe||null,creator:ve||null,assignedUser:C||null,userRole:e==null?void 0:e.role,onDelete:()=>L(se.lead_id),onClick:()=>{},onDragStart:M,isDragging:_===se.lead_id})},se.lead_id)}),((ye=d.sort((se,fe)=>(se.stager_order_index||0)-(fe.stager_order_index||0))[0])==null?void 0:ye.stage_id)!==F.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(G,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>W(F.stage_id),children:[i.jsx(yt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]})]},F.stage_id)})}),i.jsx(Ki,{open:!!g,onOpenChange:()=>x(null),children:i.jsxs(co,{children:[i.jsxs(uo,{children:[i.jsx(fo,{children:n("leads.deleteStage")}),i.jsx(mo,{children:n("leads.deleteStageConfirmation",{count:s.filter(F=>F.stage===g).length})})]}),i.jsxs(ho,{children:[i.jsx(go,{children:n("buttons.cancel")}),i.jsx(po,{onClick:B,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]})]})}function k4({task:t,assignedUser:e,onDelete:r,onClick:n,onDragStart:s,isDragging:o=!1}){var d;const a=lo(),l=h=>h?new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",c=h=>{switch(h){case"done":return i.jsx(O_,{className:"h-3 w-3 text-green-500"});case"in_progress":return i.jsx(A_,{className:"h-3 w-3 text-blue-500"});case"todo":default:return i.jsx(tI,{className:"h-3 w-3 text-gray-500"})}},u=h=>{switch(h){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}};return i.jsxs(ue,{className:z("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 rtl:border-l-0 rtl:border-r-4",a?"w-full":"w-[280px] h-[180px]",u(t.task_status),o&&"opacity-50 rotate-2 scale-105"),onClick:n,draggable:!!s,onDragStart:h=>{s&&(h.dataTransfer.effectAllowed="move",h.dataTransfer.setData("text/plain",t.task_id.toString()),s(t.task_id))},children:[i.jsx(ke,{className:"pb-3 px-4 pt-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:t.task_name}),t.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:t.description})]}),r&&i.jsxs(Ki,{children:[i.jsx(ld,{asChild:!0,onClick:h=>h.stopPropagation(),children:i.jsx(G,{variant:"ghost",size:"sm",className:z("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",a?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(ao,{className:"h-4 w-4"})})}),i.jsxs(co,{onClick:h=>h.stopPropagation(),children:[i.jsxs(uo,{children:[i.jsx(fo,{children:"Delete Task"}),i.jsxs(mo,{children:['Are you sure you want to delete "',t.task_name,'"?']})]}),i.jsxs(ho,{children:[i.jsx(go,{children:"Cancel"}),i.jsx(po,{onClick:h=>{h.stopPropagation(),r(t.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),i.jsxs(me,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:e&&i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Pi,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:ce(e,"user_name")})]})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-1",children:[c(t.task_status),i.jsx("span",{className:"text-xs font-medium capitalize",children:((d=t.task_status)==null?void 0:d.replace("_"," "))||"Todo"})]})})]}),t.due_date&&i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[i.jsx(Ei,{className:"h-3 w-3 flex-shrink-0"}),i.jsxs("span",{children:["Due: ",l(t.due_date)]})]})]})]})}function E4(){var M;Pr();const{hasRole:t,user:e,loading:r}=st(),{t:n}=Ze(),s=lo(),[o,a]=f.useState(null);f.useState(!1),f.useState(""),f.useState(null),f.useState(""),f.useState(null);const[l,c]=f.useState(null),[u,d]=f.useState(!1),[h,m]=f.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),{data:p=[],isLoading:b,error:v}=i4(),{data:w=[],isLoading:y,error:g}=o4(),{data:x=[],isLoading:_,error:j}=a4(),S=b||y||_||r,N=(v==null?void 0:v.message)||(g==null?void 0:g.message)||(j==null?void 0:j.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:e?{id:e.id,email:e.email,role:e.role}:null,authLoading:r,hasUser:!!e,loading:S,data:{tasks:p.length,users:w.length,stages:x.length}});const E=()=>{},T=async D=>{try{await ni.delete(D),E()}catch(I){console.error("Failed to delete task:",I)}},R=D=>{c(D)},A=D=>{D.preventDefault(),D.dataTransfer.dropEffect="move"},O=async D=>{if(!l)return;const I=p.find(L=>L.task_id===l);if(I&&I.stage_id!==D)try{await ni.update(l,{stage_id:D}),E()}catch(L){console.error("Failed to update task stage:",L)}c(null)},U=async()=>{if(h.task_name.trim())try{const D=dr({task_name:h.task_name.trim(),stage_id:h.stage_id?parseInt(h.stage_id):null,assigned_to:h.assigned_to?parseInt(h.assigned_to):null,task_status:h.task_status,due_date:h.due_date?new Date(h.due_date).toISOString():null,description:h.description.trim()||null,auth_user_id:(e==null?void 0:e.id)||null},{task_name:"task_name",description:"description"});await ni.create(D),E(),m({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),d(!1)}catch(D){console.error("Failed to create task:",D)}},k=!0;f.useEffect(()=>{if(x.length>0&&o===null){const D=x.find(I=>I.stage_id===5);D&&a(D.stage_id)}},[x,o,Mt]);const B=x.filter(D=>[5,6,7,8].includes(D.stage_id)).sort((D,I)=>Mt()?I.stage_id-D.stage_id:D.stage_id-I.stage_id).map(D=>({id:D.stage_id,name:ce(D,"stage_name"),color:D.color,count:p.filter(I=>I.stage_id===D.stage_id).length}));return S||r||!e?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:n("tasks.loading")})]})}):N?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600",children:n("tasks.error")}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:N})]})}):i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:n("tasks.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:n("tasks.subtitle")})]})}),i.jsxs(Gp,{stages:B,currentStageId:o||((M=B[0])==null?void 0:M.id),onStageChange:a,children:[i.jsx(pn,{open:u,onOpenChange:d,children:i.jsxs(Hr,{className:"sm:max-w-[500px]",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:n("tasks.createTask")}),i.jsx(ro,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(Ne,{value:h.task_name,onChange:D=>m(I=>({...I,task_name:D.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(rl,{value:h.description,onChange:D=>m(I=>({...I,description:D.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(ir,{value:h.assigned_to,onValueChange:D=>m(I=>({...I,assigned_to:D})),children:[i.jsx(Ht,{children:i.jsx(ar,{placeholder:n("tasks.selectUser")})}),i.jsx(Kt,{children:w.map(D=>i.jsx(qe,{value:D.user_id.toString(),children:ce(D,"user_name")},D.user_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(ir,{value:h.stage_id,onValueChange:D=>m(I=>({...I,stage_id:D})),children:[i.jsx(Ht,{children:i.jsx(ar,{placeholder:n("tasks.selectStage")})}),i.jsx(Kt,{children:x.map(D=>i.jsx(qe,{value:D.stage_id.toString(),children:ce(D,"stage_name")},D.stage_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(ir,{value:h.task_status,onValueChange:D=>m(I=>({...I,task_status:D})),children:[i.jsx(Ht,{children:i.jsx(ar,{placeholder:n("tasks.selectStatus")})}),i.jsxs(Kt,{children:[i.jsx(qe,{value:"todo",children:n("tasks.todo")}),i.jsx(qe,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(qe,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(Ne,{type:"date",value:h.due_date,onChange:D=>m(I=>({...I,due_date:D.target.value}))})]})]}),i.jsxs(to,{children:[i.jsx(G,{variant:"outline",onClick:()=>d(!1),children:n("buttons.cancel")}),i.jsxs(G,{onClick:U,disabled:!h.task_name.trim(),children:[i.jsx(uu,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide rtl:flex-row-reverse max-w-full",children:x.filter(D=>[5,6,7,8].includes(D.stage_id)).sort((D,I)=>Mt()?I.stage_id-D.stage_id:D.stage_id-I.stage_id).filter(D=>{var I;return s?D.stage_id===(o||((I=B[0])==null?void 0:I.id)):!0}).map((D,I)=>{var W,q;const L=p.filter(Z=>Z.stage_id===D.stage_id);return i.jsxs("div",{className:z("flex-shrink-0 animate-fade-in",s?"w-full":"w-[300px]"),style:{animationDelay:`${I*.1}s`},onDragOver:A,onDrop:()=>O(D.stage_id),children:[i.jsx("div",{className:z("rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft hidden md:block",D.color||"border-l-4 border-primary/50"),children:i.jsxs("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jp,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:ce(D,"stage_name")})]}),i.jsx("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:L.length})})]})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((W=x.sort((Z,be)=>(Z.stager_order_index||0)-(be.stager_order_index||0))[0])==null?void 0:W.stage_id)===D.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(ue,{className:z("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",s?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>d(!0),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(yt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),L.map(Z=>{const be=w.find(je=>je.user_id===Z.assigned_to);return i.jsx("div",{draggable:k,onDragStart:()=>R(Z.task_id),className:"cursor-move",children:i.jsx(k4,{task:Z,assignedUser:be||null,onDelete:()=>T(Z.task_id),onClick:()=>{console.log("Task clicked:",Z.task_id)},onDragStart:R,isDragging:l===Z.task_id})},Z.task_id)}),((q=x.sort((Z,be)=>(Z.stager_order_index||0)-(be.stager_order_index||0))[0])==null?void 0:q.stage_id)!==D.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(G,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>d(!0),children:[i.jsx(yt,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},D.stage_id)})})]})]})}const ZS=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:z("w-full caption-bottom text-sm",t),...e})}));ZS.displayName="Table";const e1=f.forwardRef(({className:t,...e},r)=>i.jsx("thead",{ref:r,className:z("[&_tr]:border-b",t),...e}));e1.displayName="TableHeader";const t1=f.forwardRef(({className:t,...e},r)=>i.jsx("tbody",{ref:r,className:z("[&_tr:last-child]:border-0",t),...e}));t1.displayName="TableBody";const P4=f.forwardRef(({className:t,...e},r)=>i.jsx("tfoot",{ref:r,className:z("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));P4.displayName="TableFooter";const nm=f.forwardRef(({className:t,...e},r)=>i.jsx("tr",{ref:r,className:z("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));nm.displayName="TableRow";const kn=f.forwardRef(({className:t,...e},r)=>i.jsx("th",{ref:r,className:z("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));kn.displayName="TableHead";const En=f.forwardRef(({className:t,...e},r)=>i.jsx("td",{ref:r,className:z("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));En.displayName="TableCell";const T4=f.forwardRef(({className:t,...e},r)=>i.jsx("caption",{ref:r,className:z("mt-4 text-sm text-muted-foreground",t),...e}));T4.displayName="TableCaption";function R4(){const[t,e]=f.useState([]),[r,n]=f.useState([]),[s,o]=f.useState(!0),[a,l]=f.useState(null),[c,u]=f.useState(""),{user:d,loading:h}=st(),{t:m}=Ze();f.useEffect(()=>{d&&!h&&p()},[d,h]);const p=async()=>{try{o(!0),l(null);const[g,x]=await Promise.all([GM.getAll().catch(_=>(console.error("[Tickets] Error fetching tickets:",_),[])),mn.getAll().catch(_=>(console.error("[Tickets] Error fetching users:",_),[]))]);e(g),n(x)}catch(g){console.error("[Tickets] Failed to load data:",g),l(g.message||m("common.error"))}finally{o(!1)}},b=g=>{if(!g)return m("leads.unknown");const x=r.find(_=>_.user_id===g);return x?ce(x,"user_name"):m("leads.unknown")},v=g=>{switch(g==null?void 0:g.toLowerCase()){case"open":return"destructive";case"in_progress":return"default";case"resolved":return"secondary";case"closed":return"outline";default:return"secondary"}},w=g=>{switch(g==null?void 0:g.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},y=t.filter(g=>{var x;return g.subject.toLowerCase().includes(c.toLowerCase())||((x=g.description)==null?void 0:x.toLowerCase().includes(c.toLowerCase()))||b(g.assigned_to).toLowerCase().includes(c.toLowerCase())});return s||h||!d?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:m("tickets.loading")})]})}):a?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600",children:m("common.error")}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:a}),i.jsx(G,{onClick:p,className:"mt-4",children:m("dashboard.retry")})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:m("tickets.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:m("tickets.subtitle")})]}),i.jsxs(G,{size:"lg",className:"shadow-lg hover:shadow-xl transition-all",children:[i.jsx(yt,{className:"h-5 w-5 mr-2"}),m("tickets.newTicket")]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ne,{placeholder:m("tickets.searchPlaceholder"),value:c,onChange:g=>u(g.target.value),className:"pl-10"})]}),i.jsxs(G,{variant:"outline",size:"sm",children:[i.jsx(iI,{className:"h-4 w-4 mr-2"}),m("common.filter")]})]}),i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsxs(Ae,{children:[m("tickets.allTickets")," (",y.length,")"]})}),i.jsx(me,{children:y.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:m("tickets.noTicketsFound")}),i.jsx("p",{className:"text-muted-foreground",children:m(c?"tickets.noTicketsFoundDesc":"tickets.noTicketsYet")})]}):i.jsxs(ZS,{children:[i.jsx(e1,{children:i.jsxs(nm,{children:[i.jsx(kn,{children:m("tickets.id")}),i.jsx(kn,{children:m("tickets.subject")}),i.jsx(kn,{children:m("tickets.status")}),i.jsx(kn,{children:m("tickets.priority")}),i.jsx(kn,{children:m("tickets.assignedTo")}),i.jsx(kn,{children:m("tickets.createdDate")}),i.jsx(kn,{children:m("tickets.actions")})]})}),i.jsx(t1,{children:y.map(g=>i.jsxs(nm,{children:[i.jsxs(En,{className:"font-medium",children:["#",g.ticket_id]}),i.jsx(En,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:g.subject}),g.description&&i.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-xs",children:g.description})]})}),i.jsx(En,{children:i.jsx(nt,{variant:v(g.status),children:g.status||m("leads.unknown")})}),i.jsx(En,{children:i.jsx(nt,{variant:w(g.priority),children:g.priority||m("leads.unknown")})}),i.jsx(En,{children:b(g.assigned_to)}),i.jsx(En,{children:g.created_date?new Date(g.created_date).toLocaleDateString():"N/A"}),i.jsx(En,{children:i.jsx(G,{variant:"ghost",size:"sm",children:m("tickets.view")})})]},g.ticket_id))})]})})]})]})}function O4({project:t,client:e,manager:r,stages:n,onDelete:s,onClick:o,onDragStart:a,onStageChange:l,isDragging:c=!1}){const{t:u}=Ze(),d=lo(),h=t.progress||0,m=p=>p?new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set");return i.jsxs(ue,{className:z("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!d&&(h===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),c&&"opacity-50 rotate-2 scale-105"),onClick:o,draggable:!!a,onDragStart:p=>{a&&(p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",t.project_id.toString()),a(t.project_id))},children:[i.jsx(ke,{className:"pb-3 px-4 pt-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:ce(t,"project_name")}),ce(t,"project_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ce(t,"project_description")})]}),s&&i.jsxs(Ki,{children:[i.jsx(ld,{asChild:!0,onClick:p=>p.stopPropagation(),children:i.jsx(G,{variant:"ghost",size:"sm",className:z("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(ao,{className:"h-4 w-4"})})}),i.jsxs(co,{onClick:p=>p.stopPropagation(),children:[i.jsxs(uo,{children:[i.jsx(fo,{children:u("projects.deleteProject")}),i.jsx(mo,{children:u("projects.deleteConfirmation",{name:ce(t,"project_name")})})]}),i.jsxs(ho,{children:[i.jsx(go,{children:u("buttons.cancel")}),i.jsx(po,{onClick:p=>{p.stopPropagation(),s(t.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(me,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:u("projects.progress")}),i.jsxs("span",{className:"font-medium",children:[h,"%"]})]}),i.jsx(eo,{value:h,className:"h-2"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(ki,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),i.jsx("p",{className:"text-xs font-medium truncate",children:e.user_name})]})]}),r&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Pi,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),i.jsx("p",{className:"text-xs font-medium truncate",children:r.user_name})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Ei,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:m(t.created_date)})]}),h===100?i.jsx(nt,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):h>0?i.jsx(nt,{variant:"default",className:"text-xs",children:"In Progress"}):i.jsx(nt,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function A4(){var se,fe,ve;const t=Pr(),{hasRole:e,user:r}=st();vl();const{t:n}=Ze(),s=lo(),[o,a]=f.useState([]),[l,c]=f.useState([]),[u,d]=f.useState([]),[h,m]=f.useState([]),[p,b]=f.useState(!0);f.useState(!1),f.useState("");const[v,w]=f.useState(null),[y,g]=f.useState(""),[x,_]=f.useState(null),[j,S]=f.useState(null),[N,E]=f.useState(!1),[T,R]=f.useState(null),[A,O]=f.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[U,k]=f.useState(!1),[B,M]=f.useState({project_name:"",project_description:"",client_id:""});f.useEffect(()=>{D()},[]),f.useEffect(()=>{if(h.length>0&&T===null){const C=h.find($=>$.stage_id===5);C&&R(C.stage_id)}},[h,T]);const D=async()=>{try{b(!0);const[C,$,ee,Se]=await Promise.all([In.getAll(),id.getAll(),mn.getAll(),on.getGlobalStages()]);console.log("[Projects] Loaded data:",{projects:C.length,clients:$.length,users:ee.length,stages:Se.length}),console.log("[Projects] Projects data:",C),console.log("[Projects] Stages data:",Se),a(C),c($),d(ee),m(Se)}catch(C){console.error("Failed to load data:",C)}finally{b(!1)}},I=async C=>{if(y.trim())try{await on.update(C,{stage_name:y.trim()}),m(h.map($=>$.stage_id===C?{...$,stage_name:y.trim()}:$)),w(null),g("")}catch($){console.error("Failed to update stage:",$)}},L=async C=>{if(o.filter(ee=>ee.stage===C).length>0){_(C);return}try{await on.delete(C),m(h.filter(ee=>ee.stage_id!==C))}catch(ee){console.error("Failed to delete stage:",ee)}},W=async()=>{if(x)try{await on.delete(x),m(h.filter(C=>C.stage_id!==x)),_(null),D()}catch(C){console.error("Failed to delete stage:",C)}},q=C=>{S(C)},Z=C=>{C.preventDefault(),C.dataTransfer.dropEffect="move"},be=async C=>{if(!j)return;const $=o.find(ee=>ee.project_id===j);if($&&$.stage!==C)try{await In.update(j,{stage:C}),a(o.map(ee=>ee.project_id===j?{...ee,stage:C}:ee))}catch(ee){console.error("Failed to update project stage:",ee)}S(null)},je=async C=>{try{await In.delete(C),a(o.filter($=>$.project_id!==C))}catch($){console.error("Failed to delete project:",$)}},F=C=>{O($=>({...$,stage:C.toString()})),E(!0)},Q=async()=>{var C;if(A.project_name.trim())try{const $=dr({project_name:A.project_name.trim(),project_description:A.project_description.trim()||null,created_by:((C=r==null?void 0:r.profile)==null?void 0:C.user_id)||1,progress:A.progress,stage:parseInt(A.stage),end_date:null,auth_user_id:(r==null?void 0:r.id)||""},{project_name:"project_name",project_description:"project_description"}),ee=await In.create($);a([...o,ee]),O({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),E(!1)}catch($){console.error("Failed to create project:",$)}},H=async()=>{var C;if(B.project_name.trim())try{const $=dr({project_name:B.project_name.trim(),project_description:B.project_description.trim()||null,created_by:((C=r==null?void 0:r.profile)==null?void 0:C.user_id)||1,progress:0,stage:1,end_date:null,auth_user_id:(r==null?void 0:r.id)||""},{project_name:"project_name",project_description:"project_description"}),ee=await In.create($);a([...o,ee]),M({project_name:"",project_description:"",client_id:""}),k(!1)}catch($){console.error("Failed to create lead:",$)}},de=h.filter(C=>[5,6,7,8].includes(C.stage_id)).sort((C,$)=>Mt()?$.stage_id-C.stage_id:C.stage_id-$.stage_id),ye=de.sort((C,$)=>Mt()?$.stage_id-C.stage_id:C.stage_id-$.stage_id).map(C=>({id:C.stage_id,name:ce(C,"stage_name"),color:C.color,count:o.filter($=>$.stage===C.stage_id).length}));return p?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:n("projects.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:n("projects.subtitle")})]}),i.jsxs(G,{size:"lg",className:"shadow-lg hover:shadow-xl transition-all",onClick:()=>k(!0),children:[i.jsx(yt,{className:"h-5 w-5 mr-2"}),n("projects.newProject")]})]}),i.jsx(pn,{open:N,onOpenChange:E,children:i.jsxs(Hr,{className:"sm:max-w-[500px]",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:n("projects.createProject")}),i.jsx(ro,{children:n("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("projects.projectName")," *"]}),i.jsx(Ne,{value:A.project_name,onChange:C=>O($=>({...$,project_name:C.target.value})),placeholder:n("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("projects.description")}),i.jsx(rl,{value:A.project_description,onChange:C=>O($=>({...$,project_description:C.target.value})),placeholder:n("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("projects.client")}),i.jsxs(ir,{value:A.client_id,onValueChange:C=>O($=>({...$,client_id:C})),children:[i.jsx(Ht,{children:i.jsx(ar,{placeholder:n("projects.selectClient")})}),i.jsx(Kt,{children:l.map(C=>i.jsx(qe,{value:C.user_id.toString(),children:ce(C,"user_name")},C.user_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("projects.initialProgress")}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"range",min:"0",max:"100",value:A.progress,onChange:C=>O($=>({...$,progress:parseInt(C.target.value)})),className:"w-full h-1.5"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"0%"}),i.jsxs("span",{children:[A.progress,"%"]}),i.jsx("span",{children:"100%"})]})]})]})]}),i.jsxs(to,{children:[i.jsx(G,{variant:"outline",onClick:()=>E(!1),children:n("buttons.cancel")}),i.jsxs(G,{onClick:Q,disabled:!((se=A.project_name)!=null&&se.trim()),children:[i.jsx(uu,{className:"h-4 w-4 mr-2"}),n("projects.createProject")]})]})]})}),i.jsxs(Gp,{stages:ye,currentStageId:T||((fe=ye[0])==null?void 0:fe.id),onStageChange:R,children:[i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide rtl:flex-row-reverse max-w-full",children:de.sort((C,$)=>Mt?$.stage_id-C.stage_id:C.stage_id-$.stage_id).filter(C=>{var ee;return window.innerWidth<768?C.stage_id===(T||((ee=ye[0])==null?void 0:ee.id)):!0}).map((C,$)=>{var Se,De;const ee=o.filter(Le=>Le.stage===C.stage_id);return console.log(`[Projects] Stage ${C.stage_name} (${C.stage_id}): ${ee.length} projects`),console.log("[Projects] Stage projects:",ee),i.jsxs("div",{className:z("flex-shrink-0 animate-fade-in",s?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${$*.1}s`},onDragOver:Z,onDrop:()=>be(C.stage_id),children:[i.jsx("div",{className:z("rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft hidden md:block",C.color||"border-l-4 border-primary/50"),children:i.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:v===C.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Ne,{value:y,onChange:Le=>g(Le.target.value),onKeyDown:Le=>{Le.key==="Enter"&&I(C.stage_id),Le.key==="Escape"&&(w(null),g(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(G,{size:"sm",variant:"ghost",onClick:()=>I(C.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jp,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:ce(C,"stage_name")})]}),i.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:ee.length}),i.jsxs(i.Fragment,{children:[i.jsx(G,{size:"sm",variant:"ghost",onClick:()=>{w(C.stage_id),g(ce(C,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:i.jsx(I_,{className:"h-3 w-3"})}),i.jsx(G,{size:"sm",variant:"ghost",onClick:()=>L(C.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:i.jsx(ao,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((Se=h.sort((Le,Me)=>(Le.stager_order_index||0)-(Me.stager_order_index||0))[0])==null?void 0:Se.stage_id)===C.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(ue,{className:z("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",s?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>F(C.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(yt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("projects.addNewProjectCard")})]})})}),ee.map(Le=>{const Me=u.find(Jr=>Jr.user_id===Le.created_by);return i.jsx("div",{children:i.jsx(O4,{project:Le,client:null,manager:Me||null,stages:de,onDelete:()=>je(Le.project_id),onClick:()=>t(`/project/${Le.project_id}`),onDragStart:q,onStageChange:be,isDragging:j===Le.project_id})},Le.project_id)}),((De=h.sort((Le,Me)=>(Le.stager_order_index||0)-(Me.stager_order_index||0))[0])==null?void 0:De.stage_id)!==C.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(G,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>F(C.stage_id),children:[i.jsx(yt,{className:"h-4 w-4 mr-2"}),n("projects.addProject")]})})]})]},C.stage_id)})}),i.jsx(Ki,{open:!!x,onOpenChange:()=>_(null),children:i.jsxs(co,{children:[i.jsxs(uo,{children:[i.jsx(fo,{children:n("leads.deleteStage")}),i.jsx(mo,{children:n("leads.deleteStageConfirmation",{count:o.filter(C=>C.stage===x).length})})]}),i.jsxs(ho,{children:[i.jsx(go,{children:n("buttons.cancel")}),i.jsx(po,{onClick:W,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}),i.jsx(pn,{open:U,onOpenChange:k,children:i.jsxs(Hr,{className:"sm:max-w-[500px]",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:n("projects.createProject")}),i.jsx(ro,{children:n("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("projects.projectName")," *"]}),i.jsx(Ne,{value:B.project_name,onChange:C=>M($=>({...$,project_name:C.target.value})),placeholder:n("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("projects.description")}),i.jsx(rl,{value:B.project_description,onChange:C=>M($=>({...$,project_description:C.target.value})),placeholder:n("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("projects.client")}),i.jsxs(ir,{value:B.client_id,onValueChange:C=>M($=>({...$,client_id:C})),children:[i.jsx(Ht,{children:i.jsx(ar,{placeholder:n("projects.selectClient")})}),i.jsx(Kt,{children:l.map(C=>i.jsx(qe,{value:C.user_id.toString(),children:ce(C,"user_name")},C.user_id))})]})]})]}),i.jsxs(to,{children:[i.jsx(G,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(G,{onClick:H,disabled:!((ve=B.project_name)!=null&&ve.trim()),children:[i.jsx(uu,{className:"h-4 w-4 mr-2"}),n("projects.createProject")]})]})]})})]})}const I4=({clientAuthUserId:t})=>{const{data:e=[]}=ad(t);return i.jsx(i.Fragment,{children:e.length})},D4=({clientAuthUserId:t})=>{const{t:e}=Ze(),{data:r=[]}=ad(t),n=r.filter(s=>s.progress!==null&&s.progress!==void 0&&s.progress<100).length;return n===0?null:i.jsxs(nt,{variant:"secondary",children:[n," ",e("clients.active")]})},L4=({clientAuthUserId:t})=>{const{t:e}=Ze(),{data:r=[]}=ad(t);return i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold",children:r.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e("clients.totalProjects")})]}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold",children:r.filter(n=>n.progress!==null&&n.progress!==void 0&&n.progress<100).length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e("clients.activeProjects")})]}),i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold",children:r.filter(n=>n.progress===100).length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e("clients.completedProjects")})]})]})};function M4(){const{t}=Ze(),{data:e=[],isLoading:r}=l4(),[n,s]=f.useState(null),o=r;return i.jsxs("div",{className:"space-y-8 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:t("clients.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:t("clients.subtitle")})]}),i.jsxs(G,{size:"lg",className:"shadow-lg hover:shadow-xl transition-all",children:[i.jsx(yt,{className:"h-5 w-5 mr-2"}),t("clients.newClient")]})]}),o?i.jsxs("div",{className:"flex justify-center items-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),i.jsx("span",{className:"sr-only",children:t("clients.loading")})]}):e.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:t("clients.noClientsFound")}),i.jsx("p",{className:"text-muted-foreground",children:t("clients.noClientsYet")})]}):i.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(a=>i.jsxs(ue,{className:"shadow-hover border-none animate-scale-in",children:[i.jsx(ke,{children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full ring-4 ring-muted bg-muted flex items-center justify-center text-2xl",children:a.avatar||""}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-bold text-lg truncate",children:ce(a,"user_name")}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[i.jsx(ki,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate font-medium",children:a.company_name||t("clients.noCompany")})]})]})]})}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Wf,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:a.user_email||t("clients.noEmail")})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Hu,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.jsx(I4,{clientAuthUserId:a.auth_user_id||""})," ",t("clients.projects")]})]}),i.jsx(D4,{clientAuthUserId:a.auth_user_id||""})]}),i.jsxs(pn,{children:[i.jsx(tl,{asChild:!0,children:i.jsx(G,{variant:"outline",className:"w-full",size:"sm",onClick:()=>s(a),children:t("clients.viewDetails")})}),i.jsxs(Hr,{className:"max-w-2xl",children:[i.jsx(Kr,{children:i.jsx(qr,{children:t("clients.clientDetails")})}),n&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center text-3xl",children:n.avatar||""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-2xl font-bold",children:ce(n,"user_name")}),i.jsx("p",{className:"text-muted-foreground capitalize",children:n.user_role})]})]}),i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pi,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:t("clients.userId")}),i.jsx("span",{className:"text-sm",children:n.user_id})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wf,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:t("clients.emailLabel")}),i.jsx("span",{className:"text-sm",children:n.user_email||"N/A"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Np,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:t("clients.contactLabel")}),i.jsx("span",{className:"text-sm",children:n.client_contact||"N/A"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ki,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:t("clients.companyLabel")}),i.jsx("span",{className:"text-sm",children:n.company_name||"N/A"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ei,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:t("clients.createdLabel")}),i.jsx("span",{className:"text-sm",children:n.created_at?new Date(n.created_at).toLocaleDateString():"N/A"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ei,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:t("clients.updatedLabel")}),i.jsx("span",{className:"text-sm",children:n.updated_at?new Date(n.updated_at).toLocaleDateString():"N/A"})]})]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-semibold mb-3",children:t("clients.projectSummary")}),i.jsx(L4,{clientAuthUserId:n.auth_user_id||""})]})]})]})]})]})]},a.user_id))})]})}function $4(t,e){return f.useReducer((r,n)=>e[r][n]??r,t)}var Qp="ScrollArea",[r1,lF]=Jt(Qp),[U4,hr]=r1(Qp),n1=f.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...a}=t,[l,c]=f.useState(null),[u,d]=f.useState(null),[h,m]=f.useState(null),[p,b]=f.useState(null),[v,w]=f.useState(null),[y,g]=f.useState(0),[x,_]=f.useState(0),[j,S]=f.useState(!1),[N,E]=f.useState(!1),T=pe(e,A=>c(A)),R=xl(s);return i.jsx(U4,{scope:r,type:n,dir:R,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:b,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:E,onCornerWidthChange:g,onCornerHeightChange:_,children:i.jsx(oe.div,{dir:R,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})})});n1.displayName=Qp;var s1="ScrollAreaViewport",o1=f.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=t,a=hr(s1,r),l=f.useRef(null),c=pe(e,l,a.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(oe.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:i.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});o1.displayName=s1;var Qr="ScrollAreaScrollbar",Jp=f.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=hr(Qr,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=s,l=t.orientation==="horizontal";return f.useEffect(()=>(l?o(!0):a(!0),()=>{l?o(!1):a(!1)}),[l,o,a]),s.type==="hover"?i.jsx(F4,{...n,ref:e,forceMount:r}):s.type==="scroll"?i.jsx(B4,{...n,ref:e,forceMount:r}):s.type==="auto"?i.jsx(i1,{...n,ref:e,forceMount:r}):s.type==="always"?i.jsx(Yp,{...n,ref:e}):null});Jp.displayName=Qr;var F4=f.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=hr(Qr,t.__scopeScrollArea),[o,a]=f.useState(!1);return f.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Yt,{present:r||o,children:i.jsx(i1,{"data-state":o?"visible":"hidden",...n,ref:e})})}),B4=f.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=hr(Qr,t.__scopeScrollArea),o=t.orientation==="horizontal",a=ud(()=>c("SCROLL_END"),100),[l,c]=$4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),f.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const p=u[d];h!==p&&(c("SCROLL"),a()),h=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,o,c,a]),i.jsx(Yt,{present:r||l!=="hidden",children:i.jsx(Yp,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:J(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:J(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),i1=f.forwardRef((t,e)=>{const r=hr(Qr,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,a]=f.useState(!1),l=t.orientation==="horizontal",c=ud(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:d)}},10);return Ri(r.viewport,c),Ri(r.content,c),i.jsx(Yt,{present:n||o,children:i.jsx(Yp,{"data-state":o?"visible":"hidden",...s,ref:e})})}),Yp=f.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=hr(Qr,t.__scopeScrollArea),o=f.useRef(null),a=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=d1(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function h(m,p){return q4(m,a.current,l,p)}return r==="horizontal"?i.jsx(z4,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,p=ox(m,l,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):r==="vertical"?i.jsx(V4,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,p=ox(m,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),z4=f.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=hr(Qr,t.__scopeScrollArea),[a,l]=f.useState(),c=f.useRef(null),u=pe(e,c,o.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(l1,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":cd(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const m=o.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),f1(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bu(a.paddingLeft),paddingEnd:bu(a.paddingRight)}})}})}),V4=f.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=hr(Qr,t.__scopeScrollArea),[a,l]=f.useState(),c=f.useRef(null),u=pe(e,c,o.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(l1,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":cd(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const m=o.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),f1(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bu(a.paddingTop),paddingEnd:bu(a.paddingBottom)}})}})}),[W4,a1]=r1(Qr),l1=f.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=t,p=hr(Qr,r),[b,v]=f.useState(null),w=pe(e,T=>v(T)),y=f.useRef(null),g=f.useRef(""),x=p.viewport,_=n.content-n.viewport,j=it(d),S=it(c),N=ud(h,10);function E(T){if(y.current){const R=T.clientX-y.current.left,A=T.clientY-y.current.top;u({x:R,y:A})}}return f.useEffect(()=>{const T=R=>{const A=R.target;(b==null?void 0:b.contains(A))&&j(R,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[x,b,_,j]),f.useEffect(S,[n,S]),Ri(b,N),Ri(p.content,N),i.jsx(W4,{scope:r,scrollbar:b,hasThumb:s,onThumbChange:it(o),onThumbPointerUp:it(a),onThumbPositionChange:S,onThumbPointerDown:it(l),children:i.jsx(oe.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:J(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=b.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(T))}),onPointerMove:J(t.onPointerMove,E),onPointerUp:J(t.onPointerUp,T=>{const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=g.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),wu="ScrollAreaThumb",c1=f.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=a1(wu,t.__scopeScrollArea);return i.jsx(Yt,{present:r||s.hasThumb,children:i.jsx(H4,{ref:e,...n})})}),H4=f.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=hr(wu,r),a=a1(wu,r),{onThumbPositionChange:l}=a,c=pe(e,h=>a.onThumbChange(h)),u=f.useRef(void 0),d=ud(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=o.viewport;if(h){const m=()=>{if(d(),!u.current){const p=G4(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[o.viewport,d,l]),i.jsx(oe.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:J(t.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),b=h.clientX-p.left,v=h.clientY-p.top;a.onThumbPointerDown({x:b,y:v})}),onPointerUp:J(t.onPointerUp,a.onThumbPointerUp)})});c1.displayName=wu;var Xp="ScrollAreaCorner",u1=f.forwardRef((t,e)=>{const r=hr(Xp,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(K4,{...t,ref:e}):null});u1.displayName=Xp;var K4=f.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=hr(Xp,r),[o,a]=f.useState(0),[l,c]=f.useState(0),u=!!(o&&l);return Ri(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Ri(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?i.jsx(oe.div,{...n,ref:e,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bu(t){return t?parseInt(t,10):0}function d1(t,e){const r=t/e;return isNaN(r)?0:r}function cd(t){const e=d1(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function q4(t,e,r,n="ltr"){const s=cd(r),o=s/2,a=e||o,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return h1([c,u],h)(t)}function ox(t,e,r="ltr"){const n=cd(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,a=e.content-e.viewport,l=o-n,c=r==="ltr"?[0,a]:[a*-1,0],u=Hf(t,c);return h1([0,a],[0,l])(u)}function h1(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function f1(t,e){return t>0&&t<e}var G4=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},a=r.left!==o.left,l=r.top!==o.top;(a||l)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function ud(t,e){const r=it(t),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Ri(t,e){const r=it(e);Xe(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var m1=n1,Q4=o1,J4=u1;const rs=f.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(m1,{ref:n,className:z("relative overflow-hidden",t),...r,children:[i.jsx(Q4,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(p1,{}),i.jsx(J4,{})]}));rs.displayName=m1.displayName;const p1=f.forwardRef(({className:t,orientation:e="vertical",...r},n)=>i.jsx(Jp,{ref:n,orientation:e,className:z("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:i.jsx(c1,{className:"relative flex-1 rounded-full bg-border"})}));p1.displayName=Jp.displayName;function Y4(){return rb.useSyncExternalStore(X4,()=>!0,()=>!1)}function X4(){return()=>{}}var Zp="Avatar",[Z4,cF]=Jt(Zp),[e$,g1]=Z4(Zp),v1=f.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,o]=f.useState("idle");return i.jsx(e$,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:i.jsx(oe.span,{...n,ref:e})})});v1.displayName=Zp;var y1="AvatarImage",x1=f.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=t,a=g1(y1,r),l=t$(n,o),c=it(u=>{s(u),a.onImageLoadingStatusChange(u)});return Xe(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(oe.img,{...o,ref:e,src:n}):null});x1.displayName=y1;var w1="AvatarFallback",b1=f.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,o=g1(w1,r),[a,l]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&o.imageLoadingStatus!=="loaded"?i.jsx(oe.span,{...s,ref:e}):null});b1.displayName=w1;function ix(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function t$(t,{referrerPolicy:e,crossOrigin:r}){const n=Y4(),s=f.useRef(null),o=n?(s.current||(s.current=new window.Image),s.current):null,[a,l]=f.useState(()=>ix(o,t));return Xe(()=>{l(ix(o,t))},[o,t]),Xe(()=>{const c=h=>()=>{l(h)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),e&&(o.referrerPolicy=e),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,r,e]),a}var _1=v1,j1=x1,S1=b1;const Oi=f.forwardRef(({className:t,...e},r)=>i.jsx(_1,{ref:r,className:z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Oi.displayName=_1.displayName;const Cl=f.forwardRef(({className:t,...e},r)=>i.jsx(j1,{ref:r,className:z("aspect-square h-full w-full",t),...e}));Cl.displayName=j1.displayName;const Ai=f.forwardRef(({className:t,...e},r)=>i.jsx(S1,{ref:r,className:z("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ai.displayName=S1.displayName;function r$(){const{user:t,createStaffUser:e,deleteUser:r}=st();vl();const{t:n}=Ze(),[s,o]=f.useState([]),[a,l]=f.useState(!0),[c,u]=f.useState(""),[d,h]=f.useState(!1),[m,p]=f.useState(""),[b,v]=f.useState(""),[w,y]=f.useState(""),[g,x]=f.useState("employee"),[_,j]=f.useState(""),[S,N]=f.useState(!1);f.useEffect(()=>{E()},[]);const E=async()=>{try{l(!0);const k=await mn.getAll();o(k)}catch(k){console.error("Failed to load users:",k)}finally{l(!1)}},T=s.filter(k=>k.user_name.toLowerCase().includes(c.toLowerCase())||k.user_email.toLowerCase().includes(c.toLowerCase())||k.user_role.toLowerCase().includes(c.toLowerCase())),R=k=>{switch(k){case"admin":return"destructive";case"manager":return"default";case"employee":return"secondary";case"client":return"outline";default:return"secondary"}},A=async k=>{if(k.preventDefault(),!S){j(""),N(!0);try{const B=dr({user_name:m,user_email:b,user_role:g},{user_name:"user_name"});await e(b,w,{name:m,role:g,localizedData:B}),h(!1),p(""),v(""),y(""),x("employee"),E()}catch(B){j(B.message||n("users.addUserError"))}finally{N(!1)}}},O=async(k,B)=>{if(confirm(n("users.deleteConfirmation",{name:B})))try{await r(k),E()}catch(M){alert(`${n("users.deleteError")}: ${M.message}`)}},U=async(k,B)=>{try{await mn.update(k,{user_role:B}),E()}catch(M){alert(`${n("users.updateRoleError")}: ${M.message}`)}};return a?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[i.jsx("h1",{className:"text-3xl font-bold",children:n("users.title")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vr,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-sm font-medium",children:[s.length," ",n("users.totalUsers")]})]}),i.jsx("p",{className:"hidden md:block text-muted-foreground",children:n("users.subtitle")})]}),i.jsx("div",{className:"flex md:hidden w-full",children:(t==null?void 0:t.role)!=="manager"&&i.jsxs(pn,{open:d,onOpenChange:h,children:[i.jsx(tl,{asChild:!0,children:i.jsxs(G,{className:"w-full",children:[i.jsx(yt,{className:"h-4 w-4 mr-2"}),n("users.addUser")]})}),i.jsxs(Hr,{children:[i.jsx(Kr,{children:i.jsx(qr,{children:n("users.addNewUser")})}),i.jsxs("form",{onSubmit:A,className:"space-y-4",children:[_&&i.jsx(lu,{variant:"destructive",children:i.jsx(cu,{children:_})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ct,{htmlFor:"formName",children:n("users.fullName")}),i.jsx(Ne,{id:"formName",value:m,onChange:k=>p(k.target.value),placeholder:n("users.fullName"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ct,{htmlFor:"formEmail",children:n("users.email")}),i.jsx(Ne,{id:"formEmail",type:"email",value:b,onChange:k=>v(k.target.value),placeholder:n("users.email"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ct,{htmlFor:"formPassword",children:n("users.password")}),i.jsx(Ne,{id:"formPassword",type:"password",value:w,onChange:k=>y(k.target.value),placeholder:n("users.password"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ct,{htmlFor:"formRole",children:n("users.role")}),i.jsxs(ir,{value:g,onValueChange:k=>x(k),children:[i.jsx(Ht,{children:i.jsx(ar,{})}),i.jsxs(Kt,{children:[i.jsx(qe,{value:"employee",children:n("users.employee")}),i.jsx(qe,{value:"manager",children:n("users.manager")}),i.jsx(qe,{value:"admin",children:n("users.admin")})]})]})]}),i.jsx(G,{type:"submit",className:"w-full",disabled:S,children:n(S?"users.addingUser":"users.addUser")})]})]})]})}),i.jsx("div",{className:"hidden md:flex items-center justify-end",children:(t==null?void 0:t.role)!=="manager"&&i.jsxs(pn,{open:d,onOpenChange:h,children:[i.jsx(tl,{asChild:!0,children:i.jsxs(G,{children:[i.jsx(yt,{className:"h-4 w-4 mr-2"}),n("users.addUser")]})}),i.jsxs(Hr,{children:[i.jsx(Kr,{children:i.jsx(qr,{children:n("users.addNewUser")})}),i.jsxs("form",{onSubmit:A,className:"space-y-4",children:[_&&i.jsx(lu,{variant:"destructive",children:i.jsx(cu,{children:_})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ct,{htmlFor:"formName",children:n("users.fullName")}),i.jsx(Ne,{id:"formName",value:m,onChange:k=>p(k.target.value),placeholder:n("users.fullName"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ct,{htmlFor:"formEmail",children:n("users.email")}),i.jsx(Ne,{id:"formEmail",type:"email",value:b,onChange:k=>v(k.target.value),placeholder:n("users.email"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ct,{htmlFor:"formPassword",children:n("users.password")}),i.jsx(Ne,{id:"formPassword",type:"password",value:w,onChange:k=>y(k.target.value),placeholder:n("users.password"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ct,{htmlFor:"formRole",children:n("users.role")}),i.jsxs(ir,{value:g,onValueChange:k=>x(k),children:[i.jsx(Ht,{children:i.jsx(ar,{})}),i.jsxs(Kt,{children:[i.jsx(qe,{value:"employee",children:n("users.employee")}),i.jsx(qe,{value:"manager",children:n("users.manager")}),i.jsx(qe,{value:"admin",children:n("users.admin")})]})]})]}),i.jsx(G,{type:"submit",className:"w-full",disabled:S,children:n(S?"users.addingUser":"users.addUser")})]})]})]})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ne,{placeholder:n("users.searchPlaceholder"),value:c,onChange:k=>u(k.target.value),className:"pl-10"})]}),i.jsxs(rs,{className:"h-[calc(100vh-280px)]",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(k=>i.jsxs(ue,{className:"hover:shadow-md transition-shadow",children:[i.jsx(ke,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Oi,{className:"h-12 w-12",children:[i.jsx(Cl,{src:k.avatar||""}),i.jsx(Ai,{children:ce(k,"user_name").charAt(0).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(Ae,{className:"text-lg truncate",children:ce(k,"user_name")}),i.jsx(nt,{variant:R(k.user_role),className:"mt-1",children:n(`users.${k.user_role}`)})]}),(t==null?void 0:t.role)==="admin"&&i.jsx(G,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>O(k.auth_user_id||"",ce(k,"user_name")),children:i.jsx(ao,{className:"h-4 w-4"})})]})}),i.jsxs(me,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Wf,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:k.user_email})]}),k.client_contact&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Np,{className:"h-4 w-4"}),i.jsx("span",{children:k.client_contact})]}),k.company_name&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(JA,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:k.company_name})]}),k.user_role==="employee"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("div",{className:"text-xs font-medium mb-1",children:n("users.changeRole")}),i.jsxs(ir,{value:k.user_role,onValueChange:B=>U(k.user_id,B),children:[i.jsx(Ht,{className:"w-full h-8",children:i.jsx(ar,{})}),i.jsxs(Kt,{children:[i.jsx(qe,{value:"employee",children:n("users.employee")}),i.jsx(qe,{value:"manager",children:n("users.manager")}),i.jsx(qe,{value:"team_leader",children:n("users.team_leader")})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",new Date(k.created_at).toLocaleDateString()]})]})]},k.user_id))}),T.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Vr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("users.noUsersFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(c?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]})}function n$(){const{user:t}=st(),{t:e}=Ze(),[r,n]=f.useState([]),[s,o]=f.useState([]),[a,l]=f.useState({}),[c,u]=f.useState(!0),[d,h]=f.useState(""),[m,p]=f.useState(!1),[b,v]=f.useState(""),[w,y]=f.useState(""),[g,x]=f.useState(null),_=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager";(t==null?void 0:t.role)==="employee"||(t==null||t.role),f.useEffect(()=>{j(),S()},[]);const j=async()=>{try{u(!0);const k=await Po.getAll(),B=await Po.getAllTeamMembers();n(k),l(B)}catch(k){console.error("Failed to load teams:",k)}finally{u(!1)}},S=async()=>{try{const k=await mn.getAll();o(k)}catch(k){console.error("Failed to load users:",k)}},N=async()=>{if(b.trim())try{const k=dr({team_name:b.trim(),team_leader_id:w||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await Po.create(k),v(""),y(""),p(!1),await j()}catch(k){console.error("Failed to create team:",k)}},E=async(k,B)=>{try{await Po.addMember(k,B);const M=s.find(D=>D.auth_user_id===B);M&&l(D=>({...D,[k]:[...D[k]||[],M]}))}catch(M){console.error("Failed to add team member:",M)}},T=async(k,B)=>{try{await Po.removeMember(k,B),l(M=>({...M,[k]:(M[k]||[]).filter(D=>D.auth_user_id!==B)}))}catch(M){console.error("Failed to remove team member:",M)}},R=async k=>{try{await Po.delete(k),n(B=>B.filter(M=>M.team_id!==k)),l(B=>{const M={...B};return delete M[k],M}),x(null)}catch(B){console.error("Failed to delete team:",B)}},A=r.filter(k=>(ce(k,"team_name")||"").toLowerCase().includes(d.toLowerCase())),O=k=>s.find(B=>B.auth_user_id===k),U=s.filter(k=>k.user_role==="employee");return c?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:e("teams.title")}),i.jsx("p",{className:"text-muted-foreground mt-2",children:e("teams.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vr,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:r.length})})]}),_&&i.jsxs(pn,{open:m,onOpenChange:p,children:[i.jsx(tl,{asChild:!0,children:i.jsxs(G,{children:[i.jsx(yt,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),i.jsxs(Hr,{className:"sm:max-w-[425px]",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:e("teams.createTeamTitle")}),i.jsx(ro,{children:e("teams.createTeamDesc")})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ct,{htmlFor:"team-name",className:"text-right",children:e("teams.teamName")}),i.jsx(Ne,{id:"team-name",value:b,onChange:k=>v(k.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ct,{htmlFor:"team-leader",className:"text-right",children:e("teams.teamLeader")}),i.jsxs(ir,{value:w,onValueChange:y,children:[i.jsx(Ht,{className:"col-span-3",children:i.jsx(ar,{placeholder:e("teams.selectTeamLeader")})}),i.jsx(Kt,{children:U.map(k=>i.jsx(qe,{value:k.auth_user_id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:k.avatar||""}),i.jsx("span",{children:ce(k,"user_name")}),i.jsx(nt,{variant:"outline",className:"text-xs",children:k.user_role})]})},k.auth_user_id))})]})]})]}),i.jsx(to,{children:i.jsx(G,{type:"submit",onClick:N,disabled:!b.trim(),children:e("teams.createTeam")})})]})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ne,{placeholder:e("teams.searchPlaceholder"),value:d,onChange:k=>h(k.target.value),className:"pl-10"})]}),i.jsxs(rs,{className:"h-[calc(100vh-280px)]",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(k=>{const B=O(k.team_leader_id||""),M=a[k.team_id]||[];return i.jsxs(ue,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(ke,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ae,{className:"text-lg",children:ce(k,"team_name")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(nt,{variant:"outline",children:e("teams.memberCount_plural",{count:M.length})}),_&&i.jsxs(Ki,{children:[i.jsx(ld,{asChild:!0,children:i.jsx(G,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:D=>{D.stopPropagation(),x(k.team_id)},children:i.jsx(ao,{className:"h-3 w-3"})})}),i.jsxs(co,{onClick:D=>D.stopPropagation(),children:[i.jsxs(uo,{children:[i.jsx(fo,{children:e("teams.deleteTeam")}),i.jsx(mo,{children:e("teams.deleteConfirmation",{name:ce(k,"team_name")})})]}),i.jsxs(ho,{children:[i.jsx(go,{children:e("buttons.cancel")}),i.jsx(po,{onClick:D=>{D.stopPropagation(),R(k.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),B&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[e("teams.teamLeader"),":"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:B.avatar||""}),i.jsx("span",{children:ce(B,"user_name")})]})]})]}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),i.jsxs("div",{className:"space-y-2",children:[M.slice(0,4).map(D=>i.jsxs("div",{className:`flex items-center ${_?"justify-between":"gap-2"} bg-muted/50 p-2 rounded`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Oi,{className:"h-6 w-6",children:[i.jsx(Cl,{src:D.avatar||""}),i.jsx(Ai,{className:"text-xs",children:ce(D,"user_name").charAt(0).toUpperCase()})]}),i.jsx("span",{className:"text-sm",children:ce(D,"user_name")})]}),_&&i.jsx(G,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>T(k.team_id,D.auth_user_id),children:i.jsx(yI,{className:"h-3 w-3"})})]},D.auth_user_id)),M.length>4&&i.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+",M.length-4," more members"]}),M.length===0&&i.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:"No members yet"})]})]}),_&&i.jsx("div",{children:i.jsxs(ir,{onValueChange:D=>{D&&E(k.team_id,D)},children:[i.jsx(Ht,{className:"w-full",children:i.jsx(ar,{placeholder:e("teams.addMember")})}),i.jsx(Kt,{children:s.filter(D=>D.auth_user_id&&D.user_role==="employee"&&!M.some(I=>I.auth_user_id===D.auth_user_id)).map(D=>i.jsx(qe,{value:D.auth_user_id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:D.avatar||""}),i.jsx("span",{children:ce(D,"user_name")}),i.jsx(nt,{variant:"outline",className:"text-xs",children:D.user_role})]})},D.auth_user_id))})]})}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",k.created_at?new Date(k.created_at).toLocaleDateString():"N/A"]})]})]},k.team_id)})}),A.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Vr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:e(d?"teams.noTeamsFound":"teams.noTeamsYet")}),i.jsx("p",{className:"text-muted-foreground mb-4",children:e(d?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!d&&_&&i.jsxs(G,{onClick:()=>p(!0),children:[i.jsx(yt,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}var dd="Switch",[s$,uF]=Jt(dd),[o$,i$]=s$(dd),N1=f.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[m,p]=f.useState(null),b=pe(e,x=>p(x)),v=f.useRef(!1),w=m?d||!!m.closest("form"):!0,[y,g]=Js({prop:s,defaultProp:o??!1,onChange:u,caller:dd});return i.jsxs(o$,{scope:r,checked:y,disabled:l,children:[i.jsx(oe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":P1(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:b,onClick:J(t.onClick,x=>{g(_=>!_),w&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),w&&i.jsx(E1,{control:m,bubbles:!v.current,name:n,value:c,checked:y,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});N1.displayName=dd;var C1="SwitchThumb",k1=f.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=i$(C1,r);return i.jsx(oe.span,{"data-state":P1(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});k1.displayName=C1;var a$="SwitchBubbleInput",E1=f.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},o)=>{const a=f.useRef(null),l=pe(a,o),c=fj(r),u=Z_(e);return f.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const b=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(b)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E1.displayName=a$;function P1(t){return t?"checked":"unchecked"}var T1=N1,l$=k1;const R1=f.forwardRef(({className:t,...e},r)=>i.jsx(T1,{className:z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:i.jsx(l$,{className:z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));R1.displayName=T1.displayName;var ph="rovingFocusGroup.onEntryFocus",c$={bubbles:!1,cancelable:!0},kl="RovingFocusGroup",[sm,O1,u$]=Cp(kl),[d$,hd]=Jt(kl,[u$]),[h$,f$]=d$(kl),A1=f.forwardRef((t,e)=>i.jsx(sm.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(sm.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(m$,{...t,ref:e})})}));A1.displayName=kl;var m$=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,m=f.useRef(null),p=pe(e,m),b=xl(o),[v,w]=Js({prop:a,defaultProp:l??null,onChange:c,caller:kl}),[y,g]=f.useState(!1),x=it(u),_=O1(r),j=f.useRef(!1),[S,N]=f.useState(0);return f.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(ph,x),()=>E.removeEventListener(ph,x)},[x]),i.jsx(h$,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:v,onItemFocus:f.useCallback(E=>w(E),[w]),onItemShiftTab:f.useCallback(()=>g(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:f.useCallback(()=>N(E=>E-1),[]),children:i.jsx(oe.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{j.current=!0}),onFocus:J(t.onFocus,E=>{const T=!j.current;if(E.target===E.currentTarget&&T&&!y){const R=new CustomEvent(ph,c$);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const A=_().filter(M=>M.focusable),O=A.find(M=>M.active),U=A.find(M=>M.id===v),B=[O,U,...A].filter(Boolean).map(M=>M.ref.current);L1(B,d)}}j.current=!1}),onBlur:J(t.onBlur,()=>g(!1))})})}),I1="RovingFocusGroupItem",D1=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:a,...l}=t,c=Br(),u=o||c,d=f$(I1,r),h=d.currentTabStopId===u,m=O1(r),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:v}=d;return f.useEffect(()=>{if(n)return p(),()=>b()},[n,p,b]),i.jsx(sm.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(oe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:J(t.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:J(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:J(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=v$(w,d.orientation,d.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=m().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const _=x.indexOf(w.currentTarget);x=d.loop?y$(x,_+1):x.slice(_+1)}setTimeout(()=>L1(x))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:v!=null}):a})})});D1.displayName=I1;var p$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function g$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function v$(t,e,r){const n=g$(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return p$[n]}function L1(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function y$(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var M1=A1,$1=D1,om=["Enter"," "],x$=["ArrowDown","PageUp","Home"],U1=["ArrowUp","PageDown","End"],w$=[...x$,...U1],b$={ltr:[...om,"ArrowRight"],rtl:[...om,"ArrowLeft"]},_$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},El="Menu",[nl,j$,S$]=Cp(El),[vo,F1]=Jt(El,[S$,Yu,hd]),fd=Yu(),B1=hd(),[N$,yo]=vo(El),[C$,Pl]=vo(El),z1=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:a=!0}=t,l=fd(e),[c,u]=f.useState(null),d=f.useRef(!1),h=it(o),m=xl(s);return f.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),i.jsx(cj,{...l,children:i.jsx(N$,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(C$,{scope:e,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:a,children:n})})})};z1.displayName=El;var k$="MenuAnchor",eg=f.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=fd(r);return i.jsx(uj,{...s,...n,ref:e})});eg.displayName=k$;var tg="MenuPortal",[E$,V1]=vo(tg,{forceMount:void 0}),W1=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=yo(tg,e);return i.jsx(E$,{scope:e,forceMount:r,children:i.jsx(Yt,{present:r||o.open,children:i.jsx(Xu,{asChild:!0,container:s,children:n})})})};W1.displayName=tg;var lr="MenuContent",[P$,rg]=vo(lr),H1=f.forwardRef((t,e)=>{const r=V1(lr,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=yo(lr,t.__scopeMenu),a=Pl(lr,t.__scopeMenu);return i.jsx(nl.Provider,{scope:t.__scopeMenu,children:i.jsx(Yt,{present:n||o.open,children:i.jsx(nl.Slot,{scope:t.__scopeMenu,children:a.modal?i.jsx(T$,{...s,ref:e}):i.jsx(R$,{...s,ref:e})})})})}),T$=f.forwardRef((t,e)=>{const r=yo(lr,t.__scopeMenu),n=f.useRef(null),s=pe(e,n);return f.useEffect(()=>{const o=n.current;if(o)return Mp(o)},[]),i.jsx(ng,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:J(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),R$=f.forwardRef((t,e)=>{const r=yo(lr,t.__scopeMenu);return i.jsx(ng,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),O$=Gs("MenuContent.ScrollLock"),ng=f.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:b,...v}=t,w=yo(lr,r),y=Pl(lr,r),g=fd(r),x=B1(r),_=j$(r),[j,S]=f.useState(null),N=f.useRef(null),E=pe(e,N,w.onContentChange),T=f.useRef(0),R=f.useRef(""),A=f.useRef(0),O=f.useRef(null),U=f.useRef("right"),k=f.useRef(0),B=b?ed:f.Fragment,M=b?{as:O$,allowPinchZoom:!0}:void 0,D=L=>{var H,de;const W=R.current+L,q=_().filter(ye=>!ye.disabled),Z=document.activeElement,be=(H=q.find(ye=>ye.ref.current===Z))==null?void 0:H.textValue,je=q.map(ye=>ye.textValue),F=W$(je,W,be),Q=(de=q.find(ye=>ye.textValue===F))==null?void 0:de.ref.current;(function ye(se){R.current=se,window.clearTimeout(T.current),se!==""&&(T.current=window.setTimeout(()=>ye(""),1e3))})(W),Q&&setTimeout(()=>Q.focus())};f.useEffect(()=>()=>window.clearTimeout(T.current),[]),kp();const I=f.useCallback(L=>{var q,Z;return U.current===((q=O.current)==null?void 0:q.side)&&K$(L,(Z=O.current)==null?void 0:Z.area)},[]);return i.jsx(P$,{scope:r,searchRef:R,onItemEnter:f.useCallback(L=>{I(L)&&L.preventDefault()},[I]),onItemLeave:f.useCallback(L=>{var W;I(L)||((W=N.current)==null||W.focus(),S(null))},[I]),onTriggerLeave:f.useCallback(L=>{I(L)&&L.preventDefault()},[I]),pointerGraceTimerRef:A,onPointerGraceIntentChange:f.useCallback(L=>{O.current=L},[]),children:i.jsx(B,{...M,children:i.jsx(qu,{asChild:!0,trapped:s,onMountAutoFocus:J(o,L=>{var W;L.preventDefault(),(W=N.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:i.jsx(Ku,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:i.jsx(M1,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:J(c,L=>{y.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(dj,{role:"menu","aria-orientation":"vertical","data-state":aN(w.open),"data-radix-menu-content":"",dir:y.dir,...g,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:J(v.onKeyDown,L=>{const q=L.target.closest("[data-radix-menu-content]")===L.currentTarget,Z=L.ctrlKey||L.altKey||L.metaKey,be=L.key.length===1;q&&(L.key==="Tab"&&L.preventDefault(),!Z&&be&&D(L.key));const je=N.current;if(L.target!==je||!w$.includes(L.key))return;L.preventDefault();const Q=_().filter(H=>!H.disabled).map(H=>H.ref.current);U1.includes(L.key)&&Q.reverse(),z$(Q)}),onBlur:J(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(T.current),R.current="")}),onPointerMove:J(t.onPointerMove,sl(L=>{const W=L.target,q=k.current!==L.clientX;if(L.currentTarget.contains(W)&&q){const Z=L.clientX>k.current?"right":"left";U.current=Z,k.current=L.clientX}}))})})})})})})});H1.displayName=lr;var A$="MenuGroup",sg=f.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(oe.div,{role:"group",...n,ref:e})});sg.displayName=A$;var I$="MenuLabel",K1=f.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(oe.div,{...n,ref:e})});K1.displayName=I$;var _u="MenuItem",ax="menu.itemSelect",md=f.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=f.useRef(null),a=Pl(_u,t.__scopeMenu),l=rg(_u,t.__scopeMenu),c=pe(e,o),u=f.useRef(!1),d=()=>{const h=o.current;if(!r&&h){const m=new CustomEvent(ax,{bubbles:!0,cancelable:!0});h.addEventListener(ax,p=>n==null?void 0:n(p),{once:!0}),C_(h,m),m.defaultPrevented?u.current=!1:a.onClose()}};return i.jsx(q1,{...s,ref:c,disabled:r,onClick:J(t.onClick,d),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),u.current=!0},onPointerUp:J(t.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:J(t.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||om.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});md.displayName=_u;var q1=f.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,a=rg(_u,r),l=B1(r),c=f.useRef(null),u=pe(e,c),[d,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const b=c.current;b&&p((b.textContent??"").trim())},[o.children]),i.jsx(nl.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:i.jsx($1,{asChild:!0,...l,focusable:!n,children:i.jsx(oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:J(t.onPointerMove,sl(b=>{n?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(t.onPointerLeave,sl(b=>a.onItemLeave(b))),onFocus:J(t.onFocus,()=>h(!0)),onBlur:J(t.onBlur,()=>h(!1))})})})}),D$="MenuCheckboxItem",G1=f.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return i.jsx(Z1,{scope:t.__scopeMenu,checked:r,children:i.jsx(md,{role:"menuitemcheckbox","aria-checked":ju(r)?"mixed":r,...s,ref:e,"data-state":ig(r),onSelect:J(s.onSelect,()=>n==null?void 0:n(ju(r)?!0:!r),{checkForDefaultPrevented:!1})})})});G1.displayName=D$;var Q1="MenuRadioGroup",[L$,M$]=vo(Q1,{value:void 0,onValueChange:()=>{}}),J1=f.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=it(n);return i.jsx(L$,{scope:t.__scopeMenu,value:r,onValueChange:o,children:i.jsx(sg,{...s,ref:e})})});J1.displayName=Q1;var Y1="MenuRadioItem",X1=f.forwardRef((t,e)=>{const{value:r,...n}=t,s=M$(Y1,t.__scopeMenu),o=r===s.value;return i.jsx(Z1,{scope:t.__scopeMenu,checked:o,children:i.jsx(md,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":ig(o),onSelect:J(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});X1.displayName=Y1;var og="MenuItemIndicator",[Z1,$$]=vo(og,{checked:!1}),eN=f.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=$$(og,r);return i.jsx(Yt,{present:n||ju(o.checked)||o.checked===!0,children:i.jsx(oe.span,{...s,ref:e,"data-state":ig(o.checked)})})});eN.displayName=og;var U$="MenuSeparator",tN=f.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});tN.displayName=U$;var F$="MenuArrow",rN=f.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=fd(r);return i.jsx(hj,{...s,...n,ref:e})});rN.displayName=F$;var B$="MenuSub",[dF,nN]=vo(B$),ha="MenuSubTrigger",sN=f.forwardRef((t,e)=>{const r=yo(ha,t.__scopeMenu),n=Pl(ha,t.__scopeMenu),s=nN(ha,t.__scopeMenu),o=rg(ha,t.__scopeMenu),a=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:t.__scopeMenu},d=f.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(eg,{asChild:!0,...u,children:i.jsx(q1,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":aN(r.open),...t,ref:Wu(e,s.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:J(t.onPointerMove,sl(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:J(t.onPointerLeave,sl(h=>{var p,b;d();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(b=r.content)==null?void 0:b.dataset.side,w=v==="right",y=w?-5:5,g=m[w?"left":"right"],x=m[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:g,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:g,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:J(t.onKeyDown,h=>{var p;const m=o.searchRef.current!=="";t.disabled||m&&h.key===" "||b$[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});sN.displayName=ha;var oN="MenuSubContent",iN=f.forwardRef((t,e)=>{const r=V1(lr,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=yo(lr,t.__scopeMenu),a=Pl(lr,t.__scopeMenu),l=nN(oN,t.__scopeMenu),c=f.useRef(null),u=pe(e,c);return i.jsx(nl.Provider,{scope:t.__scopeMenu,children:i.jsx(Yt,{present:n||o.open,children:i.jsx(nl.Slot,{scope:t.__scopeMenu,children:i.jsx(ng,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:J(t.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:J(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:J(t.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),m=_$[a.dir].includes(d.key);h&&m&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});iN.displayName=oN;function aN(t){return t?"open":"closed"}function ju(t){return t==="indeterminate"}function ig(t){return ju(t)?"indeterminate":t?"checked":"unchecked"}function z$(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function V$(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function W$(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=V$(t,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function H$(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const l=e[o],c=e[a],u=l.x,d=l.y,h=c.x,m=c.y;d>n!=m>n&&r<(h-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function K$(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return H$(r,e)}function sl(t){return e=>e.pointerType==="mouse"?t(e):void 0}var q$=z1,G$=eg,Q$=W1,J$=H1,Y$=sg,X$=K1,Z$=md,eU=G1,tU=J1,rU=X1,nU=eN,sU=tN,oU=rN,iU=sN,aU=iN,pd="DropdownMenu",[lU,hF]=Jt(pd,[F1]),Et=F1(),[cU,lN]=lU(pd),cN=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:a,modal:l=!0}=t,c=Et(e),u=f.useRef(null),[d,h]=Js({prop:s,defaultProp:o??!1,onChange:a,caller:pd});return i.jsx(cU,{scope:e,triggerId:Br(),triggerRef:u,contentId:Br(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:i.jsx(q$,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};cN.displayName=pd;var uN="DropdownMenuTrigger",dN=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=lN(uN,r),a=Et(r);return i.jsx(G$,{asChild:!0,...a,children:i.jsx(oe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Wu(e,o.triggerRef),onPointerDown:J(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:J(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});dN.displayName=uN;var uU="DropdownMenuPortal",hN=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Et(e);return i.jsx(Q$,{...n,...r})};hN.displayName=uU;var fN="DropdownMenuContent",mN=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=lN(fN,r),o=Et(r),a=f.useRef(!1);return i.jsx(J$,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:J(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:J(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mN.displayName=fN;var dU="DropdownMenuGroup",hU=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(Y$,{...s,...n,ref:e})});hU.displayName=dU;var fU="DropdownMenuLabel",pN=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(X$,{...s,...n,ref:e})});pN.displayName=fU;var mU="DropdownMenuItem",gN=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(Z$,{...s,...n,ref:e})});gN.displayName=mU;var pU="DropdownMenuCheckboxItem",vN=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(eU,{...s,...n,ref:e})});vN.displayName=pU;var gU="DropdownMenuRadioGroup",vU=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(tU,{...s,...n,ref:e})});vU.displayName=gU;var yU="DropdownMenuRadioItem",yN=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(rU,{...s,...n,ref:e})});yN.displayName=yU;var xU="DropdownMenuItemIndicator",xN=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(nU,{...s,...n,ref:e})});xN.displayName=xU;var wU="DropdownMenuSeparator",wN=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(sU,{...s,...n,ref:e})});wN.displayName=wU;var bU="DropdownMenuArrow",_U=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(oU,{...s,...n,ref:e})});_U.displayName=bU;var jU="DropdownMenuSubTrigger",bN=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(iU,{...s,...n,ref:e})});bN.displayName=jU;var SU="DropdownMenuSubContent",_N=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Et(r);return i.jsx(aU,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_N.displayName=SU;var NU=cN,CU=dN,kU=hN,jN=mN,SN=pN,NN=gN,CN=vN,kN=yN,EN=xN,PN=wN,TN=bN,RN=_N;const EU=NU,PU=CU,TU=f.forwardRef(({className:t,inset:e,children:r,...n},s)=>i.jsxs(TN,{ref:s,className:z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,i.jsx(R_,{className:"ml-auto h-4 w-4"})]}));TU.displayName=TN.displayName;const RU=f.forwardRef(({className:t,...e},r)=>i.jsx(RN,{ref:r,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));RU.displayName=RN.displayName;const ON=f.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(kU,{children:i.jsx(jN,{ref:n,sideOffset:e,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ON.displayName=jN.displayName;const kc=f.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(NN,{ref:n,className:z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));kc.displayName=NN.displayName;const OU=f.forwardRef(({className:t,children:e,checked:r,...n},s)=>i.jsxs(CN,{ref:s,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(EN,{children:i.jsx(_p,{className:"h-4 w-4"})})}),e]}));OU.displayName=CN.displayName;const AU=f.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(kN,{ref:n,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(EN,{children:i.jsx(rI,{className:"h-2 w-2 fill-current"})})}),e]}));AU.displayName=kN.displayName;const IU=f.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(SN,{ref:n,className:z("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));IU.displayName=SN.displayName;const DU=f.forwardRef(({className:t,...e},r)=>i.jsx(PN,{ref:r,className:z("-mx-1 my-1 h-px bg-muted",t),...e}));DU.displayName=PN.displayName;function LU(){var ve;const{user:t}=st(),{t:e}=Ze(),[r,n]=f.useState([]),[s,o]=f.useState(null),[a,l]=f.useState([]),[c,u]=f.useState([]),[d,h]=f.useState(""),[m,p]=f.useState(!0),[b,v]=f.useState(!1),[w,y]=f.useState(""),[g,x]=f.useState(!1),[_,j]=f.useState([]),[S,N]=f.useState({name:"",is_private:!0,project_id:""}),[E,T]=f.useState(!1),[R,A]=f.useState(null),[O,U]=f.useState(null),[k,B]=f.useState(!1),M=f.useRef(!1),D=f.useRef(null),I=f.useRef(null),L=f.useRef(null),W=f.useRef(null);f.useEffect(()=>{t&&!M.current&&Z()},[t]),f.useEffect(()=>{s&&(I.current!==s.room_id&&je(),D.current!==s.room_id&&be())},[s]),f.useEffect(()=>{if(L.current){const C=L.current.querySelector("[data-radix-scroll-area-viewport]");C&&(C.scrollTop=C.scrollHeight)}},[a]),f.useEffect(()=>{s&&(async()=>{try{await K.realtime.setAuth(await Zt.getFreshJwt());const $=`room:${s.room_id}:messages`,ee=K.channel($,{config:{broadcast:{self:!0,ack:!0},private:!0}});return ee.on("broadcast",{event:"*"},Se=>{var Le;const De=(Le=Se.payload)==null?void 0:Le.record;De&&De.message_id&&(l(Me=>Me.some(xn=>xn.message_id===De.message_id)?Me:[...Me.filter(xn=>!(xn.message_id.startsWith("temp-")&&xn.auth_user_id===De.auth_user_id&&xn.content===De.content)),De]),n(Me=>Me.map(Jr=>Jr.room_id===s.room_id?{...Jr,lastMessage:De}:Jr)))}),await ee.subscribe(),()=>{ee.unsubscribe()}}catch($){console.error("Failed to setup realtime:",$)}})()},[s]),f.useEffect(()=>(d&&s?(g||(x(!0),q(!0)),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{x(!1),q(!1)},2e3)):g&&(x(!1),q(!1)),()=>{W.current&&clearTimeout(W.current)}),[d]),f.useEffect(()=>{T(!1),A(null),U(null),M.current=!1,D.current=null,I.current=null},[t]);const q=async C=>{var $;if(!(!s||!t))try{await K.channel(`room:${s.room_id}:typing`).send({type:"broadcast",event:"typing",payload:{userId:t.id,userName:(($=t.profile)==null?void 0:$.user_name)||t.email,typing:C}})}catch(ee){console.error("Failed to broadcast typing:",ee)}},Z=async()=>{if(!M.current)try{p(!0);const C=await Ho.getUserRooms((t==null?void 0:t.id)||""),$=await Promise.all(C.map(async ee=>{try{const Se=await $s.getByRoom(ee.room_id),De=Se[Se.length-1];return{...ee,lastMessage:De,unreadCount:0}}catch{return{...ee,unreadCount:0}}}));n($),$.length>0&&o($[0]),T(!0),M.current=!0}catch(C){console.error("Failed to load rooms:",C)}finally{p(!1)}},be=async()=>{if(!(!s||D.current===s.room_id))try{const C=await $s.getByRoom(s.room_id);l(C),A(s.room_id),D.current=s.room_id}catch(C){console.error("Failed to load messages:",C)}},je=async()=>{if(!(!s||I.current===s.room_id))try{const C=await Ho.getRoomMembers(s.room_id);u(C),U(s.room_id),I.current=s.room_id}catch(C){console.error("Failed to load room members:",C)}},F=async()=>{if(!d.trim()||!s||!t)return;const C=d.trim(),$={message_id:`temp-${Date.now()}`,room_id:s.room_id,auth_user_id:t.id,content:C,created_at:new Date().toISOString(),metadata:null};l(ee=>[...ee,$]),h("");try{await $s.create({room_id:s.room_id,auth_user_id:t.id,content:C,metadata:null})}catch(ee){console.error("Failed to send message:",ee),l(Se=>Se.filter(De=>De.message_id!==$.message_id)),h(C)}},Q=async()=>{var C;if(!(!S.name.trim()||!t))try{const $=await Ho.createRoom({name:S.name.trim(),is_private:S.is_private,project_id:S.project_id?parseInt(S.project_id):null,created_by:((C=t.profile)==null?void 0:C.user_id)||0,auth_user_id:t.id});await Ho.addMember($.room_id,t.id),n(ee=>[...ee,{...$,unreadCount:0}]),o({...$,unreadCount:0}),N({name:"",is_private:!0,project_id:""}),v(!1)}catch($){console.error("Failed to create room:",$)}},H=C=>{const $=new Date(C),Se=Math.floor((new Date().getTime()-$.getTime())/6e4);return Se<1?"Just now":Se<60?`${Se}m ago`:Se<1440?`${Math.floor(Se/60)}h ago`:$.toLocaleDateString("en-US",{month:"short",day:"numeric"})},de=C=>new Date(C).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),ye=(C,$)=>!$||C.auth_user_id!==$.auth_user_id?!1:new Date(C.created_at).getTime()-new Date($.created_at).getTime()<5*60*1e3,se=(C,$)=>{if(!$)return!0;const ee=new Date(C.created_at).toDateString(),Se=new Date($.created_at).toDateString();return ee!==Se},fe=r.filter(C=>{var $;return($=C.room_name)==null?void 0:$.toLowerCase().includes(w.toLowerCase())});return m?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 p-3 sm:p-6 bg-gradient-to-br from-background via-background to-muted/20 rounded-xl border shadow-sm",children:[i.jsxs("div",{className:"hidden md:flex md:w-80 flex-col gap-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2",children:[i.jsx("h2",{className:"text-2xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e("chats.chatRooms")}),i.jsxs(pn,{open:b,onOpenChange:v,children:[i.jsx(tl,{asChild:!0,children:i.jsx(G,{size:"icon",variant:"ghost",className:"h-9 w-9 rounded-full hover:bg-primary/10 hover:text-primary transition-all hover:scale-105",children:i.jsx(yt,{className:"h-5 w-5"})})}),i.jsxs(Hr,{className:"sm:max-w-[425px]",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:e("chats.createRoomTitle")}),i.jsx(ro,{children:e("chats.createRoomDesc")})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ct,{htmlFor:"room-name",className:"text-right",children:e("chats.roomName")}),i.jsx(Ne,{id:"room-name",value:S.name,onChange:C=>N($=>({...$,name:C.target.value})),className:"col-span-3",placeholder:e("chats.roomNamePlaceholder")})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ct,{htmlFor:"private",className:"text-right",children:e("chats.private")}),i.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[i.jsx(R1,{id:"private",checked:S.is_private,onCheckedChange:C=>N($=>({...$,is_private:C}))}),i.jsx(ct,{htmlFor:"private",className:"text-sm text-muted-foreground",children:S.is_private?e("chats.privateRoom"):e("chats.publicRoom")})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ct,{htmlFor:"project",className:"text-right",children:e("chats.project")}),i.jsx(Ne,{id:"project",value:S.project_id,onChange:C=>N($=>({...$,project_id:C.target.value})),className:"col-span-3",placeholder:e("chats.projectIdPlaceholder")})]})]}),i.jsx(to,{children:i.jsx(G,{onClick:Q,disabled:!S.name.trim(),children:e("chats.createRoom")})})]})]})]}),i.jsxs("div",{className:"relative px-2",children:[i.jsx(Xa,{className:"absolute left-5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ne,{placeholder:e("chats.searchConversations"),className:"pl-9 bg-muted/50 border-none focus-visible:ring-2 focus-visible:ring-primary/20 transition-all",value:w,onChange:C=>y(C.target.value)})]}),i.jsx(rs,{className:"flex-1 -mx-2 px-2",children:i.jsx("div",{className:"space-y-2",children:fe.map(C=>{var $;return i.jsxs("button",{onClick:()=>o(C),className:z("w-full flex items-start gap-3 p-3 rounded-xl transition-all duration-200 text-left group relative overflow-hidden",(s==null?void 0:s.room_id)===C.room_id?"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground shadow-lg shadow-primary/30 scale-[1.02]":"hover:bg-muted/70 text-foreground hover:shadow-md"),children:[i.jsxs("div",{className:z("h-12 w-12 rounded-full flex items-center justify-center flex-shrink-0 transition-all relative",(s==null?void 0:s.room_id)===C.room_id?"bg-primary-foreground/20 text-primary-foreground ring-2 ring-primary-foreground/30":"bg-gradient-to-br from-primary/20 to-primary/10 text-primary group-hover:from-primary/30 group-hover:to-primary/20"),children:[i.jsx(Wo,{className:"h-5 w-5"}),C.unreadCount&&C.unreadCount>0&&i.jsx(nt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-[10px] bg-destructive border-2 border-background",children:C.unreadCount})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-semibold truncate text-sm",children:C.room_name||`Room ${C.room_id.slice(0,8)}`}),C.lastMessage&&i.jsx("span",{className:z("text-[10px] flex-shrink-0 ml-2",(s==null?void 0:s.room_id)===C.room_id?"text-primary-foreground/70":"text-muted-foreground"),children:H(C.lastMessage.created_at)})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("p",{className:z("text-xs truncate flex-1",(s==null?void 0:s.room_id)===C.room_id?"text-primary-foreground/80":"text-muted-foreground"),children:(($=C.lastMessage)==null?void 0:$.content)||e("chats.selectRoom")}),C.is_private&&i.jsx("span",{className:z("text-[9px] px-1.5 py-0.5 rounded-full flex-shrink-0",(s==null?void 0:s.room_id)===C.room_id?"bg-primary-foreground/20 text-primary-foreground":"bg-muted text-muted-foreground"),children:e("chats.private")})]})]})]},C.room_id)})})})]}),s&&i.jsx("div",{className:"md:hidden mb-4",children:i.jsxs(jS,{open:k,onOpenChange:B,children:[i.jsx(WM,{asChild:!0,children:i.jsxs(G,{variant:"outline",className:"w-full justify-between shadow-sm hover:shadow-md transition-shadow",children:[i.jsx("span",{className:"truncate",children:s.room_name||`Room ${s.room_id.slice(0,8)}`}),i.jsx(Wo,{className:"h-4 w-4 ml-2"})]})}),i.jsx(Hp,{side:"left",className:"w-80 p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-bold",children:e("chats.chatRooms")}),i.jsx(G,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>v(!0),children:i.jsx(yt,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ne,{placeholder:e("chats.searchRooms"),className:"pl-9",value:w,onChange:C=>y(C.target.value)})]}),i.jsx(rs,{className:"h-[60vh]",children:i.jsx("div",{className:"space-y-2",children:fe.map(C=>i.jsxs("button",{onClick:()=>{o(C),B(!1)},className:z("w-full flex items-center gap-3 p-3 rounded-xl transition-all duration-200 text-left",(s==null?void 0:s.room_id)===C.room_id?"bg-primary text-primary-foreground shadow-md":"hover:bg-muted/50"),children:[i.jsx(Wo,{className:"h-5 w-5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-semibold truncate text-sm",children:C.room_name||`Room ${C.room_id.slice(0,8)}`}),C.lastMessage&&i.jsx("div",{className:"text-xs truncate opacity-80",children:C.lastMessage.content})]})]},C.room_id))})})]})})]})}),i.jsx(ue,{className:"flex-1 flex flex-col overflow-hidden border-none shadow-xl bg-card/80 backdrop-blur-sm",children:s?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b bg-gradient-to-r from-background/95 via-background to-background/95 backdrop-blur-md supports-[backdrop-filter]:bg-background/80",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx(Oi,{className:"h-10 w-10 sm:h-11 sm:w-11 border-2 border-primary/20 shadow-md flex-shrink-0 ring-2 ring-background",children:i.jsx(Ai,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-semibold",children:((ve=s.room_name)==null?void 0:ve.charAt(0).toUpperCase())||"#"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"font-semibold text-sm sm:text-base truncate",children:s.room_name||`Room ${s.room_id.slice(0,8)}`}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Vr,{className:"h-3 w-3"}),i.jsxs("span",{className:"truncate",children:[c.length," ",e("chats.members")]}),i.jsx("span",{className:"hidden sm:inline w-1 h-1 rounded-full bg-muted-foreground/30"}),i.jsxs("span",{className:"hidden sm:flex text-green-500 items-center gap-1.5",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),e("chats.online")]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all hidden sm:flex",children:i.jsx(Np,{className:"h-4 w-4"})}),i.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all hidden sm:flex",children:i.jsx(wI,{className:"h-4 w-4"})}),i.jsxs(EU,{children:[i.jsx(PU,{asChild:!0,children:i.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",children:i.jsx(nI,{className:"h-4 w-4"})})}),i.jsxs(ON,{align:"end",children:[i.jsx(kc,{children:"View Details"}),i.jsx(kc,{children:"Mute Notifications"}),i.jsx(kc,{className:"text-destructive",children:"Leave Room"})]})]})]})]}),i.jsx(rs,{ref:L,className:"flex-1 p-3 sm:p-6 bg-gradient-to-b from-slate-50/80 via-slate-50/50 to-slate-50/80 dark:from-slate-900/80 dark:via-slate-900/50 dark:to-slate-900/80",children:i.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[O===s.room_id&&a.map((C,$)=>{var Jr,xn,cg,ug;const ee=C.auth_user_id===(t==null?void 0:t.id),Se=$>0?a[$-1]:void 0,De=!ye(C,Se),Le=se(C,Se);let Me;return ee?Me={auth_user_id:t.id,user_name:((Jr=t.profile)==null?void 0:Jr.user_name)||t.email||e("chats.you"),avatar:(xn=t.profile)==null?void 0:xn.avatar,user_id:((cg=t.profile)==null?void 0:cg.user_id)||0,user_email:t.email}:Me=c.find(qN=>qN.auth_user_id===C.auth_user_id),Me||(Me={auth_user_id:C.auth_user_id,user_name:e("chats.unknownUser"),avatar:"",user_id:0}),i.jsxs("div",{children:[Le&&i.jsx("div",{className:"flex items-center justify-center my-6",children:i.jsx("div",{className:"bg-muted/80 backdrop-blur-sm px-4 py-1.5 rounded-full text-xs text-muted-foreground font-medium shadow-sm",children:new Date(C.created_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})}),i.jsxs("div",{className:z("flex gap-3 animate-in slide-in-from-bottom-2 duration-300",ee?"flex-row-reverse":"flex-row",!De&&"mt-1"),children:[i.jsx("div",{className:z("flex-shrink-0 w-8",!De&&"invisible"),children:i.jsxs(Oi,{className:"h-8 w-8 border-2 border-background shadow-md",children:[i.jsx(Cl,{src:Me.avatar||""}),i.jsx(Ai,{className:"text-xs font-semibold bg-gradient-to-br from-primary/20 to-primary/10 text-primary",children:((ug=Me.user_name)==null?void 0:ug.charAt(0).toUpperCase())||"?"})]})}),i.jsxs("div",{className:z("flex flex-col max-w-[75%] sm:max-w-[65%]",ee?"items-end":"items-start"),children:[De&&!ee&&i.jsx("span",{className:"text-xs font-medium text-muted-foreground ml-1 mb-1",children:Me.user_name}),i.jsxs("div",{className:"group relative",children:[i.jsx("div",{className:z("px-4 py-2.5 shadow-md text-sm break-words transition-all hover:shadow-lg",ee?"bg-gradient-to-br from-primary to-primary/90 text-primary-foreground rounded-2xl rounded-tr-md":"bg-card border border-border/50 text-card-foreground rounded-2xl rounded-tl-md"),children:C.content}),i.jsxs("div",{className:z("flex items-center gap-1.5 mt-1",ee?"justify-end":"justify-start"),children:[i.jsx("span",{className:"text-[10px] text-muted-foreground",children:de(C.created_at)}),ee&&i.jsx("div",{className:"text-primary-foreground/70",children:C.message_id.startsWith("temp-")?i.jsx(_p,{className:"h-3 w-3"}):i.jsx(ZA,{className:"h-3 w-3"})})]})]})]})]})]},C.message_id)}),_.length>0&&i.jsxs("div",{className:"flex gap-3 animate-in fade-in duration-200",children:[i.jsx("div",{className:"flex-shrink-0 w-8",children:i.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-xs text-muted-foreground italic",children:e("chats.someoneTyping")})})]})]})}),i.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-r from-background/95 via-background to-background/95 backdrop-blur-md border-t",children:i.jsxs("div",{className:"flex items-end gap-2 max-w-4xl mx-auto bg-card/80 backdrop-blur-sm border border-border/50 rounded-2xl p-2 shadow-lg focus-within:ring-2 focus-within:ring-primary/30 focus-within:border-primary/50 transition-all",children:[i.jsx(G,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full text-muted-foreground hover:text-primary hover:bg-primary/10 transition-all flex-shrink-0",children:i.jsx(uI,{className:"h-5 w-5"})}),i.jsx(Ne,{value:d,onChange:C=>h(C.target.value),placeholder:e("chats.typeMessage"),onKeyPress:C=>C.key==="Enter"&&!C.shiftKey&&F(),className:"flex-1 border-none bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 min-h-[40px] py-2.5 text-sm placeholder:text-muted-foreground/60"}),i.jsx(G,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full text-muted-foreground hover:text-primary hover:bg-primary/10 transition-all flex-shrink-0",children:i.jsx(hI,{className:"h-5 w-5"})}),i.jsx(G,{onClick:F,disabled:!d.trim(),size:"icon",className:z("h-9 w-9 rounded-full transition-all duration-200 flex-shrink-0",d.trim()?"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground hover:from-primary/90 hover:to-primary shadow-lg shadow-primary/30 hover:shadow-xl hover:scale-105":"bg-muted text-muted-foreground hover:bg-muted/80"),children:i.jsx(du,{className:"h-4 w-4"})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8 bg-gradient-to-b from-slate-50/50 via-background to-slate-50/50 dark:from-slate-900/50 dark:via-background dark:to-slate-900/50",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center mb-6 animate-pulse shadow-lg shadow-primary/20",children:i.jsx(Wo,{className:"h-10 w-10 text-primary"})}),i.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2",children:e("chats.selectRoom")}),i.jsx("p",{className:"text-base text-muted-foreground max-w-sm",children:e("chats.selectRoom")})]})})]})}function MU(){const{user:t}=st(),{t:e}=Ze(),[r,n]=f.useState([]),[s,o]=f.useState(null),[a,l]=f.useState([]),[c,u]=f.useState([]),[d,h]=f.useState(""),[m,p]=f.useState(!0),[b,v]=f.useState(!1),[w,y]=f.useState(null),[g,x]=f.useState(null),_=f.useRef(!1),j=f.useRef(null),S=f.useRef(null);f.useEffect(()=>{t&&!_.current&&N()},[t]),f.useEffect(()=>{s&&(S.current!==s.room_id&&T(),j.current!==s.room_id&&E())},[s]),f.useEffect(()=>{s&&(async()=>{try{await K.realtime.setAuth(await Zt.getFreshJwt());const U=`room:${s.room_id}:messages`,k=K.channel(U,{config:{broadcast:{self:!0,ack:!0},private:!0}});return k.on("broadcast",{event:"*"},B=>{var D;const M=(D=B.payload)==null?void 0:D.record;M&&M.message_id&&l(I=>I.some(W=>W.message_id===M.message_id)?I:[...I.filter(W=>!(W.message_id.startsWith("temp-")&&W.auth_user_id===M.auth_user_id&&W.content===M.content)),M])}),await k.subscribe(),()=>{k.unsubscribe()}}catch(U){console.error("Failed to setup realtime:",U)}})()},[s]),f.useEffect(()=>{v(!1),y(null),x(null),_.current=!1,j.current=null,S.current=null},[t]);const N=async()=>{if(!_.current)try{p(!0);const O=await Ho.getUserRooms((t==null?void 0:t.id)||"");n(O),O.length>0&&o(O[0]),v(!0),_.current=!0}catch(O){console.error("Failed to load rooms:",O)}finally{p(!1)}},E=async()=>{if(!(!s||j.current===s.room_id))try{const O=await $s.getByRoom(s.room_id);l(O),y(s.room_id),j.current=s.room_id}catch(O){console.error("Failed to load messages:",O)}},T=async()=>{if(!(!s||S.current===s.room_id))try{const O=await Ho.getRoomMembers(s.room_id);u(O),x(s.room_id),S.current=s.room_id}catch(O){console.error("Failed to load room members:",O)}},R=async()=>{if(!d.trim()||!s||!t)return;const O=d.trim(),U={message_id:`temp-${Date.now()}`,room_id:s.room_id,auth_user_id:t.id,content:O,created_at:new Date().toISOString(),metadata:null};l(k=>[...k,U]),h("");try{await $s.create({room_id:s.room_id,auth_user_id:t.id,content:O,metadata:null})}catch(k){console.error("Failed to send message:",k),l(B=>B.filter(M=>M.message_id!==U.message_id)),h(O)}},A=O=>new Date(O).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return m?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"flex h-[calc(100vh-120px)] gap-6 pb-6",children:[i.jsxs("div",{className:"w-80 flex flex-col border rounded-lg",children:[i.jsx("div",{className:"p-4 border-b",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h2",{className:"text-xl font-semibold",children:e("chats.myChatRooms")})})}),i.jsx(rs,{className:"flex-1 p-4",children:i.jsx("div",{className:"space-y-2",children:r.map(O=>i.jsx(ue,{className:`cursor-pointer transition-colors ${(s==null?void 0:s.room_id)===O.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>o(O),children:i.jsx(me,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Wo,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:O.room_name||`Room ${O.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:O.is_private?e("chats.private"):e("chats.publicRoom")})]})]})})},O.room_id))})})]}),i.jsx("div",{className:"flex-1 flex flex-col",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:s.room_name||`Room ${s.room_id.slice(0,8)}`}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Vr,{className:"h-4 w-4"}),i.jsxs("span",{children:[c.length," ",e("chats.members")]}),s.is_private&&i.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:e("chats.private")})]})]})}),i.jsx(rs,{className:"flex-1 mb-4",children:i.jsx("div",{className:"space-y-4 p-4",children:g===s.room_id&&a.map(O=>{var k,B,M,D;let U;return O.auth_user_id===(t==null?void 0:t.id)?U={auth_user_id:t.id,user_name:((k=t.profile)==null?void 0:k.user_name)||t.email||e("chats.you"),avatar:(B=t.profile)==null?void 0:B.avatar,user_id:((M=t.profile)==null?void 0:M.user_id)||0,user_email:t.email}:U=c.find(I=>I.auth_user_id===O.auth_user_id),U||(U={auth_user_id:O.auth_user_id,user_name:e("chats.unknownUser"),avatar:"",user_id:0}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(Oi,{className:"h-8 w-8",children:[i.jsx(Cl,{src:U.avatar||""}),i.jsx(Ai,{children:((D=U.user_name)==null?void 0:D.charAt(0))||"?"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-sm",children:U.user_name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:A(O.created_at)})]}),i.jsx("p",{className:"text-sm",children:O.content})]})]},O.message_id)})})}),i.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[i.jsx(Ne,{value:d,onChange:O=>h(O.target.value),placeholder:e("chats.typeMessage"),onKeyPress:O=>O.key==="Enter"&&R(),className:"flex-1"}),i.jsx(G,{onClick:R,disabled:!d.trim(),children:i.jsx(du,{className:"h-4 w-4"})})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(Wo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:e("chats.selectRoom")})]})})})]})}var gd="Tabs",[$U,fF]=Jt(gd,[hd]),AN=hd(),[UU,ag]=$U(gd),IN=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=xl(l),[h,m]=Js({prop:n,onChange:s,defaultProp:o??"",caller:gd});return i.jsx(UU,{scope:r,baseId:Br(),value:h,onValueChange:m,orientation:a,dir:d,activationMode:c,children:i.jsx(oe.div,{dir:d,"data-orientation":a,...u,ref:e})})});IN.displayName=gd;var DN="TabsList",LN=f.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=ag(DN,r),a=AN(r);return i.jsx(M1,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:n,children:i.jsx(oe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});LN.displayName=DN;var MN="TabsTrigger",$N=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,a=ag(MN,r),l=AN(r),c=BN(a.baseId,n),u=zN(a.baseId,n),d=n===a.value;return i.jsx($1,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:e,onMouseDown:J(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:J(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:J(t.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(n)})})})});$N.displayName=MN;var UN="TabsContent",FN=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...a}=t,l=ag(UN,r),c=BN(l.baseId,n),u=zN(l.baseId,n),d=n===l.value,h=f.useRef(d);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(Yt,{present:s||d,children:({present:m})=>i.jsx(oe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});FN.displayName=UN;function BN(t,e){return`${t}-trigger-${e}`}function zN(t,e){return`${t}-content-${e}`}var FU=IN,VN=LN,WN=$N,HN=FN;const KN=FU,lg=f.forwardRef(({className:t,...e},r)=>i.jsx(VN,{ref:r,className:z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));lg.displayName=VN.displayName;const Us=f.forwardRef(({className:t,...e},r)=>i.jsx(WN,{ref:r,className:z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Us.displayName=WN.displayName;const Fs=f.forwardRef(({className:t,...e},r)=>i.jsx(HN,{ref:r,className:z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Fs.displayName=HN.displayName;function BU(){const[t,e]=f.useState(null),[r,n]=f.useState([]),[s,o]=f.useState([]),[a,l]=f.useState([]),[c,u]=f.useState(!0),{user:d,signOut:h}=st();f.useEffect(()=>{(async()=>{if(d!=null&&d.id)try{u(!0);const b=await In.getByUserAuthId(d.id);n(b)}catch(b){console.error("Failed to fetch user projects:",b)}finally{u(!1)}})()},[d==null?void 0:d.id]),f.useEffect(()=>{(async()=>{if(t)try{const[b,v]=await Promise.all([ni.getAll(),rm.getByTask(0)]),w=b.filter(y=>!0);o(w),l(v)}catch(b){console.error("Failed to fetch project data:",b)}})()},[t]);const m=t?r.find(p=>p.project_id===t):null;return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"border-b bg-card",children:i.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),i.jsxs(G,{variant:"ghost",size:"sm",children:[i.jsx(lI,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),i.jsxs("div",{className:"container mx-auto px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-3xl font-bold",children:["Hello, ",ce((d==null?void 0:d.profile)||{},"user_name"),"! "]}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Here's your project progress"})]}),m?i.jsxs("div",{children:[i.jsx(G,{variant:"ghost",className:"mb-4",onClick:()=>e(null),children:" Back to Projects"}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsx(Ae,{children:m.project_name})}),i.jsxs(me,{children:[i.jsx("p",{className:"text-muted-foreground",children:m.project_description||"No description available"}),i.jsxs("div",{className:"mt-4",children:[i.jsx(eo,{value:m.progress||0,className:"h-3"}),i.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[m.progress||0,"% Complete"]})]})]})]}),i.jsxs(KN,{defaultValue:"tasks",children:[i.jsxs(lg,{children:[i.jsx(Us,{value:"tasks",children:"Tasks"}),i.jsx(Us,{value:"images",children:"Gallery"}),i.jsx(Us,{value:"comments",children:"Comments"})]}),i.jsx(Fs,{value:"tasks",className:"space-y-3",children:s.filter(p=>p.stage_id!==null).map(p=>{var b;return i.jsx(ue,{children:i.jsx(me,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:p.task_name}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.description||"No description"})]}),i.jsxs(nt,{variant:p.task_status==="done"?"default":"secondary",children:[p.task_status==="done"?"":""," ",((b=p.task_status)==null?void 0:b.replace("_"," "))||"pending"]})]})})},p.task_id)})}),i.jsx(Fs,{value:"images",children:i.jsx(ue,{children:i.jsx(me,{className:"pt-6",children:i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(p=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},p))})})})}),i.jsx(Fs,{value:"comments",children:i.jsx(ue,{children:i.jsxs(me,{className:"pt-6 space-y-4",children:[a.map(p=>i.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[i.jsx("div",{className:"text-2xl",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),i.jsx("p",{className:"text-sm mt-1",children:p.message||"No message"}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:p.created_date?new Date(p.created_date).toLocaleString():"Unknown date"})]})]},p.comment_id)),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(Ne,{placeholder:"Add a comment..."}),i.jsx(G,{children:i.jsx(Sp,{className:"h-4 w-4"})})]})]})})})]})]}),i.jsx("div",{children:i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsx(Ae,{className:"text-lg",children:"Timeline"})}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"})]}),m.end_date&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"End Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.end_date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Project Kickoff"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Design Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-blue-500",children:""}),i.jsx("span",{children:"Development Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):c?i.jsxs("div",{className:"flex justify-center items-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),i.jsx("span",{className:"sr-only",children:"Loading projects..."})]}):r.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),i.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(p=>i.jsxs(ue,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e(p.project_id),children:[i.jsxs(ke,{children:[i.jsx(Ae,{className:"text-lg",children:p.project_name}),i.jsxs(nt,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",p.stage||"N/A"]})]}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progress"}),i.jsxs("span",{className:"font-semibold",children:[p.progress||0,"%"]})]}),i.jsx(eo,{value:p.progress||0,className:"h-2"})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",p.created_date?new Date(p.created_date).toLocaleDateString():"N/A"]}),i.jsx(G,{className:"w-full",variant:"outline",children:"View Details "})]})})]},p.project_id))})]})]})}const sa=[{UserID:1,UserName:"John Manager",UserEmail:"john@company.com",UserRole:"manager",avatar:""},{UserID:2,UserName:"Sarah Dev",UserEmail:"sarah@company.com",UserRole:"employee",avatar:""},{UserID:3,UserName:"Mike Designer",UserEmail:"mike@company.com",UserRole:"employee",avatar:""}],lx=[{ClientID:1,ClientName:"Alice Johnson",ClientContact:"1234567890",ClientEmail:"alice@client1.com",CompanyName:"Tech Corp",avatar:""},{ClientID:2,ClientName:"Bob Smith",ClientContact:"0987654321",ClientEmail:"bob@client2.com",CompanyName:"Business Inc",avatar:""},{ClientID:3,ClientName:"Carol White",ClientContact:"1122334455",ClientEmail:"carol@client3.com",CompanyName:"Startup Ltd",avatar:""}],zU=[{ProjectID:1,ProjectName:"Website Redesign",ClientID:1,ProjectDescription:"Complete redesign of corporate website",CreatedDate:"2025-01-10",CreatedBy:1,progress:15,stage:"new_lead",endDate:null,updatedAt:"2025-01-15"},{ProjectID:2,ProjectName:"Mobile App Development",ClientID:2,ProjectDescription:"iOS and Android app development",CreatedDate:"2025-01-01",CreatedBy:1,progress:45,stage:"qualified",endDate:null,updatedAt:"2025-01-20"},{ProjectID:3,ProjectName:"CRM System",ClientID:3,ProjectDescription:"Custom CRM implementation",CreatedDate:"2024-12-01",CreatedBy:1,progress:70,stage:"proposition",endDate:null,updatedAt:"2025-01-25"},{ProjectID:4,ProjectName:"E-commerce Platform",ClientID:1,ProjectDescription:"Full e-commerce solution with payment integration",CreatedDate:"2024-11-01",CreatedBy:1,progress:100,stage:"won",endDate:"2025-01-10",updatedAt:"2025-01-10"}],cx=[{TaskID:1,TaskName:"Create wireframes",StageID:null,AssignedTo:3,TaskStatus:"done",DueDate:"2025-01-20",description:"Design initial wireframes for homepage"},{TaskID:2,TaskName:"Setup development environment",StageID:null,AssignedTo:2,TaskStatus:"in_progress",DueDate:"2025-01-25",description:"Configure dev server and dependencies"},{TaskID:3,TaskName:"API Integration",StageID:null,AssignedTo:2,TaskStatus:"in_progress",DueDate:"2025-02-01",description:"Connect mobile app with backend APIs"}];function VU(){const{id:t}=e2(),e=Pr(),{user:r}=st(),[n,s]=f.useState(""),[o,a]=f.useState([]),[l,c]=f.useState([]),[u,d]=f.useState(""),[h,m]=f.useState(!0),[p,b]=f.useState(null),[v,w]=f.useState(null);f.useEffect(()=>{(async()=>{if(!(!t||!r)){if(r.role==="admin"||r.role==="manager"){w(!0);return}if(r.role==="employee")try{const O=parseInt(t),k=(await qM.getProjectUsers(O)).some(B=>B.auth_user_id===r.id);w(k)}catch(O){console.error("Failed to check project access:",O),w(!1)}else w(!0)}})()},[t,r]);const y=zU.find(A=>A.ProjectID.toString()===t),g=y?lx.find(A=>A.ClientID===y.ClientID):null,x=y?sa.find(A=>A.UserID===y.CreatedBy):null,_=y?sa.filter(A=>A.UserID===y.CreatedBy):[],j=cx.filter(A=>A.TaskID===1||A.TaskID===2);f.useEffect(()=>(t&&(S(),N()),()=>{p&&p.unsubscribe()}),[t]);const S=async()=>{try{m(!0);const O=`project-${parseInt(t)}`,U=await $s.getByRoom(O);a(U);const k=cx.filter(M=>M.TaskID===1||M.TaskID===2),B=[];for(const M of k){const D=await rm.getByTask(M.TaskID);B.push(...D)}c(B)}catch(A){console.error("Failed to load project data:",A)}finally{m(!1)}},N=async()=>{if(!t)return;const O=`project-${parseInt(t)}`,U=K.channel(`room:${O}:messages`,{config:{private:!0}});U.on("broadcast",{event:"INSERT"},k=>{console.log("New message:",k),k.new&&a(B=>[...B,k.new])}).on("broadcast",{event:"UPDATE"},k=>{console.log("Message updated:",k),k.new&&a(B=>B.map(M=>M.id===k.new.id?k.new:M))}).on("broadcast",{event:"DELETE"},k=>{console.log("Message deleted:",k),k.old&&a(B=>B.filter(M=>M.id!==k.old.id))}).subscribe(),b(U)},E=async()=>{if(!(!n.trim()||!r||!t))try{const A=`project-${parseInt(t)}`,O=await $s.create({room_id:A,user_id:r.profile.UserID.toString(),content:n.trim(),metadata:{}});a(U=>[...U,O]),s("")}catch(A){console.error("Failed to send message:",A)}},T=async A=>{if(!(!u.trim()||!r))try{const O=await rm.create({task_id:A,auth_user_id:r.id,message:u.trim()});c(U=>[...U,O]),d("")}catch(O){console.error("Failed to add comment:",O)}};if(v===!1)return i.jsx(pt,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),i.jsx(G,{onClick:()=>e("/projects"),children:"Back to Projects"})]})})});if(v===null||!y||!g||!x)return i.jsx(pt,{children:i.jsx("div",{children:"Project not found"})});const R={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return i.jsx(pt,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(G,{variant:"ghost",size:"icon",onClick:()=>e("/projects"),children:i.jsx(qA,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:y.ProjectName}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:g.CompanyName})]})]}),i.jsx(G,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),i.jsx(ue,{children:i.jsxs(me,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),i.jsxs("span",{className:"text-sm font-bold",children:[y.progress,"%"]})]}),i.jsx(eo,{value:y.progress,className:"h-3"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:[i.jsxs(KN,{defaultValue:"tasks",children:[i.jsxs(lg,{className:"w-full sm:w-auto",children:[i.jsx(Us,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),i.jsx(Us,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),i.jsx(Us,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),i.jsxs(Fs,{value:"tasks",className:"space-y-3",children:[j.map(A=>{const O=sa.find(U=>U.UserID===A.AssignedTo);return i.jsx(ue,{children:i.jsx(me,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:A.TaskName}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:A.description}),i.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[i.jsx(nt,{className:z("text-xs",R[A.TaskStatus]),children:A.TaskStatus.replace("_"," ")}),i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Ei,{className:"h-3 w-3"}),"Due: ",new Date(A.DueDate).toLocaleDateString()]})]})]}),O&&i.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[i.jsx("div",{className:"text-2xl mb-1",children:O.avatar}),O.UserName]})]})})},A.TaskID)}),i.jsx(G,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),i.jsx(Fs,{value:"images",children:i.jsx(ue,{children:i.jsxs(me,{className:"pt-6",children:[i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(A=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},A))}),i.jsxs(G,{variant:"outline",className:"w-full mt-4",children:[i.jsx(gI,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),i.jsxs(Fs,{value:"comments",className:"space-y-3",children:[l.map(A=>{const O=sa.find(U=>U.UserID===A.UserID)||lx.find(U=>U.ClientID===A.UserID);return i.jsx(ue,{children:i.jsx(me,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"text-2xl",children:(O==null?void 0:O.avatar)||""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:O?"UserName"in O?O.UserName:O.ClientName:"Unknown"}),i.jsx("p",{className:"text-sm mt-1",children:A.Message}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(A.CreatedDate).toLocaleString()})]})]})})},A.CommentID)}),i.jsx(ue,{children:i.jsx(me,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ne,{placeholder:"Add a comment...",value:u,onChange:A=>d(A.target.value),onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),T(1))}}),i.jsx(G,{size:"icon",onClick:()=>T(1),children:i.jsx(du,{className:"h-4 w-4"})})]})})})]})]}),i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsx(Ae,{className:"text-base sm:text-lg",children:"Team Chat"})}),i.jsxs(me,{children:[i.jsx("div",{className:"space-y-3 mb-4 max-h-48 sm:max-h-60 overflow-y-auto",children:o.map(A=>{const O=sa.find(U=>U.UserID.toString()===A.user_id);return i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"text-xl",children:O==null?void 0:O.avatar}),i.jsxs("div",{className:"flex-1 bg-muted p-3 rounded-lg",children:[i.jsx("div",{className:"text-xs font-semibold",children:O==null?void 0:O.UserName}),i.jsx("p",{className:"text-sm mt-1",children:A.content}),i.jsx("span",{className:"text-xs text-muted-foreground mt-1 block",children:new Date(A.created_at).toLocaleString()})]})]},A.id)})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ne,{placeholder:"Type a message...",value:n,onChange:A=>s(A.target.value),onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),E())}}),i.jsx(G,{size:"icon",onClick:E,children:i.jsx(du,{className:"h-4 w-4"})})]})]})]})]}),i.jsxs("div",{className:"space-y-4 lg:order-last",children:[i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsx(Ae,{className:"text-base sm:text-lg",children:"Project Summary"})}),i.jsxs(me,{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:g.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:g.ClientName}),i.jsx("div",{className:"text-xs text-muted-foreground",children:g.CompanyName})]})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:x.avatar}),i.jsx("div",{className:"text-sm",children:x.UserName})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),i.jsx("div",{className:"space-y-2",children:_.map(A=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:A.avatar}),i.jsx("div",{className:"text-sm",children:A.UserName})]},A.UserID))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",new Date(y.CreatedDate).toLocaleDateString(),y.endDate&&i.jsxs("div",{children:["End: ",new Date(y.endDate).toLocaleDateString()]})]})]})]})]}),i.jsxs(ue,{children:[i.jsx(ke,{children:i.jsx(Ae,{className:"text-base sm:text-lg",children:"Recent Activity"})}),i.jsx(me,{children:i.jsxs("div",{className:"space-y-3 text-xs",children:[i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"Task completed"}),i.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"New comment added"}),i.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Images uploaded"}),i.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}const WU=()=>{const t=Pr(),{t:e}=Ze(),r=[{icon:i.jsx(Hu,{className:"h-6 w-6"}),title:e("landing.features.projectManagement.title"),description:e("landing.features.projectManagement.description")},{icon:i.jsx(Vr,{className:"h-6 w-6"}),title:e("landing.features.leadManagement.title"),description:e("landing.features.leadManagement.description")},{icon:i.jsx(YA,{className:"h-6 w-6"}),title:e("landing.features.analytics.title"),description:e("landing.features.analytics.description")},{icon:i.jsx(Sp,{className:"h-6 w-6"}),title:e("landing.features.communication.title"),description:e("landing.features.communication.description")},{icon:i.jsx(L_,{className:"h-6 w-6"}),title:e("landing.features.taskManagement.title"),description:e("landing.features.taskManagement.description")},{icon:i.jsx(D_,{className:"h-6 w-6"}),title:e("landing.features.security.title"),description:e("landing.features.security.description")}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"M"})}),i.jsx("span",{className:"text-xl font-bold text-gray-900",children:e("landing.brandName")})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(oS,{}),i.jsx(G,{onClick:()=>t("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:e("buttons.login")})]})]})}),i.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"text-center",children:[i.jsxs(nt,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[i.jsx(fI,{className:"h-3 w-3 mr-1"}),e("landing.badge")]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[e("landing.hero.title.line1"),i.jsx("span",{className:"text-primary block",children:e("landing.hero.title.line2")})]}),i.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:e("landing.hero.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[i.jsxs(G,{size:"lg",onClick:()=>t("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[e("landing.hero.cta.primary"),i.jsx(GA,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),i.jsx(G,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:e("landing.hero.cta.secondary")})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:e("landing.stats.users")}),i.jsx("div",{className:"text-sm text-gray-600",children:e("landing.stats.usersLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:e("landing.stats.projects")}),i.jsx("div",{className:"text-sm text-gray-600",children:e("landing.stats.projectsLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:e("landing.stats.uptime")}),i.jsx("div",{className:"text-sm text-gray-600",children:e("landing.stats.uptimeLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:e("landing.stats.support")}),i.jsx("div",{className:"text-sm text-gray-600",children:e("landing.stats.supportLabel")})]})]})]})}),i.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:e("landing.features.title")}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("landing.features.subtitle")})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map((n,s)=>i.jsx(ue,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:i.jsxs(me,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:n.icon}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n.title})]}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]})},s))})]})}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:i.jsx("div",{className:"max-w-4xl mx-auto text-center",children:i.jsx(ue,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl",children:i.jsxs(me,{className:"p-8 sm:p-12",children:[i.jsx(bI,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),i.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:e("landing.cta.title")}),i.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:e("landing.cta.description")}),i.jsxs(G,{size:"lg",variant:"secondary",onClick:()=>t("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[e("landing.cta.button"),i.jsx(hu,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})})})}),i.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"M"})}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[e("landing.brandName")," CRM"]})]}),i.jsx("p",{className:"text-sm text-gray-600",children:e("landing.footer.copyright",{brand:e("landing.brandName")})})]})})]})},HU=()=>{const[t,e]=f.useState("loading"),[r,n]=f.useState("Processing authentication..."),s=Pr(),{user:o}=st();return f.useEffect(()=>{let a;return(async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),o){console.log("[AuthCallback] User already authenticated by auth context:",o.role),e("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{o.role==="client"?s("/client-portal"):o.role==="employee"||o.role==="team_leader"?s("/employee_dashboard"):s("/dashboard")},1500);return}console.log("[AuthCallback] Waiting for OAuth session to establish...");let c=0;const u=20,d=async()=>{c++,console.log(`[AuthCallback] Checking session and profile (attempt ${c}/${u})`);try{const{data:{user:h},error:m}=await K.auth.getUser();if(m&&console.error("[AuthCallback] User error:",m),h){console.log("[AuthCallback] Found authenticated user:",h.id);const{data:v}=await K.from("users").select("user_id").eq("auth_user_id",h.id).maybeSingle();if(v){console.log("[AuthCallback] User profile exists, fetching user data...");const w=await Zt.getCurrentUser(h.id);if(w){localStorage.removeItem("oauth_intended_role"),e("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{w.role==="client"?s("/client-portal"):w.role==="employee"||w.role==="team_leader"?s("/employee_dashboard"):s("/dashboard")},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}const{data:{session:p},error:b}=await K.auth.getSession();if(b&&console.error("[AuthCallback] Session error:",b),p!=null&&p.user){console.log("[AuthCallback] Found session user:",p.user.id);const{data:v}=await K.from("users").select("user_id").eq("auth_user_id",p.user.id).maybeSingle();if(v){console.log("[AuthCallback] User profile exists, fetching user data...");const w=await Zt.getCurrentUser(p.user.id);if(w){localStorage.removeItem("oauth_intended_role"),e("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{w.role==="client"?s("/client-portal"):w.role==="employee"||w.role==="team_leader"?s("/employee_dashboard"):s("/dashboard")},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}c<u?(console.log("[AuthCallback] No session or profile found, waiting and retrying..."),a=setTimeout(d,1e3)):(console.error("[AuthCallback] No session or profile found after maximum attempts"),e("error"),n("Authentication session not established. Please try signing in again."),setTimeout(()=>s("/login"),3e3))}catch(h){console.error("[AuthCallback] Error checking session and profile:",h),c<u?a=setTimeout(d,1e3):(e("error"),n("Authentication failed. Please try again."),setTimeout(()=>s("/login"),3e3))}};d()}catch(c){console.error("[AuthCallback] Error handling callback:",c),e("error"),n("Authentication failed. Please try again."),setTimeout(()=>s("/login"),3e3)}})(),()=>{a&&clearTimeout(a)}},[o,s]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[t==="loading"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),i.jsx("p",{className:"text-gray-600",children:r})]}),t==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),i.jsx("p",{className:"text-gray-600",children:r})]}),t==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),i.jsx("p",{className:"text-gray-600",children:r})]})]})})};function KU(){return i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Partner Dashboard"}),i.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:"Welcome to your partner portal"})]})}),i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),i.jsx("h2",{className:"text-2xl font-semibold",children:"Coming Soon"}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:"We're working hard to bring you an amazing partner experience. Check back soon for updates and new features."})]})})]})}function qU(){return i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Partner Employee Dashboard"}),i.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:"Welcome to your partner employee portal"})]})}),i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),i.jsx("h2",{className:"text-2xl font-semibold",children:"Coming Soon"}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:"We're working hard to bring you an amazing partner employee experience. Check back soon for updates and new features."})]})})]})}const GU=()=>i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),i.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})});console.log(" SUPABASE URL (runtime):","https://qaqrnyyhctqqvnpiqnjm.supabase.co");const QU=()=>{const{user:t}=st();return(t==null?void 0:t.role)==="client"?i.jsx(MU,{}):i.jsx(LU,{})},ux=({children:t})=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:t});function JU(){return i.jsx(ZO,{children:i.jsx(YO,{children:i.jsx(YU,{})})})}function YU(){const{isRTL:t}=vl();return f.useEffect(()=>{document.documentElement.dir=t?"rtl":"ltr"},[t]),i.jsx(_2,{children:i.jsxs(p2,{children:[i.jsx(Ke,{path:"/login",element:i.jsx(ux,{children:i.jsx(_I,{})})}),i.jsx(Ke,{path:"/signup",element:i.jsx(ux,{children:i.jsx(jI,{})})}),i.jsx(Ke,{path:"/unauthorized",element:i.jsx(GU,{})}),i.jsx(Ke,{path:"/auth/callback",element:i.jsx(HU,{})}),i.jsx(Ke,{path:"/",element:i.jsx(WU,{})}),i.jsx(Ke,{path:"/dashboard",element:i.jsx(Pt,{allowedRoles:["admin","manager"],children:i.jsx(pt,{children:i.jsx(s4,{})})})}),i.jsx(Ke,{path:"/employee_dashboard",element:i.jsx(Pt,{allowedRoles:["employee","team_leader"],children:i.jsx(pt,{children:i.jsx(u4,{})})})}),i.jsx(Ke,{path:"/leads",element:i.jsx(Pt,{allowedRoles:["admin","manager","employee","team_leader"],children:i.jsx(pt,{children:i.jsx(C4,{})})})}),i.jsx(Ke,{path:"/projects",element:i.jsx(Pt,{allowedRoles:["admin","manager","employee","team_leader"],children:i.jsx(pt,{children:i.jsx(A4,{})})})}),i.jsx(Ke,{path:"/tasks",element:i.jsx(Pt,{allowedRoles:["admin","manager","employee","team_leader"],children:i.jsx(pt,{children:i.jsx(E4,{})})})}),i.jsx(Ke,{path:"/tickets",element:i.jsx(Pt,{allowedRoles:["admin","manager","employee","team_leader","client"],children:i.jsx(pt,{children:i.jsx(R4,{})})})}),i.jsx(Ke,{path:"/clients",element:i.jsx(Pt,{allowedRoles:["admin","manager"],children:i.jsx(pt,{children:i.jsx(M4,{})})})}),i.jsx(Ke,{path:"/users",element:i.jsx(Pt,{allowedRoles:["admin","manager"],children:i.jsx(pt,{children:i.jsx(r$,{})})})}),i.jsx(Ke,{path:"/teams",element:i.jsx(Pt,{allowedRoles:["admin","manager","employee","team_leader"],children:i.jsx(pt,{children:i.jsx(n$,{})})})}),i.jsx(Ke,{path:"/chats",element:i.jsx(Pt,{allowedRoles:["admin","manager","employee","team_leader","client"],children:i.jsx(pt,{children:i.jsx(QU,{})})})}),i.jsx(Ke,{path:"/client-portal",element:i.jsx(Pt,{allowedRoles:["client"],children:i.jsx(pt,{children:i.jsx(BU,{})})})}),i.jsx(Ke,{path:"/partner-dashboard",element:i.jsx(Pt,{allowedRoles:["partner"],children:i.jsx(pt,{children:i.jsx(KU,{})})})}),i.jsx(Ke,{path:"/partner-employee-dashboard",element:i.jsx(Pt,{allowedRoles:["partner_employee"],children:i.jsx(pt,{children:i.jsx(qU,{})})})}),i.jsx(Ke,{path:"/project/:id",element:i.jsx(Pt,{allowedRoles:["admin","manager"],children:i.jsx(VU,{})})}),i.jsx(Ke,{path:"*",element:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("h1",{children:"404 - Page Not Found"})})})]})})}const XU=new ME({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});D0(document.getElementById("root")).render(i.jsx(HP,{i18n:Be,children:i.jsx(zE,{client:XU,children:i.jsx(JU,{})})}));
