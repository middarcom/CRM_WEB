var xD=e=>{throw TypeError(e)};var Ej=(e,r,n)=>r.has(e)||xD("Cannot "+n);var ge=(e,r,n)=>(Ej(e,r,"read from private field"),n?n.call(e):r.get(e)),Ct=(e,r,n)=>r.has(e)?xD("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,n),ft=(e,r,n,a)=>(Ej(e,r,"write to private field"),a?a.call(e,n):r.set(e,n),n),Zt=(e,r,n)=>(Ej(e,r,"access private method"),n);var oy=(e,r,n,a)=>({set _(s){ft(e,r,s,n)},get _(){return ge(e,r,a)}});function K8(e,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function G8(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var n=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var Y8={exports:{}},f_={},X8={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=Symbol.for("react.element"),FQ=Symbol.for("react.portal"),LQ=Symbol.for("react.fragment"),$Q=Symbol.for("react.strict_mode"),BQ=Symbol.for("react.profiler"),UQ=Symbol.for("react.provider"),VQ=Symbol.for("react.context"),zQ=Symbol.for("react.forward_ref"),WQ=Symbol.for("react.suspense"),HQ=Symbol.for("react.memo"),qQ=Symbol.for("react.lazy"),yD=Symbol.iterator;function KQ(e){return e===null||typeof e!="object"?null:(e=yD&&e[yD]||e["@@iterator"],typeof e=="function"?e:null)}var J8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q8=Object.assign,Z8={};function Ep(e,r,n){this.props=e,this.context=r,this.refs=Z8,this.updater=n||J8}Ep.prototype.isReactComponent={};Ep.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Ep.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function e6(){}e6.prototype=Ep.prototype;function _T(e,r,n){this.props=e,this.context=r,this.refs=Z8,this.updater=n||J8}var ST=_T.prototype=new e6;ST.constructor=_T;Q8(ST,Ep.prototype);ST.isPureReactComponent=!0;var wD=Array.isArray,t6=Object.prototype.hasOwnProperty,jT={current:null},r6={key:!0,ref:!0,__self:!0,__source:!0};function n6(e,r,n){var a,s={},i=null,o=null;if(r!=null)for(a in r.ref!==void 0&&(o=r.ref),r.key!==void 0&&(i=""+r.key),r)t6.call(r,a)&&!r6.hasOwnProperty(a)&&(s[a]=r[a]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps,c)s[a]===void 0&&(s[a]=c[a]);return{$$typeof:ox,type:e,key:i,ref:o,props:s,_owner:jT.current}}function GQ(e,r){return{$$typeof:ox,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function kT(e){return typeof e=="object"&&e!==null&&e.$$typeof===ox}function YQ(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var bD=/\/+/g;function Cj(e,r){return typeof e=="object"&&e!==null&&e.key!=null?YQ(""+e.key):r.toString(36)}function ww(e,r,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ox:case FQ:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+Cj(o,0):a,wD(s)?(n="",e!=null&&(n=e.replace(bD,"$&/")+"/"),ww(s,r,n,"",function(d){return d})):s!=null&&(kT(s)&&(s=GQ(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bD,"$&/")+"/")+e)),r.push(s)),1;if(o=0,a=a===""?".":a+":",wD(e))for(var c=0;c<e.length;c++){i=e[c];var u=a+Cj(i,c);o+=ww(i,r,n,u,s)}else if(u=KQ(e),typeof u=="function")for(e=u.call(e),c=0;!(i=e.next()).done;)i=i.value,u=a+Cj(i,c++),o+=ww(i,r,n,u,s);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function cy(e,r,n){if(e==null)return e;var a=[],s=0;return ww(e,a,"","",function(i){return r.call(n,i,s++)}),a}function XQ(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var hs={current:null},bw={transition:null},JQ={ReactCurrentDispatcher:hs,ReactCurrentBatchConfig:bw,ReactCurrentOwner:jT};function a6(){throw Error("act(...) is not supported in production builds of React.")}Xt.Children={map:cy,forEach:function(e,r,n){cy(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return cy(e,function(){r++}),r},toArray:function(e){return cy(e,function(r){return r})||[]},only:function(e){if(!kT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Ep;Xt.Fragment=LQ;Xt.Profiler=BQ;Xt.PureComponent=_T;Xt.StrictMode=$Q;Xt.Suspense=WQ;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JQ;Xt.act=a6;Xt.cloneElement=function(e,r,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Q8({},e.props),s=e.key,i=e.ref,o=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,o=jT.current),r.key!==void 0&&(s=""+r.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in r)t6.call(r,u)&&!r6.hasOwnProperty(u)&&(a[u]=r[u]===void 0&&c!==void 0?c[u]:r[u])}var u=arguments.length-2;if(u===1)a.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:ox,type:e.type,key:s,ref:i,props:a,_owner:o}};Xt.createContext=function(e){return e={$$typeof:VQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UQ,_context:e},e.Consumer=e};Xt.createElement=n6;Xt.createFactory=function(e){var r=n6.bind(null,e);return r.type=e,r};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:zQ,render:e}};Xt.isValidElement=kT;Xt.lazy=function(e){return{$$typeof:qQ,_payload:{_status:-1,_result:e},_init:XQ}};Xt.memo=function(e,r){return{$$typeof:HQ,type:e,compare:r===void 0?null:r}};Xt.startTransition=function(e){var r=bw.transition;bw.transition={};try{e()}finally{bw.transition=r}};Xt.unstable_act=a6;Xt.useCallback=function(e,r){return hs.current.useCallback(e,r)};Xt.useContext=function(e){return hs.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return hs.current.useDeferredValue(e)};Xt.useEffect=function(e,r){return hs.current.useEffect(e,r)};Xt.useId=function(){return hs.current.useId()};Xt.useImperativeHandle=function(e,r,n){return hs.current.useImperativeHandle(e,r,n)};Xt.useInsertionEffect=function(e,r){return hs.current.useInsertionEffect(e,r)};Xt.useLayoutEffect=function(e,r){return hs.current.useLayoutEffect(e,r)};Xt.useMemo=function(e,r){return hs.current.useMemo(e,r)};Xt.useReducer=function(e,r,n){return hs.current.useReducer(e,r,n)};Xt.useRef=function(e){return hs.current.useRef(e)};Xt.useState=function(e){return hs.current.useState(e)};Xt.useSyncExternalStore=function(e,r,n){return hs.current.useSyncExternalStore(e,r,n)};Xt.useTransition=function(){return hs.current.useTransition()};Xt.version="18.3.1";X8.exports=Xt;var y=X8.exports;const ne=gr(y),NT=K8({__proto__:null,default:ne},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QQ=y,ZQ=Symbol.for("react.element"),eZ=Symbol.for("react.fragment"),tZ=Object.prototype.hasOwnProperty,rZ=QQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nZ={key:!0,ref:!0,__self:!0,__source:!0};function s6(e,r,n){var a,s={},i=null,o=null;n!==void 0&&(i=""+n),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(o=r.ref);for(a in r)tZ.call(r,a)&&!nZ.hasOwnProperty(a)&&(s[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return{$$typeof:ZQ,type:e,key:i,ref:o,props:s,_owner:rZ.current}}f_.Fragment=eZ;f_.jsx=s6;f_.jsxs=s6;Y8.exports=f_;var l=Y8.exports,i6={exports:{}},vi={},o6={exports:{}},l6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(L,M){var Y=L.length;L.push(M);e:for(;0<Y;){var Z=Y-1>>>1,A=L[Z];if(0<s(A,M))L[Z]=M,L[Y]=A,Y=Z;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var M=L[0],Y=L.pop();if(Y!==M){L[0]=Y;e:for(var Z=0,A=L.length,X=A>>>1;Z<X;){var U=2*(Z+1)-1,H=L[U],ae=U+1,oe=L[ae];if(0>s(H,Y))ae<A&&0>s(oe,H)?(L[Z]=oe,L[ae]=Y,Z=ae):(L[Z]=H,L[U]=Y,Z=U);else if(ae<A&&0>s(oe,Y))L[Z]=oe,L[ae]=Y,Z=ae;else break e}}return M}function s(L,M){var Y=L.sortIndex-M.sortIndex;return Y!==0?Y:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,h=null,m=3,p=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var M=n(d);M!==null;){if(M.callback===null)a(d);else if(M.startTime<=L)a(d),M.sortIndex=M.expirationTime,r(u,M);else break;M=n(d)}}function S(L){if(g=!1,_(L),!v)if(n(u)!==null)v=!0,I(j);else{var M=n(d);M!==null&&V(S,M.startTime-L)}}function j(L,M){v=!1,g&&(g=!1,b(E),E=-1),p=!0;var Y=m;try{for(_(M),h=n(u);h!==null&&(!(h.expirationTime>M)||L&&!D());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var A=Z(h.expirationTime<=M);M=e.unstable_now(),typeof A=="function"?h.callback=A:h===n(u)&&a(u),_(M)}else a(u);h=n(u)}if(h!==null)var X=!0;else{var U=n(d);U!==null&&V(S,U.startTime-M),X=!1}return X}finally{h=null,m=Y,p=!1}}var N=!1,k=null,E=-1,C=5,O=-1;function D(){return!(e.unstable_now()-O<C)}function T(){if(k!==null){var L=e.unstable_now();O=L;var M=!0;try{M=k(!0,L)}finally{M?z():(N=!1,k=null)}}else N=!1}var z;if(typeof w=="function")z=function(){w(T)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,F=q.port2;q.port1.onmessage=T,z=function(){F.postMessage(null)}}else z=function(){x(T,0)};function I(L){k=L,N||(N=!0,z())}function V(L,M){E=x(function(){L(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,I(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(L){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var Y=m;m=M;try{return L()}finally{m=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=m;m=L;try{return M()}finally{m=Y}},e.unstable_scheduleCallback=function(L,M,Y){var Z=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,L){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=Y+A,L={id:f++,callback:M,priorityLevel:L,startTime:Y,expirationTime:A,sortIndex:-1},Y>Z?(L.sortIndex=Y,r(d,L),n(u)===null&&L===n(d)&&(g?(b(E),E=-1):g=!0,V(S,Y-Z))):(L.sortIndex=A,r(u,L),v||p||(v=!0,I(j))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var M=m;return function(){var Y=m;m=M;try{return L.apply(this,arguments)}finally{m=Y}}}})(l6);o6.exports=l6;var aZ=o6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sZ=y,hi=aZ;function Ke(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c6=new Set,Rg={};function Rf(e,r){Nm(e,r),Nm(e+"Capture",r)}function Nm(e,r){for(Rg[e]=r,e=0;e<r.length;e++)c6.add(r[e])}var dc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TN=Object.prototype.hasOwnProperty,iZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_D={},SD={};function oZ(e){return TN.call(SD,e)?!0:TN.call(_D,e)?!1:iZ.test(e)?SD[e]=!0:(_D[e]=!0,!1)}function lZ(e,r,n,a){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cZ(e,r,n,a){if(r===null||typeof r>"u"||lZ(e,r,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function ms(e,r,n,a,s,i,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=o}var ma={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ma[e]=new ms(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];ma[r]=new ms(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ma[e]=new ms(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ma[e]=new ms(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ma[e]=new ms(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ma[e]=new ms(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ma[e]=new ms(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ma[e]=new ms(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ma[e]=new ms(e,5,!1,e.toLowerCase(),null,!1,!1)});var ET=/[\-:]([a-z])/g;function CT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(ET,CT);ma[r]=new ms(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(ET,CT);ma[r]=new ms(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(ET,CT);ma[r]=new ms(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ma[e]=new ms(e,1,!1,e.toLowerCase(),null,!1,!1)});ma.xlinkHref=new ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ma[e]=new ms(e,1,!1,e.toLowerCase(),null,!0,!0)});function TT(e,r,n,a){var s=ma.hasOwnProperty(r)?ma[r]:null;(s!==null?s.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(cZ(r,n,s,a)&&(n=null),a||s===null?oZ(r)&&(n===null?e.removeAttribute(r):e.setAttribute(r,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(r=s.attributeName,a=s.attributeNamespace,n===null?e.removeAttribute(r):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,a?e.setAttributeNS(a,r,n):e.setAttribute(r,n))))}var Ec=sZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uy=Symbol.for("react.element"),Ch=Symbol.for("react.portal"),Th=Symbol.for("react.fragment"),AT=Symbol.for("react.strict_mode"),AN=Symbol.for("react.profiler"),u6=Symbol.for("react.provider"),d6=Symbol.for("react.context"),OT=Symbol.for("react.forward_ref"),ON=Symbol.for("react.suspense"),PN=Symbol.for("react.suspense_list"),PT=Symbol.for("react.memo"),Hc=Symbol.for("react.lazy"),f6=Symbol.for("react.offscreen"),jD=Symbol.iterator;function u0(e){return e===null||typeof e!="object"?null:(e=jD&&e[jD]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,Tj;function L0(e){if(Tj===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);Tj=r&&r[1]||""}return`
`+Tj+e}var Aj=!1;function Oj(e,r){if(!e||Aj)return"";Aj=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var a=d}Reflect.construct(e,[],r)}else{try{r.call()}catch(d){a=d}e.call(r.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=a.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=c);break}}}finally{Aj=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L0(e):""}function uZ(e){switch(e.tag){case 5:return L0(e.type);case 16:return L0("Lazy");case 13:return L0("Suspense");case 19:return L0("SuspenseList");case 0:case 2:case 15:return e=Oj(e.type,!1),e;case 11:return e=Oj(e.type.render,!1),e;case 1:return e=Oj(e.type,!0),e;default:return""}}function DN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Th:return"Fragment";case Ch:return"Portal";case AN:return"Profiler";case AT:return"StrictMode";case ON:return"Suspense";case PN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case d6:return(e.displayName||"Context")+".Consumer";case u6:return(e._context.displayName||"Context")+".Provider";case OT:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case PT:return r=e.displayName||null,r!==null?r:DN(e.type)||"Memo";case Hc:r=e._payload,e=e._init;try{return DN(e(r))}catch{}}return null}function dZ(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return DN(r);case 8:return r===AT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Iu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h6(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fZ(e){var r=h6(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function dy(e){e._valueTracker||(e._valueTracker=fZ(e))}function m6(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),a="";return e&&(a=h6(e)?e.checked?"true":"false":e.value),e=a,e!==n?(r.setValue(e),!0):!1}function qw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function RN(e,r){var n=r.checked;return rn({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kD(e,r){var n=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;n=Iu(r.value!=null?r.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function p6(e,r){r=r.checked,r!=null&&TT(e,"checked",r,!1)}function IN(e,r){p6(e,r);var n=Iu(r.value),a=r.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?MN(e,r.type,n):r.hasOwnProperty("defaultValue")&&MN(e,r.type,Iu(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function ND(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function MN(e,r,n){(r!=="number"||qw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $0=Array.isArray;function Kh(e,r,n,a){if(e=e.options,r){r={};for(var s=0;s<n.length;s++)r["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=r.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Iu(n),r=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}r!==null||e[s].disabled||(r=e[s])}r!==null&&(r.selected=!0)}}function FN(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return rn({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ED(e,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(Ke(92));if($0(n)){if(1<n.length)throw Error(Ke(93));n=n[0]}r=n}r==null&&(r=""),n=r}e._wrapperState={initialValue:Iu(n)}}function g6(e,r){var n=Iu(r.value),a=Iu(r.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),r.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function CD(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function v6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LN(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?v6(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fy,x6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,a,s){MSApp.execUnsafeLocalFunction(function(){return e(r,n,a,s)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(fy=fy||document.createElement("div"),fy.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=fy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Ig(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=r;return}}e.textContent=r}var Z0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hZ=["Webkit","ms","Moz","O"];Object.keys(Z0).forEach(function(e){hZ.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Z0[r]=Z0[e]})});function y6(e,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||Z0.hasOwnProperty(e)&&Z0[e]?(""+r).trim():r+"px"}function w6(e,r){e=e.style;for(var n in r)if(r.hasOwnProperty(n)){var a=n.indexOf("--")===0,s=y6(n,r[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}var mZ=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $N(e,r){if(r){if(mZ[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Ke(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Ke(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(Ke(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Ke(62))}}function BN(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UN=null;function DT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var VN=null,Gh=null,Yh=null;function TD(e){if(e=ux(e)){if(typeof VN!="function")throw Error(Ke(280));var r=e.stateNode;r&&(r=v_(r),VN(e.stateNode,e.type,r))}}function b6(e){Gh?Yh?Yh.push(e):Yh=[e]:Gh=e}function _6(){if(Gh){var e=Gh,r=Yh;if(Yh=Gh=null,TD(e),r)for(e=0;e<r.length;e++)TD(r[e])}}function S6(e,r){return e(r)}function j6(){}var Pj=!1;function k6(e,r,n){if(Pj)return e(r,n);Pj=!0;try{return S6(e,r,n)}finally{Pj=!1,(Gh!==null||Yh!==null)&&(j6(),_6())}}function Mg(e,r){var n=e.stateNode;if(n===null)return null;var a=v_(n);if(a===null)return null;n=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ke(231,r,typeof n));return n}var zN=!1;if(dc)try{var d0={};Object.defineProperty(d0,"passive",{get:function(){zN=!0}}),window.addEventListener("test",d0,d0),window.removeEventListener("test",d0,d0)}catch{zN=!1}function pZ(e,r,n,a,s,i,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{r.apply(n,d)}catch(f){this.onError(f)}}var eg=!1,Kw=null,Gw=!1,WN=null,gZ={onError:function(e){eg=!0,Kw=e}};function vZ(e,r,n,a,s,i,o,c,u){eg=!1,Kw=null,pZ.apply(gZ,arguments)}function xZ(e,r,n,a,s,i,o,c,u){if(vZ.apply(this,arguments),eg){if(eg){var d=Kw;eg=!1,Kw=null}else throw Error(Ke(198));Gw||(Gw=!0,WN=d)}}function If(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(n=r.return),e=r.return;while(e)}return r.tag===3?n:null}function N6(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function AD(e){if(If(e)!==e)throw Error(Ke(188))}function yZ(e){var r=e.alternate;if(!r){if(r=If(e),r===null)throw Error(Ke(188));return r!==e?null:e}for(var n=e,a=r;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return AD(s),e;if(i===a)return AD(s),r;i=i.sibling}throw Error(Ke(188))}if(n.return!==a.return)n=s,a=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,a=i;break}if(c===a){o=!0,a=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,a=s;break}if(c===a){o=!0,a=i,n=s;break}c=c.sibling}if(!o)throw Error(Ke(189))}}if(n.alternate!==a)throw Error(Ke(190))}if(n.tag!==3)throw Error(Ke(188));return n.stateNode.current===n?e:r}function E6(e){return e=yZ(e),e!==null?C6(e):null}function C6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=C6(e);if(r!==null)return r;e=e.sibling}return null}var T6=hi.unstable_scheduleCallback,OD=hi.unstable_cancelCallback,wZ=hi.unstable_shouldYield,bZ=hi.unstable_requestPaint,hn=hi.unstable_now,_Z=hi.unstable_getCurrentPriorityLevel,RT=hi.unstable_ImmediatePriority,A6=hi.unstable_UserBlockingPriority,Yw=hi.unstable_NormalPriority,SZ=hi.unstable_LowPriority,O6=hi.unstable_IdlePriority,h_=null,fl=null;function jZ(e){if(fl&&typeof fl.onCommitFiberRoot=="function")try{fl.onCommitFiberRoot(h_,e,void 0,(e.current.flags&128)===128)}catch{}}var So=Math.clz32?Math.clz32:EZ,kZ=Math.log,NZ=Math.LN2;function EZ(e){return e>>>=0,e===0?32:31-(kZ(e)/NZ|0)|0}var hy=64,my=4194304;function B0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xw(e,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?a=B0(c):(i&=o,i!==0&&(a=B0(i)))}else o=n&~s,o!==0?a=B0(o):i!==0&&(a=B0(i));if(a===0)return 0;if(r!==0&&r!==a&&!(r&s)&&(s=a&-a,i=r&-r,s>=i||s===16&&(i&4194240)!==0))return r;if(a&4&&(a|=n&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=a;0<r;)n=31-So(r),s=1<<n,a|=e[n],r&=~s;return a}function CZ(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TZ(e,r){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-So(i),c=1<<o,u=s[o];u===-1?(!(c&n)||c&a)&&(s[o]=CZ(c,r)):u<=r&&(e.expiredLanes|=c),i&=~c}}function HN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function P6(){var e=hy;return hy<<=1,!(hy&4194240)&&(hy=64),e}function Dj(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function lx(e,r,n){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-So(r),e[r]=n}function AZ(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-So(n),i=1<<s;r[s]=0,a[s]=-1,e[s]=-1,n&=~i}}function IT(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var a=31-So(n),s=1<<a;s&r|e[a]&r&&(e[a]|=r),n&=~s}}var _r=0;function D6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var R6,MT,I6,M6,F6,qN=!1,py=[],wu=null,bu=null,_u=null,Fg=new Map,Lg=new Map,Jc=[],OZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PD(e,r){switch(e){case"focusin":case"focusout":wu=null;break;case"dragenter":case"dragleave":bu=null;break;case"mouseover":case"mouseout":_u=null;break;case"pointerover":case"pointerout":Fg.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lg.delete(r.pointerId)}}function f0(e,r,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},r!==null&&(r=ux(r),r!==null&&MT(r)),e):(e.eventSystemFlags|=a,r=e.targetContainers,s!==null&&r.indexOf(s)===-1&&r.push(s),e)}function PZ(e,r,n,a,s){switch(r){case"focusin":return wu=f0(wu,e,r,n,a,s),!0;case"dragenter":return bu=f0(bu,e,r,n,a,s),!0;case"mouseover":return _u=f0(_u,e,r,n,a,s),!0;case"pointerover":var i=s.pointerId;return Fg.set(i,f0(Fg.get(i)||null,e,r,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Lg.set(i,f0(Lg.get(i)||null,e,r,n,a,s)),!0}return!1}function L6(e){var r=Ad(e.target);if(r!==null){var n=If(r);if(n!==null){if(r=n.tag,r===13){if(r=N6(n),r!==null){e.blockedOn=r,F6(e.priority,function(){I6(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _w(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var n=KN(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);UN=a,n.target.dispatchEvent(a),UN=null}else return r=ux(n),r!==null&&MT(r),e.blockedOn=n,!1;r.shift()}return!0}function DD(e,r,n){_w(e)&&n.delete(r)}function DZ(){qN=!1,wu!==null&&_w(wu)&&(wu=null),bu!==null&&_w(bu)&&(bu=null),_u!==null&&_w(_u)&&(_u=null),Fg.forEach(DD),Lg.forEach(DD)}function h0(e,r){e.blockedOn===r&&(e.blockedOn=null,qN||(qN=!0,hi.unstable_scheduleCallback(hi.unstable_NormalPriority,DZ)))}function $g(e){function r(s){return h0(s,e)}if(0<py.length){h0(py[0],e);for(var n=1;n<py.length;n++){var a=py[n];a.blockedOn===e&&(a.blockedOn=null)}}for(wu!==null&&h0(wu,e),bu!==null&&h0(bu,e),_u!==null&&h0(_u,e),Fg.forEach(r),Lg.forEach(r),n=0;n<Jc.length;n++)a=Jc[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Jc.length&&(n=Jc[0],n.blockedOn===null);)L6(n),n.blockedOn===null&&Jc.shift()}var Xh=Ec.ReactCurrentBatchConfig,Jw=!0;function RZ(e,r,n,a){var s=_r,i=Xh.transition;Xh.transition=null;try{_r=1,FT(e,r,n,a)}finally{_r=s,Xh.transition=i}}function IZ(e,r,n,a){var s=_r,i=Xh.transition;Xh.transition=null;try{_r=4,FT(e,r,n,a)}finally{_r=s,Xh.transition=i}}function FT(e,r,n,a){if(Jw){var s=KN(e,r,n,a);if(s===null)zj(e,r,a,Qw,n),PD(e,a);else if(PZ(s,e,r,n,a))a.stopPropagation();else if(PD(e,a),r&4&&-1<OZ.indexOf(e)){for(;s!==null;){var i=ux(s);if(i!==null&&R6(i),i=KN(e,r,n,a),i===null&&zj(e,r,a,Qw,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else zj(e,r,a,null,n)}}var Qw=null;function KN(e,r,n,a){if(Qw=null,e=DT(a),e=Ad(e),e!==null)if(r=If(e),r===null)e=null;else if(n=r.tag,n===13){if(e=N6(r),e!==null)return e;e=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Qw=e,null}function $6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_Z()){case RT:return 1;case A6:return 4;case Yw:case SZ:return 16;case O6:return 536870912;default:return 16}default:return 16}}var hu=null,LT=null,Sw=null;function B6(){if(Sw)return Sw;var e,r=LT,n=r.length,a,s="value"in hu?hu.value:hu.textContent,i=s.length;for(e=0;e<n&&r[e]===s[e];e++);var o=n-e;for(a=1;a<=o&&r[n-a]===s[i-a];a++);return Sw=s.slice(e,1<a?1-a:void 0)}function jw(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function gy(){return!0}function RD(){return!1}function xi(e){function r(n,a,s,i,o){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gy:RD,this.isPropagationStopped=RD,this}return rn(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gy)},persist:function(){},isPersistent:gy}),r}var Cp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$T=xi(Cp),cx=rn({},Cp,{view:0,detail:0}),MZ=xi(cx),Rj,Ij,m0,m_=rn({},cx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==m0&&(m0&&e.type==="mousemove"?(Rj=e.screenX-m0.screenX,Ij=e.screenY-m0.screenY):Ij=Rj=0,m0=e),Rj)},movementY:function(e){return"movementY"in e?e.movementY:Ij}}),ID=xi(m_),FZ=rn({},m_,{dataTransfer:0}),LZ=xi(FZ),$Z=rn({},cx,{relatedTarget:0}),Mj=xi($Z),BZ=rn({},Cp,{animationName:0,elapsedTime:0,pseudoElement:0}),UZ=xi(BZ),VZ=rn({},Cp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zZ=xi(VZ),WZ=rn({},Cp,{data:0}),MD=xi(WZ),HZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GZ(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=KZ[e])?!!r[e]:!1}function BT(){return GZ}var YZ=rn({},cx,{key:function(e){if(e.key){var r=HZ[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=jw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BT,charCode:function(e){return e.type==="keypress"?jw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XZ=xi(YZ),JZ=rn({},m_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FD=xi(JZ),QZ=rn({},cx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BT}),ZZ=xi(QZ),eee=rn({},Cp,{propertyName:0,elapsedTime:0,pseudoElement:0}),tee=xi(eee),ree=rn({},m_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nee=xi(ree),aee=[9,13,27,32],UT=dc&&"CompositionEvent"in window,tg=null;dc&&"documentMode"in document&&(tg=document.documentMode);var see=dc&&"TextEvent"in window&&!tg,U6=dc&&(!UT||tg&&8<tg&&11>=tg),LD=" ",$D=!1;function V6(e,r){switch(e){case"keyup":return aee.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ah=!1;function iee(e,r){switch(e){case"compositionend":return z6(r);case"keypress":return r.which!==32?null:($D=!0,LD);case"textInput":return e=r.data,e===LD&&$D?null:e;default:return null}}function oee(e,r){if(Ah)return e==="compositionend"||!UT&&V6(e,r)?(e=B6(),Sw=LT=hu=null,Ah=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return U6&&r.locale!=="ko"?null:r.data;default:return null}}var lee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BD(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!lee[e.type]:r==="textarea"}function W6(e,r,n,a){b6(a),r=Zw(r,"onChange"),0<r.length&&(n=new $T("onChange","change",null,n,a),e.push({event:n,listeners:r}))}var rg=null,Bg=null;function cee(e){tB(e,0)}function p_(e){var r=Dh(e);if(m6(r))return e}function uee(e,r){if(e==="change")return r}var H6=!1;if(dc){var Fj;if(dc){var Lj="oninput"in document;if(!Lj){var UD=document.createElement("div");UD.setAttribute("oninput","return;"),Lj=typeof UD.oninput=="function"}Fj=Lj}else Fj=!1;H6=Fj&&(!document.documentMode||9<document.documentMode)}function VD(){rg&&(rg.detachEvent("onpropertychange",q6),Bg=rg=null)}function q6(e){if(e.propertyName==="value"&&p_(Bg)){var r=[];W6(r,Bg,e,DT(e)),k6(cee,r)}}function dee(e,r,n){e==="focusin"?(VD(),rg=r,Bg=n,rg.attachEvent("onpropertychange",q6)):e==="focusout"&&VD()}function fee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return p_(Bg)}function hee(e,r){if(e==="click")return p_(r)}function mee(e,r){if(e==="input"||e==="change")return p_(r)}function pee(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Eo=typeof Object.is=="function"?Object.is:pee;function Ug(e,r){if(Eo(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),a=Object.keys(r);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!TN.call(r,s)||!Eo(e[s],r[s]))return!1}return!0}function zD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WD(e,r){var n=zD(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=r&&a>=r)return{node:n,offset:r-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zD(n)}}function K6(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?K6(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function G6(){for(var e=window,r=qw();r instanceof e.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)e=r.contentWindow;else break;r=qw(e.document)}return r}function VT(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function gee(e){var r=G6(),n=e.focusedElem,a=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&K6(n.ownerDocument.documentElement,n)){if(a!==null&&VT(n)){if(r=a.start,e=a.end,e===void 0&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if(e=(r=n.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=WD(n,i);var o=WD(n,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(r),e.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),e.addRange(r)))}}for(r=[],e=n;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)e=r[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vee=dc&&"documentMode"in document&&11>=document.documentMode,Oh=null,GN=null,ng=null,YN=!1;function HD(e,r,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;YN||Oh==null||Oh!==qw(a)||(a=Oh,"selectionStart"in a&&VT(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ng&&Ug(ng,a)||(ng=a,a=Zw(GN,"onSelect"),0<a.length&&(r=new $T("onSelect","select",null,r,n),e.push({event:r,listeners:a}),r.target=Oh)))}function vy(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var Ph={animationend:vy("Animation","AnimationEnd"),animationiteration:vy("Animation","AnimationIteration"),animationstart:vy("Animation","AnimationStart"),transitionend:vy("Transition","TransitionEnd")},$j={},Y6={};dc&&(Y6=document.createElement("div").style,"AnimationEvent"in window||(delete Ph.animationend.animation,delete Ph.animationiteration.animation,delete Ph.animationstart.animation),"TransitionEvent"in window||delete Ph.transitionend.transition);function g_(e){if($j[e])return $j[e];if(!Ph[e])return e;var r=Ph[e],n;for(n in r)if(r.hasOwnProperty(n)&&n in Y6)return $j[e]=r[n];return e}var X6=g_("animationend"),J6=g_("animationiteration"),Q6=g_("animationstart"),Z6=g_("transitionend"),eB=new Map,qD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ku(e,r){eB.set(e,r),Rf(r,[e])}for(var Bj=0;Bj<qD.length;Bj++){var Uj=qD[Bj],xee=Uj.toLowerCase(),yee=Uj[0].toUpperCase()+Uj.slice(1);Ku(xee,"on"+yee)}Ku(X6,"onAnimationEnd");Ku(J6,"onAnimationIteration");Ku(Q6,"onAnimationStart");Ku("dblclick","onDoubleClick");Ku("focusin","onFocus");Ku("focusout","onBlur");Ku(Z6,"onTransitionEnd");Nm("onMouseEnter",["mouseout","mouseover"]);Nm("onMouseLeave",["mouseout","mouseover"]);Nm("onPointerEnter",["pointerout","pointerover"]);Nm("onPointerLeave",["pointerout","pointerover"]);Rf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var U0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wee=new Set("cancel close invalid load scroll toggle".split(" ").concat(U0));function KD(e,r,n){var a=e.type||"unknown-event";e.currentTarget=n,xZ(a,r,void 0,e),e.currentTarget=null}function tB(e,r){r=(r&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(r)for(var o=a.length-1;0<=o;o--){var c=a[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;KD(s,c,d),i=u}else for(o=0;o<a.length;o++){if(c=a[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;KD(s,c,d),i=u}}}if(Gw)throw e=WN,Gw=!1,WN=null,e}function Vr(e,r){var n=r[e2];n===void 0&&(n=r[e2]=new Set);var a=e+"__bubble";n.has(a)||(rB(r,e,2,!1),n.add(a))}function Vj(e,r,n){var a=0;r&&(a|=4),rB(n,e,a,r)}var xy="_reactListening"+Math.random().toString(36).slice(2);function Vg(e){if(!e[xy]){e[xy]=!0,c6.forEach(function(n){n!=="selectionchange"&&(wee.has(n)||Vj(n,!1,e),Vj(n,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[xy]||(r[xy]=!0,Vj("selectionchange",!1,r))}}function rB(e,r,n,a){switch($6(r)){case 1:var s=RZ;break;case 4:s=IZ;break;default:s=FT}n=s.bind(null,r,n,e),s=void 0,!zN||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(r,n,{capture:!0,passive:s}):e.addEventListener(r,n,!0):s!==void 0?e.addEventListener(r,n,{passive:s}):e.addEventListener(r,n,!1)}function zj(e,r,n,a,s){var i=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var c=a.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=Ad(c),o===null)return;if(u=o.tag,u===5||u===6){a=i=o;continue e}c=c.parentNode}}a=a.return}k6(function(){var d=i,f=DT(n),h=[];e:{var m=eB.get(e);if(m!==void 0){var p=$T,v=e;switch(e){case"keypress":if(jw(n)===0)break e;case"keydown":case"keyup":p=XZ;break;case"focusin":v="focus",p=Mj;break;case"focusout":v="blur",p=Mj;break;case"beforeblur":case"afterblur":p=Mj;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ID;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZZ;break;case X6:case J6:case Q6:p=UZ;break;case Z6:p=tee;break;case"scroll":p=MZ;break;case"wheel":p=nee;break;case"copy":case"cut":case"paste":p=zZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=FD}var g=(r&4)!==0,x=!g&&e==="scroll",b=g?m!==null?m+"Capture":null:m;g=[];for(var w=d,_;w!==null;){_=w;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,b!==null&&(S=Mg(w,b),S!=null&&g.push(zg(w,S,_)))),x)break;w=w.return}0<g.length&&(m=new p(m,v,null,n,f),h.push({event:m,listeners:g}))}}if(!(r&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==UN&&(v=n.relatedTarget||n.fromElement)&&(Ad(v)||v[fc]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=d,v=v?Ad(v):null,v!==null&&(x=If(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=d),p!==v)){if(g=ID,S="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=FD,S="onPointerLeave",b="onPointerEnter",w="pointer"),x=p==null?m:Dh(p),_=v==null?m:Dh(v),m=new g(S,w+"leave",p,n,f),m.target=x,m.relatedTarget=_,S=null,Ad(f)===d&&(g=new g(b,w+"enter",v,n,f),g.target=_,g.relatedTarget=x,S=g),x=S,p&&v)t:{for(g=p,b=v,w=0,_=g;_;_=Jf(_))w++;for(_=0,S=b;S;S=Jf(S))_++;for(;0<w-_;)g=Jf(g),w--;for(;0<_-w;)b=Jf(b),_--;for(;w--;){if(g===b||b!==null&&g===b.alternate)break t;g=Jf(g),b=Jf(b)}g=null}else g=null;p!==null&&GD(h,m,p,g,!1),v!==null&&x!==null&&GD(h,x,v,g,!0)}}e:{if(m=d?Dh(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=uee;else if(BD(m))if(H6)j=mee;else{j=fee;var N=dee}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=hee);if(j&&(j=j(e,d))){W6(h,j,n,f);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&MN(m,"number",m.value)}switch(N=d?Dh(d):window,e){case"focusin":(BD(N)||N.contentEditable==="true")&&(Oh=N,GN=d,ng=null);break;case"focusout":ng=GN=Oh=null;break;case"mousedown":YN=!0;break;case"contextmenu":case"mouseup":case"dragend":YN=!1,HD(h,n,f);break;case"selectionchange":if(vee)break;case"keydown":case"keyup":HD(h,n,f)}var k;if(UT)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ah?V6(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(U6&&n.locale!=="ko"&&(Ah||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ah&&(k=B6()):(hu=f,LT="value"in hu?hu.value:hu.textContent,Ah=!0)),N=Zw(d,E),0<N.length&&(E=new MD(E,e,null,n,f),h.push({event:E,listeners:N}),k?E.data=k:(k=z6(n),k!==null&&(E.data=k)))),(k=see?iee(e,n):oee(e,n))&&(d=Zw(d,"onBeforeInput"),0<d.length&&(f=new MD("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=k))}tB(h,r)})}function zg(e,r,n){return{instance:e,listener:r,currentTarget:n}}function Zw(e,r){for(var n=r+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mg(e,n),i!=null&&a.unshift(zg(e,i,s)),i=Mg(e,r),i!=null&&a.push(zg(e,i,s))),e=e.return}return a}function Jf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function GD(e,r,n,a,s){for(var i=r._reactName,o=[];n!==null&&n!==a;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===a)break;c.tag===5&&d!==null&&(c=d,s?(u=Mg(n,i),u!=null&&o.unshift(zg(n,u,c))):s||(u=Mg(n,i),u!=null&&o.push(zg(n,u,c)))),n=n.return}o.length!==0&&e.push({event:r,listeners:o})}var bee=/\r\n?/g,_ee=/\u0000|\uFFFD/g;function YD(e){return(typeof e=="string"?e:""+e).replace(bee,`
`).replace(_ee,"")}function yy(e,r,n){if(r=YD(r),YD(e)!==r&&n)throw Error(Ke(425))}function e1(){}var XN=null,JN=null;function QN(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ZN=typeof setTimeout=="function"?setTimeout:void 0,See=typeof clearTimeout=="function"?clearTimeout:void 0,XD=typeof Promise=="function"?Promise:void 0,jee=typeof queueMicrotask=="function"?queueMicrotask:typeof XD<"u"?function(e){return XD.resolve(null).then(e).catch(kee)}:ZN;function kee(e){setTimeout(function(){throw e})}function Wj(e,r){var n=r,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(a===0){e.removeChild(s),$g(r);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=s}while(n);$g(r)}function Su(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function JD(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return e;r--}else n==="/$"&&r++}e=e.previousSibling}return null}var Tp=Math.random().toString(36).slice(2),rl="__reactFiber$"+Tp,Wg="__reactProps$"+Tp,fc="__reactContainer$"+Tp,e2="__reactEvents$"+Tp,Nee="__reactListeners$"+Tp,Eee="__reactHandles$"+Tp;function Ad(e){var r=e[rl];if(r)return r;for(var n=e.parentNode;n;){if(r=n[fc]||n[rl]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(e=JD(e);e!==null;){if(n=e[rl])return n;e=JD(e)}return r}e=n,n=e.parentNode}return null}function ux(e){return e=e[rl]||e[fc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ke(33))}function v_(e){return e[Wg]||null}var t2=[],Rh=-1;function Gu(e){return{current:e}}function Hr(e){0>Rh||(e.current=t2[Rh],t2[Rh]=null,Rh--)}function Mr(e,r){Rh++,t2[Rh]=e.current,e.current=r}var Mu={},La=Gu(Mu),Ns=Gu(!1),lf=Mu;function Em(e,r){var n=e.type.contextTypes;if(!n)return Mu;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=r[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),s}function Es(e){return e=e.childContextTypes,e!=null}function t1(){Hr(Ns),Hr(La)}function QD(e,r,n){if(La.current!==Mu)throw Error(Ke(168));Mr(La,r),Mr(Ns,n)}function nB(e,r,n){var a=e.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var s in a)if(!(s in r))throw Error(Ke(108,dZ(e)||"Unknown",s));return rn({},n,a)}function r1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mu,lf=La.current,Mr(La,e),Mr(Ns,Ns.current),!0}function ZD(e,r,n){var a=e.stateNode;if(!a)throw Error(Ke(169));n?(e=nB(e,r,lf),a.__reactInternalMemoizedMergedChildContext=e,Hr(Ns),Hr(La),Mr(La,e)):Hr(Ns),Mr(Ns,n)}var Gl=null,x_=!1,Hj=!1;function aB(e){Gl===null?Gl=[e]:Gl.push(e)}function Cee(e){x_=!0,aB(e)}function Yu(){if(!Hj&&Gl!==null){Hj=!0;var e=0,r=_r;try{var n=Gl;for(_r=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Gl=null,x_=!1}catch(s){throw Gl!==null&&(Gl=Gl.slice(e+1)),T6(RT,Yu),s}finally{_r=r,Hj=!1}}return null}var Ih=[],Mh=0,n1=null,a1=0,Oi=[],Pi=0,cf=null,Ql=1,Zl="";function pd(e,r){Ih[Mh++]=a1,Ih[Mh++]=n1,n1=e,a1=r}function sB(e,r,n){Oi[Pi++]=Ql,Oi[Pi++]=Zl,Oi[Pi++]=cf,cf=e;var a=Ql;e=Zl;var s=32-So(a)-1;a&=~(1<<s),n+=1;var i=32-So(r)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,Ql=1<<32-So(r)+s|n<<s|a,Zl=i+e}else Ql=1<<i|n<<s|a,Zl=e}function zT(e){e.return!==null&&(pd(e,1),sB(e,1,0))}function WT(e){for(;e===n1;)n1=Ih[--Mh],Ih[Mh]=null,a1=Ih[--Mh],Ih[Mh]=null;for(;e===cf;)cf=Oi[--Pi],Oi[Pi]=null,Zl=Oi[--Pi],Oi[Pi]=null,Ql=Oi[--Pi],Oi[Pi]=null}var ci=null,li=null,Gr=!1,go=null;function iB(e,r){var n=Ii(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)}function eR(e,r){switch(e.tag){case 5:var n=e.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,ci=e,li=Su(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,ci=e,li=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=cf!==null?{id:Ql,overflow:Zl}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=Ii(18,null,null,0),n.stateNode=r,n.return=e,e.child=n,ci=e,li=null,!0):!1;default:return!1}}function r2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function n2(e){if(Gr){var r=li;if(r){var n=r;if(!eR(e,r)){if(r2(e))throw Error(Ke(418));r=Su(n.nextSibling);var a=ci;r&&eR(e,r)?iB(a,n):(e.flags=e.flags&-4097|2,Gr=!1,ci=e)}}else{if(r2(e))throw Error(Ke(418));e.flags=e.flags&-4097|2,Gr=!1,ci=e}}}function tR(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ci=e}function wy(e){if(e!==ci)return!1;if(!Gr)return tR(e),Gr=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!QN(e.type,e.memoizedProps)),r&&(r=li)){if(r2(e))throw oB(),Error(Ke(418));for(;r;)iB(e,r),r=Su(r.nextSibling)}if(tR(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ke(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(r===0){li=Su(e.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}e=e.nextSibling}li=null}}else li=ci?Su(e.stateNode.nextSibling):null;return!0}function oB(){for(var e=li;e;)e=Su(e.nextSibling)}function Cm(){li=ci=null,Gr=!1}function HT(e){go===null?go=[e]:go.push(e)}var Tee=Ec.ReactCurrentBatchConfig;function p0(e,r,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ke(309));var a=n.stateNode}if(!a)throw Error(Ke(147,e));var s=a,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},r._stringRef=i,r)}if(typeof e!="string")throw Error(Ke(284));if(!n._owner)throw Error(Ke(290,e))}return e}function by(e,r){throw e=Object.prototype.toString.call(r),Error(Ke(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function rR(e){var r=e._init;return r(e._payload)}function lB(e){function r(b,w){if(e){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function n(b,w){if(!e)return null;for(;w!==null;)r(b,w),w=w.sibling;return null}function a(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=Eu(b,w),b.index=0,b.sibling=null,b}function i(b,w,_){return b.index=_,e?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=2,w):_):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function c(b,w,_,S){return w===null||w.tag!==6?(w=Qj(_,b.mode,S),w.return=b,w):(w=s(w,_),w.return=b,w)}function u(b,w,_,S){var j=_.type;return j===Th?f(b,w,_.props.children,S,_.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Hc&&rR(j)===w.type)?(S=s(w,_.props),S.ref=p0(b,w,_),S.return=b,S):(S=Ow(_.type,_.key,_.props,null,b.mode,S),S.ref=p0(b,w,_),S.return=b,S)}function d(b,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Zj(_,b.mode,S),w.return=b,w):(w=s(w,_.children||[]),w.return=b,w)}function f(b,w,_,S,j){return w===null||w.tag!==7?(w=Zd(_,b.mode,S,j),w.return=b,w):(w=s(w,_),w.return=b,w)}function h(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Qj(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case uy:return _=Ow(w.type,w.key,w.props,null,b.mode,_),_.ref=p0(b,null,w),_.return=b,_;case Ch:return w=Zj(w,b.mode,_),w.return=b,w;case Hc:var S=w._init;return h(b,S(w._payload),_)}if($0(w)||u0(w))return w=Zd(w,b.mode,_,null),w.return=b,w;by(b,w)}return null}function m(b,w,_,S){var j=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return j!==null?null:c(b,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case uy:return _.key===j?u(b,w,_,S):null;case Ch:return _.key===j?d(b,w,_,S):null;case Hc:return j=_._init,m(b,w,j(_._payload),S)}if($0(_)||u0(_))return j!==null?null:f(b,w,_,S,null);by(b,_)}return null}function p(b,w,_,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(_)||null,c(w,b,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uy:return b=b.get(S.key===null?_:S.key)||null,u(w,b,S,j);case Ch:return b=b.get(S.key===null?_:S.key)||null,d(w,b,S,j);case Hc:var N=S._init;return p(b,w,_,N(S._payload),j)}if($0(S)||u0(S))return b=b.get(_)||null,f(w,b,S,j,null);by(w,S)}return null}function v(b,w,_,S){for(var j=null,N=null,k=w,E=w=0,C=null;k!==null&&E<_.length;E++){k.index>E?(C=k,k=null):C=k.sibling;var O=m(b,k,_[E],S);if(O===null){k===null&&(k=C);break}e&&k&&O.alternate===null&&r(b,k),w=i(O,w,E),N===null?j=O:N.sibling=O,N=O,k=C}if(E===_.length)return n(b,k),Gr&&pd(b,E),j;if(k===null){for(;E<_.length;E++)k=h(b,_[E],S),k!==null&&(w=i(k,w,E),N===null?j=k:N.sibling=k,N=k);return Gr&&pd(b,E),j}for(k=a(b,k);E<_.length;E++)C=p(k,b,E,_[E],S),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?E:C.key),w=i(C,w,E),N===null?j=C:N.sibling=C,N=C);return e&&k.forEach(function(D){return r(b,D)}),Gr&&pd(b,E),j}function g(b,w,_,S){var j=u0(_);if(typeof j!="function")throw Error(Ke(150));if(_=j.call(_),_==null)throw Error(Ke(151));for(var N=j=null,k=w,E=w=0,C=null,O=_.next();k!==null&&!O.done;E++,O=_.next()){k.index>E?(C=k,k=null):C=k.sibling;var D=m(b,k,O.value,S);if(D===null){k===null&&(k=C);break}e&&k&&D.alternate===null&&r(b,k),w=i(D,w,E),N===null?j=D:N.sibling=D,N=D,k=C}if(O.done)return n(b,k),Gr&&pd(b,E),j;if(k===null){for(;!O.done;E++,O=_.next())O=h(b,O.value,S),O!==null&&(w=i(O,w,E),N===null?j=O:N.sibling=O,N=O);return Gr&&pd(b,E),j}for(k=a(b,k);!O.done;E++,O=_.next())O=p(k,b,E,O.value,S),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?E:O.key),w=i(O,w,E),N===null?j=O:N.sibling=O,N=O);return e&&k.forEach(function(T){return r(b,T)}),Gr&&pd(b,E),j}function x(b,w,_,S){if(typeof _=="object"&&_!==null&&_.type===Th&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case uy:e:{for(var j=_.key,N=w;N!==null;){if(N.key===j){if(j=_.type,j===Th){if(N.tag===7){n(b,N.sibling),w=s(N,_.props.children),w.return=b,b=w;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Hc&&rR(j)===N.type){n(b,N.sibling),w=s(N,_.props),w.ref=p0(b,N,_),w.return=b,b=w;break e}n(b,N);break}else r(b,N);N=N.sibling}_.type===Th?(w=Zd(_.props.children,b.mode,S,_.key),w.return=b,b=w):(S=Ow(_.type,_.key,_.props,null,b.mode,S),S.ref=p0(b,w,_),S.return=b,b=S)}return o(b);case Ch:e:{for(N=_.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(b,w.sibling),w=s(w,_.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else r(b,w);w=w.sibling}w=Zj(_,b.mode,S),w.return=b,b=w}return o(b);case Hc:return N=_._init,x(b,w,N(_._payload),S)}if($0(_))return v(b,w,_,S);if(u0(_))return g(b,w,_,S);by(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,_),w.return=b,b=w):(n(b,w),w=Qj(_,b.mode,S),w.return=b,b=w),o(b)):n(b,w)}return x}var Tm=lB(!0),cB=lB(!1),s1=Gu(null),i1=null,Fh=null,qT=null;function KT(){qT=Fh=i1=null}function GT(e){var r=s1.current;Hr(s1),e._currentValue=r}function a2(e,r,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),e===n)break;e=e.return}}function Jh(e,r){i1=e,qT=Fh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(Ss=!0),e.firstContext=null)}function Bi(e){var r=e._currentValue;if(qT!==e)if(e={context:e,memoizedValue:r,next:null},Fh===null){if(i1===null)throw Error(Ke(308));Fh=e,i1.dependencies={lanes:0,firstContext:e}}else Fh=Fh.next=e;return r}var Od=null;function YT(e){Od===null?Od=[e]:Od.push(e)}function uB(e,r,n,a){var s=r.interleaved;return s===null?(n.next=n,YT(r)):(n.next=s.next,s.next=n),r.interleaved=n,hc(e,a)}function hc(e,r){e.lanes|=r;var n=e.alternate;for(n!==null&&(n.lanes|=r),n=e,e=e.return;e!==null;)e.childLanes|=r,n=e.alternate,n!==null&&(n.childLanes|=r),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qc=!1;function XT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dB(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sc(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function ju(e,r,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ir&2){var s=a.pending;return s===null?r.next=r:(r.next=s.next,s.next=r),a.pending=r,hc(e,n)}return s=a.interleaved,s===null?(r.next=r,YT(a)):(r.next=s.next,s.next=r),a.interleaved=r,hc(e,n)}function kw(e,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var a=r.lanes;a&=e.pendingLanes,n|=a,r.lanes=n,IT(e,n)}}function nR(e,r){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=r:i=i.next=r}else s=i=r;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function o1(e,r,n,a){var s=e.updateQueue;qc=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,f=d=u=null,c=i;do{var m=c.lane,p=c.eventTime;if((a&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var v=e,g=c;switch(m=r,p=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,m=typeof v=="function"?v.call(p,h,m):v,m==null)break e;h=rn({},h,m);break e;case 2:qc=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[c]:m.push(c))}else p={eventTime:p,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=p,u=h):f=f.next=p,o|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(u=h),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,r=s.shared.interleaved,r!==null){s=r;do o|=s.lane,s=s.next;while(s!==r)}else i===null&&(s.shared.lanes=0);df|=o,e.lanes=o,e.memoizedState=h}}function aR(e,r,n){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var a=e[r],s=a.callback;if(s!==null){if(a.callback=null,a=n,typeof s!="function")throw Error(Ke(191,s));s.call(a)}}}var dx={},hl=Gu(dx),Hg=Gu(dx),qg=Gu(dx);function Pd(e){if(e===dx)throw Error(Ke(174));return e}function JT(e,r){switch(Mr(qg,r),Mr(Hg,e),Mr(hl,dx),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:LN(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=LN(r,e)}Hr(hl),Mr(hl,r)}function Am(){Hr(hl),Hr(Hg),Hr(qg)}function fB(e){Pd(qg.current);var r=Pd(hl.current),n=LN(r,e.type);r!==n&&(Mr(Hg,e),Mr(hl,n))}function QT(e){Hg.current===e&&(Hr(hl),Hr(Hg))}var Qr=Gu(0);function l1(e){for(var r=e;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var qj=[];function ZT(){for(var e=0;e<qj.length;e++)qj[e]._workInProgressVersionPrimary=null;qj.length=0}var Nw=Ec.ReactCurrentDispatcher,Kj=Ec.ReactCurrentBatchConfig,uf=0,tn=null,Bn=null,Jn=null,c1=!1,ag=!1,Kg=0,Aee=0;function xa(){throw Error(Ke(321))}function eA(e,r){if(r===null)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!Eo(e[n],r[n]))return!1;return!0}function tA(e,r,n,a,s,i){if(uf=i,tn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Nw.current=e===null||e.memoizedState===null?Ree:Iee,e=n(a,s),ag){i=0;do{if(ag=!1,Kg=0,25<=i)throw Error(Ke(301));i+=1,Jn=Bn=null,r.updateQueue=null,Nw.current=Mee,e=n(a,s)}while(ag)}if(Nw.current=u1,r=Bn!==null&&Bn.next!==null,uf=0,Jn=Bn=tn=null,c1=!1,r)throw Error(Ke(300));return e}function rA(){var e=Kg!==0;return Kg=0,e}function Yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?tn.memoizedState=Jn=e:Jn=Jn.next=e,Jn}function Ui(){if(Bn===null){var e=tn.alternate;e=e!==null?e.memoizedState:null}else e=Bn.next;var r=Jn===null?tn.memoizedState:Jn.next;if(r!==null)Jn=r,Bn=e;else{if(e===null)throw Error(Ke(310));Bn=e,e={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Jn===null?tn.memoizedState=Jn=e:Jn=Jn.next=e}return Jn}function Gg(e,r){return typeof r=="function"?r(e):r}function Gj(e){var r=Ui(),n=r.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=e;var a=Bn,s=a.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}a.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,a=a.baseState;var c=o=null,u=null,d=i;do{var f=d.lane;if((uf&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=h,o=a):u=u.next=h,tn.lanes|=f,df|=f}d=d.next}while(d!==null&&d!==i);u===null?o=a:u.next=c,Eo(a,r.memoizedState)||(Ss=!0),r.memoizedState=a,r.baseState=o,r.baseQueue=u,n.lastRenderedState=a}if(e=n.interleaved,e!==null){s=e;do i=s.lane,tn.lanes|=i,df|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Yj(e){var r=Ui(),n=r.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=r.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Eo(i,r.memoizedState)||(Ss=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),n.lastRenderedState=i}return[i,a]}function hB(){}function mB(e,r){var n=tn,a=Ui(),s=r(),i=!Eo(a.memoizedState,s);if(i&&(a.memoizedState=s,Ss=!0),a=a.queue,nA(vB.bind(null,n,a,e),[e]),a.getSnapshot!==r||i||Jn!==null&&Jn.memoizedState.tag&1){if(n.flags|=2048,Yg(9,gB.bind(null,n,a,s,r),void 0,null),ea===null)throw Error(Ke(349));uf&30||pB(n,r,s)}return s}function pB(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},r=tn.updateQueue,r===null?(r={lastEffect:null,stores:null},tn.updateQueue=r,r.stores=[e]):(n=r.stores,n===null?r.stores=[e]:n.push(e))}function gB(e,r,n,a){r.value=n,r.getSnapshot=a,xB(r)&&yB(e)}function vB(e,r,n){return n(function(){xB(r)&&yB(e)})}function xB(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!Eo(e,n)}catch{return!0}}function yB(e){var r=hc(e,1);r!==null&&jo(r,e,1,-1)}function sR(e){var r=Yo();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:e},r.queue=e,e=e.dispatch=Dee.bind(null,tn,e),[r.memoizedState,e]}function Yg(e,r,n,a){return e={tag:e,create:r,destroy:n,deps:a,next:null},r=tn.updateQueue,r===null?(r={lastEffect:null,stores:null},tn.updateQueue=r,r.lastEffect=e.next=e):(n=r.lastEffect,n===null?r.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,r.lastEffect=e)),e}function wB(){return Ui().memoizedState}function Ew(e,r,n,a){var s=Yo();tn.flags|=e,s.memoizedState=Yg(1|r,n,void 0,a===void 0?null:a)}function y_(e,r,n,a){var s=Ui();a=a===void 0?null:a;var i=void 0;if(Bn!==null){var o=Bn.memoizedState;if(i=o.destroy,a!==null&&eA(a,o.deps)){s.memoizedState=Yg(r,n,i,a);return}}tn.flags|=e,s.memoizedState=Yg(1|r,n,i,a)}function iR(e,r){return Ew(8390656,8,e,r)}function nA(e,r){return y_(2048,8,e,r)}function bB(e,r){return y_(4,2,e,r)}function _B(e,r){return y_(4,4,e,r)}function SB(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function jB(e,r,n){return n=n!=null?n.concat([e]):null,y_(4,4,SB.bind(null,r,e),n)}function aA(){}function kB(e,r){var n=Ui();r=r===void 0?null:r;var a=n.memoizedState;return a!==null&&r!==null&&eA(r,a[1])?a[0]:(n.memoizedState=[e,r],e)}function NB(e,r){var n=Ui();r=r===void 0?null:r;var a=n.memoizedState;return a!==null&&r!==null&&eA(r,a[1])?a[0]:(e=e(),n.memoizedState=[e,r],e)}function EB(e,r,n){return uf&21?(Eo(n,r)||(n=P6(),tn.lanes|=n,df|=n,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=n)}function Oee(e,r){var n=_r;_r=n!==0&&4>n?n:4,e(!0);var a=Kj.transition;Kj.transition={};try{e(!1),r()}finally{_r=n,Kj.transition=a}}function CB(){return Ui().memoizedState}function Pee(e,r,n){var a=Nu(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},TB(e))AB(r,n);else if(n=uB(e,r,n,a),n!==null){var s=cs();jo(n,e,a,s),OB(n,r,a)}}function Dee(e,r,n){var a=Nu(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(TB(e))AB(r,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var o=r.lastRenderedState,c=i(o,n);if(s.hasEagerState=!0,s.eagerState=c,Eo(c,o)){var u=r.interleaved;u===null?(s.next=s,YT(r)):(s.next=u.next,u.next=s),r.interleaved=s;return}}catch{}finally{}n=uB(e,r,s,a),n!==null&&(s=cs(),jo(n,e,a,s),OB(n,r,a))}}function TB(e){var r=e.alternate;return e===tn||r!==null&&r===tn}function AB(e,r){ag=c1=!0;var n=e.pending;n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function OB(e,r,n){if(n&4194240){var a=r.lanes;a&=e.pendingLanes,n|=a,r.lanes=n,IT(e,n)}}var u1={readContext:Bi,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},Ree={readContext:Bi,useCallback:function(e,r){return Yo().memoizedState=[e,r===void 0?null:r],e},useContext:Bi,useEffect:iR,useImperativeHandle:function(e,r,n){return n=n!=null?n.concat([e]):null,Ew(4194308,4,SB.bind(null,r,e),n)},useLayoutEffect:function(e,r){return Ew(4194308,4,e,r)},useInsertionEffect:function(e,r){return Ew(4,2,e,r)},useMemo:function(e,r){var n=Yo();return r=r===void 0?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var a=Yo();return r=n!==void 0?n(r):r,a.memoizedState=a.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Pee.bind(null,tn,e),[a.memoizedState,e]},useRef:function(e){var r=Yo();return e={current:e},r.memoizedState=e},useState:sR,useDebugValue:aA,useDeferredValue:function(e){return Yo().memoizedState=e},useTransition:function(){var e=sR(!1),r=e[0];return e=Oee.bind(null,e[1]),Yo().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var a=tn,s=Yo();if(Gr){if(n===void 0)throw Error(Ke(407));n=n()}else{if(n=r(),ea===null)throw Error(Ke(349));uf&30||pB(a,r,n)}s.memoizedState=n;var i={value:n,getSnapshot:r};return s.queue=i,iR(vB.bind(null,a,i,e),[e]),a.flags|=2048,Yg(9,gB.bind(null,a,i,n,r),void 0,null),n},useId:function(){var e=Yo(),r=ea.identifierPrefix;if(Gr){var n=Zl,a=Ql;n=(a&~(1<<32-So(a)-1)).toString(32)+n,r=":"+r+"R"+n,n=Kg++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=Aee++,r=":"+r+"r"+n.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Iee={readContext:Bi,useCallback:kB,useContext:Bi,useEffect:nA,useImperativeHandle:jB,useInsertionEffect:bB,useLayoutEffect:_B,useMemo:NB,useReducer:Gj,useRef:wB,useState:function(){return Gj(Gg)},useDebugValue:aA,useDeferredValue:function(e){var r=Ui();return EB(r,Bn.memoizedState,e)},useTransition:function(){var e=Gj(Gg)[0],r=Ui().memoizedState;return[e,r]},useMutableSource:hB,useSyncExternalStore:mB,useId:CB,unstable_isNewReconciler:!1},Mee={readContext:Bi,useCallback:kB,useContext:Bi,useEffect:nA,useImperativeHandle:jB,useInsertionEffect:bB,useLayoutEffect:_B,useMemo:NB,useReducer:Yj,useRef:wB,useState:function(){return Yj(Gg)},useDebugValue:aA,useDeferredValue:function(e){var r=Ui();return Bn===null?r.memoizedState=e:EB(r,Bn.memoizedState,e)},useTransition:function(){var e=Yj(Gg)[0],r=Ui().memoizedState;return[e,r]},useMutableSource:hB,useSyncExternalStore:mB,useId:CB,unstable_isNewReconciler:!1};function so(e,r){if(e&&e.defaultProps){r=rn({},r),e=e.defaultProps;for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r}return r}function s2(e,r,n,a){r=e.memoizedState,n=n(a,r),n=n==null?r:rn({},r,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var w_={isMounted:function(e){return(e=e._reactInternals)?If(e)===e:!1},enqueueSetState:function(e,r,n){e=e._reactInternals;var a=cs(),s=Nu(e),i=sc(a,s);i.payload=r,n!=null&&(i.callback=n),r=ju(e,i,s),r!==null&&(jo(r,e,s,a),kw(r,e,s))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var a=cs(),s=Nu(e),i=sc(a,s);i.tag=1,i.payload=r,n!=null&&(i.callback=n),r=ju(e,i,s),r!==null&&(jo(r,e,s,a),kw(r,e,s))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=cs(),a=Nu(e),s=sc(n,a);s.tag=2,r!=null&&(s.callback=r),r=ju(e,s,a),r!==null&&(jo(r,e,a,n),kw(r,e,a))}};function oR(e,r,n,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):r.prototype&&r.prototype.isPureReactComponent?!Ug(n,a)||!Ug(s,i):!0}function PB(e,r,n){var a=!1,s=Mu,i=r.contextType;return typeof i=="object"&&i!==null?i=Bi(i):(s=Es(r)?lf:La.current,a=r.contextTypes,i=(a=a!=null)?Em(e,s):Mu),r=new r(n,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=w_,e.stateNode=r,r._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),r}function lR(e,r,n,a){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,a),r.state!==e&&w_.enqueueReplaceState(r,r.state,null)}function i2(e,r,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},XT(e);var i=r.contextType;typeof i=="object"&&i!==null?s.context=Bi(i):(i=Es(r)?lf:La.current,s.context=Em(e,i)),s.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(s2(e,r,i,n),s.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&w_.enqueueReplaceState(s,s.state,null),o1(e,n,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Om(e,r){try{var n="",a=r;do n+=uZ(a),a=a.return;while(a);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:s,digest:null}}function Xj(e,r,n){return{value:e,source:null,stack:n??null,digest:r??null}}function o2(e,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var Fee=typeof WeakMap=="function"?WeakMap:Map;function DB(e,r,n){n=sc(-1,n),n.tag=3,n.payload={element:null};var a=r.value;return n.callback=function(){f1||(f1=!0,v2=a),o2(e,r)},n}function RB(e,r,n){n=sc(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=r.value;n.payload=function(){return a(s)},n.callback=function(){o2(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){o2(e,r),typeof a!="function"&&(ku===null?ku=new Set([this]):ku.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),n}function cR(e,r,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Fee;var s=new Set;a.set(r,s)}else s=a.get(r),s===void 0&&(s=new Set,a.set(r,s));s.has(n)||(s.add(n),e=Jee.bind(null,e,r,n),r.then(e,e))}function uR(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function dR(e,r,n,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=sc(-1,1),r.tag=2,ju(n,r,1))),n.lanes|=1),e)}var Lee=Ec.ReactCurrentOwner,Ss=!1;function Ja(e,r,n,a){r.child=e===null?cB(r,null,n,a):Tm(r,e.child,n,a)}function fR(e,r,n,a,s){n=n.render;var i=r.ref;return Jh(r,s),a=tA(e,r,n,a,i,s),n=rA(),e!==null&&!Ss?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,mc(e,r,s)):(Gr&&n&&zT(r),r.flags|=1,Ja(e,r,a,s),r.child)}function hR(e,r,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!fA(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=i,IB(e,r,i,a,s)):(e=Ow(n.type,null,a,r,r.mode,s),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ug,n(o,a)&&e.ref===r.ref)return mc(e,r,s)}return r.flags|=1,e=Eu(i,a),e.ref=r.ref,e.return=r,r.child=e}function IB(e,r,n,a,s){if(e!==null){var i=e.memoizedProps;if(Ug(i,a)&&e.ref===r.ref)if(Ss=!1,r.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(Ss=!0);else return r.lanes=e.lanes,mc(e,r,s)}return l2(e,r,n,a,s)}function MB(e,r,n){var a=r.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mr($h,Xs),Xs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Mr($h,Xs),Xs|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,Mr($h,Xs),Xs|=a}else i!==null?(a=i.baseLanes|n,r.memoizedState=null):a=n,Mr($h,Xs),Xs|=a;return Ja(e,r,s,n),r.child}function FB(e,r){var n=r.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function l2(e,r,n,a,s){var i=Es(n)?lf:La.current;return i=Em(r,i),Jh(r,s),n=tA(e,r,n,a,i,s),a=rA(),e!==null&&!Ss?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,mc(e,r,s)):(Gr&&a&&zT(r),r.flags|=1,Ja(e,r,n,s),r.child)}function mR(e,r,n,a,s){if(Es(n)){var i=!0;r1(r)}else i=!1;if(Jh(r,s),r.stateNode===null)Cw(e,r),PB(r,n,a),i2(r,n,a,s),a=!0;else if(e===null){var o=r.stateNode,c=r.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Bi(d):(d=Es(n)?lf:La.current,d=Em(r,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==a||u!==d)&&lR(r,o,a,d),qc=!1;var m=r.memoizedState;o.state=m,o1(r,a,o,s),u=r.memoizedState,c!==a||m!==u||Ns.current||qc?(typeof f=="function"&&(s2(r,n,f,a),u=r.memoizedState),(c=qc||oR(r,n,c,a,m,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=u),o.props=a,o.state=u,o.context=d,a=c):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{o=r.stateNode,dB(e,r),c=r.memoizedProps,d=r.type===r.elementType?c:so(r.type,c),o.props=d,h=r.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Bi(u):(u=Es(n)?lf:La.current,u=Em(r,u));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||m!==u)&&lR(r,o,a,u),qc=!1,m=r.memoizedState,o.state=m,o1(r,a,o,s);var v=r.memoizedState;c!==h||m!==v||Ns.current||qc?(typeof p=="function"&&(s2(r,n,p,a),v=r.memoizedState),(d=qc||oR(r,n,d,a,m,v,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,v,u)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=v),o.props=a,o.state=v,o.context=u,a=d):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=1024),a=!1)}return c2(e,r,n,a,i,s)}function c2(e,r,n,a,s,i){FB(e,r);var o=(r.flags&128)!==0;if(!a&&!o)return s&&ZD(r,n,!1),mc(e,r,i);a=r.stateNode,Lee.current=r;var c=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,e!==null&&o?(r.child=Tm(r,e.child,null,i),r.child=Tm(r,null,c,i)):Ja(e,r,c,i),r.memoizedState=a.state,s&&ZD(r,n,!0),r.child}function LB(e){var r=e.stateNode;r.pendingContext?QD(e,r.pendingContext,r.pendingContext!==r.context):r.context&&QD(e,r.context,!1),JT(e,r.containerInfo)}function pR(e,r,n,a,s){return Cm(),HT(s),r.flags|=256,Ja(e,r,n,a),r.child}var u2={dehydrated:null,treeContext:null,retryLane:0};function d2(e){return{baseLanes:e,cachePool:null,transitions:null}}function $B(e,r,n){var a=r.pendingProps,s=Qr.current,i=!1,o=(r.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Mr(Qr,s&1),e===null)return n2(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(o=a.children,e=a.fallback,i?(a=r.mode,i=r.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=S_(o,a,0,null),e=Zd(e,a,n,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=d2(n),r.memoizedState=u2,e):sA(r,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return $ee(e,r,o,a,c,s,n);if(i){i=a.fallback,o=r.mode,s=e.child,c=s.sibling;var u={mode:"hidden",children:a.children};return!(o&1)&&r.child!==s?(a=r.child,a.childLanes=0,a.pendingProps=u,r.deletions=null):(a=Eu(s,u),a.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Eu(c,i):(i=Zd(i,o,n,null),i.flags|=2),i.return=r,a.return=r,a.sibling=i,r.child=a,a=i,i=r.child,o=e.child.memoizedState,o=o===null?d2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,r.memoizedState=u2,a}return i=e.child,e=i.sibling,a=Eu(i,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=n),a.return=r,a.sibling=null,e!==null&&(n=r.deletions,n===null?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=a,r.memoizedState=null,a}function sA(e,r){return r=S_({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function _y(e,r,n,a){return a!==null&&HT(a),Tm(r,e.child,null,n),e=sA(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function $ee(e,r,n,a,s,i,o){if(n)return r.flags&256?(r.flags&=-257,a=Xj(Error(Ke(422))),_y(e,r,o,a)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=a.fallback,s=r.mode,a=S_({mode:"visible",children:a.children},s,0,null),i=Zd(i,s,o,null),i.flags|=2,a.return=r,i.return=r,a.sibling=i,r.child=a,r.mode&1&&Tm(r,e.child,null,o),r.child.memoizedState=d2(o),r.memoizedState=u2,i);if(!(r.mode&1))return _y(e,r,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var c=a.dgst;return a=c,i=Error(Ke(419)),a=Xj(i,a,void 0),_y(e,r,o,a)}if(c=(o&e.childLanes)!==0,Ss||c){if(a=ea,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hc(e,s),jo(a,e,s,-1))}return dA(),a=Xj(Error(Ke(421))),_y(e,r,o,a)}return s.data==="$?"?(r.flags|=128,r.child=e.child,r=Qee.bind(null,e),s._reactRetry=r,null):(e=i.treeContext,li=Su(s.nextSibling),ci=r,Gr=!0,go=null,e!==null&&(Oi[Pi++]=Ql,Oi[Pi++]=Zl,Oi[Pi++]=cf,Ql=e.id,Zl=e.overflow,cf=r),r=sA(r,a.children),r.flags|=4096,r)}function gR(e,r,n){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r),a2(e.return,r,n)}function Jj(e,r,n,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=s)}function BB(e,r,n){var a=r.pendingProps,s=a.revealOrder,i=a.tail;if(Ja(e,r,a.children,n),a=Qr.current,a&2)a=a&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gR(e,n,r);else if(e.tag===19)gR(e,n,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Mr(Qr,a),!(r.mode&1))r.memoizedState=null;else switch(s){case"forwards":for(n=r.child,s=null;n!==null;)e=n.alternate,e!==null&&l1(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=r.child,r.child=null):(s=n.sibling,n.sibling=null),Jj(r,!1,s,n,i);break;case"backwards":for(n=null,s=r.child,r.child=null;s!==null;){if(e=s.alternate,e!==null&&l1(e)===null){r.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Jj(r,!0,n,null,i);break;case"together":Jj(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Cw(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function mc(e,r,n){if(e!==null&&(r.dependencies=e.dependencies),df|=r.lanes,!(n&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(Ke(153));if(r.child!==null){for(e=r.child,n=Eu(e,e.pendingProps),r.child=n,n.return=r;e.sibling!==null;)e=e.sibling,n=n.sibling=Eu(e,e.pendingProps),n.return=r;n.sibling=null}return r.child}function Bee(e,r,n){switch(r.tag){case 3:LB(r),Cm();break;case 5:fB(r);break;case 1:Es(r.type)&&r1(r);break;case 4:JT(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,s=r.memoizedProps.value;Mr(s1,a._currentValue),a._currentValue=s;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(Mr(Qr,Qr.current&1),r.flags|=128,null):n&r.child.childLanes?$B(e,r,n):(Mr(Qr,Qr.current&1),e=mc(e,r,n),e!==null?e.sibling:null);Mr(Qr,Qr.current&1);break;case 19:if(a=(n&r.childLanes)!==0,e.flags&128){if(a)return BB(e,r,n);r.flags|=128}if(s=r.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Mr(Qr,Qr.current),a)break;return null;case 22:case 23:return r.lanes=0,MB(e,r,n)}return mc(e,r,n)}var UB,f2,VB,zB;UB=function(e,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};f2=function(){};VB=function(e,r,n,a){var s=e.memoizedProps;if(s!==a){e=r.stateNode,Pd(hl.current);var i=null;switch(n){case"input":s=RN(e,s),a=RN(e,a),i=[];break;case"select":s=rn({},s,{value:void 0}),a=rn({},a,{value:void 0}),i=[];break;case"textarea":s=FN(e,s),a=FN(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=e1)}$N(n,a);var o;n=null;for(d in s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var u=a[d];if(c=s!=null?s[d]:void 0,a.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rg.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Vr("scroll",e),i||c===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(r.updateQueue=d)&&(r.flags|=4)}};zB=function(e,r,n,a){n!==a&&(r.flags|=4)};function g0(e,r){if(!Gr)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ya(e){var r=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(r)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,r}function Uee(e,r,n){var a=r.pendingProps;switch(WT(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ya(r),null;case 1:return Es(r.type)&&t1(),ya(r),null;case 3:return a=r.stateNode,Am(),Hr(Ns),Hr(La),ZT(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wy(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,go!==null&&(w2(go),go=null))),f2(e,r),ya(r),null;case 5:QT(r);var s=Pd(qg.current);if(n=r.type,e!==null&&r.stateNode!=null)VB(e,r,n,a,s),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(Ke(166));return ya(r),null}if(e=Pd(hl.current),wy(r)){a=r.stateNode,n=r.type;var i=r.memoizedProps;switch(a[rl]=r,a[Wg]=i,e=(r.mode&1)!==0,n){case"dialog":Vr("cancel",a),Vr("close",a);break;case"iframe":case"object":case"embed":Vr("load",a);break;case"video":case"audio":for(s=0;s<U0.length;s++)Vr(U0[s],a);break;case"source":Vr("error",a);break;case"img":case"image":case"link":Vr("error",a),Vr("load",a);break;case"details":Vr("toggle",a);break;case"input":kD(a,i),Vr("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Vr("invalid",a);break;case"textarea":ED(a,i),Vr("invalid",a)}$N(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?a.textContent!==c&&(i.suppressHydrationWarning!==!0&&yy(a.textContent,c,e),s=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&yy(a.textContent,c,e),s=["children",""+c]):Rg.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Vr("scroll",a)}switch(n){case"input":dy(a),ND(a,i,!0);break;case"textarea":dy(a),CD(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=e1)}a=s,r.updateQueue=a,a!==null&&(r.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=v6(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),n==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[rl]=r,e[Wg]=a,UB(e,r,!1,!1),r.stateNode=e;e:{switch(o=BN(n,a),n){case"dialog":Vr("cancel",e),Vr("close",e),s=a;break;case"iframe":case"object":case"embed":Vr("load",e),s=a;break;case"video":case"audio":for(s=0;s<U0.length;s++)Vr(U0[s],e);s=a;break;case"source":Vr("error",e),s=a;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),s=a;break;case"details":Vr("toggle",e),s=a;break;case"input":kD(e,a),s=RN(e,a),Vr("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=rn({},a,{value:void 0}),Vr("invalid",e);break;case"textarea":ED(e,a),s=FN(e,a),Vr("invalid",e);break;default:s=a}$N(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?w6(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&x6(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ig(e,u):typeof u=="number"&&Ig(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rg.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Vr("scroll",e):u!=null&&TT(e,i,u,o))}switch(n){case"input":dy(e),ND(e,a,!1);break;case"textarea":dy(e),CD(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Iu(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Kh(e,!!a.multiple,i,!1):a.defaultValue!=null&&Kh(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=e1)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ya(r),null;case 6:if(e&&r.stateNode!=null)zB(e,r,e.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(Ke(166));if(n=Pd(qg.current),Pd(hl.current),wy(r)){if(a=r.stateNode,n=r.memoizedProps,a[rl]=r,(i=a.nodeValue!==n)&&(e=ci,e!==null))switch(e.tag){case 3:yy(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yy(a.nodeValue,n,(e.mode&1)!==0)}i&&(r.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[rl]=r,r.stateNode=a}return ya(r),null;case 13:if(Hr(Qr),a=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gr&&li!==null&&r.mode&1&&!(r.flags&128))oB(),Cm(),r.flags|=98560,i=!1;else if(i=wy(r),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(Ke(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ke(317));i[rl]=r}else Cm(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;ya(r),i=!1}else go!==null&&(w2(go),go=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(e===null||Qr.current&1?zn===0&&(zn=3):dA())),r.updateQueue!==null&&(r.flags|=4),ya(r),null);case 4:return Am(),f2(e,r),e===null&&Vg(r.stateNode.containerInfo),ya(r),null;case 10:return GT(r.type._context),ya(r),null;case 17:return Es(r.type)&&t1(),ya(r),null;case 19:if(Hr(Qr),i=r.memoizedState,i===null)return ya(r),null;if(a=(r.flags&128)!==0,o=i.rendering,o===null)if(a)g0(i,!1);else{if(zn!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(o=l1(e),o!==null){for(r.flags|=128,g0(i,!1),a=o.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=n,n=r.child;n!==null;)i=n,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mr(Qr,Qr.current&1|2),r.child}e=e.sibling}i.tail!==null&&hn()>Pm&&(r.flags|=128,a=!0,g0(i,!1),r.lanes=4194304)}else{if(!a)if(e=l1(o),e!==null){if(r.flags|=128,a=!0,n=e.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),g0(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Gr)return ya(r),null}else 2*hn()-i.renderingStartTime>Pm&&n!==1073741824&&(r.flags|=128,a=!0,g0(i,!1),r.lanes=4194304);i.isBackwards?(o.sibling=r.child,r.child=o):(n=i.last,n!==null?n.sibling=o:r.child=o,i.last=o)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=hn(),r.sibling=null,n=Qr.current,Mr(Qr,a?n&1|2:n&1),r):(ya(r),null);case 22:case 23:return uA(),a=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?Xs&1073741824&&(ya(r),r.subtreeFlags&6&&(r.flags|=8192)):ya(r),null;case 24:return null;case 25:return null}throw Error(Ke(156,r.tag))}function Vee(e,r){switch(WT(r),r.tag){case 1:return Es(r.type)&&t1(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Am(),Hr(Ns),Hr(La),ZT(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return QT(r),null;case 13:if(Hr(Qr),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(Ke(340));Cm()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Hr(Qr),null;case 4:return Am(),null;case 10:return GT(r.type._context),null;case 22:case 23:return uA(),null;case 24:return null;default:return null}}var Sy=!1,Oa=!1,zee=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Lh(e,r){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){sn(e,r,a)}else n.current=null}function h2(e,r,n){try{n()}catch(a){sn(e,r,a)}}var vR=!1;function Wee(e,r){if(XN=Jw,e=G6(),VT(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,f=0,h=e,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(c=o+s),h!==i||a!==0&&h.nodeType!==3||(u=o+a),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===s&&(c=o),m===i&&++f===a&&(u=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(JN={focusedElem:e,selectionRange:n},Jw=!1,lt=r;lt!==null;)if(r=lt,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,lt=e;else for(;lt!==null;){r=lt;try{var v=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,b=r.stateNode,w=b.getSnapshotBeforeUpdate(r.elementType===r.type?g:so(r.type,g),x);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=r.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(S){sn(r,r.return,S)}if(e=r.sibling,e!==null){e.return=r.return,lt=e;break}lt=r.return}return v=vR,vR=!1,v}function sg(e,r,n){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&h2(r,n,i)}s=s.next}while(s!==a)}}function b_(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==r)}}function m2(e){var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof r=="function"?r(e):r.current=e}}function WB(e){var r=e.alternate;r!==null&&(e.alternate=null,WB(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[rl],delete r[Wg],delete r[e2],delete r[Nee],delete r[Eee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function HB(e){return e.tag===5||e.tag===3||e.tag===4}function xR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||HB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function p2(e,r,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=e1));else if(a!==4&&(e=e.child,e!==null))for(p2(e,r,n),e=e.sibling;e!==null;)p2(e,r,n),e=e.sibling}function g2(e,r,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(g2(e,r,n),e=e.sibling;e!==null;)g2(e,r,n),e=e.sibling}var sa=null,co=!1;function Fc(e,r,n){for(n=n.child;n!==null;)qB(e,r,n),n=n.sibling}function qB(e,r,n){if(fl&&typeof fl.onCommitFiberUnmount=="function")try{fl.onCommitFiberUnmount(h_,n)}catch{}switch(n.tag){case 5:Oa||Lh(n,r);case 6:var a=sa,s=co;sa=null,Fc(e,r,n),sa=a,co=s,sa!==null&&(co?(e=sa,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):sa.removeChild(n.stateNode));break;case 18:sa!==null&&(co?(e=sa,n=n.stateNode,e.nodeType===8?Wj(e.parentNode,n):e.nodeType===1&&Wj(e,n),$g(e)):Wj(sa,n.stateNode));break;case 4:a=sa,s=co,sa=n.stateNode.containerInfo,co=!0,Fc(e,r,n),sa=a,co=s;break;case 0:case 11:case 14:case 15:if(!Oa&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&h2(n,r,o),s=s.next}while(s!==a)}Fc(e,r,n);break;case 1:if(!Oa&&(Lh(n,r),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(c){sn(n,r,c)}Fc(e,r,n);break;case 21:Fc(e,r,n);break;case 22:n.mode&1?(Oa=(a=Oa)||n.memoizedState!==null,Fc(e,r,n),Oa=a):Fc(e,r,n);break;default:Fc(e,r,n)}}function yR(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zee),r.forEach(function(a){var s=Zee.bind(null,e,a);n.has(a)||(n.add(a),a.then(s,s))})}}function Qi(e,r){var n=r.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];try{var i=e,o=r,c=o;e:for(;c!==null;){switch(c.tag){case 5:sa=c.stateNode,co=!1;break e;case 3:sa=c.stateNode.containerInfo,co=!0;break e;case 4:sa=c.stateNode.containerInfo,co=!0;break e}c=c.return}if(sa===null)throw Error(Ke(160));qB(i,o,s),sa=null,co=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){sn(s,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)KB(r,e),r=r.sibling}function KB(e,r){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qi(r,e),Vo(e),a&4){try{sg(3,e,e.return),b_(3,e)}catch(g){sn(e,e.return,g)}try{sg(5,e,e.return)}catch(g){sn(e,e.return,g)}}break;case 1:Qi(r,e),Vo(e),a&512&&n!==null&&Lh(n,n.return);break;case 5:if(Qi(r,e),Vo(e),a&512&&n!==null&&Lh(n,n.return),e.flags&32){var s=e.stateNode;try{Ig(s,"")}catch(g){sn(e,e.return,g)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&p6(s,i),BN(c,o);var d=BN(c,i);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?w6(s,h):f==="dangerouslySetInnerHTML"?x6(s,h):f==="children"?Ig(s,h):TT(s,f,h,d)}switch(c){case"input":IN(s,i);break;case"textarea":g6(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Kh(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Kh(s,!!i.multiple,i.defaultValue,!0):Kh(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wg]=i}catch(g){sn(e,e.return,g)}}break;case 6:if(Qi(r,e),Vo(e),a&4){if(e.stateNode===null)throw Error(Ke(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){sn(e,e.return,g)}}break;case 3:if(Qi(r,e),Vo(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{$g(r.containerInfo)}catch(g){sn(e,e.return,g)}break;case 4:Qi(r,e),Vo(e);break;case 13:Qi(r,e),Vo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lA=hn())),a&4&&yR(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Oa=(d=Oa)||f,Qi(r,e),Oa=d):Qi(r,e),Vo(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(lt=e,f=e.child;f!==null;){for(h=lt=f;lt!==null;){switch(m=lt,p=m.child,m.tag){case 0:case 11:case 14:case 15:sg(4,m,m.return);break;case 1:Lh(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){a=m,n=m.return;try{r=a,v.props=r.memoizedProps,v.state=r.memoizedState,v.componentWillUnmount()}catch(g){sn(a,n,g)}}break;case 5:Lh(m,m.return);break;case 22:if(m.memoizedState!==null){bR(h);continue}}p!==null?(p.return=m,lt=p):bR(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=y6("display",o))}catch(g){sn(e,e.return,g)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){sn(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qi(r,e),Vo(e),a&4&&yR(e);break;case 21:break;default:Qi(r,e),Vo(e)}}function Vo(e){var r=e.flags;if(r&2){try{e:{for(var n=e.return;n!==null;){if(HB(n)){var a=n;break e}n=n.return}throw Error(Ke(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(Ig(s,""),a.flags&=-33);var i=xR(e);g2(e,i,s);break;case 3:case 4:var o=a.stateNode.containerInfo,c=xR(e);p2(e,c,o);break;default:throw Error(Ke(161))}}catch(u){sn(e,e.return,u)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Hee(e,r,n){lt=e,GB(e)}function GB(e,r,n){for(var a=(e.mode&1)!==0;lt!==null;){var s=lt,i=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||Sy;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||Oa;c=Sy;var d=Oa;if(Sy=o,(Oa=u)&&!d)for(lt=s;lt!==null;)o=lt,u=o.child,o.tag===22&&o.memoizedState!==null?_R(s):u!==null?(u.return=o,lt=u):_R(s);for(;i!==null;)lt=i,GB(i),i=i.sibling;lt=s,Sy=c,Oa=d}wR(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,lt=i):wR(e)}}function wR(e){for(;lt!==null;){var r=lt;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Oa||b_(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!Oa)if(n===null)a.componentDidMount();else{var s=r.elementType===r.type?n.memoizedProps:so(r.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&aR(r,i,a);break;case 3:var o=r.updateQueue;if(o!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}aR(r,o,n)}break;case 5:var c=r.stateNode;if(n===null&&r.flags&4){n=c;var u=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&$g(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}Oa||r.flags&512&&m2(r)}catch(m){sn(r,r.return,m)}}if(r===e){lt=null;break}if(n=r.sibling,n!==null){n.return=r.return,lt=n;break}lt=r.return}}function bR(e){for(;lt!==null;){var r=lt;if(r===e){lt=null;break}var n=r.sibling;if(n!==null){n.return=r.return,lt=n;break}lt=r.return}}function _R(e){for(;lt!==null;){var r=lt;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{b_(4,r)}catch(u){sn(r,n,u)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var s=r.return;try{a.componentDidMount()}catch(u){sn(r,s,u)}}var i=r.return;try{m2(r)}catch(u){sn(r,i,u)}break;case 5:var o=r.return;try{m2(r)}catch(u){sn(r,o,u)}}}catch(u){sn(r,r.return,u)}if(r===e){lt=null;break}var c=r.sibling;if(c!==null){c.return=r.return,lt=c;break}lt=r.return}}var qee=Math.ceil,d1=Ec.ReactCurrentDispatcher,iA=Ec.ReactCurrentOwner,Li=Ec.ReactCurrentBatchConfig,ir=0,ea=null,Tn=null,ca=0,Xs=0,$h=Gu(0),zn=0,Xg=null,df=0,__=0,oA=0,ig=null,_s=null,lA=0,Pm=1/0,Hl=null,f1=!1,v2=null,ku=null,jy=!1,mu=null,h1=0,og=0,x2=null,Tw=-1,Aw=0;function cs(){return ir&6?hn():Tw!==-1?Tw:Tw=hn()}function Nu(e){return e.mode&1?ir&2&&ca!==0?ca&-ca:Tee.transition!==null?(Aw===0&&(Aw=P6()),Aw):(e=_r,e!==0||(e=window.event,e=e===void 0?16:$6(e.type)),e):1}function jo(e,r,n,a){if(50<og)throw og=0,x2=null,Error(Ke(185));lx(e,n,a),(!(ir&2)||e!==ea)&&(e===ea&&(!(ir&2)&&(__|=n),zn===4&&Qc(e,ca)),Cs(e,a),n===1&&ir===0&&!(r.mode&1)&&(Pm=hn()+500,x_&&Yu()))}function Cs(e,r){var n=e.callbackNode;TZ(e,r);var a=Xw(e,e===ea?ca:0);if(a===0)n!==null&&OD(n),e.callbackNode=null,e.callbackPriority=0;else if(r=a&-a,e.callbackPriority!==r){if(n!=null&&OD(n),r===1)e.tag===0?Cee(SR.bind(null,e)):aB(SR.bind(null,e)),jee(function(){!(ir&6)&&Yu()}),n=null;else{switch(D6(a)){case 1:n=RT;break;case 4:n=A6;break;case 16:n=Yw;break;case 536870912:n=O6;break;default:n=Yw}n=rU(n,YB.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function YB(e,r){if(Tw=-1,Aw=0,ir&6)throw Error(Ke(327));var n=e.callbackNode;if(Qh()&&e.callbackNode!==n)return null;var a=Xw(e,e===ea?ca:0);if(a===0)return null;if(a&30||a&e.expiredLanes||r)r=m1(e,a);else{r=a;var s=ir;ir|=2;var i=JB();(ea!==e||ca!==r)&&(Hl=null,Pm=hn()+500,Qd(e,r));do try{Yee();break}catch(c){XB(e,c)}while(!0);KT(),d1.current=i,ir=s,Tn!==null?r=0:(ea=null,ca=0,r=zn)}if(r!==0){if(r===2&&(s=HN(e),s!==0&&(a=s,r=y2(e,s))),r===1)throw n=Xg,Qd(e,0),Qc(e,a),Cs(e,hn()),n;if(r===6)Qc(e,a);else{if(s=e.current.alternate,!(a&30)&&!Kee(s)&&(r=m1(e,a),r===2&&(i=HN(e),i!==0&&(a=i,r=y2(e,i))),r===1))throw n=Xg,Qd(e,0),Qc(e,a),Cs(e,hn()),n;switch(e.finishedWork=s,e.finishedLanes=a,r){case 0:case 1:throw Error(Ke(345));case 2:gd(e,_s,Hl);break;case 3:if(Qc(e,a),(a&130023424)===a&&(r=lA+500-hn(),10<r)){if(Xw(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){cs(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ZN(gd.bind(null,e,_s,Hl),r);break}gd(e,_s,Hl);break;case 4:if(Qc(e,a),(a&4194240)===a)break;for(r=e.eventTimes,s=-1;0<a;){var o=31-So(a);i=1<<o,o=r[o],o>s&&(s=o),a&=~i}if(a=s,a=hn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*qee(a/1960))-a,10<a){e.timeoutHandle=ZN(gd.bind(null,e,_s,Hl),a);break}gd(e,_s,Hl);break;case 5:gd(e,_s,Hl);break;default:throw Error(Ke(329))}}}return Cs(e,hn()),e.callbackNode===n?YB.bind(null,e):null}function y2(e,r){var n=ig;return e.current.memoizedState.isDehydrated&&(Qd(e,r).flags|=256),e=m1(e,r),e!==2&&(r=_s,_s=n,r!==null&&w2(r)),e}function w2(e){_s===null?_s=e:_s.push.apply(_s,e)}function Kee(e){for(var r=e;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!Eo(i(),s))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qc(e,r){for(r&=~oA,r&=~__,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-So(r),a=1<<n;e[n]=-1,r&=~a}}function SR(e){if(ir&6)throw Error(Ke(327));Qh();var r=Xw(e,0);if(!(r&1))return Cs(e,hn()),null;var n=m1(e,r);if(e.tag!==0&&n===2){var a=HN(e);a!==0&&(r=a,n=y2(e,a))}if(n===1)throw n=Xg,Qd(e,0),Qc(e,r),Cs(e,hn()),n;if(n===6)throw Error(Ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,gd(e,_s,Hl),Cs(e,hn()),null}function cA(e,r){var n=ir;ir|=1;try{return e(r)}finally{ir=n,ir===0&&(Pm=hn()+500,x_&&Yu())}}function ff(e){mu!==null&&mu.tag===0&&!(ir&6)&&Qh();var r=ir;ir|=1;var n=Li.transition,a=_r;try{if(Li.transition=null,_r=1,e)return e()}finally{_r=a,Li.transition=n,ir=r,!(ir&6)&&Yu()}}function uA(){Xs=$h.current,Hr($h)}function Qd(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,See(n)),Tn!==null)for(n=Tn.return;n!==null;){var a=n;switch(WT(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&t1();break;case 3:Am(),Hr(Ns),Hr(La),ZT();break;case 5:QT(a);break;case 4:Am();break;case 13:Hr(Qr);break;case 19:Hr(Qr);break;case 10:GT(a.type._context);break;case 22:case 23:uA()}n=n.return}if(ea=e,Tn=e=Eu(e.current,null),ca=Xs=r,zn=0,Xg=null,oA=__=df=0,_s=ig=null,Od!==null){for(r=0;r<Od.length;r++)if(n=Od[r],a=n.interleaved,a!==null){n.interleaved=null;var s=a.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,a.next=o}n.pending=a}Od=null}return e}function XB(e,r){do{var n=Tn;try{if(KT(),Nw.current=u1,c1){for(var a=tn.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}c1=!1}if(uf=0,Jn=Bn=tn=null,ag=!1,Kg=0,iA.current=null,n===null||n.return===null){zn=1,Xg=r,Tn=null;break}e:{var i=e,o=n.return,c=n,u=r;if(r=ca,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uR(o);if(p!==null){p.flags&=-257,dR(p,o,c,i,r),p.mode&1&&cR(i,d,r),r=p,u=d;var v=r.updateQueue;if(v===null){var g=new Set;g.add(u),r.updateQueue=g}else v.add(u);break e}else{if(!(r&1)){cR(i,d,r),dA();break e}u=Error(Ke(426))}}else if(Gr&&c.mode&1){var x=uR(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dR(x,o,c,i,r),HT(Om(u,c));break e}}i=u=Om(u,c),zn!==4&&(zn=2),ig===null?ig=[i]:ig.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var b=DB(i,u,r);nR(i,b);break e;case 1:c=u;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ku===null||!ku.has(_)))){i.flags|=65536,r&=-r,i.lanes|=r;var S=RB(i,c,r);nR(i,S);break e}}i=i.return}while(i!==null)}ZB(n)}catch(j){r=j,Tn===n&&n!==null&&(Tn=n=n.return);continue}break}while(!0)}function JB(){var e=d1.current;return d1.current=u1,e===null?u1:e}function dA(){(zn===0||zn===3||zn===2)&&(zn=4),ea===null||!(df&268435455)&&!(__&268435455)||Qc(ea,ca)}function m1(e,r){var n=ir;ir|=2;var a=JB();(ea!==e||ca!==r)&&(Hl=null,Qd(e,r));do try{Gee();break}catch(s){XB(e,s)}while(!0);if(KT(),ir=n,d1.current=a,Tn!==null)throw Error(Ke(261));return ea=null,ca=0,zn}function Gee(){for(;Tn!==null;)QB(Tn)}function Yee(){for(;Tn!==null&&!wZ();)QB(Tn)}function QB(e){var r=tU(e.alternate,e,Xs);e.memoizedProps=e.pendingProps,r===null?ZB(e):Tn=r,iA.current=null}function ZB(e){var r=e;do{var n=r.alternate;if(e=r.return,r.flags&32768){if(n=Vee(n,r),n!==null){n.flags&=32767,Tn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zn=6,Tn=null;return}}else if(n=Uee(n,r,Xs),n!==null){Tn=n;return}if(r=r.sibling,r!==null){Tn=r;return}Tn=r=e}while(r!==null);zn===0&&(zn=5)}function gd(e,r,n){var a=_r,s=Li.transition;try{Li.transition=null,_r=1,Xee(e,r,n,a)}finally{Li.transition=s,_r=a}return null}function Xee(e,r,n,a){do Qh();while(mu!==null);if(ir&6)throw Error(Ke(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ke(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(AZ(e,i),e===ea&&(Tn=ea=null,ca=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jy||(jy=!0,rU(Yw,function(){return Qh(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Li.transition,Li.transition=null;var o=_r;_r=1;var c=ir;ir|=4,iA.current=null,Wee(e,n),KB(n,e),gee(JN),Jw=!!XN,JN=XN=null,e.current=n,Hee(n),bZ(),ir=c,_r=o,Li.transition=i}else e.current=n;if(jy&&(jy=!1,mu=e,h1=s),i=e.pendingLanes,i===0&&(ku=null),jZ(n.stateNode),Cs(e,hn()),r!==null)for(a=e.onRecoverableError,n=0;n<r.length;n++)s=r[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(f1)throw f1=!1,e=v2,v2=null,e;return h1&1&&e.tag!==0&&Qh(),i=e.pendingLanes,i&1?e===x2?og++:(og=0,x2=e):og=0,Yu(),null}function Qh(){if(mu!==null){var e=D6(h1),r=Li.transition,n=_r;try{if(Li.transition=null,_r=16>e?16:e,mu===null)var a=!1;else{if(e=mu,mu=null,h1=0,ir&6)throw Error(Ke(331));var s=ir;for(ir|=4,lt=e.current;lt!==null;){var i=lt,o=i.child;if(lt.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(lt=d;lt!==null;){var f=lt;switch(f.tag){case 0:case 11:case 15:sg(8,f,i)}var h=f.child;if(h!==null)h.return=f,lt=h;else for(;lt!==null;){f=lt;var m=f.sibling,p=f.return;if(WB(f),f===d){lt=null;break}if(m!==null){m.return=p,lt=m;break}lt=p}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}lt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,lt=o;else e:for(;lt!==null;){if(i=lt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sg(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,lt=b;break e}lt=i.return}}var w=e.current;for(lt=w;lt!==null;){o=lt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,lt=_;else e:for(o=w;lt!==null;){if(c=lt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:b_(9,c)}}catch(j){sn(c,c.return,j)}if(c===o){lt=null;break e}var S=c.sibling;if(S!==null){S.return=c.return,lt=S;break e}lt=c.return}}if(ir=s,Yu(),fl&&typeof fl.onPostCommitFiberRoot=="function")try{fl.onPostCommitFiberRoot(h_,e)}catch{}a=!0}return a}finally{_r=n,Li.transition=r}}return!1}function jR(e,r,n){r=Om(n,r),r=DB(e,r,1),e=ju(e,r,1),r=cs(),e!==null&&(lx(e,1,r),Cs(e,r))}function sn(e,r,n){if(e.tag===3)jR(e,e,n);else for(;r!==null;){if(r.tag===3){jR(r,e,n);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ku===null||!ku.has(a))){e=Om(n,e),e=RB(r,e,1),r=ju(r,e,1),e=cs(),r!==null&&(lx(r,1,e),Cs(r,e));break}}r=r.return}}function Jee(e,r,n){var a=e.pingCache;a!==null&&a.delete(r),r=cs(),e.pingedLanes|=e.suspendedLanes&n,ea===e&&(ca&n)===n&&(zn===4||zn===3&&(ca&130023424)===ca&&500>hn()-lA?Qd(e,0):oA|=n),Cs(e,r)}function eU(e,r){r===0&&(e.mode&1?(r=my,my<<=1,!(my&130023424)&&(my=4194304)):r=1);var n=cs();e=hc(e,r),e!==null&&(lx(e,r,n),Cs(e,n))}function Qee(e){var r=e.memoizedState,n=0;r!==null&&(n=r.retryLane),eU(e,n)}function Zee(e,r){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Ke(314))}a!==null&&a.delete(r),eU(e,n)}var tU;tU=function(e,r,n){if(e!==null)if(e.memoizedProps!==r.pendingProps||Ns.current)Ss=!0;else{if(!(e.lanes&n)&&!(r.flags&128))return Ss=!1,Bee(e,r,n);Ss=!!(e.flags&131072)}else Ss=!1,Gr&&r.flags&1048576&&sB(r,a1,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;Cw(e,r),e=r.pendingProps;var s=Em(r,La.current);Jh(r,n),s=tA(null,r,a,e,s,n);var i=rA();return r.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Es(a)?(i=!0,r1(r)):i=!1,r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,XT(r),s.updater=w_,r.stateNode=s,s._reactInternals=r,i2(r,a,e,n),r=c2(null,r,a,!0,i,n)):(r.tag=0,Gr&&i&&zT(r),Ja(null,r,s,n),r=r.child),r;case 16:a=r.elementType;e:{switch(Cw(e,r),e=r.pendingProps,s=a._init,a=s(a._payload),r.type=a,s=r.tag=tte(a),e=so(a,e),s){case 0:r=l2(null,r,a,e,n);break e;case 1:r=mR(null,r,a,e,n);break e;case 11:r=fR(null,r,a,e,n);break e;case 14:r=hR(null,r,a,so(a.type,e),n);break e}throw Error(Ke(306,a,""))}return r;case 0:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:so(a,s),l2(e,r,a,s,n);case 1:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:so(a,s),mR(e,r,a,s,n);case 3:e:{if(LB(r),e===null)throw Error(Ke(387));a=r.pendingProps,i=r.memoizedState,s=i.element,dB(e,r),o1(r,a,null,n);var o=r.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){s=Om(Error(Ke(423)),r),r=pR(e,r,a,n,s);break e}else if(a!==s){s=Om(Error(Ke(424)),r),r=pR(e,r,a,n,s);break e}else for(li=Su(r.stateNode.containerInfo.firstChild),ci=r,Gr=!0,go=null,n=cB(r,null,a,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cm(),a===s){r=mc(e,r,n);break e}Ja(e,r,a,n)}r=r.child}return r;case 5:return fB(r),e===null&&n2(r),a=r.type,s=r.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,QN(a,s)?o=null:i!==null&&QN(a,i)&&(r.flags|=32),FB(e,r),Ja(e,r,o,n),r.child;case 6:return e===null&&n2(r),null;case 13:return $B(e,r,n);case 4:return JT(r,r.stateNode.containerInfo),a=r.pendingProps,e===null?r.child=Tm(r,null,a,n):Ja(e,r,a,n),r.child;case 11:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:so(a,s),fR(e,r,a,s,n);case 7:return Ja(e,r,r.pendingProps,n),r.child;case 8:return Ja(e,r,r.pendingProps.children,n),r.child;case 12:return Ja(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(a=r.type._context,s=r.pendingProps,i=r.memoizedProps,o=s.value,Mr(s1,a._currentValue),a._currentValue=o,i!==null)if(Eo(i.value,o)){if(i.children===s.children&&!Ns.current){r=mc(e,r,n);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===a){if(i.tag===1){u=sc(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),a2(i.return,n,r),c.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===r.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ke(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),a2(o,n,r),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===r){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ja(e,r,s.children,n),r=r.child}return r;case 9:return s=r.type,a=r.pendingProps.children,Jh(r,n),s=Bi(s),a=a(s),r.flags|=1,Ja(e,r,a,n),r.child;case 14:return a=r.type,s=so(a,r.pendingProps),s=so(a.type,s),hR(e,r,a,s,n);case 15:return IB(e,r,r.type,r.pendingProps,n);case 17:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:so(a,s),Cw(e,r),r.tag=1,Es(a)?(e=!0,r1(r)):e=!1,Jh(r,n),PB(r,a,s),i2(r,a,s,n),c2(null,r,a,!0,e,n);case 19:return BB(e,r,n);case 22:return MB(e,r,n)}throw Error(Ke(156,r.tag))};function rU(e,r){return T6(e,r)}function ete(e,r,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(e,r,n,a){return new ete(e,r,n,a)}function fA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tte(e){if(typeof e=="function")return fA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===OT)return 11;if(e===PT)return 14}return 2}function Eu(e,r){var n=e.alternate;return n===null?(n=Ii(e.tag,r,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ow(e,r,n,a,s,i){var o=2;if(a=e,typeof e=="function")fA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Th:return Zd(n.children,s,i,r);case AT:o=8,s|=8;break;case AN:return e=Ii(12,n,r,s|2),e.elementType=AN,e.lanes=i,e;case ON:return e=Ii(13,n,r,s),e.elementType=ON,e.lanes=i,e;case PN:return e=Ii(19,n,r,s),e.elementType=PN,e.lanes=i,e;case f6:return S_(n,s,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u6:o=10;break e;case d6:o=9;break e;case OT:o=11;break e;case PT:o=14;break e;case Hc:o=16,a=null;break e}throw Error(Ke(130,e==null?e:typeof e,""))}return r=Ii(o,n,r,s),r.elementType=e,r.type=a,r.lanes=i,r}function Zd(e,r,n,a){return e=Ii(7,e,a,r),e.lanes=n,e}function S_(e,r,n,a){return e=Ii(22,e,a,r),e.elementType=f6,e.lanes=n,e.stateNode={isHidden:!1},e}function Qj(e,r,n){return e=Ii(6,e,null,r),e.lanes=n,e}function Zj(e,r,n){return r=Ii(4,e.children!==null?e.children:[],e.key,r),r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function rte(e,r,n,a,s){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dj(0),this.expirationTimes=Dj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dj(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hA(e,r,n,a,s,i,o,c,u){return e=new rte(e,r,n,c,u),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Ii(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},XT(i),e}function nte(e,r,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ch,key:a==null?null:""+a,children:e,containerInfo:r,implementation:n}}function nU(e){if(!e)return Mu;e=e._reactInternals;e:{if(If(e)!==e||e.tag!==1)throw Error(Ke(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Es(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(Ke(171))}if(e.tag===1){var n=e.type;if(Es(n))return nB(e,n,r)}return r}function aU(e,r,n,a,s,i,o,c,u){return e=hA(n,a,!0,e,s,i,o,c,u),e.context=nU(null),n=e.current,a=cs(),s=Nu(n),i=sc(a,s),i.callback=r??null,ju(n,i,s),e.current.lanes=s,lx(e,s,a),Cs(e,a),e}function j_(e,r,n,a){var s=r.current,i=cs(),o=Nu(s);return n=nU(n),r.context===null?r.context=n:r.pendingContext=n,r=sc(i,o),r.payload={element:e},a=a===void 0?null:a,a!==null&&(r.callback=a),e=ju(s,r,o),e!==null&&(jo(e,s,o,i),kw(e,s,o)),o}function p1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kR(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<r?n:r}}function mA(e,r){kR(e,r),(e=e.alternate)&&kR(e,r)}function ate(){return null}var sU=typeof reportError=="function"?reportError:function(e){console.error(e)};function pA(e){this._internalRoot=e}k_.prototype.render=pA.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(Ke(409));j_(e,r,null,null)};k_.prototype.unmount=pA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ff(function(){j_(null,e,null,null)}),r[fc]=null}};function k_(e){this._internalRoot=e}k_.prototype.unstable_scheduleHydration=function(e){if(e){var r=M6();e={blockedOn:null,target:e,priority:r};for(var n=0;n<Jc.length&&r!==0&&r<Jc[n].priority;n++);Jc.splice(n,0,e),n===0&&L6(e)}};function gA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function N_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function NR(){}function ste(e,r,n,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var d=p1(o);i.call(d)}}var o=aU(r,a,e,0,null,!1,!1,"",NR);return e._reactRootContainer=o,e[fc]=o.current,Vg(e.nodeType===8?e.parentNode:e),ff(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var c=a;a=function(){var d=p1(u);c.call(d)}}var u=hA(e,0,!1,null,null,!1,!1,"",NR);return e._reactRootContainer=u,e[fc]=u.current,Vg(e.nodeType===8?e.parentNode:e),ff(function(){j_(r,u,n,a)}),u}function E_(e,r,n,a,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var u=p1(o);c.call(u)}}j_(r,o,e,s)}else o=ste(n,r,e,s,a);return p1(o)}R6=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=B0(r.pendingLanes);n!==0&&(IT(r,n|1),Cs(r,hn()),!(ir&6)&&(Pm=hn()+500,Yu()))}break;case 13:ff(function(){var a=hc(e,1);if(a!==null){var s=cs();jo(a,e,1,s)}}),mA(e,1)}};MT=function(e){if(e.tag===13){var r=hc(e,134217728);if(r!==null){var n=cs();jo(r,e,134217728,n)}mA(e,134217728)}};I6=function(e){if(e.tag===13){var r=Nu(e),n=hc(e,r);if(n!==null){var a=cs();jo(n,e,r,a)}mA(e,r)}};M6=function(){return _r};F6=function(e,r){var n=_r;try{return _r=e,r()}finally{_r=n}};VN=function(e,r,n){switch(r){case"input":if(IN(e,n),r=n.name,n.type==="radio"&&r!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var a=n[r];if(a!==e&&a.form===e.form){var s=v_(a);if(!s)throw Error(Ke(90));m6(a),IN(a,s)}}}break;case"textarea":g6(e,n);break;case"select":r=n.value,r!=null&&Kh(e,!!n.multiple,r,!1)}};S6=cA;j6=ff;var ite={usingClientEntryPoint:!1,Events:[ux,Dh,v_,b6,_6,cA]},v0={findFiberByHostInstance:Ad,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ote={bundleType:v0.bundleType,version:v0.version,rendererPackageName:v0.rendererPackageName,rendererConfig:v0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ec.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=E6(e),e===null?null:e.stateNode},findFiberByHostInstance:v0.findFiberByHostInstance||ate,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ky.isDisabled&&ky.supportsFiber)try{h_=ky.inject(ote),fl=ky}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ite;vi.createPortal=function(e,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gA(r))throw Error(Ke(200));return nte(e,r,null,n)};vi.createRoot=function(e,r){if(!gA(e))throw Error(Ke(299));var n=!1,a="",s=sU;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),r=hA(e,1,!1,null,null,n,!1,a,s),e[fc]=r.current,Vg(e.nodeType===8?e.parentNode:e),new pA(r)};vi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(Ke(188)):(e=Object.keys(e).join(","),Error(Ke(268,e)));return e=E6(r),e=e===null?null:e.stateNode,e};vi.flushSync=function(e){return ff(e)};vi.hydrate=function(e,r,n){if(!N_(r))throw Error(Ke(200));return E_(null,e,r,!0,n)};vi.hydrateRoot=function(e,r,n){if(!gA(e))throw Error(Ke(405));var a=n!=null&&n.hydratedSources||null,s=!1,i="",o=sU;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),r=aU(r,null,e,1,n??null,s,!1,i,o),e[fc]=r.current,Vg(e),a)for(e=0;e<a.length;e++)n=a[e],s=n._getVersion,s=s(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,s]:r.mutableSourceEagerHydrationData.push(n,s);return new k_(r)};vi.render=function(e,r,n){if(!N_(r))throw Error(Ke(200));return E_(null,e,r,!1,n)};vi.unmountComponentAtNode=function(e){if(!N_(e))throw Error(Ke(40));return e._reactRootContainer?(ff(function(){E_(null,null,e,!1,function(){e._reactRootContainer=null,e[fc]=null})}),!0):!1};vi.unstable_batchedUpdates=cA;vi.unstable_renderSubtreeIntoContainer=function(e,r,n,a){if(!N_(n))throw Error(Ke(200));if(e==null||e._reactInternals===void 0)throw Error(Ke(38));return E_(e,r,n,!1,a)};vi.version="18.3.1-next-f1338f8080-20240426";function iU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iU)}catch(e){console.error(e)}}iU(),i6.exports=vi;var Ap=i6.exports;const lte=gr(Ap);var oU,ER=Ap;oU=ER.createRoot,ER.hydrateRoot;var fx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hf=typeof window>"u"||"Deno"in globalThis;function bs(){}function cte(e,r){return typeof e=="function"?e(r):e}function b2(e){return typeof e=="number"&&e>=0&&e!==1/0}function lU(e,r){return Math.max(e+(r||0)-Date.now(),0)}function Cu(e,r){return typeof e=="function"?e(r):e}function Ti(e,r){return typeof e=="function"?e(r):e}function CR(e,r){const{type:n="all",exact:a,fetchStatus:s,predicate:i,queryKey:o,stale:c}=e;if(o){if(a){if(r.queryHash!==vA(o,r.options))return!1}else if(!Qg(r.queryKey,o))return!1}if(n!=="all"){const u=r.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&r.isStale()!==c||s&&s!==r.state.fetchStatus||i&&!i(r))}function TR(e,r){const{exact:n,status:a,predicate:s,mutationKey:i}=e;if(i){if(!r.options.mutationKey)return!1;if(n){if(Jg(r.options.mutationKey)!==Jg(i))return!1}else if(!Qg(r.options.mutationKey,i))return!1}return!(a&&r.state.status!==a||s&&!s(r))}function vA(e,r){return((r==null?void 0:r.queryKeyHashFn)||Jg)(e)}function Jg(e){return JSON.stringify(e,(r,n)=>S2(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function Qg(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(n=>Qg(e[n],r[n])):!1}function cU(e,r){if(e===r)return e;const n=AR(e)&&AR(r);if(n||S2(e)&&S2(r)){const a=n?e:Object.keys(e),s=a.length,i=n?r:Object.keys(r),o=i.length,c=n?[]:{},u=new Set(a);let d=0;for(let f=0;f<o;f++){const h=n?f:i[f];(!n&&u.has(h)||n)&&e[h]===void 0&&r[h]===void 0?(c[h]=void 0,d++):(c[h]=cU(e[h],r[h]),c[h]===e[h]&&e[h]!==void 0&&d++)}return s===o&&d===s?e:c}return r}function _2(e,r){if(!r||Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}function AR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function S2(e){if(!OR(e))return!1;const r=e.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!OR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function OR(e){return Object.prototype.toString.call(e)==="[object Object]"}function ute(e){return new Promise(r=>{setTimeout(r,e)})}function j2(e,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,r):n.structuralSharing!==!1?cU(e,r):r}function dte(e,r,n=0){const a=[...e,r];return n&&a.length>n?a.slice(1):a}function fte(e,r,n=0){const a=[r,...e];return n&&a.length>n?a.slice(0,-1):a}var xA=Symbol();function uU(e,r){return!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===xA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function hte(e,r){return typeof e=="function"?e(...r):!!e}var zd,su,mm,L8,mte=(L8=class extends fx{constructor(){super();Ct(this,zd);Ct(this,su);Ct(this,mm);ft(this,mm,r=>{if(!hf&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ge(this,su)||this.setEventListener(ge(this,mm))}onUnsubscribe(){var r;this.hasListeners()||((r=ge(this,su))==null||r.call(this),ft(this,su,void 0))}setEventListener(r){var n;ft(this,mm,r),(n=ge(this,su))==null||n.call(this),ft(this,su,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){ge(this,zd)!==r&&(ft(this,zd,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof ge(this,zd)=="boolean"?ge(this,zd):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},zd=new WeakMap,su=new WeakMap,mm=new WeakMap,L8),yA=new mte,pm,iu,gm,$8,pte=($8=class extends fx{constructor(){super();Ct(this,pm,!0);Ct(this,iu);Ct(this,gm);ft(this,gm,r=>{if(!hf&&window.addEventListener){const n=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){ge(this,iu)||this.setEventListener(ge(this,gm))}onUnsubscribe(){var r;this.hasListeners()||((r=ge(this,iu))==null||r.call(this),ft(this,iu,void 0))}setEventListener(r){var n;ft(this,gm,r),(n=ge(this,iu))==null||n.call(this),ft(this,iu,r(this.setOnline.bind(this)))}setOnline(r){ge(this,pm)!==r&&(ft(this,pm,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return ge(this,pm)}},pm=new WeakMap,iu=new WeakMap,gm=new WeakMap,$8),g1=new pte;function k2(){let e,r;const n=new Promise((s,i)=>{e=s,r=i});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},n.reject=s=>{a({status:"rejected",reason:s}),r(s)},n}function gte(e){return Math.min(1e3*2**e,3e4)}function dU(e){return(e??"online")==="online"?g1.isOnline():!0}var fU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ek(e){return e instanceof fU}function hU(e){let r=!1,n=0,a=!1,s;const i=k2(),o=g=>{var x;a||(m(new fU(g)),(x=e.abort)==null||x.call(e))},c=()=>{r=!0},u=()=>{r=!1},d=()=>yA.isFocused()&&(e.networkMode==="always"||g1.isOnline())&&e.canRun(),f=()=>dU(e.networkMode)&&e.canRun(),h=g=>{var x;a||(a=!0,(x=e.onSuccess)==null||x.call(e,g),s==null||s(),i.resolve(g))},m=g=>{var x;a||(a=!0,(x=e.onError)==null||x.call(e,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var x;s=b=>{(a||d())&&g(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;s=void 0,a||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(a)return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{var N;if(a)return;const w=e.retry??(hf?0:3),_=e.retryDelay??gte,S=typeof _=="function"?_(n,b):_,j=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(r||!j){m(b);return}n++,(N=e.onFail)==null||N.call(e,n,b),ute(S).then(()=>d()?void 0:p()).then(()=>{r?m(b):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?v():p().then(v),i)}}var vte=e=>setTimeout(e,0);function xte(){let e=[],r=0,n=c=>{c()},a=c=>{c()},s=vte;const i=c=>{r?e.push(c):s(()=>{n(c)})},o=()=>{const c=e;e=[],c.length&&s(()=>{a(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;r++;try{u=c()}finally{r--,r||o()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{a=c},setScheduler:c=>{s=c}}}var oa=xte(),Wd,B8,mU=(B8=class{constructor(){Ct(this,Wd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b2(this.gcTime)&&ft(this,Wd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hf?1/0:5*60*1e3))}clearGcTimeout(){ge(this,Wd)&&(clearTimeout(ge(this,Wd)),ft(this,Wd,void 0))}},Wd=new WeakMap,B8),vm,Hd,Ci,qd,Ca,nx,Kd,oo,Wl,U8,yte=(U8=class extends mU{constructor(r){super();Ct(this,oo);Ct(this,vm);Ct(this,Hd);Ct(this,Ci);Ct(this,qd);Ct(this,Ca);Ct(this,nx);Ct(this,Kd);ft(this,Kd,!1),ft(this,nx,r.defaultOptions),this.setOptions(r.options),this.observers=[],ft(this,qd,r.client),ft(this,Ci,ge(this,qd).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,ft(this,vm,wte(this.options)),this.state=r.state??ge(this,vm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=ge(this,Ca))==null?void 0:r.promise}setOptions(r){this.options={...ge(this,nx),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Ci).remove(this)}setData(r,n){const a=j2(this.state.data,r,this.options);return Zt(this,oo,Wl).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){Zt(this,oo,Wl).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,s;const n=(a=ge(this,Ca))==null?void 0:a.promise;return(s=ge(this,Ca))==null||s.cancel(r),n?n.then(bs).catch(bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,vm))}isActive(){return this.observers.some(r=>Ti(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Cu(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!lU(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=ge(this,Ca))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=ge(this,Ca))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),ge(this,Ci).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(ge(this,Ca)&&(ge(this,Kd)?ge(this,Ca).cancel({revert:!0}):ge(this,Ca).cancelRetry()),this.scheduleGc()),ge(this,Ci).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zt(this,oo,Wl).call(this,{type:"invalidate"})}fetch(r,n){var d,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ge(this,Ca))return ge(this,Ca).continueRetry(),ge(this,Ca).promise}if(r&&this.setOptions(r),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ft(this,Kd,!0),a.signal)})},i=()=>{const m=uU(this.options,n),v=(()=>{const g={client:ge(this,qd),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return ft(this,Kd,!1),this.options.persister?this.options.persister(m,v,this):m(v)},c=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ge(this,qd),state:this.state,fetchFn:i};return s(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),ft(this,Hd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Zt(this,oo,Wl).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta});const u=m=>{var p,v,g,x;ek(m)&&m.silent||Zt(this,oo,Wl).call(this,{type:"error",error:m}),ek(m)||((v=(p=ge(this,Ci).config).onError)==null||v.call(p,m,this),(x=(g=ge(this,Ci).config).onSettled)==null||x.call(g,this.state.data,m,this)),this.scheduleGc()};return ft(this,Ca,hU({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:a.abort.bind(a),onSuccess:m=>{var p,v,g,x;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){u(b);return}(v=(p=ge(this,Ci).config).onSuccess)==null||v.call(p,m,this),(x=(g=ge(this,Ci).config).onSettled)==null||x.call(g,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,p)=>{Zt(this,oo,Wl).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{Zt(this,oo,Wl).call(this,{type:"pause"})},onContinue:()=>{Zt(this,oo,Wl).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),ge(this,Ca).start()}},vm=new WeakMap,Hd=new WeakMap,Ci=new WeakMap,qd=new WeakMap,Ca=new WeakMap,nx=new WeakMap,Kd=new WeakMap,oo=new WeakSet,Wl=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...pU(a.data,this.options),fetchMeta:r.meta??null};case"success":return ft(this,Hd,void 0),{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return ek(s)&&s.revert&&ge(this,Hd)?{...ge(this,Hd),fetchStatus:"idle"}:{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),oa.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),ge(this,Ci).notify({query:this,type:"updated",action:r})})},U8);function pU(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dU(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wte(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,n=r!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zo,V8,bte=(V8=class extends fx{constructor(r={}){super();Ct(this,Zo);this.config=r,ft(this,Zo,new Map)}build(r,n,a){const s=n.queryKey,i=n.queryHash??vA(s,n);let o=this.get(i);return o||(o=new yte({client:r,queryKey:s,queryHash:i,options:r.defaultQueryOptions(n),state:a,defaultOptions:r.getQueryDefaults(s)}),this.add(o)),o}add(r){ge(this,Zo).has(r.queryHash)||(ge(this,Zo).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=ge(this,Zo).get(r.queryHash);n&&(r.destroy(),n===r&&ge(this,Zo).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){oa.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return ge(this,Zo).get(r)}getAll(){return[...ge(this,Zo).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(a=>CR(n,a))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(a=>CR(r,a)):n}notify(r){oa.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){oa.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){oa.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Zo=new WeakMap,V8),el,Ya,Gd,tl,zc,z8,_te=(z8=class extends mU{constructor(r){super();Ct(this,tl);Ct(this,el);Ct(this,Ya);Ct(this,Gd);this.mutationId=r.mutationId,ft(this,Ya,r.mutationCache),ft(this,el,[]),this.state=r.state||Ste(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){ge(this,el).includes(r)||(ge(this,el).push(r),this.clearGcTimeout(),ge(this,Ya).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){ft(this,el,ge(this,el).filter(n=>n!==r)),this.scheduleGc(),ge(this,Ya).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){ge(this,el).length||(this.state.status==="pending"?this.scheduleGc():ge(this,Ya).remove(this))}continue(){var r;return((r=ge(this,Gd))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var i,o,c,u,d,f,h,m,p,v,g,x,b,w,_,S,j,N,k,E;const n=()=>{Zt(this,tl,zc).call(this,{type:"continue"})};ft(this,Gd,hU({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{Zt(this,tl,zc).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{Zt(this,tl,zc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,Ya).canRun(this)}));const a=this.state.status==="pending",s=!ge(this,Gd).canStart();try{if(a)n();else{Zt(this,tl,zc).call(this,{type:"pending",variables:r,isPaused:s}),await((o=(i=ge(this,Ya).config).onMutate)==null?void 0:o.call(i,r,this));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,r));O!==this.state.context&&Zt(this,tl,zc).call(this,{type:"pending",context:O,variables:r,isPaused:s})}const C=await ge(this,Gd).start();return await((f=(d=ge(this,Ya).config).onSuccess)==null?void 0:f.call(d,C,r,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,C,r,this.state.context)),await((v=(p=ge(this,Ya).config).onSettled)==null?void 0:v.call(p,C,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,C,null,r,this.state.context)),Zt(this,tl,zc).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(b=ge(this,Ya).config).onError)==null?void 0:w.call(b,C,r,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,C,r,this.state.context)),await((N=(j=ge(this,Ya).config).onSettled)==null?void 0:N.call(j,void 0,C,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,C,r,this.state.context)),C}finally{Zt(this,tl,zc).call(this,{type:"error",error:C})}}finally{ge(this,Ya).runNext(this)}}},el=new WeakMap,Ya=new WeakMap,Gd=new WeakMap,tl=new WeakSet,zc=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),oa.batch(()=>{ge(this,el).forEach(a=>{a.onMutationUpdate(r)}),ge(this,Ya).notify({mutation:this,type:"updated",action:r})})},z8);function Ste(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yl,lo,ax,W8,jte=(W8=class extends fx{constructor(r={}){super();Ct(this,Yl);Ct(this,lo);Ct(this,ax);this.config=r,ft(this,Yl,new Set),ft(this,lo,new Map),ft(this,ax,0)}build(r,n,a){const s=new _te({mutationCache:this,mutationId:++oy(this,ax)._,options:r.defaultMutationOptions(n),state:a});return this.add(s),s}add(r){ge(this,Yl).add(r);const n=Ny(r);if(typeof n=="string"){const a=ge(this,lo).get(n);a?a.push(r):ge(this,lo).set(n,[r])}this.notify({type:"added",mutation:r})}remove(r){if(ge(this,Yl).delete(r)){const n=Ny(r);if(typeof n=="string"){const a=ge(this,lo).get(n);if(a)if(a.length>1){const s=a.indexOf(r);s!==-1&&a.splice(s,1)}else a[0]===r&&ge(this,lo).delete(n)}}this.notify({type:"removed",mutation:r})}canRun(r){const n=Ny(r);if(typeof n=="string"){const a=ge(this,lo).get(n),s=a==null?void 0:a.find(i=>i.state.status==="pending");return!s||s===r}else return!0}runNext(r){var a;const n=Ny(r);if(typeof n=="string"){const s=(a=ge(this,lo).get(n))==null?void 0:a.find(i=>i!==r&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){oa.batch(()=>{ge(this,Yl).forEach(r=>{this.notify({type:"removed",mutation:r})}),ge(this,Yl).clear(),ge(this,lo).clear()})}getAll(){return Array.from(ge(this,Yl))}find(r){const n={exact:!0,...r};return this.getAll().find(a=>TR(n,a))}findAll(r={}){return this.getAll().filter(n=>TR(r,n))}notify(r){oa.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return oa.batch(()=>Promise.all(r.map(n=>n.continue().catch(bs))))}},Yl=new WeakMap,lo=new WeakMap,ax=new WeakMap,W8);function Ny(e){var r;return(r=e.options.scope)==null?void 0:r.id}function PR(e){return{onFetch:(r,n)=>{var f,h,m,p,v;const a=r.options,s=(m=(h=(f=r.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((p=r.state.data)==null?void 0:p.pages)||[],o=((v=r.state.data)==null?void 0:v.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let g=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(r.signal.aborted?g=!0:r.signal.addEventListener("abort",()=>{g=!0}),r.signal)})},b=uU(r.options,r.fetchOptions),w=async(_,S,j)=>{if(g)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const D={client:r.client,queryKey:r.queryKey,pageParam:S,direction:j?"backward":"forward",meta:r.options.meta};return x(D),D})(),E=await b(k),{maxPages:C}=r.options,O=j?fte:dte;return{pages:O(_.pages,E,C),pageParams:O(_.pageParams,S,C)}};if(s&&i.length){const _=s==="backward",S=_?kte:DR,j={pages:i,pageParams:o},N=S(a,j);c=await w(j,N,_)}else{const _=e??i.length;do{const S=u===0?o[0]??a.initialPageParam:DR(a,c);if(u>0&&S==null)break;c=await w(c,S),u++}while(u<_)}return c};r.options.persister?r.fetchFn=()=>{var g,x;return(x=(g=r.options).persister)==null?void 0:x.call(g,d,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=d}}}function DR(e,{pages:r,pageParams:n}){const a=r.length-1;return r.length>0?e.getNextPageParam(r[a],r,n[a],n):void 0}function kte(e,{pages:r,pageParams:n}){var a;return r.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,r[0],r,n[0],n):void 0}var nn,ou,lu,xm,ym,cu,wm,bm,H8,Nte=(H8=class{constructor(e={}){Ct(this,nn);Ct(this,ou);Ct(this,lu);Ct(this,xm);Ct(this,ym);Ct(this,cu);Ct(this,wm);Ct(this,bm);ft(this,nn,e.queryCache||new bte),ft(this,ou,e.mutationCache||new jte),ft(this,lu,e.defaultOptions||{}),ft(this,xm,new Map),ft(this,ym,new Map),ft(this,cu,0)}mount(){oy(this,cu)._++,ge(this,cu)===1&&(ft(this,wm,yA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,nn).onFocus())})),ft(this,bm,g1.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,nn).onOnline())})))}unmount(){var e,r;oy(this,cu)._--,ge(this,cu)===0&&((e=ge(this,wm))==null||e.call(this),ft(this,wm,void 0),(r=ge(this,bm))==null||r.call(this),ft(this,bm,void 0))}isFetching(e){return ge(this,nn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ge(this,ou).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=ge(this,nn).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),n=ge(this,nn).build(this,r),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Cu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(e){return ge(this,nn).findAll(e).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(e,r,n){const a=this.defaultQueryOptions({queryKey:e}),s=ge(this,nn).get(a.queryHash),i=s==null?void 0:s.state.data,o=cte(r,i);if(o!==void 0)return ge(this,nn).build(this,a).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return oa.batch(()=>ge(this,nn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=ge(this,nn).get(r.queryHash))==null?void 0:n.state}removeQueries(e){const r=ge(this,nn);oa.batch(()=>{r.findAll(e).forEach(n=>{r.remove(n)})})}resetQueries(e,r){const n=ge(this,nn);return oa.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const n={revert:!0,...r},a=oa.batch(()=>ge(this,nn).findAll(e).map(s=>s.cancel(n)));return Promise.all(a).then(bs).catch(bs)}invalidateQueries(e,r={}){return oa.batch(()=>(ge(this,nn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},r)))}refetchQueries(e,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},a=oa.batch(()=>ge(this,nn).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(bs)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(bs)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const n=ge(this,nn).build(this,r);return n.isStaleByTime(Cu(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bs).catch(bs)}fetchInfiniteQuery(e){return e.behavior=PR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bs).catch(bs)}ensureInfiniteQueryData(e){return e.behavior=PR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return g1.isOnline()?ge(this,ou).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,nn)}getMutationCache(){return ge(this,ou)}getDefaultOptions(){return ge(this,lu)}setDefaultOptions(e){ft(this,lu,e)}setQueryDefaults(e,r){ge(this,xm).set(Jg(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...ge(this,xm).values()],n={};return r.forEach(a=>{Qg(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,r){ge(this,ym).set(Jg(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...ge(this,ym).values()],n={};return r.forEach(a=>{Qg(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const r={...ge(this,lu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=vA(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===xA&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ge(this,lu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ge(this,nn).clear(),ge(this,ou).clear()}},nn=new WeakMap,ou=new WeakMap,lu=new WeakMap,xm=new WeakMap,ym=new WeakMap,cu=new WeakMap,wm=new WeakMap,bm=new WeakMap,H8),xs,er,sx,Xa,Yd,_m,uu,du,ix,Sm,jm,Xd,Jd,fu,km,pr,V0,N2,E2,C2,T2,A2,O2,P2,gU,q8,Ete=(q8=class extends fx{constructor(r,n){super();Ct(this,pr);Ct(this,xs);Ct(this,er);Ct(this,sx);Ct(this,Xa);Ct(this,Yd);Ct(this,_m);Ct(this,uu);Ct(this,du);Ct(this,ix);Ct(this,Sm);Ct(this,jm);Ct(this,Xd);Ct(this,Jd);Ct(this,fu);Ct(this,km,new Set);this.options=n,ft(this,xs,r),ft(this,du,null),ft(this,uu,k2()),this.options.experimental_prefetchInRender||ge(this,uu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,er).addObserver(this),RR(ge(this,er),this.options)?Zt(this,pr,V0).call(this):this.updateResult(),Zt(this,pr,T2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return D2(ge(this,er),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return D2(ge(this,er),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Zt(this,pr,A2).call(this),Zt(this,pr,O2).call(this),ge(this,er).removeObserver(this)}setOptions(r){const n=this.options,a=ge(this,er);if(this.options=ge(this,xs).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ti(this.options.enabled,ge(this,er))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Zt(this,pr,P2).call(this),ge(this,er).setOptions(this.options),n._defaulted&&!_2(this.options,n)&&ge(this,xs).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,er),observer:this});const s=this.hasListeners();s&&IR(ge(this,er),a,this.options,n)&&Zt(this,pr,V0).call(this),this.updateResult(),s&&(ge(this,er)!==a||Ti(this.options.enabled,ge(this,er))!==Ti(n.enabled,ge(this,er))||Cu(this.options.staleTime,ge(this,er))!==Cu(n.staleTime,ge(this,er)))&&Zt(this,pr,N2).call(this);const i=Zt(this,pr,E2).call(this);s&&(ge(this,er)!==a||Ti(this.options.enabled,ge(this,er))!==Ti(n.enabled,ge(this,er))||i!==ge(this,fu))&&Zt(this,pr,C2).call(this,i)}getOptimisticResult(r){const n=ge(this,xs).getQueryCache().build(ge(this,xs),r),a=this.createResult(n,r);return Tte(this,a)&&(ft(this,Xa,a),ft(this,_m,this.options),ft(this,Yd,ge(this,er).state)),a}getCurrentResult(){return ge(this,Xa)}trackResult(r,n){return new Proxy(r,{get:(a,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(a,s))})}trackProp(r){ge(this,km).add(r)}getCurrentQuery(){return ge(this,er)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const n=ge(this,xs).defaultQueryOptions(r),a=ge(this,xs).getQueryCache().build(ge(this,xs),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(r){return Zt(this,pr,V0).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,Xa)))}createResult(r,n){var C;const a=ge(this,er),s=this.options,i=ge(this,Xa),o=ge(this,Yd),c=ge(this,_m),d=r!==a?r.state:ge(this,sx),{state:f}=r;let h={...f},m=!1,p;if(n._optimisticResults){const O=this.hasListeners(),D=!O&&RR(r,n),T=O&&IR(r,a,n,s);(D||T)&&(h={...h,...pU(f.data,r.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:x}=h;p=h.data;let b=!1;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(O=i.data,b=!0):O=typeof n.placeholderData=="function"?n.placeholderData((C=ge(this,jm))==null?void 0:C.state.data,ge(this,jm)):n.placeholderData,O!==void 0&&(x="success",p=j2(i==null?void 0:i.data,O,n),m=!0)}if(n.select&&p!==void 0&&!b)if(i&&p===(o==null?void 0:o.data)&&n.select===ge(this,ix))p=ge(this,Sm);else try{ft(this,ix,n.select),p=n.select(p),p=j2(i==null?void 0:i.data,p,n),ft(this,Sm,p),ft(this,du,null)}catch(O){ft(this,du,O)}ge(this,du)&&(v=ge(this,du),p=ge(this,Sm),g=Date.now(),x="error");const w=h.fetchStatus==="fetching",_=x==="pending",S=x==="error",j=_&&w,N=p!==void 0,E={status:x,fetchStatus:h.fetchStatus,isPending:_,isSuccess:x==="success",isError:S,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!_,isLoadingError:S&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&N,isStale:wA(r,n),refetch:this.refetch,promise:ge(this,uu),isEnabled:Ti(n.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const O=z=>{E.status==="error"?z.reject(E.error):E.data!==void 0&&z.resolve(E.data)},D=()=>{const z=ft(this,uu,E.promise=k2());O(z)},T=ge(this,uu);switch(T.status){case"pending":r.queryHash===a.queryHash&&O(T);break;case"fulfilled":(E.status==="error"||E.data!==T.value)&&D();break;case"rejected":(E.status!=="error"||E.error!==T.reason)&&D();break}}return E}updateResult(){const r=ge(this,Xa),n=this.createResult(ge(this,er),this.options);if(ft(this,Yd,ge(this,er).state),ft(this,_m,this.options),ge(this,Yd).data!==void 0&&ft(this,jm,ge(this,er)),_2(n,r))return;ft(this,Xa,n);const a=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!ge(this,km).size)return!0;const o=new Set(i??ge(this,km));return this.options.throwOnError&&o.add("error"),Object.keys(ge(this,Xa)).some(c=>{const u=c;return ge(this,Xa)[u]!==r[u]&&o.has(u)})};Zt(this,pr,gU).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Zt(this,pr,T2).call(this)}},xs=new WeakMap,er=new WeakMap,sx=new WeakMap,Xa=new WeakMap,Yd=new WeakMap,_m=new WeakMap,uu=new WeakMap,du=new WeakMap,ix=new WeakMap,Sm=new WeakMap,jm=new WeakMap,Xd=new WeakMap,Jd=new WeakMap,fu=new WeakMap,km=new WeakMap,pr=new WeakSet,V0=function(r){Zt(this,pr,P2).call(this);let n=ge(this,er).fetch(this.options,r);return r!=null&&r.throwOnError||(n=n.catch(bs)),n},N2=function(){Zt(this,pr,A2).call(this);const r=Cu(this.options.staleTime,ge(this,er));if(hf||ge(this,Xa).isStale||!b2(r))return;const a=lU(ge(this,Xa).dataUpdatedAt,r)+1;ft(this,Xd,setTimeout(()=>{ge(this,Xa).isStale||this.updateResult()},a))},E2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,er)):this.options.refetchInterval)??!1},C2=function(r){Zt(this,pr,O2).call(this),ft(this,fu,r),!(hf||Ti(this.options.enabled,ge(this,er))===!1||!b2(ge(this,fu))||ge(this,fu)===0)&&ft(this,Jd,setInterval(()=>{(this.options.refetchIntervalInBackground||yA.isFocused())&&Zt(this,pr,V0).call(this)},ge(this,fu)))},T2=function(){Zt(this,pr,N2).call(this),Zt(this,pr,C2).call(this,Zt(this,pr,E2).call(this))},A2=function(){ge(this,Xd)&&(clearTimeout(ge(this,Xd)),ft(this,Xd,void 0))},O2=function(){ge(this,Jd)&&(clearInterval(ge(this,Jd)),ft(this,Jd,void 0))},P2=function(){const r=ge(this,xs).getQueryCache().build(ge(this,xs),this.options);if(r===ge(this,er))return;const n=ge(this,er);ft(this,er,r),ft(this,sx,r.state),this.hasListeners()&&(n==null||n.removeObserver(this),r.addObserver(this))},gU=function(r){oa.batch(()=>{r.listeners&&this.listeners.forEach(n=>{n(ge(this,Xa))}),ge(this,xs).getQueryCache().notify({query:ge(this,er),type:"observerResultsUpdated"})})},q8);function Cte(e,r){return Ti(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function RR(e,r){return Cte(e,r)||e.state.data!==void 0&&D2(e,r,r.refetchOnMount)}function D2(e,r,n){if(Ti(r.enabled,e)!==!1&&Cu(r.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&wA(e,r)}return!1}function IR(e,r,n,a){return(e!==r||Ti(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&wA(e,n)}function wA(e,r){return Ti(r.enabled,e)!==!1&&e.isStaleByTime(Cu(r.staleTime,e))}function Tte(e,r){return!_2(e.getCurrentResult(),r)}var vU=y.createContext(void 0),Ate=e=>{const r=y.useContext(vU);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},Ote=({client:e,children:r})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(vU.Provider,{value:e,children:r})),xU=y.createContext(!1),Pte=()=>y.useContext(xU);xU.Provider;function Dte(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Rte=y.createContext(Dte()),Ite=()=>y.useContext(Rte),Mte=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},Fte=e=>{y.useEffect(()=>{e.clearReset()},[e])},Lte=({result:e,errorResetBoundary:r,throwOnError:n,query:a,suspense:s})=>e.isError&&!r.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||hte(n,[e.error,a])),$te=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Bte=(e,r)=>e.isLoading&&e.isFetching&&!r,Ute=(e,r)=>(e==null?void 0:e.suspense)&&r.isPending,MR=(e,r,n)=>r.fetchOptimistic(e).catch(()=>{n.clearReset()});function Vte(e,r,n){var h,m,p,v,g;const a=Pte(),s=Ite(),i=Ate(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=a?"isRestoring":"optimistic",$te(o),Mte(o,s),Fte(s);const c=!i.getQueryCache().get(o.queryHash),[u]=y.useState(()=>new r(i,o)),d=u.getOptimisticResult(o),f=!a&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(x=>{const b=f?u.subscribe(oa.batchCalls(x)):bs;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),y.useEffect(()=>{u.setOptions(o)},[o,u]),Ute(o,d))throw MR(o,u,s);if(Lte({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((v=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,o,d),o.experimental_prefetchInRender&&!hf&&Bte(d,a)){const x=c?MR(o,u,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;x==null||x.catch(bs).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function bA(e,r){return Vte(e,Ete)}const Rt=e=>typeof e=="string",x0=()=>{let e,r;const n=new Promise((a,s)=>{e=a,r=s});return n.resolve=e,n.reject=r,n},FR=e=>e==null?"":""+e,zte=(e,r,n)=>{e.forEach(a=>{r[a]&&(n[a]=r[a])})},Wte=/###/g,LR=e=>e&&e.indexOf("###")>-1?e.replace(Wte,"."):e,$R=e=>!e||Rt(e),lg=(e,r,n)=>{const a=Rt(r)?r.split("."):r;let s=0;for(;s<a.length-1;){if($R(e))return{};const i=LR(a[s]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return $R(e)?{}:{obj:e,k:LR(a[s])}},BR=(e,r,n)=>{const{obj:a,k:s}=lg(e,r,Object);if(a!==void 0||r.length===1){a[s]=n;return}let i=r[r.length-1],o=r.slice(0,r.length-1),c=lg(e,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=lg(e,o,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=n},Hte=(e,r,n,a)=>{const{obj:s,k:i}=lg(e,r,Object);s[i]=s[i]||[],s[i].push(n)},v1=(e,r)=>{const{obj:n,k:a}=lg(e,r);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},qte=(e,r,n)=>{const a=v1(e,n);return a!==void 0?a:v1(r,n)},yU=(e,r,n)=>{for(const a in r)a!=="__proto__"&&a!=="constructor"&&(a in e?Rt(e[a])||e[a]instanceof String||Rt(r[a])||r[a]instanceof String?n&&(e[a]=r[a]):yU(e[a],r[a],n):e[a]=r[a]);return e},Qf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Kte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Gte=e=>Rt(e)?e.replace(/[&<>"'\/]/g,r=>Kte[r]):e;class Yte{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const n=this.regExpMap.get(r);if(n!==void 0)return n;const a=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,a),this.regExpQueue.push(r),a}}const Xte=[" ",",","?","!",";"],Jte=new Yte(20),Qte=(e,r,n)=>{r=r||"",n=n||"";const a=Xte.filter(o=>r.indexOf(o)<0&&n.indexOf(o)<0);if(a.length===0)return!0;const s=Jte.getRegExp(`(${a.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(e);if(!i){const o=e.indexOf(n);o>0&&!s.test(e.substring(0,o))&&(i=!0)}return i},R2=(e,r,n=".")=>{if(!e)return;if(e[r])return Object.prototype.hasOwnProperty.call(e,r)?e[r]:void 0;const a=r.split(n);let s=e;for(let i=0;i<a.length;){if(!s||typeof s!="object")return;let o,c="";for(let u=i;u<a.length;++u)if(u!==i&&(c+=n),c+=a[u],o=s[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<a.length-1)continue;i+=u-i+1;break}s=o}return s},Zg=e=>e==null?void 0:e.replace("_","-"),Zte={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,r){var n,a;(a=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||a.call(n,console,r)}};class x1{constructor(r,n={}){this.init(r,n)}init(r,n={}){this.prefix=n.prefix||"i18next:",this.logger=r||Zte,this.options=n,this.debug=n.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,n,a,s){return s&&!this.debug?null:(Rt(r[0])&&(r[0]=`${a}${this.prefix} ${r[0]}`),this.logger[n](r))}create(r){return new x1(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new x1(this.logger,r)}}var il=new x1;let C_=class{constructor(){this.observers={}}on(r,n){return r.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const s=this.observers[a].get(n)||0;this.observers[a].set(n,s+1)}),this}off(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r].delete(n)}}emit(r,...n){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[r,...n])})}};class UR extends C_{constructor(r,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const n=this.options.ns.indexOf(r);n>-1&&this.options.ns.splice(n,1)}getResource(r,n,a,s={}){var d,f;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;r.indexOf(".")>-1?c=r.split("."):(c=[r,n],a&&(Array.isArray(a)?c.push(...a):Rt(a)&&i?c.push(...a.split(i)):c.push(a)));const u=v1(this.data,c);return!u&&!n&&!a&&r.indexOf(".")>-1&&(r=c[0],n=c[1],a=c.slice(2).join(".")),u||!o||!Rt(a)?u:R2((f=(d=this.data)==null?void 0:d[r])==null?void 0:f[n],a,i)}addResource(r,n,a,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[r,n];a&&(c=c.concat(o?a.split(o):a)),r.indexOf(".")>-1&&(c=r.split("."),s=n,n=c[1]),this.addNamespaces(n),BR(this.data,c,s),i.silent||this.emit("added",r,n,a,s)}addResources(r,n,a,s={silent:!1}){for(const i in a)(Rt(a[i])||Array.isArray(a[i]))&&this.addResource(r,n,i,a[i],{silent:!0});s.silent||this.emit("added",r,n,a)}addResourceBundle(r,n,a,s,i,o={silent:!1,skipCopy:!1}){let c=[r,n];r.indexOf(".")>-1&&(c=r.split("."),s=a,a=n,n=c[1]),this.addNamespaces(n);let u=v1(this.data,c)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),s?yU(u,a,i):u={...u,...a},BR(this.data,c,u),o.silent||this.emit("added",r,n,a)}removeResourceBundle(r,n){this.hasResourceBundle(r,n)&&delete this.data[r][n],this.removeNamespaces(n),this.emit("removed",r,n)}hasResourceBundle(r,n){return this.getResource(r,n)!==void 0}getResourceBundle(r,n){return n||(n=this.options.defaultNS),this.getResource(r,n)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const n=this.getDataByLanguage(r);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var wU={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,r,n,a,s){return e.forEach(i=>{var o;r=((o=this.processors[i])==null?void 0:o.process(r,n,a,s))??r}),r}};const bU=Symbol("i18next/PATH_KEY");function ere(){const e=[],r=Object.create(null);let n;return r.get=(a,s)=>{var i;return(i=n==null?void 0:n.revoke)==null||i.call(n),s===bU?e:(e.push(s),n=Proxy.revocable(a,r),n.proxy)},Proxy.revocable(Object.create(null),r).proxy}function I2(e,r){const{[bU]:n}=e(ere());return n.join((r==null?void 0:r.keySeparator)??".")}const VR={},tk=e=>!Rt(e)&&typeof e!="boolean"&&typeof e!="number";class y1 extends C_{constructor(r,n={}){super(),zte(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=il.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,n={interpolation:{}}){const a={...n};if(r==null)return!1;const s=this.resolve(r,a);if((s==null?void 0:s.res)===void 0)return!1;const i=tk(s.res);return!(a.returnObjects===!1&&i)}extractFromKey(r,n){let a=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=a&&r.indexOf(a)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Qte(r,a,s);if(o&&!c){const u=r.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:r,namespaces:Rt(i)?[i]:i};const d=r.split(a);(a!==s||a===s&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),r=d.join(s)}return{key:r,namespaces:Rt(i)?[i]:i}}translate(r,n,a){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),r==null)return"";typeof r=="function"&&(r=I2(r,{...this.options,...s})),Array.isArray(r)||(r=[String(r)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:u}=this.extractFromKey(r[r.length-1],s),d=u[u.length-1];let f=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const h=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?i?{res:`${d}${f}${c}`,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${f}${c}`:i?{res:c,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:c;const p=this.resolve(r,s);let v=p==null?void 0:p.res;const g=(p==null?void 0:p.usedKey)||c,x=(p==null?void 0:p.exactUsedKey)||c,b=["[object Number]","[object Function]","[object RegExp]"],w=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,S=s.count!==void 0&&!Rt(s.count),j=y1.hasDefaultValue(s),N=S?this.pluralResolver.getSuffix(h,s.count,s):"",k=s.ordinal&&S?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",E=S&&!s.ordinal&&s.count===0,C=E&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${N}`]||s[`defaultValue${k}`]||s.defaultValue;let O=v;_&&!v&&j&&(O=C);const D=tk(O),T=Object.prototype.toString.apply(O);if(_&&O&&D&&b.indexOf(T)<0&&!(Rt(w)&&Array.isArray(O))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,O,{...s,ns:u}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(p.res=z,p.usedParams=this.getUsedParamsDetails(s),p):z}if(o){const z=Array.isArray(O),q=z?[]:{},F=z?x:g;for(const I in O)if(Object.prototype.hasOwnProperty.call(O,I)){const V=`${F}${o}${I}`;j&&!v?q[I]=this.translate(V,{...s,defaultValue:tk(C)?C[I]:void 0,joinArrays:!1,ns:u}):q[I]=this.translate(V,{...s,joinArrays:!1,ns:u}),q[I]===V&&(q[I]=O[I])}v=q}}else if(_&&Rt(w)&&Array.isArray(v))v=v.join(w),v&&(v=this.extendTranslation(v,r,s,a));else{let z=!1,q=!1;!this.isValidLookup(v)&&j&&(z=!0,v=C),this.isValidLookup(v)||(q=!0,v=c);const I=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:v,V=j&&C!==v&&this.options.updateMissing;if(q||z||V){if(this.logger.log(V?"updateKey":"missingKey",h,d,c,V?C:v),o){const Z=this.resolve(c,{...s,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let Z=0;Z<M.length;Z++)L.push(M[Z]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(s.lng||this.language):L.push(s.lng||this.language);const Y=(Z,A,X)=>{var H;const U=j&&X!==v?X:I;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,d,A,U,V,s):(H=this.backendConnector)!=null&&H.saveMissing&&this.backendConnector.saveMissing(Z,d,A,U,V,s),this.emit("missingKey",Z,d,A,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?L.forEach(Z=>{const A=this.pluralResolver.getSuffixes(Z,s);E&&s[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(X=>{Y([Z],c+X,s[`defaultValue${X}`]||C)})}):Y(L,c,C))}v=this.extendTranslation(v,r,s,p,a),q&&v===c&&this.options.appendNamespaceToMissingKey&&(v=`${d}${f}${c}`),(q||z)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${f}${c}`:c,z?v:void 0,s))}return i?(p.res=v,p.usedParams=this.getUsedParamsDetails(s),p):v}extendTranslation(r,n,a,s,i){var u,d;if((u=this.i18nFormat)!=null&&u.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const f=Rt(r)&&(((d=a==null?void 0:a.interpolation)==null?void 0:d.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(f){const p=r.match(this.interpolator.nestingRegexp);h=p&&p.length}let m=a.replace&&!Rt(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),r=this.interpolator.interpolate(r,m,a.lng||this.language||s.usedLng,a),f){const p=r.match(this.interpolator.nestingRegexp),v=p&&p.length;h<v&&(a.nest=!1)}!a.lng&&s&&s.res&&(a.lng=this.language||s.usedLng),a.nest!==!1&&(r=this.interpolator.nest(r,(...p)=>(i==null?void 0:i[0])===p[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,c=Rt(o)?[o]:o;return r!=null&&(c!=null&&c.length)&&a.applyPostProcessor!==!1&&(r=wU.handle(c,r,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),r}resolve(r,n={}){let a,s,i,o,c;return Rt(r)&&(r=[r]),r.forEach(u=>{if(this.isValidLookup(a))return;const d=this.extractFromKey(u,n),f=d.key;s=f;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!Rt(n.count),p=m&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(Rt(n.context)||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(x=>{var b,w;this.isValidLookup(a)||(c=x,!VR[`${g[0]}-${x}`]&&((b=this.utils)!=null&&b.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(c))&&(VR[`${g[0]}-${x}`]=!0,this.logger.warn(`key "${s}" for languages "${g.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(_=>{var N;if(this.isValidLookup(a))return;o=_;const S=[f];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(S,f,_,x,n);else{let k;m&&(k=this.pluralResolver.getSuffix(_,n.count,n));const E=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(n.ordinal&&k.indexOf(C)===0&&S.push(f+k.replace(C,this.options.pluralSeparator)),S.push(f+k),p&&S.push(f+E)),v){const O=`${f}${this.options.contextSeparator||"_"}${n.context}`;S.push(O),m&&(n.ordinal&&k.indexOf(C)===0&&S.push(O+k.replace(C,this.options.pluralSeparator)),S.push(O+k),p&&S.push(O+E))}}let j;for(;j=S.pop();)this.isValidLookup(a)||(i=j,a=this.getResource(_,x,j,n))}))})}),{res:a,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,n,a,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(r,n,a,s):this.resourceStore.getResource(r,n,a,s)}getUsedParamsDetails(r={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=r.replace&&!Rt(r.replace);let s=a?r.replace:r;if(a&&typeof r.count<"u"&&(s.count=r.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!a){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(r){const n="defaultValue";for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&n===a.substring(0,n.length)&&r[a]!==void 0)return!0;return!1}}class zR{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=il.create("languageUtils")}getScriptPartFromCode(r){if(r=Zg(r),!r||r.indexOf("-")<0)return null;const n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(r){if(r=Zg(r),!r||r.indexOf("-")<0)return r;const n=r.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(r){if(Rt(r)&&r.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(r)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let n;return r.forEach(a=>{if(n)return;const s=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&r.forEach(a=>{if(n)return;const s=this.getScriptPartFromCode(a);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(a);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),Rt(r)&&(r=[r]),Array.isArray(r))return r;if(!n)return r.default||[];let a=r[n];return a||(a=r[this.getScriptPartFromCode(n)]),a||(a=r[this.formatLanguageCode(n)]),a||(a=r[this.getLanguagePartFromCode(n)]),a||(a=r.default),a||[]}toResolveHierarchy(r,n){const a=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],r),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Rt(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(r))):Rt(r)&&i(this.formatLanguageCode(r)),a.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const WR={zero:0,one:1,two:2,few:3,many:4,other:5},HR={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class tre{constructor(r,n={}){this.languageUtils=r,this.options=n,this.logger=il.create("pluralResolver"),this.pluralRulesCache={}}addRule(r,n){this.rules[r]=n}clearCache(){this.pluralRulesCache={}}getRule(r,n={}){const a=Zg(r==="dev"?"en":r),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:a,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(a,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),HR;if(!r.match(/-|_/))return HR;const u=this.languageUtils.getLanguagePartFromCode(r);o=this.getRule(u,n)}return this.pluralRulesCache[i]=o,o}needsPlural(r,n={}){let a=this.getRule(r,n);return a||(a=this.getRule("dev",n)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(r,n,a={}){return this.getSuffixes(r,a).map(s=>`${n}${s}`)}getSuffixes(r,n={}){let a=this.getRule(r,n);return a||(a=this.getRule("dev",n)),a?a.resolvedOptions().pluralCategories.sort((s,i)=>WR[s]-WR[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(r,n,a={}){const s=this.getRule(r,a);return s?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",n,a))}}const qR=(e,r,n,a=".",s=!0)=>{let i=qte(e,r,n);return!i&&s&&Rt(n)&&(i=R2(e,n,a),i===void 0&&(i=R2(r,n,a))),i},rk=e=>e.replace(/\$/g,"$$$$");class rre{constructor(r={}){var n;this.logger=il.create("interpolator"),this.options=r,this.format=((n=r==null?void 0:r.interpolation)==null?void 0:n.format)||(a=>a),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:n,escapeValue:a,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:u,formatSeparator:d,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:g,nestingOptionsSeparator:x,maxReplaces:b,alwaysFormat:w}=r.interpolation;this.escape=n!==void 0?n:Gte,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Qf(i):o||"{{",this.suffix=c?Qf(c):u||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=m?Qf(m):p||Qf("$t("),this.nestingSuffix=v?Qf(v):g||Qf(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=b||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(n,a)=>(n==null?void 0:n.source)===a?(n.lastIndex=0,n):new RegExp(a,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,n,a,s){var p;let i,o,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=v=>{if(v.indexOf(this.formatSeparator)<0){const w=qR(n,u,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,a,{...s,...n,interpolationkey:v}):w}const g=v.split(this.formatSeparator),x=g.shift().trim(),b=g.join(this.formatSeparator).trim();return this.format(qR(n,u,x,this.options.keySeparator,this.options.ignoreJSONStructure),b,a,{...s,...n,interpolationkey:x})};this.resetRegExp();const f=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((p=s==null?void 0:s.interpolation)==null?void 0:p.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>rk(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?rk(this.escape(v)):rk(v)}].forEach(v=>{for(c=0;i=v.regex.exec(r);){const g=i[1].trim();if(o=d(g),o===void 0)if(typeof f=="function"){const b=f(r,i,s);o=Rt(b)?b:""}else if(s&&Object.prototype.hasOwnProperty.call(s,g))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${r}`),o="";else!Rt(o)&&!this.useRawValueToEscape&&(o=FR(o));const x=v.safeValue(o);if(r=r.replace(i[0],x),h?(v.regex.lastIndex+=o.length,v.regex.lastIndex-=i[0].length):v.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),r}nest(r,n,a={}){let s,i,o;const c=(u,d)=>{const f=this.nestingOptionsSeparator;if(u.indexOf(f)<0)return u;const h=u.split(new RegExp(`${f}[ ]*{`));let m=`{${h[1]}`;u=h[0],m=this.interpolate(m,o);const p=m.match(/'/g),v=m.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!v||v.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),d&&(o={...d,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,g),`${u}${f}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;s=this.nestingRegexp.exec(r);){let u=[];o={...a},o=o.replace&&!Rt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(d!==-1&&(u=s[1].slice(d).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),s[1]=s[1].slice(0,d)),i=n(c.call(this,s[1].trim(),o),o),i&&s[0]===r&&!Rt(i))return i;Rt(i)||(i=FR(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${r}`),i=""),u.length&&(i=u.reduce((f,h)=>this.format(f,h,a.lng,{...a,interpolationkey:s[1].trim()}),i.trim())),r=r.replace(s[0],i),this.regexp.lastIndex=0}return r}}const nre=e=>{let r=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const a=e.split("(");r=a[0].toLowerCase().trim();const s=a[1].substring(0,a[1].length-1);r==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):r==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[c,...u]=o.split(":"),d=u.join(":").trim().replace(/^'+|'+$/g,""),f=c.trim();n[f]||(n[f]=d),d==="false"&&(n[f]=!1),d==="true"&&(n[f]=!0),isNaN(d)||(n[f]=parseInt(d,10))}})}return{formatName:r,formatOptions:n}},KR=e=>{const r={};return(n,a,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=a+JSON.stringify(i);let c=r[o];return c||(c=e(Zg(a),s),r[o]=c),c(n)}},are=e=>(r,n,a)=>e(Zg(n),a)(r);class sre{constructor(r={}){this.logger=il.create("formatter"),this.options=r,this.init(r)}init(r,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const a=n.cacheInBuiltFormats?KR:are;this.formats={number:a((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return c=>o.format(c)}),currency:a((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return c=>o.format(c)}),datetime:a((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return c=>o.format(c)}),relativetime:a((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return c=>o.format(c,i.range||"day")}),list:a((s,i)=>{const o=new Intl.ListFormat(s,{...i});return c=>o.format(c)})}}add(r,n){this.formats[r.toLowerCase().trim()]=n}addCached(r,n){this.formats[r.toLowerCase().trim()]=KR(n)}format(r,n,a,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,u)=>{var h;const{formatName:d,formatOptions:f}=nre(u);if(this.formats[d]){let m=c;try{const p=((h=s==null?void 0:s.formatParams)==null?void 0:h[s.interpolationkey])||{},v=p.locale||p.lng||s.locale||s.lng||a;m=this.formats[d](c,v,{...f,...s,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${d}`);return c},r)}}const ire=(e,r)=>{e.pending[r]!==void 0&&(delete e.pending[r],e.pendingCount--)};class ore extends C_{constructor(r,n,a,s={}){var i,o;super(),this.backend=r,this.store=n,this.services=a,this.languageUtils=a.languageUtils,this.options=s,this.logger=il.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,a,s.backend,s)}queueLoad(r,n,a,s){const i={},o={},c={},u={};return r.forEach(d=>{let f=!0;n.forEach(h=>{const m=`${d}|${h}`;!a.reload&&this.store.hasResourceBundle(d,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,f=!1,o[m]===void 0&&(o[m]=!0),i[m]===void 0&&(i[m]=!0),u[h]===void 0&&(u[h]=!0)))}),f||(c[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(r,n,a){const s=r.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&a&&this.store.addResourceBundle(i,o,a,void 0,void 0,{skipCopy:!0}),this.state[r]=n?-1:2,n&&a&&(this.state[r]=0);const c={};this.queue.forEach(u=>{Hte(u.loaded,[i],o),ire(u,r),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(d=>{c[d]||(c[d]={});const f=u.loaded[d];f.length&&f.forEach(h=>{c[d][h]===void 0&&(c[d][h]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(r,n,a,s=0,i=this.retryTimeout,o){if(!r.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:n,fcName:a,tried:s,wait:i,callback:o});return}this.readingCalls++;const c=(d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,r,n,a,s+1,i*2,o)},i);return}o(d,f)},u=this.backend[a].bind(this.backend);if(u.length===2){try{const d=u(r,n);d&&typeof d.then=="function"?d.then(f=>c(null,f)).catch(c):c(null,d)}catch(d){c(d)}return}return u(r,n,c)}prepareLoading(r,n,a={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Rt(r)&&(r=this.languageUtils.toResolveHierarchy(r)),Rt(n)&&(n=[n]);const i=this.queueLoad(r,n,a,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(r,n,a){this.prepareLoading(r,n,{},a)}reload(r,n,a){this.prepareLoading(r,n,{reload:!0},a)}loadOne(r,n=""){const a=r.split("|"),s=a[0],i=a[1];this.read(s,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&c&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,c),this.loaded(r,o,c)})}saveMissing(r,n,a,s,i,o={},c=()=>{}){var u,d,f,h,m;if((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace&&!((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${a}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((m=this.backend)!=null&&m.create){const p={...o,isUpdate:i},v=this.backend.create.bind(this.backend);if(v.length<6)try{let g;v.length===5?g=v(r,n,a,s,p):g=v(r,n,a,s),g&&typeof g.then=="function"?g.then(x=>c(null,x)).catch(c):c(null,g)}catch(g){c(g)}else v(r,n,a,s,c,p)}!r||!r[0]||this.store.addResource(r[0],n,a,s)}}}const GR=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let r={};if(typeof e[1]=="object"&&(r=e[1]),Rt(e[1])&&(r.defaultValue=e[1]),Rt(e[2])&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(a=>{r[a]=n[a]})}return r},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),YR=e=>{var r,n;return Rt(e.ns)&&(e.ns=[e.ns]),Rt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Rt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(r=e.supportedLngs)==null?void 0:r.indexOf)==null?void 0:n.call(r,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Ey=()=>{},lre=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class cg extends C_{constructor(r={},n){if(super(),this.options=YR(r),this.services={},this.logger=il,this.modules={external:[]},lre(this),n&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,n),this;setTimeout(()=>{this.init(r,n)},0)}}init(r={},n){this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(Rt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const a=GR();this.options={...a,...this.options,...YR(r)},this.options.interpolation={...a.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?il.init(s(this.modules.logger),this.options):il.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=sre;const f=new zR(this.options);this.store=new UR(this.options.resources,this.options);const h=this.services;h.logger=il,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new tre(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=s(d),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new rre(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new ore(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new y1(this.services,this.options),this.translator.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ey),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...f)=>this.store[d](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...f)=>(this.store[d](...f),this)});const c=x0(),u=()=>{const d=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(r,n=Ey){var i,o;let a=n;const s=Rt(r)?r:this.language;if(typeof r=="function"&&(a=r),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const c=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&c.indexOf(h)<0&&c.push(h)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,d=>u(d)),this.services.backendConnector.load(c,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(d)})}else a(null)}reloadResources(r,n,a){const s=x0();return typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=void 0),r||(r=this.languages),n||(n=this.options.ns),a||(a=Ey),this.services.backendConnector.reload(r,n,i=>{s.resolve(),a(i)}),s}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&wU.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let n=0;n<this.languages.length;n++){const a=this.languages[n];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,n){this.isLanguageChangingTo=r;const a=x0();this.emit("languageChanging",r);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,u)=>{u?this.isLanguageChangingTo===r&&(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve((...d)=>this.t(...d)),n&&n(c,(...d)=>this.t(...d))},o=c=>{var f,h;!r&&!c&&this.services.languageDetector&&(c=[]);const u=Rt(c)?c:c&&c[0],d=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Rt(c)?[c]:c);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),(h=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||h.call(f,d)),this.loadResources(d,m=>{i(m,d)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(r),a}getFixedT(r,n,a){const s=(i,o,...c)=>{let u;typeof o!="object"?u=this.options.overloadTranslationOptionHandler([i,o].concat(c)):u={...o},u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||a||s.keyPrefix);const d=this.options.keySeparator||".";let f;return u.keyPrefix&&Array.isArray(i)?f=i.map(h=>(typeof h=="function"&&(h=I2(h,{...this.options,...o})),`${u.keyPrefix}${d}${h}`)):(typeof i=="function"&&(i=I2(i,{...this.options,...o})),f=u.keyPrefix?`${u.keyPrefix}${d}${i}`:i),this.t(f,u)};return Rt(r)?s.lng=r:s.lngs=r,s.ns=n,s.keyPrefix=a,s}t(...r){var n;return(n=this.translator)==null?void 0:n.translate(...r)}exists(...r){var n;return(n=this.translator)==null?void 0:n.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(c,u)=>{const d=this.services.backendConnector.state[`${c}|${u}`];return d===-1||d===0||d===2};if(n.precheck){const c=n.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(a,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(a,r)&&(!s||o(i,r)))}loadNamespaces(r,n){const a=x0();return this.options.ns?(Rt(r)&&(r=[r]),r.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{a.resolve(),n&&n(s)}),a):(n&&n(),Promise.resolve())}loadLanguages(r,n){const a=x0();Rt(r)&&(r=[r]);const s=this.options.preload||[],i=r.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{a.resolve(),n&&n(o)}),a):(n&&n(),Promise.resolve())}dir(r){var s,i;if(r||(r=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!r)return"rtl";try{const o=new Intl.Locale(r);if(o&&o.getTextInfo){const c=o.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((i=this.services)==null?void 0:i.languageUtils)||new zR(GR());return r.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(a.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},n){const a=new cg(r,n);return a.createInstance=cg.createInstance,a}cloneInstance(r={},n=Ey){const a=r.forkResourceStore;a&&delete r.forkResourceStore;const s={...this.options,...r,isClone:!0},i=new cg(s);if((r.debug!==void 0||r.prefix!==void 0)&&(i.logger=i.logger.clone(r)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a){const c=Object.keys(this.store.data).reduce((u,d)=>(u[d]={...this.store.data[d]},u[d]=Object.keys(u[d]).reduce((f,h)=>(f[h]={...u[d][h]},f),u[d]),u),{});i.store=new UR(c,s),i.services.resourceStore=i.store}return i.translator=new y1(i.services,s),i.translator.on("*",(c,...u)=>{i.emit(c,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zr=cg.createInstance();Zr.createInstance;Zr.dir;Zr.init;Zr.loadResources;Zr.reloadResources;Zr.use;Zr.changeLanguage;Zr.getFixedT;Zr.t;Zr.exists;Zr.setDefaultNamespace;Zr.hasLoadedNamespace;Zr.loadNamespaces;Zr.loadLanguages;const cre=(e,r,n,a)=>{var i,o,c,u;const s=[n,{code:r,...a||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);mf(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(u=(c=e==null?void 0:e.services)==null?void 0:c.logger)!=null&&u.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},XR={},_U=(e,r,n,a)=>{mf(n)&&XR[n]||(mf(n)&&(XR[n]=new Date),cre(e,r,n,a))},SU=(e,r)=>()=>{if(e.isInitialized)r();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),r()};e.on("initialized",n)}},M2=(e,r,n)=>{e.loadNamespaces(r,SU(e,n))},JR=(e,r,n,a)=>{if(mf(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(r)>-1)return M2(e,n,a);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(r,SU(e,a))},ure=(e,r,n={})=>!r.languages||!r.languages.length?(_U(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!s(a.isLanguageChangingTo,e))return!1}}),mf=e=>typeof e=="string",dre=e=>typeof e=="object"&&e!==null,fre=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hre={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mre=e=>hre[e],pre=e=>e.replace(fre,mre);let F2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pre};const gre=(e={})=>{F2={...F2,...e}},vre=()=>F2;let jU;const xre=e=>{jU=e},yre=()=>jU,wre={type:"3rdParty",init(e){gre(e.options.react),xre(e)}},kU=y.createContext();class bre{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var NU={exports:{}},EU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=y;function _re(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Sre=typeof Object.is=="function"?Object.is:_re,jre=Dm.useState,kre=Dm.useEffect,Nre=Dm.useLayoutEffect,Ere=Dm.useDebugValue;function Cre(e,r){var n=r(),a=jre({inst:{value:n,getSnapshot:r}}),s=a[0].inst,i=a[1];return Nre(function(){s.value=n,s.getSnapshot=r,nk(s)&&i({inst:s})},[e,n,r]),kre(function(){return nk(s)&&i({inst:s}),e(function(){nk(s)&&i({inst:s})})},[e]),Ere(n),n}function nk(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!Sre(e,n)}catch{return!0}}function Tre(e,r){return r()}var Are=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tre:Cre;EU.useSyncExternalStore=Dm.useSyncExternalStore!==void 0?Dm.useSyncExternalStore:Are;NU.exports=EU;var CU=NU.exports;const Ore=(e,r)=>mf(r)?r:dre(r)&&mf(r.defaultValue)?r.defaultValue:Array.isArray(e)?e[e.length-1]:e,Pre={t:Ore,ready:!1},Dre=()=>()=>{},qt=(e,r={})=>{var k,E;const{i18n:n}=r,{i18n:a,defaultNS:s}=y.useContext(kU)||{},i=n||a||yre();i&&!i.reportNamespaces&&(i.reportNamespaces=new bre),i||_U(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=y.useMemo(()=>{var C;return{...vre(),...(C=i==null?void 0:i.options)==null?void 0:C.react,...r}},[i,r]),{useSuspense:c,keyPrefix:u}=o,d=y.useMemo(()=>{var O;const C=s||((O=i==null?void 0:i.options)==null?void 0:O.defaultNS);return mf(C)?[C]:C||["translation"]},[e,s,i]);(E=(k=i==null?void 0:i.reportNamespaces)==null?void 0:k.addUsedNamespaces)==null||E.call(k,d);const f=y.useRef(0),h=y.useCallback(C=>{if(!i)return Dre;const{bindI18n:O,bindI18nStore:D}=o,T=()=>{f.current+=1,C()};return O&&i.on(O,T),D&&i.store.on(D,T),()=>{O&&O.split(" ").forEach(z=>i.off(z,T)),D&&D.split(" ").forEach(z=>i.store.off(z,T))}},[i,o]),m=y.useRef(),p=y.useCallback(()=>{if(!i)return Pre;const C=!!(i.isInitialized||i.initializedStoreOnce)&&d.every(F=>ure(F,i,o)),O=r.lng||i.language,D=f.current,T=m.current;if(T&&T.ready===C&&T.lng===O&&T.keyPrefix===u&&T.revision===D)return T;const q={t:i.getFixedT(O,o.nsMode==="fallback"?d:d[0],u),ready:C,lng:O,keyPrefix:u,revision:D};return m.current=q,q},[i,d,u,o,r.lng]),[v,g]=y.useState(0),{t:x,ready:b}=CU.useSyncExternalStore(h,p,p);y.useEffect(()=>{if(i&&!b&&!c){const C=()=>g(O=>O+1);r.lng?JR(i,r.lng,d,C):M2(i,d,C)}},[i,r.lng,d,b,c,v]);const w=i||{},_=y.useRef(null),S=y.useRef(),j=C=>{const O=Object.getOwnPropertyDescriptors(C);O.__original&&delete O.__original;const D=Object.create(Object.getPrototypeOf(C),O);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},N=y.useMemo(()=>{const C=w,O=C==null?void 0:C.language;let D=C;C&&(_.current&&_.current.__original===C?S.current!==O?(D=j(C),_.current=D,S.current=O):D=_.current:(D=j(C),_.current=D,S.current=O));const T=[x,D,b];return T.t=x,T.i18n=D,T.ready=b,T},[x,w,b,w.resolvedLanguage,w.language,w.languages]);if(i&&c&&!b)throw new Promise(C=>{const O=()=>C();r.lng?JR(i,r.lng,d,O):M2(i,d,O)});return N};function Rre({i18n:e,defaultNS:r,children:n}){const a=y.useMemo(()=>({i18n:e,defaultNS:r}),[e,r]);return y.createElement(kU.Provider,{value:a},n)}const Ire={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions"},Mre={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},Fre={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},Lre={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to continue",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Signing in...",signInButton:"Sign In",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google"},$re={welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",search:"Search",filter:"Filter",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},Bre={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},Ure={title:"Dashboard",subtitle:"Welcome back! Here's an overview of your projects.",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"Active projects",clients:"Clients",totalClients:"Total clients",teamMembers:"Team Members",activeUsers:"Active users",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",retry:"Retry",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},Vre={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},zre={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},Wre={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},Hre={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},qre={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},Kre={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},Gre={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},Yre={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},Xre={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},Jre={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},Qre={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Zre={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},ene={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},tne={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",bulkImport:"Bulk Import",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},rne={company:"Company",city:"City",country:"Country",activity:"Activity",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",uploadQuotation:"Upload Quotation",description:"Description",decisionMaker:"Decision Maker",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},nne={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},ane={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},sne={navigation:Ire,buttons:Mre,forms:Fre,auth:Lre,common:$re,status:Bre,dashboard:Ure,leads:Vre,notes:zre,projects:Wre,settings:Hre,chat:qre,tickets:Kre,teams:Gre,tasks:Yre,landing:Xre,users:Jre,clients:Qre,employeeDashboard:Zre,chats:ene,surveys:tne,mleads:rne,mprojects:nne,requests:ane},ine={home:"",dashboard:" ",projects:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:""},one={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},lne={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},cne={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    ",emailOrUsername:"  /  ",enterEmail:"  ",enterPassword:"  ",loginSuccess:"   ",loginFailed:"  .    .",loginFailedTitle:"  "},une={retry:" ",comingSoon:"",next:"",back:""},dne={fillAllFields:"   ",required:"",invalidEmail:"   ",passwordTooShort:"   ",passwordsNotMatch:"   "},fne={title:" ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},hne={title:"   ",subtitle:"     ",comingSoonMessage:"       ."},mne={title:"",subtitle:"    ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},pne={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},gne={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},vne={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},xne={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},yne={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},wne={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},bne={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},_ne={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},Sne={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},jne={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},kne={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},Nne={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},Ene={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},Cne={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},Tne={company:"",city:"",country:"",activity:"",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",uploadQuotation:" ",noContactsFound:"     ",allActivities:" ",allCountries:" ",allCities:" ",allSystems:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",decisionMaker:" ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},Ane={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},One={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},Pne={navigation:ine,buttons:one,forms:lne,auth:cne,common:une,validation:dne,dashboard:fne,partnerEmployeeDashboard:hne,surveys:mne,status:pne,leads:gne,notes:vne,projects:xne,chat:yne,tickets:wne,teams:bne,tasks:_ne,landing:Sne,users:jne,clients:kne,employeeDashboard:Nne,chats:Ene,settings:Cne,mleads:Tne,mprojects:Ane,requests:One},Dne={en:{translation:sne},ar:{translation:Pne}};Zr.use(wre).init({resources:Dne,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Ae=(e,r)=>{if(Zr.language==="ar"){const s=`${r}_ar`;if(e[s]&&e[s].trim())return e[s]}if(e[r]&&e[r].trim())return e[r];const a=`${r}_ar`;return e[a]&&e[a].trim()?e[a]:""},wl=(e,r)=>{const n=Zr.language,a={...e};return Object.entries(r).forEach(([s,i])=>{n==="ar"?(a[`${i}_ar`]=e[s],a[i]=e[s]):(a[i]=e[s],a[`${i}_ar`]=e[s])}),a},kr=()=>Zr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ev.apply(this,arguments)}var pu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pu||(pu={}));const QR="popstate";function Rne(e){e===void 0&&(e={});function r(s,i){let{pathname:o="/",search:c="",hash:u=""}=Mf(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),L2("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");c=d===-1?u:u.slice(0,d)}return c+"#"+(typeof i=="string"?i:w1(i))}function a(s,i){_A(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Mne(r,n,a,e)}function vn(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function _A(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Ine(){return Math.random().toString(36).substr(2,8)}function ZR(e,r){return{usr:e.state,key:e.key,idx:r}}function L2(e,r,n,a){return n===void 0&&(n=null),ev({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Mf(r):r,{state:n,key:r&&r.key||a||Ine()})}function w1(e){let{pathname:r="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Mf(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function Mne(e,r,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,c=pu.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(ev({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){c=pu.Pop;let x=f(),b=x==null?null:x-d;d=x,u&&u({action:c,location:g.location,delta:b})}function m(x,b){c=pu.Push;let w=L2(g.location,x,b);n&&n(w,x),d=f()+1;let _=ZR(w,d),S=g.createHref(w);try{o.pushState(_,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&u&&u({action:c,location:g.location,delta:1})}function p(x,b){c=pu.Replace;let w=L2(g.location,x,b);n&&n(w,x),d=f();let _=ZR(w,d),S=g.createHref(w);o.replaceState(_,"",S),i&&u&&u({action:c,location:g.location,delta:0})}function v(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:w1(x);return w=w.replace(/ $/,"%20"),vn(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let g={get action(){return c},get location(){return e(s,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(QR,h),u=x,()=>{s.removeEventListener(QR,h),u=null}},createHref(x){return r(s,x)},createURL:v,encodeLocation(x){let b=v(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(x){return o.go(x)}};return g}var eI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(eI||(eI={}));function Fne(e,r,n){return n===void 0&&(n="/"),Lne(e,r,n,!1)}function Lne(e,r,n,a){let s=typeof r=="string"?Mf(r):r,i=SA(s.pathname||"/",n);if(i==null)return null;let o=TU(e);$ne(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=Xne(i);c=Gne(o[u],d,a)}return c}function TU(e,r,n,a){r===void 0&&(r=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(vn(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let d=Tu([a,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(vn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),TU(i.children,r,f,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:qne(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of AU(i.path))s(i,o,u)}),r}function AU(e){let r=e.split("/");if(r.length===0)return[];let[n,...a]=r,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=AU(a.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function $ne(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:Kne(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const Bne=/^:[\w-]+$/,Une=3,Vne=2,zne=1,Wne=10,Hne=-2,tI=e=>e==="*";function qne(e,r){let n=e.split("/"),a=n.length;return n.some(tI)&&(a+=Hne),r&&(a+=Vne),n.filter(s=>!tI(s)).reduce((s,i)=>s+(Bne.test(i)?Une:i===""?zne:Wne),a)}function Kne(e,r){return e.length===r.length&&e.slice(0,-1).every((a,s)=>a===r[s])?e[e.length-1]-r[r.length-1]:0}function Gne(e,r,n){let{routesMeta:a}=e,s={},i="/",o=[];for(let c=0;c<a.length;++c){let u=a[c],d=c===a.length-1,f=i==="/"?r:r.slice(i.length)||"/",h=rI({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),m=u.route;if(!h&&d&&n&&!a[a.length-1].route.index&&(h=rI({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Tu([i,h.pathname]),pathnameBase:eae(Tu([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Tu([i,h.pathnameBase]))}return o}function rI(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Yne(e.path,e.caseSensitive,e.end),s=r.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((d,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let g=c[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=c[h];return p&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Yne(e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),_A(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(a.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function Xne(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return _A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function SA(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function Jne(e,r){r===void 0&&(r="/");let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Mf(e):e;return{pathname:n?n.startsWith("/")?n:Qne(n,r):r,search:tae(a),hash:rae(s)}}function Qne(e,r){let n=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ak(e,r,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zne(e){return e.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function jA(e,r){let n=Zne(e);return r?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function kA(e,r,n,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Mf(e):(s=ev({},e),vn(!s.pathname||!s.pathname.includes("?"),ak("?","pathname","search",s)),vn(!s.pathname||!s.pathname.includes("#"),ak("#","pathname","hash",s)),vn(!s.search||!s.search.includes("#"),ak("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let h=r.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}c=h>=0?r[h]:"/"}let u=Jne(s,c),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const Tu=e=>e.join("/").replace(/\/\/+/g,"/"),eae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OU=["post","put","patch","delete"];new Set(OU);const aae=["get",...OU];new Set(aae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tv.apply(this,arguments)}const NA=y.createContext(null),sae=y.createContext(null),Xu=y.createContext(null),T_=y.createContext(null),Tl=y.createContext({outlet:null,matches:[],isDataRoute:!1}),PU=y.createContext(null);function iae(e,r){let{relative:n}=r===void 0?{}:r;Op()||vn(!1);let{basename:a,navigator:s}=y.useContext(Xu),{hash:i,pathname:o,search:c}=RU(e,{relative:n}),u=o;return a!=="/"&&(u=o==="/"?a:Tu([a,o])),s.createHref({pathname:u,search:c,hash:i})}function Op(){return y.useContext(T_)!=null}function Al(){return Op()||vn(!1),y.useContext(T_).location}function DU(e){y.useContext(Xu).static||y.useLayoutEffect(e)}function Vs(){let{isDataRoute:e}=y.useContext(Tl);return e?_ae():oae()}function oae(){Op()||vn(!1);let e=y.useContext(NA),{basename:r,future:n,navigator:a}=y.useContext(Xu),{matches:s}=y.useContext(Tl),{pathname:i}=Al(),o=JSON.stringify(jA(s,n.v7_relativeSplatPath)),c=y.useRef(!1);return DU(()=>{c.current=!0}),y.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){a.go(d);return}let h=kA(d,JSON.parse(o),i,f.relative==="path");e==null&&r!=="/"&&(h.pathname=h.pathname==="/"?r:Tu([r,h.pathname])),(f.replace?a.replace:a.push)(h,f.state,f)},[r,a,o,i,e])}const lae=y.createContext(null);function cae(e){let r=y.useContext(Tl).outlet;return r&&y.createElement(lae.Provider,{value:e},r)}function uae(){let{matches:e}=y.useContext(Tl),r=e[e.length-1];return r?r.params:{}}function RU(e,r){let{relative:n}=r===void 0?{}:r,{future:a}=y.useContext(Xu),{matches:s}=y.useContext(Tl),{pathname:i}=Al(),o=JSON.stringify(jA(s,a.v7_relativeSplatPath));return y.useMemo(()=>kA(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function dae(e,r){return fae(e,r)}function fae(e,r,n,a){Op()||vn(!1);let{navigator:s}=y.useContext(Xu),{matches:i}=y.useContext(Tl),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Al(),f;if(r){var h;let x=typeof r=="string"?Mf(r):r;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||vn(!1),f=x}else f=d;let m=f.pathname||"/",p=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Fne(e,{pathname:p}),g=vae(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Tu([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Tu([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,a);return r&&g?y.createElement(T_.Provider,{value:{location:tv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:pu.Pop}},g):g}function hae(){let e=bae(),r=nae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},r),n?y.createElement("pre",{style:s},n):null,null)}const mae=y.createElement(hae,null);class pae extends y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?y.createElement(Tl.Provider,{value:this.props.routeContext},y.createElement(PU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gae(e){let{routeContext:r,match:n,children:a}=e,s=y.useContext(NA);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Tl.Provider,{value:r},a)}function vae(e,r,n,a){var s;if(r===void 0&&(r=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let f=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);f>=0||vn(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&a&&a.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:p}=n,v=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let p,v=!1,g=null,x=null;n&&(p=c&&h.route.id?c[h.route.id]:void 0,g=h.route.errorElement||mae,u&&(d<0&&m===0?(v=!0,x=null):d===m&&(v=!0,x=h.route.hydrateFallbackElement||null)));let b=r.concat(o.slice(0,m+1)),w=()=>{let _;return p?_=g:v?_=x:h.route.Component?_=y.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,y.createElement(gae,{match:h,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?y.createElement(pae,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var IU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(IU||{}),b1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(b1||{});function xae(e){let r=y.useContext(NA);return r||vn(!1),r}function yae(e){let r=y.useContext(sae);return r||vn(!1),r}function wae(e){let r=y.useContext(Tl);return r||vn(!1),r}function MU(e){let r=wae(),n=r.matches[r.matches.length-1];return n.route.id||vn(!1),n.route.id}function bae(){var e;let r=y.useContext(PU),n=yae(b1.UseRouteError),a=MU(b1.UseRouteError);return r!==void 0?r:(e=n.errors)==null?void 0:e[a]}function _ae(){let{router:e}=xae(IU.UseNavigateStable),r=MU(b1.UseNavigateStable),n=y.useRef(!1);return DU(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,tv({fromRouteId:r},i)))},[e,r])}function Sae(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Pw(e){let{to:r,replace:n,state:a,relative:s}=e;Op()||vn(!1);let{future:i,static:o}=y.useContext(Xu),{matches:c}=y.useContext(Tl),{pathname:u}=Al(),d=Vs(),f=kA(r,jA(c,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(f);return y.useEffect(()=>d(JSON.parse(h),{replace:n,state:a,relative:s}),[d,h,s,n,a]),null}function nI(e){return cae(e.context)}function Er(e){vn(!1)}function jae(e){let{basename:r="/",children:n=null,location:a,navigationType:s=pu.Pop,navigator:i,static:o=!1,future:c}=e;Op()&&vn(!1);let u=r.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:u,navigator:i,static:o,future:tv({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);typeof a=="string"&&(a=Mf(a));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:v="default"}=a,g=y.useMemo(()=>{let x=SA(f,u);return x==null?null:{location:{pathname:x,search:h,hash:m,state:p,key:v},navigationType:s}},[u,f,h,m,p,v,s]);return g==null?null:y.createElement(Xu.Provider,{value:d},y.createElement(T_.Provider,{children:n,value:g}))}function kae(e){let{children:r,location:n}=e;return dae($2(r),n)}new Promise(()=>{});function $2(e,r){r===void 0&&(r=[]);let n=[];return y.Children.forEach(e,(a,s)=>{if(!y.isValidElement(a))return;let i=[...r,s];if(a.type===y.Fragment){n.push.apply(n,$2(a.props.children,i));return}a.type!==Er&&vn(!1),!a.props.index||!a.props.children||vn(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=$2(a.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},B2.apply(this,arguments)}function Nae(e,r){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Eae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Cae(e,r){return e.button===0&&(!r||r==="_self")&&!Eae(e)}const Tae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Aae="6";try{window.__reactRouterVersion=Aae}catch{}const Oae="startTransition",aI=NT[Oae];function Pae(e){let{basename:r,children:n,future:a,window:s}=e,i=y.useRef();i.current==null&&(i.current=Rne({window:s,v5Compat:!0}));let o=i.current,[c,u]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},f=y.useCallback(h=>{d&&aI?aI(()=>u(h)):u(h)},[u,d]);return y.useLayoutEffect(()=>o.listen(f),[o,f]),y.useEffect(()=>Sae(a),[a]),y.createElement(jae,{basename:r,children:n,location:c.location,navigationType:c.action,navigator:o,future:a})}const Dae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U2=y.forwardRef(function(r,n){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:h}=r,m=Nae(r,Tae),{basename:p}=y.useContext(Xu),v,g=!1;if(typeof d=="string"&&Rae.test(d)&&(v=d,Dae))try{let _=new URL(window.location.href),S=d.startsWith("//")?new URL(_.protocol+d):new URL(d),j=SA(S.pathname,p);S.origin===_.origin&&j!=null?d=j+S.search+S.hash:g=!0}catch{}let x=iae(d,{relative:s}),b=Iae(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:h});function w(_){a&&a(_),_.defaultPrevented||b(_)}return y.createElement("a",B2({},m,{href:v||x,onClick:g||i?a:w,ref:n,target:u}))});var sI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sI||(sI={}));var iI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(iI||(iI={}));function Iae(e,r){let{target:n,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:c}=r===void 0?{}:r,u=Vs(),d=Al(),f=RU(e,{relative:o});return y.useCallback(h=>{if(Cae(h,n)){h.preventDefault();let m=a!==void 0?a:w1(d)===w1(f);u(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[d,u,f,a,s,n,e,i,o,c])}function It(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function Ps(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}function Qa(e,r){const n=It(e);return isNaN(r)?Ps(e,NaN):(r&&n.setDate(n.getDate()+r),n)}function Co(e,r){const n=It(e);if(isNaN(r))return Ps(e,NaN);if(!r)return n;const a=n.getDate(),s=Ps(e,n.getTime());s.setMonth(n.getMonth()+r+1,0);const i=s.getDate();return a>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}const EA=6048e5,Mae=864e5,Cy=43200,oI=1440;let Fae={};function Pp(){return Fae}function bl(e,r){var c,u,d,f;const n=Pp(),a=(r==null?void 0:r.weekStartsOn)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=It(e),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function pf(e){return bl(e,{weekStartsOn:1})}function FU(e){const r=It(e),n=r.getFullYear(),a=Ps(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=pf(a),i=Ps(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=pf(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Rm(e){const r=It(e);return r.setHours(0,0,0,0),r}function Im(e){const r=It(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function ol(e,r){const n=Rm(e),a=Rm(r),s=+n-Im(n),i=+a-Im(a);return Math.round((s-i)/Mae)}function Lae(e){const r=FU(e),n=Ps(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),pf(n)}function V2(e,r){const n=r*7;return Qa(e,n)}function $ae(e,r){return Co(e,r*12)}function Bae(e){let r;return e.forEach(function(n){const a=It(n);(r===void 0||r<a||isNaN(Number(a)))&&(r=a)}),r||new Date(NaN)}function Uae(e){let r;return e.forEach(n=>{const a=It(n);(!r||r>a||isNaN(+a))&&(r=a)}),r||new Date(NaN)}function Dw(e,r){const n=It(e),a=It(r),s=n.getTime()-a.getTime();return s<0?-1:s>0?1:s}function Vae(e){return Ps(e,Date.now())}function js(e,r){const n=Rm(e),a=Rm(r);return+n==+a}function CA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zae(e){if(!CA(e)&&typeof e!="number")return!1;const r=It(e);return!isNaN(Number(r))}function Mm(e,r){const n=It(e),a=It(r),s=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return s*12+i}function Wae(e,r,n){const a=bl(e,n),s=bl(r,n),i=+a-Im(a),o=+s-Im(s);return Math.round((i-o)/EA)}function Hae(e){return r=>{const a=(e?Math[e]:Math.trunc)(r);return a===0?0:a}}function qae(e,r){return+It(e)-+It(r)}function Kae(e){const r=It(e);return r.setHours(23,59,59,999),r}function A_(e){const r=It(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Gae(e){const r=It(e);return+Kae(r)==+A_(r)}function Yae(e,r){const n=It(e),a=It(r),s=Dw(n,a),i=Math.abs(Mm(n,a));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let c=Dw(n,a)===-s;Gae(It(e))&&i===1&&Dw(e,a)===1&&(c=!1),o=s*(i-Number(c))}return o===0?0:o}function Xae(e,r,n){const a=qae(e,r)/1e3;return Hae(n==null?void 0:n.roundingMethod)(a)}function Ts(e){const r=It(e);return r.setDate(1),r.setHours(0,0,0,0),r}function LU(e){const r=It(e),n=Ps(e,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}function TA(e,r){var c,u,d,f;const n=Pp(),a=(r==null?void 0:r.weekStartsOn)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=It(e),i=s.getDay(),o=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function $U(e){return TA(e,{weekStartsOn:1})}const Jae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qae=(e,r,n)=>{let a;const s=Jae[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Zh(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Zae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ese={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rse={date:Zh({formats:Zae,defaultWidth:"full"}),time:Zh({formats:ese,defaultWidth:"full"}),dateTime:Zh({formats:tse,defaultWidth:"full"})},nse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ase=(e,r,n,a)=>nse[e];function nl(e){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):o;s=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const sse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ise={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ose={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},use={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dse=(e,r)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fse={ordinalNumber:dse,era:nl({values:sse,defaultWidth:"wide"}),quarter:nl({values:ise,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nl({values:ose,defaultWidth:"wide"}),day:nl({values:lse,defaultWidth:"wide"}),dayPeriod:nl({values:cse,defaultWidth:"wide",formattingValues:use,defaultFormattingWidth:"wide"})};function al(e){return(r,n={})=>{const a=n.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?mse(c,h=>h.test(o)):hse(c,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=r.slice(o.length);return{value:d,rest:f}}}function hse(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function mse(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function BU(e){return(r,n={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const c=r.slice(s.length);return{value:o,rest:c}}}const pse=/^(\d+)(th|st|nd|rd)?/i,gse=/\d+/i,vse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xse={any:[/^b/i,/^(a|c)/i]},yse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wse={any:[/1/i,/2/i,/3/i,/4/i]},bse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_se={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ese={ordinalNumber:BU({matchPattern:pse,parsePattern:gse,valueCallback:e=>parseInt(e,10)}),era:al({matchPatterns:vse,defaultMatchWidth:"wide",parsePatterns:xse,defaultParseWidth:"any"}),quarter:al({matchPatterns:yse,defaultMatchWidth:"wide",parsePatterns:wse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:al({matchPatterns:bse,defaultMatchWidth:"wide",parsePatterns:_se,defaultParseWidth:"any"}),day:al({matchPatterns:Sse,defaultMatchWidth:"wide",parsePatterns:jse,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:kse,defaultMatchWidth:"any",parsePatterns:Nse,defaultParseWidth:"any"})},AA={code:"en-US",formatDistance:Qae,formatLong:rse,formatRelative:ase,localize:fse,match:Ese,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cse(e){const r=It(e);return ol(r,LU(r))+1}function UU(e){const r=It(e),n=+pf(r)-+Lae(r);return Math.round(n/EA)+1}function VU(e,r){var f,h,m,p;const n=It(e),a=n.getFullYear(),s=Pp(),i=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ps(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const c=bl(o,r),u=Ps(e,0);u.setFullYear(a,0,i),u.setHours(0,0,0,0);const d=bl(u,r);return n.getTime()>=c.getTime()?a+1:n.getTime()>=d.getTime()?a:a-1}function Tse(e,r){var c,u,d,f;const n=Pp(),a=(r==null?void 0:r.firstWeekContainsDate)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=VU(e,r),i=Ps(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),bl(i,r)}function zU(e,r){const n=It(e),a=+bl(n,r)-+Tse(n,r);return Math.round(a/EA)+1}function yr(e,r){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return n+a}const Lc={y(e,r){const n=e.getFullYear(),a=n>0?n:1-n;return yr(r==="yy"?a%100:a,r.length)},M(e,r){const n=e.getMonth();return r==="M"?String(n+1):yr(n+1,2)},d(e,r){return yr(e.getDate(),r.length)},a(e,r){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,r){return yr(e.getHours()%12||12,r.length)},H(e,r){return yr(e.getHours(),r.length)},m(e,r){return yr(e.getMinutes(),r.length)},s(e,r){return yr(e.getSeconds(),r.length)},S(e,r){const n=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return yr(s,r.length)}},Zf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lI={G:function(e,r,n){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Lc.y(e,r)},Y:function(e,r,n,a){const s=VU(e,a),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return yr(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):yr(i,r.length)},R:function(e,r){const n=FU(e);return yr(n,r.length)},u:function(e,r){const n=e.getFullYear();return yr(n,r.length)},Q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return yr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return yr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){const a=e.getMonth();switch(r){case"M":case"MM":return Lc.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return yr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){const s=zU(e,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):yr(s,r.length)},I:function(e,r,n){const a=UU(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):yr(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Lc.d(e,r)},D:function(e,r,n){const a=Cse(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):yr(a,r.length)},E:function(e,r,n){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return yr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return yr(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,n){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return yr(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,n){const a=e.getHours();let s;switch(a===12?s=Zf.noon:a===0?s=Zf.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,n){const a=e.getHours();let s;switch(a>=17?s=Zf.evening:a>=12?s=Zf.afternoon:a>=4?s=Zf.morning:s=Zf.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Lc.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Lc.H(e,r)},K:function(e,r,n){const a=e.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):yr(a,r.length)},k:function(e,r,n){let a=e.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):yr(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lc.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Lc.s(e,r)},S:function(e,r){return Lc.S(e,r)},X:function(e,r,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return uI(a);case"XXXX":case"XX":return vd(a);case"XXXXX":case"XXX":default:return vd(a,":")}},x:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"x":return uI(a);case"xxxx":case"xx":return vd(a);case"xxxxx":case"xxx":default:return vd(a,":")}},O:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+cI(a,":");case"OOOO":default:return"GMT"+vd(a,":")}},z:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+cI(a,":");case"zzzz":default:return"GMT"+vd(a,":")}},t:function(e,r,n){const a=Math.trunc(e.getTime()/1e3);return yr(a,r.length)},T:function(e,r,n){const a=e.getTime();return yr(a,r.length)}};function cI(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?n+String(s):n+String(s)+r+yr(i,2)}function uI(e,r){return e%60===0?(e>0?"-":"+")+yr(Math.abs(e)/60,2):vd(e,r)}function vd(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=yr(Math.trunc(a/60),2),i=yr(a%60,2);return n+s+r+i}const dI=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},WU=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Ase=(e,r)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return dI(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",dI(a,r)).replace("{{time}}",WU(s,r))},Ose={p:WU,P:Ase},Pse=/^D+$/,Dse=/^Y+$/,Rse=["D","DD","YY","YYYY"];function Ise(e){return Pse.test(e)}function Mse(e){return Dse.test(e)}function Fse(e,r,n){const a=Lse(e,r,n);if(console.warn(a),Rse.includes(e))throw new RangeError(a)}function Lse(e,r,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $se=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Use=/^'([^]*?)'?$/,Vse=/''/g,zse=/[a-zA-Z]/;function us(e,r,n){var f,h,m,p,v,g,x,b;const a=Pp(),s=(n==null?void 0:n.locale)??a.locale??AA,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??a.weekStartsOn??((b=(x=a.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,c=It(e);if(!zae(c))throw new RangeError("Invalid time value");let u=r.match(Bse).map(w=>{const _=w[0];if(_==="p"||_==="P"){const S=Ose[_];return S(w,s.formatLong)}return w}).join("").match($se).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const _=w[0];if(_==="'")return{isToken:!1,value:Wse(w)};if(lI[_])return{isToken:!0,value:w};if(_.match(zse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return u.map(w=>{if(!w.isToken)return w.value;const _=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Mse(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ise(_))&&Fse(_,r,String(e));const S=lI[_[0]];return S(c,_,s.localize,d)}).join("")}function Wse(e){const r=e.match(Use);return r?r[1].replace(Vse,"'"):e}function Hse(e,r,n){const a=Pp(),s=(n==null?void 0:n.locale)??a.locale??AA,i=2520,o=Dw(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let u,d;o>0?(u=It(r),d=It(e)):(u=It(e),d=It(r));const f=Xae(d,u),h=(Im(d)-Im(u))/1e3,m=Math.round((f-h)/60);let p;if(m<2)return n!=null&&n.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,c):f<10?s.formatDistance("lessThanXSeconds",10,c):f<20?s.formatDistance("lessThanXSeconds",20,c):f<40?s.formatDistance("halfAMinute",0,c):f<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):m===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",m,c);if(m<45)return s.formatDistance("xMinutes",m,c);if(m<90)return s.formatDistance("aboutXHours",1,c);if(m<oI){const v=Math.round(m/60);return s.formatDistance("aboutXHours",v,c)}else{if(m<i)return s.formatDistance("xDays",1,c);if(m<Cy){const v=Math.round(m/oI);return s.formatDistance("xDays",v,c)}else if(m<Cy*2)return p=Math.round(m/Cy),s.formatDistance("aboutXMonths",p,c)}if(p=Yae(d,u),p<12){const v=Math.round(m/Cy);return s.formatDistance("xMonths",v,c)}else{const v=p%12,g=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",g,c):v<9?s.formatDistance("overXYears",g,c):s.formatDistance("almostXYears",g+1,c)}}function qse(e,r){return Hse(e,Vae(e),r)}function Kse(e){const r=It(e),n=r.getFullYear(),a=r.getMonth(),s=Ps(e,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Gse(e){return Math.trunc(+It(e)/1e3)}function Yse(e){const r=It(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(0,0,0,0),r}function Xse(e,r){return Wae(Yse(e),Ts(e),r)+1}function z2(e,r){const n=It(e),a=It(r);return n.getTime()>a.getTime()}function HU(e,r){const n=It(e),a=It(r);return+n<+a}function OA(e,r){const n=It(e),a=It(r);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Jse(e,r){const n=It(e),a=It(r);return n.getFullYear()===a.getFullYear()}function sk(e,r){return Qa(e,-r)}function ik(e,r){const n=It(e),a=n.getFullYear(),s=n.getDate(),i=Ps(e,0);i.setFullYear(a,r,15),i.setHours(0,0,0,0);const o=Kse(i);return n.setMonth(r,Math.min(s,o)),n}function fI(e,r){const n=It(e);return isNaN(+n)?Ps(e,NaN):(n.setFullYear(r),n)}function hI(e){if(!e)return e;if(typeof e=="string")try{const r=new Date(e);return isNaN(r.getTime())?e:us(r,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?us(e,"yyyy-MM-dd HH:mm:ss"):e}function W2(e){if(e==null)return e;if(e instanceof Date)return hI(e);if(Array.isArray(e))return e.map(r=>W2(r));if(typeof e=="object"){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(n.toLowerCase().includes("date")||n.toLowerCase().includes("time")?r[n]=hI(e[n]):r[n]=W2(e[n]));return r}return e}const Qse="https://api.middar.com";async function Jo(e,r={}){const n={"Content-Type":"application/json",...r.headers},a=localStorage.getItem("authToken");a&&(n.Authorization=`Bearer ${a}`);try{let s=r.body;if(s&&typeof s=="string")try{const c=JSON.parse(s),u=W2(c);s=JSON.stringify(u)}catch(c){console.warn("Failed to parse request body for date formatting",c)}console.log(`API Request: ${r.method||"GET"} ${e}`,s?JSON.parse(s):null);const i=await fetch(`${Qse}${e}`,{...r,headers:n,body:s});let o;try{const c=await i.text();o=c?JSON.parse(c):{}}catch(c){console.error("Failed to parse API response:",c),o={}}if(!i.ok){const c={status:i.status,statusText:i.statusText,url:e,headers:Object.fromEntries(i.headers.entries()),response:o,requestBody:r.body?JSON.parse(r.body):null};console.error("API Error Details:",JSON.stringify(c,null,2));let u="Something went wrong";o&&typeof o=="object"?u=o.message||o.error||JSON.stringify(o):o&&(u=String(o));const d=new Error(u);throw d.status=i.status,d.response=o,d.details=c,d}return o}catch(s){throw console.error("API Request Failed:",{endpoint:e,error:s.message,stack:s.stack}),s}}const G={get:(e,r,n)=>{const a=new URLSearchParams(n).toString();return Jo(`/api/v1/get/${e}/${r}${a?`?${a}`:""}`)},list:async(e,r={})=>{const n={...r},a=["m_leads","m_projects","tasks","tickets"];n.sort_by||(n.sort_by="created_at",n.sort_order=a.includes(e)?"DESC":"ASC");let s="";if(n.exact_filters&&(s=typeof n.exact_filters=="string"?n.exact_filters:JSON.stringify(n.exact_filters),delete n.exact_filters),n.advanced_filters&&typeof n.advanced_filters=="string")try{JSON.parse(n.advanced_filters)}catch{delete n.advanced_filters}else n.advanced_filters&&(n.advanced_filters=JSON.stringify(n.advanced_filters));const i=new URLSearchParams;Object.entries(n).forEach(([u,d])=>{d!=null&&i.append(u,d.toString())});const o=s?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(s)}&${i.toString()}`:i.toString()?`/api/v1/${e}/list?${i.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",o);const c=await Jo(o);return{data:c.data||[],total:c.totalRows||0,page:(c.page||1)-1,pageSize:c.totalRows||0}},count:async(e,r={})=>{try{return(await G.list(e,{...r,pageSize:1})).total||0}catch{return console.warn(`Count failed for ${e}, returning 0`),0}},create:(e,r)=>e==="messages"?Jo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(r)}):Jo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(r)}),update:(e,r,n)=>Jo(`/api/v1/update/${e}/${r}`,{method:"PUT",body:JSON.stringify(n)}),delete:(e,r)=>Jo(`/api/v1/delete/${e}/${r}`,{method:"DELETE"}),getAggregates:async(e,r={})=>{try{console.log("[API] Getting aggregates for tables:",e);const n=e.map(async i=>{try{const c={m_projects:"m_projects",m_leads:"m_leads",clients:"Users",users:"Users",surveys:"surveys",tasks:"tasks"}[i]||i,d=(await G.list(c,{pageSize:1})).total||0;return console.log(`[API] Got count for ${i} (${c}):`,d),{[i]:{Count:d}}}catch(o){return console.warn(`[API] Count failed for ${i}, using fallback:`,o),{[i]:{Count:0}}}}),s=(await Promise.all(n)).reduce((i,o)=>({...i,...o}),{});return console.log("[API] Combined aggregates result:",s),s}catch(n){return console.error("[API] Failed to get aggregates:",n),{}}},auth:{login:async e=>Jo("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions:{list:(e={})=>G.list("permissions",e),get:e=>G.get("permissions",e),create:e=>G.create("permissions",e),update:(e,r)=>G.update("permissions",e,r),delete:e=>G.delete("permissions",e)},comments:{list:(e={})=>G.list("comments",e),get:e=>G.get("comments",e),create:e=>G.create("comments",e),update:(e,r)=>G.update("comments",e,r),delete:e=>G.delete("comments",e)},leads:{list:(e={})=>G.list("leads",e),get:e=>G.get("leads",e),create:e=>G.create("leads",e),update:(e,r)=>G.update("leads",e,r),delete:e=>G.delete("leads",e)},mAction:{list:(e={})=>G.list("m_action",e),get:e=>G.get("m_action",e),create:e=>G.create("m_action",e),update:(e,r)=>G.update("m_action",e,r),delete:e=>G.delete("m_action",e)},mActivity:{list:(e={})=>G.list("m_activity",e),get:e=>G.get("m_activity",e),create:e=>G.create("m_activity",e),update:(e,r)=>G.update("m_activity",e,r),delete:e=>G.delete("m_activity",e)},messages:{list:(e={})=>G.list("messages",e),get:e=>G.get("messages",e),create:e=>G.create("messages",e),update:(e,r)=>G.update("messages",e,r),delete:e=>G.delete("messages",e)},mContacts:{list:(e={})=>G.list("m_contacts",e),get:e=>G.get("m_contacts",e),create:e=>G.create("m_contacts",e),update:(e,r)=>G.update("m_contacts",e,r),delete:e=>G.delete("m_contacts",e)},mCountry:{list:(e={})=>G.list("m_country",e),get:e=>G.get("m_country",e),create:e=>G.create("m_country",e),update:(e,r)=>G.update("m_country",e,r),delete:e=>G.delete("m_country",e)},mCity:{list:(e={})=>G.list("m_city",e),get:e=>G.get("m_city",e),create:e=>G.create("m_city",e),update:(e,r)=>G.update("m_city",e,r),delete:e=>G.delete("m_city",e),getByCountry:(e,r={})=>G.list("m_city",{...r,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>G.list("m_jobtitle",e),get:e=>G.get("m_jobtitle",e),create:e=>G.create("m_jobtitle",e),update:(e,r)=>G.update("m_jobtitle",e,r),delete:e=>G.delete("m_jobtitle",e)},mLeads:{list:(e={})=>G.list("m_leads",e),get:e=>G.get("m_leads",e),create:e=>G.create("m_leads",e),update:(e,r)=>G.update("m_leads",e,r),delete:e=>G.delete("m_leads",e),getByStage:(e,r={})=>G.list("m_leads",{...r,exact_filters:{stage_id:e}}),getByAssignee:(e,r={})=>G.list("m_leads",{...r,exact_filters:{assigned_to:e}}),getByStatus:(e,r={})=>G.list("m_leads",{...r,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>G.list("m_system",e),get:e=>G.get("m_system",e),create:e=>G.create("m_system",e),update:(e,r)=>G.update("m_system",e,r),delete:e=>G.delete("m_system",e)},mLeadsTrans:{list:(e={})=>G.list("m_leads_trans",e),get:e=>G.get("m_leads_trans",e),create:e=>G.create("m_leads_trans",e),update:(e,r)=>G.update("m_leads_trans",e,r),delete:e=>G.delete("m_leads_trans",e),getByLead:(e,r={})=>G.list("m_leads_trans",{...r,exact_filters:{leads_id:e}}),getByUser:(e,r={})=>G.list("m_leads_trans",{...r,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>G.list("m_projects",e),get:e=>G.get("m_projects",e),create:e=>G.create("m_projects",e),update:(e,r)=>G.update("m_projects",e,r),delete:e=>G.delete("m_projects",e)},mStatus:{list:(e={})=>G.list("m_status",e),get:e=>G.get("m_status",e),create:e=>G.create("m_status",e),update:(e,r)=>G.update("m_status",e,r),delete:e=>G.delete("m_status",e)},notes:{list:(e={})=>G.list("notes",e),get:e=>G.get("notes",e),create:e=>G.create("notes",e),update:(e,r)=>G.update("notes",e,r),delete:e=>G.delete("notes",e),getByRelated:(e,r,n={})=>G.list("notes",{...n,exact_filters:{related_to_type:e,related_to_id:r}})},partnerApply:{list:(e={})=>G.list("partner_apply",e),get:e=>G.get("partner_apply",e),create:e=>G.create("partner_apply",e),update:(e,r)=>G.update("partner_apply",e,r),delete:e=>G.delete("partner_apply",e),getPending:(e={})=>G.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,r={})=>G.list("partner_apply",{...r,exact_filters:{status:e}})},projectUsers:{list:(e={})=>G.list("project_users",e),get:e=>G.get("project_users",e),create:e=>G.create("project_users",e),update:(e,r)=>G.update("project_users",e,r),delete:e=>G.delete("project_users",e),getByProject:(e,r={})=>G.list("project_users",{...r,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>G.list("project_images",e),get:e=>G.get("project_images",e),create:e=>G.create("project_images",e),update:(e,r)=>G.update("project_images",e,r),delete:e=>G.delete("project_images",e),getByProject:(e,r={})=>G.list("project_images",{...r,exact_filters:{project_id:e}})},projects:{list:(e={})=>G.list("projects",e),get:e=>G.get("projects",e),create:e=>G.create("projects",e),update:(e,r)=>G.update("projects",e,r),delete:e=>G.delete("projects",e),getByStage:(e,r={})=>G.list("projects",{...r,exact_filters:{stage:e}}),getByLead:(e,r={})=>G.list("projects",{...r,exact_filters:{lead_id:e}})},requests:{list:(e={})=>G.list("requests_crm",e),get:e=>G.get("requests_crm",e),create:e=>G.create("requests_crm",e),update:(e,r)=>G.update("requests_crm",e,r),delete:e=>G.delete("requests_crm",e)},rooms:{list:(e={})=>G.list("rooms",e),get:e=>G.get("rooms",e),create:e=>G.create("rooms",e),update:(e,r)=>G.update("rooms",e,r),delete:e=>G.delete("rooms",e),getByProject:(e,r={})=>G.list("rooms",{...r,exact_filters:{project_id:e}}),getByTeam:(e,r={})=>G.list("rooms",{...r,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>G.list("room_members",e),get:e=>G.get("room_members",e),create:e=>G.create("room_members",e),update:(e,r)=>G.update("room_members",e,r),delete:e=>G.delete("room_members",e),getByRoom:(e,r={})=>G.list("room_members",{...r,exact_filters:{room_id:e}})},stages:{list:(e={})=>G.list("stages",e),get:e=>G.get("stages",e),create:e=>G.create("stages",e),update:(e,r)=>G.update("stages",e,r),delete:e=>G.delete("stages",e)},tasks:{list:(e={})=>G.list("tasks",e),get:e=>G.get("tasks",e),create:e=>G.create("tasks",e),update:(e,r)=>G.update("tasks",e,r),delete:e=>G.delete("tasks",e),getByStage:(e,r={})=>G.list("tasks",{...r,exact_filters:{stage_id:e}}),getByAssignee:(e,r={})=>G.list("tasks",{...r,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>G.list("survey_templates",e),get:e=>G.get("survey_templates",e),create:e=>G.create("survey_templates",e),update:(e,r)=>G.update("survey_templates",e,r),delete:e=>G.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>G.list("survey_template_fields",e),get:e=>G.get("survey_template_fields",e),create:e=>G.create("survey_template_fields",e),update:(e,r)=>G.update("survey_template_fields",e,r),delete:e=>G.delete("survey_template_fields",e),getByTemplate:(e,r={})=>G.list("survey_template_fields",{...r,exact_filters:{template_id:e}})},surveys:{list:(e={})=>G.list("surveys",e),get:e=>G.get("surveys",e),create:e=>G.create("surveys",e),update:(e,r)=>G.update("surveys",e,r),delete:e=>G.delete("surveys",e)},teams:{list:(e={})=>G.list("teams",e),get:e=>G.get("teams",e),create:e=>G.create("teams",e),update:(e,r)=>G.update("teams",e,r),delete:e=>G.delete("teams",e)},teamMembers:{list:(e={})=>G.list("team_members",e),get:e=>G.get("team_members",e),create:e=>{const{team_id:r,user_id:n,userid:a,...s}=e??{},i={...s};r!==void 0&&(i.team_id=r);const o=n??(a!==void 0?Number(a):void 0);return o!==void 0&&!Number.isNaN(o)&&(i.user_id=o),G.create("team_members",i)},update:(e,r)=>G.update("team_members",e,r),delete:e=>G.delete("team_members",e),getByTeam:(e,r={})=>G.list("team_members",{...r,exact_filters:{team_id:e}})},tickets:{list:(e={})=>G.list("tickets",e),get:e=>G.get("tickets",e),create:e=>G.create("tickets",e),update:(e,r)=>G.update("tickets",e,r),delete:e=>G.delete("tickets",e),getByStatus:(e,r={})=>G.list("tickets",{...r,exact_filters:{status:e}}),getByStage:(e,r={})=>G.list("tickets",{...r,exact_filters:{stage_id:e}}),getByAssignee:(e,r={})=>G.list("tickets",{...r,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>G.list("Users",e),get:e=>G.get("Users",e),create:e=>G.create("Users",e),update:(e,r)=>G.update("Users",e,r),delete:e=>G.delete("Users",e)},whatsappConversations:{list:(e={})=>G.list("whatsapp_conversations",e),get:e=>G.get("whatsapp_conversations",e),create:e=>G.create("whatsapp_conversations",e),update:(e,r)=>G.update("whatsapp_conversations",e,r),delete:e=>G.delete("whatsapp_conversations",e),getByLead:(e,r={})=>G.list("whatsapp_conversations",{...r,exact_filters:{lead_id:e}}),getByUser:(e,r={})=>G.list("whatsapp_conversations",{...r,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>G.list("whatsapp_messages",e),get:e=>G.get("whatsapp_messages",e),create:e=>G.create("whatsapp_messages",e),update:(e,r)=>G.update("whatsapp_messages",e,r),delete:e=>G.delete("whatsapp_messages",e),getByConversation:(e,r={})=>G.list("whatsapp_messages",{...r,exact_filters:{conversation_id:e}})}};let ok=null,eh=null;async function PA(){return ok||eh||(eh=G.permissions.list().then(e=>{const r=e.data||[];return ok=r,eh=null,r}).catch(e=>(eh=null,console.error("Failed to fetch permissions:",e),[])),eh)}const qU=y.createContext(void 0),Zse=({children:e})=>{const[r,n]=y.useState(null),[a,s]=y.useState(null),[i,o]=y.useState(!0);y.useEffect(()=>{(()=>{try{const m=localStorage.getItem("authToken"),p=localStorage.getItem("authUser");if(m&&p){const v=JSON.parse(p);if(v&&v.role&&(v.role=v.role.toLowerCase()),!v.permissions_permissions_Name)if(v.profile&&v.profile.permissions_permissions_Name)v.permissions_permissions_Name=v.profile.permissions_permissions_Name;else if(v.profile&&v.profile.permissions){const g=v.profile.permissions,x={1:"admin",2:"manager",3:"employee",4:"team_leader",5:"partner_employee",6:"partner_leader"};x[g]&&(v.permissions_permissions_Name=x[g],v.role=x[g])}else v.isAdmin===1&&(v.permissions_permissions_Name="admin",v.role="admin");s(m),n(v)}}catch(m){console.error("Failed to parse stored auth data:",m),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{o(!1)}})()},[]);const c=y.useCallback(async(h,m)=>{s(h),localStorage.setItem("authToken",h);try{await new Promise(x=>setTimeout(x,100)),await PA()}catch(x){console.warn("Failed to preload permissions:",x)}let p=m;try{let x=null;try{x=await G.list("Users",{exact_filters:{userid:m.id},pageSize:1})}catch{const w=await fetch(`https://api.middar.com/api/v1/Users/list?exact_filters=${encodeURIComponent(JSON.stringify({userid:m.id}))}&pageSize=1`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});w.ok&&(x=await w.json())}x&&x.data&&x.data.length>0&&(p=x.data[0])}catch(x){console.warn("Failed to fetch full user profile, using basic login data:",x)}let v="employee";if(p.permissions_permissions_Name){const x=p.permissions_permissions_Name.toLowerCase();x==="admin"?v="admin":x==="manager"?v="manager":x==="employee"?v="employee":x==="team_leader"?v="team_leader":x==="partner_employee"?v="partner_employee":x==="partner_leader"?v="partner_leader":v="employee"}else p.isAdmin===1&&(v="admin");const g={id:p.userid||p.id||"unknown",email:p.Email||p.email||m.email||"",role:v,profile:p,userid:p.userid||0,permissions:p.permissions||0,permissions_permissions_Name:p.permissions_permissions_Name||"",Employee:p.Employee||0,AccountNumber:p.AccountNumber||null,mobile:p.mobile||null,Owner:p.Owner||0,Email_v:p.Email_v||0,IsActive:p.IsActive||0,user_pasword:p.user_pasword||"",name:p.name||m.name||"",Email:p.Email||p.email||m.email||"",pin:p.pin||null,isAllBranches:p.isAllBranches||0,Safe:p.Safe||0,reset_code:p.reset_code||null,reset_expires:p.reset_expires||"",reset_used:p.reset_used||0,isAdmin:p.isAdmin||0};n(g),localStorage.setItem("authUser",JSON.stringify(g)),await new Promise(x=>setTimeout(x,50))},[]),u=y.useCallback(()=>{s(null),n(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),d=y.useCallback(h=>!r||!r.role?!1:h.includes(r.role),[r]),f=y.useMemo(()=>({user:r,token:a,isAuthenticated:!!r&&!!a,loading:i,login:c,logout:u,hasRole:d}),[r,a,i,c,u,d]);return l.jsx(qU.Provider,{value:f,children:e})},vr=()=>{const e=y.useContext(qU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},KU=y.createContext(void 0),eie=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],tie=({children:e})=>{const[r,n]=y.useState(Zr.language||"ar"),[a,s]=y.useState(kr());y.useEffect(()=>{const c=u=>{n(u),s(kr())};return Zr.on("languageChanged",c),()=>{Zr.off("languageChanged",c)}},[]);const o={currentLanguage:r,changeLanguage:async c=>{try{await Zr.changeLanguage(c),n(c),s(kr())}catch(u){console.error("Failed to change language:",u)}},isRTL:a,languages:eie};return l.jsx(KU.Provider,{value:o,children:e})},Va=()=>{const e=y.useContext(KU);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},GU=y.createContext(void 0);function rie({children:e}){const[r,n]=y.useState([]);return l.jsx(GU.Provider,{value:{breadcrumbs:r,setBreadcrumbs:n},children:e})}function hx(){const e=y.useContext(GU);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var _1=["light","dark"],DA="(prefers-color-scheme: dark)",nie=typeof window>"u",RA=y.createContext(void 0),aie={setTheme:e=>{},themes:[]},sie=()=>{var e;return(e=y.useContext(RA))!=null?e:aie},YU=e=>y.useContext(RA)?e.children:y.createElement(oie,{...e}),iie=["light","dark"],oie=({forcedTheme:e,disableTransitionOnChange:r=!1,enableSystem:n=!0,enableColorScheme:a=!0,storageKey:s="theme",themes:i=iie,defaultTheme:o=n?"system":"light",attribute:c="data-theme",value:u,children:d,nonce:f})=>{let[h,m]=y.useState(()=>mI(s,o)),[p,v]=y.useState(()=>mI(s)),g=u?Object.values(u):i,x=y.useCallback(S=>{let j=S;if(!j)return;S==="system"&&n&&(j=pI());let N=u?u[j]:j,k=r?cie():null,E=document.documentElement;if(c==="class"?(E.classList.remove(...g),N&&E.classList.add(N)):N?E.setAttribute(c,N):E.removeAttribute(c),a){let C=_1.includes(o)?o:null,O=_1.includes(j)?j:C;E.style.colorScheme=O}k==null||k()},[]),b=y.useCallback(S=>{let j=typeof S=="function"?S(S):S;m(j);try{localStorage.setItem(s,j)}catch{}},[e]),w=y.useCallback(S=>{let j=pI(S);v(j),h==="system"&&n&&!e&&x("system")},[h,e]);y.useEffect(()=>{let S=window.matchMedia(DA);return S.addListener(w),w(S),()=>S.removeListener(w)},[w]),y.useEffect(()=>{let S=j=>{if(j.key!==s)return;let N=j.newValue||o;b(N)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[b]),y.useEffect(()=>{x(e??h)},[e,h]);let _=y.useMemo(()=>({theme:h,setTheme:b,forcedTheme:e,resolvedTheme:h==="system"?p:h,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0}),[h,b,e,p,n,i]);return y.createElement(RA.Provider,{value:_},y.createElement(lie,{forcedTheme:e,disableTransitionOnChange:r,enableSystem:n,enableColorScheme:a,storageKey:s,themes:i,defaultTheme:o,attribute:c,value:u,children:d,attrs:g,nonce:f}),d)},lie=y.memo(({forcedTheme:e,storageKey:r,attribute:n,enableSystem:a,enableColorScheme:s,defaultTheme:i,value:o,attrs:c,nonce:u})=>{let d=i==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?_1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,g=!1,x=!0)=>{let b=o?o[v]:v,w=g?v+"|| ''":`'${b}'`,_="";return s&&x&&!g&&_1.includes(v)&&(_+=`d.style.colorScheme = '${v}';`),n==="class"?g||b?_+=`c.add(${w})`:_+="null":b&&(_+=`d[s](n,${w})`),_},p=e?`!function(){${f}${m(e)}}()`:a?`!function(){try{${f}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${d})){var t='${DA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${r}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})}),mI=(e,r)=>{if(nie)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||r},cie=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},pI=e=>(e||(e=window.matchMedia(DA)),e.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XU=(...e)=>e.filter((r,n,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var die={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=y.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...c},u)=>y.createElement("svg",{ref:u,...die,width:r,height:r,stroke:e,strokeWidth:a?Number(n)*24/Number(r):n,className:XU("lucide",s),...c},[...o.map(([d,f])=>y.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(e,r)=>{const n=y.forwardRef(({className:a,...s},i)=>y.createElement(fie,{ref:i,iconNode:r,className:XU(`lucide-${uie(e)}`,a),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=et("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=et("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=et("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=et("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=et("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=et("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=et("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=et("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=et("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=et("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=et("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=et("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=et("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=et("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=et("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=et("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=et("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=et("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=et("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=et("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=et("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=et("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=et("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=et("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=et("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=et("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=et("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=et("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=et("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=et("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=et("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=et("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=et("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=et("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=et("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=et("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=et("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=et("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=et("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=et("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=et("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=et("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=et("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=et("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=et("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=et("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=et("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=et("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=et("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=et("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=et("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=et("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=et("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=et("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=et("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=et("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=et("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=et("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=et("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=et("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=et("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function n9(e){var r,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=n9(e[r]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Bt(){for(var e,r,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=n9(e))&&(a&&(a+=" "),a+=r);return a}const MA="-",zie=e=>{const r=Hie(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const c=o.split(MA);return c[0]===""&&c.length!==1&&c.shift(),a9(c,r)||Wie(o)},getConflictingClassGroupIds:(o,c)=>{const u=n[o]||[];return c&&a[o]?[...u,...a[o]]:u}}},a9=(e,r)=>{var o;if(e.length===0)return r.classGroupId;const n=e[0],a=r.nextPart.get(n),s=a?a9(e.slice(1),a):void 0;if(s)return s;if(r.validators.length===0)return;const i=e.join(MA);return(o=r.validators.find(({validator:c})=>c(i)))==null?void 0:o.classGroupId},_I=/^\[(.+)\]$/,Wie=e=>{if(_I.test(e)){const r=_I.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},Hie=e=>{const{theme:r,prefix:n}=e,a={nextPart:new Map,validators:[]};return Kie(Object.entries(e.classGroups),n).forEach(([i,o])=>{K2(o,a,i,r)}),a},K2=(e,r,n,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?r:SI(r,s);i.classGroupId=n;return}if(typeof s=="function"){if(qie(s)){K2(s(a),r,n,a);return}r.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{K2(o,SI(r,i),n,a)})})},SI=(e,r)=>{let n=e;return r.split(MA).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},qie=e=>e.isThemeGetter,Kie=(e,r)=>r?e.map(([n,a])=>{const s=a.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[r+o,c])):i);return[n,s]}):e,Gie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,a=new Map;const s=(i,o)=>{n.set(i,o),r++,r>e&&(r=0,a=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},s9="!",Yie=e=>{const{separator:r,experimentalParseClassName:n}=e,a=r.length===1,s=r[0],i=r.length,o=c=>{const u=[];let d=0,f=0,h;for(let x=0;x<c.length;x++){let b=c[x];if(d===0){if(b===s&&(a||c.slice(x,x+i)===r)){u.push(c.slice(f,x)),f=x+i;continue}if(b==="/"){h=x;continue}}b==="["?d++:b==="]"&&d--}const m=u.length===0?c:c.substring(f),p=m.startsWith(s9),v=p?m.substring(1):m,g=h&&h>f?h-f:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return n?c=>n({className:c,parseClassName:o}):o},Xie=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(a=>{a[0]==="["?(r.push(...n.sort(),a),n=[]):n.push(a)}),r.push(...n.sort()),r},Jie=e=>({cache:Gie(e.cacheSize),parseClassName:Yie(e),...zie(e)}),Qie=/\s+/,Zie=(e,r)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:s}=r,i=[],o=e.trim().split(Qie);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=n(d);let v=!!p,g=a(v?m.substring(0,p):m);if(!g){if(!v){c=d+(c.length>0?" "+c:c);continue}if(g=a(m),!g){c=d+(c.length>0?" "+c:c);continue}v=!1}const x=Xie(f).join(":"),b=h?x+s9:x,w=b+g;if(i.includes(w))continue;i.push(w);const _=s(g,v);for(let S=0;S<_.length;++S){const j=_[S];i.push(b+j)}c=d+(c.length>0?" "+c:c)}return c};function eoe(){let e=0,r,n,a="";for(;e<arguments.length;)(r=arguments[e++])&&(n=i9(r))&&(a&&(a+=" "),a+=n);return a}const i9=e=>{if(typeof e=="string")return e;let r,n="";for(let a=0;a<e.length;a++)e[a]&&(r=i9(e[a]))&&(n&&(n+=" "),n+=r);return n};function toe(e,...r){let n,a,s,i=o;function o(u){const d=r.reduce((f,h)=>h(f),e());return n=Jie(d),a=n.cache.get,s=n.cache.set,i=c,c(u)}function c(u){const d=a(u);if(d)return d;const f=Zie(u,n);return s(u,f),f}return function(){return i(eoe.apply(null,arguments))}}const Ur=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},o9=/^\[(?:([a-z-]+):)?(.+)\]$/i,roe=/^\d+\/\d+$/,noe=new Set(["px","full","screen"]),aoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,soe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ioe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ooe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,loe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bl=e=>tm(e)||noe.has(e)||roe.test(e),$c=e=>Dp(e,"length",goe),tm=e=>!!e&&!Number.isNaN(Number(e)),lk=e=>Dp(e,"number",tm),y0=e=>!!e&&Number.isInteger(Number(e)),coe=e=>e.endsWith("%")&&tm(e.slice(0,-1)),zt=e=>o9.test(e),Bc=e=>aoe.test(e),uoe=new Set(["length","size","percentage"]),doe=e=>Dp(e,uoe,l9),foe=e=>Dp(e,"position",l9),hoe=new Set(["image","url"]),moe=e=>Dp(e,hoe,xoe),poe=e=>Dp(e,"",voe),w0=()=>!0,Dp=(e,r,n)=>{const a=o9.exec(e);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):n(a[2]):!1},goe=e=>soe.test(e)&&!ioe.test(e),l9=()=>!1,voe=e=>ooe.test(e),xoe=e=>loe.test(e),yoe=()=>{const e=Ur("colors"),r=Ur("spacing"),n=Ur("blur"),a=Ur("brightness"),s=Ur("borderColor"),i=Ur("borderRadius"),o=Ur("borderSpacing"),c=Ur("borderWidth"),u=Ur("contrast"),d=Ur("grayscale"),f=Ur("hueRotate"),h=Ur("invert"),m=Ur("gap"),p=Ur("gradientColorStops"),v=Ur("gradientColorStopPositions"),g=Ur("inset"),x=Ur("margin"),b=Ur("opacity"),w=Ur("padding"),_=Ur("saturate"),S=Ur("scale"),j=Ur("sepia"),N=Ur("skew"),k=Ur("space"),E=Ur("translate"),C=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",zt,r],T=()=>[zt,r],z=()=>["",Bl,$c],q=()=>["auto",tm,zt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",zt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[tm,zt];return{cacheSize:500,separator:":",theme:{colors:[w0],spacing:[Bl,$c],blur:["none","",Bc,zt],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Bc,zt],borderSpacing:T(),borderWidth:z(),contrast:Z(),grayscale:M(),hueRotate:Z(),invert:M(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[coe,$c],inset:D(),margin:D(),opacity:Z(),padding:T(),saturate:Z(),scale:Z(),sepia:M(),skew:Z(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",zt]}],container:["container"],columns:[{columns:[Bc]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),zt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",y0,zt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",y0,zt]}],"grid-cols":[{"grid-cols":[w0]}],"col-start-end":[{col:["auto",{span:["full",y0,zt]},zt]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[w0]}],"row-start-end":[{row:["auto",{span:[y0,zt]},zt]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",zt,r]}],"min-w":[{"min-w":[zt,r,"min","max","fit"]}],"max-w":[{"max-w":[zt,r,"none","full","min","max","fit","prose",{screen:[Bc]},Bc]}],h:[{h:[zt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[zt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[zt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[zt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Bc,$c]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lk]}],"font-family":[{font:[w0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zt]}],"line-clamp":[{"line-clamp":["none",tm,lk]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bl,zt]}],"list-image":[{"list-image":["none",zt]}],"list-style-type":[{list:["none","disc","decimal",zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bl,$c]}],"underline-offset":[{"underline-offset":["auto",Bl,zt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),foe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",doe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},moe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Bl,zt]}],"outline-w":[{outline:[Bl,$c]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Bl,$c]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bc,poe]}],"shadow-color":[{shadow:[w0]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Bc,zt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",zt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[y0,zt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bl,$c,lk]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},woe=toe(yoe);function ve(...e){return woe(Bt(e))}const boe={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12","2xl":"h-16 w-16"};function zi({message:e="Loading...",className:r="",size:n="xl",fullScreen:a=!1,showProgress:s=!1,progress:i=0}){const o=l.jsxs("div",{className:ve("flex flex-col items-center justify-center space-y-4",a?"min-h-screen":"",r),children:[l.jsx(I_,{className:ve("animate-spin text-primary",boe[n])}),s&&l.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${i}%`}})}),e&&!s&&l.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium",children:e}),e&&s&&l.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]});return a?l.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:o}):o}const Ay=({children:e,allowedRoles:r,requireAuth:n=!0,denyPermissionIds:a=[]})=>{var h,m;const s=Al(),{user:i,loading:o,hasRole:c}=vr(),u=y.useMemo(()=>r?c(r):!0,[r,c]);if(y.useMemo(()=>({loading:o,user:i?{id:i.id,email:i.email,role:i.role}:null,hasRequiredRole:u}),[o,i,u]),console.log("[ProtectedRoute]",{path:s.pathname,loading:o,hasUser:!!i,requireAuth:n,hasRequiredRole:u,userRole:i==null?void 0:i.role}),o)return console.log("[ProtectedRoute] Showing loading spinner"),l.jsx(zi,{size:"xl",fullScreen:!0});if(n&&!i)return console.log("[ProtectedRoute] No user, redirecting to login"),l.jsx(Pw,{to:"/login",state:{from:s},replace:!0});const d=(i==null?void 0:i.permissions)||((h=i==null?void 0:i.profile)==null?void 0:h.permissions)||((m=i==null?void 0:i.profile)==null?void 0:m.permissions_ID),f=d!=null?Number(d):NaN;return a.length>0&&!Number.isNaN(f)&&a.includes(f)?(console.log("[ProtectedRoute] User permission denied:",f),l.jsx(Pw,{to:"/unauthorized",replace:!0})):r&&!u?(console.log("[ProtectedRoute] User does not have required role"),l.jsx(Pw,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),l.jsx(l.Fragment,{children:e}))};function jI(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function pc(...e){return r=>{let n=!1;const a=e.map(s=>{const i=jI(s,r);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():jI(e[s],null)}}}}function Wt(...e){return y.useCallback(pc(...e),e)}function Lu(e){const r=_oe(e),n=y.forwardRef((a,s)=>{const{children:i,...o}=a,c=y.Children.toArray(i),u=c.find(joe);if(u){const d=u.props.children,f=c.map(h=>h===u?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return l.jsx(r,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return l.jsx(r,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var c9=Lu("Slot");function _oe(e){const r=y.forwardRef((n,a)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=Noe(s),c=koe(i,s.props);return s.type!==y.Fragment&&(c.ref=a?pc(a,o):o),y.cloneElement(s,c)}return y.Children.count(s)>1?y.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var u9=Symbol("radix.slottable");function Soe(e){const r=({children:n})=>l.jsx(l.Fragment,{children:n});return r.displayName=`${e}.Slottable`,r.__radixId=u9,r}function joe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===u9}function koe(e,r){const n={...r};for(const a in r){const s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Noe(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const kI=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,NI=Bt,px=(e,r)=>n=>{var a;if((r==null?void 0:r.variants)==null)return NI(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=r,o=Object.keys(s).map(d=>{const f=n==null?void 0:n[d],h=i==null?void 0:i[d];if(f===null)return null;const m=kI(f)||kI(h);return s[d][m]}),c=n&&Object.entries(n).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),u=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((d,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(v=>{let[g,x]=v;return Array.isArray(x)?x.includes({...i,...c}[g]):{...i,...c}[g]===x})?[...d,h,m]:d},[]);return NI(e,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},$m=px("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=y.forwardRef(({className:e,variant:r,size:n,asChild:a=!1,...s},i)=>{const o=a?c9:"button";return l.jsx(o,{className:ve($m({variant:r,size:n,className:e})),ref:i,...s})});ue.displayName="Button";const We=y.forwardRef(({className:e,type:r,...n},a)=>l.jsx("input",{type:r,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));We.displayName="Input";var Eoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mt=Eoe.reduce((e,r)=>{const n=Lu(`Primitive.${r}`),a=y.forwardRef((s,i)=>{const{asChild:o,...c}=s,u=o?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...c,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function d9(e,r){e&&Ap.flushSync(()=>e.dispatchEvent(r))}var Coe="Label",f9=y.forwardRef((e,r)=>l.jsx(mt.label,{...e,ref:r,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));f9.displayName=Coe;var h9=f9;const Toe=px("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=y.forwardRef(({className:e,...r},n)=>l.jsx(h9,{ref:n,className:ve(Toe(),e),...r}));Ge.displayName=h9.displayName;const ct=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));ct.displayName="Card";const Yt=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ve("flex flex-col space-y-1.5 p-6",e),...r}));Yt.displayName="CardHeader";const br=y.forwardRef(({className:e,...r},n)=>l.jsx("h3",{ref:n,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...r}));br.displayName="CardTitle";const m9=y.forwardRef(({className:e,...r},n)=>l.jsx("p",{ref:n,className:ve("text-sm text-muted-foreground",e),...r}));m9.displayName="CardDescription";const xt=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ve("p-6 pt-0",e),...r}));xt.displayName="CardContent";const p9=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ve("flex items-center p-6 pt-0",e),...r}));p9.displayName="CardFooter";const Aoe=1,Ooe=1e6;let ck=0;function Poe(){return ck=(ck+1)%Number.MAX_SAFE_INTEGER,ck.toString()}const uk=new Map,EI=e=>{if(uk.has(e))return;const r=setTimeout(()=>{uk.delete(e),fg({type:"REMOVE_TOAST",toastId:e})},Ooe);uk.set(e,r)},Doe=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,Aoe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===r.toast.id?{...n,...r.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=r;return n?EI(n):e.toasts.forEach(a=>{EI(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==r.toastId)}}},Rw=[];let Iw={toasts:[]};function fg(e){Iw=Doe(Iw,e),Rw.forEach(r=>{r(Iw)})}function Roe({...e}){const r=Poe(),n=s=>fg({type:"UPDATE_TOAST",toast:{...s,id:r}}),a=()=>fg({type:"DISMISS_TOAST",toastId:r});return fg({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:s=>{s||a()}}}),{id:r,dismiss:a,update:n}}function Ol(){const[e,r]=y.useState(Iw);return y.useEffect(()=>(Rw.push(r),()=>{const n=Rw.indexOf(r);n>-1&&Rw.splice(n,1)}),[e]),{...e,toast:Roe,dismiss:n=>fg({type:"DISMISS_TOAST",toastId:n})}}const Ioe=()=>{var x,b;const[e,r]=y.useState(""),[n,a]=y.useState(""),[s,i]=y.useState("crmdb"),[o,c]=y.useState(!1),{login:u}=vr(),d=Vs(),f=Al(),{t:h}=qt(),{isRTL:m}=Va(),{toast:p}=Ol(),v=((b=(x=f.state)==null?void 0:x.from)==null?void 0:b.pathname)||"/dashboard",g=async w=>{if(w.preventDefault(),!e||!n){p({title:h("common.error","Error"),description:h("validation.fillAllFields","Please fill in all fields"),variant:"destructive"});return}c(!0);try{const _=await G.auth.login({email:e,password:n,company_code:s});if(_.serviceToken&&_.user)await u(_.serviceToken,_.user),p({title:h("common.success","Success"),description:h("auth.loginSuccess","Logged in successfully")}),d(v,{replace:!0});else throw new Error("Invalid response from server")}catch(_){console.error("Login error:",_);let S=h("auth.loginFailed","Failed to login. Please check your credentials.");_.message&&!_.message.includes("Unexpected token")&&(S=_.message),p({title:h("auth.loginFailedTitle","Login Failed"),description:S,variant:"destructive"})}finally{c(!1)}};return l.jsxs(ct,{className:`w-full max-w-md ${m?"text-right":"text-left"}`,dir:m?"rtl":"ltr",children:[l.jsxs(Yt,{children:[l.jsx(br,{className:"text-2xl text-center",children:h("auth.signIn","Login")}),l.jsx(m9,{className:"text-center",children:h("auth.enterCredentials","Enter your credentials to access your account")})]}),l.jsxs("form",{onSubmit:g,children:[l.jsxs(xt,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"email",children:h("auth.emailOrUsername","Email / Username")}),l.jsx(We,{id:"email",type:"text",placeholder:h("auth.enterEmail","Enter your email"),value:e,onChange:w=>r(w.target.value),disabled:o,className:m?"text-right":"text-left"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"password",children:h("forms.password","Password")}),l.jsx(We,{id:"password",type:"password",placeholder:h("auth.enterPassword","Enter your password"),value:n,onChange:w=>a(w.target.value),disabled:o,className:m?"text-right":"text-left"})]})]}),l.jsx(p9,{className:"flex flex-col space-y-4",children:l.jsx(ue,{type:"submit",className:"w-full",disabled:o,children:o?h("auth.signingIn","Logging in..."):h("auth.signInButton","Login")})})]})]})},Moe=()=>{const[e,r]=y.useState(!1);vr();const n=Vs(),{t:a}=qt();return l.jsxs("div",{className:"w-full max-w-md space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold",children:a("auth.createAccount")}),l.jsx("p",{className:"text-muted-foreground mt-2",children:a("auth.signUpToGetStarted")})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:a("auth.chooseAccountTypeSignUp")}),e&&l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:a("auth.redirectingToGoogle")})]}),l.jsxs("div",{className:"text-center text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:[a("auth.alreadyHaveAccount")," "]}),l.jsx(ue,{variant:"link",className:"p-0",onClick:()=>n("/login"),children:a("auth.signIn")})]})]})},Foe=()=>{const{user:e}=vr(),r=()=>(e==null?void 0:e.permissions)||0,n=()=>(e==null?void 0:e.permissions_permissions_Name)||"",a=()=>(e==null?void 0:e.role)||"",s=b=>{const w=r();return Array.isArray(b)?b.includes(w):w===b},i=b=>{const w=n().toLowerCase();return Array.isArray(b)?b.some(_=>_.toLowerCase()===w):b.toLowerCase()===w},o=b=>{const w=a().toLowerCase();return Array.isArray(b)?b.some(_=>_.toLowerCase()===w):b.toLowerCase()===w},c=s(1)||i("admin")||o("admin"),u=s(2)||i("manager")||o("manager"),d=s(3)||i("employee")||o("employee"),f=s(4)||i("team_leader")||o("team_leader"),h=s(5)||i("partner_employee")||o("partner_employee"),m=s(6)||i("partner_leader")||o("partner_leader"),p=s([1,2])||i(["admin","manager"])||o(["admin","manager"]),v=s(1)||i("admin")||o("admin"),g=s(1)||i("admin")||o("admin"),x=s(1)||i("admin")||o("admin");return{permissionId:r(),permissionName:n(),role:a(),hasPermissionId:s,hasPermissionName:i,hasRole:o,isAdmin:c,isManager:u,isEmployee:d,isTeamLeader:f,isPartnerEmployee:h,isPartnerLeader:m,canAccessSystem:p,canManageUsers:v,canManagePermissions:g,canAccessSettings:x}},g9=y.createContext(void 0),Loe=({children:e})=>{const[r,n]=y.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[a,s]=y.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[i,o]=y.useState(()=>localStorage.getItem("crm_logo_url")||""),c=m=>{n(m),localStorage.setItem("crm_company_name",m)},u=m=>{s(m),localStorage.setItem("crm_primary_color",m),f(m)},d=m=>{o(m),localStorage.setItem("crm_logo_url",m)},f=m=>{const p=h(m);p&&(document.documentElement.style.setProperty("--primary",`${p.h} ${p.s}% ${p.l}%`),document.documentElement.style.setProperty("--ring",`${p.h} ${p.s}% ${p.l}%`))};function h(m){let p=0,v=0,g=0;m.length===4?(p=parseInt(m[1]+m[1],16),v=parseInt(m[2]+m[2],16),g=parseInt(m[3]+m[3],16)):m.length===7&&(p=parseInt(m.substring(1,3),16),v=parseInt(m.substring(3,5),16),g=parseInt(m.substring(5,7),16)),p/=255,v/=255,g/=255;const x=Math.max(p,v,g),b=Math.min(p,v,g);let w=0,_,S=(x+b)/2;if(x===b)w=_=0;else{const j=x-b;switch(_=S>.5?j/(2-x-b):j/(x+b),x){case p:w=(v-g)/j+(v<g?6:0);break;case v:w=(g-p)/j+2;break;case g:w=(p-v)/j+4;break}w/=6}return{h:Math.round(w*360),s:Math.round(_*100),l:Math.round(S*100)}}return y.useEffect(()=>{f(a)},[]),l.jsx(g9.Provider,{value:{companyName:r,setCompanyName:c,primaryColor:a,setPrimaryColor:u,logoUrl:i,setLogoUrl:d},children:e})},v9=()=>{const e=y.useContext(g9);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e};function $oe(e,r){const n=y.createContext(r),a=i=>{const{children:o,...c}=i,u=y.useMemo(()=>c,Object.values(c));return l.jsx(n.Provider,{value:u,children:o})};a.displayName=e+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function ps(e,r=[]){let n=[];function a(i,o){const c=y.createContext(o),u=n.length;n=[...n,o];const d=h=>{var b;const{scope:m,children:p,...v}=h,g=((b=m==null?void 0:m[e])==null?void 0:b[u])||c,x=y.useMemo(()=>v,Object.values(v));return l.jsx(g.Provider,{value:x,children:p})};d.displayName=i+"Provider";function f(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[u])||c,v=y.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(c){const u=(c==null?void 0:c[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[a,Boe(s,...r)]}function Boe(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((c,{useScope:u,scopeName:d})=>{const h=u(i)[`__scope${d}`];return{...c,...h}},{});return y.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function Zn(e){const r=y.useRef(e);return y.useEffect(()=>{r.current=e}),y.useMemo(()=>(...n)=>{var a;return(a=r.current)==null?void 0:a.call(r,...n)},[])}var Dn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function Uoe(){return CU.useSyncExternalStore(Voe,()=>!0,()=>!1)}function Voe(){return()=>{}}var FA="Avatar",[zoe,mXe]=ps(FA),[Woe,x9]=zoe(FA),y9=y.forwardRef((e,r)=>{const{__scopeAvatar:n,...a}=e,[s,i]=y.useState("idle");return l.jsx(Woe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(mt.span,{...a,ref:r})})});y9.displayName=FA;var w9="AvatarImage",b9=y.forwardRef((e,r)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=x9(w9,n),c=Hoe(a,i),u=Zn(d=>{s(d),o.onImageLoadingStatusChange(d)});return Dn(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?l.jsx(mt.img,{...i,ref:r,src:a}):null});b9.displayName=w9;var _9="AvatarFallback",S9=y.forwardRef((e,r)=>{const{__scopeAvatar:n,delayMs:a,...s}=e,i=x9(_9,n),[o,c]=y.useState(a===void 0);return y.useEffect(()=>{if(a!==void 0){const u=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(u)}},[a]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(mt.span,{...s,ref:r}):null});S9.displayName=_9;function CI(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Hoe(e,{referrerPolicy:r,crossOrigin:n}){const a=Uoe(),s=y.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,c]=y.useState(()=>CI(i,e));return Dn(()=>{c(CI(i,e))},[i,e]),Dn(()=>{const u=h=>()=>{c(h)};if(!i)return;const d=u("loaded"),f=u("error");return i.addEventListener("load",d),i.addEventListener("error",f),r&&(i.referrerPolicy=r),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,n,r]),o}var j9=y9,k9=b9,N9=S9;const Ds=y.forwardRef(({className:e,...r},n)=>l.jsx(j9,{ref:n,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));Ds.displayName=j9.displayName;const Po=y.forwardRef(({className:e,...r},n)=>l.jsx(k9,{ref:n,className:ve("aspect-square h-full w-full",e),...r}));Po.displayName=k9.displayName;const Rs=y.forwardRef(({className:e,...r},n)=>l.jsx(N9,{ref:n,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Rs.displayName=N9.displayName;const qoe=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Cie},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Zs}]},{label:"sales",items:[{labelKey:"navigation.leads",path:"/leads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Ia},{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Cn},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ef},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Cn}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:dg},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:vh},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Zs}]},{label:"communication",items:[{labelKey:"WhatsApp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Fu},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Fu},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:S1}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:$ie},{labelKey:"navigation.settings",path:"/settings",roles:["admin"],icon:e9},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:S1}]}];function TI({onNavigate:e}={}){var o,c,u;const r=Al(),{user:n}=vr(),{canAccessSystem:a}=Foe(),{t:s}=qt(),{companyName:i}=v9();return l.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[l.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary to-primary/80 shadow-lg flex items-center justify-center ring-2 ring-primary/20",children:l.jsx(Cn,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-bold text-sidebar-foreground tracking-tight",children:i}),l.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"CRM System"})]})]})}),l.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:l.jsx("nav",{className:"space-y-6",children:qoe.map(d=>{if(d.label==="system"&&!a)return null;let f=d.items;if(!a){const h=new Set(["/users","/permissions","/settings"]);f=f.filter(m=>!h.has(m.path))}return f.length===0?null:l.jsxs("div",{children:[l.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:s(`navigation.${d.label} Group`,d.label)}),l.jsx("div",{className:"space-y-1",children:f.map(h=>{const m=r.pathname===h.path,p=h.icon;return l.jsxs(U2,{to:h.path,onClick:v=>{m&&v.preventDefault(),e==null||e()},className:ve("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",m?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[m&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),l.jsx(p,{className:ve("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",m?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),l.jsx("span",{className:"flex-1 relative z-10",children:s(h.labelKey)})]},h.path)})})]},d.label)})})}),l.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[l.jsx(Ds,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:l.jsx(Rs,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(o=n==null?void 0:n.email)==null?void 0:o.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((c=n==null?void 0:n.profile)==null?void 0:c.name)||(n==null?void 0:n.email)}),l.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(u=n==null?void 0:n.role)==null?void 0:u.replace("_"," ")]})]}),l.jsx(P_,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function Koe(){const e=Al(),{t:r}=qt(),n=e.pathname.split("/").filter(i=>i);if(n.length===0)return null;const a={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},s=i=>a[i]?r(a[i]):/^\d+$/.test(i)||i.length>20?i:i.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return l.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[l.jsx(U2,{to:"/",className:"hover:text-foreground transition-colors",children:r("navigation.home")}),n.map((i,o)=>{const c=`/${n.slice(0,o+1).join("/")}`,u=o===n.length-1,d=s(i);return l.jsxs("div",{className:"flex items-center",children:[l.jsx(P_,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),u?l.jsx("span",{className:"text-foreground font-medium",children:d}):l.jsx(U2,{to:c,className:"hover:text-foreground transition-colors",children:d})]},i)})]})}function G2(e,[r,n]){return Math.min(n,Math.max(r,e))}function nt(e,r,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function LA(e){const r=e+"CollectionProvider",[n,a]=ps(r),[s,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:b}=g,w=ne.useRef(null),_=ne.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:_,collectionRef:w,children:b})};o.displayName=r;const c=e+"CollectionSlot",u=Lu(c),d=ne.forwardRef((g,x)=>{const{scope:b,children:w}=g,_=i(c,b),S=Wt(x,_.collectionRef);return l.jsx(u,{ref:S,children:w})});d.displayName=c;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=Lu(f),p=ne.forwardRef((g,x)=>{const{scope:b,children:w,..._}=g,S=ne.useRef(null),j=Wt(x,S),N=i(f,b);return ne.useEffect(()=>(N.itemMap.set(S,{ref:S,..._}),()=>void N.itemMap.delete(S))),l.jsx(m,{[h]:"",ref:j,children:w})});p.displayName=f;function v(g){const x=i(e+"CollectionConsumer",g);return ne.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((N,k)=>_.indexOf(N.ref.current)-_.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},v,a]}var Goe=y.createContext(void 0);function gx(e){const r=y.useContext(Goe);return e||r||"ltr"}function Yoe(e,r=globalThis==null?void 0:globalThis.document){const n=Zn(e);y.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[n,r])}var Xoe="DismissableLayer",Y2="dismissableLayer.update",Joe="dismissableLayer.pointerDownOutside",Qoe="dismissableLayer.focusOutside",AI,E9=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vx=y.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...u}=e,d=y.useContext(E9),[f,h]=y.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),v=Wt(r,k=>h(k)),g=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(x),w=f?g.indexOf(f):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,j=tle(k=>{const E=k.target,C=[...d.branches].some(O=>O.contains(E));!S||C||(s==null||s(k),o==null||o(k),k.defaultPrevented||c==null||c())},m),N=rle(k=>{const E=k.target;[...d.branches].some(O=>O.contains(E))||(i==null||i(k),o==null||o(k),k.defaultPrevented||c==null||c())},m);return Yoe(k=>{w===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},m),y.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(AI=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),OI(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=AI)}},[f,m,n,d]),y.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),OI())},[f,d]),y.useEffect(()=>{const k=()=>p({});return document.addEventListener(Y2,k),()=>document.removeEventListener(Y2,k)},[]),l.jsx(mt.div,{...u,ref:v,style:{pointerEvents:_?S?"auto":"none":void 0,...e.style},onFocusCapture:nt(e.onFocusCapture,N.onFocusCapture),onBlurCapture:nt(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:nt(e.onPointerDownCapture,j.onPointerDownCapture)})});vx.displayName=Xoe;var Zoe="DismissableLayerBranch",ele=y.forwardRef((e,r)=>{const n=y.useContext(E9),a=y.useRef(null),s=Wt(r,a);return y.useEffect(()=>{const i=a.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(mt.div,{...e,ref:s})});ele.displayName=Zoe;function tle(e,r=globalThis==null?void 0:globalThis.document){const n=Zn(e),a=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=c=>{if(c.target&&!a.current){let u=function(){C9(Joe,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=u,r.addEventListener("click",s.current,{once:!0})):u()}else r.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,n]),{onPointerDownCapture:()=>a.current=!0}}function rle(e,r=globalThis==null?void 0:globalThis.document){const n=Zn(e),a=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!a.current&&C9(Qoe,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function OI(){const e=new CustomEvent(Y2);document.dispatchEvent(e)}function C9(e,r,n,{discrete:a}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&s.addEventListener(e,r,{once:!0}),a?d9(s,i):s.dispatchEvent(i)}var dk=0;function M_(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PI()),document.body.insertAdjacentElement("beforeend",e[1]??PI()),dk++,()=>{dk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),dk--}},[])}function PI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fk="focusScope.autoFocusOnMount",hk="focusScope.autoFocusOnUnmount",DI={bubbles:!1,cancelable:!0},nle="FocusScope",xx=y.forwardRef((e,r)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[c,u]=y.useState(null),d=Zn(s),f=Zn(i),h=y.useRef(null),m=Wt(r,g=>u(g)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(a){let g=function(_){if(p.paused||!c)return;const S=_.target;c.contains(S)?h.current=S:Wc(h.current,{select:!0})},x=function(_){if(p.paused||!c)return;const S=_.relatedTarget;S!==null&&(c.contains(S)||Wc(h.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const j of _)j.removedNodes.length>0&&Wc(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const w=new MutationObserver(b);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),w.disconnect()}}},[a,c,p.paused]),y.useEffect(()=>{if(c){II.add(p);const g=document.activeElement;if(!c.contains(g)){const b=new CustomEvent(fk,DI);c.addEventListener(fk,d),c.dispatchEvent(b),b.defaultPrevented||(ale(cle(T9(c)),{select:!0}),document.activeElement===g&&Wc(c))}return()=>{c.removeEventListener(fk,d),setTimeout(()=>{const b=new CustomEvent(hk,DI);c.addEventListener(hk,f),c.dispatchEvent(b),b.defaultPrevented||Wc(g??document.body,{select:!0}),c.removeEventListener(hk,f),II.remove(p)},0)}}},[c,d,f,p]);const v=y.useCallback(g=>{if(!n&&!a||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(x&&b){const w=g.currentTarget,[_,S]=sle(w);_&&S?!g.shiftKey&&b===S?(g.preventDefault(),n&&Wc(_,{select:!0})):g.shiftKey&&b===_&&(g.preventDefault(),n&&Wc(S,{select:!0})):b===w&&g.preventDefault()}},[n,a,p.paused]);return l.jsx(mt.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});xx.displayName=nle;function ale(e,{select:r=!1}={}){const n=document.activeElement;for(const a of e)if(Wc(a,{select:r}),document.activeElement!==n)return}function sle(e){const r=T9(e),n=RI(r,e),a=RI(r.reverse(),e);return[n,a]}function T9(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function RI(e,r){for(const n of e)if(!ile(n,{upTo:r}))return n}function ile(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ole(e){return e instanceof HTMLInputElement&&"select"in e}function Wc(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ole(e)&&r&&e.select()}}var II=lle();function lle(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=MI(e,r),e.unshift(r)},remove(r){var n;e=MI(e,r),(n=e[0])==null||n.resume()}}}function MI(e,r){const n=[...e],a=n.indexOf(r);return a!==-1&&n.splice(a,1),n}function cle(e){return e.filter(r=>r.tagName!=="A")}var ule=NT[" useId ".trim().toString()]||(()=>{}),dle=0;function ua(e){const[r,n]=y.useState(ule());return Dn(()=>{n(a=>a??String(dle++))},[e]),r?`radix-${r}`:""}const fle=["top","right","bottom","left"],$u=Math.min,ei=Math.max,k1=Math.round,Oy=Math.floor,ml=e=>({x:e,y:e}),hle={left:"right",right:"left",bottom:"top",top:"bottom"},mle={start:"end",end:"start"};function X2(e,r,n){return ei(e,$u(r,n))}function gc(e,r){return typeof e=="function"?e(r):e}function vc(e){return e.split("-")[0]}function Rp(e){return e.split("-")[1]}function $A(e){return e==="x"?"y":"x"}function BA(e){return e==="y"?"height":"width"}const ple=new Set(["top","bottom"]);function cl(e){return ple.has(vc(e))?"y":"x"}function UA(e){return $A(cl(e))}function gle(e,r,n){n===void 0&&(n=!1);const a=Rp(e),s=UA(e),i=BA(s);let o=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=N1(o)),[o,N1(o)]}function vle(e){const r=N1(e);return[J2(e),r,J2(r)]}function J2(e){return e.replace(/start|end/g,r=>mle[r])}const FI=["left","right"],LI=["right","left"],xle=["top","bottom"],yle=["bottom","top"];function wle(e,r,n){switch(e){case"top":case"bottom":return n?r?LI:FI:r?FI:LI;case"left":case"right":return r?xle:yle;default:return[]}}function ble(e,r,n,a){const s=Rp(e);let i=wle(vc(e),n==="start",a);return s&&(i=i.map(o=>o+"-"+s),r&&(i=i.concat(i.map(J2)))),i}function N1(e){return e.replace(/left|right|bottom|top/g,r=>hle[r])}function _le(e){return{top:0,right:0,bottom:0,left:0,...e}}function A9(e){return typeof e!="number"?_le(e):{top:e,right:e,bottom:e,left:e}}function E1(e){const{x:r,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:r,right:r+a,bottom:n+s,x:r,y:n}}function $I(e,r,n){let{reference:a,floating:s}=e;const i=cl(r),o=UA(r),c=BA(o),u=vc(r),d=i==="y",f=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,m=a[c]/2-s[c]/2;let p;switch(u){case"top":p={x:f,y:a.y-s.height};break;case"bottom":p={x:f,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:h};break;case"left":p={x:a.x-s.width,y:h};break;default:p={x:a.x,y:a.y}}switch(Rp(r)){case"start":p[o]-=m*(n&&d?-1:1);break;case"end":p[o]+=m*(n&&d?-1:1);break}return p}const Sle=async(e,r,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,c=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:s}),{x:f,y:h}=$I(d,a,u),m=a,p={},v=0;for(let g=0;g<c.length;g++){const{name:x,fn:b}=c[g],{x:w,y:_,data:S,reset:j}=await b({x:f,y:h,initialPlacement:a,placement:m,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});f=w??f,h=_??h,p={...p,[x]:{...p[x],...S}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:s}):j.rects),{x:f,y:h}=$I(d,m,u)),g=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function av(e,r){var n;r===void 0&&(r={});const{x:a,y:s,platform:i,rects:o,elements:c,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=gc(r,e),v=A9(p),x=c[m?h==="floating"?"reference":"floating":h],b=E1(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),w=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},j=E1(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:_,strategy:u}):w);return{top:(b.top-j.top+v.top)/S.y,bottom:(j.bottom-b.bottom+v.bottom)/S.y,left:(b.left-j.left+v.left)/S.x,right:(j.right-b.right+v.right)/S.x}}const jle=e=>({name:"arrow",options:e,async fn(r){const{x:n,y:a,placement:s,rects:i,platform:o,elements:c,middlewareData:u}=r,{element:d,padding:f=0}=gc(e,r)||{};if(d==null)return{};const h=A9(f),m={x:n,y:a},p=UA(s),v=BA(p),g=await o.getDimensions(d),x=p==="y",b=x?"top":"left",w=x?"bottom":"right",_=x?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[p]-m[p]-i.floating[v],j=m[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=N?N[_]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=c.floating[_]||i.floating[v]);const E=S/2-j/2,C=k/2-g[v]/2-1,O=$u(h[b],C),D=$u(h[w],C),T=O,z=k-g[v]-D,q=k/2-g[v]/2+E,F=X2(T,q,z),I=!u.arrow&&Rp(s)!=null&&q!==F&&i.reference[v]/2-(q<T?O:D)-g[v]/2<0,V=I?q<T?q-T:q-z:0;return{[p]:m[p]+V,data:{[p]:F,centerOffset:q-F-V,...I&&{alignmentOffset:V}},reset:I}}}),kle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var n,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:c,platform:u,elements:d}=r,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=gc(e,r);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=vc(s),w=cl(c),_=vc(c)===c,S=await(u.isRTL==null?void 0:u.isRTL(d.floating)),j=m||(_||!g?[N1(c)]:vle(c)),N=v!=="none";!m&&N&&j.push(...ble(c,g,v,S));const k=[c,...j],E=await av(r,x),C=[];let O=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&C.push(E[b]),h){const q=gle(s,o,S);C.push(E[q[0]],E[q[1]])}if(O=[...O,{placement:s,overflows:C}],!C.every(q=>q<=0)){var D,T;const q=(((D=i.flip)==null?void 0:D.index)||0)+1,F=k[q];if(F&&(!(h==="alignment"?w!==cl(F):!1)||O.every(L=>L.overflows[0]>0&&cl(L.placement)===w)))return{data:{index:q,overflows:O},reset:{placement:F}};let I=(T=O.filter(V=>V.overflows[0]<=0).sort((V,L)=>V.overflows[1]-L.overflows[1])[0])==null?void 0:T.placement;if(!I)switch(p){case"bestFit":{var z;const V=(z=O.filter(L=>{if(N){const M=cl(L.placement);return M===w||M==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(M=>M>0).reduce((M,Y)=>M+Y,0)]).sort((L,M)=>L[1]-M[1])[0])==null?void 0:z[0];V&&(I=V);break}case"initialPlacement":I=c;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function BI(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function UI(e){return fle.some(r=>e[r]>=0)}const Nle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:n}=r,{strategy:a="referenceHidden",...s}=gc(e,r);switch(a){case"referenceHidden":{const i=await av(r,{...s,elementContext:"reference"}),o=BI(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UI(o)}}}case"escaped":{const i=await av(r,{...s,altBoundary:!0}),o=BI(i,n.floating);return{data:{escapedOffsets:o,escaped:UI(o)}}}default:return{}}}}},O9=new Set(["left","top"]);async function Ele(e,r){const{placement:n,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=vc(n),c=Rp(n),u=cl(n)==="y",d=O9.has(o)?-1:1,f=i&&u?-1:1,h=gc(r,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof v=="number"&&(p=c==="end"?v*-1:v),u?{x:p*f,y:m*d}:{x:m*d,y:p*f}}const Cle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var n,a;const{x:s,y:i,placement:o,middlewareData:c}=r,u=await Ele(r,e);return o===((n=c.offset)==null?void 0:n.placement)&&(a=c.arrow)!=null&&a.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},Tle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:n,y:a,placement:s}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:x=>{let{x:b,y:w}=x;return{x:b,y:w}}},...u}=gc(e,r),d={x:n,y:a},f=await av(r,u),h=cl(vc(s)),m=$A(h);let p=d[m],v=d[h];if(i){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=p+f[x],_=p-f[b];p=X2(w,p,_)}if(o){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=v+f[x],_=v-f[b];v=X2(w,v,_)}const g=c.fn({...r,[m]:p,[h]:v});return{...g,data:{x:g.x-n,y:g.y-a,enabled:{[m]:i,[h]:o}}}}}},Ale=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:n,y:a,placement:s,rects:i,middlewareData:o}=r,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=gc(e,r),f={x:n,y:a},h=cl(s),m=$A(h);let p=f[m],v=f[h];const g=gc(c,r),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const _=m==="y"?"height":"width",S=i.reference[m]-i.floating[_]+x.mainAxis,j=i.reference[m]+i.reference[_]-x.mainAxis;p<S?p=S:p>j&&(p=j)}if(d){var b,w;const _=m==="y"?"width":"height",S=O9.has(vc(s)),j=i.reference[h]-i.floating[_]+(S&&((b=o.offset)==null?void 0:b[h])||0)+(S?0:x.crossAxis),N=i.reference[h]+i.reference[_]+(S?0:((w=o.offset)==null?void 0:w[h])||0)-(S?x.crossAxis:0);v<j?v=j:v>N&&(v=N)}return{[m]:p,[h]:v}}}},Ole=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var n,a;const{placement:s,rects:i,platform:o,elements:c}=r,{apply:u=()=>{},...d}=gc(e,r),f=await av(r,d),h=vc(s),m=Rp(s),p=cl(s)==="y",{width:v,height:g}=i.floating;let x,b;h==="top"||h==="bottom"?(x=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=h,x=m==="end"?"top":"bottom");const w=g-f.top-f.bottom,_=v-f.left-f.right,S=$u(g-f[x],w),j=$u(v-f[b],_),N=!r.middlewareData.shift;let k=S,E=j;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(E=_),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(k=w),N&&!m){const O=ei(f.left,0),D=ei(f.right,0),T=ei(f.top,0),z=ei(f.bottom,0);p?E=v-2*(O!==0||D!==0?O+D:ei(f.left,f.right)):k=g-2*(T!==0||z!==0?T+z:ei(f.top,f.bottom))}await u({...r,availableWidth:E,availableHeight:k});const C=await o.getDimensions(c.floating);return v!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function F_(){return typeof window<"u"}function Ip(e){return P9(e)?(e.nodeName||"").toLowerCase():"#document"}function ui(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Pl(e){var r;return(r=(P9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function P9(e){return F_()?e instanceof Node||e instanceof ui(e).Node:!1}function Do(e){return F_()?e instanceof Element||e instanceof ui(e).Element:!1}function _l(e){return F_()?e instanceof HTMLElement||e instanceof ui(e).HTMLElement:!1}function VI(e){return!F_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ui(e).ShadowRoot}const Ple=new Set(["inline","contents"]);function yx(e){const{overflow:r,overflowX:n,overflowY:a,display:s}=Ro(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+n)&&!Ple.has(s)}const Dle=new Set(["table","td","th"]);function Rle(e){return Dle.has(Ip(e))}const Ile=[":popover-open",":modal"];function L_(e){return Ile.some(r=>{try{return e.matches(r)}catch{return!1}})}const Mle=["transform","translate","scale","rotate","perspective"],Fle=["transform","translate","scale","rotate","perspective","filter"],Lle=["paint","layout","strict","content"];function VA(e){const r=zA(),n=Do(e)?Ro(e):e;return Mle.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||Fle.some(a=>(n.willChange||"").includes(a))||Lle.some(a=>(n.contain||"").includes(a))}function $le(e){let r=Bu(e);for(;_l(r)&&!Bm(r);){if(VA(r))return r;if(L_(r))return null;r=Bu(r)}return null}function zA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ble=new Set(["html","body","#document"]);function Bm(e){return Ble.has(Ip(e))}function Ro(e){return ui(e).getComputedStyle(e)}function $_(e){return Do(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bu(e){if(Ip(e)==="html")return e;const r=e.assignedSlot||e.parentNode||VI(e)&&e.host||Pl(e);return VI(r)?r.host:r}function D9(e){const r=Bu(e);return Bm(r)?e.ownerDocument?e.ownerDocument.body:e.body:_l(r)&&yx(r)?r:D9(r)}function sv(e,r,n){var a;r===void 0&&(r=[]),n===void 0&&(n=!0);const s=D9(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=ui(s);if(i){const c=Q2(o);return r.concat(o,o.visualViewport||[],yx(s)?s:[],c&&n?sv(c):[])}return r.concat(s,sv(s,[],n))}function Q2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function R9(e){const r=Ro(e);let n=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const s=_l(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:a,c=k1(n)!==i||k1(a)!==o;return c&&(n=i,a=o),{width:n,height:a,$:c}}function WA(e){return Do(e)?e:e.contextElement}function rm(e){const r=WA(e);if(!_l(r))return ml(1);const n=r.getBoundingClientRect(),{width:a,height:s,$:i}=R9(r);let o=(i?k1(n.width):n.width)/a,c=(i?k1(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const Ule=ml(0);function I9(e){const r=ui(e);return!zA()||!r.visualViewport?Ule:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function Vle(e,r,n){return r===void 0&&(r=!1),!n||r&&n!==ui(e)?!1:r}function gf(e,r,n,a){r===void 0&&(r=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=WA(e);let o=ml(1);r&&(a?Do(a)&&(o=rm(a)):o=rm(e));const c=Vle(i,n,a)?I9(i):ml(0);let u=(s.left+c.x)/o.x,d=(s.top+c.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const m=ui(i),p=a&&Do(a)?ui(a):a;let v=m,g=Q2(v);for(;g&&a&&p!==v;){const x=rm(g),b=g.getBoundingClientRect(),w=Ro(g),_=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*x.x,S=b.top+(g.clientTop+parseFloat(w.paddingTop))*x.y;u*=x.x,d*=x.y,f*=x.x,h*=x.y,u+=_,d+=S,v=ui(g),g=Q2(v)}}return E1({width:f,height:h,x:u,y:d})}function HA(e,r){const n=$_(e).scrollLeft;return r?r.left+n:gf(Pl(e)).left+n}function M9(e,r,n){n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=a.left+r.scrollLeft-(n?0:HA(e,a)),i=a.top+r.scrollTop;return{x:s,y:i}}function zle(e){let{elements:r,rect:n,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=Pl(a),c=r?L_(r.floating):!1;if(a===o||c&&i)return n;let u={scrollLeft:0,scrollTop:0},d=ml(1);const f=ml(0),h=_l(a);if((h||!h&&!i)&&((Ip(a)!=="body"||yx(o))&&(u=$_(a)),_l(a))){const p=gf(a);d=rm(a),f.x=p.x+a.clientLeft,f.y=p.y+a.clientTop}const m=o&&!h&&!i?M9(o,u,!0):ml(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-u.scrollTop*d.y+f.y+m.y}}function Wle(e){return Array.from(e.getClientRects())}function Hle(e){const r=Pl(e),n=$_(e),a=e.ownerDocument.body,s=ei(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=ei(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-n.scrollLeft+HA(e);const c=-n.scrollTop;return Ro(a).direction==="rtl"&&(o+=ei(r.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:c}}function qle(e,r){const n=ui(e),a=Pl(e),s=n.visualViewport;let i=a.clientWidth,o=a.clientHeight,c=0,u=0;if(s){i=s.width,o=s.height;const d=zA();(!d||d&&r==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:c,y:u}}const Kle=new Set(["absolute","fixed"]);function Gle(e,r){const n=gf(e,!0,r==="fixed"),a=n.top+e.clientTop,s=n.left+e.clientLeft,i=_l(e)?rm(e):ml(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,u=s*i.x,d=a*i.y;return{width:o,height:c,x:u,y:d}}function zI(e,r,n){let a;if(r==="viewport")a=qle(e,n);else if(r==="document")a=Hle(Pl(e));else if(Do(r))a=Gle(r,n);else{const s=I9(e);a={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return E1(a)}function F9(e,r){const n=Bu(e);return n===r||!Do(n)||Bm(n)?!1:Ro(n).position==="fixed"||F9(n,r)}function Yle(e,r){const n=r.get(e);if(n)return n;let a=sv(e,[],!1).filter(c=>Do(c)&&Ip(c)!=="body"),s=null;const i=Ro(e).position==="fixed";let o=i?Bu(e):e;for(;Do(o)&&!Bm(o);){const c=Ro(o),u=VA(o);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&Kle.has(s.position)||yx(o)&&!u&&F9(e,o))?a=a.filter(f=>f!==o):s=c,o=Bu(o)}return r.set(e,a),a}function Xle(e){let{element:r,boundary:n,rootBoundary:a,strategy:s}=e;const o=[...n==="clippingAncestors"?L_(r)?[]:Yle(r,this._c):[].concat(n),a],c=o[0],u=o.reduce((d,f)=>{const h=zI(r,f,s);return d.top=ei(h.top,d.top),d.right=$u(h.right,d.right),d.bottom=$u(h.bottom,d.bottom),d.left=ei(h.left,d.left),d},zI(r,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Jle(e){const{width:r,height:n}=R9(e);return{width:r,height:n}}function Qle(e,r,n){const a=_l(r),s=Pl(r),i=n==="fixed",o=gf(e,!0,i,r);let c={scrollLeft:0,scrollTop:0};const u=ml(0);function d(){u.x=HA(s)}if(a||!a&&!i)if((Ip(r)!=="body"||yx(s))&&(c=$_(r)),a){const p=gf(r,!0,i,r);u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}else s&&d();i&&!a&&s&&d();const f=s&&!a&&!i?M9(s,c):ml(0),h=o.left+c.scrollLeft-u.x-f.x,m=o.top+c.scrollTop-u.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function mk(e){return Ro(e).position==="static"}function WI(e,r){if(!_l(e)||Ro(e).position==="fixed")return null;if(r)return r(e);let n=e.offsetParent;return Pl(e)===n&&(n=n.ownerDocument.body),n}function L9(e,r){const n=ui(e);if(L_(e))return n;if(!_l(e)){let s=Bu(e);for(;s&&!Bm(s);){if(Do(s)&&!mk(s))return s;s=Bu(s)}return n}let a=WI(e,r);for(;a&&Rle(a)&&mk(a);)a=WI(a,r);return a&&Bm(a)&&mk(a)&&!VA(a)?n:a||$le(e)||n}const Zle=async function(e){const r=this.getOffsetParent||L9,n=this.getDimensions,a=await n(e.floating);return{reference:Qle(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function ece(e){return Ro(e).direction==="rtl"}const tce={convertOffsetParentRelativeRectToViewportRelativeRect:zle,getDocumentElement:Pl,getClippingRect:Xle,getOffsetParent:L9,getElementRects:Zle,getClientRects:Wle,getDimensions:Jle,getScale:rm,isElement:Do,isRTL:ece};function $9(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function rce(e,r){let n=null,a;const s=Pl(e);function i(){var c;clearTimeout(a),(c=n)==null||c.disconnect(),n=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=d;if(c||r(),!m||!p)return;const v=Oy(h),g=Oy(s.clientWidth-(f+m)),x=Oy(s.clientHeight-(h+p)),b=Oy(f),_={rootMargin:-v+"px "+-g+"px "+-x+"px "+-b+"px",threshold:ei(0,$u(1,u))||1};let S=!0;function j(N){const k=N[0].intersectionRatio;if(k!==u){if(!S)return o();k?o(!1,k):a=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!$9(d,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(j,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,_)}n.observe(e)}return o(!0),i}function nce(e,r,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=a,d=WA(e),f=s||i?[...d?sv(d):[],...sv(r)]:[];f.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=d&&c?rce(d,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(r)})),n()}),d&&!u&&p.observe(d),p.observe(r));let v,g=u?gf(e):null;u&&x();function x(){const b=gf(e);g&&!$9(g,b)&&n(),g=b,v=requestAnimationFrame(x)}return n(),()=>{var b;f.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,u&&cancelAnimationFrame(v)}}const ace=Cle,sce=Tle,ice=kle,oce=Ole,lce=Nle,HI=jle,cce=Ale,uce=(e,r,n)=>{const a=new Map,s={platform:tce,...n},i={...s.platform,_c:a};return Sle(e,r,{...s,platform:i})};var dce=typeof document<"u",fce=function(){},Mw=dce?y.useLayoutEffect:fce;function C1(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let n,a,s;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==r.length)return!1;for(a=n;a--!==0;)if(!C1(e[a],r[a]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!C1(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function B9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qI(e,r){const n=B9(e);return Math.round(r*n)/n}function pk(e){const r=y.useRef(e);return Mw(()=>{r.current=e}),r}function hce(e){e===void 0&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[f,h]=y.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[m,p]=y.useState(a);C1(m,a)||p(a);const[v,g]=y.useState(null),[x,b]=y.useState(null),w=y.useCallback(L=>{L!==N.current&&(N.current=L,g(L))},[]),_=y.useCallback(L=>{L!==k.current&&(k.current=L,b(L))},[]),S=i||v,j=o||x,N=y.useRef(null),k=y.useRef(null),E=y.useRef(f),C=u!=null,O=pk(u),D=pk(s),T=pk(d),z=y.useCallback(()=>{if(!N.current||!k.current)return;const L={placement:r,strategy:n,middleware:m};D.current&&(L.platform=D.current),uce(N.current,k.current,L).then(M=>{const Y={...M,isPositioned:T.current!==!1};q.current&&!C1(E.current,Y)&&(E.current=Y,Ap.flushSync(()=>{h(Y)}))})},[m,r,n,D,T]);Mw(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[d]);const q=y.useRef(!1);Mw(()=>(q.current=!0,()=>{q.current=!1}),[]),Mw(()=>{if(S&&(N.current=S),j&&(k.current=j),S&&j){if(O.current)return O.current(S,j,z);z()}},[S,j,z,O,C]);const F=y.useMemo(()=>({reference:N,floating:k,setReference:w,setFloating:_}),[w,_]),I=y.useMemo(()=>({reference:S,floating:j}),[S,j]),V=y.useMemo(()=>{const L={position:n,left:0,top:0};if(!I.floating)return L;const M=qI(I.floating,f.x),Y=qI(I.floating,f.y);return c?{...L,transform:"translate("+M+"px, "+Y+"px)",...B9(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:Y}},[n,c,I.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:z,refs:F,elements:I,floatingStyles:V}),[f,z,F,I,V])}const mce=e=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:s}=typeof e=="function"?e(n):e;return a&&r(a)?a.current!=null?HI({element:a.current,padding:s}).fn(n):{}:a?HI({element:a,padding:s}).fn(n):{}}}},pce=(e,r)=>({...ace(e),options:[e,r]}),gce=(e,r)=>({...sce(e),options:[e,r]}),vce=(e,r)=>({...cce(e),options:[e,r]}),xce=(e,r)=>({...ice(e),options:[e,r]}),yce=(e,r)=>({...oce(e),options:[e,r]}),wce=(e,r)=>({...lce(e),options:[e,r]}),bce=(e,r)=>({...mce(e),options:[e,r]});var _ce="Arrow",U9=y.forwardRef((e,r)=>{const{children:n,width:a=10,height:s=5,...i}=e;return l.jsx(mt.svg,{...i,ref:r,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});U9.displayName=_ce;var Sce=U9;function qA(e){const[r,n]=y.useState(void 0);return Dn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,c=d.blockSize}else o=e.offsetWidth,c=e.offsetHeight;n({width:o,height:c})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),r}var KA="Popper",[V9,Mp]=ps(KA),[jce,z9]=V9(KA),W9=e=>{const{__scopePopper:r,children:n}=e,[a,s]=y.useState(null);return l.jsx(jce,{scope:r,anchor:a,onAnchorChange:s,children:n})};W9.displayName=KA;var H9="PopperAnchor",q9=y.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:a,...s}=e,i=z9(H9,n),o=y.useRef(null),c=Wt(r,o);return y.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:l.jsx(mt.div,{...s,ref:c})});q9.displayName=H9;var GA="PopperContent",[kce,Nce]=V9(GA),K9=y.forwardRef((e,r)=>{var oe,we,se,Q,he,P;const{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,x=z9(GA,n),[b,w]=y.useState(null),_=Wt(r,Le=>w(Le)),[S,j]=y.useState(null),N=qA(S),k=(N==null?void 0:N.width)??0,E=(N==null?void 0:N.height)??0,C=a+(i!=="center"?"-"+i:""),O=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(d)?d:[d],T=D.length>0,z={padding:O,boundary:D.filter(Cce),altBoundary:T},{refs:q,floatingStyles:F,placement:I,isPositioned:V,middlewareData:L}=hce({strategy:"fixed",placement:C,whileElementsMounted:(...Le)=>nce(...Le,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[pce({mainAxis:s+E,alignmentAxis:o}),u&&gce({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?vce():void 0,...z}),u&&xce({...z}),yce({...z,apply:({elements:Le,rects:$e,availableWidth:Me,availableHeight:He})=>{const{width:De,height:wt}=$e.reference,dt=Le.floating.style;dt.setProperty("--radix-popper-available-width",`${Me}px`),dt.setProperty("--radix-popper-available-height",`${He}px`),dt.setProperty("--radix-popper-anchor-width",`${De}px`),dt.setProperty("--radix-popper-anchor-height",`${wt}px`)}}),S&&bce({element:S,padding:c}),Tce({arrowWidth:k,arrowHeight:E}),m&&wce({strategy:"referenceHidden",...z})]}),[M,Y]=X9(I),Z=Zn(v);Dn(()=>{V&&(Z==null||Z())},[V,Z]);const A=(oe=L.arrow)==null?void 0:oe.x,X=(we=L.arrow)==null?void 0:we.y,U=((se=L.arrow)==null?void 0:se.centerOffset)!==0,[H,ae]=y.useState();return Dn(()=>{b&&ae(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:V?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(Q=L.transformOrigin)==null?void 0:Q.x,(he=L.transformOrigin)==null?void 0:he.y].join(" "),...((P=L.hide)==null?void 0:P.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(kce,{scope:n,placedSide:M,onArrowChange:j,arrowX:A,arrowY:X,shouldHideArrow:U,children:l.jsx(mt.div,{"data-side":M,"data-align":Y,...g,ref:_,style:{...g.style,animation:V?void 0:"none"}})})})});K9.displayName=GA;var G9="PopperArrow",Ece={top:"bottom",right:"left",bottom:"top",left:"right"},Y9=y.forwardRef(function(r,n){const{__scopePopper:a,...s}=r,i=Nce(G9,a),o=Ece[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(Sce,{...s,ref:n,style:{...s.style,display:"block"}})})});Y9.displayName=G9;function Cce(e){return e!==null}var Tce=e=>({name:"transformOrigin",options:e,fn(r){var x,b,w;const{placement:n,rects:a,middlewareData:s}=r,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,c=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[d,f]=X9(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((b=s.arrow)==null?void 0:b.x)??0)+c/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+u/2;let v="",g="";return d==="bottom"?(v=o?h:`${m}px`,g=`${-u}px`):d==="top"?(v=o?h:`${m}px`,g=`${a.floating.height+u}px`):d==="right"?(v=`${-u}px`,g=o?h:`${p}px`):d==="left"&&(v=`${a.floating.width+u}px`,g=o?h:`${p}px`),{data:{x:v,y:g}}}});function X9(e){const[r,n="center"]=e.split("-");return[r,n]}var YA=W9,B_=q9,XA=K9,JA=Y9,Ace="Portal",wx=y.forwardRef((e,r)=>{var c;const{container:n,...a}=e,[s,i]=y.useState(!1);Dn(()=>i(!0),[]);const o=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?lte.createPortal(l.jsx(mt.div,{...a,ref:r}),o):null});wx.displayName=Ace;var Oce=NT[" useInsertionEffect ".trim().toString()]||Dn;function xc({prop:e,defaultProp:r,onChange:n=()=>{},caller:a}){const[s,i,o]=Pce({defaultProp:r,onChange:n}),c=e!==void 0,u=c?e:s;{const f=y.useRef(e!==void 0);y.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,a])}const d=y.useCallback(f=>{var h;if(c){const m=Dce(f)?f(e):f;m!==e&&((h=o.current)==null||h.call(o,m))}else i(f)},[c,e,i,o]);return[u,d]}function Pce({defaultProp:e,onChange:r}){const[n,a]=y.useState(e),s=y.useRef(n),i=y.useRef(r);return Oce(()=>{i.current=r},[r]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,a,i]}function Dce(e){return typeof e=="function"}function QA(e){const r=y.useRef({value:e,previous:e});return y.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var J9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Rce="VisuallyHidden",Ice=y.forwardRef((e,r)=>l.jsx(mt.span,{...e,ref:r,style:{...J9,...e.style}}));Ice.displayName=Rce;var Mce=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},th=new WeakMap,Py=new WeakMap,Dy={},gk=0,Q9=function(e){return e&&(e.host||Q9(e.parentNode))},Fce=function(e,r){return r.map(function(n){if(e.contains(n))return n;var a=Q9(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Lce=function(e,r,n,a){var s=Fce(r,Array.isArray(e)?e:[e]);Dy[n]||(Dy[n]=new WeakMap);var i=Dy[n],o=[],c=new Set,u=new Set(s),d=function(h){!h||c.has(h)||(c.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(m){if(c.has(m))f(m);else try{var p=m.getAttribute(a),v=p!==null&&p!=="false",g=(th.get(m)||0)+1,x=(i.get(m)||0)+1;th.set(m,g),i.set(m,x),o.push(m),g===1&&v&&Py.set(m,!0),x===1&&m.setAttribute(n,"true"),v||m.setAttribute(a,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return f(r),c.clear(),gk++,function(){o.forEach(function(h){var m=th.get(h)-1,p=i.get(h)-1;th.set(h,m),i.set(h,p),m||(Py.has(h)||h.removeAttribute(a),Py.delete(h)),p||h.removeAttribute(n)}),gk--,gk||(th=new WeakMap,th=new WeakMap,Py=new WeakMap,Dy={})}},U_=function(e,r,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=Mce(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),Lce(a,s,n,"aria-hidden")):function(){return null}},Z2=function(e,r){return Z2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},Z2(e,r)};function Z9(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Z2(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Di=function(){return Di=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Di.apply(this,arguments)};function Ju(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function e7(e,r,n,a){var s=arguments.length,i=s<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,n):a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,n,a);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(s<3?o(i):s>3?o(r,n,i):o(r,n))||i);return s>3&&i&&Object.defineProperty(r,n,i),i}function t7(e,r){return function(n,a){r(n,a,e)}}function r7(e,r,n,a,s,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var c=a.kind,u=c==="getter"?"get":c==="setter"?"set":"value",d=!r&&e?a.static?e:e.prototype:null,f=r||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),h,m=!1,p=n.length-1;p>=0;p--){var v={};for(var g in a)v[g]=g==="access"?{}:a[g];for(var g in a.access)v.access[g]=a.access[g];v.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var x=(0,n[p])(c==="accessor"?{get:f.get,set:f.set}:f[u],v);if(c==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(f.get=h),(h=o(x.set))&&(f.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(c==="field"?s.unshift(h):f[u]=h)}d&&Object.defineProperty(d,a.name,f),m=!0}function n7(e,r,n){for(var a=arguments.length>2,s=0;s<r.length;s++)n=a?r[s].call(e,n):r[s].call(e);return a?n:void 0}function a7(e){return typeof e=="symbol"?e:"".concat(e)}function s7(e,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function i7(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function gt(e,r,n,a){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(h){o(h)}}function u(f){try{d(a.throw(f))}catch(h){o(h)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((a=a.apply(e,r||[])).next())})}function o7(e,r){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return u([d,f])}}function u(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=r.call(e,n)}catch(f){d=[6,f],s=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var V_=Object.create?function(e,r,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(r,n);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,a,s)}:function(e,r,n,a){a===void 0&&(a=n),e[a]=r[n]};function l7(e,r){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&V_(r,e,n)}function T1(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function ZA(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),s,i=[],o;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(c){o={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function c7(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(ZA(arguments[r]));return e}function u7(){for(var e=0,r=0,n=arguments.length;r<n;r++)e+=arguments[r].length;for(var a=Array(e),s=0,r=0;r<n;r++)for(var i=arguments[r],o=0,c=i.length;o<c;o++,s++)a[s]=i[o];return a}function eO(e,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}function Um(e){return this instanceof Um?(this.v=e,this):new Um(e)}function d7(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,r||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(v){return Promise.resolve(v).then(p,h)}}function c(p,v){a[p]&&(s[p]=function(g){return new Promise(function(x,b){i.push([p,g,x,b])>1||u(p,g)})},v&&(s[p]=v(s[p])))}function u(p,v){try{d(a[p](v))}catch(g){m(i[0][3],g)}}function d(p){p.value instanceof Um?Promise.resolve(p.value.v).then(f,h):m(i[0][2],p)}function f(p){u("next",p)}function h(p){u("throw",p)}function m(p,v){p(v),i.shift(),i.length&&u(i[0][0],i[0][1])}}function f7(e){var r,n;return r={},a("next"),a("throw",function(s){throw s}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(s,i){r[s]=e[s]?function(o){return(n=!n)?{value:Um(e[s](o)),done:!1}:i?i(o):o}:i}}function h7(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof T1=="function"?T1(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(i){n[i]=e[i]&&function(o){return new Promise(function(c,u){o=e[i](o),s(c,u,o.done,o.value)})}}function s(i,o,c,u){Promise.resolve(u).then(function(d){i({value:d,done:c})},o)}}function m7(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var $ce=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r},eE=function(e){return eE=Object.getOwnPropertyNames||function(r){var n=[];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[n.length]=a);return n},eE(e)};function p7(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=eE(e),a=0;a<n.length;a++)n[a]!=="default"&&V_(r,e,n[a]);return $ce(r,e),r}function g7(e){return e&&e.__esModule?e:{default:e}}function v7(e,r,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!a:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:r.get(e)}function x7(e,r,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(e,n):s?s.value=n:r.set(e,n),n}function y7(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function w7(e,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=r[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=r[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:r,dispose:a,async:n})}else n&&e.stack.push({async:!0});return r}var Bce=typeof SuppressedError=="function"?SuppressedError:function(e,r,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=r,a};function b7(e){function r(i){e.error=e.hasError?new Bce(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,a=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(i).then(s,function(o){return r(o),s()})}else a|=1}catch(o){r(o)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function _7(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,i,o){return a?r?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):e}const Uce={__extends:Z9,__assign:Di,__rest:Ju,__decorate:e7,__param:t7,__esDecorate:r7,__runInitializers:n7,__propKey:a7,__setFunctionName:s7,__metadata:i7,__awaiter:gt,__generator:o7,__createBinding:V_,__exportStar:l7,__values:T1,__read:ZA,__spread:c7,__spreadArrays:u7,__spreadArray:eO,__await:Um,__asyncGenerator:d7,__asyncDelegator:f7,__asyncValues:h7,__makeTemplateObject:m7,__importStar:p7,__importDefault:g7,__classPrivateFieldGet:v7,__classPrivateFieldSet:x7,__classPrivateFieldIn:y7,__addDisposableResource:w7,__disposeResources:b7,__rewriteRelativeImportExtension:_7},Vce=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:w7,get __assign(){return Di},__asyncDelegator:f7,__asyncGenerator:d7,__asyncValues:h7,__await:Um,__awaiter:gt,__classPrivateFieldGet:v7,__classPrivateFieldIn:y7,__classPrivateFieldSet:x7,__createBinding:V_,__decorate:e7,__disposeResources:b7,__esDecorate:r7,__exportStar:l7,__extends:Z9,__generator:o7,__importDefault:g7,__importStar:p7,__makeTemplateObject:m7,__metadata:i7,__param:t7,__propKey:a7,__read:ZA,__rest:Ju,__rewriteRelativeImportExtension:_7,__runInitializers:n7,__setFunctionName:s7,__spread:c7,__spreadArray:eO,__spreadArrays:u7,__values:T1,default:Uce},Symbol.toStringTag,{value:"Module"}));var Fw="right-scroll-bar-position",Lw="width-before-scroll-bar",zce="with-scroll-bars-hidden",Wce="--removed-body-scroll-bar-size";function vk(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Hce(e,r){var n=y.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=r,n.facade}var qce=typeof window<"u"?y.useLayoutEffect:y.useEffect,KI=new WeakMap;function Kce(e,r){var n=Hce(null,function(a){return e.forEach(function(s){return vk(s,a)})});return qce(function(){var a=KI.get(n);if(a){var s=new Set(a),i=new Set(e),o=n.current;s.forEach(function(c){i.has(c)||vk(c,null)}),i.forEach(function(c){s.has(c)||vk(c,o)})}KI.set(n,e)},[e]),n}function Gce(e){return e}function Yce(e,r){r===void 0&&(r=Gce);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=r(i,a);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(a=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){a=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(i),o=n}var u=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return s}function Xce(e){e===void 0&&(e={});var r=Yce(null);return r.options=Di({async:!0,ssr:!1},e),r}var S7=function(e){var r=e.sideCar,n=Ju(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return y.createElement(a,Di({},n))};S7.isSideCarExport=!0;function Jce(e,r){return e.useMedium(r),S7}var j7=Xce(),xk=function(){},z_=y.forwardRef(function(e,r){var n=y.useRef(null),a=y.useState({onScrollCapture:xk,onWheelCapture:xk,onTouchMoveCapture:xk}),s=a[0],i=a[1],o=e.forwardProps,c=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,v=e.noIsolation,g=e.inert,x=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,_=e.gapMode,S=Ju(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,N=Kce([n,r]),k=Di(Di({},S),s);return y.createElement(y.Fragment,null,f&&y.createElement(j,{sideCar:j7,removeScrollBar:d,shards:h,noRelative:p,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:_}),o?y.cloneElement(y.Children.only(c),Di(Di({},k),{ref:N})):y.createElement(w,Di({},k,{className:u,ref:N}),c))});z_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z_.classNames={fullWidth:Lw,zeroRight:Fw};var Qce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zce(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=Qce();return r&&e.setAttribute("nonce",r),e}function eue(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function tue(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var rue=function(){var e=0,r=null;return{add:function(n){e==0&&(r=Zce())&&(eue(r,n),tue(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},nue=function(){var e=rue();return function(r,n){y.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},k7=function(){var e=nue(),r=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return r},aue={left:0,top:0,right:0,gap:0},yk=function(e){return parseInt(e||"",10)||0},sue=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],s=r[e==="padding"?"paddingRight":"marginRight"];return[yk(n),yk(a),yk(s)]},iue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aue;var r=sue(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-n+r[2]-r[0])}},oue=k7(),nm="data-scroll-locked",lue=function(e,r,n,a){var s=e.left,i=e.top,o=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(zce,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(c,"px ").concat(a,`;
  }
  body[`).concat(nm,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fw,` {
    right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(Lw,` {
    margin-right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(Fw," .").concat(Fw,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Lw," .").concat(Lw,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(nm,`] {
    `).concat(Wce,": ").concat(c,`px;
  }
`)},GI=function(){var e=parseInt(document.body.getAttribute(nm)||"0",10);return isFinite(e)?e:0},cue=function(){y.useEffect(function(){return document.body.setAttribute(nm,(GI()+1).toString()),function(){var e=GI()-1;e<=0?document.body.removeAttribute(nm):document.body.setAttribute(nm,e.toString())}},[])},uue=function(e){var r=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;cue();var i=y.useMemo(function(){return iue(s)},[s]);return y.createElement(oue,{styles:lue(i,!r,s,n?"":"!important")})},tE=!1;if(typeof window<"u")try{var Ry=Object.defineProperty({},"passive",{get:function(){return tE=!0,!0}});window.addEventListener("test",Ry,Ry),window.removeEventListener("test",Ry,Ry)}catch{tE=!1}var rh=tE?{passive:!1}:!1,due=function(e){return e.tagName==="TEXTAREA"},N7=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!due(e)&&n[r]==="visible")},fue=function(e){return N7(e,"overflowY")},hue=function(e){return N7(e,"overflowX")},YI=function(e,r){var n=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=E7(e,a);if(s){var i=C7(e,a),o=i[1],c=i[2];if(o>c)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},mue=function(e){var r=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[r,n,a]},pue=function(e){var r=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[r,n,a]},E7=function(e,r){return e==="v"?fue(r):hue(r)},C7=function(e,r){return e==="v"?mue(r):pue(r)},gue=function(e,r){return e==="h"&&r==="rtl"?-1:1},vue=function(e,r,n,a,s){var i=gue(e,window.getComputedStyle(r).direction),o=i*a,c=n.target,u=r.contains(c),d=!1,f=o>0,h=0,m=0;do{if(!c)break;var p=C7(e,c),v=p[0],g=p[1],x=p[2],b=g-x-i*v;(v||b)&&E7(e,c)&&(h+=b,m+=v);var w=c.parentNode;c=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!u&&c!==document.body||u&&(r.contains(c)||r===c));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(d=!0),d},Iy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XI=function(e){return[e.deltaX,e.deltaY]},JI=function(e){return e&&"current"in e?e.current:e},xue=function(e,r){return e[0]===r[0]&&e[1]===r[1]},yue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wue=0,nh=[];function bue(e){var r=y.useRef([]),n=y.useRef([0,0]),a=y.useRef(),s=y.useState(wue++)[0],i=y.useState(k7)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=eO([e.lockRef.current],(e.shards||[]).map(JI),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=y.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Iy(g),w=n.current,_="deltaX"in g?g.deltaX:w[0]-b[0],S="deltaY"in g?g.deltaY:w[1]-b[1],j,N=g.target,k=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in g&&k==="h"&&N.type==="range")return!1;var E=YI(k,N);if(!E)return!0;if(E?j=k:(j=k==="v"?"h":"v",E=YI(k,N)),!E)return!1;if(!a.current&&"changedTouches"in g&&(_||S)&&(a.current=j),!j)return!0;var C=a.current||j;return vue(C,x,g,C==="h"?_:S,!0)},[]),u=y.useCallback(function(g){var x=g;if(!(!nh.length||nh[nh.length-1]!==i)){var b="deltaY"in x?XI(x):Iy(x),w=r.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&xue(j.delta,b)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(JI).filter(Boolean).filter(function(j){return j.contains(x.target)}),S=_.length>0?c(x,_[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),d=y.useCallback(function(g,x,b,w){var _={name:g,delta:x,target:b,should:w,shadowParent:_ue(b)};r.current.push(_),setTimeout(function(){r.current=r.current.filter(function(S){return S!==_})},1)},[]),f=y.useCallback(function(g){n.current=Iy(g),a.current=void 0},[]),h=y.useCallback(function(g){d(g.type,XI(g),g.target,c(g,e.lockRef.current))},[]),m=y.useCallback(function(g){d(g.type,Iy(g),g.target,c(g,e.lockRef.current))},[]);y.useEffect(function(){return nh.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",u,rh),document.addEventListener("touchmove",u,rh),document.addEventListener("touchstart",f,rh),function(){nh=nh.filter(function(g){return g!==i}),document.removeEventListener("wheel",u,rh),document.removeEventListener("touchmove",u,rh),document.removeEventListener("touchstart",f,rh)}},[]);var p=e.removeScrollBar,v=e.inert;return y.createElement(y.Fragment,null,v?y.createElement(i,{styles:yue(s)}):null,p?y.createElement(uue,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function _ue(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const Sue=Jce(j7,bue);var bx=y.forwardRef(function(e,r){return y.createElement(z_,Di({},e,{ref:r,sideCar:Sue}))});bx.classNames=z_.classNames;var jue=[" ","Enter","ArrowUp","ArrowDown"],kue=[" ","Enter"],vf="Select",[W_,H_,Nue]=LA(vf),[Fp,pXe]=ps(vf,[Nue,Mp]),q_=Mp(),[Eue,Qu]=Fp(vf),[Cue,Tue]=Fp(vf),T7=e=>{const{__scopeSelect:r,children:n,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:c,onValueChange:u,dir:d,name:f,autoComplete:h,disabled:m,required:p,form:v}=e,g=q_(r),[x,b]=y.useState(null),[w,_]=y.useState(null),[S,j]=y.useState(!1),N=gx(d),[k,E]=xc({prop:a,defaultProp:s??!1,onChange:i,caller:vf}),[C,O]=xc({prop:o,defaultProp:c,onChange:u,caller:vf}),D=y.useRef(null),T=x?v||!!x.closest("form"):!0,[z,q]=y.useState(new Set),F=Array.from(z).map(I=>I.props.value).join(";");return l.jsx(YA,{...g,children:l.jsxs(Eue,{required:p,scope:r,trigger:x,onTriggerChange:b,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:ua(),value:C,onValueChange:O,open:k,onOpenChange:E,dir:N,triggerPointerDownPosRef:D,disabled:m,children:[l.jsx(W_.Provider,{scope:r,children:l.jsx(Cue,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(I=>{q(V=>new Set(V).add(I))},[]),onNativeOptionRemove:y.useCallback(I=>{q(V=>{const L=new Set(V);return L.delete(I),L})},[]),children:n})}),T?l.jsxs(Z7,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:C,onChange:I=>O(I.target.value),disabled:m,form:v,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(z)]},F):null]})})};T7.displayName=vf;var A7="SelectTrigger",O7=y.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,i=q_(n),o=Qu(A7,n),c=o.disabled||a,u=Wt(r,o.onTriggerChange),d=H_(n),f=y.useRef("touch"),[h,m,p]=tV(g=>{const x=d().filter(_=>!_.disabled),b=x.find(_=>_.value===o.value),w=rV(x,g,b);w!==void 0&&o.onValueChange(w.value)}),v=g=>{c||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(B_,{asChild:!0,...i,children:l.jsx(mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":eV(o.value)?"":void 0,...s,ref:u,onClick:nt(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&v(g)}),onPointerDown:nt(s.onPointerDown,g=>{f.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:nt(s.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(x&&g.key===" ")&&jue.includes(g.key)&&(v(),g.preventDefault())})})})});O7.displayName=A7;var P7="SelectValue",D7=y.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s,children:i,placeholder:o="",...c}=e,u=Qu(P7,n),{onValueNodeHasChildrenChange:d}=u,f=i!==void 0,h=Wt(r,u.onValueNodeChange);return Dn(()=>{d(f)},[d,f]),l.jsx(mt.span,{...c,ref:h,style:{pointerEvents:"none"},children:eV(u.value)?l.jsx(l.Fragment,{children:o}):i})});D7.displayName=P7;var Aue="SelectIcon",R7=y.forwardRef((e,r)=>{const{__scopeSelect:n,children:a,...s}=e;return l.jsx(mt.span,{"aria-hidden":!0,...s,ref:r,children:a||""})});R7.displayName=Aue;var Oue="SelectPortal",I7=e=>l.jsx(wx,{asChild:!0,...e});I7.displayName=Oue;var xf="SelectContent",M7=y.forwardRef((e,r)=>{const n=Qu(xf,e.__scopeSelect),[a,s]=y.useState();if(Dn(()=>{s(new DocumentFragment)},[]),!n.open){const i=a;return i?Ap.createPortal(l.jsx(F7,{scope:e.__scopeSelect,children:l.jsx(W_.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(L7,{...e,ref:r})});M7.displayName=xf;var ao=10,[F7,Zu]=Fp(xf),Pue="SelectContentImpl",Due=Lu("SelectContent.RemoveScroll"),L7=y.forwardRef((e,r)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:u,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:x,...b}=e,w=Qu(xf,n),[_,S]=y.useState(null),[j,N]=y.useState(null),k=Wt(r,oe=>S(oe)),[E,C]=y.useState(null),[O,D]=y.useState(null),T=H_(n),[z,q]=y.useState(!1),F=y.useRef(!1);y.useEffect(()=>{if(_)return U_(_)},[_]),M_();const I=y.useCallback(oe=>{const[we,...se]=T().map(P=>P.ref.current),[Q]=se.slice(-1),he=document.activeElement;for(const P of oe)if(P===he||(P==null||P.scrollIntoView({block:"nearest"}),P===we&&j&&(j.scrollTop=0),P===Q&&j&&(j.scrollTop=j.scrollHeight),P==null||P.focus(),document.activeElement!==he))return},[T,j]),V=y.useCallback(()=>I([E,_]),[I,E,_]);y.useEffect(()=>{z&&V()},[z,V]);const{onOpenChange:L,triggerPointerDownPosRef:M}=w;y.useEffect(()=>{if(_){let oe={x:0,y:0};const we=Q=>{var he,P;oe={x:Math.abs(Math.round(Q.pageX)-(((he=M.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((P=M.current)==null?void 0:P.y)??0))}},se=Q=>{oe.x<=10&&oe.y<=10?Q.preventDefault():_.contains(Q.target)||L(!1),document.removeEventListener("pointermove",we),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",se,{capture:!0})}}},[_,L,M]),y.useEffect(()=>{const oe=()=>L(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[L]);const[Y,Z]=tV(oe=>{const we=T().filter(he=>!he.disabled),se=we.find(he=>he.ref.current===document.activeElement),Q=rV(we,oe,se);Q&&setTimeout(()=>Q.ref.current.focus())}),A=y.useCallback((oe,we,se)=>{const Q=!F.current&&!se;(w.value!==void 0&&w.value===we||Q)&&(C(oe),Q&&(F.current=!0))},[w.value]),X=y.useCallback(()=>_==null?void 0:_.focus(),[_]),U=y.useCallback((oe,we,se)=>{const Q=!F.current&&!se;(w.value!==void 0&&w.value===we||Q)&&D(oe)},[w.value]),H=a==="popper"?rE:$7,ae=H===rE?{side:c,sideOffset:u,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return l.jsx(F7,{scope:n,content:_,viewport:j,onViewportChange:N,itemRefCallback:A,selectedItem:E,onItemLeave:X,itemTextRefCallback:U,focusSelectedItem:V,selectedItemText:O,position:a,isPositioned:z,searchRef:Y,children:l.jsx(bx,{as:Due,allowPinchZoom:!0,children:l.jsx(xx,{asChild:!0,trapped:w.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:nt(s,oe=>{var we;(we=w.trigger)==null||we.focus({preventScroll:!0}),oe.preventDefault()}),children:l.jsx(vx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(H,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:oe=>oe.preventDefault(),...b,...ae,onPlaced:()=>q(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:nt(b.onKeyDown,oe=>{const we=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!we&&oe.key.length===1&&Z(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Q=T().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const he=oe.target,P=Q.indexOf(he);Q=Q.slice(P+1)}setTimeout(()=>I(Q)),oe.preventDefault()}})})})})})})});L7.displayName=Pue;var Rue="SelectItemAlignedPosition",$7=y.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,i=Qu(xf,n),o=Zu(xf,n),[c,u]=y.useState(null),[d,f]=y.useState(null),h=Wt(r,k=>f(k)),m=H_(n),p=y.useRef(!1),v=y.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:b,focusSelectedItem:w}=o,_=y.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&d&&g&&x&&b){const k=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(i.dir!=="rtl"){const he=O.left-E.left,P=C.left-he,Le=k.left-P,$e=k.width+Le,Me=Math.max($e,E.width),He=window.innerWidth-ao,De=G2(P,[ao,Math.max(ao,He-Me)]);c.style.minWidth=$e+"px",c.style.left=De+"px"}else{const he=E.right-O.right,P=window.innerWidth-C.right-he,Le=window.innerWidth-k.right-P,$e=k.width+Le,Me=Math.max($e,E.width),He=window.innerWidth-ao,De=G2(P,[ao,Math.max(ao,He-Me)]);c.style.minWidth=$e+"px",c.style.right=De+"px"}const D=m(),T=window.innerHeight-ao*2,z=g.scrollHeight,q=window.getComputedStyle(d),F=parseInt(q.borderTopWidth,10),I=parseInt(q.paddingTop,10),V=parseInt(q.borderBottomWidth,10),L=parseInt(q.paddingBottom,10),M=F+I+z+L+V,Y=Math.min(x.offsetHeight*5,M),Z=window.getComputedStyle(g),A=parseInt(Z.paddingTop,10),X=parseInt(Z.paddingBottom,10),U=k.top+k.height/2-ao,H=T-U,ae=x.offsetHeight/2,oe=x.offsetTop+ae,we=F+I+oe,se=M-we;if(we<=U){const he=D.length>0&&x===D[D.length-1].ref.current;c.style.bottom="0px";const P=d.clientHeight-g.offsetTop-g.offsetHeight,Le=Math.max(H,ae+(he?X:0)+P+V),$e=we+Le;c.style.height=$e+"px"}else{const he=D.length>0&&x===D[0].ref.current;c.style.top="0px";const Le=Math.max(U,F+g.offsetTop+(he?A:0)+ae)+se;c.style.height=Le+"px",g.scrollTop=we-U+g.offsetTop}c.style.margin=`${ao}px 0`,c.style.minHeight=Y+"px",c.style.maxHeight=T+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,c,d,g,x,b,i.dir,a]);Dn(()=>_(),[_]);const[S,j]=y.useState();Dn(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const N=y.useCallback(k=>{k&&v.current===!0&&(_(),w==null||w(),v.current=!1)},[_,w]);return l.jsx(Mue,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(mt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$7.displayName=Rue;var Iue="SelectPopperPosition",rE=y.forwardRef((e,r)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=ao,...i}=e,o=q_(n);return l.jsx(XA,{...o,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rE.displayName=Iue;var[Mue,tO]=Fp(xf,{}),nE="SelectViewport",B7=y.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:a,...s}=e,i=Zu(nE,n),o=tO(nE,n),c=Wt(r,i.onViewportChange),u=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(W_.Slot,{scope:n,children:l.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:nt(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(u.current-f.scrollTop);if(p>0){const v=window.innerHeight-ao*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),b=Math.max(g,x);if(b<v){const w=b+p,_=Math.min(v,w),S=w-_;h.style.height=_+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});B7.displayName=nE;var U7="SelectGroup",[Fue,Lue]=Fp(U7),$ue=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=ua();return l.jsx(Fue,{scope:n,id:s,children:l.jsx(mt.div,{role:"group","aria-labelledby":s,...a,ref:r})})});$ue.displayName=U7;var V7="SelectLabel",z7=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=Lue(V7,n);return l.jsx(mt.div,{id:s.id,...a,ref:r})});z7.displayName=V7;var A1="SelectItem",[Bue,W7]=Fp(A1),H7=y.forwardRef((e,r)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i,...o}=e,c=Qu(A1,n),u=Zu(A1,n),d=c.value===a,[f,h]=y.useState(i??""),[m,p]=y.useState(!1),v=Wt(r,w=>{var _;return(_=u.itemRefCallback)==null?void 0:_.call(u,w,a,s)}),g=ua(),x=y.useRef("touch"),b=()=>{s||(c.onValueChange(a),c.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Bue,{scope:n,value:a,disabled:s,textId:g,isSelected:d,onItemTextChange:y.useCallback(w=>{h(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(W_.ItemSlot,{scope:n,value:a,disabled:s,textValue:f,children:l.jsx(mt.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:nt(o.onFocus,()=>p(!0)),onBlur:nt(o.onBlur,()=>p(!1)),onClick:nt(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:nt(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:nt(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:nt(o.onPointerMove,w=>{var _;x.current=w.pointerType,s?(_=u.onItemLeave)==null||_.call(u):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(o.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=u.onItemLeave)==null||_.call(u))}),onKeyDown:nt(o.onKeyDown,w=>{var S;((S=u.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(kue.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});H7.displayName=A1;var z0="SelectItemText",q7=y.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s,...i}=e,o=Qu(z0,n),c=Zu(z0,n),u=W7(z0,n),d=Tue(z0,n),[f,h]=y.useState(null),m=Wt(r,b=>h(b),u.onItemTextChange,b=>{var w;return(w=c.itemTextRefCallback)==null?void 0:w.call(c,b,u.value,u.disabled)}),p=f==null?void 0:f.textContent,v=y.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=d;return Dn(()=>(g(v),()=>x(v)),[g,x,v]),l.jsxs(l.Fragment,{children:[l.jsx(mt.span,{id:u.textId,...i,ref:m}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ap.createPortal(i.children,o.valueNode):null]})});q7.displayName=z0;var K7="SelectItemIndicator",G7=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e;return W7(K7,n).isSelected?l.jsx(mt.span,{"aria-hidden":!0,...a,ref:r}):null});G7.displayName=K7;var aE="SelectScrollUpButton",Y7=y.forwardRef((e,r)=>{const n=Zu(aE,e.__scopeSelect),a=tO(aE,e.__scopeSelect),[s,i]=y.useState(!1),o=Wt(r,a.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=u.scrollTop>0;i(d)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?l.jsx(J7,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});Y7.displayName=aE;var sE="SelectScrollDownButton",X7=y.forwardRef((e,r)=>{const n=Zu(sE,e.__scopeSelect),a=tO(sE,e.__scopeSelect),[s,i]=y.useState(!1),o=Wt(r,a.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;i(f)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?l.jsx(J7,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});X7.displayName=sE;var J7=y.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,i=Zu("SelectScrollButton",n),o=y.useRef(null),c=H_(n),u=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>u(),[u]),Dn(()=>{var f;const d=c().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),l.jsx(mt.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:nt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:nt(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:nt(s.onPointerLeave,()=>{u()})})}),Uue="SelectSeparator",Q7=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e;return l.jsx(mt.div,{"aria-hidden":!0,...a,ref:r})});Q7.displayName=Uue;var iE="SelectArrow",Vue=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=q_(n),i=Qu(iE,n),o=Zu(iE,n);return i.open&&o.position==="popper"?l.jsx(JA,{...s,...a,ref:r}):null});Vue.displayName=iE;var zue="SelectBubbleInput",Z7=y.forwardRef(({__scopeSelect:e,value:r,...n},a)=>{const s=y.useRef(null),i=Wt(a,s),o=QA(r);return y.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&f){const h=new Event("change",{bubbles:!0});f.call(c,r),c.dispatchEvent(h)}},[o,r]),l.jsx(mt.select,{...n,style:{...J9,...n.style},ref:i,defaultValue:r})});Z7.displayName=zue;function eV(e){return e===""||e===void 0}function tV(e){const r=Zn(e),n=y.useRef(""),a=y.useRef(0),s=y.useCallback(o=>{const c=n.current+o;r(c),function u(d){n.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>u(""),1e3))}(c)},[r]),i=y.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function rV(e,r,n){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=Wue(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function Wue(e,r){return e.map((n,a)=>e[(r+a)%e.length])}var Hue=T7,nV=O7,que=D7,Kue=R7,Gue=I7,aV=M7,Yue=B7,sV=z7,iV=H7,Xue=q7,Jue=G7,oV=Y7,lV=X7,cV=Q7;const jt=Hue,kt=que,_t=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(nV,{ref:a,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[r,l.jsx(Kue,{asChild:!0,children:l.jsx(O_,{className:"h-4 w-4 opacity-50"})})]}));_t.displayName=nV.displayName;const uV=y.forwardRef(({className:e,...r},n)=>l.jsx(oV,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...r,children:l.jsx(bie,{className:"h-4 w-4"})}));uV.displayName=oV.displayName;const dV=y.forwardRef(({className:e,...r},n)=>l.jsx(lV,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...r,children:l.jsx(O_,{className:"h-4 w-4"})}));dV.displayName=lV.displayName;const St=y.forwardRef(({className:e,children:r,position:n="popper",...a},s)=>l.jsx(Gue,{children:l.jsxs(aV,{ref:s,className:ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[l.jsx(uV,{}),l.jsx(Yue,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),l.jsx(dV,{})]})}));St.displayName=aV.displayName;const Que=y.forwardRef(({className:e,...r},n)=>l.jsx(sV,{ref:n,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));Que.displayName=sV.displayName;const Pe=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(iV,{ref:a,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Jue,{children:l.jsx(IA,{className:"h-4 w-4"})})}),l.jsx(Xue,{children:r})]}));Pe.displayName=iV.displayName;const Zue=y.forwardRef(({className:e,...r},n)=>l.jsx(cV,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...r}));Zue.displayName=cV.displayName;const fV=()=>{const{currentLanguage:e,changeLanguage:r,languages:n}=Va(),a=n.find(s=>s.code===e);return l.jsxs(jt,{value:e,onValueChange:r,children:[l.jsx(_t,{className:"w-[140px]",children:l.jsx(kt,{children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{children:a==null?void 0:a.name})})})}),l.jsx(St,{children:n.map(s=>l.jsx(Pe,{value:s.code,children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{children:s.name})})},s.code))})]})};function ede(e,r){return y.useReducer((n,a)=>r[n][a]??n,e)}var za=e=>{const{present:r,children:n}=e,a=tde(r),s=typeof n=="function"?n({present:a.isPresent}):y.Children.only(n),i=Wt(a.ref,rde(s));return typeof n=="function"||a.isPresent?y.cloneElement(s,{ref:i}):null};za.displayName="Presence";function tde(e){const[r,n]=y.useState(),a=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[c,u]=ede(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=My(a.current);i.current=c==="mounted"?d:"none"},[c]),Dn(()=>{const d=a.current,f=s.current;if(f!==e){const m=i.current,p=My(d);e?u("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Dn(()=>{if(r){let d;const f=r.ownerDocument.defaultView??window,h=p=>{const g=My(a.current).includes(p.animationName);if(p.target===r&&g&&(u("ANIMATION_END"),!s.current)){const x=r.style.animationFillMode;r.style.animationFillMode="forwards",d=f.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=x)})}},m=p=>{p.target===r&&(i.current=My(a.current))};return r.addEventListener("animationstart",m),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{f.clearTimeout(d),r.removeEventListener("animationstart",m),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:y.useCallback(d=>{a.current=d?getComputedStyle(d):null,n(d)},[])}}function My(e){return(e==null?void 0:e.animationName)||"none"}function rde(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wk="rovingFocusGroup.onEntryFocus",nde={bubbles:!1,cancelable:!0},_x="RovingFocusGroup",[oE,hV,ade]=LA(_x),[sde,K_]=ps(_x,[ade]),[ide,ode]=sde(_x),mV=y.forwardRef((e,r)=>l.jsx(oE.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(oE.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(lde,{...e,ref:r})})}));mV.displayName=_x;var lde=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,m=y.useRef(null),p=Wt(r,m),v=gx(i),[g,x]=xc({prop:o,defaultProp:c??null,onChange:u,caller:_x}),[b,w]=y.useState(!1),_=Zn(d),S=hV(n),j=y.useRef(!1),[N,k]=y.useState(0);return y.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(wk,_),()=>E.removeEventListener(wk,_)},[_]),l.jsx(ide,{scope:n,orientation:a,dir:v,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(E=>x(E),[x]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:y.useCallback(()=>k(E=>E-1),[]),children:l.jsx(mt.div,{tabIndex:b||N===0?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:nt(e.onMouseDown,()=>{j.current=!0}),onFocus:nt(e.onFocus,E=>{const C=!j.current;if(E.target===E.currentTarget&&C&&!b){const O=new CustomEvent(wk,nde);if(E.currentTarget.dispatchEvent(O),!O.defaultPrevented){const D=S().filter(I=>I.focusable),T=D.find(I=>I.active),z=D.find(I=>I.id===g),F=[T,z,...D].filter(Boolean).map(I=>I.ref.current);vV(F,f)}}j.current=!1}),onBlur:nt(e.onBlur,()=>w(!1))})})}),pV="RovingFocusGroupItem",gV=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...c}=e,u=ua(),d=i||u,f=ode(pV,n),h=f.currentTabStopId===d,m=hV(n),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=f;return y.useEffect(()=>{if(a)return p(),()=>v()},[a,p,v]),l.jsx(oE.ItemSlot,{scope:n,id:d,focusable:a,active:s,children:l.jsx(mt.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...c,ref:r,onMouseDown:nt(e.onMouseDown,x=>{a?f.onItemFocus(d):x.preventDefault()}),onFocus:nt(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:nt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=dde(x,f.orientation,f.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let _=m().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const S=_.indexOf(x.currentTarget);_=f.loop?fde(_,S+1):_.slice(S+1)}setTimeout(()=>vV(_))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});gV.displayName=pV;var cde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ude(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dde(e,r,n){const a=ude(e.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return cde[a]}function vV(e,r=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:r}),document.activeElement!==n))return}function fde(e,r){return e.map((n,a)=>e[(r+a)%e.length])}var xV=mV,yV=gV,lE=["Enter"," "],hde=["ArrowDown","PageUp","Home"],wV=["ArrowUp","PageDown","End"],mde=[...hde,...wV],pde={ltr:[...lE,"ArrowRight"],rtl:[...lE,"ArrowLeft"]},gde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sx="Menu",[iv,vde,xde]=LA(Sx),[Ff,bV]=ps(Sx,[xde,Mp,K_]),G_=Mp(),_V=K_(),[yde,Lf]=Ff(Sx),[wde,jx]=Ff(Sx),SV=e=>{const{__scopeMenu:r,open:n=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,c=G_(r),[u,d]=y.useState(null),f=y.useRef(!1),h=Zn(i),m=gx(s);return y.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(YA,{...c,children:l.jsx(yde,{scope:r,open:n,onOpenChange:h,content:u,onContentChange:d,children:l.jsx(wde,{scope:r,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:a})})})};SV.displayName=Sx;var bde="MenuAnchor",rO=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e,s=G_(n);return l.jsx(B_,{...s,...a,ref:r})});rO.displayName=bde;var nO="MenuPortal",[_de,jV]=Ff(nO,{forceMount:void 0}),kV=e=>{const{__scopeMenu:r,forceMount:n,children:a,container:s}=e,i=Lf(nO,r);return l.jsx(_de,{scope:r,forceMount:n,children:l.jsx(za,{present:n||i.open,children:l.jsx(wx,{asChild:!0,container:s,children:a})})})};kV.displayName=nO;var $i="MenuContent",[Sde,aO]=Ff($i),NV=y.forwardRef((e,r)=>{const n=jV($i,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=Lf($i,e.__scopeMenu),o=jx($i,e.__scopeMenu);return l.jsx(iv.Provider,{scope:e.__scopeMenu,children:l.jsx(za,{present:a||i.open,children:l.jsx(iv.Slot,{scope:e.__scopeMenu,children:o.modal?l.jsx(jde,{...s,ref:r}):l.jsx(kde,{...s,ref:r})})})})}),jde=y.forwardRef((e,r)=>{const n=Lf($i,e.__scopeMenu),a=y.useRef(null),s=Wt(r,a);return y.useEffect(()=>{const i=a.current;if(i)return U_(i)},[]),l.jsx(sO,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:nt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),kde=y.forwardRef((e,r)=>{const n=Lf($i,e.__scopeMenu);return l.jsx(sO,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Nde=Lu("MenuContent.ScrollLock"),sO=y.forwardRef((e,r)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:v,...g}=e,x=Lf($i,n),b=jx($i,n),w=G_(n),_=_V(n),S=vde(n),[j,N]=y.useState(null),k=y.useRef(null),E=Wt(r,k,x.onContentChange),C=y.useRef(0),O=y.useRef(""),D=y.useRef(0),T=y.useRef(null),z=y.useRef("right"),q=y.useRef(0),F=v?bx:y.Fragment,I=v?{as:Nde,allowPinchZoom:!0}:void 0,V=M=>{var oe,we;const Y=O.current+M,Z=S().filter(se=>!se.disabled),A=document.activeElement,X=(oe=Z.find(se=>se.ref.current===A))==null?void 0:oe.textValue,U=Z.map(se=>se.textValue),H=Lde(U,Y,X),ae=(we=Z.find(se=>se.textValue===H))==null?void 0:we.ref.current;(function se(Q){O.current=Q,window.clearTimeout(C.current),Q!==""&&(C.current=window.setTimeout(()=>se(""),1e3))})(Y),ae&&setTimeout(()=>ae.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),M_();const L=y.useCallback(M=>{var Z,A;return z.current===((Z=T.current)==null?void 0:Z.side)&&Bde(M,(A=T.current)==null?void 0:A.area)},[]);return l.jsx(Sde,{scope:n,searchRef:O,onItemEnter:y.useCallback(M=>{L(M)&&M.preventDefault()},[L]),onItemLeave:y.useCallback(M=>{var Y;L(M)||((Y=k.current)==null||Y.focus(),N(null))},[L]),onTriggerLeave:y.useCallback(M=>{L(M)&&M.preventDefault()},[L]),pointerGraceTimerRef:D,onPointerGraceIntentChange:y.useCallback(M=>{T.current=M},[]),children:l.jsx(F,{...I,children:l.jsx(xx,{asChild:!0,trapped:s,onMountAutoFocus:nt(i,M=>{var Y;M.preventDefault(),(Y=k.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(vx,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:l.jsx(xV,{asChild:!0,..._,dir:b.dir,orientation:"vertical",loop:a,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:nt(u,M=>{b.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(XA,{role:"menu","aria-orientation":"vertical","data-state":VV(x.open),"data-radix-menu-content":"",dir:b.dir,...w,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:nt(g.onKeyDown,M=>{const Z=M.target.closest("[data-radix-menu-content]")===M.currentTarget,A=M.ctrlKey||M.altKey||M.metaKey,X=M.key.length===1;Z&&(M.key==="Tab"&&M.preventDefault(),!A&&X&&V(M.key));const U=k.current;if(M.target!==U||!mde.includes(M.key))return;M.preventDefault();const ae=S().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);wV.includes(M.key)&&ae.reverse(),Mde(ae)}),onBlur:nt(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(C.current),O.current="")}),onPointerMove:nt(e.onPointerMove,ov(M=>{const Y=M.target,Z=q.current!==M.clientX;if(M.currentTarget.contains(Y)&&Z){const A=M.clientX>q.current?"right":"left";z.current=A,q.current=M.clientX}}))})})})})})})});NV.displayName=$i;var Ede="MenuGroup",iO=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return l.jsx(mt.div,{role:"group",...a,ref:r})});iO.displayName=Ede;var Cde="MenuLabel",EV=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return l.jsx(mt.div,{...a,ref:r})});EV.displayName=Cde;var O1="MenuItem",QI="menu.itemSelect",Y_=y.forwardRef((e,r)=>{const{disabled:n=!1,onSelect:a,...s}=e,i=y.useRef(null),o=jx(O1,e.__scopeMenu),c=aO(O1,e.__scopeMenu),u=Wt(r,i),d=y.useRef(!1),f=()=>{const h=i.current;if(!n&&h){const m=new CustomEvent(QI,{bubbles:!0,cancelable:!0});h.addEventListener(QI,p=>a==null?void 0:a(p),{once:!0}),d9(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(CV,{...s,ref:u,disabled:n,onClick:nt(e.onClick,f),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:nt(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:nt(e.onKeyDown,h=>{const m=c.searchRef.current!=="";n||m&&h.key===" "||lE.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Y_.displayName=O1;var CV=y.forwardRef((e,r)=>{const{__scopeMenu:n,disabled:a=!1,textValue:s,...i}=e,o=aO(O1,n),c=_V(n),u=y.useRef(null),d=Wt(r,u),[f,h]=y.useState(!1),[m,p]=y.useState("");return y.useEffect(()=>{const v=u.current;v&&p((v.textContent??"").trim())},[i.children]),l.jsx(iv.ItemSlot,{scope:n,disabled:a,textValue:s??m,children:l.jsx(yV,{asChild:!0,...c,focusable:!a,children:l.jsx(mt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:nt(e.onPointerMove,ov(v=>{a?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:nt(e.onPointerLeave,ov(v=>o.onItemLeave(v))),onFocus:nt(e.onFocus,()=>h(!0)),onBlur:nt(e.onBlur,()=>h(!1))})})})}),Tde="MenuCheckboxItem",TV=y.forwardRef((e,r)=>{const{checked:n=!1,onCheckedChange:a,...s}=e;return l.jsx(RV,{scope:e.__scopeMenu,checked:n,children:l.jsx(Y_,{role:"menuitemcheckbox","aria-checked":P1(n)?"mixed":n,...s,ref:r,"data-state":lO(n),onSelect:nt(s.onSelect,()=>a==null?void 0:a(P1(n)?!0:!n),{checkForDefaultPrevented:!1})})})});TV.displayName=Tde;var AV="MenuRadioGroup",[Ade,Ode]=Ff(AV,{value:void 0,onValueChange:()=>{}}),OV=y.forwardRef((e,r)=>{const{value:n,onValueChange:a,...s}=e,i=Zn(a);return l.jsx(Ade,{scope:e.__scopeMenu,value:n,onValueChange:i,children:l.jsx(iO,{...s,ref:r})})});OV.displayName=AV;var PV="MenuRadioItem",DV=y.forwardRef((e,r)=>{const{value:n,...a}=e,s=Ode(PV,e.__scopeMenu),i=n===s.value;return l.jsx(RV,{scope:e.__scopeMenu,checked:i,children:l.jsx(Y_,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":lO(i),onSelect:nt(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});DV.displayName=PV;var oO="MenuItemIndicator",[RV,Pde]=Ff(oO,{checked:!1}),IV=y.forwardRef((e,r)=>{const{__scopeMenu:n,forceMount:a,...s}=e,i=Pde(oO,n);return l.jsx(za,{present:a||P1(i.checked)||i.checked===!0,children:l.jsx(mt.span,{...s,ref:r,"data-state":lO(i.checked)})})});IV.displayName=oO;var Dde="MenuSeparator",MV=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return l.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});MV.displayName=Dde;var Rde="MenuArrow",FV=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e,s=G_(n);return l.jsx(JA,{...s,...a,ref:r})});FV.displayName=Rde;var Ide="MenuSub",[gXe,LV]=Ff(Ide),W0="MenuSubTrigger",$V=y.forwardRef((e,r)=>{const n=Lf(W0,e.__scopeMenu),a=jx(W0,e.__scopeMenu),s=LV(W0,e.__scopeMenu),i=aO(W0,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,d={__scopeMenu:e.__scopeMenu},f=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>f,[f]),y.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),u(null)}},[c,u]),l.jsx(rO,{asChild:!0,...d,children:l.jsx(CV,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":VV(n.open),...e,ref:pc(r,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:nt(e.onPointerMove,ov(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:nt(e.onPointerLeave,ov(h=>{var p,v;f();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(v=n.content)==null?void 0:v.dataset.side,x=g==="right",b=x?-5:5,w=m[x?"left":"right"],_=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:w,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:w,y:m.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:nt(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||pde[a.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});$V.displayName=W0;var BV="MenuSubContent",UV=y.forwardRef((e,r)=>{const n=jV($i,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=Lf($i,e.__scopeMenu),o=jx($i,e.__scopeMenu),c=LV(BV,e.__scopeMenu),u=y.useRef(null),d=Wt(r,u);return l.jsx(iv.Provider,{scope:e.__scopeMenu,children:l.jsx(za,{present:a||i.open,children:l.jsx(iv.Slot,{scope:e.__scopeMenu,children:l.jsx(sO,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:nt(e.onFocusOutside,f=>{f.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:nt(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:nt(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),m=gde[o.dir].includes(f.key);h&&m&&(i.onOpenChange(!1),(p=c.trigger)==null||p.focus(),f.preventDefault())})})})})})});UV.displayName=BV;function VV(e){return e?"open":"closed"}function P1(e){return e==="indeterminate"}function lO(e){return P1(e)?"indeterminate":e?"checked":"unchecked"}function Mde(e){const r=document.activeElement;for(const n of e)if(n===r||(n.focus(),document.activeElement!==r))return}function Fde(e,r){return e.map((n,a)=>e[(r+a)%e.length])}function Lde(e,r,n){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=Fde(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function $de(e,r){const{x:n,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const c=r[i],u=r[o],d=c.x,f=c.y,h=u.x,m=u.y;f>a!=m>a&&n<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function Bde(e,r){if(!r)return!1;const n={x:e.clientX,y:e.clientY};return $de(n,r)}function ov(e){return r=>r.pointerType==="mouse"?e(r):void 0}var Ude=SV,Vde=rO,zde=kV,Wde=NV,Hde=iO,qde=EV,Kde=Y_,Gde=TV,Yde=OV,Xde=DV,Jde=IV,Qde=MV,Zde=FV,efe=$V,tfe=UV,X_="DropdownMenu",[rfe,vXe]=ps(X_,[bV]),gs=bV(),[nfe,zV]=rfe(X_),WV=e=>{const{__scopeDropdownMenu:r,children:n,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,u=gs(r),d=y.useRef(null),[f,h]=xc({prop:s,defaultProp:i??!1,onChange:o,caller:X_});return l.jsx(nfe,{scope:r,triggerId:ua(),triggerRef:d,contentId:ua(),open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),modal:c,children:l.jsx(Ude,{...u,open:f,onOpenChange:h,dir:a,modal:c,children:n})})};WV.displayName=X_;var HV="DropdownMenuTrigger",qV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...s}=e,i=zV(HV,n),o=gs(n);return l.jsx(Vde,{asChild:!0,...o,children:l.jsx(mt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:pc(r,i.triggerRef),onPointerDown:nt(e.onPointerDown,c=>{!a&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:nt(e.onKeyDown,c=>{a||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});qV.displayName=HV;var afe="DropdownMenuPortal",KV=e=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return l.jsx(zde,{...a,...n})};KV.displayName=afe;var GV="DropdownMenuContent",YV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=zV(GV,n),i=gs(n),o=y.useRef(!1);return l.jsx(Wde,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:r,onCloseAutoFocus:nt(e.onCloseAutoFocus,c=>{var u;o.current||(u=s.triggerRef.current)==null||u.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:nt(e.onInteractOutside,c=>{const u=c.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YV.displayName=GV;var sfe="DropdownMenuGroup",ife=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Hde,{...s,...a,ref:r})});ife.displayName=sfe;var ofe="DropdownMenuLabel",XV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(qde,{...s,...a,ref:r})});XV.displayName=ofe;var lfe="DropdownMenuItem",JV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Kde,{...s,...a,ref:r})});JV.displayName=lfe;var cfe="DropdownMenuCheckboxItem",QV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Gde,{...s,...a,ref:r})});QV.displayName=cfe;var ufe="DropdownMenuRadioGroup",dfe=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Yde,{...s,...a,ref:r})});dfe.displayName=ufe;var ffe="DropdownMenuRadioItem",ZV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Xde,{...s,...a,ref:r})});ZV.displayName=ffe;var hfe="DropdownMenuItemIndicator",ez=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Jde,{...s,...a,ref:r})});ez.displayName=hfe;var mfe="DropdownMenuSeparator",tz=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Qde,{...s,...a,ref:r})});tz.displayName=mfe;var pfe="DropdownMenuArrow",gfe=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Zde,{...s,...a,ref:r})});gfe.displayName=pfe;var vfe="DropdownMenuSubTrigger",rz=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(efe,{...s,...a,ref:r})});rz.displayName=vfe;var xfe="DropdownMenuSubContent",nz=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(tfe,{...s,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nz.displayName=xfe;var yfe=WV,wfe=qV,bfe=KV,az=YV,sz=XV,iz=JV,oz=QV,lz=ZV,cz=ez,uz=tz,dz=rz,fz=nz;const cO=yfe,uO=wfe,_fe=y.forwardRef(({className:e,inset:r,children:n,...a},s)=>l.jsxs(dz,{ref:s,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",r&&"pl-8",e),...a,children:[n,l.jsx(P_,{className:"ml-auto h-4 w-4"})]}));_fe.displayName=dz.displayName;const Sfe=y.forwardRef(({className:e,...r},n)=>l.jsx(fz,{ref:n,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Sfe.displayName=fz.displayName;const J_=y.forwardRef(({className:e,sideOffset:r=4,...n},a)=>l.jsx(bfe,{children:l.jsx(az,{ref:a,sideOffset:r,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));J_.displayName=az.displayName;const Xl=y.forwardRef(({className:e,inset:r,...n},a)=>l.jsx(iz,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r&&"pl-8",e),...n}));Xl.displayName=iz.displayName;const jfe=y.forwardRef(({className:e,children:r,checked:n,...a},s)=>l.jsxs(oz,{ref:s,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...a,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(cz,{children:l.jsx(IA,{className:"h-4 w-4"})})}),r]}));jfe.displayName=oz.displayName;const kfe=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(lz,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(cz,{children:l.jsx(Sie,{className:"h-2 w-2 fill-current"})})}),r]}));kfe.displayName=lz.displayName;const Nfe=y.forwardRef(({className:e,inset:r,...n},a)=>l.jsx(sz,{ref:a,className:ve("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...n}));Nfe.displayName=sz.displayName;const cE=y.forwardRef(({className:e,...r},n)=>l.jsx(uz,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...r}));cE.displayName=uz.displayName;var Q_="Dialog",[hz,mz]=ps(Q_),[Efe,Lo]=hz(Q_),pz=e=>{const{__scopeDialog:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,c=y.useRef(null),u=y.useRef(null),[d,f]=xc({prop:a,defaultProp:s??!1,onChange:i,caller:Q_});return l.jsx(Efe,{scope:r,triggerRef:c,contentRef:u,contentId:ua(),titleId:ua(),descriptionId:ua(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};pz.displayName=Q_;var gz="DialogTrigger",vz=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=Lo(gz,n),i=Wt(r,s.triggerRef);return l.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hO(s.open),...a,ref:i,onClick:nt(e.onClick,s.onOpenToggle)})});vz.displayName=gz;var dO="DialogPortal",[Cfe,xz]=hz(dO,{forceMount:void 0}),yz=e=>{const{__scopeDialog:r,forceMount:n,children:a,container:s}=e,i=Lo(dO,r);return l.jsx(Cfe,{scope:r,forceMount:n,children:y.Children.map(a,o=>l.jsx(za,{present:n||i.open,children:l.jsx(wx,{asChild:!0,container:s,children:o})}))})};yz.displayName=dO;var D1="DialogOverlay",wz=y.forwardRef((e,r)=>{const n=xz(D1,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=Lo(D1,e.__scopeDialog);return i.modal?l.jsx(za,{present:a||i.open,children:l.jsx(Afe,{...s,ref:r})}):null});wz.displayName=D1;var Tfe=Lu("DialogOverlay.RemoveScroll"),Afe=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=Lo(D1,n);return l.jsx(bx,{as:Tfe,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(mt.div,{"data-state":hO(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),yf="DialogContent",bz=y.forwardRef((e,r)=>{const n=xz(yf,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=Lo(yf,e.__scopeDialog);return l.jsx(za,{present:a||i.open,children:i.modal?l.jsx(Ofe,{...s,ref:r}):l.jsx(Pfe,{...s,ref:r})})});bz.displayName=yf;var Ofe=y.forwardRef((e,r)=>{const n=Lo(yf,e.__scopeDialog),a=y.useRef(null),s=Wt(r,n.contentRef,a);return y.useEffect(()=>{const i=a.current;if(i)return U_(i)},[]),l.jsx(_z,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:nt(e.onFocusOutside,i=>i.preventDefault())})}),Pfe=y.forwardRef((e,r)=>{const n=Lo(yf,e.__scopeDialog),a=y.useRef(!1),s=y.useRef(!1);return l.jsx(_z,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),_z=y.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,c=Lo(yf,n),u=y.useRef(null),d=Wt(r,u);return M_(),l.jsxs(l.Fragment,{children:[l.jsx(xx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(vx,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":hO(c.open),...o,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Rfe,{titleId:c.titleId}),l.jsx(Mfe,{contentRef:u,descriptionId:c.descriptionId})]})]})}),fO="DialogTitle",Sz=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=Lo(fO,n);return l.jsx(mt.h2,{id:s.titleId,...a,ref:r})});Sz.displayName=fO;var jz="DialogDescription",kz=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=Lo(jz,n);return l.jsx(mt.p,{id:s.descriptionId,...a,ref:r})});kz.displayName=jz;var Nz="DialogClose",Ez=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=Lo(Nz,n);return l.jsx(mt.button,{type:"button",...a,ref:r,onClick:nt(e.onClick,()=>s.onOpenChange(!1))})});Ez.displayName=Nz;function hO(e){return e?"open":"closed"}var Cz="DialogTitleWarning",[Dfe,Tz]=$oe(Cz,{contentName:yf,titleName:fO,docsSlug:"dialog"}),Rfe=({titleId:e})=>{const r=Tz(Cz),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Ife="DialogDescriptionWarning",Mfe=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tz(Ife).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},Z_=pz,mO=vz,eS=yz,Lp=wz,$p=bz,kx=Sz,Nx=kz,tS=Ez;const An=Z_,Bh=mO,Ffe=eS,Az=y.forwardRef(({className:e,...r},n)=>l.jsx(Lp,{ref:n,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));Az.displayName=Lp.displayName;const mn=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(Ffe,{children:[l.jsx(Az,{}),l.jsxs($p,{ref:a,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...n,children:[r,l.jsxs(tS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Oo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mn.displayName=$p.displayName;const pn=({className:e,...r})=>l.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});pn.displayName="DialogHeader";const $a=({className:e,...r})=>l.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});$a.displayName="DialogFooter";const gn=y.forwardRef(({className:e,...r},n)=>l.jsx(kx,{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",e),...r}));gn.displayName=kx.displayName;const Ba=y.forwardRef(({className:e,...r},n)=>l.jsx(Nx,{ref:n,className:ve("text-sm text-muted-foreground",e),...r}));Ba.displayName=Nx.displayName;const Lfe=px("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Vm=y.forwardRef(({className:e,variant:r,...n},a)=>l.jsx("div",{ref:a,role:"alert",className:ve(Lfe({variant:r}),e),...n}));Vm.displayName="Alert";const $fe=y.forwardRef(({className:e,...r},n)=>l.jsx("h5",{ref:n,className:ve("mb-1 font-medium leading-none tracking-tight",e),...r}));$fe.displayName="AlertTitle";const zm=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ve("text-sm [&_p]:leading-relaxed",e),...r}));zm.displayName="AlertDescription";const Bfe="modulepreload",Ufe=function(e){return"/"+e},ZI={},Bp=function(r,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=Ufe(u),u in ZI)return;ZI[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Bfe,d||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return r().catch(i)})},Vfe=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>Bp(async()=>{const{default:a}=await Promise.resolve().then(()=>$f);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)};class pO extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class eM extends pO{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class tM extends pO{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class rM extends pO{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var uE;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uE||(uE={}));class zfe{constructor(r,{headers:n={},customFetch:a,region:s=uE.Any}={}){this.url=r,this.headers=n,this.region=s,this.fetch=Vfe(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return gt(this,arguments,void 0,function*(n,a={}){var s;try{const{headers:i,method:o,body:c,signal:u}=a;let d={},{region:f}=a;f||(f=this.region);const h=new URL(`${this.url}/${n}`);f&&f!=="any"&&(d["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let m;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(d["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(d["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;const p=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:m,signal:u}).catch(b=>{throw b.name==="AbortError"?b:new eM(b)}),v=p.headers.get("x-relay-error");if(v&&v==="true")throw new tM(p);if(!p.ok)throw new rM(p);let g=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield p.json():g==="application/octet-stream"||g==="application/pdf"?x=yield p.blob():g==="text/event-stream"?x=p:g==="multipart/form-data"?x=yield p.formData():x=yield p.text(),{data:x,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new eM(i)}:{data:null,error:i,response:i instanceof rM||i instanceof tM?i.context:void 0}}})}}var ts={};const Up=G8(Vce);var Fy={},Ly={},$y={},By={},Uy={},Wfe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wm=Wfe();const Hfe=Wm.fetch,Oz=Wm.fetch.bind(Wm),Pz=Wm.Headers,qfe=Wm.Request,Kfe=Wm.Response,$f=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pz,Request:qfe,Response:Kfe,default:Oz,fetch:Hfe},Symbol.toStringTag,{value:"Module"})),Gfe=G8($f);var Vy={},nM;function Dz(){if(nM)return Vy;nM=1,Object.defineProperty(Vy,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Vy.default=e,Vy}var aM;function Rz(){if(aM)return Uy;aM=1,Object.defineProperty(Uy,"__esModule",{value:!0});const e=Up,r=e.__importDefault(Gfe),n=e.__importDefault(Dz());class a{constructor(i){var o,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,h,m,p;let v=null,g=null,x=null,b=d.status,w=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?g=N:g=JSON.parse(N))}const S=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),j=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&j&&j.length>1&&(x=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(v={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,x=null,b=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const S=await d.text();try{v=JSON.parse(S),Array.isArray(v)&&d.status===404&&(g=[],v=null,b=200,w="OK")}catch{d.status===404&&S===""?(b=204,w="No Content"):v={message:S}}if(v&&this.isMaybeSingle&&(!((p=v==null?void 0:v.details)===null||p===void 0)&&p.includes("0 rows"))&&(v=null,b=200,w="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:g,count:x,status:b,statusText:w}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,h,m;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(h=d==null?void 0:d.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=d==null?void 0:d.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),u.then(i,o)}returns(){return this}overrideTypes(){return this}}return Uy.default=a,Uy}var sM;function Iz(){if(sM)return By;sM=1,Object.defineProperty(By,"__esModule",{value:!0});const r=Up.__importDefault(Rz());class n extends r.default{select(s){let i=!1;const o=(s??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:d="text"}={}){var f;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return By.default=n,By}var iM;function gO(){if(iM)return $y;iM=1,Object.defineProperty($y,"__esModule",{value:!0});const r=Up.__importDefault(Iz()),n=new RegExp("[,()]");class a extends r.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${d}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return $y.default=a,$y}var oM;function Mz(){if(oM)return Ly;oM=1,Object.defineProperty(Ly,"__esModule",{value:!0});const r=Up.__importDefault(gO());class n{constructor(s,{headers:i={},schema:o,fetch:c}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=c}select(s,i){const{head:o=!1,count:c}=i??{},u=o?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",f),c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var c;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:i}={}){var o;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ly.default=n,Ly}var lM;function Yfe(){if(lM)return Fy;lM=1,Object.defineProperty(Fy,"__esModule",{value:!0});const e=Up,r=e.__importDefault(Mz()),n=e.__importDefault(gO());class a{constructor(i,{headers:o={},schema:c,fetch:u}={}){this.url=i,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(i){const o=new URL(`${this.url}/${i}`);return new r.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:c=!1,get:u=!1,count:d}={}){var f;let h;const m=new URL(`${this.url}/rpc/${i}`);let p;c||u?(h=c?"HEAD":"GET",Object.entries(o).filter(([g,x])=>x!==void 0).map(([g,x])=>[g,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([g,x])=>{m.searchParams.append(g,x)})):(h="POST",p=o);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new n.default({method:h,url:m,headers:v,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Fy.default=a,Fy}Object.defineProperty(ts,"__esModule",{value:!0});var Fz=ts.PostgrestError=Kz=ts.PostgrestBuilder=Hz=ts.PostgrestTransformBuilder=zz=ts.PostgrestFilterBuilder=Uz=ts.PostgrestQueryBuilder=$z=ts.PostgrestClient=void 0;const Vp=Up,Lz=Vp.__importDefault(Yfe());var $z=ts.PostgrestClient=Lz.default;const Bz=Vp.__importDefault(Mz());var Uz=ts.PostgrestQueryBuilder=Bz.default;const Vz=Vp.__importDefault(gO());var zz=ts.PostgrestFilterBuilder=Vz.default;const Wz=Vp.__importDefault(Iz());var Hz=ts.PostgrestTransformBuilder=Wz.default;const qz=Vp.__importDefault(Rz());var Kz=ts.PostgrestBuilder=qz.default;const Gz=Vp.__importDefault(Dz());Fz=ts.PostgrestError=Gz.default;var Yz=ts.default={PostgrestClient:Lz.default,PostgrestQueryBuilder:Bz.default,PostgrestFilterBuilder:Vz.default,PostgrestTransformBuilder:Wz.default,PostgrestBuilder:qz.default,PostgrestError:Gz.default};const Xfe=K8({__proto__:null,get PostgrestBuilder(){return Kz},get PostgrestClient(){return $z},get PostgrestError(){return Fz},get PostgrestFilterBuilder(){return zz},get PostgrestQueryBuilder(){return Uz},get PostgrestTransformBuilder(){return Hz},default:Yz},[ts]),{PostgrestClient:Jfe,PostgrestQueryBuilder:xXe,PostgrestFilterBuilder:yXe,PostgrestTransformBuilder:wXe,PostgrestBuilder:bXe,PostgrestError:_Xe}=Yz||Xfe;class Qfe{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Zfe="2.78.0",ehe=`realtime-js/${Zfe}`,the="1.0.0",dE=1e4,rhe=1e3,nhe=100;var hg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hg||(hg={}));var Fn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fn||(Fn={}));var uo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(uo||(uo={}));var fE;(function(e){e.websocket="websocket"})(fE||(fE={}));var _d;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_d||(_d={}));class ahe{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,n,a)}_decodeBroadcast(r,n,a){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=a.decode(r.slice(o,o+s));o=o+s;const u=a.decode(r.slice(o,o+i));o=o+i;const d=JSON.parse(a.decode(r.slice(o,r.byteLength)));return{ref:null,topic:c,event:u,payload:d}}}class Xz{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Dr||(Dr={}));const cM=(e,r,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((i,o)=>(i[o]=she(o,e,r,s),i),{}):{}},she=(e,r,n,a)=>{const s=r.find(c=>c.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!a.includes(i)?Jz(i,o):hE(o)},Jz=(e,r)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return che(r,n)}switch(e){case Dr.bool:return ihe(r);case Dr.float4:case Dr.float8:case Dr.int2:case Dr.int4:case Dr.int8:case Dr.numeric:case Dr.oid:return ohe(r);case Dr.json:case Dr.jsonb:return lhe(r);case Dr.timestamp:return uhe(r);case Dr.abstime:case Dr.date:case Dr.daterange:case Dr.int4range:case Dr.int8range:case Dr.money:case Dr.reltime:case Dr.text:case Dr.time:case Dr.timestamptz:case Dr.timetz:case Dr.tsrange:case Dr.tstzrange:return hE(r);default:return hE(r)}},hE=e=>e,ihe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ohe=e=>{if(typeof e=="string"){const r=parseFloat(e);if(!Number.isNaN(r))return r}return e},lhe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.log(`JSON parse error: ${r}`),e}return e},che=(e,r)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>Jz(r,c))}return e},uhe=e=>typeof e=="string"?e.replace(" ","T"):e,Qz=e=>{const r=new URL(e);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class bk{constructor(r,n,a={},s=dE){this.channel=r,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var uM;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uM||(uM={}));class mg{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mg.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=mg.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=mg.syncDiff(this.state,s,i,o),c())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,s){const i=this.cloneDeep(r),o=this.transformState(n),c={},u={};return this.map(i,(d,f)=>{o[d]||(u[d]=f)}),this.map(o,(d,f)=>{const h=i[d];if(h){const m=f.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),v=f.filter(x=>p.indexOf(x.presence_ref)<0),g=h.filter(x=>m.indexOf(x.presence_ref)<0);v.length>0&&(c[d]=v),g.length>0&&(u[d]=g)}else c[d]=f}),this.syncDiff(i,{joins:c,leaves:u},a,s)}static syncDiff(r,n,a,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(c,u)=>{var d;const f=(d=r[c])!==null&&d!==void 0?d:[];if(r[c]=this.cloneDeep(u),f.length>0){const h=r[c].map(p=>p.presence_ref),m=f.filter(p=>h.indexOf(p.presence_ref)<0);r[c].unshift(...m)}a(c,f,u)}),this.map(o,(c,u)=>{let d=r[c];if(!d)return;const f=u.map(h=>h.presence_ref);d=d.filter(h=>f.indexOf(h.presence_ref)<0),r[c]=d,s(c,d,u),d.length===0&&delete r[c]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const s=r[a];return"metas"in s?n[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=s,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dM;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dM||(dM={}));var pg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pg||(pg={}));var ql;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ql||(ql={}));class vO{constructor(r,n={config:{}},a){var s,i;if(this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=Fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bk(this,uo.join,this.params,this.timeout),this.rejoinTimer=new Xz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(uo.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new mg(this),this.broadcastEndpointURL=Qz(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fn.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,d=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(p=>p.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[pg.PRESENCE]&&this.bindings[pg.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>r==null?void 0:r(ql.CHANNEL_ERROR,p)),this._onClose(()=>r==null?void 0:r(ql.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){r==null||r(ql.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,b=[];for(let w=0;w<x;w++){const _=g[w],{filter:{event:S,schema:j,table:N,filter:k}}=_,E=p&&p[w];if(E&&E.event===S&&E.schema===j&&E.table===N&&E.filter===k)b.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=Fn.errored,r==null||r(ql.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,r&&r(ql.SUBSCRIBED);return}}).receive("error",p=>{this.state=Fn.errored,r==null||r(ql.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(ql.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===Fn.joined&&r===pg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,a)}async httpSend(r,n,a={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const d=await c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(r,n={}){var a,s;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=r,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,u;const d=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Fn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(uo.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new bk(this,uo.leave,{},r),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fn.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),o=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bk(this,r,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>nhe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var s,i;const o=r.toLocaleLowerCase(),{close:c,error:u,leave:d,join:f}=uo;if(a&&[c,u,d,f].indexOf(o)>=0&&a!==this._joinRef())return;let m=this._onMessage(o,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,g,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(m,a)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,g,x,b,w,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(v=p.filter)===null||v===void 0?void 0:v.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(w=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:g,table:x,commit_timestamp:b,type:w,errors:_}=v;m=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:b,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}p.callback(m,a)})}_isClosed(){return this.state===Fn.closed}_isJoined(){return this.state===Fn.joined}_isJoining(){return this.state===Fn.joining}_isLeaving(){return this.state===Fn.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const s=r.toLocaleLowerCase(),i={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&vO.isEqual(s.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(uo.close,{},r)}_onError(r){this._on(uo.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fn.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=cM(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=cM(r.columns,r.old_record)),n}}const _k=()=>{},zy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dhe=[1e3,2e3,5e3,1e4],fhe=1e4,hhe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mhe{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dE,this.transport=null,this.heartbeatIntervalMs=zy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_k,this.ref=0,this.reconnectTimer=null,this.logger=_k,this.conn=null,this.sendBuffer=[],this.serializer=new ahe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Bp(async()=>{const{default:c}=await Promise.resolve().then(()=>$f);return{default:c}},void 0).then(({default:c})=>c(...o)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${fE.websocket}`,this.httpEndpoint=Qz(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qfe.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:the}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case hg.connecting:return _d.Connecting;case hg.open:return _d.Open;case hg.closing:return _d.Closing;default:return _d.Closed}}isConnected(){return this.connectionState()===_d.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new vO(`realtime:${r}`,n,this);return this.channels.push(i),i}}push(r){const{topic:n,event:a,payload:s,ref:i}=r,o=()=>{this.encode(r,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${a} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(rhe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:i,ref:o}=n,c=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${a} ${s} ${c}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(uo.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${r}${a}${s}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([hhe],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:ehe};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(uo.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${r} callback`,s)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Xz(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,s,i,o,c,u,d,f;if(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:dE,this.heartbeatIntervalMs=(s=r==null?void 0:r.heartbeatIntervalMs)!==null&&s!==void 0?s:zy.HEARTBEAT_INTERVAL,this.worker=(i=r==null?void 0:r.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=r==null?void 0:r.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=r==null?void 0:r.heartbeatCallback)!==null&&c!==void 0?c:_k,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=r==null?void 0:r.reconnectAfterMs)!==null&&u!==void 0?u:h=>dhe[h-1]||fhe,this.encode=(d=r==null?void 0:r.encode)!==null&&d!==void 0?d:(h,m)=>m(JSON.stringify(h)),this.decode=(f=r==null?void 0:r.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class xO extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Jr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class phe extends xO{constructor(r,n,a){super(r),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mE extends xO{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const yO=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>Bp(async()=>{const{default:a}=await Promise.resolve().then(()=>$f);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},ghe=()=>gt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bp(()=>Promise.resolve().then(()=>$f),void 0)).Response:Response}),pE=e=>{if(Array.isArray(e))return e.map(n=>pE(n));if(typeof e=="function"||e!==Object(e))return e;const r={};return Object.entries(e).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));r[s]=pE(a)}),r},vhe=e=>{if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sk=e=>{var r;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(r=e.error)===null||r===void 0?void 0:r.message)||JSON.stringify(e)},xhe=(e,r,n)=>gt(void 0,void 0,void 0,function*(){const a=yield ghe();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";r(new phe(Sk(s),i,o))}).catch(s=>{r(new mE(Sk(s),s))}):r(new mE(Sk(e),e))}),yhe=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"||!a?s:(vhe(a)?(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),s.body=JSON.stringify(a)):s.body=a,r!=null&&r.duplex&&(s.duplex=r.duplex),Object.assign(Object.assign({},s),n))};function Ex(e,r,n,a,s,i){return gt(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,yhe(r,a,s,i)).then(u=>{if(!u.ok)throw u;return a!=null&&a.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>xhe(u,c,a))})})}function lv(e,r,n,a){return gt(this,void 0,void 0,function*(){return Ex(e,"GET",r,n,a)})}function io(e,r,n,a,s){return gt(this,void 0,void 0,function*(){return Ex(e,"POST",r,a,s,n)})}function gE(e,r,n,a,s){return gt(this,void 0,void 0,function*(){return Ex(e,"PUT",r,a,s,n)})}function whe(e,r,n,a){return gt(this,void 0,void 0,function*(){return Ex(e,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function wO(e,r,n,a,s){return gt(this,void 0,void 0,function*(){return Ex(e,"DELETE",r,a,s,n)})}class bhe{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return gt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}}var Zz;class _he{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Zz]="BlobDownloadBuilder",this.promise=null}asStream(){return new bhe(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return gt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}}Zz=Symbol.toStringTag;const She={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jhe{constructor(r,n={},a,s){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=a,this.fetch=yO(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,a,s){return gt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},fM),s);let c=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=a,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),h=yield(r=="PUT"?gE:io)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}upload(r,n,a){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,a)})}uploadToSignedUrl(r,n,a,s){return gt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(r),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:fM.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",d.cacheControl)):(u=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const h=yield gE(this.fetch,c.toString(),u,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jr(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(r,n){return gt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield io(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new xO("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:c},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}update(r,n,a){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,a)})}move(r,n,a){return gt(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}copy(r,n,a){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield io(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}createSignedUrl(r,n,a){return gt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r),i=yield io(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}createSignedUrls(r,n,a){return gt(this,void 0,void 0,function*(){try{const s=yield io(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}download(r,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",c=this._getFinalPath(r),u=()=>lv(this.fetch,`${this.url}/${s}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new _he(u,this.shouldThrowOnError)}info(r){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const a=yield lv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pE(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}exists(r){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield whe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a)&&a instanceof mE){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,n){const a=this._getFinalPath(r),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${a}${d}`)}}}remove(r){return gt(this,void 0,void 0,function*(){try{return{data:yield wO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}list(r,n,a){return gt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},She),n),{prefix:r||""});return{data:yield io(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}listV2(r,n){return gt(this,void 0,void 0,function*(){try{const a=Object.assign({},r);return{data:yield io(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const eW="2.78.0",tW={"X-Client-Info":`storage-js/${eW}`};class khe{constructor(r,n={},a,s){this.shouldThrowOnError=!1;const i=new URL(r);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tW),n),this.fetch=yO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return gt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield lv(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}getBucket(r){return gt(this,void 0,void 0,function*(){try{return{data:yield lv(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}createBucket(r){return gt(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield io(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}updateBucket(r,n){return gt(this,void 0,void 0,function*(){try{return{data:yield gE(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}emptyBucket(r){return gt(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}deleteBucket(r){return gt(this,void 0,void 0,function*(){try{return{data:yield wO(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Nhe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tW),n),this.fetch=yO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return gt(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}listBuckets(r){return gt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield lv(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}deleteBucket(r){return gt(this,void 0,void 0,function*(){try{return{data:yield wO(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}}const bO={"X-Client-Info":`storage-js/${eW}`,"Content-Type":"application/json"};class rW extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ai(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class jk extends rW{constructor(r,n,a){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ehe extends rW{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var hM;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(hM||(hM={}));const _O=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>Bp(async()=>{const{default:a}=await Promise.resolve().then(()=>$f);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},Che=e=>{if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),The=(e,r,n)=>gt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";r(new jk(mM(o),s,c))}).catch(()=>{const o=s+"",c=i.statusText||`HTTP ${s} error`;r(new jk(c,s,o))});else{const o=s+"",c=i.statusText||`HTTP ${s} error`;r(new jk(c,s,o))}}else r(new Ehe(mM(e),e))}),Ahe=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return a?(Che(a)?(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function Ohe(e,r,n,a,s,i){return gt(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,Ahe(r,a,s,i)).then(u=>{if(!u.ok)throw u;if(a!=null&&a.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>The(u,c,a))})})}function si(e,r,n,a,s){return gt(this,void 0,void 0,function*(){return Ohe(e,"POST",r,a,s,n)})}class Phe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bO),n),this.fetch=_O(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return gt(this,void 0,void 0,function*(){try{return{data:(yield si(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}getIndex(r,n){return gt(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ai(a))return{data:null,error:a};throw a}})}listIndexes(r){return gt(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return gt(this,void 0,void 0,function*(){try{return{data:(yield si(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ai(a))return{data:null,error:a};throw a}})}}class Dhe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bO),n),this.fetch=_O(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return gt(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield si(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}getVectors(r){return gt(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}listVectors(r){return gt(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield si(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}queryVectors(r){return gt(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}deleteVectors(r){return gt(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield si(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}}class Rhe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bO),n),this.fetch=_O(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return gt(this,void 0,void 0,function*(){try{return{data:(yield si(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}getBucket(r){return gt(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}listBuckets(){return gt(this,arguments,void 0,function*(r={}){try{return{data:yield si(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}deleteBucket(r){return gt(this,void 0,void 0,function*(){try{return{data:(yield si(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}}class Ihe extends Rhe{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Mhe(this.url,this.headers,r,this.fetch)}}class Mhe extends Phe{constructor(r,n,a,s){super(r,n,s),this.vectorBucketName=a}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return gt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return gt(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return gt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return gt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Fhe(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Fhe extends Dhe{constructor(r,n,a,s,i){super(r,n,i),this.vectorBucketName=a,this.indexName=s}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return gt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return gt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return gt(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return gt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return gt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Lhe extends khe{constructor(r,n={},a,s){super(r,n,a,s)}from(r){return new jhe(this.url,this.headers,r,this.fetch)}get vectors(){return new Ihe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Nhe(this.url+"/iceberg",this.headers,this.fetch)}}const $he="2.78.0";let H0="";typeof Deno<"u"?H0="deno":typeof document<"u"?H0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?H0="react-native":H0="node";const Bhe={"X-Client-Info":`supabase-js-${H0}/${$he}`},Uhe={headers:Bhe},Vhe={schema:"public"},zhe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Whe={},Hhe=e=>{let r;return e?r=e:typeof fetch>"u"?r=Oz:r=fetch,(...n)=>r(...n)},qhe=()=>typeof Headers>"u"?Pz:Headers,Khe=(e,r,n)=>{const a=Hhe(n),s=qhe();return async(i,o)=>{var c;const u=(c=await r())!==null&&c!==void 0?c:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),a(i,Object.assign(Object.assign({},o),{headers:d}))}};function Ghe(e){return e.endsWith("/")?e:e+"/"}function Yhe(e,r){var n,a;const{db:s,auth:i,realtime:o,global:c}=e,{db:u,auth:d,realtime:f,global:h}=r,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=c==null?void 0:c.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function Xhe(e){const r=e==null?void 0:e.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ghe(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nW="2.78.0",xh=30*1e3,vE=3,kk=vE*xh,Jhe="http://localhost:9999",Qhe="supabase.auth.token",Zhe={"X-Client-Info":`gotrue-js/${nW}`},xE="X-Supabase-Api-Version",aW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eme=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tme=10*60*1e3;class cv extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function bt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rme extends cv{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function nme(e){return bt(e)&&e.name==="AuthApiError"}class Sd extends cv{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class ed extends cv{constructor(r,n,a,s){super(r,a,s),this.name=n,this.status=a}}class ro extends ed{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ame(e){return bt(e)&&e.name==="AuthSessionMissingError"}class ah extends ed{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wy extends ed{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Hy extends ed{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sme(e){return bt(e)&&e.name==="AuthImplicitGrantRedirectError"}class pM extends ed{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yE extends ed{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Nk(e){return bt(e)&&e.name==="AuthRetryableFetchError"}class gM extends ed{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class wE extends ed{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const R1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vM=` 	
\r=`.split(""),ime=(()=>{const e=new Array(128);for(let r=0;r<e.length;r+=1)e[r]=-1;for(let r=0;r<vM.length;r+=1)e[vM[r].charCodeAt(0)]=-2;for(let r=0;r<R1.length;r+=1)e[R1[r].charCodeAt(0)]=r;return e})();function xM(e,r,n){if(e!==null)for(r.queue=r.queue<<8|e,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(R1[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(R1[a]),r.queuedBits-=6}}function sW(e,r,n){const a=ime[e];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yM(e){const r=[],n=o=>{r.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{cme(o,a,n)};for(let o=0;o<e.length;o+=1)sW(e.charCodeAt(o),s,i);return r.join("")}function ome(e,r){if(e<=127){r(e);return}else if(e<=2047){r(192|e>>6),r(128|e&63);return}else if(e<=65535){r(224|e>>12),r(128|e>>6&63),r(128|e&63);return}else if(e<=1114111){r(240|e>>18),r(128|e>>12&63),r(128|e>>6&63),r(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lme(e,r){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}ome(a,r)}}function cme(e,r,n){if(r.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=e&31;else if(r.utf8seq===3)r.codepoint=e&15;else if(r.utf8seq===4)r.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|e&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function am(e){const r=[],n={queue:0,queuedBits:0},a=s=>{r.push(s)};for(let s=0;s<e.length;s+=1)sW(e.charCodeAt(s),n,a);return new Uint8Array(r)}function ume(e){const r=[];return lme(e,n=>r.push(n)),new Uint8Array(r)}function Rd(e){const r=[],n={queue:0,queuedBits:0},a=s=>{r.push(s)};return e.forEach(s=>xM(s,n,a)),xM(null,n,a),r.join("")}function dme(e){return Math.round(Date.now()/1e3)+e}function fme(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const r=Math.random()*16|0;return(e=="x"?r:r&3|8).toString(16)})}const Ga=()=>typeof window<"u"&&typeof document<"u",ud={tested:!1,writable:!1},iW=()=>{if(!Ga())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ud.tested)return ud.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ud.tested=!0,ud.writable=!0}catch{ud.tested=!0,ud.writable=!1}return ud.writable};function hme(e){const r={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{r[i]=s})}catch{}return n.searchParams.forEach((a,s)=>{r[s]=a}),r}const oW=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>Bp(async()=>{const{default:a}=await Promise.resolve().then(()=>$f);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},mme=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",yh=async(e,r,n)=>{await e.setItem(r,JSON.stringify(n))},dd=async(e,r)=>{const n=await e.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Uc=async(e,r)=>{await e.removeItem(r)};class rS{constructor(){this.promise=new rS.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}rS.promiseConstructor=Promise;function Ek(e){const r=e.split(".");if(r.length!==3)throw new wE("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!eme.test(r[a]))throw new wE("JWT not in base64url format");return{header:JSON.parse(yM(r[0])),payload:JSON.parse(yM(r[1])),signature:am(r[2]),raw:{header:r[0],payload:r[1]}}}async function pme(e){return await new Promise(r=>{setTimeout(()=>r(null),e)})}function gme(e,r){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!r(i,null,o)){a(o);return}}catch(o){if(!r(i,o)){s(o);return}}})()})}function vme(e){return("0"+e.toString(16)).substr(-2)}function xme(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(r),Array.from(r,vme).join("")}async function yme(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function wme(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await yme(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sh(e,r,n=!1){const a=xme();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await yh(e,`${r}-code-verifier`,s);const i=await wme(a);return[i,a===i?"plain":"s256"]}const bme=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _me(e){const r=e.headers.get(xE);if(!r||!r.match(bme))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Sme(e){if(!e)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(e<=r)throw new Error("JWT has expired")}function jme(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kme=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ih(e){if(!kme.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ck(){const e={};return new Proxy(e,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nme(e,r){return new Proxy(e,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,a,s)}})}function wM(e){return JSON.parse(JSON.stringify(e))}const xd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Eme=[502,503,504];async function bM(e){var r;if(!mme(e))throw new yE(xd(e),0);if(Eme.includes(e.status))throw new yE(xd(e),e.status);let n;try{n=await e.json()}catch(i){throw new Sd(xd(i),i)}let a;const s=_me(e);if(s&&s.getTime()>=aW["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new gM(xd(n),e.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new ro}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gM(xd(n),e.status,n.weak_password.reasons);throw new rme(xd(n),e.status||500,a)}const Cme=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function Tt(e,r,n,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[xE]||(i[xE]=aW["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Tme(e,r,n+c,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(u):{data:Object.assign({},u),error:null}}async function Tme(e,r,n,a,s,i){const o=Cme(r,a,s,i);let c;try{c=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new yE(xd(u),0)}if(c.ok||await bM(c),a!=null&&a.noResolveJson)return c;try{return await c.json()}catch(u){await bM(u)}}function no(e){var r;let n=null;Pme(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=dme(e.expires_in)));const a=(r=e.user)!==null&&r!==void 0?r:e;return{data:{session:n,user:a},error:null}}function _M(e){const r=no(e);return!r.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=e.weak_password),r}function Zc(e){var r;return{data:{user:(r=e.user)!==null&&r!==void 0?r:e},error:null}}function Ame(e){return{data:e,error:null}}function Ome(e){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i}=e,o=Ju(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:r,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function SM(e){return e}function Pme(e){return e.access_token&&e.refresh_token&&e.expires_in}const Tk=["global","local","others"];class Dme{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=oW(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=Tk[0]){if(Tk.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tk.join(", ")}`);try{return await Tt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await Tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zc})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=Ju(r,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await Tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ome,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(bt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await Tt(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Zc})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,s,i,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:SM});if(f.error)throw f.error;const h=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);d[`${x}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(bt(d))return{data:{users:[]},error:d};throw d}}async getUserById(r){ih(r);try{return await Tt(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Zc})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){ih(r);try{return await Tt(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Zc})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){ih(r);try{return await Tt(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zc})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){ih(r.userId);try{const{data:n,error:a}=await Tt(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _deleteFactor(r){ih(r.userId),ih(r.id);try{return{data:await Tt(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,a,s,i,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:SM});if(f.error)throw f.error;const h=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);d[`${x}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(bt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(r){try{return await Tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await Tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await Tt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(bt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await Tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await Tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}}function jM(e={}){return{getItem:r=>e[r]||null,setItem:(r,n)=>{e[r]=n},removeItem:r=>{delete e[r]}}}const oh={debug:!!(globalThis&&iW()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lW extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Rme extends lW{}async function Ime(e,r,n){oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),oh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(r===0)throw oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Rme(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Mme(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cW(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Fme(e){return parseInt(e,16)}function Lme(e){const r=new TextEncoder().encode(e);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function $me(e){var r;const{chainId:n,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:c,requestId:u,resources:d,scheme:f,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((r=e.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=cW(e.address),v=f?`${f}://${a}`:a,g=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${p}

${g}`;let b=`URI: ${h}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),c&&(b+=`
Not Before: ${c.toISOString()}`),u&&(b+=`
Request ID: ${u}`),d){let w=`
Resources:`;for(const _ of d){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}b+=w}return`${x}
${b}`}class En extends Error{constructor({message:r,code:n,cause:a,name:s}){var i;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class I1 extends En{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Bme({error:e,options:r}){var n,a,s;const{publicKey:i}=r;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(r.signal instanceof AbortSignal)return new En({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new En({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(r.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new En({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new En({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new En({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new En({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new En({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new En({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(uW(o)){if(i.rp.id!==o)return new En({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new En({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new En({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new En({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new En({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ume({error:e,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(r.signal instanceof AbortSignal)return new En({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new En({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(uW(a)){if(n.rpId!==a)return new En({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new En({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new En({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new En({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Vme{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const zme=new Vme;function Wme(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:r,user:n,excludeCredentials:a}=e,s=Ju(e,["challenge","user","excludeCredentials"]),i=am(r).buffer,o=Object.assign(Object.assign({},n),{id:am(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:i,user:o});if(a&&a.length>0){c.excludeCredentials=new Array(a.length);for(let u=0;u<a.length;u++){const d=a[u];c.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:am(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function Hme(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:r,allowCredentials:n}=e,a=Ju(e,["challenge","allowCredentials"]),s=am(r).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},c),{id:am(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function qme(e){var r;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Rd(new Uint8Array(e.response.attestationObject)),clientDataJSON:Rd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Kme(e){var r;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Rd(new Uint8Array(s.authenticatorData)),clientDataJSON:Rd(new Uint8Array(s.clientDataJSON)),signature:Rd(new Uint8Array(s.signature)),userHandle:s.userHandle?Rd(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function uW(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function kM(){var e,r;return!!(Ga()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Gme(e){try{const r=await navigator.credentials.create(e);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new I1("Browser returned unexpected credential type",r)}:{data:null,error:new I1("Empty credential response",r)}}catch(r){return{data:null,error:Bme({error:r,options:e})}}}async function Yme(e){try{const r=await navigator.credentials.get(e);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new I1("Browser returned unexpected credential type",r)}:{data:null,error:new I1("Empty credential response",r)}}catch(r){return{data:null,error:Ume({error:r,options:e})}}}const Xme={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Jme={userVerification:"preferred",hints:["security-key"]};function M1(...e){const r=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(n(o))a[i]=o;else if(r(o)){const c=a[i];r(c)?a[i]=M1(c,o):a[i]=M1(o)}else a[i]=o}return a}function Qme(e,r){return M1(Xme,e,r||{})}function Zme(e,r){return M1(Jme,e,r||{})}class epe{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:a,signal:s},i){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!o)return{data:null,error:c};const u=s??zme.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Qme(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await Gme({publicKey:d,signal:u});return f?{data:{factorId:r,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=Zme(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await Yme(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:r,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(o){return bt(o)?{data:null,error:o}:{data:null,error:new Sd("Unexpected error in challenge",o)}}}async _verify({challengeId:r,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new cv("rpId is required for WebAuthn authentication")};try{if(!kM())return{data:null,error:new Sd("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:i});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:r,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:a,credential_response:u.credential_response}})}catch(o){return bt(o)?{data:null,error:o}:{data:null,error:new Sd("Unexpected error in authenticate",o)}}}async _register({friendlyName:r,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new cv("rpId is required for WebAuthn registration")};try{if(!kM())return{data:null,error:new Sd("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:r});if(!o)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===r&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:c};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:i});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:a,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return bt(o)?{data:null,error:o}:{data:null,error:new Sd("Unexpected error in register",o)}}}}Mme();const tpe={url:Jhe,storageKey:Qhe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zhe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function NM(e,r,n){return await n()}const lh={};class uv{get jwks(){var r,n;return(n=(r=lh[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){lh[this.storageKey]=Object.assign(Object.assign({},lh[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=lh[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){lh[this.storageKey]=Object.assign(Object.assign({},lh[this.storageKey]),{cachedAt:r})}constructor(r){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=uv.nextInstanceID,uv.nextInstanceID+=1,this.instanceID>0&&Ga()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},tpe),r);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Dme({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=oW(s.fetch),this.lock=s.lock||NM,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ga()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ime:this.lock=NM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new epe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:iW()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jM(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=jM(this.memoryStorage)),Ga()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nW}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=hme(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Ga()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),sme(i)){const u=(r=i.details)===null||r===void 0?void 0:r.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return bt(n)?{error:n}:{error:new Sd("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,s;try{const i=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.captchaToken}},xform:no}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(bt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(r){var n,a,s;try{let i;if("email"in r){const{email:f,password:h,options:m}=r;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await sh(this.storage,this.storageKey)),i=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:v},xform:no})}else if("phone"in r){const{phone:f,password:h,options:m}=r;i=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:no})}else throw new Wy("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(bt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(r){try{let n;if("email"in r){const{email:i,password:o,options:c}=r;n=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_M})}else if("phone"in r){const{phone:i,password:o,options:c}=r;n=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_M})}else throw new Wy("You must provide either an email or phone number and a password");const{data:a,error:s}=n;return s?{data:{user:null,session:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ah}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,a,s,i;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=r.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=r.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,a,s,i,o,c,u,d,f,h,m;let p,v;if("message"in r)p=r.message,v=r.signature;else{const{chain:g,wallet:x,statement:b,options:w}=r;let _;if(Ga())if(typeof x=="object")_=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),j=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=cW(j[0]);let k=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!k){const C=await _.request({method:"eth_chainId"});k=Fme(C)}const E={domain:S.host,address:N,statement:b,uri:S.href,version:"1",chainId:k,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=w==null?void 0:w.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=$me(E),v=await _.request({method:"personal_sign",params:[Lme(p),N]})}try{const{data:g,error:x}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=r.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=r.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:no});if(x)throw x;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new ah}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:x})}catch(g){if(bt(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(r){var n,a,s,i,o,c,u,d,f,h,m,p;let v,g;if("message"in r)v=r.message,g=r.signature;else{const{chain:x,wallet:b,statement:w,options:_}=r;let S;if(Ga())if(typeof b=="object")S=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const j=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),w?{statement:w}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(a=_==null?void 0:_.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(f=_==null?void 0:_.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:x,error:b}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Rd(g)},!((m=r.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=r.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:no});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ah}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(bt(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(r){const n=await dd(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:i,error:o}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:no});if(await Uc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ah}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(bt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(r){try{const{options:n,provider:a,token:s,access_token:i,nonce:o}=r,c=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:no}),{data:u,error:d}=c;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ah}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,a,s,i,o;try{if("email"in r){const{email:c,options:u}=r;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await sh(this.storage,this.storageKey));const{error:h}=await Tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in r){const{phone:c,options:u}=r,{data:d,error:f}=await Tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new Wy("You must provide either an email or phone number.")}catch(c){if(bt(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(r){var n,a;try{let s,i;"options"in r&&(s=(n=r.options)===null||n===void 0?void 0:n.redirectTo,i=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:c}=await Tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:no});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(bt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(r){var n,a,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await sh(this.storage,this.storageKey)),await Tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=r==null?void 0:r.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ame})}catch(i){if(bt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new ro;const{error:s}=await Tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(r){if(bt(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:s,options:i}=r,{error:o}=await Tt(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in r){const{phone:a,type:s,options:i}=r,{data:o,error:c}=await Tt(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Wy("You must provide either an email or phone number and a type")}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await dd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<kk:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const o=await dd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?r.user=o.user:r.user=Ck()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};r.user=Nme(r.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:s,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Zc}):await this._useSession(async n=>{var a,s,i;const{data:o,error:c}=n;if(c)throw c;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ro}:await Tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Zc})})}catch(n){if(bt(n))return ame(n)&&(await this._removeSession(),await Uc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new ro;const o=s.session;let c=null,u=null;this.flowType==="pkce"&&r.email!=null&&([c,u]=await sh(this.storage,this.storageKey));const{data:d,error:f}=await Tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:Zc});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new ro;const n=Date.now()/1e3;let a=n,s=!0,i=null;const{payload:o}=Ek(r.access_token);if(o.exp&&(a=o.exp,s=a<=n),s){const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:u}=await this._getUser(r.access_token);if(u)throw u;i={access_token:r.access_token,refresh_token:r.refresh_token,user:c.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(bt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:o,error:c}=n;if(c)throw c;r=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new ro;const{data:s,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!Ga())throw new Hy("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Hy(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hy("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new pM("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(r.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:c,expires_at:u,token_type:d}=r;if(!i||!c||!o||!d)throw new Hy("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(c);let m=f+h;u&&(m=parseInt(u));const p=m-f;p*1e3<=xh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=m-h;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,f);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:r.type},error:null}}catch(a){if(bt(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await dd(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{error:i};const o=(a=s.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:c}=await this.admin.signOut(o,r);if(c&&!(nme(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return r!=="others"&&(await this._removeSession(),await Uc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=fme(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",r,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",i),console.error(i)}})}async resetPasswordForEmail(r,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await sh(this.storage,this.storageKey,!0));try{return await Tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(bt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:a,error:s}=await this._useSession(async i=>{var o,c,u,d,f;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=r.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Tt(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Ga()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(bt(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:c,token:u,access_token:d,nonce:f}=r,h=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:c,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:no}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ah}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:p})}catch(s){if(bt(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,s;const{data:i,error:o}=n;if(o)throw o;return await Tt(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await gme(async s=>(s>0&&await pme(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:no})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Nk(i)&&Date.now()+o-a<xh})}catch(a){if(this._debug(n,"error",a),bt(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),Ga()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await dd(this.storage,this.storageKey);if(s&&this.userStorage){let o=await dd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await yh(this.userStorage,this.storageKey+"-user",o)),s.user=(r=o==null?void 0:o.user)!==null&&r!==void 0?r:Ck()}else if(s&&!s.user&&!s.user){const o=await dd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Uc(this.storage,this.storageKey+"-user"),await yh(this.storage,this.storageKey,s)):s.user=Ck()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kk;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${kk}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Nk(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(s.access_token);!c&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new ro;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new rS;const{data:i,error:o}=await this._refreshAccessToken(r);if(o)throw o;if(!i.session)throw new ro;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),bt(i)){const o={data:null,error:i};return Nk(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(r,n,a=!0){const s=`#_notifyAllSubscribers(${r})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(r,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await yh(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=wM(s);await yh(this.storage,this.storageKey,i)}else{const s=wM(n);await yh(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Uc(this.storage,this.storageKey),await Uc(this.storage,this.storageKey+"-code-verifier"),await Uc(this.storage,this.storageKey+"-user"),this.userStorage&&await Uc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ga()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),xh);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-r)/xh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xh}ms, refresh threshold is ${vE} ticks`),s<=vE&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof lW)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ga()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await sh(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(c.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${s.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;return i?{data:null,error:i}:await Tt(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:u,error:d}=await Tt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?{data:null,error:d}:(r.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?qme(r.webauthn.credential_response):Kme(r.webauthn.credential_response)})}:{code:r.code}),{data:c,error:u}=await Tt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(n){if(bt(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await Tt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Wme(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Hme(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(bt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:a},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ek(a.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?{data:null,error:s}:a?await Tt(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new ro}})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new ro};const o=await Tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ga()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(bt(a))return{data:null,error:a};throw a}}async _denyAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new ro};const o=await Tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ga()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(bt(a))return{data:null,error:a};throw a}}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(c=>c.kid===r);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(c=>c.kid===r),a&&this.jwks_cached_at+tme>s)return a;const{data:i,error:o}=await Tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(c=>c.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};a=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:c,payload:u}}=Ek(a);n!=null&&n.allowExpired||Sme(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:p}=await this.getUser(a);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const f=jme(s.alg),h=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,o,ume(`${c}.${u}`)))throw new wE("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}}}uv.nextInstanceID=0;const rpe=uv;class npe extends rpe{constructor(r){super(r)}}class ape{constructor(r,n,a){var s,i,o;this.supabaseUrl=r,this.supabaseKey=n;const c=Xhe(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Vhe,realtime:Whe,auth:Object.assign(Object.assign({},zhe),{storageKey:u}),global:Uhe},f=Yhe(a??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Khe(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Jfe(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Lhe(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new zfe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,a)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,storageKey:o,flowType:c,lock:u,debug:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new npe({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:o,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,flowType:c,lock:u,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new mhe(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,n,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const spe=(e,r,n)=>new ape(e,r,n);function ipe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}ipe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ope="https://studio.middar.com/",lpe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3NjQwMDE2ODQsImV4cCI6MjA3OTU3NzY4NH0.sHsfXuCJ0n1y6g29oFxifU1KCkSZzCzZ7_x1zQDbFDY",Jt=spe(ope,lpe,{auth:{autoRefreshToken:!1,persistSession:!0,detectSessionInUrl:!0,storageKey:"middar_crm_session"}});function cpe({onToggleSidebar:e}){var S,j,N;const{breadcrumbs:r}=hx(),{user:n,logout:a}=vr(),{t:s}=qt(),i=Vs(),{setTheme:o}=sie(),[c,u]=y.useState(!1),[d,f]=y.useState(""),[h,m]=y.useState(""),[p,v]=y.useState(""),[g,x]=y.useState(!1),b=()=>{try{a(),i("/login")}catch(k){console.error("Logout failed:",k),i("/login")}},w=()=>{u(!0)},_=async k=>{if(k.preventDefault(),!g){if(!d.trim()){v(s("settings.newPasswordRequired"));return}if(d.length<6){v(s("settings.passwordTooShort"));return}if(d!==h){v(s("settings.passwordsDoNotMatch"));return}v(""),x(!0);try{const{error:E}=await Jt.auth.updateUser({password:d});if(E)throw E;u(!1),f(""),m(""),alert(s("settings.passwordChangedSuccessfully"))}catch(E){console.error("Password change failed:",E),v(E.message||s("settings.passwordChangeFailed"))}finally{x(!1)}}};return l.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[l.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:l.jsx(Oie,{className:"h-5 w-5"})}),r&&r.length>0&&l.jsx("div",{className:"hidden md:block",children:l.jsx(Koe,{items:r})})]}),l.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:l.jsxs("div",{className:"relative w-full",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(We,{type:"search",placeholder:s("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"}),l.jsxs("kbd",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none hidden lg:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[l.jsx("span",{className:"text-xs",children:""}),"K"]})]})}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Ae((n==null?void 0:n.profile)||{},"user_name")||(n==null?void 0:n.email)}),l.jsx(fV,{}),l.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:s("common.notifications"),children:[l.jsx(vie,{className:"h-5 w-5"}),l.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:l.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),l.jsx("span",{className:"sr-only",children:s("common.notifications")})]}),l.jsxs(cO,{children:[l.jsx(uO,{asChild:!0,children:l.jsxs(ue,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:s("navigation.settings"),children:[l.jsxs(Ds,{className:"h-8 w-8",children:[l.jsx(Po,{src:(S=n==null?void 0:n.profile)==null?void 0:S.avatar}),l.jsx(Rs,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(j=n==null?void 0:n.email)==null?void 0:j.charAt(0).toUpperCase()})]}),l.jsx("span",{className:"sr-only",children:s("navigation.settings")})]})}),l.jsxs(J_,{align:"end",className:"w-56",children:[l.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:l.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[l.jsx("p",{className:"font-medium text-sm",children:Ae((n==null?void 0:n.profile)||{},"user_name")||((N=n==null?void 0:n.email)==null?void 0:N.split("@")[0])}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:n==null?void 0:n.email})]})}),l.jsx(cE,{}),l.jsxs(Xl,{onClick:()=>o("light"),children:[l.jsx(Fie,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:s("theme.light","Light")})]}),l.jsxs(Xl,{onClick:()=>o("dark"),children:[l.jsx(Die,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:s("theme.dark","Dark")})]}),l.jsxs(Xl,{onClick:()=>o("system"),children:[l.jsx(e9,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:s("theme.system","System")})]}),l.jsx(cE,{}),l.jsxs(Xl,{onClick:w,children:[l.jsx(Tie,{className:"h-4 w-4 mr-2"}),s("settings.changePassword")]}),l.jsxs(Xl,{onClick:b,className:"text-destructive focus:text-destructive",children:[l.jsx(Uie,{className:"h-4 w-4 mr-2"}),s("buttons.logout")]})]})]})]})]}),l.jsx(An,{open:c,onOpenChange:u,children:l.jsxs(mn,{className:"sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:s("settings.changePassword")}),l.jsx(Ba,{children:s("settings.changePasswordDescription")})]}),l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[p&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:p})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"newPassword",children:s("settings.newPassword")}),l.jsx(We,{id:"newPassword",type:"password",value:d,onChange:k=>f(k.target.value),placeholder:s("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"confirmPassword",children:s("settings.confirmPassword")}),l.jsx(We,{id:"confirmPassword",type:"password",value:h,onChange:k=>m(k.target.value),placeholder:s("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),l.jsxs($a,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:s("buttons.cancel")}),l.jsx(ue,{type:"submit",disabled:g||!d.trim()||!h.trim(),className:"w-full sm:w-auto",children:s(g?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const Sl=Z_,dW=mO,upe=eS,fW=y.forwardRef(({className:e,...r},n)=>l.jsx(Lp,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));fW.displayName=Lp.displayName;const dpe=px("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Io=y.forwardRef(({side:e="right",className:r,children:n,...a},s)=>l.jsxs(upe,{children:[l.jsx(fW,{}),l.jsxs($p,{ref:s,className:ve(dpe({side:e}),r),...a,children:[n,l.jsxs(tS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Oo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Io.displayName=$p.displayName;const yc=({className:e,...r})=>l.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...r});yc.displayName="SheetHeader";const jl=y.forwardRef(({className:e,...r},n)=>l.jsx(kx,{ref:n,className:ve("text-lg font-semibold text-foreground",e),...r}));jl.displayName=kx.displayName;const Cx=y.forwardRef(({className:e,...r},n)=>l.jsx(Nx,{ref:n,className:ve("text-sm text-muted-foreground",e),...r}));Cx.displayName=Nx.displayName;function bE({children:e}){const[r,n]=y.useState(!0),[a,s]=y.useState(!1);y.useEffect(()=>{const c=()=>{s(window.innerWidth<1024),window.innerWidth<1024?n(!1):n(!0)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const i=()=>{n(!r)},o=()=>{a&&n(!1)};return l.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[l.jsx(cpe,{onToggleSidebar:i}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!a&&l.jsx("aside",{className:ve("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block",r?"w-60":"w-0 overflow-hidden"),style:{height:"calc(100vh - 64px)"},children:l.jsx(TI,{onNavigate:o})}),a&&l.jsx(Sl,{open:r,onOpenChange:n,children:l.jsxs(Io,{side:kr()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[l.jsx(jl,{className:"sr-only",children:"Navigation Menu"}),l.jsx(Cx,{className:"sr-only",children:"Application navigation sidebar"}),l.jsx(TI,{onNavigate:o})]})}),l.jsx("main",{className:"flex-1 overflow-hidden bg-background w-full",children:l.jsx("div",{className:"h-full p-3 sm:p-4 md:p-6 pt-2 overflow-y-auto",children:e})})]})]})}const as={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await G.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await G.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const r=await G.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${r.data.length} ${e} stages`),r.data}catch(r){throw console.error(`[stageService] Failed to fetch ${e} stages: `,r),r}},async create(e){try{const r=await this.getAll(),n=r.length>0?Math.max(...r.map(o=>o.stager_order_index||0)):-1,a=e.stager_order_index??n+1,s={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:a,color:e.color,color_var:e.color_var};return await G.stages.create(s)}catch(r){throw console.error("[stageService] Failed to create stage:",r),r}},async update(e,r){try{const n=wl(r,{stage_name:"stage_name"});await G.stages.update(e,n)}catch(n){throw console.error("[stageService] Failed to update stage:",n),n}},async delete(e){try{await G.stages.delete(e)}catch(r){throw console.error("[stageService] Failed to delete stage:",r),r}}},cn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await G.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return G.count("Users")},async getById(e){try{const r=await G.Users.list({exact_filters:{userid:e},pageSize:1});return r.data&&r.data.length>0?r.data[0]:null}catch(r){return console.error("[userService] Failed to fetch user:",r),null}},async getByAuthId(e){try{return(await G.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(r){return console.error("[userService] Failed to fetch user by auth ID:",r),null}},async update(e,r){try{const n={};r.name!==void 0&&(n.name=r.name),r.Email!==void 0&&(n.Email=r.Email),r.permissions!==void 0&&(n.permissions=r.permissions),r.mobile!==void 0&&(n.mobile=r.mobile),r.IsActive!==void 0&&(n.IsActive=r.IsActive),r.Employee!==void 0&&(n.Employee=r.Employee),await G.Users.update(e,n),console.log(`[userService] Successfully updated user ${e} `)}catch(n){throw console.error("[userService] Failed to update user:",n),n}}},F1={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await G.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return G.count("Users")},async getById(e){try{const r=await G.Users.list({exact_filters:{userid:e},pageSize:1});if(r.data&&r.data.length>0){const n=r.data[0];if(n.user_role==="client")return n}return null}catch(r){return console.error("[clientService] Failed to fetch client:",r),null}},async create(e){try{const r={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await G.Users.create(r)}catch(r){throw console.error("[clientService] Failed to create client:",r),r}}},Kc={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await G.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return G.count("projects")},async getById(e){try{return await G.projects.get(e)}catch(r){return console.error("[projectService] Failed to fetch project:",r),null}},async create(e){try{return await G.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(r){throw console.error("[projectService] Failed to create project:",r),r}},async update(e,r){try{const n={};r.project_name&&(n.project_name=r.project_name),r.project_description!==void 0&&(n.project_description=r.project_description),r.progress!==void 0&&(n.progress=r.progress),r.stage!==void 0&&(n.stage=r.stage),r.end_date!==void 0&&(n.end_date=r.end_date),await G.projects.update(e,n)}catch(n){throw console.error("[projectService] Failed to update project:",n),n}},async delete(e){try{await G.projects.delete(e)}catch(r){throw console.error("[projectService] Failed to delete project:",r),r}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const n=(await G.projectUsers.list({exact_filters:{userid:e}})).data.map(s=>s.project_id);if(n.length===0)return[];const a=await Promise.all(n.map(s=>G.projects.get(s)));return console.log(`[projectService] Successfully fetched ${a.length} projects for user`),a.filter(s=>s!==null)}catch(r){throw console.error("[projectService] Failed to fetch projects for user:",r),r}}},ec={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await G.tasks.list();return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return G.count("tasks",e)},async getByStage(e){try{return(await G.tasks.getByStage(e)).data}catch(r){throw console.error("[taskService] Failed to fetch tasks:",r),r}},async create(e){try{const r=wl({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await G.tasks.create(r)}catch(r){throw console.error("[taskService] Failed to create task:",r),r}},async update(e,r){try{const n=wl(r,{task_name:"task_name",description:"description"});await G.tasks.update(e,n)}catch(n){throw console.error("[taskService] Failed to update task:",n),n}},async delete(e){try{await G.tasks.delete(e)}catch(r){throw console.error("[taskService] Failed to delete task:",r),r}}},_E={async getByTask(e){try{return(await G.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(r){throw console.error("[commentService] Failed to fetch comments:",r),r}},async create(e){try{return await G.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(r){throw console.error("[commentService] Failed to create comment:",r),r}}},Xo={async getUserRooms(e){try{const n=(await G.roomMembers.list({exact_filters:{userid:e}})).data;if(!n||n.length===0)return[];const a=n.map(o=>o.room_id);return(await G.rooms.list({advanced_filters:[{column:"room_id",filter_type:"in",value:a}]})).data}catch(r){throw console.error("[roomService] Failed to get user rooms:",r),r}},async createRoom(e){let r=e.created_by;if(!r||r===0){const a=await cn.getByAuthId(e.userid);a&&(r=a.userid)}return await G.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:r,userid:e.userid})},async addMember(e,r){await G.roomMembers.create({room_id:e,userid:r})},async getRoomMembers(e){const r=await G.roomMembers.getByRoom(e);return!r.data||r.data.length===0?[]:(await Promise.all(r.data.map(async a=>await cn.getByAuthId(a.userid)))).filter(Boolean)},async markAsRead(e,r){try{const n=await G.roomMembers.list({exact_filters:{room_id:e,userid:r}});if(n.data.length>0){const a=n.data[0].id;a&&await G.roomMembers.update(a,{last_read_at:new Date().toISOString()})}}catch(n){console.error("[roomService] Failed to mark room as read:",n)}}},fpe={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const r=await G.projectUsers.getByProject(e);if(!r.data||r.data.length===0)return[];const n=r.data.map(s=>s.user_id);return(await Promise.all(n.map(s=>cn.getById(s)))).filter(Boolean)}catch(r){throw console.error("[projectUserService] Failed to fetch project users:",r),r}},async addUserToProject(e,r){try{console.log("[projectUserService] Adding user",r,"to project",e),await G.projectUsers.create({project_id:e,user_id:r}),console.log("[projectUserService] Successfully added user to project")}catch(n){throw console.error("[projectUserService] Failed to add user to project:",n),n}},async removeUserFromProject(e,r){try{console.log("[projectUserService] Removing user",r,"from project",e);const n=await G.projectUsers.list({exact_filters:{project_id:e,user_id:r}});if(n.data.length>0){const a=n.data[0].id;a&&await G.projectUsers.delete(a)}console.log("[projectUserService] Successfully removed user from project")}catch(n){throw console.error("[projectUserService] Failed to remove user from project:",n),n}}},ch={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await G.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const a=((await G.teamMembers.list()).data||[]).reduce((i,o)=>(i[o.team_id]||(i[o.team_id]=[]),i[o.team_id].push({userid:o.userid,joined_at:o.joined_at||o.created_at}),i),{});return e.map(i=>({...i,team_members:a[i.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const r=(await G.teamMembers.list()).data,n={};return(r||[]).forEach(a=>{const s={userid:a.user_id,name:a.Users_name||a.user_name||"Unknown User",Email:a.Users_Email||a.user_email,mobile:a.Users_mobile||a.user_mobile,IsActive:a.Users_IsActive,isAdmin:a.Users_isAdmin};n[a.team_id]||(n[a.team_id]=[]),n[a.team_id].push(s)}),n}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await G.teams.get(e)}catch(r){return console.error("[teamService] Failed to fetch team:",r),null}},async create(e){try{return await G.teams.create(e)}catch(r){throw console.error("[teamService] Failed to create team:",r),r}},async update(e,r){try{const n=wl(r,{team_name:"team_name"});await G.teams.update(e,n)}catch(n){throw console.error("[teamService] Failed to update team:",n),n}},async delete(e){try{await G.teams.delete(e)}catch(r){throw console.error("[teamService] Failed to delete team:",r),r}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const n=(await G.teamMembers.getByTeam(e)).data;if(!n||n.length===0)return[];const a=n.map(i=>i.userid);return(await Promise.all(a.map(i=>cn.getByAuthId(i)))).filter(Boolean)}catch(r){throw console.error("[teamService] Failed to fetch team members:",r),r}},async addMember(e,r){try{const n=Number(r);if(Number.isNaN(n))throw new Error(`Invalid user ID: ${r}`);console.log("[teamService] Adding member",n,"to team",e),await G.teamMembers.create({team_id:e,user_id:n}),console.log("[teamService] Successfully added member to team")}catch(n){throw console.error("[teamService] Failed to add member to team:",n),n}},async removeMember(e,r){try{const n=Number(r);if(Number.isNaN(n))throw new Error(`Invalid user ID: ${r}`);console.log("[teamService] Removing member",n,"from team",e);const a=await G.teamMembers.list({exact_filters:{team_id:e,user_id:n}});if(console.log("[teamService] Found records for deletion:",a.data.length,a.data),a.data.length>0){const s=a.data[0],i=(s==null?void 0:s.team_mem_id)??(s==null?void 0:s.id)??(s==null?void 0:s.team_members_id)??(s==null?void 0:s.team_membersId)??(s==null?void 0:s.team_id);if(!i)throw new Error("Unable to determine team member identifier for deletion");console.log("[teamService] Deleting team member record with ID:",i),await G.teamMembers.delete(i)}else console.warn("[teamService] No team member record found for team_id:",e,"user_id:",n);console.log("[teamService] Successfully removed member from team")}catch(n){throw console.error("[teamService] Failed to remove member from team:",n),n}}},b0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await G.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await G.tickets.get(e)}catch(r){return console.error("[ticketService] Failed to fetch ticket:",r),null}},async create(e){try{return await G.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(r){throw console.error("[ticketService] Failed to create ticket:",r),r}},async update(e,r){try{const n={};r.created_by!==void 0&&(n.created_by=r.created_by),r.assigned_to!==void 0&&(n.assigned_to=r.assigned_to),r.subject!==void 0&&(n.subject=r.subject),r.description!==void 0&&(n.description=r.description),r.priority!==void 0&&(n.priority=r.priority),r.ticket_type!==void 0&&(n.ticket_type=r.ticket_type),r.stage_id!==void 0&&(n.stage_id=r.stage_id),r.resolved_date!==void 0&&(n.resolved_date=r.resolved_date),r.closed_at!==void 0&&(n.closed_at=r.closed_at),r.closed_by!==void 0&&(n.closed_by=r.closed_by),r.room_id!==void 0&&(n.room_id=r.room_id),r.task_id!==void 0&&(n.task_id=r.task_id),r.status!==void 0&&(n.status=r.status),await G.tickets.update(e,n)}catch(n){throw console.error("[ticketService] Failed to update ticket:",n),n}},async moveToStage(e,r){try{console.log(`[ticketService] Moving ticket ${e} to stage ${r}`),await G.tickets.update(e,{stage_id:r}),console.log("[ticketService] Successfully moved ticket to stage")}catch(n){throw console.error("[ticketService] Failed to move ticket to stage:",n),n}},async delete(e){try{await G.tickets.delete(e)}catch(r){throw console.error("[ticketService] Failed to delete ticket:",r),r}}},jd={async getByRoom(e,r){try{const n={exact_filters:{room_id:e}};r!=null&&r.limit&&(n.limit=r.limit);const a=await G.messages.list(n);if(!a.data)return[];const s=a.data,i=[...new Set(s.map(d=>d.userid))],o=await Promise.all(i.map(d=>cn.getByAuthId(d))),c=new Map(o.filter(d=>d).map(d=>[d.userid,d]));return s.map(d=>({...d,sender:c.get(d.userid)||null})).reverse()}catch(n){throw console.error("[messageService] Failed to fetch messages:",n),n}},async create(e){try{return await G.messages.create(e)}catch(r){throw console.error("[messageService] Failed to create message:",r),r}},async update(e,r){try{await G.messages.update(e,{content:r,is_edited:!0})}catch(n){throw console.error("[messageService] Failed to update message:",n),n}},async delete(e){try{await G.messages.delete(e)}catch(r){throw console.error("[messageService] Failed to delete message:",r),r}},async uploadAttachment(e){try{const r=e.name.split(".").pop(),a=`${`${Math.random().toString(36).substring(2)}_${Date.now()}.${r}`}`,{error:s}=await Jt.storage.from("chat-attachments").upload(a,e);if(s)throw s;const{data:i}=Jt.storage.from("chat-attachments").getPublicUrl(a);return i.publicUrl}catch(r){throw console.error("[messageService] Failed to upload attachment:",r),r}}},kd={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await G.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getCount(){return G.count("teams")},async getById(e){try{return await G.leads.get(e)}catch(r){return console.error("[leadService] Failed to fetch lead:",r),null}},async create(e){try{return await G.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(r){throw console.error("[leadService] Failed to create lead:",r),r}},async createMLead(e){try{return await G.mLeads.create(e)}catch(r){throw console.error("[leadService] Failed to create MLead:",r),r}},async update(e,r){try{const n={};r.lead_name&&(n.lead_name=r.lead_name),r.lead_description!==void 0&&(n.lead_description=r.lead_description),r.client_name&&(n.client_name=r.client_name),r.client_user_id&&(n.client_user_id=r.client_user_id),r.stage!==void 0&&(n.stage=r.stage),r.assigned_to!==void 0&&(n.assigned_to=r.assigned_to),r.assigned_at!==void 0&&(n.assigned_at=r.assigned_at),r.value!==void 0&&(n.value=r.value),r.currency!==void 0&&(n.currency=r.currency),await G.leads.update(e,n)}catch(n){throw console.error("[leadService] Failed to update lead:",n),n}},async delete(e){try{await G.leads.delete(e)}catch(r){throw console.error("[leadService] Failed to delete lead:",r),r}}},EM={async getAll(){try{console.log("[mLeadService] Fetching all master leads...");const e=await G.mLeads.list();return console.log(`[mLeadService] Successfully fetched ${e.data.length} master leads`),e.data}catch(e){throw console.error("[mLeadService] Failed to fetch master leads:",e),e}},async getCount(){try{console.log("[mLeadService] Fetching master leads count...");const r=(await Jo("/api/v1/m_leads/list?pageSize=1")).totalRows||0;return console.log(`[mLeadService] Successfully fetched master leads count: ${r}`),r}catch(e){return console.error("[mLeadService] Failed to fetch master leads count:",e),0}},async getById(e){try{return await G.mLeads.get(e)}catch(r){return console.error("[mLeadService] Failed to fetch master lead:",r),null}}},Ak={async getAll(){try{console.log("[mProjectService] Fetching all master projects...");const e=await G.mProjects.list();return console.log(`[mProjectService] Successfully fetched ${e.data.length} master projects`),e.data}catch(e){throw console.error("[mProjectService] Failed to fetch master projects:",e),e}},async getCount(){try{console.log("[mProjectService] Fetching master projects count...");const r=(await Jo("/api/v1/m_projects/list?pageSize=1")).totalRows||0;return console.log(`[mProjectService] Successfully fetched master projects count: ${r}`),r}catch(e){return console.error("[mProjectService] Failed to fetch master projects count:",e),0}},async getById(e){try{return await G.mProjects.get(e)}catch(r){return console.error("[mProjectService] Failed to fetch master project:",r),null}}},sm={async getByRelated(e,r){try{console.log(`[noteService] Fetching notes for ${e} ${r}...`);const a=(await G.notes.list({exact_filters:{related_to_type:e,related_to_id:r}})).data;if(!a||a.length===0)return[];const s=[...new Set(a.map(c=>c.created_by))],i=await Promise.all(s.map(c=>cn.getById(c))),o=new Map(i.filter(c=>c).map(c=>[c.userid,c]));return a.map(c=>({...c,user:o.get(c.created_by)?{userid:o.get(c.created_by).userid,user_id:o.get(c.created_by).userid,user_name:o.get(c.created_by).name,name:o.get(c.created_by).name,Email:o.get(c.created_by).Email}:void 0}))}catch(n){throw console.error("[noteService] Failed to fetch notes:",n),n}},async create(e){try{const r=await G.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),r}catch(r){throw console.error("[noteService] Failed to create note:",r),r}},async update(e,r){try{await G.notes.update(e,{content:r,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(n){throw console.error("[noteService] Failed to update note:",n),n}},async delete(e){try{await G.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(r){throw console.error("[noteService] Failed to delete note:",r),r}}},Ks={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await G.surveyTemplates.list();return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch survey templates:",e),e}},async getById(e){try{return await G.surveyTemplates.get(e)}catch(r){return console.error("[surveyTemplateService] Failed to fetch template:",r),null}},async create(e){try{return await G.surveyTemplates.create(e)}catch(r){throw console.error("[surveyTemplateService] Failed to create template:",r),r}},async update(e,r){try{const n={};r.template_name&&(n.template_name=r.template_name),r.template_name_ar&&(n.template_name_ar=r.template_name_ar),r.template_description!==void 0&&(n.template_description=r.template_description),r.template_description_ar!==void 0&&(n.template_description_ar=r.template_description_ar),r.category&&(n.category=r.category),r.is_active!==void 0&&(n.is_active=r.is_active),r.is_default!==void 0&&(n.is_default=r.is_default),await G.surveyTemplates.update(e,n)}catch(n){throw console.error("[surveyTemplateService] Failed to update template:",n),n}},async delete(e){try{await G.surveyTemplates.delete(e)}catch(r){throw console.error("[surveyTemplateService] Failed to delete template:",r),r}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const n=(await G.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(n==null?void 0:n.length)||0} fields`),(n||[]).sort((a,s)=>(a.field_order||0)-(s.field_order||0))}catch(r){throw console.error("[surveyTemplateService] Failed to fetch template fields:",r),r}},async createField(e){try{return await G.surveyTemplateFields.create(e)}catch(r){throw console.error("[surveyTemplateService] Failed to create field:",r),r}},async updateField(e,r){try{const n={};r.field_order!==void 0&&(n.field_order=r.field_order),r.field_type&&(n.field_type=r.field_type),r.field_label&&(n.field_label=r.field_label),r.field_label_ar&&(n.field_label_ar=r.field_label_ar),r.help_text!==void 0&&(n.help_text=r.help_text),r.help_text_ar!==void 0&&(n.help_text_ar=r.help_text_ar),r.is_required!==void 0&&(n.is_required=r.is_required),r.field_options!==void 0&&(n.field_options=r.field_options),r.validation_rules!==void 0&&(n.validation_rules=r.validation_rules),r.default_value!==void 0&&(n.default_value=r.default_value),r.conditional_logic!==void 0&&(n.conditional_logic=r.conditional_logic),await G.surveyTemplateFields.update(e,n)}catch(n){throw console.error("[surveyTemplateService] Failed to update field:",n),n}},async deleteField(e){try{await G.surveyTemplateFields.delete(e)}catch(r){throw console.error("[surveyTemplateService] Failed to delete field:",r),r}}},Id={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await G.surveys.list();return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){try{console.log("[surveyService] Fetching surveys count...");const r=(await Jo("/api/v1/surveys/list?pageSize=1")).totalRows||0;return console.log(`[surveyService] Successfully fetched surveys count: ${r}`),r}catch(e){return console.error("[surveyService] Failed to fetch surveys count:",e),0}},async getById(e){try{return await G.surveys.get(e)}catch(r){return console.error("[surveyService] Failed to fetch survey:",r),null}},async create(e){try{return await G.surveys.create(e)}catch(r){throw console.error("[surveyService] Failed to create survey:",r),r}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const r=await Promise.all(e.map(n=>G.surveys.create(n)));return console.log(`[surveyService] Successfully batch created ${r.length} surveys`),r}catch(r){throw console.error("[surveyService] Failed to batch create surveys:",r),r}},async update(e,r){try{const n={};r.template_id!==void 0&&(n.template_id=r.template_id),r.survey_name&&(n.survey_name=r.survey_name),r.survey_description!==void 0&&(n.survey_description=r.survey_description),r.client_name&&(n.client_name=r.client_name),r.client_name_ar&&(n.client_name_ar=r.client_name_ar),r.client_contact!==void 0&&(n.client_contact=r.client_contact),r.client_email&&(n.client_email=r.client_email),r.client_address&&(n.client_address=r.client_address),r.client_company&&(n.client_company=r.client_company),r.client_company_ar&&(n.client_company_ar=r.client_company_ar),r.survey_responses!==void 0&&(n.survey_responses=r.survey_responses),r.location_latitude!==void 0&&(n.location_latitude=r.location_latitude),r.location_longitude!==void 0&&(n.location_longitude=r.location_longitude),r.location_accuracy!==void 0&&(n.location_accuracy=r.location_accuracy),r.location_address&&(n.location_address=r.location_address),r.status&&(n.status=r.status),r.lead_id!==void 0&&(n.lead_id=r.lead_id),r.converted_to_lead_at!==void 0&&(n.converted_to_lead_at=r.converted_to_lead_at),r.device_info!==void 0&&(n.device_info=r.device_info),r.completion_time_seconds!==void 0&&(n.completion_time_seconds=r.completion_time_seconds),r.notes&&(n.notes=r.notes),r.notes_ar&&(n.notes_ar=r.notes_ar),await G.surveys.update(e,n)}catch(n){throw console.error("[surveyService] Failed to update survey:",n),n}},async delete(e){try{await G.surveys.delete(e)}catch(r){throw console.error("[surveyService] Failed to delete survey:",r),r}}},Ok=1024;function yn(){const[e,r]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Ok-1}px)`),a=()=>{r(window.innerWidth<Ok)};return n.addEventListener("change",a),r(window.innerWidth<Ok),()=>n.removeEventListener("change",a)},[]),!!e}const hpe=px("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ht({className:e,variant:r,...n}){return l.jsx("div",{className:ve(hpe({variant:r}),e),...n})}function hW(){qt();const[e,r]=y.useState(new Date);y.useEffect(()=>{const s=setInterval(()=>{r(new Date)},1e3);return()=>clearInterval(s)},[]);const n=s=>s.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),a=s=>s.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return l.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[l.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:a(e)}),l.jsx("div",{className:"text-sm",children:n(e)})]})}const CM=({projects:e,clients:r,users:n,leads:a,surveys:s,loadData:i,isRTL:o,t:c,counts:u})=>{var _;const{user:d}=vr(),f=u.projects,h=0,m=u.projects,p=0,v=u.clients,g=u.users,x=u.leads,b=u.surveys,w=[...e].sort((S,j)=>new Date(j.created_at||"").getTime()-new Date(S.created_at||"").getTime()).slice(0,5);return l.jsxs("div",{className:"space-y-8",dir:o?"rtl":"ltr",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:c("dashboard.title")}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:c("dashboard.subtitle")})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(hW,{})})]}),l.jsxs(ct,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[l.jsx(Yt,{className:"border-b border-slate-200 dark:border-slate-700",children:l.jsxs(br,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[l.jsx(Un,{className:"h-6 w-6 text-primary"}),c("employeeDashboard.employeeInfo")]})}),l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsx(im,{label:c("employeeDashboard.name"),value:Ae(d.profile||{},"user_name")||d.name||"N/A",isRTL:o}),l.jsx(im,{label:c("employeeDashboard.email"),value:d.email,isRTL:o}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:c("employeeDashboard.role")}),l.jsx(ht,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:d.permissions_permissions_Name||d.role||"Unknown"})]}),l.jsx(im,{label:c("employeeDashboard.memberSince"),value:(_=d.profile)!=null&&_.created_at?new Date(d.profile.created_at).toLocaleDateString():"N/A",isRTL:o})]})})]}),l.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[l.jsx(ti,{title:c("dashboard.totalProjects"),value:f,subtext:`${h} ${c("dashboard.completed")}`,icon:Lie,isRTL:o}),l.jsx(ti,{title:c("dashboard.inProgress"),value:m,subtext:c("dashboard.activeProjects"),icon:Ia,isRTL:o}),l.jsx(ti,{title:c("dashboard.clients"),value:v,subtext:c("dashboard.totalClients"),icon:Cn,isRTL:o}),l.jsx(ti,{title:c("dashboard.teamMembers"),value:g,subtext:c("dashboard.activeUsers"),icon:Ia,isRTL:o}),l.jsx(ti,{title:c("dashboard.leads"),value:x,subtext:c("dashboard.totalLeads"),icon:j1,isRTL:o}),l.jsx(ti,{title:c("dashboard.surveys"),value:b,subtext:c("dashboard.totalSurveys"),icon:Zs,isRTL:o})]}),l.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[l.jsxs(ct,{className:"border-0 shadow-md",children:[l.jsx(Yt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(br,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:c("dashboard.recentProjects")})}),l.jsx(xt,{className:"space-y-2 pt-4",children:w.length>0?w.map(S=>l.jsx(ppe,{project:S,clientName:S.company_name||c("dashboard.noClient"),isRTL:o},S.project_id)):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:c("dashboard.noProjectsYet")})})]}),l.jsxs(ct,{className:"border-0 shadow-md",children:[l.jsx(Yt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(br,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:c("dashboard.projectStatus")})}),l.jsxs(xt,{className:"space-y-2 pt-4",children:[l.jsx(Pk,{color:"bg-emerald-500",label:c("dashboard.completedStatus"),value:h,isRTL:o}),l.jsx(Pk,{color:"bg-blue-500",label:c("dashboard.inProgressStatus"),value:m,isRTL:o}),l.jsx(Pk,{color:"bg-slate-400",label:c("dashboard.notStartedStatus"),value:p,isRTL:o})]})]})]})]})},mpe=({user:e,myTasks:r,myProjects:n,leads:a,surveys:s,isRTL:i,t:o,counts:c})=>{var m;const u=r.filter(p=>p.task_status==="completed").length,d=r.filter(p=>p.task_status==="in_progress").length,f=c.projects,h=[...r].sort((p,v)=>new Date(v.created_at||"").getTime()-new Date(p.created_at||"").getTime()).slice(0,5);return l.jsxs("div",{className:"space-y-8",dir:i?"rtl":"ltr",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:o("employeeDashboard.title")}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:o("employeeDashboard.subtitle",{name:Ae(e.profile||{},"user.name")||e.email})})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(hW,{})})]}),l.jsxs(ct,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[l.jsx(Yt,{className:"border-b border-slate-200 dark:border-slate-700",children:l.jsxs(br,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[l.jsx(Un,{className:"h-6 w-6 text-primary"}),o("employeeDashboard.employeeInfo")]})}),l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsx(im,{label:o("employeeDashboard.name"),value:Ae(e.profile||{},"user_name")||"N/A",isRTL:i}),l.jsx(im,{label:o("employeeDashboard.email"),value:e.email,isRTL:i}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:o("employeeDashboard.role")}),l.jsx(ht,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:e.permissions_permissions_Name||e.role||"Unknown"})]}),l.jsx(im,{label:o("employeeDashboard.memberSince"),value:(m=e.profile)!=null&&m.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A",isRTL:i})]})})]}),l.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[l.jsx(ti,{title:o("employeeDashboard.myProjects"),value:c.projects,subtext:`${f} ${o("employeeDashboard.active")}`,icon:ef,isRTL:i}),l.jsx(ti,{title:o("employeeDashboard.myTasks"),value:c.myTasks,subtext:`${u} ${o("employeeDashboard.completed")}`,icon:j1,isRTL:i}),l.jsx(ti,{title:o("employeeDashboard.inProgress"),value:d,subtext:o("employeeDashboard.activeTasks"),icon:Dd,isRTL:i}),l.jsx(ti,{title:o("employeeDashboard.completedTasks"),value:u,subtext:o("employeeDashboard.finishedTasks"),icon:ll,isRTL:i}),l.jsx(ti,{title:o("employeeDashboard.leads"),value:c.leads,subtext:o("employeeDashboard.totalLeads"),icon:j1,isRTL:i}),l.jsx(ti,{title:o("employeeDashboard.surveys"),value:c.surveys,subtext:o("employeeDashboard.totalSurveys"),icon:Zs,isRTL:i})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(ct,{className:"border-0 shadow-md",children:[l.jsx(Yt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(br,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.myProjects")})}),l.jsx(xt,{className:"space-y-2 pt-4",children:n.length>0?n.slice(0,5).map(p=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.company_name}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.contract_code||o("employeeDashboard.noDescription")})]}),l.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:p.contract_code})]},p.project_id)):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noProjectsAssigned")})})]}),l.jsxs(ct,{className:"border-0 shadow-md",children:[l.jsx(Yt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(br,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.recentTasks")})}),l.jsx(xt,{className:"space-y-2 pt-4",children:h.length>0?h.map(p=>{var v;return l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.task_name}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.description||o("employeeDashboard.noDescription")})]}),l.jsx(ht,{variant:p.task_status==="completed"?"default":p.task_status==="in_progress"?"secondary":"outline",className:"text-xs whitespace-nowrap",children:(v=p.task_status)==null?void 0:v.replace("_"," ")})]},p.task_id)}):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noTasksAssigned")})})]})]})]})},ti=({title:e,value:r,subtext:n,icon:a,isRTL:s})=>l.jsxs(ct,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",dir:s?"rtl":"ltr",children:[l.jsxs(Yt,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[l.jsx(br,{className:"text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e}),l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(a,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})})]}),l.jsxs(xt,{children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:r}),l.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:n})]})]}),ppe=({project:e,clientName:r,isRTL:n})=>l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-900 dark:text-white leading-none truncate",children:e.company_name}),l.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:r||t("dashboard.noClient")})]}),l.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:e.contract_code})]}),Pk=({color:e,label:r,value:n,isRTL:a})=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors duration-200",dir:a?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${e} shadow-sm`}),l.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300",children:r})]}),l.jsx("span",{className:"text-sm sm:text-base font-bold text-slate-900 dark:text-white",children:n})]}),im=({label:e,value:r,isRTL:n})=>l.jsxs("div",{dir:n?"rtl":"ltr",children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium mb-2",children:e}),l.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white",children:r})]});function gpe(){const{t:e}=qt(),{currentLanguage:r,isRTL:n}=Va();yn();const{user:a,loading:s}=vr(),[i,o]=y.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,clients:0,users:0,leads:0,surveys:0,myTasks:0}}),[c,u]=y.useState(!0),[d,f]=y.useState(null),[h,m]=y.useState(new Map),p=i.projects.filter(x=>{var b;return x.created_by===(a==null?void 0:a.id)||x.created_by===((b=a==null?void 0:a.profile)==null?void 0:b.userid)});y.useEffect(()=>{a&&!s&&(g(),v())},[a,s]);const v=async()=>{try{const x=await PA(),b=new Map;x.forEach(w=>{b.set(w.permissions_ID,w.permissions_Name)}),m(b)}catch(x){console.error("Failed to load permission names:",x)}},g=async()=>{var x,b,w,_,S,j,N;try{u(!0),f(null);const k=((x=a==null?void 0:a.profile)==null?void 0:x.userid)||(a==null?void 0:a.id);try{const[E,C,O]=await Promise.all([G.getAggregates(["m_projects","clients","users","m_leads","surveys","tasks"]),Ak.getAll({pageSize:5,sort:"created_at",order:"DESC"}).catch(()=>[]),ec.getAll({exact_filters:{assigned_to:k},pageSize:10,sort:"created_at",order:"DESC"}).catch(()=>[])]),D=((b=E.m_projects)==null?void 0:b.Count)||0,T=((w=E.clients)==null?void 0:w.Count)||0,z=((_=E.users)==null?void 0:_.Count)||0,q=((S=E.m_leads)==null?void 0:S.Count)||0,F=((j=E.surveys)==null?void 0:j.Count)||0,I=((N=E.tasks)==null?void 0:N.Count)||0,V=O.length;o({projects:C,clients:[],users:[],leads:[],surveys:[],myTasks:O,counts:{projects:D,clients:T,users:z,leads:q,surveys:F,myTasks:V}})}catch(E){console.warn("[Dashboard] Aggregates API failed, falling back to individual calls:",E);const[C,O,D,T,z,q,F,I,V,L,M]=await Promise.all([Ak.getCount().catch(()=>0),F1.getCount().catch(()=>0),cn.getCount().catch(()=>0),EM.getCount().catch(()=>0),Id.getCount().catch(()=>0),Ak.getAll({pageSize:5,sort:"created_at",order:"DESC"}).catch(()=>[]),F1.getAll().catch(()=>[]),cn.getAll().catch(()=>[]),EM.getAll().catch(()=>[]),Id.getAll().catch(()=>[]),ec.getAll().catch(()=>[])]),Y=M.filter(A=>A.assigned_to===k),Z=Y.length;o({projects:q,clients:F,users:I,leads:V,surveys:L,myTasks:Y,counts:{projects:C,clients:O,users:D,leads:T,surveys:z,myTasks:Z}})}}catch(k){console.error("[Dashboard] Failed to load data:",k),f(k.message||"Failed to load data")}finally{u(!1)}};return c||s||!a?l.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:n?"rtl":"ltr",children:l.jsx(zi,{message:e("common.loading"),size:"2xl"})}):d?l.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:n?"rtl":"ltr",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:d}),l.jsx(ue,{onClick:g,className:"mt-4",children:e("common.retry","Retry")})]})}):a.role==="client"?l.jsx(Pw,{to:"/client-portal",replace:!0}):a.role==="admin"?l.jsx(CM,{projects:i.projects,clients:i.clients,users:i.users,leads:i.leads,surveys:i.surveys,loadData:g,isRTL:n,t:e,counts:i.counts}):["employee","manager","team_leader"].includes(a.role)?l.jsx(mpe,{user:a,myTasks:i.myTasks,myProjects:p,leads:i.leads,surveys:i.surveys,isRTL:n,t:e,counts:i.counts}):["partner_employee","partner_leader"].includes(a.role)?l.jsxs("div",{className:"space-y-8",dir:n?"rtl":"ltr",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("partnerEmployeeDashboard.title","Partner Employee Dashboard")}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("partnerEmployeeDashboard.subtitle","Welcome to your partner employee portal")})]})}),l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:l.jsx(ti,{title:"",value:0,subtext:"",icon:ef,isRTL:n})}),l.jsx("h2",{className:"text-2xl font-semibold",children:e("common.comingSoon","Coming Soon")}),l.jsx("p",{className:"text-muted-foreground max-w-md",children:e("partnerEmployeeDashboard.comingSoonMessage","We're working hard to bring you an amazing partner employee experience.")})]})})]}):l.jsx(CM,{projects:i.projects,clients:i.clients,users:i.users,leads:i.leads,surveys:i.surveys,loadData:g,isRTL:n,t:e,counts:i.counts})}var nS="Popover",[mW,SXe]=ps(nS,[Mp]),Tx=Mp(),[vpe,td]=mW(nS),pW=e=>{const{__scopePopover:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,c=Tx(r),u=y.useRef(null),[d,f]=y.useState(!1),[h,m]=xc({prop:a,defaultProp:s??!1,onChange:i,caller:nS});return l.jsx(YA,{...c,children:l.jsx(vpe,{scope:r,contentId:ua(),triggerRef:u,open:h,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>f(!0),[]),onCustomAnchorRemove:y.useCallback(()=>f(!1),[]),modal:o,children:n})})};pW.displayName=nS;var gW="PopoverAnchor",xpe=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=td(gW,n),i=Tx(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=s;return y.useEffect(()=>(o(),()=>c()),[o,c]),l.jsx(B_,{...i,...a,ref:r})});xpe.displayName=gW;var vW="PopoverTrigger",xW=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=td(vW,n),i=Tx(n),o=Wt(r,s.triggerRef),c=l.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SW(s.open),...a,ref:o,onClick:nt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:l.jsx(B_,{asChild:!0,...i,children:c})});xW.displayName=vW;var SO="PopoverPortal",[ype,wpe]=mW(SO,{forceMount:void 0}),yW=e=>{const{__scopePopover:r,forceMount:n,children:a,container:s}=e,i=td(SO,r);return l.jsx(ype,{scope:r,forceMount:n,children:l.jsx(za,{present:n||i.open,children:l.jsx(wx,{asChild:!0,container:s,children:a})})})};yW.displayName=SO;var Hm="PopoverContent",wW=y.forwardRef((e,r)=>{const n=wpe(Hm,e.__scopePopover),{forceMount:a=n.forceMount,...s}=e,i=td(Hm,e.__scopePopover);return l.jsx(za,{present:a||i.open,children:i.modal?l.jsx(_pe,{...s,ref:r}):l.jsx(Spe,{...s,ref:r})})});wW.displayName=Hm;var bpe=Lu("PopoverContent.RemoveScroll"),_pe=y.forwardRef((e,r)=>{const n=td(Hm,e.__scopePopover),a=y.useRef(null),s=Wt(r,a),i=y.useRef(!1);return y.useEffect(()=>{const o=a.current;if(o)return U_(o)},[]),l.jsx(bx,{as:bpe,allowPinchZoom:!0,children:l.jsx(bW,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),i.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:nt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Spe=y.forwardRef((e,r)=>{const n=td(Hm,e.__scopePopover),a=y.useRef(!1),s=y.useRef(!1);return l.jsx(bW,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bW=y.forwardRef((e,r)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,...h}=e,m=td(Hm,n),p=Tx(n);return M_(),l.jsx(xx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(vx,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(XA,{"data-state":SW(m.open),role:"dialog",id:m.contentId,...p,...h,ref:r,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_W="PopoverClose",jpe=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=td(_W,n);return l.jsx(mt.button,{type:"button",...a,ref:r,onClick:nt(e.onClick,()=>s.onOpenChange(!1))})});jpe.displayName=_W;var kpe="PopoverArrow",Npe=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=Tx(n);return l.jsx(JA,{...s,...a,ref:r})});Npe.displayName=kpe;function SW(e){return e?"open":"closed"}var Epe=pW,Cpe=xW,Tpe=yW,jW=wW;const ba=Epe,_a=Cpe,na=y.forwardRef(({className:e,align:r="center",sideOffset:n=4,...a},s)=>l.jsx(Tpe,{children:l.jsx(jW,{ref:s,align:r,sideOffset:n,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));na.displayName=jW.displayName;const Ape={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},Ope=(e,r,n)=>{const a=Ape[e];let s;return typeof a=="string"?s=a:r===1?s=a.one:r===2?s=a.two:r<=10?s=a.threeToTen.replace("{{count}}",String(r)):s=a.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+s:" "+s:s},Ppe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Dpe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Rpe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ipe={date:Zh({formats:Ppe,defaultWidth:"full"}),time:Zh({formats:Dpe,defaultWidth:"full"}),dateTime:Zh({formats:Rpe,defaultWidth:"full"})},Mpe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},Fpe=e=>Mpe[e],Lpe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},$pe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Bpe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Upe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Vpe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},zpe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},Wpe=e=>String(e),Hpe={ordinalNumber:Wpe,era:nl({values:Lpe,defaultWidth:"wide"}),quarter:nl({values:$pe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nl({values:Bpe,defaultWidth:"wide"}),day:nl({values:Upe,defaultWidth:"wide"}),dayPeriod:nl({values:Vpe,defaultWidth:"wide",formattingValues:zpe,defaultFormattingWidth:"wide"})},qpe=/^(\d+)(th|st|nd|rd)?/i,Kpe=/\d+/i,Gpe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},Ype={any:[//,//]},Xpe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},Jpe={any:[/1/i,/2/i,/3/i,/4/i]},Qpe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},Zpe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},e0e={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},t0e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},r0e={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},n0e={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},a0e={ordinalNumber:BU({matchPattern:qpe,parsePattern:Kpe,valueCallback:e=>parseInt(e,10)}),era:al({matchPatterns:Gpe,defaultMatchWidth:"wide",parsePatterns:Ype,defaultParseWidth:"any"}),quarter:al({matchPatterns:Xpe,defaultMatchWidth:"wide",parsePatterns:Jpe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:al({matchPatterns:Qpe,defaultMatchWidth:"wide",parsePatterns:Zpe,defaultParseWidth:"any"}),day:al({matchPatterns:e0e,defaultMatchWidth:"wide",parsePatterns:t0e,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:r0e,defaultMatchWidth:"any",parsePatterns:n0e,defaultParseWidth:"any"})},s0e={code:"ar",formatDistance:Ope,formatLong:Ipe,formatRelative:Fpe,localize:Hpe,match:a0e,options:{weekStartsOn:6,firstWeekContainsDate:1}};var At=function(){return At=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},At.apply(this,arguments)};function i0e(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function kW(e,r,n){for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}function Ax(e){return e.mode==="multiple"}function Ox(e){return e.mode==="range"}function aS(e){return e.mode==="single"}var o0e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function l0e(e,r){return us(e,"LLLL y",r)}function c0e(e,r){return us(e,"d",r)}function u0e(e,r){return us(e,"LLLL",r)}function d0e(e){return"".concat(e)}function f0e(e,r){return us(e,"cccccc",r)}function h0e(e,r){return us(e,"yyyy",r)}var m0e=Object.freeze({__proto__:null,formatCaption:l0e,formatDay:c0e,formatMonthCaption:u0e,formatWeekNumber:d0e,formatWeekdayName:f0e,formatYearCaption:h0e}),p0e=function(e,r,n){return us(e,"do MMMM (EEEE)",n)},g0e=function(){return"Month: "},v0e=function(){return"Go to next month"},x0e=function(){return"Go to previous month"},y0e=function(e,r){return us(e,"cccc",r)},w0e=function(e){return"Week n. ".concat(e)},b0e=function(){return"Year: "},_0e=Object.freeze({__proto__:null,labelDay:p0e,labelMonthDropdown:g0e,labelNext:v0e,labelPrevious:x0e,labelWeekNumber:w0e,labelWeekday:y0e,labelYearDropdown:b0e});function S0e(){var e="buttons",r=o0e,n=AA,a={},s={},i=1,o={},c=new Date;return{captionLayout:e,classNames:r,formatters:m0e,labels:_0e,locale:n,modifiersClassNames:a,modifiers:s,numberOfMonths:i,styles:o,today:c,mode:"default"}}function j0e(e){var r=e.fromYear,n=e.toYear,a=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return a?i=Ts(a):r&&(i=new Date(r,0,1)),s?o=A_(s):n&&(o=new Date(n,11,31)),{fromDate:i?Rm(i):void 0,toDate:o?Rm(o):void 0}}var NW=y.createContext(void 0);function k0e(e){var r,n=e.initialProps,a=S0e(),s=j0e(n),i=s.fromDate,o=s.toDate,c=(r=n.captionLayout)!==null&&r!==void 0?r:a.captionLayout;c!=="buttons"&&(!i||!o)&&(c="buttons");var u;(aS(n)||Ax(n)||Ox(n))&&(u=n.onSelect);var d=At(At(At({},a),n),{captionLayout:c,classNames:At(At({},a.classNames),n.classNames),components:At({},n.components),formatters:At(At({},a.formatters),n.formatters),fromDate:i,labels:At(At({},a.labels),n.labels),mode:n.mode||a.mode,modifiers:At(At({},a.modifiers),n.modifiers),modifiersClassNames:At(At({},a.modifiersClassNames),n.modifiersClassNames),onSelect:u,styles:At(At({},a.styles),n.styles),toDate:o});return l.jsx(NW.Provider,{value:d,children:e.children})}function $r(){var e=y.useContext(NW);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function EW(e){var r=$r(),n=r.locale,a=r.classNames,s=r.styles,i=r.formatters.formatCaption;return l.jsx("div",{className:a.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function N0e(e){return l.jsx("svg",At({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function CW(e){var r,n,a=e.onChange,s=e.value,i=e.children,o=e.caption,c=e.className,u=e.style,d=$r(),f=(n=(r=d.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&n!==void 0?n:N0e;return l.jsxs("div",{className:c,style:u,children:[l.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:a,children:i}),l.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,l.jsx(f,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function E0e(e){var r,n=$r(),a=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,c=n.formatters.formatMonthCaption,u=n.classNames,d=n.components,f=n.labels.labelMonthDropdown;if(!a)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var h=[];if(Jse(a,s))for(var m=Ts(a),p=a.getMonth();p<=s.getMonth();p++)h.push(ik(m,p));else for(var m=Ts(new Date),p=0;p<=11;p++)h.push(ik(m,p));var v=function(x){var b=Number(x.target.value),w=ik(Ts(e.displayMonth),b);e.onChange(w)},g=(r=d==null?void 0:d.Dropdown)!==null&&r!==void 0?r:CW;return l.jsx(g,{name:"months","aria-label":f(),className:u.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:o}),children:h.map(function(x){return l.jsx("option",{value:x.getMonth(),children:c(x,{locale:o})},x.getMonth())})})}function C0e(e){var r,n=e.displayMonth,a=$r(),s=a.fromDate,i=a.toDate,o=a.locale,c=a.styles,u=a.classNames,d=a.components,f=a.formatters.formatYearCaption,h=a.labels.labelYearDropdown,m=[];if(!s)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});for(var p=s.getFullYear(),v=i.getFullYear(),g=p;g<=v;g++)m.push(fI(LU(new Date),g));var x=function(w){var _=fI(Ts(n),Number(w.target.value));e.onChange(_)},b=(r=d==null?void 0:d.Dropdown)!==null&&r!==void 0?r:CW;return l.jsx(b,{name:"years","aria-label":h(),className:u.dropdown_year,style:c.dropdown_year,onChange:x,value:n.getFullYear(),caption:f(n,{locale:o}),children:m.map(function(w){return l.jsx("option",{value:w.getFullYear(),children:f(w,{locale:o})},w.getFullYear())})})}function T0e(e,r){var n=y.useState(e),a=n[0],s=n[1],i=r===void 0?a:r;return[i,s]}function A0e(e){var r=e.month,n=e.defaultMonth,a=e.today,s=r||n||a||new Date,i=e.toDate,o=e.fromDate,c=e.numberOfMonths,u=c===void 0?1:c;if(i&&Mm(i,s)<0){var d=-1*(u-1);s=Co(i,d)}return o&&Mm(s,o)<0&&(s=o),Ts(s)}function O0e(){var e=$r(),r=A0e(e),n=T0e(r,e.month),a=n[0],s=n[1],i=function(o){var c;if(!e.disableNavigation){var u=Ts(o);s(u),(c=e.onMonthChange)===null||c===void 0||c.call(e,u)}};return[a,i]}function P0e(e,r){for(var n=r.reverseMonths,a=r.numberOfMonths,s=Ts(e),i=Ts(Co(s,a)),o=Mm(i,s),c=[],u=0;u<o;u++){var d=Co(s,u);c.push(d)}return n&&(c=c.reverse()),c}function D0e(e,r){if(!r.disableNavigation){var n=r.toDate,a=r.pagedNavigation,s=r.numberOfMonths,i=s===void 0?1:s,o=a?i:1,c=Ts(e);if(!n)return Co(c,o);var u=Mm(n,e);if(!(u<i))return Co(c,o)}}function R0e(e,r){if(!r.disableNavigation){var n=r.fromDate,a=r.pagedNavigation,s=r.numberOfMonths,i=s===void 0?1:s,o=a?i:1,c=Ts(e);if(!n)return Co(c,-o);var u=Mm(c,n);if(!(u<=0))return Co(c,-o)}}var TW=y.createContext(void 0);function I0e(e){var r=$r(),n=O0e(),a=n[0],s=n[1],i=P0e(a,r),o=D0e(a,r),c=R0e(a,r),u=function(h){return i.some(function(m){return OA(h,m)})},d=function(h,m){u(h)||(m&&HU(h,m)?s(Co(h,1+r.numberOfMonths*-1)):s(h))},f={currentMonth:a,displayMonths:i,goToMonth:s,goToDate:d,previousMonth:c,nextMonth:o,isDateDisplayed:u};return l.jsx(TW.Provider,{value:f,children:e.children})}function Px(){var e=y.useContext(TW);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function TM(e){var r,n=$r(),a=n.classNames,s=n.styles,i=n.components,o=Px().goToMonth,c=function(f){o(Co(f,e.displayIndex?-e.displayIndex:0))},u=(r=i==null?void 0:i.CaptionLabel)!==null&&r!==void 0?r:EW,d=l.jsx(u,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:a.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:a.vhidden,children:d}),l.jsx(E0e,{onChange:c,displayMonth:e.displayMonth}),l.jsx(C0e,{onChange:c,displayMonth:e.displayMonth})]})}function M0e(e){return l.jsx("svg",At({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function F0e(e){return l.jsx("svg",At({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var L1=y.forwardRef(function(e,r){var n=$r(),a=n.classNames,s=n.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var o=i.join(" "),c=At(At({},s.button_reset),s.button);return e.style&&Object.assign(c,e.style),l.jsx("button",At({},e,{ref:r,type:"button",className:o,style:c}))});function L0e(e){var r,n,a=$r(),s=a.dir,i=a.locale,o=a.classNames,c=a.styles,u=a.labels,d=u.labelPrevious,f=u.labelNext,h=a.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var m=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),v=f(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),x=(r=h==null?void 0:h.IconRight)!==null&&r!==void 0?r:F0e,b=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:M0e;return l.jsxs("div",{className:o.nav,style:c.nav,children:[!e.hidePrevious&&l.jsx(L1,{name:"previous-month","aria-label":m,className:p,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(x,{className:o.nav_icon,style:c.nav_icon}):l.jsx(b,{className:o.nav_icon,style:c.nav_icon})}),!e.hideNext&&l.jsx(L1,{name:"next-month","aria-label":v,className:g,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(b,{className:o.nav_icon,style:c.nav_icon}):l.jsx(x,{className:o.nav_icon,style:c.nav_icon})})]})}function AM(e){var r=$r().numberOfMonths,n=Px(),a=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,c=o.findIndex(function(v){return OA(e.displayMonth,v)}),u=c===0,d=c===o.length-1,f=r>1&&(u||!d),h=r>1&&(d||!u),m=function(){a&&i(a)},p=function(){s&&i(s)};return l.jsx(L0e,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:h,nextMonth:s,previousMonth:a,onPreviousClick:m,onNextClick:p})}function $0e(e){var r,n=$r(),a=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,c=n.components,u=(r=c==null?void 0:c.CaptionLabel)!==null&&r!==void 0?r:EW,d;return s?d=l.jsx(u,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=l.jsx(TM,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=l.jsxs(l.Fragment,{children:[l.jsx(TM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(AM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=l.jsxs(l.Fragment,{children:[l.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(AM,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:a.caption,style:i.caption,children:d})}function B0e(e){var r=$r(),n=r.footer,a=r.styles,s=r.classNames.tfoot;return n?l.jsx("tfoot",{className:s,style:a.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function U0e(e,r,n){for(var a=n?pf(new Date):bl(new Date,{locale:e,weekStartsOn:r}),s=[],i=0;i<7;i++){var o=Qa(a,i);s.push(o)}return s}function V0e(){var e=$r(),r=e.classNames,n=e.styles,a=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,c=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,d=U0e(s,i,o);return l.jsxs("tr",{style:n.head_row,className:r.head_row,children:[a&&l.jsx("td",{style:n.head_cell,className:r.head_cell}),d.map(function(f,h){return l.jsx("th",{scope:"col",className:r.head_cell,style:n.head_cell,"aria-label":u(f,{locale:s}),children:c(f,{locale:s})},h)})]})}function z0e(){var e,r=$r(),n=r.classNames,a=r.styles,s=r.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:V0e;return l.jsx("thead",{style:a.head,className:n.head,children:l.jsx(i,{})})}function W0e(e){var r=$r(),n=r.locale,a=r.formatters.formatDay;return l.jsx(l.Fragment,{children:a(e.date,{locale:n})})}var jO=y.createContext(void 0);function H0e(e){if(!Ax(e.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return l.jsx(jO.Provider,{value:r,children:e.children})}return l.jsx(q0e,{initialProps:e.initialProps,children:e.children})}function q0e(e){var r=e.initialProps,n=e.children,a=r.selected,s=r.min,i=r.max,o=function(d,f,h){var m,p;(m=r.onDayClick)===null||m===void 0||m.call(r,d,f,h);var v=!!(f.selected&&s&&(a==null?void 0:a.length)===s);if(!v){var g=!!(!f.selected&&i&&(a==null?void 0:a.length)===i);if(!g){var x=a?kW([],a):[];if(f.selected){var b=x.findIndex(function(w){return js(d,w)});x.splice(b,1)}else x.push(d);(p=r.onSelect)===null||p===void 0||p.call(r,x,d,f,h)}}},c={disabled:[]};a&&c.disabled.push(function(d){var f=i&&a.length>i-1,h=a.some(function(m){return js(m,d)});return!!(f&&!h)});var u={selected:a,onDayClick:o,modifiers:c};return l.jsx(jO.Provider,{value:u,children:n})}function kO(){var e=y.useContext(jO);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function K0e(e,r){var n=r||{},a=n.from,s=n.to;return a&&s?js(s,e)&&js(a,e)?void 0:js(s,e)?{from:s,to:void 0}:js(a,e)?void 0:z2(a,e)?{from:e,to:s}:{from:a,to:e}:s?z2(e,s)?{from:s,to:e}:{from:e,to:s}:a?HU(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var NO=y.createContext(void 0);function G0e(e){if(!Ox(e.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(NO.Provider,{value:r,children:e.children})}return l.jsx(Y0e,{initialProps:e.initialProps,children:e.children})}function Y0e(e){var r=e.initialProps,n=e.children,a=r.selected,s=a||{},i=s.from,o=s.to,c=r.min,u=r.max,d=function(p,v,g){var x,b;(x=r.onDayClick)===null||x===void 0||x.call(r,p,v,g);var w=K0e(p,a);(b=r.onSelect)===null||b===void 0||b.call(r,w,p,v,g)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],js(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),c&&(i&&!o&&f.disabled.push({after:sk(i,c-1),before:Qa(i,c-1)}),i&&o&&f.disabled.push({after:i,before:Qa(i,c-1)}),!i&&o&&f.disabled.push({after:sk(o,c-1),before:Qa(o,c-1)})),u){if(i&&!o&&(f.disabled.push({before:Qa(i,-u+1)}),f.disabled.push({after:Qa(i,u-1)})),i&&o){var h=ol(o,i)+1,m=u-h;f.disabled.push({before:sk(i,m)}),f.disabled.push({after:Qa(o,m)})}!i&&o&&(f.disabled.push({before:Qa(o,-u+1)}),f.disabled.push({after:Qa(o,u-1)}))}return l.jsx(NO.Provider,{value:{selected:a,onDayClick:d,modifiers:f},children:n})}function EO(){var e=y.useContext(NO);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function $w(e){return Array.isArray(e)?kW([],e):e!==void 0?[e]:[]}function X0e(e){var r={};return Object.entries(e).forEach(function(n){var a=n[0],s=n[1];r[a]=$w(s)}),r}var Mo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Mo||(Mo={}));var J0e=Mo.Selected,Ul=Mo.Disabled,Q0e=Mo.Hidden,Z0e=Mo.Today,Dk=Mo.RangeEnd,Rk=Mo.RangeMiddle,Ik=Mo.RangeStart,ege=Mo.Outside;function tge(e,r,n){var a,s=(a={},a[J0e]=$w(e.selected),a[Ul]=$w(e.disabled),a[Q0e]=$w(e.hidden),a[Z0e]=[e.today],a[Dk]=[],a[Rk]=[],a[Ik]=[],a[ege]=[],a);return e.fromDate&&s[Ul].push({before:e.fromDate}),e.toDate&&s[Ul].push({after:e.toDate}),Ax(e)?s[Ul]=s[Ul].concat(r.modifiers[Ul]):Ox(e)&&(s[Ul]=s[Ul].concat(n.modifiers[Ul]),s[Ik]=n.modifiers[Ik],s[Rk]=n.modifiers[Rk],s[Dk]=n.modifiers[Dk]),s}var AW=y.createContext(void 0);function rge(e){var r=$r(),n=kO(),a=EO(),s=tge(r,n,a),i=X0e(r.modifiers),o=At(At({},s),i);return l.jsx(AW.Provider,{value:o,children:e.children})}function OW(){var e=y.useContext(AW);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function nge(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function age(e){return!!(e&&typeof e=="object"&&"from"in e)}function sge(e){return!!(e&&typeof e=="object"&&"after"in e)}function ige(e){return!!(e&&typeof e=="object"&&"before"in e)}function oge(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function lge(e,r){var n,a=r.from,s=r.to;if(a&&s){var i=ol(s,a)<0;i&&(n=[s,a],a=n[0],s=n[1]);var o=ol(e,a)>=0&&ol(s,e)>=0;return o}return s?js(s,e):a?js(a,e):!1}function cge(e){return CA(e)}function uge(e){return Array.isArray(e)&&e.every(CA)}function dge(e,r){return r.some(function(n){if(typeof n=="boolean")return n;if(cge(n))return js(e,n);if(uge(n))return n.includes(e);if(age(n))return lge(e,n);if(oge(n))return n.dayOfWeek.includes(e.getDay());if(nge(n)){var a=ol(n.before,e),s=ol(n.after,e),i=a>0,o=s<0,c=z2(n.before,n.after);return c?o&&i:i||o}return sge(n)?ol(e,n.after)>0:ige(n)?ol(n.before,e)>0:typeof n=="function"?n(e):!1})}function CO(e,r,n){var a=Object.keys(r).reduce(function(i,o){var c=r[o];return dge(e,c)&&i.push(o),i},[]),s={};return a.forEach(function(i){return s[i]=!0}),n&&!OA(e,n)&&(s.outside=!0),s}function fge(e,r){for(var n=Ts(e[0]),a=A_(e[e.length-1]),s,i,o=n;o<=a;){var c=CO(o,r),u=!c.disabled&&!c.hidden;if(!u){o=Qa(o,1);continue}if(c.selected)return o;c.today&&!i&&(i=o),s||(s=o),o=Qa(o,1)}return i||s}var hge=365;function PW(e,r){var n=r.moveBy,a=r.direction,s=r.context,i=r.modifiers,o=r.retry,c=o===void 0?{count:0,lastFocused:e}:o,u=s.weekStartsOn,d=s.fromDate,f=s.toDate,h=s.locale,m={day:Qa,week:V2,month:Co,year:$ae,startOfWeek:function(x){return s.ISOWeek?pf(x):bl(x,{locale:h,weekStartsOn:u})},endOfWeek:function(x){return s.ISOWeek?$U(x):TA(x,{locale:h,weekStartsOn:u})}},p=m[n](e,a==="after"?1:-1);a==="before"&&d?p=Bae([d,p]):a==="after"&&f&&(p=Uae([f,p]));var v=!0;if(i){var g=CO(p,i);v=!g.disabled&&!g.hidden}return v?p:c.count>hge?c.lastFocused:PW(p,{moveBy:n,direction:a,context:s,modifiers:i,retry:At(At({},c),{count:c.count+1})})}var DW=y.createContext(void 0);function mge(e){var r=Px(),n=OW(),a=y.useState(),s=a[0],i=a[1],o=y.useState(),c=o[0],u=o[1],d=fge(r.displayMonths,n),f=s??(c&&r.isDateDisplayed(c))?c:d,h=function(){u(s),i(void 0)},m=function(x){i(x)},p=$r(),v=function(x,b){if(s){var w=PW(s,{moveBy:x,direction:b,context:p,modifiers:n});js(s,w)||(r.goToDate(w,s),m(w))}},g={focusedDay:s,focusTarget:f,blur:h,focus:m,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return l.jsx(DW.Provider,{value:g,children:e.children})}function TO(){var e=y.useContext(DW);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function pge(e,r){var n=OW(),a=CO(e,n,r);return a}var AO=y.createContext(void 0);function gge(e){if(!aS(e.initialProps)){var r={selected:void 0};return l.jsx(AO.Provider,{value:r,children:e.children})}return l.jsx(vge,{initialProps:e.initialProps,children:e.children})}function vge(e){var r=e.initialProps,n=e.children,a=function(i,o,c){var u,d,f;if((u=r.onDayClick)===null||u===void 0||u.call(r,i,o,c),o.selected&&!r.required){(d=r.onSelect)===null||d===void 0||d.call(r,void 0,i,o,c);return}(f=r.onSelect)===null||f===void 0||f.call(r,i,i,o,c)},s={selected:r.selected,onDayClick:a};return l.jsx(AO.Provider,{value:s,children:n})}function RW(){var e=y.useContext(AO);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function xge(e,r){var n=$r(),a=RW(),s=kO(),i=EO(),o=TO(),c=o.focusDayAfter,u=o.focusDayBefore,d=o.focusWeekAfter,f=o.focusWeekBefore,h=o.blur,m=o.focus,p=o.focusMonthBefore,v=o.focusMonthAfter,g=o.focusYearBefore,x=o.focusYearAfter,b=o.focusStartOfWeek,w=o.focusEndOfWeek,_=function(V){var L,M,Y,Z;aS(n)?(L=a.onDayClick)===null||L===void 0||L.call(a,e,r,V):Ax(n)?(M=s.onDayClick)===null||M===void 0||M.call(s,e,r,V):Ox(n)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,e,r,V):(Z=n.onDayClick)===null||Z===void 0||Z.call(n,e,r,V)},S=function(V){var L;m(e),(L=n.onDayFocus)===null||L===void 0||L.call(n,e,r,V)},j=function(V){var L;h(),(L=n.onDayBlur)===null||L===void 0||L.call(n,e,r,V)},N=function(V){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,e,r,V)},k=function(V){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,e,r,V)},E=function(V){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,e,r,V)},C=function(V){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,e,r,V)},O=function(V){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,e,r,V)},D=function(V){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,e,r,V)},T=function(V){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,e,r,V)},z=function(V){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,e,r,V)},q=function(V){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,e,r,V)},F=function(V){var L;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?c():u();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?u():c();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),d();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),f();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?g():p();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?x():v();break;case"Home":V.preventDefault(),V.stopPropagation(),b();break;case"End":V.preventDefault(),V.stopPropagation(),w();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,e,r,V)},I={onClick:_,onFocus:S,onBlur:j,onKeyDown:F,onKeyUp:q,onMouseEnter:N,onMouseLeave:k,onPointerEnter:E,onPointerLeave:C,onTouchCancel:O,onTouchEnd:D,onTouchMove:T,onTouchStart:z};return I}function yge(){var e=$r(),r=RW(),n=kO(),a=EO(),s=aS(e)?r.selected:Ax(e)?n.selected:Ox(e)?a.selected:void 0;return s}function wge(e){return Object.values(Mo).includes(e)}function bge(e,r){var n=[e.classNames.day];return Object.keys(r).forEach(function(a){var s=e.modifiersClassNames[a];if(s)n.push(s);else if(wge(a)){var i=e.classNames["day_".concat(a)];i&&n.push(i)}}),n}function _ge(e,r){var n=At({},e.styles.day);return Object.keys(r).forEach(function(a){var s;n=At(At({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[a])}),n}function Sge(e,r,n){var a,s,i,o=$r(),c=TO(),u=pge(e,r),d=xge(e,u),f=yge(),h=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var N;u.outside||c.focusedDay&&h&&js(c.focusedDay,e)&&((N=n.current)===null||N===void 0||N.focus())},[c.focusedDay,e,n,h,u.outside]);var m=bge(o,u).join(" "),p=_ge(o,u),v=!!(u.outside&&!o.showOutsideDays||u.hidden),g=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:W0e,x=l.jsx(g,{date:e,displayMonth:r,activeModifiers:u}),b={style:p,className:m,children:x,role:"gridcell"},w=c.focusTarget&&js(c.focusTarget,e)&&!u.outside,_=c.focusedDay&&js(c.focusedDay,e),S=At(At(At({},b),(a={disabled:u.disabled,role:"gridcell"},a["aria-selected"]=u.selected,a.tabIndex=_||w?0:-1,a)),d),j={isButton:h,isHidden:v,activeModifiers:u,selectedDays:f,buttonProps:S,divProps:b};return j}function jge(e){var r=y.useRef(null),n=Sge(e.date,e.displayMonth,r);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(L1,At({name:"day",ref:r},n.buttonProps)):l.jsx("div",At({},n.divProps))}function kge(e){var r=e.number,n=e.dates,a=$r(),s=a.onWeekNumberClick,i=a.styles,o=a.classNames,c=a.locale,u=a.labels.labelWeekNumber,d=a.formatters.formatWeekNumber,f=d(Number(r),{locale:c});if(!s)return l.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var h=u(Number(r),{locale:c}),m=function(p){s(r,n,p)};return l.jsx(L1,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:m,children:f})}function Nge(e){var r,n,a=$r(),s=a.styles,i=a.classNames,o=a.showWeekNumber,c=a.components,u=(r=c==null?void 0:c.Day)!==null&&r!==void 0?r:jge,d=(n=c==null?void 0:c.WeekNumber)!==null&&n!==void 0?n:kge,f;return o&&(f=l.jsx("td",{className:i.cell,style:s.cell,children:l.jsx(d,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:i.row,style:s.row,children:[f,e.dates.map(function(h){return l.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:l.jsx(u,{displayMonth:e.displayMonth,date:h})},Gse(h))})]})}function OM(e,r,n){for(var a=n!=null&&n.ISOWeek?$U(r):TA(r,n),s=n!=null&&n.ISOWeek?pf(e):bl(e,n),i=ol(a,s),o=[],c=0;c<=i;c++)o.push(Qa(s,c));var u=o.reduce(function(d,f){var h=n!=null&&n.ISOWeek?UU(f):zU(f,n),m=d.find(function(p){return p.weekNumber===h});return m?(m.dates.push(f),d):(d.push({weekNumber:h,dates:[f]}),d)},[]);return u}function Ege(e,r){var n=OM(Ts(e),A_(e),r);if(r!=null&&r.useFixedWeeks){var a=Xse(e,r);if(a<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=V2(i,6-a),c=OM(V2(i,1),o,r);n.push.apply(n,c)}}return n}function Cge(e){var r,n,a,s=$r(),i=s.locale,o=s.classNames,c=s.styles,u=s.hideHead,d=s.fixedWeeks,f=s.components,h=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,v=Ege(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),g=(r=f==null?void 0:f.Head)!==null&&r!==void 0?r:z0e,x=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:Nge,b=(a=f==null?void 0:f.Footer)!==null&&a!==void 0?a:B0e;return l.jsxs("table",{id:e.id,className:o.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&l.jsx(g,{}),l.jsx("tbody",{className:o.tbody,style:c.tbody,children:v.map(function(w){return l.jsx(x,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),l.jsx(b,{displayMonth:e.displayMonth})]})}function Tge(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Age=Tge()?y.useLayoutEffect:y.useEffect,Mk=!1,Oge=0;function PM(){return"react-day-picker-".concat(++Oge)}function Pge(e){var r,n=e??(Mk?PM():null),a=y.useState(n),s=a[0],i=a[1];return Age(function(){s===null&&i(PM())},[]),y.useEffect(function(){Mk===!1&&(Mk=!0)},[]),(r=e??s)!==null&&r!==void 0?r:void 0}function Dge(e){var r,n,a=$r(),s=a.dir,i=a.classNames,o=a.styles,c=a.components,u=Px().displayMonths,d=Pge(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),f=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],m=o.month,p=e.displayIndex===0,v=e.displayIndex===u.length-1,g=!p&&!v;s==="rtl"&&(r=[p,v],v=r[0],p=r[1]),p&&(h.push(i.caption_start),m=At(At({},m),o.caption_start)),v&&(h.push(i.caption_end),m=At(At({},m),o.caption_end)),g&&(h.push(i.caption_between),m=At(At({},m),o.caption_between));var x=(n=c==null?void 0:c.Caption)!==null&&n!==void 0?n:$0e;return l.jsxs("div",{className:h.join(" "),style:m,children:[l.jsx(x,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Cge,{id:f,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function Rge(e){var r=$r(),n=r.classNames,a=r.styles;return l.jsx("div",{className:n.months,style:a.months,children:e.children})}function Ige(e){var r,n,a=e.initialProps,s=$r(),i=TO(),o=Px(),c=y.useState(!1),u=c[0],d=c[1];y.useEffect(function(){s.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),d(!0)))},[s.initialFocus,u,i.focus,i.focusTarget,i]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var h=At(At({},s.styles.root),s.style),m=Object.keys(a).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var x;return At(At({},v),(x={},x[g]=a[g],x))},{}),p=(n=(r=a.components)===null||r===void 0?void 0:r.Months)!==null&&n!==void 0?n:Rge;return l.jsx("div",At({className:f.join(" "),style:h,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},m,{children:l.jsx(p,{children:o.displayMonths.map(function(v,g){return l.jsx(Dge,{displayIndex:g,displayMonth:v},g)})})}))}function Mge(e){var r=e.children,n=i0e(e,["children"]);return l.jsx(k0e,{initialProps:n,children:l.jsx(I0e,{children:l.jsx(gge,{initialProps:n,children:l.jsx(H0e,{initialProps:n,children:l.jsx(G0e,{initialProps:n,children:l.jsx(rge,{children:l.jsx(mge,{children:r})})})})})})})}function Fge(e){return l.jsx(Mge,At({},e,{children:l.jsx(Ige,{initialProps:e})}))}function IW({className:e,classNames:r,showOutsideDays:n=!0,...a}){return l.jsx(Fge,{showOutsideDays:n,className:ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve($m({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve($m({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...s})=>l.jsx(wie,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(P_,{className:"h-4 w-4"})},...a})}IW.displayName="Calendar";function OO({onSearch:e,onFilterStatus:r,onFilterAssignee:n,onFilterDateRange:a,users:s=[],statuses:i=[],placeholder:o,className:c}){const{t:u}=qt(),{currentLanguage:d}=Va(),[f,h]=y.useState(""),[m,p]=y.useState({from:void 0,to:void 0}),v=d==="ar"?s0e:void 0;y.useEffect(()=>{const b=setTimeout(()=>{e(f)},300);return()=>clearTimeout(b)},[f,e]);const g=b=>{p(b),a&&a(b)},x=()=>{h(""),p({from:void 0,to:void 0}),r&&r("all"),n&&n("all"),a&&a({from:void 0,to:void 0})};return l.jsxs("div",{className:ve("flex flex-col sm:flex-row gap-3 mb-6",c),children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(zs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),l.jsx(We,{placeholder:o||u("common.search","Search..."),value:f,onChange:b=>h(b.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[r&&i.length>0&&l.jsxs(jt,{onValueChange:r,children:[l.jsxs(_t,{className:"w-[140px]",children:[l.jsx(Nie,{className:"mr-2 h-4 w-4"}),l.jsx(kt,{placeholder:u("common.status","Status")})]}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:u("common.all","All")}),i.map(b=>l.jsx(Pe,{value:b.value,children:b.label},b.value))]})]}),n&&s.length>0&&l.jsxs(jt,{onValueChange:n,children:[l.jsxs(_t,{className:"w-[140px]",children:[l.jsx(Lge,{className:"mr-2 h-4 w-4"}),l.jsx(kt,{placeholder:u("common.assignee","Assignee")})]}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:u("common.all","All")}),s.filter(b=>["employee","admin","manager","team_leader"].includes(b.user_role)).map(b=>l.jsx(Pe,{value:b.user_id.toString(),children:Ae(b,"user_name")},b.user_id))]})]}),a&&l.jsxs(ba,{children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",className:ve("w-[240px] justify-start text-left font-normal",!m.from&&"text-muted-foreground"),children:[l.jsx(To,{className:"mr-2 h-4 w-4"}),m.from?m.to?l.jsxs(l.Fragment,{children:[us(m.from,"LLL dd, y",{locale:v})," -"," ",us(m.to,"LLL dd, y",{locale:v})]}):us(m.from,"LLL dd, y",{locale:v}):l.jsx("span",{children:u("common.pickDate","Pick a date")})]})}),l.jsx(na,{className:"w-auto p-0",align:"start",children:l.jsx(IW,{initialFocus:!0,mode:"range",defaultMonth:m.from,selected:m,onSelect:g,numberOfMonths:2})})]}),l.jsx(ue,{variant:"ghost",size:"icon",onClick:x,title:u("common.clearFilters","Clear filters"),children:l.jsx(Oo,{className:"h-4 w-4"})})]})]})}function Lge(e){return l.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}var MW="AlertDialog",[$ge,jXe]=ps(MW,[mz]),Cc=mz(),FW=e=>{const{__scopeAlertDialog:r,...n}=e,a=Cc(r);return l.jsx(Z_,{...a,...n,modal:!0})};FW.displayName=MW;var Bge="AlertDialogTrigger",LW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Cc(n);return l.jsx(mO,{...s,...a,ref:r})});LW.displayName=Bge;var Uge="AlertDialogPortal",$W=e=>{const{__scopeAlertDialog:r,...n}=e,a=Cc(r);return l.jsx(eS,{...a,...n})};$W.displayName=Uge;var Vge="AlertDialogOverlay",BW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Cc(n);return l.jsx(Lp,{...s,...a,ref:r})});BW.displayName=Vge;var om="AlertDialogContent",[zge,Wge]=$ge(om),Hge=Soe("AlertDialogContent"),UW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,children:a,...s}=e,i=Cc(n),o=y.useRef(null),c=Wt(r,o),u=y.useRef(null);return l.jsx(Dfe,{contentName:om,titleName:VW,docsSlug:"alert-dialog",children:l.jsx(zge,{scope:n,cancelRef:u,children:l.jsxs($p,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:nt(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=u.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[l.jsx(Hge,{children:a}),l.jsx(Kge,{contentRef:o})]})})})});UW.displayName=om;var VW="AlertDialogTitle",zW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Cc(n);return l.jsx(kx,{...s,...a,ref:r})});zW.displayName=VW;var WW="AlertDialogDescription",HW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Cc(n);return l.jsx(Nx,{...s,...a,ref:r})});HW.displayName=WW;var qge="AlertDialogAction",qW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Cc(n);return l.jsx(tS,{...s,...a,ref:r})});qW.displayName=qge;var KW="AlertDialogCancel",GW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=Wge(KW,n),i=Cc(n),o=Wt(r,s);return l.jsx(tS,{...i,...a,ref:o})});GW.displayName=KW;var Kge=({contentRef:e})=>{const r=`\`${om}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${om}\` by passing a \`${WW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${om}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},Gge=FW,Yge=LW,Xge=$W,YW=BW,XW=UW,JW=qW,QW=GW,ZW=zW,eH=HW;const mi=Gge,wf=Yge,Jge=Xge,tH=y.forwardRef(({className:e,...r},n)=>l.jsx(YW,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));tH.displayName=YW.displayName;const Is=y.forwardRef(({className:e,...r},n)=>l.jsxs(Jge,{children:[l.jsx(tH,{}),l.jsx(XW,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));Is.displayName=XW.displayName;const Ms=({className:e,...r})=>l.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...r});Ms.displayName="AlertDialogHeader";const Fs=({className:e,...r})=>l.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Fs.displayName="AlertDialogFooter";const Ls=y.forwardRef(({className:e,...r},n)=>l.jsx(ZW,{ref:n,className:ve("text-lg font-semibold",e),...r}));Ls.displayName=ZW.displayName;const $s=y.forwardRef(({className:e,...r},n)=>l.jsx(eH,{ref:n,className:ve("text-sm text-muted-foreground",e),...r}));$s.displayName=eH.displayName;const Bs=y.forwardRef(({className:e,...r},n)=>l.jsx(JW,{ref:n,className:ve($m(),e),...r}));Bs.displayName=JW.displayName;const Us=y.forwardRef(({className:e,...r},n)=>l.jsx(QW,{ref:n,className:ve($m({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));Us.displayName=QW.displayName;const da=y.forwardRef(({className:e,...r},n)=>l.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));da.displayName="Textarea";function Dx({stages:e,currentStageId:r,onStageChange:n,children:a}){const s=yn(),i=y.useRef(null),o=e.find(c=>c.id===r)??e[0];return y.useEffect(()=>{s&&i.current&&i.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[o==null?void 0:o.id,s]),s?l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:l.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:kr()?"ltr":"rtl",children:l.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((c,u)=>(kr(),c.id-u.id)).map(c=>{const u=c.id===o.id;return l.jsxs("button",{ref:u?i:null,onClick:()=>n(c.id),className:ve("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",u?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[l.jsx("span",{className:"truncate max-w-[140px]",children:c.name}),l.jsx(ht,{variant:"secondary",className:ve("h-5 min-w-5 px-1.5 text-xs font-semibold",u?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:c.count})]},c.id)})})})}),l.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:l.jsx("div",{className:"p-2",children:a})})]}):l.jsx(l.Fragment,{children:a})}var sS="Tabs",[Qge,kXe]=ps(sS,[K_]),rH=K_(),[Zge,PO]=Qge(sS),nH=y.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:u="automatic",...d}=e,f=gx(c),[h,m]=xc({prop:a,onChange:s,defaultProp:i??"",caller:sS});return l.jsx(Zge,{scope:n,baseId:ua(),value:h,onValueChange:m,orientation:o,dir:f,activationMode:u,children:l.jsx(mt.div,{dir:f,"data-orientation":o,...d,ref:r})})});nH.displayName=sS;var aH="TabsList",sH=y.forwardRef((e,r)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,i=PO(aH,n),o=rH(n);return l.jsx(xV,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:l.jsx(mt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:r})})});sH.displayName=aH;var iH="TabsTrigger",oH=y.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...i}=e,o=PO(iH,n),c=rH(n),u=uH(o.baseId,a),d=dH(o.baseId,a),f=a===o.value;return l.jsx(yV,{asChild:!0,...c,focusable:!s,active:f,children:l.jsx(mt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:r,onMouseDown:nt(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(a):h.preventDefault()}),onKeyDown:nt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(a)}),onFocus:nt(e.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!s&&h&&o.onValueChange(a)})})})});oH.displayName=iH;var lH="TabsContent",cH=y.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,forceMount:s,children:i,...o}=e,c=PO(lH,n),u=uH(c.baseId,a),d=dH(c.baseId,a),f=a===c.value,h=y.useRef(f);return y.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(za,{present:s||f,children:({present:m})=>l.jsx(mt.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!m,id:d,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});cH.displayName=lH;function uH(e,r){return`${e}-trigger-${r}`}function dH(e,r){return`${e}-content-${r}`}var eve=nH,fH=sH,hH=oH,mH=cH;const kl=eve,Fo=y.forwardRef(({className:e,...r},n)=>l.jsx(fH,{ref:n,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));Fo.displayName=fH.displayName;const en=y.forwardRef(({className:e,...r},n)=>l.jsx(hH,{ref:n,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...r}));en.displayName=hH.displayName;const On=y.forwardRef(({className:e,...r},n)=>l.jsx(mH,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));On.displayName=mH.displayName;function DO({relatedType:e,relatedId:r,notes:n,onNotesChange:a}){const{t:s}=qt(),{user:i}=vr(),[o,c]=y.useState(""),[u,d]=y.useState(null),[f,h]=y.useState(""),[m,p]=y.useState(null),[v,g]=y.useState(!1),x=async()=>{if(!(!o.trim()||!(i!=null&&i.id))){g(!0);try{await sm.create({content:o.trim(),related_to_type:e,related_to_id:r,created_by:i.id}),c(""),a()}catch(S){console.error("Failed to create note:",S)}finally{g(!1)}}},b=async S=>{if(f.trim()){g(!0);try{await sm.update(S,f.trim()),d(null),h(""),a()}catch(j){console.error("Failed to update note:",j)}finally{g(!1)}}},w=async()=>{if(m){g(!0);try{await sm.delete(m),p(null),a()}catch(S){console.error("Failed to delete note:",S)}finally{g(!1)}}},_=S=>{if(!S)return"";try{return qse(new Date(S),{addSuffix:!0})}catch{return S}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(da,{value:o,onChange:S=>c(S.target.value),placeholder:s("notes.placeholder"),rows:3,className:"resize-none"}),l.jsxs(ue,{onClick:x,disabled:!o.trim()||v,className:"w-full",children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),s("notes.save")]})]}),l.jsx("div",{className:"space-y-3",children:n.length===0?l.jsx("p",{className:"text-center text-muted-foreground py-8",children:s("notes.noNotes")}):n.map(S=>{var k;const j=u===S.note_id,N=S.created_by===(i==null?void 0:i.id);return l.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(k=S.user)!=null&&k.avatar?l.jsx("img",{src:S.user.avatar,alt:Ae(S.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-xs font-semibold text-primary",children:S.user?Ae(S.user,"user_name")[0]:"?"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:S.user?Ae(S.user,"user_name"):s("notes.unknown")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:_(S.created_at)})]})]}),N&&!j&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{d(S.note_id),h(S.content)},children:l.jsx(Vi,{className:"h-3.5 w-3.5"})}),l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>p(S.note_id),children:l.jsx(wr,{className:"h-3.5 w-3.5"})})]})]}),j?l.jsxs("div",{className:"space-y-2",children:[l.jsx(da,{value:f,onChange:E=>h(E.target.value),rows:3,className:"resize-none"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ue,{size:"sm",onClick:()=>b(S.note_id),disabled:!f.trim()||v,children:[l.jsx(Ao,{className:"h-3.5 w-3.5 mr-1"}),s("notes.save")]}),l.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>{d(null),h("")},children:[l.jsx(Oo,{className:"h-3.5 w-3.5 mr-1"}),s("buttons.cancel")]})]})]}):l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.content})]},S.note_id)})}),l.jsx(mi,{open:!!m,onOpenChange:()=>p(null),children:l.jsxs(Is,{children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:s("notes.delete")}),l.jsx($s,{children:s("notes.deleteConfirmation")})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:s("buttons.cancel")}),l.jsx(Bs,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:s("buttons.delete")})]})]})})]})}function pH({priority:e=3,size:r="sm",showCount:n=!1,className:a}){const s=e||3,i={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return l.jsxs("div",{className:ve("flex items-center gap-0.5",a),children:[[1,2,3,4,5].map(o=>l.jsx(t9,{className:ve(i[r],o<=s?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},o)),n&&l.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",s,"/5)"]})]})}function tve({leadId:e}){const{t:r}=qt(),{isRTL:n}=Va(),{user:a}=vr(),[s,i]=y.useState(null),[o,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,p]=y.useState(""),[v,g]=y.useState([]),[x,b]=y.useState(!0),[w,_]=y.useState(!1),[S,j]=y.useState([]),[N,k]=y.useState([]),[E,C]=y.useState([]),[O,D]=y.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});y.useEffect(()=>{z(),T()},[e]);const T=async()=>{try{const Y=await cn.getAll().then(Z=>Z.filter(A=>A.user_role==="client"));C(Y)}catch(Y){console.error("Failed to load clients:",Y)}},z=async()=>{var Y,Z,A;try{b(!0);const[X,U,H]=await Promise.all([kd.getById(e),as.getByType("leads"),cn.getAll()]);if(i(X),j(U),k(H),!X)return;if(D({lead_name:X.lead_name||"",lead_description:X.lead_description||"",client_user_id:X.client_user_id||"",stage:((Y=X.stage)==null?void 0:Y.toString())||"",assigned_to:X.assigned_to||"",value:((Z=X.value)==null?void 0:Z.toString())||"",currency:X.currency||"SAR",priority:((A=X.priority)==null?void 0:A.toString())||"3",expected_close_date:X.expected_close_date||""}),X.client_user_id){const ae=await cn.getByAuthId(X.client_user_id);c(ae)}if(X.created_by){const ae=H.find(oe=>oe.auth_user_id===X.created_by)||null;d(ae)}if(X.assigned_to){const ae=H.find(oe=>oe.auth_user_id===X.assigned_to)||null;h(ae)}if(X.stage){const ae=U.find(oe=>oe.stage_id===X.stage);ae&&p(Ae(ae,"stage_name"))}q()}catch(X){console.error("Failed to load lead data:",X)}finally{b(!1)}},q=async()=>{try{const Y=await sm.getByRelated("lead",e);g(Y)}catch(Y){console.error("Failed to load notes:",Y)}},F=async()=>{if(s)try{const Y=O.assigned_to&&O.assigned_to!=="unassigned"?O.assigned_to:null,Z=wl({lead_name:O.lead_name,lead_description:O.lead_description||null,client_user_id:O.client_user_id||null,stage:parseInt(O.stage),assigned_to:Y,value:O.value?parseFloat(O.value):null,currency:O.currency,priority:parseInt(O.priority),expected_close_date:O.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await kd.update(s.lead_id,Z);const A={...s,...Z};if(i(A),O.client_user_id){const U=E.find(H=>H.auth_user_id===O.client_user_id)||null;c(U)}if(Y){const U=N.find(H=>H.auth_user_id===Y)||null;h(U)}const X=S.find(U=>U.stage_id===parseInt(O.stage));X&&p(Ae(X,"stage_name")),_(!1)}catch(Y){console.error("Failed to update lead:",Y)}},I=()=>{var Y,Z,A;s&&D({lead_name:s.lead_name||"",lead_description:s.lead_description||"",client_user_id:s.client_user_id||"",stage:((Y=s.stage)==null?void 0:Y.toString())||"",assigned_to:s.assigned_to||"",value:((Z=s.value)==null?void 0:Z.toString())||"",currency:s.currency||"SAR",priority:((A=s.priority)==null?void 0:A.toString())||"3",expected_close_date:s.expected_close_date||""}),_(!1)},V=(Y,Z)=>{if(Y===null)return"-";const A=Z||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:A==="SAR"?"SAR":A}).format(Y)},L=Y=>Y?new Date(Y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(x)return l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!s)return l.jsx("div",{className:"text-center py-12 text-muted-foreground",children:r("leads.notFound")});const M=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager";return l.jsxs("div",{className:"w-full",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:r("leads.leadDetails")}),M&&!w&&l.jsxs(ue,{onClick:()=>_(!0),variant:"outline",size:"sm",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),r("buttons.edit")]}),w&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ue,{onClick:I,variant:"outline",size:"sm",children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),r("buttons.cancel")]}),l.jsxs(ue,{onClick:F,size:"sm",children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),r("buttons.save")]})]})]}),l.jsxs(kl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsx(en,{value:"overview",children:r("common.overview")}),l.jsx(en,{value:"notes",children:r("notes.title")})]}),l.jsx(On,{value:"overview",className:"space-y-4 mt-4",children:w?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"lead_name",children:[r("leads.leadName")," *"]}),l.jsx(We,{id:"lead_name",value:O.lead_name,onChange:Y=>D(Z=>({...Z,lead_name:Y.target.value})),placeholder:r("leads.leadName")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"lead_description",children:r("leads.description")}),l.jsx(da,{id:"lead_description",value:O.lead_description,onChange:Y=>D(Z=>({...Z,lead_description:Y.target.value})),placeholder:r("leads.description"),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.client")}),l.jsxs(jt,{value:O.client_user_id,onValueChange:Y=>D(Z=>({...Z,client_user_id:Y})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:r("leads.selectClient")})}),l.jsx(St,{children:E.filter(Y=>Y.auth_user_id).map(Y=>l.jsx(Pe,{value:Y.auth_user_id,children:Ae(Y,"user_name")},Y.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("common.stage")}),l.jsxs(jt,{value:O.stage,onValueChange:Y=>D(Z=>({...Z,stage:Y})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:r("leads.selectStage")})}),l.jsx(St,{children:S.map(Y=>l.jsx(Pe,{value:Y.stage_id.toString(),children:Ae(Y,"stage_name")},Y.stage_id))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.value")}),l.jsx(We,{type:"number",min:"0",step:"0.01",value:O.value,onChange:Y=>D(Z=>({...Z,value:Y.target.value})),placeholder:"0.00"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.currency")}),l.jsxs(jt,{value:O.currency,onValueChange:Y=>D(Z=>({...Z,currency:Y})),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"SAR",children:"SAR (.)"}),l.jsx(Pe,{value:"USD",children:"USD ($)"}),l.jsx(Pe,{value:"EUR",children:"EUR ()"}),l.jsx(Pe,{value:"GBP",children:"GBP ()"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("common.priority")}),l.jsxs(jt,{value:O.priority,onValueChange:Y=>D(Z=>({...Z,priority:Y})),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsxs(Pe,{value:"1",children:[" ",r("common.veryLow")]}),l.jsxs(Pe,{value:"2",children:[" ",r("common.low")]}),l.jsxs(Pe,{value:"3",children:[" ",r("common.medium")]}),l.jsxs(Pe,{value:"4",children:[" ",r("common.high")]}),l.jsxs(Pe,{value:"5",children:[" ",r("common.veryHigh")]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.expectedCloseDate")}),l.jsx(We,{type:"date",value:O.expected_close_date,onChange:Y=>D(Z=>({...Z,expected_close_date:Y.target.value}))})]})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.assignToEmployee")}),l.jsxs(jt,{value:O.assigned_to,onValueChange:Y=>D(Z=>({...Z,assigned_to:Y})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:r("leads.selectAssignee")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"unassigned",children:r("common.unassigned")}),N.filter(Y=>["employee","admin","manager","team_leader"].includes(Y.user_role)&&Y.auth_user_id).map(Y=>l.jsx(Pe,{value:Y.auth_user_id,children:Ae(Y,"user_name")},Y.user_id))]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:Ae(s,"lead_name")}),Ae(s,"lead_description")&&l.jsx("p",{className:"text-muted-foreground mt-1",children:Ae(s,"lead_description")})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(wI,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("common.priority")}),l.jsx(pH,{priority:s.priority,size:"sm"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[l.jsx(ug,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.value")}),l.jsx("p",{className:"text-lg font-semibold",children:V(s.value,s.currency)})]})]}),o&&l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[l.jsx(Cn,{className:"h-5 w-5 text-primary mt-0.5"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.client")}),l.jsx("p",{className:"font-medium truncate",children:Ae(o,"user_name")}),o.user_email&&l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:o.user_email})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(wI,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("common.stage")}),l.jsx(ht,{variant:"secondary",children:m||"-"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Un,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.assignedTo")}),l.jsx("p",{className:"font-medium",children:f?Ae(f,"user_name"):r("common.unassigned")})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-3 rounded-lg border",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(To,{className:"h-3.5 w-3.5"}),r("common.created")]}),l.jsx("p",{className:"text-sm font-medium mt-1",children:L(s.created_date)})]}),u&&l.jsxs("div",{className:"p-3 rounded-lg border",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.createdBy")}),l.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Ae(u,"user_name")})]})]})]})}),l.jsx(On,{value:"notes",className:"mt-4",children:l.jsx(DO,{relatedType:"lead",relatedId:e,notes:v,onNotesChange:q})})]})]})}function Rx({title:e,description:r,icon:n,actions:a,stats:s,className:i=""}){qt();const o=yn();return l.jsxs("div",{className:ve("mb-6",i),children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[n&&l.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof n=="function"?ne.createElement(n):n}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),r&&l.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:r})]})]}),a&&l.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:a})]}),s&&s.length>0&&!o&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:s.map((c,u)=>l.jsx(ct,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[c.icon&&l.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof c.icon=="function"?ne.createElement(c.icon):c.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:c.label}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:c.value}),c.trend&&l.jsxs("span",{className:ve("text-xs font-medium",c.trend.isPositive?"text-green-600":"text-red-600"),children:[c.trend.isPositive?"+":"",c.trend.value,"%"]})]})]})]})},u))})]})}function pl({icon:e,title:r,description:n,action:a,className:s=""}){return l.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${s}`,children:[e&&l.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ne.createElement(e):e}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:r}),l.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:n}),a]})}const RO=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:ve("w-full caption-bottom text-sm",e),...r})}));RO.displayName="Table";const IO=y.forwardRef(({className:e,...r},n)=>l.jsx("thead",{ref:n,className:ve("[&_tr]:border-b",e),...r}));IO.displayName="TableHeader";const MO=y.forwardRef(({className:e,...r},n)=>l.jsx("tbody",{ref:n,className:ve("[&_tr:last-child]:border-0",e),...r}));MO.displayName="TableBody";const rve=y.forwardRef(({className:e,...r},n)=>l.jsx("tfoot",{ref:n,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));rve.displayName="TableFooter";const dv=y.forwardRef(({className:e,...r},n)=>l.jsx("tr",{ref:n,className:ve("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...r}));dv.displayName="TableRow";const fo=y.forwardRef(({className:e,...r},n)=>l.jsx("th",{ref:n,className:ve("h-12 py-4 align-middle font-medium text-muted-foreground",kr()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...r}));fo.displayName="TableHead";const ho=y.forwardRef(({className:e,...r},n)=>l.jsx("td",{ref:n,className:ve("py-4 align-middle",kr()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...r}));ho.displayName="TableCell";const nve=y.forwardRef(({className:e,...r},n)=>l.jsx("caption",{ref:n,className:ve("mt-4 text-sm text-muted-foreground",e),...r}));nve.displayName="TableCaption";var iS="Checkbox",[ave,NXe]=ps(iS),[sve,FO]=ave(iS);function ive(e){const{__scopeCheckbox:r,checked:n,children:a,defaultChecked:s,disabled:i,form:o,name:c,onCheckedChange:u,required:d,value:f="on",internal_do_not_use_render:h}=e,[m,p]=xc({prop:n,defaultProp:s??!1,onChange:u,caller:iS}),[v,g]=y.useState(null),[x,b]=y.useState(null),w=y.useRef(!1),_=v?!!o||!!v.closest("form"):!0,S={checked:m,disabled:i,setChecked:p,control:v,setControl:g,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:Au(s)?!1:s,isFormControl:_,bubbleInput:x,setBubbleInput:b};return l.jsx(sve,{scope:r,...S,children:ove(h)?h(S):a})}var gH="CheckboxTrigger",vH=y.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:n,...a},s)=>{const{control:i,value:o,disabled:c,checked:u,required:d,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:v}=FO(gH,e),g=Wt(s,f),x=y.useRef(u);return y.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const w=()=>h(x.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[i,h]),l.jsx(mt.button,{type:"button",role:"checkbox","aria-checked":Au(u)?"mixed":u,"aria-required":d,"data-state":_H(u),"data-disabled":c?"":void 0,disabled:c,value:o,...a,ref:g,onKeyDown:nt(r,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:nt(n,b=>{h(w=>Au(w)?!0:!w),v&&p&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});vH.displayName=gH;var LO=y.forwardRef((e,r)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:i,required:o,disabled:c,value:u,onCheckedChange:d,form:f,...h}=e;return l.jsx(ive,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:c,required:o,onCheckedChange:d,name:a,form:f,value:u,internal_do_not_use_render:({isFormControl:m})=>l.jsxs(l.Fragment,{children:[l.jsx(vH,{...h,ref:r,__scopeCheckbox:n}),m&&l.jsx(bH,{__scopeCheckbox:n})]})})});LO.displayName=iS;var xH="CheckboxIndicator",yH=y.forwardRef((e,r)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,i=FO(xH,n);return l.jsx(za,{present:a||Au(i.checked)||i.checked===!0,children:l.jsx(mt.span,{"data-state":_H(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...e.style}})})});yH.displayName=xH;var wH="CheckboxBubbleInput",bH=y.forwardRef(({__scopeCheckbox:e,...r},n)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:c,disabled:u,name:d,value:f,form:h,bubbleInput:m,setBubbleInput:p}=FO(wH,e),v=Wt(n,p),g=QA(i),x=qA(a);y.useEffect(()=>{const w=m;if(!w)return;const _=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(_,"checked").set,N=!s.current;if(g!==i&&j){const k=new Event("click",{bubbles:N});w.indeterminate=Au(i),j.call(w,Au(i)?!1:i),w.dispatchEvent(k)}},[m,g,i,s]);const b=y.useRef(Au(i)?!1:i);return l.jsx(mt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:u,name:d,value:f,form:h,...r,tabIndex:-1,ref:v,style:{...r.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});bH.displayName=wH;function ove(e){return typeof e=="function"}function Au(e){return e==="indeterminate"}function _H(e){return Au(e)?"indeterminate":e?"checked":"unchecked"}const $1=y.forwardRef(({className:e,indeterminate:r,...n},a)=>l.jsx(LO,{ref:a,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r&&"bg-primary text-primary-foreground",e),...n,children:l.jsx(yH,{className:ve("flex items-center justify-center text-current"),children:r?l.jsx(Pie,{className:"h-4 w-4"}):l.jsx(IA,{className:"h-4 w-4"})})}));$1.displayName=LO.displayName;function wc({data:e,columns:r,actions:n=[],bulkActions:a=[],keyExtractor:s,onRowClick:i,emptyState:o,mobileCardRender:c,className:u,enableBulkSelect:d=!1,rowHeight:f}){const h=yn(),{t:m}=qt(),[p,v]=y.useState(new Set),g=k=>{const E=new Set(p);E.has(k)?E.delete(k):E.add(k),v(E)},x=()=>{p.size===e.length?v(new Set):v(new Set(e.map(s)))},b=()=>{v(new Set)},w=()=>e.filter(k=>p.has(s(k))),_=k=>{const E=n.filter(C=>!C.show||C.show(k));return E.length===0?null:l.jsxs(cO,{children:[l.jsx(uO,{asChild:!0,onClick:C=>C.stopPropagation(),children:l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(jie,{className:"h-4 w-4"})})}),l.jsx(J_,{align:"end",children:E.map((C,O)=>l.jsxs(Xl,{onClick:D=>{D.stopPropagation(),C.onClick(k)},className:ve(C.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[C.icon&&l.jsx("span",{className:"mr-2",children:C.icon}),C.label]},O))})]})};if(e.length===0)return o||l.jsx("div",{className:"text-center py-12 text-muted-foreground",children:m("common.noData","No data available")});if(h)return l.jsx("div",{className:ve("space-y-3 w-full overflow-hidden",u),children:e.map((k,E)=>c?l.jsx("div",{onClick:()=>i==null?void 0:i(k),className:"w-full",children:c(k,_(k))},s(k)):l.jsx(ct,{className:ve("w-full overflow-hidden transition-all",i&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>i==null?void 0:i(k),children:l.jsx(xt,{className:"p-4 w-full",children:l.jsxs("div",{className:"space-y-3 w-full",children:[r.filter(C=>!C.hideOnMobile).map((C,O)=>l.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[l.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:C.header}),l.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:C.render(k,E)})]},C.key)),n.length>0&&l.jsx("div",{className:"pt-2 border-t flex justify-end",children:_(k)})]})})},s(k)))});const S=p.size,j=S===e.length&&e.length>0,N=S>0&&S<e.length;return l.jsxs("div",{className:"space-y-4",children:[d&&S>0&&l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-sm font-medium",children:[S," ",S===1?m("common.item","item"):m("common.items","items")," ",m("common.selected","selected")]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[a.map((k,E)=>l.jsxs(ue,{variant:k.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>k.onClick(w()),className:ve(k.variant==="destructive"&&"hover:bg-destructive/90"),children:[k.icon&&l.jsx("span",{className:"mr-2",children:k.icon}),k.label]},E)),l.jsx(ue,{variant:"ghost",size:"sm",onClick:b,className:"text-muted-foreground hover:text-foreground",children:l.jsx(Oo,{className:"h-4 w-4"})})]})]}),l.jsx(ct,{className:ve("overflow-hidden",u),children:l.jsx(xt,{className:"p-0",children:l.jsxs(RO,{children:[l.jsx(IO,{children:l.jsxs(dv,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-20 shadow-sm",children:[d&&l.jsx(fo,{className:"w-12",children:l.jsx($1,{checked:j,indeterminate:N,onCheckedChange:x,"aria-label":m("common.selectAll","Select all")})}),r.map(k=>l.jsx(fo,{className:ve("font-semibold",k.className),children:k.header},k.key)),n.length>0&&l.jsx(fo,{className:"w-[100px] text-right",children:m("common.actions")})]})}),l.jsx(MO,{children:e.map((k,E)=>{const C=s(k),O=p.has(C);return l.jsxs(dv,{className:ve("group transition-colors",O&&"bg-primary/5",i&&"cursor-pointer hover:bg-muted/50",f),onClick:()=>i==null?void 0:i(k),children:[d&&l.jsx(ho,{onClick:D=>D.stopPropagation(),children:l.jsx($1,{checked:O,onCheckedChange:()=>g(C),"aria-label":m("common.selectItem","Select item")})}),r.map(D=>l.jsx(ho,{className:ve(D.className,"overflow-hidden"),children:D.render(k,E)},D.key)),n.length>0&&l.jsx(ho,{className:"text-right",children:l.jsx("div",{children:_(k)})})]},C)})})]})})})]})}function $O({children:e,variant:r="secondary"}){return l.jsx(ht,{variant:r,className:"text-xs font-medium",children:e})}function qm({name:e,fallback:r="Unassigned"}){return l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Un,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{className:ve(!e&&"text-muted-foreground"),children:e||r})]})}function Uu({date:e,fallback:r="Not set"}){return e?l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(To,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{children:new Date(e).toLocaleDateString()})]}):l.jsx("span",{className:"text-muted-foreground",children:r})}function bc({title:e,subtitle:r,icon:n}){return l.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[n&&(typeof n=="function"?ne.createElement(n):n),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),r&&l.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:r})]})]})}function lve({value:e,currency:r="SAR"}){return e==null?l.jsx("span",{className:"text-muted-foreground",children:"-"}):l.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(e)})}function cve({lead:e,client:r,creator:n,assignedUser:a,userRole:s,users:i=[],onDelete:o,onEdit:c,onAssign:u,onClick:d,onDragStart:f,isDragging:h=!1}){const{t:m}=qt(),p=yn(),v=x=>x?new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):m("leads.unknown"),g=(x,b)=>{if(x===null)return"-";const w=b||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:w}).format(x)};return l.jsxs(ct,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",p?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",h&&"opacity-50 rotate-2 scale-105"),onClick:d,draggable:!!f,onDragStart:x=>{f&&(x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",e.lead_id.toString()),f(e.lead_id))},children:[l.jsxs(Yt,{className:"pb-3 px-4 pt-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Ae(e,"lead_name")}),Ae(e,"lead_description")&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Ae(e,"lead_description")})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[c&&(s==="admin"||s==="manager")&&l.jsx(ue,{variant:"ghost",size:"sm",className:ve("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",p?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:x=>{x.stopPropagation(),c()},children:l.jsx(Vi,{className:"h-4 w-4"})}),o&&l.jsxs(mi,{children:[l.jsx(wf,{asChild:!0,onClick:x=>x.stopPropagation(),children:l.jsx(ue,{variant:"ghost",size:"sm",className:ve("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",p?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Is,{onClick:x=>x.stopPropagation(),children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:m("leads.deleteLead")}),l.jsx($s,{children:m("leads.deleteConfirmation",{name:Ae(e,"lead_name")})})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:m("buttons.cancel")}),l.jsx(Bs,{onClick:x=>{x.stopPropagation(),o(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:m("buttons.delete")})]})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[l.jsx(pH,{priority:e.priority,size:"sm"}),e.expected_close_date&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(To,{className:"h-3 w-3"}),l.jsx("span",{children:v(e.expected_close_date)})]})]})]}),l.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&l.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:l.jsx(ug,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:m("leads.value")}),l.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:g(e.value,e.currency)})]})]}),r&&l.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(Cn,{className:"h-4 w-4 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:m("leads.client")}),l.jsx("p",{className:"text-sm font-semibold truncate",children:Ae(r,"user_name")})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n&&l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(Un,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:m("leads.createdBy")}),l.jsx("p",{className:"text-xs font-medium truncate",children:Ae(n,"user_name")})]})]}),l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(Un,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:m("leads.assignedTo")}),l.jsx("p",{className:"text-xs font-medium truncate",children:a?Ae(a,"user_name"):m("common.all","Unassigned")})]})]})]}),l.jsx("div",{className:"pt-1",children:l.jsxs(jt,{value:e.assigned_to||"unassigned",onValueChange:x=>u&&u(e.lead_id,x==="unassigned"?"":x),children:[l.jsx(_t,{className:"h-7 text-xs",children:l.jsx(kt,{placeholder:m("leads.selectAssignee","Select assignee")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"unassigned",children:m("common.all","Unassigned")}),i.map(x=>l.jsx(Pe,{value:(x.userid||x.userid||"").toString(),children:Ae(x,"user_name")},x.userid))]})]})})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx(To,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:v(e.created_date)})]}),l.jsx(ht,{variant:"secondary",className:"text-xs",children:m("leads.lead")})]})]})]})}function uve(){var dt,ie,me;Vs();const{hasRole:e,user:r}=vr(),n=yn(),{t:a}=qt(),{setBreadcrumbs:s}=hx();y.useEffect(()=>{s([{label:a("navigation.dashboard"),href:"/dashboard"},{label:a("navigation.leads")}])},[a,s]);const[i,o]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState([]),[h,m]=y.useState([]),[p,v]=y.useState(!0);y.useState(!1),y.useState("");const[g,x]=y.useState(null),[b,w]=y.useState(""),[_,S]=y.useState(null),[j,N]=y.useState(null),[k,E]=y.useState(!1),[C,O]=y.useState(null),[D,T]=y.useState("kanban"),[z,q]=y.useState(null),[F,I]=y.useState(""),[V,L]=y.useState("all"),[M,Y]=y.useState("all"),[Z,A]=y.useState({from:void 0,to:void 0}),X=y.useMemo(()=>i.filter(te=>{const _e=(te.lead_name||"").toLowerCase().includes(F.toLowerCase())||(te.lead_description||"").toLowerCase().includes(F.toLowerCase())||(te.client_name||"").toLowerCase().includes(F.toLowerCase()),Ce=M==="all"||te.assigned_to&&te.assigned_to===M;let ye=!0;if(Z.from&&te.created_date){const le=new Date(te.created_date),fe=new Date(Z.from);fe.setHours(0,0,0,0);const xe=new Date(le);if(xe.setHours(0,0,0,0),ye=xe>=fe,ye&&Z.to){const pe=new Date(Z.to);pe.setHours(23,59,59,999),ye=xe<=pe}}else Z.from&&!te.created_date&&(ye=!1);return _e&&Ce&&ye}),[i,F,V,M,Z]),[U,H]=y.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});y.useEffect(()=>{ae()},[]),y.useEffect(()=>{if(h.length>0&&C===null){const te=h.find(_e=>_e.stage_id===1);te&&O(te.stage_id)}},[h,C]);const ae=async()=>{try{v(!0);const[te,_e,Ce,ye]=await Promise.all([kd.getAll(),cn.getAll(),F1.getAll(),as.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:te.length,clients:Ce.length,users:_e.length,stages:ye.length}),console.log("[Leads] Leads data:",te),console.log("[Leads] Stages data:",ye),o(te),u(Ce),f(_e),m(ye)}catch(te){console.error("Failed to load data:",te)}finally{v(!1)}},oe=async te=>{if(b.trim())try{await as.update(te,{stage_name:b.trim()}),m(h.map(_e=>_e.stage_id===te?{..._e,stage_name:b.trim()}:_e)),x(null),w("")}catch(_e){console.error("Failed to update stage:",_e)}},we=async te=>{if(i.filter(Ce=>Ce.stage===te).length>0){S(te);return}try{await as.delete(te),m(h.filter(Ce=>Ce.stage_id!==te))}catch(Ce){console.error("Failed to delete stage:",Ce)}},se=async()=>{if(_)try{await as.delete(_),m(h.filter(te=>te.stage_id!==_)),S(null),ae()}catch(te){console.error("Failed to delete stage:",te)}},Q=te=>{N(te)},he=te=>{te.preventDefault(),te.dataTransfer.dropEffect="move"},P=async te=>{if(!j)return;const _e=i.find(Ce=>Ce.lead_id===j);if(_e&&_e.stage!==te)try{await kd.update(j,{stage:te}),o(i.map(Ce=>Ce.lead_id===j?{...Ce,stage:te}:Ce))}catch(Ce){console.error("Failed to update lead stage:",Ce)}N(null)},Le=async te=>{try{await kd.delete(te),o(i.filter(_e=>_e.lead_id!==te))}catch(_e){console.error("Failed to delete lead:",_e)}},$e=async(te,_e)=>{const Ce=_e||null,ye=Ce?new Date().toISOString():null,le=i.find(fe=>fe.lead_id===te);if(le){o(i.map(fe=>fe.lead_id===te?{...fe,assigned_to:Ce,assigned_at:ye}:fe));try{await kd.update(te,{assigned_to:Ce,assigned_at:ye})}catch(fe){console.error("Failed to assign lead:",fe),o(i.map(xe=>xe.lead_id===te?{...xe,assigned_to:le.assigned_to,assigned_at:le.assigned_at}:xe))}}},Me=te=>{H(_e=>({..._e,stage:te.toString()})),E(!0)},He=async()=>{if(U.lead_name.trim())try{const te=U.assigned_to&&U.assigned_to!=="unassigned"?U.assigned_to:null,_e=te?new Date().toISOString():null,Ce=wl({lead_name:U.lead_name.trim(),lead_description:U.lead_description.trim()||null,client_name:U.client_name.trim()||null,client_user_id:U.client_user_id||null,created_by:(r==null?void 0:r.id)||null,stage:parseInt(U.stage),assigned_to:te,assigned_at:_e,value:U.value?parseFloat(U.value):null,currency:U.currency||"SAR",priority:U.priority?parseInt(U.priority):3,expected_close_date:U.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),ye=await kd.create(Ce);o([...i,ye]),H({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),E(!1)}catch(te){console.error("Failed to create lead:",te)}},De=h.filter(te=>te.stage_type==="leads").sort((te,_e)=>{const Ce=te.stager_order_index??0,ye=_e.stager_order_index??0;return Ce-ye}),wt=De.map(te=>({id:te.stage_id,name:Ae(te,"stage_name"),color:te.color,count:X.filter(_e=>_e.stage===te.stage_id).length}));return p?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:kr()?"rtl":"ltr",children:[l.jsx(Rx,{title:a("leads.title"),description:a("leads.description","Manage and track all your sales leads"),icon:l.jsx(Ia,{className:"h-6 w-6 text-primary"}),actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:D==="kanban"?"default":"ghost",size:"sm",onClick:()=>T("kanban"),className:"h-8 w-8 p-0",children:l.jsx(R_,{className:"h-4 w-4"})}),l.jsx(ue,{variant:D==="list"?"default":"ghost",size:"sm",onClick:()=>T("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})})]}),l.jsxs(ue,{onClick:()=>E(!0),children:[l.jsx(or,{className:"mr-2 h-4 w-4"})," ",a("leads.newLead")]})]}),stats:[{label:a("leads.totalLeads","Total Leads"),value:i.length,icon:l.jsx(Ia,{className:"h-5 w-5 text-primary"})},{label:a("leads.thisMonth","This Month"),value:i.filter(te=>{const _e=new Date(te.created_date),Ce=new Date;return _e.getMonth()===Ce.getMonth()&&_e.getFullYear()===Ce.getFullYear()}).length,icon:l.jsx(To,{className:"h-5 w-5 text-green-500"})},{label:a("leads.totalValue","Total Value"),value:`SAR ${i.reduce((te,_e)=>te+(_e.value||0),0).toLocaleString()}`,icon:l.jsx(ug,{className:"h-5 w-5 text-green-600"})},{label:a("leads.avgValue","Avg Value"),value:i.length>0?`SAR ${Math.round(i.reduce((te,_e)=>te+(_e.value||0),0)/i.length).toLocaleString()}`:"SAR 0",icon:l.jsx(ug,{className:"h-5 w-5 text-blue-500"})}]}),l.jsx(OO,{onSearch:I,onFilterAssignee:Y,onFilterDateRange:A,users:d}),D==="kanban"?l.jsxs(Dx,{stages:wt,currentStageId:C||((dt=wt[0])==null?void 0:dt.id),onStageChange:O,children:[l.jsx(An,{open:k,onOpenChange:E,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:a("leads.createLead")}),l.jsx(Ba,{children:a("leads.createLeadDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("leads.leadName")," *"]}),l.jsx(We,{value:U.lead_name,onChange:te=>H(_e=>({..._e,lead_name:te.target.value})),placeholder:a("leads.leadNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.description")}),l.jsx(da,{value:U.lead_description,onChange:te=>H(_e=>({..._e,lead_description:te.target.value})),placeholder:a("leads.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.clientName")}),l.jsx(We,{value:U.client_name,onChange:te=>H(_e=>({..._e,client_name:te.target.value})),placeholder:a("leads.clientNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.client")}),l.jsxs(jt,{value:U.client_user_id,onValueChange:te=>H(_e=>({..._e,client_user_id:te})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("leads.selectClient")})}),l.jsx(St,{children:c.filter(te=>te.userid||te.userid).map(te=>l.jsx(Pe,{value:(te.userid||te.userid||"").toString(),children:Ae(te,"user_name")},te.userid))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.value")}),l.jsx(We,{type:"number",min:"0",step:"0.01",value:U.value,onChange:te=>H(_e=>({..._e,value:te.target.value})),placeholder:"0.00"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.currency")}),l.jsxs(jt,{value:U.currency,onValueChange:te=>H(_e=>({..._e,currency:te})),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"SAR",children:"SAR (.)"}),l.jsx(Pe,{value:"USD",children:"USD ($)"}),l.jsx(Pe,{value:"EUR",children:"EUR ()"}),l.jsx(Pe,{value:"GBP",children:"GBP ()"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("common.priority")}),l.jsxs(jt,{value:U.priority,onValueChange:te=>H(_e=>({..._e,priority:te})),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsxs(Pe,{value:"1",children:[" ",a("common.veryLow")]}),l.jsxs(Pe,{value:"2",children:[" ",a("common.low")]}),l.jsxs(Pe,{value:"3",children:[" ",a("common.medium")]}),l.jsxs(Pe,{value:"4",children:[" ",a("common.high")]}),l.jsxs(Pe,{value:"5",children:[" ",a("common.veryHigh")]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.expectedCloseDate")}),l.jsx(We,{type:"date",value:U.expected_close_date,onChange:te=>H(_e=>({..._e,expected_close_date:te.target.value}))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.assignToEmployee")}),l.jsxs(jt,{value:U.assigned_to,onValueChange:te=>H(_e=>({..._e,assigned_to:te})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("leads.selectAssignee","Select assignee")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"unassigned",children:a("common.all","Unassigned")}),d.map(te=>l.jsx(Pe,{value:String(te.userid),children:Ae(te,"user_name")},te.userid))]})]})]})]}),l.jsxs($a,{children:[l.jsx(ue,{variant:"outline",onClick:()=>E(!1),children:a("buttons.cancel")}),l.jsxs(ue,{onClick:He,disabled:!((ie=U.lead_name)!=null&&ie.trim()),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),a("leads.createLead")]})]})]})}),l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:De.filter(te=>{var _e;return n?te.stage_id===(C||((_e=wt[0])==null?void 0:_e.id)):!0}).map((te,_e)=>{var pe,Te,Fe;const Ce=X.filter(Ue=>Ue.stage===te.stage_id),ye=Ce.reduce((Ue,Ve)=>Ue+(Ve.value||0),0),le=new Set(Ce.filter(Ue=>Ue.value!==null&&Ue.currency).map(Ue=>Ue.currency)),fe=le.size===1?Array.from(le)[0]:((pe=Ce.find(Ue=>Ue.currency))==null?void 0:pe.currency)||"SAR",xe=(Ue,Ve)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Ve}).format(Ue);return console.log(`[Leads] Stage ${te.stage_name} (${te.stage_id}): ${Ce.length} leads`),console.log("[Leads] Stage leads:",Ce),l.jsxs("div",{className:ve("flex-shrink-0 animate-fade-in h-full flex flex-col",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${_e*.1}s`},onDragOver:he,onDrop:()=>P(te.stage_id),children:[l.jsx("div",{className:ve("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",te.color||"border-l-4 border-primary/50","hidden md:block"),children:l.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:g===te.stage_id?l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx(We,{value:b,onChange:Ue=>w(Ue.target.value),onKeyDown:Ue=>{Ue.key==="Enter"&&oe(te.stage_id),Ue.key==="Escape"&&(x(null),w(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>oe(te.stage_id),className:"h-8 w-8 p-0",children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h2",{className:"font-bold text-base",children:Ae(te,"stage_name")})}),l.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:Ce.length}),l.jsxs(l.Fragment,{children:[l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>Me(te.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:a("leads.addLead"),children:l.jsx(or,{className:"h-4 w-4"})}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{x(te.stage_id),w(Ae(te,"stage_name"))},className:"h-6 w-6 p-0",title:a("buttons.edit"),children:l.jsx(Vi,{className:"h-3 w-3"})}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>we(te.stage_id),className:"h-6 w-6 p-0 text-destructive",title:a("buttons.delete"),children:l.jsx(wr,{className:"h-3 w-3"})})]})]})]})})}),l.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((Te=h.sort((Ue,Ve)=>(Ue.stager_order_index||0)-(Ve.stager_order_index||0))[0])==null?void 0:Te.stage_id)===te.stage_id&&l.jsx("div",{className:"mb-4",children:l.jsx(ct,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Me(te.stage_id),children:l.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[l.jsx(or,{className:"h-8 w-8"}),l.jsx("span",{className:"text-sm font-medium",children:a("leads.addNewLeadCard")})]})})}),Ce.map(Ue=>{const Ve=c.find(Qt=>{var Nr,Br;return((Nr=Qt.userid||Qt.userid)==null?void 0:Nr.toString())===((Br=Ue.client_user_id)==null?void 0:Br.toString())}),ot=d.find(Qt=>{var Nr,Br;return((Nr=Qt.userid||Qt.userid)==null?void 0:Nr.toString())===((Br=Ue.created_by)==null?void 0:Br.toString())}),Kt=d.find(Qt=>{var Nr,Br;return((Nr=Qt.userid||Qt.userid)==null?void 0:Nr.toString())===((Br=Ue.assigned_to)==null?void 0:Br.toString())});return l.jsx("div",{children:l.jsx(cve,{lead:Ue,client:Ve||null,creator:ot||null,assignedUser:Kt||null,userRole:r==null?void 0:r.role,users:d,onDelete:()=>Le(Ue.lead_id),onEdit:()=>q(Ue.lead_id),onAssign:$e,onClick:()=>q(Ue.lead_id),onDragStart:Q,isDragging:j===Ue.lead_id})},Ue.lead_id)}),((Fe=h.sort((Ue,Ve)=>(Ue.stager_order_index||0)-(Ve.stager_order_index||0))[0])==null?void 0:Fe.stage_id)!==te.stage_id&&l.jsx("div",{className:"mt-2",children:l.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Me(te.stage_id),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),a("leads.addLead")]})})]}),l.jsx("div",{className:ve("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ug,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:a("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),l.jsx("span",{className:"text-lg font-bold text-primary",children:xe(ye,fe)})]})})]},te.stage_id)})}),l.jsx(mi,{open:!!_,onOpenChange:()=>S(null),children:l.jsxs(Is,{children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:a("leads.deleteStage")}),l.jsx($s,{children:a("leads.deleteStageConfirmation",{count:i.filter(te=>te.stage===_).length})})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:a("buttons.cancel")}),l.jsx(Bs,{onClick:se,className:"bg-destructive text-destructive-foreground",children:a("buttons.delete")})]})]})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:[a("leads.title")," (",i.length,")"]}),l.jsx(An,{open:k,onOpenChange:E,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:a("leads.createLead")}),l.jsx(Ba,{children:a("leads.createLeadDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("leads.leadName")," *"]}),l.jsx(We,{value:U.lead_name,onChange:te=>H(_e=>({..._e,lead_name:te.target.value})),placeholder:a("leads.leadNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.description")}),l.jsx(da,{value:U.lead_description,onChange:te=>H(_e=>({..._e,lead_description:te.target.value})),placeholder:a("leads.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.clientName")}),l.jsx(We,{value:U.client_name,onChange:te=>H(_e=>({..._e,client_name:te.target.value})),placeholder:a("leads.clientNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.client")}),l.jsxs(jt,{value:U.client_user_id,onValueChange:te=>H(_e=>({..._e,client_user_id:te})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("leads.selectClient")})}),l.jsx(St,{children:c.filter(te=>te.userid).map(te=>l.jsx(Pe,{value:String(te.userid),children:Ae(te,"user_name")},te.userid))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.assignToEmployee")}),l.jsxs(jt,{value:U.assigned_to,onValueChange:te=>H(_e=>({..._e,assigned_to:te})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("leads.selectAssignee","Select assignee")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"unassigned",children:a("common.all","Unassigned")}),d.map(te=>l.jsx(Pe,{value:String(te.userid),children:Ae(te,"user_name")},te.userid))]})]})]})]}),l.jsxs($a,{children:[l.jsx(ue,{variant:"outline",onClick:()=>E(!1),children:a("buttons.cancel")}),l.jsxs(ue,{onClick:He,disabled:!((me=U.lead_name)!=null&&me.trim()),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),a("leads.createLead")]})]})]})})]}),(()=>{const te=[{key:"lead",header:a("leads.leadName"),render:ye=>l.jsx(bc,{title:Ae(ye,"lead_name"),subtitle:Ae(ye,"lead_description")})},{key:"value",header:a("leads.value","Value"),render:ye=>l.jsx(lve,{value:ye.value,currency:ye.currency||"SAR"})},{key:"client",header:a("leads.client"),hideOnMobile:!0,render:ye=>{const le=c.find(fe=>String(fe.userid)===ye.client_user_id);return le?Ae(le,"user_name"):a("leads.unknown")}},{key:"creator",header:a("leads.createdBy"),hideOnMobile:!0,render:ye=>{const le=d.find(fe=>String(fe.userid)===ye.created_by);return l.jsx(qm,{name:le?Ae(le,"user_name"):null,fallback:a("leads.unknown")})}},{key:"assignee",header:a("leads.assignedTo"),hideOnMobile:!0,render:ye=>{const le=d.find(fe=>String(fe.userid)===ye.assigned_to);return l.jsx(qm,{name:le?Ae(le,"user_name"):null,fallback:a("common.all","Unassigned")})}},{key:"stage",header:a("tasks.stage"),hideOnMobile:!0,render:ye=>{const le=h.find(fe=>fe.stage_id===ye.stage);return le?Ae(le,"stage_name"):a("leads.unknown")}},{key:"created",header:a("common.created"),hideOnMobile:!0,render:ye=>l.jsx(Uu,{date:ye.created_date,fallback:a("leads.notSet")})}],_e=[{label:a("common.view"),icon:l.jsx(Mi,{className:"h-4 w-4"}),onClick:ye=>q(ye.lead_id)},{label:a("buttons.delete","Delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:ye=>Le(ye.lead_id),variant:"destructive",show:()=>!0}],Ce=[{label:a("buttons.delete","Delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:ye=>{ye.forEach(le=>Le(le.lead_id))},variant:"destructive"}];return l.jsx(wc,{data:X,columns:te,actions:_e,bulkActions:Ce,keyExtractor:ye=>ye.lead_id,onRowClick:ye=>q(ye.lead_id),enableBulkSelect:!0,emptyState:l.jsx(pl,{icon:l.jsx(Ia,{className:"h-12 w-12 text-muted-foreground/50"}),title:a("leads.noLeadsYet"),description:a("leads.createFirst","Create a lead to get started"),action:l.jsxs(ue,{onClick:()=>E(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),a("leads.addLead")]})})})})()]}),l.jsx(Sl,{open:!!z,onOpenChange:()=>q(null),children:l.jsxs(Io,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:kr()?"left":"right",children:[l.jsxs(yc,{children:[l.jsx(jl,{children:a("leads.leadDetails")}),l.jsx(Cx,{children:a("leads.leadDetailsDesc")})]}),l.jsx("div",{className:"mt-6",children:z&&l.jsx(tve,{leadId:z})})]})})]})}const BO={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},dve=()=>bA({queryKey:BO.users,queryFn:cn.getAll}),fve=()=>bA({queryKey:BO.tasks,queryFn:ec.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),hve=e=>bA({queryKey:[...BO.stages,"type",e],queryFn:()=>as.getByType(e)});function UO({message:e="Loading...",className:r=""}){return l.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(I_,{className:"h-16 w-16 text-primary animate-spin"}),l.jsx("div",{className:"absolute inset-0 h-16 w-16 rounded-full border-4 border-muted opacity-25"})]}),l.jsx("p",{className:"mt-6 text-sm text-muted-foreground animate-pulse font-medium",children:e})]})}function zp({title:e="Something went wrong",message:r,onRetry:n,className:a=""}){return l.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${a}`,children:[l.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:l.jsx(D_,{className:"h-10 w-10 text-destructive"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),l.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n&&l.jsxs(ue,{onClick:n,variant:"outline",className:"gap-2",children:[l.jsx(rv,{className:"h-4 w-4"}),"Try Again"]})]})}function mve({task:e,assignedUser:r,stages:n=[],onDelete:a,onClick:s,onDragStart:i,onStageChange:o,isDragging:c=!1}){var g,x;const{t:u}=qt(),d=yn(),f=b=>b?new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",h=b=>{switch(b){case"done":return l.jsx(ll,{className:"h-3 w-3 text-green-500"});case"in_progress":return l.jsx(Dd,{className:"h-3 w-3 text-blue-500"});case"todo":default:return l.jsx(D_,{className:"h-3 w-3 text-gray-500"})}},m=b=>{switch(b){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},p=b=>{if(!b)return null;const w=new Date,S=(new Date(b).getTime()-w.getTime())/(1e3*60*60);return S<0?"overdue":S<24?"urgent":S<72?"soon":null},v=b=>{switch(p(b)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return l.jsxs(ct,{className:ve("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",d?"w-full":"w-[280px] h-[180px]",m(e.task_status),v(e.due_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!i,onDragStart:b=>{i&&(b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("text/plain",e.task_id.toString()),i(e.task_id))},children:[l.jsx(Yt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),a&&l.jsxs(mi,{children:[l.jsx(wf,{asChild:!0,onClick:b=>b.stopPropagation(),children:l.jsx(ue,{variant:"ghost",size:"sm",className:ve("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Is,{onClick:b=>b.stopPropagation(),children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:"Delete Task"}),l.jsxs($s,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:"Cancel"}),l.jsx(Bs,{onClick:b=>{b.stopPropagation(),a(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),l.jsxs(xt,{className:"px-4 pb-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Un,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),l.jsx("p",{className:"text-xs font-medium truncate",children:r?Ae(r,"user_name"):u("common.all","Unassigned")})]})}),l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-1",children:[h(e.task_status),l.jsx("span",{className:"text-xs font-medium capitalize",children:((g=e.task_status)==null?void 0:g.replace("_"," "))||"Todo"})]})})]}),d&&o&&l.jsx("div",{className:"pt-1",children:l.jsxs(jt,{value:((x=e.stage_id)==null?void 0:x.toString())||"",onValueChange:b=>o(e.task_id,parseInt(b)),children:[l.jsx(_t,{className:"h-7 text-xs",children:l.jsx(kt,{placeholder:u("tasks.selectStage","Select stage")})}),l.jsx(St,{children:n.map(b=>{var w;return l.jsx(Pe,{value:((w=b.stage_id)==null?void 0:w.toString())||"",children:Ae(b,"stage_name")},b.stage_id)})})]})}),e.due_date&&l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[l.jsx(To,{className:"h-3 w-3 flex-shrink-0"}),l.jsxs("span",{children:["Due: ",f(e.due_date)]})]})]})]})}function pve(){var se;Vs();const{hasRole:e,user:r,loading:n}=vr(),{t:a}=qt(),s=yn(),[i,o]=y.useState(null),[c,u]=y.useState("kanban");y.useState(!1);const d=Q=>{switch(Q==null?void 0:Q.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};y.useState(""),y.useState(null),y.useState(""),y.useState(null);const[f,h]=y.useState(null),[m,p]=y.useState(!1),[v,g]=y.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[x,b]=y.useState(""),[w,_]=y.useState("all"),[S,j]=y.useState("all"),[N,k]=y.useState({from:void 0,to:void 0}),{data:E=[],isLoading:C,error:O}=fve(),{data:D=[],isLoading:T,error:z}=dve(),{data:q=[],isLoading:F,error:I}=hve("tasks"),V=y.useMemo(()=>E.filter(Q=>{const he=Q.task_name.toLowerCase().includes(x.toLowerCase())||Q.description&&Q.description.toLowerCase().includes(x.toLowerCase()),P=w==="all"||Q.task_status===w,Le=S==="all"||Q.assigned_to&&Q.assigned_to.toString()===S;let $e=!0;if(N.from&&Q.due_date){const Me=new Date(Q.due_date),He=new Date(N.from);He.setHours(0,0,0,0);const De=new Date(Me);if(De.setHours(0,0,0,0),$e=De>=He,$e&&N.to){const wt=new Date(N.to);wt.setHours(23,59,59,999),$e=De<=wt}}else N.from&&!Q.due_date&&($e=!1);return he&&P&&Le&&$e}),[E,x,w,S,N]),L=q.sort((Q,he)=>{const P=Q.stager_order_index??0,Le=he.stager_order_index??0;return P-Le}).map(Q=>({id:Q.stage_id,name:Ae(Q,"stage_name"),color:Q.color,count:V.filter(he=>he.stage_id===Q.stage_id).length})),M=C||T||F||n,Y=(O==null?void 0:O.message)||(z==null?void 0:z.message)||(I==null?void 0:I.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:r?{id:r.id,email:r.email,role:r.role}:null,authLoading:n,hasUser:!!r,loading:M,data:{tasks:E.length,users:D.length,stages:q.length}});const Z=()=>{},A=async Q=>{try{await ec.delete(Q),Z()}catch(he){console.error("Failed to delete task:",he)}},X=Q=>{h(Q)},U=Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},H=async Q=>{if(!f)return;const he=E.find(P=>P.task_id===f);if(he&&he.stage_id!==Q)try{await ec.update(f,{stage_id:Q}),Z()}catch(P){console.error("Failed to update task stage:",P)}h(null)},ae=async(Q,he)=>{const P=E.find(Le=>Le.task_id===Q);if(P&&P.stage_id!==he)try{await ec.update(Q,{stage_id:he}),Z()}catch(Le){console.error("Failed to update task stage:",Le)}},oe=async()=>{if(v.task_name.trim())try{const Q=wl({task_name:v.task_name.trim(),stage_id:v.stage_id?parseInt(v.stage_id):null,assigned_to:v.assigned_to?parseInt(v.assigned_to):null,task_status:v.task_status,due_date:v.due_date?new Date(v.due_date).toISOString():null,description:v.description.trim()||null,userid:(r==null?void 0:r.id)||null},{task_name:"task_name",description:"description"});await ec.create(Q),Z(),g({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),p(!1)}catch(Q){console.error("Failed to create task:",Q)}},we=!0;return y.useEffect(()=>{if(q.length>0&&i===null){const Q=q.sort((he,P)=>(he.stager_order_index??0)-(P.stager_order_index??0));Q.length>0&&o(Q[0].stage_id)}},[q,i]),M||n||!r?l.jsx(UO,{message:a("tasks.loading","Loading tasks...")}):Y?l.jsx(zp,{message:Y}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:kr()?"rtl":"ltr",children:[l.jsx(Rx,{title:a("tasks.title"),description:a("tasks.description","Manage and track all your tasks"),icon:l.jsx(dg,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:a("navigation.dashboard"),href:"/dashboard"},{label:a("navigation.tasks")}],actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:c==="kanban"?"default":"ghost",size:"sm",onClick:()=>u("kanban"),className:"h-8 w-8 p-0",children:l.jsx(R_,{className:"h-4 w-4"})}),l.jsx(ue,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})})]}),l.jsxs(ue,{onClick:()=>p(!0),children:[l.jsx(or,{className:"mr-2 h-4 w-4"})," ",a("tasks.addNewTask")]})]}),stats:[{label:a("tasks.totalTasks"),value:E.length,icon:l.jsx(dg,{className:"h-4 w-4 text-primary"})},{label:a("tasks.todo","To Do"),value:E.filter(Q=>Q.task_status==="todo").length,icon:l.jsx(D_,{className:"h-4 w-4 text-gray-500"})},{label:a("tasks.inProgress","In Progress"),value:E.filter(Q=>Q.task_status==="in_progress").length,icon:l.jsx(Dd,{className:"h-4 w-4 text-blue-500"})},{label:a("tasks.done","Done"),value:E.filter(Q=>Q.task_status==="done").length,icon:l.jsx(ll,{className:"h-4 w-4 text-green-500"})}]}),l.jsx(OO,{onSearch:b,onFilterStatus:_,onFilterAssignee:j,onFilterDateRange:k,users:D,statuses:[{value:"todo",label:a("tasks.todo")},{value:"in_progress",label:a("tasks.inProgress")},{value:"done",label:a("tasks.done")}]}),c==="kanban"?l.jsxs(Dx,{stages:L,currentStageId:i||((se=L[0])==null?void 0:se.id),onStageChange:o,children:[l.jsx(An,{open:m,onOpenChange:p,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:a("tasks.createTask")}),l.jsx(Ba,{children:a("tasks.createTaskDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("tasks.taskName")," *"]}),l.jsx(We,{value:v.task_name,onChange:Q=>g(he=>({...he,task_name:Q.target.value})),placeholder:a("tasks.taskNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.description")}),l.jsx(da,{value:v.description,onChange:Q=>g(he=>({...he,description:Q.target.value})),placeholder:a("tasks.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectUser")}),l.jsxs(jt,{value:v.assigned_to,onValueChange:Q=>g(he=>({...he,assigned_to:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectUser")})}),l.jsx(St,{children:D.map(Q=>{var he;return l.jsx(Pe,{value:((he=Q.user_id)==null?void 0:he.toString())||"",children:Ae(Q,"user_name")},Q.user_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStage")}),l.jsxs(jt,{value:v.stage_id,onValueChange:Q=>g(he=>({...he,stage_id:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectStage")})}),l.jsx(St,{children:q.map(Q=>{var he;return l.jsx(Pe,{value:((he=Q.stage_id)==null?void 0:he.toString())||"",children:Ae(Q,"stage_name")},Q.stage_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStatus")}),l.jsxs(jt,{value:v.task_status,onValueChange:Q=>g(he=>({...he,task_status:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectStatus")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"todo",children:a("tasks.todo")}),l.jsx(Pe,{value:"in_progress",children:a("tasks.inProgress")}),l.jsx(Pe,{value:"done",children:a("tasks.done")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.dueDate")}),l.jsx(We,{type:"date",value:v.due_date,onChange:Q=>g(he=>({...he,due_date:Q.target.value}))})]})]}),l.jsxs($a,{children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:a("buttons.cancel")}),l.jsxs(ue,{onClick:oe,disabled:!v.task_name.trim(),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),a("tasks.createTask")]})]})]})}),l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:q.sort((Q,he)=>{const P=Q.stager_order_index??0,Le=he.stager_order_index??0;return P-Le}).filter(Q=>{var he;return s?Q.stage_id===(i||((he=L[0])==null?void 0:he.id)):!0}).map((Q,he)=>{var Le,$e;const P=V.filter(Me=>Me.stage_id===Q.stage_id);return l.jsxs("div",{className:ve("flex-shrink-0 animate-fade-in",s?"w-full":"w-[300px]"),style:{animationDelay:`${he*.1}s`},onDragOver:U,onDrop:()=>H(Q.stage_id),children:[l.jsx("div",{className:ve("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",Q.color||"border-l-4 border-primary/50"),children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),l.jsx("h2",{className:"font-bold text-base",children:Ae(Q,"stage_name")})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:P.length})})]})}),l.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((Le=q.sort((Me,He)=>(Me.stager_order_index||0)-(He.stager_order_index||0))[0])==null?void 0:Le.stage_id)===Q.stage_id&&l.jsx("div",{className:"mb-4",children:l.jsx(ct,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",s?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>p(!0),children:l.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[l.jsx(or,{className:"h-8 w-8"}),l.jsx("span",{className:"text-sm font-medium",children:a("tasks.addNewTask")})]})})}),P.map(Me=>{const He=D.find(De=>De.user_id===Me.assigned_to);return l.jsx("div",{draggable:we,onDragStart:()=>X(Me.task_id),className:"cursor-move",children:l.jsx(mve,{task:Me,assignedUser:He||null,stages:q,onDelete:()=>A(Me.task_id),onClick:()=>{console.log("Task clicked:",Me.task_id)},onDragStart:X,onStageChange:ae,isDragging:f===Me.task_id})},Me.task_id)}),(($e=q.sort((Me,He)=>(Me.stager_order_index||0)-(He.stager_order_index||0))[0])==null?void 0:$e.stage_id)!==Q.stage_id&&l.jsx("div",{className:"mt-2",children:l.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>p(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),a("tasks.addTask")]})})]})]},Q.stage_id)})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:[a("tasks.allTasks")," (",E.length,")"]}),l.jsx(An,{open:m,onOpenChange:p,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:a("tasks.createTask")}),l.jsx(Ba,{children:a("tasks.createTaskDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("tasks.taskName")," *"]}),l.jsx(We,{value:v.task_name,onChange:Q=>g(he=>({...he,task_name:Q.target.value})),placeholder:a("tasks.taskNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.description")}),l.jsx(da,{value:v.description,onChange:Q=>g(he=>({...he,description:Q.target.value})),placeholder:a("tasks.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectUser")}),l.jsxs(jt,{value:v.assigned_to,onValueChange:Q=>g(he=>({...he,assigned_to:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectUser")})}),l.jsx(St,{children:D.map(Q=>{var he;return l.jsx(Pe,{value:((he=Q.user_id)==null?void 0:he.toString())||"",children:Ae(Q,"user_name")},Q.user_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStage")}),l.jsxs(jt,{value:v.stage_id,onValueChange:Q=>g(he=>({...he,stage_id:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectStage")})}),l.jsx(St,{children:q.map(Q=>{var he;return l.jsx(Pe,{value:((he=Q.stage_id)==null?void 0:he.toString())||"",children:Ae(Q,"stage_name")},Q.stage_id)})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStatus")}),l.jsxs(jt,{value:v.task_status,onValueChange:Q=>g(he=>({...he,task_status:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectStatus")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"todo",children:a("tasks.todo")}),l.jsx(Pe,{value:"in_progress",children:a("tasks.inProgress")}),l.jsx(Pe,{value:"done",children:a("tasks.done")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.dueDate")}),l.jsx(We,{type:"date",value:v.due_date,onChange:Q=>g(he=>({...he,due_date:Q.target.value}))})]})]})]}),l.jsxs($a,{children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:a("buttons.cancel")}),l.jsxs(ue,{onClick:oe,disabled:!v.task_name.trim(),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),a("tasks.createTask")]})]})]})})]}),(()=>{const Q=[{key:"task",header:a("tasks.taskName"),render:P=>l.jsx(bc,{title:P.task_name,subtitle:P.description})},{key:"assignee",header:a("tasks.assignedTo"),hideOnMobile:!0,render:P=>{const Le=D.find($e=>$e.user_id===P.assigned_to);return l.jsx(qm,{name:Le?Ae(Le,"user_name"):null,fallback:a("common.all","Unassigned")})}},{key:"status",header:a("tasks.status"),render:P=>l.jsx($O,{variant:d(P.task_status),children:P.task_status||a("leads.unknown")})},{key:"due_date",header:a("tasks.dueDate"),hideOnMobile:!0,render:P=>l.jsx(Uu,{date:P.due_date,fallback:a("leads.notSet")})},{key:"stage",header:a("tasks.stage"),hideOnMobile:!0,render:P=>{const Le=q.find($e=>$e.stage_id===P.stage_id);return Le?Ae(Le,"stage_name"):a("leads.unknown")}}],he=[{label:a("common.view"),icon:l.jsx(Mi,{className:"h-4 w-4"}),onClick:P=>console.log("View task:",P.task_id)},{label:a("buttons.delete","Delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:P=>A(P.task_id),variant:"destructive"}];return l.jsx(wc,{data:V,columns:Q,actions:he,keyExtractor:P=>P.task_id,emptyState:l.jsx(pl,{icon:l.jsx(dg,{className:"h-12 w-12 text-muted-foreground/50"}),title:a("tasks.noTasksYet"),description:a("tasks.createFirst","Create a task to get started"),action:l.jsxs(ue,{onClick:()=>p(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),a("tasks.addNewTask")]})})})})()]})]})}function DM(e){const[r,n]=y.useState(e),a=y.useCallback((i,o)=>{n(c=>({...c,[i]:o}))},[]),s=y.useCallback(i=>{n(i??e)},[e]);return{values:r,setValues:n,setField:a,reset:s}}const SE=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},gve=(e,r)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):r,vve=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return l.jsx(q2,{className:"h-3 w-3 text-red-500"});case"high":return l.jsx(q2,{className:"h-3 w-3 text-orange-500"});default:return null}};function RM({ticket:e,assignedUser:r,userRole:n,onDelete:a,onClick:s,onDragStart:i,onDragEnd:o,isDragging:c=!1,stageName:u}){const{t:d}=qt(),f=yn();return l.jsxs(ct,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",f?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",c&&"opacity-50 rotate-2 scale-105"),onClick:s,draggable:!!i,onDragStart:h=>{i&&(h.dataTransfer.effectAllowed="move",h.dataTransfer.setData("text/plain",e.ticket_id.toString()),i(e.ticket_id))},onDragEnd:()=>{o&&o()},children:[l.jsx(Yt,{className:"pb-3 px-4 pt-4",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),vve(e.priority)]}),l.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||d("tickets.noSubject","No Subject")}),e.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),a&&n==="admin"&&l.jsxs(mi,{children:[l.jsx(wf,{asChild:!0,onClick:h=>h.stopPropagation(),children:l.jsx(ue,{variant:"ghost",size:"sm",className:ve("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",f?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Is,{onClick:h=>h.stopPropagation(),children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:d("tickets.deleteTicket","Delete Ticket")}),l.jsx($s,{children:d("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:d("buttons.cancel")}),l.jsx(Bs,{onClick:h=>{h.stopPropagation(),a(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:d("buttons.delete")})]})]})]})]})}),l.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u&&l.jsx(ht,{variant:"outline",className:"text-xs",children:u}),l.jsx(ht,{variant:SE(e.priority),className:"text-xs",children:e.priority||d("leads.unknown")}),e.ticket_type&&l.jsx(ht,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),r&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Un,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Ae(r,"user_name")})]}),l.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx(To,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:gve(e.created_date,d("leads.unknown"))})]})})]})]})}function xve(){const[e,r]=y.useState([]),[n,a]=y.useState([]),[s,i]=y.useState([]),[o,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(""),[m,p]=y.useState("all"),[v,g]=y.useState("all"),[x,b]=y.useState("all"),[w,_]=y.useState(!1),[S,j]=y.useState(null),[N,k]=y.useState(!1),[E,C]=y.useState(!1),O=y.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),D=y.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:T,setField:z,reset:q,setValues:F}=DM(O),{values:I,setField:V,reset:L,setValues:M}=DM(D),[Y,Z]=y.useState(null),[A,X]=y.useState(null),[U,H]=y.useState("kanban"),[ae,oe]=y.useState(""),[we,se]=y.useState(!1),{user:Q,loading:he}=vr(),{t:P}=qt(),Le=yn();y.useEffect(()=>{Q&&!he&&$e()},[Q,he]),y.useEffect(()=>{if(s.length>0&&A===null){const pe=s.filter(Te=>Te.stage_type==="tickets");pe.length>0&&X(pe[0].stage_id)}},[s,A]);const $e=async()=>{try{c(!0),d(null);const[pe,Te,Fe]=await Promise.all([b0.getAll().catch(Ue=>(console.error("[Tickets] Error fetching tickets:",Ue),[])),cn.getAll().catch(Ue=>(console.error("[Tickets] Error fetching users:",Ue),[])),as.getByType("tickets").catch(Ue=>(console.error("[Tickets] Error fetching stages:",Ue),[]))]);if(r(pe),a(Te),i(Fe),Fe.length>0){const Ue=[...Fe].sort((Ve,ot)=>(Ve.stager_order_index||0)-(ot.stager_order_index||0));F(Ve=>{var ot;return{...Ve,stage_id:Ve.stage_id||((ot=Ue[0].stage_id)==null?void 0:ot.toString())||""}})}}catch(pe){console.error("[Tickets] Failed to load data:",pe),d(pe.message||P("common.error"))}finally{c(!1)}},Me=pe=>pe&&n.find(Te=>Te.user_id===pe)||null,He=async pe=>{var Te,Fe;if(pe.preventDefault(),!(we||!Q)){oe(""),se(!0);try{const Ue=T.assigned_to?parseInt(T.assigned_to):null,Ve=n.find(Nr=>Nr.user_id===Ue),ot={subject:T.subject,description:T.description||null,priority:T.priority,ticket_type:T.ticket_type,stage_id:T.stage_id?parseInt(T.stage_id):null,created_by:((Te=Q.profile)==null?void 0:Te.user_id)||null,assigned_to:Ue,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Kt=await b0.create(ot);r([Kt,...e]);const Qt=s.length>0&&((Fe=[...s].sort((Nr,Br)=>(Nr.stager_order_index||0)-(Br.stager_order_index||0))[0].stage_id)==null?void 0:Fe.toString())||"";q({...O,stage_id:Qt}),_(!1)}catch(Ue){oe(Ue.message||P("tickets.createError"))}finally{se(!1)}}},De=pe=>{var Te,Fe;j(pe),C(!1),M({...D,subject:pe.subject||"",description:pe.description||"",priority:pe.priority||"medium",ticket_type:pe.ticket_type||"request",assigned_to:((Te=pe.assigned_to)==null?void 0:Te.toString())||"unassigned",stage_id:((Fe=pe.stage_id)==null?void 0:Fe.toString())||""}),k(!0)},wt=async()=>{if(!(!S||we)){oe(""),se(!0);try{const pe=I.assigned_to&&I.assigned_to!=="unassigned"?parseInt(I.assigned_to):null,Te=n.find(Fe=>Fe.user_id===pe);await b0.update(S.ticket_id,{subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:pe,stage_id:I.stage_id?parseInt(I.stage_id):null}),r(e.map(Fe=>Fe.ticket_id===S.ticket_id?{...Fe,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:pe,stage_id:I.stage_id?parseInt(I.stage_id):null}:Fe)),j(Fe=>Fe?{...Fe,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:pe,stage_id:I.stage_id?parseInt(I.stage_id):null}:null),C(!1)}catch(pe){oe(pe.message||P("tickets.updateError","Failed to update ticket"))}finally{se(!1)}}},dt=async pe=>{try{await b0.delete(pe),r(e.filter(Te=>Te.ticket_id!==pe))}catch(Te){console.error("[Tickets] Failed to delete ticket:",Te)}},ie=pe=>{Z(pe)},me=()=>{Z(null)},te=pe=>{pe.preventDefault(),pe.dataTransfer.dropEffect="move"},_e=async pe=>{if(!Y)return;const Te=e.find(Fe=>Fe.ticket_id===Y);if(Te&&Te.stage_id!==pe){r(Fe=>Fe.map(Ue=>Ue.ticket_id===Y?{...Ue,stage_id:pe}:Ue));try{await b0.moveToStage(Y,pe)}catch(Fe){console.error("Failed to update ticket stage:",Fe),r(Ue=>Ue.map(Ve=>Ve.ticket_id===Y?{...Ve,stage_id:Te.stage_id}:Ve))}}Z(null)},Ce=y.useMemo(()=>e.filter(pe=>{var ot,Kt,Qt;const Te=((ot=pe.subject)==null?void 0:ot.toLowerCase().includes(f.toLowerCase()))||((Kt=pe.description)==null?void 0:Kt.toLowerCase().includes(f.toLowerCase())),Fe=m==="all"||pe.priority===m,Ue=v==="all"||pe.ticket_type===v,Ve=x==="all"||((Qt=pe.stage_id)==null?void 0:Qt.toString())===x;return Te&&Fe&&Ue&&Ve}),[e,f,m,v,x]),ye=y.useMemo(()=>s.filter(pe=>pe.stage_type==="tickets").sort((pe,Te)=>{const Fe=pe.stager_order_index??0,Ue=Te.stager_order_index??0;return Fe-Ue}),[s]),le=y.useMemo(()=>ye.map(pe=>({id:pe.stage_id,name:Ae(pe,"stage_name"),color:pe.color,count:Ce.filter(Te=>Te.stage_id===pe.stage_id).length})),[ye,Ce]),fe=()=>{var pe;return ye.length===0?l.jsx(pl,{icon:l.jsx(vh,{className:"h-12 w-12 text-muted-foreground/50"}),title:P("tickets.noStages","No ticket stages found"),description:P("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):l.jsxs(Dx,{stages:le,currentStageId:A||((pe=le[0])==null?void 0:pe.id),onStageChange:X,children:[l.jsx("div",{className:ve("flex gap-4 pb-4 overflow-x-auto",Le?"hidden":"flex"),children:ye.map(Te=>{const Fe=Ce.filter(ot=>ot.stage_id===Te.stage_id),Ue=Te.color||"border-l-4 border-gray-400",Ve=Ae(Te,"stage_name");return l.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-[calc(100vh-280px)]",onDragOver:te,onDrop:()=>_e(Te.stage_id),children:[l.jsx("div",{className:ve("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Ue),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-semibold text-sm",children:Ae(Te,"stage_name")}),l.jsx(ht,{variant:"secondary",className:"text-xs",children:Fe.length})]}),l.jsx(ue,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{F(ot=>{var Kt;return{...ot,stage_id:((Kt=Te.stage_id)==null?void 0:Kt.toString())||""}}),_(!0)},children:l.jsx(or,{className:"h-4 w-4"})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:l.jsxs("div",{className:"space-y-3",children:[Fe.map(ot=>l.jsx(RM,{ticket:ot,assignedUser:Me(ot.assigned_to),userRole:Q==null?void 0:Q.role,onDelete:dt,onClick:()=>De(ot),onDragStart:ie,onDragEnd:me,isDragging:Y===ot.ticket_id,stageName:Ve},ot.ticket_id)),Fe.length===0&&l.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:P("tickets.noTicketsInStage","No tickets in this stage")})]})})]},Te.stage_id)})}),Le&&A&&l.jsxs("div",{className:"space-y-3 p-2",children:[Ce.filter(Te=>Te.stage_id===A).map(Te=>{var Fe;return l.jsx(RM,{ticket:Te,assignedUser:Me(Te.assigned_to),userRole:Q==null?void 0:Q.role,onDelete:dt,onClick:()=>De(Te),onDragStart:ie,onDragEnd:me,isDragging:Y===Te.ticket_id,stageName:((Fe=le.find(Ue=>Ue.id===A))==null?void 0:Fe.name)||null},Te.ticket_id)}),Ce.filter(Te=>Te.stage_id===A).length===0&&l.jsx(pl,{icon:l.jsx(vh,{className:"h-12 w-12 text-muted-foreground/50"}),title:P("tickets.noTicketsInStage","No tickets in this stage"),description:P("tickets.createFirst","Create a ticket to get started"),action:l.jsxs(ue,{onClick:()=>{F(Te=>({...Te,stage_id:(A==null?void 0:A.toString())||""})),_(!0)},children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),P("tickets.newTicket")]})})]})]})},xe=()=>{const pe=[{key:"ticket",header:P("tickets.subject","Subject"),render:Fe=>l.jsx(bc,{title:Fe.subject||P("tickets.noSubject","No Subject"),subtitle:Fe.description})},{key:"priority",header:P("tickets.priority","Priority"),render:Fe=>l.jsx($O,{variant:SE(Fe.priority),children:Fe.priority||P("leads.unknown")})},{key:"type",header:P("tickets.ticketType","Type"),hideOnMobile:!0,render:Fe=>l.jsx(ht,{variant:"outline",className:"text-xs",children:Fe.ticket_type||P("leads.unknown")})},{key:"assignee",header:P("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Fe=>{const Ue=Me(Fe.assigned_to);return l.jsx(qm,{name:Ue?Ae(Ue,"user_name"):null,fallback:P("tickets.unassigned","Unassigned")})}},{key:"stage",header:P("tickets.stage","Stage"),hideOnMobile:!0,render:Fe=>{const Ue=ye.find(Ve=>Ve.stage_id===Fe.stage_id);return Ue?Ae(Ue,"stage_name"):P("tickets.noStage","No stage")}},{key:"created",header:P("tickets.createdDate","Created"),hideOnMobile:!0,render:Fe=>l.jsx(Uu,{date:Fe.created_date,fallback:P("leads.notSet","Not set")})}],Te=[{label:P("common.view","View"),icon:l.jsx(Mi,{className:"h-4 w-4"}),onClick:De},{label:P("buttons.delete","Delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:Fe=>dt(Fe.ticket_id),variant:"destructive",show:()=>!0}];return l.jsx(wc,{data:Ce,columns:pe,actions:Te,keyExtractor:Fe=>Fe.ticket_id,onRowClick:De,emptyState:l.jsx(pl,{icon:l.jsx(vh,{className:"h-12 w-12 text-muted-foreground/50"}),title:P("tickets.noTicketsInPage"),description:P("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:l.jsxs(ue,{onClick:()=>_(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),P("tickets.newTicket","New Ticket")]})})})};return o||he||!Q?l.jsx(UO,{message:P("tickets.loading","Loading tickets...")}):u?l.jsx(zp,{title:P("tickets.errorTitle","Error loading tickets"),message:u,onRetry:$e}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:kr()?"rtl":"ltr",children:[l.jsx(Rx,{title:P("tickets.title"),description:P("tickets.description","Manage and track support tickets"),icon:l.jsx(vh,{className:"h-5 w-5 text-primary"}),actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:U==="kanban"?"default":"ghost",size:"sm",onClick:()=>H("kanban"),className:"h-8 w-8 p-0",children:l.jsx(R_,{className:"h-4 w-4"})}),l.jsx(ue,{variant:U==="list"?"default":"ghost",size:"sm",onClick:()=>H("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})})]}),l.jsxs(ue,{onClick:()=>_(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),P("tickets.newTicket")]})]}),stats:[{label:P("tickets.total","Total Tickets"),value:e.length,icon:l.jsx(vh,{className:"h-4 w-4 text-primary"})},...ye.map(pe=>({label:Ae(pe,"stage_name"),value:e.filter(Te=>Te.stage_id===pe.stage_id).length,icon:l.jsx(Qo,{className:"h-4 w-4 text-muted-foreground"})}))]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[l.jsxs("div",{className:"relative flex-1 max-w-sm",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(We,{placeholder:P("tickets.searchPlaceholder","Search tickets..."),value:f,onChange:pe=>h(pe.target.value),className:"pl-10 h-9"})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[l.jsxs(jt,{value:x,onValueChange:b,children:[l.jsx(_t,{className:"w-[130px] h-9",children:l.jsx(kt,{placeholder:P("tickets.allStages","All Stages")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:P("tickets.allStages","All Stages")}),ye.map(pe=>{var Te;return l.jsx(Pe,{value:((Te=pe.stage_id)==null?void 0:Te.toString())||"",children:Ae(pe,"stage_name")},pe.stage_id)})]})]}),l.jsxs(jt,{value:v,onValueChange:g,children:[l.jsx(_t,{className:"w-[130px] h-9",children:l.jsx(kt,{placeholder:P("tickets.allTypes")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:P("tickets.allTypes","All Types")}),l.jsx(Pe,{value:"issue",children:P("tickets.typeIssue","Issue")}),l.jsx(Pe,{value:"request",children:P("tickets.typeRequest","Request")}),l.jsx(Pe,{value:"follow_up",children:P("tickets.typeFollowUp","Follow Up")}),l.jsx(Pe,{value:"internal_task",children:P("tickets.typeInternalTask","Internal Task")})]})]}),l.jsxs(jt,{value:m,onValueChange:p,children:[l.jsx(_t,{className:"w-[130px] h-9",children:l.jsx(kt,{placeholder:P("tickets.allPriorities")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:P("tickets.allPriorities","All Priorities")}),l.jsx(Pe,{value:"low",children:P("tickets.priorityLow","Low")}),l.jsx(Pe,{value:"medium",children:P("tickets.priorityMedium","Medium")}),l.jsx(Pe,{value:"high",children:P("tickets.priorityHigh","High")}),l.jsx(Pe,{value:"urgent",children:P("tickets.priorityUrgent","Urgent")})]})]})]})]}),l.jsx("div",{className:"flex-1 overflow-auto",children:U==="kanban"?fe():xe()}),l.jsx(An,{open:w,onOpenChange:_,children:l.jsxs(mn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:P("tickets.createNewTicket")}),l.jsx(Ba,{children:P("tickets.createTicketDesc")})]}),l.jsxs("form",{onSubmit:He,className:"space-y-4",children:[ae&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:ae})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"subject",children:[P("tickets.subject")," *"]}),l.jsx(We,{id:"subject",value:T.subject,onChange:pe=>z("subject",pe.target.value),placeholder:P("tickets.subjectPlaceholder"),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"description",children:P("tickets.description")}),l.jsx(da,{id:"description",value:T.description,onChange:pe=>z("description",pe.target.value),placeholder:P("tickets.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"stage",children:P("tickets.stage","Stage")}),l.jsxs(jt,{value:T.stage_id,onValueChange:pe=>z("stage_id",pe),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:P("tickets.selectStage","Select stage")})}),l.jsx(St,{children:ye.map(pe=>{var Te;return l.jsx(Pe,{value:((Te=pe.stage_id)==null?void 0:Te.toString())||"",children:Ae(pe,"stage_name")},pe.stage_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"priority",children:[P("tickets.priority")," *"]}),l.jsxs(jt,{value:T.priority,onValueChange:pe=>z("priority",pe),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"low",children:P("tickets.priorityLow")}),l.jsx(Pe,{value:"medium",children:P("tickets.priorityMedium")}),l.jsx(Pe,{value:"high",children:P("tickets.priorityHigh")}),l.jsx(Pe,{value:"urgent",children:P("tickets.priorityUrgent")})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"ticket_type",children:[P("tickets.ticketType")," *"]}),l.jsxs(jt,{value:T.ticket_type,onValueChange:pe=>z("ticket_type",pe),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"request",children:P("tickets.typeRequest")}),l.jsx(Pe,{value:"follow_up",children:P("tickets.typeFollowUp")}),l.jsx(Pe,{value:"issue",children:P("tickets.typeIssue")}),l.jsx(Pe,{value:"internal_task",children:P("tickets.typeInternalTask")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"assigned_to",children:P("tickets.assignTo")}),l.jsxs(jt,{value:T.assigned_to,onValueChange:pe=>z("assigned_to",pe),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:P("tickets.selectAssignee")})}),l.jsx(St,{children:n.map(pe=>{var Te;return l.jsx(Pe,{value:((Te=pe.user_id)==null?void 0:Te.toString())||"",children:Ae(pe,"user_name")},pe.user_id)})})]})]})]}),l.jsxs($a,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>_(!1),className:"w-full sm:w-auto",children:P("buttons.cancel")}),l.jsx(ue,{type:"submit",disabled:we||!T.subject.trim(),className:"w-full sm:w-auto",children:P(we?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),l.jsx(An,{open:N,onOpenChange:k,children:l.jsxs(mn,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[l.jsxs(pn,{children:[l.jsx(gn,{className:"text-lg sm:text-xl leading-tight",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[l.jsx("span",{className:"break-words",children:S==null?void 0:S.subject}),l.jsx(ht,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(S==null?void 0:S.status)||P("leads.unknown")})]})}),l.jsxs(Ba,{className:"text-sm",children:[P("tickets.ticketId"),": #",S==null?void 0:S.ticket_id]})]}),S&&l.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[ae&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:ae})}),E?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"edit-subject",children:[P("tickets.subject")," *"]}),l.jsx(We,{id:"edit-subject",value:I.subject,onChange:pe=>V("subject",pe.target.value),placeholder:P("tickets.subjectPlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"edit-description",children:P("tickets.description")}),l.jsx(da,{id:"edit-description",value:I.description,onChange:pe=>V("description",pe.target.value),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:P("tickets.stage","Stage")}),l.jsxs(jt,{value:I.stage_id,onValueChange:pe=>V("stage_id",pe),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:P("tickets.selectStage","Select stage")})}),l.jsx(St,{children:ye.map(pe=>{var Te;return l.jsx(Pe,{value:((Te=pe.stage_id)==null?void 0:Te.toString())||"",children:Ae(pe,"stage_name")},pe.stage_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:P("tickets.priority")}),l.jsxs(jt,{value:I.priority,onValueChange:pe=>V("priority",pe),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"low",children:P("tickets.priorityLow")}),l.jsx(Pe,{value:"medium",children:P("tickets.priorityMedium")}),l.jsx(Pe,{value:"high",children:P("tickets.priorityHigh")}),l.jsx(Pe,{value:"urgent",children:P("tickets.priorityUrgent")})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:P("tickets.ticketType")}),l.jsxs(jt,{value:I.ticket_type,onValueChange:pe=>V("ticket_type",pe),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"request",children:P("tickets.typeRequest")}),l.jsx(Pe,{value:"follow_up",children:P("tickets.typeFollowUp")}),l.jsx(Pe,{value:"issue",children:P("tickets.typeIssue")}),l.jsx(Pe,{value:"internal_task",children:P("tickets.typeInternalTask")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:P("tickets.assignTo")}),l.jsxs(jt,{value:I.assigned_to,onValueChange:pe=>V("assigned_to",pe),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:P("tickets.selectAssignee")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"unassigned",children:P("tickets.unassigned","Unassigned")}),n.map(pe=>{var Te;return l.jsx(Pe,{value:((Te=pe.user_id)==null?void 0:Te.toString())||"",children:Ae(pe,"user_name")},pe.user_id)})]})]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:P("tickets.priority")}),l.jsx("div",{className:"mt-1",children:l.jsx(ht,{variant:SE(S.priority),className:"text-xs",children:S.priority||P("leads.unknown")})})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:P("tickets.ticketType")}),l.jsx("div",{className:"mt-1",children:l.jsx(ht,{variant:"outline",className:"text-xs",children:S.ticket_type||P("leads.unknown")})})]})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:P("tickets.stage","Stage")}),l.jsx("div",{className:"mt-1 text-sm",children:ye.find(pe=>pe.stage_id===S.stage_id)?Ae(ye.find(pe=>pe.stage_id===S.stage_id),"stage_name"):P("tickets.noStage","No stage")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:P("tickets.assignedTo")}),l.jsx("div",{className:"mt-1 text-sm break-words",children:Me(S.assigned_to)?Ae(Me(S.assigned_to),"user_name"):P("tickets.unassigned","Unassigned")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:P("tickets.createdDate")}),l.jsx("div",{className:"mt-1 text-sm",children:S.created_date?new Date(S.created_date).toLocaleString():"N/A"})]})]}),S.description&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:P("tickets.description")}),l.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:S.description})]})]}),l.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:P("tickets.createdBy")}),l.jsx("div",{className:"mt-1 text-sm break-words",children:Me(S.created_by)?Ae(Me(S.created_by),"user_name"):P("leads.unknown")})]}),S.resolved_date&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:P("tickets.resolvedDate")}),l.jsx("div",{className:"mt-1 text-sm",children:new Date(S.resolved_date).toLocaleString()})]}),S.closed_at&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:P("tickets.closedDate")}),l.jsx("div",{className:"mt-1 text-sm",children:new Date(S.closed_at).toLocaleString()})]})]})]}),l.jsx($a,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:E?l.jsxs(l.Fragment,{children:[l.jsx(ue,{variant:"outline",onClick:()=>C(!1),className:"w-full sm:w-auto",children:P("buttons.cancel")}),l.jsxs(ue,{onClick:wt,disabled:we||!I.subject.trim(),className:"w-full sm:w-auto",children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),we?P("buttons.saving","Saving..."):P("buttons.save","Save")]})]}):l.jsxs(l.Fragment,{children:[l.jsx(ue,{variant:"outline",onClick:()=>k(!1),className:"w-full sm:w-auto",children:P("buttons.close","Close")}),l.jsxs(ue,{onClick:()=>C(!0),className:"w-full sm:w-auto",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),P("buttons.edit","Edit")]})]})})]})})]})}var VO="Progress",zO=100,[yve,EXe]=ps(VO),[wve,bve]=yve(VO),SH=y.forwardRef((e,r)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:i=_ve,...o}=e;(s||s===0)&&!IM(s)&&console.error(Sve(`${s}`,"Progress"));const c=IM(s)?s:zO;a!==null&&!MM(a,c)&&console.error(jve(`${a}`,"Progress"));const u=MM(a,c)?a:null,d=B1(u)?i(u,c):void 0;return l.jsx(wve,{scope:n,value:u,max:c,children:l.jsx(mt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":B1(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":NH(u,c),"data-value":u??void 0,"data-max":c,...o,ref:r})})});SH.displayName=VO;var jH="ProgressIndicator",kH=y.forwardRef((e,r)=>{const{__scopeProgress:n,...a}=e,s=bve(jH,n);return l.jsx(mt.div,{"data-state":NH(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:r})});kH.displayName=jH;function _ve(e,r){return`${Math.round(e/r*100)}%`}function NH(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function B1(e){return typeof e=="number"}function IM(e){return B1(e)&&!isNaN(e)&&e>0}function MM(e,r){return B1(e)&&!isNaN(e)&&e<=r&&e>=0}function Sve(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zO}\`.`}function jve(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var EH=SH,kve=kH;const bf=y.forwardRef(({className:e,value:r,...n},a)=>l.jsx(EH,{ref:a,className:ve("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(kve,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));bf.displayName=EH.displayName;function Nve({projectId:e,onClose:r}){const{id:n}=uae(),a=Vs(),{user:s}=vr(),[i,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(!0),[h,m]=y.useState(null),[p,v]=y.useState(null),[g,x]=y.useState(null),[b,w]=y.useState(null),[_,S]=y.useState([]),[j,N]=y.useState([]),k=e||(n?parseInt(n):null),E=!!e;y.useEffect(()=>{(async()=>{!k||!s||m(!0)})()},[k,s]),y.useEffect(()=>{k&&h&&C()},[k,h]);const C=async()=>{if(k)try{f(!0);const F=await Kc.getById(k);if(v(F),F){if(F.created_by)try{const I=await cn.getByAuthId(F.created_by.toString());x(I)}catch(I){console.error("Failed to fetch client:",I)}if(F.created_by)try{const I=await cn.getByAuthId(F.created_by.toString());w(I)}catch(I){console.error("Failed to fetch manager:",I)}try{const V=(await fpe.getProjectUsers(k)).map(M=>M.userid),L=await Promise.all(V.map(M=>M?cn.getByAuthId(M.toString()).catch(()=>null):null));S(L.filter(M=>M!==null))}catch(I){console.error("Failed to fetch project users:",I)}try{const L=(await as.getAll()).filter(Z=>Z.project_id===k).map(Z=>Z.stage_id),Y=(await Promise.all(L.map(Z=>ec.getByStage(Z)))).flat();N(Y)}catch(I){console.error("Failed to fetch tasks:",I)}}}catch(F){console.error("Failed to load project data:",F)}finally{f(!1)}};y.useEffect(()=>{k&&p&&j.length>0&&O()},[k,p,j]);const O=async()=>{if(!(!k||!p||j.length===0))try{const F=[];for(const I of j){const V=await _E.getByTask(I.task_id);F.push(...V)}o(F)}catch(F){console.error("Failed to load comments:",F)}},D=async F=>{if(!(!c.trim()||!s))try{const I=await _E.create({task_id:F,userid:s.id.toString(),message:c.trim()});o(V=>[...V,I]),u("")}catch(I){console.error("Failed to add comment:",I)}},T=()=>{r?r():a("/projects")},z=({children:F})=>E?l.jsx("div",{className:"h-full overflow-y-auto p-1",children:F}):l.jsx(bE,{children:F});if(h===!1)return l.jsx(z,{children:l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),l.jsx(ue,{onClick:T,children:"Back to Projects"})]})})});if(h===null||!p||!g||!b)return d?l.jsx(z,{children:l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):l.jsx(z,{children:l.jsx("div",{children:"Project not found"})});const q={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return l.jsx(z,{children:l.jsxs("div",{className:"space-y-6 pb-10",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ue,{variant:"ghost",size:"icon",onClick:T,children:l.jsx(JU,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Ae(p,"project_name")}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Ae(g,"company_name")})]})]}),l.jsx(ue,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),l.jsx(ct,{children:l.jsxs(xt,{className:"pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),l.jsxs("span",{className:"text-sm font-bold",children:[p.progress||0,"%"]})]}),l.jsx(bf,{value:p.progress||0,className:"h-3"})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:l.jsxs(kl,{defaultValue:"tasks",children:[l.jsxs(Fo,{className:"w-full sm:w-auto",children:[l.jsx(en,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),l.jsx(en,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),l.jsx(en,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),l.jsxs(On,{value:"tasks",className:"space-y-3",children:[j.map(F=>{var V;const I=_.find(L=>L.user_id===F.assigned_to);return l.jsx(ct,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold",children:Ae(F,"task_name")}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Ae(F,"description")}),l.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[l.jsx(ht,{className:ve("text-xs",q[F.task_status]),children:((V=F.task_status)==null?void 0:V.replace("_"," "))||"todo"}),F.due_date&&l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(To,{className:"h-3 w-3"}),"Due: ",new Date(F.due_date).toLocaleDateString()]})]})]}),I&&l.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[l.jsx("div",{className:"text-2xl mb-1",children:""}),Ae(I,"user_name")]})]})})},F.task_id)}),l.jsx(ue,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),l.jsx(On,{value:"images",children:l.jsx(ct,{children:l.jsxs(xt,{className:"pt-6",children:[l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(F=>l.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-4xl",children:""})},F))}),l.jsxs(ue,{variant:"outline",className:"w-full mt-4",children:[l.jsx(nv,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),l.jsxs(On,{value:"comments",className:"space-y-3",children:[i.map(F=>{const I=[..._,g,b].find(V=>{var L,M,Y,Z;return V&&(((L=V.userid)==null?void 0:L.toString())===((M=F.userid)==null?void 0:M.toString())||((Y=V.user_id)==null?void 0:Y.toString())===((Z=F.userid)==null?void 0:Z.toString()))});return l.jsx(ct,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"text-2xl",children:(I==null?void 0:I.avatar)||""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-sm",children:I?Ae(I,"user_name"):"Unknown"}),l.jsx("p",{className:"text-sm mt-1",children:F.message}),l.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(F.created_date||"").toLocaleString()})]})]})})},F.comment_id)}),j.length>0&&l.jsx(ct,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(We,{placeholder:"Add a comment...",value:c,onChange:F=>u(F.target.value),onKeyDown:F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),D(j[0].task_id))}}),l.jsx(ue,{size:"icon",onClick:()=>D(j[0].task_id),children:l.jsx(mx,{className:"h-4 w-4"})})]})})})]})]})}),l.jsxs("div",{className:"space-y-4 lg:order-last",children:[l.jsxs(ct,{children:[l.jsx(Yt,{children:l.jsx(br,{className:"text-base sm:text-lg",children:"Project Summary"})}),l.jsxs(xt,{className:"space-y-3 sm:space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:g.avatar}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold",children:Ae(g,"user_name")}),l.jsx("div",{className:"text-xs text-muted-foreground",children:Ae(g,"company_name")})]})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:b.avatar}),l.jsx("div",{className:"text-sm",children:Ae(b,"user_name")})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),l.jsx("div",{className:"space-y-2",children:_.map(F=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:F.avatar||""}),l.jsx("div",{className:"text-sm",children:Ae(F,"user_name")})]},F.user_id))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",p.created_date?new Date(p.created_date).toLocaleDateString():"Not set",p.end_date&&l.jsxs("div",{children:["End: ",new Date(p.end_date).toLocaleDateString()]})]})]})]})]}),l.jsxs(ct,{children:[l.jsx(Yt,{children:l.jsx(br,{className:"text-base sm:text-lg",children:"Recent Activity"})}),l.jsx(xt,{children:l.jsxs("div",{className:"space-y-3 text-xs",children:[l.jsxs("div",{className:"pb-2 border-b",children:[l.jsx("div",{className:"font-medium",children:"Task completed"}),l.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),l.jsxs("div",{className:"pb-2 border-b",children:[l.jsx("div",{className:"font-medium",children:"New comment added"}),l.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Images uploaded"}),l.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function Eve({project:e,client:r,manager:n,stages:a,onDelete:s,onClick:i,onDragStart:o,onStageChange:c,isDragging:u=!1}){const{t:d}=qt(),f=yn(),h=e.progress||0,m=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):d("leads.notSet","Not set"),p=g=>{if(!g)return null;const x=new Date,w=(new Date(g).getTime()-x.getTime())/(1e3*60*60);return w<0?"overdue":w<24?"urgent":w<72?"soon":null},v=g=>{switch(p(g)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return l.jsxs(ct,{className:ve("group relative hover:shadow-lg transition-all duration-200",f?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!f&&(h===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),v(e.end_date),u&&"opacity-50 rotate-2 scale-105"),draggable:!!o,onDragStart:g=>{o&&(g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("text/plain",e.project_id.toString()),o(e.project_id))},children:[l.jsx(Yt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:i,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Ae(e,"project_name")}),Ae(e,"project_description")&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Ae(e,"project_description")})]}),s&&l.jsxs(mi,{children:[l.jsx(wf,{asChild:!0,onClick:g=>g.stopPropagation(),children:l.jsx(ue,{variant:"ghost",size:"sm",className:ve("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",f?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Is,{onClick:g=>g.stopPropagation(),children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:d("projects.deleteProject")}),l.jsx($s,{children:d("projects.deleteConfirmation",{name:Ae(e,"project_name")})})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:d("buttons.cancel")}),l.jsx(Bs,{onClick:g=>{g.stopPropagation(),s(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:d("buttons.delete")})]})]})]})]})}),l.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:d("projects.progress")}),l.jsxs("span",{className:"font-medium",children:[h,"%"]})]}),l.jsx(bf,{value:h,className:"h-2"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(Cn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),l.jsx("p",{className:"text-xs font-medium truncate",children:r.user_name})]})]}),l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(Un,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),l.jsx("p",{className:"text-xs font-medium truncate",children:n?n.user_name:d("common.all","Unassigned")})]})]})]}),f&&c&&l.jsx("div",{className:"pt-1",children:l.jsxs(jt,{value:e.stage.toString(),onValueChange:g=>c(e.project_id,parseInt(g)),children:[l.jsx(_t,{className:"h-7 text-xs",children:l.jsx(kt,{placeholder:d("projects.selectStage","Select stage")})}),l.jsx(St,{children:a.filter(g=>["New","In Progress","Overdue","Completed"].includes(g.stage_name)).map(g=>l.jsx(Pe,{value:g.stage_id.toString(),children:Ae(g,"stage_name")},g.stage_id))})]})}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx(To,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:m(e.created_date)})]}),h===100?l.jsx(ht,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):h>0?l.jsx(ht,{variant:"default",className:"text-xs",children:"In Progress"}):l.jsx(ht,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function Cve(){var ye,le;Vs();const{hasRole:e,user:r}=vr();Va();const{t:n}=qt(),a=yn(),[s,i]=y.useState([]),[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState(!0),[v,g]=y.useState(null);y.useState(!1),y.useState("");const[x,b]=y.useState(null),[w,_]=y.useState(""),[S,j]=y.useState(null),[N,k]=y.useState(null),[E,C]=y.useState(!1),[O,D]=y.useState(null),[T,z]=y.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[q,F]=y.useState(!1),[I,V]=y.useState({project_name:"",project_description:"",client_id:""}),[L,M]=y.useState("kanban"),[Y,Z]=y.useState(null),[A,X]=y.useState(""),[U,H]=y.useState("all"),[ae,oe]=y.useState("all"),[we,se]=y.useState({from:void 0,to:void 0}),Q=y.useMemo(()=>s.filter(fe=>{const xe=(fe.project_name||"").toLowerCase().includes(A.toLowerCase())||(fe.project_description||"").toLowerCase().includes(A.toLowerCase());let pe=!0;U==="todo"?pe=(fe.progress||0)===0:U==="in_progress"?pe=(fe.progress||0)>0&&(fe.progress||0)<100:U==="done"&&(pe=(fe.progress||0)===100);const Te=ae==="all"||fe.created_by&&fe.created_by.toString()===ae;let Fe=!0;if(we.from&&fe.end_date){const Ue=new Date(fe.end_date),Ve=new Date(we.from);Ve.setHours(0,0,0,0);const ot=new Date(Ue);if(ot.setHours(0,0,0,0),Fe=ot>=Ve,Fe&&we.to){const Kt=new Date(we.to);Kt.setHours(23,59,59,999),Fe=ot<=Kt}}else we.from&&!fe.end_date&&(Fe=!1);return xe&&pe&&Te&&Fe}),[s,A,U,ae,we]);y.useEffect(()=>{he()},[]),y.useEffect(()=>{if(f.length>0&&O===null){const fe=f.find(xe=>xe.stage_id===5);fe&&D(fe.stage_id)}},[f,O]);const he=async()=>{try{p(!0),g(null);const[fe,xe,pe,Te]=await Promise.all([Kc.getAll(),F1.getAll(),cn.getAll(),as.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:fe.length,clients:xe.length,users:pe.length,stages:Te.length}),console.log("[Projects] Projects data:",fe),console.log("[Projects] Stages data:",Te),i(fe),c(xe),d(pe),h(Te)}catch(fe){console.error("Failed to load data:",fe),g(n("projects.loadError","Failed to load projects. Please try again."))}finally{p(!1)}},P=async fe=>{if(w.trim())try{await as.update(fe,{stage_name:w.trim()}),h(f.map(xe=>xe.stage_id===fe?{...xe,stage_name:w.trim()}:xe)),b(null),_("")}catch(xe){console.error("Failed to update stage:",xe)}},Le=async fe=>{if(s.filter(pe=>pe.stage===fe).length>0){j(fe);return}try{await as.delete(fe),h(f.filter(pe=>pe.stage_id!==fe))}catch(pe){console.error("Failed to delete stage:",pe)}},$e=fe=>{k(fe)},Me=fe=>{fe.preventDefault(),fe.dataTransfer.dropEffect="move"},He=async fe=>{if(!N)return;const xe=s.find(pe=>pe.project_id===N);if(xe&&xe.stage!==fe)try{await Kc.update(N,{stage:fe}),i(s.map(pe=>pe.project_id===N?{...pe,stage:fe}:pe))}catch(pe){console.error("Failed to update project stage:",pe)}k(null)},De=async(fe,xe)=>{const pe=s.find(Te=>Te.project_id===fe);if(pe&&pe.stage!==xe)try{await Kc.update(fe,{stage:xe}),i(s.map(Te=>Te.project_id===fe?{...Te,stage:xe}:Te))}catch(Te){console.error("Failed to update project stage:",Te)}},wt=async fe=>{try{await Kc.delete(fe),i(s.filter(xe=>xe.project_id!==fe))}catch(xe){console.error("Failed to delete project:",xe)}},dt=fe=>{z(xe=>({...xe,stage:fe.toString()})),C(!0)},ie=async()=>{var fe;if(T.project_name.trim())try{const xe=wl({project_name:T.project_name.trim(),project_description:T.project_description.trim()||null,created_by:((fe=r==null?void 0:r.profile)==null?void 0:fe.user_id)||1,progress:T.progress,stage:parseInt(T.stage),end_date:null,userid:(r==null?void 0:r.id)||null},{project_name:"project_name",project_description:"project_description"}),pe=await Kc.create(xe);i([...s,pe]),z({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),C(!1)}catch(xe){console.error("Failed to create project:",xe)}},me=async()=>{var fe;if(I.project_name.trim())try{const xe=wl({project_name:I.project_name.trim(),project_description:I.project_description.trim()||null,created_by:((fe=r==null?void 0:r.profile)==null?void 0:fe.user_id)||1,progress:0,stage:1,end_date:null,userid:(r==null?void 0:r.id)||null},{project_name:"project_name",project_description:"project_description"}),pe=await Kc.create(xe);i([...s,pe]),V({project_name:"",project_description:"",client_id:""}),F(!1)}catch(xe){console.error("Failed to create lead:",xe)}},te=f.filter(fe=>fe.stage_type==="projects").sort((fe,xe)=>{const pe=fe.stager_order_index??0,Te=xe.stager_order_index??0;return kr()?Te-pe:pe-Te}),_e=te.map(fe=>({id:fe.stage_id,name:Ae(fe,"stage_name"),color:fe.color,count:Q.filter(xe=>xe.stage===fe.stage_id).length})),Ce=()=>{var fe;return m?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):v?l.jsx(zp,{title:n("projects.errorTitle","Error loading projects"),message:v,onRetry:he}):s.length===0&&!A&&U==="all"&&ae==="all"?l.jsx(pl,{title:n("projects.emptyTitle","No projects found"),description:n("projects.emptyDescription","Get started by creating your first project."),icon:l.jsx(ef,{className:"h-10 w-10 text-muted-foreground"}),action:l.jsxs(ue,{onClick:()=>F(!0),children:[l.jsx(or,{className:"mr-2 h-4 w-4"})," ",n("projects.createProject")]})}):l.jsxs(l.Fragment,{children:[l.jsx(OO,{onSearch:X,onFilterStatus:H,onFilterAssignee:oe,onFilterDateRange:se,users:u,statuses:[{value:"todo",label:n("mprojects.notStarted")},{value:"in_progress",label:n("mprojects.inProgress")},{value:"done",label:n("mprojects.completed")}]}),L==="kanban"?l.jsx(l.Fragment,{children:l.jsx(Dx,{stages:_e,currentStageId:O||((fe=_e[0])==null?void 0:fe.id),onStageChange:D,children:l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:te.sort((xe,pe)=>xe.stage_id-pe.stage_id).filter(xe=>{var Te;return window.innerWidth<1024?xe.stage_id===(O||((Te=_e[0])==null?void 0:Te.id)):!0}).map((xe,pe)=>{var Fe,Ue;const Te=Q.filter(Ve=>Ve.stage===xe.stage_id);return console.log(`[Projects] Stage ${xe.stage_name} (${xe.stage_id}): ${Te.length} projects`),console.log("[Projects] Stage projects:",Te),l.jsxs("div",{className:ve("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",a?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${pe*.1}s`},onDragOver:Me,onDrop:()=>He(xe.stage_id),children:[!a&&l.jsx("div",{className:ve("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",xe.color||"border-l-4 border-primary/50"),children:l.jsx("div",{className:"flex items-center justify-between mb-2",children:x===xe.stage_id?l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx(We,{value:w,onChange:Ve=>_(Ve.target.value),onKeyDown:Ve=>{Ve.key==="Enter"&&P(xe.stage_id),Ve.key==="Escape"&&(b(null),_(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>P(xe.stage_id),className:"h-8 w-8 p-0",children:""})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),l.jsx("h2",{className:"font-bold text-base",children:Ae(xe,"stage_name")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Te.length}),l.jsxs(l.Fragment,{children:[l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{b(xe.stage_id),_(Ae(xe,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:l.jsx(Vi,{className:"h-3 w-3"})}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>Le(xe.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:l.jsx(wr,{className:"h-3 w-3"})})]})]})]})})}),l.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[((Fe=f.sort((Ve,ot)=>(Ve.stager_order_index||0)-(ot.stager_order_index||0))[0])==null?void 0:Fe.stage_id)===xe.stage_id&&l.jsx("div",{className:"mb-4",children:l.jsx(ct,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>dt(xe.stage_id),children:l.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[l.jsx(or,{className:"h-8 w-8"}),l.jsx("span",{className:"text-sm font-medium",children:n("projects.addNewProjectCard")})]})})}),Te.map(Ve=>{const ot=u.find(Kt=>Kt.userid===Number(Ve.created_by)||Kt.user_id===Number(Ve.created_by));return l.jsx(Eve,{project:Ve,client:o.find(Kt=>{var Qt,Nr;return((Qt=Kt.user_id)==null?void 0:Qt.toString())===((Nr=Ve.client_id)==null?void 0:Nr.toString())})||null,manager:ot||null,stages:f,onDelete:wt,onClick:()=>Z(Ve.project_id),onDragStart:$e,onStageChange:De,isDragging:N===Ve.project_id},Ve.project_id)}),((Ue=f.sort((Ve,ot)=>(Ve.stager_order_index||0)-(ot.stager_order_index||0))[0])==null?void 0:Ue.stage_id)!==xe.stage_id&&l.jsx("div",{className:"mt-2",children:l.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>dt(xe.stage_id),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),n("projects.addProject")]})})]})]},xe.stage_id)})})})}):l.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:l.jsxs(RO,{children:[l.jsx(IO,{children:l.jsxs(dv,{children:[l.jsx(fo,{children:n("projects.projectName")}),l.jsx(fo,{children:n("projects.client")}),l.jsx(fo,{children:n("projects.manager")}),l.jsx(fo,{children:n("projects.stage")}),l.jsx(fo,{children:n("projects.progress")}),l.jsx(fo,{children:n("projects.dueDate")}),l.jsx(fo,{className:"w-[50px]"})]})}),l.jsx(MO,{children:Q.map(xe=>{const pe=u.find(Ue=>Ue.userid===Number(xe.created_by)||Ue.user_id===Number(xe.created_by)),Te=o.find(Ue=>{var Ve,ot;return((Ve=Ue.user_id)==null?void 0:Ve.toString())===((ot=xe.client_id)==null?void 0:ot.toString())}),Fe=f.find(Ue=>Ue.stage_id===xe.stage);return l.jsxs(dv,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Z(xe.project_id),children:[l.jsx(ho,{className:"font-medium",children:Ae(xe,"project_name")}),l.jsx(ho,{children:Te?Ae(Te,"user_name"):"-"}),l.jsx(ho,{children:pe?Ae(pe,"user_name"):"-"}),l.jsx(ho,{children:l.jsx(ht,{variant:"outline",className:"bg-background",children:Fe?Ae(Fe,"stage_name"):"-"})}),l.jsx(ho,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bf,{value:xe.progress||0,className:"w-16 h-2"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[xe.progress,"%"]})]})}),l.jsx(ho,{className:"text-muted-foreground text-sm",children:xe.end_date?new Date(xe.end_date).toLocaleDateString():"-"}),l.jsx(ho,{children:l.jsx(ue,{variant:"ghost",size:"icon",onClick:Ue=>{Ue.stopPropagation(),wt(xe.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:l.jsx(wr,{className:"h-4 w-4"})})})]},xe.project_id)})})]})})]})};return l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:kr()?"rtl":"ltr",children:[l.jsx(Rx,{title:n("projects.title"),description:n("projects.subtitle"),icon:l.jsx(ef,{className:"h-5 w-5 text-primary"}),actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:L==="kanban"?"default":"ghost",size:"sm",onClick:()=>M("kanban"),className:"h-8 w-8 p-0",children:l.jsx(R_,{className:"h-4 w-4"})}),l.jsx(ue,{variant:L==="list"?"default":"ghost",size:"sm",onClick:()=>M("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})})]}),l.jsxs(ue,{onClick:()=>F(!0),children:[l.jsx(or,{className:"mr-2 h-4 w-4"})," ",n("projects.newProject")]})]}),stats:[{label:n("projects.total","Total Projects"),value:s.length,icon:l.jsx(ef,{className:"h-4 w-4 text-primary"})},{label:n("projects.inProgress","In Progress"),value:s.filter(fe=>(fe.progress||0)>0&&(fe.progress||0)<100).length,icon:l.jsx(To,{className:"h-4 w-4 text-blue-500"})},{label:n("projects.completed","Completed"),value:s.filter(fe=>(fe.progress||0)===100).length,icon:l.jsx(Cn,{className:"h-4 w-4 text-green-600"})},{label:n("projects.avgProgress","Avg Progress"),value:s.length>0?`${Math.round(s.reduce((fe,xe)=>fe+(xe.progress||0),0)/s.length)}%`:"0%",icon:l.jsx(bf,{className:"h-4 w-4 text-blue-500"})}]}),Ce(),l.jsx(An,{open:E,onOpenChange:C,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:n("projects.createProject")}),l.jsx(Ba,{children:n("projects.createProjectDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[n("projects.projectName")," *"]}),l.jsx(We,{value:T.project_name,onChange:fe=>z(xe=>({...xe,project_name:fe.target.value})),placeholder:n("projects.projectNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.description")}),l.jsx(da,{value:T.project_description,onChange:fe=>z(xe=>({...xe,project_description:fe.target.value})),placeholder:n("projects.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.client")}),l.jsxs(jt,{value:T.client_id,onValueChange:fe=>z(xe=>({...xe,client_id:fe})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:n("projects.selectClient")})}),l.jsx(St,{children:o.map(fe=>{var xe;return l.jsx(Pe,{value:((xe=fe.user_id)==null?void 0:xe.toString())||"",children:Ae(fe,"user_name")},fe.user_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.initialProgress")}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"range",min:"0",max:"100",value:T.progress,onChange:fe=>z(xe=>({...xe,progress:parseInt(fe.target.value)})),className:"w-full h-1.5"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"0%"}),l.jsxs("span",{children:[T.progress,"%"]}),l.jsx("span",{children:"100%"})]})]})]})]}),l.jsxs($a,{children:[l.jsx(ue,{variant:"outline",onClick:()=>C(!1),children:n("buttons.cancel")}),l.jsxs(ue,{onClick:ie,disabled:!((ye=T.project_name)!=null&&ye.trim()),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),n("projects.createProject")]})]})]})}),l.jsx(An,{open:q,onOpenChange:F,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:n("projects.createProject")}),l.jsx(Ba,{children:n("projects.createProjectDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[n("projects.projectName")," *"]}),l.jsx(We,{value:I.project_name,onChange:fe=>V(xe=>({...xe,project_name:fe.target.value})),placeholder:n("projects.projectNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.description")}),l.jsx(da,{value:I.project_description,onChange:fe=>V(xe=>({...xe,project_description:fe.target.value})),placeholder:n("projects.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.client")}),l.jsxs(jt,{value:I.client_id,onValueChange:fe=>V(xe=>({...xe,client_id:fe})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:n("projects.selectClient")})}),l.jsx(St,{children:o.map(fe=>{var xe;return l.jsx(Pe,{value:((xe=fe.user_id)==null?void 0:xe.toString())||"",children:Ae(fe,"user_name")},fe.user_id)})})]})]})]}),l.jsxs($a,{children:[l.jsx(ue,{variant:"outline",onClick:()=>F(!1),children:n("buttons.cancel")}),l.jsxs(ue,{onClick:me,disabled:!((le=I.project_name)!=null&&le.trim()),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),n("projects.createProject")]})]})]})}),l.jsx(Sl,{open:!!Y,onOpenChange:fe=>!fe&&Z(null),children:l.jsxs(Io,{side:kr()?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[l.jsxs(yc,{className:"sr-only",children:[l.jsx(jl,{children:"Project Details"}),l.jsx(Cx,{children:"View and manage project information"})]}),Y&&l.jsx(Nve,{projectId:Y,onClose:()=>Z(null)})]})})]})}const U1={async signUpStaff(e,r,n){console.log("[authService] Creating staff user:",{email:e,userData:n});try{const{data:a,error:s}=await Jt.auth.signUp({email:e,password:r});if(s)throw s;if(!a.user)throw new Error("No user data returned from sign up");console.log("[authService] Auth user created:",a.user.id);const i=await G.users.create({name:n.name,Email:e,permissions:n.role==="admin"?1:2,IsActive:1,Employee:1,userid:a.user.id});return console.log("[authService] User profile created in MySQL:",i),console.log("[authService] User profile created:",i),{id:a.user.id,email:e,role:n.role,profile:{userid:i.userid,name:i.name||n.name,Email:i.Email||e,permissions:i.permissions||(n.role==="admin"?1:2),IsActive:i.IsActive||1,Employee:i.Employee||1,AccountNumber:i.AccountNumber||null,mobile:i.mobile||null,user_pasword:i.user_pasword||null,pin:i.pin||null,Owner:i.Owner||0,Email_v:i.Email_v||0,isAllBranches:i.isAllBranches||0,Safe:i.Safe||1,created_at:i.created_at||new Date().toISOString(),updated_at:i.updated_at||new Date().toISOString()}}}catch(a){throw console.error("[authService] Error in signUpStaff:",a),a}},async createStaffUser(e,r,n){console.log("[authService] Creating staff user via Edge Function:",{email:e,userData:n});try{const{data:{session:a},error:s}=await Jt.auth.getSession();if(s||!(a!=null&&a.access_token))throw new Error("No active session found");const i="https://studio.middar.com/",o=`${i}/functions/v1/crud-staff-user`,c=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`,"x-user-id":a.user.id},body:JSON.stringify({action:"add",email:e,password:r,userData:{user_name:n.name,user_role:n.role,...n.localizedData||{}}})});if(!c.ok){const h=await c.json();throw new Error(h.error||`HTTP ${c.status}`)}const u=await c.json();if(console.log("[authService] Staff user created successfully:",u),!u.ok)throw new Error("Edge Function returned an error status");const d=u.auth_id??u.authUserId;if(!d)throw new Error("Auth user ID missing from response");if(u.user_id==null)throw new Error("User ID missing from response");const f=u.user_id??null;return{id:d,email:e,role:n.role,profile:{userid:d,name:u.name||n.name,Email:u.Email||e,permissions:u.permissions||(n.role==="admin"?1:2),IsActive:u.IsActive||1,Employee:u.Employee||1,AccountNumber:u.AccountNumber||null,mobile:u.mobile||null,user_pasword:u.user_pasword||null,pin:u.pin||null,Owner:u.Owner||0,Email_v:u.Email_v||0,isAllBranches:u.isAllBranches||0,Safe:u.Safe||1,created_at:u.created_at||new Date().toISOString(),updated_at:u.updated_at||new Date().toISOString()}}}catch(a){throw console.error("[authService] Error in createStaffUser:",a),a}},async updateUserRole(e,r){console.log("[authService] Updating user role:",{targetUserId:e,newRole:r});try{const{data:{session:n},error:a}=await Jt.auth.getSession();if(a||!(n!=null&&n.access_token))throw new Error("No active session found");const s="https://studio.middar.com/".trim();if(!s)throw new Error("Missing VITE_SUPABASE_URL");const i=`${s}/functions/v1/crud-staff-user`,o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,"x-user-id":n.user.id},body:JSON.stringify({action:"update",targetUserId:e,userData:{user_role:r}})});if(!o.ok){const c=await o.json();throw new Error(c.error||`HTTP ${o.status}`)}console.log("[authService] User role updated successfully")}catch(n){throw console.error("[authService] Error in updateUserRole:",n),n}},async updateUser(e,r){var n;console.log("[authService] Updating user details:",{targetUserId:e,userData:r});try{const{data:{session:a},error:s}=await Jt.auth.getSession();if(s||!(a!=null&&a.access_token))throw new Error("No active session found");const i="https://studio.middar.com/".trim();if(!i)throw new Error("Missing VITE_SUPABASE_URL");const o=`${i}/functions/v1/crud-staff-user`,c={action:"update",targetUserId:e,userData:{}};if(r.Email!==void 0&&(c.email=r.Email,c.userData.Email=r.Email),r.name!==void 0&&(c.userData.name=r.name),r.permissions!==void 0&&(c.userData.permissions=r.permissions),r.mobile!==void 0){const d=(n=(await G.users.list({exact_filters:{userid:e}})).data)==null?void 0:n[0];if(!d)throw new Error("User not found in MySQL");await G.users.update(d.userid,{mobile:r.mobile})}if(c.userData.name||c.userData.Email||c.userData.permissions){const u=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`,"x-user-id":a.user.id},body:JSON.stringify(c)});if(!u.ok){const f=await u.json();throw new Error(f.error||`HTTP ${u.status}`)}const d=await u.json();console.log("[authService] Edge Function update result:",d)}console.log("[authService] User details updated successfully")}catch(a){throw console.error("[authService] Error in updateUser:",a),a}},async deleteUser(e){console.log("[authService] Deleting user:",e);try{const{data:{session:r},error:n}=await Jt.auth.getSession();if(n||!(r!=null&&r.access_token))throw new Error("No active session found");const a="https://studio.middar.com/",s=`${a}/functions/v1/crud-staff-user`,i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,"x-user-id":r.user.id},body:JSON.stringify({action:"delete",targetUserId:e})});if(!i.ok){const o=await i.json();throw new Error(o.error||`HTTP ${i.status}`)}console.log("[authService] User deleted successfully")}catch(r){throw console.error("[authService] Error in deleteUser:",r),r}},async signUpClient(e,r,n){console.log("[authService] Signing up client:",{email:e,...n});const{data:a,error:s}=await Jt.auth.signUp({email:e,password:r});if(s)throw s;if(!a.user)throw new Error("User creation failed");console.log("[authService] Auth user created:",a.user.id);const i=await G.users.create({name:n.name,Email:e,permissions:3,IsActive:1,Employee:0,mobile:n.contact?String(n.contact):null,userid:a.user.id});return console.log("[authService] User profile created in MySQL:",i),{id:a.user.id,email:e,role:"client",profile:{userid:i.userid,name:i.name||n.name,Email:i.Email||e,permissions:3,mobile:i.mobile||(n.contact?String(n.contact):null),IsActive:1,Employee:0,AccountNumber:null,user_pasword:null,pin:null,Owner:0,Email_v:0,isAllBranches:0,Safe:1,created_at:i.created_at||new Date().toISOString(),updated_at:i.updated_at||new Date().toISOString()}}},async signIn(e,r){var n;console.log("[authService] Signing in with email:",e);try{const{data:a,error:s}=await Jt.auth.signInWithPassword({email:e,password:r});if(s)throw console.error("[authService] Authentication error:",s),s;if(!a.user)throw new Error("Sign in failed: No user data returned");console.log("[authService] User authenticated, fetching profile...");const o=(n=(await G.users.list({exact_filters:{userid:a.user.id}})).data)==null?void 0:n[0];if(!o)throw console.error("[authService] User profile not found in MySQL for user:",a.user.id),new Error("User profile not found");return console.log("[authService] User profile found in MySQL:",o),{id:a.user.id,email:a.user.email,role:o.permissions===1?"admin":"client",profile:{...o}}}catch(a){throw console.error("[authService] Error in signIn:",a),a}},async signOut(){console.log("[authService] Signing out...");try{const{data:{session:e}}=await Jt.auth.getSession();if(!e){console.warn("[authService] No active session found  skipping signOut()");return}const{error:r}=await Jt.auth.signOut();if(r)throw console.error("[authService] Error signing out:",r),r;console.log("[authService] Sign out successful")}catch(e){throw console.error("[authService] Error in signOut:",e),e}},async signInWithGoogle(e="client"){console.log("[authService] Starting Google OAuth sign-in with role:",e);try{localStorage.setItem("oauth_intended_role",e);const{data:r,error:n}=await Jt.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,data:{intended_role:e},queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(n)throw console.error("[authService] Google OAuth error:",n),localStorage.removeItem("oauth_intended_role"),n;console.log("[authService] Google OAuth initiated successfully with role:",e)}catch(r){throw console.error("[authService] Error in Google sign-in:",r),localStorage.removeItem("oauth_intended_role"),r}},async getFreshJwt(){const{data:{session:e},error:r}=await Jt.auth.getSession();if(r)throw r;if(!(e!=null&&e.access_token))throw new Error("No access token available");return e.access_token},async getCurrentUser(e){var r;try{let n;if(e)n={id:e,email:""};else{const{data:{user:i},error:o}=await Jt.auth.getUser();if(o||!i)return null;n=i}console.log("[authService] Fetching profile for:",n.id);const s=(r=(await G.users.list({exact_filters:{userid:n.id}})).data)==null?void 0:r[0];return s?{id:n.id,email:s.Email||n.email||"",role:s.permissions===1?"admin":"client",profile:s}:(console.warn("[authService] User not found in Users table, returning minimal profile"),{id:n.id,email:n.email||"",role:"client",profile:{userid:0,name:"User",Email:n.email||"",permissions:3,IsActive:1,Employee:0,AccountNumber:null,mobile:null,user_pasword:null,pin:null,Owner:0,Email_v:0,isAllBranches:0,Safe:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}})}catch(n){return console.error("[authService] Error in getCurrentUser:",n),null}},onAuthStateChange(e){let r=null;const{data:{subscription:n}}=Jt.auth.onAuthStateChange(async(a,s)=>{if(console.log("[authService] Auth event:",a),s!=null&&s.user){const i=await this.getCurrentUser(s.user.id);JSON.stringify(i)!==JSON.stringify(r)&&(r=i,e(i))}else r!==null&&(r=null,e(null))});return{data:{subscription:n}}}};function Tve(e,r){return y.useReducer((n,a)=>r[n][a]??n,e)}var WO="ScrollArea",[CH,CXe]=ps(WO),[Ave,qi]=CH(WO),TH=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,type:a="hover",dir:s,scrollHideDelay:i=600,...o}=e,[c,u]=y.useState(null),[d,f]=y.useState(null),[h,m]=y.useState(null),[p,v]=y.useState(null),[g,x]=y.useState(null),[b,w]=y.useState(0),[_,S]=y.useState(0),[j,N]=y.useState(!1),[k,E]=y.useState(!1),C=Wt(r,D=>u(D)),O=gx(s);return l.jsx(Ave,{scope:n,type:a,dir:O,scrollHideDelay:i,scrollArea:c,viewport:d,onViewportChange:f,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:j,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:k,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:S,children:l.jsx(mt.div,{dir:O,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});TH.displayName=WO;var AH="ScrollAreaViewport",OH=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,children:a,nonce:s,...i}=e,o=qi(AH,n),c=y.useRef(null),u=Wt(r,c,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(mt.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});OH.displayName=AH;var Dl="ScrollAreaScrollbar",HO=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=qi(Dl,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,c=e.orientation==="horizontal";return y.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),s.type==="hover"?l.jsx(Ove,{...a,ref:r,forceMount:n}):s.type==="scroll"?l.jsx(Pve,{...a,ref:r,forceMount:n}):s.type==="auto"?l.jsx(PH,{...a,ref:r,forceMount:n}):s.type==="always"?l.jsx(qO,{...a,ref:r}):null});HO.displayName=Dl;var Ove=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=qi(Dl,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const d=()=>{window.clearTimeout(u),o(!0)},f=()=>{u=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(za,{present:n||i,children:l.jsx(PH,{"data-state":i?"visible":"hidden",...a,ref:r})})}),Pve=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=qi(Dl,e.__scopeScrollArea),i=e.orientation==="horizontal",o=lS(()=>u("SCROLL_END"),100),[c,u]=Tve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,s.scrollHideDelay,u]),y.useEffect(()=>{const d=s.viewport,f=i?"scrollLeft":"scrollTop";if(d){let h=d[f];const m=()=>{const p=d[f];h!==p&&(u("SCROLL"),o()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,i,u,o]),l.jsx(za,{present:n||c!=="hidden",children:l.jsx(qO,{"data-state":c==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:nt(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:nt(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),PH=y.forwardRef((e,r)=>{const n=qi(Dl,e.__scopeScrollArea),{forceMount:a,...s}=e,[i,o]=y.useState(!1),c=e.orientation==="horizontal",u=lS(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(c?d:f)}},10);return Km(n.viewport,u),Km(n.content,u),l.jsx(za,{present:a||i,children:l.jsx(qO,{"data-state":i?"visible":"hidden",...s,ref:r})})}),qO=y.forwardRef((e,r)=>{const{orientation:n="vertical",...a}=e,s=qi(Dl,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[c,u]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=FH(c.viewport,c.content),f={...a,sizes:c,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return Lve(m,o.current,c,p)}return n==="horizontal"?l.jsx(Dve,{...f,ref:r,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,p=FM(m,c,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?l.jsx(Rve,{...f,ref:r,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,p=FM(m,c);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),Dve=y.forwardRef((e,r)=>{const{sizes:n,onSizesChange:a,...s}=e,i=qi(Dl,e.__scopeScrollArea),[o,c]=y.useState(),u=y.useRef(null),d=Wt(r,u,i.onScrollbarXChange);return y.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),l.jsx(RH,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":oS(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),$H(m,h)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:z1(o.paddingLeft),paddingEnd:z1(o.paddingRight)}})}})}),Rve=y.forwardRef((e,r)=>{const{sizes:n,onSizesChange:a,...s}=e,i=qi(Dl,e.__scopeScrollArea),[o,c]=y.useState(),u=y.useRef(null),d=Wt(r,u,i.onScrollbarYChange);return y.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),l.jsx(RH,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":oS(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(i.viewport){const m=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),$H(m,h)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:z1(o.paddingTop),paddingEnd:z1(o.paddingBottom)}})}})}),[Ive,DH]=CH(Dl),RH=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:h,...m}=e,p=qi(Dl,n),[v,g]=y.useState(null),x=Wt(r,C=>g(C)),b=y.useRef(null),w=y.useRef(""),_=p.viewport,S=a.content-a.viewport,j=Zn(f),N=Zn(u),k=lS(h,10);function E(C){if(b.current){const O=C.clientX-b.current.left,D=C.clientY-b.current.top;d({x:O,y:D})}}return y.useEffect(()=>{const C=O=>{const D=O.target;(v==null?void 0:v.contains(D))&&j(O,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[_,v,S,j]),y.useEffect(N,[a,N]),Km(v,k),Km(p.content,k),l.jsx(Ive,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:Zn(i),onThumbPointerUp:Zn(o),onThumbPositionChange:N,onThumbPointerDown:Zn(c),children:l.jsx(mt.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:nt(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(C))}),onPointerMove:nt(e.onPointerMove,E),onPointerUp:nt(e.onPointerUp,C=>{const O=C.target;O.hasPointerCapture(C.pointerId)&&O.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),V1="ScrollAreaThumb",IH=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=DH(V1,e.__scopeScrollArea);return l.jsx(za,{present:n||s.hasThumb,children:l.jsx(Mve,{ref:r,...a})})}),Mve=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,style:a,...s}=e,i=qi(V1,n),o=DH(V1,n),{onThumbPositionChange:c}=o,u=Wt(r,h=>o.onThumbChange(h)),d=y.useRef(void 0),f=lS(()=>{d.current&&(d.current(),d.current=void 0)},100);return y.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(f(),!d.current){const p=$ve(h,c);d.current=p,c()}};return c(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,f,c]),l.jsx(mt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:nt(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),v=h.clientX-p.left,g=h.clientY-p.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:nt(e.onPointerUp,o.onThumbPointerUp)})});IH.displayName=V1;var KO="ScrollAreaCorner",MH=y.forwardRef((e,r)=>{const n=qi(KO,e.__scopeScrollArea),a=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&a?l.jsx(Fve,{...e,ref:r}):null});MH.displayName=KO;var Fve=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,...a}=e,s=qi(KO,n),[i,o]=y.useState(0),[c,u]=y.useState(0),d=!!(i&&c);return Km(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),u(f)}),Km(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),d?l.jsx(mt.div,{...a,ref:r,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function z1(e){return e?parseInt(e,10):0}function FH(e,r){const n=e/r;return isNaN(n)?0:n}function oS(e){const r=FH(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-n)*r;return Math.max(a,18)}function Lve(e,r,n,a="ltr"){const s=oS(n),i=s/2,o=r||i,c=s-o,u=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-c,f=n.content-n.viewport,h=a==="ltr"?[0,f]:[f*-1,0];return LH([u,d],h)(e)}function FM(e,r,n="ltr"){const a=oS(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-s,o=r.content-r.viewport,c=i-a,u=n==="ltr"?[0,o]:[o*-1,0],d=G2(e,u);return LH([0,o],[0,c])(d)}function LH(e,r){return n=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(n-e[0])}}function $H(e,r){return e>0&&e<r}var $ve=(e,r=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},a=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,c=n.top!==i.top;(o||c)&&r(),n=i,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function lS(e,r){const n=Zn(e),a=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(a.current),[]),y.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,r)},[n,r])}function Km(e,r){const n=Zn(r);Dn(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,n])}var BH=TH,Bve=OH,Uve=MH;const la=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(BH,{ref:a,className:ve("relative overflow-hidden",e),...n,children:[l.jsx(Bve,{className:"h-full w-full rounded-[inherit]",children:r}),l.jsx(UH,{}),l.jsx(Uve,{})]}));la.displayName=BH.displayName;const UH=y.forwardRef(({className:e,orientation:r="vertical",...n},a)=>l.jsx(HO,{ref:a,orientation:r,className:ve("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(IH,{className:"relative flex-1 rounded-full bg-border"})}));UH.displayName=HO.displayName;const Bw={async createApplication(e){return await G.partnerApply.create(e)},async getApplications(){return(await G.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,r){await G.partnerApply.update(e,{status:r})}},Vve=async e=>{const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(a)).map(o=>o.toString(16).padStart(2,"0")).join("")};function zve(){const{user:e}=vr(),{createStaffUser:r,deleteUser:n,updateUserRole:a,updateUser:s}=U1,{currentLanguage:i,isRTL:o}=Va();yn();const{t:c}=qt(),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState(!0),[v,g]=y.useState(""),[x,b]=y.useState(!1),[w,_]=y.useState(""),[S,j]=y.useState(""),[N,k]=y.useState(""),[E,C]=y.useState("employee"),[O,D]=y.useState(""),[T,z]=y.useState(!1),[q,F]=y.useState(null),[I,V]=y.useState("all"),[L,M]=y.useState("employees"),[Y,Z]=y.useState(!1),[A,X]=y.useState(null),[U,H]=y.useState(!1),[ae,oe]=y.useState({name:"",Email:"",mobile:"",permissions:""}),[we,se]=y.useState(!1),[Q,he]=y.useState(""),[P,Le]=y.useState(new Map);y.useEffect(()=>{Me(),$e()},[]);const $e=async()=>{try{const le=await PA(),fe=new Map;le.forEach(xe=>{fe.set(xe.permissions_ID,xe.permissions_Name)}),Le(fe)}catch(le){console.error("Failed to load permission names:",le)}},Me=async()=>{try{p(!0);const[le,fe]=await Promise.all([cn.getAll(),Bw.getApplications()]);d(le),h(fe)}catch(le){console.error("Failed to load users:",le)}finally{p(!1)}},He=u.filter(le=>{var ot,Kt;const fe=L==="employees",xe=L==="clients",pe=L==="partners";if(fe&&![1,2,3,4].includes(Number(le.permissions))||pe&&![5,6].includes(Number(le.permissions)))return!1;const Te=((ot=le.name)==null?void 0:ot.toLowerCase())||"",Fe=((Kt=le.Email)==null?void 0:Kt.toLowerCase())||"",Ue=String(le.permissions||""),Ve=v.toLowerCase();return Te.includes(Ve)||Fe.includes(Ve)||Ue.includes(Ve)}),De=le=>{const fe=["destructive","default","secondary","outline","default","secondary"];return le&&le>=1&&le<=fe.length?fe[le-1]:"secondary"},wt=le=>{if(!le)return"User";const fe=P.get(le);return fe||{1:"Admin",2:"Manager",3:"Employee",4:"Team Leader",5:"Partner Employee",6:"Partner Leader"}[le]||`Permission ${le}`},dt=async le=>{if(le.preventDefault(),!T){D(""),z(!0);try{const fe=await Vve(N),xe={name:w,Email:S,user_pasword:fe,permissions:E==="admin"?1:E==="manager"||E==="employee"?2:E==="team_leader"?4:2},pe=await G.Users.create(xe);q&&(await Bw.updateStatus(q,"approved"),F(null)),b(!1),_(""),j(""),k(""),C("employee"),Me()}catch(fe){D(fe.message||c("users.addUserError"))}finally{z(!1)}}},ie=le=>{_(le.full_name),j(le.email),C("employee"),k(""),F(le.apply_id),b(!0),M("employees")},me=async le=>{if(confirm(c("users.rejectConfirmation")))try{await Bw.updateStatus(le,"rejected"),Me()}catch(fe){console.error("Failed to reject application:",fe)}},te=async(le,fe)=>{if(confirm(c("users.deleteConfirmation",{name:fe})))try{await n(le),Me()}catch(xe){alert(`${c("users.deleteError")}: ${xe.message}`)}},_e=async(le,fe)=>{try{await a(le,fe),Me()}catch(xe){alert(`${c("users.updateRoleError")}: ${xe.message}`)}},Ce=async le=>{var fe;if(le.preventDefault(),!(we||!A)){he(""),se(!0);try{const xe={};ae.name!==Ae(A,"name")&&(xe.name=ae.name),ae.Email!==A.Email&&(xe.Email=ae.Email),ae.mobile!==((fe=A.mobile)==null?void 0:fe.toString())&&(xe.mobile=ae.mobile?parseInt(ae.mobile):null),ae.permissions!==A.permissions&&(xe.permissions=ae.permissions),Object.keys(xe).length>0?(await s(String(A.userid),xe),H(!1),Me()):H(!1)}catch(xe){he(xe.message||c("users.updateUserError"))}finally{se(!1)}}},ye=le=>{var fe;X(le),oe({name:le.name||"",Email:le.Email||"",mobile:((fe=le.mobile)==null?void 0:fe.toString())||"",permissions:le.permissions||""}),H(!1),he(""),Z(!0)};return m?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:o?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:c("users.title")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ia,{className:"h-5 w-5"}),l.jsxs("span",{className:"text-sm font-medium",children:[u.length," ",c("users.totalUsers")]})]}),l.jsx("p",{className:"hidden md:block text-muted-foreground",children:c("users.subtitle")})]}),l.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[l.jsxs(ue,{variant:L==="employees"?"default":"ghost",size:"sm",onClick:()=>M("employees"),className:"h-8 px-3",children:[l.jsx(bI,{className:"h-4 w-4 mr-2"}),c("users.employees")]}),l.jsxs(ue,{variant:L==="clients"?"default":"ghost",size:"sm",onClick:()=>M("clients"),className:"h-8 px-3",children:[l.jsx(Un,{className:"h-4 w-4 mr-2"}),c("users.clients")]}),l.jsxs(ue,{variant:L==="partners"?"default":"ghost",size:"sm",onClick:()=>M("partners"),className:"h-8 px-3",children:[l.jsx(Ia,{className:"h-4 w-4 mr-2"}),c("users.partners")]})]}),L==="employees"&&l.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&l.jsxs(An,{open:x,onOpenChange:b,children:[l.jsx(Bh,{asChild:!0,children:l.jsxs(ue,{className:"w-full",children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),c("users.addUser")]})}),l.jsxs(mn,{children:[l.jsxs(pn,{children:[l.jsx(gn,{children:c("users.addNewUser")}),l.jsx(Ba,{children:c("users.addUserDescription")})]}),l.jsxs("form",{onSubmit:dt,className:"space-y-4",children:[O&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:O})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formName",children:c("users.fullName")}),l.jsx(We,{id:"formName",value:w,onChange:le=>_(le.target.value),placeholder:c("users.fullName"),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formEmail",children:c("users.email")}),l.jsx(We,{id:"formEmail",type:"email",value:S,onChange:le=>j(le.target.value),placeholder:c("users.email"),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formPassword",children:c("users.password")}),l.jsx(We,{id:"formPassword",type:"password",value:N,onChange:le=>k(le.target.value),placeholder:c("users.password"),required:!0,minLength:6})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formRole",children:c("users.role")}),l.jsxs(jt,{value:E,onValueChange:le=>C(le),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"employee",children:c("users.employee")}),l.jsx(Pe,{value:"manager",children:c("users.manager")}),l.jsx(Pe,{value:"admin",children:c("users.admin")}),l.jsx(Pe,{value:"team_leader",children:c("users.team_leader")})]})]})]}),l.jsx(ue,{type:"submit",className:"w-full",disabled:T,children:c(T?"users.addingUser":"users.addUser")})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(We,{placeholder:c("users.searchPlaceholder"),value:v,onChange:le=>g(le.target.value),className:"pl-10"})]}),l.jsxs(la,{className:"flex-1",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:He.map(le=>l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsx(Yt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(br,{className:"text-lg truncate",children:Ae(le,"name")}),l.jsx(ht,{variant:De(le.permissions),className:"mt-1",children:wt(le.permissions)})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>ye(le),children:l.jsx(Mi,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>te(String(le.userid),Ae(le,"name")),children:l.jsx(wr,{className:"h-4 w-4"})})]})]})}),l.jsxs(xt,{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(gh,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:le.Email})]}),le.mobile&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(em,{className:"h-4 w-4"}),l.jsx("span",{children:le.mobile})]}),(le.permissions===2||le.permissions===1)&&!0&&l.jsxs("div",{className:"pt-2 border-t",children:[l.jsx("div",{className:"text-xs font-medium mb-1",children:c("users.changeRole")}),l.jsxs(jt,{value:String(le.permissions),onValueChange:fe=>_e(String(le.userid),fe),children:[l.jsx(_t,{className:"w-full h-8",children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"2",children:c("users.employee")}),l.jsx(Pe,{value:"1",children:c("users.manager")})]})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[c("users.joined")," ",le.created_at?new Date(le.created_at).toLocaleDateString():"-"]})]})]},le.userid))}),He.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ia,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:c("users.noUsersFound")}),l.jsx("p",{className:"text-muted-foreground",children:c(v?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),L==="clients"&&l.jsx("div",{className:"space-y-6",children:l.jsxs(la,{className:"flex-1",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:He.map(le=>l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsx(Yt,{className:"pb-3",children:l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(br,{className:"text-lg truncate",children:Ae(le,"name")}),l.jsx(ht,{variant:"outline",className:"mt-1",children:c("users.client")})]})})}),l.jsxs(xt,{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(gh,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:le.Email})]}),le.mobile&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(em,{className:"h-4 w-4"}),l.jsx("span",{children:le.mobile})]}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[c("users.joined")," ",le.created_at?new Date(le.created_at).toLocaleDateString():"-"]})]})]},le.userid))}),He.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Un,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:c("clients.noClientsFound")}),l.jsx("p",{className:"text-muted-foreground",children:c("clients.noClientsYet")})]})]})}),L==="partners"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[l.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(bI,{className:"h-5 w-5"}),c("users.partnerUsers"),l.jsx(ht,{variant:"secondary",className:"ml-auto",children:u.filter(le=>[5,6].includes(Number(le.permissions))).length})]}),l.jsx(la,{className:"flex-1 pr-4",children:l.jsx("div",{className:"space-y-3",children:u.filter(le=>[5,6].includes(Number(le.permissions))).length>0?u.filter(le=>[5,6].includes(Number(le.permissions))).map(le=>l.jsx(ct,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>ye(le),children:l.jsxs(xt,{className:"p-4 flex items-center gap-3",children:[l.jsxs(Ds,{children:[l.jsx(Po,{src:le.avatar||""}),l.jsx(Rs,{children:Ae(le,"name").charAt(0).toUpperCase()})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:Ae(le,"name")}),l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:le.Email}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(ht,{variant:"outline",className:"text-xs py-0 h-5",children:le.permissions===5?c("users.partner_leader"):c("users.partner_employee")}),le.company_name&&l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(xie,{className:"h-3 w-3"}),le.company_name]})]})]})]})},le.userid)):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Ia,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:c("users.noPartnerUsersFound")})]})})})]}),l.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(gh,{className:"h-5 w-5"}),c("users.partnerApplications"),l.jsx(ht,{variant:"secondary",children:f.length})]}),l.jsx("div",{className:"w-[140px]",children:l.jsxs(jt,{value:I,onValueChange:le=>V(le),children:[l.jsx(_t,{className:"h-8",children:l.jsx(kt,{placeholder:c("common.filter")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:c("common.all")}),l.jsx(Pe,{value:"pending",children:c("status.pending")}),l.jsx(Pe,{value:"approved",children:c("status.approved")}),l.jsx(Pe,{value:"rejected",children:c("status.rejected")})]})]})})]}),l.jsx(la,{className:"flex-1 pr-4",children:l.jsx("div",{className:"space-y-3",children:f.filter(le=>I==="all"||le.status===I).length>0?f.filter(le=>I==="all"||le.status===I).map(le=>l.jsx(ct,{children:l.jsxs(xt,{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[l.jsx("div",{className:"font-medium",children:le.company_name||le.full_name}),l.jsx(ht,{variant:le.status==="pending"?"outline":le.status==="approved"?"default":"destructive",className:"capitalize",children:c(`status.${le.status}`)})]}),l.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Un,{className:"h-3 w-3"}),le.full_name]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gh,{className:"h-3 w-3"}),le.email]}),le.phone&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(em,{className:"h-3 w-3"}),le.phone]})]}),le.status==="pending"&&l.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[l.jsx(ue,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>me(le.apply_id),children:c("users.reject")}),l.jsx(ue,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>ie(le),children:c("users.approve")})]})]})},le.apply_id)):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(gh,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:c("users.noApplicationsFound")})]})})})]})]}),l.jsx(An,{open:Y,onOpenChange:Z,children:l.jsxs(mn,{className:"max-w-2xl max-h-[80vh]",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:c("users.userDetails")}),l.jsx(Ba,{children:c("users.userDetailsDescription")})]}),A&&l.jsx(la,{className:"max-h-[60vh] pr-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold",children:Ae(A,"name")}),l.jsx(ht,{variant:De(A.permissions),className:"mt-1",children:wt(A.permissions)})]})}),U?l.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[Q&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:Q})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editName",children:c("users.fullName")}),l.jsx(We,{id:"editName",value:ae.name,onChange:le=>oe(fe=>({...fe,name:le.target.value})),placeholder:c("users.fullName")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editEmail",children:c("users.email")}),l.jsx(We,{id:"editEmail",type:"email",value:ae.Email,onChange:le=>oe(fe=>({...fe,Email:le.target.value})),placeholder:c("users.email")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editRole",children:c("users.role")}),l.jsxs(jt,{value:String(ae.permissions),onValueChange:le=>oe(fe=>({...fe,permissions:Number(le)})),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"2",children:c("users.employee")}),l.jsx(Pe,{value:"1",children:c("users.manager")}),l.jsx(Pe,{value:"3",children:c("users.client")}),l.jsx(Pe,{value:"4",children:c("users.partner")}),l.jsx(Pe,{value:"5",children:c("users.partner_employee")})]})]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:c("users.joined")}),l.jsx("p",{className:"text-sm",children:new Date(A.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:c("users.updated")}),l.jsx("p",{className:"text-sm",children:A.updated_at?new Date(A.updated_at).toLocaleDateString():"-"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editPhone",children:c("users.phone")}),l.jsx(We,{id:"editPhone",type:"tel",value:ae.mobile,onChange:le=>oe(fe=>({...fe,mobile:le.target.value})),placeholder:c("users.phone")})]}),A.client_contact&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:c("users.contact")}),l.jsx("p",{className:"text-sm",children:A.client_contact})]}),A.company_name&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:c("users.company")}),l.jsx("p",{className:"text-sm",children:Ae(A,"company_name")})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:c("users.userId")}),l.jsx("p",{className:"text-sm font-mono text-xs",children:A.userid})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>H(!1),children:c("buttons.cancel")}),l.jsx(ue,{type:"submit",disabled:we,children:c(we?"buttons.saving":"buttons.save")})]})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.fullName")}),l.jsx("p",{className:"text-sm",children:Ae(A,"name")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.email")}),l.jsx("p",{className:"text-sm",children:A.Email||c("common.na")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.role")}),l.jsx("p",{className:"text-sm",children:c(`users.${A.permissions===1?"admin":A.permissions===2?"employee":A.permissions===3?"client":"user"}`)})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.joined")}),l.jsx("p",{className:"text-sm",children:new Date(A.created_at).toLocaleDateString()})]}),A.updated_at&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.updated")}),l.jsx("p",{className:"text-sm",children:new Date(A.updated_at).toLocaleDateString()})]})]}),l.jsxs("div",{className:"space-y-3",children:[A.user_phone&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.phone")}),l.jsx("p",{className:"text-sm",children:A.mobile})]}),A.client_contact&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.contact")}),l.jsx("p",{className:"text-sm",children:A.client_contact})]}),A.company_name&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.company")}),l.jsx("p",{className:"text-sm",children:Ae(A,"company_name")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.userId")}),l.jsx("p",{className:"text-sm font-mono text-xs",children:A.userid})]})]})]}),A.userid&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.authId","Auth ID")}),l.jsx("p",{className:"text-sm font-mono text-xs break-all",children:A.userid})]})]})}),l.jsxs($a,{children:[!U&&!0&&l.jsx(ue,{variant:"outline",onClick:()=>H(!0),children:c("buttons.edit")}),l.jsx(ue,{onClick:()=>Z(!1),children:c("buttons.close")})]})]})})]})}function Wve(){vr();const{t:e}=qt(),{isRTL:r}=Va();yn();const n=Vs();console.log("Teams Page - isRTL:",r);const[a,s]=y.useState([]),[i,o]=y.useState([]),[c,u]=y.useState({}),[d,f]=y.useState(!0),[h,m]=y.useState(""),[p,v]=y.useState(!1),[g,x]=y.useState(""),[b,w]=y.useState(""),[_,S]=y.useState(null),j=!0;y.useEffect(()=>{k(),E()},[]);const N=F=>{n("/chats",{state:{teamId:F}})},k=async()=>{try{f(!0);const F=await ch.getAll(),I=await ch.getAllTeamMembers();s(F),u(I)}catch(F){console.error("Failed to load teams:",F)}finally{f(!1)}},E=async()=>{try{const F=await cn.getAll();o(F)}catch(F){console.error("Failed to load users:",F)}},C=async()=>{if(g.trim())try{const F=wl({team_name:g.trim(),team_leader_id:(b==null?void 0:b.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await ch.create(F),x(""),w(""),v(!1),await k()}catch(F){console.error("Failed to create team:",F)}},O=async(F,I)=>{try{await ch.addMember(F,I),await k()}catch(V){console.error("Failed to add team member:",V)}},D=async(F,I)=>{try{await ch.removeMember(F,I),await k()}catch(V){console.error("Failed to remove team member:",V)}},T=async F=>{try{await ch.delete(F),s(I=>I.filter(V=>V.team_id!==F)),u(I=>{const V={...I};return delete V[F],V}),S(null)}catch(I){console.error("Failed to delete team:",I)}},z=a.filter(F=>(Ae(F,"team_name")||"").toLowerCase().includes(h.toLowerCase())),q=i;return d?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ia,{className:"h-5 w-5"}),l.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:a.length})})]}),l.jsxs(An,{open:p,onOpenChange:v,children:[l.jsx(Bh,{asChild:!0,children:l.jsxs(ue,{children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),l.jsxs(mn,{className:"sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:e("teams.createTeamTitle")}),l.jsx(Ba,{children:e("teams.createTeamDesc")})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(Ge,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),l.jsx(We,{id:"team-name",value:g,onChange:F=>x(F.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(Ge,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),l.jsxs(jt,{value:b,onValueChange:w,children:[l.jsx(_t,{className:"col-span-3",children:l.jsx(kt,{placeholder:e("teams.selectTeamLeader")})}),l.jsx(St,{children:q.map(F=>l.jsx(Pe,{value:F.userid.toString(),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:F.name})]})},F.userid))})]})]})]}),l.jsx($a,{children:l.jsx(ue,{type:"submit",onClick:C,disabled:!g.trim(),children:e("teams.createTeam")})})]})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(We,{placeholder:e("teams.searchPlaceholder"),value:h,onChange:F=>m(F.target.value),className:"pl-10"})]}),l.jsxs(la,{className:"flex-1",dir:r?"rtl":"ltr",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:r?"rtl":"ltr",children:z.map(F=>{const I=c[F.team_id]||[];return l.jsxs(ct,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(Yt,{className:"pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(br,{className:"text-lg",children:Ae(F,"team_name")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>N(F.team_id),title:e("teams.chat","Chat"),children:l.jsx(Fu,{className:"h-4 w-4"})}),l.jsx(ht,{variant:"outline",children:e("teams.memberCount_plural",{count:I.length})}),l.jsxs(mi,{children:[l.jsx(wf,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:V=>{V.stopPropagation(),S(F.team_id)},children:l.jsx(wr,{className:"h-3 w-3"})})}),l.jsxs(Is,{onClick:V=>V.stopPropagation(),children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:e("teams.deleteTeam")}),l.jsx($s,{children:e("teams.deleteConfirmation",{name:Ae(F,"team_name")})})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:e("buttons.cancel")}),l.jsx(Bs,{onClick:V=>{V.stopPropagation(),T(F.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),F.team_leader_id_name&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsxs("span",{children:[e("teams.teamLeader"),":"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:""}),l.jsx("span",{children:F.team_leader_id_name})]})]})]}),l.jsxs(xt,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),l.jsxs("div",{className:"space-y-2",children:[I.slice(0,4).map(V=>l.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ds,{className:"h-6 w-6",children:[l.jsx(Po,{src:""}),l.jsx(Rs,{className:"text-xs",children:(V.name||"").charAt(0).toUpperCase()})]}),l.jsx("span",{className:"text-sm",children:V.name})]}),l.jsx(ue,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var L;return D(F.team_id,((L=V.userid)==null?void 0:L.toString())||"")},children:l.jsx(Bie,{className:"h-3 w-3"})})]},V.userid)),I.length>4&&l.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:I.length-4})}),I.length===0&&l.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),l.jsx("div",{children:l.jsxs(jt,{onValueChange:V=>{V&&O(F.team_id,V)},children:[l.jsx(_t,{className:"w-full",children:l.jsx(kt,{placeholder:e("teams.addMember")})}),l.jsx(St,{children:i.filter(V=>!I.some(L=>L.userid.toString()===V.userid.toString())).map(V=>l.jsx(Pe,{value:V.userid.toString(),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:V.name})]})},V.userid))})]})}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",F.created_at?new Date(F.created_at).toLocaleDateString():"N/A"]})]})]},F.team_id)})}),z.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ia,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:e(h?"teams.noTeamsFound":"teams.noTeamsYet")}),l.jsx("p",{className:"text-muted-foreground mb-4",children:e(h?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!h&&j&&l.jsxs(ue,{onClick:()=>v(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function Hve({rooms:e,selectedRoom:r,onSelectRoom:n,currentUser:a,onNewChannel:s,onNewDM:i,className:o}){const{t:c}=qt(),[u,d]=y.useState(""),f=e.filter(g=>{const x=g.is_private&&Ae(g.other_user||{},"user_name")||g.room_name;return x==null?void 0:x.toLowerCase().includes(u.toLowerCase())}),h=f.filter(g=>!g.is_private&&!g.team_id),m=f.filter(g=>g.is_private),p=f.filter(g=>g.team_id),v=g=>{var j;const x=(r==null?void 0:r.room_id)===g.room_id,b=g.is_private,w=b&&Ae(g.other_user||{},"user_name")||g.room_name,_=b?(j=g.other_user)==null?void 0:j.avatar:null,S=(w==null?void 0:w.charAt(0).toUpperCase())||"?";return l.jsxs("button",{onClick:()=>n(g),className:ve("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",x?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[l.jsxs("div",{className:"relative flex-shrink-0",children:[b?l.jsxs(Ds,{className:"h-6 w-6",children:[l.jsx(Po,{src:_}),l.jsx(Rs,{className:"text-[10px]",children:S})]}):g.team_id?l.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:l.jsx(Ia,{className:"h-3.5 w-3.5"})}):l.jsx("div",{className:"h-6 w-6 rounded bg-muted flex items-center justify-center",children:l.jsx(ZU,{className:"h-3.5 w-3.5"})}),b&&l.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2 w-2 rounded-full bg-green-500 border-2 border-background"})]}),l.jsx("span",{className:"truncate flex-1 text-left",children:w}),g.unreadCount&&g.unreadCount>0?l.jsx(ht,{variant:"destructive",className:"h-5 min-w-[1.25rem] px-1 flex items-center justify-center text-[10px]",children:g.unreadCount}):null]},g.room_id)};return l.jsxs("div",{className:ve("flex flex-col h-full bg-background border-r",o),children:[l.jsxs("div",{className:"flex-shrink-0 p-3 border-b",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold text-lg",children:c("chat.title","Messages")}),l.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8",children:l.jsx(QU,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(We,{placeholder:c("common.search","Jump to..."),value:u,onChange:g=>d(g.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),l.jsxs(la,{className:"flex-1 px-2 py-3 overflow-hidden",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:c("chat.channels","Channels")}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&l.jsx(ue,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:s,title:c("chat.createChannel","Create Channel"),children:l.jsx(or,{className:"h-3 w-3"})})]}),l.jsxs("div",{className:"space-y-0.5",children:[h.map(v),h.length===0&&l.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:c("chat.noChannels","No channels")})]})]}),p.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:c("chat.teams","Teams")})}),l.jsx("div",{className:"space-y-0.5",children:p.map(v)})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:c("chat.directMessages","Direct Messages")}),l.jsx(ue,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:i,children:l.jsx(or,{className:"h-3 w-3"})})]}),l.jsxs("div",{className:"space-y-0.5",children:[m.map(v),m.length===0&&l.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:c("chat.noMessages","No messages")})]})]})]})]})}function qve({room:e,messages:r,currentUser:n,onSendMessage:a,onBack:s,loading:i,onLoadMore:o,hasMoreMessages:c,isLoadingMore:u,onEditMessage:d,onDeleteMessage:f,className:h}){var X;const{t:m}=qt(),[p,v]=y.useState(""),g=y.useRef(null),[x,b]=y.useState(!1),[w,_]=y.useState(null),[S,j]=y.useState(""),[N,k]=y.useState(!1),E=y.useRef(null);y.useEffect(()=>{if(g.current&&!u){const U=g.current.querySelector("[data-radix-scroll-area-viewport]");U&&(U.scrollTop=U.scrollHeight)}},[r,u]);const C=U=>{const H=U.target;if(!H)return;const oe=H.scrollTop<100;b(oe),oe&&c&&o&&!u&&o()};y.useEffect(()=>{var H;const U=(H=g.current)==null?void 0:H.querySelector("[data-radix-scroll-area-viewport]");if(U)return U.addEventListener("scroll",C),()=>U.removeEventListener("scroll",C)},[c,u,o]);const O=U=>{_(U.message_id),j(U.content)},D=()=>{_(null),j("")},T=()=>{w&&S.trim()&&d&&(d(w,S),_(null),j(""))},z=()=>{p.trim()&&(a(p),v(""))},q=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),z())},F=async U=>{var ae;const H=(ae=U.target.files)==null?void 0:ae[0];if(!(!H||!a))try{k(!0);const oe=await messageService.uploadAttachment(H),se=H.type.startsWith("image/")?`![${H.name}](${oe})`:`[${H.name}](${oe})`;a(se)}catch(oe){console.error("Failed to upload file:",oe),alert(m("chat.uploadError","Failed to upload file"))}finally{k(!1),E.current&&(E.current.value="")}},I=()=>{var U;(U=E.current)==null||U.click()},V=U=>{const H=/!\[(.*?)\]\((.*?)\)/g,ae=/\[(.*?)\]\((.*?)\)/g,oe=H.exec(U);if(oe)return l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("img",{src:oe[2],alt:oe[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(oe[2],"_blank")}),U.replace(oe[0],"").trim()&&l.jsx("span",{children:U.replace(oe[0],"").trim()})]});const we=ae.exec(U);return we?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("a",{href:we[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[l.jsx(xI,{className:"h-4 w-4"}),we[1]]}),U.replace(we[0],"").trim()&&l.jsx("span",{children:U.replace(we[0],"").trim()})]}):U};if(i)return l.jsx("div",{className:ve("flex items-center justify-center h-full bg-background",h),children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return l.jsxs("div",{className:ve("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",h),children:[l.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:l.jsx(Fu,{className:"h-8 w-8"})}),l.jsx("h3",{className:"font-semibold text-lg mb-2",children:m("chat.welcome","Welcome to Chat")}),l.jsx("p",{className:"max-w-xs",children:m("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const L=e.is_private,M=L&&Ae(e.other_user||{},"user_name")||e.room_name,Y=L?(X=e.other_user)==null?void 0:X.avatar:null,Z=(M==null?void 0:M.charAt(0).toUpperCase())||"?",A=r.reduce((U,H)=>{const ae=new Date(H.created_at).toLocaleDateString();return U[ae]||(U[ae]=[]),U[ae].push(H),U},{});return l.jsxs("div",{className:ve("flex flex-col h-full bg-background overflow-x-hidden",h),children:[l.jsxs("div",{className:"flex-shrink-0 h-16 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[s&&l.jsx(ue,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:s,children:l.jsx(JU,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex items-center gap-3",children:[L?l.jsxs(Ds,{className:"h-9 w-9",children:[l.jsx(Po,{src:Y}),l.jsx(Rs,{children:Z})]}):l.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?l.jsx(Ia,{className:"h-5 w-5"}):l.jsx(ZU,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[M,L&&l.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!L&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[m("chat.membersCount",{count:3})," "]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:l.jsx(em,{className:"h-5 w-5"})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:l.jsx(Vie,{className:"h-5 w-5"})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:l.jsx(Eie,{className:"h-5 w-5"})})]})]}),l.jsx(la,{className:"flex-1 p-4 overflow-hidden",ref:g,children:l.jsxs("div",{className:"space-y-6 pb-4",children:[u&&l.jsx("div",{className:"flex justify-center py-4",children:l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!c&&r.length>10&&l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:m("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(A).map(([U,H])=>l.jsxs("div",{children:[l.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:U===new Date().toLocaleDateString()?m("common.today","Today"):U})})]}),l.jsx("div",{className:"space-y-4",children:H.map((ae,oe)=>{var P;const we=ae.auth_user_id===(n==null?void 0:n.id),se=oe===0||H[oe-1].auth_user_id!==ae.auth_user_id,Q=ae.sender,he=w===ae.message_id;return l.jsxs("div",{className:ve("flex gap-3 group",we?"flex-row-reverse":""),children:[se?l.jsxs(Ds,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[l.jsx(Po,{src:Q==null?void 0:Q.avatar}),l.jsx(Rs,{children:((P=Q==null?void 0:Q.user_name)==null?void 0:P.charAt(0))||"?"})]}):l.jsx("div",{className:"w-8 flex-shrink-0"}),l.jsxs("div",{className:ve("flex flex-col max-w-[75%]",we?"items-end":"items-start"),children:[se&&l.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[l.jsx("span",{className:"text-sm font-semibold",children:Q==null?void 0:Q.user_name}),l.jsx("span",{className:"text-[10px] text-muted-foreground",children:us(new Date(ae.created_at),"h:mm a")})]}),l.jsx("div",{className:ve("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",we?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",he?"w-full min-w-[200px]":""),children:he?l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("textarea",{value:S,onChange:Le=>j(Le.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ue,{size:"sm",variant:"ghost",onClick:D,className:"h-6 px-2 text-xs",children:m("common.cancel","Cancel")}),l.jsx(ue,{size:"sm",variant:"secondary",onClick:T,className:"h-6 px-2 text-xs",children:m("common.save","Save")})]})]}):l.jsxs(l.Fragment,{children:[V(ae.content),we&&!he&&l.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[l.jsxs(ue,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>O(ae),children:[l.jsx("span",{className:"sr-only",children:"Edit"}),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[l.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),l.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),l.jsxs(ue,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>f&&f(ae.message_id),children:[l.jsx("span",{className:"sr-only",children:"Delete"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:l.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},ae.message_id)})})]},U))]})}),l.jsxs("div",{className:"flex-shrink-0 p-4 bg-background border-t",children:[l.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:I,disabled:N,children:N?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):l.jsx(xI,{className:"h-5 w-5"})}),l.jsx("input",{type:"file",ref:E,className:"hidden",onChange:F,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),l.jsx("textarea",{value:p,onChange:U=>v(U.target.value),onKeyDown:q,placeholder:m("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:U=>{const H=U.target;H.style.height="auto",H.style.height=`${Math.min(H.scrollHeight,128)}px`}}),l.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:l.jsx(Iie,{className:"h-5 w-5"})}),l.jsx(ue,{size:"icon",className:ve("h-8 w-8 transition-all",p.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:z,disabled:!p.trim()&&!N,children:l.jsx(mx,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:l.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function Kve({open:e,onOpenChange:r,onSelectUser:n,currentUserId:a}){const{t:s}=qt(),[i,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(!1);y.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{f(!0);const p=await cn.getAll();o(p.filter(v=>v.auth_user_id!==a))}catch(p){console.error("Failed to load users:",p)}finally{f(!1)}},m=i.filter(p=>{var v,g;return((v=p.user_name)==null?void 0:v.toLowerCase().includes(c.toLowerCase()))||((g=p.user_email)==null?void 0:g.toLowerCase().includes(c.toLowerCase()))});return l.jsx(An,{open:e,onOpenChange:r,children:l.jsxs(mn,{className:"sm:max-w-[425px]",children:[l.jsx(pn,{children:l.jsx(gn,{children:s("chat.newDirectMessage","New Direct Message")})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(We,{placeholder:s("chat.searchUsers","Search users..."),value:c,onChange:p=>u(p.target.value),className:"pl-8"})]}),l.jsx(la,{className:"h-[300px]",children:d?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):m.length===0?l.jsx("div",{className:"text-center text-muted-foreground py-8",children:s("chat.noUsersFound","No users found")}):l.jsx("div",{className:"space-y-1",children:m.map(p=>{var v;return l.jsxs("button",{onClick:()=>{n(p),r(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[l.jsxs(Ds,{children:[l.jsx(Po,{src:p.avatar}),l.jsx(Rs,{children:((v=p.user_name)==null?void 0:v.charAt(0))||"?"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:p.user_name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:p.user_email})]})]},p.user_id)})})})]})]})})}var cS="Switch",[Gve,TXe]=ps(cS),[Yve,Xve]=Gve(cS),VH=y.forwardRef((e,r)=>{const{__scopeSwitch:n,name:a,checked:s,defaultChecked:i,required:o,disabled:c,value:u="on",onCheckedChange:d,form:f,...h}=e,[m,p]=y.useState(null),v=Wt(r,_=>p(_)),g=y.useRef(!1),x=m?f||!!m.closest("form"):!0,[b,w]=xc({prop:s,defaultProp:i??!1,onChange:d,caller:cS});return l.jsxs(Yve,{scope:n,checked:b,disabled:c,children:[l.jsx(mt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":qH(b),"data-disabled":c?"":void 0,disabled:c,value:u,...h,ref:v,onClick:nt(e.onClick,_=>{w(S=>!S),x&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),x&&l.jsx(HH,{control:m,bubbles:!g.current,name:a,value:u,checked:b,required:o,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});VH.displayName=cS;var zH="SwitchThumb",WH=y.forwardRef((e,r)=>{const{__scopeSwitch:n,...a}=e,s=Xve(zH,n);return l.jsx(mt.span,{"data-state":qH(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});WH.displayName=zH;var Jve="SwitchBubbleInput",HH=y.forwardRef(({__scopeSwitch:e,control:r,checked:n,bubbles:a=!0,...s},i)=>{const o=y.useRef(null),c=Wt(o,i),u=QA(n),d=qA(r);return y.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==n&&p){const v=new Event("click",{bubbles:a});p.call(f,n),f.dispatchEvent(v)}},[u,n,a]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});HH.displayName=Jve;function qH(e){return e?"checked":"unchecked"}var KH=VH,Qve=WH;const GH=y.forwardRef(({className:e,...r},n)=>l.jsx(KH,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...r,ref:n,children:l.jsx(Qve,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));GH.displayName=KH.displayName;function Zve({open:e,onOpenChange:r,onCreate:n}){const{t:a}=qt(),[s,i]=y.useState(""),[o,c]=y.useState(!1),[u,d]=y.useState(!1),f=async h=>{if(h.preventDefault(),!!s.trim())try{d(!0),await n(s,o),r(!1),i(""),c(!1)}catch(m){console.error("Failed to create channel:",m)}finally{d(!1)}};return l.jsx(An,{open:e,onOpenChange:r,children:l.jsxs(mn,{children:[l.jsx(pn,{children:l.jsx(gn,{children:a("chat.createRoomTitle","Create New Room")})}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"name",children:a("chat.roomName","Room Name")}),l.jsx(We,{id:"name",value:s,onChange:h=>i(h.target.value),placeholder:a("chat.roomNamePlaceholder","Enter room name"),disabled:u})]}),l.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[l.jsxs(Ge,{htmlFor:"private",className:"flex flex-col space-y-1",children:[l.jsx("span",{children:a("chat.privateRoom","Private Room")}),l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:a("chat.privateRoomDesc","Only invited members can view this room.")})]}),l.jsx(GH,{id:"private",checked:o,onCheckedChange:c,disabled:u})]}),l.jsxs($a,{children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:u,children:a("common.cancel","Cancel")}),l.jsx(ue,{type:"submit",disabled:!s.trim()||u,children:u?a("common.creating","Creating..."):a("chat.createRoom","Create Room")})]})]})]})})}function exe(){var L;const{user:e}=vr(),{t:r}=qt(),{isRTL:n}=Va(),[a,s]=y.useState([]),[i,o]=y.useState(null),[c,u]=y.useState([]),[d,f]=y.useState(!0),[h,m]=y.useState(!1),[p,v]=y.useState(!0),[g,x]=y.useState(!0),[b,w]=y.useState(!1);y.useState([]);const[_,S]=y.useState(!1),[j,N]=y.useState(!1),k=y.useRef(!1),E=y.useRef(null);y.useRef(null),y.useRef(null),y.useEffect(()=>{const M=()=>{const Y=window.innerWidth<768;m(Y),Y||v(!0)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),y.useEffect(()=>{e&&!k.current&&D()},[e]),y.useEffect(()=>{var Y;const M=(Y=window.history.state)==null?void 0:Y.usr;if(M!=null&&M.teamId&&a.length>0){const Z=a.find(A=>A.team_id===M.teamId);Z&&o(Z)}},[a]),y.useEffect(()=>{i&&(E.current!==i.room_id&&(x(!0),w(!1),T(i.room_id),e&&(Xo.markAsRead(i.room_id,e.id.toString()),s(M=>M.map(Y=>Y.room_id===i.room_id?{...Y,unreadCount:0}:Y)))),h&&v(!1))},[i,h,e]),y.useEffect(()=>{var A;if(!e||!i)return;let M=((A=c[0])==null?void 0:A.message_id)||0;const Y=async()=>{try{const X=await jd.getByRoom(i.room_id.toString(),{limit:5});if(X.length>0){const U=X[0];U.message_id>M&&(console.log("New message detected, refreshing..."),await T(i.room_id.toString()),M=U.message_id)}}catch(X){console.warn("Failed to poll for new messages:",X)}},Z=setInterval(Y,2e3);return Y(),()=>{clearInterval(Z)}},[e,i,c]);const C=async(M,Y)=>{try{await jd.update(M,Y)}catch(Z){console.error("Failed to edit message:",Z)}},O=async M=>{if(confirm(r("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await jd.delete(M)}catch(Y){console.error("Failed to delete message:",Y)}},D=async()=>{try{f(!0);const M=await Xo.getUserRooms(e==null?void 0:e.id.toString()),Y=await Promise.all(M.map(async Z=>{if(Z.is_private){const X=(await Xo.getRoomMembers(Z.room_id)).find(U=>{var H;return((H=U.userid)==null?void 0:H.toString())!==(e==null?void 0:e.id.toString())});return{...Z,other_user:X}}return Z}));s(Y),k.current=!0}catch(M){console.error("Failed to load rooms:",M)}finally{f(!1)}},T=async(M,Y=!1)=>{try{Y&&w(!0);const Z=10,A=Y&&c.length>0?c[0].created_at:void 0,X=await jd.getByRoom(M,{limit:Z,before:A});Y?(u(U=>[...X,...U]),x(X.length===Z)):(u(X),x(X.length===Z),E.current=M)}catch(Z){console.error("Failed to load messages:",Z)}finally{Y&&w(!1)}},z=async()=>{!i||b||!g||await T(i.room_id,!0)},q=async M=>{if(!(!i||!e))try{const Y={message_id:Date.now(),room_id:i.room_id,user_id:parseInt(e.id.toString()),content:M,metadata:null,created_at:new Date().toISOString(),sender:e.profile};u(Z=>[...Z,Y]),await jd.create({room_id:i.room_id,user_id:parseInt(e.id.toString()),content:M,metadata:null}),setTimeout(()=>{T(i.room_id.toString())},500)}catch(Y){console.error("Failed to send message:",Y),u(Z=>Z.filter(A=>A.message_id!==Date.now()))}},F=()=>{v(!0)},I=async(M,Y)=>{if(e)try{const Z=await Xo.createRoom({name:M,is_private:Y,created_by:e.profile.user_id||0,userid:e.id.toString()});await Xo.addMember(Z.room_id,e.id.toString()),await D();const A={...Z};o(A)}catch(Z){console.error("Failed to create channel:",Z)}},V=async M=>{if(!e)return;const Y=a.find(Z=>{var A;return Z.is_private&&((A=Z.other_user)==null?void 0:A.userid)===M.userid});if(Y){o(Y);return}try{const Z=await Xo.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await Xo.addMember(Z.room_id,e.id.toString()),await Xo.addMember(Z.room_id,(M.userid||M.user_id||"").toString()),await D();const A={...Z,other_user:M};o(A)}catch(Z){console.error("Failed to create DM:",Z)}};return l.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-background",dir:n?"rtl":"ltr",children:[l.jsx("div",{className:ve("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-hidden",p?"translate-x-0":"-translate-x-full md:translate-x-0",h&&!p&&"hidden"),children:l.jsx(Hve,{rooms:a,selectedRoom:i,onSelectRoom:o,currentUser:e,onNewChannel:()=>S(!0),onNewDM:()=>N(!0)})}),l.jsx("div",{className:ve("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full overflow-hidden",h&&p?"hidden":"flex"),children:l.jsx(qve,{room:i,messages:c,currentUser:e,onSendMessage:q,onBack:F,loading:d,onLoadMore:z,hasMoreMessages:g,isLoadingMore:b,onEditMessage:C,onDeleteMessage:O})}),l.jsx(Zve,{open:_,onOpenChange:S,onCreate:I}),l.jsx(Kve,{open:j,onOpenChange:N,onSelectUser:V,currentUserId:(L=e==null?void 0:e.id)==null?void 0:L.toString()})]})}function YH(e,r){return function(){return e.apply(r,arguments)}}const{toString:txe}=Object.prototype,{getPrototypeOf:GO}=Object,{iterator:uS,toStringTag:XH}=Symbol,dS=(e=>r=>{const n=txe.call(r);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$o=e=>(e=e.toLowerCase(),r=>dS(r)===e),fS=e=>r=>typeof r===e,{isArray:Wp}=Array,Gm=fS("undefined");function Ix(e){return e!==null&&!Gm(e)&&e.constructor!==null&&!Gm(e.constructor)&&As(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const JH=$o("ArrayBuffer");function rxe(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&JH(e.buffer),r}const nxe=fS("string"),As=fS("function"),QH=fS("number"),Mx=e=>e!==null&&typeof e=="object",axe=e=>e===!0||e===!1,Uw=e=>{if(dS(e)!=="object")return!1;const r=GO(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(XH in e)&&!(uS in e)},sxe=e=>{if(!Mx(e)||Ix(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ixe=$o("Date"),oxe=$o("File"),lxe=$o("Blob"),cxe=$o("FileList"),uxe=e=>Mx(e)&&As(e.pipe),dxe=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||As(e.append)&&((r=dS(e))==="formdata"||r==="object"&&As(e.toString)&&e.toString()==="[object FormData]"))},fxe=$o("URLSearchParams"),[hxe,mxe,pxe,gxe]=["ReadableStream","Request","Response","Headers"].map($o),vxe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fx(e,r,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),Wp(e))for(a=0,s=e.length;a<s;a++)r.call(null,e[a],a,e);else{if(Ix(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(a=0;a<o;a++)c=i[a],r.call(null,e[c],c,e)}}function ZH(e,r){if(Ix(e))return null;r=r.toLowerCase();const n=Object.keys(e);let a=n.length,s;for(;a-- >0;)if(s=n[a],r===s.toLowerCase())return s;return null}const Md=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eq=e=>!Gm(e)&&e!==Md;function jE(){const{caseless:e,skipUndefined:r}=eq(this)&&this||{},n={},a=(s,i)=>{const o=e&&ZH(n,i)||i;Uw(n[o])&&Uw(s)?n[o]=jE(n[o],s):Uw(s)?n[o]=jE({},s):Wp(s)?n[o]=s.slice():(!r||!Gm(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Fx(arguments[s],a);return n}const xxe=(e,r,n,{allOwnKeys:a}={})=>(Fx(r,(s,i)=>{n&&As(s)?e[i]=YH(s,n):e[i]=s},{allOwnKeys:a}),e),yxe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wxe=(e,r,n,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),n&&Object.assign(e.prototype,n)},bxe=(e,r,n,a)=>{let s,i,o;const c={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!a||a(o,e,r))&&!c[o]&&(r[o]=e[o],c[o]=!0);e=n!==!1&&GO(e)}while(e&&(!n||n(e,r))&&e!==Object.prototype);return r},_xe=(e,r,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=r.length;const a=e.indexOf(r,n);return a!==-1&&a===n},Sxe=e=>{if(!e)return null;if(Wp(e))return e;let r=e.length;if(!QH(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=e[r];return n},jxe=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&GO(Uint8Array)),kxe=(e,r)=>{const a=(e&&e[uS]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;r.call(e,i[0],i[1])}},Nxe=(e,r)=>{let n;const a=[];for(;(n=e.exec(r))!==null;)a.push(n);return a},Exe=$o("HTMLFormElement"),Cxe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),LM=(({hasOwnProperty:e})=>(r,n)=>e.call(r,n))(Object.prototype),Txe=$o("RegExp"),tq=(e,r)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Fx(n,(s,i)=>{let o;(o=r(s,i,e))!==!1&&(a[i]=o||s)}),Object.defineProperties(e,a)},Axe=e=>{tq(e,(r,n)=>{if(As(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(As(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Oxe=(e,r)=>{const n={},a=s=>{s.forEach(i=>{n[i]=!0})};return Wp(e)?a(e):a(String(e).split(r)),n},Pxe=()=>{},Dxe=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function Rxe(e){return!!(e&&As(e.append)&&e[XH]==="FormData"&&e[uS])}const Ixe=e=>{const r=new Array(10),n=(a,s)=>{if(Mx(a)){if(r.indexOf(a)>=0)return;if(Ix(a))return a;if(!("toJSON"in a)){r[s]=a;const i=Wp(a)?[]:{};return Fx(a,(o,c)=>{const u=n(o,s+1);!Gm(u)&&(i[c]=u)}),r[s]=void 0,i}}return a};return n(e,0)},Mxe=$o("AsyncFunction"),Fxe=e=>e&&(Mx(e)||As(e))&&As(e.then)&&As(e.catch),rq=((e,r)=>e?setImmediate:r?((n,a)=>(Md.addEventListener("message",({source:s,data:i})=>{s===Md&&i===n&&a.length&&a.shift()()},!1),s=>{a.push(s),Md.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",As(Md.postMessage)),Lxe=typeof queueMicrotask<"u"?queueMicrotask.bind(Md):typeof process<"u"&&process.nextTick||rq,$xe=e=>e!=null&&As(e[uS]),Oe={isArray:Wp,isArrayBuffer:JH,isBuffer:Ix,isFormData:dxe,isArrayBufferView:rxe,isString:nxe,isNumber:QH,isBoolean:axe,isObject:Mx,isPlainObject:Uw,isEmptyObject:sxe,isReadableStream:hxe,isRequest:mxe,isResponse:pxe,isHeaders:gxe,isUndefined:Gm,isDate:ixe,isFile:oxe,isBlob:lxe,isRegExp:Txe,isFunction:As,isStream:uxe,isURLSearchParams:fxe,isTypedArray:jxe,isFileList:cxe,forEach:Fx,merge:jE,extend:xxe,trim:vxe,stripBOM:yxe,inherits:wxe,toFlatObject:bxe,kindOf:dS,kindOfTest:$o,endsWith:_xe,toArray:Sxe,forEachEntry:kxe,matchAll:Nxe,isHTMLForm:Exe,hasOwnProperty:LM,hasOwnProp:LM,reduceDescriptors:tq,freezeMethods:Axe,toObjectSet:Oxe,toCamelCase:Cxe,noop:Pxe,toFiniteNumber:Dxe,findKey:ZH,global:Md,isContextDefined:eq,isSpecCompliantForm:Rxe,toJSONObject:Ixe,isAsyncFn:Mxe,isThenable:Fxe,setImmediate:rq,asap:Lxe,isIterable:$xe};function Vt(e,r,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Oe.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const nq=Vt.prototype,aq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{aq[e]={value:e}});Object.defineProperties(Vt,aq);Object.defineProperty(nq,"isAxiosError",{value:!0});Vt.from=(e,r,n,a,s,i)=>{const o=Object.create(nq);Oe.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",u=r==null&&e?e.code:r;return Vt.call(o,c,u,n,a,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Bxe=null;function kE(e){return Oe.isPlainObject(e)||Oe.isArray(e)}function sq(e){return Oe.endsWith(e,"[]")?e.slice(0,-2):e}function $M(e,r,n){return e?e.concat(r).map(function(s,i){return s=sq(s),!n&&i?"["+s+"]":s}).join(n?".":""):r}function Uxe(e){return Oe.isArray(e)&&!e.some(kE)}const Vxe=Oe.toFlatObject(Oe,{},null,function(r){return/^is[A-Z]/.test(r)});function hS(e,r,n){if(!Oe.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,n=Oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!Oe.isUndefined(x[g])});const a=n.metaTokens,s=n.visitor||f,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(r);if(!Oe.isFunction(s))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(Oe.isDate(v))return v.toISOString();if(Oe.isBoolean(v))return v.toString();if(!u&&Oe.isBlob(v))throw new Vt("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(v)||Oe.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,g,x){let b=v;if(v&&!x&&typeof v=="object"){if(Oe.endsWith(g,"{}"))g=a?g:g.slice(0,-2),v=JSON.stringify(v);else if(Oe.isArray(v)&&Uxe(v)||(Oe.isFileList(v)||Oe.endsWith(g,"[]"))&&(b=Oe.toArray(v)))return g=sq(g),b.forEach(function(_,S){!(Oe.isUndefined(_)||_===null)&&r.append(o===!0?$M([g],S,i):o===null?g:g+"[]",d(_))}),!1}return kE(v)?!0:(r.append($M(x,g,i),d(v)),!1)}const h=[],m=Object.assign(Vxe,{defaultVisitor:f,convertValue:d,isVisitable:kE});function p(v,g){if(!Oe.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(v),Oe.forEach(v,function(b,w){(!(Oe.isUndefined(b)||b===null)&&s.call(r,b,Oe.isString(w)?w.trim():w,g,m))===!0&&p(b,g?g.concat(w):[w])}),h.pop()}}if(!Oe.isObject(e))throw new TypeError("data must be an object");return p(e),r}function BM(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function YO(e,r){this._pairs=[],e&&hS(e,this,r)}const iq=YO.prototype;iq.append=function(r,n){this._pairs.push([r,n])};iq.toString=function(r){const n=r?function(a){return r.call(this,a,BM)}:BM;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function zxe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oq(e,r,n){if(!r)return e;const a=n&&n.encode||zxe;Oe.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(r,n):i=Oe.isURLSearchParams(r)?r.toString():new YO(r,n).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class UM{constructor(){this.handlers=[]}use(r,n,a){return this.handlers.push({fulfilled:r,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Oe.forEach(this.handlers,function(a){a!==null&&r(a)})}}const lq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wxe=typeof URLSearchParams<"u"?URLSearchParams:YO,Hxe=typeof FormData<"u"?FormData:null,qxe=typeof Blob<"u"?Blob:null,Kxe={isBrowser:!0,classes:{URLSearchParams:Wxe,FormData:Hxe,Blob:qxe},protocols:["http","https","file","blob","url","data"]},XO=typeof window<"u"&&typeof document<"u",NE=typeof navigator=="object"&&navigator||void 0,Gxe=XO&&(!NE||["ReactNative","NativeScript","NS"].indexOf(NE.product)<0),Yxe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xxe=XO&&window.location.href||"http://localhost",Jxe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:XO,hasStandardBrowserEnv:Gxe,hasStandardBrowserWebWorkerEnv:Yxe,navigator:NE,origin:Xxe},Symbol.toStringTag,{value:"Module"})),Da={...Jxe,...Kxe};function Qxe(e,r){return hS(e,new Da.classes.URLSearchParams,{visitor:function(n,a,s,i){return Da.isNode&&Oe.isBuffer(n)?(this.append(a,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function Zxe(e){return Oe.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function eye(e){const r={},n=Object.keys(e);let a;const s=n.length;let i;for(a=0;a<s;a++)i=n[a],r[i]=e[i];return r}function cq(e){function r(n,a,s,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=i>=n.length;return o=!o&&Oe.isArray(s)?s.length:o,u?(Oe.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!c):((!s[o]||!Oe.isObject(s[o]))&&(s[o]=[]),r(n,a,s[o],i)&&Oe.isArray(s[o])&&(s[o]=eye(s[o])),!c)}if(Oe.isFormData(e)&&Oe.isFunction(e.entries)){const n={};return Oe.forEachEntry(e,(a,s)=>{r(Zxe(a),s,n,0)}),n}return null}function tye(e,r,n){if(Oe.isString(e))try{return(r||JSON.parse)(e),Oe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(0,JSON.stringify)(e)}const Lx={transitional:lq,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,i=Oe.isObject(r);if(i&&Oe.isHTMLForm(r)&&(r=new FormData(r)),Oe.isFormData(r))return s?JSON.stringify(cq(r)):r;if(Oe.isArrayBuffer(r)||Oe.isBuffer(r)||Oe.isStream(r)||Oe.isFile(r)||Oe.isBlob(r)||Oe.isReadableStream(r))return r;if(Oe.isArrayBufferView(r))return r.buffer;if(Oe.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let c;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Qxe(r,this.formSerializer).toString();if((c=Oe.isFileList(r))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return hS(c?{"files[]":r}:r,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),tye(r)):r}],transformResponse:[function(r){const n=this.transitional||Lx.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Oe.isResponse(r)||Oe.isReadableStream(r))return r;if(r&&Oe.isString(r)&&(a&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?Vt.from(c,Vt.ERR_BAD_RESPONSE,this,null,this.response):c}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Da.classes.FormData,Blob:Da.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],e=>{Lx.headers[e]={}});const rye=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nye=e=>{const r={};let n,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!n||r[n]&&rye[n])&&(n==="set-cookie"?r[n]?r[n].push(a):r[n]=[a]:r[n]=r[n]?r[n]+", "+a:a)}),r},VM=Symbol("internals");function _0(e){return e&&String(e).trim().toLowerCase()}function Vw(e){return e===!1||e==null?e:Oe.isArray(e)?e.map(Vw):String(e)}function aye(e){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)r[a[1]]=a[2];return r}const sye=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Fk(e,r,n,a,s){if(Oe.isFunction(a))return a.call(this,r,n);if(s&&(r=n),!!Oe.isString(r)){if(Oe.isString(a))return r.indexOf(a)!==-1;if(Oe.isRegExp(a))return a.test(r)}}function iye(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,a)=>n.toUpperCase()+a)}function oye(e,r){const n=Oe.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(s,i,o){return this[a].call(this,r,s,i,o)},configurable:!0})})}class Os{constructor(r){r&&this.set(r)}set(r,n,a){const s=this;function i(c,u,d){const f=_0(u);if(!f)throw new Error("header name must be a non-empty string");const h=Oe.findKey(s,f);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||u]=Vw(c))}const o=(c,u)=>Oe.forEach(c,(d,f)=>i(d,f,u));if(Oe.isPlainObject(r)||r instanceof this.constructor)o(r,n);else if(Oe.isString(r)&&(r=r.trim())&&!sye(r))o(nye(r),n);else if(Oe.isObject(r)&&Oe.isIterable(r)){let c={},u,d;for(const f of r){if(!Oe.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[d=f[0]]=(u=c[d])?Oe.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,n)}else r!=null&&i(n,r,a);return this}get(r,n){if(r=_0(r),r){const a=Oe.findKey(this,r);if(a){const s=this[a];if(!n)return s;if(n===!0)return aye(s);if(Oe.isFunction(n))return n.call(this,s,a);if(Oe.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=_0(r),r){const a=Oe.findKey(this,r);return!!(a&&this[a]!==void 0&&(!n||Fk(this,this[a],a,n)))}return!1}delete(r,n){const a=this;let s=!1;function i(o){if(o=_0(o),o){const c=Oe.findKey(a,o);c&&(!n||Fk(a,a[c],c,n))&&(delete a[c],s=!0)}}return Oe.isArray(r)?r.forEach(i):i(r),s}clear(r){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const i=n[a];(!r||Fk(this,this[i],i,r,!0))&&(delete this[i],s=!0)}return s}normalize(r){const n=this,a={};return Oe.forEach(this,(s,i)=>{const o=Oe.findKey(a,i);if(o){n[o]=Vw(s),delete n[i];return}const c=r?iye(i):String(i).trim();c!==i&&delete n[i],n[c]=Vw(s),a[c]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return Oe.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=r&&Oe.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const a=new this(r);return n.forEach(s=>a.set(s)),a}static accessor(r){const a=(this[VM]=this[VM]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=_0(o);a[c]||(oye(s,o),a[c]=!0)}return Oe.isArray(r)?r.forEach(i):i(r),this}}Os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(Os.prototype,({value:e},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[n]=a}}});Oe.freezeMethods(Os);function Lk(e,r){const n=this||Lx,a=r||n,s=Os.from(a.headers);let i=a.data;return Oe.forEach(e,function(c){i=c.call(n,i,s.normalize(),r?r.status:void 0)}),s.normalize(),i}function uq(e){return!!(e&&e.__CANCEL__)}function Hp(e,r,n){Vt.call(this,e??"canceled",Vt.ERR_CANCELED,r,n),this.name="CanceledError"}Oe.inherits(Hp,Vt,{__CANCEL__:!0});function dq(e,r,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):r(new Vt("Request failed with status code "+n.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lye(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function cye(e,r){e=e||10;const n=new Array(e),a=new Array(e);let s=0,i=0,o;return r=r!==void 0?r:1e3,function(u){const d=Date.now(),f=a[i];o||(o=d),n[s]=u,a[s]=d;let h=i,m=0;for(;h!==s;)m+=n[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<r)return;const p=f&&d-f;return p?Math.round(m*1e3/p):void 0}}function uye(e,r){let n=0,a=1e3/r,s,i;const o=(d,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=a?o(d,f):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},a-h)))},()=>s&&o(s)]}const W1=(e,r,n=3)=>{let a=0;const s=cye(50,250);return uye(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,u=o-a,d=s(u),f=o<=c;a=o;const h={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&f?(c-o)/d:void 0,event:i,lengthComputable:c!=null,[r?"download":"upload"]:!0};e(h)},n)},zM=(e,r)=>{const n=e!=null;return[a=>r[0]({lengthComputable:n,total:e,loaded:a}),r[1]]},WM=e=>(...r)=>Oe.asap(()=>e(...r)),dye=Da.hasStandardBrowserEnv?((e,r)=>n=>(n=new URL(n,Da.origin),e.protocol===n.protocol&&e.host===n.host&&(r||e.port===n.port)))(new URL(Da.origin),Da.navigator&&/(msie|trident)/i.test(Da.navigator.userAgent)):()=>!0,fye=Da.hasStandardBrowserEnv?{write(e,r,n,a,s,i,o){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(r)}`];Oe.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),Oe.isString(a)&&c.push(`path=${a}`),Oe.isString(s)&&c.push(`domain=${s}`),i===!0&&c.push("secure"),Oe.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hye(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mye(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function fq(e,r,n){let a=!hye(r);return e&&(a||n==!1)?mye(e,r):r}const HM=e=>e instanceof Os?{...e}:e;function _f(e,r){r=r||{};const n={};function a(d,f,h,m){return Oe.isPlainObject(d)&&Oe.isPlainObject(f)?Oe.merge.call({caseless:m},d,f):Oe.isPlainObject(f)?Oe.merge({},f):Oe.isArray(f)?f.slice():f}function s(d,f,h,m){if(Oe.isUndefined(f)){if(!Oe.isUndefined(d))return a(void 0,d,h,m)}else return a(d,f,h,m)}function i(d,f){if(!Oe.isUndefined(f))return a(void 0,f)}function o(d,f){if(Oe.isUndefined(f)){if(!Oe.isUndefined(d))return a(void 0,d)}else return a(void 0,f)}function c(d,f,h){if(h in r)return a(d,f);if(h in e)return a(void 0,d)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,f,h)=>s(HM(d),HM(f),h,!0)};return Oe.forEach(Object.keys({...e,...r}),function(f){const h=u[f]||s,m=h(e[f],r[f],f);Oe.isUndefined(m)&&h!==c||(n[f]=m)}),n}const hq=e=>{const r=_f({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:c}=r;if(r.headers=o=Os.from(o),r.url=oq(fq(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Oe.isFormData(n)){if(Da.hasStandardBrowserEnv||Da.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Oe.isFunction(n.getHeaders)){const u=n.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([f,h])=>{d.includes(f.toLowerCase())&&o.set(f,h)})}}if(Da.hasStandardBrowserEnv&&(a&&Oe.isFunction(a)&&(a=a(r)),a||a!==!1&&dye(r.url))){const u=s&&i&&fye.read(i);u&&o.set(s,u)}return r},pye=typeof XMLHttpRequest<"u",gye=pye&&function(e){return new Promise(function(n,a){const s=hq(e);let i=s.data;const o=Os.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:d}=s,f,h,m,p,v;function g(){p&&p(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function b(){if(!x)return;const _=Os.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:_,config:e,request:x};dq(function(k){n(k),g()},function(k){a(k),g()},j),x=null}"onloadend"in x?x.onloadend=b:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(b)},x.onabort=function(){x&&(a(new Vt("Request aborted",Vt.ECONNABORTED,e,x)),x=null)},x.onerror=function(S){const j=S&&S.message?S.message:"Network Error",N=new Vt(j,Vt.ERR_NETWORK,e,x);N.event=S||null,a(N),x=null},x.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||lq;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),a(new Vt(S,j.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&Oe.forEach(o.toJSON(),function(S,j){x.setRequestHeader(j,S)}),Oe.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),c&&c!=="json"&&(x.responseType=s.responseType),d&&([m,v]=W1(d,!0),x.addEventListener("progress",m)),u&&x.upload&&([h,p]=W1(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(f=_=>{x&&(a(!_||_.type?new Hp(null,e,x):_),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const w=lye(s.url);if(w&&Da.protocols.indexOf(w)===-1){a(new Vt("Unsupported protocol "+w+":",Vt.ERR_BAD_REQUEST,e));return}x.send(i||null)})},vye=(e,r)=>{const{length:n}=e=e?e.filter(Boolean):[];if(r||n){let a=new AbortController,s;const i=function(d){if(!s){s=!0,c();const f=d instanceof Error?d:this.reason;a.abort(f instanceof Vt?f:new Hp(f instanceof Error?f.message:f))}};let o=r&&setTimeout(()=>{o=null,i(new Vt(`timeout ${r} of ms exceeded`,Vt.ETIMEDOUT))},r);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>Oe.asap(c),u}},xye=function*(e,r){let n=e.byteLength;if(n<r){yield e;return}let a=0,s;for(;a<n;)s=a+r,yield e.slice(a,s),a=s},yye=async function*(e,r){for await(const n of wye(e))yield*xye(n,r)},wye=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:n,value:a}=await r.read();if(n)break;yield a}}finally{await r.cancel()}},qM=(e,r,n,a)=>{const s=yye(e,r);let i=0,o,c=u=>{o||(o=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await s.next();if(d){c(),u.close();return}let h=f.byteLength;if(n){let m=i+=h;n(m)}u.enqueue(new Uint8Array(f))}catch(d){throw c(d),d}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},KM=64*1024,{isFunction:qy}=Oe,bye=(({Request:e,Response:r})=>({Request:e,Response:r}))(Oe.global),{ReadableStream:GM,TextEncoder:YM}=Oe.global,XM=(e,...r)=>{try{return!!e(...r)}catch{return!1}},_ye=e=>{e=Oe.merge.call({skipUndefined:!0},bye,e);const{fetch:r,Request:n,Response:a}=e,s=r?qy(r):typeof fetch=="function",i=qy(n),o=qy(a);if(!s)return!1;const c=s&&qy(GM),u=s&&(typeof YM=="function"?(v=>g=>v.encode(g))(new YM):async v=>new Uint8Array(await new n(v).arrayBuffer())),d=i&&c&&XM(()=>{let v=!1;const g=new n(Da.origin,{body:new GM,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!g}),f=o&&c&&XM(()=>Oe.isReadableStream(new a("").body)),h={stream:f&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(g,x)=>{let b=g&&g[v];if(b)return b.call(g);throw new Vt(`Response type '${v}' is not supported`,Vt.ERR_NOT_SUPPORT,x)})});const m=async v=>{if(v==null)return 0;if(Oe.isBlob(v))return v.size;if(Oe.isSpecCompliantForm(v))return(await new n(Da.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(v)||Oe.isArrayBuffer(v))return v.byteLength;if(Oe.isURLSearchParams(v)&&(v=v+""),Oe.isString(v))return(await u(v)).byteLength},p=async(v,g)=>{const x=Oe.toFiniteNumber(v.getContentLength());return x??m(g)};return async v=>{let{url:g,method:x,data:b,signal:w,cancelToken:_,timeout:S,onDownloadProgress:j,onUploadProgress:N,responseType:k,headers:E,withCredentials:C="same-origin",fetchOptions:O}=hq(v),D=r||fetch;k=k?(k+"").toLowerCase():"text";let T=vye([w,_&&_.toAbortSignal()],S),z=null;const q=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let F;try{if(N&&d&&x!=="get"&&x!=="head"&&(F=await p(E,b))!==0){let Z=new n(g,{method:"POST",body:b,duplex:"half"}),A;if(Oe.isFormData(b)&&(A=Z.headers.get("content-type"))&&E.setContentType(A),Z.body){const[X,U]=zM(F,W1(WM(N)));b=qM(Z.body,KM,X,U)}}Oe.isString(C)||(C=C?"include":"omit");const I=i&&"credentials"in n.prototype,V={...O,signal:T,method:x.toUpperCase(),headers:E.normalize().toJSON(),body:b,duplex:"half",credentials:I?C:void 0};z=i&&new n(g,V);let L=await(i?D(z,O):D(g,V));const M=f&&(k==="stream"||k==="response");if(f&&(j||M&&q)){const Z={};["status","statusText","headers"].forEach(H=>{Z[H]=L[H]});const A=Oe.toFiniteNumber(L.headers.get("content-length")),[X,U]=j&&zM(A,W1(WM(j),!0))||[];L=new a(qM(L.body,KM,X,()=>{U&&U(),q&&q()}),Z)}k=k||"text";let Y=await h[Oe.findKey(h,k)||"text"](L,v);return!M&&q&&q(),await new Promise((Z,A)=>{dq(Z,A,{data:Y,headers:Os.from(L.headers),status:L.status,statusText:L.statusText,config:v,request:z})})}catch(I){throw q&&q(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,v,z),{cause:I.cause||I}):Vt.from(I,I&&I.code,v,z)}}},Sye=new Map,mq=e=>{let r=e&&e.env||{};const{fetch:n,Request:a,Response:s}=r,i=[a,s,n];let o=i.length,c=o,u,d,f=Sye;for(;c--;)u=i[c],d=f.get(u),d===void 0&&f.set(u,d=c?new Map:_ye(r)),f=d;return d};mq();const JO={http:Bxe,xhr:gye,fetch:{get:mq}};Oe.forEach(JO,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const JM=e=>`- ${e}`,jye=e=>Oe.isFunction(e)||e===null||e===!1;function kye(e,r){e=Oe.isArray(e)?e:[e];const{length:n}=e;let a,s;const i={};for(let o=0;o<n;o++){a=e[o];let c;if(s=a,!jye(a)&&(s=JO[(c=String(a)).toLowerCase()],s===void 0))throw new Vt(`Unknown adapter '${c}'`);if(s&&(Oe.isFunction(s)||(s=s.get(r))))break;i[c||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(JM).join(`
`):" "+JM(o[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const pq={getAdapter:kye,adapters:JO};function $k(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hp(null,e)}function QM(e){return $k(e),e.headers=Os.from(e.headers),e.data=Lk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pq.getAdapter(e.adapter||Lx.adapter,e)(e).then(function(a){return $k(e),a.data=Lk.call(e,e.transformResponse,a),a.headers=Os.from(a.headers),a},function(a){return uq(a)||($k(e),a&&a.response&&(a.response.data=Lk.call(e,e.transformResponse,a.response),a.response.headers=Os.from(a.response.headers))),Promise.reject(a)})}const gq="1.13.2",mS={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{mS[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const ZM={};mS.transitional=function(r,n,a){function s(i,o){return"[Axios v"+gq+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,c)=>{if(r===!1)throw new Vt(s(o," has been removed"+(n?" in "+n:"")),Vt.ERR_DEPRECATED);return n&&!ZM[o]&&(ZM[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(i,o,c):!0}};mS.spelling=function(r){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function Nye(e,r,n){if(typeof e!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],o=r[i];if(o){const c=e[i],u=c===void 0||o(c,i,e);if(u!==!0)throw new Vt("option "+i+" must be "+u,Vt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Vt("Unknown option "+i,Vt.ERR_BAD_OPTION)}}const zw={assertOptions:Nye,validators:mS},zo=zw.validators;class tf{constructor(r){this.defaults=r||{},this.interceptors={request:new UM,response:new UM}}async request(r,n){try{return await this._request(r,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=_f(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:i}=n;a!==void 0&&zw.assertOptions(a,{silentJSONParsing:zo.transitional(zo.boolean),forcedJSONParsing:zo.transitional(zo.boolean),clarifyTimeoutError:zo.transitional(zo.boolean)},!1),s!=null&&(Oe.isFunction(s)?n.paramsSerializer={serialize:s}:zw.assertOptions(s,{encode:zo.function,serialize:zo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zw.assertOptions(n,{baseUrl:zo.spelling("baseURL"),withXsrfToken:zo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Oe.merge(i.common,i[n.method]);i&&Oe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Os.concat(o,i);const c=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(u=u&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let f,h=0,m;if(!u){const v=[QM.bind(this),void 0];for(v.unshift(...c),v.push(...d),m=v.length,f=Promise.resolve(n);h<m;)f=f.then(v[h++],v[h++]);return f}m=c.length;let p=n;for(;h<m;){const v=c[h++],g=c[h++];try{p=v(p)}catch(x){g.call(this,x);break}}try{f=QM.call(this,p)}catch(v){return Promise.reject(v)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(r){r=_f(this.defaults,r);const n=fq(r.baseURL,r.url,r.allowAbsoluteUrls);return oq(n,r.params,r.paramsSerializer)}}Oe.forEach(["delete","get","head","options"],function(r){tf.prototype[r]=function(n,a){return this.request(_f(a||{},{method:r,url:n,data:(a||{}).data}))}});Oe.forEach(["post","put","patch"],function(r){function n(a){return function(i,o,c){return this.request(_f(c||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}tf.prototype[r]=n(),tf.prototype[r+"Form"]=n(!0)});class QO{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{a.subscribe(c),i=c}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,c){a.reason||(a.reason=new Hp(i,o,c),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=a=>{r.abort(a)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new QO(function(s){r=s}),cancel:r}}}function Eye(e){return function(n){return e.apply(null,n)}}function Cye(e){return Oe.isObject(e)&&e.isAxiosError===!0}const EE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(EE).forEach(([e,r])=>{EE[r]=e});function vq(e){const r=new tf(e),n=YH(tf.prototype.request,r);return Oe.extend(n,tf.prototype,r,{allOwnKeys:!0}),Oe.extend(n,r,null,{allOwnKeys:!0}),n.create=function(s){return vq(_f(e,s))},n}const Yr=vq(Lx);Yr.Axios=tf;Yr.CanceledError=Hp;Yr.CancelToken=QO;Yr.isCancel=uq;Yr.VERSION=gq;Yr.toFormData=hS;Yr.AxiosError=Vt;Yr.Cancel=Yr.CanceledError;Yr.all=function(r){return Promise.all(r)};Yr.spread=Eye;Yr.isAxiosError=Cye;Yr.mergeConfig=_f;Yr.AxiosHeaders=Os;Yr.formToJSON=e=>cq(Oe.isHTMLForm(e)?new FormData(e):e);Yr.getAdapter=pq.getAdapter;Yr.HttpStatusCode=EE;Yr.default=Yr;const S0="https://app.chatwoot.com",Wo="pMLFqLKix7PAnMnWJDorh2ne",Ho="144075",Ky={async getConversations(e="open",r=1){var n;try{const s=(await Yr.get(`${S0}/api/v1/accounts/${Ho}/conversations`,{headers:{api_access_token:Wo},params:{status:e,page:r}})).data;return(n=s==null?void 0:s.data)!=null&&n.payload?s.data.payload:s!=null&&s.payload?s.payload:[]}catch(a){return console.error("[Chatwoot] Failed to fetch conversations:",a),[]}},async getMessages(e){try{return(await Yr.get(`${S0}/api/v1/accounts/${Ho}/conversations/${e}/messages`,{headers:{api_access_token:Wo}})).data.payload||[]}catch(r){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,r),[]}},async sendMessage(e,r,n=!1){try{return(await Yr.post(`${S0}/api/v1/accounts/${Ho}/conversations/${e}/messages`,{content:r,message_type:n?"private":"outgoing",private:n},{headers:{api_access_token:Wo}})).data}catch(a){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,a),a}},async toggleStatus(e,r){try{await Yr.post(`${S0}/api/v1/accounts/${Ho}/conversations/${e}/toggle_status`,{status:r},{headers:{api_access_token:Wo}})}catch(n){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,n),n}},async getInboxes(){try{return(await Yr.get(`${S0}/api/v1/accounts/${Ho}/inboxes`,{headers:{api_access_token:Wo}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function Tye(){const{t:e}=qt();vr(),Ol();const[r,n]=y.useState([]),[a,s]=y.useState(null),[i,o]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[p,v]=y.useState(""),[g,x]=y.useState("open"),b=y.useRef(null);y.useEffect(()=>{w(g);const E=setInterval(()=>{w(g,!0)},3e4);return()=>clearInterval(E)},[g]),y.useEffect(()=>{if(a){_(a.id);const E=setInterval(()=>_(a.id),1e4);return()=>clearInterval(E)}},[a]),y.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[i]);const w=async(E,C=!1)=>{C||u(!0);try{const O=await Ky.getConversations(E);n(O||[])}catch(O){console.error("Failed to load conversations:",O),C||console.error("User notification skipped for load error")}finally{C||u(!1)}},_=async E=>{i.length===0&&f(!0);try{const C=await Ky.getMessages(E);o(C)}catch(C){console.error("Failed to load messages",C)}finally{f(!1)}},S=async()=>{if(!(!p.trim()||!a)){m(!0);try{const E=await Ky.sendMessage(a.id,p);E&&(o(C=>[...C,E]),v(""))}catch(E){console.error("Failed to send message",E)}finally{m(!1)}}},j=async E=>{try{const C=g==="open"?"resolved":"open";await Ky.toggleStatus(E,C),g!=="all"?(n(O=>O.filter(D=>D.id!==E)),(a==null?void 0:a.id)===E&&(s(null),o([]))):(n(O=>O.map(D=>D.id===E?{...D,status:C}:D)),w(g))}catch(C){console.error("Failed to toggle status",C)}},N=E=>E!=null&&E.includes("email")?l.jsx(gh,{className:"h-4 w-4"}):E!=null&&E.includes("whatsapp")?l.jsx(em,{className:"h-4 w-4"}):l.jsx(Fu,{className:"h-4 w-4"}),k=E=>new Date(E*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return l.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:kr()?"rtl":"ltr",children:[l.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[l.jsxs("div",{className:"p-4 border-b space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),l.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>w(g),disabled:c,children:l.jsx(rv,{className:`h-4 w-4 ${c?"animate-spin":""}`})})]}),l.jsx(kl,{defaultValue:"open",onValueChange:E=>x(E),className:"w-full",children:l.jsxs(Fo,{className:"grid w-full grid-cols-3",children:[l.jsx(en,{value:"open",children:e("status.open")}),l.jsx(en,{value:"resolved",children:e("status.closed")}),l.jsx(en,{value:"all",children:e("common.all")})]})}),l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(We,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),l.jsx(la,{className:"flex-1",children:r.length===0&&!c?l.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):l.jsx("div",{className:"divide-y",children:r.map(E=>l.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(a==null?void 0:a.id)===E.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>s(E),children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ds,{className:"h-8 w-8",children:[l.jsx(Po,{src:E.meta.sender.thumbnail}),l.jsx(Rs,{children:E.meta.sender.name.charAt(0)})]}),l.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:E.meta.sender.name})]}),l.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:k(E.timestamp)})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[N(E.meta.channel),l.jsx("span",{className:"capitalize",children:E.meta.channel.split(".")[1]||"Web"}),E.status==="resolved"&&l.jsx(ht,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),l.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:E.messages&&E.messages.length>0?E.messages[E.messages.length-1].content:e("common.noMessages")||"No messages"})]},E.id))})})]}),l.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:a?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Ds,{children:[l.jsx(Po,{src:a.meta.sender.thumbnail}),l.jsx(Rs,{children:a.meta.sender.name.charAt(0)})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.meta.sender.name}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.meta.sender.email&&l.jsx("span",{children:a.meta.sender.email}),a.meta.sender.phone_number&&l.jsxs("span",{children:[" ",a.meta.sender.phone_number]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:a.status==="resolved"?"outline":"default",size:"sm",onClick:()=>j(a.id),children:a.status==="resolved"?l.jsxs(l.Fragment,{children:[l.jsx(rv,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):l.jsxs(l.Fragment,{children:[l.jsx(vI,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),l.jsxs(cO,{children:[l.jsx(uO,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"icon",children:l.jsx(QU,{className:"h-4 w-4"})})}),l.jsxs(J_,{align:"end",children:[l.jsx(Xl,{children:e("chats.viewContactDetails")}),l.jsx(Xl,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),l.jsx("div",{ref:b,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:d?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):i.map(E=>{const C=E.message_type==="outgoing"||E.sender&&E.sender.type==="user",O=E.private;return l.jsx("div",{className:`flex w-full ${C?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${O?"bg-yellow-50 border border-yellow-200":C?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[O&&l.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[l.jsx(hie,{className:"h-3 w-3"})," ",e("chats.note")]}),l.jsx("div",{className:"text-sm whitespace-pre-wrap",children:E.content}),l.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${C?"text-primary-foreground/70":"text-muted-foreground"}`,children:[k(E.created_at),C&&l.jsx(vI,{className:"h-3 w-3"})]})]})},E.id)})}),l.jsxs("div",{className:"p-4 border-t bg-background",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(We,{placeholder:e("chats.typeMessage"),value:p,onChange:E=>v(E.target.value),onKeyDown:E=>E.key==="Enter"&&!E.shiftKey&&S(),disabled:h||a.status==="resolved",className:"flex-1"}),l.jsx(ue,{onClick:S,disabled:h||!p.trim()||a.status==="resolved",children:h?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):l.jsx(mx,{className:"h-4 w-4"})})]}),a.status==="resolved"&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[l.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:l.jsx(Fu,{className:"h-8 w-8 text-muted-foreground/50"})}),l.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),l.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function Aye(){const{user:e}=vr(),{t:r}=qt(),[n,a]=y.useState([]),[s,i]=y.useState(null),[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(""),[m,p]=y.useState(!0),[v,g]=y.useState(!1),[x,b]=y.useState(null),[w,_]=y.useState(null),[S,j]=y.useState(!1),[N,k]=y.useState(!0),E=y.useRef(!1),C=y.useRef(null),O=y.useRef(null);y.useEffect(()=>{e&&!E.current&&D()},[e]),y.useEffect(()=>{s&&(O.current!==s.room_id&&z(),C.current!==s.room_id&&T())},[s]),y.useEffect(()=>{s&&(async()=>{try{await Jt.realtime.setAuth(await U1.getFreshJwt());const V=`room:${s.room_id}:messages`,L=Jt.channel(V,{config:{broadcast:{self:!0,ack:!0},private:!0}});return L.on("broadcast",{event:"*"},M=>{var Z;const Y=(Z=M.payload)==null?void 0:Z.record;Y&&Y.message_id&&c(A=>A.some(U=>U.message_id===Y.message_id)?A:[...A.filter(U=>!(U.message_id.startsWith("temp-")&&U.userid===Y.userid&&U.content===Y.content)),Y])}),await L.subscribe(),()=>{L.unsubscribe()}}catch(V){console.error("Failed to setup realtime:",V)}})()},[s]),y.useEffect(()=>{g(!1),b(null),_(null),E.current=!1,C.current=null,O.current=null},[e]);const D=async()=>{if(!E.current)try{p(!0);const I=await Xo.getUserRooms((e==null?void 0:e.id)||"");a(I),I.length>0&&i(I[0]),g(!0),E.current=!0}catch(I){console.error("Failed to load rooms:",I)}finally{p(!1)}},T=async()=>{if(!(!s||C.current===s.room_id))try{const I=await jd.getByRoom(s.room_id);c(I),b(s.room_id),C.current=s.room_id}catch(I){console.error("Failed to load messages:",I)}},z=async()=>{if(!(!s||O.current===s.room_id))try{const I=await Xo.getRoomMembers(s.room_id);d(I),_(s.room_id),O.current=s.room_id}catch(I){console.error("Failed to load room members:",I)}},q=async()=>{if(!f.trim()||!s||!e)return;const I=f.trim(),V={message_id:`temp-${Date.now()}`,room_id:s.room_id,userid:e.id.toString(),content:I,created_at:new Date().toISOString(),metadata:null};c(L=>[...L,V]),h("");try{await jd.create({room_id:s.room_id,userid:e.id.toString(),content:I,metadata:null})}catch(L){console.error("Failed to send message:",L),c(M=>M.filter(Y=>Y.message_id!==V.message_id)),h(I)}},F=I=>new Date(I).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return m?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[l.jsxs("div",{className:`flex-col border rounded-lg ${N?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"text-xl font-semibold",children:r("chats.myChatRooms")})})}),l.jsx(la,{className:"flex-1 p-4",children:l.jsx("div",{className:"space-y-2",children:n.map(I=>l.jsx(ct,{className:`cursor-pointer transition-colors ${(s==null?void 0:s.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>i(I),children:l.jsx(xt,{className:"p-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ty,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),l.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?r("chats.private"):r("chats.publicRoom")})]})]})})},I.room_id))})})]}),s&&l.jsx("div",{className:"md:hidden mb-4",children:l.jsxs(Sl,{open:S,onOpenChange:j,children:[l.jsx(dW,{asChild:!0,children:l.jsxs(ue,{variant:"outline",className:"w-full justify-between",children:[l.jsx("span",{className:"truncate",children:s.room_name||`Room ${s.room_id.slice(0,8)}`}),l.jsx(Ty,{className:"h-4 w-4 ml-2"})]})}),l.jsx(Io,{side:"left",className:"w-80 p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:r("chats.myChatRooms")}),l.jsx(la,{className:"h-[60vh]",children:l.jsx("div",{className:"space-y-2",children:n.map(I=>l.jsx(ct,{className:`cursor-pointer transition-colors ${(s==null?void 0:s.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{i(I),j(!1)},children:l.jsx(xt,{className:"p-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ty,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),l.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?r("chats.private"):r("chats.publicRoom")})]})]})})},I.room_id))})})]})})]})}),l.jsx("div",{className:"flex-1 flex flex-col",children:s?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:s.room_name||`Room ${s.room_id.slice(0,8)}`}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Ia,{className:"h-4 w-4"}),l.jsxs("span",{children:[u.length," ",r("chats.members")]}),s.is_private&&l.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:r("chats.private")})]})]}),l.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>k(!N),children:l.jsx(Rie,{className:"h-4 w-4"})})]}),l.jsx(la,{className:"flex-1 mb-4",children:l.jsx("div",{className:"space-y-4 p-4",children:w===s.room_id&&o.map(I=>{var L,M,Y,Z,A;let V;return I.userid===((L=e==null?void 0:e.id)==null?void 0:L.toString())?V={userid:e.id.toString(),user_name:((M=e.profile)==null?void 0:M.user_name)||e.email||r("chats.you"),avatar:(Y=e.profile)==null?void 0:Y.avatar,user_id:((Z=e.profile)==null?void 0:Z.user_id)||0,user_email:e.email}:V=u.find(X=>X.userid===I.userid),V||(V={userid:I.userid,user_name:r("chats.unknownUser"),avatar:"",user_id:0}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Ds,{className:"h-8 w-8",children:[l.jsx(Po,{src:V.avatar||""}),l.jsx(Rs,{children:((A=V.user_name)==null?void 0:A.charAt(0))||"?"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-medium text-sm",children:V.user_name}),l.jsx("span",{className:"text-xs text-muted-foreground",children:F(I.created_at)})]}),l.jsx("p",{className:"text-sm",children:I.content})]})]},I.message_id)})})}),l.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[l.jsx(We,{value:f,onChange:I=>h(I.target.value),placeholder:r("chats.typeMessage"),onKeyPress:I=>I.key==="Enter"&&q(),className:"flex-1"}),l.jsx(ue,{onClick:q,disabled:!f.trim(),children:l.jsx(mx,{className:"h-4 w-4"})})]})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(Ty,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:r("chats.selectRoom")})]})})})]})}function Oye(){const{isRTL:e}=Va();yn();const[r,n]=y.useState(null),[a,s]=y.useState([]),[i,o]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(!0),{user:h,signOut:m}=vr();y.useEffect(()=>{(async()=>{if(h!=null&&h.id)try{f(!0);const g=await Kc.getByUserAuthId(h.id);s(g)}catch(g){console.error("Failed to fetch user projects:",g)}finally{f(!1)}})()},[h==null?void 0:h.id]),y.useEffect(()=>{(async()=>{if(r)try{const[g,x]=await Promise.all([ec.getAll(),_E.getByTask(0)]),b=g.filter(w=>!0);o(b),u(x)}catch(g){console.error("Failed to fetch project data:",g)}})()},[r]);const p=r?a.find(v=>v.project_id===r):null;return l.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[l.jsx("header",{className:"border-b bg-card",children:l.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),l.jsxs(ue,{variant:"ghost",size:"sm",children:[l.jsx(Aie,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),l.jsxs("div",{className:"container mx-auto px-6 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Ae((h==null?void 0:h.profile)||{},"user_name"),"! "]}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),p?l.jsxs("div",{children:[l.jsx(ue,{variant:"ghost",className:"mb-4",onClick:()=>n(null),children:" Back to Projects"}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs(ct,{children:[l.jsx(Yt,{children:l.jsx(br,{children:p.project_name})}),l.jsxs(xt,{children:[l.jsx("p",{className:"text-muted-foreground",children:p.project_description||"No description available"}),l.jsxs("div",{className:"mt-4",children:[l.jsx(bf,{value:p.progress||0,className:"h-3"}),l.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[p.progress||0,"% Complete"]})]})]})]}),l.jsxs(kl,{defaultValue:"tasks",children:[l.jsxs(Fo,{children:[l.jsx(en,{value:"tasks",children:"Tasks"}),l.jsx(en,{value:"images",children:"Gallery"}),l.jsx(en,{value:"comments",children:"Comments"})]}),l.jsx(On,{value:"tasks",className:"space-y-3",children:i.filter(v=>v.stage_id!==null).map(v=>{var g;return l.jsx(ct,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:v.task_name}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v.description||"No description"})]}),l.jsxs(ht,{variant:v.task_status==="completed"?"default":"secondary",children:[v.task_status==="completed"?"":""," ",((g=v.task_status)==null?void 0:g.replace("_"," "))||"pending"]})]})})},v.task_id)})}),l.jsx(On,{value:"images",children:l.jsx(ct,{children:l.jsx(xt,{className:"pt-6",children:l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(v=>l.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-4xl",children:""})},v))})})})}),l.jsx(On,{value:"comments",children:l.jsx(ct,{children:l.jsxs(xt,{className:"pt-6 space-y-4",children:[c.map(v=>l.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),l.jsx("p",{className:"text-sm mt-1",children:v.message||"No message"}),l.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:v.created_date?new Date(v.created_date).toLocaleString():"Unknown date"})]})]},v.comment_id)),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsx(We,{placeholder:"Add a comment..."}),l.jsx(ue,{children:l.jsx(Fu,{className:"h-4 w-4"})})]})]})})})]})]}),l.jsx("div",{children:l.jsxs(ct,{children:[l.jsx(Yt,{children:l.jsx(br,{className:"text-lg",children:"Timeline"})}),l.jsxs(xt,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:p.created_date?new Date(p.created_date).toLocaleDateString():"N/A"})]}),p.end_date&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"End Date"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(p.end_date).toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),l.jsxs("div",{className:"space-y-2 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-500",children:""}),l.jsx("span",{children:"Project Kickoff"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-500",children:""}),l.jsx("span",{children:"Design Phase"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-blue-500",children:""}),l.jsx("span",{children:"Development Phase"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):d?l.jsx(zi,{size:"xl"}):a.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),l.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(v=>l.jsxs(ct,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>n(v.project_id),children:[l.jsxs(Yt,{children:[l.jsx(br,{className:"text-lg",children:v.project_name}),l.jsxs(ht,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",v.stage||"N/A"]})]}),l.jsx(xt,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Progress"}),l.jsxs("span",{className:"font-semibold",children:[v.progress||0,"%"]})]}),l.jsx(bf,{value:v.progress||0,className:"h-2"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",v.created_date?new Date(v.created_date).toLocaleDateString():"N/A"]}),l.jsx(ue,{className:"w-full",variant:"outline",children:"View Details "})]})})]},v.project_id))})]})]})}const Pye=()=>{const e=Vs(),{t:r}=qt(),{toast:n}=Ol(),{companyName:a}=v9();y.useEffect(()=>{(function(i,o){var c="https://app.chatwoot.com",u=i.createElement(o),d=i.getElementsByTagName(o)[0];u.src=c+"/packs/js/sdk.js",u.async=!0,d.parentNode.insertBefore(u,d),u.onload=function(){window.chatwootSDK.run({websiteToken:"D1EYnSkXCLjxUF5gyk1q3PHG",baseUrl:c})}})(document,"script")},[]);const s=[{icon:l.jsx(ef,{className:"h-6 w-6"}),title:r("landing.features.projectManagement.title"),description:r("landing.features.projectManagement.description")},{icon:l.jsx(Ia,{className:"h-6 w-6"}),title:r("landing.features.leadManagement.title"),description:r("landing.features.leadManagement.description")},{icon:l.jsx(yie,{className:"h-6 w-6"}),title:r("landing.features.analytics.title"),description:r("landing.features.analytics.description")},{icon:l.jsx(Fu,{className:"h-6 w-6"}),title:r("landing.features.communication.title"),description:r("landing.features.communication.description")},{icon:l.jsx(dg,{className:"h-6 w-6"}),title:r("landing.features.taskManagement.title"),description:r("landing.features.taskManagement.description")},{icon:l.jsx(S1,{className:"h-6 w-6"}),title:r("landing.features.security.title"),description:r("landing.features.security.description")}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[l.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(a==null?void 0:a.charAt(0))||"M"})}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:a})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(fV,{}),l.jsx(ue,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:r("buttons.login")})]})]})}),l.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"text-center",children:[l.jsxs(ht,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[l.jsx(t9,{className:"h-3 w-3 mr-1"}),r("landing.badge")]}),l.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[r("landing.hero.title.line1"),l.jsx("span",{className:"text-primary block",children:r("landing.hero.title.line2")})]}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:r("landing.hero.description")}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[l.jsxs(ue,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[r("landing.hero.cta.primary"),l.jsx(pie,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),l.jsx(ue,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:r("landing.hero.cta.secondary")})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.users")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.usersLabel")})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.projects")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.projectsLabel")})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.uptime")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.uptimeLabel")})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.support")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.supportLabel")})]})]})]})}),l.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:r("landing.features.title")}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:r("landing.features.subtitle")})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:s.map((i,o)=>l.jsx(ct,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:l.jsxs(xt,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:i.icon}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.title})]}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]})},o))})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[l.jsx(ct,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:l.jsxs(xt,{className:"p-8 sm:p-12 text-center",children:[l.jsx(r9,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),l.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:r("landing.cta.title")}),l.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:r("landing.cta.description")}),l.jsxs(ue,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[r("landing.cta.button"),l.jsx(j1,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),l.jsx(ct,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:l.jsxs(xt,{className:"p-8 sm:p-12",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:r("landing.partner.title")}),l.jsx("p",{className:"text-gray-600",children:r("landing.partner.subtitle")})]}),l.jsxs("form",{className:"space-y-4",onSubmit:async i=>{i.preventDefault();const o=i.target,c=new FormData(o);try{await Bw.createApplication({company_name:c.get("company_name"),full_name:c.get("full_name"),email:c.get("email"),phone:c.get("phone")}),n({title:r("landing.partner.success"),description:r("landing.partner.successMessage")}),o.reset()}catch{n({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[l.jsx("div",{className:"space-y-2",children:l.jsx(We,{name:"company_name",placeholder:r("landing.partner.companyName"),required:!0,className:"bg-white"})}),l.jsx("div",{className:"space-y-2",children:l.jsx(We,{name:"full_name",placeholder:r("landing.partner.fullName"),required:!0,className:"bg-white"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(We,{name:"email",type:"email",placeholder:r("landing.partner.email"),required:!0,className:"bg-white"}),l.jsx(We,{name:"phone",type:"tel",placeholder:r("landing.partner.phone"),required:!0,className:"bg-white"})]}),l.jsx(ue,{type:"submit",className:"w-full text-lg h-12",children:r("landing.partner.submit")})]})]})})]})})}),l.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(a==null?void 0:a.charAt(0))||"M"})}),l.jsxs("span",{className:"font-semibold text-gray-900",children:[a," CRM"]})]}),l.jsx("p",{className:"text-sm text-gray-600",children:r("landing.footer.copyright",{brand:r("landing.brandName")})})]})})]})},Dye=()=>{const[e,r]=y.useState("loading"),[n,a]=y.useState("Processing authentication..."),s=Vs(),{user:i}=vr();return y.useEffect(()=>{let o;return(async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),i){console.log("[AuthCallback] User already authenticated by auth context:",i.role),r("success"),a("Authentication successful! Redirecting..."),setTimeout(()=>{i.role==="client"?s("/client-portal"):i.role==="employee"||i.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] Waiting for OAuth session to establish...");let u=0;const d=20,f=async()=>{u++,console.log(`[AuthCallback] Checking session and profile (attempt ${u}/${d})`);try{const{data:{user:h},error:m}=await Jt.auth.getUser();if(m&&console.error("[AuthCallback] User error:",m),h){console.log("[AuthCallback] Found authenticated user:",h.id);const{data:g}=await Jt.from("Users").select("userid").eq("userid",h.id).maybeSingle();if(g){console.log("[AuthCallback] User profile exists, fetching user data...");const x=await U1.getCurrentUser(h.id);if(x){localStorage.removeItem("oauth_intended_role"),r("success"),a("Authentication successful! Redirecting..."),setTimeout(()=>{x.role==="client"?s("/client-portal"):x.role==="employee"||x.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}const{data:{session:p},error:v}=await Jt.auth.getSession();if(v&&console.error("[AuthCallback] Session error:",v),p!=null&&p.user){console.log("[AuthCallback] Found session user:",p.user.id);const{data:g}=await Jt.from("Users").select("userid").eq("userid",p.user.id).maybeSingle();if(g){console.log("[AuthCallback] User profile exists, fetching user data...");const x=await U1.getCurrentUser(p.user.id);if(x){localStorage.removeItem("oauth_intended_role"),r("success"),a("Authentication successful! Redirecting..."),setTimeout(()=>{x.role==="client"?s("/client-portal"):x.role==="employee"||x.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}u<d?(console.log("[AuthCallback] No session or profile found, waiting and retrying..."),o=setTimeout(f,1e3)):(console.error("[AuthCallback] No session or profile found after maximum attempts"),r("error"),a("Authentication session not established. Please try signing in again."),setTimeout(()=>s("/login"),3e3))}catch(h){console.error("[AuthCallback] Error checking session and profile:",h),u<d?o=setTimeout(f,1e3):(r("error"),a("Authentication failed. Please try again."),setTimeout(()=>s("/login"),3e3))}};f()}catch(u){console.error("[AuthCallback] Error handling callback:",u),r("error"),a("Authentication failed. Please try again."),setTimeout(()=>s("/login"),3e3)}})(),()=>{o&&clearTimeout(o)}},[i,s]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&l.jsxs(l.Fragment,{children:[l.jsx(zi,{size:"xl",message:n}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),l.jsx("p",{className:"text-gray-600",children:n})]}),e==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),l.jsx("p",{className:"text-gray-600",children:n})]}),e==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),l.jsx("p",{className:"text-gray-600",children:n})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var xq=1252,Rye=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ZO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},eP=function(e){Rye.indexOf(e)!=-1&&(xq=ZO[0]=e)};function Iye(){eP(1252)}var bo=function(e){eP(e)};function yq(){bo(1200),Iye()}function eF(e){for(var r=[],n=0,a=e.length;n<a;++n)r[n]=e.charCodeAt(n);return r}function Mye(e){for(var r=[],n=0;n<e.length>>1;++n)r[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return r.join("")}function wq(e){for(var r=[],n=0;n<e.length>>1;++n)r[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return r.join("")}var q0=function(e){var r=e.charCodeAt(0),n=e.charCodeAt(1);return r==255&&n==254?Mye(e.slice(2)):r==254&&n==255?wq(e.slice(2)):r==65279?e.slice(1):e},Gy=function(r){return String.fromCharCode(r)},tF=function(r){return String.fromCharCode(r)},eu,gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function rF(e){for(var r="",n=0,a=0,s=0,i=0,o=0,c=0,u=0,d=0;d<e.length;)n=e.charCodeAt(d++),i=n>>2,a=e.charCodeAt(d++),o=(n&3)<<4|a>>4,s=e.charCodeAt(d++),c=(a&15)<<2|s>>6,u=s&63,isNaN(a)?c=u=64:isNaN(s)&&(u=64),r+=gu.charAt(i)+gu.charAt(o)+gu.charAt(c)+gu.charAt(u);return r}function pi(e){var r="",n=0,a=0,s=0,i=0,o=0,c=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=gu.indexOf(e.charAt(d++)),o=gu.indexOf(e.charAt(d++)),n=i<<2|o>>4,r+=String.fromCharCode(n),c=gu.indexOf(e.charAt(d++)),a=(o&15)<<4|c>>2,c!==64&&(r+=String.fromCharCode(a)),u=gu.indexOf(e.charAt(d++)),s=(c&3)<<6|u,u!==64&&(r+=String.fromCharCode(s));return r}var tr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Bf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(r,n){return n?new Buffer(r,n):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function Vu(e){return tr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function nF(e){return tr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var vo=function(r){return tr?Bf(r,"binary"):r.split("").map(function(n){return n.charCodeAt(0)&255})};function Uf(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var r=[],n=0;n<e.length;++n)r[n]=String.fromCharCode(e[n]);return r.join("")}function tP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return tP(new Uint8Array(e));for(var r=new Array(e.length),n=0;n<e.length;++n)r[n]=e[n];return r}var tu=tr?function(e){return Buffer.concat(e.map(function(r){return Buffer.isBuffer(r)?r:Bf(r)}))}:function(e){if(typeof Uint8Array<"u"){var r=0,n=0;for(r=0;r<e.length;++r)n+=e[r].length;var a=new Uint8Array(n),s=0;for(r=0,n=0;r<e.length;n+=s,++r)if(s=e[r].length,e[r]instanceof Uint8Array)a.set(e[r],n);else{if(typeof e[r]=="string")throw"wtf";a.set(new Uint8Array(e[r]),n)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Fye(e){for(var r=[],n=0,a=e.length+250,s=Vu(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[n++]=o;else if(o<2048)s[n++]=192|o>>6&31,s[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=e.charCodeAt(++i)&1023;s[n++]=240|o>>8&7,s[n++]=128|o>>2&63,s[n++]=128|c>>6&15|(o&3)<<4,s[n++]=128|c&63}else s[n++]=224|o>>12&15,s[n++]=128|o>>6&63,s[n++]=128|o&63;n>a&&(r.push(s.slice(0,n)),n=0,s=Vu(65535),a=65530)}return r.push(s.slice(0,n)),tu(r)}var ds=/\u0000/g,K0=/[\u0001-\u0006]/g;function lm(e){for(var r="",n=e.length-1;n>=0;)r+=e.charAt(n--);return r}function _o(e,r){var n=""+e;return n.length>=r?n:on("0",r-n.length)+n}function rP(e,r){var n=""+e;return n.length>=r?n:on(" ",r-n.length)+n}function H1(e,r){var n=""+e;return n.length>=r?n:n+on(" ",r-n.length)}function Lye(e,r){var n=""+Math.round(e);return n.length>=r?n:on("0",r-n.length)+n}function $ye(e,r){var n=""+e;return n.length>=r?n:on("0",r-n.length)+n}var aF=Math.pow(2,32);function uh(e,r){if(e>aF||e<-aF)return Lye(e,r);var n=Math.round(e);return $ye(n,r)}function q1(e,r){return r=r||0,e.length>=7+r&&(e.charCodeAt(r)|32)===103&&(e.charCodeAt(r+1)|32)===101&&(e.charCodeAt(r+2)|32)===110&&(e.charCodeAt(r+3)|32)===101&&(e.charCodeAt(r+4)|32)===114&&(e.charCodeAt(r+5)|32)===97&&(e.charCodeAt(r+6)|32)===108}var sF=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Bk=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Bye(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ut={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},iF={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Uye={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function K1(e,r,n){for(var a=e<0?-1:1,s=e*a,i=0,o=1,c=0,u=1,d=0,f=0,h=Math.floor(s);d<r&&(h=Math.floor(s),c=h*o+i,f=h*d+u,!(s-h<5e-8));)s=1/(s-h),i=o,o=c,u=d,d=f;if(f>r&&(d>r?(f=u,c=i):(f=d,c=o)),!n)return[0,a*c,f];var m=Math.floor(a*c/f);return[m,a*c-m*f,f]}function Fd(e,r,n){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,o=[],c={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),r&&r.date1904&&(a+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++a,++c.D)),a===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),a<60&&(i=(i+6)%7),n&&(i=Kye(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var bq=new Date(1899,11,31,0,0,0),Vye=bq.getTime(),zye=new Date(1900,2,1,0,0,0);function _q(e,r){var n=e.getTime();return r?n-=1461*24*60*60*1e3:e>=zye&&(n+=24*60*60*1e3),(n-(Vye+(e.getTimezoneOffset()-bq.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function nP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Wye(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Hye(e){var r=e<0?12:11,n=nP(e.toFixed(12));return n.length<=r||(n=e.toPrecision(10),n.length<=r)?n:e.toExponential(5)}function qye(e){var r=nP(e.toFixed(11));return r.length>(e<0?12:11)||r==="0"||r==="-0"?e.toPrecision(6):r}function fv(e){var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return r>=-4&&r<=-1?n=e.toPrecision(10+r):Math.abs(r)<=9?n=Hye(e):r===10?n=e.toFixed(10).substr(0,12):n=qye(e),nP(Wye(n.toUpperCase()))}function Sf(e,r){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):fv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Wi(14,_q(e,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+e)}function Kye(e,r){r[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function Gye(e,r,n,a){var s="",i=0,o=0,c=n.y,u,d=0;switch(e){case 98:c=n.y+543;case 121:switch(r.length){case 1:case 2:u=c%100,d=2;break;default:u=c%1e4,d=4;break}break;case 109:switch(r.length){case 1:case 2:u=n.m,d=r.length;break;case 3:return Bk[n.m-1][1];case 5:return Bk[n.m-1][0];default:return Bk[n.m-1][2]}break;case 100:switch(r.length){case 1:case 2:u=n.d,d=r.length;break;case 3:return sF[n.q][0];default:return sF[n.q][1]}break;case 104:switch(r.length){case 1:case 2:u=1+(n.H+11)%12,d=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:u=n.H,d=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:u=n.M,d=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return n.u===0&&(r=="s"||r=="ss")?_o(n.S,r.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),r==="s"?i===0?"0":""+i/o:(s=_o(i,2+a),r==="ss"?s.substr(0,2):"."+s.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+r}d=r.length===3?1:2;break;case 101:u=c,d=1;break}var f=d>0?_o(u,d):"";return f}function vu(e){var r=3;if(e.length<=r)return e;for(var n=e.length%r,a=e.substr(0,n);n!=e.length;n+=r)a+=(a.length>0?",":"")+e.substr(n,r);return a}var Sq=/%/g;function Yye(e,r,n){var a=r.replace(Sq,""),s=r.length-a.length;return ic(e,a,n*Math.pow(10,2*s))+on("%",s)}function Xye(e,r,n){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return ic(e,r.substr(0,a),n/Math.pow(10,3*(r.length-a)))}function jq(e,r){var n,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+jq(e,-r);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(r/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),n.indexOf("e")===-1){var o=Math.floor(Math.log(r)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,d,f){return u+d+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else n=r.toExponential(a);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var kq=/# (\?+)( ?)\/( ?)(\d+)/;function Jye(e,r,n){var a=parseInt(e[4],10),s=Math.round(r*a),i=Math.floor(s/a),o=s-i*a,c=a;return n+(i===0?"":""+i)+" "+(o===0?on(" ",e[1].length+1+e[4].length):rP(o,e[1].length)+e[2]+"/"+e[3]+_o(c,e[4].length))}function Qye(e,r,n){return n+(r===0?"":""+r)+on(" ",e[1].length+2+e[4].length)}var Nq=/^#*0*\.([0#]+)/,Eq=/\).*[0#]/,Cq=/\(###\) ###\\?-####/;function Za(e){for(var r="",n,a=0;a!=e.length;++a)switch(n=e.charCodeAt(a)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(n)}return r}function oF(e,r){var n=Math.pow(10,r);return""+Math.round(e*n)/n}function lF(e,r){var n=e-Math.floor(e),a=Math.pow(10,r);return r<(""+Math.round(n*a)).length?0:Math.round(n*a)}function Zye(e,r){return r<(""+Math.round((e-Math.floor(e))*Math.pow(10,r))).length?1:0}function ewe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ni(e,r,n){if(e.charCodeAt(0)===40&&!r.match(Eq)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ni("n",a,n):"("+Ni("n",a,-n)+")"}if(r.charCodeAt(r.length-1)===44)return Xye(e,r,n);if(r.indexOf("%")!==-1)return Yye(e,r,n);if(r.indexOf("E")!==-1)return jq(r,n);if(r.charCodeAt(0)===36)return"$"+Ni(e,r.substr(r.charAt(1)==" "?2:1),n);var s,i,o,c,u=Math.abs(n),d=n<0?"-":"";if(r.match(/^00+$/))return d+uh(u,r.length);if(r.match(/^[#?]+$/))return s=uh(n,0),s==="0"&&(s=""),s.length>r.length?s:Za(r.substr(0,r.length-s.length))+s;if(i=r.match(kq))return Jye(i,u,d);if(r.match(/^#+0+$/))return d+uh(u,r.length-r.indexOf("0"));if(i=r.match(Nq))return s=oF(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Za(i[1])).replace(/\.$/,"."+Za(i[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+on("0",Za(i[1]).length-g.length)}),r.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return d+oF(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return d+vu(uh(u,0));if(i=r.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ni(e,r,-n):vu(""+(Math.floor(n)+Zye(n,i[1].length)))+"."+_o(lF(n,i[1].length),i[1].length);if(i=r.match(/^#,#*,#0/))return Ni(e,r.replace(/^#,#*,/,""),n);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return s=lm(Ni(e,r.replace(/[\\-]/g,""),n)),o=0,lm(lm(r.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<s.length?s.charAt(o++):v==="0"?"0":""}));if(r.match(Cq))return s=Ni(e,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=K1(u,Math.pow(10,o)-1,!1),s=""+d,f=ic("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=H1(c[2],o),f.length<i[4].length&&(f=Za(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=K1(u,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?rP(c[1],o)+i[2]+"/"+i[3]+H1(c[2],o):on(" ",2*o+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return s=uh(n,0),r.length<=s.length?s:Za(r.substr(0,r.length-s.length))+s;if(i=r.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=r.indexOf(".")-o,m=r.length-s.length-h;return Za(r.substr(0,h)+s+r.substr(r.length-m))}if(i=r.match(/^00,000\.([#0]*0)$/))return o=lF(n,i[1].length),n<0?"-"+Ni(e,r,-n):vu(ewe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?_o(0,3-v.length):"")+v})+"."+_o(o,i[1].length);switch(r){case"###,##0.00":return Ni(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=vu(uh(u,0));return p!=="0"?d+p:"";case"###,###.00":return Ni(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ni(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function twe(e,r,n){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return ic(e,r.substr(0,a),n/Math.pow(10,3*(r.length-a)))}function rwe(e,r,n){var a=r.replace(Sq,""),s=r.length-a.length;return ic(e,a,n*Math.pow(10,2*s))+on("%",s)}function Tq(e,r){var n,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+Tq(e,-r);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(r/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!n.match(/[Ee]/)){var o=Math.floor(Math.log(r)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,d,f){return u+d+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else n=r.toExponential(a);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Go(e,r,n){if(e.charCodeAt(0)===40&&!r.match(Eq)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Go("n",a,n):"("+Go("n",a,-n)+")"}if(r.charCodeAt(r.length-1)===44)return twe(e,r,n);if(r.indexOf("%")!==-1)return rwe(e,r,n);if(r.indexOf("E")!==-1)return Tq(r,n);if(r.charCodeAt(0)===36)return"$"+Go(e,r.substr(r.charAt(1)==" "?2:1),n);var s,i,o,c,u=Math.abs(n),d=n<0?"-":"";if(r.match(/^00+$/))return d+_o(u,r.length);if(r.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>r.length?s:Za(r.substr(0,r.length-s.length))+s;if(i=r.match(kq))return Qye(i,u,d);if(r.match(/^#+0+$/))return d+_o(u,r.length-r.indexOf("0"));if(i=r.match(Nq))return s=(""+n).replace(/^([^\.]+)$/,"$1."+Za(i[1])).replace(/\.$/,"."+Za(i[1])),s=s.replace(/\.(\d*)$/,function(v,g){return"."+g+on("0",Za(i[1]).length-g.length)}),r.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return d+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return d+vu(""+u);if(i=r.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Go(e,r,-n):vu(""+n)+"."+on("0",i[1].length);if(i=r.match(/^#,#*,#0/))return Go(e,r.replace(/^#,#*,/,""),n);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return s=lm(Go(e,r.replace(/[\\-]/g,""),n)),o=0,lm(lm(r.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<s.length?s.charAt(o++):v==="0"?"0":""}));if(r.match(Cq))return s=Go(e,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=K1(u,Math.pow(10,o)-1,!1),s=""+d,f=ic("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=H1(c[2],o),f.length<i[4].length&&(f=Za(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=K1(u,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?rP(c[1],o)+i[2]+"/"+i[3]+H1(c[2],o):on(" ",2*o+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return s=""+n,r.length<=s.length?s:Za(r.substr(0,r.length-s.length))+s;if(i=r.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=r.indexOf(".")-o,m=r.length-s.length-h;return Za(r.substr(0,h)+s+r.substr(r.length-m))}if(i=r.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Go(e,r,-n):vu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?_o(0,3-v.length):"")+v})+"."+_o(0,i[1].length);switch(r){case"###,###":case"##,###":case"#,###":var p=vu(""+u);return p!=="0"?d+p:"";default:if(r.match(/\.[0#?]*$/))return Go(e,r.slice(0,r.lastIndexOf(".")),n)+Za(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function ic(e,r,n){return(n|0)===n?Go(e,r,n):Ni(e,r,n)}function nwe(e){for(var r=[],n=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:n=!n;break;case 95:case 42:case 92:++a;break;case 59:r[r.length]=e.substr(s,a-s),s=a+1}if(r[r.length]=e.substr(s),n===!0)throw new Error("Format |"+e+"| unterminated string ");return r}var Aq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function qp(e){for(var r=0,n="",a="";r<e.length;)switch(n=e.charAt(r)){case"G":q1(e,r)&&(r+=6),r++;break;case'"':for(;e.charCodeAt(++r)!==34&&r<e.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(e.charAt(r+1)==="1"||e.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(r,3).toUpperCase()==="A/P"||e.substr(r,5).toUpperCase()==="AM/PM"||e.substr(r,5).toUpperCase()==="/")return!0;++r;break;case"[":for(a=n;e.charAt(r++)!=="]"&&r<e.length;)a+=e.charAt(r);if(a.match(Aq))return!0;break;case".":case"0":case"#":for(;r<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++r))>-1||n=="\\"&&e.charAt(r+1)=="-"&&"0#".indexOf(e.charAt(r+2))>-1););break;case"?":for(;e.charAt(++r)===n;);break;case"*":++r,(e.charAt(r)==" "||e.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<e.length&&"0123456789".indexOf(e.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function awe(e,r,n,a){for(var s=[],i="",o=0,c="",u="t",d,f,h,m="H";o<e.length;)switch(c=e.charAt(o)){case"G":if(!q1(e,o))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);s[s.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),v=p==="("||p===")"?p:"t";s[s.length]={t:v,v:p},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:r},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Fd(r,n,e.charAt(o+1)==="2"),d==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||d==null&&(d=Fd(r,n),d==null))return"";for(i=c;++o<e.length&&e.charAt(o).toLowerCase()===c;)i+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=m),s[s.length]={t:c,v:i},u=c;break;case"A":case"a":case"":var g={t:c,v:c};if(d==null&&(d=Fd(r,n)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(g.v=d.H>=12?"P":"A"),g.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(g.v=d.H>=12?"PM":"AM"),g.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(g.v=d.H>=12?"":""),g.t="T",o+=5,m="h"):(g.t="t",++o),d==null&&g.t==="T")return"";s[s.length]=g,u=c;break;case"[":for(i=c;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Aq)){if(d==null&&(d=Fd(r,n),d==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",qp(e)||(s[s.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=c;++o<e.length&&(c=e.charAt(o))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++o<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(o))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++o)===c;)i+=c;s[s.length]={t:c,v:i},u=c;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:a===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"t",v:c},++o;break}var x=0,b=0,w;for(o=s.length-1,u="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=m,u="h",x<1&&(x=1);break;case"s":(w=s[o].v.match(/\.0+$/))&&(b=Math.max(b,w[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":u=s[o].t;break;case"m":u==="s"&&(s[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&s[o].v.match(/[Hh]/)&&(x=1),x<2&&s[o].v.match(/[Mm]/)&&(x=2),x<3&&s[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var _="",S;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=Gye(s[o].t.charCodeAt(0),s[o].v,d,b),s[o].t="t";break;case"n":case"?":for(S=o+1;s[S]!=null&&((c=s[S].t)==="?"||c==="D"||(c===" "||c==="t")&&s[S+1]!=null&&(s[S+1].t==="?"||s[S+1].t==="t"&&s[S+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[S].v==="/"||s[S].v===" "&&s[S+1]!=null&&s[S+1].t=="?"));)s[o].v+=s[S].v,s[S]={v:"",t:";"},++S;_+=s[o].v,o=S-1;break;case"G":s[o].t="t",s[o].v=Sf(r,n);break}var j="",N,k;if(_.length>0){_.charCodeAt(0)==40?(N=r<0&&_.charCodeAt(0)===45?-r:r,k=ic("n",_,N)):(N=r<0&&a>1?-r:r,k=ic("n",_,N),N<0&&s[0]&&s[0].t=="t"&&(k=k.substr(1),s[0].v="-"+s[0].v)),S=k.length-1;var E=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){E=o;break}var C=s.length;if(E===s.length&&k.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(S>=s[o].v.length-1?(S-=s[o].v.length,s[o].v=k.substr(S+1,s[o].v.length)):S<0?s[o].v="":(s[o].v=k.substr(0,S+1),S=-1),s[o].t="t",C=o);S>=0&&C<s.length&&(s[C].v=k.substr(0,S+1)+s[C].v)}else if(E!==s.length&&k.indexOf("E")===-1){for(S=k.indexOf(".")-1,o=E;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(f=s[o].v.indexOf(".")>-1&&o===E?s[o].v.indexOf(".")-1:s[o].v.length-1,j=s[o].v.substr(f+1);f>=0;--f)S>=0&&(s[o].v.charAt(f)==="0"||s[o].v.charAt(f)==="#")&&(j=k.charAt(S--)+j);s[o].v=j,s[o].t="t",C=o}for(S>=0&&C<s.length&&(s[C].v=k.substr(0,S+1)+s[C].v),S=k.indexOf(".")+1,o=E;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==E)){for(f=s[o].v.indexOf(".")>-1&&o===E?s[o].v.indexOf(".")+1:0,j=s[o].v.substr(0,f);f<s[o].v.length;++f)S<k.length&&(j+=k.charAt(S++));s[o].v=j,s[o].t="t",C=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(N=a>1&&r<0&&o>0&&s[o-1].v==="-"?-r:r,s[o].v=ic(s[o].t,s[o].v,N),s[o].t="t");var O="";for(o=0;o!==s.length;++o)s[o]!=null&&(O+=s[o].v);return O}var cF=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uF(e,r){if(r==null)return!1;var n=parseFloat(r[2]);switch(r[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function swe(e,r){var n=nwe(e),a=n.length,s=n[a-1].indexOf("@");if(a<4&&s>-1&&--a,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof r!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=r>0?n[0]:r<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[a,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(cF),c=n[1].match(cF);return uF(r,o)?[a,n[0]]:uF(r,c)?[a,n[1]]:[a,n[o!=null&&c!=null?2:1]]}return[a,i]}function Wi(e,r,n){n==null&&(n={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?a=n.dateNF:a=e;break;case"number":e==14&&n.dateNF?a=n.dateNF:a=(n.table!=null?n.table:Ut)[e],a==null&&(a=n.table&&n.table[iF[e]]||Ut[iF[e]]),a==null&&(a=Uye[e]||"General");break}if(q1(a,0))return Sf(r,n);r instanceof Date&&(r=_q(r,n.date1904));var s=swe(a,r);if(q1(s[1]))return Sf(r,n);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return awe(s[1],r,n,s[0])}function rf(e,r){if(typeof r!="number"){r=+r||-1;for(var n=0;n<392;++n){if(Ut[n]==null){r<0&&(r=n);continue}if(Ut[n]==e){r=n;break}}r<0&&(r=391)}return Ut[r]=e,r}function Oq(){Ut=Bye()}var iwe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Pq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function owe(e){var r=typeof e=="number"?Ut[e]:e;return r=r.replace(Pq,"(\\d+)"),new RegExp("^"+r+"$")}function lwe(e,r,n){var a=-1,s=-1,i=-1,o=-1,c=-1,u=-1;(r.match(Pq)||[]).forEach(function(h,m){var p=parseInt(n[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":a=p;break;case"d":i=p;break;case"h":o=p;break;case"s":u=p;break;case"m":o>=0?c=p:s=p;break}}),u>=0&&c==-1&&s>=0&&(c=s,s=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?d:a==-1&&s==-1&&i==-1?f:d+"T"+f}var cwe=function(){var e={};e.version="1.2.0";function r(){for(var k=0,E=new Array(256),C=0;C!=256;++C)k=C,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,E[C]=k;return typeof Int32Array<"u"?new Int32Array(E):E}var n=r();function a(k){var E=0,C=0,O=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)D[O]=k[O];for(O=0;O!=256;++O)for(C=k[O],E=256+O;E<4096;E+=256)C=D[E]=C>>>8^k[C&255];var T=[];for(O=1;O!=16;++O)T[O-1]=typeof Int32Array<"u"?D.subarray(O*256,O*256+256):D.slice(O*256,O*256+256);return T}var s=a(n),i=s[0],o=s[1],c=s[2],u=s[3],d=s[4],f=s[5],h=s[6],m=s[7],p=s[8],v=s[9],g=s[10],x=s[11],b=s[12],w=s[13],_=s[14];function S(k,E){for(var C=E^-1,O=0,D=k.length;O<D;)C=C>>>8^n[(C^k.charCodeAt(O++))&255];return~C}function j(k,E){for(var C=E^-1,O=k.length-15,D=0;D<O;)C=_[k[D++]^C&255]^w[k[D++]^C>>8&255]^b[k[D++]^C>>16&255]^x[k[D++]^C>>>24]^g[k[D++]]^v[k[D++]]^p[k[D++]]^m[k[D++]]^h[k[D++]]^f[k[D++]]^d[k[D++]]^u[k[D++]]^c[k[D++]]^o[k[D++]]^i[k[D++]]^n[k[D++]];for(O+=15;D<O;)C=C>>>8^n[(C^k[D++])&255];return~C}function N(k,E){for(var C=E^-1,O=0,D=k.length,T=0,z=0;O<D;)T=k.charCodeAt(O++),T<128?C=C>>>8^n[(C^T)&255]:T<2048?(C=C>>>8^n[(C^(192|T>>6&31))&255],C=C>>>8^n[(C^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,z=k.charCodeAt(O++)&1023,C=C>>>8^n[(C^(240|T>>8&7))&255],C=C>>>8^n[(C^(128|T>>2&63))&255],C=C>>>8^n[(C^(128|z>>6&15|(T&3)<<4))&255],C=C>>>8^n[(C^(128|z&63))&255]):(C=C>>>8^n[(C^(224|T>>12&15))&255],C=C>>>8^n[(C^(128|T>>6&63))&255],C=C>>>8^n[(C^(128|T&63))&255]);return~C}return e.table=n,e.bstr=S,e.buf=j,e.str=N,e}(),rr=function(){var r={};r.version="1.2.1";function n(W,re){for(var J=W.split("/"),ee=re.split("/"),R=0,K=0,de=Math.min(J.length,ee.length);R<de;++R){if(K=J[R].length-ee[R].length)return K;if(J[R]!=ee[R])return J[R]<ee[R]?-1:1}return J.length-ee.length}function a(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:a(W.slice(0,-1));var re=W.lastIndexOf("/");return re===-1?W:W.slice(0,re+1)}function s(W){if(W.charAt(W.length-1)=="/")return s(W.slice(0,-1));var re=W.lastIndexOf("/");return re===-1?W:W.slice(re+1)}function i(W,re){typeof re=="string"&&(re=new Date(re));var J=re.getHours();J=J<<6|re.getMinutes(),J=J<<5|re.getSeconds()>>>1,W.write_shift(2,J);var ee=re.getFullYear()-1980;ee=ee<<4|re.getMonth()+1,ee=ee<<5|re.getDate(),W.write_shift(2,ee)}function o(W){var re=W.read_shift(2)&65535,J=W.read_shift(2)&65535,ee=new Date,R=J&31;J>>>=5;var K=J&15;J>>>=4,ee.setMilliseconds(0),ee.setFullYear(J+1980),ee.setMonth(K-1),ee.setDate(R);var de=re&31;re>>>=5;var Ne=re&63;return re>>>=6,ee.setHours(re),ee.setMinutes(Ne),ee.setSeconds(de<<1),ee}function c(W){ia(W,0);for(var re={},J=0;W.l<=W.length-4;){var ee=W.read_shift(2),R=W.read_shift(2),K=W.l+R,de={};switch(ee){case 21589:J=W.read_shift(1),J&1&&(de.mtime=W.read_shift(4)),R>5&&(J&2&&(de.atime=W.read_shift(4)),J&4&&(de.ctime=W.read_shift(4))),de.mtime&&(de.mt=new Date(de.mtime*1e3));break}W.l=K,re[ee]=de}return re}var u;function d(){return u||(u={})}function f(W,re){if(W[0]==80&&W[1]==75)return yi(W,re);if((W[0]|32)==109&&(W[1]|32)==105)return Ht(W,re);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var J=3,ee=512,R=0,K=0,de=0,Ne=0,Se=0,je=[],Ee=W.slice(0,512);ia(Ee,0);var ze=h(Ee);switch(J=ze[0],J){case 3:ee=512;break;case 4:ee=4096;break;case 0:if(ze[1]==0)return yi(W,re);default:throw new Error("Major Version: Expected 3 or 4 saw "+J)}ee!==512&&(Ee=W.slice(0,ee),ia(Ee,28));var Ze=W.slice(0,ee);m(Ee,J);var st=Ee.read_shift(4,"i");if(J===3&&st!==0)throw new Error("# Directory Sectors: Expected 0 saw "+st);Ee.l+=4,de=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),Ne=Ee.read_shift(4,"i"),R=Ee.read_shift(4,"i"),Se=Ee.read_shift(4,"i"),K=Ee.read_shift(4,"i");for(var Xe=-1,at=0;at<109&&(Xe=Ee.read_shift(4,"i"),!(Xe<0));++at)je[at]=Xe;var Dt=p(W,ee);x(Se,K,Dt,ee,je);var Ar=w(Dt,de,je,ee);Ar[de].name="!Directory",R>0&&Ne!==z&&(Ar[Ne].name="!MiniFAT"),Ar[je[0]].name="!FAT",Ar.fat_addrs=je,Ar.ssz=ee;var Or={},Rn=[],Dc=[],Rc=[];_(de,Ar,Dt,Rn,R,Or,Dc,Ne),v(Dc,Rc,Rn),Rn.shift();var Ic={FileIndex:Dc,FullPaths:Rc};return re&&re.raw&&(Ic.raw={header:Ze,sectors:Dt}),Ic}function h(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(q,"Header Signature: "),W.l+=16;var re=W.read_shift(2,"u");return[W.read_shift(2,"u"),re]}function m(W,re){var J=9;switch(W.l+=2,J=W.read_shift(2)){case 9:if(re!=3)throw new Error("Sector Shift: Expected 9 saw "+J);break;case 12:if(re!=4)throw new Error("Sector Shift: Expected 12 saw "+J);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+J)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function p(W,re){for(var J=Math.ceil(W.length/re)-1,ee=[],R=1;R<J;++R)ee[R-1]=W.slice(R*re,(R+1)*re);return ee[J-1]=W.slice(J*re),ee}function v(W,re,J){for(var ee=0,R=0,K=0,de=0,Ne=0,Se=J.length,je=[],Ee=[];ee<Se;++ee)je[ee]=Ee[ee]=ee,re[ee]=J[ee];for(;Ne<Ee.length;++Ne)ee=Ee[Ne],R=W[ee].L,K=W[ee].R,de=W[ee].C,je[ee]===ee&&(R!==-1&&je[R]!==R&&(je[ee]=je[R]),K!==-1&&je[K]!==K&&(je[ee]=je[K])),de!==-1&&(je[de]=ee),R!==-1&&ee!=je[ee]&&(je[R]=je[ee],Ee.lastIndexOf(R)<Ne&&Ee.push(R)),K!==-1&&ee!=je[ee]&&(je[K]=je[ee],Ee.lastIndexOf(K)<Ne&&Ee.push(K));for(ee=1;ee<Se;++ee)je[ee]===ee&&(K!==-1&&je[K]!==K?je[ee]=je[K]:R!==-1&&je[R]!==R&&(je[ee]=je[R]));for(ee=1;ee<Se;++ee)if(W[ee].type!==0){if(Ne=ee,Ne!=je[Ne])do Ne=je[Ne],re[ee]=re[Ne]+"/"+re[ee];while(Ne!==0&&je[Ne]!==-1&&Ne!=je[Ne]);je[ee]=-1}for(re[0]+="/",ee=1;ee<Se;++ee)W[ee].type!==2&&(re[ee]+="/")}function g(W,re,J){for(var ee=W.start,R=W.size,K=[],de=ee;J&&R>0&&de>=0;)K.push(re.slice(de*T,de*T+T)),R-=T,de=Nd(J,de*4);return K.length===0?$n(0):tu(K).slice(0,W.size)}function x(W,re,J,ee,R){var K=z;if(W===z){if(re!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var de=J[W],Ne=(ee>>>2)-1;if(!de)return;for(var Se=0;Se<Ne&&(K=Nd(de,Se*4))!==z;++Se)R.push(K);x(Nd(de,ee-4),re-1,J,ee,R)}}function b(W,re,J,ee,R){var K=[],de=[];R||(R=[]);var Ne=ee-1,Se=0,je=0;for(Se=re;Se>=0;){R[Se]=!0,K[K.length]=Se,de.push(W[Se]);var Ee=J[Math.floor(Se*4/ee)];if(je=Se*4&Ne,ee<4+je)throw new Error("FAT boundary crossed: "+Se+" 4 "+ee);if(!W[Ee])break;Se=Nd(W[Ee],je)}return{nodes:K,data:wF([de])}}function w(W,re,J,ee){var R=W.length,K=[],de=[],Ne=[],Se=[],je=ee-1,Ee=0,ze=0,Ze=0,st=0;for(Ee=0;Ee<R;++Ee)if(Ne=[],Ze=Ee+re,Ze>=R&&(Ze-=R),!de[Ze]){Se=[];var Xe=[];for(ze=Ze;ze>=0;){Xe[ze]=!0,de[ze]=!0,Ne[Ne.length]=ze,Se.push(W[ze]);var at=J[Math.floor(ze*4/ee)];if(st=ze*4&je,ee<4+st)throw new Error("FAT boundary crossed: "+ze+" 4 "+ee);if(!W[at]||(ze=Nd(W[at],st),Xe[ze]))break}K[Ze]={nodes:Ne,data:wF([Se])}}return K}function _(W,re,J,ee,R,K,de,Ne){for(var Se=0,je=ee.length?2:0,Ee=re[W].data,ze=0,Ze=0,st;ze<Ee.length;ze+=128){var Xe=Ee.slice(ze,ze+128);ia(Xe,64),Ze=Xe.read_shift(2),st=lP(Xe,0,Ze-je),ee.push(st);var at={name:st,type:Xe.read_shift(1),color:Xe.read_shift(1),L:Xe.read_shift(4,"i"),R:Xe.read_shift(4,"i"),C:Xe.read_shift(4,"i"),clsid:Xe.read_shift(16),state:Xe.read_shift(4,"i"),start:0,size:0},Dt=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);Dt!==0&&(at.ct=S(Xe,Xe.l-8));var Ar=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);Ar!==0&&(at.mt=S(Xe,Xe.l-8)),at.start=Xe.read_shift(4,"i"),at.size=Xe.read_shift(4,"i"),at.size<0&&at.start<0&&(at.size=at.type=0,at.start=z,at.name=""),at.type===5?(Se=at.start,R>0&&Se!==z&&(re[Se].name="!StreamData")):at.size>=4096?(at.storage="fat",re[at.start]===void 0&&(re[at.start]=b(J,at.start,re.fat_addrs,re.ssz)),re[at.start].name=at.name,at.content=re[at.start].data.slice(0,at.size)):(at.storage="minifat",at.size<0?at.size=0:Se!==z&&at.start!==z&&re[Se]&&(at.content=g(at,re[Se].data,(re[Ne]||{}).data))),at.content&&ia(at.content,0),K[st]=at,de.push(at)}}function S(W,re){return new Date((ri(W,re+4)/1e7*Math.pow(2,32)+ri(W,re)/1e7-11644473600)*1e3)}function j(W,re){return d(),f(u.readFileSync(W),re)}function N(W,re){var J=re&&re.type;switch(J||tr&&Buffer.isBuffer(W)&&(J="buffer"),J||"base64"){case"file":return j(W,re);case"base64":return f(vo(pi(W)),re);case"binary":return f(vo(W),re)}return f(W,re)}function k(W,re){var J=re||{},ee=J.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=ee+"/",W.FileIndex[0]={name:ee,type:5}),J.CLSID&&(W.FileIndex[0].clsid=J.CLSID),E(W)}function E(W){var re="Sh33tJ5";if(!rr.find(W,"/"+re)){var J=$n(4);J[0]=55,J[1]=J[3]=50,J[2]=54,W.FileIndex.push({name:re,type:2,content:J,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+re),C(W)}}function C(W,re){k(W);for(var J=!1,ee=!1,R=W.FullPaths.length-1;R>=0;--R){var K=W.FileIndex[R];switch(K.type){case 0:ee?J=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:ee=!0,isNaN(K.R*K.L*K.C)&&(J=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(J=!0);break;default:J=!0;break}}if(!(!J&&!re)){var de=new Date(1987,1,19),Ne=0,Se=Object.create?Object.create(null):{},je=[];for(R=0;R<W.FullPaths.length;++R)Se[W.FullPaths[R]]=!0,W.FileIndex[R].type!==0&&je.push([W.FullPaths[R],W.FileIndex[R]]);for(R=0;R<je.length;++R){var Ee=a(je[R][0]);ee=Se[Ee],ee||(je.push([Ee,{name:s(Ee).replace("/",""),type:1,clsid:I,ct:de,mt:de,content:null}]),Se[Ee]=!0)}for(je.sort(function(st,Xe){return n(st[0],Xe[0])}),W.FullPaths=[],W.FileIndex=[],R=0;R<je.length;++R)W.FullPaths[R]=je[R][0],W.FileIndex[R]=je[R][1];for(R=0;R<je.length;++R){var ze=W.FileIndex[R],Ze=W.FullPaths[R];if(ze.name=s(Ze).replace("/",""),ze.L=ze.R=ze.C=-(ze.color=1),ze.size=ze.content?ze.content.length:0,ze.start=0,ze.clsid=ze.clsid||I,R===0)ze.C=je.length>1?1:-1,ze.size=0,ze.type=5;else if(Ze.slice(-1)=="/"){for(Ne=R+1;Ne<je.length&&a(W.FullPaths[Ne])!=Ze;++Ne);for(ze.C=Ne>=je.length?-1:Ne,Ne=R+1;Ne<je.length&&a(W.FullPaths[Ne])!=a(Ze);++Ne);ze.R=Ne>=je.length?-1:Ne,ze.type=1}else a(W.FullPaths[R+1]||"")==a(Ze)&&(ze.R=R+1),ze.type=2}}}function O(W,re){var J=re||{};if(J.fileType=="mad")return Tr(W,J);switch(C(W),J.fileType){case"zip":return Gn(W,J)}var ee=function(st){for(var Xe=0,at=0,Dt=0;Dt<st.FileIndex.length;++Dt){var Ar=st.FileIndex[Dt];if(Ar.content){var Or=Ar.content.length;Or>0&&(Or<4096?Xe+=Or+63>>6:at+=Or+511>>9)}}for(var Rn=st.FullPaths.length+3>>2,Dc=Xe+7>>3,Rc=Xe+127>>7,Ic=Dc+at+Rn+Rc,Uo=Ic+127>>7,Xf=Uo<=109?0:Math.ceil((Uo-109)/127);Ic+Uo+Xf+127>>7>Uo;)Xf=++Uo<=109?0:Math.ceil((Uo-109)/127);var wi=[1,Xf,Uo,Rc,Rn,at,Xe,0];return st.FileIndex[0].size=Xe<<6,wi[7]=(st.FileIndex[0].start=wi[0]+wi[1]+wi[2]+wi[3]+wi[4]+wi[5])+(wi[6]+7>>3),wi}(W),R=$n(ee[7]<<9),K=0,de=0;{for(K=0;K<8;++K)R.write_shift(1,F[K]);for(K=0;K<8;++K)R.write_shift(2,0);for(R.write_shift(2,62),R.write_shift(2,3),R.write_shift(2,65534),R.write_shift(2,9),R.write_shift(2,6),K=0;K<3;++K)R.write_shift(2,0);for(R.write_shift(4,0),R.write_shift(4,ee[2]),R.write_shift(4,ee[0]+ee[1]+ee[2]+ee[3]-1),R.write_shift(4,0),R.write_shift(4,4096),R.write_shift(4,ee[3]?ee[0]+ee[1]+ee[2]-1:z),R.write_shift(4,ee[3]),R.write_shift(-4,ee[1]?ee[0]-1:z),R.write_shift(4,ee[1]),K=0;K<109;++K)R.write_shift(-4,K<ee[2]?ee[1]+K:-1)}if(ee[1])for(de=0;de<ee[1];++de){for(;K<236+de*127;++K)R.write_shift(-4,K<ee[2]?ee[1]+K:-1);R.write_shift(-4,de===ee[1]-1?z:de+1)}var Ne=function(st){for(de+=st;K<de-1;++K)R.write_shift(-4,K+1);st&&(++K,R.write_shift(-4,z))};for(de=K=0,de+=ee[1];K<de;++K)R.write_shift(-4,V.DIFSECT);for(de+=ee[2];K<de;++K)R.write_shift(-4,V.FATSECT);Ne(ee[3]),Ne(ee[4]);for(var Se=0,je=0,Ee=W.FileIndex[0];Se<W.FileIndex.length;++Se)Ee=W.FileIndex[Se],Ee.content&&(je=Ee.content.length,!(je<4096)&&(Ee.start=de,Ne(je+511>>9)));for(Ne(ee[6]+7>>3);R.l&511;)R.write_shift(-4,V.ENDOFCHAIN);for(de=K=0,Se=0;Se<W.FileIndex.length;++Se)Ee=W.FileIndex[Se],Ee.content&&(je=Ee.content.length,!(!je||je>=4096)&&(Ee.start=de,Ne(je+63>>6)));for(;R.l&511;)R.write_shift(-4,V.ENDOFCHAIN);for(K=0;K<ee[4]<<2;++K){var ze=W.FullPaths[K];if(!ze||ze.length===0){for(Se=0;Se<17;++Se)R.write_shift(4,0);for(Se=0;Se<3;++Se)R.write_shift(4,-1);for(Se=0;Se<12;++Se)R.write_shift(4,0);continue}Ee=W.FileIndex[K],K===0&&(Ee.start=Ee.size?Ee.start-1:z);var Ze=K===0&&J.root||Ee.name;if(je=2*(Ze.length+1),R.write_shift(64,Ze,"utf16le"),R.write_shift(2,je),R.write_shift(1,Ee.type),R.write_shift(1,Ee.color),R.write_shift(-4,Ee.L),R.write_shift(-4,Ee.R),R.write_shift(-4,Ee.C),Ee.clsid)R.write_shift(16,Ee.clsid,"hex");else for(Se=0;Se<4;++Se)R.write_shift(4,0);R.write_shift(4,Ee.state||0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,Ee.start),R.write_shift(4,Ee.size),R.write_shift(4,0)}for(K=1;K<W.FileIndex.length;++K)if(Ee=W.FileIndex[K],Ee.size>=4096)if(R.l=Ee.start+1<<9,tr&&Buffer.isBuffer(Ee.content))Ee.content.copy(R,R.l,0,Ee.size),R.l+=Ee.size+511&-512;else{for(Se=0;Se<Ee.size;++Se)R.write_shift(1,Ee.content[Se]);for(;Se&511;++Se)R.write_shift(1,0)}for(K=1;K<W.FileIndex.length;++K)if(Ee=W.FileIndex[K],Ee.size>0&&Ee.size<4096)if(tr&&Buffer.isBuffer(Ee.content))Ee.content.copy(R,R.l,0,Ee.size),R.l+=Ee.size+63&-64;else{for(Se=0;Se<Ee.size;++Se)R.write_shift(1,Ee.content[Se]);for(;Se&63;++Se)R.write_shift(1,0)}if(tr)R.l=R.length;else for(;R.l<R.length;)R.write_shift(1,0);return R}function D(W,re){var J=W.FullPaths.map(function(Se){return Se.toUpperCase()}),ee=J.map(function(Se){var je=Se.split("/");return je[je.length-(Se.slice(-1)=="/"?2:1)]}),R=!1;re.charCodeAt(0)===47?(R=!0,re=J[0].slice(0,-1)+re):R=re.indexOf("/")!==-1;var K=re.toUpperCase(),de=R===!0?J.indexOf(K):ee.indexOf(K);if(de!==-1)return W.FileIndex[de];var Ne=!K.match(K0);for(K=K.replace(ds,""),Ne&&(K=K.replace(K0,"!")),de=0;de<J.length;++de)if((Ne?J[de].replace(K0,"!"):J[de]).replace(ds,"")==K||(Ne?ee[de].replace(K0,"!"):ee[de]).replace(ds,"")==K)return W.FileIndex[de];return null}var T=64,z=-2,q="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",V={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function L(W,re,J){d();var ee=O(W,J);u.writeFileSync(re,ee)}function M(W){for(var re=new Array(W.length),J=0;J<W.length;++J)re[J]=String.fromCharCode(W[J]);return re.join("")}function Y(W,re){var J=O(W,re);switch(re&&re.type||"buffer"){case"file":return d(),u.writeFileSync(re.filename,J),J;case"binary":return typeof J=="string"?J:M(J);case"base64":return rF(typeof J=="string"?J:M(J));case"buffer":if(tr)return Buffer.isBuffer(J)?J:Bf(J);case"array":return typeof J=="string"?vo(J):J}return J}var Z;function A(W){try{var re=W.InflateRaw,J=new re;if(J._processChunk(new Uint8Array([3,0]),J._finishFlushFlag),J.bytesRead)Z=W;else throw new Error("zlib does not expose bytesRead")}catch(ee){console.error("cannot use native zlib: "+(ee.message||ee))}}function X(W,re){if(!Z)return Br(W,re);var J=Z.InflateRaw,ee=new J,R=ee._processChunk(W.slice(W.l),ee._finishFlushFlag);return W.l+=ee.bytesRead,R}function U(W){return Z?Z.deflateRawSync(W):Te(W)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function we(W){var re=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(re>>16|re>>8|re)&255}for(var se=typeof Uint8Array<"u",Q=se?new Uint8Array(256):[],he=0;he<256;++he)Q[he]=we(he);function P(W,re){var J=Q[W&255];return re<=8?J>>>8-re:(J=J<<8|Q[W>>8&255],re<=16?J>>>16-re:(J=J<<8|Q[W>>16&255],J>>>24-re))}function Le(W,re){var J=re&7,ee=re>>>3;return(W[ee]|(J<=6?0:W[ee+1]<<8))>>>J&3}function $e(W,re){var J=re&7,ee=re>>>3;return(W[ee]|(J<=5?0:W[ee+1]<<8))>>>J&7}function Me(W,re){var J=re&7,ee=re>>>3;return(W[ee]|(J<=4?0:W[ee+1]<<8))>>>J&15}function He(W,re){var J=re&7,ee=re>>>3;return(W[ee]|(J<=3?0:W[ee+1]<<8))>>>J&31}function De(W,re){var J=re&7,ee=re>>>3;return(W[ee]|(J<=1?0:W[ee+1]<<8))>>>J&127}function wt(W,re,J){var ee=re&7,R=re>>>3,K=(1<<J)-1,de=W[R]>>>ee;return J<8-ee||(de|=W[R+1]<<8-ee,J<16-ee)||(de|=W[R+2]<<16-ee,J<24-ee)||(de|=W[R+3]<<24-ee),de&K}function dt(W,re,J){var ee=re&7,R=re>>>3;return ee<=5?W[R]|=(J&7)<<ee:(W[R]|=J<<ee&255,W[R+1]=(J&7)>>8-ee),re+3}function ie(W,re,J){var ee=re&7,R=re>>>3;return J=(J&1)<<ee,W[R]|=J,re+1}function me(W,re,J){var ee=re&7,R=re>>>3;return J<<=ee,W[R]|=J&255,J>>>=8,W[R+1]=J,re+8}function te(W,re,J){var ee=re&7,R=re>>>3;return J<<=ee,W[R]|=J&255,J>>>=8,W[R+1]=J&255,W[R+2]=J>>>8,re+16}function _e(W,re){var J=W.length,ee=2*J>re?2*J:re+5,R=0;if(J>=re)return W;if(tr){var K=nF(ee);if(W.copy)W.copy(K);else for(;R<W.length;++R)K[R]=W[R];return K}else if(se){var de=new Uint8Array(ee);if(de.set)de.set(W);else for(;R<J;++R)de[R]=W[R];return de}return W.length=ee,W}function Ce(W){for(var re=new Array(W),J=0;J<W;++J)re[J]=0;return re}function ye(W,re,J){var ee=1,R=0,K=0,de=0,Ne=0,Se=W.length,je=se?new Uint16Array(32):Ce(32);for(K=0;K<32;++K)je[K]=0;for(K=Se;K<J;++K)W[K]=0;Se=W.length;var Ee=se?new Uint16Array(Se):Ce(Se);for(K=0;K<Se;++K)je[R=W[K]]++,ee<R&&(ee=R),Ee[K]=0;for(je[0]=0,K=1;K<=ee;++K)je[K+16]=Ne=Ne+je[K-1]<<1;for(K=0;K<Se;++K)Ne=W[K],Ne!=0&&(Ee[K]=je[Ne+16]++);var ze=0;for(K=0;K<Se;++K)if(ze=W[K],ze!=0)for(Ne=P(Ee[K],ee)>>ee-ze,de=(1<<ee+4-ze)-1;de>=0;--de)re[Ne|de<<ze]=ze&15|K<<4;return ee}var le=se?new Uint16Array(512):Ce(512),fe=se?new Uint16Array(32):Ce(32);if(!se){for(var xe=0;xe<512;++xe)le[xe]=0;for(xe=0;xe<32;++xe)fe[xe]=0}(function(){for(var W=[],re=0;re<32;re++)W.push(5);ye(W,fe,32);var J=[];for(re=0;re<=143;re++)J.push(8);for(;re<=255;re++)J.push(9);for(;re<=279;re++)J.push(7);for(;re<=287;re++)J.push(8);ye(J,le,288)})();var pe=function(){for(var re=se?new Uint8Array(32768):[],J=0,ee=0;J<oe.length-1;++J)for(;ee<oe[J+1];++ee)re[ee]=J;for(;ee<32768;++ee)re[ee]=29;var R=se?new Uint8Array(259):[];for(J=0,ee=0;J<ae.length-1;++J)for(;ee<ae[J+1];++ee)R[ee]=J;function K(Ne,Se){for(var je=0;je<Ne.length;){var Ee=Math.min(65535,Ne.length-je),ze=je+Ee==Ne.length;for(Se.write_shift(1,+ze),Se.write_shift(2,Ee),Se.write_shift(2,~Ee&65535);Ee-- >0;)Se[Se.l++]=Ne[je++]}return Se.l}function de(Ne,Se){for(var je=0,Ee=0,ze=se?new Uint16Array(32768):[];Ee<Ne.length;){var Ze=Math.min(65535,Ne.length-Ee);if(Ze<10){for(je=dt(Se,je,+(Ee+Ze==Ne.length)),je&7&&(je+=8-(je&7)),Se.l=je/8|0,Se.write_shift(2,Ze),Se.write_shift(2,~Ze&65535);Ze-- >0;)Se[Se.l++]=Ne[Ee++];je=Se.l*8;continue}je=dt(Se,je,+(Ee+Ze==Ne.length)+2);for(var st=0;Ze-- >0;){var Xe=Ne[Ee];st=(st<<5^Xe)&32767;var at=-1,Dt=0;if((at=ze[st])&&(at|=Ee&-32768,at>Ee&&(at-=32768),at<Ee))for(;Ne[at+Dt]==Ne[Ee+Dt]&&Dt<250;)++Dt;if(Dt>2){Xe=R[Dt],Xe<=22?je=me(Se,je,Q[Xe+1]>>1)-1:(me(Se,je,3),je+=5,me(Se,je,Q[Xe-23]>>5),je+=3);var Ar=Xe<8?0:Xe-4>>2;Ar>0&&(te(Se,je,Dt-ae[Xe]),je+=Ar),Xe=re[Ee-at],je=me(Se,je,Q[Xe]>>3),je-=3;var Or=Xe<4?0:Xe-2>>1;Or>0&&(te(Se,je,Ee-at-oe[Xe]),je+=Or);for(var Rn=0;Rn<Dt;++Rn)ze[st]=Ee&32767,st=(st<<5^Ne[Ee])&32767,++Ee;Ze-=Dt-1}else Xe<=143?Xe=Xe+48:je=ie(Se,je,1),je=me(Se,je,Q[Xe]),ze[st]=Ee&32767,++Ee}je=me(Se,je,0)-1}return Se.l=(je+7)/8|0,Se.l}return function(Se,je){return Se.length<8?K(Se,je):de(Se,je)}}();function Te(W){var re=$n(50+Math.floor(W.length*1.1)),J=pe(W,re);return re.slice(0,J)}var Fe=se?new Uint16Array(32768):Ce(32768),Ue=se?new Uint16Array(32768):Ce(32768),Ve=se?new Uint16Array(128):Ce(128),ot=1,Kt=1;function Qt(W,re){var J=He(W,re)+257;re+=5;var ee=He(W,re)+1;re+=5;var R=Me(W,re)+4;re+=4;for(var K=0,de=se?new Uint8Array(19):Ce(19),Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Se=1,je=se?new Uint8Array(8):Ce(8),Ee=se?new Uint8Array(8):Ce(8),ze=de.length,Ze=0;Ze<R;++Ze)de[H[Ze]]=K=$e(W,re),Se<K&&(Se=K),je[K]++,re+=3;var st=0;for(je[0]=0,Ze=1;Ze<=Se;++Ze)Ee[Ze]=st=st+je[Ze-1]<<1;for(Ze=0;Ze<ze;++Ze)(st=de[Ze])!=0&&(Ne[Ze]=Ee[st]++);var Xe=0;for(Ze=0;Ze<ze;++Ze)if(Xe=de[Ze],Xe!=0){st=Q[Ne[Ze]]>>8-Xe;for(var at=(1<<7-Xe)-1;at>=0;--at)Ve[st|at<<Xe]=Xe&7|Ze<<3}var Dt=[];for(Se=1;Dt.length<J+ee;)switch(st=Ve[De(W,re)],re+=st&7,st>>>=3){case 16:for(K=3+Le(W,re),re+=2,st=Dt[Dt.length-1];K-- >0;)Dt.push(st);break;case 17:for(K=3+$e(W,re),re+=3;K-- >0;)Dt.push(0);break;case 18:for(K=11+De(W,re),re+=7;K-- >0;)Dt.push(0);break;default:Dt.push(st),Se<st&&(Se=st);break}var Ar=Dt.slice(0,J),Or=Dt.slice(J);for(Ze=J;Ze<286;++Ze)Ar[Ze]=0;for(Ze=ee;Ze<30;++Ze)Or[Ze]=0;return ot=ye(Ar,Fe,286),Kt=ye(Or,Ue,30),re}function Nr(W,re){if(W[0]==3&&!(W[1]&3))return[Vu(re),2];for(var J=0,ee=0,R=nF(re||1<<18),K=0,de=R.length>>>0,Ne=0,Se=0;!(ee&1);){if(ee=$e(W,J),J+=3,ee>>>1)ee>>1==1?(Ne=9,Se=5):(J=Qt(W,J),Ne=ot,Se=Kt);else{J&7&&(J+=8-(J&7));var je=W[J>>>3]|W[(J>>>3)+1]<<8;if(J+=32,je>0)for(!re&&de<K+je&&(R=_e(R,K+je),de=R.length);je-- >0;)R[K++]=W[J>>>3],J+=8;continue}for(;;){!re&&de<K+32767&&(R=_e(R,K+32767),de=R.length);var Ee=wt(W,J,Ne),ze=ee>>>1==1?le[Ee]:Fe[Ee];if(J+=ze&15,ze>>>=4,!(ze>>>8&255))R[K++]=ze;else{if(ze==256)break;ze-=257;var Ze=ze<8?0:ze-4>>2;Ze>5&&(Ze=0);var st=K+ae[ze];Ze>0&&(st+=wt(W,J,Ze),J+=Ze),Ee=wt(W,J,Se),ze=ee>>>1==1?fe[Ee]:Ue[Ee],J+=ze&15,ze>>>=4;var Xe=ze<4?0:ze-2>>1,at=oe[ze];for(Xe>0&&(at+=wt(W,J,Xe),J+=Xe),!re&&de<st&&(R=_e(R,st+100),de=R.length);K<st;)R[K]=R[K-at],++K}}}return re?[R,J+7>>>3]:[R.slice(0,K),J+7>>>3]}function Br(W,re){var J=W.slice(W.l||0),ee=Nr(J,re);return W.l+=ee[1],ee[0]}function wn(W,re){if(W)typeof console<"u"&&console.error(re);else throw new Error(re)}function yi(W,re){var J=W;ia(J,0);var ee=[],R=[],K={FileIndex:ee,FullPaths:R};k(K,{root:re.root});for(var de=J.length-4;(J[de]!=80||J[de+1]!=75||J[de+2]!=5||J[de+3]!=6)&&de>=0;)--de;J.l=de+4,J.l+=4;var Ne=J.read_shift(2);J.l+=6;var Se=J.read_shift(4);for(J.l=Se,de=0;de<Ne;++de){J.l+=20;var je=J.read_shift(4),Ee=J.read_shift(4),ze=J.read_shift(2),Ze=J.read_shift(2),st=J.read_shift(2);J.l+=8;var Xe=J.read_shift(4),at=c(J.slice(J.l+ze,J.l+ze+Ze));J.l+=ze+Ze+st;var Dt=J.l;J.l=Xe+4,pa(J,je,Ee,K,at),J.l=Dt}return K}function pa(W,re,J,ee,R){W.l+=2;var K=W.read_shift(2),de=W.read_shift(2),Ne=o(W);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var Se=W.read_shift(4),je=W.read_shift(4),Ee=W.read_shift(4),ze=W.read_shift(2),Ze=W.read_shift(2),st="",Xe=0;Xe<ze;++Xe)st+=String.fromCharCode(W[W.l++]);if(Ze){var at=c(W.slice(W.l,W.l+Ze));(at[21589]||{}).mt&&(Ne=at[21589].mt),((R||{})[21589]||{}).mt&&(Ne=R[21589].mt)}W.l+=Ze;var Dt=W.slice(W.l,W.l+je);switch(de){case 8:Dt=X(W,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+de)}var Ar=!1;K&8&&(Se=W.read_shift(4),Se==134695760&&(Se=W.read_shift(4),Ar=!0),je=W.read_shift(4),Ee=W.read_shift(4)),je!=re&&wn(Ar,"Bad compressed size: "+re+" != "+je),Ee!=J&&wn(Ar,"Bad uncompressed size: "+J+" != "+Ee),vs(ee,st,Dt,{unsafe:!0,mt:Ne})}function Gn(W,re){var J=re||{},ee=[],R=[],K=$n(1),de=J.compression?8:0,Ne=0,Se=0,je=0,Ee=0,ze=0,Ze=W.FullPaths[0],st=Ze,Xe=W.FileIndex[0],at=[],Dt=0;for(Se=1;Se<W.FullPaths.length;++Se)if(st=W.FullPaths[Se].slice(Ze.length),Xe=W.FileIndex[Se],!(!Xe.size||!Xe.content||st=="Sh33tJ5")){var Ar=Ee,Or=$n(st.length);for(je=0;je<st.length;++je)Or.write_shift(1,st.charCodeAt(je)&127);Or=Or.slice(0,Or.l),at[ze]=cwe.buf(Xe.content,0);var Rn=Xe.content;de==8&&(Rn=U(Rn)),K=$n(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,Ne),K.write_shift(2,de),Xe.mt?i(K,Xe.mt):K.write_shift(4,0),K.write_shift(-4,at[ze]),K.write_shift(4,Rn.length),K.write_shift(4,Xe.content.length),K.write_shift(2,Or.length),K.write_shift(2,0),Ee+=K.length,ee.push(K),Ee+=Or.length,ee.push(Or),Ee+=Rn.length,ee.push(Rn),K=$n(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,Ne),K.write_shift(2,de),K.write_shift(4,0),K.write_shift(-4,at[ze]),K.write_shift(4,Rn.length),K.write_shift(4,Xe.content.length),K.write_shift(2,Or.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,Ar),Dt+=K.l,R.push(K),Dt+=Or.length,R.push(Or),++ze}return K=$n(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,ze),K.write_shift(2,ze),K.write_shift(4,Dt),K.write_shift(4,Ee),K.write_shift(2,0),tu([tu(ee),tu(R),K])}var ce={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ke(W,re){if(W.ctype)return W.ctype;var J=W.name||"",ee=J.match(/\.([^\.]+)$/);return ee&&ce[ee[1]]||re&&(ee=(J=re).match(/[\.\\]([^\.\\])+$/),ee&&ce[ee[1]])?ce[ee[1]]:"application/octet-stream"}function Be(W){for(var re=rF(W),J=[],ee=0;ee<re.length;ee+=76)J.push(re.slice(ee,ee+76));return J.join(`\r
`)+`\r
`}function Re(W){var re=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(je){var Ee=je.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});re=re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),re.charAt(0)==`
`&&(re="=0D"+re.slice(1)),re=re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var J=[],ee=re.split(`\r
`),R=0;R<ee.length;++R){var K=ee[R];if(K.length==0){J.push("");continue}for(var de=0;de<K.length;){var Ne=76,Se=K.slice(de,de+Ne);Se.charAt(Ne-1)=="="?Ne--:Se.charAt(Ne-2)=="="?Ne-=2:Se.charAt(Ne-3)=="="&&(Ne-=3),Se=K.slice(de,de+Ne),de+=Ne,de<K.length&&(Se+="="),J.push(Se)}}return J.join(`\r
`)}function Ye(W){for(var re=[],J=0;J<W.length;++J){for(var ee=W[J];J<=W.length&&ee.charAt(ee.length-1)=="=";)ee=ee.slice(0,ee.length-1)+W[++J];re.push(ee)}for(var R=0;R<re.length;++R)re[R]=re[R].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return vo(re.join(`\r
`))}function tt(W,re,J){for(var ee="",R="",K="",de,Ne=0;Ne<10;++Ne){var Se=re[Ne];if(!Se||Se.match(/^\s*$/))break;var je=Se.match(/^(.*?):\s*([^\s].*)$/);if(je)switch(je[1].toLowerCase()){case"content-location":ee=je[2].trim();break;case"content-type":K=je[2].trim();break;case"content-transfer-encoding":R=je[2].trim();break}}switch(++Ne,R.toLowerCase()){case"base64":de=vo(pi(re.slice(Ne).join("")));break;case"quoted-printable":de=Ye(re.slice(Ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+R)}var Ee=vs(W,ee.slice(J.length),de,{unsafe:!0});K&&(Ee.ctype=K)}function Ht(W,re){if(M(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var J=re&&re.root||"",ee=(tr&&Buffer.isBuffer(W)?W.toString("binary"):M(W)).split(`\r
`),R=0,K="";for(R=0;R<ee.length;++R)if(K=ee[R],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),J||(J=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,J.length)!=J))for(;J.length>0&&(J=J.slice(0,J.length-1),J=J.slice(0,J.lastIndexOf("/")+1),K.slice(0,J.length)!=J););var de=(ee[1]||"").match(/boundary="(.*?)"/);if(!de)throw new Error("MAD cannot find boundary");var Ne="--"+(de[1]||""),Se=[],je=[],Ee={FileIndex:Se,FullPaths:je};k(Ee);var ze,Ze=0;for(R=0;R<ee.length;++R){var st=ee[R];st!==Ne&&st!==Ne+"--"||(Ze++&&tt(Ee,ee.slice(ze,R),J),ze=R)}return Ee}function Tr(W,re){var J=re||{},ee=J.boundary||"SheetJS";ee="------="+ee;for(var R=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ee.slice(2)+'"',"","",""],K=W.FullPaths[0],de=K,Ne=W.FileIndex[0],Se=1;Se<W.FullPaths.length;++Se)if(de=W.FullPaths[Se].slice(K.length),Ne=W.FileIndex[Se],!(!Ne.size||!Ne.content||de=="Sh33tJ5")){de=de.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dt){return"_x"+Dt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dt){return"_u"+Dt.charCodeAt(0).toString(16)+"_"});for(var je=Ne.content,Ee=tr&&Buffer.isBuffer(je)?je.toString("binary"):M(je),ze=0,Ze=Math.min(1024,Ee.length),st=0,Xe=0;Xe<=Ze;++Xe)(st=Ee.charCodeAt(Xe))>=32&&st<128&&++ze;var at=ze>=Ze*4/5;R.push(ee),R.push("Content-Location: "+(J.root||"file:///C:/SheetJS/")+de),R.push("Content-Transfer-Encoding: "+(at?"quoted-printable":"base64")),R.push("Content-Type: "+ke(Ne,de)),R.push(""),R.push(at?Re(Ee):Be(Ee))}return R.push(ee+`--\r
`),R.join(`\r
`)}function qs(W){var re={};return k(re,W),re}function vs(W,re,J,ee){var R=ee&&ee.unsafe;R||k(W);var K=!R&&rr.find(W,re);if(!K){var de=W.FullPaths[0];re.slice(0,de.length)==de?de=re:(de.slice(-1)!="/"&&(de+="/"),de=(de+re).replace("//","/")),K={name:s(re),type:2},W.FileIndex.push(K),W.FullPaths.push(de),R||rr.utils.cfb_gc(W)}return K.content=J,K.size=J?J.length:0,ee&&(ee.CLSID&&(K.clsid=ee.CLSID),ee.mt&&(K.mt=ee.mt),ee.ct&&(K.ct=ee.ct)),K}function ar(W,re){k(W);var J=rr.find(W,re);if(J){for(var ee=0;ee<W.FileIndex.length;++ee)if(W.FileIndex[ee]==J)return W.FileIndex.splice(ee,1),W.FullPaths.splice(ee,1),!0}return!1}function Ll(W,re,J){k(W);var ee=rr.find(W,re);if(ee){for(var R=0;R<W.FileIndex.length;++R)if(W.FileIndex[R]==ee)return W.FileIndex[R].name=s(J),W.FullPaths[R]=J,!0}return!1}function od(W){C(W,!0)}return r.find=D,r.read=N,r.parse=f,r.write=Y,r.writeFile=L,r.utils={cfb_new:qs,cfb_add:vs,cfb_del:ar,cfb_mov:Ll,cfb_gc:od,ReadShift:gg,CheckField:eK,prep_blob:ia,bconcat:tu,use_zlib:A,_deflateRaw:Te,_inflateRaw:Br,consts:V},r}();function uwe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var r=File(e);r.open("r"),r.encoding="binary";var n=r.read();return r.close(),n}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function Nl(e){for(var r=Object.keys(e),n=[],a=0;a<r.length;++a)Object.prototype.hasOwnProperty.call(e,r[a])&&n.push(r[a]);return n}function aP(e){for(var r=[],n=Nl(e),a=0;a!==n.length;++a)r[e[n[a]]]=n[a];return r}var G1=new Date(1899,11,30,0,0,0);function fs(e,r){var n=e.getTime(),a=G1.getTime()+(e.getTimezoneOffset()-G1.getTimezoneOffset())*6e4;return(n-a)/(24*60*60*1e3)}var Dq=new Date,dwe=G1.getTime()+(Dq.getTimezoneOffset()-G1.getTimezoneOffset())*6e4,dF=Dq.getTimezoneOffset();function pS(e){var r=new Date;return r.setTime(e*24*60*60*1e3+dwe),r.getTimezoneOffset()!==dF&&r.setTime(r.getTime()+(r.getTimezoneOffset()-dF)*6e4),r}function fwe(e){var r=0,n=0,a=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(n=1,i>3&&(a=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(a)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}r+=n*parseInt(s[i],10)}return r}var fF=new Date("2017-02-19T19:06:09.000Z"),Rq=isNaN(fF.getFullYear())?new Date("2/19/17"):fF,hwe=Rq.getFullYear()==2017;function ta(e,r){var n=new Date(e);if(hwe)return r>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):r<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(Rq.getFullYear()==1917&&!isNaN(n.getFullYear())){var a=n.getFullYear();return e.indexOf(""+a)>-1||n.setFullYear(n.getFullYear()+100),n}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function jf(e,r){if(tr&&Buffer.isBuffer(e)){if(r){if(e[0]==255&&e[1]==254)return Y0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Y0(wq(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(r){if(e[0]==255&&e[1]==254)return Y0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Y0(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function fa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=fa(e[n]));return r}function on(e,r){for(var n="";n.length<r;)n+=e;return n}function ko(e){var r=Number(e);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(e))return r;var n=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(r=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return n=-n,i}),!isNaN(r=Number(a)))?r/n:r}var mwe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ym(e){var r=new Date(e),n=new Date(NaN),a=r.getYear(),s=r.getMonth(),i=r.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&mwe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return a<0||a>8099?n:(s>0||i>1)&&a!=101?r:e.match(/[^-0-9:,\/\\]/)?n:r}var pwe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,a,s){if(e||typeof a=="string")return n.split(a);for(var i=n.split(a),o=[i[0]],c=1;c<i.length;++c)o.push(s),o.push(i[c]);return o}}();function Iq(e){return e?e.content&&e.type?jf(e.content,!0):e.data?q0(e.data):e.asNodeBuffer&&tr?q0(e.asNodeBuffer().toString("binary")):e.asBinary?q0(e.asBinary()):e._data&&e._data.getContent?q0(jf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Mq(e){if(!e)return null;if(e.data)return eF(e.data);if(e.asNodeBuffer&&tr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var r=e._data.getContent();return typeof r=="string"?eF(r):Array.prototype.slice.call(r)}return e.content&&e.type?e.content:null}function gwe(e){return e&&e.name.slice(-4)===".bin"?Mq(e):Iq(e)}function Ei(e,r){for(var n=e.FullPaths||Nl(e.files),a=r.toLowerCase().replace(/[\/]/g,"\\"),s=a.replace(/\\/g,"/"),i=0;i<n.length;++i){var o=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==o||s==o)return e.files?e.files[n[i]]:e.FileIndex[i]}return null}function sP(e,r){var n=Ei(e,r);if(n==null)throw new Error("Cannot find file "+r+" in zip");return n}function jn(e,r,n){if(!n)return gwe(sP(e,r));if(!r)return null;try{return jn(e,r)}catch{return null}}function ii(e,r,n){if(!n)return Iq(sP(e,r));if(!r)return null;try{return ii(e,r)}catch{return null}}function vwe(e,r,n){return Mq(sP(e,r))}function hF(e){for(var r=e.FullPaths||Nl(e.files),n=[],a=0;a<r.length;++a)r[a].slice(-1)!="/"&&n.push(r[a].replace(/^Root Entry[\/]/,""));return n.sort()}function xwe(e,r,n){if(e.FullPaths){if(typeof n=="string"){var a;return tr?a=Bf(n):a=Fye(n),rr.utils.cfb_add(e,r,a)}rr.utils.cfb_add(e,r,n)}else e.file(r,n)}function Fq(e,r){switch(r.type){case"base64":return rr.read(e,{type:"base64"});case"binary":return rr.read(e,{type:"binary"});case"buffer":case"array":return rr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+r.type)}function G0(e,r){if(e.charAt(0)=="/")return e.slice(1);var n=r.split("/");r.slice(-1)!="/"&&n.pop();for(var a=e.split("/");a.length!==0;){var s=a.shift();s===".."?n.pop():s!=="."&&n.push(s)}return n.join("/")}var Lq=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ywe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,mF=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,wwe=/<[^>]*>/g,Wa=Lq.match(mF)?mF:wwe,bwe=/<\w*:/,_we=/<(\/?)\w+:/;function Ot(e,r,n){for(var a={},s=0,i=0;s!==e.length&&!((i=e.charCodeAt(s))===32||i===10||i===13);++s);if(r||(a[0]=e.slice(0,s)),s===e.length)return a;var o=e.match(ywe),c=0,u="",d=0,f="",h="",m=1;if(o)for(d=0;d!=o.length;++d){for(h=o[d],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(f=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(m=(s=h.charCodeAt(i+1))==34||s==39?1:0,u=h.slice(i+1+m,h.length-m),c=0;c!=f.length&&f.charCodeAt(c)!==58;++c);if(c===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),a[f]=u,a[f.toLowerCase()]=u;else{var p=(c===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(c+1);if(a[p]&&f.slice(c-3,c)=="ext")continue;a[p]=u,a[p.toLowerCase()]=u}}return a}function Rl(e){return e.replace(_we,"<$1")}var $q={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Swe=aP($q),lr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,r=/_x([\da-fA-F]{4})_/ig;return function n(a){var s=a+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(e,function(c,u){return $q[c]||String.fromCharCode(parseInt(u,c.indexOf("x")>-1?16:10))||c}).replace(r,function(c,u){return String.fromCharCode(parseInt(u,16))});var o=s.indexOf("]]>");return n(s.slice(0,i))+s.slice(i+9,o)+n(s.slice(o+3))}}(),jwe=/[&<>'"]/g,kwe=/[\u0000-\u001f]/g;function iP(e){var r=e+"";return r.replace(jwe,function(n){return Swe[n]}).replace(/\n/g,"<br/>").replace(kwe,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var pF=function(){var e=/&#(\d+);/g;function r(n,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,r)}}();function Kr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Uk(e){for(var r="",n=0,a=0,s=0,i=0,o=0,c=0;n<e.length;){if(a=e.charCodeAt(n++),a<128){r+=String.fromCharCode(a);continue}if(s=e.charCodeAt(n++),a>191&&a<224){o=(a&31)<<6,o|=s&63,r+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),a<240){r+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(n++),c=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,r+=String.fromCharCode(55296+(c>>>10&1023)),r+=String.fromCharCode(56320+(c&1023))}return r}function gF(e){var r=Vu(2*e.length),n,a,s=1,i=0,o=0,c;for(a=0;a<e.length;a+=s)s=1,(c=e.charCodeAt(a))<128?n=c:c<224?(n=(c&31)*64+(e.charCodeAt(a+1)&63),s=2):c<240?(n=(c&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,n=(c&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(r[i++]=o&255,r[i++]=o>>>8,o=0),r[i++]=n%256,r[i++]=n>>>8;return r.slice(0,i).toString("ucs2")}function vF(e){return Bf(e,"binary").toString("utf8")}var Yy="foo bar baz",Fr=tr&&(vF(Yy)==Uk(Yy)&&vF||gF(Yy)==Uk(Yy)&&gF)||Uk,Y0=tr?function(e){return Bf(e,"utf8").toString("binary")}:function(e){for(var r=[],n=0,a=0,s=0;n<e.length;)switch(a=e.charCodeAt(n++),!0){case a<128:r.push(String.fromCharCode(a));break;case a<2048:r.push(String.fromCharCode(192+(a>>6))),r.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(n++)-56320+(a<<10),r.push(String.fromCharCode(240+(s>>18&7))),r.push(String.fromCharCode(144+(s>>12&63))),r.push(String.fromCharCode(128+(s>>6&63))),r.push(String.fromCharCode(128+(s&63)));break;default:r.push(String.fromCharCode(224+(a>>12))),r.push(String.fromCharCode(128+(a>>6&63))),r.push(String.fromCharCode(128+(a&63)))}return r.join("")},hv=function(){var e={};return function(n,a){var s=n+"|"+(a||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",a||"")}}(),Bq=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(n){for(var a=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}}(),Nwe=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),Ewe=/<\/?(?:vt:)?variant>/g,Cwe=/<(?:vt:)([^>]*)>([\s\S]*)</;function xF(e,r){var n=Ot(e),a=e.match(Nwe(n.baseType))||[],s=[];if(a.length!=n.size){if(r.WTF)throw new Error("unexpected vector length "+a.length+" != "+n.size);return s}return a.forEach(function(i){var o=i.replace(Ewe,"").match(Cwe);o&&s.push({v:Fr(o[2]),t:o[1]})}),s}var Twe=/(^\s|\s$|\n)/;function Awe(e){return Nl(e).map(function(r){return" "+r+'="'+e[r]+'"'}).join("")}function Owe(e,r,n){return"<"+e+(n!=null?Awe(n):"")+(r!=null?(r.match(Twe)?' xml:space="preserve"':"")+">"+r+"</"+e:"/")+">"}function oP(e){if(tr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Fr(Uf(tP(e)));throw new Error("Bad input format: expected Buffer or string")}var mv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Pwe={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Dwe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Rwe(e,r){for(var n=1-2*(e[r+7]>>>7),a=((e[r+7]&127)<<4)+(e[r+6]>>>4&15),s=e[r+6]&15,i=5;i>=0;--i)s=s*256+e[r+i];return a==2047?s==0?n*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),n*Math.pow(2,a-52)*s)}function Iwe(e,r,n){var a=(r<0||1/r==-1/0?1:0)<<7,s=0,i=0,o=a?-r:r;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(r)?26985:0);for(var c=0;c<=5;++c,i/=256)e[n+c]=i&255;e[n+6]=(s&15)<<4|i&15,e[n+7]=s>>4|a}var yF=function(e){for(var r=[],n=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=n)r.push.apply(r,e[0][a].slice(s,s+n));return r},wF=tr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(r){return Buffer.isBuffer(r)?r:Bf(r)})):yF(e)}:yF,bF=function(e,r,n){for(var a=[],s=r;s<n;s+=2)a.push(String.fromCharCode(tc(e,s)));return a.join("").replace(ds,"")},lP=tr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf16le",r,n).replace(ds,""):bF(e,r,n)}:bF,_F=function(e,r,n){for(var a=[],s=r;s<r+n;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},Uq=tr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("hex",r,r+n):_F(e,r,n)}:_F,SF=function(e,r,n){for(var a=[],s=r;s<n;s++)a.push(String.fromCharCode(wh(e,s)));return a.join("")},$x=tr?function(r,n,a){return Buffer.isBuffer(r)?r.toString("utf8",n,a):SF(r,n,a)}:SF,Vq=function(e,r){var n=ri(e,r);return n>0?$x(e,r+4,r+4+n-1):""},zq=Vq,Wq=function(e,r){var n=ri(e,r);return n>0?$x(e,r+4,r+4+n-1):""},Hq=Wq,qq=function(e,r){var n=2*ri(e,r);return n>0?$x(e,r+4,r+4+n-1):""},Kq=qq,Gq=function(r,n){var a=ri(r,n);return a>0?lP(r,n+4,n+4+a):""},Yq=Gq,Xq=function(e,r){var n=ri(e,r);return n>0?$x(e,r+4,r+4+n):""},Jq=Xq,Qq=function(e,r){return Rwe(e,r)},Y1=Qq,Zq=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};tr&&(zq=function(r,n){if(!Buffer.isBuffer(r))return Vq(r,n);var a=r.readUInt32LE(n);return a>0?r.toString("utf8",n+4,n+4+a-1):""},Hq=function(r,n){if(!Buffer.isBuffer(r))return Wq(r,n);var a=r.readUInt32LE(n);return a>0?r.toString("utf8",n+4,n+4+a-1):""},Kq=function(r,n){if(!Buffer.isBuffer(r))return qq(r,n);var a=2*r.readUInt32LE(n);return r.toString("utf16le",n+4,n+4+a-1)},Yq=function(r,n){if(!Buffer.isBuffer(r))return Gq(r,n);var a=r.readUInt32LE(n);return r.toString("utf16le",n+4,n+4+a)},Jq=function(r,n){if(!Buffer.isBuffer(r))return Xq(r,n);var a=r.readUInt32LE(n);return r.toString("utf8",n+4,n+4+a)},Y1=function(r,n){return Buffer.isBuffer(r)?r.readDoubleLE(n):Qq(r,n)},Zq=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var wh=function(e,r){return e[r]},tc=function(e,r){return e[r+1]*256+e[r]},Mwe=function(e,r){var n=e[r+1]*256+e[r];return n<32768?n:(65535-n+1)*-1},ri=function(e,r){return e[r+3]*(1<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]},Nd=function(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]},Fwe=function(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]};function gg(e,r){var n="",a,s,i=[],o,c,u,d;switch(r){case"dbcs":if(d=this.l,tr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)n+=String.fromCharCode(tc(this,d)),d+=2;e*=2;break;case"utf8":n=$x(this,this.l,this.l+e);break;case"utf16le":e*=2,n=lP(this,this.l,this.l+e);break;case"wstr":return gg.call(this,e,"dbcs");case"lpstr-ansi":n=zq(this,this.l),e=4+ri(this,this.l);break;case"lpstr-cp":n=Hq(this,this.l),e=4+ri(this,this.l);break;case"lpwstr":n=Kq(this,this.l),e=4+2*ri(this,this.l);break;case"lpp4":e=4+ri(this,this.l),n=Yq(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ri(this,this.l),n=Jq(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=wh(this,this.l+e++))!==0;)i.push(Gy(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=tc(this,this.l+e))!==0;)i.push(Gy(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",d=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return o=wh(this,d),this.l=d+1,c=gg.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Gy(tc(this,d))),d+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return o=wh(this,d),this.l=d+1,c=gg.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Gy(wh(this,d))),d+=1}n=i.join("");break;default:switch(e){case 1:return a=wh(this,this.l),this.l++,a;case 2:return a=(r==="i"?Mwe:tc)(this,this.l),this.l+=2,a;case 4:case-4:return r==="i"||!(this[this.l+3]&128)?(a=(e>0?Nd:Fwe)(this,this.l),this.l+=4,a):(s=ri(this,this.l),this.l+=4,s);case 8:case-8:if(r==="f")return e==8?s=Y1(this,this.l):s=Y1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:n=Uq(this,this.l,e);break}}return this.l+=e,n}var Lwe=function(e,r,n){e[n]=r&255,e[n+1]=r>>>8&255,e[n+2]=r>>>16&255,e[n+3]=r>>>24&255},$we=function(e,r,n){e[n]=r&255,e[n+1]=r>>8&255,e[n+2]=r>>16&255,e[n+3]=r>>24&255},Bwe=function(e,r,n){e[n]=r&255,e[n+1]=r>>>8&255};function Uwe(e,r,n){var a=0,s=0;if(n==="dbcs"){for(s=0;s!=r.length;++s)Bwe(this,r.charCodeAt(s),this.l+2*s);a=2*r.length}else if(n==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=r.length;++s)this[this.l+s]=r.charCodeAt(s)&255;a=r.length}else if(n==="hex"){for(;s<e;++s)this[this.l++]=parseInt(r.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(r.length,e);++s){var o=r.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=r&255;break;case 2:a=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:a=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:a=4,Lwe(this,r,this.l);break;case 8:if(a=8,n==="f"){Iwe(this,r,this.l);break}case 16:break;case-4:a=4,$we(this,r,this.l);break}return this.l+=a,this}function eK(e,r){var n=Uq(this,this.l,e.length>>1);if(n!==e)throw new Error(r+"Expected "+e+" saw "+n);this.l+=e.length>>1}function ia(e,r){e.l=r,e.read_shift=gg,e.chk=eK,e.write_shift=Uwe}function Ua(e,r){e.l+=r}function $n(e){var r=Vu(e);return ia(r,0),r}function Tc(e,r,n){if(e){var a,s,i;ia(e,e.l||0);for(var o=e.length,c=0,u=0;e.l<o;){c=e.read_shift(1),c&128&&(c=(c&127)+((e.read_shift(1)&127)<<7));var d=tb[c]||tb[65535];for(a=e.read_shift(1),i=a&127,s=1;s<4&&a&128;++s)i+=((a=e.read_shift(1))&127)<<7*s;u=e.l+i;var f=d.f&&d.f(e,i,n);if(e.l=u,r(f,d,c))return}}}function CE(){var e=[],r=tr?256:2048,n=function(d){var f=$n(d);return ia(f,0),f},a=n(r),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(s(),a=n(Math.max(d+1,r)))},o=function(){return s(),tu(e)},c=function(d){s(),a=d,a.l==null&&(a.l=a.length),i(r)};return{next:i,push:c,end:o,_bufs:e}}function vg(e,r,n){var a=fa(e);if(r.s?(a.cRel&&(a.c+=r.s.c),a.rRel&&(a.r+=r.s.r)):(a.cRel&&(a.c+=r.c),a.rRel&&(a.r+=r.r)),!n||n.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function jF(e,r,n){var a=fa(e);return a.s=vg(a.s,r.s,n),a.e=vg(a.e,r.s,n),a}function xg(e,r){if(e.cRel&&e.c<0)for(e=fa(e);e.c<0;)e.c+=r>8?16384:256;if(e.rRel&&e.r<0)for(e=fa(e);e.r<0;)e.r+=r>8?1048576:r>5?65536:16384;var n=Mt(e);return!e.cRel&&e.cRel!=null&&(n=Wwe(n)),!e.rRel&&e.rRel!=null&&(n=Vwe(n)),n}function Vk(e,r){return e.s.r==0&&!e.s.rRel&&e.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Wn(e.s.c)+":"+(e.e.cRel?"":"$")+Wn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(r.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ha(e.s.r)+":"+(e.e.rRel?"":"$")+ha(e.e.r):xg(e.s,r.biff)+":"+xg(e.e,r.biff)}function cP(e){return parseInt(zwe(e),10)-1}function ha(e){return""+(e+1)}function Vwe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function zwe(e){return e.replace(/\$(\d+)$/,"$1")}function uP(e){for(var r=Hwe(e),n=0,a=0;a!==r.length;++a)n=26*n+r.charCodeAt(a)-64;return n-1}function Wn(e){if(e<0)throw new Error("invalid column "+e);var r="";for(++e;e;e=Math.floor((e-1)/26))r=String.fromCharCode((e-1)%26+65)+r;return r}function Wwe(e){return e.replace(/^([A-Z])/,"$$$1")}function Hwe(e){return e.replace(/^\$([A-Z])/,"$1")}function qwe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ss(e){for(var r=0,n=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?r=10*r+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:r-1}}function Mt(e){for(var r=e.c+1,n="";r;r=(r-1)/26|0)n=String.fromCharCode((r-1)%26+65)+n;return n+(e.r+1)}function Kp(e){var r=e.indexOf(":");return r==-1?{s:ss(e),e:ss(e)}:{s:ss(e.slice(0,r)),e:ss(e.slice(r+1))}}function nr(e,r){return typeof r>"u"||typeof r=="number"?nr(e.s,e.e):(typeof e!="string"&&(e=Mt(e)),typeof r!="string"&&(r=Mt(r)),e==r?e:e+":"+r)}function un(e){var r={s:{c:0,r:0},e:{c:0,r:0}},n=0,a=0,s=0,i=e.length;for(n=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)n=26*n+s;for(r.s.c=--n,n=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)n=10*n+s;if(r.s.r=--n,a===i||s!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++a,n=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)n=26*n+s;for(r.e.c=--n,n=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)n=10*n+s;return r.e.r=--n,r}function kF(e,r){var n=e.t=="d"&&r instanceof Date;if(e.z!=null)try{return e.w=Wi(e.z,n?fs(r):r)}catch{}try{return e.w=Wi((e.XF||{}).numFmtId||(n?14:0),n?fs(r):r)}catch{return""+r}}function _c(e,r,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?Wf[e.v]||e.v:r==null?kF(e,e.v):kF(e,r))}function rd(e,r){var n=r&&r.sheet?r.sheet:"Sheet1",a={};return a[n]=e,{SheetNames:[n],Sheets:a}}function tK(e,r,n){var a=n||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),o=0,c=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var u=typeof a.origin=="string"?ss(a.origin):a.origin;o=u.r,c=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=un(i["!ref"]);d.s.c=f.s.c,d.s.r=f.s.r,d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(d.e.r=o=f.e.r+1)}for(var h=0;h!=r.length;++h)if(r[h]){if(!Array.isArray(r[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=r[h].length;++m)if(!(typeof r[h][m]>"u")){var p={v:r[h][m]},v=o+h,g=c+m;if(d.s.r>v&&(d.s.r=v),d.s.c>g&&(d.s.c=g),d.e.r<v&&(d.e.r=v),d.e.c<g&&(d.e.c=g),r[h][m]&&typeof r[h][m]=="object"&&!Array.isArray(r[h][m])&&!(r[h][m]instanceof Date))p=r[h][m];else if(Array.isArray(p.v)&&(p.f=r[h][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||Ut[14],a.cellDates?(p.t="d",p.w=Wi(p.z,fs(p.v))):(p.t="n",p.v=fs(p.v),p.w=Wi(p.z,p.v))):p.t="s";if(s)i[v]||(i[v]=[]),i[v][g]&&i[v][g].z&&(p.z=i[v][g].z),i[v][g]=p;else{var x=Mt({c:g,r:v});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return d.s.c<1e7&&(i["!ref"]=nr(d)),i}function Gp(e,r){return tK(null,e,r)}function Kwe(e){return e.read_shift(4,"i")}function Fa(e){var r=e.read_shift(4);return r===0?"":e.read_shift(r,"dbcs")}function Gwe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function dP(e,r){var n=e.l,a=e.read_shift(1),s=Fa(e),i=[],o={t:s,h:s};if(a&1){for(var c=e.read_shift(4),u=0;u!=c;++u)i.push(Gwe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+r,o}var Ywe=dP;function Ki(e){var r=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:r,iStyleRef:n}}function Vf(e){var r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:r}}var Xwe=Fa;function fP(e){var r=e.read_shift(4);return r===0||r===4294967295?"":e.read_shift(r,"dbcs")}var Jwe=Fa,TE=fP;function hP(e){var r=e.slice(e.l,e.l+4),n=r[0]&1,a=r[0]&2;e.l+=4;var s=a===0?Y1([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):Nd(r,0)>>2;return n?s/100:s}function rK(e){var r={s:{},e:{}};return r.s.r=e.read_shift(4),r.e.r=e.read_shift(4),r.s.c=e.read_shift(4),r.e.c=e.read_shift(4),r}var zf=rK;function Ra(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Qwe(e){var r={},n=e.read_shift(1),a=n>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),c=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:r.auto=1;break;case 1:r.index=s;var d=nf[s];d&&(r.rgb=gv(d));break;case 2:r.rgb=gv([o,c,u]);break;case 3:r.theme=s;break}return i!=0&&(r.tint=i>0?i/32767:i/32768),r}function Zwe(e){var r=e.read_shift(1);e.l++;var n={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return n}function nK(e,r){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,r==1?"lpstr":"lpwstr")}function e1e(e){return nK(e,1)}function t1e(e){return nK(e,2)}var mP=2,ws=3,Xy=11,NF=12,X1=19,Jy=64,r1e=65,n1e=71,a1e=4108,s1e=4126,Yn=80,aK=81,i1e=[Yn,aK],o1e={1:{n:"CodePage",t:mP},2:{n:"Category",t:Yn},3:{n:"PresentationFormat",t:Yn},4:{n:"ByteCount",t:ws},5:{n:"LineCount",t:ws},6:{n:"ParagraphCount",t:ws},7:{n:"SlideCount",t:ws},8:{n:"NoteCount",t:ws},9:{n:"HiddenCount",t:ws},10:{n:"MultimediaClipCount",t:ws},11:{n:"ScaleCrop",t:Xy},12:{n:"HeadingPairs",t:a1e},13:{n:"TitlesOfParts",t:s1e},14:{n:"Manager",t:Yn},15:{n:"Company",t:Yn},16:{n:"LinksUpToDate",t:Xy},17:{n:"CharacterCount",t:ws},19:{n:"SharedDoc",t:Xy},22:{n:"HyperlinksChanged",t:Xy},23:{n:"AppVersion",t:ws,p:"version"},24:{n:"DigSig",t:r1e},26:{n:"ContentType",t:Yn},27:{n:"ContentStatus",t:Yn},28:{n:"Language",t:Yn},29:{n:"Version",t:Yn},255:{},2147483648:{n:"Locale",t:X1},2147483651:{n:"Behavior",t:X1},1919054434:{}},l1e={1:{n:"CodePage",t:mP},2:{n:"Title",t:Yn},3:{n:"Subject",t:Yn},4:{n:"Author",t:Yn},5:{n:"Keywords",t:Yn},6:{n:"Comments",t:Yn},7:{n:"Template",t:Yn},8:{n:"LastAuthor",t:Yn},9:{n:"RevNumber",t:Yn},10:{n:"EditTime",t:Jy},11:{n:"LastPrinted",t:Jy},12:{n:"CreatedDate",t:Jy},13:{n:"ModifiedDate",t:Jy},14:{n:"PageCount",t:ws},15:{n:"WordCount",t:ws},16:{n:"CharCount",t:ws},17:{n:"Thumbnail",t:n1e},18:{n:"Application",t:Yn},19:{n:"DocSecurity",t:ws},255:{},2147483648:{n:"Locale",t:X1},2147483651:{n:"Behavior",t:X1},1919054434:{}},EF={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},c1e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function u1e(e){return e.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var d1e=u1e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nf=fa(d1e),Wf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},sK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},CF={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function f1e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function h1e(e){var r=f1e();if(!e||!e.match)return r;var n={};if((e.match(Wa)||[]).forEach(function(a){var s=Ot(a);switch(s[0].replace(bwe,"<")){case"<?xml":break;case"<Types":r.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[s.Extension]=s.ContentType;break;case"<Override":r[CF[s.ContentType]]!==void 0&&r[CF[s.ContentType]].push(s.PartName);break}}),r.xmlns!==Pwe.CT)throw new Error("Unknown Namespace: "+r.xmlns);return r.calcchain=r.calcchains.length>0?r.calcchains[0]:"",r.sst=r.strs.length>0?r.strs[0]:"",r.style=r.styles.length>0?r.styles[0]:"",r.defaults=n,delete r.calcchains,r}var Uh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function AE(e){var r=e.lastIndexOf("/");return e.slice(0,r+1)+"_rels/"+e.slice(r+1)+".rels"}function yg(e,r){var n={"!id":{}};if(!e)return n;r.charAt(0)!=="/"&&(r="/"+r);var a={};return(e.match(Wa)||[]).forEach(function(s){var i=Ot(s);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var c=i.TargetMode==="External"?i.Target:G0(i.Target,r);n[c]=o,a[i.Id]=o}}),n["!id"]=a,n}var m1e="application/vnd.oasis.opendocument.spreadsheet";function p1e(e,r){for(var n=oP(e),a,s;a=mv.exec(n);)switch(a[3]){case"manifest":break;case"file-entry":if(s=Ot(a[0],!1),s.path=="/"&&s.type!==m1e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(r&&r.WTF)throw a}}var wg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],g1e=function(){for(var e=new Array(wg.length),r=0;r<wg.length;++r){var n=wg[r],a="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[r]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function iK(e){var r={};e=Fr(e);for(var n=0;n<wg.length;++n){var a=wg[n],s=e.match(g1e[n]);s!=null&&s.length>0&&(r[a[1]]=lr(s[1])),a[2]==="date"&&r[a[1]]&&(r[a[1]]=ta(r[a[1]]))}return r}var v1e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function oK(e,r,n,a){var s=[];if(typeof e=="string")s=xF(e,a);else for(var i=0;i<e.length;++i)s=s.concat(e[i].map(function(f){return{v:f}}));var o=typeof r=="string"?xF(r,a).map(function(f){return f.v}):r,c=0,u=0;if(o.length>0)for(var d=0;d!==s.length;d+=2){switch(u=+s[d+1].v,s[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=u,n.SheetNames=o.slice(c,c+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=u,n.DefinedNames=o.slice(c,c+u);break;case"Charts":case"Diagramme":n.Chartsheets=u,n.ChartNames=o.slice(c,c+u);break}c+=u}}function x1e(e,r,n){var a={};return r||(r={}),e=Fr(e),v1e.forEach(function(s){var i=(e.match(hv(s[0]))||[])[1];switch(s[2]){case"string":i&&(r[s[1]]=lr(i));break;case"bool":r[s[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));o&&o.length>0&&(a[s[1]]=o[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&oK(a.HeadingPairs,a.TitlesOfParts,r,n),r}var y1e=/<[^>]+>[^<]*/g;function w1e(e,r){var n={},a="",s=e.match(y1e);if(s)for(var i=0;i!=s.length;++i){var o=s[i],c=Ot(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":a=lr(c.name);break;case"</property>":a=null;break;default:if(o.indexOf("<vt:")===0){var u=o.split(">"),d=u[0].slice(4),f=u[1];switch(d){case"lpstr":case"bstr":case"lpwstr":n[a]=lr(f);break;case"bool":n[a]=Kr(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[a]=parseInt(f,10);break;case"r4":case"r8":case"decimal":n[a]=parseFloat(f);break;case"filetime":case"date":n[a]=ta(f);break;case"cy":case"error":n[a]=lr(f);break;default:if(d.slice(-1)=="/")break;r.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,u)}}else if(o.slice(0,2)!=="</"){if(r.WTF)throw new Error(o)}}}return n}var b1e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},zk;function _1e(e,r,n){zk||(zk=aP(b1e)),r=zk[r]||r,e[r]=n}function pP(e){var r=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+r/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function lK(e,r,n){var a=e.l,s=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-a&3;)++e.l;return s}function cK(e,r,n){var a=e.read_shift(0,"lpwstr");return a}function uK(e,r,n){return r===31?cK(e):lK(e,r,n)}function OE(e,r,n){return uK(e,r,n===!1?0:4)}function S1e(e,r){if(!r)throw new Error("VtUnalignedString must have positive length");return uK(e,r,0)}function j1e(e){for(var r=e.read_shift(4),n=[],a=0;a!=r;++a){var s=e.l;n[a]=e.read_shift(0,"lpwstr").replace(ds,""),e.l-s&2&&(e.l+=2)}return n}function k1e(e){for(var r=e.read_shift(4),n=[],a=0;a!=r;++a)n[a]=e.read_shift(0,"lpstr-cp").replace(ds,"");return n}function N1e(e){var r=e.l,n=J1(e,aK);e[e.l]==0&&e[e.l+1]==0&&e.l-r&2&&(e.l+=2);var a=J1(e,ws);return[n,a]}function E1e(e){for(var r=e.read_shift(4),n=[],a=0;a<r/2;++a)n.push(N1e(e));return n}function TF(e,r){for(var n=e.read_shift(4),a={},s=0;s!=n;++s){var i=e.read_shift(4),o=e.read_shift(4);a[i]=e.read_shift(o,r===1200?"utf16le":"utf8").replace(ds,"").replace(K0,"!"),r===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function dK(e){var r=e.read_shift(4),n=e.slice(e.l,e.l+r);return e.l+=r,(r&3)>0&&(e.l+=4-(r&3)&3),n}function C1e(e){var r={};return r.Size=e.read_shift(4),e.l+=r.Size+3-(r.Size-1)%4,r}function J1(e,r,n){var a=e.read_shift(2),s,i=n||{};if(e.l+=2,r!==NF&&a!==r&&i1e.indexOf(r)===-1&&!((r&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+r+" saw "+a);switch(r===NF?a:r){case 2:return s=e.read_shift(2,"i"),i.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return lK(e,a,4).replace(ds,"");case 31:return cK(e);case 64:return pP(e);case 65:return dK(e);case 71:return C1e(e);case 80:return OE(e,a,!i.raw).replace(ds,"");case 81:return S1e(e,a).replace(ds,"");case 4108:return E1e(e);case 4126:case 4127:return a==4127?j1e(e):k1e(e);default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+a)}}function AF(e,r){var n=e.l,a=e.read_shift(4),s=e.read_shift(4),i=[],o=0,c=0,u=-1,d={};for(o=0;o!=s;++o){var f=e.read_shift(4),h=e.read_shift(4);i[o]=[f,h+n]}i.sort(function(w,_){return w[1]-_[1]});var m={};for(o=0;o!=s;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&r)switch(r[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!r||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(r){var v=r[i[o][0]];if(m[v.n]=J1(e,v.t,{raw:!0}),v.p==="version"&&(m[v.n]=String(m[v.n]>>16)+"."+("0000"+String(m[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(m[v.n]){case 0:m[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:bo(c=m[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[v.n])}}else if(i[o][0]===1){if(c=m.CodePage=J1(e,mP),bo(c),u!==-1){var g=e.l;e.l=i[u][1],d=TF(e,c),e.l=g}}else if(i[o][0]===0){if(c===0){u=o,e.l=i[o+1][1];continue}d=TF(e,c)}else{var x=d[i[o][0]],b;switch(e[e.l]){case 65:e.l+=4,b=dK(e);break;case 30:e.l+=4,b=OE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=OE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=dn(e,4);break;case 64:e.l+=4,b=ta(pP(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[x]=b}}return e.l=n+a,m}function OF(e,r,n){var a=e.content;if(!a)return{};ia(a,0);var s,i,o,c,u=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),f=a.read_shift(16);if(f!==rr.utils.consts.HEADER_CLSID&&f!==n)throw new Error("Bad PropertySet CLSID "+f);if(s=a.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=a.read_shift(16),c=a.read_shift(4),s===1&&c!==a.l)throw new Error("Length mismatch: "+c+" !== "+a.l);s===2&&(o=a.read_shift(16),u=a.read_shift(4));var h=AF(a,r),m={SystemIdentifier:d};for(var p in h)m[p]=h[p];if(m.FMTID=i,s===1)return m;if(u-a.l==2&&(a.l+=2),a.l!==u)throw new Error("Length mismatch 2: "+a.l+" !== "+u);var v;try{v=AF(a,null)}catch{}for(p in v)m[p]=v[p];return m.FMTID=[i,o],m}function Vc(e,r){return e.read_shift(r),null}function T1e(e,r,n){for(var a=[],s=e.l+r;e.l<s;)a.push(n(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return a}function dn(e,r){return e.read_shift(r)===1}function kn(e){return e.read_shift(2,"u")}function fK(e,r){return T1e(e,r,kn)}function A1e(e){var r=e.read_shift(1),n=e.read_shift(1);return n===1?r:r===1}function Bx(e,r,n){var a=e.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var o=a?e.read_shift(a,s):"";return o}function O1e(e){var r=e.read_shift(2),n=e.read_shift(1),a=n&4,s=n&8,i=1+(n&1),o=0,c,u={};s&&(o=e.read_shift(2)),a&&(c=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",f=r===0?"":e.read_shift(r,d);return s&&(e.l+=4*o),a&&(e.l+=c),u.t=f,s||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function kf(e,r,n){var a;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(r,"cpstr");if(n.biff>=12)return e.read_shift(r,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(r,"sbcs-cont"):a=e.read_shift(r,"dbcs-cont"),a}function Ux(e,r,n){var a=e.read_shift(n&&n.biff==2?1:2);return a===0?(e.l++,""):kf(e,a,n)}function Hf(e,r,n){if(n.biff>5)return Ux(e,r,n);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function P1e(e){var r=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[r,n]}function D1e(e){var r=e.read_shift(4),n=e.l,a=!1;r>24&&(e.l+=r-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=n);var s=e.read_shift((a?r-24:r)>>1,"utf16le").replace(ds,"");return a&&(e.l+=24),s}function R1e(e){for(var r=e.read_shift(2),n="";r-- >0;)n+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return n+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(ds,"");return n+o}function I1e(e,r){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return D1e(e);case"0303000000000000c000000000000046":return R1e(e);default:throw new Error("Unsupported Moniker "+n)}}function Qy(e){var r=e.read_shift(4),n=r>0?e.read_shift(r,"utf16le").replace(ds,""):"";return n}function M1e(e,r){var n=e.l+r,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var s=e.read_shift(2);e.l+=2;var i,o,c,u,d="",f,h;s&16&&(i=Qy(e,n-e.l)),s&128&&(o=Qy(e,n-e.l)),(s&257)===257&&(c=Qy(e,n-e.l)),(s&257)===1&&(u=I1e(e,n-e.l)),s&8&&(d=Qy(e,n-e.l)),s&32&&(f=e.read_shift(16)),s&64&&(h=pP(e)),e.l=n;var m=o||c||u||"";m&&d&&(m+="#"+d),m||(m="#"+d),s&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return f&&(p.guid=f),h&&(p.time=h),i&&(p.Tooltip=i),p}function hK(e){var r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(1);return[r,n,a,s]}function mK(e,r){var n=hK(e);return n[3]=0,n}function Il(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{r,c:n,ixfe:a}}function F1e(e){var r=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:r,flags:n}}function L1e(e,r,n){return r===0?"":Hf(e,r,n)}function $1e(e,r,n){var a=n.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[s,i,o]}function pK(e){var r=e.read_shift(2),n=hP(e);return[r,n]}function B1e(e,r,n){e.l+=4,r-=4;var a=e.l+r,s=Bx(e,r,n),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,s}function gS(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r},e:{c:s,r:n}}}function gK(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1);return{s:{c:a,r},e:{c:s,r:n}}}var U1e=gK;function vK(e){e.l+=4;var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[n,r,a]}function V1e(e){var r={};return e.l+=4,e.l+=16,r.fSharedNote=e.read_shift(2),e.l+=4,r}function z1e(e){var r={};return e.l+=4,e.cf=e.read_shift(2),r}function wa(e){e.l+=2,e.l+=e.read_shift(2)}var W1e={0:wa,4:wa,5:wa,6:wa,7:z1e,8:wa,9:wa,10:wa,11:wa,12:wa,13:V1e,14:wa,15:wa,16:wa,17:wa,18:wa,19:wa,20:wa,21:vK};function H1e(e,r){for(var n=e.l+r,a=[];e.l<n;){var s=e.read_shift(2);e.l-=2;try{a.push(W1e[s](e,n-e.l))}catch{return e.l=n,a}}return e.l!=n&&(e.l=n),a}function Zy(e,r){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),r-=2,r>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(r>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(r),n}function q1e(e,r){return r===0||e.read_shift(2),1200}function K1e(e,r,n){if(n.enc)return e.l+=r,"";var a=e.l,s=Hf(e,0,n);return e.read_shift(r+a-e.l),s}function G1e(e,r,n){var a=n&&n.biff==8||r==2?e.read_shift(2):(e.l+=r,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function Y1e(e,r,n){var a=e.read_shift(4),s=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Bx(e,0,n);return o.length===0&&(o="Sheet1"),{pos:a,hs:s,dt:i,name:o}}function X1e(e,r){for(var n=e.l+r,a=e.read_shift(4),s=e.read_shift(4),i=[],o=0;o!=s&&e.l<n;++o)i.push(O1e(e));return i.Count=a,i.Unique=s,i}function J1e(e,r){var n={};return n.dsst=e.read_shift(2),e.l+=r-2,n}function Q1e(e){var r={};r.r=e.read_shift(2),r.c=e.read_shift(2),r.cnt=e.read_shift(2)-r.c;var n=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(r.level=a&7),a&32&&(r.hidden=!0),a&64&&(r.hpt=n/20),r}function Z1e(e){var r=F1e(e);if(r.type!=2211)throw new Error("Invalid Future Record "+r.type);var n=e.read_shift(4);return n!==0}function ebe(e){return e.read_shift(2),e.read_shift(4)}function PF(e,r,n){var a=0;n&&n.biff==2||(a=e.read_shift(2));var s=e.read_shift(2);n&&n.biff==2&&(a=1-(s>>15),s&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,s]}function tbe(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2),d=e.read_shift(2);return{Pos:[r,n],Dim:[a,s],Flags:i,CurTab:o,FirstTab:c,Selected:u,TabRatio:d}}function rbe(e,r,n){if(n&&n.biff>=2&&n.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function nbe(){}function abe(e,r,n){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=Bx(e,0,n),a}function sbe(e){var r=Il(e);return r.isst=e.read_shift(4),r}function ibe(e,r,n){n.biffguess&&n.biff==2&&(n.biff=5);var a=e.l+r,s=Il(e);n.biff==2&&e.l++;var i=Ux(e,a-e.l,n);return s.val=i,s}function obe(e,r,n){var a=e.read_shift(2),s=Hf(e,0,n);return[a,s]}var lbe=Hf;function DF(e,r,n){var a=e.l+r,s=n.biff==8||!n.biff?4:2,i=e.read_shift(s),o=e.read_shift(s),c=e.read_shift(2),u=e.read_shift(2);return e.l=a,{s:{r:i,c},e:{r:o,c:u}}}function cbe(e){var r=e.read_shift(2),n=e.read_shift(2),a=pK(e);return{r,c:n,ixfe:a[0],rknum:a[1]}}function ube(e,r){for(var n=e.l+r-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<n;)i.push(pK(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulRK length mismatch");return{r:a,c:s,C:o,rkrec:i}}function dbe(e,r){for(var n=e.l+r-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<n;)i.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulBlank length mismatch");return{r:a,c:s,C:o,ixfe:i}}function fbe(e,r,n,a){var s={},i=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(4),u=e.read_shift(2);return s.patternType=c1e[c>>26],a.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=o&15,s.dgRight=o>>4&15,s.dgTop=o>>8&15,s.dgBottom=o>>12&15,s.icvLeft=o>>16&127,s.icvRight=o>>23&127,s.grbitDiag=o>>30&3,s.icvTop=c&127,s.icvBottom=c>>7&127,s.icvDiag=c>>14&127,s.dgDiag=c>>21&15,s.icvFore=u&127,s.icvBack=u>>7&127,s.fsxButton=u>>14&1),s}function hbe(e,r,n){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,r-=6,a.data=fbe(e,r,a.fStyle,n),a}function mbe(e){e.l+=4;var r=[e.read_shift(2),e.read_shift(2)];if(r[0]!==0&&r[0]--,r[1]!==0&&r[1]--,r[0]>7||r[1]>7)throw new Error("Bad Gutters: "+r.join("|"));return r}function RF(e,r,n){var a=Il(e);(n.biff==2||r==9)&&++e.l;var s=A1e(e);return a.val=s,a.t=s===!0||s===!1?"b":"e",a}function pbe(e,r,n){n.biffguess&&n.biff==2&&(n.biff=5);var a=Il(e),s=Ra(e);return a.val=s,a}var IF=L1e;function gbe(e,r,n){var a=e.l+r,s=e.read_shift(2),i=e.read_shift(2);if(n.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=kf(e,i),c=[];a>e.l;)c.push(Ux(e));return[i,s,o,c]}function MF(e,r,n){var a=e.read_shift(2),s,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return n.sbcch===14849&&(s=B1e(e,r-2,n)),i.body=s||e.read_shift(r-2),typeof s=="string"&&(i.Name=s),i}var vbe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function FF(e,r,n){var a=e.l+r,s=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(n&&n.biff==2?1:2),u=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),u=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var d=kf(e,o,n);s&32&&(d=vbe[d.charCodeAt(0)]);var f=a-e.l;n&&n.biff==2&&--f;var h=a==e.l||c===0||!(f>0)?[]:Qje(e,f,n,c);return{chKey:i,Name:d,itab:u,rgce:h}}function xK(e,r,n){if(n.biff<8)return xbe(e,r,n);for(var a=[],s=e.l+r,i=e.read_shift(n.biff>8?4:2);i--!==0;)a.push($1e(e,n.biff>8?12:6,n));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function xbe(e,r,n){e[e.l+1]==3&&e[e.l]++;var a=Bx(e,r,n);return a.charCodeAt(0)==3?a.slice(1):a}function ybe(e,r,n){if(n.biff<8){e.l+=r;return}var a=e.read_shift(2),s=e.read_shift(2),i=kf(e,a,n),o=kf(e,s,n);return[i,o]}function wbe(e,r,n){var a=gK(e);e.l++;var s=e.read_shift(1);return r-=8,[Zje(e,r,n),s,a]}function LF(e,r,n){var a=U1e(e);switch(n.biff){case 2:e.l++,r-=7;break;case 3:case 4:e.l+=2,r-=8;break;default:e.l+=6,r-=12}return[a,Xje(e,r,n)]}function bbe(e){var r=e.read_shift(4)!==0,n=e.read_shift(4)!==0,a=e.read_shift(4);return[r,n,a]}function _be(e,r,n){if(!(n.biff<8)){var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=Hf(e,0,n);return n.biff<8&&e.read_shift(1),[{r:a,c:s},c,o,i]}}function Sbe(e,r,n){return _be(e,r,n)}function jbe(e,r){for(var n=[],a=e.read_shift(2);a--;)n.push(gS(e));return n}function kbe(e,r,n){if(n&&n.biff<8)return Ebe(e,r,n);var a=vK(e),s=H1e(e,r-22,a[1]);return{cmo:a,ft:s}}var Nbe={8:function(e,r){var n=e.l+r;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=n,{fmt:a}}};function Ebe(e,r,n){e.l+=4;var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,r-=36;var o=[];return o.push((Nbe[a]||Ua)(e,r,n)),{cmo:[s,a,i],ft:o}}function Cbe(e,r,n){var a=e.l,s="";try{e.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=P1e(e,6,n);var c=e.read_shift(2);e.read_shift(2),kn(e,2);var u=e.read_shift(2);e.l+=u;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var f=e[e.l],h=kf(e,e.lens[d+1]-e.lens[d]-1);if(s+=h,s.length>=(f?c:2*c))break}if(s.length!==c&&s.length!==c*2)throw new Error("cchText: "+c+" != "+s.length);return e.l=a+r,{t:s}}catch{return e.l=a+r,{t:s}}}function Tbe(e,r){var n=gS(e);e.l+=16;var a=M1e(e,r-24);return[n,a]}function Abe(e,r){e.read_shift(2);var n=gS(e),a=e.read_shift((r-10)/2,"dbcs-cont");return a=a.replace(ds,""),[n,a]}function Obe(e){var r=[0,0],n;return n=e.read_shift(2),r[0]=EF[n]||n,n=e.read_shift(2),r[1]=EF[n]||n,r}function Pbe(e){for(var r=e.read_shift(2),n=[];r-- >0;)n.push(mK(e));return n}function Dbe(e){for(var r=e.read_shift(2),n=[];r-- >0;)n.push(mK(e));return n}function Rbe(e){e.l+=2;var r={cxfs:0,crc:0};return r.cxfs=e.read_shift(2),r.crc=e.read_shift(4),r}function yK(e,r,n){if(!n.cellStyles)return Ua(e,r);var a=n&&n.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var d={s,e:i,w:o,ixfe:c,flags:u};return(n.biff>=5||!n.biff)&&(d.level=u>>8&7),d}function Ibe(e,r){var n={};return r<32||(e.l+=16,n.header=Ra(e),n.footer=Ra(e),e.l+=2),n}function Mbe(e,r,n){var a={area:!1};if(n.biff!=5)return e.l+=r,a;var s=e.read_shift(1);return e.l+=3,s&16&&(a.area=!0),a}var Fbe=Il,Lbe=fK,$be=Ux;function Bbe(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(4),s={fmt:r,env:n,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,s}function Ube(e,r,n){n.biffguess&&n.biff==5&&(n.biff=2);var a=Il(e);++e.l;var s=Hf(e,r-7,n);return a.t="str",a.val=s,a}function Vbe(e){var r=Il(e);++e.l;var n=Ra(e);return r.t="n",r.val=n,r}function zbe(e){var r=Il(e);++e.l;var n=e.read_shift(2);return r.t="n",r.val=n,r}function Wbe(e){var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,"sbcs-cont")}function Hbe(e,r){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=r-13}function qbe(e,r,n){var a=e.l+r,s=Il(e),i=e.read_shift(2),o=kf(e,i,n);return e.l=a,s.t="str",s.val=o,s}var Kbe=[2,3,48,49,131,139,140,245],$F=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=aP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,u){var d=[],f=Vu(1);switch(u.type){case"base64":f=vo(pi(c));break;case"binary":f=vo(c);break;case"buffer":case"array":f=c;break}ia(f,0);var h=f.read_shift(1),m=!!(h&136),p=!1,v=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var g=0,x=521;h==2&&(g=f.read_shift(2)),f.l+=3,h!=2&&(g=f.read_shift(4)),g>1048576&&(g=1e6),h!=2&&(x=f.read_shift(2));var b=f.read_shift(2),w=u.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(w=e[f[f.l]]),f.l+=1,f.l+=2),v&&(f.l+=36);for(var _=[],S={},j=Math.min(f.length,h==2?521:x-10-(p?264:0)),N=v?32:11;f.l<j&&f[f.l]!=13;)switch(S={},S.name=eu.utils.decode(w,f.slice(f.l,f.l+N)).replace(/[\u0000\r\n].*$/g,""),f.l+=N,S.type=String.fromCharCode(f.read_shift(1)),h!=2&&!v&&(S.offset=f.read_shift(4)),S.len=f.read_shift(1),h==2&&(S.offset=f.read_shift(2)),S.dec=f.read_shift(1),S.name.length&&_.push(S),h!=2&&(f.l+=v?13:14),S.type){case"B":(!p||S.len!=8)&&u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(f[f.l]!==13&&(f.l=x-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=x;var k=0,E=0;for(d[0]=[],E=0;E!=_.length;++E)d[0][E]=_[E].name;for(;g-- >0;){if(f[f.l]===42){f.l+=b;continue}for(++f.l,d[++k]=[],E=0,E=0;E!=_.length;++E){var C=f.slice(f.l,f.l+_[E].len);f.l+=_[E].len,ia(C,0);var O=eu.utils.decode(w,C);switch(_[E].type){case"C":O.trim().length&&(d[k][E]=O.replace(/\s+$/,""));break;case"D":O.length===8?d[k][E]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):d[k][E]=O;break;case"F":d[k][E]=parseFloat(O.trim());break;case"+":case"I":d[k][E]=v?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":d[k][E]=!0;break;case"N":case"F":d[k][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[k][E]="##MEMO##"+(v?parseInt(O.trim(),10):C.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(d[k][E]=+O||0);break;case"@":d[k][E]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":d[k][E]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":d[k][E]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[k][E]=-C.read_shift(-8,"f");break;case"B":if(p&&_[E].len==8){d[k][E]=C.read_shift(8,"f");break}case"G":case"P":C.l+=_[E].len;break;case"0":if(_[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[E].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),u.DBF=_,d}function a(c,u){var d=u||{};d.dateNF||(d.dateNF="yyyymmdd");var f=Gp(n(c,d),d);return f["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,f}function s(c,u){try{return rd(a(c,u),u)}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var d=u||{};if(+d.codepage>=0&&bo(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var f=CE(),h=LE(c,{header:1,raw:!0,cellDates:!0}),m=h[0],p=h.slice(1),v=c["!cols"]||[],g=0,x=0,b=0,w=1;for(g=0;g<m.length;++g){if(((v[g]||{}).DBF||{}).name){m[g]=v[g].DBF.name,++b;continue}if(m[g]!=null){if(++b,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(x=0;x<1024;++x)if(m.indexOf(m[g]+"_"+x)==-1){m[g]+="_"+x;break}}}}var _=un(c["!ref"]),S=[],j=[],N=[];for(g=0;g<=_.e.c-_.s.c;++g){var k="",E="",C=0,O=[];for(x=0;x<p.length;++x)p[x][g]!=null&&O.push(p[x][g]);if(O.length==0||m[g]==null){S[g]="?";continue}for(x=0;x<O.length;++x){switch(typeof O[x]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=O[x]instanceof Date?"D":"C";break;default:E="C"}C=Math.max(C,String(O[x]).length),k=k&&k!=E?"C":E}C>250&&(C=250),E=((v[g]||{}).DBF||{}).type,E=="C"&&v[g].DBF.len>C&&(C=v[g].DBF.len),k=="B"&&E=="N"&&(k="N",N[g]=v[g].DBF.dec,C=v[g].DBF.len),j[g]=k=="C"||E=="N"?C:i[k]||0,w+=j[g],S[g]=k}var D=f.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*b),D.write_shift(2,w),g=0;g<4;++g)D.write_shift(4,0);for(D.write_shift(4,0|(+r[xq]||3)<<8),g=0,x=0;g<m.length;++g)if(m[g]!=null){var T=f.next(32),z=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,z,"sbcs"),T.write_shift(1,S[g]=="?"?"C":S[g],"sbcs"),T.write_shift(4,x),T.write_shift(1,j[g]||i[S[g]]||0),T.write_shift(1,N[g]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),x+=j[g]||i[S[g]]||0}var q=f.next(264);for(q.write_shift(4,13),g=0;g<65;++g)q.write_shift(4,0);for(g=0;g<p.length;++g){var F=f.next(w);for(F.write_shift(1,0),x=0;x<m.length;++x)if(m[x]!=null)switch(S[x]){case"L":F.write_shift(1,p[g][x]==null?63:p[g][x]?84:70);break;case"B":F.write_shift(8,p[g][x]||0,"f");break;case"N":var I="0";for(typeof p[g][x]=="number"&&(I=p[g][x].toFixed(N[x]||0)),b=0;b<j[x]-I.length;++b)F.write_shift(1,32);F.write_shift(1,I,"sbcs");break;case"D":p[g][x]?(F.write_shift(4,("0000"+p[g][x].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(p[g][x].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+p[g][x].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var V=String(p[g][x]!=null?p[g][x]:"").slice(0,j[x]);for(F.write_shift(1,V,"sbcs"),b=0;b<j[x]-V.length;++b)F.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:a,from_sheet:o}}(),Gbe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+Nl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(m,p){var v=e[p];return typeof v=="number"?tF(v):v},a=function(m,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?m:tF(g)};e["|"]=254;function s(m,p){switch(p.type){case"base64":return i(pi(m),p);case"binary":return i(m,p);case"buffer":return i(tr&&Buffer.isBuffer(m)?m.toString("binary"):Uf(m),p);case"array":return i(jf(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var v=m.split(/[\n\r]+/),g=-1,x=-1,b=0,w=0,_=[],S=[],j=null,N={},k=[],E=[],C=[],O=0,D;for(+p.codepage>=0&&bo(+p.codepage);b!==v.length;++b){O=0;var T=v[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(r,n),z=T.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),q=z[0],F;if(T.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&S.push(T.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,V=!1,L=!1,M=!1,Y=-1,Z=-1;for(w=1;w<z.length;++w)switch(z[w].charAt(0)){case"A":break;case"X":x=parseInt(z[w].slice(1))-1,V=!0;break;case"Y":for(g=parseInt(z[w].slice(1))-1,V||(x=0),D=_.length;D<=g;++D)_[D]=[];break;case"K":F=z[w].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(ko(F))?isNaN(Ym(F).getDate())||(F=ta(F)):(F=ko(F),j!==null&&qp(j)&&(F=pS(F))),I=!0;break;case"E":M=!0;var A=cm(z[w].slice(1),{r:g,c:x});_[g][x]=[_[g][x],A];break;case"S":L=!0,_[g][x]=[_[g][x],"S5S"];break;case"G":break;case"R":Y=parseInt(z[w].slice(1))-1;break;case"C":Z=parseInt(z[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}if(I&&(_[g][x]&&_[g][x].length==2?_[g][x][0]=F:_[g][x]=F,j=null),L){if(M)throw new Error("SYLK shared formula cannot have own formula");var X=Y>-1&&_[Y][Z];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");_[g][x][1]=TK(X[1],{r:g-Y,c:x-Z})}break;case"F":var U=0;for(w=1;w<z.length;++w)switch(z[w].charAt(0)){case"X":x=parseInt(z[w].slice(1))-1,++U;break;case"Y":for(g=parseInt(z[w].slice(1))-1,D=_.length;D<=g;++D)_[D]=[];break;case"M":O=parseInt(z[w].slice(1))/20;break;case"F":break;case"G":break;case"P":j=S[parseInt(z[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=z[w].slice(1).split(" "),D=parseInt(C[0],10);D<=parseInt(C[1],10);++D)O=parseInt(C[2],10),E[D-1]=O===0?{hidden:!0}:{wch:O},Xm(E[D-1]);break;case"C":x=parseInt(z[w].slice(1))-1,E[x]||(E[x]={});break;case"R":g=parseInt(z[w].slice(1))-1,k[g]||(k[g]={}),O>0?(k[g].hpt=O,k[g].hpx=vv(O)):O===0&&(k[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}U<1&&(j=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}}return k.length>0&&(N["!rows"]=k),E.length>0&&(N["!cols"]=E),p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),[_,N]}function o(m,p){var v=s(m,p),g=v[0],x=v[1],b=Gp(g,p);return Nl(x).forEach(function(w){b[w]=x[w]}),b}function c(m,p){return rd(o(m,p),p)}function u(m,p,v,g){var x="C;Y"+(v+1)+";X"+(g+1)+";K";switch(m.t){case"n":x+=m.v||0,m.f&&!m.F&&(x+=";E"+RSe(m.f,{r:v,c:g}));break;case"b":x+=m.v?"TRUE":"FALSE";break;case"e":x+=m.w||m.v;break;case"d":x+='"'+(m.w||m.v)+'"';break;case"s":x+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function d(m,p){p.forEach(function(v,g){var x="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?x+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Z1(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=eb(v.wpx)),typeof v.wch=="number"&&(x+=Math.round(v.wch))),x.charAt(x.length-1)!=" "&&m.push(x)})}function f(m,p){p.forEach(function(v,g){var x="F;";v.hidden?x+="M0;":v.hpt?x+="M"+20*v.hpt+";":v.hpx&&(x+="M"+20*NK(v.hpx)+";"),x.length>2&&m.push(x+"R"+(g+1))})}function h(m,p){var v=["ID;PWXL;N;E"],g=[],x=un(m["!ref"]),b,w=Array.isArray(m),_=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),m["!cols"]&&d(v,m["!cols"]),m["!rows"]&&f(v,m["!rows"]),v.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var S=x.s.r;S<=x.e.r;++S)for(var j=x.s.c;j<=x.e.c;++j){var N=Mt({r:S,c:j});b=w?(m[S]||[])[j]:m[N],!(!b||b.v==null&&(!b.f||b.F))&&g.push(u(b,m,S,j))}return v.join(_)+_+g.join(_)+_+"E"+_}return{to_workbook:c,to_sheet:o,from_sheet:h}}(),Ybe=function(){function e(i,o){switch(o.type){case"base64":return r(pi(i),o);case"binary":return r(i,o);case"buffer":return r(tr&&Buffer.isBuffer(i)?i.toString("binary"):Uf(i),o);case"array":return r(jf(i),o)}throw new Error("Unrecognized type "+o.type)}function r(i,o){for(var c=i.split(`
`),u=-1,d=-1,f=0,h=[];f!==c.length;++f){if(c[f].trim()==="BOT"){h[++u]=[],d=0;continue}if(!(u<0)){var m=c[f].trim().split(","),p=m[0],v=m[1];++f;for(var g=c[f]||"";(g.match(/["]/g)||[]).length&1&&f<c.length-1;)g+=`
`+c[++f];switch(g=g.trim(),+p){case-1:if(g==="BOT"){h[++u]=[],d=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?h[u][d]=!0:g==="FALSE"?h[u][d]=!1:isNaN(ko(v))?isNaN(Ym(v).getDate())?h[u][d]=v:h[u][d]=ta(v):h[u][d]=ko(v),++d;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),h[u][d++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function n(i,o){return Gp(e(i,o),o)}function a(i,o){return rd(n(i,o),o)}var s=function(){var i=function(u,d,f,h,m){u.push(d),u.push(f+","+h),u.push('"'+m.replace(/"/g,'""')+'"')},o=function(u,d,f,h){u.push(d+","+f),u.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(u){var d=[],f=un(u["!ref"]),h,m=Array.isArray(u);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,f.e.r-f.s.r+1,""),i(d,"TUPLES",0,f.e.c-f.s.c+1,""),i(d,"DATA",0,0,"");for(var p=f.s.r;p<=f.e.r;++p){o(d,-1,0,"BOT");for(var v=f.s.c;v<=f.e.c;++v){var g=Mt({r:p,c:v});if(h=m?(u[p]||[])[v]:u[g],!h){o(d,1,0,"");continue}switch(h.t){case"n":var x=h.w;!x&&h.v!=null&&(x=h.v),x==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,x,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Wi(h.z||Ut[14],fs(ta(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var b=`\r
`,w=d.join(b);return w}}();return{to_workbook:a,to_sheet:n,from_sheet:s}}(),Xbe=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(h,m){for(var p=h.split(`
`),v=-1,g=-1,x=0,b=[];x!==p.length;++x){var w=p[x].trim().split(":");if(w[0]==="cell"){var _=ss(w[1]);if(b.length<=_.r)for(v=b.length;v<=_.r;++v)b[v]||(b[v]=[]);switch(v=_.r,g=_.c,w[2]){case"t":b[v][g]=e(w[3]);break;case"v":b[v][g]=+w[3];break;case"vtf":var S=w[w.length-1];case"vtc":switch(w[3]){case"nl":b[v][g]=!!+w[4];break;default:b[v][g]=+w[4];break}w[2]=="vtf"&&(b[v][g]=[b[v][g],S])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function a(h,m){return Gp(n(h,m),m)}function s(h,m){return rd(a(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],p=[],v,g="",x=Kp(h["!ref"]),b=Array.isArray(h),w=x.s.r;w<=x.e.r;++w)for(var _=x.s.c;_<=x.e.c;++_)if(g=Mt({r:w,c:_}),v=b?(h[w]||[])[_]:h[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(r(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=r(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=r(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var S=fs(ta(v.v));p[2]="vtc",p[3]="nd",p[4]=""+S,p[5]=v.w||Wi(v.z||Ut[14],S);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function f(h){return[i,o,c,o,d(h),u].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:f}}(),pv=function(){function e(f,h,m,p,v){v.raw?h[m][p]=f:f===""||(f==="TRUE"?h[m][p]=!0:f==="FALSE"?h[m][p]=!1:isNaN(ko(f))?isNaN(Ym(f).getDate())?h[m][p]=f:h[m][p]=ta(f):h[m][p]=ko(f))}function r(f,h){var m=h||{},p=[];if(!f||f.length===0)return p;for(var v=f.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var x=10,b=0,w=0;w<=g;++w)b=v[w].indexOf(" "),b==-1?b=v[w].length:b++,x=Math.max(x,b);for(w=0;w<=g;++w){p[w]=[];var _=0;for(e(v[w].slice(0,x).trim(),p,w,_,m),_=1;_<=(v[w].length-x)/10+1;++_)e(v[w].slice(x+(_-1)*10,x+_*10).trim(),p,w,_,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(f){for(var h={},m=!1,p=0,v=0;p<f.length;++p)(v=f.charCodeAt(p))==34?m=!m:!m&&v in n&&(h[v]=(h[v]||0)+1);v=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&v.push([h[p],p]);if(!v.length){h=a;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&v.push([h[p],p])}return v.sort(function(g,x){return g[0]-x[0]||a[g[1]]-a[x[1]]}),n[v.pop()[1]]||44}function i(f,h){var m=h||{},p="",v=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(p=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(p=f.charAt(4),f=f.slice(6)):p=s(f.slice(0,1024)):m&&m.FS?p=m.FS:p=s(f.slice(0,1024));var x=0,b=0,w=0,_=0,S=0,j=p.charCodeAt(0),N=!1,k=0,E=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var C=m.dateNF!=null?owe(m.dateNF):null;function O(){var D=f.slice(_,S),T={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)T.t="z";else if(m.raw)T.t="s",T.v=D;else if(D.trim().length===0)T.t="s",T.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(T.t="s",T.v=D.slice(2,-1).replace(/""/g,'"')):MSe(D)?(T.t="n",T.f=D.slice(1)):(T.t="s",T.v=D);else if(D=="TRUE")T.t="b",T.v=!0;else if(D=="FALSE")T.t="b",T.v=!1;else if(!isNaN(w=ko(D)))T.t="n",m.cellText!==!1&&(T.w=D),T.v=w;else if(!isNaN(Ym(D).getDate())||C&&D.match(C)){T.z=m.dateNF||Ut[14];var z=0;C&&D.match(C)&&(D=lwe(D,m.dateNF,D.match(C)||[]),z=1),m.cellDates?(T.t="d",T.v=ta(D,z)):(T.t="n",T.v=fs(ta(D,z))),m.cellText!==!1&&(T.w=Wi(T.z,T.v instanceof Date?fs(T.v):T.v)),m.cellNF||delete T.z}else T.t="s",T.v=D;if(T.t=="z"||(m.dense?(v[x]||(v[x]=[]),v[x][b]=T):v[Mt({c:b,r:x})]=T),_=S+1,E=f.charCodeAt(_),g.e.c<b&&(g.e.c=b),g.e.r<x&&(g.e.r=x),k==j)++b;else if(b=0,++x,m.sheetRows&&m.sheetRows<=x)return!0}e:for(;S<f.length;++S)switch(k=f.charCodeAt(S)){case 34:E===34&&(N=!N);break;case j:case 10:case 13:if(!N&&O())break e;break}return S-_>0&&O(),v["!ref"]=nr(g),v}function o(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,h):Gp(r(f,h),h)}function c(f,h){var m="",p=h.type=="string"?[0,0,0,0]:SP(f,h);switch(h.type){case"base64":m=pi(f);break;case"binary":m=f;break;case"buffer":h.codepage==65001?m=f.toString("utf8"):h.codepage&&typeof eu<"u"?m=eu.utils.decode(h.codepage,f):m=tr&&Buffer.isBuffer(f)?f.toString("binary"):Uf(f);break;case"array":m=jf(f);break;case"string":m=f;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=Fr(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=Fr(m):h.type=="binary"&&typeof eu<"u"&&h.codepage&&(m=eu.utils.decode(h.codepage,eu.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?Xbe.to_sheet(h.type=="string"?m:Fr(m),h):o(m,h)}function u(f,h){return rd(c(f,h),h)}function d(f){for(var h=[],m=un(f["!ref"]),p,v=Array.isArray(f),g=m.s.r;g<=m.e.r;++g){for(var x=[],b=m.s.c;b<=m.e.c;++b){var w=Mt({r:g,c:b});if(p=v?(f[g]||[])[b]:f[w],!p||p.v==null){x.push("          ");continue}for(var _=(p.w||(_c(p),p.w)||"").slice(0,10);_.length<10;)_+=" ";x.push(_+(b===0?" ":""))}h.push(x.join(""))}return h.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:d}}();function Jbe(e,r){var n=r||{},a=!!n.WTF;n.WTF=!0;try{var s=Gbe.to_workbook(e,n);return n.WTF=a,s}catch(i){if(n.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return pv.to_workbook(e,r)}}var bg=function(){function e(A,X,U){if(A){ia(A,A.l||0);for(var H=U.Enum||Y;A.l<A.length;){var ae=A.read_shift(2),oe=H[ae]||H[65535],we=A.read_shift(2),se=A.l+we,Q=oe.f&&oe.f(A,we,U);if(A.l=se,X(Q,oe,ae))return}}}function r(A,X){switch(X.type){case"base64":return n(vo(pi(A)),X);case"binary":return n(vo(A),X);case"buffer":case"array":return n(A,X)}throw"Unsupported type "+X.type}function n(A,X){if(!A)return A;var U=X||{},H=U.dense?[]:{},ae="Sheet1",oe="",we=0,se={},Q=[],he=[],P={s:{r:0,c:0},e:{r:0,c:0}},Le=U.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)U.Enum=Y,e(A,function(De,wt,dt){switch(dt){case 0:U.vers=De,De>=4096&&(U.qpro=!0);break;case 6:P=De;break;case 204:De&&(oe=De);break;case 222:oe=De;break;case 15:case 51:U.qpro||(De[1].v=De[1].v.slice(1));case 13:case 14:case 16:dt==14&&(De[2]&112)==112&&(De[2]&15)>1&&(De[2]&15)<15&&(De[1].z=U.dateNF||Ut[14],U.cellDates&&(De[1].t="d",De[1].v=pS(De[1].v))),U.qpro&&De[3]>we&&(H["!ref"]=nr(P),se[ae]=H,Q.push(ae),H=U.dense?[]:{},P={s:{r:0,c:0},e:{r:0,c:0}},we=De[3],ae=oe||"Sheet"+(we+1),oe="");var ie=U.dense?(H[De[0].r]||[])[De[0].c]:H[Mt(De[0])];if(ie){ie.t=De[1].t,ie.v=De[1].v,De[1].z!=null&&(ie.z=De[1].z),De[1].f!=null&&(ie.f=De[1].f);break}U.dense?(H[De[0].r]||(H[De[0].r]=[]),H[De[0].r][De[0].c]=De[1]):H[Mt(De[0])]=De[1];break}},U);else if(A[2]==26||A[2]==14)U.Enum=Z,A[2]==14&&(U.qpro=!0,A.l=0),e(A,function(De,wt,dt){switch(dt){case 204:ae=De;break;case 22:De[1].v=De[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(De[3]>we&&(H["!ref"]=nr(P),se[ae]=H,Q.push(ae),H=U.dense?[]:{},P={s:{r:0,c:0},e:{r:0,c:0}},we=De[3],ae="Sheet"+(we+1)),Le>0&&De[0].r>=Le)break;U.dense?(H[De[0].r]||(H[De[0].r]=[]),H[De[0].r][De[0].c]=De[1]):H[Mt(De[0])]=De[1],P.e.c<De[0].c&&(P.e.c=De[0].c),P.e.r<De[0].r&&(P.e.r=De[0].r);break;case 27:De[14e3]&&(he[De[14e3][0]]=De[14e3][1]);break;case 1537:he[De[0]]=De[1],De[0]==we&&(ae=De[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(H["!ref"]=nr(P),se[oe||ae]=H,Q.push(oe||ae),!he.length)return{SheetNames:Q,Sheets:se};for(var $e={},Me=[],He=0;He<he.length;++He)se[Q[He]]?(Me.push(he[He]||Q[He]),$e[he[He]]=se[he[He]]||se[Q[He]]):(Me.push(he[He]),$e[he[He]]={"!ref":"A1"});return{SheetNames:Me,Sheets:$e}}function a(A,X){var U=X||{};if(+U.codepage>=0&&bo(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var H=CE(),ae=un(A["!ref"]),oe=Array.isArray(A),we=[];eo(H,0,i(1030)),eo(H,6,u(ae));for(var se=Math.min(ae.e.r,8191),Q=ae.s.r;Q<=se;++Q)for(var he=ha(Q),P=ae.s.c;P<=ae.e.c;++P){Q===ae.s.r&&(we[P]=Wn(P));var Le=we[P]+he,$e=oe?(A[Q]||[])[P]:A[Le];if(!(!$e||$e.t=="z"))if($e.t=="n")($e.v|0)==$e.v&&$e.v>=-32768&&$e.v<=32767?eo(H,13,p(Q,P,$e.v)):eo(H,14,g(Q,P,$e.v));else{var Me=_c($e);eo(H,15,h(Q,P,Me.slice(0,239)))}}return eo(H,1),H.end()}function s(A,X){var U=X||{};if(+U.codepage>=0&&bo(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var H=CE();eo(H,0,o(A));for(var ae=0,oe=0;ae<A.SheetNames.length;++ae)(A.Sheets[A.SheetNames[ae]]||{})["!ref"]&&eo(H,27,M(A.SheetNames[ae],oe++));var we=0;for(ae=0;ae<A.SheetNames.length;++ae){var se=A.Sheets[A.SheetNames[ae]];if(!(!se||!se["!ref"])){for(var Q=un(se["!ref"]),he=Array.isArray(se),P=[],Le=Math.min(Q.e.r,8191),$e=Q.s.r;$e<=Le;++$e)for(var Me=ha($e),He=Q.s.c;He<=Q.e.c;++He){$e===Q.s.r&&(P[He]=Wn(He));var De=P[He]+Me,wt=he?(se[$e]||[])[He]:se[De];if(!(!wt||wt.t=="z"))if(wt.t=="n")eo(H,23,O($e,He,we,wt.v));else{var dt=_c(wt);eo(H,22,k($e,He,we,dt.slice(0,239)))}}++we}}return eo(H,1),H.end()}function i(A){var X=$n(2);return X.write_shift(2,A),X}function o(A){var X=$n(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var U=0,H=0,ae=0,oe=0;oe<A.SheetNames.length;++oe){var we=A.SheetNames[oe],se=A.Sheets[we];if(!(!se||!se["!ref"])){++ae;var Q=Kp(se["!ref"]);U<Q.e.r&&(U=Q.e.r),H<Q.e.c&&(H=Q.e.c)}}return U>8191&&(U=8191),X.write_shift(2,U),X.write_shift(1,ae),X.write_shift(1,H),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function c(A,X,U){var H={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&U.qpro?(H.s.c=A.read_shift(1),A.l++,H.s.r=A.read_shift(2),H.e.c=A.read_shift(1),A.l++,H.e.r=A.read_shift(2),H):(H.s.c=A.read_shift(2),H.s.r=A.read_shift(2),X==12&&U.qpro&&(A.l+=2),H.e.c=A.read_shift(2),H.e.r=A.read_shift(2),X==12&&U.qpro&&(A.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function u(A){var X=$n(8);return X.write_shift(2,A.s.c),X.write_shift(2,A.s.r),X.write_shift(2,A.e.c),X.write_shift(2,A.e.r),X}function d(A,X,U){var H=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(H[0].c=A.read_shift(1),H[3]=A.read_shift(1),H[0].r=A.read_shift(2),A.l+=2):(H[2]=A.read_shift(1),H[0].c=A.read_shift(2),H[0].r=A.read_shift(2)),H}function f(A,X,U){var H=A.l+X,ae=d(A,X,U);if(ae[1].t="s",U.vers==20768){A.l++;var oe=A.read_shift(1);return ae[1].v=A.read_shift(oe,"utf8"),ae}return U.qpro&&A.l++,ae[1].v=A.read_shift(H-A.l,"cstr"),ae}function h(A,X,U){var H=$n(7+U.length);H.write_shift(1,255),H.write_shift(2,X),H.write_shift(2,A),H.write_shift(1,39);for(var ae=0;ae<H.length;++ae){var oe=U.charCodeAt(ae);H.write_shift(1,oe>=128?95:oe)}return H.write_shift(1,0),H}function m(A,X,U){var H=d(A,X,U);return H[1].v=A.read_shift(2,"i"),H}function p(A,X,U){var H=$n(7);return H.write_shift(1,255),H.write_shift(2,X),H.write_shift(2,A),H.write_shift(2,U,"i"),H}function v(A,X,U){var H=d(A,X,U);return H[1].v=A.read_shift(8,"f"),H}function g(A,X,U){var H=$n(13);return H.write_shift(1,255),H.write_shift(2,X),H.write_shift(2,A),H.write_shift(8,U,"f"),H}function x(A,X,U){var H=A.l+X,ae=d(A,X,U);if(ae[1].v=A.read_shift(8,"f"),U.qpro)A.l=H;else{var oe=A.read_shift(2);S(A.slice(A.l,A.l+oe),ae),A.l+=oe}return ae}function b(A,X,U){var H=X&32768;return X&=-32769,X=(H?A:0)+(X>=8192?X-16384:X),(H?"":"$")+(U?Wn(X):ha(X))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(A,X){ia(A,0);for(var U=[],H=0,ae="",oe="",we="",se="";A.l<A.length;){var Q=A[A.l++];switch(Q){case 0:U.push(A.read_shift(8,"f"));break;case 1:oe=b(X[0].c,A.read_shift(2),!0),ae=b(X[0].r,A.read_shift(2),!1),U.push(oe+ae);break;case 2:{var he=b(X[0].c,A.read_shift(2),!0),P=b(X[0].r,A.read_shift(2),!1);oe=b(X[0].c,A.read_shift(2),!0),ae=b(X[0].r,A.read_shift(2),!1),U.push(he+P+":"+oe+ae)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(A.read_shift(2));break;case 6:{for(var Le="";Q=A[A.l++];)Le+=String.fromCharCode(Q);U.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:se=U.pop(),we=U.pop(),U.push(["AND","OR"][Q-20]+"("+we+","+se+")");break;default:if(Q<32&&_[Q])se=U.pop(),we=U.pop(),U.push(we+_[Q]+se);else if(w[Q]){if(H=w[Q][1],H==69&&(H=A[A.l++]),H>U.length){console.error("WK1 bad formula parse 0x"+Q.toString(16)+":|"+U.join("|")+"|");return}var $e=U.slice(-H);U.length-=H,U.push(w[Q][0]+"("+$e.join(",")+")")}else return Q<=7?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=24?console.error("WK1 unsupported op "+Q.toString(16)):Q<=30?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=115?console.error("WK1 unsupported function opcode "+Q.toString(16)):console.error("WK1 unrecognized opcode "+Q.toString(16))}}U.length==1?X[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function j(A){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=A.read_shift(2),X[3]=A[A.l++],X[0].c=A[A.l++],X}function N(A,X){var U=j(A);return U[1].t="s",U[1].v=A.read_shift(X-4,"cstr"),U}function k(A,X,U,H){var ae=$n(6+H.length);ae.write_shift(2,A),ae.write_shift(1,U),ae.write_shift(1,X),ae.write_shift(1,39);for(var oe=0;oe<H.length;++oe){var we=H.charCodeAt(oe);ae.write_shift(1,we>=128?95:we)}return ae.write_shift(1,0),ae}function E(A,X){var U=j(A);U[1].v=A.read_shift(2);var H=U[1].v>>1;if(U[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return U[1].v=H,U}function C(A,X){var U=j(A),H=A.read_shift(4),ae=A.read_shift(4),oe=A.read_shift(2);if(oe==65535)return H===0&&ae===3221225472?(U[1].t="e",U[1].v=15):H===0&&ae===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var we=oe&32768;return oe=(oe&32767)-16446,U[1].v=(1-we*2)*(ae*Math.pow(2,oe+32)+H*Math.pow(2,oe)),U}function O(A,X,U,H){var ae=$n(14);if(ae.write_shift(2,A),ae.write_shift(1,U),ae.write_shift(1,X),H==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var oe=0,we=0,se=0,Q=0;return H<0&&(oe=1,H=-H),we=Math.log2(H)|0,H/=Math.pow(2,we-31),Q=H>>>0,Q&2147483648||(H/=2,++we,Q=H>>>0),H-=Q,Q|=2147483648,Q>>>=0,H*=Math.pow(2,32),se=H>>>0,ae.write_shift(4,se),ae.write_shift(4,Q),we+=16383+(oe?32768:0),ae.write_shift(2,we),ae}function D(A,X){var U=C(A);return A.l+=X-14,U}function T(A,X){var U=j(A),H=A.read_shift(4);return U[1].v=H>>6,U}function z(A,X){var U=j(A),H=A.read_shift(8,"f");return U[1].v=H,U}function q(A,X){var U=z(A);return A.l+=X-10,U}function F(A,X){return A[A.l+X-1]==0?A.read_shift(X,"cstr"):""}function I(A,X){var U=A[A.l++];U>X-1&&(U=X-1);for(var H="";H.length<U;)H+=String.fromCharCode(A[A.l++]);return H}function V(A,X,U){if(!(!U.qpro||X<21)){var H=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var ae=A.read_shift(X-21,"cstr");return[H,ae]}}function L(A,X){for(var U={},H=A.l+X;A.l<H;){var ae=A.read_shift(2);if(ae==14e3){for(U[ae]=[0,""],U[ae][0]=A.read_shift(2);A[A.l];)U[ae][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return U}function M(A,X){var U=$n(5+A.length);U.write_shift(2,14e3),U.write_shift(2,X);for(var H=0;H<A.length;++H){var ae=A.charCodeAt(H);U[U.l++]=ae>127?95:ae}return U[U.l++]=0,U}var Y={0:{n:"BOF",f:kn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:v},15:{n:"LABEL",f},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:L},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:V},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:r}}();function Qbe(e){var r={},n=e.match(Wa),a=0,s=!1;if(n)for(;a!=n.length;++a){var i=Ot(n[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":r.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;r.cp=ZO[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":r.outline=1;break;case"</outline>":break;case"<rFont":r.name=i.val;break;case"<sz":r.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":r.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":r.uval="double";break;case"singleAccounting":r.uval="single-accounting";break;case"doubleAccounting":r.uval="double-accounting";break}case"<u>":case"<u/>":r.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":r.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":r.i=1;break;case"</i>":break;case"<color":i.rgb&&(r.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":r.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":r.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return r}var Zbe=function(){var e=hv("t"),r=hv("rPr");function n(i){var o=i.match(e);if(!o)return{t:"s",v:""};var c={t:"s",v:lr(o[1])},u=i.match(r);return u&&(c.s=Qbe(u[1])),c}var a=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(o){return o.replace(a,"").split(s).map(n).filter(function(c){return c.v})}}(),e_e=function(){var r=/(\r\n|\n)/g;function n(s,i,o){var c=[];s.u&&c.push("text-decoration: underline;"),s.uval&&c.push("text-underline-style:"+s.uval+";"),s.sz&&c.push("font-size:"+s.sz+"pt;"),s.outline&&c.push("text-effect: outline;"),s.shadow&&c.push("text-shadow: auto;"),i.push('<span style="'+c.join("")+'">'),s.b&&(i.push("<b>"),o.push("</b>")),s.i&&(i.push("<i>"),o.push("</i>")),s.strike&&(i.push("<s>"),o.push("</s>"));var u=s.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),o.push("</"+u+">")),o.push("</span>"),s}function a(s){var i=[[],s.v,[]];return s.v?(s.s&&n(s.s,i[0],i[2]),i[0].join("")+i[1].replace(r,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}}(),t_e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,r_e=/<(?:\w+:)?r>/,n_e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function gP(e,r){var n=r?r.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=lr(Fr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=Fr(e),n&&(a.h=iP(a.t))):e.match(r_e)&&(a.r=Fr(e),a.t=lr(Fr((e.replace(n_e,"").match(t_e)||[]).join("").replace(Wa,""))),n&&(a.h=e_e(Zbe(a.r)))),a):{t:""}}var a_e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,s_e=/<(?:\w+:)?(?:si|sstItem)>/g,i_e=/<\/(?:\w+:)?(?:si|sstItem)>/;function o_e(e,r){var n=[],a="";if(!e)return n;var s=e.match(a_e);if(s){a=s[2].replace(s_e,"").split(i_e);for(var i=0;i!=a.length;++i){var o=gP(a[i].trim(),r);o!=null&&(n[n.length]=o)}s=Ot(s[1]),n.Count=s.count,n.Unique=s.uniqueCount}return n}function l_e(e){return[e.read_shift(4),e.read_shift(4)]}function c_e(e,r){var n=[],a=!1;return Tc(e,function(i,o,c){switch(c){case 159:n.Count=i[0],n.Unique=i[1];break;case 19:n.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T,!a||r.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function wK(e){for(var r=[],n=e.split(""),a=0;a<n.length;++a)r[a]=n[a].charCodeAt(0);return r}function oc(e,r){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),r>=4&&(e.l+=r-4),n}function u_e(e){var r={};return r.id=e.read_shift(0,"lpp4"),r.R=oc(e,4),r.U=oc(e,4),r.W=oc(e,4),r}function d_e(e){for(var r=e.read_shift(4),n=e.l+r-4,a={},s=e.read_shift(4),i=[];s-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return a}function f_e(e){var r=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)r.push(d_e(e));return r}function h_e(e){var r=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)r.push(e.read_shift(0,"lpp4"));return r}function m_e(e){var r={};return e.read_shift(4),e.l+=4,r.id=e.read_shift(0,"lpp4"),r.name=e.read_shift(0,"lpp4"),r.R=oc(e,4),r.U=oc(e,4),r.W=oc(e,4),r}function p_e(e){var r=m_e(e);if(r.ename=e.read_shift(0,"8lpp4"),r.blksz=e.read_shift(4),r.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return r}function bK(e,r){var n=e.l+r,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var s=!1;switch(a.AlgID){case 26126:case 26127:case 26128:s=a.Flags==36;break;case 26625:s=a.Flags==4;break;case 0:s=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,a}function _K(e,r){var n={},a=e.l+r;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,a),e.l=a,n}function g_e(e){var r=oc(e);switch(r.Minor){case 2:return[r.Minor,v_e(e)];case 3:return[r.Minor,x_e()];case 4:return[r.Minor,y_e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+r.Minor)}function v_e(e){var r=e.read_shift(4);if((r&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),a=bK(e,n),s=_K(e,e.length-e.l);return{t:"Std",h:a,v:s}}function x_e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function y_e(e){var r=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),a={};return n.replace(Wa,function(i){var o=Ot(i);switch(Rl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":r.forEach(function(c){a[c]=o[c]});break;case"<dataIntegrity":a.encryptedHmacKey=o.encryptedHmacKey,a.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(o);break;default:throw o[0]}}),a}function w_e(e,r){var n={},a=n.EncryptionVersionInfo=oc(e,4);if(r-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);n.Flags=e.read_shift(4),r-=4;var s=e.read_shift(4);return r-=4,n.EncryptionHeader=bK(e,s),r-=s,n.EncryptionVerifier=_K(e,r),n}function b_e(e){var r={},n=r.EncryptionVersionInfo=oc(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return r.Salt=e.read_shift(16),r.EncryptedVerifier=e.read_shift(16),r.EncryptedVerifierHash=e.read_shift(16),r}function __e(e){var r=0,n,a=wK(e),s=a.length+1,i,o,c,u,d;for(n=Vu(s),n[0]=a.length,i=1;i!=s;++i)n[i]=a[i-1];for(i=s-1;i>=0;--i)o=n[i],c=r&16384?1:0,u=r<<1&32767,d=c|u,r=d^o;return r^52811}var SK=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],r=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(o){return(o/2|o*128)&255},s=function(o,c){return a(o^c)},i=function(o){for(var c=r[o.length-1],u=104,d=o.length-1;d>=0;--d)for(var f=o[d],h=0;h!=7;++h)f&64&&(c^=n[u]),f*=2,--u;return c};return function(o){for(var c=wK(o),u=i(c),d=c.length,f=Vu(16),h=0;h!=16;++h)f[h]=0;var m,p,v;for((d&1)===1&&(m=u>>8,f[d]=s(e[0],m),--d,m=u&255,p=c[c.length-1],f[d]=s(p,m));d>0;)--d,m=u>>8,f[d]=s(c[d],m),--d,m=u&255,f[d]=s(c[d],m);for(d=15,v=15-c.length;v>0;)m=u>>8,f[d]=s(e[v],m),--d,--v,m=u&255,f[d]=s(c[d],m),--d,--v;return f}}(),S_e=function(e,r,n,a,s){s||(s=r),a||(a=SK(e));var i,o;for(i=0;i!=r.length;++i)o=r[i],o^=a[n],o=(o>>5|o<<3)&255,s[i]=o,++n;return[s,n,a]},j_e=function(e){var r=0,n=SK(e);return function(a){var s=S_e("",a,r,n);return r=s[1],s[0]}};function k_e(e,r,n,a){var s={key:kn(e),verificationBytes:kn(e)};return n.password&&(s.verifier=__e(n.password)),a.valid=s.verificationBytes===s.verifier,a.valid&&(a.insitu=j_e(n.password)),s}function N_e(e,r,n){var a=n||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=b_e(e):a.Data=w_e(e,r),a}function E_e(e,r,n){var a={Type:n.biff>=8?e.read_shift(2):0};return a.Type?N_e(e,r-2,a):k_e(e,n.biff>=8?r:r-2,n,a),a}var C_e=function(){function e(s,i){switch(i.type){case"base64":return r(pi(s),i);case"binary":return r(s,i);case"buffer":return r(tr&&Buffer.isBuffer(s)?s.toString("binary"):Uf(s),i);case"array":return r(jf(s),i)}throw new Error("Unrecognized type "+i.type)}function r(s,i){var o=i||{},c=o.dense?[]:{},u=s.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,h){Array.isArray(c)&&(c[h]=[]);for(var m=/\\\w+\b/g,p=0,v,g=-1;v=m.exec(f);){switch(v[0]){case"\\cell":var x=f.slice(p,m.lastIndex-v[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var b={v:x,t:"s"};Array.isArray(c)?c[h][g]=b:c[Mt({r:h,c:g})]=b}break}p=m.lastIndex}g>d.e.c&&(d.e.c=g)}),c["!ref"]=nr(d),c}function n(s,i){return rd(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],o=un(s["!ref"]),c,u=Array.isArray(s),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var h=Mt({r:d,c:f});c=u?(s[d]||[])[f]:s[h],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(_c(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:a}}();function T_e(e){var r=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(r.slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]}function gv(e){for(var r=0,n=1;r!=3;++r)n=n*256+(e[r]>255?255:e[r]<0?0:e[r]);return n.toString(16).toUpperCase().slice(1)}function A_e(e){var r=e[0]/255,n=e[1]/255,a=e[2]/255,s=Math.max(r,n,a),i=Math.min(r,n,a),o=s-i;if(o===0)return[0,0,r];var c=0,u=0,d=s+i;switch(u=o/(d>1?2-d:d),s){case r:c=((n-a)/o+6)%6;break;case n:c=(a-r)/o+2;break;case a:c=(r-n)/o+4;break}return[c/6,u,d/2]}function O_e(e){var r=e[0],n=e[1],a=e[2],s=n*2*(a<.5?a:1-a),i=a-s/2,o=[i,i,i],c=6*r,u;if(n!==0)switch(c|0){case 0:case 6:u=s*c,o[0]+=s,o[1]+=u;break;case 1:u=s*(2-c),o[0]+=u,o[1]+=s;break;case 2:u=s*(c-2),o[1]+=s,o[2]+=u;break;case 3:u=s*(4-c),o[1]+=u,o[2]+=s;break;case 4:u=s*(c-4),o[2]+=s,o[0]+=u;break;case 5:u=s*(6-c),o[2]+=u,o[0]+=s;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function Q1(e,r){if(r===0)return e;var n=A_e(T_e(e));return r<0?n[2]=n[2]*(1+r):n[2]=1-(1-n[2])*(1-r),gv(O_e(n))}var jK=6,P_e=15,D_e=1,rs=jK;function Z1(e){return Math.floor((e+Math.round(128/rs)/256)*rs)}function eb(e){return Math.floor((e-5)/rs*100+.5)/100}function PE(e){return Math.round((e*rs+5)/rs*256)/256}function Wk(e){return PE(eb(Z1(e)))}function vP(e){var r=Math.abs(e-Wk(e)),n=rs;if(r>.005)for(rs=D_e;rs<P_e;++rs)Math.abs(e-Wk(e))<=r&&(r=Math.abs(e-Wk(e)),n=rs);rs=n}function Xm(e){e.width?(e.wpx=Z1(e.width),e.wch=eb(e.wpx),e.MDW=rs):e.wpx?(e.wch=eb(e.wpx),e.width=PE(e.wch),e.MDW=rs):typeof e.wch=="number"&&(e.width=PE(e.wch),e.wpx=Z1(e.width),e.MDW=rs),e.customWidth&&delete e.customWidth}var R_e=96,kK=R_e;function NK(e){return e*96/kK}function vv(e){return e*kK/96}var I_e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function M_e(e,r,n,a){r.Borders=[];var s={},i=!1;(e[0].match(Wa)||[]).forEach(function(o){var c=Ot(o);switch(Rl(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},c.diagonalUp&&(s.diagonalUp=Kr(c.diagonalUp)),c.diagonalDown&&(s.diagonalDown=Kr(c.diagonalDown)),r.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in borders")}})}function F_e(e,r,n,a){r.Fills=[];var s={},i=!1;(e[0].match(Wa)||[]).forEach(function(o){var c=Ot(o);switch(Rl(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},r.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":r.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":c.patternType&&(s.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),c.indexed&&(s.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(s.bgColor.theme=parseInt(c.theme,10)),c.tint&&(s.bgColor.tint=parseFloat(c.tint)),c.rgb&&(s.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),c.theme&&(s.fgColor.theme=parseInt(c.theme,10)),c.tint&&(s.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(s.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in fills")}})}function L_e(e,r,n,a){r.Fonts=[];var s={},i=!1;(e[0].match(Wa)||[]).forEach(function(o){var c=Ot(o);switch(Rl(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":r.Fonts.push(s),s={};break;case"<name":c.val&&(s.name=Fr(c.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=c.val?Kr(c.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=c.val?Kr(c.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(c.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=c.val?Kr(c.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=c.val?Kr(c.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=c.val?Kr(c.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=c.val?Kr(c.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=c.val?Kr(c.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":c.val&&(s.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(s.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(s.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(s.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=ZO[parseInt(c.val,10)];break;case"<color":if(s.color||(s.color={}),c.auto&&(s.color.auto=Kr(c.auto)),c.rgb)s.color.rgb=c.rgb.slice(-6);else if(c.indexed){s.color.index=parseInt(c.indexed,10);var u=nf[s.color.index];s.color.index==81&&(u=nf[1]),u||(u=nf[1]),s.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else c.theme&&(s.color.theme=parseInt(c.theme,10),c.tint&&(s.color.tint=parseFloat(c.tint)),c.theme&&n.themeElements&&n.themeElements.clrScheme&&(s.color.rgb=Q1(n.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in fonts")}})}function $_e(e,r,n){r.NumberFmt=[];for(var a=Nl(Ut),s=0;s<a.length;++s)r.NumberFmt[a[s]]=Ut[a[s]];var i=e[0].match(Wa);if(i)for(s=0;s<i.length;++s){var o=Ot(i[s]);switch(Rl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=lr(Fr(o.formatCode)),u=parseInt(o.numFmtId,10);if(r.NumberFmt[u]=c,u>0){if(u>392){for(u=392;u>60&&r.NumberFmt[u]!=null;--u);r.NumberFmt[u]=c}rf(c,u)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var ew=["numFmtId","fillId","fontId","borderId","xfId"],tw=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function B_e(e,r,n){r.CellXf=[];var a,s=!1;(e[0].match(Wa)||[]).forEach(function(i){var o=Ot(i),c=0;switch(Rl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=o,delete a[0],c=0;c<ew.length;++c)a[ew[c]]&&(a[ew[c]]=parseInt(a[ew[c]],10));for(c=0;c<tw.length;++c)a[tw[c]]&&(a[tw[c]]=Kr(a[tw[c]]));if(r.NumberFmt&&a.numFmtId>392){for(c=392;c>60;--c)if(r.NumberFmt[a.numFmtId]==r.NumberFmt[c]){a.numFmtId=c;break}}r.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};o.vertical&&(u.vertical=o.vertical),o.horizontal&&(u.horizontal=o.horizontal),o.textRotation!=null&&(u.textRotation=o.textRotation),o.indent&&(u.indent=o.indent),o.wrapText&&(u.wrapText=Kr(o.wrapText)),a.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var U_e=function(){var r=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,u,d){var f={};if(!c)return f;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=c.match(r))&&$_e(h,f,d),(h=c.match(s))&&L_e(h,f,u,d),(h=c.match(a))&&F_e(h,f,u,d),(h=c.match(i))&&M_e(h,f,u,d),(h=c.match(n))&&B_e(h,f,d),f}}();function V_e(e,r){var n=e.read_shift(2),a=Fa(e);return[n,a]}function z_e(e,r,n){var a={};a.sz=e.read_shift(2)/20;var s=Zwe(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var c=e.read_shift(1);c>0&&(a.family=c);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=Qwe(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Fa(e),a}var W_e=Ua;function H_e(e,r){var n=e.l+r,a=e.read_shift(2),s=e.read_shift(2);return e.l=n,{ixfe:a,numFmtId:s}}var q_e=Ua;function K_e(e,r,n){var a={};a.NumberFmt=[];for(var s in Ut)a.NumberFmt[s]=Ut[s];a.CellXf=[],a.Fonts=[];var i=[],o=!1;return Tc(e,function(u,d,f){switch(f){case 44:a.NumberFmt[u[0]]=u[1],rf(u[1],u[0]);break;case 43:a.Fonts.push(u),u.color.theme!=null&&r&&r.themeElements&&r.themeElements.clrScheme&&(u.color.rgb=Q1(r.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(f),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(f);else if(d.T<0)i.pop();else if(!o||n.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),a}var G_e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Y_e(e,r,n){r.themeElements.clrScheme=[];var a={};(e[0].match(Wa)||[]).forEach(function(s){var i=Ot(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(r.themeElements.clrScheme[G_e.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function X_e(){}function J_e(){}var Q_e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Z_e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,eSe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function tSe(e,r,n){r.themeElements={};var a;[["clrScheme",Q_e,Y_e],["fontScheme",Z_e,X_e],["fmtScheme",eSe,J_e]].forEach(function(s){if(!(a=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](a,r,n)})}var rSe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function EK(e,r){(!e||e.length===0)&&(e=nSe());var n,a={};if(!(n=e.match(rSe)))throw new Error("themeElements not found in theme");return tSe(n[0],a,r),a.raw=e,a}function nSe(e,r){var n=[Lq];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function aSe(e,r,n){var a=e.l+r,s=e.read_shift(4);if(s!==124226){if(!n.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var o;try{o=Fq(i,{type:"array"})}catch{return}var c=ii(o,"theme/theme/theme1.xml",!0);if(c)return EK(c,n)}}function sSe(e){return e.read_shift(4)}function iSe(e){var r={};switch(r.xclrType=e.read_shift(2),r.nTintShade=e.read_shift(2),r.xclrType){case 0:e.l+=4;break;case 1:r.xclrValue=oSe(e,4);break;case 2:r.xclrValue=hK(e);break;case 3:r.xclrValue=sSe(e);break;case 4:e.l+=4;break}return e.l+=8,r}function oSe(e,r){return Ua(e,r)}function lSe(e,r){return Ua(e,r)}function cSe(e){var r=e.read_shift(2),n=e.read_shift(2)-4,a=[r];switch(r){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=iSe(e);break;case 6:a[1]=lSe(e,n);break;case 14:case 15:a[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+r+" "+n)}return a}function uSe(e,r){var n=e.l+r;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),i=[];s-- >0;)i.push(cSe(e,n-e.l));return{ixfe:a,ext:i}}function dSe(e,r){r.forEach(function(n){switch(n[0]){}})}function fSe(e,r){return{flags:e.read_shift(4),version:e.read_shift(4),name:Fa(e)}}function hSe(e){for(var r=[],n=e.read_shift(4);n-- >0;)r.push([e.read_shift(4),e.read_shift(4)]);return r}function mSe(e){return e.l+=4,e.read_shift(4)!=0}function pSe(e,r,n){var a={Types:[],Cell:[],Value:[]},s=n||{},i=[],o=!1,c=2;return Tc(e,function(u,d,f){switch(f){case 335:a.Types.push({name:u.name});break;case 51:u.forEach(function(h){c==1?a.Cell.push({type:a.Types[h[0]-1].name,index:h[1]}):c==0&&a.Value.push({type:a.Types[h[0]-1].name,index:h[1]})});break;case 337:c=u?1:0;break;case 338:c=2;break;case 35:i.push(f),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),a}function gSe(e,r,n){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var s=!1,i=2,o;return e.replace(Wa,function(c){var u=Ot(c);switch(Rl(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==u.name&&(o=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[u.t-1].name,index:+u.v}):i==0&&a.Value.push({type:a.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+u.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return c}),a}function vSe(e){var r=[];if(!e)return r;var n=1;return(e.match(Wa)||[]).forEach(function(a){var s=Ot(a);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?n=s.i:s.i=n,r.push(s);break}}),r}function xSe(e){var r={};r.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),r.r=Mt(n);var a=e.read_shift(1);return a&2&&(r.l="1"),a&8&&(r.a="1"),r}function ySe(e,r,n){var a=[];return Tc(e,function(i,o,c){switch(c){case 63:a.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),a}function wSe(e,r,n,a){if(!e)return e;var s=a||{},i=!1;Tc(e,function(c,u,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},s)}function bSe(e,r){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return r["!id"][n].Target}function BF(e,r,n,a){var s=Array.isArray(e),i;r.forEach(function(o){var c=ss(o.ref);if(s?(e[c.r]||(e[c.r]=[]),i=e[c.r][c.c]):i=e[o.ref],!i){i={t:"z"},s?e[c.r][c.c]=i:e[o.ref]=i;var u=un(e["!ref"]||"BDWGO1000001:A1");u.s.r>c.r&&(u.s.r=c.r),u.e.r<c.r&&(u.e.r=c.r),u.s.c>c.c&&(u.s.c=c.c),u.e.c<c.c&&(u.e.c=c.c);var d=nr(u);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var f={a:o.author,t:o.t,r:o.r,T:n};o.h&&(f.h=o.h);for(var h=i.c.length-1;h>=0;--h){if(!n&&i.c[h].T)return;n&&!i.c[h].T&&i.c.splice(h,1)}if(n&&a){for(h=0;h<a.length;++h)if(f.a==a[h].id){f.a=a[h].name||f.a;break}}i.c.push(f)})}function _Se(e,r){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],a=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&n.push(c[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var u=Ot(c[0]),d={author:u.authorId&&n[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},f=ss(u.ref);if(!(r.sheetRows&&r.sheetRows<=f.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&gP(h[1])||{r:"",t:"",h:""};d.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),d.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.cellHTML&&(d.h=m.h),a.push(d)}}}}),a}function SSe(e,r){var n=[],a=!1,s={},i=0;return e.replace(Wa,function(c,u){var d=Ot(c);switch(Rl(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":s.t!=null&&n.push(s);break;case"<text>":case"<text":i=u+c.length;break;case"</text>":s.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&r.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),n}function jSe(e,r){var n=[],a=!1;return e.replace(Wa,function(i){var o=Ot(i);switch(Rl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&r.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),n}function kSe(e){var r={};r.iauthor=e.read_shift(4);var n=zf(e);return r.rfx=n.s,r.ref=Mt(n.s),e.l+=16,r}var NSe=Fa;function ESe(e,r){var n=[],a=[],s={},i=!1;return Tc(e,function(c,u,d){switch(d){case 632:a.push(c);break;case 635:s=c;break;case 637:s.t=c.t,s.h=c.h,s.r=c.r;break;case 636:if(s.author=a[s.iauthor],delete s.iauthor,r.sheetRows&&s.rfx&&r.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,n.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||r.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}var CSe="application/vnd.ms-office.vbaProject";function TSe(e){var r=rr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,a){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var s=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");rr.utils.cfb_add(r,s,e.FileIndex[a].content)}}),rr.write(r)}function ASe(){return{"!type":"dialog"}}function OSe(){return{"!type":"dialog"}}function PSe(){return{"!type":"macro"}}function DSe(){return{"!type":"macro"}}var cm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function n(a,s,i,o){var c=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return c?f+=r.c:--f,u?d+=r.r:--d,s+(c?"":"$")+Wn(f)+(u?"":"$")+ha(d)}return function(s,i){return r=i,s.replace(e,n)}}(),CK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,RSe=function(){return function(r,n){return r.replace(CK,function(a,s,i,o,c,u){var d=uP(o)-(i?0:n.c),f=cP(u)-(c?0:n.r),h=f==0?"":c?f+1:"["+f+"]",m=d==0?"":i?d+1:"["+d+"]";return s+"R"+h+"C"+m})}}();function TK(e,r){return e.replace(CK,function(n,a,s,i,o,c){return a+(s=="$"?s+i:Wn(uP(i)+r.c))+(o=="$"?o+c:ha(cP(c)+r.r))})}function ISe(e,r,n){var a=Kp(r),s=a.s,i=ss(n),o={r:i.r-s.r,c:i.c-s.c};return TK(e,o)}function MSe(e){return e.length!=1}function UF(e){return e.replace(/_xlfn\./g,"")}function _n(e){e.l+=1}function zu(e,r){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function AK(e,r,n){var a=2;if(n){if(n.biff>=2&&n.biff<=5)return OK(e);n.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),o=zu(e),c=zu(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function OK(e){var r=zu(e),n=zu(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:r[0],c:a,cRel:r[1],rRel:r[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function FSe(e,r,n){if(n.biff<8)return OK(e);var a=e.read_shift(n.biff==12?4:2),s=e.read_shift(n.biff==12?4:2),i=zu(e),o=zu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function PK(e,r,n){if(n&&n.biff>=2&&n.biff<=5)return LSe(e);var a=e.read_shift(n&&n.biff==12?4:2),s=zu(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function LSe(e){var r=zu(e),n=e.read_shift(1);return{r:r[0],c:n,cRel:r[1],rRel:r[2]}}function $Se(e){var r=e.read_shift(2),n=e.read_shift(2);return{r,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function BSe(e,r,n){var a=n&&n.biff?n.biff:8;if(a>=2&&a<=5)return USe(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:c}}function USe(e){var r=e.read_shift(2),n=e.read_shift(1),a=(r&32768)>>15,s=(r&16384)>>14;return r&=16383,a==1&&r>=8192&&(r=r-16384),s==1&&n>=128&&(n=n-256),{r,c:n,cRel:s,rRel:a}}function VSe(e,r,n){var a=(e[e.l++]&96)>>5,s=AK(e,n.biff>=2&&n.biff<=5?6:8,n);return[a,s]}function zSe(e,r,n){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=AK(e,i,n);return[a,s,o]}function WSe(e,r,n){var a=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[a]}function HSe(e,r,n){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function qSe(e,r,n){var a=(e[e.l++]&96)>>5,s=FSe(e,r-1,n);return[a,s]}function KSe(e,r,n){var a=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[a]}function VF(e){var r=e[e.l+1]&1,n=1;return e.l+=4,[r,n]}function GSe(e,r,n){e.l+=2;for(var a=e.read_shift(n&&n.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(n&&n.biff==2?1:2));return s}function YSe(e,r,n){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(n&&n.biff==2?1:2)]}function XSe(e,r,n){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(n&&n.biff==2?1:2)]}function JSe(e){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(2)]}function QSe(e,r,n){var a=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[a]}function DK(e){var r=e.read_shift(1),n=e.read_shift(1);return[r,n]}function ZSe(e){return e.read_shift(2),DK(e)}function eje(e){return e.read_shift(2),DK(e)}function tje(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=PK(e,0,n);return[a,s]}function rje(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=BSe(e,0,n);return[a,s]}function nje(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=PK(e,0,n);return[a,s,i]}function aje(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(n&&n.biff<=3?1:2);return[ske[s],MK[s],a]}function sje(e,r,n){var a=e[e.l++],s=e.read_shift(1),i=n&&n.biff<=3?[a==88?-1:0,e.read_shift(1)]:ije(e);return[s,(i[0]===0?MK:ake)[i[1]]]}function ije(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function oje(e,r,n){e.l+=n&&n.biff==2?3:4}function lje(e,r,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(n&&n.biff==2?1:2);return[a,s]}function cje(e){return e.l++,Wf[e.read_shift(1)]}function uje(e){return e.l++,e.read_shift(2)}function dje(e){return e.l++,e.read_shift(1)!==0}function fje(e){return e.l++,Ra(e)}function hje(e,r,n){return e.l++,Bx(e,r-1,n)}function mje(e,r){var n=[e.read_shift(1)];if(r==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=dn(e,1)?"TRUE":"FALSE",r!=12&&(e.l+=7);break;case 37:case 16:n[1]=Wf[e[e.l]],e.l+=r==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Ra(e);break;case 2:n[1]=Hf(e,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function pje(e,r,n){for(var a=e.read_shift(n.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((n.biff==12?zf:gS)(e));return s}function gje(e,r,n){var a=0,s=0;n.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--a,--s==0&&(s=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var c=0;c!=s;++c)o[i][c]=mje(e,n.biff);return o}function vje(e,r,n){var a=e.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,i=e.read_shift(s);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function xje(e,r,n){if(n.biff==5)return yje(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function yje(e){var r=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[r,n,a]}function wje(e,r,n){var a=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var s=e.read_shift(n&&n.biff==2?1:2);return[a,s]}function bje(e,r,n){var a=e.read_shift(1)>>>5&3,s=e.read_shift(n&&n.biff==2?1:2);return[a,s]}function _je(e,r,n){var a=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[a]}function Sje(e,r,n){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var jje=Ua,kje=Ua,Nje=Ua;function Vx(e,r,n){return e.l+=2,[$Se(e)]}function xP(e){return e.l+=6,[]}var Eje=Vx,Cje=xP,Tje=xP,Aje=Vx;function RK(e){return e.l+=2,[kn(e),e.read_shift(2)&1]}var Oje=Vx,Pje=RK,Dje=xP,Rje=Vx,Ije=Vx,Mje=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Fje(e){e.l+=2;var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=Mje[n>>2&31];return{ixti:r,coltype:n&3,rt:o,idx:a,c:s,C:i}}function Lje(e){return e.l+=2,[e.read_shift(4)]}function $je(e,r,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function Bje(e,r,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Uje(e){var r=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[r,n]}function Vje(e){var r=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[r,n]}function zje(e){return e.l+=4,[0,0]}var zF={1:{n:"PtgExp",f:lje},2:{n:"PtgTbl",f:Nje},3:{n:"PtgAdd",f:_n},4:{n:"PtgSub",f:_n},5:{n:"PtgMul",f:_n},6:{n:"PtgDiv",f:_n},7:{n:"PtgPower",f:_n},8:{n:"PtgConcat",f:_n},9:{n:"PtgLt",f:_n},10:{n:"PtgLe",f:_n},11:{n:"PtgEq",f:_n},12:{n:"PtgGe",f:_n},13:{n:"PtgGt",f:_n},14:{n:"PtgNe",f:_n},15:{n:"PtgIsect",f:_n},16:{n:"PtgUnion",f:_n},17:{n:"PtgRange",f:_n},18:{n:"PtgUplus",f:_n},19:{n:"PtgUminus",f:_n},20:{n:"PtgPercent",f:_n},21:{n:"PtgParen",f:_n},22:{n:"PtgMissArg",f:_n},23:{n:"PtgStr",f:hje},26:{n:"PtgSheet",f:$je},27:{n:"PtgEndSheet",f:Bje},28:{n:"PtgErr",f:cje},29:{n:"PtgBool",f:dje},30:{n:"PtgInt",f:uje},31:{n:"PtgNum",f:fje},32:{n:"PtgArray",f:KSe},33:{n:"PtgFunc",f:aje},34:{n:"PtgFuncVar",f:sje},35:{n:"PtgName",f:vje},36:{n:"PtgRef",f:tje},37:{n:"PtgArea",f:VSe},38:{n:"PtgMemArea",f:wje},39:{n:"PtgMemErr",f:jje},40:{n:"PtgMemNoMem",f:kje},41:{n:"PtgMemFunc",f:bje},42:{n:"PtgRefErr",f:_je},43:{n:"PtgAreaErr",f:WSe},44:{n:"PtgRefN",f:rje},45:{n:"PtgAreaN",f:qSe},46:{n:"PtgMemAreaN",f:Uje},47:{n:"PtgMemNoMemN",f:Vje},57:{n:"PtgNameX",f:xje},58:{n:"PtgRef3d",f:nje},59:{n:"PtgArea3d",f:zSe},60:{n:"PtgRefErr3d",f:Sje},61:{n:"PtgAreaErr3d",f:HSe},255:{}},Wje={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Hje={1:{n:"PtgElfLel",f:RK},2:{n:"PtgElfRw",f:Rje},3:{n:"PtgElfCol",f:Eje},6:{n:"PtgElfRwV",f:Ije},7:{n:"PtgElfColV",f:Aje},10:{n:"PtgElfRadical",f:Oje},11:{n:"PtgElfRadicalS",f:Dje},13:{n:"PtgElfColS",f:Cje},15:{n:"PtgElfColSV",f:Tje},16:{n:"PtgElfRadicalLel",f:Pje},25:{n:"PtgList",f:Fje},29:{n:"PtgSxName",f:Lje},255:{}},qje={0:{n:"PtgAttrNoop",f:zje},1:{n:"PtgAttrSemi",f:QSe},2:{n:"PtgAttrIf",f:XSe},4:{n:"PtgAttrChoose",f:GSe},8:{n:"PtgAttrGoto",f:YSe},16:{n:"PtgAttrSum",f:oje},32:{n:"PtgAttrBaxcel",f:VF},33:{n:"PtgAttrBaxcel",f:VF},64:{n:"PtgAttrSpace",f:ZSe},65:{n:"PtgAttrSpaceSemi",f:eje},128:{n:"PtgAttrIfError",f:JSe},255:{}};function zx(e,r,n,a){if(a.biff<8)return Ua(e,r);for(var s=e.l+r,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=gje(e,0,a),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=pje(e,n[o][1],a),i.push(n[o][2]);break;case"PtgExp":a&&a.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return r=s-e.l,r!==0&&i.push(Ua(e,r)),i}function Wx(e,r,n){for(var a=e.l+r,s,i,o=[];a!=e.l;)r=a-e.l,i=e[e.l],s=zF[i]||zF[Wje[i]],(i===24||i===25)&&(s=(i===24?Hje:qje)[e[e.l+1]]),!s||!s.f?Ua(e,r):o.push([s.n,s.f(e,r,n)]);return o}function Kje(e){for(var r=[],n=0;n<e.length;++n){for(var a=e[n],s=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}r.push(s.join(","))}return r.join(";")}var Gje={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Yje(e,r){if(!e&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function IK(e,r,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[r]))return e.SheetNames[r];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[r];if(n.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":e.XTI[r-1];if(!a)return"SH33TJSERR1";var s="";if(n.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function WF(e,r,n){var a=IK(e,r,n);return a=="#REF"?a:Yje(a,n)}function Aa(e,r,n,a,s){var i=s&&s.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},c=[],u,d,f,h=0,m=0,p,v="";if(!e[0]||!e[0][0])return"";for(var g=-1,x="",b=0,w=e[0].length;b<w;++b){var _=e[0][b];switch(_[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),d=c.pop(),g>=0){switch(e[0][g][1][0]){case 0:x=on(" ",e[0][g][1][1]);break;case 1:x=on("\r",e[0][g][1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}d=d+x,g=-1}c.push(d+Gje[_[0]]+u);break;case"PtgIsect":u=c.pop(),d=c.pop(),c.push(d+" "+u);break;case"PtgUnion":u=c.pop(),d=c.pop(),c.push(d+","+u);break;case"PtgRange":u=c.pop(),d=c.pop(),c.push(d+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=vg(_[1][1],o,s),c.push(xg(f,i));break;case"PtgRefN":f=n?vg(_[1][1],n,s):_[1][1],c.push(xg(f,i));break;case"PtgRef3d":h=_[1][1],f=vg(_[1][2],o,s),v=WF(a,h,s),c.push(v+"!"+xg(f,i));break;case"PtgFunc":case"PtgFuncVar":var S=_[1][0],j=_[1][1];S||(S=0),S&=127;var N=S==0?[]:c.slice(-S);c.length-=S,j==="User"&&(j=N.shift()),c.push(j+"("+N.join(",")+")");break;case"PtgBool":c.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(_[1]);break;case"PtgNum":c.push(String(_[1]));break;case"PtgStr":c.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(_[1]);break;case"PtgAreaN":p=jF(_[1][1],n?{s:n}:o,s),c.push(Vk(p,s));break;case"PtgArea":p=jF(_[1][1],o,s),c.push(Vk(p,s));break;case"PtgArea3d":h=_[1][1],p=_[1][2],v=WF(a,h,s),c.push(v+"!"+Vk(p,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=_[1][2];var k=(a.names||[])[m-1]||(a[0]||[])[m],E=k?k.Name:"SH33TJSNAME"+String(m);E&&E.slice(0,6)=="_xlfn."&&!s.xlfn&&(E=E.slice(6)),c.push(E);break;case"PtgNameX":var C=_[1][1];m=_[1][2];var O;if(s.biff<=5)C<0&&(C=-C),a[C]&&(O=a[C][m]);else{var D="";if(((a[C]||[])[0]||[])[0]==14849||(((a[C]||[])[0]||[])[0]==1025?a[C][m]&&a[C][m].itab>0&&(D=a.SheetNames[a[C][m].itab-1]+"!"):D=a.SheetNames[m-1]+"!"),a[C]&&a[C][m])D+=a[C][m].Name;else if(a[0]&&a[0][m])D+=a[0][m].Name;else{var T=(IK(a,C,s)||"").split(";;");T[m-1]?D=T[m-1]:D+="SH33TJSERRX"}c.push(D);break}O||(O={Name:"SH33TJSERRY"}),c.push(O.Name);break;case"PtgParen":var z="(",q=")";if(g>=0){switch(x="",e[0][g][1][0]){case 2:z=on(" ",e[0][g][1][1])+z;break;case 3:z=on("\r",e[0][g][1][1])+z;break;case 4:q=on(" ",e[0][g][1][1])+q;break;case 5:q=on("\r",e[0][g][1][1])+q;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}c.push(z+c.pop()+q);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":f={c:_[1][1],r:_[1][0]};var F={c:n.c,r:n.r};if(a.sharedf[Mt(f)]){var I=a.sharedf[Mt(f)];c.push(Aa(I,o,F,a,s))}else{var V=!1;for(u=0;u!=a.arrayf.length;++u)if(d=a.arrayf[u],!(f.c<d[0].s.c||f.c>d[0].e.c)&&!(f.r<d[0].s.r||f.r>d[0].e.r)){c.push(Aa(d[1],o,F,a,s)),V=!0;break}V||c.push(_[1])}break;case"PtgArray":c.push("{"+Kje(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var L=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&g>=0&&L.indexOf(e[0][b][0])==-1){_=e[0][g];var M=!0;switch(_[1][0]){case 4:M=!1;case 0:x=on(" ",_[1][1]);break;case 5:M=!1;case 1:x=on("\r",_[1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}c.push((M?x:"")+c.pop()+(M?"":x)),g=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function Xje(e,r,n){var a=e.l+r,s=n.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],Ua(e,r-2)];var c=Wx(e,o,n);return r!==o+s&&(i=zx(e,r-o-s,c,n)),e.l=a,[c,i]}function Jje(e,r,n){var a=e.l+r,s=n.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],Ua(e,r-2)];var c=Wx(e,o,n);return r!==o+s&&(i=zx(e,r-o-s,c,n)),e.l=a,[c,i]}function Qje(e,r,n,a){var s=e.l+r,i=Wx(e,a,n),o;return s!==e.l&&(o=zx(e,s-e.l,i,n)),[i,o]}function Zje(e,r,n){var a=e.l+r,s,i=e.read_shift(2),o=Wx(e,i,n);return i==65535?[[],Ua(e,r-2)]:(r!==i+2&&(s=zx(e,a-i-2,o,n)),[o,s])}function eke(e){var r;if(tc(e,e.l+6)!==65535)return[Ra(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return r=e[e.l+2]===1,e.l+=8,[r,"b"];case 2:return r=e[e.l+2],e.l+=8,[r,"e"];case 3:return e.l+=8,["","s"]}return[]}function Hk(e,r,n){var a=e.l+r,s=Il(e);n.biff==2&&++e.l;var i=eke(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var c=Jje(e,a-e.l,n);return{cell:s,val:i[0],formula:c,shared:o>>3&1,tt:i[1]}}function vS(e,r,n){var a=e.read_shift(4),s=Wx(e,a,n),i=e.read_shift(4),o=i>0?zx(e,i,s,n):null;return[s,o]}var tke=vS,xS=vS,rke=vS,nke=vS,ake={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},MK={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ske={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function HF(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(r,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function qk(e){var r=e.split(":"),n=r[0].split(".")[0];return[n,r[0].split(".")[1]+(r.length>1?":"+(r[1].split(".")[1]||r[1].split(".")[0]):"")]}var _g={},um={};function Sg(e,r){if(e){var n=[.7,.7,.75,.75,.3,.3];r=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function FK(e,r,n,a,s,i){try{a.cellNF&&(e.z=Ut[r])}catch(c){if(a.WTF)throw c}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ta(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(Ut[r]==null&&rf(iwe[r]||"General",r),e.t==="e")e.w=e.w||Wf[e.v];else if(r===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=fv(e.v);else if(e.t==="d"){var o=fs(e.v);(o|0)===o?e.w=o.toString(10):e.w=fv(o)}else{if(e.v===void 0)return"";e.w=Sf(e.v,um)}else e.t==="d"?e.w=Wi(r,fs(e.v),um):e.w=Wi(r,e.v,um)}catch(c){if(a.WTF)throw c}if(a.cellStyles&&n!=null)try{e.s=i.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Q1(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Q1(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(c){if(a.WTF&&i.Fills)throw c}}}function ike(e,r){var n=un(r);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=nr(n))}var oke=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,lke=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,cke=/<(?:\w:)?hyperlink [^>]*>/mg,uke=/"(\w*:\w*)"/,dke=/<(?:\w:)?col\b[^>]*[\/]?>/g,fke=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,hke=/<(?:\w:)?pageMargins[^>]*\/>/g,LK=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,mke=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,pke=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function gke(e,r,n,a,s,i,o){if(!e)return e;a||(a={"!id":{}});var c=r.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",f="",h=e.match(lke);h?(d=e.slice(0,h.index),f=e.slice(h.index+h[0].length)):d=f=e;var m=d.match(LK);m?yP(m[0],c,s,n):(m=d.match(mke))&&vke(m[0],m[1]||"",c,s,n);var p=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=d.slice(p,p+50).match(uke);v&&ike(c,v[1])}var g=d.match(pke);g&&g[1]&&Ske(g[1],s);var x=[];if(r.cellStyles){var b=d.match(dke);b&&wke(x,b)}h&&jke(h[1],c,r,u,i,o);var w=f.match(fke);w&&(c["!autofilter"]=bke(w[0]));var _=[],S=f.match(oke);if(S)for(p=0;p!=S.length;++p)_[p]=un(S[p].slice(S[p].indexOf('"')+1));var j=f.match(cke);j&&xke(c,j,a);var N=f.match(hke);if(N&&(c["!margins"]=yke(Ot(N[0]))),!c["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(c["!ref"]=nr(u)),r.sheetRows>0&&c["!ref"]){var k=un(c["!ref"]);r.sheetRows<=+k.e.r&&(k.e.r=r.sheetRows-1,k.e.r>u.e.r&&(k.e.r=u.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>u.e.c&&(k.e.c=u.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),c["!fullref"]=c["!ref"],c["!ref"]=nr(k))}return x.length>0&&(c["!cols"]=x),_.length>0&&(c["!merges"]=_),c}function yP(e,r,n,a){var s=Ot(e);n.Sheets[a]||(n.Sheets[a]={}),s.codeName&&(n.Sheets[a].CodeName=lr(Fr(s.codeName)))}function vke(e,r,n,a,s){yP(e.slice(0,e.indexOf(">")),n,a,s)}function xke(e,r,n){for(var a=Array.isArray(e),s=0;s!=r.length;++s){var i=Ot(Fr(r[s]),!0);if(!i.ref)return;var o=((n||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+lr(i.location))):(i.Target="#"+lr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var c=un(i.ref),u=c.s.r;u<=c.e.r;++u)for(var d=c.s.c;d<=c.e.c;++d){var f=Mt({c:d,r:u});a?(e[u]||(e[u]=[]),e[u][d]||(e[u][d]={t:"z",v:void 0}),e[u][d].l=i):(e[f]||(e[f]={t:"z",v:void 0}),e[f].l=i)}}}function yke(e){var r={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(r[n]=parseFloat(e[n]))}),r}function wke(e,r){for(var n=!1,a=0;a!=r.length;++a){var s=Ot(r[a],!0);s.hidden&&(s.hidden=Kr(s.hidden));var i=parseInt(s.min,10)-1,o=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!n&&s.width&&(n=!0,vP(s.width)),Xm(s);i<=o;)e[i++]=fa(s)}}function bke(e){var r={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return r}var _ke=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Ske(e,r){r.Views||(r.Views=[{}]),(e.match(_ke)||[]).forEach(function(n,a){var s=Ot(n);r.Views[a]||(r.Views[a]={}),+s.zoomScale&&(r.Views[a].zoom=+s.zoomScale),Kr(s.rightToLeft)&&(r.Views[a].RTL=!0)})}var jke=function(){var e=/<(?:\w+:)?c[ \/>]/,r=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=hv("v"),o=hv("f");return function(u,d,f,h,m,p){for(var v=0,g="",x=[],b=[],w=0,_=0,S=0,j="",N,k,E=0,C=0,O,D,T=0,z=0,q=Array.isArray(p.CellXf),F,I=[],V=[],L=Array.isArray(d),M=[],Y={},Z=!1,A=!!f.sheetStubs,X=u.split(r),U=0,H=X.length;U!=H;++U){g=X[U].trim();var ae=g.length;if(ae!==0){var oe=0;e:for(v=0;v<ae;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(f&&f.cellStyles){if(k=Ot(g.slice(oe,v),!0),E=k.r!=null?parseInt(k.r,10):E+1,C=-1,f.sheetRows&&f.sheetRows<E)continue;Y={},Z=!1,k.ht&&(Z=!0,Y.hpt=parseFloat(k.ht),Y.hpx=vv(Y.hpt)),k.hidden=="1"&&(Z=!0,Y.hidden=!0),k.outlineLevel!=null&&(Z=!0,Y.level=+k.outlineLevel),Z&&(M[E-1]=Y)}break;case"<":oe=v;break}if(oe>=v)break;if(k=Ot(g.slice(oe,v),!0),E=k.r!=null?parseInt(k.r,10):E+1,C=-1,!(f.sheetRows&&f.sheetRows<E)){h.s.r>E-1&&(h.s.r=E-1),h.e.r<E-1&&(h.e.r=E-1),f&&f.cellStyles&&(Y={},Z=!1,k.ht&&(Z=!0,Y.hpt=parseFloat(k.ht),Y.hpx=vv(Y.hpt)),k.hidden=="1"&&(Z=!0,Y.hidden=!0),k.outlineLevel!=null&&(Z=!0,Y.level=+k.outlineLevel),Z&&(M[E-1]=Y)),x=g.slice(v).split(e);for(var we=0;we!=x.length&&x[we].trim().charAt(0)=="<";++we);for(x=x.slice(we),v=0;v!=x.length;++v)if(g=x[v].trim(),g.length!==0){if(b=g.match(n),w=v,_=0,S=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,b!=null&&b.length===2){for(w=0,j=b[1],_=0;_!=j.length&&!((S=j.charCodeAt(_)-64)<1||S>26);++_)w=26*w+S;--w,C=w}else++C;for(_=0;_!=g.length&&g.charCodeAt(_)!==62;++_);if(++_,k=Ot(g.slice(0,_),!0),k.r||(k.r=Mt({r:E-1,c:C})),j=g.slice(_),N={t:""},(b=j.match(i))!=null&&b[1]!==""&&(N.v=lr(b[1])),f.cellFormula){if((b=j.match(o))!=null&&b[1]!==""){if(N.f=lr(Fr(b[1])).replace(/\r\n/g,`
`),f.xlfn||(N.f=UF(N.f)),b[0].indexOf('t="array"')>-1)N.F=(j.match(s)||[])[1],N.F.indexOf(":")>-1&&I.push([un(N.F),N.F]);else if(b[0].indexOf('t="shared"')>-1){D=Ot(b[0]);var se=lr(Fr(b[1]));f.xlfn||(se=UF(se)),V[parseInt(D.si,10)]=[D,se,k.r]}}else(b=j.match(/<f[^>]*\/>/))&&(D=Ot(b[0]),V[D.si]&&(N.f=ISe(V[D.si][1],V[D.si][2],k.r)));var Q=ss(k.r);for(_=0;_<I.length;++_)Q.r>=I[_][0].s.r&&Q.r<=I[_][0].e.r&&Q.c>=I[_][0].s.c&&Q.c<=I[_][0].e.c&&(N.F=I[_][1])}if(k.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(A)N.t="z";else continue;else N.t=k.t||"n";switch(h.s.c>C&&(h.s.c=C),h.e.c<C&&(h.e.c=C),N.t){case"n":if(N.v==""||N.v==null){if(!A)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!A)continue;N.t="z"}else O=_g[parseInt(N.v,10)],N.v=O.t,N.r=O.r,f.cellHTML&&(N.h=O.h);break;case"str":N.t="s",N.v=N.v!=null?Fr(N.v):"",f.cellHTML&&(N.h=iP(N.v));break;case"inlineStr":b=j.match(a),N.t="s",b!=null&&(O=gP(b[1]))?(N.v=O.t,f.cellHTML&&(N.h=O.h)):N.v="";break;case"b":N.v=Kr(N.v);break;case"d":f.cellDates?N.v=ta(N.v,1):(N.v=fs(ta(N.v,1)),N.t="n");break;case"e":(!f||f.cellText!==!1)&&(N.w=N.v),N.v=sK[N.v];break}if(T=z=0,F=null,q&&k.s!==void 0&&(F=p.CellXf[k.s],F!=null&&(F.numFmtId!=null&&(T=F.numFmtId),f.cellStyles&&F.fillId!=null&&(z=F.fillId))),FK(N,T,z,f,m,p),f.cellDates&&q&&N.t=="n"&&qp(Ut[T])&&(N.t="d",N.v=pS(N.v)),k.cm&&f.xlmeta){var he=(f.xlmeta.Cell||[])[+k.cm-1];he&&he.type=="XLDAPR"&&(N.D=!0)}if(L){var P=ss(k.r);d[P.r]||(d[P.r]=[]),d[P.r][P.c]=N}else d[k.r]=N}}}}M.length>0&&(d["!rows"]=M)}}();function kke(e,r){var n={},a=e.l+r;n.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=s/20),n}var Nke=zf;function Eke(){}function Cke(e,r){var n={},a=e[e.l];return++e.l,n.above=!(a&64),n.left=!(a&128),e.l+=18,n.name=Xwe(e),n}function Tke(e){var r=Ki(e);return[r]}function Ake(e){var r=Vf(e);return[r]}function Oke(e){var r=Ki(e),n=e.read_shift(1);return[r,n,"b"]}function Pke(e){var r=Vf(e),n=e.read_shift(1);return[r,n,"b"]}function Dke(e){var r=Ki(e),n=e.read_shift(1);return[r,n,"e"]}function Rke(e){var r=Vf(e),n=e.read_shift(1);return[r,n,"e"]}function Ike(e){var r=Ki(e),n=e.read_shift(4);return[r,n,"s"]}function Mke(e){var r=Vf(e),n=e.read_shift(4);return[r,n,"s"]}function Fke(e){var r=Ki(e),n=Ra(e);return[r,n,"n"]}function $K(e){var r=Vf(e),n=Ra(e);return[r,n,"n"]}function Lke(e){var r=Ki(e),n=hP(e);return[r,n,"n"]}function $ke(e){var r=Vf(e),n=hP(e);return[r,n,"n"]}function Bke(e){var r=Ki(e),n=dP(e);return[r,n,"is"]}function Uke(e){var r=Ki(e),n=Fa(e);return[r,n,"str"]}function Vke(e){var r=Vf(e),n=Fa(e);return[r,n,"str"]}function zke(e,r,n){var a=e.l+r,s=Ki(e);s.r=n["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(n.cellFormula){e.l+=2;var c=xS(e,a-e.l,n);o[3]=Aa(c,null,s,n.supbooks,n)}else e.l=a;return o}function Wke(e,r,n){var a=e.l+r,s=Ki(e);s.r=n["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(n.cellFormula){e.l+=2;var c=xS(e,a-e.l,n);o[3]=Aa(c,null,s,n.supbooks,n)}else e.l=a;return o}function Hke(e,r,n){var a=e.l+r,s=Ki(e);s.r=n["!row"];var i=Ra(e),o=[s,i,"n"];if(n.cellFormula){e.l+=2;var c=xS(e,a-e.l,n);o[3]=Aa(c,null,s,n.supbooks,n)}else e.l=a;return o}function qke(e,r,n){var a=e.l+r,s=Ki(e);s.r=n["!row"];var i=Fa(e),o=[s,i,"str"];if(n.cellFormula){e.l+=2;var c=xS(e,a-e.l,n);o[3]=Aa(c,null,s,n.supbooks,n)}else e.l=a;return o}var Kke=zf;function Gke(e,r){var n=e.l+r,a=zf(e),s=fP(e),i=Fa(e),o=Fa(e),c=Fa(e);e.l=n;var u={rfx:a,relId:s,loc:i,display:c};return o&&(u.Tooltip=o),u}function Yke(){}function Xke(e,r,n){var a=e.l+r,s=rK(e),i=e.read_shift(1),o=[s];if(o[2]=i,n.cellFormula){var c=tke(e,a-e.l,n);o[1]=c}else e.l=a;return o}function Jke(e,r,n){var a=e.l+r,s=zf(e),i=[s];if(n.cellFormula){var o=nke(e,a-e.l,n);i[1]=o,e.l=a}else e.l=a;return i}var Qke=["left","right","top","bottom","header","footer"];function Zke(e){var r={};return Qke.forEach(function(n){r[n]=Ra(e)}),r}function eNe(e){var r=e.read_shift(2);return e.l+=28,{RTL:r&32}}function tNe(){}function rNe(){}function nNe(e,r,n,a,s,i,o){if(!e)return e;var c=r||{};a||(a={"!id":{}});var u=c.dense?[]:{},d,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,p,v,g,x,b,w,_,S,j,N=[];c.biff=12,c["!row"]=0;var k=0,E=!1,C=[],O={},D=c.supbooks||s.supbooks||[[]];if(D.sharedf=O,D.arrayf=C,D.SheetNames=s.SheetNames||s.Sheets.map(function(L){return L.name}),!c.supbooks&&(c.supbooks=D,s.Names))for(var T=0;T<s.Names.length;++T)D[0][T+1]=s.Names[T];var z=[],q=[],F=!1;tb[16]={n:"BrtShortReal",f:$K};var I;if(Tc(e,function(M,Y,Z){if(!m)switch(Z){case 148:d=M;break;case 0:p=M,c.sheetRows&&c.sheetRows<=p.r&&(m=!0),S=ha(x=p.r),c["!row"]=p.r,(M.hidden||M.hpt||M.level!=null)&&(M.hpt&&(M.hpx=vv(M.hpt)),q[M.r]=M);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:M[2]},M[2]){case"n":v.v=M[1];break;case"s":_=_g[M[1]],v.v=_.t,v.r=_.r;break;case"b":v.v=!!M[1];break;case"e":v.v=M[1],c.cellText!==!1&&(v.w=Wf[v.v]);break;case"str":v.t="s",v.v=M[1];break;case"is":v.t="s",v.v=M[1].t;break}if((g=o.CellXf[M[0].iStyleRef])&&FK(v,g.numFmtId,null,c,i,o),b=M[0].c==-1?b+1:M[0].c,c.dense?(u[x]||(u[x]=[]),u[x][b]=v):u[Wn(b)+S]=v,c.cellFormula){for(E=!1,k=0;k<C.length;++k){var A=C[k];p.r>=A[0].s.r&&p.r<=A[0].e.r&&b>=A[0].s.c&&b<=A[0].e.c&&(v.F=nr(A[0]),E=!0)}!E&&M.length>3&&(v.f=M[3])}if(f.s.r>p.r&&(f.s.r=p.r),f.s.c>b&&(f.s.c=b),f.e.r<p.r&&(f.e.r=p.r),f.e.c<b&&(f.e.c=b),c.cellDates&&g&&v.t=="n"&&qp(Ut[g.numFmtId])){var X=Fd(v.v);X&&(v.t="d",v.v=new Date(X.y,X.m-1,X.d,X.H,X.M,X.S,X.u))}I&&(I.type=="XLDAPR"&&(v.D=!0),I=void 0);break;case 1:case 12:if(!c.sheetStubs||h)break;v={t:"z",v:void 0},b=M[0].c==-1?b+1:M[0].c,c.dense?(u[x]||(u[x]=[]),u[x][b]=v):u[Wn(b)+S]=v,f.s.r>p.r&&(f.s.r=p.r),f.s.c>b&&(f.s.c=b),f.e.r<p.r&&(f.e.r=p.r),f.e.c<b&&(f.e.c=b),I&&(I.type=="XLDAPR"&&(v.D=!0),I=void 0);break;case 176:N.push(M);break;case 49:I=((c.xlmeta||{}).Cell||[])[M-1];break;case 494:var U=a["!id"][M.relId];for(U?(M.Target=U.Target,M.loc&&(M.Target+="#"+M.loc),M.Rel=U):M.relId==""&&(M.Target="#"+M.loc),x=M.rfx.s.r;x<=M.rfx.e.r;++x)for(b=M.rfx.s.c;b<=M.rfx.e.c;++b)c.dense?(u[x]||(u[x]=[]),u[x][b]||(u[x][b]={t:"z",v:void 0}),u[x][b].l=M):(w=Mt({c:b,r:x}),u[w]||(u[w]={t:"z",v:void 0}),u[w].l=M);break;case 426:if(!c.cellFormula)break;C.push(M),j=c.dense?u[x][b]:u[Wn(b)+S],j.f=Aa(M[1],f,{r:p.r,c:b},D,c),j.F=nr(M[0]);break;case 427:if(!c.cellFormula)break;O[Mt(M[0].s)]=M[1],j=c.dense?u[x][b]:u[Wn(b)+S],j.f=Aa(M[1],f,{r:p.r,c:b},D,c);break;case 60:if(!c.cellStyles)break;for(;M.e>=M.s;)z[M.e--]={width:M.w/256,hidden:!!(M.flags&1),level:M.level},F||(F=!0,vP(M.w/256)),Xm(z[M.e+1]);break;case 161:u["!autofilter"]={ref:nr(M)};break;case 476:u["!margins"]=M;break;case 147:s.Sheets[n]||(s.Sheets[n]={}),M.name&&(s.Sheets[n].CodeName=M.name),(M.above||M.left)&&(u["!outline"]={above:M.above,left:M.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),M.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!Y.T){if(!h||c.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},c),delete c.supbooks,delete c["!row"],!u["!ref"]&&(f.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(u["!ref"]=nr(d||f)),c.sheetRows&&u["!ref"]){var V=un(u["!ref"]);c.sheetRows<=+V.e.r&&(V.e.r=c.sheetRows-1,V.e.r>f.e.r&&(V.e.r=f.e.r),V.e.r<V.s.r&&(V.s.r=V.e.r),V.e.c>f.e.c&&(V.e.c=f.e.c),V.e.c<V.s.c&&(V.s.c=V.e.c),u["!fullref"]=u["!ref"],u["!ref"]=nr(V))}return N.length>0&&(u["!merges"]=N),z.length>0&&(u["!cols"]=z),q.length>0&&(u["!rows"]=q),u}function aNe(e){var r=[],n=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(r[+o[1]]=n?+o[2]:o[2])});var s=lr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[r,s,a]}function sNe(e,r,n,a,s,i){var o=i||{"!type":"chart"};if(!e)return i;var c=0,u=0,d="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=aNe(h);f.s.r=f.s.c=0,f.e.c=c,d=Wn(c),m[0].forEach(function(p,v){o[d+ha(v)]={t:"n",v:p,z:m[1]},u=v}),f.e.r<u&&(f.e.r=u),++c}),c>0&&(o["!ref"]=nr(f)),o}function iNe(e,r,n,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,c=e.match(LK);return c&&yP(c[0],i,s,n),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function oNe(e,r){e.l+=10;var n=Fa(e);return{name:n}}function lNe(e,r,n,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Tc(e,function(u,d,f){switch(f){case 550:i["!rel"]=u;break;case 651:s.Sheets[n]||(s.Sheets[n]={}),u.name&&(s.Sheets[n].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||r.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},r),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var BK=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],cNe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],uNe=[],dNe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function qF(e,r){for(var n=0;n!=e.length;++n)for(var a=e[n],s=0;s!=r.length;++s){var i=r[s];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=Kr(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function KF(e,r){for(var n=0;n!=r.length;++n){var a=r[n];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Kr(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function UK(e){KF(e.WBProps,BK),KF(e.CalcPr,dNe),qF(e.WBView,cNe),qF(e.Sheets,uNe),um.date1904=Kr(e.WBProps.date1904)}var fNe="][*?/\\".split("");function hNe(e,r){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return fNe.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var mNe=/<\w+:workbook/;function pNe(e,r){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,s="xmlns",i={},o=0;if(e.replace(Wa,function(u,d){var f=Ot(u);switch(Rl(f[0])){case"<?xml":break;case"<workbook":u.match(mNe)&&(s="xmlns"+u.match(/<(\w+):/)[1]),n.xmlns=f[s];break;case"</workbook>":break;case"<fileVersion":delete f[0],n.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":BK.forEach(function(h){if(f[h[0]]!=null)switch(h[2]){case"bool":n.WBProps[h[0]]=Kr(f[h[0]]);break;case"int":n.WBProps[h[0]]=parseInt(f[h[0]],10);break;default:n.WBProps[h[0]]=f[h[0]]}}),f.codeName&&(n.WBProps.CodeName=Fr(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],n.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=lr(Fr(f.name)),delete f[0],n.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=Fr(f.name),f.comment&&(i.Comment=f.comment),f.localSheetId&&(i.Sheet=+f.localSheetId),Kr(f.hidden||"0")&&(i.Hidden=!0),o=d+u.length;break;case"</definedName>":i.Ref=lr(Fr(e.slice(o,d))),n.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete f[0],n.CalcPr=f;break;case"<calcPr/>":delete f[0],n.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&r.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return u}),Dwe.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return UK(n),n}function gNe(e,r){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=TE(e),n.name=Fa(e),n}function vNe(e,r){var n={},a=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var s=r>8?Fa(e):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(a&65536),n.backupFile=!!(a&64),n.checkCompatibility=!!(a&4096),n.date1904=!!(a&1),n.filterPrivacy=!!(a&8),n.hidePivotFieldList=!!(a&1024),n.promptedSolutions=!!(a&16),n.publishItems=!!(a&2048),n.refreshAllConnections=!!(a&262144),n.saveExternalLinkValues=!!(a&128),n.showBorderUnselectedTables=!!(a&4),n.showInkAnnotation=!!(a&32),n.showObjects=["all","placeholders","none"][a>>13&3],n.showPivotChartFilter=!!(a&32768),n.updateLinks=["userSet","never","always"][a>>8&3],n}function xNe(e,r){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=r-8,n}function yNe(e,r,n){var a=e.l+r;e.l+=4,e.l+=1;var s=e.read_shift(4),i=Jwe(e),o=rke(e,0,n),c=fP(e);e.l=a;var u={Name:i,Ptg:o};return s<268435455&&(u.Sheet=s),c&&(u.Comment=c),u}function wNe(e,r){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],s=!1;r||(r={}),r.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],tb[16]={n:"BrtFRTArchID$",f:xNe},Tc(e,function(u,d,f){switch(f){case 156:o.SheetNames.push(u.name),n.Sheets.push(u);break;case 153:n.WBProps=u;break;case 39:u.Sheet!=null&&(r.SID=u.Sheet),u.Ref=Aa(u.Ptg,null,null,o,r),delete r.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([f,u]):o[0]=[f,u],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(u),o.XTI=o.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(f),s=!0;break;case 36:a.pop(),s=!1;break;case 37:a.push(f),s=!0;break;case 38:a.pop(),s=!1;break;case 16:break;default:if(!d.T){if(!s||r.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},r),UK(n),n.Names=i,n.supbooks=o,n}function bNe(e,r,n){return r.slice(-4)===".bin"?wNe(e,n):pNe(e,n)}function _Ne(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?nNe(e,a,n,s,i,o,c):gke(e,a,n,s,i,o,c)}function SNe(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?lNe(e,a,n,s,i):iNe(e,a,n,s,i)}function jNe(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?PSe():DSe()}function kNe(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?ASe():OSe()}function NNe(e,r,n,a){return r.slice(-4)===".bin"?K_e(e,n,a):U_e(e,n,a)}function ENe(e,r,n){return EK(e,n)}function CNe(e,r,n){return r.slice(-4)===".bin"?c_e(e,n):o_e(e,n)}function TNe(e,r,n){return r.slice(-4)===".bin"?ESe(e,n):_Se(e,n)}function ANe(e,r,n){return r.slice(-4)===".bin"?ySe(e):vSe(e)}function ONe(e,r,n,a){return n.slice(-4)===".bin"?wSe(e,r,n,a):void 0}function PNe(e,r,n){return r.slice(-4)===".bin"?pSe(e,r,n):gSe(e,r,n)}var VK=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,zK=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Zi(e,r){var n=e.split(/\s+/),a=[];if(a[0]=n[0],n.length===1)return a;var s=e.match(VK),i,o,c,u;if(s)for(u=0;u!=s.length;++u)i=s[u].match(zK),(o=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?c="xmlns"+i[1].slice(6):c=i[1].slice(o+1),a[c]=i[2].slice(1,i[2].length-1));return a}function DNe(e){var r=e.split(/\s+/),n={};if(r.length===1)return n;var a=e.match(VK),s,i,o,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(zK),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}var jg;function RNe(e,r){var n=jg[e]||lr(e);return n==="General"?Sf(r):Wi(n,r)}function INe(e,r,n,a){var s=a;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=Kr(a);break;case"i2":case"int":s=parseInt(a,10);break;case"r4":case"float":s=parseFloat(a);break;case"date":case"dateTime.tz":s=ta(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[lr(r)]=s}function MNe(e,r,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||Wf[e.v]:r==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=fv(e.v):e.w=Sf(e.v):e.w=RNe(r||"General",e.v)}catch(i){if(n.WTF)throw i}try{var a=jg[r]||r||"General";if(n.cellNF&&(e.z=a),n.cellDates&&e.t=="n"&&qp(a)){var s=Fd(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(n.WTF)throw i}}}function FNe(e,r,n){if(n.cellStyles&&r.Interior){var a=r.Interior;a.Pattern&&(a.patternType=I_e[a.Pattern]||a.Pattern)}e[r.ID]=r}function LNe(e,r,n,a,s,i,o,c,u,d){var f="General",h=a.StyleID,m={};d=d||{};var p=[],v=0;for(h===void 0&&c&&(h=c.StyleID),h===void 0&&o&&(h=o.StyleID);i[h]!==void 0&&(i[h].nf&&(f=i[h].nf),i[h].Interior&&p.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(n.Type){case"Boolean":a.t="b",a.v=Kr(e);break;case"String":a.t="s",a.r=pF(lr(e)),a.v=e.indexOf("<")>-1?lr(r||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(ta(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=lr(e):a.v<60&&(a.v=a.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=sK[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&r==""?a.t="z":(a.t="s",a.v=pF(r||e));break}if(MNe(a,f,d),d.cellFormula!==!1)if(a.Formula){var g=lr(a.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),a.f=cm(g,s),delete a.Formula,a.ArrayRange=="RC"?a.F=cm("RC:RC",s):a.ArrayRange&&(a.F=cm(a.ArrayRange,s),u.push([un(a.F),a.F]))}else for(v=0;v<u.length;++v)s.r>=u[v][0].s.r&&s.r<=u[v][0].e.r&&s.c>=u[v][0].s.c&&s.c<=u[v][0].e.c&&(a.F=u[v][1]);d.cellStyles&&(p.forEach(function(x){!m.patternType&&x.patternType&&(m.patternType=x.patternType)}),a.s=m),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function $Ne(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Kk(e,r){var n=r||{};Oq();var a=q0(oP(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(a=Fr(a));var s=a.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var o=fa(n);return o.type="string",pv.to_workbook(a,o)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(wt){s.indexOf("<"+wt)>=0&&(i=!0)}),i)return GNe(a,n);jg={"General Number":"General","General Date":Ut[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ut[15],"Short Date":Ut[14],"Long Time":Ut[19],"Medium Time":Ut[18],"Short Time":Ut[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ut[2],Standard:Ut[4],Percent:Ut[10],Scientific:Ut[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,u=[],d,f={},h=[],m=n.dense?[]:{},p="",v={},g={},x=Zi('<Data ss:Type="String">'),b=0,w=0,_=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},N={},k="",E=0,C=[],O={},D={},T=0,z=[],q=[],F={},I=[],V,L=!1,M=[],Y=[],Z={},A=0,X=0,U={Sheets:[],WBProps:{date1904:!1}},H={};mv.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";c=mv.exec(a);)switch(c[3]=(ae=c[3]).toLowerCase()){case"data":if(ae=="data"){if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break}if(u[u.length-1][1])break;c[1]==="/"?LNe(a.slice(b,c.index),k,x,u[u.length-1][0]=="comment"?F:v,{c:w,r:_},j,I[w],g,M,n):(k="",x=Zi(c[0]),b=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(q.length>0&&(v.c=q),(!n.sheetRows||n.sheetRows>_)&&v.v!==void 0&&(n.dense?(m[_]||(m[_]=[]),m[_][w]=v):m[Wn(w)+ha(_)]=v),v.HRef&&(v.l={Target:lr(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(A=w+(parseInt(v.MergeAcross,10)|0),X=_+(parseInt(v.MergeDown,10)|0),C.push({s:{c:w,r:_},e:{c:A,r:X}})),!n.sheetStubs)v.MergeAcross?w=A+1:++w;else if(v.MergeAcross||v.MergeDown){for(var oe=w;oe<=A;++oe)for(var we=_;we<=X;++we)(oe>w||we>_)&&(n.dense?(m[we]||(m[we]=[]),m[we][oe]={t:"z"}):m[Wn(oe)+ha(we)]={t:"z"});w=A+1}else++w;else v=DNe(c[0]),v.Index&&(w=+v.Index-1),w<S.s.c&&(S.s.c=w),w>S.e.c&&(S.e.c=w),c[0].slice(-2)==="/>"&&++w,q=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(_<S.s.r&&(S.s.r=_),_>S.e.r&&(S.e.r=_),c[0].slice(-2)==="/>"&&(g=Zi(c[0]),g.Index&&(_=+g.Index-1)),w=0,++_):(g=Zi(c[0]),g.Index&&(_=+g.Index-1),Z={},(g.AutoFitHeight=="0"||g.Height)&&(Z.hpx=parseInt(g.Height,10),Z.hpt=NK(Z.hpx),Y[_]=Z),g.Hidden=="1"&&(Z.hidden=!0,Y[_]=Z));break;case"worksheet":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));h.push(p),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(m["!ref"]=nr(S),n.sheetRows&&n.sheetRows<=S.e.r&&(m["!fullref"]=m["!ref"],S.e.r=n.sheetRows-1,m["!ref"]=nr(S))),C.length&&(m["!merges"]=C),I.length>0&&(m["!cols"]=I),Y.length>0&&(m["!rows"]=Y),f[p]=m}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=w=0,u.push([c[3],!1]),d=Zi(c[0]),p=lr(d.Name),m=n.dense?[]:{},C=[],M=[],Y=[],H={name:p,Hidden:0},U.Sheets.push(H);break;case"table":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;u.push([c[3],!1]),I=[],L=!1}break;case"style":c[1]==="/"?FNe(j,N,n):N=Zi(c[0]);break;case"numberformat":N.nf=lr(Zi(c[0]).Format||"General"),jg[N.nf]&&(N.nf=jg[N.nf]);for(var se=0;se!=392&&Ut[se]!=N.nf;++se);if(se==392){for(se=57;se!=392;++se)if(Ut[se]==null){rf(N.nf,se);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(V=Zi(c[0]),V.Hidden&&(V.hidden=!0,delete V.Hidden),V.Width&&(V.wpx=parseInt(V.Width,10)),!L&&V.wpx>10){L=!0,rs=jK;for(var Q=0;Q<I.length;++Q)I[Q]&&Xm(I[Q])}L&&Xm(V),I[V.Index-1||I.length]=V;for(var he=0;he<+V.Span;++he)I[I.length]=fa(V);break;case"namedrange":if(c[1]==="/")break;U.Names||(U.Names=[]);var P=Ot(c[0]),Le={Name:P.Name,Ref:cm(P.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(Le.Sheet=U.Sheets.length-1),U.Names.push(Le);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?k+=a.slice(E,c.index):E=c.index+c[0].length;break;case"interior":if(!n.cellStyles)break;N.Interior=Zi(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?_1e(O,ae,a.slice(T,c.index)):T=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else u.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));$Ne(F),q.push(F)}else u.push([c[3],!1]),d=Zi(c[0]),F={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var $e=Zi(c[0]);m["!autofilter"]={ref:cm($e.Range).replace(/\$/g,"")},u.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"null":break;default:if(u.length==0&&c[3]=="document"||u.length==0&&c[3]=="uof")return ZF(a,n);var Me=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Me=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Me=!1}break;case"excelworkbook":switch(c[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Me=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Me=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(a.slice(T,c.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else T=c.index+c[0].length;break;case"header":m["!margins"]||Sg(m["!margins"]={},"xlml"),isNaN(+Ot(c[0]).Margin)||(m["!margins"].header=+Ot(c[0]).Margin);break;case"footer":m["!margins"]||Sg(m["!margins"]={},"xlml"),isNaN(+Ot(c[0]).Margin)||(m["!margins"].footer=+Ot(c[0]).Margin);break;case"pagemargins":var He=Ot(c[0]);m["!margins"]||Sg(m["!margins"]={},"xlml"),isNaN(+He.Top)||(m["!margins"].top=+He.Top),isNaN(+He.Left)||(m["!margins"].left=+He.Left),isNaN(+He.Right)||(m["!margins"].right=+He.Right),isNaN(+He.Bottom)||(m["!margins"].bottom=+He.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Me=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Me=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Me=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Me=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Me=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Me=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Me=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Me=!1}break;case"smarttags":break;default:Me=!1;break}if(Me||c[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?INe(D,ae,z,a.slice(T,c.index)):(z=c,T=c.index+c[0].length);break}if(n.WTF)throw"Unrecognized tag: "+c[3]+"|"+u.join("|")}var De={};return!n.bookSheets&&!n.bookProps&&(De.Sheets=f),De.SheetNames=h,De.Workbook=U,De.SSF=fa(Ut),De.Props=O,De.Custprops=D,De}function DE(e,r){switch(_P(r=r||{}),r.type||"base64"){case"base64":return Kk(pi(e),r);case"binary":case"buffer":case"file":return Kk(e,r);case"array":return Kk(Uf(e),r)}}function BNe(e){var r={},n=e.content;if(n.l=28,r.AnsiUserType=n.read_shift(0,"lpstr-ansi"),r.AnsiClipboardFormat=e1e(n),n.length-n.l<=4)return r;var a=n.read_shift(4);if(a==0||a>40||(n.l-=4,r.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(a=n.read_shift(4),a!==1907505652)||(r.UnicodeClipboardFormat=t1e(n),a=n.read_shift(4),a==0||a>40))return r;n.l-=4,r.Reserved2=n.read_shift(0,"lpwstr")}var UNe=[60,1084,2066,2165,2175];function VNe(e,r,n,a,s){var i=a,o=[],c=n.slice(n.l,n.l+i);if(s&&s.enc&&s.enc.insitu&&c.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(c)}o.push(c),n.l+=i;for(var u=tc(n,n.l),d=RE[u],f=0;d!=null&&UNe.indexOf(u)>-1;)i=tc(n,n.l+2),f=n.l+4,u==2066?f+=4:(u==2165||u==2175)&&(f+=12),c=n.slice(f,n.l+4+i),o.push(c),n.l+=4+i,d=RE[u=tc(n,n.l)];var h=tu(o);ia(h,0);var m=0;h.lens=[];for(var p=0;p<o.length;++p)h.lens.push(m),m+=o[p].length;if(h.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+a;return r.f(h,h.length,s)}function qo(e,r,n){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,r.cellNF&&(e.z=Ut[a])}catch(i){if(r.WTF)throw i}if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Wf[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=fv(e.v):e.w=Sf(e.v):e.w=Wi(a,e.v,{date1904:!!n,dateNF:r&&r.dateNF})}catch(i){if(r.WTF)throw i}if(r.cellDates&&a&&e.t=="n"&&qp(Ut[a]||String(a))){var s=Fd(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function rw(e,r,n){return{v:e,ixfe:r,t:n}}function zNe(e,r){var n={opts:{}},a={},s=r.dense?[]:{},i={},o={},c=null,u=[],d="",f={},h,m="",p,v,g,x,b={},w=[],_,S,j=[],N=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},C=function(Te){return Te<8?nf[Te]:Te<64&&N[Te-8]||nf[Te]},O=function(Te,Fe,Ue){var Ve=Fe.XF.data;if(!(!Ve||!Ve.patternType||!Ue||!Ue.cellStyles)){Fe.s={},Fe.s.patternType=Ve.patternType;var ot;(ot=gv(C(Ve.icvFore)))&&(Fe.s.fgColor={rgb:ot}),(ot=gv(C(Ve.icvBack)))&&(Fe.s.bgColor={rgb:ot})}},D=function(Te,Fe,Ue){if(!(Z>1)&&!(Ue.sheetRows&&Te.r>=Ue.sheetRows)){if(Ue.cellStyles&&Fe.XF&&Fe.XF.data&&O(Te,Fe,Ue),delete Fe.ixfe,delete Fe.XF,h=Te,m=Mt(Te),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Te.r<o.s.r&&(o.s.r=Te.r),Te.c<o.s.c&&(o.s.c=Te.c),Te.r+1>o.e.r&&(o.e.r=Te.r+1),Te.c+1>o.e.c&&(o.e.c=Te.c+1),Ue.cellFormula&&Fe.f){for(var Ve=0;Ve<w.length;++Ve)if(!(w[Ve][0].s.c>Te.c||w[Ve][0].s.r>Te.r)&&!(w[Ve][0].e.c<Te.c||w[Ve][0].e.r<Te.r)){Fe.F=nr(w[Ve][0]),(w[Ve][0].s.c!=Te.c||w[Ve][0].s.r!=Te.r)&&delete Fe.f,Fe.f&&(Fe.f=""+Aa(w[Ve][1],o,Te,M,T));break}}Ue.dense?(s[Te.r]||(s[Te.r]=[]),s[Te.r][Te.c]=Fe):s[m]=Fe}},T={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!r&&!!r.cellStyles,WTF:!!r&&!!r.wtf};r.password&&(T.password=r.password);var z,q=[],F=[],I=[],V=[],L=!1,M=[];M.SheetNames=T.snames,M.sharedf=T.sharedf,M.arrayf=T.arrayf,M.names=[],M.XTI=[];var Y=0,Z=0,A=0,X=[],U=[],H;T.codepage=1200,bo(1200);for(var ae=!1;e.l<e.length-1;){var oe=e.l,we=e.read_shift(2);if(we===0&&Y===10)break;var se=e.l===e.length?0:e.read_shift(2),Q=RE[we];if(Q&&Q.f){if(r.bookSheets&&Y===133&&we!==133)break;if(Y=we,Q.r===2||Q.r==12){var he=e.read_shift(2);if(se-=2,!T.enc&&he!==we&&((he&255)<<8|he>>8)!==we)throw new Error("rt mismatch: "+he+"!="+we);Q.r==12&&(e.l+=10,se-=10)}var P={};if(we===10?P=Q.f(e,se,T):P=VNe(we,Q,e,se,T),Z==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(we){case 34:n.opts.Date1904=k.WBProps.date1904=P;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=P,!r.password)throw new Error("File is password-protected");if(P.valid==null)throw new Error("Encryption scheme unsupported");if(!P.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=P;break;case 66:var Le=Number(P);switch(Le){case 21010:Le=1200;break;case 32768:Le=1e4;break;case 32769:Le=1252;break}bo(T.codepage=Le),ae=!0;break;case 317:T.rrtabid=P;break;case 25:T.winlocked=P;break;case 439:n.opts.RefreshAll=P;break;case 12:n.opts.CalcCount=P;break;case 16:n.opts.CalcDelta=P;break;case 17:n.opts.CalcIter=P;break;case 13:n.opts.CalcMode=P;break;case 14:n.opts.CalcPrecision=P;break;case 95:n.opts.CalcSaveRecalc=P;break;case 15:T.CalcRefMode=P;break;case 2211:n.opts.FullCalc=P;break;case 129:P.fDialog&&(s["!type"]="dialog"),P.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),P.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:j.push(P);break;case 430:M.push([P]),M[M.length-1].XTI=[];break;case 35:case 547:M[M.length-1].push(P);break;case 24:case 536:H={Name:P.Name,Ref:Aa(P.rgce,o,null,M,T)},P.itab>0&&(H.Sheet=P.itab-1),M.names.push(H),M[0]||(M[0]=[],M[0].XTI=[]),M[M.length-1].push(P),P.Name=="_xlnm._FilterDatabase"&&P.itab>0&&P.rgce&&P.rgce[0]&&P.rgce[0][0]&&P.rgce[0][0][0]=="PtgArea3d"&&(U[P.itab-1]={ref:nr(P.rgce[0][0][1][2])});break;case 22:T.ExternCount=P;break;case 23:M.length==0&&(M[0]=[],M[0].XTI=[]),M[M.length-1].XTI=M[M.length-1].XTI.concat(P),M.XTI=M.XTI.concat(P);break;case 2196:if(T.biff<8)break;H!=null&&(H.Comment=P[1]);break;case 18:s["!protect"]=P;break;case 19:P!==0&&T.WTF&&console.error("Password verifier: "+P);break;case 133:i[P.pos]=P,T.snames.push(P.name);break;case 10:{if(--Z)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,s["!ref"]=nr(o),r.sheetRows&&r.sheetRows<=o.e.r){var $e=o.e.r;o.e.r=r.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=nr(o),o.e.r=$e}o.e.r++,o.e.c++}q.length>0&&(s["!merges"]=q),F.length>0&&(s["!objects"]=F),I.length>0&&(s["!cols"]=I),V.length>0&&(s["!rows"]=V),k.Sheets.push(E)}d===""?f=s:a[d]=s,s=r.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[we]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[P.BIFFVer]||8),T.biffguess=P.BIFFVer==0,P.BIFFVer==0&&P.dt==4096&&(T.biff=5,ae=!0,bo(T.codepage=28591)),T.biff==8&&P.BIFFVer==0&&P.dt==16&&(T.biff=2),Z++)break;if(s=r.dense?[]:{},T.biff<8&&!ae&&(ae=!0,bo(T.codepage=r.codepage||1252)),T.biff<5||P.BIFFVer==0&&P.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Me={pos:e.l-se,name:d};i[Me.pos]=Me,T.snames.push(d)}else d=(i[oe]||{name:""}).name;P.dt==32&&(s["!type"]="chart"),P.dt==64&&(s["!type"]="macro"),q=[],F=[],T.arrayf=w=[],I=[],V=[],L=!1,E={Hidden:(i[oe]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(r.dense?(s[P.r]||[])[P.c]:s[Mt({c:P.c,r:P.r})])&&++P.c,_={ixfe:P.ixfe,XF:j[P.ixfe]||{},v:P.val,t:"n"},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),D({c:P.c,r:P.r},_,r);break;case 5:case 517:_={ixfe:P.ixfe,XF:j[P.ixfe],v:P.val,t:P.t},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),D({c:P.c,r:P.r},_,r);break;case 638:_={ixfe:P.ixfe,XF:j[P.ixfe],v:P.rknum,t:"n"},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),D({c:P.c,r:P.r},_,r);break;case 189:for(var He=P.c;He<=P.C;++He){var De=P.rkrec[He-P.c][0];_={ixfe:De,XF:j[De],v:P.rkrec[He-P.c][1],t:"n"},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),D({c:He,r:P.r},_,r)}break;case 6:case 518:case 1030:{if(P.val=="String"){c=P;break}if(_=rw(P.val,P.cell.ixfe,P.tt),_.XF=j[_.ixfe],r.cellFormula){var wt=P.formula;if(wt&&wt[0]&&wt[0][0]&&wt[0][0][0]=="PtgExp"){var dt=wt[0][0][1][0],ie=wt[0][0][1][1],me=Mt({r:dt,c:ie});b[me]?_.f=""+Aa(P.formula,o,P.cell,M,T):_.F=((r.dense?(s[dt]||[])[ie]:s[me])||{}).F}else _.f=""+Aa(P.formula,o,P.cell,M,T)}A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),D(P.cell,_,r),c=P}break;case 7:case 519:if(c)c.val=P,_=rw(P,c.cell.ixfe,"s"),_.XF=j[_.ixfe],r.cellFormula&&(_.f=""+Aa(c.formula,o,c.cell,M,T)),A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),D(c.cell,_,r),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(P);var te=Mt(P[0].s);if(p=r.dense?(s[P[0].s.r]||[])[P[0].s.c]:s[te],r.cellFormula&&p){if(!c||!te||!p)break;p.f=""+Aa(P[1],o,P[0],M,T),p.F=nr(P[0])}}break;case 1212:{if(!r.cellFormula)break;if(m){if(!c)break;b[Mt(c.cell)]=P[0],p=r.dense?(s[c.cell.r]||[])[c.cell.c]:s[Mt(c.cell)],(p||{}).f=""+Aa(P[0],o,h,M,T)}}break;case 253:_=rw(u[P.isst].t,P.ixfe,"s"),u[P.isst].h&&(_.h=u[P.isst].h),_.XF=j[_.ixfe],A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),D({c:P.c,r:P.r},_,r);break;case 513:r.sheetStubs&&(_={ixfe:P.ixfe,XF:j[P.ixfe],t:"z"},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),D({c:P.c,r:P.r},_,r));break;case 190:if(r.sheetStubs)for(var _e=P.c;_e<=P.C;++_e){var Ce=P.ixfe[_e-P.c];_={ixfe:Ce,XF:j[Ce],t:"z"},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),D({c:_e,r:P.r},_,r)}break;case 214:case 516:case 4:_=rw(P.val,P.ixfe,"s"),_.XF=j[_.ixfe],A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),D({c:P.c,r:P.r},_,r);break;case 0:case 512:Z===1&&(o=P);break;case 252:u=P;break;case 1054:if(T.biff==4){X[A++]=P[1];for(var ye=0;ye<A+163&&Ut[ye]!=P[1];++ye);ye>=163&&rf(P[1],A+163)}else rf(P[1],P[0]);break;case 30:{X[A++]=P;for(var le=0;le<A+163&&Ut[le]!=P;++le);le>=163&&rf(P,A+163)}break;case 229:q=q.concat(P);break;case 93:F[P.cmo[0]]=T.lastobj=P;break;case 438:T.lastobj.TxO=P;break;case 127:T.lastobj.ImData=P;break;case 440:for(x=P[0].s.r;x<=P[0].e.r;++x)for(g=P[0].s.c;g<=P[0].e.c;++g)p=r.dense?(s[x]||[])[g]:s[Mt({c:g,r:x})],p&&(p.l=P[1]);break;case 2048:for(x=P[0].s.r;x<=P[0].e.r;++x)for(g=P[0].s.c;g<=P[0].e.c;++g)p=r.dense?(s[x]||[])[g]:s[Mt({c:g,r:x})],p&&p.l&&(p.l.Tooltip=P[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;p=r.dense?(s[P[0].r]||[])[P[0].c]:s[Mt(P[0])];var fe=F[P[2]];p||(r.dense?(s[P[0].r]||(s[P[0].r]=[]),p=s[P[0].r][P[0].c]={t:"z"}):p=s[Mt(P[0])]={t:"z"},o.e.r=Math.max(o.e.r,P[0].r),o.s.r=Math.min(o.s.r,P[0].r),o.e.c=Math.max(o.e.c,P[0].c),o.s.c=Math.min(o.s.c,P[0].c)),p.c||(p.c=[]),v={a:P[1],t:fe.TxO.t},p.c.push(v)}break;case 2173:dSe(j[P.ixfe],P.ext);break;case 125:{if(!T.cellStyles)break;for(;P.e>=P.s;)I[P.e--]={width:P.w/256,level:P.level||0,hidden:!!(P.flags&1)},L||(L=!0,vP(P.w/256)),Xm(I[P.e+1])}break;case 520:{var xe={};P.level!=null&&(V[P.r]=xe,xe.level=P.level),P.hidden&&(V[P.r]=xe,xe.hidden=!0),P.hpt&&(V[P.r]=xe,xe.hpt=P.hpt,xe.hpx=vv(P.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Sg(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[we]]=P;break;case 161:s["!margins"]||Sg(s["!margins"]={}),s["!margins"].header=P.header,s["!margins"].footer=P.footer;break;case 574:P.RTL&&(k.Views[0].RTL=!0);break;case 146:N=P;break;case 2198:z=P;break;case 140:S=P;break;case 442:d?E.CodeName=P||E.name:k.WBProps.CodeName=P||"ThisWorkbook";break}}else Q||console.error("Missing Info for XLS Record 0x"+we.toString(16)),e.l+=se}return n.SheetNames=Nl(i).sort(function(pe,Te){return Number(pe)-Number(Te)}).map(function(pe){return i[pe].name}),r.bookSheets||(n.Sheets=a),!n.SheetNames.length&&f["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=f)):n.Preamble=f,n.Sheets&&U.forEach(function(pe,Te){n.Sheets[n.SheetNames[Te]]["!autofilter"]=pe}),n.Strings=u,n.SSF=fa(Ut),T.enc&&(n.Encryption=T.enc),z&&(n.Themes=z),n.Metadata={},S!==void 0&&(n.Metadata.Country=S),M.names.length>0&&(k.Names=M.names),n.Workbook=k,n}var GF={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function WNe(e,r,n){var a=rr.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var s=OF(a,o1e,GF.DSI);for(var i in s)r[i]=s[i]}catch(d){if(n.WTF)throw d}var o=rr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var c=OF(o,l1e,GF.SI);for(var u in c)r[u]==null&&(r[u]=c[u])}catch(d){if(n.WTF)throw d}r.HeadingPairs&&r.TitlesOfParts&&(oK(r.HeadingPairs,r.TitlesOfParts,r,n),delete r.HeadingPairs,delete r.TitlesOfParts)}function WK(e,r){r||(r={}),_P(r),yq(),r.codepage&&eP(r.codepage);var n,a;if(e.FullPaths){if(rr.find(e,"/encryption"))throw new Error("File is password-protected");n=rr.find(e,"!CompObj"),a=rr.find(e,"/Workbook")||rr.find(e,"/Book")}else{switch(r.type){case"base64":e=vo(pi(e));break;case"binary":e=vo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ia(e,0),a={content:e}}var s,i;if(n&&BNe(n),r.bookProps&&!r.bookSheets)s={};else{var o=tr?"buffer":"array";if(a&&a.content)s=zNe(a.content,r);else if((i=rr.find(e,"PerfectOffice_MAIN"))&&i.content)s=bg.to_workbook(i.content,(r.type=o,r));else if((i=rr.find(e,"NativeContent_MAIN"))&&i.content)s=bg.to_workbook(i.content,(r.type=o,r));else throw(i=rr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");r.bookVBA&&e.FullPaths&&rr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=TSe(e))}var c={};return e.FullPaths&&WNe(e,c,r),s.Props=s.Custprops=c,r.bookFiles&&(s.cfb=e),s}var tb={0:{f:kke},1:{f:Tke},2:{f:Lke},3:{f:Dke},4:{f:Oke},5:{f:Fke},6:{f:Uke},7:{f:Ike},8:{f:qke},9:{f:Hke},10:{f:zke},11:{f:Wke},12:{f:Ake},13:{f:$ke},14:{f:Rke},15:{f:Pke},16:{f:$K},17:{f:Vke},18:{f:Mke},19:{f:dP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:yNe},40:{},42:{},43:{f:z_e},44:{f:V_e},45:{f:W_e},46:{f:q_e},47:{f:H_e},48:{},49:{f:Kwe},50:{},51:{f:hSe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:yK},62:{f:Bke},63:{f:xSe},64:{f:tNe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ua,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:eNe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Cke},148:{f:Nke,p:16},151:{f:Yke},152:{},153:{f:vNe},154:{},155:{},156:{f:gNe},157:{},158:{},159:{T:1,f:l_e},160:{T:-1},161:{T:1,f:zf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Kke},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:fSe},336:{T:-1},337:{f:mSe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:TE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:xK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Xke},427:{f:Jke},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Zke},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Eke},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Gke},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:TE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:NSe},633:{T:1},634:{T:-1},635:{T:1,f:kSe},636:{T:-1},637:{f:Ywe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:oNe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:rNe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},RE={6:{f:Hk},10:{f:Vc},12:{f:kn},13:{f:kn},14:{f:dn},15:{f:dn},16:{f:Ra},17:{f:dn},18:{f:dn},19:{f:kn},20:{f:IF},21:{f:IF},23:{f:xK},24:{f:FF},25:{f:dn},26:{},27:{},28:{f:Sbe},29:{},34:{f:dn},35:{f:MF},38:{f:Ra},39:{f:Ra},40:{f:Ra},41:{f:Ra},42:{f:dn},43:{f:dn},47:{f:E_e},49:{f:abe},51:{f:kn},60:{},61:{f:tbe},64:{f:dn},65:{f:nbe},66:{f:kn},77:{},80:{},81:{},82:{},85:{f:kn},89:{},90:{},91:{},92:{f:K1e},93:{f:kbe},94:{},95:{f:dn},96:{},97:{},99:{f:dn},125:{f:yK},128:{f:mbe},129:{f:G1e},130:{f:kn},131:{f:dn},132:{f:dn},133:{f:Y1e},134:{},140:{f:Obe},141:{f:kn},144:{},146:{f:Dbe},151:{},152:{},153:{},154:{},155:{},156:{f:kn},157:{},158:{},160:{f:Lbe},161:{f:Ibe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ube},190:{f:dbe},193:{f:Vc},197:{},198:{},199:{},200:{},201:{},202:{f:dn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:kn},220:{},221:{f:dn},222:{},224:{f:hbe},225:{f:q1e},226:{f:Vc},227:{},229:{f:jbe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:X1e},253:{f:sbe},255:{f:J1e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:fK},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:dn},353:{f:Vc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:gbe},431:{f:dn},432:{},433:{},434:{},437:{},438:{f:Cbe},439:{f:dn},440:{f:Tbe},441:{},442:{f:Ux},443:{},444:{f:kn},445:{},446:{},448:{f:Vc},449:{f:ebe,r:2},450:{f:Vc},512:{f:DF},513:{f:Fbe},515:{f:pbe},516:{f:ibe},517:{f:RF},519:{f:$be},520:{f:Q1e},523:{},545:{f:LF},549:{f:PF},566:{},574:{f:rbe},638:{f:cbe},659:{},1048:{},1054:{f:obe},1084:{},1212:{f:wbe},2048:{f:Abe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Zy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Vc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Rbe,r:12},2173:{f:uSe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:dn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:ybe,r:12},2197:{},2198:{f:aSe,r:12},2199:{},2200:{},2201:{},2202:{f:bbe,r:12},2203:{f:Vc},2204:{},2205:{},2206:{},2207:{},2211:{f:Z1e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:kn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Mbe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Pbe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:DF},1:{},2:{f:zbe},3:{f:Vbe},4:{f:Ube},5:{f:RF},7:{f:Wbe},8:{},9:{f:Zy},11:{},22:{f:kn},30:{f:lbe},31:{},32:{},33:{f:LF},36:{},37:{f:PF},50:{f:Hbe},62:{},52:{},67:{},68:{f:kn},69:{},86:{},126:{},127:{f:Bbe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:qbe},223:{},234:{},354:{},421:{},518:{f:Hk},521:{f:Zy},536:{f:FF},547:{f:MF},561:{},579:{},1030:{f:Hk},1033:{f:Zy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function eo(e,r,n,a){var s=r;if(!isNaN(s)){var i=(n||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&Zq(n)&&e.push(n)}}function YF(e,r){var n=r||{},a=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=s.index,c=i&&i.index||e.length,u=pwe(e.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,f=0,h=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<u.length;++o){var g=u[o].trim(),x=g.slice(0,3).toLowerCase();if(x=="<tr"){if(++d,n.sheetRows&&n.sheetRows<=d){--d;break}f=0;continue}if(!(x!="<td"&&x!="<th")){var b=g.split(/<\/t[dh]>/i);for(c=0;c<b.length;++c){var w=b[c].trim();if(w.match(/<t[dh]/i)){for(var _=w,S=0;_.charAt(0)=="<"&&(S=_.indexOf(">"))>-1;)_=_.slice(S+1);for(var j=0;j<v.length;++j){var N=v[j];N.s.c==f&&N.s.r<d&&d<=N.e.r&&(f=N.e.c+1,j=-1)}var k=Ot(w.slice(0,w.indexOf(">")));m=k.colspan?+k.colspan:1,((h=+k.rowspan)>1||m>1)&&v.push({s:{r:d,c:f},e:{r:d+(h||1)-1,c:f+m-1}});var E=k.t||k["data-t"]||"";if(!_.length){f+=m;continue}if(_=Bq(_),p.s.r>d&&(p.s.r=d),p.e.r<d&&(p.e.r=d),p.s.c>f&&(p.s.c=f),p.e.c<f&&(p.e.c=f),!_.length){f+=m;continue}var C={t:"s",v:_};n.raw||!_.trim().length||E=="s"||(_==="TRUE"?C={t:"b",v:!0}:_==="FALSE"?C={t:"b",v:!1}:isNaN(ko(_))?isNaN(Ym(_).getDate())||(C={t:"d",v:ta(_)},n.cellDates||(C={t:"n",v:fs(C.v)}),C.z=n.dateNF||Ut[14]):C={t:"n",v:ko(_)}),n.dense?(a[d]||(a[d]=[]),a[d][f]=C):a[Mt({r:d,c:f})]=C,f+=m}}}}return a["!ref"]=nr(p),v.length&&(a["!merges"]=v),a}function HNe(e,r,n,a){for(var s=e["!merges"]||[],i=[],o=r.s.c;o<=r.e.c;++o){for(var c=0,u=0,d=0;d<s.length;++d)if(!(s[d].s.r>n||s[d].s.c>o)&&!(s[d].e.r<n||s[d].e.c<o)){if(s[d].s.r<n||s[d].s.c<o){c=-1;break}c=s[d].e.r-s[d].s.r+1,u=s[d].e.c-s[d].s.c+1;break}if(!(c<0)){var f=Mt({r:n,c:o}),h=a.dense?(e[n]||[])[o]:e[f],m=h&&h.v!=null&&(h.h||iP(h.w||(_c(h),h.w)||""))||"",p={};c>1&&(p.rowspan=c),u>1&&(p.colspan=u),a.editable?m='<span contenteditable="true">'+m+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),p.id=(a.id||"sjs")+"-"+f,i.push(Owe("td",m,p))}}var v="<tr>";return v+i.join("")+"</tr>"}var qNe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',KNe="</body></html>";function GNe(e,r){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return rd(YF(n[0],r),r);var a=jP();return n.forEach(function(s,i){kP(a,YF(s,r),"Sheet"+(i+1))}),a}function YNe(e,r,n){var a=[];return a.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function XNe(e,r){var n=r||{},a=n.header!=null?n.header:qNe,s=n.footer!=null?n.footer:KNe,i=[a],o=Kp(e["!ref"]);n.dense=Array.isArray(e),i.push(YNe(e,o,n));for(var c=o.s.r;c<=o.e.r;++c)i.push(HNe(e,o,c,n));return i.push("</table>"+s),i.join("")}function HK(e,r,n){var a=n||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?ss(a.origin):a.origin;s=o.r,i=o.c}var c=r.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var f=Kp(e["!ref"]);d.s.r=Math.min(d.s.r,f.s.r),d.s.c=Math.min(d.s.c,f.s.c),d.e.r=Math.max(d.e.r,f.e.r),d.e.c=Math.max(d.e.c,f.e.c),s==-1&&(d.e.r=s=f.e.r+1)}var h=[],m=0,p=e["!rows"]||(e["!rows"]=[]),v=0,g=0,x=0,b=0,w=0,_=0;for(e["!cols"]||(e["!cols"]=[]);v<c.length&&g<u;++v){var S=c[v];if(XF(S)){if(a.display)continue;p[g]={hidden:!0}}var j=S.children;for(x=b=0;x<j.length;++x){var N=j[x];if(!(a.display&&XF(N))){var k=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):Bq(N.innerHTML),E=N.getAttribute("data-z")||N.getAttribute("z");for(m=0;m<h.length;++m){var C=h[m];C.s.c==b+i&&C.s.r<g+s&&g+s<=C.e.r&&(b=C.e.c+1-i,m=-1)}_=+N.getAttribute("colspan")||1,((w=+N.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:g+s,c:b+i},e:{r:g+s+(w||1)-1,c:b+i+(_||1)-1}});var O={t:"s",v:k},D=N.getAttribute("data-t")||N.getAttribute("t")||"";k!=null&&(k.length==0?O.t=D||"z":a.raw||k.trim().length==0||D=="s"||(k==="TRUE"?O={t:"b",v:!0}:k==="FALSE"?O={t:"b",v:!1}:isNaN(ko(k))?isNaN(Ym(k).getDate())||(O={t:"d",v:ta(k)},a.cellDates||(O={t:"n",v:fs(O.v)}),O.z=a.dateNF||Ut[14]):O={t:"n",v:ko(k)})),O.z===void 0&&E!=null&&(O.z=E);var T="",z=N.getElementsByTagName("A");if(z&&z.length)for(var q=0;q<z.length&&!(z[q].hasAttribute("href")&&(T=z[q].getAttribute("href"),T.charAt(0)!="#"));++q);T&&T.charAt(0)!="#"&&(O.l={Target:T}),a.dense?(e[g+s]||(e[g+s]=[]),e[g+s][b+i]=O):e[Mt({c:b+i,r:g+s})]=O,d.e.c<b+i&&(d.e.c=b+i),b+=_}}++g}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,g-1+s),e["!ref"]=nr(d),g>=u&&(e["!fullref"]=nr((d.e.r=c.length-v+g-1+s,d))),e}function qK(e,r){var n=r||{},a=n.dense?[]:{};return HK(a,e,r)}function JNe(e,r){return rd(qK(e,r),r)}function XF(e){var r="",n=QNe(e);return n&&(r=n(e).getPropertyValue("display")),r||(r=e.style&&e.style.display),r==="none"}function QNe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function ZNe(e){var r=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=lr(r.replace(/<[^>]*>/g,""));return[n]}var JF={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function KK(e,r){var n=r||{},a=oP(e),s=[],i,o,c={name:""},u="",d=0,f,h,m={},p=[],v=n.dense?[]:{},g,x,b={value:""},w="",_=0,S=[],j=-1,N=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,C={},O=[],D={},T=0,z=0,q=[],F=1,I=1,V=[],L={Names:[]},M={},Y=["",""],Z=[],A={},X="",U=0,H=!1,ae=!1,oe=0;for(mv.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=mv.exec(a);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?v["!ref"]=nr(k):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=k.e.r&&(v["!fullref"]=v["!ref"],k.e.r=n.sheetRows-1,v["!ref"]=nr(k)),O.length&&(v["!merges"]=O),q.length&&(v["!rows"]=q),f.name=f.||f.name,typeof JSON<"u"&&JSON.stringify(f),p.push(f.name),m[f.name]=v,ae=!1):g[0].charAt(g[0].length-2)!=="/"&&(f=Ot(g[0],!1),j=N=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,v=n.dense?[]:{},O=[],q=[],ae=!0);break;case"table-row-group":g[1]==="/"?--E:++E;break;case"table-row":case"":if(g[1]==="/"){j+=F,F=1;break}if(h=Ot(g[0],!1),h.?j=h.-1:j==-1&&(j=0),F=+h["number-rows-repeated"]||1,F<10)for(oe=0;oe<F;++oe)E>0&&(q[j+oe]={level:E});N=-1;break;case"covered-table-cell":g[1]!=="/"&&++N,n.sheetStubs&&(n.dense?(v[j]||(v[j]=[]),v[j][N]={t:"z"}):v[Mt({r:j,c:N})]={t:"z"}),w="",S=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++N,b=Ot(g[0],!1),I=parseInt(b["number-columns-repeated"]||"1",10),x={t:"z",v:null},b.formula&&n.cellFormula!=!1&&(x.f=HF(lr(b.formula))),(b.||b["value-type"])=="string"&&(x.t="s",x.v=lr(b["string-value"]||""),n.dense?(v[j]||(v[j]=[]),v[j][N]=x):v[Mt({r:j,c:N})]=x),N+=I-1;else if(g[1]!=="/"){++N,w="",_=0,S=[],I=1;var we=F?j+F-1:j;if(N>k.e.c&&(k.e.c=N),N<k.s.c&&(k.s.c=N),j<k.s.r&&(k.s.r=j),we>k.e.r&&(k.e.r=we),b=Ot(g[0],!1),Z=[],A={},x={t:b.||b["value-type"],v:null},n.cellFormula)if(b.formula&&(b.formula=lr(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(T=parseInt(b["number-matrix-rows-spanned"],10)||0,z=parseInt(b["number-matrix-columns-spanned"],10)||0,D={s:{r:j,c:N},e:{r:j+T-1,c:N+z-1}},x.F=nr(D),V.push([D,x.F])),b.formula)x.f=HF(b.formula);else for(oe=0;oe<V.length;++oe)j>=V[oe][0].s.r&&j<=V[oe][0].e.r&&N>=V[oe][0].s.c&&N<=V[oe][0].e.c&&(x.F=V[oe][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(T=parseInt(b["number-rows-spanned"],10)||0,z=parseInt(b["number-columns-spanned"],10)||0,D={s:{r:j,c:N},e:{r:j+T-1,c:N+z-1}},O.push(D)),b["number-columns-repeated"]&&(I=parseInt(b["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Kr(b["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(b.value);break;case"percentage":x.t="n",x.v=parseFloat(b.value);break;case"currency":x.t="n",x.v=parseFloat(b.value);break;case"date":x.t="d",x.v=ta(b["date-value"]),n.cellDates||(x.t="n",x.v=fs(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=fwe(b["time-value"])/86400,n.cellDates&&(x.t="d",x.v=pS(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(b.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",b["string-value"]!=null&&(w=lr(b["string-value"]),S=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(H=!1,x.t==="s"&&(x.v=w||"",S.length&&(x.R=S),H=_==0),M.Target&&(x.l=M),Z.length>0&&(x.c=Z,Z=[]),w&&n.cellText!==!1&&(x.w=w),H&&(x.t="z",delete x.v),(!H||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=j))for(var se=0;se<F;++se){if(I=parseInt(b["number-columns-repeated"]||"1",10),n.dense)for(v[j+se]||(v[j+se]=[]),v[j+se][N]=se==0?x:fa(x);--I>0;)v[j+se][N+I]=fa(x);else for(v[Mt({r:j+se,c:N})]=x;--I>0;)v[Mt({r:j+se,c:N+I})]=fa(x);k.e.c<=N&&(k.e.c=N)}I=parseInt(b["number-columns-repeated"]||"1",10),N+=I-1,I=0,x={},w="",S=[]}M={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i;A.t=w,S.length&&(A.R=S),A.a=X,Z.push(A)}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!1]);X="",U=0,w="",_=0,S=[];break;case"creator":g[1]==="/"?X=a.slice(U,g.index):U=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!1]);w="",_=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(C[c.name]=u,(i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(u="",c=Ot(g[0],!1),s.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Ot(g[0],!1),u+=JF[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Ot(g[0],!1),u+=JF[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":u+=a.slice(d,g.index);break}else d=g.index+g[0].length;break;case"named-range":o=Ot(g[0],!1),Y=qk(o["cell-range-address"]);var Q={Name:o.name,Ref:Y[0]+"!"+Y[1]};ae&&(Q.Sheet=p.length),L.Names.push(Q);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(g[1]==="/"&&(!b||!b["string-value"])){var he=ZNe(a.slice(_,g.index));w=(w.length>0?w+`
`:"")+he[0]}else Ot(g[0],!1),_=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Y=qk(Ot(g[0])["target-range-address"]),m[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(M=Ot(g[0],!1),!M.href)break;M.Target=lr(M.href),delete M.href,M.Target.charAt(0)=="#"&&M.Target.indexOf(".")>-1?(Y=qk(M.Target.slice(1)),M.Target="#"+Y[0]+"!"+Y[1]):M.Target.match(/^\.\.[\\\/]/)&&(M.Target=M.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(g)}}var P={Sheets:m,SheetNames:p,Workbook:L};return n.bookSheets&&delete P.Sheets,P}function QF(e,r){r=r||{},Ei(e,"META-INF/manifest.xml")&&p1e(jn(e,"META-INF/manifest.xml"),r);var n=ii(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var a=KK(Fr(n),r);return Ei(e,"meta.xml")&&(a.Props=iK(jn(e,"meta.xml"))),a}function ZF(e,r){return KK(e,r)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function wP(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function IE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Fr(Uf(e))}function ME(e){var r=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(r),a=0;return e.forEach(function(s){n.set(s,a),a+=s.length}),n}function e3(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function e2e(e,r){for(var n=(e[r+15]&127)<<7|e[r+14]>>1,a=e[r+14]&1,s=r+13;s>=r;--s)a=a*256+e[s];return(e[r+15]&128?-a:a)*Math.pow(10,n-6176)}function xv(e,r){var n=r?r[0]:0,a=e[n]&127;e:if(e[n++]>=128&&(a|=(e[n]&127)<<7,e[n++]<128||(a|=(e[n]&127)<<14,e[n++]<128)||(a|=(e[n]&127)<<21,e[n++]<128)||(a+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(a+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(a+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return r&&(r[0]=n),a}function qn(e){var r=0,n=e[r]&127;e:if(e[r++]>=128){if(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128))break e;n|=(e[r]&127)<<28}return n}function Ma(e){for(var r=[],n=[0];n[0]<e.length;){var a=n[0],s=xv(e,n),i=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(i){case 0:{for(var u=n[0];e[n[0]++]>=128;);c=e.slice(u,n[0])}break;case 5:o=4,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=xv(e,n),c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var d={data:c,type:i};r[s]==null?r[s]=[d]:r[s].push(d)}return r}function bP(e,r){return(e==null?void 0:e.map(function(n){return r(n.data)}))||[]}function t2e(e){for(var r,n=[],a=[0];a[0]<e.length;){var s=xv(e,a),i=Ma(e.slice(a[0],a[0]+s));a[0]+=s;var o={id:qn(i[1][0].data),messages:[]};i[2].forEach(function(c){var u=Ma(c.data),d=qn(u[3][0].data);o.messages.push({meta:u,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(r=i[3])!=null&&r[0]&&(o.merge=qn(i[3][0].data)>>>0>0),n.push(o)}return n}function r2e(e,r){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],a=xv(r,n),s=[];n[0]<r.length;){var i=r[n[0]]&3;if(i==0){var o=r[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=r[n[0]],c>1&&(o|=r[n[0]+1]<<8),c>2&&(o|=r[n[0]+2]<<16),c>3&&(o|=r[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}s.push(r.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var u=0,d=0;if(i==1?(d=(r[n[0]]>>2&7)+4,u=(r[n[0]++]&224)<<3,u|=r[n[0]++]):(d=(r[n[0]++]>>2)+1,i==2?(u=r[n[0]]|r[n[0]+1]<<8,n[0]+=2):(u=(r[n[0]]|r[n[0]+1]<<8|r[n[0]+2]<<16|r[n[0]+3]<<24)>>>0,n[0]+=4)),s=[ME(s)],u==0)throw new Error("Invalid offset 0");if(u>s[0].length)throw new Error("Invalid offset beyond length");if(d>=u)for(s.push(s[0].slice(-u)),d-=u;d>=s[s.length-1].length;)s.push(s[s.length-1]),d-=s[s.length-1].length;s.push(s[0].slice(-u,-u+d))}}var f=ME(s);if(f.length!=a)throw new Error("Unexpected length: ".concat(f.length," != ").concat(a));return f}function n2e(e){for(var r=[],n=0;n<e.length;){var a=e[n++],s=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,r.push(r2e(a,e.slice(n,n+s))),n+=s}if(n!==e.length)throw new Error("data is not a valid framed stream!");return ME(r)}function a2e(e,r,n,a){var s=wP(e),i=s.getUint32(4,!0),o=(a>1?12:8)+e3(i&(a>1?3470:398))*4,c=-1,u=-1,d=NaN,f=new Date(2001,0,1);i&512&&(c=s.getUint32(o,!0),o+=4),o+=e3(i&(a>1?12288:4096))*4,i&16&&(u=s.getUint32(o,!0),o+=4),i&32&&(d=s.getFloat64(o,!0),o+=8),i&64&&(f.setTime(f.getTime()+s.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:d};break;case 3:h={t:"s",v:r[u]};break;case 5:h={t:"d",v:f};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(c>-1)h={t:"s",v:n[c]};else if(u>-1)h={t:"s",v:r[u]};else if(!isNaN(d))h={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function s2e(e,r,n){var a=wP(e),s=a.getUint32(8,!0),i=12,o=-1,c=-1,u=NaN,d=NaN,f=new Date(2001,0,1);s&1&&(u=e2e(e,i),i+=16),s&2&&(d=a.getFloat64(i,!0),i+=8),s&4&&(f.setTime(f.getTime()+a.getFloat64(i,!0)*1e3),i+=8),s&8&&(c=a.getUint32(i,!0),i+=4),s&16&&(o=a.getUint32(i,!0),i+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:r[c]};break;case 5:h={t:"d",v:f};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return h}function i2e(e,r,n){switch(e[0]){case 0:case 1:case 2:case 3:return a2e(e,r,n,e[0]);case 5:return s2e(e,r,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ou(e){var r=Ma(e);return xv(r[1][0].data)}function t3(e,r){var n=Ma(r.data),a=qn(n[1][0].data),s=n[3],i=[];return(s||[]).forEach(function(o){var c=Ma(o.data),u=qn(c[1][0].data)>>>0;switch(a){case 1:i[u]=IE(c[3][0].data);break;case 8:{var d=e[Ou(c[9][0].data)][0],f=Ma(d.data),h=e[Ou(f[1][0].data)][0],m=qn(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=Ma(h.data);i[u]=p[3].map(function(v){return IE(v.data)}).join("")}break}}),i}function o2e(e,r){var n,a,s,i,o,c,u,d,f,h,m,p,v,g,x=Ma(e),b=qn(x[1][0].data)>>>0,w=qn(x[2][0].data)>>>0,_=((a=(n=x[8])==null?void 0:n[0])==null?void 0:a.data)&&qn(x[8][0].data)>0||!1,S,j;if((i=(s=x[7])==null?void 0:s[0])!=null&&i.data&&r!=0)S=(c=(o=x[7])==null?void 0:o[0])==null?void 0:c.data,j=(d=(u=x[6])==null?void 0:u[0])==null?void 0:d.data;else if((h=(f=x[4])==null?void 0:f[0])!=null&&h.data&&r!=1)S=(p=(m=x[4])==null?void 0:m[0])==null?void 0:p.data,j=(g=(v=x[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(r," cell storage");for(var N=_?4:1,k=wP(S),E=[],C=0;C<S.length/2;++C){var O=k.getUint16(C*2,!0);O<65535&&E.push([C,O])}if(E.length!=w)throw"Expected ".concat(w," cells, found ").concat(E.length);var D=[];for(C=0;C<E.length-1;++C)D[E[C][0]]=j.subarray(E[C][1]*N,E[C+1][1]*N);return E.length>=1&&(D[E[E.length-1][0]]=j.subarray(E[E.length-1][1]*N)),{R:b,cells:D}}function l2e(e,r){var n,a=Ma(r.data),s=(n=a==null?void 0:a[7])!=null&&n[0]?qn(a[7][0].data)>>>0>0?1:0:-1,i=bP(a[5],function(o){return o2e(o,s)});return{nrows:qn(a[4][0].data)>>>0,data:i.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(u,d){if(o[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));o[c.R][d]=u}),o},[])}}function c2e(e,r,n){var a,s=Ma(r.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(qn(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(qn(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));n["!ref"]=nr(i);var o=Ma(s[4][0].data),c=t3(e,e[Ou(o[4][0].data)][0]),u=(a=o[17])!=null&&a[0]?t3(e,e[Ou(o[17][0].data)][0]):[],d=Ma(o[3][0].data),f=0;d[1].forEach(function(h){var m=Ma(h.data),p=e[Ou(m[2][0].data)][0],v=qn(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=l2e(e,p);g.data.forEach(function(x,b){x.forEach(function(w,_){var S=Mt({r:f+b,c:_}),j=i2e(w,c,u);j&&(n[S]=j)})}),f+=g.nrows})}function u2e(e,r){var n=Ma(r.data),a={"!ref":"A1"},s=e[Ou(n[2][0].data)],i=qn(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return c2e(e,s[0],a),a}function d2e(e,r){var n,a=Ma(r.data),s={name:(n=a[1])!=null&&n[0]?IE(a[1][0].data):"",sheets:[]},i=bP(a[2],Ou);return i.forEach(function(o){e[o].forEach(function(c){var u=qn(c.meta[1][0].data);u==6e3&&s.sheets.push(u2e(e,c))})}),s}function f2e(e,r){var n=jP(),a=Ma(r.data),s=bP(a[1],Ou);if(s.forEach(function(i){e[i].forEach(function(o){var c=qn(o.meta[1][0].data);if(c==2){var u=d2e(e,o);u.sheets.forEach(function(d,f){kP(n,d,f==0?u.name:u.name+"_"+f,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function Gk(e){var r,n,a,s,i={},o=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var d;try{d=n2e(u.content)}catch(h){return console.log("?? "+u.content.length+" "+(h.message||h))}var f;try{f=t2e(d)}catch(h){return console.log("## "+(h.message||h))}f.forEach(function(h){i[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var c=((s=(a=(n=(r=i==null?void 0:i[1])==null?void 0:r[0])==null?void 0:n.meta)==null?void 0:a[1])==null?void 0:s[0].data)&&qn(i[1][0].meta[1][0].data)==1&&i[1][0];if(c||o.forEach(function(u){i[u].forEach(function(d){var f=qn(d.meta[1][0].data)>>>0;if(f==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return f2e(i,c)}function h2e(e){return function(n){for(var a=0;a!=e.length;++a){var s=e[a];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function _P(e){h2e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function m2e(e){return Uh.WS.indexOf(e)>-1?"sheet":e==Uh.CS?"chart":e==Uh.DS?"dialog":e==Uh.MS?"macro":e&&e.length?e:"sheet"}function p2e(e,r){if(!e)return 0;try{e=r.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,m2e(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function g2e(e,r,n,a,s,i,o,c,u,d,f,h){try{i[a]=yg(ii(e,n,!0),r);var m=jn(e,r),p;switch(c){case"sheet":p=_Ne(m,r,s,u,i[a],d,f,h);break;case"chart":if(p=SNe(m,r,s,u,i[a],d,f,h),!p||!p["!drawel"])break;var v=G0(p["!drawel"].Target,r),g=AE(v),x=bSe(ii(e,v,!0),yg(ii(e,g,!0),v)),b=G0(x,v),w=AE(b);p=sNe(ii(e,b,!0),b,u,yg(ii(e,w,!0),b),d,p);break;case"macro":p=jNe(m,r,s,u,i[a],d,f,h);break;case"dialog":p=kNe(m,r,s,u,i[a],d,f,h);break;default:throw new Error("Unrecognized sheet type "+c)}o[a]=p;var _=[];i&&i[a]&&Nl(i[a]).forEach(function(S){var j="";if(i[a][S].Type==Uh.CMNT){j=G0(i[a][S].Target,r);var N=TNe(jn(e,j,!0),j,u);if(!N||!N.length)return;BF(p,N,!1)}i[a][S].Type==Uh.TCMNT&&(j=G0(i[a][S].Target,r),_=_.concat(SSe(jn(e,j,!0),u)))}),_&&_.length&&BF(p,_,!0,u.people||[])}catch(S){if(u.WTF)throw S}}function bi(e){return e.charAt(0)=="/"?e.slice(1):e}function v2e(e,r){if(Oq(),r=r||{},_P(r),Ei(e,"META-INF/manifest.xml")||Ei(e,"objectdata.xml"))return QF(e,r);if(Ei(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Gk<"u"){if(e.FileIndex)return Gk(e);var n=rr.utils.cfb_new();return hF(e).forEach(function(q){xwe(n,q,vwe(e,q))}),Gk(n)}throw new Error("Unsupported NUMBERS file")}if(!Ei(e,"[Content_Types].xml"))throw Ei(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ei(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=hF(e),s=h1e(ii(e,"[Content_Types].xml")),i=!1,o,c;if(s.workbooks.length===0&&(c="xl/workbook.xml",jn(e,c,!0)&&s.workbooks.push(c)),s.workbooks.length===0){if(c="xl/workbook.bin",!jn(e,c,!0))throw new Error("Could not find workbook");s.workbooks.push(c),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},d={};if(!r.bookSheets&&!r.bookProps){if(_g=[],s.sst)try{_g=CNe(jn(e,bi(s.sst)),s.sst,r)}catch(q){if(r.WTF)throw q}r.cellStyles&&s.themes.length&&(u=ENe(ii(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],r)),s.style&&(d=NNe(jn(e,bi(s.style)),s.style,u,r))}s.links.map(function(q){try{var F=yg(ii(e,AE(bi(q))),q);return ONe(jn(e,bi(q)),F,q,r)}catch{}});var f=bNe(jn(e,bi(s.workbooks[0])),s.workbooks[0],r),h={},m="";s.coreprops.length&&(m=jn(e,bi(s.coreprops[0]),!0),m&&(h=iK(m)),s.extprops.length!==0&&(m=jn(e,bi(s.extprops[0]),!0),m&&x1e(m,h,r)));var p={};(!r.bookSheets||r.bookProps)&&s.custprops.length!==0&&(m=ii(e,bi(s.custprops[0]),!0),m&&(p=w1e(m,r)));var v={};if((r.bookSheets||r.bookProps)&&(f.Sheets?o=f.Sheets.map(function(F){return F.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),r.bookProps&&(v.Props=h,v.Custprops=p),r.bookSheets&&typeof o<"u"&&(v.SheetNames=o),r.bookSheets?v.SheetNames:r.bookProps))return v;o={};var g={};r.bookDeps&&s.calcchain&&(g=ANe(jn(e,bi(s.calcchain)),s.calcchain));var x=0,b={},w,_;{var S=f.Sheets;h.Worksheets=S.length,h.SheetNames=[];for(var j=0;j!=S.length;++j)h.SheetNames[j]=S[j].name}var N=i?"bin":"xml",k=s.workbooks[0].lastIndexOf("/"),E=(s.workbooks[0].slice(0,k+1)+"_rels/"+s.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");Ei(e,E)||(E="xl/_rels/workbook."+N+".rels");var C=yg(ii(e,E,!0),E.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(r.xlmeta=PNe(jn(e,bi(s.metadata[0])),s.metadata[0],r)),(s.people||[]).length>=1&&(r.people=jSe(jn(e,bi(s.people[0])),r)),C&&(C=p2e(C,f.Sheets));var O=jn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=h.Worksheets;++x){var D="sheet";if(C&&C[x]?(w="xl/"+C[x][1].replace(/[\/]?xl\//,""),Ei(e,w)||(w=C[x][1]),Ei(e,w)||(w=E.replace(/_rels\/.*$/,"")+C[x][1]),D=C[x][2]):(w="xl/worksheets/sheet"+(x+1-O)+"."+N,w=w.replace(/sheet0\./,"sheet.")),_=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),r&&r.sheets!=null)switch(typeof r.sheets){case"number":if(x!=r.sheets)continue e;break;case"string":if(h.SheetNames[x].toLowerCase()!=r.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(r.sheets)){for(var T=!1,z=0;z!=r.sheets.length;++z)typeof r.sheets[z]=="number"&&r.sheets[z]==x&&(T=1),typeof r.sheets[z]=="string"&&r.sheets[z].toLowerCase()==h.SheetNames[x].toLowerCase()&&(T=1);if(!T)continue e}}g2e(e,w,_,h.SheetNames[x],x,b,o,D,r,f,u,d)}return v={Directory:s,Workbook:f,Props:h,Custprops:p,Deps:g,Sheets:o,SheetNames:h.SheetNames,Strings:_g,Styles:d,Themes:u,SSF:fa(Ut)},r&&r.bookFiles&&(e.files?(v.keys=a,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(q,F){q=q.replace(/^Root Entry[\/]/,""),v.keys.push(q),v.files[q]=e.FileIndex[F]}))),r&&r.bookVBA&&(s.vba.length>0?v.vbaraw=jn(e,bi(s.vba[0]),!0):s.defaults&&s.defaults.bin===CSe&&(v.vbaraw=jn(e,"xl/vbaProject.bin",!0))),v}function x2e(e,r){var n=r||{},a="Workbook",s=rr.find(e,a);try{if(a="/!DataSpaces/Version",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(u_e(s.content),a="/!DataSpaces/DataSpaceMap",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=f_e(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=h_e(s.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);p_e(s.content)}catch{}if(a="/EncryptionInfo",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var c=g_e(s.content);if(a="/EncryptedPackage",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],s.content,n.password||"",n);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],s.content,n.password||"",n);throw new Error("File is password-protected")}function SP(e,r){var n="";switch((r||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=pi(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function y2e(e,r){return rr.find(e,"EncryptedPackage")?x2e(e,r):WK(e,r)}function w2e(e,r){var n,a=e,s=r||{};return s.type||(s.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),n=Fq(a,s),v2e(n,s)}function GK(e,r){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return DE(e.slice(n),r);default:break e}return pv.to_workbook(e,r)}function b2e(e,r){var n="",a=SP(e,r);switch(r.type){case"base64":n=pi(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=jf(e);break;default:throw new Error("Unrecognized type "+r.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(n=Fr(n)),r.type="binary",GK(n,r)}function _2e(e,r){var n=e;return r.type=="base64"&&(n=pi(n)),n=eu.utils.decode(1200,n.slice(2),"str"),r.type="binary",GK(n,r)}function S2e(e){return e.match(/[^\x00-\x7F]/)?Y0(e):e}function Yk(e,r,n,a){return a?(n.type="string",pv.to_workbook(e,n)):pv.to_workbook(r,n)}function FE(e,r){yq();var n=r||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return FE(new Uint8Array(e),(n=fa(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var a=e,s=[0,0,0,0],i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),um={},n.dateNF&&(um.dateNF=n.dateNF),n.type||(n.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=tr?"buffer":"binary",a=uwe(e),typeof Uint8Array<"u"&&!tr&&(n.type="array")),n.type=="string"&&(i=!0,n.type="binary",n.codepage=65001,a=S2e(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return n=fa(n),n.type="array",FE(tP(a),n)}switch((s=SP(a,n))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return y2e(rr.read(a,n),n);break;case 9:if(s[1]<=8)return WK(a,n);break;case 60:return DE(a,n);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return Jbe(a,n);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return Ybe.to_workbook(a,n);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?w2e(a,n):Yk(e,a,n,i);case 239:return s[3]===60?DE(a,n):Yk(e,a,n,i);case 255:if(s[1]===254)return _2e(a,n);if(s[1]===0&&s[2]===2&&s[3]===0)return bg.to_workbook(a,n);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return bg.to_workbook(a,n);break;case 3:case 131:case 139:case 140:return $F.to_workbook(a,n);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return C_e.to_workbook(a,n);break;case 10:case 13:case 32:return b2e(a,n);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Kbe.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?$F.to_workbook(a,n):Yk(e,a,n,i)}function j2e(e,r,n,a,s,i,o,c){var u=ha(n),d=c.defval,f=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),h=!0,m=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:n,enumerable:!1})}catch{m.__rowNum__=n}else m.__rowNum__=n;if(!o||e[n])for(var p=r.s.c;p<=r.e.c;++p){var v=o?e[n][p]:e[a[p]+u];if(v===void 0||v.t===void 0){if(d===void 0)continue;i[p]!=null&&(m[i[p]]=d);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[p]!=null){if(g==null)if(v.t=="e"&&g===null)m[i[p]]=null;else if(d!==void 0)m[i[p]]=d;else if(f&&g===null)m[i[p]]=null;else continue;else m[i[p]]=f&&(v.t!=="n"||v.t==="n"&&c.rawNumbers!==!1)?g:_c(v,g,c);g!=null&&(h=!1)}}return{row:m,isempty:h}}function LE(e,r){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},a=0,s=1,i=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=r||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof f){case"string":u=un(f);break;case"number":u=un(e["!ref"]),u.s.r=f;break;default:u=f}a>0&&(s=0);var h=ha(u.s.r),m=[],p=[],v=0,g=0,x=Array.isArray(e),b=u.s.r,w=0,_={};x&&!e[b]&&(e[b]=[]);var S=d.skipHidden&&e["!cols"]||[],j=d.skipHidden&&e["!rows"]||[];for(w=u.s.c;w<=u.e.c;++w)if(!(S[w]||{}).hidden)switch(m[w]=Wn(w),n=x?e[b][w]:e[m[w]+h],a){case 1:i[w]=w-u.s.c;break;case 2:i[w]=m[w];break;case 3:i[w]=d.header[w-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=_c(n,null,d),g=_[o]||0,!g)_[o]=1;else{do c=o+"_"+g++;while(_[c]);_[o]=g,_[c]=1}i[w]=c}for(b=u.s.r+s;b<=u.e.r;++b)if(!(j[b]||{}).hidden){var N=j2e(e,u,b,m,a,i,x,d);(N.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(p[v++]=N.row)}return p.length=v,p}var r3=/"/g;function k2e(e,r,n,a,s,i,o,c){for(var u=!0,d=[],f="",h=ha(n),m=r.s.c;m<=r.e.c;++m)if(a[m]){var p=c.dense?(e[n]||[])[m]:e[a[m]+h];if(p==null)f="";else if(p.v!=null){u=!1,f=""+(c.rawNumbers&&p.t=="n"?p.v:_c(p,null,c));for(var v=0,g=0;v!==f.length;++v)if((g=f.charCodeAt(v))===s||g===i||g===34||c.forceQuotes){f='"'+f.replace(r3,'""')+'"';break}f=="ID"&&(f='"ID"')}else p.f!=null&&!p.F?(u=!1,f="="+p.f,f.indexOf(",")>=0&&(f='"'+f.replace(r3,'""')+'"')):f="";d.push(f)}return c.blankrows===!1&&u?null:d.join(o)}function YK(e,r){var n=[],a=r??{};if(e==null||e["!ref"]==null)return"";var s=un(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),c=a.RS!==void 0?a.RS:`
`,u=c.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),f="",h=[];a.dense=Array.isArray(e);for(var m=a.skipHidden&&e["!cols"]||[],p=a.skipHidden&&e["!rows"]||[],v=s.s.c;v<=s.e.c;++v)(m[v]||{}).hidden||(h[v]=Wn(v));for(var g=0,x=s.s.r;x<=s.e.r;++x)(p[x]||{}).hidden||(f=k2e(e,s,x,h,o,u,i,a),f!=null&&(a.strip&&(f=f.replace(d,"")),(f||a.blankrows!==!1)&&n.push((g++?c:"")+f)));return delete a.dense,n.join("")}function N2e(e,r){r||(r={}),r.FS="	",r.RS=`
`;var n=YK(e,r);return n}function E2e(e){var r="",n,a="";if(e==null||e["!ref"]==null)return[];var s=un(e["!ref"]),i="",o=[],c,u=[],d=Array.isArray(e);for(c=s.s.c;c<=s.e.c;++c)o[c]=Wn(c);for(var f=s.s.r;f<=s.e.r;++f)for(i=ha(f),c=s.s.c;c<=s.e.c;++c)if(r=o[c]+i,n=d?(e[f]||[])[c]:e[r],a="",n!==void 0){if(n.F!=null){if(r=n.F,!n.f)continue;a=n.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(n.f!=null)a=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)a=""+n.v;else if(n.t=="b")a=n.v?"TRUE":"FALSE";else if(n.w!==void 0)a="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?a="'"+n.v:a=""+n.v}}u[u.length]=r+"="+a}return u}function XK(e,r,n){var a=n||{},s=+!a.skipHeader,i=e||{},o=0,c=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var u=typeof a.origin=="string"?ss(a.origin):a.origin;o=u.r,c=u.c}var d,f={s:{c:0,r:0},e:{c,r:o+r.length-1+s}};if(i["!ref"]){var h=un(i["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(o=h.e.r+1,f.e.r=o+r.length-1+s)}else o==-1&&(o=0,f.e.r=r.length-1+s);var m=a.header||[],p=0;r.forEach(function(g,x){Nl(g).forEach(function(b){(p=m.indexOf(b))==-1&&(m[p=m.length]=b);var w=g[b],_="z",S="",j=Mt({c:c+p,r:o+x+s});d=yv(i,j),w&&typeof w=="object"&&!(w instanceof Date)?i[j]=w:(typeof w=="number"?_="n":typeof w=="boolean"?_="b":typeof w=="string"?_="s":w instanceof Date?(_="d",a.cellDates||(_="n",w=fs(w)),S=a.dateNF||Ut[14]):w===null&&a.nullError&&(_="e",w=0),d?(d.t=_,d.v=w,delete d.w,delete d.R,S&&(d.z=S)):i[j]=d={t:_,v:w},S&&(d.z=S))})}),f.e.c=Math.max(f.e.c,c+m.length-1);var v=ha(o);if(s)for(p=0;p<m.length;++p)i[Wn(p+c)+v]={t:"s",v:m[p]};return i["!ref"]=nr(f),i}function C2e(e,r){return XK(null,e,r)}function yv(e,r,n){if(typeof r=="string"){if(Array.isArray(e)){var a=ss(r);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[r]||(e[r]={t:"z"})}return typeof r!="number"?yv(e,Mt(r)):yv(e,Mt({r,c:n||0}))}function T2e(e,r){if(typeof r=="number"){if(r>=0&&e.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var n=e.SheetNames.indexOf(r);if(n>-1)return n;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function jP(){return{SheetNames:[],Sheets:{}}}function kP(e,r,n,a){var s=1;if(!n)for(;s<=65535&&e.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||n;for(++s;s<=65535&&e.SheetNames.indexOf(n=o+s)!=-1;++s);}if(hNe(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=r,n}function A2e(e,r,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=T2e(e,r);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[a].Hidden=n}function O2e(e,r){return e.z=r,e}function JK(e,r,n){return r?(e.l={Target:r},n&&(e.l.Tooltip=n)):delete e.l,e}function P2e(e,r,n){return JK(e,"#"+r,n)}function D2e(e,r,n){e.c||(e.c=[]),e.c.push({t:r,a:n||"SheetJS"})}function R2e(e,r,n,a){for(var s=typeof r!="string"?r:un(r),i=typeof r=="string"?r:nr(r),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var u=yv(e,o,c);u.t="n",u.F=i,delete u.v,o==s.s.r&&c==s.s.c&&(u.f=n,a&&(u.D=!0))}return e}var I2e={encode_col:Wn,encode_row:ha,encode_cell:Mt,encode_range:nr,decode_col:uP,decode_row:cP,split_cell:qwe,decode_cell:ss,decode_range:Kp,format_cell:_c,sheet_add_aoa:tK,sheet_add_json:XK,sheet_add_dom:HK,aoa_to_sheet:Gp,json_to_sheet:C2e,table_to_sheet:qK,table_to_book:JNe,sheet_to_csv:YK,sheet_to_txt:N2e,sheet_to_json:LE,sheet_to_html:XNe,sheet_to_formulae:E2e,sheet_to_row_object_array:LE,sheet_get_cell:yv,book_new:jP,book_append_sheet:kP,book_set_sheet_visibility:A2e,cell_set_number_format:O2e,cell_set_hyperlink:JK,cell_set_internal_link:P2e,cell_add_comment:D2e,sheet_set_array_formula:R2e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function M2e({templates:e,templateFields:r,onImportComplete:n,onClose:a}){var O,D;const{t:s}=qt(),{user:i}=vr(),{toast:o}=Ol(),[c,u]=y.useState("template"),[d,f]=y.useState(null),[h,m]=y.useState([]),[p,v]=y.useState({}),[g,x]=y.useState([]),[b,w]=y.useState(!1),[_,S]=y.useState(0),j=async T=>{var q;const z=(q=T.target.files)==null?void 0:q[0];if(z)try{const F=await z.arrayBuffer(),I=FE(F,{type:"array"}),V=I.Sheets[I.SheetNames[0]],L=I2e.sheet_to_json(V);if(L.length===0){o({title:s("common.error"),description:s("surveys.fileEmpty"),variant:"destructive"});return}m(L),N(L),u("preview")}catch(F){console.error("Error parsing file:",F),o({title:s("common.error"),description:s("surveys.fileParseError"),variant:"destructive"})}},N=T=>{if(!d)return;const z=r[d.template_id]||[],q=Object.keys(T[0]||{}),F=[],I={};for(const V of z){const L=V.field_label||"",M=q.find(Y=>Y.toLowerCase().trim()===L.toLowerCase().trim());M?I[L]=M:V.is_required&&F.push(s("surveys.requiredFieldNotFound",{field:`"${L}"`}))}v(I),x(F)},k=()=>h.slice(0,5),E=async()=>{if(!d||!i)return;const T=r[d.template_id]||[],z=[];for(const q of T)q.is_required&&!p[q.field_label||""]&&z.push(s("surveys.requiredFieldNotMapped",{field:`"${q.field_label}"`}));if(z.length>0){x(z);return}u("importing"),w(!0);try{const q=h.length,F=[];for(let V=0;V<h.length;V++){const L=h[V],M={};for(const Z of T){const A=Z.field_label||"",X=p[A];X&&L[X]!==void 0&&L[X]!==null&&L[X]!==""&&(M[A]=L[X])}const Y={template_id:d.template_id,survey_name:L.survey_name||L["Survey Name"]||`Bulk Import ${V+1}`,survey_description:L.survey_description||L["Survey Description"]||null,client_name:L.client_name||L["Client Name"]||`Client ${V+1}`,client_name_ar:L.client_name_ar||L["Client Name AR"]||null,client_contact:L.client_contact||L["Client Contact"]||null,client_email:L.client_email||L["Client Email"]||null,client_address:L.client_address||L["Client Address"]||null,client_company:L.client_company||L["Client Company"]||null,client_company_ar:L.client_company_ar||L["Client Company AR"]||null,survey_responses:M,location_latitude:parseFloat(L.location_latitude||L.Latitude||"0"),location_longitude:parseFloat(L.location_longitude||L.Longitude||"0"),location_accuracy:L.location_accuracy?parseFloat(L.location_accuracy):null,location_address:L.location_address||L["Location Address"]||null,created_by:i.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:L.notes||null,notes_ar:L.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};F.push(Y),S(Math.round((V+1)/q*50))}S(50);const I=await Id.createBatch(F);S(100),o({title:s("common.success"),description:s("surveys.importSuccess",{count:I.length})}),n(I),C()}catch(q){console.error("Error importing surveys:",q),o({title:s("common.error"),description:q.message||s("surveys.importFailed"),variant:"destructive"}),u("preview")}finally{w(!1)}},C=()=>{u("template"),f(null),m([]),v({}),x([]),S(0),a()};return l.jsxs(l.Fragment,{children:[l.jsxs(pn,{children:[l.jsx(gn,{children:s("surveys.bulkImport")}),l.jsxs(Ba,{children:[c==="template"&&s("surveys.selectTemplateForImport"),c==="upload"&&s("surveys.uploadFile"),c==="preview"&&s("surveys.reviewData"),c==="importing"&&s("surveys.importingData")]})]}),l.jsxs("div",{className:"space-y-6 py-4",children:[c==="template"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ge,{className:"text-base font-medium",children:s("surveys.selectTemplate")}),l.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(T=>T.is_active).map(T=>l.jsx(ct,{className:`cursor-pointer transition-all ${(d==null?void 0:d.template_id)===T.template_id?"ring-2 ring-primary":"hover:shadow-md"}`,onClick:()=>f(T),children:l.jsxs(xt,{className:"p-4",children:[l.jsx("h4",{className:"font-medium text-sm",children:T.template_name}),T.template_description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.template_description}),T.category&&l.jsx(ht,{variant:"outline",className:"mt-2 text-xs",children:T.category})]})},T.template_id))})]}),c==="upload"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx(D_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[l.jsx("p",{className:"font-medium mb-1",children:s("surveys.importInstructions")}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[l.jsx("li",{children:s("surveys.importInstruction1")}),l.jsx("li",{children:s("surveys.importInstruction2")}),l.jsx("li",{children:s("surveys.importInstruction3")})]})]})]})}),l.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[l.jsx(nv,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),l.jsx(Ge,{className:"block text-sm font-medium mb-2",children:s("surveys.dragDropFile")}),l.jsx(We,{type:"file",accept:".xlsx,.xls,.csv",onChange:j,className:"hidden",id:"file-upload"}),l.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:l.jsx(ue,{variant:"outline",asChild:!0,children:l.jsx("span",{children:s("surveys.selectFile")})})})]})]}),c==="preview"&&l.jsxs("div",{className:"space-y-4",children:[g.length>0&&l.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx(q2,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[l.jsx("p",{className:"font-medium mb-2",children:s("surveys.validationErrors")}),l.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:g.map((T,z)=>l.jsx("li",{children:T},z))})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-sm",children:s("surveys.columnMapping")}),l.jsxs(ht,{variant:"secondary",children:[Object.keys(p).length," / ",d&&((O=r[d.template_id])==null?void 0:O.length)||0]})]}),l.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:d?(D=r[d.template_id])==null?void 0:D.map(T=>l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:T.field_label}),T.is_required&&l.jsx(ht,{variant:"destructive",className:"text-xs mt-1",children:s("surveys.required")})]}),p[T.field_label||""]?l.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[l.jsx(ll,{className:"h-4 w-4"}),l.jsx("span",{className:"text-xs font-medium",children:p[T.field_label||""]})]}):l.jsx("div",{className:"text-xs text-muted-foreground",children:T.is_required?l.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:s("surveys.notMapped")}):l.jsx("span",{children:s("surveys.optional")})})]},T.field_id)):l.jsx("div",{className:"text-center text-muted-foreground py-4",children:s("surveys.noTemplateSelected")})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:s("surveys.previewFirstRows",{count:5})}),l.jsx("div",{className:"border rounded-lg overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-muted border-b",children:l.jsx("tr",{children:Object.keys(k()[0]||{}).map(T=>l.jsx("th",{className:"px-3 py-2 text-left font-medium text-xs",children:T},T))})}),l.jsx("tbody",{children:k().map((T,z)=>l.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.entries(T).map(([q,F],I)=>l.jsx("td",{className:"px-3 py-2 text-xs",children:typeof F=="boolean"?q.toLowerCase().includes("is_default")?F?l.jsx(ll,{className:"h-4 w-4 text-green-600"}):l.jsx("span",{className:"text-transparent",children:"-"}):F?l.jsx(ll,{className:"h-4 w-4 text-green-600"}):l.jsx(_ie,{className:"h-4 w-4 text-gray-400"}):String(F||"")},I))},z))})]})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:s("surveys.showingRows",{shown:Math.min(5,h.length),total:h.length})})]})]}),c==="importing"&&l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(I_,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),l.jsx("p",{className:"font-medium mb-2",children:s("surveys.importingData")}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[s("surveys.processingRows",{progress:_}),"%"]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${_}%`}})})]})})})]}),l.jsxs($a,{children:[l.jsx(ue,{variant:"outline",onClick:C,disabled:b,children:s("buttons.cancel")}),c==="template"&&l.jsx(ue,{onClick:()=>u("upload"),disabled:!d,children:s("common.next")}),c==="upload"&&l.jsx(ue,{onClick:()=>u("template"),variant:"outline",children:s("common.back")}),c==="preview"&&l.jsxs(l.Fragment,{children:[l.jsx(ue,{onClick:()=>u("upload"),variant:"outline",children:"Back"}),l.jsx(ue,{onClick:E,disabled:g.length>0||b,children:s("surveys.startImport")})]})]})]})}function F2e(){var Gn;const{t:e}=qt(),{user:r}=vr(),{isRTL:n}=Va(),{toast:a}=Ol(),[s,i]=y.useState([]),[o,c]=y.useState([]),[u,d]=y.useState({}),[f,h]=y.useState(!0),[m,p]=y.useState(""),[v,g]=y.useState(null),[x,b]=y.useState(null),[w,_]=y.useState([]);y.useState(!1);const[S,j]=y.useState(!1),[N,k]=y.useState(null),[E,C]=y.useState({}),[O,D]=y.useState({}),[T,z]=y.useState([]),[q,F]=y.useState(!1),[I,V]=y.useState(null),[L,M]=y.useState(null),[Y,Z]=y.useState(null),[A,X]=y.useState("card"),[U,H]=y.useState("card"),[ae,oe]=y.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),[we,se]=y.useState([]);y.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[Q,he]=y.useState({}),[P,Le]=y.useState(!1),[$e,Me]=y.useState(!1),[He,De]=y.useState(new Set);y.useState(!1),y.useEffect(()=>{wt()},[]);const wt=async()=>{try{h(!0);const[ce,ke,Be]=await Promise.all([Id.getAll().catch(Ht=>(console.error("[Surveys] Error fetching surveys:",Ht),[])),Ks.getAll().catch(Ht=>(console.error("[Surveys] Error fetching templates:",Ht),[])),cn.getAll().catch(Ht=>(console.error("[Surveys] Error fetching users:",Ht),[]))]),Re=ke.map(async Ht=>{try{const Tr=await Ks.getFields(Ht.template_id);return{templateId:Ht.template_id,fields:Tr}}catch(Tr){return console.error(`[Surveys] Error fetching fields for template ${Ht.template_id}:`,Tr),{templateId:Ht.template_id,fields:[]}}}),Ye=await Promise.all(Re),tt={};Ye.forEach(Ht=>{tt[Ht.templateId]=Ht.fields}),i(ce),c(ke),z(Be),d(tt)}catch(ce){console.error("Failed to load surveys data:",ce)}finally{h(!1)}},dt=s.filter(ce=>{var ke,Be;return ce.client_name.toLowerCase().includes(m.toLowerCase())||((ke=ce.client_company)==null?void 0:ke.toLowerCase().includes(m.toLowerCase()))||((Be=ce.survey_name)==null?void 0:Be.toLowerCase().includes(m.toLowerCase()))}),ie=o.filter(ce=>{var ke;return Ae(ce,"template_name").toLowerCase().includes(m.toLowerCase())||((ke=ce.category)==null?void 0:ke.toLowerCase().includes(m.toLowerCase()))}),me=ce=>{if(!ce)return e("surveys.unknownCreator");const ke=T.find(Be=>{var Re,Ye;return((Re=Be.userid)==null?void 0:Re.toString())===ce||((Ye=Be.user_id)==null?void 0:Ye.toString())===ce});return ke?Ae(ke,"user_name"):e("surveys.unknownCreator")},te=ce=>{switch(ce.toLowerCase()){case"completed":return l.jsxs(ht,{variant:"default",className:"bg-green-500",children:[l.jsx(ll,{className:"h-3 w-3 me-1"}),e("surveys.completed")]});case"in_progress":return l.jsxs(ht,{variant:"secondary",children:[l.jsx(Dd,{className:"h-3 w-3 me-1"}),e("surveys.inProgress")]});case"pending":return l.jsxs(ht,{variant:"outline",children:[l.jsx(Dd,{className:"h-3 w-3 me-1"}),e("surveys.pending")]});default:return l.jsx(ht,{variant:"outline",children:ce})}},_e=ce=>{i([...ce,...s])},Ce=async ce=>{if(b(ce),u[ce.template_id])_(u[ce.template_id]);else try{const ke=await Ks.getFields(ce.template_id);d(Be=>({...Be,[ce.template_id]:ke})),_(ke)}catch(ke){console.error("Failed to load template fields:",ke),_([])}},ye=()=>{const ce={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};se(ke=>[...ke,ce])},le=ce=>{se(ke=>ke.filter((Be,Re)=>Re!==ce))},fe=(ce,ke)=>{se(Be=>Be.map((Re,Ye)=>Ye===ce?{...Re,...ke}:Re))},xe=(ce,ke)=>{se(Be=>{const Re=[...Be],[Ye]=Re.splice(ce,1);return Re.splice(ke,0,Ye),Re})},pe=()=>{oe({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),se([]),V(null)},Te=async ce=>{oe({template_name:ce.template_name||"",template_name_ar:ce.template_name_ar||"",template_description:ce.template_description||"",template_description_ar:ce.template_description_ar||"",category:ce.category||"",is_active:ce.is_active,is_default:ce.is_default||!1});const Be=(u[ce.template_id]||[]).map(Re=>({field_type:Re.field_type,field_label:Re.field_label||"",field_label_ar:Re.field_label_ar||"",help_text:Re.help_text||"",help_text_ar:Re.help_text_ar||"",is_required:Re.is_required||!1,field_options:Re.field_options,validation_rules:Re.validation_rules,default_value:Re.default_value,conditional_logic:Re.conditional_logic,image_path:Re.image_path}));se(Be),V(ce.template_id),F(!0)},Fe=()=>{const ce={};return ae.template_name.trim()||(ce.template_name=e("surveys.templateNameRequired")),we.length===0?ce.fields=e("surveys.atLeastOneFieldRequired"):we.forEach((ke,Be)=>{ke.field_label.trim()||(ce[`field_${Be}`]=e("surveys.fieldLabelRequired",{number:Be+1}))}),he(ce),Object.keys(ce).length===0},Ue=async()=>{if(!Fe()){a({title:e("common.error"),description:e("surveys.templateValidationFailed"),variant:"destructive"});return}Le(!0);try{if(I){await Ks.update(I,ae);const ce=u[I]||[];for(const ke of ce)ke.field_id&&await Ks.deleteField(ke.field_id);for(let ke=0;ke<we.length;ke++){const Be=we[ke];await Ks.createField({template_id:I,field_order:ke+1,field_type:Be.field_type,field_label:Be.field_label,field_label_ar:Be.field_label_ar||"",help_text:Be.help_text||null,help_text_ar:Be.help_text_ar||null,is_required:Be.is_required,field_options:Be.field_options,validation_rules:Be.validation_rules,default_value:Be.default_value||null,conditional_logic:Be.conditional_logic,image_path:Be.image_path||null})}a({title:e("common.success"),description:e("surveys.templateUpdated")})}else{const ce={...ae,created_by:r==null?void 0:r.id},ke=await Ks.create(ce);for(let Be=0;Be<we.length;Be++){const Re=we[Be];await Ks.createField({template_id:ke.template_id,field_order:Be+1,field_type:Re.field_type,field_label:Re.field_label,field_label_ar:Re.field_label_ar||"",help_text:Re.help_text||null,help_text_ar:Re.help_text_ar||null,is_required:Re.is_required,field_options:Re.field_options,validation_rules:Re.validation_rules,default_value:Re.default_value||null,conditional_logic:Re.conditional_logic,image_path:Re.image_path||null})}a({title:e("common.success"),description:e("surveys.templateCreated")})}pe(),F(!1),wt()}catch(ce){console.error("Failed to save template:",ce),a({title:e("common.error"),description:e("surveys.templateSaveError",{action:e(I?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{Le(!1)}},Ve=async ce=>{if(k(ce),!u[ce.template_id])try{const Re=await Ks.getFields(ce.template_id);d(Ye=>({...Ye,[ce.template_id]:Re}))}catch(Re){console.error("Failed to load template fields:",Re)}const ke={};(u[ce.template_id]||[]).forEach(Re=>{Re.default_value!==null&&Re.default_value!==void 0&&(ke[Re.field_id.toString()]=Re.default_value)}),C(ke)},ot=async ce=>{try{await Ks.delete(ce),c(ke=>ke.filter(Be=>Be.template_id!==ce)),M(null),d(ke=>{const Be={...ke};return delete Be[ce],Be})}catch(ke){console.error("Failed to delete template:",ke),alert("Failed to delete template. Please try again.")}},Kt=async ce=>{try{await Id.delete(ce),i(ke=>ke.filter(Be=>Be.survey_id!==ce)),Z(null)}catch(ke){console.error("Failed to delete survey:",ke),alert("Failed to delete survey. Please try again.")}},Qt=async ce=>{try{const ke=o.filter(Be=>Be.is_default&&Be.template_id!==ce);for(const Be of ke)await Ks.update(Be.template_id,{is_default:!1});await Ks.update(ce,{is_default:!0}),c(Be=>Be.map(Re=>({...Re,is_default:Re.template_id===ce}))),a({title:e("common.success"),description:e("surveys.templateSetAsDefault")})}catch(ke){console.error("Failed to set default template:",ke),a({title:e("common.error"),description:e("surveys.templateSetDefaultError"),variant:"destructive"})}},Nr=()=>new Promise((ce,ke)=>{if(!navigator.geolocation){ke(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(Be=>{ce({latitude:Be.coords.latitude,longitude:Be.coords.longitude,accuracy:Be.coords.accuracy})},Be=>{ke(Be)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),Br=async()=>{var ce;if(!(!N||!r))try{let ke={latitude:0,longitude:0,accuracy:0};try{ke=await Nr()}catch(J){console.warn("Could not get location:",J)}const Be=u[N.template_id]||[],Re=new Map(Be.map(J=>[J.field_id.toString(),J.field_label])),Ye={};for(const[J,ee]of Object.entries(E)){const R=Re.get(J)||J;Ye[R]=ee}const tt=Ye["Customer Name"]||Ye["Client Name"]||Ye.client_name||Ye.customer_name||"Anonymous",Ht=Ye["Customer Company"]||Ye["Client Company"]||Ye.Company||Ye.company||Ye.client_company||null,Tr=Ye["Contact Number"]||Ye["Contact Email"]||Ye.Contact||Ye.contact||Ye.phone||null,qs=Ye["Contact Email"]||Ye.Email||Ye.email||Ye.client_email||null,vs=Ye.Address||Ye.address||Ye.client_address||null,ar=Ye["Additional Notes"]||Ye.Notes||Ye.notes||null,Ll={},od=Object.keys(O);for(const[J,ee]of Object.entries(E))if(!od.includes(J)){const R=Re.get(J)||J;Ll[R]=ee}const W={template_id:N.template_id,survey_name:`${Ae(N,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Ae(N,"template_description")||null,client_name:tt,client_name_ar:null,client_contact:Tr,client_email:qs,client_address:vs,client_company:Ht,client_company_ar:null,survey_responses:Ll,location_latitude:ke.latitude,location_longitude:ke.longitude,location_accuracy:ke.accuracy,location_address:vs,status:"collected",created_by:r.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:ar,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null},re=await Id.create(W);if(Object.keys(O).length>0){const J={...Ll};for(const[R,K]of Object.entries(O)){const de=(ce=K.name.split(".").pop())==null?void 0:ce.toLowerCase(),Ne=`${R.replace(/[^a-zA-Z0-9]/g,"_")}_${Date.now()}.${de}`,Se=`surveys/survey_${re.survey_id}/${Ne}`,{data:je,error:Ee}=await Jt.storage.from("survey-uploads").upload(Se,K);if(Ee)throw Ee;const{data:{publicUrl:ze}}=Jt.storage.from("survey-uploads").getPublicUrl(Se),Ze=Re.get(R)||R;J[Ze]={bucket:"survey-uploads",path:Se,url:ze}}if(!await G.surveys.update(re.survey_id,{survey_responses:J}))throw new Error("Failed to update survey with images");re.survey_responses=J}i([re,...s]),k(null),C({}),D({}),j(!1)}catch(ke){console.error("[Survey] Failed to create survey:",ke),alert(`Failed to create survey: ${ke.message}`)}},wn=ce=>{const ke=ce.field_id.toString(),Be=E[ke]||"";switch(ce.field_type.toLowerCase()){case"text":return l.jsx(We,{id:ke,value:Be,onChange:Ye=>C(tt=>({...tt,[ke]:Ye.target.value})),placeholder:Ae(ce,"help_text")||ce.field_label,required:ce.is_required});case"textarea":return l.jsx(da,{id:ke,value:Be,onChange:Ye=>C(tt=>({...tt,[ke]:Ye.target.value})),placeholder:Ae(ce,"help_text")||ce.field_label,required:ce.is_required,rows:3});case"number":return l.jsx(We,{id:ke,type:"number",value:Be,onChange:Ye=>C(tt=>({...tt,[ke]:Ye.target.value})),placeholder:Ae(ce,"help_text")||ce.field_label,required:ce.is_required});case"email":return l.jsx(We,{id:ke,type:"email",value:Be,onChange:Ye=>C(tt=>({...tt,[ke]:Ye.target.value})),placeholder:Ae(ce,"help_text")||ce.field_label,required:ce.is_required});case"date":return l.jsx(We,{id:ke,type:"date",value:Be,onChange:Ye=>C(tt=>({...tt,[ke]:Ye.target.value})),required:ce.is_required});case"select":if(ce.field_options&&typeof ce.field_options=="object"&&!Array.isArray(ce.field_options)&&"options"in ce.field_options&&Array.isArray(ce.field_options.options)){const Ye=ce.field_options.options.filter(tt=>typeof tt=="string");return l.jsxs(jt,{value:Be,onValueChange:tt=>C(Ht=>({...Ht,[ke]:tt})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:Ae(ce,"help_text")||`${e("common.select")} ${Ae(ce,"field_label")}`})}),l.jsx(St,{children:Ye.map((tt,Ht)=>l.jsx(Pe,{value:tt,children:tt},Ht))})]})}return l.jsx(We,{id:ke,value:Be,onChange:Ye=>C(tt=>({...tt,[ke]:Ye.target.value})),placeholder:Ae(ce,"help_text")||ce.field_label,required:ce.is_required});case"radio":if(ce.field_options&&typeof ce.field_options=="object"&&!Array.isArray(ce.field_options)&&"options"in ce.field_options&&Array.isArray(ce.field_options.options)){const Ye=ce.field_options.options.filter(tt=>typeof tt=="string");return l.jsx("div",{className:"space-y-2",children:Ye.map((tt,Ht)=>l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:ke,value:tt,checked:Be===tt,onChange:Tr=>C(qs=>({...qs,[ke]:Tr.target.value}))}),l.jsx("span",{className:"text-sm",children:tt})]},Ht))})}return l.jsx(We,{id:ke,value:Be,onChange:Ye=>C(tt=>({...tt,[ke]:Ye.target.value})),placeholder:Ae(ce,"help_text")||ce.field_label,required:ce.is_required});case"multiselect":case"checkbox":if(ce.field_options&&typeof ce.field_options=="object"&&!Array.isArray(ce.field_options)&&"options"in ce.field_options&&Array.isArray(ce.field_options.options)){const Ye=ce.field_options.options.filter(tt=>typeof tt=="string");return l.jsx("div",{className:"space-y-2",children:Ye.map((tt,Ht)=>l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:Array.isArray(Be)?Be.includes(tt):!1,onChange:Tr=>{const qs=Array.isArray(Be)?Be:[];Tr.target.checked?C(vs=>({...vs,[ke]:[...qs,tt]})):C(vs=>({...vs,[ke]:qs.filter(ar=>ar!==tt)}))}}),l.jsx("span",{className:"text-sm",children:tt})]},Ht))})}return l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!Be,onChange:Ye=>C(tt=>({...tt,[ke]:Ye.target.checked}))}),l.jsx("span",{className:"text-sm",children:Ae(ce,"field_label")})]});case"image":const Re=E[ke];return l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{id:ke,type:"file",accept:"image/*",onChange:Ye=>{var Ht;const tt=(Ht=Ye.target.files)==null?void 0:Ht[0];tt&&(D(Tr=>({...Tr,[ke]:tt})),C(Tr=>({...Tr,[ke]:{preview:URL.createObjectURL(tt),filename:tt.name}})))},required:ce.is_required}),(Re==null?void 0:Re.preview)&&l.jsxs("div",{className:"relative w-full",children:[l.jsx("img",{src:Re.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),l.jsx(ue,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{D(Ye=>{const tt={...Ye};return delete tt[ke],tt}),C(Ye=>{const tt={...Ye};return delete tt[ke],tt})},children:l.jsx(wr,{className:"h-4 w-4"})})]})]});default:return l.jsx(We,{id:ke,value:Be,onChange:Ye=>C(tt=>({...tt,[ke]:Ye.target.value})),placeholder:Ae(ce,"help_text")||ce.field_label,required:ce.is_required})}},yi=()=>{const ce=[{key:"survey",header:e("surveys.surveyName"),render:Re=>l.jsx(bc,{title:Re.survey_name||`${e("surveys.survey")} #${Re.survey_id}`,subtitle:Ae(Re,"client_name")})},{key:"status",header:e("surveys.status"),render:Re=>l.jsx($O,{variant:"outline",children:Re.status==="completed"?l.jsx(ht,{variant:"default",className:"bg-green-500",children:e("surveys.completed")}):Re.status==="in_progress"?l.jsx(ht,{variant:"secondary",className:"bg-blue-500",children:e("surveys.inProgress")}):l.jsx(ht,{variant:"outline",children:e("surveys.pending")})})},{key:"company",header:e("surveys.clientCompany"),hideOnMobile:!0,render:Re=>Re.client_company||e("surveys.noCompany")},{key:"creator",header:e("surveys.createdBy"),hideOnMobile:!0,render:Re=>l.jsx(qm,{name:me(Re.created_by),fallback:e("surveys.unknownCreator")})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Re=>l.jsx(Uu,{date:Re.created_at,fallback:e("leads.notSet")})}],ke=[{label:e("common.view"),icon:l.jsx(Mi,{className:"h-4 w-4"}),onClick:Re=>g(Re)},{label:e("buttons.delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:Re=>Z(Re.survey_id),variant:"destructive"}],Be=[{label:e("buttons.delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:async Re=>{if(Re.length===0)return;if(window.confirm(e("surveys.confirmBulkDeleteDesc",{count:Re.length})))try{const tt=Re.map(Ht=>Id.delete(Ht.survey_id));await Promise.all(tt),i(Ht=>Ht.filter(Tr=>!Re.find(qs=>qs.survey_id===Tr.survey_id))),De(new Set),a({title:e("common.success"),description:e("surveys.bulkDeleteSuccess",{count:Re.length})})}catch(tt){console.error("Failed to bulk delete surveys:",tt),a({title:e("common.error"),description:e("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}];return l.jsx(wc,{data:dt,columns:ce,actions:ke,bulkActions:Be,keyExtractor:Re=>Re.survey_id,onRowClick:Re=>g(Re),enableBulkSelect:!0,emptyState:l.jsx(pl,{icon:l.jsx(Zs,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noSurveysFound"),description:e(m?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},pa=()=>{const ce=[{key:"template",header:e("surveys.templateName"),render:Re=>l.jsx(bc,{title:Ae(Re,"template_name"),subtitle:Ae(Re,"template_description")})},{key:"category",header:e("surveys.category"),render:Re=>Re.category||e("surveys.noCategory")},{key:"status",header:e("surveys.status"),render:Re=>l.jsxs("div",{className:"flex items-center gap-2",children:[Re.is_active?l.jsx(ht,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):l.jsx(ht,{variant:"secondary",children:e("surveys.inactive")}),Re.is_default&&l.jsx(ht,{variant:"default",children:e("surveys.default")})]})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Re=>l.jsx(Uu,{date:Re.created_at,fallback:e("leads.notSet")})}],ke=[{label:e("common.view"),icon:l.jsx(Mi,{className:"h-4 w-4"}),onClick:Re=>Ce(Re)},{label:e("surveys.setAsDefault"),icon:l.jsx(ll,{className:"h-4 w-4"}),onClick:Re=>Qt(Re.template_id),show:Re=>!Re.is_default},{label:e("buttons.edit"),icon:l.jsx(H2,{className:"h-4 w-4"}),onClick:Re=>Te(Re)},{label:e("buttons.delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:Re=>M(Re.template_id),variant:"destructive"}],Be=[{label:e("buttons.delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:async Re=>{if(window.confirm(e("surveys.bulkDeleteConfirm",{count:Re.length})))try{await Promise.all(Re.map(Ye=>Ks.delete(Ye.template_id))),await loadTemplates(),a({title:e("common.success"),description:e("surveys.bulkDeleteSuccess",{count:Re.length})})}catch(Ye){console.error("Failed to bulk delete templates:",Ye),a({title:e("common.error"),description:e("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}];return l.jsx(wc,{data:ie,columns:ce,actions:ke,bulkActions:Be,keyExtractor:Re=>Re.template_id,onRowClick:Re=>Ce(Re),enableBulkSelect:!0,emptyState:l.jsx(pl,{icon:l.jsx(Zs,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noTemplatesFound"),description:e(m?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return f?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"relative",dir:n?"rtl":"ltr",children:[l.jsx(zs,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4`}),l.jsx(We,{placeholder:e("surveys.searchPlaceholder"),value:m,onChange:ce=>p(ce.target.value),className:n?"pr-10 pl-3":"pl-10 pr-3"})]}),l.jsxs(kl,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col",dir:n?"rtl":"ltr",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsxs(en,{value:"surveys",children:[e("surveys.surveys")," (",dt.length,")"]}),l.jsxs(en,{value:"templates",children:[e("surveys.templates")," (",ie.length,")"]})]}),l.jsxs(On,{value:"surveys",className:"space-y-4 flex-1 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:A==="card"?"default":"ghost",size:"sm",onClick:()=>X("card"),className:"h-8 w-8 p-0",children:l.jsx(Zs,{className:"h-4 w-4"})}),l.jsx(ue,{variant:A==="list"?"default":"ghost",size:"sm",onClick:()=>X("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",children:[l.jsxs(An,{open:S,onOpenChange:j,children:[l.jsx(Bh,{asChild:!0,children:l.jsxs(ue,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[l.jsx(or,{className:"h-4 w-4 me-2"}),e("surveys.newSurvey")]})}),l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsx(pn,{children:l.jsx(gn,{children:e("surveys.createNewSurvey")})}),l.jsx("div",{className:"space-y-6 py-4",children:N?l.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium",children:Ae(N,"template_name")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.fillSurveyDetails")})]}),l.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{k(null),C({})},children:e("surveys.changeTemplate")})]}),l.jsx("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:(Gn=u[N.template_id])==null?void 0:Gn.map(ce=>l.jsxs("div",{className:"space-y-2",dir:n?"rtl":"ltr",children:[l.jsxs(Ge,{className:"text-sm font-medium mb-1.5 block",children:[Ae(ce,"field_label"),ce.is_required&&l.jsx("span",{className:"text-red-500 ms-1",children:"*"})]}),wn(ce),Ae(ce,"help_text")&&l.jsx("p",{className:"text-xs text-muted-foreground",children:Ae(ce,"help_text")})]},ce.field_id))}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",dir:n?"rtl":"ltr",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",dir:n?"rtl":"ltr",children:[l.jsx(Lm,{className:"h-4 w-4"}),l.jsx("span",{children:e("surveys.locationWillBeCaptured")})]})})]}):l.jsxs("div",{children:[l.jsx(Ge,{className:"text-base font-medium mb-4 block",children:e("surveys.selectTemplate")}),l.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:o.filter(ce=>ce.is_active).map(ce=>l.jsx(ct,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(N==null?void 0:N.template_id)===ce.template_id?"ring-2 ring-primary":""}`,onClick:()=>Ve(ce),children:l.jsx(xt,{className:"p-4",dir:n?"rtl":"ltr",children:l.jsx("div",{className:"flex items-start gap-3",dir:n?"rtl":"ltr",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-sm truncate",children:Ae(ce,"template_name")}),ce.category&&l.jsx(ht,{variant:"outline",className:"mt-1 text-xs",children:ce.category}),Ae(ce,"template_description")&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Ae(ce,"template_description")})]})})})},ce.template_id))})]})}),l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",dir:n?"rtl":"ltr",children:[l.jsx(ue,{variant:"outline",onClick:()=>{j(!1),k(null),C({})},className:"w-full sm:w-auto",children:e("buttons.cancel")}),N&&l.jsx(ue,{onClick:Br,disabled:!N,className:"w-full sm:w-auto",children:e("surveys.submitSurvey")})]})]})]}),l.jsxs(An,{open:$e,onOpenChange:Me,children:[l.jsx(Bh,{asChild:!0,children:l.jsxs(ue,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[l.jsx(nv,{className:"h-4 w-4 me-2 text-primary"}),e("surveys.bulkImport")]})}),l.jsx(mn,{className:"w-[95vw] sm:w-full sm:max-w-4xl max-h-[85vh] overflow-y-auto",children:l.jsx(M2e,{templates:o,templateFields:u,onImportComplete:_e,onClose:()=>Me(!1)})})]})]})]}),l.jsx(la,{className:"flex-1",dir:n?"rtl":"ltr",children:dt.length===0?l.jsx(ct,{children:l.jsxs(xt,{className:"text-center py-12",children:[l.jsx(Zs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noSurveysFound")}),l.jsx("p",{className:"text-muted-foreground",children:e(m?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):A==="card"?l.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto",children:dt.map(ce=>l.jsxs(ct,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer",children:[l.jsx(Yt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base truncate",children:ce.survey_name||`${e("surveys.survey")} #${ce.survey_id}`}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Ae(ce,"client_name")})]}),te(ce.status)]})}),l.jsxs(xt,{className:"pt-0 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Cn,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:ce.client_company||e("surveys.noCompany")})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Lm,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:ce.location_address||(ce.location_latitude&&ce.location_longitude?`${ce.location_latitude.toFixed(4)}, ${ce.location_longitude.toFixed(4)}`:e("surveys.noLocation"))})]}),l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Un,{className:"h-4 w-4"}),l.jsxs("span",{children:[e("surveys.createdBy"),": ",me(ce.created_by)]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(Dd,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:new Date(ce.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(An,{children:[l.jsx(Bh,{asChild:!0,children:l.jsxs(ue,{size:"sm",variant:"outline",className:"h-8 px-2 flex items-center gap-1 hover:bg-primary hover:text-primary-foreground border-primary/20",onClick:()=>g(ce),children:[l.jsx(Mi,{className:"h-4 w-4 me-1"}),l.jsx("span",{className:"text-xs",children:e("common.view")})]})}),l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsx(pn,{children:l.jsx(gn,{children:ce.survey_name||`${e("surveys.survey")} #${ce.survey_id}`})}),v&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.clientName")}),l.jsx("p",{className:"text-sm",children:Ae(v,"client_name")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.clientCompany")}),l.jsx("p",{className:"text-sm",children:v.client_company||e("surveys.noCompany")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.contact")}),l.jsx("p",{className:"text-sm",children:v.client_contact||e("surveys.noContact")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.email")}),l.jsx("p",{className:"text-sm",children:v.client_email||e("surveys.noEmail")})]})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.location")}),l.jsx("p",{className:"text-sm",children:l.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${v.location_latitude},${v.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:["https://www.google.com/maps/place/",v.location_address||`${v.location_latitude.toFixed(6)}, ${v.location_longitude.toFixed(6)}`]})})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.responses")}),l.jsx("div",{className:"mt-2 space-y-2",children:v.survey_responses&&Object.keys(v.survey_responses).length>0?Object.entries(v.survey_responses).map(([ke,Be])=>{const Re=typeof Be=="object"&&Be!==null&&"bucket"in Be&&"path"in Be&&"url"in Be;return l.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[l.jsxs("div",{className:"font-medium text-sm text-primary",children:[ke,":"]}),Re?l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:Be.url,alt:ke,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):l.jsx("div",{className:"text-sm text-muted-foreground break-words",children:Array.isArray(Be)?Be.join(", "):typeof Be=="object"?JSON.stringify(Be):String(Be||"N/A")})]},ke)}):l.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:"No responses recorded"})})]})]})]})]}),l.jsxs(mi,{children:[l.jsx(wf,{asChild:!0,children:l.jsx(ue,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:ke=>{ke.stopPropagation(),Z(ce.survey_id)},children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Is,{onClick:ke=>ke.stopPropagation(),children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:e("surveys.deleteSurvey")}),l.jsx($s,{children:e("surveys.deleteSurveyConfirmation",{name:ce.survey_name||`${e("surveys.survey")} #${ce.survey_id}`})})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:e("buttons.cancel")}),l.jsx(Bs,{onClick:ke=>{ke.stopPropagation(),Kt(ce.survey_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]})]},ce.survey_id))}):l.jsx("div",{className:"w-full overflow-hidden",children:yi()})})]}),l.jsxs(On,{value:"templates",className:"space-y-4 flex-1 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:U==="card"?"default":"ghost",size:"sm",onClick:()=>H("card"),className:"h-8 w-8 p-0",children:l.jsx(Zs,{className:"h-4 w-4"})}),l.jsx(ue,{variant:U==="list"?"default":"ghost",size:"sm",onClick:()=>H("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})})]}),l.jsxs(ue,{onClick:()=>{pe(),F(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[l.jsx(or,{className:"h-4 w-4 me-2"}),e("surveys.createTemplate")]})]}),l.jsx(la,{className:"flex-1",children:ie.length===0?l.jsx(ct,{children:l.jsxs(xt,{className:"text-center py-12",children:[l.jsx(Zs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noTemplatesFound")}),l.jsx("p",{className:"text-muted-foreground",children:e(m?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):U==="card"?l.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ie.map(ce=>l.jsxs(ct,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200",children:[l.jsx(Yt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base truncate",children:Ae(ce,"template_name")}),ce.category&&l.jsx(ht,{variant:"outline",className:"mt-1 text-xs",children:ce.category})]}),l.jsx("div",{className:"flex items-center gap-1",children:ce.is_default?l.jsx(ll,{className:"h-4 w-4 text-green-500"}):l.jsx("div",{children:""})})]})}),l.jsxs(xt,{className:"pt-0 space-y-3",children:[Ae(ce,"template_description")&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Ae(ce,"template_description")}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(Dd,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:new Date(ce.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs(An,{children:[l.jsx(Bh,{asChild:!0,children:l.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>Ce(ce),children:[l.jsx(Mi,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsx(pn,{children:l.jsx(gn,{children:Ae(x||ce,"template_name")})}),x&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.category")}),l.jsx("p",{className:"text-sm",children:x.category||e("surveys.noCategory")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.status")}),l.jsxs("div",{className:"flex items-center gap-2",children:[x.is_active?l.jsx(ht,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):l.jsx(ht,{variant:"secondary",children:e("surveys.inactive")}),x.is_default&&l.jsx(ht,{variant:"default",children:e("surveys.default")})]})]})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.description")}),l.jsx("p",{className:"text-sm mt-1",children:Ae(x,"template_description")||e("surveys.noDescription")})]}),l.jsxs("div",{children:[l.jsxs(Ge,{className:"text-sm font-medium",children:[e("surveys.fields")," (",w.length,")"]}),l.jsx("div",{className:"mt-2 space-y-2",children:w.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.noFields")}):w.sort((ke,Be)=>ke.field_order-Be.field_order).map(ke=>l.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(ht,{variant:"outline",className:"text-xs",children:ke.field_type}),l.jsx("span",{className:"text-sm font-medium",children:Ae(ke,"field_label")}),ke.is_required&&l.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Ae(ke,"help_text")&&l.jsx("p",{className:"text-xs text-muted-foreground",children:Ae(ke,"help_text")})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",ke.field_order]})]})},ke.field_id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.created")}),l.jsx("p",{children:new Date(x.created_at).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.updated")}),l.jsx("p",{children:new Date(x.updated_at).toLocaleString()})]})]})]})]})]}),!ce.is_default&&l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-green-50 shrink-0",onClick:ke=>{ke.stopPropagation(),Qt(ce.template_id)},title:e("surveys.setAsDefault"),children:l.jsx(ll,{className:"h-4 w-4 text-green-500"})}),l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50 shrink-0",onClick:ke=>{ke.stopPropagation(),Te(ce)},children:l.jsx(H2,{className:"h-4 w-4"})}),l.jsxs(mi,{children:[l.jsx(wf,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50 shrink-0",onClick:ke=>{ke.stopPropagation(),M(ce.template_id)},children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Is,{onClick:ke=>ke.stopPropagation(),children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:e("surveys.deleteTemplate")}),l.jsx($s,{children:e("surveys.deleteTemplateConfirmation",{name:Ae(ce,"template_name")})})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:e("buttons.cancel")}),l.jsx(Bs,{onClick:ke=>{ke.stopPropagation(),ot(ce.template_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]},ce.template_id))}):l.jsx("div",{className:"w-full overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:pa()})})]})]}),l.jsx(An,{open:q,onOpenChange:F,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:e(I?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),l.jsx(Ba,{children:e("surveys.createTemplateDesc")})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"template_name",children:[e("surveys.templateName")," *"]}),l.jsx(We,{id:"template_name",value:ae.template_name,onChange:ce=>oe(ke=>({...ke,template_name:ce.target.value})),placeholder:e("surveys.templateName"),className:Q.template_name?"border-red-500":""}),Q.template_name&&l.jsx("p",{className:"text-sm text-red-500",children:Q.template_name})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"category",children:e("surveys.category")}),l.jsxs(jt,{value:ae.category,onValueChange:ce=>oe(ke=>({...ke,category:ce})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:e("surveys.selectCategory")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"customer_satisfaction",children:e("surveys.customerSatisfaction")}),l.jsx(Pe,{value:"product_feedback",children:e("surveys.productFeedback")}),l.jsx(Pe,{value:"service_quality",children:e("surveys.serviceQuality")}),l.jsx(Pe,{value:"general",children:e("surveys.general")})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"template_description",children:e("surveys.description")}),l.jsx(da,{id:"template_description",value:ae.template_description,onChange:ce=>oe(ke=>({...ke,template_description:ce.target.value})),placeholder:e("surveys.description"),rows:3})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"is_active",checked:ae.is_active,onChange:ce=>oe(ke=>({...ke,is_active:ce.target.checked})),className:"rounded"}),l.jsx(Ge,{htmlFor:"is_active",children:e("surveys.isActive")})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h3",{className:"text-lg font-semibold",children:e("surveys.fields")})}),Q.fields&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600",children:Q.fields})}),l.jsx("div",{className:"space-y-3",children:we.map((ce,ke)=>{var Be,Re,Ye;return l.jsx(ct,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>xe(ke,Math.max(0,ke-1)),disabled:ke===0,children:l.jsx(gie,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>xe(ke,Math.min(we.length-1,ke+1)),disabled:ke===we.length-1,children:l.jsx(mie,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{children:[e("surveys.fieldLabel")," *"]}),l.jsx(We,{value:ce.field_label,onChange:tt=>fe(ke,{field_label:tt.target.value}),placeholder:e("surveys.fieldLabel"),className:Q[`field_${ke}`]?"border-red-500":""}),Q[`field_${ke}`]&&l.jsx("p",{className:"text-sm text-red-500",children:Q[`field_${ke}`]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{children:[e("surveys.fieldType")," *"]}),l.jsxs(jt,{value:ce.field_type,onValueChange:tt=>fe(ke,{field_type:tt}),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"text",children:e("surveys.text")}),l.jsx(Pe,{value:"textarea",children:e("surveys.textarea")}),l.jsx(Pe,{value:"email",children:e("surveys.email")}),l.jsx(Pe,{value:"date",children:e("surveys.date")}),l.jsx(Pe,{value:"select",children:e("surveys.select")}),l.jsx(Pe,{value:"multiselect",children:e("surveys.multiselect")}),l.jsx(Pe,{value:"radio",children:e("surveys.radio")}),l.jsx(Pe,{value:"checkbox",children:e("surveys.checkbox")}),l.jsx(Pe,{value:"image",children:e("surveys.image")})]})]})]})]}),(ce.field_type==="select"||ce.field_type==="multiselect"||ce.field_type==="radio")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:e("surveys.options")}),l.jsx(da,{defaultValue:((Re=(Be=ce.field_options)==null?void 0:Be.options)==null?void 0:Re.join(`
`))||"",onBlur:tt=>{const Ht=tt.target.value.split(/[\n\s]+/).filter(Tr=>Tr.trim()).map(Tr=>Tr.trim());fe(ke,{field_options:{options:Ht,allow_multiple:ce.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((Ye=ce.field_options)==null?void 0:Ye.options)&&ce.field_options.options.length>0&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[ce.field_options.options.length," option(s): ",ce.field_options.options.join(", ")]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:`required-${ke}`,checked:ce.is_required,onChange:tt=>fe(ke,{is_required:tt.target.checked}),className:"rounded"}),l.jsx(Ge,{htmlFor:`required-${ke}`,children:e("surveys.isRequired")})]})]}),l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>le(ke),className:"text-red-500 hover:text-red-700",children:l.jsx(wr,{className:"h-4 w-4"})})]})},ke)})}),l.jsx("div",{className:"flex justify-center pt-4",children:l.jsxs(ue,{onClick:ye,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:[l.jsx(or,{className:"h-4 w-4 me-2"}),e("surveys.addField")]})})]})]}),l.jsxs($a,{children:[l.jsx(ue,{variant:"outline",onClick:()=>F(!1),disabled:P,children:e("buttons.cancel")}),l.jsx(ue,{onClick:Ue,disabled:!ae.template_name.trim()||P,children:e(P?"buttons.saving":I?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function L2e(){const{t:e}=qt();vr();const{isRTL:r}=Va(),n=yn(),[a,s]=y.useState([]),[i,o]=y.useState(!0),[c,u]=y.useState(null),[d,f]=y.useState(""),[h,m]=y.useState(null),[p,v]=y.useState(!1),[g,x]=y.useState("leads"),[b,w]=y.useState(""),[_,S]=y.useState("");y.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const D=await as.getAll();s(D)}catch(D){console.error("Failed to load stages:",D)}finally{o(!1)}},N=D=>a.filter(T=>T.stage_type===D).sort((T,z)=>(T.stager_order_index??0)-(z.stager_order_index??0)),k=async()=>{if(b.trim())try{const D=N(g),T=D.length>0?Math.max(...D.map(q=>q.stager_order_index||0)):-1,z={stage_name:b.trim(),stage_name_ar:_.trim()||null,stage_type:g,stager_order_index:T+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await as.create(z),await j(),w(""),S(""),v(!1)}catch(D){console.error("Failed to create stage:",D)}},E=async(D,T)=>{try{await as.update(D.stage_id,T),await j(),u(null),f("")}catch(z){console.error("Failed to update stage:",z)}},C=async D=>{try{await as.delete(D),await j(),m(null)}catch(T){console.error("Failed to delete stage:",T)}},O=D=>{const T=N(D);return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[l.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${D}`)}),l.jsxs(ue,{size:n?"default":"sm",onClick:()=>{x(D),v(!0)},className:"w-full sm:w-auto",children:[l.jsx(or,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),T.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):l.jsx("div",{className:"space-y-2",children:T.map((z,q)=>l.jsx(ct,{className:"p-3 md:p-4",children:l.jsxs("div",{className:ve("flex gap-2 md:gap-3 rtl:flex-row-reverse",n?"flex-col":"items-center"),children:[!n&&l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(c==null?void 0:c.stage_id)===z.stage_id?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(We,{value:c.stage_name,onChange:F=>u({...c,stage_name:F.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),l.jsx(We,{value:d,onChange:F=>f(F.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),l.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>E(z,{stage_name:c.stage_name,stage_name_ar:d||null}),className:"flex-1 sm:flex-initial",children:l.jsx(Ao,{className:"h-4 w-4"})}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{u(null),f("")},className:"flex-1 sm:flex-initial",children:l.jsx(Oo,{className:"h-4 w-4"})})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Ae(z,"stage_name")}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",z.stager_order_index]})]}),l.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{u(z),f(z.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:l.jsx(Vi,{className:"h-4 w-4"})}),l.jsx(ue,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>m(z.stage_id),children:l.jsx(wr,{className:"h-4 w-4"})})]})]})]})},z.stage_id))})]})};return i?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),l.jsxs(kl,{defaultValue:"stages",className:"space-y-6",children:[l.jsx(Fo,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:r?"rtl":"ltr",children:l.jsx(en,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),l.jsx(On,{value:"stages",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:r?"rtl":"ltr",children:[l.jsxs(ct,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Yt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:O("leads")})]}),l.jsxs(ct,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Yt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:O("projects")})]}),l.jsxs(ct,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Yt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:O("tasks")})]}),l.jsxs(ct,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Yt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:O("tickets")})]}),l.jsxs(ct,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Yt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:O("mleads")})]}),l.jsxs(ct,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Yt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:O("mprojects")})]})]})})]}),l.jsx(An,{open:p,onOpenChange:v,children:l.jsxs(mn,{className:"w-[95vw] sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:e("settings.addStage")}),l.jsx(Ba,{children:e("settings.addStageDesc",{type:e(`settings.${g}`)})})]}),l.jsxs("div",{className:"space-y-4 py-4",dir:r?"rtl":"ltr",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),l.jsx(We,{id:"stage-name",value:b,onChange:D=>w(D.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),l.jsx(We,{id:"stage-name-ar",value:_,onChange:D=>S(D.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),l.jsxs($a,{className:"flex-col sm:flex-row gap-2",dir:r?"rtl":"ltr",children:[l.jsx(ue,{variant:"outline",onClick:()=>v(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),l.jsx(ue,{onClick:k,disabled:!b.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),l.jsx(mi,{open:!!h,onOpenChange:D=>!D&&m(null),children:l.jsxs(Is,{children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:e("settings.deleteStage")}),l.jsx($s,{children:e("settings.deleteStageConfirmation")})]}),l.jsxs(Fs,{dir:r?"rtl":"ltr",children:[l.jsx(Us,{children:e("buttons.cancel")}),l.jsx(Bs,{onClick:()=>h&&C(h),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}const NP=({className:e,...r})=>l.jsx("nav",{role:"navigation","aria-label":"pagination",className:ve("mx-auto flex w-full justify-center",e),...r});NP.displayName="Pagination";const EP=y.forwardRef(({className:e,...r},n)=>l.jsx("ul",{ref:n,className:ve("flex flex-row items-center gap-1",e),...r}));EP.displayName="PaginationContent";const af=y.forwardRef(({className:e,...r},n)=>l.jsx("li",{ref:n,className:ve("",e),...r}));af.displayName="PaginationItem";const CP=({className:e,isActive:r,size:n="icon",...a})=>l.jsx("a",{"aria-current":r?"page":void 0,className:ve($m({variant:r?"outline":"ghost",size:n}),e),...a});CP.displayName="PaginationLink";const TP=({className:e,children:r,...n})=>l.jsx(CP,{"aria-label":"Go to previous page",size:"default",className:ve("gap-1 pl-2.5",e),...n,children:l.jsx("span",{children:r||"Previous"})});TP.displayName="PaginationPrevious";const AP=({className:e,children:r,...n})=>l.jsx(CP,{"aria-label":"Go to next page",size:"default",className:ve("gap-1 pr-2.5",e),...n,children:l.jsx("span",{children:r||"Next"})});AP.displayName="PaginationNext";var n3=1,$2e=.9,B2e=.8,U2e=.17,Xk=.1,Jk=.999,V2e=.9999,z2e=.99,W2e=/[\\\/_+.#"@\[\(\{&]/,H2e=/[\\\/_+.#"@\[\(\{&]/g,q2e=/[\s-]/,QK=/[\s-]/g;function $E(e,r,n,a,s,i,o){if(i===r.length)return s===e.length?n3:z2e;var c=`${s},${i}`;if(o[c]!==void 0)return o[c];for(var u=a.charAt(i),d=n.indexOf(u,s),f=0,h,m,p,v;d>=0;)h=$E(e,r,n,a,d+1,i+1,o),h>f&&(d===s?h*=n3:W2e.test(e.charAt(d-1))?(h*=B2e,p=e.slice(s,d-1).match(H2e),p&&s>0&&(h*=Math.pow(Jk,p.length))):q2e.test(e.charAt(d-1))?(h*=$2e,v=e.slice(s,d-1).match(QK),v&&s>0&&(h*=Math.pow(Jk,v.length))):(h*=U2e,s>0&&(h*=Math.pow(Jk,d-s))),e.charAt(d)!==r.charAt(i)&&(h*=V2e)),(h<Xk&&n.charAt(d-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&n.charAt(d-1)!==a.charAt(i))&&(m=$E(e,r,n,a,d+1,i+2,o),m*Xk>h&&(h=m*Xk)),h>f&&(f=h),d=n.indexOf(u,d+1);return o[c]=f,f}function a3(e){return e.toLowerCase().replace(QK," ")}function K2e(e,r,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,$E(e,r,a3(e),a3(r),0,0,{})}var j0='[cmdk-group=""]',Qk='[cmdk-group-items=""]',G2e='[cmdk-group-heading=""]',ZK='[cmdk-item=""]',s3=`${ZK}:not([aria-disabled="true"])`,BE="cmdk-item-select",bh="data-value",Y2e=(e,r,n)=>K2e(e,r,n),eG=y.createContext(void 0),Hx=()=>y.useContext(eG),tG=y.createContext(void 0),OP=()=>y.useContext(tG),rG=y.createContext(void 0),nG=y.forwardRef((e,r)=>{let n=_h(()=>{var A,X;return{search:"",value:(X=(A=e.value)!=null?A:e.defaultValue)!=null?X:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=_h(()=>new Set),s=_h(()=>new Map),i=_h(()=>new Map),o=_h(()=>new Set),c=aG(e),{label:u,children:d,value:f,onValueChange:h,filter:m,shouldFilter:p,loop:v,disablePointerSelection:g=!1,vimBindings:x=!0,...b}=e,w=ua(),_=ua(),S=ua(),j=y.useRef(null),N=iEe();Nf(()=>{if(f!==void 0){let A=f.trim();n.current.value=A,k.emit()}},[f]),Nf(()=>{N(6,z)},[]);let k=y.useMemo(()=>({subscribe:A=>(o.current.add(A),()=>o.current.delete(A)),snapshot:()=>n.current,setState:(A,X,U)=>{var H,ae,oe,we;if(!Object.is(n.current[A],X)){if(n.current[A]=X,A==="search")T(),O(),N(1,D);else if(A==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let se=document.getElementById(S);se?se.focus():(H=document.getElementById(w))==null||H.focus()}if(N(7,()=>{var se;n.current.selectedItemId=(se=q())==null?void 0:se.id,k.emit()}),U||N(5,z),((ae=c.current)==null?void 0:ae.value)!==void 0){let se=X??"";(we=(oe=c.current).onValueChange)==null||we.call(oe,se);return}}k.emit()}},emit:()=>{o.current.forEach(A=>A())}}),[]),E=y.useMemo(()=>({value:(A,X,U)=>{var H;X!==((H=i.current.get(A))==null?void 0:H.value)&&(i.current.set(A,{value:X,keywords:U}),n.current.filtered.items.set(A,C(X,U)),N(2,()=>{O(),k.emit()}))},item:(A,X)=>(a.current.add(A),X&&(s.current.has(X)?s.current.get(X).add(A):s.current.set(X,new Set([A]))),N(3,()=>{T(),O(),n.current.value||D(),k.emit()}),()=>{i.current.delete(A),a.current.delete(A),n.current.filtered.items.delete(A);let U=q();N(4,()=>{T(),(U==null?void 0:U.getAttribute("id"))===A&&D(),k.emit()})}),group:A=>(s.current.has(A)||s.current.set(A,new Set),()=>{i.current.delete(A),s.current.delete(A)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:w,inputId:S,labelId:_,listInnerRef:j}),[]);function C(A,X){var U,H;let ae=(H=(U=c.current)==null?void 0:U.filter)!=null?H:Y2e;return A?ae(A,n.current.search,X):0}function O(){if(!n.current.search||c.current.shouldFilter===!1)return;let A=n.current.filtered.items,X=[];n.current.filtered.groups.forEach(H=>{let ae=s.current.get(H),oe=0;ae.forEach(we=>{let se=A.get(we);oe=Math.max(se,oe)}),X.push([H,oe])});let U=j.current;F().sort((H,ae)=>{var oe,we;let se=H.getAttribute("id"),Q=ae.getAttribute("id");return((oe=A.get(Q))!=null?oe:0)-((we=A.get(se))!=null?we:0)}).forEach(H=>{let ae=H.closest(Qk);ae?ae.appendChild(H.parentElement===ae?H:H.closest(`${Qk} > *`)):U.appendChild(H.parentElement===U?H:H.closest(`${Qk} > *`))}),X.sort((H,ae)=>ae[1]-H[1]).forEach(H=>{var ae;let oe=(ae=j.current)==null?void 0:ae.querySelector(`${j0}[${bh}="${encodeURIComponent(H[0])}"]`);oe==null||oe.parentElement.appendChild(oe)})}function D(){let A=F().find(U=>U.getAttribute("aria-disabled")!=="true"),X=A==null?void 0:A.getAttribute(bh);k.setState("value",X||void 0)}function T(){var A,X,U,H;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let ae=0;for(let oe of a.current){let we=(X=(A=i.current.get(oe))==null?void 0:A.value)!=null?X:"",se=(H=(U=i.current.get(oe))==null?void 0:U.keywords)!=null?H:[],Q=C(we,se);n.current.filtered.items.set(oe,Q),Q>0&&ae++}for(let[oe,we]of s.current)for(let se of we)if(n.current.filtered.items.get(se)>0){n.current.filtered.groups.add(oe);break}n.current.filtered.count=ae}function z(){var A,X,U;let H=q();H&&(((A=H.parentElement)==null?void 0:A.firstChild)===H&&((U=(X=H.closest(j0))==null?void 0:X.querySelector(G2e))==null||U.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))}function q(){var A;return(A=j.current)==null?void 0:A.querySelector(`${ZK}[aria-selected="true"]`)}function F(){var A;return Array.from(((A=j.current)==null?void 0:A.querySelectorAll(s3))||[])}function I(A){let X=F()[A];X&&k.setState("value",X.getAttribute(bh))}function V(A){var X;let U=q(),H=F(),ae=H.findIndex(we=>we===U),oe=H[ae+A];(X=c.current)!=null&&X.loop&&(oe=ae+A<0?H[H.length-1]:ae+A===H.length?H[0]:H[ae+A]),oe&&k.setState("value",oe.getAttribute(bh))}function L(A){let X=q(),U=X==null?void 0:X.closest(j0),H;for(;U&&!H;)U=A>0?aEe(U,j0):sEe(U,j0),H=U==null?void 0:U.querySelector(s3);H?k.setState("value",H.getAttribute(bh)):V(A)}let M=()=>I(F().length-1),Y=A=>{A.preventDefault(),A.metaKey?M():A.altKey?L(1):V(1)},Z=A=>{A.preventDefault(),A.metaKey?I(0):A.altKey?L(-1):V(-1)};return y.createElement(mt.div,{ref:r,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:A=>{var X;(X=b.onKeyDown)==null||X.call(b,A);let U=A.nativeEvent.isComposing||A.keyCode===229;if(!(A.defaultPrevented||U))switch(A.key){case"n":case"j":{x&&A.ctrlKey&&Y(A);break}case"ArrowDown":{Y(A);break}case"p":case"k":{x&&A.ctrlKey&&Z(A);break}case"ArrowUp":{Z(A);break}case"Home":{A.preventDefault(),I(0);break}case"End":{A.preventDefault(),M();break}case"Enter":{A.preventDefault();let H=q();if(H){let ae=new Event(BE);H.dispatchEvent(ae)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:lEe},u),yS(e,A=>y.createElement(tG.Provider,{value:k},y.createElement(eG.Provider,{value:E},A))))}),X2e=y.forwardRef((e,r)=>{var n,a;let s=ua(),i=y.useRef(null),o=y.useContext(rG),c=Hx(),u=aG(e),d=(a=(n=u.current)==null?void 0:n.forceMount)!=null?a:o==null?void 0:o.forceMount;Nf(()=>{if(!d)return c.item(s,o==null?void 0:o.id)},[d]);let f=sG(s,i,[e.value,e.children,i],e.keywords),h=OP(),m=Wu(N=>N.value&&N.value===f.current),p=Wu(N=>d||c.filter()===!1?!0:N.search?N.filtered.items.get(s)>0:!0);y.useEffect(()=>{let N=i.current;if(!(!N||e.disabled))return N.addEventListener(BE,v),()=>N.removeEventListener(BE,v)},[p,e.onSelect,e.disabled]);function v(){var N,k;g(),(k=(N=u.current).onSelect)==null||k.call(N,f.current)}function g(){h.setState("value",f.current,!0)}if(!p)return null;let{disabled:x,value:b,onSelect:w,forceMount:_,keywords:S,...j}=e;return y.createElement(mt.div,{ref:pc(i,r),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!m,"data-disabled":!!x,"data-selected":!!m,onPointerMove:x||c.getDisablePointerSelection()?void 0:g,onClick:x?void 0:v},e.children)}),J2e=y.forwardRef((e,r)=>{let{heading:n,children:a,forceMount:s,...i}=e,o=ua(),c=y.useRef(null),u=y.useRef(null),d=ua(),f=Hx(),h=Wu(p=>s||f.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Nf(()=>f.group(o),[]),sG(o,c,[e.value,e.heading,u]);let m=y.useMemo(()=>({id:o,forceMount:s}),[s]);return y.createElement(mt.div,{ref:pc(c,r),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&y.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),yS(e,p=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},y.createElement(rG.Provider,{value:m},p))))}),Q2e=y.forwardRef((e,r)=>{let{alwaysRender:n,...a}=e,s=y.useRef(null),i=Wu(o=>!o.search);return!n&&!i?null:y.createElement(mt.div,{ref:pc(s,r),...a,"cmdk-separator":"",role:"separator"})}),Z2e=y.forwardRef((e,r)=>{let{onValueChange:n,...a}=e,s=e.value!=null,i=OP(),o=Wu(d=>d.search),c=Wu(d=>d.selectedItemId),u=Hx();return y.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),y.createElement(mt.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":c,id:u.inputId,type:"text",value:s?e.value:o,onChange:d=>{s||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),eEe=y.forwardRef((e,r)=>{let{children:n,label:a="Suggestions",...s}=e,i=y.useRef(null),o=y.useRef(null),c=Wu(d=>d.selectedItemId),u=Hx();return y.useEffect(()=>{if(o.current&&i.current){let d=o.current,f=i.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;f.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(h),m.unobserve(d)}}},[]),y.createElement(mt.div,{ref:pc(i,r),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":a,id:u.listId},yS(e,d=>y.createElement("div",{ref:pc(o,u.listInnerRef),"cmdk-list-sizer":""},d)))}),tEe=y.forwardRef((e,r)=>{let{open:n,onOpenChange:a,overlayClassName:s,contentClassName:i,container:o,...c}=e;return y.createElement(Z_,{open:n,onOpenChange:a},y.createElement(eS,{container:o},y.createElement(Lp,{"cmdk-overlay":"",className:s}),y.createElement($p,{"aria-label":e.label,"cmdk-dialog":"",className:i},y.createElement(nG,{ref:r,...c}))))}),rEe=y.forwardRef((e,r)=>Wu(n=>n.filtered.count===0)?y.createElement(mt.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),nEe=y.forwardRef((e,r)=>{let{progress:n,children:a,label:s="Loading...",...i}=e;return y.createElement(mt.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},yS(e,o=>y.createElement("div",{"aria-hidden":!0},o)))}),Ws=Object.assign(nG,{List:eEe,Item:X2e,Input:Z2e,Group:J2e,Separator:Q2e,Dialog:tEe,Empty:rEe,Loading:nEe});function aEe(e,r){let n=e.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function sEe(e,r){let n=e.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function aG(e){let r=y.useRef(e);return Nf(()=>{r.current=e}),r}var Nf=typeof window>"u"?y.useEffect:y.useLayoutEffect;function _h(e){let r=y.useRef();return r.current===void 0&&(r.current=e()),r}function Wu(e){let r=OP(),n=()=>e(r.snapshot());return y.useSyncExternalStore(r.subscribe,n,n)}function sG(e,r,n,a=[]){let s=y.useRef(),i=Hx();return Nf(()=>{var o;let c=(()=>{var d;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(d=f.current.textContent)==null?void 0:d.trim():s.current}})(),u=a.map(d=>d.trim());i.value(e,c,u),(o=r.current)==null||o.setAttribute(bh,c),s.current=c}),s}var iEe=()=>{let[e,r]=y.useState(),n=_h(()=>new Map);return Nf(()=>{n.current.forEach(a=>a()),n.current=new Map},[e]),(a,s)=>{n.current.set(a,s),r({})}};function oEe(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function yS({asChild:e,children:r},n){return e&&y.isValidElement(r)?y.cloneElement(oEe(r),{ref:r.ref},n(r.props.children)):n(r)}var lEe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Sa=y.forwardRef(({className:e,...r},n)=>l.jsx(Ws,{ref:n,className:ve("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));Sa.displayName=Ws.displayName;const ja=y.forwardRef(({className:e,...r},n)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(zs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(Ws.Input,{ref:n,className:ve("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));ja.displayName=Ws.Input.displayName;const ka=y.forwardRef(({className:e,...r},n)=>l.jsx(Ws.List,{ref:n,className:ve("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));ka.displayName=Ws.List.displayName;const Na=y.forwardRef((e,r)=>l.jsx(Ws.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));Na.displayName=Ws.Empty.displayName;const Ea=y.forwardRef(({className:e,...r},n)=>l.jsx(Ws.Group,{ref:n,className:ve("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));Ea.displayName=Ws.Group.displayName;const cEe=y.forwardRef(({className:e,...r},n)=>l.jsx(Ws.Separator,{ref:n,className:ve("-mx-1 h-px bg-border",e),...r}));cEe.displayName=Ws.Separator.displayName;const qr=y.forwardRef(({className:e,...r},n)=>l.jsx(Ws.Item,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...r}));qr.displayName=Ws.Item.displayName;var uEe=Array.isArray,Hs=uEe,dEe=typeof ly=="object"&&ly&&ly.Object===Object&&ly,iG=dEe,fEe=iG,hEe=typeof self=="object"&&self&&self.Object===Object&&self,mEe=fEe||hEe||Function("return this")(),Ml=mEe,pEe=Ml,gEe=pEe.Symbol,qx=gEe,i3=qx,oG=Object.prototype,vEe=oG.hasOwnProperty,xEe=oG.toString,k0=i3?i3.toStringTag:void 0;function yEe(e){var r=vEe.call(e,k0),n=e[k0];try{e[k0]=void 0;var a=!0}catch{}var s=xEe.call(e);return a&&(r?e[k0]=n:delete e[k0]),s}var wEe=yEe,bEe=Object.prototype,_Ee=bEe.toString;function SEe(e){return _Ee.call(e)}var jEe=SEe,o3=qx,kEe=wEe,NEe=jEe,EEe="[object Null]",CEe="[object Undefined]",l3=o3?o3.toStringTag:void 0;function TEe(e){return e==null?e===void 0?CEe:EEe:l3&&l3 in Object(e)?kEe(e):NEe(e)}var Ac=TEe;function AEe(e){return e!=null&&typeof e=="object"}var Oc=AEe,OEe=Ac,PEe=Oc,DEe="[object Symbol]";function REe(e){return typeof e=="symbol"||PEe(e)&&OEe(e)==DEe}var Yp=REe,IEe=Hs,MEe=Yp,FEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LEe=/^\w*$/;function $Ee(e,r){if(IEe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||MEe(e)?!0:LEe.test(e)||!FEe.test(e)||r!=null&&e in Object(r)}var PP=$Ee;function BEe(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var nd=BEe;const Xp=gr(nd);var UEe=Ac,VEe=nd,zEe="[object AsyncFunction]",WEe="[object Function]",HEe="[object GeneratorFunction]",qEe="[object Proxy]";function KEe(e){if(!VEe(e))return!1;var r=UEe(e);return r==WEe||r==HEe||r==zEe||r==qEe}var DP=KEe;const Pt=gr(DP);var GEe=Ml,YEe=GEe["__core-js_shared__"],XEe=YEe,Zk=XEe,c3=function(){var e=/[^.]+$/.exec(Zk&&Zk.keys&&Zk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function JEe(e){return!!c3&&c3 in e}var QEe=JEe,ZEe=Function.prototype,eCe=ZEe.toString;function tCe(e){if(e!=null){try{return eCe.call(e)}catch{}try{return e+""}catch{}}return""}var lG=tCe,rCe=DP,nCe=QEe,aCe=nd,sCe=lG,iCe=/[\\^$.*+?()[\]{}|]/g,oCe=/^\[object .+?Constructor\]$/,lCe=Function.prototype,cCe=Object.prototype,uCe=lCe.toString,dCe=cCe.hasOwnProperty,fCe=RegExp("^"+uCe.call(dCe).replace(iCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hCe(e){if(!aCe(e)||nCe(e))return!1;var r=rCe(e)?fCe:oCe;return r.test(sCe(e))}var mCe=hCe;function pCe(e,r){return e==null?void 0:e[r]}var gCe=pCe,vCe=mCe,xCe=gCe;function yCe(e,r){var n=xCe(e,r);return vCe(n)?n:void 0}var qf=yCe,wCe=qf,bCe=wCe(Object,"create"),wS=bCe,u3=wS;function _Ce(){this.__data__=u3?u3(null):{},this.size=0}var SCe=_Ce;function jCe(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var kCe=jCe,NCe=wS,ECe="__lodash_hash_undefined__",CCe=Object.prototype,TCe=CCe.hasOwnProperty;function ACe(e){var r=this.__data__;if(NCe){var n=r[e];return n===ECe?void 0:n}return TCe.call(r,e)?r[e]:void 0}var OCe=ACe,PCe=wS,DCe=Object.prototype,RCe=DCe.hasOwnProperty;function ICe(e){var r=this.__data__;return PCe?r[e]!==void 0:RCe.call(r,e)}var MCe=ICe,FCe=wS,LCe="__lodash_hash_undefined__";function $Ce(e,r){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=FCe&&r===void 0?LCe:r,this}var BCe=$Ce,UCe=SCe,VCe=kCe,zCe=OCe,WCe=MCe,HCe=BCe;function Jp(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}Jp.prototype.clear=UCe;Jp.prototype.delete=VCe;Jp.prototype.get=zCe;Jp.prototype.has=WCe;Jp.prototype.set=HCe;var qCe=Jp;function KCe(){this.__data__=[],this.size=0}var GCe=KCe;function YCe(e,r){return e===r||e!==e&&r!==r}var RP=YCe,XCe=RP;function JCe(e,r){for(var n=e.length;n--;)if(XCe(e[n][0],r))return n;return-1}var bS=JCe,QCe=bS,ZCe=Array.prototype,eTe=ZCe.splice;function tTe(e){var r=this.__data__,n=QCe(r,e);if(n<0)return!1;var a=r.length-1;return n==a?r.pop():eTe.call(r,n,1),--this.size,!0}var rTe=tTe,nTe=bS;function aTe(e){var r=this.__data__,n=nTe(r,e);return n<0?void 0:r[n][1]}var sTe=aTe,iTe=bS;function oTe(e){return iTe(this.__data__,e)>-1}var lTe=oTe,cTe=bS;function uTe(e,r){var n=this.__data__,a=cTe(n,e);return a<0?(++this.size,n.push([e,r])):n[a][1]=r,this}var dTe=uTe,fTe=GCe,hTe=rTe,mTe=sTe,pTe=lTe,gTe=dTe;function Qp(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}Qp.prototype.clear=fTe;Qp.prototype.delete=hTe;Qp.prototype.get=mTe;Qp.prototype.has=pTe;Qp.prototype.set=gTe;var _S=Qp,vTe=qf,xTe=Ml,yTe=vTe(xTe,"Map"),IP=yTe,d3=qCe,wTe=_S,bTe=IP;function _Te(){this.size=0,this.__data__={hash:new d3,map:new(bTe||wTe),string:new d3}}var STe=_Te;function jTe(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var kTe=jTe,NTe=kTe;function ETe(e,r){var n=e.__data__;return NTe(r)?n[typeof r=="string"?"string":"hash"]:n.map}var SS=ETe,CTe=SS;function TTe(e){var r=CTe(this,e).delete(e);return this.size-=r?1:0,r}var ATe=TTe,OTe=SS;function PTe(e){return OTe(this,e).get(e)}var DTe=PTe,RTe=SS;function ITe(e){return RTe(this,e).has(e)}var MTe=ITe,FTe=SS;function LTe(e,r){var n=FTe(this,e),a=n.size;return n.set(e,r),this.size+=n.size==a?0:1,this}var $Te=LTe,BTe=STe,UTe=ATe,VTe=DTe,zTe=MTe,WTe=$Te;function Zp(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}Zp.prototype.clear=BTe;Zp.prototype.delete=UTe;Zp.prototype.get=VTe;Zp.prototype.has=zTe;Zp.prototype.set=WTe;var MP=Zp,cG=MP,HTe="Expected a function";function FP(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(HTe);var n=function(){var a=arguments,s=r?r.apply(this,a):a[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,a);return n.cache=i.set(s,o)||i,o};return n.cache=new(FP.Cache||cG),n}FP.Cache=cG;var uG=FP;const qTe=gr(uG);var KTe=uG,GTe=500;function YTe(e){var r=KTe(e,function(a){return n.size===GTe&&n.clear(),a}),n=r.cache;return r}var XTe=YTe,JTe=XTe,QTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZTe=/\\(\\)?/g,eAe=JTe(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(QTe,function(n,a,s,i){r.push(s?i.replace(ZTe,"$1"):a||n)}),r}),tAe=eAe;function rAe(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}var LP=rAe,f3=qx,nAe=LP,aAe=Hs,sAe=Yp,iAe=1/0,h3=f3?f3.prototype:void 0,m3=h3?h3.toString:void 0;function dG(e){if(typeof e=="string")return e;if(aAe(e))return nAe(e,dG)+"";if(sAe(e))return m3?m3.call(e):"";var r=e+"";return r=="0"&&1/e==-iAe?"-0":r}var oAe=dG,lAe=oAe;function cAe(e){return e==null?"":lAe(e)}var fG=cAe,uAe=Hs,dAe=PP,fAe=tAe,hAe=fG;function mAe(e,r){return uAe(e)?e:dAe(e,r)?[e]:fAe(hAe(e))}var hG=mAe,pAe=Yp,gAe=1/0;function vAe(e){if(typeof e=="string"||pAe(e))return e;var r=e+"";return r=="0"&&1/e==-gAe?"-0":r}var jS=vAe,xAe=hG,yAe=jS;function wAe(e,r){r=xAe(r,e);for(var n=0,a=r.length;e!=null&&n<a;)e=e[yAe(r[n++])];return n&&n==a?e:void 0}var $P=wAe,bAe=$P;function _Ae(e,r,n){var a=e==null?void 0:bAe(e,r);return a===void 0?n:a}var mG=_Ae;const di=gr(mG);function SAe(e){return e==null}var jAe=SAe;const $t=gr(jAe);var kAe=Ac,NAe=Hs,EAe=Oc,CAe="[object String]";function TAe(e){return typeof e=="string"||!NAe(e)&&EAe(e)&&kAe(e)==CAe}var AAe=TAe;const Ef=gr(AAe);var pG={exports:{}},Sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=Symbol.for("react.element"),UP=Symbol.for("react.portal"),kS=Symbol.for("react.fragment"),NS=Symbol.for("react.strict_mode"),ES=Symbol.for("react.profiler"),CS=Symbol.for("react.provider"),TS=Symbol.for("react.context"),OAe=Symbol.for("react.server_context"),AS=Symbol.for("react.forward_ref"),OS=Symbol.for("react.suspense"),PS=Symbol.for("react.suspense_list"),DS=Symbol.for("react.memo"),RS=Symbol.for("react.lazy"),PAe=Symbol.for("react.offscreen"),gG;gG=Symbol.for("react.module.reference");function Gi(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case BP:switch(e=e.type,e){case kS:case ES:case NS:case OS:case PS:return e;default:switch(e=e&&e.$$typeof,e){case OAe:case TS:case AS:case RS:case DS:case CS:return e;default:return r}}case UP:return r}}}Sr.ContextConsumer=TS;Sr.ContextProvider=CS;Sr.Element=BP;Sr.ForwardRef=AS;Sr.Fragment=kS;Sr.Lazy=RS;Sr.Memo=DS;Sr.Portal=UP;Sr.Profiler=ES;Sr.StrictMode=NS;Sr.Suspense=OS;Sr.SuspenseList=PS;Sr.isAsyncMode=function(){return!1};Sr.isConcurrentMode=function(){return!1};Sr.isContextConsumer=function(e){return Gi(e)===TS};Sr.isContextProvider=function(e){return Gi(e)===CS};Sr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===BP};Sr.isForwardRef=function(e){return Gi(e)===AS};Sr.isFragment=function(e){return Gi(e)===kS};Sr.isLazy=function(e){return Gi(e)===RS};Sr.isMemo=function(e){return Gi(e)===DS};Sr.isPortal=function(e){return Gi(e)===UP};Sr.isProfiler=function(e){return Gi(e)===ES};Sr.isStrictMode=function(e){return Gi(e)===NS};Sr.isSuspense=function(e){return Gi(e)===OS};Sr.isSuspenseList=function(e){return Gi(e)===PS};Sr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===kS||e===ES||e===NS||e===OS||e===PS||e===PAe||typeof e=="object"&&e!==null&&(e.$$typeof===RS||e.$$typeof===DS||e.$$typeof===CS||e.$$typeof===TS||e.$$typeof===AS||e.$$typeof===gG||e.getModuleId!==void 0)};Sr.typeOf=Gi;pG.exports=Sr;var DAe=pG.exports,RAe=Ac,IAe=Oc,MAe="[object Number]";function FAe(e){return typeof e=="number"||IAe(e)&&RAe(e)==MAe}var vG=FAe;const LAe=gr(vG);var $Ae=vG;function BAe(e){return $Ae(e)&&e!=+e}var UAe=BAe;const Kx=gr(UAe);var is=function(r){return r===0?0:r>0?1:-1},Ld=function(r){return Ef(r)&&r.indexOf("%")===r.length-1},Qe=function(r){return LAe(r)&&!Kx(r)},VAe=function(r){return $t(r)},Hn=function(r){return Qe(r)||Ef(r)},zAe=0,e0=function(r){var n=++zAe;return"".concat(r||"").concat(n)},os=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(r)&&!Ef(r))return a;var i;if(Ld(r)){var o=r.indexOf("%");i=n*parseFloat(r.slice(0,o))/100}else i=+r;return Kx(i)&&(i=a),s&&i>n&&(i=n),i},ru=function(r){if(!r)return null;var n=Object.keys(r);return n&&n.length?r[n[0]]:null},WAe=function(r){if(!Array.isArray(r))return!1;for(var n=r.length,a={},s=0;s<n;s++)if(!a[r[s]])a[r[s]]=!0;else return!0;return!1},ni=function(r,n){return Qe(r)&&Qe(n)?function(a){return r+a*(n-r)}:function(){return n}};function rb(e,r,n){return!e||!e.length?null:e.find(function(a){return a&&(typeof r=="function"?r(a):di(a,r))===n})}var HAe=function(r,n){return Qe(r)&&Qe(n)?r-n:Ef(r)&&Ef(n)?r.localeCompare(n):r instanceof Date&&n instanceof Date?r.getTime()-n.getTime():String(r).localeCompare(String(n))};function dm(e,r){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(r,n)||e[n]!==r[n]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function UE(e){"@babel/helpers - typeof";return UE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},UE(e)}var qAe=["viewBox","children"],KAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],p3=["points","pathLength"],eN={svg:qAe,polygon:p3,polyline:p3},VP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nb=function(r,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(y.isValidElement(r)&&(a=r.props),!Xp(a))return null;var s={};return Object.keys(a).forEach(function(i){VP.includes(i)&&(s[i]=n||function(o){return a[i](a,o)})}),s},GAe=function(r,n,a){return function(s){return r(n,a,s),null}},Cf=function(r,n,a){if(!Xp(r)||UE(r)!=="object")return null;var s=null;return Object.keys(r).forEach(function(i){var o=r[i];VP.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=GAe(o,n,a))}),s},YAe=["children"],XAe=["children"];function g3(e,r){if(e==null)return{};var n=JAe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function JAe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function VE(e){"@babel/helpers - typeof";return VE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},VE(e)}var v3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},lc=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},x3=null,tN=null,zP=function e(r){if(r===x3&&Array.isArray(tN))return tN;var n=[];return y.Children.forEach(r,function(a){$t(a)||(DAe.isFragment(a)?n=n.concat(e(a.props.children)):n.push(a))}),tN=n,x3=r,n};function fi(e,r){var n=[],a=[];return Array.isArray(r)?a=r.map(function(s){return lc(s)}):a=[lc(r)],zP(e).forEach(function(s){var i=di(s,"type.displayName")||di(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function Js(e,r){var n=fi(e,r);return n&&n[0]}var y3=function(r){if(!r||!r.props)return!1;var n=r.props,a=n.width,s=n.height;return!(!Qe(a)||a<=0||!Qe(s)||s<=0)},QAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ZAe=function(r){return r&&r.type&&Ef(r.type)&&QAe.indexOf(r.type)>=0},eOe=function(r){return r&&VE(r)==="object"&&"clipDot"in r},tOe=function(r,n,a,s){var i,o=(i=eN==null?void 0:eN[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Pt(r)&&(s&&o.includes(n)||KAe.includes(n))||a&&VP.includes(n)},Nt=function(r,n,a){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(y.isValidElement(r)&&(s=r.props),!Xp(s))return null;var i={};return Object.keys(s).forEach(function(o){var c;tOe((c=s)===null||c===void 0?void 0:c[o],o,n,a)&&(i[o]=s[o])}),i},zE=function e(r,n){if(r===n)return!0;var a=y.Children.count(r);if(a!==y.Children.count(n))return!1;if(a===0)return!0;if(a===1)return w3(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=r[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!w3(i,o))return!1}return!0},w3=function(r,n){if($t(r)&&$t(n))return!0;if(!$t(r)&&!$t(n)){var a=r.props||{},s=a.children,i=g3(a,YAe),o=n.props||{},c=o.children,u=g3(o,XAe);return s&&c?dm(i,u)&&zE(s,c):!s&&!c?dm(i,u):!1}return!1},b3=function(r,n){var a=[],s={};return zP(r).forEach(function(i,o){if(ZAe(i))a.push(i);else if(i){var c=lc(i.type),u=n[c]||{},d=u.handler,f=u.once;if(d&&(!f||!s[c])){var h=d(i,c,o);a.push(h),s[c]=!0}}}),a},rOe=function(r){var n=r&&r.type;return n&&v3[n]?v3[n]:null},nOe=function(r,n){return zP(n).indexOf(r)},aOe=["children","width","height","viewBox","className","style","title","desc"];function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},WE.apply(this,arguments)}function sOe(e,r){if(e==null)return{};var n=iOe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function iOe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function HE(e){var r=e.children,n=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,c=e.title,u=e.desc,d=sOe(e,aOe),f=s||{width:n,height:a,x:0,y:0},h=Bt("recharts-surface",i);return ne.createElement("svg",WE({},Nt(d,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),ne.createElement("title",null,c),ne.createElement("desc",null,u),r)}var oOe=["children","className"];function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qE.apply(this,arguments)}function lOe(e,r){if(e==null)return{};var n=cOe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function cOe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var dr=ne.forwardRef(function(e,r){var n=e.children,a=e.className,s=lOe(e,oOe),i=Bt("recharts-layer",a);return ne.createElement("g",qE({className:i},Nt(s,!0),{ref:r}),n)}),No=function(r,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function uOe(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+r];return i}var dOe=uOe,fOe=dOe;function hOe(e,r,n){var a=e.length;return n=n===void 0?a:n,!r&&n>=a?e:fOe(e,r,n)}var mOe=hOe,pOe="\\ud800-\\udfff",gOe="\\u0300-\\u036f",vOe="\\ufe20-\\ufe2f",xOe="\\u20d0-\\u20ff",yOe=gOe+vOe+xOe,wOe="\\ufe0e\\ufe0f",bOe="\\u200d",_Oe=RegExp("["+bOe+pOe+yOe+wOe+"]");function SOe(e){return _Oe.test(e)}var xG=SOe;function jOe(e){return e.split("")}var kOe=jOe,yG="\\ud800-\\udfff",NOe="\\u0300-\\u036f",EOe="\\ufe20-\\ufe2f",COe="\\u20d0-\\u20ff",TOe=NOe+EOe+COe,AOe="\\ufe0e\\ufe0f",OOe="["+yG+"]",KE="["+TOe+"]",GE="\\ud83c[\\udffb-\\udfff]",POe="(?:"+KE+"|"+GE+")",wG="[^"+yG+"]",bG="(?:\\ud83c[\\udde6-\\uddff]){2}",_G="[\\ud800-\\udbff][\\udc00-\\udfff]",DOe="\\u200d",SG=POe+"?",jG="["+AOe+"]?",ROe="(?:"+DOe+"(?:"+[wG,bG,_G].join("|")+")"+jG+SG+")*",IOe=jG+SG+ROe,MOe="(?:"+[wG+KE+"?",KE,bG,_G,OOe].join("|")+")",FOe=RegExp(GE+"(?="+GE+")|"+MOe+IOe,"g");function LOe(e){return e.match(FOe)||[]}var $Oe=LOe,BOe=kOe,UOe=xG,VOe=$Oe;function zOe(e){return UOe(e)?VOe(e):BOe(e)}var WOe=zOe,HOe=mOe,qOe=xG,KOe=WOe,GOe=fG;function YOe(e){return function(r){r=GOe(r);var n=qOe(r)?KOe(r):void 0,a=n?n[0]:r.charAt(0),s=n?HOe(n,1).join(""):r.slice(1);return a[e]()+s}}var XOe=YOe,JOe=XOe,QOe=JOe("toUpperCase"),ZOe=QOe;const IS=gr(ZOe);function Ir(e){return function(){return e}}const kG=Math.cos,ab=Math.sin,Bo=Math.sqrt,sb=Math.PI,MS=2*sb,YE=Math.PI,XE=2*YE,yd=1e-6,ePe=XE-yd;function NG(e){this._+=e[0];for(let r=1,n=e.length;r<n;++r)this._+=arguments[r]+e[r]}function tPe(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return NG;const n=10**r;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class rPe{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?NG:tPe(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,a,s){this._append`Q${+r},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(r,n,a,s,i,o){this._append`C${+r},${+n},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(r,n,a,s,i){if(r=+r,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,u=a-r,d=s-n,f=o-r,h=c-n,m=f*f+h*h;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(m>yd)if(!(Math.abs(h*u-d*f)>yd)||!i)this._append`L${this._x1=r},${this._y1=n}`;else{let p=a-o,v=s-c,g=u*u+d*d,x=p*p+v*v,b=Math.sqrt(g),w=Math.sqrt(m),_=i*Math.tan((YE-Math.acos((g+m-x)/(2*b*w)))/2),S=_/w,j=_/b;Math.abs(S-1)>yd&&this._append`L${r+S*f},${n+S*h}`,this._append`A${i},${i},0,0,${+(h*p>f*v)},${this._x1=r+j*u},${this._y1=n+j*d}`}}arc(r,n,a,s,i,o){if(r=+r,n=+n,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let c=a*Math.cos(s),u=a*Math.sin(s),d=r+c,f=n+u,h=1^o,m=o?s-i:i-s;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>yd||Math.abs(this._y1-f)>yd)&&this._append`L${d},${f}`,a&&(m<0&&(m=m%XE+XE),m>ePe?this._append`A${a},${a},0,1,${h},${r-c},${n-u}A${a},${a},0,1,${h},${this._x1=d},${this._y1=f}`:m>yd&&this._append`A${a},${a},0,${+(m>=YE)},${h},${this._x1=r+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(r,n,a,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function WP(e){let r=3;return e.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);r=a}return e},()=>new rPe(r)}function HP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EG(e){this._context=e}EG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function FS(e){return new EG(e)}function CG(e){return e[0]}function TG(e){return e[1]}function AG(e,r){var n=Ir(!0),a=null,s=FS,i=null,o=WP(c);e=typeof e=="function"?e:e===void 0?CG:Ir(e),r=typeof r=="function"?r:r===void 0?TG:Ir(r);function c(u){var d,f=(u=HP(u)).length,h,m=!1,p;for(a==null&&(i=s(p=o())),d=0;d<=f;++d)!(d<f&&n(h=u[d],d,u))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,d,u),+r(h,d,u));if(p)return i=null,p+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ir(+u),c):e},c.y=function(u){return arguments.length?(r=typeof u=="function"?u:Ir(+u),c):r},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ir(!!u),c):n},c.curve=function(u){return arguments.length?(s=u,a!=null&&(i=s(a)),c):s},c.context=function(u){return arguments.length?(u==null?a=i=null:i=s(a=u),c):a},c}function nw(e,r,n){var a=null,s=Ir(!0),i=null,o=FS,c=null,u=WP(d);e=typeof e=="function"?e:e===void 0?CG:Ir(+e),r=typeof r=="function"?r:Ir(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?TG:Ir(+n);function d(h){var m,p,v,g=(h=HP(h)).length,x,b=!1,w,_=new Array(g),S=new Array(g);for(i==null&&(c=o(w=u())),m=0;m<=g;++m){if(!(m<g&&s(x=h[m],m,h))===b)if(b=!b)p=m,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=m-1;v>=p;--v)c.point(_[v],S[v]);c.lineEnd(),c.areaEnd()}b&&(_[m]=+e(x,m,h),S[m]=+r(x,m,h),c.point(a?+a(x,m,h):_[m],n?+n(x,m,h):S[m]))}if(w)return c=null,w+""||null}function f(){return AG().defined(s).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ir(+h),a=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ir(+h),d):e},d.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Ir(+h),d):a},d.y=function(h){return arguments.length?(r=typeof h=="function"?h:Ir(+h),n=null,d):r},d.y0=function(h){return arguments.length?(r=typeof h=="function"?h:Ir(+h),d):r},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ir(+h),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(r)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(a).y(r)},d.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Ir(!!h),d):s},d.curve=function(h){return arguments.length?(o=h,i!=null&&(c=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=c=null:c=o(i=h),d):i},d}class OG{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function nPe(e){return new OG(e,!0)}function aPe(e){return new OG(e,!1)}const qP={draw(e,r){const n=Bo(r/sb);e.moveTo(n,0),e.arc(0,0,n,0,MS)}},sPe={draw(e,r){const n=Bo(r/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},PG=Bo(1/3),iPe=PG*2,oPe={draw(e,r){const n=Bo(r/iPe),a=n*PG;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},lPe={draw(e,r){const n=Bo(r),a=-n/2;e.rect(a,a,n,n)}},cPe=.8908130915292852,DG=ab(sb/10)/ab(7*sb/10),uPe=ab(MS/10)*DG,dPe=-kG(MS/10)*DG,fPe={draw(e,r){const n=Bo(r*cPe),a=uPe*n,s=dPe*n;e.moveTo(0,-n),e.lineTo(a,s);for(let i=1;i<5;++i){const o=MS*i/5,c=kG(o),u=ab(o);e.lineTo(u*n,-c*n),e.lineTo(c*a-u*s,u*a+c*s)}e.closePath()}},rN=Bo(3),hPe={draw(e,r){const n=-Bo(r/(rN*3));e.moveTo(0,n*2),e.lineTo(-rN*n,-n),e.lineTo(rN*n,-n),e.closePath()}},_i=-.5,Si=Bo(3)/2,JE=1/Bo(12),mPe=(JE/2+1)*3,pPe={draw(e,r){const n=Bo(r/mPe),a=n/2,s=n*JE,i=a,o=n*JE+n,c=-i,u=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(c,u),e.lineTo(_i*a-Si*s,Si*a+_i*s),e.lineTo(_i*i-Si*o,Si*i+_i*o),e.lineTo(_i*c-Si*u,Si*c+_i*u),e.lineTo(_i*a+Si*s,_i*s-Si*a),e.lineTo(_i*i+Si*o,_i*o-Si*i),e.lineTo(_i*c+Si*u,_i*u-Si*c),e.closePath()}};function gPe(e,r){let n=null,a=WP(s);e=typeof e=="function"?e:Ir(e||qP),r=typeof r=="function"?r:Ir(r===void 0?64:+r);function s(){let i;if(n||(n=i=a()),e.apply(this,arguments).draw(n,+r.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ir(i),s):e},s.size=function(i){return arguments.length?(r=typeof i=="function"?i:Ir(+i),s):r},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function ib(){}function ob(e,r,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+n)/6)}function RG(e){this._context=e}RG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ob(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ob(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function vPe(e){return new RG(e)}function IG(e){this._context=e}IG.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:ob(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function xPe(e){return new IG(e)}function MG(e){this._context=e}MG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:ob(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function yPe(e){return new MG(e)}function FG(e){this._context=e}FG.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function wPe(e){return new FG(e)}function _3(e){return e<0?-1:1}function S3(e,r,n){var a=e._x1-e._x0,s=r-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(n-e._y1)/(s||a<0&&-0),c=(i*s+o*a)/(a+s);return(_3(i)+_3(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function j3(e,r){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-r)/2:r}function nN(e,r,n){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,c=(i-a)/3;e._context.bezierCurveTo(a+c,s+c*r,i-c,o-c*n,i,o)}function lb(e){this._context=e}lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nN(this,this._t0,j3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var n=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,nN(this,j3(this,n=S3(this,e,r)),n);break;default:nN(this,this._t0,n=S3(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=n}}};function LG(e){this._context=new $G(e)}(LG.prototype=Object.create(lb.prototype)).point=function(e,r){lb.prototype.point.call(this,r,e)};function $G(e){this._context=e}$G.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,n,a,s,i){this._context.bezierCurveTo(r,e,a,n,i,s)}};function bPe(e){return new lb(e)}function _Pe(e){return new LG(e)}function BG(e){this._context=e}BG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),n===2)this._context.lineTo(e[1],r[1]);else for(var a=k3(e),s=k3(r),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],r[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function k3(e){var r,n=e.length-1,a,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<n-1;++r)s[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],r=1;r<n;++r)a=s[r]/i[r-1],i[r]-=a,o[r]-=a*o[r-1];for(s[n-1]=o[n-1]/i[n-1],r=n-2;r>=0;--r)s[r]=(o[r]-s[r+1])/i[r];for(i[n-1]=(e[n]+s[n-1])/2,r=0;r<n-1;++r)i[r]=2*e[r+1]-s[r+1];return[s,i]}function SPe(e){return new BG(e)}function LS(e,r){this._context=e,this._t=r}LS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=e,this._y=r}};function jPe(e){return new LS(e,.5)}function kPe(e){return new LS(e,0)}function NPe(e){return new LS(e,1)}function Jm(e,r){if((o=e.length)>1)for(var n=1,a,s,i=e[r[0]],o,c=i.length;n<o;++n)for(s=i,i=e[r[n]],a=0;a<c;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function QE(e){for(var r=e.length,n=new Array(r);--r>=0;)n[r]=r;return n}function EPe(e,r){return e[r]}function CPe(e){const r=[];return r.key=e,r}function TPe(){var e=Ir([]),r=QE,n=Jm,a=EPe;function s(i){var o=Array.from(e.apply(this,arguments),CPe),c,u=o.length,d=-1,f;for(const h of i)for(c=0,++d;c<u;++c)(o[c][d]=[0,+a(h,o[c].key,d,i)]).data=h;for(c=0,f=HP(r(o));c<u;++c)o[f[c]].index=c;return n(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ir(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Ir(+i),s):a},s.order=function(i){return arguments.length?(r=i==null?QE:typeof i=="function"?i:Ir(Array.from(i)),s):r},s.offset=function(i){return arguments.length?(n=i??Jm,s):n},s}function APe(e,r){if((a=e.length)>0){for(var n,a,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<a;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<a;++n)e[n][s][1]/=o}Jm(e,r)}}function OPe(e,r){if((s=e.length)>0){for(var n=0,a=e[r[0]],s,i=a.length;n<i;++n){for(var o=0,c=0;o<s;++o)c+=e[o][n][1]||0;a[n][1]+=a[n][0]=-c/2}Jm(e,r)}}function PPe(e,r){if(!(!((o=e.length)>0)||!((i=(s=e[r[0]]).length)>0))){for(var n=0,a=1,s,i,o;a<i;++a){for(var c=0,u=0,d=0;c<o;++c){for(var f=e[r[c]],h=f[a][1]||0,m=f[a-1][1]||0,p=(h-m)/2,v=0;v<c;++v){var g=e[r[v]],x=g[a][1]||0,b=g[a-1][1]||0;p+=x-b}u+=h,d+=p*h}s[a-1][1]+=s[a-1][0]=n,u&&(n-=d/u)}s[a-1][1]+=s[a-1][0]=n,Jm(e,r)}}function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wv(e)}var DPe=["type","size","sizeType"];function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ZE.apply(this,arguments)}function N3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function E3(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?N3(Object(n),!0).forEach(function(a){RPe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function RPe(e,r,n){return r=IPe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function IPe(e){var r=MPe(e,"string");return wv(r)=="symbol"?r:r+""}function MPe(e,r){if(wv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(wv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function FPe(e,r){if(e==null)return{};var n=LPe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function LPe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var UG={symbolCircle:qP,symbolCross:sPe,symbolDiamond:oPe,symbolSquare:lPe,symbolStar:fPe,symbolTriangle:hPe,symbolWye:pPe},$Pe=Math.PI/180,BPe=function(r){var n="symbol".concat(IS(r));return UG[n]||qP},UPe=function(r,n,a){if(n==="area")return r;switch(a){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var s=18*$Pe;return 1.25*r*r*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},VPe=function(r,n){UG["symbol".concat(IS(r))]=n},KP=function(r){var n=r.type,a=n===void 0?"circle":n,s=r.size,i=s===void 0?64:s,o=r.sizeType,c=o===void 0?"area":o,u=FPe(r,DPe),d=E3(E3({},u),{},{type:a,size:i,sizeType:c}),f=function(){var x=BPe(a),b=gPe().type(x).size(UPe(i,c,a));return b()},h=d.className,m=d.cx,p=d.cy,v=Nt(d,!0);return m===+m&&p===+p&&i===+i?ne.createElement("path",ZE({},v,{className:Bt("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(p,")"),d:f()})):null};KP.registerSymbol=VPe;function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qm(e)}function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eC.apply(this,arguments)}function C3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function zPe(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?C3(Object(n),!0).forEach(function(a){bv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function WPe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function HPe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,zG(a.key),a)}}function qPe(e,r,n){return r&&HPe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KPe(e,r,n){return r=cb(r),GPe(e,VG()?Reflect.construct(r,n||[],cb(e).constructor):r.apply(e,n))}function GPe(e,r){if(r&&(Qm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YPe(e)}function YPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!e})()}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cb(e)}function XPe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&tC(e,r)}function tC(e,r){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},tC(e,r)}function bv(e,r,n){return r=zG(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function zG(e){var r=JPe(e,"string");return Qm(r)=="symbol"?r:r+""}function JPe(e,r){if(Qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Qm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ji=32,GP=function(e){function r(){return WPe(this,r),KPe(this,r,arguments)}return XPe(r,e),qPe(r,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=ji/2,o=ji/6,c=ji/3,u=a.inactive?s:a.color;if(a.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:ji,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(ji,"M").concat(2*c,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return ne.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ji/8,"h").concat(ji,"v").concat(ji*3/4,"h").concat(-ji,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(a.legendIcon)){var d=zPe({},a);return delete d.legendIcon,ne.cloneElement(a.legendIcon,d)}return ne.createElement(KP,{fill:u,cx:i,cy:i,size:ji,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,c=s.layout,u=s.formatter,d=s.inactiveColor,f={x:0,y:0,width:ji,height:ji},h={display:c==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var g=p.formatter||u,x=Bt(bv(bv({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Pt(p.value)?null:p.value;No(!Pt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?d:p.color;return ne.createElement("li",eC({className:x,style:h,key:"legend-item-".concat(v)},Cf(a.props,p,v)),ne.createElement(HE,{width:o,height:o,viewBox:f,style:m},a.renderIcon(p)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,p,v):b))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(y.PureComponent);bv(GP,"displayName","Legend");bv(GP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var QPe=_S;function ZPe(){this.__data__=new QPe,this.size=0}var e4e=ZPe;function t4e(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}var r4e=t4e;function n4e(e){return this.__data__.get(e)}var a4e=n4e;function s4e(e){return this.__data__.has(e)}var i4e=s4e,o4e=_S,l4e=IP,c4e=MP,u4e=200;function d4e(e,r){var n=this.__data__;if(n instanceof o4e){var a=n.__data__;if(!l4e||a.length<u4e-1)return a.push([e,r]),this.size=++n.size,this;n=this.__data__=new c4e(a)}return n.set(e,r),this.size=n.size,this}var f4e=d4e,h4e=_S,m4e=e4e,p4e=r4e,g4e=a4e,v4e=i4e,x4e=f4e;function t0(e){var r=this.__data__=new h4e(e);this.size=r.size}t0.prototype.clear=m4e;t0.prototype.delete=p4e;t0.prototype.get=g4e;t0.prototype.has=v4e;t0.prototype.set=x4e;var WG=t0,y4e="__lodash_hash_undefined__";function w4e(e){return this.__data__.set(e,y4e),this}var b4e=w4e;function _4e(e){return this.__data__.has(e)}var S4e=_4e,j4e=MP,k4e=b4e,N4e=S4e;function ub(e){var r=-1,n=e==null?0:e.length;for(this.__data__=new j4e;++r<n;)this.add(e[r])}ub.prototype.add=ub.prototype.push=k4e;ub.prototype.has=N4e;var HG=ub;function E4e(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}var qG=E4e;function C4e(e,r){return e.has(r)}var KG=C4e,T4e=HG,A4e=qG,O4e=KG,P4e=1,D4e=2;function R4e(e,r,n,a,s,i){var o=n&P4e,c=e.length,u=r.length;if(c!=u&&!(o&&u>c))return!1;var d=i.get(e),f=i.get(r);if(d&&f)return d==r&&f==e;var h=-1,m=!0,p=n&D4e?new T4e:void 0;for(i.set(e,r),i.set(r,e);++h<c;){var v=e[h],g=r[h];if(a)var x=o?a(g,v,h,r,e,i):a(v,g,h,e,r,i);if(x!==void 0){if(x)continue;m=!1;break}if(p){if(!A4e(r,function(b,w){if(!O4e(p,w)&&(v===b||s(v,b,n,a,i)))return p.push(w)})){m=!1;break}}else if(!(v===g||s(v,g,n,a,i))){m=!1;break}}return i.delete(e),i.delete(r),m}var GG=R4e,I4e=Ml,M4e=I4e.Uint8Array,F4e=M4e;function L4e(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}var $4e=L4e;function B4e(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}var YP=B4e,T3=qx,A3=F4e,U4e=RP,V4e=GG,z4e=$4e,W4e=YP,H4e=1,q4e=2,K4e="[object Boolean]",G4e="[object Date]",Y4e="[object Error]",X4e="[object Map]",J4e="[object Number]",Q4e="[object RegExp]",Z4e="[object Set]",eDe="[object String]",tDe="[object Symbol]",rDe="[object ArrayBuffer]",nDe="[object DataView]",O3=T3?T3.prototype:void 0,aN=O3?O3.valueOf:void 0;function aDe(e,r,n,a,s,i,o){switch(n){case nDe:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case rDe:return!(e.byteLength!=r.byteLength||!i(new A3(e),new A3(r)));case K4e:case G4e:case J4e:return U4e(+e,+r);case Y4e:return e.name==r.name&&e.message==r.message;case Q4e:case eDe:return e==r+"";case X4e:var c=z4e;case Z4e:var u=a&H4e;if(c||(c=W4e),e.size!=r.size&&!u)return!1;var d=o.get(e);if(d)return d==r;a|=q4e,o.set(e,r);var f=V4e(c(e),c(r),a,s,i,o);return o.delete(e),f;case tDe:if(aN)return aN.call(e)==aN.call(r)}return!1}var sDe=aDe;function iDe(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}var YG=iDe,oDe=YG,lDe=Hs;function cDe(e,r,n){var a=r(e);return lDe(e)?a:oDe(a,n(e))}var uDe=cDe;function dDe(e,r){for(var n=-1,a=e==null?0:e.length,s=0,i=[];++n<a;){var o=e[n];r(o,n,e)&&(i[s++]=o)}return i}var fDe=dDe;function hDe(){return[]}var mDe=hDe,pDe=fDe,gDe=mDe,vDe=Object.prototype,xDe=vDe.propertyIsEnumerable,P3=Object.getOwnPropertySymbols,yDe=P3?function(e){return e==null?[]:(e=Object(e),pDe(P3(e),function(r){return xDe.call(e,r)}))}:gDe,wDe=yDe;function bDe(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}var _De=bDe,SDe=Ac,jDe=Oc,kDe="[object Arguments]";function NDe(e){return jDe(e)&&SDe(e)==kDe}var EDe=NDe,D3=EDe,CDe=Oc,XG=Object.prototype,TDe=XG.hasOwnProperty,ADe=XG.propertyIsEnumerable,ODe=D3(function(){return arguments}())?D3:function(e){return CDe(e)&&TDe.call(e,"callee")&&!ADe.call(e,"callee")},XP=ODe,db={exports:{}};function PDe(){return!1}var DDe=PDe;db.exports;(function(e,r){var n=Ml,a=DDe,s=r&&!r.nodeType&&r,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,c=o?n.Buffer:void 0,u=c?c.isBuffer:void 0,d=u||a;e.exports=d})(db,db.exports);var JG=db.exports,RDe=9007199254740991,IDe=/^(?:0|[1-9]\d*)$/;function MDe(e,r){var n=typeof e;return r=r??RDe,!!r&&(n=="number"||n!="symbol"&&IDe.test(e))&&e>-1&&e%1==0&&e<r}var JP=MDe,FDe=9007199254740991;function LDe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=FDe}var QP=LDe,$De=Ac,BDe=QP,UDe=Oc,VDe="[object Arguments]",zDe="[object Array]",WDe="[object Boolean]",HDe="[object Date]",qDe="[object Error]",KDe="[object Function]",GDe="[object Map]",YDe="[object Number]",XDe="[object Object]",JDe="[object RegExp]",QDe="[object Set]",ZDe="[object String]",eRe="[object WeakMap]",tRe="[object ArrayBuffer]",rRe="[object DataView]",nRe="[object Float32Array]",aRe="[object Float64Array]",sRe="[object Int8Array]",iRe="[object Int16Array]",oRe="[object Int32Array]",lRe="[object Uint8Array]",cRe="[object Uint8ClampedArray]",uRe="[object Uint16Array]",dRe="[object Uint32Array]",zr={};zr[nRe]=zr[aRe]=zr[sRe]=zr[iRe]=zr[oRe]=zr[lRe]=zr[cRe]=zr[uRe]=zr[dRe]=!0;zr[VDe]=zr[zDe]=zr[tRe]=zr[WDe]=zr[rRe]=zr[HDe]=zr[qDe]=zr[KDe]=zr[GDe]=zr[YDe]=zr[XDe]=zr[JDe]=zr[QDe]=zr[ZDe]=zr[eRe]=!1;function fRe(e){return UDe(e)&&BDe(e.length)&&!!zr[$De(e)]}var hRe=fRe;function mRe(e){return function(r){return e(r)}}var QG=mRe,fb={exports:{}};fb.exports;(function(e,r){var n=iG,a=r&&!r.nodeType&&r,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&n.process,c=function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(fb,fb.exports);var pRe=fb.exports,gRe=hRe,vRe=QG,R3=pRe,I3=R3&&R3.isTypedArray,xRe=I3?vRe(I3):gRe,ZG=xRe,yRe=_De,wRe=XP,bRe=Hs,_Re=JG,SRe=JP,jRe=ZG,kRe=Object.prototype,NRe=kRe.hasOwnProperty;function ERe(e,r){var n=bRe(e),a=!n&&wRe(e),s=!n&&!a&&_Re(e),i=!n&&!a&&!s&&jRe(e),o=n||a||s||i,c=o?yRe(e.length,String):[],u=c.length;for(var d in e)(r||NRe.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||SRe(d,u)))&&c.push(d);return c}var CRe=ERe,TRe=Object.prototype;function ARe(e){var r=e&&e.constructor,n=typeof r=="function"&&r.prototype||TRe;return e===n}var ORe=ARe;function PRe(e,r){return function(n){return e(r(n))}}var eY=PRe,DRe=eY,RRe=DRe(Object.keys,Object),IRe=RRe,MRe=ORe,FRe=IRe,LRe=Object.prototype,$Re=LRe.hasOwnProperty;function BRe(e){if(!MRe(e))return FRe(e);var r=[];for(var n in Object(e))$Re.call(e,n)&&n!="constructor"&&r.push(n);return r}var URe=BRe,VRe=DP,zRe=QP;function WRe(e){return e!=null&&zRe(e.length)&&!VRe(e)}var Gx=WRe,HRe=CRe,qRe=URe,KRe=Gx;function GRe(e){return KRe(e)?HRe(e):qRe(e)}var $S=GRe,YRe=uDe,XRe=wDe,JRe=$S;function QRe(e){return YRe(e,JRe,XRe)}var ZRe=QRe,M3=ZRe,eIe=1,tIe=Object.prototype,rIe=tIe.hasOwnProperty;function nIe(e,r,n,a,s,i){var o=n&eIe,c=M3(e),u=c.length,d=M3(r),f=d.length;if(u!=f&&!o)return!1;for(var h=u;h--;){var m=c[h];if(!(o?m in r:rIe.call(r,m)))return!1}var p=i.get(e),v=i.get(r);if(p&&v)return p==r&&v==e;var g=!0;i.set(e,r),i.set(r,e);for(var x=o;++h<u;){m=c[h];var b=e[m],w=r[m];if(a)var _=o?a(w,b,m,r,e,i):a(b,w,m,e,r,i);if(!(_===void 0?b===w||s(b,w,n,a,i):_)){g=!1;break}x||(x=m=="constructor")}if(g&&!x){var S=e.constructor,j=r.constructor;S!=j&&"constructor"in e&&"constructor"in r&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(g=!1)}return i.delete(e),i.delete(r),g}var aIe=nIe,sIe=qf,iIe=Ml,oIe=sIe(iIe,"DataView"),lIe=oIe,cIe=qf,uIe=Ml,dIe=cIe(uIe,"Promise"),fIe=dIe,hIe=qf,mIe=Ml,pIe=hIe(mIe,"Set"),tY=pIe,gIe=qf,vIe=Ml,xIe=gIe(vIe,"WeakMap"),yIe=xIe,rC=lIe,nC=IP,aC=fIe,sC=tY,iC=yIe,rY=Ac,r0=lG,F3="[object Map]",wIe="[object Object]",L3="[object Promise]",$3="[object Set]",B3="[object WeakMap]",U3="[object DataView]",bIe=r0(rC),_Ie=r0(nC),SIe=r0(aC),jIe=r0(sC),kIe=r0(iC),wd=rY;(rC&&wd(new rC(new ArrayBuffer(1)))!=U3||nC&&wd(new nC)!=F3||aC&&wd(aC.resolve())!=L3||sC&&wd(new sC)!=$3||iC&&wd(new iC)!=B3)&&(wd=function(e){var r=rY(e),n=r==wIe?e.constructor:void 0,a=n?r0(n):"";if(a)switch(a){case bIe:return U3;case _Ie:return F3;case SIe:return L3;case jIe:return $3;case kIe:return B3}return r});var NIe=wd,sN=WG,EIe=GG,CIe=sDe,TIe=aIe,V3=NIe,z3=Hs,W3=JG,AIe=ZG,OIe=1,H3="[object Arguments]",q3="[object Array]",aw="[object Object]",PIe=Object.prototype,K3=PIe.hasOwnProperty;function DIe(e,r,n,a,s,i){var o=z3(e),c=z3(r),u=o?q3:V3(e),d=c?q3:V3(r);u=u==H3?aw:u,d=d==H3?aw:d;var f=u==aw,h=d==aw,m=u==d;if(m&&W3(e)){if(!W3(r))return!1;o=!0,f=!1}if(m&&!f)return i||(i=new sN),o||AIe(e)?EIe(e,r,n,a,s,i):CIe(e,r,u,n,a,s,i);if(!(n&OIe)){var p=f&&K3.call(e,"__wrapped__"),v=h&&K3.call(r,"__wrapped__");if(p||v){var g=p?e.value():e,x=v?r.value():r;return i||(i=new sN),s(g,x,n,a,i)}}return m?(i||(i=new sN),TIe(e,r,n,a,s,i)):!1}var RIe=DIe,IIe=RIe,G3=Oc;function nY(e,r,n,a,s){return e===r?!0:e==null||r==null||!G3(e)&&!G3(r)?e!==e&&r!==r:IIe(e,r,n,a,nY,s)}var ZP=nY,MIe=WG,FIe=ZP,LIe=1,$Ie=2;function BIe(e,r,n,a){var s=n.length,i=s,o=!a;if(e==null)return!i;for(e=Object(e);s--;){var c=n[s];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<i;){c=n[s];var u=c[0],d=e[u],f=c[1];if(o&&c[2]){if(d===void 0&&!(u in e))return!1}else{var h=new MIe;if(a)var m=a(d,f,u,e,r,h);if(!(m===void 0?FIe(f,d,LIe|$Ie,a,h):m))return!1}}return!0}var UIe=BIe,VIe=nd;function zIe(e){return e===e&&!VIe(e)}var aY=zIe,WIe=aY,HIe=$S;function qIe(e){for(var r=HIe(e),n=r.length;n--;){var a=r[n],s=e[a];r[n]=[a,s,WIe(s)]}return r}var KIe=qIe;function GIe(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}var sY=GIe,YIe=UIe,XIe=KIe,JIe=sY;function QIe(e){var r=XIe(e);return r.length==1&&r[0][2]?JIe(r[0][0],r[0][1]):function(n){return n===e||YIe(n,e,r)}}var ZIe=QIe;function eMe(e,r){return e!=null&&r in Object(e)}var tMe=eMe,rMe=hG,nMe=XP,aMe=Hs,sMe=JP,iMe=QP,oMe=jS;function lMe(e,r,n){r=rMe(r,e);for(var a=-1,s=r.length,i=!1;++a<s;){var o=oMe(r[a]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++a!=s?i:(s=e==null?0:e.length,!!s&&iMe(s)&&sMe(o,s)&&(aMe(e)||nMe(e)))}var cMe=lMe,uMe=tMe,dMe=cMe;function fMe(e,r){return e!=null&&dMe(e,r,uMe)}var hMe=fMe,mMe=ZP,pMe=mG,gMe=hMe,vMe=PP,xMe=aY,yMe=sY,wMe=jS,bMe=1,_Me=2;function SMe(e,r){return vMe(e)&&xMe(r)?yMe(wMe(e),r):function(n){var a=pMe(n,e);return a===void 0&&a===r?gMe(n,e):mMe(r,a,bMe|_Me)}}var jMe=SMe;function kMe(e){return e}var n0=kMe;function NMe(e){return function(r){return r==null?void 0:r[e]}}var EMe=NMe,CMe=$P;function TMe(e){return function(r){return CMe(r,e)}}var AMe=TMe,OMe=EMe,PMe=AMe,DMe=PP,RMe=jS;function IMe(e){return DMe(e)?OMe(RMe(e)):PMe(e)}var MMe=IMe,FMe=ZIe,LMe=jMe,$Me=n0,BMe=Hs,UMe=MMe;function VMe(e){return typeof e=="function"?e:e==null?$Me:typeof e=="object"?BMe(e)?LMe(e[0],e[1]):FMe(e):UMe(e)}var Fl=VMe;function zMe(e,r,n,a){for(var s=e.length,i=n+(a?1:-1);a?i--:++i<s;)if(r(e[i],i,e))return i;return-1}var iY=zMe;function WMe(e){return e!==e}var HMe=WMe;function qMe(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}var KMe=qMe,GMe=iY,YMe=HMe,XMe=KMe;function JMe(e,r,n){return r===r?XMe(e,r,n):GMe(e,YMe,n)}var QMe=JMe,ZMe=QMe;function eFe(e,r){var n=e==null?0:e.length;return!!n&&ZMe(e,r,0)>-1}var tFe=eFe;function rFe(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}var nFe=rFe;function aFe(){}var sFe=aFe,iN=tY,iFe=sFe,oFe=YP,lFe=1/0,cFe=iN&&1/oFe(new iN([,-0]))[1]==lFe?function(e){return new iN(e)}:iFe,uFe=cFe,dFe=HG,fFe=tFe,hFe=nFe,mFe=KG,pFe=uFe,gFe=YP,vFe=200;function xFe(e,r,n){var a=-1,s=fFe,i=e.length,o=!0,c=[],u=c;if(n)o=!1,s=hFe;else if(i>=vFe){var d=r?null:pFe(e);if(d)return gFe(d);o=!1,s=mFe,u=new dFe}else u=r?[]:c;e:for(;++a<i;){var f=e[a],h=r?r(f):f;if(f=n||f!==0?f:0,o&&h===h){for(var m=u.length;m--;)if(u[m]===h)continue e;r&&u.push(h),c.push(f)}else s(u,h,n)||(u!==c&&u.push(h),c.push(f))}return c}var yFe=xFe,wFe=Fl,bFe=yFe;function _Fe(e,r){return e&&e.length?bFe(e,wFe(r)):[]}var SFe=_Fe;const Y3=gr(SFe);function oY(e,r,n){return r===!0?Y3(e,n):Pt(r)?Y3(e,r):e}function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zm(e)}var jFe=["ref"];function X3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Vl(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?X3(Object(n),!0).forEach(function(a){BS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kFe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function J3(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cY(a.key),a)}}function NFe(e,r,n){return r&&J3(e.prototype,r),n&&J3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EFe(e,r,n){return r=hb(r),CFe(e,lY()?Reflect.construct(r,n||[],hb(e).constructor):r.apply(e,n))}function CFe(e,r){if(r&&(Zm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TFe(e)}function TFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lY=function(){return!!e})()}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hb(e)}function AFe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&oC(e,r)}function oC(e,r){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},oC(e,r)}function BS(e,r,n){return r=cY(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cY(e){var r=OFe(e,"string");return Zm(r)=="symbol"?r:r+""}function OFe(e,r){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Zm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function PFe(e,r){if(e==null)return{};var n=DFe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function DFe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function RFe(e){return e.value}function IFe(e,r){if(ne.isValidElement(e))return ne.cloneElement(e,r);if(typeof e=="function")return ne.createElement(e,r);r.ref;var n=PFe(r,jFe);return ne.createElement(GP,n)}var Q3=1,Pu=function(e){function r(){var n;kFe(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=EFe(this,r,[].concat(s)),BS(n,"lastBoundingBox",{width:-1,height:-1}),n}return AFe(r,e),NFe(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Q3||Math.abs(s.height-this.lastBoundingBox.height)>Q3)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,c=s.verticalAlign,u=s.margin,d=s.chartWidth,f=s.chartHeight,h,m;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((d||0)-p.width)/2}}else h=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(c==="middle"){var v=this.getBBoxSnapshot();m={top:((f||0)-v.height)/2}}else m=c==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Vl(Vl({},h),m)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,c=s.height,u=s.wrapperStyle,d=s.payloadUniqBy,f=s.payload,h=Vl(Vl({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(u)),u);return ne.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){a.wrapperNode=p}},IFe(i,Vl(Vl({},this.props),{},{payload:oY(f,d,RFe)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Vl(Vl({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&Qe(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])}(y.PureComponent);BS(Pu,"displayName","Legend");BS(Pu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Z3=qx,MFe=XP,FFe=Hs,eL=Z3?Z3.isConcatSpreadable:void 0;function LFe(e){return FFe(e)||MFe(e)||!!(eL&&e&&e[eL])}var $Fe=LFe,BFe=YG,UFe=$Fe;function uY(e,r,n,a,s){var i=-1,o=e.length;for(n||(n=UFe),s||(s=[]);++i<o;){var c=e[i];r>0&&n(c)?r>1?uY(c,r-1,n,a,s):BFe(s,c):a||(s[s.length]=c)}return s}var dY=uY;function VFe(e){return function(r,n,a){for(var s=-1,i=Object(r),o=a(r),c=o.length;c--;){var u=o[e?c:++s];if(n(i[u],u,i)===!1)break}return r}}var zFe=VFe,WFe=zFe,HFe=WFe(),qFe=HFe,KFe=qFe,GFe=$S;function YFe(e,r){return e&&KFe(e,r,GFe)}var fY=YFe,XFe=Gx;function JFe(e,r){return function(n,a){if(n==null)return n;if(!XFe(n))return e(n,a);for(var s=n.length,i=r?s:-1,o=Object(n);(r?i--:++i<s)&&a(o[i],i,o)!==!1;);return n}}var QFe=JFe,ZFe=fY,e3e=QFe,t3e=e3e(ZFe),e4=t3e,r3e=e4,n3e=Gx;function a3e(e,r){var n=-1,a=n3e(e)?Array(e.length):[];return r3e(e,function(s,i,o){a[++n]=r(s,i,o)}),a}var hY=a3e;function s3e(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}var i3e=s3e,tL=Yp;function o3e(e,r){if(e!==r){var n=e!==void 0,a=e===null,s=e===e,i=tL(e),o=r!==void 0,c=r===null,u=r===r,d=tL(r);if(!c&&!d&&!i&&e>r||i&&o&&u&&!c&&!d||a&&o&&u||!n&&u||!s)return 1;if(!a&&!i&&!d&&e<r||d&&n&&s&&!a&&!i||c&&n&&s||!o&&s||!u)return-1}return 0}var l3e=o3e,c3e=l3e;function u3e(e,r,n){for(var a=-1,s=e.criteria,i=r.criteria,o=s.length,c=n.length;++a<o;){var u=c3e(s[a],i[a]);if(u){if(a>=c)return u;var d=n[a];return u*(d=="desc"?-1:1)}}return e.index-r.index}var d3e=u3e,oN=LP,f3e=$P,h3e=Fl,m3e=hY,p3e=i3e,g3e=QG,v3e=d3e,x3e=n0,y3e=Hs;function w3e(e,r,n){r.length?r=oN(r,function(i){return y3e(i)?function(o){return f3e(o,i.length===1?i[0]:i)}:i}):r=[x3e];var a=-1;r=oN(r,g3e(h3e));var s=m3e(e,function(i,o,c){var u=oN(r,function(d){return d(i)});return{criteria:u,index:++a,value:i}});return p3e(s,function(i,o){return v3e(i,o,n)})}var b3e=w3e;function _3e(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}var S3e=_3e,j3e=S3e,rL=Math.max;function k3e(e,r,n){return r=rL(r===void 0?e.length-1:r,0),function(){for(var a=arguments,s=-1,i=rL(a.length-r,0),o=Array(i);++s<i;)o[s]=a[r+s];s=-1;for(var c=Array(r+1);++s<r;)c[s]=a[s];return c[r]=n(o),j3e(e,this,c)}}var N3e=k3e;function E3e(e){return function(){return e}}var C3e=E3e,T3e=qf,A3e=function(){try{var e=T3e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),mY=A3e,O3e=C3e,nL=mY,P3e=n0,D3e=nL?function(e,r){return nL(e,"toString",{configurable:!0,enumerable:!1,value:O3e(r),writable:!0})}:P3e,R3e=D3e,I3e=800,M3e=16,F3e=Date.now;function L3e(e){var r=0,n=0;return function(){var a=F3e(),s=M3e-(a-n);if(n=a,s>0){if(++r>=I3e)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var $3e=L3e,B3e=R3e,U3e=$3e,V3e=U3e(B3e),z3e=V3e,W3e=n0,H3e=N3e,q3e=z3e;function K3e(e,r){return q3e(H3e(e,r,W3e),e+"")}var G3e=K3e,Y3e=RP,X3e=Gx,J3e=JP,Q3e=nd;function Z3e(e,r,n){if(!Q3e(n))return!1;var a=typeof r;return(a=="number"?X3e(n)&&J3e(r,n.length):a=="string"&&r in n)?Y3e(n[r],e):!1}var US=Z3e,eLe=dY,tLe=b3e,rLe=G3e,aL=US,nLe=rLe(function(e,r){if(e==null)return[];var n=r.length;return n>1&&aL(e,r[0],r[1])?r=[]:n>2&&aL(r[0],r[1],r[2])&&(r=[r[0]]),tLe(e,eLe(r,1),[])}),aLe=nLe;const t4=gr(aLe);function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_v(e)}function lC(){return lC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lC.apply(this,arguments)}function sLe(e,r){return cLe(e)||lLe(e,r)||oLe(e,r)||iLe()}function iLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oLe(e,r){if(e){if(typeof e=="string")return sL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sL(e,r)}}function sL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function lLe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function cLe(e){if(Array.isArray(e))return e}function iL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function lN(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?iL(Object(n),!0).forEach(function(a){uLe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uLe(e,r,n){return r=dLe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function dLe(e){var r=fLe(e,"string");return _v(r)=="symbol"?r:r+""}function fLe(e,r){if(_v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(_v(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function hLe(e){return Array.isArray(e)&&Hn(e[0])&&Hn(e[1])?e.join(" ~ "):e}var mLe=function(r){var n=r.separator,a=n===void 0?" : ":n,s=r.contentStyle,i=s===void 0?{}:s,o=r.itemStyle,c=o===void 0?{}:o,u=r.labelStyle,d=u===void 0?{}:u,f=r.payload,h=r.formatter,m=r.itemSorter,p=r.wrapperClassName,v=r.labelClassName,g=r.label,x=r.labelFormatter,b=r.accessibilityLayer,w=b===void 0?!1:b,_=function(){if(f&&f.length){var T={padding:0,margin:0},z=(m?t4(f,m):f).map(function(q,F){if(q.type==="none")return null;var I=lN({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},c),V=q.formatter||h||hLe,L=q.value,M=q.name,Y=L,Z=M;if(V&&Y!=null&&Z!=null){var A=V(L,M,q,F,f);if(Array.isArray(A)){var X=sLe(A,2);Y=X[0],Z=X[1]}else Y=A}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:I},Hn(Z)?ne.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Hn(Z)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},Y),ne.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:T},z)}return null},S=lN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=lN({margin:0},d),N=!$t(g),k=N?g:"",E=Bt("recharts-default-tooltip",p),C=Bt("recharts-tooltip-label",v);N&&x&&f!==void 0&&f!==null&&(k=x(g,f));var O=w?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",lC({className:E,style:S},O),ne.createElement("p",{className:C,style:j},ne.isValidElement(k)?k:"".concat(k)),_())};function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sv(e)}function sw(e,r,n){return r=pLe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function pLe(e){var r=gLe(e,"string");return Sv(r)=="symbol"?r:r+""}function gLe(e,r){if(Sv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Sv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var N0="recharts-tooltip-wrapper",vLe={visibility:"hidden"};function xLe(e){var r=e.coordinate,n=e.translateX,a=e.translateY;return Bt(N0,sw(sw(sw(sw({},"".concat(N0,"-right"),Qe(n)&&r&&Qe(r.x)&&n>=r.x),"".concat(N0,"-left"),Qe(n)&&r&&Qe(r.x)&&n<r.x),"".concat(N0,"-bottom"),Qe(a)&&r&&Qe(r.y)&&a>=r.y),"".concat(N0,"-top"),Qe(a)&&r&&Qe(r.y)&&a<r.y))}function oL(e){var r=e.allowEscapeViewBox,n=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,c=e.tooltipDimension,u=e.viewBox,d=e.viewBoxDimension;if(i&&Qe(i[a]))return i[a];var f=n[a]-c-s,h=n[a]+s;if(r[a])return o[a]?f:h;if(o[a]){var m=f,p=u[a];return m<p?Math.max(h,u[a]):Math.max(f,u[a])}var v=h+c,g=u[a]+d;return v>g?Math.max(f,u[a]):Math.max(h,u[a])}function yLe(e){var r=e.translateX,n=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function wLe(e){var r=e.allowEscapeViewBox,n=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox,d,f,h;return o.height>0&&o.width>0&&n?(f=oL({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=oL({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=yLe({translateX:f,translateY:h,useTranslate3d:c})):d=vLe,{cssProperties:d,cssClasses:xLe({translateX:f,translateY:h,coordinate:n})}}function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ep(e)}function lL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?lL(Object(n),!0).forEach(function(a){uC(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bLe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _Le(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gY(a.key),a)}}function SLe(e,r,n){return r&&_Le(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jLe(e,r,n){return r=mb(r),kLe(e,pY()?Reflect.construct(r,n||[],mb(e).constructor):r.apply(e,n))}function kLe(e,r){if(r&&(ep(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NLe(e)}function NLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pY=function(){return!!e})()}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mb(e)}function ELe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&cC(e,r)}function cC(e,r){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cC(e,r)}function uC(e,r,n){return r=gY(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function gY(e){var r=CLe(e,"string");return ep(r)=="symbol"?r:r+""}function CLe(e,r){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(ep(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var uL=1,TLe=function(e){function r(){var n;bLe(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=jLe(this,r,[].concat(s)),uC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var c,u,d,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&c!==void 0?c:0,y:(d=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),n}return ELe(r,e),SLe(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>uL||Math.abs(a.height-this.state.lastBoundingBox.height)>uL)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,u=s.animationEasing,d=s.children,f=s.coordinate,h=s.hasPayload,m=s.isAnimationActive,p=s.offset,v=s.position,g=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,w=s.wrapperStyle,_=wLe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),S=_.cssClasses,j=_.cssProperties,N=cL(cL({transition:m&&i?"transform ".concat(c,"ms ").concat(u):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return ne.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(E){a.wrapperNode=E}},d)}}])}(y.PureComponent),ALe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gl={isSsr:ALe(),get:function(r){return gl[r]},set:function(r,n){if(typeof r=="string")gl[r]=n;else{var a=Object.keys(r);a&&a.length&&a.forEach(function(s){gl[s]=r[s]})}}};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tp(e)}function dL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dL(Object(n),!0).forEach(function(a){r4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function OLe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function PLe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xY(a.key),a)}}function DLe(e,r,n){return r&&PLe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RLe(e,r,n){return r=pb(r),ILe(e,vY()?Reflect.construct(r,n||[],pb(e).constructor):r.apply(e,n))}function ILe(e,r){if(r&&(tp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MLe(e)}function MLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vY=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pb(e)}function FLe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&dC(e,r)}function dC(e,r){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},dC(e,r)}function r4(e,r,n){return r=xY(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function xY(e){var r=LLe(e,"string");return tp(r)=="symbol"?r:r+""}function LLe(e,r){if(tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(tp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $Le(e){return e.dataKey}function BLe(e,r){return ne.isValidElement(e)?ne.cloneElement(e,r):typeof e=="function"?ne.createElement(e,r):ne.createElement(mLe,r)}var Ai=function(e){function r(){return OLe(this,r),RLe(this,r,arguments)}return FLe(r,e),DLe(r,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,u=s.animationEasing,d=s.content,f=s.coordinate,h=s.filterNull,m=s.isAnimationActive,p=s.offset,v=s.payload,g=s.payloadUniqBy,x=s.position,b=s.reverseDirection,w=s.useTranslate3d,_=s.viewBox,S=s.wrapperStyle,j=v??[];h&&j.length&&(j=oY(v.filter(function(k){return k.value!=null&&(k.hide!==!0||a.props.includeHidden)}),g,$Le));var N=j.length>0;return ne.createElement(TLe,{allowEscapeViewBox:o,animationDuration:c,animationEasing:u,isAnimationActive:m,active:i,coordinate:f,hasPayload:N,offset:p,position:x,reverseDirection:b,useTranslate3d:w,viewBox:_,wrapperStyle:S},BLe(d,fL(fL({},this.props),{},{payload:j})))}}])}(y.PureComponent);r4(Ai,"displayName","Tooltip");r4(Ai,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ULe=Ml,VLe=function(){return ULe.Date.now()},zLe=VLe,WLe=/\s/;function HLe(e){for(var r=e.length;r--&&WLe.test(e.charAt(r)););return r}var qLe=HLe,KLe=qLe,GLe=/^\s+/;function YLe(e){return e&&e.slice(0,KLe(e)+1).replace(GLe,"")}var XLe=YLe,JLe=XLe,hL=nd,QLe=Yp,mL=NaN,ZLe=/^[-+]0x[0-9a-f]+$/i,e$e=/^0b[01]+$/i,t$e=/^0o[0-7]+$/i,r$e=parseInt;function n$e(e){if(typeof e=="number")return e;if(QLe(e))return mL;if(hL(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=hL(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=JLe(e);var n=e$e.test(e);return n||t$e.test(e)?r$e(e.slice(2),n?2:8):ZLe.test(e)?mL:+e}var yY=n$e,a$e=nd,cN=zLe,pL=yY,s$e="Expected a function",i$e=Math.max,o$e=Math.min;function l$e(e,r,n){var a,s,i,o,c,u,d=0,f=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(s$e);r=pL(r)||0,a$e(n)&&(f=!!n.leading,h="maxWait"in n,i=h?i$e(pL(n.maxWait)||0,r):i,m="trailing"in n?!!n.trailing:m);function p(N){var k=a,E=s;return a=s=void 0,d=N,o=e.apply(E,k),o}function v(N){return d=N,c=setTimeout(b,r),f?p(N):o}function g(N){var k=N-u,E=N-d,C=r-k;return h?o$e(C,i-E):C}function x(N){var k=N-u,E=N-d;return u===void 0||k>=r||k<0||h&&E>=i}function b(){var N=cN();if(x(N))return w(N);c=setTimeout(b,g(N))}function w(N){return c=void 0,m&&a?p(N):(a=s=void 0,o)}function _(){c!==void 0&&clearTimeout(c),d=0,a=u=s=c=void 0}function S(){return c===void 0?o:w(cN())}function j(){var N=cN(),k=x(N);if(a=arguments,s=this,u=N,k){if(c===void 0)return v(u);if(h)return clearTimeout(c),c=setTimeout(b,r),p(u)}return c===void 0&&(c=setTimeout(b,r)),o}return j.cancel=_,j.flush=S,j}var c$e=l$e,u$e=c$e,d$e=nd,f$e="Expected a function";function h$e(e,r,n){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(f$e);return d$e(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),u$e(e,r,{leading:a,maxWait:r,trailing:s})}var m$e=h$e;const wY=gr(m$e);function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jv(e)}function gL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function iw(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?gL(Object(n),!0).forEach(function(a){p$e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function p$e(e,r,n){return r=g$e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function g$e(e){var r=v$e(e,"string");return jv(r)=="symbol"?r:r+""}function v$e(e,r){if(jv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(jv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function x$e(e,r){return _$e(e)||b$e(e,r)||w$e(e,r)||y$e()}function y$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$e(e,r){if(e){if(typeof e=="string")return vL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vL(e,r)}}function vL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function b$e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function _$e(e){if(Array.isArray(e))return e}var n4=y.forwardRef(function(e,r){var n=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,c=e.height,u=c===void 0?"100%":c,d=e.minWidth,f=d===void 0?0:d,h=e.minHeight,m=e.maxHeight,p=e.children,v=e.debounce,g=v===void 0?0:v,x=e.id,b=e.className,w=e.onResize,_=e.style,S=_===void 0?{}:_,j=y.useRef(null),N=y.useRef();N.current=w,y.useImperativeHandle(r,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var k=y.useState({containerWidth:s.width,containerHeight:s.height}),E=x$e(k,2),C=E[0],O=E[1],D=y.useCallback(function(z,q){O(function(F){var I=Math.round(z),V=Math.round(q);return F.containerWidth===I&&F.containerHeight===V?F:{containerWidth:I,containerHeight:V}})},[]);y.useEffect(function(){var z=function(M){var Y,Z=M[0].contentRect,A=Z.width,X=Z.height;D(A,X),(Y=N.current)===null||Y===void 0||Y.call(N,A,X)};g>0&&(z=wY(z,g,{trailing:!0,leading:!1}));var q=new ResizeObserver(z),F=j.current.getBoundingClientRect(),I=F.width,V=F.height;return D(I,V),q.observe(j.current),function(){q.disconnect()}},[D,g]);var T=y.useMemo(function(){var z=C.containerWidth,q=C.containerHeight;if(z<0||q<0)return null;No(Ld(o)||Ld(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),No(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Ld(o)?z:o,I=Ld(u)?q:u;n&&n>0&&(F?I=F/n:I&&(F=I*n),m&&I>m&&(I=m)),No(F>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,I,o,u,f,h,n);var V=!Array.isArray(p)&&lc(p.type).endsWith("Chart");return ne.Children.map(p,function(L){return ne.isValidElement(L)?y.cloneElement(L,iw({width:F,height:I},V?{style:iw({height:"100%",width:"100%",maxHeight:I,maxWidth:F},L.props.style)}:{})):L})},[n,p,u,m,h,f,C,o]);return ne.createElement("div",{id:x?"".concat(x):void 0,className:Bt("recharts-responsive-container",b),style:iw(iw({},S),{},{width:o,height:u,minWidth:f,minHeight:h,maxHeight:m}),ref:j},T)}),sl=function(r){return null};sl.displayName="Cell";function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kv(e)}function xL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fC(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xL(Object(n),!0).forEach(function(a){S$e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function S$e(e,r,n){return r=j$e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function j$e(e){var r=k$e(e,"string");return kv(r)=="symbol"?r:r+""}function k$e(e,r){if(kv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(kv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var dh={widthCache:{},cacheCount:0},N$e=2e3,E$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yL="recharts_measurement_span";function C$e(e){var r=fC({},e);return Object.keys(r).forEach(function(n){r[n]||delete r[n]}),r}var kg=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||gl.isSsr)return{width:0,height:0};var a=C$e(n),s=JSON.stringify({text:r,copyStyle:a});if(dh.widthCache[s])return dh.widthCache[s];try{var i=document.getElementById(yL);i||(i=document.createElement("span"),i.setAttribute("id",yL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=fC(fC({},E$e),a);Object.assign(i.style,o),i.textContent="".concat(r);var c=i.getBoundingClientRect(),u={width:c.width,height:c.height};return dh.widthCache[s]=u,++dh.cacheCount>N$e&&(dh.cacheCount=0,dh.widthCache={}),u}catch{return{width:0,height:0}}},T$e=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nv(e)}function gb(e,r){return D$e(e)||P$e(e,r)||O$e(e,r)||A$e()}function A$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(e,r){if(e){if(typeof e=="string")return wL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wL(e,r)}}function wL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function P$e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function D$e(e){if(Array.isArray(e))return e}function R$e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bL(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,M$e(a.key),a)}}function I$e(e,r,n){return r&&bL(e.prototype,r),n&&bL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M$e(e){var r=F$e(e,"string");return Nv(r)=="symbol"?r:r+""}function F$e(e,r){if(Nv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(Nv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _L=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},B$e=Object.keys(bY),Vh="NaN";function U$e(e,r){return e*bY[r]}var ow=function(){function e(r,n){R$e(this,e),this.num=r,this.unit=n,this.num=r,this.unit=n,Number.isNaN(r)&&(this.unit=""),n!==""&&!L$e.test(n)&&(this.num=NaN,this.unit=""),B$e.includes(n)&&(this.num=U$e(r,n),this.unit="px")}return I$e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=$$e.exec(n))!==null&&a!==void 0?a:[],i=gb(s,3),o=i[1],c=i[2];return new e(parseFloat(o),c??"")}}])}();function _Y(e){if(e.includes(Vh))return Vh;for(var r=e;r.includes("*")||r.includes("/");){var n,a=(n=_L.exec(r))!==null&&n!==void 0?n:[],s=gb(a,4),i=s[1],o=s[2],c=s[3],u=ow.parse(i??""),d=ow.parse(c??""),f=o==="*"?u.multiply(d):u.divide(d);if(f.isNaN())return Vh;r=r.replace(_L,f.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var h,m=(h=SL.exec(r))!==null&&h!==void 0?h:[],p=gb(m,4),v=p[1],g=p[2],x=p[3],b=ow.parse(v??""),w=ow.parse(x??""),_=g==="+"?b.add(w):b.subtract(w);if(_.isNaN())return Vh;r=r.replace(SL,_.toString())}return r}var jL=/\(([^()]*)\)/;function V$e(e){for(var r=e;r.includes("(");){var n=jL.exec(r),a=gb(n,2),s=a[1];r=r.replace(jL,_Y(s))}return r}function z$e(e){var r=e.replace(/\s+/g,"");return r=V$e(r),r=_Y(r),r}function W$e(e){try{return z$e(e)}catch{return Vh}}function uN(e){var r=W$e(e.slice(5,-1));return r===Vh?"":r}var H$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],q$e=["dx","dy","angle","className","breakAll"];function hC(){return hC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hC.apply(this,arguments)}function kL(e,r){if(e==null)return{};var n=K$e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function K$e(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function NL(e,r){return J$e(e)||X$e(e,r)||Y$e(e,r)||G$e()}function G$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y$e(e,r){if(e){if(typeof e=="string")return EL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EL(e,r)}}function EL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function X$e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function J$e(e){if(Array.isArray(e))return e}var SY=/[ \f\n\r\t\v\u2028\u2029]+/,jY=function(r){var n=r.children,a=r.breakAll,s=r.style;try{var i=[];$t(n)||(a?i=n.toString().split(""):i=n.toString().split(SY));var o=i.map(function(u){return{word:u,width:kg(u,s).width}}),c=a?0:kg("",s).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},Q$e=function(r,n,a,s,i){var o=r.maxLines,c=r.children,u=r.style,d=r.breakAll,f=Qe(o),h=c,m=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(I,V){var L=V.word,M=V.width,Y=I[I.length-1];if(Y&&(s==null||i||Y.width+M+a<Number(s)))Y.words.push(L),Y.width+=M+a;else{var Z={words:[L],width:M};I.push(Z)}return I},[])},p=m(n),v=function(F){return F.reduce(function(I,V){return I.width>V.width?I:V})};if(!f)return p;for(var g="",x=function(F){var I=h.slice(0,F),V=jY({breakAll:d,style:u,children:I+g}).wordsWithComputedWidth,L=m(V),M=L.length>o||v(L).width>Number(s);return[M,L]},b=0,w=h.length-1,_=0,S;b<=w&&_<=h.length-1;){var j=Math.floor((b+w)/2),N=j-1,k=x(N),E=NL(k,2),C=E[0],O=E[1],D=x(j),T=NL(D,1),z=T[0];if(!C&&!z&&(b=j+1),C&&z&&(w=j-1),!C&&z){S=O;break}_++}return S||p},CL=function(r){var n=$t(r)?[]:r.toString().split(SY);return[{words:n}]},Z$e=function(r){var n=r.width,a=r.scaleToFit,s=r.children,i=r.style,o=r.breakAll,c=r.maxLines;if((n||a)&&!gl.isSsr){var u,d,f=jY({breakAll:o,children:s,style:i});if(f){var h=f.wordsWithComputedWidth,m=f.spaceWidth;u=h,d=m}else return CL(s);return Q$e({breakAll:o,children:s,maxLines:c,style:i},u,d,n,a)}return CL(s)},TL="#808080",Tf=function(r){var n=r.x,a=n===void 0?0:n,s=r.y,i=s===void 0?0:s,o=r.lineHeight,c=o===void 0?"1em":o,u=r.capHeight,d=u===void 0?"0.71em":u,f=r.scaleToFit,h=f===void 0?!1:f,m=r.textAnchor,p=m===void 0?"start":m,v=r.verticalAnchor,g=v===void 0?"end":v,x=r.fill,b=x===void 0?TL:x,w=kL(r,H$e),_=y.useMemo(function(){return Z$e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),S=w.dx,j=w.dy,N=w.angle,k=w.className,E=w.breakAll,C=kL(w,q$e);if(!Hn(a)||!Hn(i))return null;var O=a+(Qe(S)?S:0),D=i+(Qe(j)?j:0),T;switch(g){case"start":T=uN("calc(".concat(d,")"));break;case"middle":T=uN("calc(".concat((_.length-1)/2," * -").concat(c," + (").concat(d," / 2))"));break;default:T=uN("calc(".concat(_.length-1," * -").concat(c,")"));break}var z=[];if(h){var q=_[0].width,F=w.width;z.push("scale(".concat((Qe(F)?F/q:1)/q,")"))}return N&&z.push("rotate(".concat(N,", ").concat(O,", ").concat(D,")")),z.length&&(C.transform=z.join(" ")),ne.createElement("text",hC({},Nt(C,!0),{x:O,y:D,className:Bt("recharts-text",k),textAnchor:p,fill:b.includes("url")?TL:b}),_.map(function(I,V){var L=I.words.join(E?"":" ");return ne.createElement("tspan",{x:O,dy:V===0?T:c,key:"".concat(L,"-").concat(V)},L)}))};function Du(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function e5e(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function a4(e){let r,n,a;e.length!==2?(r=Du,n=(c,u)=>Du(e(c),u),a=(c,u)=>e(c)-u):(r=e===Du||e===e5e?e:t5e,n=e,a=e);function s(c,u,d=0,f=c.length){if(d<f){if(r(u,u)!==0)return f;do{const h=d+f>>>1;n(c[h],u)<0?d=h+1:f=h}while(d<f)}return d}function i(c,u,d=0,f=c.length){if(d<f){if(r(u,u)!==0)return f;do{const h=d+f>>>1;n(c[h],u)<=0?d=h+1:f=h}while(d<f)}return d}function o(c,u,d=0,f=c.length){const h=s(c,u,d,f-1);return h>d&&a(c[h-1],u)>-a(c[h],u)?h-1:h}return{left:s,center:o,right:i}}function t5e(){return 0}function kY(e){return e===null?NaN:+e}function*r5e(e,r){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const n5e=a4(Du),Yx=n5e.right;a4(kY).center;class AL extends Map{constructor(r,n=i5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[a,s]of r)this.set(a,s)}get(r){return super.get(OL(this,r))}has(r){return super.has(OL(this,r))}set(r,n){return super.set(a5e(this,r),n)}delete(r){return super.delete(s5e(this,r))}}function OL({_intern:e,_key:r},n){const a=r(n);return e.has(a)?e.get(a):n}function a5e({_intern:e,_key:r},n){const a=r(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function s5e({_intern:e,_key:r},n){const a=r(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function i5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function o5e(e=Du){if(e===Du)return NY;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,n)=>{const a=e(r,n);return a||a===0?a:(e(n,n)===0)-(e(r,r)===0)}}function NY(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const l5e=Math.sqrt(50),c5e=Math.sqrt(10),u5e=Math.sqrt(2);function vb(e,r,n){const a=(r-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=l5e?10:i>=c5e?5:i>=u5e?2:1;let c,u,d;return s<0?(d=Math.pow(10,-s)/o,c=Math.round(e*d),u=Math.round(r*d),c/d<e&&++c,u/d>r&&--u,d=-d):(d=Math.pow(10,s)*o,c=Math.round(e/d),u=Math.round(r/d),c*d<e&&++c,u*d>r&&--u),u<c&&.5<=n&&n<2?vb(e,r,n*2):[c,u,d]}function mC(e,r,n){if(r=+r,e=+e,n=+n,!(n>0))return[];if(e===r)return[e];const a=r<e,[s,i,o]=a?vb(r,e,n):vb(e,r,n);if(!(i>=s))return[];const c=i-s+1,u=new Array(c);if(a)if(o<0)for(let d=0;d<c;++d)u[d]=(i-d)/-o;else for(let d=0;d<c;++d)u[d]=(i-d)*o;else if(o<0)for(let d=0;d<c;++d)u[d]=(s+d)/-o;else for(let d=0;d<c;++d)u[d]=(s+d)*o;return u}function pC(e,r,n){return r=+r,e=+e,n=+n,vb(e,r,n)[2]}function gC(e,r,n){r=+r,e=+e,n=+n;const a=r<e,s=a?pC(r,e,n):pC(e,r,n);return(a?-1:1)*(s<0?1/-s:s)}function PL(e,r){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function DL(e,r){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function EY(e,r,n=0,a=1/0,s){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=r&&r<=a))return e;for(s=s===void 0?NY:o5e(s);a>n;){if(a-n>600){const u=a-n+1,d=r-n+1,f=Math.log(u),h=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*h*(u-h)/u)*(d-u/2<0?-1:1),p=Math.max(n,Math.floor(r-d*h/u+m)),v=Math.min(a,Math.floor(r+(u-d)*h/u+m));EY(e,r,p,v,s)}const i=e[r];let o=n,c=a;for(E0(e,n,r),s(e[a],i)>0&&E0(e,n,a);o<c;){for(E0(e,o,c),++o,--c;s(e[o],i)<0;)++o;for(;s(e[c],i)>0;)--c}s(e[n],i)===0?E0(e,n,c):(++c,E0(e,c,a)),c<=r&&(n=c+1),r<=c&&(a=c-1)}return e}function E0(e,r,n){const a=e[r];e[r]=e[n],e[n]=a}function d5e(e,r,n){if(e=Float64Array.from(r5e(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return DL(e);if(r>=1)return PL(e);var a,s=(a-1)*r,i=Math.floor(s),o=PL(EY(e,i).subarray(0,i+1)),c=DL(e.subarray(i+1));return o+(c-o)*(s-i)}}function f5e(e,r,n=kY){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+n(e[0],0,e);if(r>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*r,i=Math.floor(s),o=+n(e[i],i,e),c=+n(e[i+1],i+1,e);return o+(c-o)*(s-i)}}function h5e(e,r,n){e=+e,r=+r,n=(s=arguments.length)<2?(r=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((r-e)/n))|0,i=new Array(s);++a<s;)i[a]=e+a*n;return i}function Yi(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Pc(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const vC=Symbol("implicit");function s4(){var e=new AL,r=[],n=[],a=vC;function s(i){let o=e.get(i);if(o===void 0){if(a!==vC)return a;e.set(i,o=r.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new AL;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return s4(r,n).unknown(a)},Yi.apply(s,arguments),s}function Ev(){var e=s4().unknown(void 0),r=e.domain,n=e.range,a=0,s=1,i,o,c=!1,u=0,d=0,f=.5;delete e.unknown;function h(){var m=r().length,p=s<a,v=p?s:a,g=p?a:s;i=(g-v)/Math.max(1,m-u+d*2),c&&(i=Math.floor(i)),v+=(g-v-i*(m-u))*f,o=i*(1-u),c&&(v=Math.round(v),o=Math.round(o));var x=h5e(m).map(function(b){return v+i*b});return n(p?x.reverse():x)}return e.domain=function(m){return arguments.length?(r(m),h()):r()},e.range=function(m){return arguments.length?([a,s]=m,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(m){return[a,s]=m,a=+a,s=+s,c=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(c=!!m,h()):c},e.padding=function(m){return arguments.length?(u=Math.min(1,d=+m),h()):u},e.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),h()):u},e.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),h()):f},e.copy=function(){return Ev(r(),[a,s]).round(c).paddingInner(u).paddingOuter(d).align(f)},Yi.apply(h(),arguments)}function CY(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return CY(r())},e}function Ng(){return CY(Ev.apply(null,arguments).paddingInner(1))}function i4(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function TY(e,r){var n=Object.create(e.prototype);for(var a in r)n[a]=r[a];return n}function Xx(){}var Cv=.7,xb=1/Cv,fm="\\s*([+-]?\\d+)\\s*",Tv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m5e=/^#([0-9a-f]{3,8})$/,p5e=new RegExp(`^rgb\\(${fm},${fm},${fm}\\)$`),g5e=new RegExp(`^rgb\\(${vl},${vl},${vl}\\)$`),v5e=new RegExp(`^rgba\\(${fm},${fm},${fm},${Tv}\\)$`),x5e=new RegExp(`^rgba\\(${vl},${vl},${vl},${Tv}\\)$`),y5e=new RegExp(`^hsl\\(${Tv},${vl},${vl}\\)$`),w5e=new RegExp(`^hsla\\(${Tv},${vl},${vl},${Tv}\\)$`),RL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i4(Xx,Av,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IL,formatHex:IL,formatHex8:b5e,formatHsl:_5e,formatRgb:ML,toString:ML});function IL(){return this.rgb().formatHex()}function b5e(){return this.rgb().formatHex8()}function _5e(){return AY(this).formatHsl()}function ML(){return this.rgb().formatRgb()}function Av(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=m5e.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?FL(r):n===3?new ks(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?lw(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?lw(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=p5e.exec(e))?new ks(r[1],r[2],r[3],1):(r=g5e.exec(e))?new ks(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=v5e.exec(e))?lw(r[1],r[2],r[3],r[4]):(r=x5e.exec(e))?lw(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=y5e.exec(e))?BL(r[1],r[2]/100,r[3]/100,1):(r=w5e.exec(e))?BL(r[1],r[2]/100,r[3]/100,r[4]):RL.hasOwnProperty(e)?FL(RL[e]):e==="transparent"?new ks(NaN,NaN,NaN,0):null}function FL(e){return new ks(e>>16&255,e>>8&255,e&255,1)}function lw(e,r,n,a){return a<=0&&(e=r=n=NaN),new ks(e,r,n,a)}function S5e(e){return e instanceof Xx||(e=Av(e)),e?(e=e.rgb(),new ks(e.r,e.g,e.b,e.opacity)):new ks}function xC(e,r,n,a){return arguments.length===1?S5e(e):new ks(e,r,n,a??1)}function ks(e,r,n,a){this.r=+e,this.g=+r,this.b=+n,this.opacity=+a}i4(ks,xC,TY(Xx,{brighter(e){return e=e==null?xb:Math.pow(xb,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cv:Math.pow(Cv,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ks(sf(this.r),sf(this.g),sf(this.b),yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LL,formatHex:LL,formatHex8:j5e,formatRgb:$L,toString:$L}));function LL(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}`}function j5e(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}${$d((isNaN(this.opacity)?1:this.opacity)*255)}`}function $L(){const e=yb(this.opacity);return`${e===1?"rgb(":"rgba("}${sf(this.r)}, ${sf(this.g)}, ${sf(this.b)}${e===1?")":`, ${e})`}`}function yb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $d(e){return e=sf(e),(e<16?"0":"")+e.toString(16)}function BL(e,r,n,a){return a<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new xo(e,r,n,a)}function AY(e){if(e instanceof xo)return new xo(e.h,e.s,e.l,e.opacity);if(e instanceof Xx||(e=Av(e)),!e)return new xo;if(e instanceof xo)return e;e=e.rgb();var r=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(r,n,a),i=Math.max(r,n,a),o=NaN,c=i-s,u=(i+s)/2;return c?(r===i?o=(n-a)/c+(n<a)*6:n===i?o=(a-r)/c+2:o=(r-n)/c+4,c/=u<.5?i+s:2-i-s,o*=60):c=u>0&&u<1?0:o,new xo(o,c,u,e.opacity)}function k5e(e,r,n,a){return arguments.length===1?AY(e):new xo(e,r,n,a??1)}function xo(e,r,n,a){this.h=+e,this.s=+r,this.l=+n,this.opacity=+a}i4(xo,k5e,TY(Xx,{brighter(e){return e=e==null?xb:Math.pow(xb,e),new xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cv:Math.pow(Cv,e),new xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*r,s=2*n-a;return new ks(dN(e>=240?e-240:e+120,s,a),dN(e,s,a),dN(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new xo(UL(this.h),cw(this.s),cw(this.l),yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yb(this.opacity);return`${e===1?"hsl(":"hsla("}${UL(this.h)}, ${cw(this.s)*100}%, ${cw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UL(e){return e=(e||0)%360,e<0?e+360:e}function cw(e){return Math.max(0,Math.min(1,e||0))}function dN(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const o4=e=>()=>e;function N5e(e,r){return function(n){return e+n*r}}function E5e(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(a){return Math.pow(e+a*r,n)}}function C5e(e){return(e=+e)==1?OY:function(r,n){return n-r?E5e(r,n,e):o4(isNaN(r)?n:r)}}function OY(e,r){var n=r-e;return n?N5e(e,n):o4(isNaN(e)?r:e)}const VL=function e(r){var n=C5e(r);function a(s,i){var o=n((s=xC(s)).r,(i=xC(i)).r),c=n(s.g,i.g),u=n(s.b,i.b),d=OY(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=c(f),s.b=u(f),s.opacity=d(f),s+""}}return a.gamma=e,a}(1);function T5e(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,a=r.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=e[s]*(1-i)+r[s]*i;return a}}function A5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function O5e(e,r){var n=r?r.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n),o;for(o=0;o<a;++o)s[o]=a0(e[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(c){for(o=0;o<a;++o)i[o]=s[o](c);return i}}function P5e(e,r){var n=new Date;return e=+e,r=+r,function(a){return n.setTime(e*(1-a)+r*a),n}}function wb(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function D5e(e,r){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in e?n[s]=a0(e[s],r[s]):a[s]=r[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var yC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fN=new RegExp(yC.source,"g");function R5e(e){return function(){return e}}function I5e(e){return function(r){return e(r)+""}}function M5e(e,r){var n=yC.lastIndex=fN.lastIndex=0,a,s,i,o=-1,c=[],u=[];for(e=e+"",r=r+"";(a=yC.exec(e))&&(s=fN.exec(r));)(i=s.index)>n&&(i=r.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(a=a[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,u.push({i:o,x:wb(a,s)})),n=fN.lastIndex;return n<r.length&&(i=r.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?u[0]?I5e(u[0].x):R5e(r):(r=u.length,function(d){for(var f=0,h;f<r;++f)c[(h=u[f]).i]=h.x(d);return c.join("")})}function a0(e,r){var n=typeof r,a;return r==null||n==="boolean"?o4(r):(n==="number"?wb:n==="string"?(a=Av(r))?(r=a,VL):M5e:r instanceof Av?VL:r instanceof Date?P5e:A5e(r)?T5e:Array.isArray(r)?O5e:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?D5e:wb)(e,r)}function l4(e,r){return e=+e,r=+r,function(n){return Math.round(e*(1-n)+r*n)}}function F5e(e,r){r===void 0&&(r=e,e=a0);for(var n=0,a=r.length-1,s=r[0],i=new Array(a<0?0:a);n<a;)i[n]=e(s,s=r[++n]);return function(o){var c=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[c](o-c)}}function L5e(e){return function(){return e}}function bb(e){return+e}var zL=[0,1];function ls(e){return e}function wC(e,r){return(r-=e=+e)?function(n){return(n-e)/r}:L5e(isNaN(r)?NaN:.5)}function $5e(e,r){var n;return e>r&&(n=e,e=r,r=n),function(a){return Math.max(e,Math.min(r,a))}}function B5e(e,r,n){var a=e[0],s=e[1],i=r[0],o=r[1];return s<a?(a=wC(s,a),i=n(o,i)):(a=wC(a,s),i=n(i,o)),function(c){return i(a(c))}}function U5e(e,r,n){var a=Math.min(e.length,r.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<a;)s[o]=wC(e[o],e[o+1]),i[o]=n(r[o],r[o+1]);return function(c){var u=Yx(e,c,1,a)-1;return i[u](s[u](c))}}function Jx(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function VS(){var e=zL,r=zL,n=a0,a,s,i,o=ls,c,u,d;function f(){var m=Math.min(e.length,r.length);return o!==ls&&(o=$5e(e[0],e[m-1])),c=m>2?U5e:B5e,u=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(u||(u=c(e.map(a),r,n)))(a(o(m)))}return h.invert=function(m){return o(s((d||(d=c(r,e.map(a),wb)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,bb),f()):e.slice()},h.range=function(m){return arguments.length?(r=Array.from(m),f()):r.slice()},h.rangeRound=function(m){return r=Array.from(m),n=l4,f()},h.clamp=function(m){return arguments.length?(o=m?!0:ls,f()):o!==ls},h.interpolate=function(m){return arguments.length?(n=m,f()):n},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,p){return a=m,s=p,f()}}function c4(){return VS()(ls,ls)}function V5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _b(e,r){if((n=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function rp(e){return e=_b(Math.abs(e)),e?e[1]:NaN}function z5e(e,r){return function(n,a){for(var s=n.length,i=[],o=0,c=e[0],u=0;s>0&&c>0&&(u+c+1>a&&(c=Math.max(1,a-u)),i.push(n.substring(s-=c,s+c)),!((u+=c+1)>a));)c=e[o=(o+1)%e.length];return i.reverse().join(r)}}function W5e(e){return function(r){return r.replace(/[0-9]/g,function(n){return e[+n]})}}var H5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ov(e){if(!(r=H5e.exec(e)))throw new Error("invalid format: "+e);var r;return new u4({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Ov.prototype=u4.prototype;function u4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}u4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q5e(e){e:for(var r=e.length,n=1,a=-1,s;n<r;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var PY;function K5e(e,r){var n=_b(e,r);if(!n)return e+"";var a=n[0],s=n[1],i=s-(PY=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+_b(e,Math.max(0,r+i-1))[0]}function WL(e,r){var n=_b(e,r);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const HL={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:V5e,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>WL(e*100,r),r:WL,s:K5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qL(e){return e}var KL=Array.prototype.map,GL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function G5e(e){var r=e.grouping===void 0||e.thousands===void 0?qL:z5e(KL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?qL:W5e(KL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(h){h=Ov(h);var m=h.fill,p=h.align,v=h.sign,g=h.symbol,x=h.zero,b=h.width,w=h.comma,_=h.precision,S=h.trim,j=h.type;j==="n"?(w=!0,j="g"):HL[j]||(_===void 0&&(_=12),S=!0,j="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=g==="$"?a:/[%p]/.test(j)?o:"",E=HL[j],C=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(D){var T=N,z=k,q,F,I;if(j==="c")z=E(D)+z,D="";else{D=+D;var V=D<0||1/D<0;if(D=isNaN(D)?u:E(Math.abs(D),_),S&&(D=q5e(D)),V&&+D==0&&v!=="+"&&(V=!1),T=(V?v==="("?v:c:v==="-"||v==="("?"":v)+T,z=(j==="s"?GL[8+PY/3]:"")+z+(V&&v==="("?")":""),C){for(q=-1,F=D.length;++q<F;)if(I=D.charCodeAt(q),48>I||I>57){z=(I===46?s+D.slice(q+1):D.slice(q))+z,D=D.slice(0,q);break}}}w&&!x&&(D=r(D,1/0));var L=T.length+D.length+z.length,M=L<b?new Array(b-L+1).join(m):"";switch(w&&x&&(D=r(M+D,M.length?b-z.length:1/0),M=""),p){case"<":D=T+D+z+M;break;case"=":D=T+M+D+z;break;case"^":D=M.slice(0,L=M.length>>1)+T+D+z+M.slice(L);break;default:D=M+T+D+z;break}return i(D)}return O.toString=function(){return h+""},O}function f(h,m){var p=d((h=Ov(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(rp(m)/3)))*3,g=Math.pow(10,-v),x=GL[8+v/3];return function(b){return p(g*b)+x}}return{format:d,formatPrefix:f}}var uw,d4,DY;Y5e({thousands:",",grouping:[3],currency:["$",""]});function Y5e(e){return uw=G5e(e),d4=uw.format,DY=uw.formatPrefix,uw}function X5e(e){return Math.max(0,-rp(Math.abs(e)))}function J5e(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rp(r)/3)))*3-rp(Math.abs(e)))}function Q5e(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,rp(r)-rp(e))+1}function RY(e,r,n,a){var s=gC(e,r,n),i;switch(a=Ov(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=J5e(s,o))&&(a.precision=i),DY(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Q5e(s,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=X5e(s))&&(a.precision=i-(a.type==="%")*2);break}}return d4(a)}function ad(e){var r=e.domain;return e.ticks=function(n){var a=r();return mC(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=r();return RY(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=r(),s=0,i=a.length-1,o=a[s],c=a[i],u,d,f=10;for(c<o&&(d=o,o=c,c=d,d=s,s=i,i=d);f-- >0;){if(d=pC(o,c,n),d===u)return a[s]=o,a[i]=c,r(a);if(d>0)o=Math.floor(o/d)*d,c=Math.ceil(c/d)*d;else if(d<0)o=Math.ceil(o*d)/d,c=Math.floor(c*d)/d;else break;u=d}return e},e}function Sb(){var e=c4();return e.copy=function(){return Jx(e,Sb())},Yi.apply(e,arguments),ad(e)}function IY(e){var r;function n(a){return a==null||isNaN(a=+a)?r:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,bb),n):e.slice()},n.unknown=function(a){return arguments.length?(r=a,n):r},n.copy=function(){return IY(e).unknown(r)},e=arguments.length?Array.from(e,bb):[0,1],ad(n)}function MY(e,r){e=e.slice();var n=0,a=e.length-1,s=e[n],i=e[a],o;return i<s&&(o=n,n=a,a=o,o=s,s=i,i=o),e[n]=r.floor(s),e[a]=r.ceil(i),e}function YL(e){return Math.log(e)}function XL(e){return Math.exp(e)}function Z5e(e){return-Math.log(-e)}function e8e(e){return-Math.exp(-e)}function t8e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function r8e(e){return e===10?t8e:e===Math.E?Math.exp:r=>Math.pow(e,r)}function n8e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function JL(e){return(r,n)=>-e(-r,n)}function f4(e){const r=e(YL,XL),n=r.domain;let a=10,s,i;function o(){return s=n8e(a),i=r8e(a),n()[0]<0?(s=JL(s),i=JL(i),e(Z5e,e8e)):e(YL,XL),r}return r.base=function(c){return arguments.length?(a=+c,o()):a},r.domain=function(c){return arguments.length?(n(c),o()):n()},r.ticks=c=>{const u=n();let d=u[0],f=u[u.length-1];const h=f<d;h&&([d,f]=[f,d]);let m=s(d),p=s(f),v,g;const x=c==null?10:+c;let b=[];if(!(a%1)&&p-m<x){if(m=Math.floor(m),p=Math.ceil(p),d>0){for(;m<=p;++m)for(v=1;v<a;++v)if(g=m<0?v/i(-m):v*i(m),!(g<d)){if(g>f)break;b.push(g)}}else for(;m<=p;++m)for(v=a-1;v>=1;--v)if(g=m>0?v/i(-m):v*i(m),!(g<d)){if(g>f)break;b.push(g)}b.length*2<x&&(b=mC(d,f,x))}else b=mC(m,p,Math.min(p-m,x)).map(i);return h?b.reverse():b},r.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Ov(u)).precision==null&&(u.trim=!0),u=d4(u)),c===1/0)return u;const d=Math.max(1,a*c/r.ticks().length);return f=>{let h=f/i(Math.round(s(f)));return h*a<a-.5&&(h*=a),h<=d?u(f):""}},r.nice=()=>n(MY(n(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),r}function FY(){const e=f4(VS()).domain([1,10]);return e.copy=()=>Jx(e,FY()).base(e.base()),Yi.apply(e,arguments),e}function QL(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function ZL(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function h4(e){var r=1,n=e(QL(r),ZL(r));return n.constant=function(a){return arguments.length?e(QL(r=+a),ZL(r)):r},ad(n)}function LY(){var e=h4(VS());return e.copy=function(){return Jx(e,LY()).constant(e.constant())},Yi.apply(e,arguments)}function e$(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function a8e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function s8e(e){return e<0?-e*e:e*e}function m4(e){var r=e(ls,ls),n=1;function a(){return n===1?e(ls,ls):n===.5?e(a8e,s8e):e(e$(n),e$(1/n))}return r.exponent=function(s){return arguments.length?(n=+s,a()):n},ad(r)}function p4(){var e=m4(VS());return e.copy=function(){return Jx(e,p4()).exponent(e.exponent())},Yi.apply(e,arguments),e}function i8e(){return p4.apply(null,arguments).exponent(.5)}function t$(e){return Math.sign(e)*e*e}function o8e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $Y(){var e=c4(),r=[0,1],n=!1,a;function s(i){var o=o8e(e(i));return isNaN(o)?a:n?Math.round(o):o}return s.invert=function(i){return e.invert(t$(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((r=Array.from(i,bb)).map(t$)),s):r.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return $Y(e.domain(),r).round(n).clamp(e.clamp()).unknown(a)},Yi.apply(s,arguments),ad(s)}function BY(){var e=[],r=[],n=[],a;function s(){var o=0,c=Math.max(1,r.length);for(n=new Array(c-1);++o<c;)n[o-1]=f5e(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?a:r[Yx(n,o)]}return i.invertExtent=function(o){var c=r.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Du),s()},i.range=function(o){return arguments.length?(r=Array.from(o),s()):r.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return BY().domain(e).range(r).unknown(a)},Yi.apply(i,arguments)}function UY(){var e=0,r=1,n=1,a=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[Yx(a,u,0,n)]:i}function c(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*r-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,r]=u,e=+e,r=+r,c()):[e,r]},o.range=function(u){return arguments.length?(n=(s=Array.from(u)).length-1,c()):s.slice()},o.invertExtent=function(u){var d=s.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=n?[a[n-1],r]:[a[d-1],a[d]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return a.slice()},o.copy=function(){return UY().domain([e,r]).range(s).unknown(i)},Yi.apply(ad(o),arguments)}function VY(){var e=[.5],r=[0,1],n,a=1;function s(i){return i!=null&&i<=i?r[Yx(e,i,0,a)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),s):e.slice()},s.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),s):r.slice()},s.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return VY().domain(e).range(r).unknown(n)},Yi.apply(s,arguments)}const hN=new Date,mN=new Date;function Kn(e,r,n,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),s.round=i=>{const o=s(i),c=s.ceil(i);return i-o<c-i?o:c},s.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,c)=>{const u=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return u;let d;do u.push(d=new Date(+i)),r(i,c),e(i);while(d<i&&i<o);return u},s.filter=i=>Kn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;r(o,-1),!i(o););else for(;--c>=0;)for(;r(o,1),!i(o););}),n&&(s.count=(i,o)=>(hN.setTime(+i),mN.setTime(+o),e(hN),e(mN),Math.floor(n(hN,mN))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const jb=Kn(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);jb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kn(r=>{r.setTime(Math.floor(r/e)*e)},(r,n)=>{r.setTime(+r+n*e)},(r,n)=>(n-r)/e):jb);jb.range;const rc=1e3,Fi=rc*60,nc=Fi*60,Sc=nc*24,g4=Sc*7,r$=Sc*30,pN=Sc*365,Bd=Kn(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*rc)},(e,r)=>(r-e)/rc,e=>e.getUTCSeconds());Bd.range;const v4=Kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rc)},(e,r)=>{e.setTime(+e+r*Fi)},(e,r)=>(r-e)/Fi,e=>e.getMinutes());v4.range;const x4=Kn(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*Fi)},(e,r)=>(r-e)/Fi,e=>e.getUTCMinutes());x4.range;const y4=Kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rc-e.getMinutes()*Fi)},(e,r)=>{e.setTime(+e+r*nc)},(e,r)=>(r-e)/nc,e=>e.getHours());y4.range;const w4=Kn(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*nc)},(e,r)=>(r-e)/nc,e=>e.getUTCHours());w4.range;const Qx=Kn(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Fi)/Sc,e=>e.getDate()-1);Qx.range;const zS=Kn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Sc,e=>e.getUTCDate()-1);zS.range;const zY=Kn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Sc,e=>Math.floor(e/Sc));zY.range;function Kf(e){return Kn(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*Fi)/g4)}const WS=Kf(0),kb=Kf(1),l8e=Kf(2),c8e=Kf(3),np=Kf(4),u8e=Kf(5),d8e=Kf(6);WS.range;kb.range;l8e.range;c8e.range;np.range;u8e.range;d8e.range;function Gf(e){return Kn(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/g4)}const HS=Gf(0),Nb=Gf(1),f8e=Gf(2),h8e=Gf(3),ap=Gf(4),m8e=Gf(5),p8e=Gf(6);HS.range;Nb.range;f8e.range;h8e.range;ap.range;m8e.range;p8e.range;const b4=Kn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());b4.range;const _4=Kn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_4.range;const jc=Kn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());jc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kn(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*e)});jc.range;const kc=Kn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());kc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kn(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*e)});kc.range;function WY(e,r,n,a,s,i){const o=[[Bd,1,rc],[Bd,5,5*rc],[Bd,15,15*rc],[Bd,30,30*rc],[i,1,Fi],[i,5,5*Fi],[i,15,15*Fi],[i,30,30*Fi],[s,1,nc],[s,3,3*nc],[s,6,6*nc],[s,12,12*nc],[a,1,Sc],[a,2,2*Sc],[n,1,g4],[r,1,r$],[r,3,3*r$],[e,1,pN]];function c(d,f,h){const m=f<d;m&&([d,f]=[f,d]);const p=h&&typeof h.range=="function"?h:u(d,f,h),v=p?p.range(d,+f+1):[];return m?v.reverse():v}function u(d,f,h){const m=Math.abs(f-d)/h,p=a4(([,,x])=>x).right(o,m);if(p===o.length)return e.every(gC(d/pN,f/pN,h));if(p===0)return jb.every(Math.max(gC(d,f,h),1));const[v,g]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return v.every(g)}return[c,u]}const[g8e,v8e]=WY(kc,_4,HS,zY,w4,x4),[x8e,y8e]=WY(jc,b4,WS,Qx,y4,v4);function gN(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vN(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function C0(e,r,n){return{y:e,m:r,d:n,H:0,M:0,S:0,L:0}}function w8e(e){var r=e.dateTime,n=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,d=T0(s),f=A0(s),h=T0(i),m=A0(i),p=T0(o),v=A0(o),g=T0(c),x=A0(c),b=T0(u),w=A0(u),_={a:V,A:L,b:M,B:Y,c:null,d:l$,e:l$,f:z8e,g:Z8e,G:t6e,H:B8e,I:U8e,j:V8e,L:HY,m:W8e,M:H8e,p:Z,q:A,Q:d$,s:f$,S:q8e,u:K8e,U:G8e,V:Y8e,w:X8e,W:J8e,x:null,X:null,y:Q8e,Y:e6e,Z:r6e,"%":u$},S={a:X,A:U,b:H,B:ae,c:null,d:c$,e:c$,f:i6e,g:g6e,G:x6e,H:n6e,I:a6e,j:s6e,L:KY,m:o6e,M:l6e,p:oe,q:we,Q:d$,s:f$,S:c6e,u:u6e,U:d6e,V:f6e,w:h6e,W:m6e,x:null,X:null,y:p6e,Y:v6e,Z:y6e,"%":u$},j={a:O,A:D,b:T,B:z,c:q,d:i$,e:i$,f:M8e,g:s$,G:a$,H:o$,I:o$,j:P8e,L:I8e,m:O8e,M:D8e,p:C,q:A8e,Q:L8e,s:$8e,S:R8e,u:k8e,U:N8e,V:E8e,w:j8e,W:C8e,x:F,X:I,y:s$,Y:a$,Z:T8e,"%":F8e};_.x=N(n,_),_.X=N(a,_),_.c=N(r,_),S.x=N(n,S),S.X=N(a,S),S.c=N(r,S);function N(se,Q){return function(he){var P=[],Le=-1,$e=0,Me=se.length,He,De,wt;for(he instanceof Date||(he=new Date(+he));++Le<Me;)se.charCodeAt(Le)===37&&(P.push(se.slice($e,Le)),(De=n$[He=se.charAt(++Le)])!=null?He=se.charAt(++Le):De=He==="e"?" ":"0",(wt=Q[He])&&(He=wt(he,De)),P.push(He),$e=Le+1);return P.push(se.slice($e,Le)),P.join("")}}function k(se,Q){return function(he){var P=C0(1900,void 0,1),Le=E(P,se,he+="",0),$e,Me;if(Le!=he.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(Q&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?($e=vN(C0(P.y,0,1)),Me=$e.getUTCDay(),$e=Me>4||Me===0?Nb.ceil($e):Nb($e),$e=zS.offset($e,(P.V-1)*7),P.y=$e.getUTCFullYear(),P.m=$e.getUTCMonth(),P.d=$e.getUTCDate()+(P.w+6)%7):($e=gN(C0(P.y,0,1)),Me=$e.getDay(),$e=Me>4||Me===0?kb.ceil($e):kb($e),$e=Qx.offset($e,(P.V-1)*7),P.y=$e.getFullYear(),P.m=$e.getMonth(),P.d=$e.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),Me="Z"in P?vN(C0(P.y,0,1)).getUTCDay():gN(C0(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(Me+5)%7:P.w+P.U*7-(Me+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,vN(P)):gN(P)}}function E(se,Q,he,P){for(var Le=0,$e=Q.length,Me=he.length,He,De;Le<$e;){if(P>=Me)return-1;if(He=Q.charCodeAt(Le++),He===37){if(He=Q.charAt(Le++),De=j[He in n$?Q.charAt(Le++):He],!De||(P=De(se,he,P))<0)return-1}else if(He!=he.charCodeAt(P++))return-1}return P}function C(se,Q,he){var P=d.exec(Q.slice(he));return P?(se.p=f.get(P[0].toLowerCase()),he+P[0].length):-1}function O(se,Q,he){var P=p.exec(Q.slice(he));return P?(se.w=v.get(P[0].toLowerCase()),he+P[0].length):-1}function D(se,Q,he){var P=h.exec(Q.slice(he));return P?(se.w=m.get(P[0].toLowerCase()),he+P[0].length):-1}function T(se,Q,he){var P=b.exec(Q.slice(he));return P?(se.m=w.get(P[0].toLowerCase()),he+P[0].length):-1}function z(se,Q,he){var P=g.exec(Q.slice(he));return P?(se.m=x.get(P[0].toLowerCase()),he+P[0].length):-1}function q(se,Q,he){return E(se,r,Q,he)}function F(se,Q,he){return E(se,n,Q,he)}function I(se,Q,he){return E(se,a,Q,he)}function V(se){return o[se.getDay()]}function L(se){return i[se.getDay()]}function M(se){return u[se.getMonth()]}function Y(se){return c[se.getMonth()]}function Z(se){return s[+(se.getHours()>=12)]}function A(se){return 1+~~(se.getMonth()/3)}function X(se){return o[se.getUTCDay()]}function U(se){return i[se.getUTCDay()]}function H(se){return u[se.getUTCMonth()]}function ae(se){return c[se.getUTCMonth()]}function oe(se){return s[+(se.getUTCHours()>=12)]}function we(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Q=N(se+="",_);return Q.toString=function(){return se},Q},parse:function(se){var Q=k(se+="",!1);return Q.toString=function(){return se},Q},utcFormat:function(se){var Q=N(se+="",S);return Q.toString=function(){return se},Q},utcParse:function(se){var Q=k(se+="",!0);return Q.toString=function(){return se},Q}}}var n$={"-":"",_:" ",0:"0"},ra=/^\s*\d+/,b8e=/^%/,_8e=/[\\^$*+?|[\]().{}]/g;function fr(e,r,n){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(r)+s:s)}function S8e(e){return e.replace(_8e,"\\$&")}function T0(e){return new RegExp("^(?:"+e.map(S8e).join("|")+")","i")}function A0(e){return new Map(e.map((r,n)=>[r.toLowerCase(),n]))}function j8e(e,r,n){var a=ra.exec(r.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function k8e(e,r,n){var a=ra.exec(r.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function N8e(e,r,n){var a=ra.exec(r.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function E8e(e,r,n){var a=ra.exec(r.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function C8e(e,r,n){var a=ra.exec(r.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function a$(e,r,n){var a=ra.exec(r.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function s$(e,r,n){var a=ra.exec(r.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function T8e(e,r,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function A8e(e,r,n){var a=ra.exec(r.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function O8e(e,r,n){var a=ra.exec(r.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function i$(e,r,n){var a=ra.exec(r.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function P8e(e,r,n){var a=ra.exec(r.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function o$(e,r,n){var a=ra.exec(r.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function D8e(e,r,n){var a=ra.exec(r.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function R8e(e,r,n){var a=ra.exec(r.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function I8e(e,r,n){var a=ra.exec(r.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function M8e(e,r,n){var a=ra.exec(r.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function F8e(e,r,n){var a=b8e.exec(r.slice(n,n+1));return a?n+a[0].length:-1}function L8e(e,r,n){var a=ra.exec(r.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function $8e(e,r,n){var a=ra.exec(r.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function l$(e,r){return fr(e.getDate(),r,2)}function B8e(e,r){return fr(e.getHours(),r,2)}function U8e(e,r){return fr(e.getHours()%12||12,r,2)}function V8e(e,r){return fr(1+Qx.count(jc(e),e),r,3)}function HY(e,r){return fr(e.getMilliseconds(),r,3)}function z8e(e,r){return HY(e,r)+"000"}function W8e(e,r){return fr(e.getMonth()+1,r,2)}function H8e(e,r){return fr(e.getMinutes(),r,2)}function q8e(e,r){return fr(e.getSeconds(),r,2)}function K8e(e){var r=e.getDay();return r===0?7:r}function G8e(e,r){return fr(WS.count(jc(e)-1,e),r,2)}function qY(e){var r=e.getDay();return r>=4||r===0?np(e):np.ceil(e)}function Y8e(e,r){return e=qY(e),fr(np.count(jc(e),e)+(jc(e).getDay()===4),r,2)}function X8e(e){return e.getDay()}function J8e(e,r){return fr(kb.count(jc(e)-1,e),r,2)}function Q8e(e,r){return fr(e.getFullYear()%100,r,2)}function Z8e(e,r){return e=qY(e),fr(e.getFullYear()%100,r,2)}function e6e(e,r){return fr(e.getFullYear()%1e4,r,4)}function t6e(e,r){var n=e.getDay();return e=n>=4||n===0?np(e):np.ceil(e),fr(e.getFullYear()%1e4,r,4)}function r6e(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+fr(r/60|0,"0",2)+fr(r%60,"0",2)}function c$(e,r){return fr(e.getUTCDate(),r,2)}function n6e(e,r){return fr(e.getUTCHours(),r,2)}function a6e(e,r){return fr(e.getUTCHours()%12||12,r,2)}function s6e(e,r){return fr(1+zS.count(kc(e),e),r,3)}function KY(e,r){return fr(e.getUTCMilliseconds(),r,3)}function i6e(e,r){return KY(e,r)+"000"}function o6e(e,r){return fr(e.getUTCMonth()+1,r,2)}function l6e(e,r){return fr(e.getUTCMinutes(),r,2)}function c6e(e,r){return fr(e.getUTCSeconds(),r,2)}function u6e(e){var r=e.getUTCDay();return r===0?7:r}function d6e(e,r){return fr(HS.count(kc(e)-1,e),r,2)}function GY(e){var r=e.getUTCDay();return r>=4||r===0?ap(e):ap.ceil(e)}function f6e(e,r){return e=GY(e),fr(ap.count(kc(e),e)+(kc(e).getUTCDay()===4),r,2)}function h6e(e){return e.getUTCDay()}function m6e(e,r){return fr(Nb.count(kc(e)-1,e),r,2)}function p6e(e,r){return fr(e.getUTCFullYear()%100,r,2)}function g6e(e,r){return e=GY(e),fr(e.getUTCFullYear()%100,r,2)}function v6e(e,r){return fr(e.getUTCFullYear()%1e4,r,4)}function x6e(e,r){var n=e.getUTCDay();return e=n>=4||n===0?ap(e):ap.ceil(e),fr(e.getUTCFullYear()%1e4,r,4)}function y6e(){return"+0000"}function u$(){return"%"}function d$(e){return+e}function f$(e){return Math.floor(+e/1e3)}var fh,YY,XY;w6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w6e(e){return fh=w8e(e),YY=fh.format,fh.parse,XY=fh.utcFormat,fh.utcParse,fh}function b6e(e){return new Date(e)}function _6e(e){return e instanceof Date?+e:+new Date(+e)}function S4(e,r,n,a,s,i,o,c,u,d){var f=c4(),h=f.invert,m=f.domain,p=d(".%L"),v=d(":%S"),g=d("%I:%M"),x=d("%I %p"),b=d("%a %d"),w=d("%b %d"),_=d("%B"),S=d("%Y");function j(N){return(u(N)<N?p:c(N)<N?v:o(N)<N?g:i(N)<N?x:a(N)<N?s(N)<N?b:w:n(N)<N?_:S)(N)}return f.invert=function(N){return new Date(h(N))},f.domain=function(N){return arguments.length?m(Array.from(N,_6e)):m().map(b6e)},f.ticks=function(N){var k=m();return e(k[0],k[k.length-1],N??10)},f.tickFormat=function(N,k){return k==null?j:d(k)},f.nice=function(N){var k=m();return(!N||typeof N.range!="function")&&(N=r(k[0],k[k.length-1],N??10)),N?m(MY(k,N)):f},f.copy=function(){return Jx(f,S4(e,r,n,a,s,i,o,c,u,d))},f}function S6e(){return Yi.apply(S4(x8e,y8e,jc,b4,WS,Qx,y4,v4,Bd,YY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j6e(){return Yi.apply(S4(g8e,v8e,kc,_4,HS,zS,w4,x4,Bd,XY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qS(){var e=0,r=1,n,a,s,i,o=ls,c=!1,u;function d(h){return h==null||isNaN(h=+h)?u:o(s===0?.5:(h=(i(h)-n)*s,c?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,r]=h,n=i(e=+e),a=i(r=+r),s=n===a?0:1/(a-n),d):[e,r]},d.clamp=function(h){return arguments.length?(c=!!h,d):c},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(m){var p,v;return arguments.length?([p,v]=m,o=h(p,v),d):[o(0),o(1)]}}return d.range=f(a0),d.rangeRound=f(l4),d.unknown=function(h){return arguments.length?(u=h,d):u},function(h){return i=h,n=h(e),a=h(r),s=n===a?0:1/(a-n),d}}function sd(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function JY(){var e=ad(qS()(ls));return e.copy=function(){return sd(e,JY())},Pc.apply(e,arguments)}function QY(){var e=f4(qS()).domain([1,10]);return e.copy=function(){return sd(e,QY()).base(e.base())},Pc.apply(e,arguments)}function ZY(){var e=h4(qS());return e.copy=function(){return sd(e,ZY()).constant(e.constant())},Pc.apply(e,arguments)}function j4(){var e=m4(qS());return e.copy=function(){return sd(e,j4()).exponent(e.exponent())},Pc.apply(e,arguments)}function k6e(){return j4.apply(null,arguments).exponent(.5)}function eX(){var e=[],r=ls;function n(a){if(a!=null&&!isNaN(a=+a))return r((Yx(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Du),n},n.interpolator=function(a){return arguments.length?(r=a,n):r},n.range=function(){return e.map((a,s)=>r(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>d5e(e,i/a))},n.copy=function(){return eX(r).domain(e)},Pc.apply(n,arguments)}function KS(){var e=0,r=.5,n=1,a=1,s,i,o,c,u,d=ls,f,h=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+f(g))-i)*(a*g<a*i?c:u),d(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,r,n]=g,s=f(e=+e),i=f(r=+r),o=f(n=+n),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,p):[e,r,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(d=g,p):d};function v(g){return function(x){var b,w,_;return arguments.length?([b,w,_]=x,d=F5e(g,[b,w,_]),p):[d(0),d(.5),d(1)]}}return p.range=v(a0),p.rangeRound=v(l4),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return f=g,s=g(e),i=g(r),o=g(n),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,p}}function tX(){var e=ad(KS()(ls));return e.copy=function(){return sd(e,tX())},Pc.apply(e,arguments)}function rX(){var e=f4(KS()).domain([.1,1,10]);return e.copy=function(){return sd(e,rX()).base(e.base())},Pc.apply(e,arguments)}function nX(){var e=h4(KS());return e.copy=function(){return sd(e,nX()).constant(e.constant())},Pc.apply(e,arguments)}function k4(){var e=m4(KS());return e.copy=function(){return sd(e,k4()).exponent(e.exponent())},Pc.apply(e,arguments)}function N6e(){return k4.apply(null,arguments).exponent(.5)}const h$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ev,scaleDiverging:tX,scaleDivergingLog:rX,scaleDivergingPow:k4,scaleDivergingSqrt:N6e,scaleDivergingSymlog:nX,scaleIdentity:IY,scaleImplicit:vC,scaleLinear:Sb,scaleLog:FY,scaleOrdinal:s4,scalePoint:Ng,scalePow:p4,scaleQuantile:BY,scaleQuantize:UY,scaleRadial:$Y,scaleSequential:JY,scaleSequentialLog:QY,scaleSequentialPow:j4,scaleSequentialQuantile:eX,scaleSequentialSqrt:k6e,scaleSequentialSymlog:ZY,scaleSqrt:i8e,scaleSymlog:LY,scaleThreshold:VY,scaleTime:S6e,scaleUtc:j6e,tickFormat:RY},Symbol.toStringTag,{value:"Module"}));var E6e=Yp;function C6e(e,r,n){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=r(i);if(o!=null&&(c===void 0?o===o&&!E6e(o):n(o,c)))var c=o,u=i}return u}var GS=C6e;function T6e(e,r){return e>r}var aX=T6e,A6e=GS,O6e=aX,P6e=n0;function D6e(e){return e&&e.length?A6e(e,P6e,O6e):void 0}var R6e=D6e;const YS=gr(R6e);function I6e(e,r){return e<r}var sX=I6e,M6e=GS,F6e=sX,L6e=n0;function $6e(e){return e&&e.length?M6e(e,L6e,F6e):void 0}var B6e=$6e;const XS=gr(B6e);var U6e=LP,V6e=Fl,z6e=hY,W6e=Hs;function H6e(e,r){var n=W6e(e)?U6e:z6e;return n(e,V6e(r))}var q6e=H6e,K6e=dY,G6e=q6e;function Y6e(e,r){return K6e(G6e(e,r),1)}var X6e=Y6e;const J6e=gr(X6e);var Q6e=ZP;function Z6e(e,r){return Q6e(e,r)}var eBe=Z6e;const Zx=gr(eBe);var s0=1e9,tBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},E4,Xr=!0,Hi="[DecimalError] ",of=Hi+"Invalid argument: ",N4=Hi+"Exponent out of range: ",i0=Math.floor,bd=Math.pow,rBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oi,Xn=1e7,Wr=7,iX=9007199254740991,Eb=i0(iX/Wr),ut={};ut.absoluteValue=ut.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ut.comparedTo=ut.cmp=function(e){var r,n,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,r=0,n=a<s?a:s;r<n;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};ut.decimalPlaces=ut.dp=function(){var e=this,r=e.d.length-1,n=(r-e.e)*Wr;if(r=e.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};ut.dividedBy=ut.div=function(e){return cc(this,new this.constructor(e))};ut.dividedToIntegerBy=ut.idiv=function(e){var r=this,n=r.constructor;return Cr(cc(r,new n(e),0,1),n.precision)};ut.equals=ut.eq=function(e){return!this.cmp(e)};ut.exponent=function(){return Pn(this)};ut.greaterThan=ut.gt=function(e){return this.cmp(e)>0};ut.greaterThanOrEqualTo=ut.gte=function(e){return this.cmp(e)>=0};ut.isInteger=ut.isint=function(){return this.e>this.d.length-2};ut.isNegative=ut.isneg=function(){return this.s<0};ut.isPositive=ut.ispos=function(){return this.s>0};ut.isZero=function(){return this.s===0};ut.lessThan=ut.lt=function(e){return this.cmp(e)<0};ut.lessThanOrEqualTo=ut.lte=function(e){return this.cmp(e)<1};ut.logarithm=ut.log=function(e){var r,n=this,a=n.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(oi))throw Error(Hi+"NaN");if(n.s<1)throw Error(Hi+(n.s?"NaN":"-Infinity"));return n.eq(oi)?new a(0):(Xr=!1,r=cc(Pv(n,i),Pv(e,i),i),Xr=!0,Cr(r,s))};ut.minus=ut.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?cX(r,e):oX(r,(e.s=-e.s,e))};ut.modulo=ut.mod=function(e){var r,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Hi+"NaN");return n.s?(Xr=!1,r=cc(n,e,0,1).times(e),Xr=!0,n.minus(r)):Cr(new a(n),s)};ut.naturalExponential=ut.exp=function(){return lX(this)};ut.naturalLogarithm=ut.ln=function(){return Pv(this)};ut.negated=ut.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ut.plus=ut.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?oX(r,e):cX(r,(e.s=-e.s,e))};ut.precision=ut.sd=function(e){var r,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(of+e);if(r=Pn(s)+1,a=s.d.length-1,n=a*Wr+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&r>n?r:n};ut.squareRoot=ut.sqrt=function(){var e,r,n,a,s,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Hi+"NaN")}for(e=Pn(c),Xr=!1,s=Math.sqrt(+c),s==0||s==1/0?(r=ul(c.d),(r.length+e)%2==0&&(r+="0"),s=Math.sqrt(r),e=i0((e+1)/2)-(e<0||e%2),s==1/0?r="5e"+e:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new u(r)):a=new u(s.toString()),n=u.precision,s=o=n+3;;)if(i=a,a=i.plus(cc(c,i,o+2)).times(.5),ul(i.d).slice(0,o)===(r=ul(a.d)).slice(0,o)){if(r=r.slice(o-3,o+1),s==o&&r=="4999"){if(Cr(i,n+1,0),i.times(i).eq(c)){a=i;break}}else if(r!="9999")break;o+=4}return Xr=!0,Cr(a,n)};ut.times=ut.mul=function(e){var r,n,a,s,i,o,c,u,d,f=this,h=f.constructor,m=f.d,p=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,n=f.e+e.e,u=m.length,d=p.length,u<d&&(i=m,m=p,p=i,o=u,u=d,d=o),i=[],o=u+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(r=0,s=u+a;s>a;)c=i[s]+p[a]*m[s-a-1]+r,i[s--]=c%Xn|0,r=c/Xn|0;i[s]=(i[s]+r)%Xn|0}for(;!i[--o];)i.pop();return r?++n:i.shift(),e.d=i,e.e=n,Xr?Cr(e,h.precision):e};ut.toDecimalPlaces=ut.todp=function(e,r){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(El(e,0,s0),r===void 0?r=a.rounding:El(r,0,8),Cr(n,e+Pn(n)+1,r))};ut.toExponential=function(e,r){var n,a=this,s=a.constructor;return e===void 0?n=Af(a,!0):(El(e,0,s0),r===void 0?r=s.rounding:El(r,0,8),a=Cr(new s(a),e+1,r),n=Af(a,!0,e+1)),n};ut.toFixed=function(e,r){var n,a,s=this,i=s.constructor;return e===void 0?Af(s):(El(e,0,s0),r===void 0?r=i.rounding:El(r,0,8),a=Cr(new i(s),e+Pn(s)+1,r),n=Af(a.abs(),!1,e+Pn(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};ut.toInteger=ut.toint=function(){var e=this,r=e.constructor;return Cr(new r(e),Pn(e)+1,r.rounding)};ut.toNumber=function(){return+this};ut.toPower=ut.pow=function(e){var r,n,a,s,i,o,c=this,u=c.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(oi);if(c=new u(c),!c.s){if(e.s<1)throw Error(Hi+"Infinity");return c}if(c.eq(oi))return c;if(a=u.precision,e.eq(oi))return Cr(c,a);if(r=e.e,n=e.d.length-1,o=r>=n,i=c.s,o){if((n=f<0?-f:f)<=iX){for(s=new u(oi),r=Math.ceil(a/Wr+4),Xr=!1;n%2&&(s=s.times(c),p$(s.d,r)),n=i0(n/2),n!==0;)c=c.times(c),p$(c.d,r);return Xr=!0,e.s<0?new u(oi).div(s):Cr(s,a)}}else if(i<0)throw Error(Hi+"NaN");return i=i<0&&e.d[Math.max(r,n)]&1?-1:1,c.s=1,Xr=!1,s=e.times(Pv(c,a+d)),Xr=!0,s=lX(s),s.s=i,s};ut.toPrecision=function(e,r){var n,a,s=this,i=s.constructor;return e===void 0?(n=Pn(s),a=Af(s,n<=i.toExpNeg||n>=i.toExpPos)):(El(e,1,s0),r===void 0?r=i.rounding:El(r,0,8),s=Cr(new i(s),e,r),n=Pn(s),a=Af(s,e<=n||n<=i.toExpNeg,e)),a};ut.toSignificantDigits=ut.tosd=function(e,r){var n=this,a=n.constructor;return e===void 0?(e=a.precision,r=a.rounding):(El(e,1,s0),r===void 0?r=a.rounding:El(r,0,8)),Cr(new a(n),e,r)};ut.toString=ut.valueOf=ut.val=ut.toJSON=ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=Pn(e),n=e.constructor;return Af(e,r<=n.toExpNeg||r>=n.toExpPos)};function oX(e,r){var n,a,s,i,o,c,u,d,f=e.constructor,h=f.precision;if(!e.s||!r.s)return r.s||(r=new f(e)),Xr?Cr(r,h):r;if(u=e.d,d=r.d,o=e.e,s=r.e,u=u.slice(),i=o-s,i){for(i<0?(a=u,i=-i,c=d.length):(a=d,s=o,c=u.length),o=Math.ceil(h/Wr),c=o>c?o+1:c+1,i>c&&(i=c,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(c=u.length,i=d.length,c-i<0&&(i=c,a=d,d=u,u=a),n=0;i;)n=(u[--i]=u[i]+d[i]+n)/Xn|0,u[i]%=Xn;for(n&&(u.unshift(n),++s),c=u.length;u[--c]==0;)u.pop();return r.d=u,r.e=s,Xr?Cr(r,h):r}function El(e,r,n){if(e!==~~e||e<r||e>n)throw Error(of+e)}function ul(e){var r,n,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,r=1;r<s;r++)a=e[r]+"",n=Wr-a.length,n&&(i+=Gc(n)),i+=a;o=e[r],a=o+"",n=Wr-a.length,n&&(i+=Gc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var cc=function(){function e(a,s){var i,o=0,c=a.length;for(a=a.slice();c--;)i=a[c]*s+o,a[c]=i%Xn|0,o=i/Xn|0;return o&&a.unshift(o),a}function r(a,s,i,o){var c,u;if(i!=o)u=i>o?1:-1;else for(c=u=0;c<i;c++)if(a[c]!=s[c]){u=a[c]>s[c]?1:-1;break}return u}function n(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*Xn+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var c,u,d,f,h,m,p,v,g,x,b,w,_,S,j,N,k,E,C=a.constructor,O=a.s==s.s?1:-1,D=a.d,T=s.d;if(!a.s)return new C(a);if(!s.s)throw Error(Hi+"Division by zero");for(u=a.e-s.e,k=T.length,j=D.length,p=new C(O),v=p.d=[],d=0;T[d]==(D[d]||0);)++d;if(T[d]>(D[d]||0)&&--u,i==null?w=i=C.precision:o?w=i+(Pn(a)-Pn(s))+1:w=i,w<0)return new C(0);if(w=w/Wr+2|0,d=0,k==1)for(f=0,T=T[0],w++;(d<j||f)&&w--;d++)_=f*Xn+(D[d]||0),v[d]=_/T|0,f=_%T|0;else{for(f=Xn/(T[0]+1)|0,f>1&&(T=e(T,f),D=e(D,f),k=T.length,j=D.length),S=k,g=D.slice(0,k),x=g.length;x<k;)g[x++]=0;E=T.slice(),E.unshift(0),N=T[0],T[1]>=Xn/2&&++N;do f=0,c=r(T,g,k,x),c<0?(b=g[0],k!=x&&(b=b*Xn+(g[1]||0)),f=b/N|0,f>1?(f>=Xn&&(f=Xn-1),h=e(T,f),m=h.length,x=g.length,c=r(h,g,m,x),c==1&&(f--,n(h,k<m?E:T,m))):(f==0&&(c=f=1),h=T.slice()),m=h.length,m<x&&h.unshift(0),n(g,h,x),c==-1&&(x=g.length,c=r(T,g,k,x),c<1&&(f++,n(g,k<x?E:T,x))),x=g.length):c===0&&(f++,g=[0]),v[d++]=f,c&&g[0]?g[x++]=D[S]||0:(g=[D[S]],x=1);while((S++<j||g[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=u,Cr(p,o?i+Pn(p)+1:i)}}();function lX(e,r){var n,a,s,i,o,c,u=0,d=0,f=e.constructor,h=f.precision;if(Pn(e)>16)throw Error(N4+Pn(e));if(!e.s)return new f(oi);for(r==null?(Xr=!1,c=h):c=r,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(bd(2,d))/Math.LN10*2+5|0,c+=a,n=s=i=new f(oi),f.precision=c;;){if(s=Cr(s.times(e),c),n=n.times(++u),o=i.plus(cc(s,n,c)),ul(o.d).slice(0,c)===ul(i.d).slice(0,c)){for(;d--;)i=Cr(i.times(i),c);return f.precision=h,r==null?(Xr=!0,Cr(i,h)):i}i=o}}function Pn(e){for(var r=e.e*Wr,n=e.d[0];n>=10;n/=10)r++;return r}function xN(e,r,n){if(r>e.LN10.sd())throw Xr=!0,n&&(e.precision=n),Error(Hi+"LN10 precision limit exceeded");return Cr(new e(e.LN10),r)}function Gc(e){for(var r="";e--;)r+="0";return r}function Pv(e,r){var n,a,s,i,o,c,u,d,f,h=1,m=10,p=e,v=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(Hi+(p.s?"NaN":"-Infinity"));if(p.eq(oi))return new g(0);if(r==null?(Xr=!1,d=x):d=r,p.eq(10))return r==null&&(Xr=!0),xN(g,d);if(d+=m,g.precision=d,n=ul(v),a=n.charAt(0),i=Pn(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)p=p.times(e),n=ul(p.d),a=n.charAt(0),h++;i=Pn(p),a>1?(p=new g("0."+n),i++):p=new g(a+"."+n.slice(1))}else return u=xN(g,d+2,x).times(i+""),p=Pv(new g(a+"."+n.slice(1)),d-m).plus(u),g.precision=x,r==null?(Xr=!0,Cr(p,x)):p;for(c=o=p=cc(p.minus(oi),p.plus(oi),d),f=Cr(p.times(p),d),s=3;;){if(o=Cr(o.times(f),d),u=c.plus(cc(o,new g(s),d)),ul(u.d).slice(0,d)===ul(c.d).slice(0,d))return c=c.times(2),i!==0&&(c=c.plus(xN(g,d+2,x).times(i+""))),c=cc(c,new g(h),d),g.precision=x,r==null?(Xr=!0,Cr(c,x)):c;c=u,s+=2}}function m$(e,r){var n,a,s;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(n<0&&(n=a),n+=+r.slice(a+1),r=r.substring(0,a)):n<0&&(n=r.length),a=0;r.charCodeAt(a)===48;)++a;for(s=r.length;r.charCodeAt(s-1)===48;)--s;if(r=r.slice(a,s),r){if(s-=a,n=n-a-1,e.e=i0(n/Wr),e.d=[],a=(n+1)%Wr,n<0&&(a+=Wr),a<s){for(a&&e.d.push(+r.slice(0,a)),s-=Wr;a<s;)e.d.push(+r.slice(a,a+=Wr));r=r.slice(a),a=Wr-r.length}else a-=s;for(;a--;)r+="0";if(e.d.push(+r),Xr&&(e.e>Eb||e.e<-Eb))throw Error(N4+n)}else e.s=0,e.e=0,e.d=[0];return e}function Cr(e,r,n){var a,s,i,o,c,u,d,f,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=r-o,a<0)a+=Wr,s=r,d=h[f=0];else{if(f=Math.ceil((a+1)/Wr),i=h.length,f>=i)return e;for(d=i=h[f],o=1;i>=10;i/=10)o++;a%=Wr,s=a-Wr+o}if(n!==void 0&&(i=bd(10,o-s-1),c=d/i%10|0,u=r<0||h[f+1]!==void 0||d%i,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(a>0?s>0?d/bd(10,o-s):0:h[f-1])%10&1||n==(e.s<0?8:7))),r<1||!h[0])return u?(i=Pn(e),h.length=1,r=r-i-1,h[0]=bd(10,(Wr-r%Wr)%Wr),e.e=i0(-r/Wr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=f,i=1,f--):(h.length=f+1,i=bd(10,Wr-a),h[f]=s>0?(d/bd(10,o-s)%bd(10,s)|0)*i:0),u)for(;;)if(f==0){(h[0]+=i)==Xn&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=Xn)break;h[f--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(Xr&&(e.e>Eb||e.e<-Eb))throw Error(N4+Pn(e));return e}function cX(e,r){var n,a,s,i,o,c,u,d,f,h,m=e.constructor,p=m.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new m(e),Xr?Cr(r,p):r;if(u=e.d,h=r.d,a=r.e,d=e.e,u=u.slice(),o=d-a,o){for(f=o<0,f?(n=u,o=-o,c=h.length):(n=h,a=d,c=u.length),s=Math.max(Math.ceil(p/Wr),c)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=u.length,c=h.length,f=s<c,f&&(c=s),s=0;s<c;s++)if(u[s]!=h[s]){f=u[s]<h[s];break}o=0}for(f&&(n=u,u=h,h=n,r.s=-r.s),c=u.length,s=h.length-c;s>0;--s)u[c++]=0;for(s=h.length;s>o;){if(u[--s]<h[s]){for(i=s;i&&u[--i]===0;)u[i]=Xn-1;--u[i],u[s]+=Xn}u[s]-=h[s]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(r.d=u,r.e=a,Xr?Cr(r,p):r):new m(0)}function Af(e,r,n){var a,s=Pn(e),i=ul(e.d),o=i.length;return r?(n&&(a=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Gc(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Gc(-s-1)+i,n&&(a=n-o)>0&&(i+=Gc(a))):s>=o?(i+=Gc(s+1-o),n&&(a=n-s-1)>0&&(i=i+"."+Gc(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-o)>0&&(s+1===o&&(i+="."),i+=Gc(a))),e.s<0?"-"+i:i}function p$(e,r){if(e.length>r)return e.length=r,!0}function uX(e){var r,n,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(of+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return m$(o,i.toString())}else if(typeof i!="string")throw Error(of+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,rBe.test(i))m$(o,i);else throw Error(of+i)}if(s.prototype=ut,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=uX,s.config=s.set=nBe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(n=a[r++])||(e[n]=this[n]);return s.config(e),s}function nBe(e){if(!e||typeof e!="object")throw Error(Hi+"Object expected");var r,n,a,s=["precision",1,s0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<s.length;r+=3)if((a=e[n=s[r]])!==void 0)if(i0(a)===a&&a>=s[r+1]&&a<=s[r+2])this[n]=a;else throw Error(of+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(of+n+": "+a);return this}var E4=uX(tBe);oi=new E4(1);const jr=E4;function aBe(e){return lBe(e)||oBe(e)||iBe(e)||sBe()}function sBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iBe(e,r){if(e){if(typeof e=="string")return bC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bC(e,r)}}function oBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lBe(e){if(Array.isArray(e))return bC(e)}function bC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var cBe=function(r){return r},dX={"@@functional/placeholder":!0},fX=function(r){return r===dX},g$=function(r){return function n(){return arguments.length===0||arguments.length===1&&fX(arguments.length<=0?void 0:arguments[0])?n:r.apply(void 0,arguments)}},uBe=function e(r,n){return r===1?n:g$(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(c){return c!==dX}).length;return o>=r?n.apply(void 0,s):e(r-o,g$(function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=s.map(function(h){return fX(h)?u.shift():h});return n.apply(void 0,aBe(f).concat(u))}))})},JS=function(r){return uBe(r.length,r)},_C=function(r,n){for(var a=[],s=r;s<n;++s)a[s-r]=s;return a},dBe=JS(function(e,r){return Array.isArray(r)?r.map(e):Object.keys(r).map(function(n){return r[n]}).map(e)}),fBe=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!n.length)return cBe;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(c,u){return u(c)},i.apply(void 0,arguments))}},SC=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},hX=function(r){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(c,u){return c===n[u]})||(n=i,a=r.apply(void 0,i)),a}};function hBe(e){var r;return e===0?r=1:r=Math.floor(new jr(e).abs().log(10).toNumber())+1,r}function mBe(e,r,n){for(var a=new jr(e),s=0,i=[];a.lt(r)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var pBe=JS(function(e,r,n){var a=+e,s=+r;return a+n*(s-a)}),gBe=JS(function(e,r,n){var a=r-+e;return a=a||1/0,(n-e)/a}),vBe=JS(function(e,r,n){var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});const QS={rangeStep:mBe,getDigitCount:hBe,interpolateNumber:pBe,uninterpolateNumber:gBe,uninterpolateTruncation:vBe};function jC(e){return wBe(e)||yBe(e)||mX(e)||xBe()}function xBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function wBe(e){if(Array.isArray(e))return kC(e)}function Dv(e,r){return SBe(e)||_Be(e,r)||mX(e,r)||bBe()}function bBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mX(e,r){if(e){if(typeof e=="string")return kC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(e,r)}}function kC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function _Be(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),c;!(a=(c=o.next()).done)&&(n.push(c.value),!(r&&n.length===r));a=!0);}catch(u){s=!0,i=u}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function SBe(e){if(Array.isArray(e))return e}function pX(e){var r=Dv(e,2),n=r[0],a=r[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function gX(e,r,n){if(e.lte(0))return new jr(0);var a=QS.getDigitCount(e.toNumber()),s=new jr(10).pow(a),i=e.div(s),o=a!==1?.05:.1,c=new jr(Math.ceil(i.div(o).toNumber())).add(n).mul(o),u=c.mul(s);return r?u:new jr(Math.ceil(u))}function jBe(e,r,n){var a=1,s=new jr(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(a=new jr(10).pow(QS.getDigitCount(e)-1),s=new jr(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new jr(Math.floor(e)))}else e===0?s=new jr(Math.floor((r-1)/2)):n||(s=new jr(Math.floor(e)));var o=Math.floor((r-1)/2),c=fBe(dBe(function(u){return s.add(new jr(u-o).mul(a)).toNumber()}),_C);return c(0,r)}function vX(e,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new jr(0),tickMin:new jr(0),tickMax:new jr(0)};var i=gX(new jr(r).sub(e).div(n-1),a,s),o;e<=0&&r>=0?o=new jr(0):(o=new jr(e).add(r).div(2),o=o.sub(new jr(o).mod(i)));var c=Math.ceil(o.sub(e).div(i).toNumber()),u=Math.ceil(new jr(r).sub(o).div(i).toNumber()),d=c+u+1;return d>n?vX(e,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:o.sub(new jr(c).mul(i)),tickMax:o.add(new jr(u).mul(i))})}function kBe(e){var r=Dv(e,2),n=r[0],a=r[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),c=pX([n,a]),u=Dv(c,2),d=u[0],f=u[1];if(d===-1/0||f===1/0){var h=f===1/0?[d].concat(jC(_C(0,s-1).map(function(){return 1/0}))):[].concat(jC(_C(0,s-1).map(function(){return-1/0})),[f]);return n>a?SC(h):h}if(d===f)return jBe(d,s,i);var m=vX(d,f,o,i),p=m.step,v=m.tickMin,g=m.tickMax,x=QS.rangeStep(v,g.add(new jr(.1).mul(p)),p);return n>a?SC(x):x}function NBe(e,r){var n=Dv(e,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=pX([a,s]),c=Dv(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0)return[a,s];if(u===d)return[u];var f=Math.max(r,2),h=gX(new jr(d).sub(u).div(f-1),i,0),m=[].concat(jC(QS.rangeStep(new jr(u),new jr(d).sub(new jr(.99).mul(h)),h)),[d]);return a>s?SC(m):m}var EBe=hX(kBe),CBe=hX(NBe),TBe="Invariant failed";function Of(e,r){throw new Error(TBe)}var ABe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sp(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cb.apply(this,arguments)}function OBe(e,r){return IBe(e)||RBe(e,r)||DBe(e,r)||PBe()}function PBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DBe(e,r){if(e){if(typeof e=="string")return v$(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v$(e,r)}}function v$(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function RBe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function IBe(e){if(Array.isArray(e))return e}function MBe(e,r){if(e==null)return{};var n=FBe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function FBe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function LBe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $Be(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wX(a.key),a)}}function BBe(e,r,n){return r&&$Be(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UBe(e,r,n){return r=Tb(r),VBe(e,xX()?Reflect.construct(r,n||[],Tb(e).constructor):r.apply(e,n))}function VBe(e,r){if(r&&(sp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zBe(e)}function zBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xX=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tb(e)}function WBe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&NC(e,r)}function NC(e,r){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},NC(e,r)}function yX(e,r,n){return r=wX(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function wX(e){var r=HBe(e,"string");return sp(r)=="symbol"?r:r+""}function HBe(e,r){if(sp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(sp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ey=function(e){function r(){return LBe(this,r),UBe(this,r,arguments)}return WBe(r,e),BBe(r,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,c=a.dataKey,u=a.data,d=a.dataPointFormatter,f=a.xAxis,h=a.yAxis,m=MBe(a,ABe),p=Nt(m,!1);this.props.direction==="x"&&f.type!=="number"&&Of();var v=u.map(function(g){var x=d(g,c),b=x.x,w=x.y,_=x.value,S=x.errorVal;if(!S)return null;var j=[],N,k;if(Array.isArray(S)){var E=OBe(S,2);N=E[0],k=E[1]}else N=k=S;if(i==="vertical"){var C=f.scale,O=w+s,D=O+o,T=O-o,z=C(_-N),q=C(_+k);j.push({x1:q,y1:D,x2:q,y2:T}),j.push({x1:z,y1:O,x2:q,y2:O}),j.push({x1:z,y1:D,x2:z,y2:T})}else if(i==="horizontal"){var F=h.scale,I=b+s,V=I-o,L=I+o,M=F(_-N),Y=F(_+k);j.push({x1:V,y1:Y,x2:L,y2:Y}),j.push({x1:I,y1:M,x2:I,y2:Y}),j.push({x1:V,y1:M,x2:L,y2:M})}return ne.createElement(dr,Cb({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),j.map(function(Z){return ne.createElement("line",Cb({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return ne.createElement(dr,{className:"recharts-errorBars"},v)}}])}(ne.Component);yX(ey,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yX(ey,"displayName","ErrorBar");function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rv(e)}function x$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fd(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?x$(Object(n),!0).forEach(function(a){qBe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qBe(e,r,n){return r=KBe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function KBe(e){var r=GBe(e,"string");return Rv(r)=="symbol"?r:r+""}function GBe(e,r){if(Rv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Rv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var bX=function(r){var n=r.children,a=r.formattedGraphicalItems,s=r.legendWidth,i=r.legendContent,o=Js(n,Pu);if(!o)return null;var c=Pu.defaultProps,u=c!==void 0?fd(fd({},c),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(a||[]).reduce(function(f,h){var m=h.item,p=h.props,v=p.sectors||p.data||[];return f.concat(v.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(a||[]).map(function(f){var h=f.item,m=h.type.defaultProps,p=m!==void 0?fd(fd({},m),h.props):{},v=p.dataKey,g=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:v,type:u.iconType||x||"square",color:C4(h),value:g||v,payload:p}}),fd(fd(fd({},u),Pu.getWithHeight(o,s)),{},{payload:d,item:o})};function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Iv(e)}function y$(e){return QBe(e)||JBe(e)||XBe(e)||YBe()}function YBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XBe(e,r){if(e){if(typeof e=="string")return EC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EC(e,r)}}function JBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QBe(e){if(Array.isArray(e))return EC(e)}function EC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function w$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ln(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?w$(Object(n),!0).forEach(function(a){hm(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function hm(e,r,n){return r=ZBe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ZBe(e){var r=eUe(e,"string");return Iv(r)=="symbol"?r:r+""}function eUe(e,r){if(Iv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Iv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vn(e,r,n){return $t(e)||$t(r)?n:Hn(r)?di(e,r,n):Pt(r)?r(e):n}function Eg(e,r,n,a){var s=J6e(e,function(c){return Vn(c,r)});if(n==="number"){var i=s.filter(function(c){return Qe(c)||parseFloat(c)});return i.length?[XS(i),YS(i)]:[1/0,-1/0]}var o=a?s.filter(function(c){return!$t(c)}):s;return o.map(function(c){return Hn(c)||c instanceof Date?c:""})}var tUe=function(r){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,c=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,d=0;d<c;d++){var f=d>0?s[d-1].coordinate:s[c-1].coordinate,h=s[d].coordinate,m=d>=c-1?s[0].coordinate:s[d+1].coordinate,p=void 0;if(is(h-f)!==is(m-h)){var v=[];if(is(m-h)===is(u[1]-u[0])){p=m;var g=h+u[1]-u[0];v[0]=Math.min(g,(g+f)/2),v[1]=Math.max(g,(g+f)/2)}else{p=f;var x=m+u[1]-u[0];v[0]=Math.min(h,(x+h)/2),v[1]=Math.max(h,(x+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(r>b[0]&&r<=b[1]||r>=v[0]&&r<=v[1]){o=s[d].index;break}}else{var w=Math.min(f,m),_=Math.max(f,m);if(r>(w+h)/2&&r<=(_+h)/2){o=s[d].index;break}}}else for(var S=0;S<c;S++)if(S===0&&r<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<c-1&&r>(a[S].coordinate+a[S-1].coordinate)/2&&r<=(a[S].coordinate+a[S+1].coordinate)/2||S===c-1&&r>(a[S].coordinate+a[S-1].coordinate)/2){o=a[S].index;break}return o},C4=function(r){var n,a=r,s=a.type.displayName,i=(n=r.type)!==null&&n!==void 0&&n.defaultProps?ln(ln({},r.type.defaultProps),r.props):r.props,o=i.stroke,c=i.fill,u;switch(s){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:c;break;default:u=c;break}return u},rUe=function(r){var n=r.barSize,a=r.totalSize,s=r.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},c=Object.keys(i),u=0,d=c.length;u<d;u++)for(var f=i[c[u]].stackGroups,h=Object.keys(f),m=0,p=h.length;m<p;m++){var v=f[h[m]],g=v.items,x=v.cateAxisId,b=g.filter(function(k){return lc(k.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,_=w!==void 0?ln(ln({},w),b[0].props):b[0].props,S=_.barSize,j=_[x];o[j]||(o[j]=[]);var N=$t(S)?n:S;o[j].push({item:b[0],stackList:b.slice(1),barSize:$t(N)?void 0:os(N,a,0)})}}return o},nUe=function(r){var n=r.barGap,a=r.barCategoryGap,s=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,c=r.maxBarSize,u=o.length;if(u<1)return null;var d=os(n,s,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=s/u,v=o.reduce(function(S,j){return S+j.barSize||0},0);v+=(u-1)*d,v>=s&&(v-=(u-1)*d,d=0),v>=s&&p>0&&(m=!0,p*=.9,v=u*p);var g=(s-v)/2>>0,x={offset:g-d,size:0};f=o.reduce(function(S,j){var N={item:j.item,position:{offset:x.offset+x.size+d,size:m?p:j.barSize}},k=[].concat(y$(S),[N]);return x=k[k.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){k.push({item:E,position:x})}),k},h)}else{var b=os(a,s,0,!0);s-2*b-(u-1)*d<=0&&(d=0);var w=(s-2*b-(u-1)*d)/u;w>1&&(w>>=0);var _=c===+c?Math.min(w,c):w;f=o.reduce(function(S,j,N){var k=[].concat(y$(S),[{item:j.item,position:{offset:b+(w+d)*N+(w-_)/2,size:_}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){k.push({item:E,position:k[k.length-1].position})}),k},h)}return f},aUe=function(r,n,a,s){var i=a.children,o=a.width,c=a.margin,u=o-(c.left||0)-(c.right||0),d=bX({children:i,legendWidth:u});if(d){var f=s||{},h=f.width,m=f.height,p=d.align,v=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&p!=="center"&&Qe(r[p]))return ln(ln({},r),{},hm({},p,r[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&v!=="middle"&&Qe(r[v]))return ln(ln({},r),{},hm({},v,r[v]+(m||0)))}return r},sUe=function(r,n,a){return $t(n)?!0:r==="horizontal"?n==="yAxis":r==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},_X=function(r,n,a,s,i){var o=n.props.children,c=fi(o,ey).filter(function(d){return sUe(s,i,d.props.direction)});if(c&&c.length){var u=c.map(function(d){return d.props.dataKey});return r.reduce(function(d,f){var h=Vn(f,a);if($t(h))return d;var m=Array.isArray(h)?[XS(h),YS(h)]:[h,h],p=u.reduce(function(v,g){var x=Vn(f,g,0),b=m[0]-Math.abs(Array.isArray(x)?x[0]:x),w=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},iUe=function(r,n,a,s,i){var o=n.map(function(c){return _X(r,c,a,i,s)}).filter(function(c){return!$t(c)});return o&&o.length?o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]):null},SX=function(r,n,a,s,i){var o=n.map(function(u){var d=u.props.dataKey;return a==="number"&&d&&_X(r,u,d,s)||Eg(r,d,a,i)});if(a==="number")return o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);var c={};return o.reduce(function(u,d){for(var f=0,h=d.length;f<h;f++)c[d[f]]||(c[d[f]]=!0,u.push(d[f]));return u},[])},jX=function(r,n){return r==="horizontal"&&n==="xAxis"||r==="vertical"&&n==="yAxis"||r==="centric"&&n==="angleAxis"||r==="radial"&&n==="radiusAxis"},kX=function(r,n,a,s){if(s)return r.map(function(u){return u.coordinate});var i,o,c=r.map(function(u){return u.coordinate===n&&(i=!0),u.coordinate===a&&(o=!0),u.coordinate});return i||c.push(n),o||c.push(a),c},ac=function(r,n,a){if(!r)return null;var s=r.scale,i=r.duplicateDomain,o=r.type,c=r.range,u=r.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||a)&&o==="category"&&s.bandwidth?s.bandwidth()/u:0;if(d=r.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?is(c[0]-c[1])*2*d:d,n&&(r.ticks||r.niceTicks)){var f=(r.ticks||r.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:s(m)+d,value:h,offset:d}});return f.filter(function(h){return!Kx(h.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(h,m){return{coordinate:s(h)+d,value:h,index:m,offset:d}}):s.ticks&&!a?s.ticks(r.tickCount).map(function(h){return{coordinate:s(h)+d,value:h,offset:d}}):s.domain().map(function(h,m){return{coordinate:s(h)+d,value:i?i[h]:h,index:m,offset:d}})},yN=new WeakMap,dw=function(r,n){if(typeof n!="function")return r;yN.has(r)||yN.set(r,new WeakMap);var a=yN.get(r);if(a.has(n))return a.get(n);var s=function(){r.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},NX=function(r,n,a){var s=r.scale,i=r.type,o=r.layout,c=r.axisType;if(s==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Ev(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:Sb(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:Ng(),realScaleType:"point"}:i==="category"?{scale:Ev(),realScaleType:"band"}:{scale:Sb(),realScaleType:"linear"};if(Ef(s)){var u="scale".concat(IS(s));return{scale:(h$[u]||Ng)(),realScaleType:h$[u]?u:"point"}}return Pt(s)?{scale:s}:{scale:Ng(),realScaleType:"point"}},b$=1e-4,EX=function(r){var n=r.domain();if(!(!n||n.length<=2)){var a=n.length,s=r.range(),i=Math.min(s[0],s[1])-b$,o=Math.max(s[0],s[1])+b$,c=r(n[0]),u=r(n[a-1]);(c<i||c>o||u<i||u>o)&&r.domain([n[0],n[a-1]])}},oUe=function(r,n){if(!r)return null;for(var a=0,s=r.length;a<s;a++)if(r[a].item===n)return r[a].position;return null},lUe=function(r,n){if(!n||n.length!==2||!Qe(n[0])||!Qe(n[1]))return r;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[r[0],r[1]];return(!Qe(r[0])||r[0]<a)&&(i[0]=a),(!Qe(r[1])||r[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},cUe=function(r){var n=r.length;if(!(n<=0))for(var a=0,s=r[0].length;a<s;++a)for(var i=0,o=0,c=0;c<n;++c){var u=Kx(r[c][a][1])?r[c][a][0]:r[c][a][1];u>=0?(r[c][a][0]=i,r[c][a][1]=i+u,i=r[c][a][1]):(r[c][a][0]=o,r[c][a][1]=o+u,o=r[c][a][1])}},uUe=function(r){var n=r.length;if(!(n<=0))for(var a=0,s=r[0].length;a<s;++a)for(var i=0,o=0;o<n;++o){var c=Kx(r[o][a][1])?r[o][a][0]:r[o][a][1];c>=0?(r[o][a][0]=i,r[o][a][1]=i+c,i=r[o][a][1]):(r[o][a][0]=0,r[o][a][1]=0)}},dUe={sign:cUe,expand:APe,none:Jm,silhouette:OPe,wiggle:PPe,positive:uUe},fUe=function(r,n,a){var s=n.map(function(c){return c.props.dataKey}),i=dUe[a],o=TPe().keys(s).value(function(c,u){return+Vn(c,u,0)}).order(QE).offset(i);return o(r)},hUe=function(r,n,a,s,i,o){if(!r)return null;var c=o?n.reverse():n,u={},d=c.reduce(function(h,m){var p,v=(p=m.type)!==null&&p!==void 0&&p.defaultProps?ln(ln({},m.type.defaultProps),m.props):m.props,g=v.stackId,x=v.hide;if(x)return h;var b=v[a],w=h[b]||{hasStack:!1,stackGroups:{}};if(Hn(g)){var _=w.stackGroups[g]||{numericAxisId:a,cateAxisId:s,items:[]};_.items.push(m),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[e0("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[m]};return ln(ln({},h),{},hm({},b,w))},u),f={};return Object.keys(d).reduce(function(h,m){var p=d[m];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var b=p.stackGroups[x];return ln(ln({},g),{},hm({},x,{numericAxisId:a,cateAxisId:s,items:b.items,stackedData:fUe(r,b.items,i)}))},v)}return ln(ln({},h),{},hm({},m,p))},f)},CX=function(r,n){var a=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,c=n.allowDecimals,u=a||n.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=r.domain();if(!d.length)return null;var f=EBe(d,i,c);return r.domain([XS(f),YS(f)]),{niceTicks:f}}if(i&&s==="number"){var h=r.domain(),m=CBe(h,i,c);return{niceTicks:m}}return null};function _$(e){var r=e.axis,n=e.ticks,a=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!$t(s[r.dataKey])){var c=rb(n,"value",s[r.dataKey]);if(c)return c.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var u=Vn(s,$t(o)?r.dataKey:o);return $t(u)?null:r.scale(u)}var S$=function(r){var n=r.axis,a=r.ticks,s=r.offset,i=r.bandSize,o=r.entry,c=r.index;if(n.type==="category")return a[c]?a[c].coordinate+s:null;var u=Vn(o,n.dataKey,n.domain[c]);return $t(u)?null:n.scale(u)-i/2+s},mUe=function(r){var n=r.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},pUe=function(r,n){var a,s=(a=r.type)!==null&&a!==void 0&&a.defaultProps?ln(ln({},r.type.defaultProps),r.props):r.props,i=s.stackId;if(Hn(i)){var o=n[i];if(o){var c=o.items.indexOf(r);return c>=0?o.stackedData[c]:null}}return null},gUe=function(r){return r.reduce(function(n,a){return[XS(a.concat([n[0]]).filter(Qe)),YS(a.concat([n[1]]).filter(Qe))]},[1/0,-1/0])},TX=function(r,n,a){return Object.keys(r).reduce(function(s,i){var o=r[i],c=o.stackedData,u=c.reduce(function(d,f){var h=gUe(f.slice(n,a+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},j$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CC=function(r,n,a){if(Pt(r))return r(n,a);if(!Array.isArray(r))return n;var s=[];if(Qe(r[0]))s[0]=a?r[0]:Math.min(r[0],n[0]);else if(j$.test(r[0])){var i=+j$.exec(r[0])[1];s[0]=n[0]-i}else Pt(r[0])?s[0]=r[0](n[0]):s[0]=n[0];if(Qe(r[1]))s[1]=a?r[1]:Math.max(r[1],n[1]);else if(k$.test(r[1])){var o=+k$.exec(r[1])[1];s[1]=n[1]+o}else Pt(r[1])?s[1]=r[1](n[1]):s[1]=n[1];return s},Ab=function(r,n,a){if(r&&r.scale&&r.scale.bandwidth){var s=r.scale.bandwidth();if(!a||s>0)return s}if(r&&n&&n.length>=2){for(var i=t4(n,function(h){return h.coordinate}),o=1/0,c=1,u=i.length;c<u;c++){var d=i[c],f=i[c-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},N$=function(r,n,a){return!r||!r.length||Zx(r,di(a,"type.defaultProps.domain"))?n:r},AX=function(r,n){var a=r.type.defaultProps?ln(ln({},r.type.defaultProps),r.props):r.props,s=a.dataKey,i=a.name,o=a.unit,c=a.formatter,u=a.tooltipType,d=a.chartType,f=a.hide;return ln(ln({},Nt(r,!1)),{},{dataKey:s,unit:o,formatter:c,name:i||s,color:C4(r),value:Vn(n,s),type:u,payload:n,chartType:d,hide:f})};function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mv(e)}function E$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Kl(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?E$(Object(n),!0).forEach(function(a){OX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function OX(e,r,n){return r=vUe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function vUe(e){var r=xUe(e,"string");return Mv(r)=="symbol"?r:r+""}function xUe(e,r){if(Mv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Mv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yUe(e,r){return SUe(e)||_Ue(e,r)||bUe(e,r)||wUe()}function wUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bUe(e,r){if(e){if(typeof e=="string")return C$(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C$(e,r)}}function C$(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function _Ue(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function SUe(e){if(Array.isArray(e))return e}var Ob=Math.PI/180,jUe=function(r){return r*180/Math.PI},Lr=function(r,n,a,s){return{x:r+Math.cos(-Ob*s)*a,y:n+Math.sin(-Ob*s)*a}},PX=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},kUe=function(r,n,a,s,i){var o=r.width,c=r.height,u=r.startAngle,d=r.endAngle,f=os(r.cx,o,o/2),h=os(r.cy,c,c/2),m=PX(o,c,a),p=os(r.innerRadius,m,0),v=os(r.outerRadius,m,m*.8),g=Object.keys(n);return g.reduce(function(x,b){var w=n[b],_=w.domain,S=w.reversed,j;if($t(w.range))s==="angleAxis"?j=[u,d]:s==="radiusAxis"&&(j=[p,v]),S&&(j=[j[1],j[0]]);else{j=w.range;var N=j,k=yUe(N,2);u=k[0],d=k[1]}var E=NX(w,i),C=E.realScaleType,O=E.scale;O.domain(_).range(j),EX(O);var D=CX(O,Kl(Kl({},w),{},{realScaleType:C})),T=Kl(Kl(Kl({},w),D),{},{range:j,radius:v,realScaleType:C,scale:O,cx:f,cy:h,innerRadius:p,outerRadius:v,startAngle:u,endAngle:d});return Kl(Kl({},x),{},OX({},b,T))},{})},NUe=function(r,n){var a=r.x,s=r.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},EUe=function(r,n){var a=r.x,s=r.y,i=n.cx,o=n.cy,c=NUe({x:a,y:s},{x:i,y:o});if(c<=0)return{radius:c};var u=(a-i)/c,d=Math.acos(u);return s>o&&(d=2*Math.PI-d),{radius:c,angle:jUe(d),angleInRadian:d}},CUe=function(r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:a-o*360}},TUe=function(r,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),c=Math.min(i,o);return r+c*360},T$=function(r,n){var a=r.x,s=r.y,i=EUe({x:a,y:s},n),o=i.radius,c=i.angle,u=n.innerRadius,d=n.outerRadius;if(o<u||o>d)return!1;if(o===0)return!0;var f=CUe(n),h=f.startAngle,m=f.endAngle,p=c,v;if(h<=m){for(;p>m;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=m}else{for(;p>h;)p-=360;for(;p<m;)p+=360;v=p>=m&&p<=h}return v?Kl(Kl({},n),{},{radius:o,angle:TUe(p,n)}):null},DX=function(r){return!y.isValidElement(r)&&!Pt(r)&&typeof r!="boolean"?r.className:""};function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fv(e)}var AUe=["offset"];function OUe(e){return IUe(e)||RUe(e)||DUe(e)||PUe()}function PUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DUe(e,r){if(e){if(typeof e=="string")return TC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TC(e,r)}}function RUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IUe(e){if(Array.isArray(e))return TC(e)}function TC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function MUe(e,r){if(e==null)return{};var n=FUe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function FUe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function A$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Mn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?A$(Object(n),!0).forEach(function(a){LUe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LUe(e,r,n){return r=$Ue(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function $Ue(e){var r=BUe(e,"string");return Fv(r)=="symbol"?r:r+""}function BUe(e,r){if(Fv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Fv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lv.apply(this,arguments)}var UUe=function(r){var n=r.value,a=r.formatter,s=$t(r.children)?n:r.children;return Pt(a)?a(s):s},VUe=function(r,n){var a=is(n-r),s=Math.min(Math.abs(n-r),360);return a*s},zUe=function(r,n,a){var s=r.position,i=r.viewBox,o=r.offset,c=r.className,u=i,d=u.cx,f=u.cy,h=u.innerRadius,m=u.outerRadius,p=u.startAngle,v=u.endAngle,g=u.clockWise,x=(h+m)/2,b=VUe(p,v),w=b>=0?1:-1,_,S;s==="insideStart"?(_=p+w*o,S=g):s==="insideEnd"?(_=v-w*o,S=!g):s==="end"&&(_=v+w*o,S=g),S=b<=0?S:!S;var j=Lr(d,f,x,_),N=Lr(d,f,x,_+(S?1:-1)*359),k="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),E=$t(r.id)?e0("recharts-radial-line-"):r.id;return ne.createElement("text",Lv({},a,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",c)}),ne.createElement("defs",null,ne.createElement("path",{id:E,d:k})),ne.createElement("textPath",{xlinkHref:"#".concat(E)},n))},WUe=function(r){var n=r.viewBox,a=r.offset,s=r.position,i=n,o=i.cx,c=i.cy,u=i.innerRadius,d=i.outerRadius,f=i.startAngle,h=i.endAngle,m=(f+h)/2;if(s==="outside"){var p=Lr(o,c,d+a,m),v=p.x,g=p.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var x=(u+d)/2,b=Lr(o,c,x,m),w=b.x,_=b.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},HUe=function(r){var n=r.viewBox,a=r.parentViewBox,s=r.offset,i=r.position,o=n,c=o.x,u=o.y,d=o.width,f=o.height,h=f>=0?1:-1,m=h*s,p=h>0?"end":"start",v=h>0?"start":"end",g=d>=0?1:-1,x=g*s,b=g>0?"end":"start",w=g>0?"start":"end";if(i==="top"){var _={x:c+d/2,y:u-h*s,textAnchor:"middle",verticalAnchor:p};return Mn(Mn({},_),a?{height:Math.max(u-a.y,0),width:d}:{})}if(i==="bottom"){var S={x:c+d/2,y:u+f+m,textAnchor:"middle",verticalAnchor:v};return Mn(Mn({},S),a?{height:Math.max(a.y+a.height-(u+f),0),width:d}:{})}if(i==="left"){var j={x:c-x,y:u+f/2,textAnchor:b,verticalAnchor:"middle"};return Mn(Mn({},j),a?{width:Math.max(j.x-a.x,0),height:f}:{})}if(i==="right"){var N={x:c+d+x,y:u+f/2,textAnchor:w,verticalAnchor:"middle"};return Mn(Mn({},N),a?{width:Math.max(a.x+a.width-N.x,0),height:f}:{})}var k=a?{width:d,height:f}:{};return i==="insideLeft"?Mn({x:c+x,y:u+f/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideRight"?Mn({x:c+d-x,y:u+f/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?Mn({x:c+d/2,y:u+m,textAnchor:"middle",verticalAnchor:v},k):i==="insideBottom"?Mn({x:c+d/2,y:u+f-m,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?Mn({x:c+x,y:u+m,textAnchor:w,verticalAnchor:v},k):i==="insideTopRight"?Mn({x:c+d-x,y:u+m,textAnchor:b,verticalAnchor:v},k):i==="insideBottomLeft"?Mn({x:c+x,y:u+f-m,textAnchor:w,verticalAnchor:p},k):i==="insideBottomRight"?Mn({x:c+d-x,y:u+f-m,textAnchor:b,verticalAnchor:p},k):Xp(i)&&(Qe(i.x)||Ld(i.x))&&(Qe(i.y)||Ld(i.y))?Mn({x:c+os(i.x,d),y:u+os(i.y,f),textAnchor:"end",verticalAnchor:"end"},k):Mn({x:c+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},qUe=function(r){return"cx"in r&&Qe(r.cx)};function Qn(e){var r=e.offset,n=r===void 0?5:r,a=MUe(e,AUe),s=Mn({offset:n},a),i=s.viewBox,o=s.position,c=s.value,u=s.children,d=s.content,f=s.className,h=f===void 0?"":f,m=s.textBreakAll;if(!i||$t(c)&&$t(u)&&!y.isValidElement(d)&&!Pt(d))return null;if(y.isValidElement(d))return y.cloneElement(d,s);var p;if(Pt(d)){if(p=y.createElement(d,s),y.isValidElement(p))return p}else p=UUe(s);var v=qUe(i),g=Nt(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return zUe(s,p,g);var x=v?WUe(s):HUe(s);return ne.createElement(Tf,Lv({className:Bt("recharts-label",h)},g,x,{breakAll:m}),p)}Qn.displayName="Label";var RX=function(r){var n=r.cx,a=r.cy,s=r.angle,i=r.startAngle,o=r.endAngle,c=r.r,u=r.radius,d=r.innerRadius,f=r.outerRadius,h=r.x,m=r.y,p=r.top,v=r.left,g=r.width,x=r.height,b=r.clockWise,w=r.labelViewBox;if(w)return w;if(Qe(g)&&Qe(x)){if(Qe(h)&&Qe(m))return{x:h,y:m,width:g,height:x};if(Qe(p)&&Qe(v))return{x:p,y:v,width:g,height:x}}return Qe(h)&&Qe(m)?{x:h,y:m,width:0,height:0}:Qe(n)&&Qe(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:f||u||c||0,clockWise:b}:r.viewBox?r.viewBox:{}},KUe=function(r,n){return r?r===!0?ne.createElement(Qn,{key:"label-implicit",viewBox:n}):Hn(r)?ne.createElement(Qn,{key:"label-implicit",viewBox:n,value:r}):y.isValidElement(r)?r.type===Qn?y.cloneElement(r,{key:"label-implicit",viewBox:n}):ne.createElement(Qn,{key:"label-implicit",content:r,viewBox:n}):Pt(r)?ne.createElement(Qn,{key:"label-implicit",content:r,viewBox:n}):Xp(r)?ne.createElement(Qn,Lv({viewBox:n},r,{key:"label-implicit"})):null:null},GUe=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&a&&!r.label)return null;var s=r.children,i=RX(r),o=fi(s,Qn).map(function(u,d){return y.cloneElement(u,{viewBox:n||i,key:"label-".concat(d)})});if(!a)return o;var c=KUe(r.label,n||i);return[c].concat(OUe(o))};Qn.parseViewBox=RX;Qn.renderCallByParent=GUe;function YUe(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var XUe=YUe;const JUe=gr(XUe);function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$v(e)}var QUe=["valueAccessor"],ZUe=["data","dataKey","clockWise","id","textBreakAll"];function e9e(e){return a9e(e)||n9e(e)||r9e(e)||t9e()}function t9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9e(e,r){if(e){if(typeof e=="string")return AC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AC(e,r)}}function n9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a9e(e){if(Array.isArray(e))return AC(e)}function AC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pb.apply(this,arguments)}function O$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function P$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?O$(Object(n),!0).forEach(function(a){s9e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function s9e(e,r,n){return r=i9e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i9e(e){var r=o9e(e,"string");return $v(r)=="symbol"?r:r+""}function o9e(e,r){if($v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if($v(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function D$(e,r){if(e==null)return{};var n=l9e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function l9e(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var c9e=function(r){return Array.isArray(r.value)?JUe(r.value):r.value};function uc(e){var r=e.valueAccessor,n=r===void 0?c9e:r,a=D$(e,QUe),s=a.data,i=a.dataKey,o=a.clockWise,c=a.id,u=a.textBreakAll,d=D$(a,ZUe);return!s||!s.length?null:ne.createElement(dr,{className:"recharts-label-list"},s.map(function(f,h){var m=$t(i)?n(f,h):Vn(f&&f.payload,i),p=$t(c)?{}:{id:"".concat(c,"-").concat(h)};return ne.createElement(Qn,Pb({},Nt(f,!0),d,p,{parentViewBox:f.parentViewBox,value:m,textBreakAll:u,viewBox:Qn.parseViewBox($t(o)?f:P$(P$({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}uc.displayName="LabelList";function u9e(e,r){return e?e===!0?ne.createElement(uc,{key:"labelList-implicit",data:r}):ne.isValidElement(e)||Pt(e)?ne.createElement(uc,{key:"labelList-implicit",data:r,content:e}):Xp(e)?ne.createElement(uc,Pb({data:r},e,{key:"labelList-implicit"})):null:null}function d9e(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=fi(a,uc).map(function(o,c){return y.cloneElement(o,{data:r,key:"labelList-".concat(c)})});if(!n)return s;var i=u9e(e.label,r);return[i].concat(e9e(s))}uc.renderCallByParent=d9e;function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bv(e)}function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},OC.apply(this,arguments)}function R$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function I$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?R$(Object(n),!0).forEach(function(a){f9e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function f9e(e,r,n){return r=h9e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function h9e(e){var r=m9e(e,"string");return Bv(r)=="symbol"?r:r+""}function m9e(e,r){if(Bv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Bv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var p9e=function(r,n){var a=is(n-r),s=Math.min(Math.abs(n-r),359.999);return a*s},fw=function(r){var n=r.cx,a=r.cy,s=r.radius,i=r.angle,o=r.sign,c=r.isExternal,u=r.cornerRadius,d=r.cornerIsExternal,f=u*(c?1:-1)+s,h=Math.asin(u/f)/Ob,m=d?i:i+o*h,p=Lr(n,a,f,m),v=Lr(n,a,s,m),g=d?i-o*h:i,x=Lr(n,a,f*Math.cos(h*Ob),g);return{center:p,circleTangency:v,lineTangency:x,theta:h}},IX=function(r){var n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,o=r.startAngle,c=r.endAngle,u=p9e(o,c),d=o+u,f=Lr(n,a,i,o),h=Lr(n,a,i,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var p=Lr(n,a,s,o),v=Lr(n,a,s,d);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(n,",").concat(a," Z");return m},g9e=function(r){var n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=is(f-d),m=fw({cx:n,cy:a,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:u}),p=m.circleTangency,v=m.lineTangency,g=m.theta,x=fw({cx:n,cy:a,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),b=x.circleTangency,w=x.lineTangency,_=x.theta,S=u?Math.abs(d-f):Math.abs(d-f)-g-_;if(S<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):IX({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var N=fw({cx:n,cy:a,radius:s,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),k=N.circleTangency,E=N.lineTangency,C=N.theta,O=fw({cx:n,cy:a,radius:s,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),D=O.circleTangency,T=O.lineTangency,z=O.theta,q=u?Math.abs(d-f):Math.abs(d-f)-C-z;if(q<0&&o===0)return"".concat(j,"L").concat(n,",").concat(a,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(q>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else j+="L".concat(n,",").concat(a,"Z");return j},v9e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MX=function(r){var n=I$(I$({},v9e),r),a=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,c=n.cornerRadius,u=n.forceCornerRadius,d=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,m=n.className;if(o<i||f===h)return null;var p=Bt("recharts-sector",m),v=o-i,g=os(c,v,0,!0),x;return g>0&&Math.abs(f-h)<360?x=g9e({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):x=IX({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),ne.createElement("path",OC({},Nt(n,!0),{className:p,d:x,role:"img"}))};function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uv(e)}function PC(){return PC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},PC.apply(this,arguments)}function M$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function F$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?M$(Object(n),!0).forEach(function(a){x9e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function x9e(e,r,n){return r=y9e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function y9e(e){var r=w9e(e,"string");return Uv(r)=="symbol"?r:r+""}function w9e(e,r){if(Uv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Uv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var L$={curveBasisClosed:xPe,curveBasisOpen:yPe,curveBasis:vPe,curveBumpX:nPe,curveBumpY:aPe,curveLinearClosed:wPe,curveLinear:FS,curveMonotoneX:bPe,curveMonotoneY:_Pe,curveNatural:SPe,curveStep:jPe,curveStepAfter:NPe,curveStepBefore:kPe},hw=function(r){return r.x===+r.x&&r.y===+r.y},O0=function(r){return r.x},P0=function(r){return r.y},b9e=function(r,n){if(Pt(r))return r;var a="curve".concat(IS(r));return(a==="curveMonotone"||a==="curveBump")&&n?L$["".concat(a).concat(n==="vertical"?"Y":"X")]:L$[a]||FS},_9e=function(r){var n=r.type,a=n===void 0?"linear":n,s=r.points,i=s===void 0?[]:s,o=r.baseLine,c=r.layout,u=r.connectNulls,d=u===void 0?!1:u,f=b9e(a,c),h=d?i.filter(function(g){return hw(g)}):i,m;if(Array.isArray(o)){var p=d?o.filter(function(g){return hw(g)}):o,v=h.map(function(g,x){return F$(F$({},g),{},{base:p[x]})});return c==="vertical"?m=nw().y(P0).x1(O0).x0(function(g){return g.base.x}):m=nw().x(O0).y1(P0).y0(function(g){return g.base.y}),m.defined(hw).curve(f),m(v)}return c==="vertical"&&Qe(o)?m=nw().y(P0).x1(O0).x0(o):Qe(o)?m=nw().x(O0).y1(P0).y0(o):m=AG().x(O0).y(P0),m.defined(hw).curve(f),m(h)},Db=function(r){var n=r.className,a=r.points,s=r.path,i=r.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?_9e(r):s;return y.createElement("path",PC({},Nt(r,!1),nb(r),{className:Bt("recharts-curve",n),d:o,ref:i}))},FX={exports:{}},S9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j9e=S9e,k9e=j9e;function LX(){}function $X(){}$X.resetWarningCache=LX;var N9e=function(){function e(a,s,i,o,c,u){if(u!==k9e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:$X,resetWarningCache:LX};return n.PropTypes=n,n};FX.exports=N9e();var E9e=FX.exports;const mr=gr(E9e);var C9e=Object.getOwnPropertyNames,T9e=Object.getOwnPropertySymbols,A9e=Object.prototype.hasOwnProperty;function $$(e,r){return function(a,s,i){return e(a,s,i)&&r(a,s,i)}}function mw(e){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return e(n,a,s);var i=s.cache,o=i.get(n),c=i.get(a);if(o&&c)return o===a&&c===n;i.set(n,a),i.set(a,n);var u=e(n,a,s);return i.delete(n),i.delete(a),u}}function B$(e){return C9e(e).concat(T9e(e))}var O9e=Object.hasOwn||function(e,r){return A9e.call(e,r)};function Yf(e,r){return e===r||!e&&!r&&e!==e&&r!==r}var P9e="__v",D9e="__o",R9e="_owner",U$=Object.getOwnPropertyDescriptor,V$=Object.keys;function I9e(e,r,n){var a=e.length;if(r.length!==a)return!1;for(;a-- >0;)if(!n.equals(e[a],r[a],a,a,e,r,n))return!1;return!0}function M9e(e,r){return Yf(e.getTime(),r.getTime())}function F9e(e,r){return e.name===r.name&&e.message===r.message&&e.cause===r.cause&&e.stack===r.stack}function L9e(e,r){return e===r}function z$(e,r,n){var a=e.size;if(a!==r.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,c,u=0;(o=i.next())&&!o.done;){for(var d=r.entries(),f=!1,h=0;(c=d.next())&&!c.done;){if(s[h]){h++;continue}var m=o.value,p=c.value;if(n.equals(m[0],p[0],u,h,e,r,n)&&n.equals(m[1],p[1],m[0],p[0],e,r,n)){f=s[h]=!0;break}h++}if(!f)return!1;u++}return!0}var $9e=Yf;function B9e(e,r,n){var a=V$(e),s=a.length;if(V$(r).length!==s)return!1;for(;s-- >0;)if(!BX(e,r,n,a[s]))return!1;return!0}function D0(e,r,n){var a=B$(e),s=a.length;if(B$(r).length!==s)return!1;for(var i,o,c;s-- >0;)if(i=a[s],!BX(e,r,n,i)||(o=U$(e,i),c=U$(r,i),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function U9e(e,r){return Yf(e.valueOf(),r.valueOf())}function V9e(e,r){return e.source===r.source&&e.flags===r.flags}function W$(e,r,n){var a=e.size;if(a!==r.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,c;(o=i.next())&&!o.done;){for(var u=r.values(),d=!1,f=0;(c=u.next())&&!c.done;){if(!s[f]&&n.equals(o.value,c.value,o.value,c.value,e,r,n)){d=s[f]=!0;break}f++}if(!d)return!1}return!0}function z9e(e,r){var n=e.length;if(r.length!==n)return!1;for(;n-- >0;)if(e[n]!==r[n])return!1;return!0}function W9e(e,r){return e.hostname===r.hostname&&e.pathname===r.pathname&&e.protocol===r.protocol&&e.port===r.port&&e.hash===r.hash&&e.username===r.username&&e.password===r.password}function BX(e,r,n,a){return(a===R9e||a===D9e||a===P9e)&&(e.$$typeof||r.$$typeof)?!0:O9e(r,a)&&n.equals(e[a],r[a],a,a,e,r,n)}var H9e="[object Arguments]",q9e="[object Boolean]",K9e="[object Date]",G9e="[object Error]",Y9e="[object Map]",X9e="[object Number]",J9e="[object Object]",Q9e="[object RegExp]",Z9e="[object Set]",e7e="[object String]",t7e="[object URL]",r7e=Array.isArray,H$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,q$=Object.assign,n7e=Object.prototype.toString.call.bind(Object.prototype.toString);function a7e(e){var r=e.areArraysEqual,n=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,c=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(v,g,x){if(v===g)return!0;if(v==null||g==null)return!1;var b=typeof v;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(v,g,x):b==="function"?s(v,g,x):!1;var w=v.constructor;if(w!==g.constructor)return!1;if(w===Object)return c(v,g,x);if(r7e(v))return r(v,g,x);if(H$!=null&&H$(v))return h(v,g,x);if(w===Date)return n(v,g,x);if(w===RegExp)return d(v,g,x);if(w===Map)return i(v,g,x);if(w===Set)return f(v,g,x);var _=n7e(v);return _===K9e?n(v,g,x):_===Q9e?d(v,g,x):_===Y9e?i(v,g,x):_===Z9e?f(v,g,x):_===J9e?typeof v.then!="function"&&typeof g.then!="function"&&c(v,g,x):_===t7e?m(v,g,x):_===G9e?a(v,g,x):_===H9e?c(v,g,x):_===q9e||_===X9e||_===e7e?u(v,g,x):!1}}function s7e(e){var r=e.circular,n=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?D0:I9e,areDatesEqual:M9e,areErrorsEqual:F9e,areFunctionsEqual:L9e,areMapsEqual:a?$$(z$,D0):z$,areNumbersEqual:$9e,areObjectsEqual:a?D0:B9e,arePrimitiveWrappersEqual:U9e,areRegExpsEqual:V9e,areSetsEqual:a?$$(W$,D0):W$,areTypedArraysEqual:a?D0:z9e,areUrlsEqual:W9e};if(n&&(s=q$({},s,n(s))),r){var i=mw(s.areArraysEqual),o=mw(s.areMapsEqual),c=mw(s.areObjectsEqual),u=mw(s.areSetsEqual);s=q$({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:u})}return s}function i7e(e){return function(r,n,a,s,i,o,c){return e(r,n,c)}}function o7e(e){var r=e.circular,n=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(u,d){var f=a(),h=f.cache,m=h===void 0?r?new WeakMap:void 0:h,p=f.meta;return n(u,d,{cache:m,equals:s,meta:p,strict:i})};if(r)return function(u,d){return n(u,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(u,d){return n(u,d,o)}}var l7e=id();id({strict:!0});id({circular:!0});id({circular:!0,strict:!0});id({createInternalComparator:function(){return Yf}});id({strict:!0,createInternalComparator:function(){return Yf}});id({circular:!0,createInternalComparator:function(){return Yf}});id({circular:!0,createInternalComparator:function(){return Yf},strict:!0});function id(e){e===void 0&&(e={});var r=e.circular,n=r===void 0?!1:r,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,c=s7e(e),u=a7e(c),d=a?a(u):i7e(u);return o7e({circular:n,comparator:u,createState:s,equals:d,strict:o})}function c7e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function K$(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>r?(e(i),n=-1):c7e(s)};requestAnimationFrame(a)}function DC(e){"@babel/helpers - typeof";return DC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},DC(e)}function u7e(e){return m7e(e)||h7e(e)||f7e(e)||d7e()}function d7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f7e(e,r){if(e){if(typeof e=="string")return G$(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G$(e,r)}}function G$(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function h7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m7e(e){if(Array.isArray(e))return e}function p7e(){var e={},r=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,c=u7e(o),u=c[0],d=c.slice(1);if(typeof u=="number"){K$(s.bind(null,d),u);return}s(u),K$(s.bind(null,d));return}DC(i)==="object"&&(e=i,r(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vv(e)}function Y$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function X$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Y$(Object(n),!0).forEach(function(a){UX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function UX(e,r,n){return r=g7e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function g7e(e){var r=v7e(e,"string");return Vv(r)==="symbol"?r:String(r)}function v7e(e,r){if(Vv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Vv(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var x7e=function(r,n){return[Object.keys(r),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},y7e=function(r){return r},w7e=function(r){return r.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Cg=function(r,n){return Object.keys(n).reduce(function(a,s){return X$(X$({},a),{},UX({},s,r(s,n[s])))},{})},J$=function(r,n,a){return r.map(function(s){return"".concat(w7e(s)," ").concat(n,"ms ").concat(a)}).join(",")};function b7e(e,r){return j7e(e)||S7e(e,r)||VX(e,r)||_7e()}function _7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S7e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function j7e(e){if(Array.isArray(e))return e}function k7e(e){return C7e(e)||E7e(e)||VX(e)||N7e()}function N7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VX(e,r){if(e){if(typeof e=="string")return RC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RC(e,r)}}function E7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C7e(e){if(Array.isArray(e))return RC(e)}function RC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var Rb=1e-4,zX=function(r,n){return[0,3*r,3*n-6*r,3*r-3*n+1]},WX=function(r,n){return r.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},Q$=function(r,n){return function(a){var s=zX(r,n);return WX(s,a)}},T7e=function(r,n){return function(a){var s=zX(r,n),i=[].concat(k7e(s.map(function(o,c){return o*c}).slice(1)),[0]);return WX(i,a)}},Z$=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n[0],i=n[1],o=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,c=1;break;case"ease":s=.25,i=.1,o=.25,c=1;break;case"ease-in":s=.42,i=0,o=1,c=1;break;case"ease-out":s=.42,i=0,o=.58,c=1;break;case"ease-in-out":s=0,i=0,o=.58,c=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var d=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=b7e(d,4);s=f[0],i=f[1],o=f[2],c=f[3]}}}var h=Q$(s,o),m=Q$(i,c),p=T7e(s,o),v=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,_=w,S=0;S<8;++S){var j=h(_)-w,N=p(_);if(Math.abs(j-w)<Rb||N<Rb)return m(_);_=v(_-j/N)}return m(_)};return g.isStepper=!1,g},A7e=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.stiff,a=n===void 0?100:n,s=r.damping,i=s===void 0?8:s,o=r.dt,c=o===void 0?17:o,u=function(f,h,m){var p=-(f-h)*a,v=m*i,g=m+(p-v)*c/1e3,x=m*c/1e3+f;return Math.abs(x-h)<Rb&&Math.abs(g)<Rb?[h,0]:[x,g]};return u.isStepper=!0,u.dt=c,u},O7e=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Z$(s);case"spring":return A7e();default:if(s.split("(")[0]==="cubic-bezier")return Z$(s)}return typeof s=="function"?s:null};function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zv(e)}function e5(e){return R7e(e)||D7e(e)||HX(e)||P7e()}function P7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R7e(e){if(Array.isArray(e))return MC(e)}function t5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function aa(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?t5(Object(n),!0).forEach(function(a){IC(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function IC(e,r,n){return r=I7e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function I7e(e){var r=M7e(e,"string");return zv(r)==="symbol"?r:String(r)}function M7e(e,r){if(zv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(zv(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function F7e(e,r){return B7e(e)||$7e(e,r)||HX(e,r)||L7e()}function L7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(e,r){if(e){if(typeof e=="string")return MC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(e,r)}}function MC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function $7e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function B7e(e){if(Array.isArray(e))return e}var Ib=function(r,n,a){return r+(n-r)*a},FC=function(r){var n=r.from,a=r.to;return n!==a},U7e=function e(r,n,a){var s=Cg(function(i,o){if(FC(o)){var c=r(o.from,o.to,o.velocity),u=F7e(c,2),d=u[0],f=u[1];return aa(aa({},o),{},{from:d,velocity:f})}return o},n);return a<1?Cg(function(i,o){return FC(o)?aa(aa({},o),{},{velocity:Ib(o.velocity,s[i].velocity,a),from:Ib(o.from,s[i].from,a)}):o},n):e(r,s,a-1)};const V7e=function(e,r,n,a,s){var i=x7e(e,r),o=i.reduce(function(x,b){return aa(aa({},x),{},IC({},b,[e[b],r[b]]))},{}),c=i.reduce(function(x,b){return aa(aa({},x),{},IC({},b,{from:e[b],velocity:0,to:r[b]}))},{}),u=-1,d,f,h=function(){return null},m=function(){return Cg(function(b,w){return w.from},c)},p=function(){return!Object.values(c).filter(FC).length},v=function(b){d||(d=b);var w=b-d,_=w/n.dt;c=U7e(n,c,_),s(aa(aa(aa({},e),r),m())),d=b,p()||(u=requestAnimationFrame(h))},g=function(b){f||(f=b);var w=(b-f)/a,_=Cg(function(j,N){return Ib.apply(void 0,e5(N).concat([n(w)]))},o);if(s(aa(aa(aa({},e),r),_)),w<1)u=requestAnimationFrame(h);else{var S=Cg(function(j,N){return Ib.apply(void 0,e5(N).concat([n(1)]))},o);s(aa(aa(aa({},e),r),S))}};return h=n.isStepper?v:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(u)}}};function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ip(e)}var z7e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function W7e(e,r){if(e==null)return{};var n=H7e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function H7e(e,r){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function wN(e){return Y7e(e)||G7e(e)||K7e(e)||q7e()}function q7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7e(e,r){if(e){if(typeof e=="string")return LC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LC(e,r)}}function G7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y7e(e){if(Array.isArray(e))return LC(e)}function LC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function r5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function to(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?r5(Object(n),!0).forEach(function(a){X0(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function X0(e,r,n){return r=qX(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function X7e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function J7e(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qX(a.key),a)}}function Q7e(e,r,n){return r&&J7e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qX(e){var r=Z7e(e,"string");return ip(r)==="symbol"?r:String(r)}function Z7e(e,r){if(ip(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(ip(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function eVe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&$C(e,r)}function $C(e,r){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$C(e,r)}function tVe(e){var r=rVe();return function(){var a=Mb(e),s;if(r){var i=Mb(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return BC(this,s)}}function BC(e,r){if(r&&(ip(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UC(e)}function UC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mb(e)}var Cl=function(e){eVe(n,e);var r=tVe(n);function n(a,s){var i;X7e(this,n),i=r.call(this,a,s);var o=i.props,c=o.isActive,u=o.attributeName,d=o.from,f=o.to,h=o.steps,m=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(UC(i)),i.changeStyle=i.changeStyle.bind(UC(i)),!c||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:f}),BC(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},BC(i);i.state={style:u?X0({},u,d):d}}else i.state={style:{}};return i}return Q7e(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,c=i.canBegin,u=i.attributeName,d=i.shouldReAnimate,f=i.to,h=i.from,m=this.state.style;if(c){if(!o){var p={style:u?X0({},u,f):f};this.state&&m&&(u&&m[u]!==f||!u&&m!==f)&&this.setState(p);return}if(!(l7e(s.to,f)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||d?h:s.to;if(this.state&&m){var x={style:u?X0({},u,g):g};(u&&m[u]!==g||!u&&m!==g)&&this.setState(x)}this.runAnimation(to(to({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,c=s.to,u=s.duration,d=s.easing,f=s.begin,h=s.onAnimationEnd,m=s.onAnimationStart,p=V7e(o,c,O7e(d),u,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([m,f,v,u,h])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,c=s.begin,u=s.onAnimationStart,d=o[0],f=d.style,h=d.duration,m=h===void 0?0:h,p=function(g,x,b){if(b===0)return g;var w=x.duration,_=x.easing,S=_===void 0?"ease":_,j=x.style,N=x.properties,k=x.onAnimationEnd,E=b>0?o[b-1]:x,C=N||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(wN(g),[i.runJSAnimation.bind(i,{from:E.style,to:j,duration:w,easing:S}),w]);var O=J$(C,w,S),D=to(to(to({},E.style),j),{},{transition:O});return[].concat(wN(g),[D,w,k]).filter(y7e)};return this.manager.start([u].concat(wN(o.reduce(p,[f,Math.max(m,c)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=p7e());var i=s.begin,o=s.duration,c=s.attributeName,u=s.to,d=s.easing,f=s.onAnimationStart,h=s.onAnimationEnd,m=s.steps,p=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(s);return}if(m.length>1){this.runStepAnimation(s);return}var g=c?X0({},c,u):u,x=J$(Object.keys(g),o,d);v.start([f,i,to(to({},g),{},{transition:x}),o,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var c=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=W7e(s,z7e),d=y.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!c||d===0||o<=0)return i;var h=function(p){var v=p.props,g=v.style,x=g===void 0?{}:g,b=v.className,w=y.cloneElement(p,to(to({},u),{},{style:to(to({},x),f),className:b}));return w};return d===1?h(y.Children.only(i)):ne.createElement("div",null,y.Children.map(i,function(m){return h(m)}))}}]),n}(y.PureComponent);Cl.displayName="Animate";Cl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cl.propTypes={from:mr.oneOfType([mr.object,mr.string]),to:mr.oneOfType([mr.object,mr.string]),attributeName:mr.string,duration:mr.number,begin:mr.number,easing:mr.oneOfType([mr.string,mr.func]),steps:mr.arrayOf(mr.shape({duration:mr.number.isRequired,style:mr.object.isRequired,easing:mr.oneOfType([mr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mr.func]),properties:mr.arrayOf("string"),onAnimationEnd:mr.func})),children:mr.oneOfType([mr.node,mr.func]),isActive:mr.bool,canBegin:mr.bool,onAnimationEnd:mr.func,shouldReAnimate:mr.bool,onAnimationStart:mr.func,onAnimationReStart:mr.func};function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wv(e)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fb.apply(this,arguments)}function nVe(e,r){return oVe(e)||iVe(e,r)||sVe(e,r)||aVe()}function aVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sVe(e,r){if(e){if(typeof e=="string")return n5(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n5(e,r)}}function n5(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function iVe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function oVe(e){if(Array.isArray(e))return e}function a5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function s5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?a5(Object(n),!0).forEach(function(a){lVe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lVe(e,r,n){return r=cVe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cVe(e){var r=uVe(e,"string");return Wv(r)=="symbol"?r:r+""}function uVe(e,r){if(Wv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Wv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var i5=function(r,n,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f="M".concat(r,",").concat(n+c*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(r+u*h[0],",").concat(n)),f+="L ".concat(r+a-u*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(r+a,",").concat(n+c*h[1])),f+="L ".concat(r+a,",").concat(n+s-c*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(r+a-u*h[2],",").concat(n+s)),f+="L ".concat(r+u*h[3],",").concat(n+s),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(r,",").concat(n+s-c*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f="M ".concat(r,",").concat(n+c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r+u*v,",").concat(n,`
            L `).concat(r+a-u*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r+a,",").concat(n+c*v,`
            L `).concat(r+a,",").concat(n+s-c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r+a-u*v,",").concat(n+s,`
            L `).concat(r+u*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r,",").concat(n+s-c*v," Z")}else f="M ".concat(r,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return f},dVe=function(r,n){if(!r||!n)return!1;var a=r.x,s=r.y,i=n.x,o=n.y,c=n.width,u=n.height;if(Math.abs(c)>0&&Math.abs(u)>0){var d=Math.min(i,i+c),f=Math.max(i,i+c),h=Math.min(o,o+u),m=Math.max(o,o+u);return a>=d&&a<=f&&s>=h&&s<=m}return!1},fVe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T4=function(r){var n=s5(s5({},fVe),r),a=y.useRef(),s=y.useState(-1),i=nVe(s,2),o=i[0],c=i[1];y.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&c(S)}catch{}},[]);var u=n.x,d=n.y,f=n.width,h=n.height,m=n.radius,p=n.className,v=n.animationEasing,g=n.animationDuration,x=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(u!==+u||d!==+d||f!==+f||h!==+h||f===0||h===0)return null;var _=Bt("recharts-rectangle",p);return w?ne.createElement(Cl,{canBegin:o>0,from:{width:f,height:h,x:u,y:d},to:{width:f,height:h,x:u,y:d},duration:g,animationEasing:v,isActive:w},function(S){var j=S.width,N=S.height,k=S.x,E=S.y;return ne.createElement(Cl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:b,easing:v},ne.createElement("path",Fb({},Nt(n,!0),{className:_,d:i5(k,E,j,N,m),ref:a})))}):ne.createElement("path",Fb({},Nt(n,!0),{className:_,d:i5(u,d,f,h,m)}))},hVe=["points","className","baseLinePoints","connectNulls"];function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zh.apply(this,arguments)}function mVe(e,r){if(e==null)return{};var n=pVe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pVe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function o5(e){return yVe(e)||xVe(e)||vVe(e)||gVe()}function gVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vVe(e,r){if(e){if(typeof e=="string")return VC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VC(e,r)}}function xVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yVe(e){if(Array.isArray(e))return VC(e)}function VC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var l5=function(r){return r&&r.x===+r.x&&r.y===+r.y},wVe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return r.forEach(function(a){l5(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),l5(r[0])&&n[n.length-1].push(r[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Tg=function(r,n){var a=wVe(r);n&&(a=[a.reduce(function(i,o){return[].concat(o5(i),o5(o))},[])]);var s=a.map(function(i){return i.reduce(function(o,c,u){return"".concat(o).concat(u===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},bVe=function(r,n,a){var s=Tg(r,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Tg(n.reverse(),a).slice(1))},_Ve=function(r){var n=r.points,a=r.className,s=r.baseLinePoints,i=r.connectNulls,o=mVe(r,hVe);if(!n||!n.length)return null;var c=Bt("recharts-polygon",a);if(s&&s.length){var u=o.stroke&&o.stroke!=="none",d=bVe(n,s,i);return ne.createElement("g",{className:c},ne.createElement("path",zh({},Nt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),u?ne.createElement("path",zh({},Nt(o,!0),{fill:"none",d:Tg(n,i)})):null,u?ne.createElement("path",zh({},Nt(o,!0),{fill:"none",d:Tg(s,i)})):null)}var f=Tg(n,i);return ne.createElement("path",zh({},Nt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:c,d:f}))};function zC(){return zC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zC.apply(this,arguments)}var ZS=function(r){var n=r.cx,a=r.cy,s=r.r,i=r.className,o=Bt("recharts-dot",i);return n===+n&&a===+a&&s===+s?y.createElement("circle",zC({},Nt(r,!1),nb(r),{className:o,cx:n,cy:a,r:s})):null};function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hv(e)}var SVe=["x","y","top","left","width","height","className"];function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},WC.apply(this,arguments)}function c5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function jVe(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?c5(Object(n),!0).forEach(function(a){kVe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kVe(e,r,n){return r=NVe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function NVe(e){var r=EVe(e,"string");return Hv(r)=="symbol"?r:r+""}function EVe(e,r){if(Hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Hv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function CVe(e,r){if(e==null)return{};var n=TVe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function TVe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var AVe=function(r,n,a,s,i,o){return"M".concat(r,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(a)},OVe=function(r){var n=r.x,a=n===void 0?0:n,s=r.y,i=s===void 0?0:s,o=r.top,c=o===void 0?0:o,u=r.left,d=u===void 0?0:u,f=r.width,h=f===void 0?0:f,m=r.height,p=m===void 0?0:m,v=r.className,g=CVe(r,SVe),x=jVe({x:a,y:i,top:c,left:d,width:h,height:p},g);return!Qe(a)||!Qe(i)||!Qe(h)||!Qe(p)||!Qe(c)||!Qe(d)?null:ne.createElement("path",WC({},Nt(x,!0),{className:Bt("recharts-cross",v),d:AVe(a,i,h,p,c,d)}))},PVe=GS,DVe=aX,RVe=Fl;function IVe(e,r){return e&&e.length?PVe(e,RVe(r),DVe):void 0}var MVe=IVe;const FVe=gr(MVe);var LVe=GS,$Ve=Fl,BVe=sX;function UVe(e,r){return e&&e.length?LVe(e,$Ve(r),BVe):void 0}var VVe=UVe;const zVe=gr(VVe);var WVe=["cx","cy","angle","ticks","axisLine"],HVe=["ticks","tick","angle","tickFormatter","stroke"];function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},op(e)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ag.apply(this,arguments)}function u5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function hd(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?u5(Object(n),!0).forEach(function(a){ej(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function d5(e,r){if(e==null)return{};var n=qVe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function qVe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function KVe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function f5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,GX(a.key),a)}}function GVe(e,r,n){return r&&f5(e.prototype,r),n&&f5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YVe(e,r,n){return r=Lb(r),XVe(e,KX()?Reflect.construct(r,n||[],Lb(e).constructor):r.apply(e,n))}function XVe(e,r){if(r&&(op(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JVe(e)}function JVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lb(e)}function QVe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&HC(e,r)}function HC(e,r){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},HC(e,r)}function ej(e,r,n){return r=GX(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function GX(e){var r=ZVe(e,"string");return op(r)=="symbol"?r:r+""}function ZVe(e,r){if(op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(op(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var tj=function(e){function r(){return KVe(this,r),YVe(this,r,arguments)}return QVe(r,e),GVe(r,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,o=i.angle,c=i.cx,u=i.cy;return Lr(c,u,s,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,c=a.ticks,u=FVe(c,function(f){return f.coordinate||0}),d=zVe(c,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,c=a.ticks,u=a.axisLine,d=d5(a,WVe),f=c.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),h=Lr(s,i,f[0],o),m=Lr(s,i,f[1],o),p=hd(hd(hd({},Nt(d,!1)),{},{fill:"none"},Nt(u,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return ne.createElement("line",Ag({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,c=s.angle,u=s.tickFormatter,d=s.stroke,f=d5(s,HVe),h=this.getTickTextAnchor(),m=Nt(f,!1),p=Nt(o,!1),v=i.map(function(g,x){var b=a.getTickValueCoord(g),w=hd(hd(hd(hd({textAnchor:h,transform:"rotate(".concat(90-c,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:d},p),{},{index:x},b),{},{payload:g});return ne.createElement(dr,Ag({className:Bt("recharts-polar-radius-axis-tick",DX(o)),key:"tick-".concat(g.coordinate)},Cf(a.props,g,x)),r.renderTickItem(o,w,u?u(g.value,x):g.value))});return ne.createElement(dr,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,o=a.tick;return!s||!s.length?null:ne.createElement(dr,{className:Bt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Qn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return ne.isValidElement(a)?o=ne.cloneElement(a,s):Pt(a)?o=a(s):o=ne.createElement(Tf,Ag({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(y.PureComponent);ej(tj,"displayName","PolarRadiusAxis");ej(tj,"axisType","radiusAxis");ej(tj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lp(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ed.apply(this,arguments)}function h5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function md(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?h5(Object(n),!0).forEach(function(a){rj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function eze(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function m5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XX(a.key),a)}}function tze(e,r,n){return r&&m5(e.prototype,r),n&&m5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rze(e,r,n){return r=$b(r),nze(e,YX()?Reflect.construct(r,n||[],$b(e).constructor):r.apply(e,n))}function nze(e,r){if(r&&(lp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aze(e)}function aze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YX=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$b(e)}function sze(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&qC(e,r)}function qC(e,r){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qC(e,r)}function rj(e,r,n){return r=XX(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function XX(e){var r=ize(e,"string");return lp(r)=="symbol"?r:r+""}function ize(e,r){if(lp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(lp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var oze=Math.PI/180,p5=1e-5,nj=function(e){function r(){return eze(this,r),rze(this,r,arguments)}return sze(r,e),tze(r,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,o=s.cy,c=s.radius,u=s.orientation,d=s.tickSize,f=d||8,h=Lr(i,o,c,a.coordinate),m=Lr(i,o,c+(u==="inner"?-1:1)*f,a.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*oze),o;return i>p5?o=s==="outer"?"start":"end":i<-p5?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.radius,c=a.axisLine,u=a.axisLineType,d=md(md({},Nt(this.props,!1)),{},{fill:"none"},Nt(c,!1));if(u==="circle")return ne.createElement(ZS,Ed({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var f=this.props.ticks,h=f.map(function(m){return Lr(s,i,o,m.coordinate)});return ne.createElement(_Ve,Ed({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,c=s.tickLine,u=s.tickFormatter,d=s.stroke,f=Nt(this.props,!1),h=Nt(o,!1),m=md(md({},f),{},{fill:"none"},Nt(c,!1)),p=i.map(function(v,g){var x=a.getTickLineCoord(v),b=a.getTickTextAnchor(v),w=md(md(md({textAnchor:b},f),{},{stroke:"none",fill:d},h),{},{index:g,payload:v,x:x.x2,y:x.y2});return ne.createElement(dr,Ed({className:Bt("recharts-polar-angle-axis-tick",DX(o)),key:"tick-".concat(v.coordinate)},Cf(a.props,v,g)),c&&ne.createElement("line",Ed({className:"recharts-polar-angle-axis-tick-line"},m,x)),o&&r.renderTickItem(o,w,u?u(v.value,g):v.value))});return ne.createElement(dr,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!s||!s.length?null:ne.createElement(dr,{className:Bt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var o;return ne.isValidElement(a)?o=ne.cloneElement(a,s):Pt(a)?o=a(s):o=ne.createElement(Tf,Ed({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(y.PureComponent);rj(nj,"displayName","PolarAngleAxis");rj(nj,"axisType","angleAxis");rj(nj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var lze=eY,cze=lze(Object.getPrototypeOf,Object),uze=cze,dze=Ac,fze=uze,hze=Oc,mze="[object Object]",pze=Function.prototype,gze=Object.prototype,JX=pze.toString,vze=gze.hasOwnProperty,xze=JX.call(Object);function yze(e){if(!hze(e)||dze(e)!=mze)return!1;var r=fze(e);if(r===null)return!0;var n=vze.call(r,"constructor")&&r.constructor;return typeof n=="function"&&n instanceof n&&JX.call(n)==xze}var wze=yze;const bze=gr(wze);var _ze=Ac,Sze=Oc,jze="[object Boolean]";function kze(e){return e===!0||e===!1||Sze(e)&&_ze(e)==jze}var Nze=kze;const Eze=gr(Nze);function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qv(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bb.apply(this,arguments)}function Cze(e,r){return Pze(e)||Oze(e,r)||Aze(e,r)||Tze()}function Tze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aze(e,r){if(e){if(typeof e=="string")return g5(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g5(e,r)}}function g5(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function Oze(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function Pze(e){if(Array.isArray(e))return e}function v5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function x5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?v5(Object(n),!0).forEach(function(a){Dze(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Dze(e,r,n){return r=Rze(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Rze(e){var r=Ize(e,"string");return qv(r)=="symbol"?r:r+""}function Ize(e,r){if(qv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(qv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var y5=function(r,n,a,s,i){var o=a-s,c;return c="M ".concat(r,",").concat(n),c+="L ".concat(r+a,",").concat(n),c+="L ".concat(r+a-o/2,",").concat(n+i),c+="L ".concat(r+a-o/2-s,",").concat(n+i),c+="L ".concat(r,",").concat(n," Z"),c},Mze={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fze=function(r){var n=x5(x5({},Mze),r),a=y.useRef(),s=y.useState(-1),i=Cze(s,2),o=i[0],c=i[1];y.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var _=a.current.getTotalLength();_&&c(_)}catch{}},[]);var u=n.x,d=n.y,f=n.upperWidth,h=n.lowerWidth,m=n.height,p=n.className,v=n.animationEasing,g=n.animationDuration,x=n.animationBegin,b=n.isUpdateAnimationActive;if(u!==+u||d!==+d||f!==+f||h!==+h||m!==+m||f===0&&h===0||m===0)return null;var w=Bt("recharts-trapezoid",p);return b?ne.createElement(Cl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:u,y:d},to:{upperWidth:f,lowerWidth:h,height:m,x:u,y:d},duration:g,animationEasing:v,isActive:b},function(_){var S=_.upperWidth,j=_.lowerWidth,N=_.height,k=_.x,E=_.y;return ne.createElement(Cl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:v},ne.createElement("path",Bb({},Nt(n,!0),{className:w,d:y5(k,E,S,j,N),ref:a})))}):ne.createElement("g",null,ne.createElement("path",Bb({},Nt(n,!0),{className:w,d:y5(u,d,f,h,m)})))},Lze=["option","shapeType","propTransformer","activeClassName","isActive"];function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kv(e)}function $ze(e,r){if(e==null)return{};var n=Bze(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Bze(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function w5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ub(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?w5(Object(n),!0).forEach(function(a){Uze(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Uze(e,r,n){return r=Vze(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Vze(e){var r=zze(e,"string");return Kv(r)=="symbol"?r:r+""}function zze(e,r){if(Kv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Kv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Wze(e,r){return Ub(Ub({},r),e)}function Hze(e,r){return e==="symbols"}function b5(e){var r=e.shapeType,n=e.elementProps;switch(r){case"rectangle":return ne.createElement(T4,n);case"trapezoid":return ne.createElement(Fze,n);case"sector":return ne.createElement(MX,n);case"symbols":if(Hze(r))return ne.createElement(KP,n);break;default:return null}}function qze(e){return y.isValidElement(e)?e.props:e}function QX(e){var r=e.option,n=e.shapeType,a=e.propTransformer,s=a===void 0?Wze:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,c=e.isActive,u=$ze(e,Lze),d;if(y.isValidElement(r))d=y.cloneElement(r,Ub(Ub({},u),qze(r)));else if(Pt(r))d=r(u);else if(bze(r)&&!Eze(r)){var f=s(r,u);d=ne.createElement(b5,{shapeType:n,elementProps:f})}else{var h=u;d=ne.createElement(b5,{shapeType:n,elementProps:h})}return c?ne.createElement(dr,{className:o},d):d}function aj(e,r){return r!=null&&"trapezoids"in e.props}function sj(e,r){return r!=null&&"sectors"in e.props}function Gv(e,r){return r!=null&&"points"in e.props}function Kze(e,r){var n,a,s=e.x===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===r.x,i=e.y===(r==null||(a=r.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===r.y;return s&&i}function Gze(e,r){var n=e.endAngle===r.endAngle,a=e.startAngle===r.startAngle;return n&&a}function Yze(e,r){var n=e.x===r.x,a=e.y===r.y,s=e.z===r.z;return n&&a&&s}function Xze(e,r){var n;return aj(e,r)?n=Kze:sj(e,r)?n=Gze:Gv(e,r)&&(n=Yze),n}function Jze(e,r){var n;return aj(e,r)?n="trapezoids":sj(e,r)?n="sectors":Gv(e,r)&&(n="points"),n}function Qze(e,r){if(aj(e,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sj(e,r)){var a;return(a=r.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Gv(e,r)?r.payload:{}}function Zze(e){var r=e.activeTooltipItem,n=e.graphicalItem,a=e.itemData,s=Jze(n,r),i=Qze(n,r),o=a.filter(function(u,d){var f=Zx(i,u),h=n.props[s].filter(function(v){var g=Xze(n,r);return g(v,r)}),m=n.props[s].indexOf(h[h.length-1]),p=d===m;return f&&p}),c=a.indexOf(o[o.length-1]);return c}var Ww;function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cp(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wh.apply(this,arguments)}function _5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Rr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_5(Object(n),!0).forEach(function(a){Ri(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function eWe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function S5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,eJ(a.key),a)}}function tWe(e,r,n){return r&&S5(e.prototype,r),n&&S5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rWe(e,r,n){return r=Vb(r),nWe(e,ZX()?Reflect.construct(r,n||[],Vb(e).constructor):r.apply(e,n))}function nWe(e,r){if(r&&(cp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aWe(e)}function aWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZX=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vb(e)}function sWe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&KC(e,r)}function KC(e,r){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},KC(e,r)}function Ri(e,r,n){return r=eJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function eJ(e){var r=iWe(e,"string");return cp(r)=="symbol"?r:r+""}function iWe(e,r){if(cp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(cp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ns=function(e){function r(n){var a;return eWe(this,r),a=rWe(this,r,[n]),Ri(a,"pieRef",null),Ri(a,"sectorRefs",[]),Ri(a,"id",e0("recharts-pie-")),Ri(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Pt(s)&&s()}),Ri(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Pt(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return sWe(r,e),tWe(r,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,c=i.labelLine,u=i.dataKey,d=i.valueKey,f=Nt(this.props,!1),h=Nt(o,!1),m=Nt(c,!1),p=o&&o.offsetRadius||20,v=a.map(function(g,x){var b=(g.startAngle+g.endAngle)/2,w=Lr(g.cx,g.cy,g.outerRadius+p,b),_=Rr(Rr(Rr(Rr({},f),g),{},{stroke:"none"},h),{},{index:x,textAnchor:r.getTextAnchor(w.x,g.cx)},w),S=Rr(Rr(Rr(Rr({},f),g),{},{fill:"none",stroke:g.fill},m),{},{index:x,points:[Lr(g.cx,g.cy,g.outerRadius,b),w]}),j=u;return $t(u)&&$t(d)?j="value":$t(u)&&(j=d),ne.createElement(dr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},c&&r.renderLabelLineItem(c,S,"line"),r.renderLabelItem(o,_,Vn(g,j)))});return ne.createElement(dr,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,o=i.activeShape,c=i.blendStroke,u=i.inactiveShape;return a.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&a.length!==1)return null;var h=s.isActiveIndex(f),m=u&&s.hasActiveIndex()?u:null,p=h?o:m,v=Rr(Rr({},d),{},{stroke:c?d.fill:d.stroke,tabIndex:-1});return ne.createElement(dr,Wh({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Cf(s.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),ne.createElement(QX,Wh({option:p,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,o=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state,m=h.prevSectors,p=h.prevIsAnimationActive;return ne.createElement(Cl,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,x=[],b=i&&i[0],w=b.startAngle;return i.forEach(function(_,S){var j=m&&m[S],N=S>0?di(_,"paddingAngle",0):0;if(j){var k=ni(j.endAngle-j.startAngle,_.endAngle-_.startAngle),E=Rr(Rr({},_),{},{startAngle:w+N,endAngle:w+k(g)+N});x.push(E),w=E.endAngle}else{var C=_.endAngle,O=_.startAngle,D=ni(0,C-O),T=D(g),z=Rr(Rr({},_),{},{startAngle:w+N,endAngle:w+T+N});x.push(z),w=z.endAngle}}),ne.createElement(dr,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Zx(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,o=s.sectors,c=s.className,u=s.label,d=s.cx,f=s.cy,h=s.innerRadius,m=s.outerRadius,p=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Qe(d)||!Qe(f)||!Qe(h)||!Qe(m))return null;var g=Bt("recharts-pie",c);return ne.createElement(dr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){a.pieRef=b}},this.renderSectors(),u&&this.renderLabels(o),Qn.renderCallByParent(this.props,null,!1),(!p||v)&&uc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(ne.isValidElement(a))return ne.cloneElement(a,s);if(Pt(a))return a(s);var o=Bt("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return ne.createElement(Db,Wh({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,s,i){if(ne.isValidElement(a))return ne.cloneElement(a,s);var o=i;if(Pt(a)&&(o=a(s),ne.isValidElement(o)))return o;var c=Bt("recharts-pie-label-text",typeof a!="boolean"&&!Pt(a)?a.className:"");return ne.createElement(Tf,Wh({},s,{alignmentBaseline:"middle",className:c}),o)}}])}(y.PureComponent);Ww=ns;Ri(ns,"displayName","Pie");Ri(ns,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ri(ns,"parseDeltaAngle",function(e,r){var n=is(r-e),a=Math.min(Math.abs(r-e),360);return n*a});Ri(ns,"getRealPieData",function(e){var r=e.data,n=e.children,a=Nt(e,!1),s=fi(n,sl);return r&&r.length?r.map(function(i,o){return Rr(Rr(Rr({payload:i},a),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Rr(Rr({},a),i.props)}):[]});Ri(ns,"parseCoordinateOfPie",function(e,r){var n=r.top,a=r.left,s=r.width,i=r.height,o=PX(s,i),c=a+os(e.cx,s,s/2),u=n+os(e.cy,i,i/2),d=os(e.innerRadius,o,0),f=os(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}});Ri(ns,"getComposedData",function(e){var r=e.item,n=e.offset,a=r.type.defaultProps!==void 0?Rr(Rr({},r.type.defaultProps),r.props):r.props,s=Ww.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,o=a.startAngle,c=a.endAngle,u=a.paddingAngle,d=a.dataKey,f=a.nameKey,h=a.valueKey,m=a.tooltipType,p=Math.abs(a.minAngle),v=Ww.parseCoordinateOfPie(a,n),g=Ww.parseDeltaAngle(o,c),x=Math.abs(g),b=d;$t(d)&&$t(h)?(No(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):$t(d)&&(No(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var w=s.filter(function(E){return Vn(E,b,0)!==0}).length,_=(x>=360?w:w-1)*u,S=x-w*p-_,j=s.reduce(function(E,C){var O=Vn(C,b,0);return E+(Qe(O)?O:0)},0),N;if(j>0){var k;N=s.map(function(E,C){var O=Vn(E,b,0),D=Vn(E,f,C),T=(Qe(O)?O:0)/j,z;C?z=k.endAngle+is(g)*u*(O!==0?1:0):z=o;var q=z+is(g)*((O!==0?p:0)+T*S),F=(z+q)/2,I=(v.innerRadius+v.outerRadius)/2,V=[{name:D,value:O,payload:E,dataKey:b,type:m}],L=Lr(v.cx,v.cy,I,F);return k=Rr(Rr(Rr({percent:T,cornerRadius:i,name:D,tooltipPayload:V,midAngle:F,middleRadius:I,tooltipPosition:L},E),v),{},{value:Vn(E,b),startAngle:z,endAngle:q,payload:E,paddingAngle:is(g)*u}),k})}return Rr(Rr({},v),{},{sectors:N,data:s})});var oWe=Math.ceil,lWe=Math.max;function cWe(e,r,n,a){for(var s=-1,i=lWe(oWe((r-e)/(n||1)),0),o=Array(i);i--;)o[a?i:++s]=e,e+=n;return o}var uWe=cWe,dWe=yY,j5=1/0,fWe=17976931348623157e292;function hWe(e){if(!e)return e===0?e:0;if(e=dWe(e),e===j5||e===-j5){var r=e<0?-1:1;return r*fWe}return e===e?e:0}var tJ=hWe,mWe=uWe,pWe=US,bN=tJ;function gWe(e){return function(r,n,a){return a&&typeof a!="number"&&pWe(r,n,a)&&(n=a=void 0),r=bN(r),n===void 0?(n=r,r=0):n=bN(n),a=a===void 0?r<n?1:-1:bN(a),mWe(r,n,a,e)}}var vWe=gWe,xWe=vWe,yWe=xWe(),wWe=yWe;const zb=gr(wWe);function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yv(e)}function k5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function N5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?k5(Object(n),!0).forEach(function(a){rJ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rJ(e,r,n){return r=bWe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function bWe(e){var r=_We(e,"string");return Yv(r)=="symbol"?r:r+""}function _We(e,r){if(Yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Yv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var SWe=["Webkit","Moz","O","ms"],jWe=function(r,n){var a=r.replace(/(\w)/,function(i){return i.toUpperCase()}),s=SWe.reduce(function(i,o){return N5(N5({},i),{},rJ({},o+a,n))},{});return s[r]=n,s};function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},up(e)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wb.apply(this,arguments)}function E5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _N(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?E5(Object(n),!0).forEach(function(a){Ys(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kWe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function C5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aJ(a.key),a)}}function NWe(e,r,n){return r&&C5(e.prototype,r),n&&C5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EWe(e,r,n){return r=Hb(r),CWe(e,nJ()?Reflect.construct(r,n||[],Hb(e).constructor):r.apply(e,n))}function CWe(e,r){if(r&&(up(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TWe(e)}function TWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nJ=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hb(e)}function AWe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&GC(e,r)}function GC(e,r){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},GC(e,r)}function Ys(e,r,n){return r=aJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function aJ(e){var r=OWe(e,"string");return up(r)=="symbol"?r:r+""}function OWe(e,r){if(up(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(up(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var PWe=function(r){var n=r.data,a=r.startIndex,s=r.endIndex,i=r.x,o=r.width,c=r.travellerWidth;if(!n||!n.length)return{};var u=n.length,d=Ng().domain(zb(0,u)).range([i,i+o-c]),f=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(s),scale:d,scaleValues:f}},T5=function(r){return r.changedTouches&&!!r.changedTouches.length},dp=function(e){function r(n){var a;return kWe(this,r),a=EWe(this,r,[n]),Ys(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Ys(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Ys(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,c=s.startIndex;o==null||o({endIndex:i,startIndex:c})}),a.detachDragEndListener()}),Ys(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Ys(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Ys(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Ys(a,"handleSlideDragStart",function(s){var i=T5(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return AWe(r,e),NWe(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,c=this.props,u=c.gap,d=c.data,f=d.length-1,h=Math.min(s,i),m=Math.max(s,i),p=r.getIndexInRange(o,h),v=r.getIndexInRange(o,m);return{startIndex:p-p%u,endIndex:v===f?f:v-v%u}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,c=s.dataKey,u=Vn(i[a],c,a);return Pt(o)?o(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,c=s.endX,u=this.props,d=u.x,f=u.width,h=u.travellerWidth,m=u.startIndex,p=u.endIndex,v=u.onChange,g=a.pageX-i;g>0?g=Math.min(g,d+f-h-c,d+f-h-o):g<0&&(g=Math.max(g,d-o,d-c));var x=this.getIndex({startX:o+g,endX:c+g});(x.startIndex!==m||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+g,endX:c+g,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=T5(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,c=s.endX,u=s.startX,d=this.state[o],f=this.props,h=f.x,m=f.width,p=f.travellerWidth,v=f.onChange,g=f.gap,x=f.data,b={startX:this.state.startX,endX:this.state.endX},w=a.pageX-i;w>0?w=Math.min(w,h+m-p-d):w<0&&(w=Math.max(w,h-d)),b[o]=d+w;var _=this.getIndex(b),S=_.startIndex,j=_.endIndex,N=function(){var E=x.length-1;return o==="startX"&&(c>u?S%g===0:j%g===0)||c<u&&j===E||o==="endX"&&(c>u?j%g===0:S%g===0)||c>u&&j===E};this.setState(Ys(Ys({},o,d+w),"brushMoveStartX",a.pageX),function(){v&&N()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,c=o.scaleValues,u=o.startX,d=o.endX,f=this.state[s],h=c.indexOf(f);if(h!==-1){var m=h+a;if(!(m===-1||m>=c.length)){var p=c[m];s==="startX"&&p>=d||s==="endX"&&p<=u||this.setState(Ys({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,c=a.height,u=a.fill,d=a.stroke;return ne.createElement("rect",{stroke:d,fill:u,x:s,y:i,width:o,height:c})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,c=a.height,u=a.data,d=a.children,f=a.padding,h=y.Children.only(d);return h?ne.cloneElement(h,{x:s,y:i,width:o,height:c,margin:f,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,c=this,u=this.props,d=u.y,f=u.travellerWidth,h=u.height,m=u.traveller,p=u.ariaLabel,v=u.data,g=u.startIndex,x=u.endIndex,b=Math.max(a,this.props.x),w=_N(_N({},Nt(this.props,!1)),{},{x:b,y:d,width:f,height:h}),_=p||"Min value: ".concat((i=v[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return ne.createElement(dr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),c.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(m,w))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,c=i.height,u=i.stroke,d=i.travellerWidth,f=Math.min(a,s)+d,h=Math.max(Math.abs(s-a)-d,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:f,y:o,width:h,height:c})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,c=a.height,u=a.travellerWidth,d=a.stroke,f=this.state,h=f.startX,m=f.endX,p=5,v={pointerEvents:"none",fill:d};return ne.createElement(dr,{className:"recharts-brush-texts"},ne.createElement(Tf,Wb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-p,y:o+c/2},v),this.getTextOfTick(s)),ne.createElement(Tf,Wb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+u+p,y:o+c/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,c=a.x,u=a.y,d=a.width,f=a.height,h=a.alwaysShowText,m=this.state,p=m.startX,v=m.endX,g=m.isTextActive,x=m.isSlideMoving,b=m.isTravellerMoving,w=m.isTravellerFocused;if(!s||!s.length||!Qe(c)||!Qe(u)||!Qe(d)||!Qe(f)||d<=0||f<=0)return null;var _=Bt("recharts-brush",i),S=ne.Children.count(o)===1,j=jWe("userSelect","none");return ne.createElement(dr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(g||x||b||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,c=a.height,u=a.stroke,d=Math.floor(i+c/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:s,y:i,width:o,height:c,fill:u,stroke:"none"}),ne.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return ne.isValidElement(a)?i=ne.cloneElement(a,s):Pt(a)?i=a(s):i=r.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,c=a.x,u=a.travellerWidth,d=a.updateId,f=a.startIndex,h=a.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return _N({prevData:i,prevTravellerWidth:u,prevUpdateId:d,prevX:c,prevWidth:o},i&&i.length?PWe({data:i,width:o,x:c,travellerWidth:u,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||c!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([c,c+o-u]);var m=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:d,prevX:c,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,c=i-1;c-o>1;){var u=Math.floor((o+c)/2);a[u]>s?c=u:o=u}return s>=a[c]?c:o}}])}(y.PureComponent);Ys(dp,"displayName","Brush");Ys(dp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var DWe=e4;function RWe(e,r){var n;return DWe(e,function(a,s,i){return n=r(a,s,i),!n}),!!n}var IWe=RWe,MWe=qG,FWe=Fl,LWe=IWe,$We=Hs,BWe=US;function UWe(e,r,n){var a=$We(e)?MWe:LWe;return n&&BWe(e,r,n)&&(r=void 0),a(e,FWe(r))}var VWe=UWe;const zWe=gr(VWe);var xl=function(r,n){var a=r.alwaysShow,s=r.ifOverflow;return a&&(s="extendDomain"),s===n},A5=mY;function WWe(e,r,n){r=="__proto__"&&A5?A5(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n}var HWe=WWe,qWe=HWe,KWe=fY,GWe=Fl;function YWe(e,r){var n={};return r=GWe(r),KWe(e,function(a,s,i){qWe(n,s,r(a,s,i))}),n}var XWe=YWe;const JWe=gr(XWe);function QWe(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}var ZWe=QWe,eHe=e4;function tHe(e,r){var n=!0;return eHe(e,function(a,s,i){return n=!!r(a,s,i),n}),n}var rHe=tHe,nHe=ZWe,aHe=rHe,sHe=Fl,iHe=Hs,oHe=US;function lHe(e,r,n){var a=iHe(e)?nHe:aHe;return n&&oHe(e,r,n)&&(r=void 0),a(e,sHe(r))}var cHe=lHe;const sJ=gr(cHe);var uHe=["x","y"];function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xv(e)}function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},YC.apply(this,arguments)}function O5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function R0(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?O5(Object(n),!0).forEach(function(a){dHe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function dHe(e,r,n){return r=fHe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function fHe(e){var r=hHe(e,"string");return Xv(r)=="symbol"?r:r+""}function hHe(e,r){if(Xv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Xv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function mHe(e,r){if(e==null)return{};var n=pHe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pHe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function gHe(e,r){var n=e.x,a=e.y,s=mHe(e,uHe),i="".concat(n),o=parseInt(i,10),c="".concat(a),u=parseInt(c,10),d="".concat(r.height||s.height),f=parseInt(d,10),h="".concat(r.width||s.width),m=parseInt(h,10);return R0(R0(R0(R0(R0({},r),s),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:m,name:r.name,radius:r.radius})}function P5(e){return ne.createElement(QX,YC({shapeType:"rectangle",propTransformer:gHe,activeClassName:"recharts-active-bar"},e))}var vHe=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof r=="number")return r;var i=Qe(a)||VAe(a);return i?r(a,s):(i||Of(),n)}},xHe=["value","background"],iJ;function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fp(e)}function yHe(e,r){if(e==null)return{};var n=wHe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function wHe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qb.apply(this,arguments)}function D5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Nn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?D5(Object(n),!0).forEach(function(a){xu(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bHe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function R5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lJ(a.key),a)}}function _He(e,r,n){return r&&R5(e.prototype,r),n&&R5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SHe(e,r,n){return r=Kb(r),jHe(e,oJ()?Reflect.construct(r,n||[],Kb(e).constructor):r.apply(e,n))}function jHe(e,r){if(r&&(fp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kHe(e)}function kHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oJ=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kb(e)}function NHe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&XC(e,r)}function XC(e,r){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},XC(e,r)}function xu(e,r,n){return r=lJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function lJ(e){var r=EHe(e,"string");return fp(r)=="symbol"?r:r+""}function EHe(e,r){if(fp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(fp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ty=function(e){function r(){var n;bHe(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=SHe(this,r,[].concat(s)),xu(n,"state",{isAnimationFinished:!1}),xu(n,"id",e0("recharts-bar-")),xu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),xu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return NHe(r,e),_He(r,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,c=i.dataKey,u=i.activeIndex,d=i.activeBar,f=Nt(this.props,!1);return a&&a.map(function(h,m){var p=m===u,v=p?d:o,g=Nn(Nn(Nn({},f),h),{},{isActive:p,option:v,index:m,dataKey:c,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return ne.createElement(dr,qb({className:"recharts-bar-rectangle"},Cf(s.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(m)}),ne.createElement(P5,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,m=this.state.prevData;return ne.createElement(Cl,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,g=i.map(function(x,b){var w=m&&m[b];if(w){var _=ni(w.x,x.x),S=ni(w.y,x.y),j=ni(w.width,x.width),N=ni(w.height,x.height);return Nn(Nn({},x),{},{x:_(v),y:S(v),width:j(v),height:N(v)})}if(o==="horizontal"){var k=ni(0,x.height),E=k(v);return Nn(Nn({},x),{},{y:x.y+x.height-E,height:E})}var C=ni(0,x.width),O=C(v);return Nn(Nn({},x),{},{width:O})});return ne.createElement(dr,null,a.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Zx(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,c=s.activeIndex,u=Nt(this.props.background,!1);return i.map(function(d,f){d.value;var h=d.background,m=yHe(d,xHe);if(!h)return null;var p=Nn(Nn(Nn(Nn(Nn({},m),{},{fill:"#eee"},h),u),Cf(a.props,d,f)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return ne.createElement(P5,qb({key:"background-bar-".concat(f),option:a.props.background,isActive:f===c},p))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,c=i.xAxis,u=i.yAxis,d=i.layout,f=i.children,h=fi(f,ey);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,p=function(x,b){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:Vn(x,b)}},v={clipPath:a?"url(#clipPath-".concat(s,")"):null};return ne.createElement(dr,v,h.map(function(g){return ne.cloneElement(g,{key:"error-bar-".concat(s,"-").concat(g.props.dataKey),data:o,xAxis:c,yAxis:u,layout:d,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,c=a.xAxis,u=a.yAxis,d=a.left,f=a.top,h=a.width,m=a.height,p=a.isAnimationActive,v=a.background,g=a.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=Bt("recharts-bar",o),w=c&&c.allowDataOverflow,_=u&&u.allowDataOverflow,S=w||_,j=$t(g)?this.id:g;return ne.createElement(dr,{className:b},w||_?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(j)},ne.createElement("rect",{x:w?d:d-h/2,y:_?f:f-m/2,width:w?h:h*2,height:_?m:m*2}))):null,ne.createElement(dr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||x)&&uc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(y.PureComponent);iJ=ty;xu(ty,"displayName","Bar");xu(ty,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xu(ty,"getComposedData",function(e){var r=e.props,n=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,c=e.xAxisTicks,u=e.yAxisTicks,d=e.stackedData,f=e.dataStartIndex,h=e.displayedData,m=e.offset,p=oUe(a,n);if(!p)return null;var v=r.layout,g=n.type.defaultProps,x=g!==void 0?Nn(Nn({},g),n.props):n.props,b=x.dataKey,w=x.children,_=x.minPointSize,S=v==="horizontal"?o:i,j=d?S.scale.domain():null,N=mUe({numericAxis:S}),k=fi(w,sl),E=h.map(function(C,O){var D,T,z,q,F,I;d?D=lUe(d[f+O],j):(D=Vn(C,b),Array.isArray(D)||(D=[N,D]));var V=vHe(_,iJ.defaultProps.minPointSize)(D[1],O);if(v==="horizontal"){var L,M=[o.scale(D[0]),o.scale(D[1])],Y=M[0],Z=M[1];T=S$({axis:i,ticks:c,bandSize:s,offset:p.offset,entry:C,index:O}),z=(L=Z??Y)!==null&&L!==void 0?L:void 0,q=p.size;var A=Y-Z;if(F=Number.isNaN(A)?0:A,I={x:T,y:o.y,width:q,height:o.height},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var X=is(F||V)*(Math.abs(V)-Math.abs(F));z-=X,F+=X}}else{var U=[i.scale(D[0]),i.scale(D[1])],H=U[0],ae=U[1];if(T=H,z=S$({axis:o,ticks:u,bandSize:s,offset:p.offset,entry:C,index:O}),q=ae-H,F=p.size,I={x:i.x,y:z,width:i.width,height:F},Math.abs(V)>0&&Math.abs(q)<Math.abs(V)){var oe=is(q||V)*(Math.abs(V)-Math.abs(q));q+=oe}}return Nn(Nn(Nn({},C),{},{x:T,y:z,width:q,height:F,value:d?D:D[1],payload:C,background:I},k&&k[O]&&k[O].props),{},{tooltipPayload:[AX(n,C)],tooltipPosition:{x:T+q/2,y:z+F/2}})});return Nn({data:E,layout:v},m)});function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jv(e)}function CHe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function I5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cJ(a.key),a)}}function THe(e,r,n){return r&&I5(e.prototype,r),n&&I5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function mo(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?M5(Object(n),!0).forEach(function(a){ij(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ij(e,r,n){return r=cJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cJ(e){var r=AHe(e,"string");return Jv(r)=="symbol"?r:r+""}function AHe(e,r){if(Jv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Jv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var OHe=function(r,n,a,s,i){var o=r.width,c=r.height,u=r.layout,d=r.children,f=Object.keys(n),h={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:c-a.bottom,bottomMirror:c-a.bottom},m=!!Js(d,ty);return f.reduce(function(p,v){var g=n[v],x=g.orientation,b=g.domain,w=g.padding,_=w===void 0?{}:w,S=g.mirror,j=g.reversed,N="".concat(x).concat(S?"Mirror":""),k,E,C,O,D;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var T=b[1]-b[0],z=1/0,q=g.categoricalDomain.sort(HAe);if(q.forEach(function(U,H){H>0&&(z=Math.min((U||0)-(q[H-1]||0),z))}),Number.isFinite(z)){var F=z/T,I=g.layout==="vertical"?a.height:a.width;if(g.padding==="gap"&&(k=F*I/2),g.padding==="no-gap"){var V=os(r.barCategoryGap,F*I),L=F*I/2;k=L-V-(L-V)/I*V}}}s==="xAxis"?E=[a.left+(_.left||0)+(k||0),a.left+a.width-(_.right||0)-(k||0)]:s==="yAxis"?E=u==="horizontal"?[a.top+a.height-(_.bottom||0),a.top+(_.top||0)]:[a.top+(_.top||0)+(k||0),a.top+a.height-(_.bottom||0)-(k||0)]:E=g.range,j&&(E=[E[1],E[0]]);var M=NX(g,i,m),Y=M.scale,Z=M.realScaleType;Y.domain(b).range(E),EX(Y);var A=CX(Y,mo(mo({},g),{},{realScaleType:Z}));s==="xAxis"?(D=x==="top"&&!S||x==="bottom"&&S,C=a.left,O=h[N]-D*g.height):s==="yAxis"&&(D=x==="left"&&!S||x==="right"&&S,C=h[N]-D*g.width,O=a.top);var X=mo(mo(mo({},g),A),{},{realScaleType:Z,x:C,y:O,scale:Y,width:s==="xAxis"?a.width:g.width,height:s==="yAxis"?a.height:g.height});return X.bandSize=Ab(X,A),!g.hide&&s==="xAxis"?h[N]+=(D?-1:1)*X.height:g.hide||(h[N]+=(D?-1:1)*X.width),mo(mo({},p),{},ij({},v,X))},{})},uJ=function(r,n){var a=r.x,s=r.y,i=n.x,o=n.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},PHe=function(r){var n=r.x1,a=r.y1,s=r.x2,i=r.y2;return uJ({x:n,y:a},{x:s,y:i})},dJ=function(){function e(r){CHe(this,e),this.scale=r}return THe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();ij(dJ,"EPS",1e-4);var A4=function(r){var n=Object.keys(r).reduce(function(a,s){return mo(mo({},a),{},ij({},s,dJ.create(r[s])))},{});return mo(mo({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,c=i.position;return JWe(s,function(u,d){return n[d].apply(u,{bandAware:o,position:c})})},isInRange:function(s){return sJ(s,function(i,o){return n[o].isInRange(i)})}})};function DHe(e){return(e%180+180)%180}var RHe=function(r){var n=r.width,a=r.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=DHe(s),o=i*Math.PI/180,c=Math.atan(a/n),u=o>c&&o<Math.PI-c?a/Math.sin(o):n/Math.cos(o);return Math.abs(u)},IHe=Fl,MHe=Gx,FHe=$S;function LHe(e){return function(r,n,a){var s=Object(r);if(!MHe(r)){var i=IHe(n);r=FHe(r),n=function(c){return i(s[c],c,s)}}var o=e(r,n,a);return o>-1?s[i?r[o]:o]:void 0}}var $He=LHe,BHe=tJ;function UHe(e){var r=BHe(e),n=r%1;return r===r?n?r-n:r:0}var VHe=UHe,zHe=iY,WHe=Fl,HHe=VHe,qHe=Math.max;function KHe(e,r,n){var a=e==null?0:e.length;if(!a)return-1;var s=n==null?0:HHe(n);return s<0&&(s=qHe(a+s,0)),zHe(e,WHe(r),s)}var GHe=KHe,YHe=$He,XHe=GHe,JHe=YHe(XHe),QHe=JHe;const ZHe=gr(QHe);var eqe=qTe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),O4=y.createContext(void 0),P4=y.createContext(void 0),fJ=y.createContext(void 0),hJ=y.createContext({}),mJ=y.createContext(void 0),pJ=y.createContext(0),gJ=y.createContext(0),F5=function(r){var n=r.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=r.clipPathId,c=r.children,u=r.width,d=r.height,f=eqe(i);return ne.createElement(O4.Provider,{value:a},ne.createElement(P4.Provider,{value:s},ne.createElement(hJ.Provider,{value:i},ne.createElement(fJ.Provider,{value:f},ne.createElement(mJ.Provider,{value:o},ne.createElement(pJ.Provider,{value:d},ne.createElement(gJ.Provider,{value:u},c)))))))},tqe=function(){return y.useContext(mJ)},vJ=function(r){var n=y.useContext(O4);n==null&&Of();var a=n[r];return a==null&&Of(),a},rqe=function(){var r=y.useContext(O4);return ru(r)},nqe=function(){var r=y.useContext(P4),n=ZHe(r,function(a){return sJ(a.domain,Number.isFinite)});return n||ru(r)},xJ=function(r){var n=y.useContext(P4);n==null&&Of();var a=n[r];return a==null&&Of(),a},aqe=function(){var r=y.useContext(fJ);return r},sqe=function(){return y.useContext(hJ)},D4=function(){return y.useContext(gJ)},R4=function(){return y.useContext(pJ)};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hp(e)}function iqe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function oqe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wJ(a.key),a)}}function lqe(e,r,n){return r&&oqe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cqe(e,r,n){return r=Gb(r),uqe(e,yJ()?Reflect.construct(r,n||[],Gb(e).constructor):r.apply(e,n))}function uqe(e,r){if(r&&(hp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dqe(e)}function dqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yJ=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gb(e)}function fqe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&JC(e,r)}function JC(e,r){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},JC(e,r)}function L5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?L5(Object(n),!0).forEach(function(a){I4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function I4(e,r,n){return r=wJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function wJ(e){var r=hqe(e,"string");return hp(r)=="symbol"?r:r+""}function hqe(e,r){if(hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(hp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function mqe(e,r){return xqe(e)||vqe(e,r)||gqe(e,r)||pqe()}function pqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gqe(e,r){if(e){if(typeof e=="string")return B5(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B5(e,r)}}function B5(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function vqe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function xqe(e){if(Array.isArray(e))return e}function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},QC.apply(this,arguments)}var yqe=function(r,n){var a;return ne.isValidElement(r)?a=ne.cloneElement(r,n):Pt(r)?a=r(n):a=ne.createElement("line",QC({},n,{className:"recharts-reference-line-line"})),a},wqe=function(r,n,a,s,i,o,c,u,d){var f=i.x,h=i.y,m=i.width,p=i.height;if(a){var v=d.y,g=r.y.apply(v,{position:o});if(xl(d,"discard")&&!r.y.isInRange(g))return null;var x=[{x:f+m,y:g},{x:f,y:g}];return u==="left"?x.reverse():x}if(n){var b=d.x,w=r.x.apply(b,{position:o});if(xl(d,"discard")&&!r.x.isInRange(w))return null;var _=[{x:w,y:h+p},{x:w,y:h}];return c==="top"?_.reverse():_}if(s){var S=d.segment,j=S.map(function(N){return r.apply(N,{position:o})});return xl(d,"discard")&&zWe(j,function(N){return!r.isInRange(N)})?null:j}return null};function bqe(e){var r=e.x,n=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,c=e.className,u=e.alwaysShow,d=tqe(),f=vJ(s),h=xJ(i),m=aqe();if(!d||!m)return null;No(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=A4({x:f.scale,y:h.scale}),v=Hn(r),g=Hn(n),x=a&&a.length===2,b=wqe(p,v,g,x,m,e.position,f.orientation,h.orientation,e);if(!b)return null;var w=mqe(b,2),_=w[0],S=_.x,j=_.y,N=w[1],k=N.x,E=N.y,C=xl(e,"hidden")?"url(#".concat(d,")"):void 0,O=$5($5({clipPath:C},Nt(e,!0)),{},{x1:S,y1:j,x2:k,y2:E});return ne.createElement(dr,{className:Bt("recharts-reference-line",c)},yqe(o,O),Qn.renderCallByParent(e,PHe({x1:S,y1:j,x2:k,y2:E})))}var M4=function(e){function r(){return iqe(this,r),cqe(this,r,arguments)}return fqe(r,e),lqe(r,[{key:"render",value:function(){return ne.createElement(bqe,this.props)}}])}(ne.Component);I4(M4,"displayName","ReferenceLine");I4(M4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ZC.apply(this,arguments)}function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mp(e)}function U5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function V5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?U5(Object(n),!0).forEach(function(a){oj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _qe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sqe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_J(a.key),a)}}function jqe(e,r,n){return r&&Sqe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kqe(e,r,n){return r=Yb(r),Nqe(e,bJ()?Reflect.construct(r,n||[],Yb(e).constructor):r.apply(e,n))}function Nqe(e,r){if(r&&(mp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eqe(e)}function Eqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bJ=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(e)}function Cqe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&eT(e,r)}function eT(e,r){return eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},eT(e,r)}function oj(e,r,n){return r=_J(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _J(e){var r=Tqe(e,"string");return mp(r)=="symbol"?r:r+""}function Tqe(e,r){if(mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(mp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Aqe=function(r){var n=r.x,a=r.y,s=r.xAxis,i=r.yAxis,o=A4({x:s.scale,y:i.scale}),c=o.apply({x:n,y:a},{bandAware:!0});return xl(r,"discard")&&!o.isInRange(c)?null:c},lj=function(e){function r(){return _qe(this,r),kqe(this,r,arguments)}return Cqe(r,e),jqe(r,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,c=a.alwaysShow,u=a.clipPathId,d=Hn(s),f=Hn(i);if(No(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var h=Aqe(this.props);if(!h)return null;var m=h.x,p=h.y,v=this.props,g=v.shape,x=v.className,b=xl(this.props,"hidden")?"url(#".concat(u,")"):void 0,w=V5(V5({clipPath:b},Nt(this.props,!0)),{},{cx:m,cy:p});return ne.createElement(dr,{className:Bt("recharts-reference-dot",x)},r.renderDot(g,w),Qn.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])}(ne.Component);oj(lj,"displayName","ReferenceDot");oj(lj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});oj(lj,"renderDot",function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):Pt(e)?n=e(r):n=ne.createElement(ZS,ZC({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),n});function tT(){return tT=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tT.apply(this,arguments)}function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pp(e)}function z5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function W5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?z5(Object(n),!0).forEach(function(a){cj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Oqe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pqe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jJ(a.key),a)}}function Dqe(e,r,n){return r&&Pqe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rqe(e,r,n){return r=Xb(r),Iqe(e,SJ()?Reflect.construct(r,n||[],Xb(e).constructor):r.apply(e,n))}function Iqe(e,r){if(r&&(pp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mqe(e)}function Mqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SJ=function(){return!!e})()}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xb(e)}function Fqe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&rT(e,r)}function rT(e,r){return rT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},rT(e,r)}function cj(e,r,n){return r=jJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function jJ(e){var r=Lqe(e,"string");return pp(r)=="symbol"?r:r+""}function Lqe(e,r){if(pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(pp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var $qe=function(r,n,a,s,i){var o=i.x1,c=i.x2,u=i.y1,d=i.y2,f=i.xAxis,h=i.yAxis;if(!f||!h)return null;var m=A4({x:f.scale,y:h.scale}),p={x:r?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:a?m.y.apply(u,{position:"start"}):m.y.rangeMin},v={x:n?m.x.apply(c,{position:"end"}):m.x.rangeMax,y:s?m.y.apply(d,{position:"end"}):m.y.rangeMax};return xl(i,"discard")&&(!m.isInRange(p)||!m.isInRange(v))?null:uJ(p,v)},uj=function(e){function r(){return Oqe(this,r),Rqe(this,r,arguments)}return Fqe(r,e),Dqe(r,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,c=a.y2,u=a.className,d=a.alwaysShow,f=a.clipPathId;No(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Hn(s),m=Hn(i),p=Hn(o),v=Hn(c),g=this.props.shape;if(!h&&!m&&!p&&!v&&!g)return null;var x=$qe(h,m,p,v,this.props);if(!x&&!g)return null;var b=xl(this.props,"hidden")?"url(#".concat(f,")"):void 0;return ne.createElement(dr,{className:Bt("recharts-reference-area",u)},r.renderRect(g,W5(W5({clipPath:b},Nt(this.props,!0)),x)),Qn.renderCallByParent(this.props,x))}}])}(ne.Component);cj(uj,"displayName","ReferenceArea");cj(uj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cj(uj,"renderRect",function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):Pt(e)?n=e(r):n=ne.createElement(T4,tT({},r,{className:"recharts-reference-area-rect"})),n});function kJ(e,r,n){if(r<1)return[];if(r===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=r)a.push(e[s]);return a}function Bqe(e,r,n){var a={width:e.width+r.width,height:e.height+r.height};return RHe(a,n)}function Uqe(e,r,n){var a=n==="width",s=e.x,i=e.y,o=e.width,c=e.height;return r===1?{start:a?s:i,end:a?s+o:i+c}:{start:a?s+o:i+c,end:a?s:i}}function Jb(e,r,n,a,s){if(e*r<e*a||e*r>e*s)return!1;var i=n();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-s)<=0}function Vqe(e,r){return kJ(e,r+1)}function zqe(e,r,n,a,s){for(var i=(a||[]).slice(),o=r.start,c=r.end,u=0,d=1,f=o,h=function(){var v=a==null?void 0:a[u];if(v===void 0)return{v:kJ(a,d)};var g=u,x,b=function(){return x===void 0&&(x=n(v,g)),x},w=v.coordinate,_=u===0||Jb(e,w,b,f,c);_||(u=0,f=o,d+=1),_&&(f=w+e*(b()/2+s),u+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qv(e)}function H5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ta(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?H5(Object(n),!0).forEach(function(a){Wqe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Wqe(e,r,n){return r=Hqe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Hqe(e){var r=qqe(e,"string");return Qv(r)=="symbol"?r:r+""}function qqe(e,r){if(Qv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Qv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Kqe(e,r,n,a,s){for(var i=(a||[]).slice(),o=i.length,c=r.start,u=r.end,d=function(m){var p=i[m],v,g=function(){return v===void 0&&(v=n(p,m)),v};if(m===o-1){var x=e*(p.coordinate+e*g()/2-u);i[m]=p=Ta(Ta({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[m]=p=Ta(Ta({},p),{},{tickCoord:p.coordinate});var b=Jb(e,p.tickCoord,g,c,u);b&&(u=p.tickCoord-e*(g()/2+s),i[m]=Ta(Ta({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return i}function Gqe(e,r,n,a,s,i){var o=(a||[]).slice(),c=o.length,u=r.start,d=r.end;if(i){var f=a[c-1],h=n(f,c-1),m=e*(f.coordinate+e*h/2-d);o[c-1]=f=Ta(Ta({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate});var p=Jb(e,f.tickCoord,function(){return h},u,d);p&&(d=f.tickCoord-e*(h/2+s),o[c-1]=Ta(Ta({},f),{},{isShow:!0}))}for(var v=i?c-1:c,g=function(w){var _=o[w],S,j=function(){return S===void 0&&(S=n(_,w)),S};if(w===0){var N=e*(_.coordinate-e*j()/2-u);o[w]=_=Ta(Ta({},_),{},{tickCoord:N<0?_.coordinate-N*e:_.coordinate})}else o[w]=_=Ta(Ta({},_),{},{tickCoord:_.coordinate});var k=Jb(e,_.tickCoord,j,u,d);k&&(u=_.tickCoord+e*(j()/2+s),o[w]=Ta(Ta({},_),{},{isShow:!0}))},x=0;x<v;x++)g(x);return o}function F4(e,r,n){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,c=e.orientation,u=e.interval,d=e.tickFormatter,f=e.unit,h=e.angle;if(!s||!s.length||!a)return[];if(Qe(u)||gl.isSsr)return Vqe(s,typeof u=="number"&&Qe(u)?u:0);var m=[],p=c==="top"||c==="bottom"?"width":"height",v=f&&p==="width"?kg(f,{fontSize:r,letterSpacing:n}):{width:0,height:0},g=function(_,S){var j=Pt(d)?d(_.value,S):_.value;return p==="width"?Bqe(kg(j,{fontSize:r,letterSpacing:n}),v,h):kg(j,{fontSize:r,letterSpacing:n})[p]},x=s.length>=2?is(s[1].coordinate-s[0].coordinate):1,b=Uqe(i,x,p);return u==="equidistantPreserveStart"?zqe(x,b,g,s,o):(u==="preserveStart"||u==="preserveStartEnd"?m=Gqe(x,b,g,s,o,u==="preserveStartEnd"):m=Kqe(x,b,g,s,o),m.filter(function(w){return w.isShow}))}var Yqe=["viewBox"],Xqe=["viewBox"],Jqe=["ticks"];function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gp(e)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hh.apply(this,arguments)}function q5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function In(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?q5(Object(n),!0).forEach(function(a){L4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function SN(e,r){if(e==null)return{};var n=Qqe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Qqe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Zqe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function K5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,EJ(a.key),a)}}function eKe(e,r,n){return r&&K5(e.prototype,r),n&&K5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tKe(e,r,n){return r=Qb(r),rKe(e,NJ()?Reflect.construct(r,n||[],Qb(e).constructor):r.apply(e,n))}function rKe(e,r){if(r&&(gp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nKe(e)}function nKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NJ=function(){return!!e})()}function Qb(e){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qb(e)}function aKe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&nT(e,r)}function nT(e,r){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},nT(e,r)}function L4(e,r,n){return r=EJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function EJ(e){var r=sKe(e,"string");return gp(r)=="symbol"?r:r+""}function sKe(e,r){if(gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(gp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var o0=function(e){function r(n){var a;return Zqe(this,r),a=tKe(this,r,[n]),a.state={fontSize:"",letterSpacing:""},a}return aKe(r,e),eKe(r,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=SN(a,Yqe),c=this.props,u=c.viewBox,d=SN(c,Xqe);return!dm(i,u)||!dm(o,d)||!dm(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,c=s.width,u=s.height,d=s.orientation,f=s.tickSize,h=s.mirror,m=s.tickMargin,p,v,g,x,b,w,_=h?-1:1,S=a.tickSize||f,j=Qe(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":p=v=a.coordinate,x=o+ +!h*u,g=x-_*S,w=g-_*m,b=j;break;case"left":g=x=a.coordinate,v=i+ +!h*c,p=v-_*S,b=p-_*m,w=j;break;case"right":g=x=a.coordinate,v=i+ +h*c,p=v+_*S,b=p+_*m,w=j;break;default:p=v=a.coordinate,x=o+ +h*u,g=x+_*S,w=g+_*m,b=j;break}return{line:{x1:p,y1:g,x2:v,y2:x},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,c=a.height,u=a.orientation,d=a.mirror,f=a.axisLine,h=In(In(In({},Nt(this.props,!1)),Nt(f,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var m=+(u==="top"&&!d||u==="bottom"&&d);h=In(In({},h),{},{x1:s,y1:i+m*c,x2:s+o,y2:i+m*c})}else{var p=+(u==="left"&&!d||u==="right"&&d);h=In(In({},h),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+c})}return ne.createElement("line",Hh({},h,{className:Bt("recharts-cartesian-axis-line",di(f,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,c=this.props,u=c.tickLine,d=c.stroke,f=c.tick,h=c.tickFormatter,m=c.unit,p=F4(In(In({},this.props),{},{ticks:a}),s,i),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Nt(this.props,!1),b=Nt(f,!1),w=In(In({},x),{},{fill:"none"},Nt(u,!1)),_=p.map(function(S,j){var N=o.getTickLineCoord(S),k=N.line,E=N.tick,C=In(In(In(In({textAnchor:v,verticalAnchor:g},x),{},{stroke:"none",fill:d},b),E),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:h});return ne.createElement(dr,Hh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Cf(o.props,S,j)),u&&ne.createElement("line",Hh({},w,k,{className:Bt("recharts-cartesian-axis-tick-line",di(u,"className"))})),f&&r.renderTickItem(f,C,"".concat(Pt(h)?h(S.value,j):S.value).concat(m||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,c=s.height,u=s.ticksGenerator,d=s.className,f=s.hide;if(f)return null;var h=this.props,m=h.ticks,p=SN(h,Jqe),v=m;return Pt(u)&&(v=m&&m.length>0?u(this.props):u(p)),o<=0||c<=0||!v||!v.length?null:ne.createElement(dr,{className:Bt("recharts-cartesian-axis",d),ref:function(x){a.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o,c=Bt(s.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(a)?o=ne.cloneElement(a,In(In({},s),{},{className:c})):Pt(a)?o=a(In(In({},s),{},{className:c})):o=ne.createElement(Tf,Hh({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);L4(o0,"displayName","CartesianAxis");L4(o0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iKe=["x1","y1","x2","y2","key"],oKe=["offset"];function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pf(e)}function G5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Pa(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?G5(Object(n),!0).forEach(function(a){lKe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lKe(e,r,n){return r=cKe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cKe(e){var r=uKe(e,"string");return Pf(r)=="symbol"?r:r+""}function uKe(e,r){if(Pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Pf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ud.apply(this,arguments)}function Y5(e,r){if(e==null)return{};var n=dKe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function dKe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var fKe=function(r){var n=r.fill;if(!n||n==="none")return null;var a=r.fillOpacity,s=r.x,i=r.y,o=r.width,c=r.height,u=r.ry;return ne.createElement("rect",{x:s,y:i,ry:u,width:o,height:c,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function CJ(e,r){var n;if(ne.isValidElement(e))n=ne.cloneElement(e,r);else if(Pt(e))n=e(r);else{var a=r.x1,s=r.y1,i=r.x2,o=r.y2,c=r.key,u=Y5(r,iKe),d=Nt(u,!1);d.offset;var f=Y5(d,oKe);n=ne.createElement("line",Ud({},f,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:c}))}return n}function hKe(e){var r=e.x,n=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,u){var d=Pa(Pa({},e),{},{x1:r,y1:c,x2:r+n,y2:c,key:"line-".concat(u),index:u});return CJ(s,d)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function mKe(e){var r=e.y,n=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,u){var d=Pa(Pa({},e),{},{x1:c,y1:r,x2:c,y2:r+n,key:"line-".concat(u),index:u});return CJ(s,d)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function pKe(e){var r=e.horizontalFill,n=e.fillOpacity,a=e.x,s=e.y,i=e.width,o=e.height,c=e.horizontalPoints,u=e.horizontal,d=u===void 0?!0:u;if(!d||!r||!r.length)return null;var f=c.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==f[0]&&f.unshift(0);var h=f.map(function(m,p){var v=!f[p+1],g=v?s+o-m:f[p+1]-m;if(g<=0)return null;var x=p%r.length;return ne.createElement("rect",{key:"react-".concat(p),y:m,x:a,height:g,width:i,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function gKe(e){var r=e.vertical,n=r===void 0?!0:r,a=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,c=e.width,u=e.height,d=e.verticalPoints;if(!n||!a||!a.length)return null;var f=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==f[0]&&f.unshift(0);var h=f.map(function(m,p){var v=!f[p+1],g=v?i+c-m:f[p+1]-m;if(g<=0)return null;var x=p%a.length;return ne.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:g,height:u,stroke:"none",fill:a[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var vKe=function(r,n){var a=r.xAxis,s=r.width,i=r.height,o=r.offset;return kX(F4(Pa(Pa(Pa({},o0.defaultProps),a),{},{ticks:ac(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},xKe=function(r,n){var a=r.yAxis,s=r.width,i=r.height,o=r.offset;return kX(F4(Pa(Pa(Pa({},o0.defaultProps),a),{},{ticks:ac(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},hh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $4(e){var r,n,a,s,i,o,c=D4(),u=R4(),d=sqe(),f=Pa(Pa({},e),{},{stroke:(r=e.stroke)!==null&&r!==void 0?r:hh.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:hh.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:hh.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:hh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:hh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:hh.verticalFill,x:Qe(e.x)?e.x:d.left,y:Qe(e.y)?e.y:d.top,width:Qe(e.width)?e.width:d.width,height:Qe(e.height)?e.height:d.height}),h=f.x,m=f.y,p=f.width,v=f.height,g=f.syncWithTicks,x=f.horizontalValues,b=f.verticalValues,w=rqe(),_=nqe();if(!Qe(p)||p<=0||!Qe(v)||v<=0||!Qe(h)||h!==+h||!Qe(m)||m!==+m)return null;var S=f.verticalCoordinatesGenerator||vKe,j=f.horizontalCoordinatesGenerator||xKe,N=f.horizontalPoints,k=f.verticalPoints;if((!N||!N.length)&&Pt(j)){var E=x&&x.length,C=j({yAxis:_?Pa(Pa({},_),{},{ticks:E?x:_.ticks}):void 0,width:c,height:u,offset:d},E?!0:g);No(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Pf(C),"]")),Array.isArray(C)&&(N=C)}if((!k||!k.length)&&Pt(S)){var O=b&&b.length,D=S({xAxis:w?Pa(Pa({},w),{},{ticks:O?b:w.ticks}):void 0,width:c,height:u,offset:d},O?!0:g);No(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Pf(D),"]")),Array.isArray(D)&&(k=D)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(fKe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),ne.createElement(hKe,Ud({},f,{offset:d,horizontalPoints:N,xAxis:w,yAxis:_})),ne.createElement(mKe,Ud({},f,{offset:d,verticalPoints:k,xAxis:w,yAxis:_})),ne.createElement(pKe,Ud({},f,{horizontalPoints:N})),ne.createElement(gKe,Ud({},f,{verticalPoints:k})))}$4.displayName="CartesianGrid";var yKe=["type","layout","connectNulls","ref"],wKe=["key"];function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vp(e)}function X5(e,r){if(e==null)return{};var n=bKe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function bKe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Og.apply(this,arguments)}function J5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Gs(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?J5(Object(n),!0).forEach(function(a){po(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mh(e){return kKe(e)||jKe(e)||SKe(e)||_Ke()}function _Ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SKe(e,r){if(e){if(typeof e=="string")return aT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aT(e,r)}}function jKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kKe(e){if(Array.isArray(e))return aT(e)}function aT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function NKe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Q5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AJ(a.key),a)}}function EKe(e,r,n){return r&&Q5(e.prototype,r),n&&Q5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CKe(e,r,n){return r=Zb(r),TKe(e,TJ()?Reflect.construct(r,n||[],Zb(e).constructor):r.apply(e,n))}function TKe(e,r){if(r&&(vp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AKe(e)}function AKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TJ=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(e)}function OKe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&sT(e,r)}function sT(e,r){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},sT(e,r)}function po(e,r,n){return r=AJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function AJ(e){var r=PKe(e,"string");return vp(r)=="symbol"?r:r+""}function PKe(e,r){if(vp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(vp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var l0=function(e){function r(){var n;NKe(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=CKe(this,r,[].concat(s)),po(n,"state",{isAnimationFinished:!0,totalLength:0}),po(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),po(n,"getStrokeDasharray",function(o,c,u){var d=u.reduce(function(b,w){return b+w});if(!d)return n.generateSimpleStrokeDasharray(c,o);for(var f=Math.floor(o/d),h=o%d,m=c-o,p=[],v=0,g=0;v<u.length;g+=u[v],++v)if(g+u[v]>h){p=[].concat(mh(u.slice(0,v)),[h-g]);break}var x=p.length%2===0?[0,m]:[m];return[].concat(mh(r.repeat(u,f)),mh(p),x).map(function(b){return"".concat(b,"px")}).join(", ")}),po(n,"id",e0("recharts-line-")),po(n,"pathRef",function(o){n.mainCurve=o}),po(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),po(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return OKe(r,e),EKe(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,c=i.xAxis,u=i.yAxis,d=i.layout,f=i.children,h=fi(f,ey);if(!h)return null;var m=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:Vn(g.payload,x)}},p={clipPath:a?"url(#clipPath-".concat(s,")"):null};return ne.createElement(dr,p,h.map(function(v){return ne.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:c,yAxis:u,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Nt(this.props,!1),m=Nt(u,!0),p=d.map(function(g,x){var b=Gs(Gs(Gs({key:"dot-".concat(x),r:3},h),m),{},{index:x,cx:g.x,cy:g.y,value:g.value,dataKey:f,payload:g.payload,points:d});return r.renderDotItem(u,b)}),v={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return ne.createElement(dr,Og({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(a,s,i,o){var c=this.props,u=c.type,d=c.layout,f=c.connectNulls;c.ref;var h=X5(c,yKe),m=Gs(Gs(Gs({},Nt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},o),{},{type:u,layout:d,connectNulls:f});return ne.createElement(Db,Og({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,o=this.props,c=o.points,u=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,m=o.animationEasing,p=o.animationId,v=o.animateNewValues,g=o.width,x=o.height,b=this.state,w=b.prevPoints,_=b.totalLength;return ne.createElement(Cl,{begin:f,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(w){var N=w.length/c.length,k=c.map(function(T,z){var q=Math.floor(z*N);if(w[q]){var F=w[q],I=ni(F.x,T.x),V=ni(F.y,T.y);return Gs(Gs({},T),{},{x:I(j),y:V(j)})}if(v){var L=ni(g*2,T.x),M=ni(x/2,T.y);return Gs(Gs({},T),{},{x:L(j),y:M(j)})}return Gs(Gs({},T),{},{x:T.x,y:T.y})});return i.renderCurveStatically(k,a,s)}var E=ni(0,_),C=E(j),O;if(u){var D="".concat(u).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});O=i.getStrokeDasharray(C,_,D)}else O=i.generateSimpleStrokeDasharray(_,C);return i.renderCurveStatically(c,a,s,{strokeDasharray:O})})}},{key:"renderCurve",value:function(a,s){var i=this.props,o=i.points,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!Zx(d,o))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(o,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,c=s.points,u=s.className,d=s.xAxis,f=s.yAxis,h=s.top,m=s.left,p=s.width,v=s.height,g=s.isAnimationActive,x=s.id;if(i||!c||!c.length)return null;var b=this.state.isAnimationFinished,w=c.length===1,_=Bt("recharts-line",u),S=d&&d.allowDataOverflow,j=f&&f.allowDataOverflow,N=S||j,k=$t(x)?this.id:x,E=(a=Nt(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},C=E.r,O=C===void 0?3:C,D=E.strokeWidth,T=D===void 0?2:D,z=eOe(o)?o:{},q=z.clipDot,F=q===void 0?!0:q,I=O*2+T;return ne.createElement(dr,{className:_},S||j?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(k)},ne.createElement("rect",{x:S?m:m-p/2,y:j?h:h-v/2,width:S?p:p*2,height:j?v:v*2})),!F&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ne.createElement("rect",{x:m-I/2,y:h-I/2,width:p+I,height:v+I}))):null,!w&&this.renderCurve(N,k),this.renderErrorBar(N,k),(w||o)&&this.renderDots(N,F,k),(!g||b)&&uc.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(mh(a),[0]):a,o=[],c=0;c<s;++c)o=[].concat(mh(o),mh(i));return o}},{key:"renderDotItem",value:function(a,s){var i;if(ne.isValidElement(a))i=ne.cloneElement(a,s);else if(Pt(a))i=a(s);else{var o=s.key,c=X5(s,wKe),u=Bt("recharts-line-dot",typeof a!="boolean"?a.className:"");i=ne.createElement(ZS,Og({key:o},c,{className:u}))}return i}}])}(y.PureComponent);po(l0,"displayName","Line");po(l0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});po(l0,"getComposedData",function(e){var r=e.props,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,c=e.bandSize,u=e.displayedData,d=e.offset,f=r.layout,h=u.map(function(m,p){var v=Vn(m,o);return f==="horizontal"?{x:_$({axis:n,ticks:s,bandSize:c,entry:m,index:p}),y:$t(v)?null:a.scale(v),value:v,payload:m}:{x:$t(v)?null:n.scale(v),y:_$({axis:a,ticks:i,bandSize:c,entry:m,index:p}),value:v,payload:m}});return Gs({points:h,layout:f},d)});function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xp(e)}function DKe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function RKe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DJ(a.key),a)}}function IKe(e,r,n){return r&&RKe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MKe(e,r,n){return r=e_(r),FKe(e,OJ()?Reflect.construct(r,n||[],e_(e).constructor):r.apply(e,n))}function FKe(e,r){if(r&&(xp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LKe(e)}function LKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OJ=function(){return!!e})()}function e_(e){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e_(e)}function $Ke(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&iT(e,r)}function iT(e,r){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},iT(e,r)}function PJ(e,r,n){return r=DJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function DJ(e){var r=BKe(e,"string");return xp(r)=="symbol"?r:r+""}function BKe(e,r){if(xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(xp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function oT(){return oT=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oT.apply(this,arguments)}function UKe(e){var r=e.xAxisId,n=D4(),a=R4(),s=vJ(r);return s==null?null:y.createElement(o0,oT({},s,{className:Bt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return ac(o,!0)}}))}var ry=function(e){function r(){return DKe(this,r),MKe(this,r,arguments)}return $Ke(r,e),IKe(r,[{key:"render",value:function(){return y.createElement(UKe,this.props)}}])}(y.Component);PJ(ry,"displayName","XAxis");PJ(ry,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yp(e)}function VKe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zKe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,MJ(a.key),a)}}function WKe(e,r,n){return r&&zKe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HKe(e,r,n){return r=t_(r),qKe(e,RJ()?Reflect.construct(r,n||[],t_(e).constructor):r.apply(e,n))}function qKe(e,r){if(r&&(yp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KKe(e)}function KKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RJ=function(){return!!e})()}function t_(e){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t_(e)}function GKe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&lT(e,r)}function lT(e,r){return lT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lT(e,r)}function IJ(e,r,n){return r=MJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function MJ(e){var r=YKe(e,"string");return yp(r)=="symbol"?r:r+""}function YKe(e,r){if(yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(yp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function cT(){return cT=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cT.apply(this,arguments)}var XKe=function(r){var n=r.yAxisId,a=D4(),s=R4(),i=xJ(n);return i==null?null:y.createElement(o0,cT({},i,{className:Bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(c){return ac(c,!0)}}))},ny=function(e){function r(){return VKe(this,r),HKe(this,r,arguments)}return GKe(r,e),WKe(r,[{key:"render",value:function(){return y.createElement(XKe,this.props)}}])}(y.Component);IJ(ny,"displayName","YAxis");IJ(ny,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Z5(e){return eGe(e)||ZKe(e)||QKe(e)||JKe()}function JKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QKe(e,r){if(e){if(typeof e=="string")return uT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uT(e,r)}}function ZKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eGe(e){if(Array.isArray(e))return uT(e)}function uT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var dT=function(r,n,a,s,i){var o=fi(r,M4),c=fi(r,lj),u=[].concat(Z5(o),Z5(c)),d=fi(r,uj),f="".concat(s,"Id"),h=s[0],m=n;if(u.length&&(m=u.reduce(function(g,x){if(x.props[f]===a&&xl(x.props,"extendDomain")&&Qe(x.props[h])){var b=x.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},m)),d.length){var p="".concat(h,"1"),v="".concat(h,"2");m=d.reduce(function(g,x){if(x.props[f]===a&&xl(x.props,"extendDomain")&&Qe(x.props[p])&&Qe(x.props[v])){var b=x.props[p],w=x.props[v];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,x){return Qe(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},m)),m},FJ={exports:{}};(function(e){var r=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function i(u,d,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,h||u,m),v=n?n+d:d;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],p]:u._events[v].push(p):(u._events[v]=p,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new a:delete u._events[d]}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)r.call(f,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},c.prototype.listeners=function(d){var f=n?n+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,v=new Array(p);m<p;m++)v[m]=h[m].fn;return v},c.prototype.listenerCount=function(d){var f=n?n+d:d,h=this._events[f];return h?h.fn?1:h.length:0},c.prototype.emit=function(d,f,h,m,p,v){var g=n?n+d:d;if(!this._events[g])return!1;var x=this._events[g],b=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,h),!0;case 4:return x.fn.call(x.context,f,h,m),!0;case 5:return x.fn.call(x.context,f,h,m,p),!0;case 6:return x.fn.call(x.context,f,h,m,p,v),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var S=x.length,j;for(_=0;_<S;_++)switch(x[_].once&&this.removeListener(d,x[_].fn,void 0,!0),b){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,f);break;case 3:x[_].fn.call(x[_].context,f,h);break;case 4:x[_].fn.call(x[_].context,f,h,m);break;default:if(!w)for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];x[_].fn.apply(x[_].context,w)}}return!0},c.prototype.on=function(d,f,h){return i(this,d,f,h,!1)},c.prototype.once=function(d,f,h){return i(this,d,f,h,!0)},c.prototype.removeListener=function(d,f,h,m){var p=n?n+d:d;if(!this._events[p])return this;if(!f)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===f&&(!m||v.once)&&(!h||v.context===h)&&o(this,p);else{for(var g=0,x=[],b=v.length;g<b;g++)(v[g].fn!==f||m&&!v[g].once||h&&v[g].context!==h)&&x.push(v[g]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},c.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(FJ);var tGe=FJ.exports;const rGe=gr(tGe);var jN=new rGe,kN="recharts.syncMouseEvents";function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zv(e)}function nGe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function aGe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LJ(a.key),a)}}function sGe(e,r,n){return r&&aGe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NN(e,r,n){return r=LJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function LJ(e){var r=iGe(e,"string");return Zv(r)=="symbol"?r:r+""}function iGe(e,r){if(Zv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(Zv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oGe=function(){function e(){nGe(this,e),NN(this,"activeIndex",0),NN(this,"coordinateList",[]),NN(this,"layout","horizontal")}return sGe(e,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,o=n.container,c=o===void 0?null:o,u=n.layout,d=u===void 0?null:u,f=n.offset,h=f===void 0?null:f,m=n.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=c??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,c=s.height,u=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+u+d,m=o+this.offset.top+c/2+f;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])}();function lGe(e,r,n){if(n==="number"&&r===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&Qe(a)&&Qe(s))return!0}return!1}function cGe(e,r,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:r.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function $J(e){var r=e.cx,n=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,o=Lr(r,n,a,s),c=Lr(r,n,a,i);return{points:[o,c],cx:r,cy:n,radius:a,startAngle:s,endAngle:i}}function uGe(e,r,n){var a,s,i,o;if(e==="horizontal")a=r.x,i=a,s=n.top,o=n.top+n.height;else if(e==="vertical")s=r.y,o=s,a=n.left,i=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var c=r.cx,u=r.cy,d=r.innerRadius,f=r.outerRadius,h=r.angle,m=Lr(c,u,d,h),p=Lr(c,u,f,h);a=m.x,s=m.y,i=p.x,o=p.y}else return $J(r);return[{x:a,y:s},{x:i,y:o}]}function ex(e){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ex(e)}function e8(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function pw(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?e8(Object(n),!0).forEach(function(a){dGe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function dGe(e,r,n){return r=fGe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function fGe(e){var r=hGe(e,"string");return ex(r)=="symbol"?r:r+""}function hGe(e,r){if(ex(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(ex(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function mGe(e){var r,n,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,p=(r=a.props.cursor)!==null&&r!==void 0?r:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!p||!i||!o||m!=="ScatterChart"&&s!=="axis")return null;var v,g=Db;if(m==="ScatterChart")v=o,g=OVe;else if(m==="BarChart")v=cGe(h,o,u,f),g=T4;else if(h==="radial"){var x=$J(o),b=x.cx,w=x.cy,_=x.radius,S=x.startAngle,j=x.endAngle;v={cx:b,cy:w,startAngle:S,endAngle:j,innerRadius:_,outerRadius:_},g=MX}else v={points:uGe(h,o,u)},g=Db;var N=pw(pw(pw(pw({stroke:"#ccc",pointerEvents:"none"},u),v),Nt(p,!1)),{},{payload:c,payloadIndex:d,className:Bt("recharts-tooltip-cursor",p.className)});return y.isValidElement(p)?y.cloneElement(p,N):y.createElement(g,N)}var pGe=["item"],gGe=["children","className","width","height","style","compact","title","desc"];function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wp(e)}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qh.apply(this,arguments)}function t8(e,r){return yGe(e)||xGe(e,r)||UJ(e,r)||vGe()}function vGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xGe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function yGe(e){if(Array.isArray(e))return e}function r8(e,r){if(e==null)return{};var n=wGe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function wGe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function bGe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _Ge(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,VJ(a.key),a)}}function SGe(e,r,n){return r&&_Ge(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jGe(e,r,n){return r=r_(r),kGe(e,BJ()?Reflect.construct(r,n||[],r_(e).constructor):r.apply(e,n))}function kGe(e,r){if(r&&(wp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NGe(e)}function NGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BJ=function(){return!!e})()}function r_(e){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r_(e)}function EGe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&fT(e,r)}function fT(e,r){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},fT(e,r)}function bp(e){return AGe(e)||TGe(e)||UJ(e)||CGe()}function CGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UJ(e,r){if(e){if(typeof e=="string")return hT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(e,r)}}function TGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AGe(e){if(Array.isArray(e))return hT(e)}function hT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function n8(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ie(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?n8(Object(n),!0).forEach(function(a){Et(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Et(e,r,n){return r=VJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function VJ(e){var r=OGe(e,"string");return wp(r)=="symbol"?r:r+""}function OGe(e,r){if(wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(wp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var PGe={xAxis:["bottom","top"],yAxis:["left","right"]},DGe={width:"100%",height:"100%"},zJ={x:0,y:0};function gw(e){return e}var RGe=function(r,n){return n==="horizontal"?r.x:n==="vertical"?r.y:n==="centric"?r.angle:r.radius},IGe=function(r,n,a,s){var i=n.find(function(f){return f&&f.index===a});if(i){if(r==="horizontal")return{x:i.coordinate,y:s.y};if(r==="vertical")return{x:s.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,c=s.radius;return Ie(Ie(Ie({},s),Lr(s.cx,s.cy,c,o)),{},{angle:o,radius:c})}var u=i.coordinate,d=s.angle;return Ie(Ie(Ie({},s),Lr(s.cx,s.cy,u,d)),{},{angle:d,radius:u})}return zJ},dj=function(r,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(a??[]).reduce(function(c,u){var d=u.props.data;return d&&d.length?[].concat(bp(c),bp(d)):c},[]);return o.length>0?o:r&&r.length&&Qe(s)&&Qe(i)?r.slice(s,i+1):[]};function WJ(e){return e==="number"?[0,"auto"]:void 0}var mT=function(r,n,a,s){var i=r.graphicalItems,o=r.tooltipAxis,c=dj(n,r);return a<0||!i||!i.length||a>=c.length?null:i.reduce(function(u,d){var f,h=(f=d.props.data)!==null&&f!==void 0?f:n;h&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=a&&(h=h.slice(r.dataStartIndex,r.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?c:h;m=rb(p,o.dataKey,s)}else m=h&&h[a]||c[a];return m?[].concat(bp(u),[AX(d,m)]):u},[])},a8=function(r,n,a,s){var i=s||{x:r.chartX,y:r.chartY},o=RGe(i,a),c=r.orderedTooltipTicks,u=r.tooltipAxis,d=r.tooltipTicks,f=tUe(o,c,d,u);if(f>=0&&d){var h=d[f]&&d[f].value,m=mT(r,n,f,h),p=IGe(a,c,f,i);return{activeTooltipIndex:f,activeLabel:h,activePayload:m,activeCoordinate:p}}return null},MGe=function(r,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,c=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,f=r.layout,h=r.children,m=r.stackOffset,p=jX(f,i);return a.reduce(function(v,g){var x,b=g.type.defaultProps!==void 0?Ie(Ie({},g.type.defaultProps),g.props):g.props,w=b.type,_=b.dataKey,S=b.allowDataOverflow,j=b.allowDuplicatedCategory,N=b.scale,k=b.ticks,E=b.includeHidden,C=b[o];if(v[C])return v;var O=dj(r.data,{graphicalItems:s.filter(function(A){var X,U=o in A.props?A.props[o]:(X=A.type.defaultProps)===null||X===void 0?void 0:X[o];return U===C}),dataStartIndex:u,dataEndIndex:d}),D=O.length,T,z,q;lGe(b.domain,S,w)&&(T=CC(b.domain,null,S),p&&(w==="number"||N!=="auto")&&(q=Eg(O,_,"category")));var F=WJ(w);if(!T||T.length===0){var I,V=(I=b.domain)!==null&&I!==void 0?I:F;if(_){if(T=Eg(O,_,w),w==="category"&&p){var L=WAe(T);j&&L?(z=T,T=zb(0,D)):j||(T=N$(V,T,g).reduce(function(A,X){return A.indexOf(X)>=0?A:[].concat(bp(A),[X])},[]))}else if(w==="category")j?T=T.filter(function(A){return A!==""&&!$t(A)}):T=N$(V,T,g).reduce(function(A,X){return A.indexOf(X)>=0||X===""||$t(X)?A:[].concat(bp(A),[X])},[]);else if(w==="number"){var M=iUe(O,s.filter(function(A){var X,U,H=o in A.props?A.props[o]:(X=A.type.defaultProps)===null||X===void 0?void 0:X[o],ae="hide"in A.props?A.props.hide:(U=A.type.defaultProps)===null||U===void 0?void 0:U.hide;return H===C&&(E||!ae)}),_,i,f);M&&(T=M)}p&&(w==="number"||N!=="auto")&&(q=Eg(O,_,"category"))}else p?T=zb(0,D):c&&c[C]&&c[C].hasStack&&w==="number"?T=m==="expand"?[0,1]:TX(c[C].stackGroups,u,d):T=SX(O,s.filter(function(A){var X=o in A.props?A.props[o]:A.type.defaultProps[o],U="hide"in A.props?A.props.hide:A.type.defaultProps.hide;return X===C&&(E||!U)}),w,f,!0);if(w==="number")T=dT(h,T,C,i,k),V&&(T=CC(V,T,S));else if(w==="category"&&V){var Y=V,Z=T.every(function(A){return Y.indexOf(A)>=0});Z&&(T=Y)}}return Ie(Ie({},v),{},Et({},C,Ie(Ie({},b),{},{axisType:i,domain:T,categoricalDomain:q,duplicateDomain:z,originalDomain:(x=b.domain)!==null&&x!==void 0?x:F,isCategorical:p,layout:f})))},{})},FGe=function(r,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,c=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,f=r.layout,h=r.children,m=dj(r.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:d}),p=m.length,v=jX(f,i),g=-1;return a.reduce(function(x,b){var w=b.type.defaultProps!==void 0?Ie(Ie({},b.type.defaultProps),b.props):b.props,_=w[o],S=WJ("number");if(!x[_]){g++;var j;return v?j=zb(0,p):c&&c[_]&&c[_].hasStack?(j=TX(c[_].stackGroups,u,d),j=dT(h,j,_,i)):(j=CC(S,SX(m,a.filter(function(N){var k,E,C=o in N.props?N.props[o]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[o],O="hide"in N.props?N.props.hide:(E=N.type.defaultProps)===null||E===void 0?void 0:E.hide;return C===_&&!O}),"number",f),s.defaultProps.allowDataOverflow),j=dT(h,j,_,i)),Ie(Ie({},x),{},Et({},_,Ie(Ie({axisType:i},s.defaultProps),{},{hide:!0,orientation:di(PGe,"".concat(i,".").concat(g%2),null),domain:j,originalDomain:S,isCategorical:v,layout:f})))}return x},{})},LGe=function(r,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,o=n.graphicalItems,c=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,f=r.children,h="".concat(s,"Id"),m=fi(f,i),p={};return m&&m.length?p=MGe(r,{axes:m,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:c,dataStartIndex:u,dataEndIndex:d}):o&&o.length&&(p=FGe(r,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:c,dataStartIndex:u,dataEndIndex:d})),p},$Ge=function(r){var n=ru(r),a=ac(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:t4(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ab(n,a)}},s8=function(r){var n=r.children,a=r.defaultShowTooltip,s=Js(n,dp),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},BGe=function(r){return!r||!r.length?!1:r.some(function(n){var a=lc(n&&n.type);return a&&a.indexOf("Bar")>=0})},i8=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},UGe=function(r,n){var a=r.props,s=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,c=r.yAxisMap,u=c===void 0?{}:c,d=a.width,f=a.height,h=a.children,m=a.margin||{},p=Js(h,dp),v=Js(h,Pu),g=Object.keys(u).reduce(function(j,N){var k=u[N],E=k.orientation;return!k.mirror&&!k.hide?Ie(Ie({},j),{},Et({},E,j[E]+k.width)):j},{left:m.left||0,right:m.right||0}),x=Object.keys(o).reduce(function(j,N){var k=o[N],E=k.orientation;return!k.mirror&&!k.hide?Ie(Ie({},j),{},Et({},E,di(j,"".concat(E))+k.height)):j},{top:m.top||0,bottom:m.bottom||0}),b=Ie(Ie({},x),g),w=b.bottom;p&&(b.bottom+=p.props.height||dp.defaultProps.height),v&&n&&(b=aUe(b,s,a,n));var _=d-b.left-b.right,S=f-b.top-b.bottom;return Ie(Ie({brushBottom:w},b),{},{width:Math.max(_,0),height:Math.max(S,0)})},VGe=function(r,n){if(n==="xAxis")return r[n].width;if(n==="yAxis")return r[n].height},HJ=function(r){var n=r.chartName,a=r.GraphicalChild,s=r.defaultTooltipEventType,i=s===void 0?"axis":s,o=r.validateTooltipEventTypes,c=o===void 0?["axis"]:o,u=r.axisComponents,d=r.legendContent,f=r.formatAxisMap,h=r.defaultProps,m=function(b,w){var _=w.graphicalItems,S=w.stackGroups,j=w.offset,N=w.updateId,k=w.dataStartIndex,E=w.dataEndIndex,C=b.barSize,O=b.layout,D=b.barGap,T=b.barCategoryGap,z=b.maxBarSize,q=i8(O),F=q.numericAxisName,I=q.cateAxisName,V=BGe(_),L=[];return _.forEach(function(M,Y){var Z=dj(b.data,{graphicalItems:[M],dataStartIndex:k,dataEndIndex:E}),A=M.type.defaultProps!==void 0?Ie(Ie({},M.type.defaultProps),M.props):M.props,X=A.dataKey,U=A.maxBarSize,H=A["".concat(F,"Id")],ae=A["".concat(I,"Id")],oe={},we=u.reduce(function(me,te){var _e=w["".concat(te.axisType,"Map")],Ce=A["".concat(te.axisType,"Id")];_e&&_e[Ce]||te.axisType==="zAxis"||Of();var ye=_e[Ce];return Ie(Ie({},me),{},Et(Et({},te.axisType,ye),"".concat(te.axisType,"Ticks"),ac(ye)))},oe),se=we[I],Q=we["".concat(I,"Ticks")],he=S&&S[H]&&S[H].hasStack&&pUe(M,S[H].stackGroups),P=lc(M.type).indexOf("Bar")>=0,Le=Ab(se,Q),$e=[],Me=V&&rUe({barSize:C,stackGroups:S,totalSize:VGe(we,I)});if(P){var He,De,wt=$t(U)?z:U,dt=(He=(De=Ab(se,Q,!0))!==null&&De!==void 0?De:wt)!==null&&He!==void 0?He:0;$e=nUe({barGap:D,barCategoryGap:T,bandSize:dt!==Le?dt:Le,sizeList:Me[ae],maxBarSize:wt}),dt!==Le&&($e=$e.map(function(me){return Ie(Ie({},me),{},{position:Ie(Ie({},me.position),{},{offset:me.position.offset-dt/2})})}))}var ie=M&&M.type&&M.type.getComposedData;ie&&L.push({props:Ie(Ie({},ie(Ie(Ie({},we),{},{displayedData:Z,props:b,dataKey:X,item:M,bandSize:Le,barPosition:$e,offset:j,stackedData:he,layout:O,dataStartIndex:k,dataEndIndex:E}))),{},Et(Et(Et({key:M.key||"item-".concat(Y)},F,we[F]),I,we[I]),"animationId",N)),childIndex:nOe(M,b.children),item:M})}),L},p=function(b,w){var _=b.props,S=b.dataStartIndex,j=b.dataEndIndex,N=b.updateId;if(!y3({props:_}))return null;var k=_.children,E=_.layout,C=_.stackOffset,O=_.data,D=_.reverseStackOrder,T=i8(E),z=T.numericAxisName,q=T.cateAxisName,F=fi(k,a),I=hUe(O,F,"".concat(z,"Id"),"".concat(q,"Id"),C,D),V=u.reduce(function(A,X){var U="".concat(X.axisType,"Map");return Ie(Ie({},A),{},Et({},U,LGe(_,Ie(Ie({},X),{},{graphicalItems:F,stackGroups:X.axisType===z&&I,dataStartIndex:S,dataEndIndex:j}))))},{}),L=UGe(Ie(Ie({},V),{},{props:_,graphicalItems:F}),w==null?void 0:w.legendBBox);Object.keys(V).forEach(function(A){V[A]=f(_,V[A],L,A.replace("Map",""),n)});var M=V["".concat(q,"Map")],Y=$Ge(M),Z=m(_,Ie(Ie({},V),{},{dataStartIndex:S,dataEndIndex:j,updateId:N,graphicalItems:F,stackGroups:I,offset:L}));return Ie(Ie({formattedGraphicalItems:Z,graphicalItems:F,offset:L,stackGroups:I},Y),V)},v=function(x){function b(w){var _,S,j;return bGe(this,b),j=jGe(this,b,[w]),Et(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(j,"accessibilityManager",new oGe),Et(j,"handleLegendBBoxUpdate",function(N){if(N){var k=j.state,E=k.dataStartIndex,C=k.dataEndIndex,O=k.updateId;j.setState(Ie({legendBBox:N},p({props:j.props,dataStartIndex:E,dataEndIndex:C,updateId:O},Ie(Ie({},j.state),{},{legendBBox:N}))))}}),Et(j,"handleReceiveSyncEvent",function(N,k,E){if(j.props.syncId===N){if(E===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(k)}}),Et(j,"handleBrushChange",function(N){var k=N.startIndex,E=N.endIndex;if(k!==j.state.dataStartIndex||E!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return Ie({dataStartIndex:k,dataEndIndex:E},p({props:j.props,dataStartIndex:k,dataEndIndex:E,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),Et(j,"handleMouseEnter",function(N){var k=j.getMouseInfo(N);if(k){var E=Ie(Ie({},k),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var C=j.props.onMouseEnter;Pt(C)&&C(E,N)}}),Et(j,"triggeredAfterMouseMove",function(N){var k=j.getMouseInfo(N),E=k?Ie(Ie({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var C=j.props.onMouseMove;Pt(C)&&C(E,N)}),Et(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Et(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Et(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),Et(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var E=j.props.onMouseLeave;Pt(E)&&E(k,N)}),Et(j,"handleOuterEvent",function(N){var k=rOe(N),E=di(j.props,"".concat(k));if(k&&Pt(E)){var C,O;/.*touch.*/i.test(k)?O=j.getMouseInfo(N.changedTouches[0]):O=j.getMouseInfo(N),E((C=O)!==null&&C!==void 0?C:{},N)}}),Et(j,"handleClick",function(N){var k=j.getMouseInfo(N);if(k){var E=Ie(Ie({},k),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var C=j.props.onClick;Pt(C)&&C(E,N)}}),Et(j,"handleMouseDown",function(N){var k=j.props.onMouseDown;if(Pt(k)){var E=j.getMouseInfo(N);k(E,N)}}),Et(j,"handleMouseUp",function(N){var k=j.props.onMouseUp;if(Pt(k)){var E=j.getMouseInfo(N);k(E,N)}}),Et(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Et(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),Et(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),Et(j,"handleDoubleClick",function(N){var k=j.props.onDoubleClick;if(Pt(k)){var E=j.getMouseInfo(N);k(E,N)}}),Et(j,"handleContextMenu",function(N){var k=j.props.onContextMenu;if(Pt(k)){var E=j.getMouseInfo(N);k(E,N)}}),Et(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&jN.emit(kN,j.props.syncId,N,j.eventEmitterSymbol)}),Et(j,"applySyncEvent",function(N){var k=j.props,E=k.layout,C=k.syncMethod,O=j.state.updateId,D=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(Ie({dataStartIndex:D,dataEndIndex:T},p({props:j.props,dataStartIndex:D,dataEndIndex:T,updateId:O},j.state)));else if(N.activeTooltipIndex!==void 0){var z=N.chartX,q=N.chartY,F=N.activeTooltipIndex,I=j.state,V=I.offset,L=I.tooltipTicks;if(!V)return;if(typeof C=="function")F=C(L,N);else if(C==="value"){F=-1;for(var M=0;M<L.length;M++)if(L[M].value===N.activeLabel){F=M;break}}var Y=Ie(Ie({},V),{},{x:V.left,y:V.top}),Z=Math.min(z,Y.x+Y.width),A=Math.min(q,Y.y+Y.height),X=L[F]&&L[F].value,U=mT(j.state,j.props.data,F),H=L[F]?{x:E==="horizontal"?L[F].coordinate:Z,y:E==="horizontal"?A:L[F].coordinate}:zJ;j.setState(Ie(Ie({},N),{},{activeLabel:X,activeCoordinate:H,activePayload:U,activeTooltipIndex:F}))}else j.setState(N)}),Et(j,"renderCursor",function(N){var k,E=j.state,C=E.isTooltipActive,O=E.activeCoordinate,D=E.activePayload,T=E.offset,z=E.activeTooltipIndex,q=E.tooltipAxisBandSize,F=j.getTooltipEventType(),I=(k=N.props.active)!==null&&k!==void 0?k:C,V=j.props.layout,L=N.key||"_recharts-cursor";return ne.createElement(mGe,{key:L,activeCoordinate:O,activePayload:D,activeTooltipIndex:z,chartName:n,element:N,isActive:I,layout:V,offset:T,tooltipAxisBandSize:q,tooltipEventType:F})}),Et(j,"renderPolarAxis",function(N,k,E){var C=di(N,"type.axisType"),O=di(j.state,"".concat(C,"Map")),D=N.type.defaultProps,T=D!==void 0?Ie(Ie({},D),N.props):N.props,z=O&&O[T["".concat(C,"Id")]];return y.cloneElement(N,Ie(Ie({},z),{},{className:Bt(C,z.className),key:N.key||"".concat(k,"-").concat(E),ticks:ac(z,!0)}))}),Et(j,"renderPolarGrid",function(N){var k=N.props,E=k.radialLines,C=k.polarAngles,O=k.polarRadius,D=j.state,T=D.radiusAxisMap,z=D.angleAxisMap,q=ru(T),F=ru(z),I=F.cx,V=F.cy,L=F.innerRadius,M=F.outerRadius;return y.cloneElement(N,{polarAngles:Array.isArray(C)?C:ac(F,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(O)?O:ac(q,!0).map(function(Y){return Y.coordinate}),cx:I,cy:V,innerRadius:L,outerRadius:M,key:N.key||"polar-grid",radialLines:E})}),Et(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,k=j.props,E=k.children,C=k.width,O=k.height,D=j.props.margin||{},T=C-(D.left||0)-(D.right||0),z=bX({children:E,formattedGraphicalItems:N,legendWidth:T,legendContent:d});if(!z)return null;var q=z.item,F=r8(z,pGe);return y.cloneElement(q,Ie(Ie({},F),{},{chartWidth:C,chartHeight:O,margin:D,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Et(j,"renderTooltip",function(){var N,k=j.props,E=k.children,C=k.accessibilityLayer,O=Js(E,Ai);if(!O)return null;var D=j.state,T=D.isTooltipActive,z=D.activeCoordinate,q=D.activePayload,F=D.activeLabel,I=D.offset,V=(N=O.props.active)!==null&&N!==void 0?N:T;return y.cloneElement(O,{viewBox:Ie(Ie({},I),{},{x:I.left,y:I.top}),active:V,label:F,payload:V?q:[],coordinate:z,accessibilityLayer:C})}),Et(j,"renderBrush",function(N){var k=j.props,E=k.margin,C=k.data,O=j.state,D=O.offset,T=O.dataStartIndex,z=O.dataEndIndex,q=O.updateId;return y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:dw(j.handleBrushChange,N.props.onChange),data:C,x:Qe(N.props.x)?N.props.x:D.left,y:Qe(N.props.y)?N.props.y:D.top+D.height+D.brushBottom-(E.bottom||0),width:Qe(N.props.width)?N.props.width:D.width,startIndex:T,endIndex:z,updateId:"brush-".concat(q)})}),Et(j,"renderReferenceElement",function(N,k,E){if(!N)return null;var C=j,O=C.clipPathId,D=j.state,T=D.xAxisMap,z=D.yAxisMap,q=D.offset,F=N.type.defaultProps||{},I=N.props,V=I.xAxisId,L=V===void 0?F.xAxisId:V,M=I.yAxisId,Y=M===void 0?F.yAxisId:M;return y.cloneElement(N,{key:N.key||"".concat(k,"-").concat(E),xAxis:T[L],yAxis:z[Y],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:O})}),Et(j,"renderActivePoints",function(N){var k=N.item,E=N.activePoint,C=N.basePoint,O=N.childIndex,D=N.isRange,T=[],z=k.props.key,q=k.item.type.defaultProps!==void 0?Ie(Ie({},k.item.type.defaultProps),k.item.props):k.item.props,F=q.activeDot,I=q.dataKey,V=Ie(Ie({index:O,dataKey:I,cx:E.x,cy:E.y,r:4,fill:C4(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Nt(F,!1)),nb(F));return T.push(b.renderActiveDot(F,V,"".concat(z,"-activePoint-").concat(O))),C?T.push(b.renderActiveDot(F,Ie(Ie({},V),{},{cx:C.x,cy:C.y}),"".concat(z,"-basePoint-").concat(O))):D&&T.push(null),T}),Et(j,"renderGraphicChild",function(N,k,E){var C=j.filterFormatItem(N,k,E);if(!C)return null;var O=j.getTooltipEventType(),D=j.state,T=D.isTooltipActive,z=D.tooltipAxis,q=D.activeTooltipIndex,F=D.activeLabel,I=j.props.children,V=Js(I,Ai),L=C.props,M=L.points,Y=L.isRange,Z=L.baseLine,A=C.item.type.defaultProps!==void 0?Ie(Ie({},C.item.type.defaultProps),C.item.props):C.item.props,X=A.activeDot,U=A.hide,H=A.activeBar,ae=A.activeShape,oe=!!(!U&&T&&V&&(X||H||ae)),we={};O!=="axis"&&V&&V.props.trigger==="click"?we={onClick:dw(j.handleItemMouseEnter,N.props.onClick)}:O!=="axis"&&(we={onMouseLeave:dw(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:dw(j.handleItemMouseEnter,N.props.onMouseEnter)});var se=y.cloneElement(N,Ie(Ie({},C.props),we));function Q(te){return typeof z.dataKey=="function"?z.dataKey(te.payload):null}if(oe)if(q>=0){var he,P;if(z.dataKey&&!z.allowDuplicatedCategory){var Le=typeof z.dataKey=="function"?Q:"payload.".concat(z.dataKey.toString());he=rb(M,Le,F),P=Y&&Z&&rb(Z,Le,F)}else he=M==null?void 0:M[q],P=Y&&Z&&Z[q];if(ae||H){var $e=N.props.activeIndex!==void 0?N.props.activeIndex:q;return[y.cloneElement(N,Ie(Ie(Ie({},C.props),we),{},{activeIndex:$e})),null,null]}if(!$t(he))return[se].concat(bp(j.renderActivePoints({item:C,activePoint:he,basePoint:P,childIndex:q,isRange:Y})))}else{var Me,He=(Me=j.getItemByXY(j.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:se},De=He.graphicalItem,wt=De.item,dt=wt===void 0?N:wt,ie=De.childIndex,me=Ie(Ie(Ie({},C.props),we),{},{activeIndex:ie});return[y.cloneElement(dt,me),null,null]}return Y?[se,null,null]:[se,null]}),Et(j,"renderCustomized",function(N,k,E){return y.cloneElement(N,Ie(Ie({key:"recharts-customized-".concat(E)},j.props),j.state))}),Et(j,"renderMap",{CartesianGrid:{handler:gw,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:gw},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:gw},YAxis:{handler:gw},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:e0("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=wY(j.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return EGe(b,x),SGe(b,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,j=_.data,N=_.height,k=_.layout,E=Js(S,Ai);if(E){var C=E.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,D=mT(this.state,j,C,O),T=this.state.tooltipTicks[C].coordinate,z=(this.state.offset.top+N)/2,q=k==="horizontal",F=q?{x:T,y:z}:{y:T,x:z},I=this.state.formattedGraphicalItems.find(function(L){var M=L.item;return M.type.name==="Scatter"});I&&(F=Ie(Ie({},F),I.props.points[C].tooltipPosition),D=I.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:O,activePayload:D,activeCoordinate:F};this.setState(V),this.renderCursor(E),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(_){zE([Js(_.children,Ai)],[Js(this.props.children,Ai)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Js(this.props.children,Ai);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return c.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),N=T$e(j),k={chartX:Math.round(_.pageX-N.left),chartY:Math.round(_.pageY-N.top)},E=j.width/S.offsetWidth||1,C=this.inRange(k.chartX,k.chartY,E);if(!C)return null;var O=this.state,D=O.xAxisMap,T=O.yAxisMap,z=this.getTooltipEventType(),q=a8(this.state,this.props.data,this.props.layout,C);if(z!=="axis"&&D&&T){var F=ru(D).scale,I=ru(T).scale,V=F&&F.invert?F.invert(k.chartX):null,L=I&&I.invert?I.invert(k.chartY):null;return Ie(Ie({},k),{},{xValue:V,yValue:L},q)}return q?Ie(Ie({},k),q):null}},{key:"inRange",value:function(_,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=_/j,E=S/j;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,O=k>=C.left&&k<=C.left+C.width&&E>=C.top&&E<=C.top+C.height;return O?{x:k,y:E}:null}var D=this.state,T=D.angleAxisMap,z=D.radiusAxisMap;if(T&&z){var q=ru(T);return T$({x:k,y:E},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),j=Js(_,Ai),N={};j&&S==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=nb(this.props,this.handleOuterEvent);return Ie(Ie({},k),N)}},{key:"addListener",value:function(){jN.on(kN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jN.removeListener(kN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,j){for(var N=this.state.formattedGraphicalItems,k=0,E=N.length;k<E;k++){var C=N[k];if(C.item===_||C.props.key===_.key||S===lc(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,j=S.left,N=S.top,k=S.height,E=S.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:_},ne.createElement("rect",{x:j,y:N,height:k,width:E})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,j){var N=t8(j,2),k=N[0],E=N[1];return Ie(Ie({},S),{},Et({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,j){var N=t8(j,2),k=N[0],E=N[1];return Ie(Ie({},S),{},Et({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,j=S.formattedGraphicalItems,N=S.activeItem;if(j&&j.length)for(var k=0,E=j.length;k<E;k++){var C=j[k],O=C.props,D=C.item,T=D.type.defaultProps!==void 0?Ie(Ie({},D.type.defaultProps),D.props):D.props,z=lc(D.type);if(z==="Bar"){var q=(O.data||[]).find(function(L){return dVe(_,L)});if(q)return{graphicalItem:C,payload:q}}else if(z==="RadialBar"){var F=(O.data||[]).find(function(L){return T$(_,L)});if(F)return{graphicalItem:C,payload:F}}else if(aj(C,N)||sj(C,N)||Gv(C,N)){var I=Zze({graphicalItem:C,activeTooltipItem:N,itemData:T.data}),V=T.activeIndex===void 0?I:T.activeIndex;return{graphicalItem:Ie(Ie({},C),{},{childIndex:V}),payload:Gv(C,N)?T.data[I]:C.props.data[I]}}}return null}},{key:"render",value:function(){var _=this;if(!y3(this))return null;var S=this.props,j=S.children,N=S.className,k=S.width,E=S.height,C=S.style,O=S.compact,D=S.title,T=S.desc,z=r8(S,gGe),q=Nt(z,!1);if(O)return ne.createElement(F5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(HE,qh({},q,{width:k,height:E,title:D,desc:T}),this.renderClipPath(),b3(j,this.renderMap)));if(this.props.accessibilityLayer){var F,I;q.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,q.role=(I=this.props.role)!==null&&I!==void 0?I:"application",q.onKeyDown=function(L){_.accessibilityManager.keyboardEvent(L)},q.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return ne.createElement(F5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",qh({className:Bt("recharts-wrapper",N),style:Ie({position:"relative",cursor:"default",width:k,height:E},C)},V,{ref:function(M){_.container=M}}),ne.createElement(HE,qh({},q,{width:k,height:E,title:D,desc:T,style:DGe}),this.renderClipPath(),b3(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Et(v,"displayName",n),Et(v,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Et(v,"getDerivedStateFromProps",function(x,b){var w=x.dataKey,_=x.data,S=x.children,j=x.width,N=x.height,k=x.layout,E=x.stackOffset,C=x.margin,O=b.dataStartIndex,D=b.dataEndIndex;if(b.updateId===void 0){var T=s8(x);return Ie(Ie(Ie({},T),{},{updateId:0},p(Ie(Ie({props:x},T),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:_,prevWidth:j,prevHeight:N,prevLayout:k,prevStackOffset:E,prevMargin:C,prevChildren:S})}if(w!==b.prevDataKey||_!==b.prevData||j!==b.prevWidth||N!==b.prevHeight||k!==b.prevLayout||E!==b.prevStackOffset||!dm(C,b.prevMargin)){var z=s8(x),q={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=Ie(Ie({},a8(b,_,k)),{},{updateId:b.updateId+1}),I=Ie(Ie(Ie({},z),q),F);return Ie(Ie(Ie({},I),p(Ie({props:x},I),b)),{},{prevDataKey:w,prevData:_,prevWidth:j,prevHeight:N,prevLayout:k,prevStackOffset:E,prevMargin:C,prevChildren:S})}if(!zE(S,b.prevChildren)){var V,L,M,Y,Z=Js(S,dp),A=Z&&(V=(L=Z.props)===null||L===void 0?void 0:L.startIndex)!==null&&V!==void 0?V:O,X=Z&&(M=(Y=Z.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&M!==void 0?M:D,U=A!==O||X!==D,H=!$t(_),ae=H&&!U?b.updateId:b.updateId+1;return Ie(Ie({updateId:ae},p(Ie(Ie({props:x},b),{},{updateId:ae,dataStartIndex:A,dataEndIndex:X}),b)),{},{prevChildren:S,dataStartIndex:A,dataEndIndex:X})}return null}),Et(v,"renderActiveDot",function(x,b,w){var _;return y.isValidElement(x)?_=y.cloneElement(x,b):Pt(x)?_=x(b):_=ne.createElement(ZS,b),ne.createElement(dr,{className:"recharts-active-dot",key:w},_)});var g=y.forwardRef(function(b,w){return ne.createElement(v,qh({},b,{ref:w}))});return g.displayName=v.displayName,g},qJ=HJ({chartName:"LineChart",GraphicalChild:l0,axisComponents:[{axisType:"xAxis",AxisComp:ry},{axisType:"yAxis",AxisComp:ny}],formatAxisMap:OHe}),Cd=HJ({chartName:"PieChart",GraphicalChild:ns,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:nj},{axisType:"radiusAxis",AxisComp:tj}],formatAxisMap:kUe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const zGe={light:"",dark:".dark"},KJ=y.createContext(null);function GJ(){const e=y.useContext(KJ);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const nu=y.forwardRef(({id:e,className:r,children:n,config:a,...s},i)=>{const o=y.useId(),c=`chart-${e||o.replace(/:/g,"")}`;return l.jsx(KJ.Provider,{value:{config:a},children:l.jsxs("div",{"data-chart":c,ref:i,className:ve("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",r),...s,children:[l.jsx(WGe,{id:c,config:a}),l.jsx(n4,{children:n})]})})});nu.displayName="Chart";const WGe=({id:e,config:r})=>{const n=Object.entries(r).filter(([a,s])=>s.theme||s.color);return n.length?l.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(zGe).map(([a,s])=>`
${s} [data-chart=${e}] {
${n.map(([i,o])=>{var u;const c=((u=o.theme)==null?void 0:u[a])||o.color;return c?`  --color-${i}: ${c};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Td=Ai,au=y.forwardRef(({active:e,payload:r,className:n,indicator:a="dot",hideLabel:s=!1,hideIndicator:i=!1,label:o,labelFormatter:c,labelClassName:u,formatter:d,color:f,nameKey:h,labelKey:m},p)=>{const{config:v}=GJ(),g=y.useMemo(()=>{var j;if(s||!(r!=null&&r.length))return null;const[b]=r,w=`${m||b.dataKey||b.name||"value"}`,_=pT(v,b,w),S=!m&&typeof o=="string"?((j=v[o])==null?void 0:j.label)||o:_==null?void 0:_.label;return c?l.jsx("div",{className:ve("font-medium",u),children:c(S,r)}):S?l.jsx("div",{className:ve("font-medium",u),children:S}):null},[o,c,r,s,u,v,m]);if(!e||!(r!=null&&r.length))return null;const x=r.length===1&&a!=="dot";return l.jsxs("div",{ref:p,className:ve("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[x?null:g,l.jsx("div",{className:"grid gap-1.5",children:r.map((b,w)=>{const _=`${h||b.name||b.dataKey||"value"}`,S=pT(v,b,_),j=f||b.payload.fill||b.color;return l.jsx("div",{className:ve("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",a==="dot"&&"items-center"),children:d&&(b==null?void 0:b.value)!==void 0&&b.name?d(b.value,b.name,b,w,b.payload):l.jsxs(l.Fragment,{children:[S!=null&&S.icon?l.jsx(S.icon,{}):!i&&l.jsx("div",{className:ve("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":x&&a==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),l.jsxs("div",{className:ve("flex flex-1 justify-between leading-none",x?"items-end":"items-center"),children:[l.jsxs("div",{className:"grid gap-1.5",children:[x?g:null,l.jsx("span",{className:"text-muted-foreground",children:(S==null?void 0:S.label)||b.name})]}),b.value&&l.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});au.displayName="ChartTooltip";const HGe=y.forwardRef(({className:e,hideIcon:r=!1,payload:n,verticalAlign:a="bottom",nameKey:s},i)=>{const{config:o}=GJ();return n!=null&&n.length?l.jsx("div",{ref:i,className:ve("flex items-center justify-center gap-4",a==="top"?"pb-3":"pt-3",e),children:n.map(c=>{const u=`${s||c.dataKey||"value"}`,d=pT(o,c,u);return l.jsxs("div",{className:ve("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!r?l.jsx(d.icon,{}):l.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:c.color}}),d==null?void 0:d.label]},c.value)})}):null});HGe.displayName="ChartLegend";function pT(e,r,n){if(typeof r!="object"||r===null)return;const a="payload"in r&&typeof r.payload=="object"&&r.payload!==null?r.payload:void 0;let s=n;return n in r&&typeof r[n]=="string"?s=r[n]:a&&n in a&&typeof a[n]=="string"&&(s=a[n]),s in e?e[s]:e[n]}function qGe(){var dD,fD,hD,mD,pD,gD,vD;const{t:e}=qt(),{user:r}=vr(),{currentLanguage:n}=Va(),{toast:a}=Ol(),s=yn(),{setBreadcrumbs:i}=hx();Vs();const[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState([]),[v,g]=y.useState([]),[x,b]=y.useState([]),[w,_]=y.useState([]),[S,j]=y.useState([]),[N,k]=y.useState([]),[E,C]=y.useState([]),[O,D]=y.useState([]),[T,z]=y.useState([]),[q,F]=y.useState(!0),[I,V]=y.useState(null),[L,M]=y.useState(""),[Y,Z]=y.useState(""),[A,X]=y.useState(!1),[U,H]=y.useState(1),[ae]=y.useState(10),[oe,we]=y.useState(0),[se,Q]=y.useState(0),[he,P]=y.useState(""),[Le,$e]=y.useState(""),[Me,He]=y.useState(""),[De,wt]=y.useState(""),[dt,ie]=y.useState(""),[me,te]=y.useState(""),[_e,Ce]=y.useState(null),[ye,le]=y.useState(null),[fe,xe]=y.useState(!1),[pe,Te]=y.useState(!1),[Fe,Ue]=y.useState({city_name_en:"",city_name_ar:"",country_id:null}),[Ve,ot]=y.useState(!1),[Kt,Qt]=y.useState({system_name_en:"",system_name_ar:""}),[Nr,Br]=y.useState(!1),[wn,yi]=y.useState({activity_name_en:"",activity_name_ar:""}),[pa,Gn]=y.useState(!1),[ce,ke]=y.useState({status_name_en:"",status_name_ar:""}),[Be,Re]=y.useState([]),[Ye,tt]=y.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Ht,Tr]=y.useState(!1),[qs,vs]=y.useState(null),[ar,Ll]=y.useState(null),[od,W]=y.useState(!1),[re,J]=y.useState([]),[ee,R]=y.useState(!1),[K,de]=y.useState("list"),[Ne,Se]=y.useState(null),[je,Ee]=y.useState(!1),[ze,Ze]=y.useState(!1),[st,Xe]=y.useState(!1),[at,Dt]=y.useState(!1),[Ar,Or]=y.useState(!1),[Rn,Dc]=y.useState(!1),[Rc,Ic]=y.useState(!1),[Uo,Xf]=y.useState(!1),[wi,G4]=y.useState(!1),[sy,Y4]=y.useState(null),[X4,hQ]=y.useState(null),[J4,pj]=y.useState(!1),[Q4,gj]=y.useState(!1),[Z4,vj]=y.useState(!1),[eD,xj]=y.useState(!1),[tD,yj]=y.useState(!1),[rD,wj]=y.useState(!1),[sr,Ha]=y.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});y.useEffect(()=>{i([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[i,e]),y.useEffect(()=>{aD()},[]),y.useEffect(()=>{const B=setTimeout(()=>{Z(L)},500);return()=>clearTimeout(B)},[L]);const nD=y.useMemo(()=>!!(he||Le||Me||De||dt||me),[he,Le,Me,De,dt,me]),Mc=y.useMemo(()=>nD||!!Y,[nD,Y]);y.useEffect(()=>{c0(Y!=="")},[U,Y,he,Le,Me,De,dt,me,n]),y.useEffect(()=>{ee&&mQ()},[ee,Y,he,Le,Me,De,dt,me,n]);const aD=async()=>{try{F(!0),V(null);const[B,be,qe,yt,Pr,qa,Ji,$l,bn]=await Promise.all([G.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:200,select_fields:"city_id,city_name_en,city_name_ar"}),G.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:200,select_fields:"activity_id,activity_name_en,activity_name_ar"}),G.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:200,select_fields:"status_id,status_name_en,status_name_ar"}),G.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:200,select_fields:"system_id,system_name_en,system_name_ar"}),G.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:200,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),G.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:200}),G.Users.list({sort_by:"name",sort_order:"asc",pageSize:200,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),G.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:200,select_fields:"country_id,country_name_en,country_name_ar"}),G.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:200,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),va=cd=>Array.isArray(cd)?cd:cd!=null&&cd.data&&Array.isArray(cd.data)?cd.data:[];h(va(B)),p(va(be)),g(va(qe)),b(va(yt)),_(va(Pr)),j(va(qa)),C(va(Ji)),D(va($l)),z(va(bn))}catch(B){const be=B instanceof Error?B.message:"Failed to load data";V(be),a({title:"Error",description:be,variant:"destructive"})}finally{F(!1)}},c0=async(B=!1)=>{try{B?X(!0):F(!0),V(null);const be={};he&&(be.city_id=parseInt(he)),Me&&(be.system_id=parseInt(Me)),De&&(be.status_id=parseInt(De)),dt&&(be.activity_id=parseInt(dt)),me&&(be.assigned_to=parseInt(me)),Le&&(be.m_city_country_id=parseInt(Le));const $l=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation","decision_maker",n==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",n==="ar"?"m_city_city_name_ar":"m_city_city_name_en",n==="ar"?"m_system_system_name_ar":"m_system_system_name_en",n==="ar"?"m_status_status_name_ar":"m_status_status_name_en",n==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),bn={page:Mc?0:U-1,pageSize:Mc?1e3:ae,sort_by:"created_at",sort_order:"desc",exact_filters:be,select_fields:$l};Y&&(bn.search_fields="company_name",bn.search=Y);const va=await G.mLeads.list(bn);c(va.data||[]),Q(va.total||0)}catch(be){const qe=be instanceof Error?be.message:"Failed to load data";V(qe),a({title:"Error",description:qe,variant:"destructive"})}finally{F(!1),X(!1)}},mQ=async()=>{try{const B={};he&&(B.city_id=parseInt(he)),Me&&(B.system_id=parseInt(Me)),De&&(B.status_id=parseInt(De)),dt&&(B.activity_id=parseInt(dt)),me&&(B.assigned_to=parseInt(me)),Le&&(B.m_city_country_id=parseInt(Le));const Ji=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",n==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",n==="ar"?"m_city_city_name_ar":"m_city_city_name_en",n==="ar"?"m_system_system_name_ar":"m_system_system_name_en",n==="ar"?"m_status_status_name_ar":"m_status_status_name_en",n==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),$l={pageSize:1e3,exact_filters:B,select_fields:Ji};Y&&($l.search=Y);const bn=await G.mLeads.list($l);d(bn.data||[])}catch(B){console.error("Failed to load all filtered leads:",B)}},sD=y.useMemo(()=>{if(!Mc)return o;const B=bn=>bn?parseInt(bn,10):void 0,be=B(De),qe=B(dt),yt=B(Me),Pr=B(he),qa=B(Le),Ji=B(me),$l=Y.trim().toLowerCase();return o.filter(bn=>{if(be!==void 0&&bn.status_id!==be||qe!==void 0&&bn.activity_id!==qe||yt!==void 0&&bn.system_id!==yt||Pr!==void 0&&bn.city_id!==Pr)return!1;if(qa!==void 0){const va=bn.m_city_country_id??null;if(va===null||va!==qa)return!1}return!(Ji!==void 0&&(bn.assigned_to===null||bn.assigned_to===void 0||bn.assigned_to!==Ji)||$l&&!(bn.company_name||"").toLowerCase().includes($l))})},[Mc,o,De,dt,Me,he,Le,me,Y]),ga=y.useMemo(()=>ee?u:sD,[ee,u,sD]),pQ=y.useMemo(()=>{if(ee){const B=(U-1)*ae,be=B+ae;return ga.slice(B,be)}if(Mc){const B=(U-1)*ae,be=B+ae;return ga.slice(B,be)}return o},[ee,Mc,ga,o,U,ae]),ld=y.useMemo(()=>Math.max(1,Math.ceil(oe/ae)),[oe,ae]);y.useEffect(()=>{we(Mc?ga.length:se)},[ga,Mc,se]),y.useEffect(()=>{U>ld&&H(ld)},[U,ld]);const hr=(B,be,qe)=>{if(!B)return"-";let yt=n==="ar"&&(B==null?void 0:B[qe])||(B==null?void 0:B[be]);if(!yt){const Pr=be.replace(/_en$/,""),qa=qe.replace(/_ar$/,"");yt=n==="ar"&&(B==null?void 0:B[qa])||(B==null?void 0:B[Pr])}return yt||(B==null?void 0:B.name)||(B==null?void 0:B.label)||(B==null?void 0:B.title)||"-"},bj=B=>B&&(n==="ar"?B.m_city_city_name_ar||B.m_city_city_name_en:B.m_city_city_name_en||B.m_city_city_name_ar)||"-",_j=B=>B&&(n==="ar"?B.m_activity_activity_name_ar||B.m_activity_activity_name_en:B.m_activity_activity_name_en||B.m_activity_activity_name_ar)||"-",Sj=B=>B&&(n==="ar"?B.m_status_status_name_ar||B.m_status_status_name_en:B.m_status_status_name_en||B.m_status_status_name_ar)||"-",jj=B=>B&&(n==="ar"?B.m_system_system_name_ar||B.m_system_system_name_en:B.m_system_system_name_en||B.m_system_system_name_ar)||"-",iD=B=>B&&(n==="ar"?B.stages_stage_name_ar||B.stages_stage_name:B.stages_stage_name||B.stages_stage_name_ar)||"-",iy=B=>{if(!B)return"-";const be=E.find(qe=>{var yt,Pr;return((yt=qe.userid)==null?void 0:yt.toString())===B||((Pr=qe.user_id)==null?void 0:Pr.toString())===B});return(be==null?void 0:be.name)||(be==null?void 0:be.user_name)||(be==null?void 0:be.display_name)||"-"},gQ=B=>{if(B==null||B==="")return"";const be=Number(B),qe=f.find(yt=>Number(yt.city_id)===be);return hr(qe,"city_name_en","city_name_ar")},vQ=B=>{if(B==null||B==="")return"";const be=Number(B),qe=m.find(yt=>Number(yt.activity_id)===be);return hr(qe,"activity_name_en","activity_name_ar")},xQ=B=>{if(B==null||B==="")return"";const be=Number(B),qe=v.find(yt=>Number(yt.status_id)===be);return hr(qe,"status_name_en","status_name_ar")},yQ=B=>{if(B==null||B==="")return"";const be=Number(B),qe=x.find(yt=>Number(yt.system_id)===be);return hr(qe,"system_name_en","system_name_ar")},wQ=B=>{if(!B)return"";const be=w.find(qe=>Number(qe.stage_id)===Number(B));return hr(be,"stage_name","stage_name_ar")},kj=B=>{const qe={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[B]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${qe.bg} ${qe.text} ${qe.border}`},bQ=async(B,be)=>{const qe=B.name.split(".").pop(),Pr=`leads-quotation/${`${be}/${Math.random().toString(36).substring(2)}.${qe}`}`,{error:qa}=await Jt.storage.from("leads-quotation").upload(Pr,B);if(qa)throw qa;const{data:{publicUrl:Ji}}=Jt.storage.from("leads-quotation").getPublicUrl(Pr);return{file_key:Pr,public_url:Ji,name:B.name,size:B.size,content_type:B.type,uploaded_at:new Date().toISOString(),uploaded_by:r==null?void 0:r.id}},_Q=async()=>{try{let B;if(ye)await G.mLeads.update(ye,sr),B=ye,a({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const be={...sr,created_by:r==null?void 0:r.id},qe=await G.mLeads.create(be);if(qe&&qe.leads_id)B=qe.leads_id;else if(B=qe.id||qe.leads_id,!B)throw new Error("Failed to create lead");a({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(ye){await Nj(ye);const be=N.filter(qe=>qe.leads_id===ye);for(const qe of be)await G.mContacts.delete(qe.contact_id);Be.length>0&&await uD(B)}else Be.length>0&&await uD(B);if(Ne&&sr.status_id===7){Ee(!0);try{const be=await bQ(Ne,B);await G.mLeads.update(B,{lead_quotation:be})}catch(be){console.error("File upload failed:",be),a({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{Ee(!1),Se(null)}}xe(!1),le(null),Ha({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Re([]),await c0()}catch(B){const be=B instanceof Error?B.message:"Failed to save";a({title:"Error",description:be,variant:"destructive"})}},SQ=async B=>{try{await G.mLeads.delete(B),a({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),Ce(null),await c0()}catch(be){const qe=be instanceof Error?be.message:"Failed to delete";a({title:"Error",description:qe,variant:"destructive"})}},oD=B=>{Ll(B),lD(B.leads_id),Nj(B.leads_id),W(!0)},lD=async B=>{try{const be=await sm.getByRelated("mlead",B);J(be)}catch(be){console.error("Failed to load notes:",be),J([])}},Nj=async B=>{try{const be=await G.mContacts.list({exact_filters:{leads_id:B},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});k(be.data||[])}catch(be){console.error("Failed to load contacts:",be),k([])}},cD=async B=>{le(B.leads_id),Ha(B),await Nj(B.leads_id);const be=N.filter(qe=>qe.leads_id===B.leads_id);Re(be.map(qe=>{var yt;return{contact_name:qe.contact_name||"",contact_email:qe.contact_email||"",contact_mobile:((yt=qe.contact_mobile)==null?void 0:yt.toString())||"",jobtitle_id:qe.jobtitle_id}})),xe(!0)},jQ=async B=>{try{await Promise.all(B.map(be=>G.mLeads.delete(be))),a({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await c0()}catch(be){const qe=be instanceof Error?be.message:"Failed to delete";a({title:"Error",description:qe,variant:"destructive"})}},kQ=async()=>{try{if(!Fe.city_name_en&&!Fe.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const B=await G.mCity.create(Fe);B&&(h([...f,B]),Ha({...sr,city_id:B.city_id}),Te(!1),Ue({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(B){const be=B instanceof Error?B.message:"Failed to create city";a({title:"Error",description:be,variant:"destructive"})}},NQ=async()=>{try{if(!Kt.system_name_en&&!Kt.system_name_ar){a({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const B=await G.mSystem.create(Kt);B&&(b([...x,B]),Ha({...sr,system_id:B.system_id}),ot(!1),Qt({system_name_en:"",system_name_ar:""}),a({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(B){const be=B instanceof Error?B.message:"Failed to create system";a({title:"Error",description:be,variant:"destructive"})}},EQ=async()=>{try{if(!wn.activity_name_en&&!wn.activity_name_ar){a({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const B=await G.mActivity.create(wn);B&&(p([...m,B]),Ha({...sr,activity_id:B.activity_id}),Br(!1),yi({activity_name_en:"",activity_name_ar:""}),a({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(B){const be=B instanceof Error?B.message:"Failed to create activity";a({title:"Error",description:be,variant:"destructive"})}},CQ=async()=>{try{if(!ce.status_name_en&&!ce.status_name_ar){a({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const B=await G.mStatus.create(ce);B&&(g([...v,B]),Ha({...sr,status_id:B.status_id}),Gn(!1),ke({status_name_en:"",status_name_ar:""}),a({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(B){const be=B instanceof Error?B.message:"Failed to create status";a({title:"Error",description:be,variant:"destructive"})}},TQ=()=>{if(!Ye.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}Re([...Be,{...Ye}]),tt({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Tr(!1)},AQ=B=>{Re(Be.filter((be,qe)=>qe!==B))},uD=async B=>{try{const be=Be.map(qe=>({...qe,leads_id:B,contact_mobile:qe.contact_mobile?parseInt(qe.contact_mobile):null}));if(be.length>0)for(const qe of be)await G.mContacts.create(qe)}catch(be){const qe=be instanceof Error?be.message:"Failed to save contacts";a({title:"Error",description:qe,variant:"destructive"})}},OQ=B=>{Y4(B)},PQ=B=>{B.preventDefault(),B.dataTransfer.dropEffect="move"},DQ=async B=>{if(!sy)return;const be=o.find(qe=>qe.leads_id===sy);if(be&&be.stage_id!==B)try{await G.mLeads.update(sy,{stage_id:B}),a({title:e("common.success"),description:"Lead stage updated successfully"}),await c0()}catch(qe){console.error("Failed to update lead stage:",qe),a({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}Y4(null)};if(q)return l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})});if(I)return l.jsx(zp,{message:I,onRetry:aD});const RQ=[{label:e("common.delete"),icon:l.jsx(wr,{}),onClick:B=>{window.confirm(`Delete ${B.length} leads?`)&&jQ(B.map(be=>be.leads_id))},variant:"destructive"}],IQ=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:B=>l.jsx(bc,{title:B.company_name||"-",subtitle:B.address||"",icon:l.jsx(Cn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:B=>l.jsx("span",{className:"text-sm text-foreground",children:bj(B)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:B=>l.jsx(ht,{variant:"outline",className:"text-xs truncate",children:_j(B)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:B=>{const be=Sj(B);return l.jsx(ht,{variant:"outline",className:`text-xs truncate ${kj(B.status_id)}`,children:be})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:B=>l.jsx(ht,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:iD(B)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:B=>l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:jj(B)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:B=>l.jsx("div",{className:"truncate",children:l.jsx(qm,{name:B.created_by_name||"-"})})},{key:"decision_maker",header:e("mleads.decisionMaker"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:B=>l.jsx("div",{className:"truncate",children:l.jsx("span",{className:"text-sm",children:B.decision_maker||"-"})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:B=>l.jsx(Uu,{date:B.created_at})}],MQ=[{icon:l.jsx(Vi,{}),label:e("common.edit"),onClick:B=>cD(B)},{icon:l.jsx(wr,{}),label:e("common.delete"),onClick:B=>Ce(B.leads_id),variant:"destructive"}];return l.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:kr()?"rtl":"ltr",children:[l.jsx("div",{className:"flex-shrink-0 pb-3",children:l.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[l.jsxs(ue,{variant:"outline",size:"default",onClick:()=>de(K==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[K==="list"?l.jsx(Mi,{className:"h-4 w-4"}):l.jsx(Cn,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e(K==="list"?"mleads.kanbanView":"mleads.listView")})]}),l.jsxs(ue,{variant:ee?"default":"outline",size:"default",onClick:()=>R(!ee),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[l.jsx(Mi,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e("mleads.showChart")}),l.jsx(O_,{className:`h-4 w-4 transition-transform ${ee?"rotate-180":""}`})]}),l.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:kr()?"rtl":"ltr",children:[l.jsx(zs,{className:`absolute ${kr()?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),l.jsx(We,{placeholder:e("mleads.searchPlaceholder"),value:L,onChange:B=>{M(B.target.value),H(1)},className:`${kr()?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),l.jsxs(ue,{size:"default",onClick:()=>{le(null),Ha({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Re([]),vs(null),Te(!1),ot(!1),Br(!1),Gn(!1),Ue({city_name_en:"",city_name_ar:"",country_id:null}),Qt({system_name_en:"",system_name_ar:""}),yi({activity_name_en:"",activity_name_ar:""}),ke({status_name_en:"",status_name_ar:""}),Se(null),xe(!0)},variant:"outline",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:kr()?"rtl":"ltr",children:[l.jsx(or,{className:`w-4 h-4 ${kr()?"order-2":"order-1"}`}),l.jsx("span",{className:`${kr()?"order-1":"order-2"}`,children:e("common.add")})]})]})})}),l.jsx("div",{className:"flex-shrink-0 pb-4",children:l.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")}),(he||Le||Me||De||dt||me)&&l.jsxs(ue,{variant:"outline",size:"default",onClick:()=>{P(""),$e(""),He(""),wt(""),ie(""),te(""),H(1)},title:e("mleads.clearFilters"),className:"h-8 px-3 hover:bg-destructive/10 hover:border-destructive/30 hover:text-destructive transition-colors",children:[l.jsx(Oo,{className:`h-3 w-3 ${kr()?"ml-2":"mr-2"}`}),e("mleads.clearFilters")]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3",children:[l.jsxs(ba,{open:J4,onOpenChange:pj,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":J4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:De?hr(v.find(B=>B.status_id.toString()===De),"status_name_en","status_name_ar"):e("mleads.allStatuses")}),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchStatus")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsxs(Ea,{children:[l.jsx(qr,{value:e("mleads.allStatuses"),onSelect:()=>{wt(""),H(1),pj(!1)},children:e("mleads.allStatuses")},"all-statuses"),v.map(B=>l.jsx(qr,{value:B.status_id.toString(),onSelect:()=>{wt(B.status_id.toString()),H(1),pj(!1)},children:hr(B,"status_name_en","status_name_ar")},B.status_id))]})]})]})})]}),l.jsxs(ba,{open:Q4,onOpenChange:gj,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Q4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:dt?hr(m.find(B=>B.activity_id.toString()===dt),"activity_name_en","activity_name_ar"):e("mleads.allActivities")}),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchActivity")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsxs(Ea,{children:[l.jsx(qr,{value:e("mleads.allActivities"),onSelect:()=>{ie(""),H(1),gj(!1)},children:e("mleads.allActivities")},"all-activities"),m.map(B=>l.jsx(qr,{value:B.activity_id.toString(),onSelect:()=>{ie(B.activity_id.toString()),H(1),gj(!1)},children:hr(B,"activity_name_en","activity_name_ar")},B.activity_id))]})]})]})})]}),l.jsxs(ba,{open:Z4,onOpenChange:vj,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Z4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:Me?hr(x.find(B=>B.system_id.toString()===Me),"system_name_en","system_name_ar"):e("mleads.allSystems")}),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchSystem")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsxs(Ea,{children:[l.jsx(qr,{value:e("mleads.allSystems"),onSelect:()=>{He(""),H(1),vj(!1)},children:e("mleads.allSystems")},"all-systems"),x.map(B=>l.jsx(qr,{value:B.system_id.toString(),onSelect:()=>{He(B.system_id.toString()),H(1),vj(!1)},children:hr(B,"system_name_en","system_name_ar")},B.system_id))]})]})]})})]}),l.jsxs(ba,{open:eD,onOpenChange:xj,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":eD,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:Le?hr(O.find(B=>B.country_id.toString()===Le),"country_name_en","country_name_ar"):e("mleads.allCountries")}),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchCountry")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsxs(Ea,{children:[l.jsx(qr,{value:e("mleads.allCountries"),onSelect:()=>{$e(""),H(1),xj(!1)},children:e("mleads.allCountries")},"all-countries"),O.map(B=>l.jsx(qr,{value:B.country_id.toString(),onSelect:()=>{$e(B.country_id.toString()),H(1),xj(!1)},children:hr(B,"country_name_en","country_name_ar")},B.country_id))]})]})]})})]}),l.jsxs(ba,{open:tD,onOpenChange:yj,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":tD,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:he?hr(f.find(B=>B.city_id.toString()===he),"city_name_en","city_name_ar"):e("mleads.allCities")}),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchCity")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsxs(Ea,{children:[l.jsx(qr,{value:e("mleads.allCities"),onSelect:()=>{P(""),H(1),yj(!1)},children:e("mleads.allCities")},"all-cities"),f.map(B=>l.jsx(qr,{value:B.city_id.toString(),onSelect:()=>{P(B.city_id.toString()),H(1),yj(!1)},children:hr(B,"city_name_en","city_name_ar")},B.city_id))]})]})]})})]}),l.jsxs(ba,{open:rD,onOpenChange:wj,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":rD,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:me?iy(me):e("mleads.allUsers")}),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchUser")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsxs(Ea,{children:[l.jsx(qr,{value:e("mleads.allUsers"),onSelect:()=>{te(""),H(1),wj(!1)},children:e("mleads.allUsers")},"all-users"),E.map(B=>{var yt;const be=(yt=B.userid||B.user_id||B.id)==null?void 0:yt.toString(),qe=B.name||B.user_name||B.display_name||"-";return l.jsx(qr,{value:be,onSelect:()=>{te(be),H(1),wj(!1)},children:qe},be)})]})]})]})})]})]})]})}),l.jsx(Sl,{open:fe,onOpenChange:xe,children:l.jsxs(Io,{className:"w-full sm:max-w-[540px] flex flex-col h-full",children:[l.jsx(yc,{children:l.jsx(jl,{children:e(ye?"mleads.editLead":"mleads.createNewLead")})}),l.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),l.jsx(We,{value:sr.company_name||"",onChange:B=>Ha({...sr,company_name:B.target.value}),placeholder:e("mleads.companyName")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),l.jsx(da,{value:sr.address||"",onChange:B=>Ha({...sr,address:B.target.value}),placeholder:e("mleads.address")})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Tr(!Ht),className:"h-6 px-2 text-xs",children:e(Ht?"mleads.cancel":"mleads.addContact")})]}),Be.length>0&&l.jsx("div",{className:"space-y-2 mb-3",children:Be.map((B,be)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:B.contact_name}),l.jsxs("div",{className:"text-muted-foreground",children:[B.contact_email&&`${B.contact_email}  `,B.contact_mobile&&`${B.contact_mobile}`]})]}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>AQ(be),className:"h-6 w-6 p-0",children:l.jsx(Oo,{className:"h-3 w-3"})})]},be))}),Ht&&l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mleads.contactName"),value:Ye.contact_name,onChange:B=>tt({...Ye,contact_name:B.target.value})}),l.jsx(We,{placeholder:e("mleads.email"),type:"email",value:Ye.contact_email,onChange:B=>tt({...Ye,contact_email:B.target.value})}),l.jsx(We,{placeholder:e("mleads.mobile"),value:Ye.contact_mobile,onChange:B=>tt({...Ye,contact_mobile:B.target.value})}),l.jsxs(ba,{open:Uo,onOpenChange:Xf,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Uo,className:"w-full justify-between",children:[Ye.jobtitle_id?(dD=T.find(B=>B.jobtitle_id===Ye.jobtitle_id))==null?void 0:dD.jobtitle_name_en:e("mleads.selectJobTitle"),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchJobTitle")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsx(Ea,{children:T&&T.length>0?T.map(B=>l.jsx(qr,{value:hr(B,"jobtitle_name_en","jobtitle_name_ar")||B.jobtitle_name_en||"Unknown",onSelect:()=>{tt(be=>({...be,jobtitle_id:B.jobtitle_id})),Xf(!1)},children:hr(B,"jobtitle_name_en","jobtitle_name_ar")||B.jobtitle_name_en||"Unknown"},B.jobtitle_id)):l.jsx(qr,{disabled:!0,children:"No job titles available"})})]})]})})]}),l.jsx(ue,{type:"button",onClick:TQ,className:"w-full",children:e("mleads.addContactTitle")})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Te(!pe),className:"h-6 px-2 text-xs",children:e(pe?"mleads.cancel":"mleads.addNew")})]}),pe?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mleads.cityNameEn"),value:Fe.city_name_en,onChange:B=>Ue({...Fe,city_name_en:B.target.value})}),l.jsx(We,{placeholder:e("mleads.cityNameAr"),value:Fe.city_name_ar,onChange:B=>Ue({...Fe,city_name_ar:B.target.value})}),l.jsxs(ba,{open:wi,onOpenChange:G4,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":wi,className:"w-full justify-between",children:[Fe.country_id?(fD=O.find(B=>B.country_id===Fe.country_id))==null?void 0:fD.country_name_en:e("mleads.selectCountry"),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchCountry")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsx(Ea,{children:O.map(B=>l.jsx(qr,{value:hr(B,"country_name_en","country_name_ar"),onSelect:()=>{Ue({...Fe,country_id:B.country_id}),G4(!1)},children:hr(B,"country_name_en","country_name_ar")},B.country_id))})]})]})})]}),l.jsx(ue,{type:"button",onClick:kQ,className:"w-full",children:e("mleads.createCity")})]}):l.jsxs(ba,{open:ze,onOpenChange:Ze,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":ze,className:"w-full justify-between",children:[sr.city_id?gQ(sr.city_id):e("mleads.city"),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchCity")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsx(Ea,{children:f.map(B=>l.jsx(qr,{value:hr(B,"city_name_en","city_name_ar"),onSelect:()=>{Ha({...sr,city_id:B.city_id}),Ze(!1)},children:hr(B,"city_name_en","city_name_ar")},B.city_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Br(!Nr),className:"h-6 px-2 text-xs",children:e(Nr?"mleads.cancel":"mleads.addNew")})]}),Nr?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mleads.activityNameEn"),value:wn.activity_name_en,onChange:B=>yi({...wn,activity_name_en:B.target.value})}),l.jsx(We,{placeholder:e("mleads.activityNameAr"),value:wn.activity_name_ar,onChange:B=>yi({...wn,activity_name_ar:B.target.value})}),l.jsx(ue,{type:"button",onClick:EQ,className:"w-full",children:e("mleads.createActivity")})]}):l.jsxs(ba,{open:st,onOpenChange:Xe,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":st,className:"w-full justify-between",children:[sr.activity_id?vQ(sr.activity_id):e("mleads.selectActivity"),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchActivity")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsx(Ea,{children:m.map(B=>l.jsx(qr,{value:hr(B,"activity_name_en","activity_name_ar"),onSelect:()=>{Ha({...sr,activity_id:B.activity_id}),Xe(!1)},children:hr(B,"activity_name_en","activity_name_ar")},B.activity_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>ot(!Ve),className:"h-6 px-2 text-xs",children:e(Ve?"mleads.cancel":"mleads.addNew")})]}),Ve?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mleads.systemNameEn"),value:Kt.system_name_en,onChange:B=>Qt({...Kt,system_name_en:B.target.value})}),l.jsx(We,{placeholder:e("mleads.systemNameAr"),value:Kt.system_name_ar,onChange:B=>Qt({...Kt,system_name_ar:B.target.value})}),l.jsx(ue,{type:"button",onClick:NQ,className:"w-full",children:e("mleads.createSystem")})]}):l.jsxs(ba,{open:at,onOpenChange:Dt,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":at,className:"w-full justify-between",children:[sr.system_id?yQ(sr.system_id):e("mleads.selectSystem"),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchSystem")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsx(Ea,{children:x.map(B=>l.jsx(qr,{value:hr(B,"system_name_en","system_name_ar"),onSelect:()=>{Ha({...sr,system_id:B.system_id}),Dt(!1)},children:hr(B,"system_name_en","system_name_ar")},B.system_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Gn(!pa),className:"h-6 px-2 text-xs",children:e(pa?"mleads.cancel":"mleads.addNew")})]}),pa?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mleads.statusNameEn"),value:ce.status_name_en,onChange:B=>ke({...ce,status_name_en:B.target.value})}),l.jsx(We,{placeholder:e("mleads.statusNameAr"),value:ce.status_name_ar,onChange:B=>ke({...ce,status_name_ar:B.target.value})}),l.jsx(ue,{type:"button",onClick:CQ,className:"w-full",children:e("mleads.createStatus")})]}):l.jsxs(ba,{open:Ar,onOpenChange:Or,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Ar,className:"w-full justify-between",children:[sr.status_id?xQ(sr.status_id):e("mleads.selectStatus"),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchStatus")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsx(Ea,{children:v.map(B=>l.jsx(qr,{value:hr(B,"status_name_en","status_name_ar"),onSelect:()=>{Ha({...sr,status_id:B.status_id}),Or(!1)},children:hr(B,"status_name_en","status_name_ar")},B.status_id))})]})]})})]})]}),sr.status_id===7&&l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(nv,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),l.jsx(We,{type:"file",onChange:B=>{var qe;const be=(qe=B.target.files)==null?void 0:qe[0];be&&Se(be)},className:"cursor-pointer"}),sr.lead_quotation&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Current file:",l.jsx("a",{href:(hD=sr.lead_quotation)==null?void 0:hD.public_url,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600 hover:underline font-medium",children:(mD=sr.lead_quotation)==null?void 0:mD.name})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),l.jsxs(ba,{open:Rn,onOpenChange:Dc,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Rn,className:"w-full justify-between",children:[sr.stage_id?wQ(sr.stage_id):e("mleads.selectStage"),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchStage")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsx(Ea,{children:w.map(B=>l.jsx(qr,{value:B.stage_name,onSelect:()=>{Ha({...sr,stage_id:B.stage_id}),Dc(!1)},children:B.stage_name},B.stage_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),l.jsxs(ba,{open:Rc,onOpenChange:Ic,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Rc,className:"w-full justify-between",children:[sr.assigned_to?iy(sr.assigned_to):e("mleads.selectUser"),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mleads.searchUser")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsx(Ea,{children:E.map(B=>l.jsx(qr,{value:B.user_name,onSelect:()=>{Ha({...sr,assigned_to:B.userid}),Ic(!1)},children:B.user_name},B.user_id))})]})]})})]})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[l.jsx(ue,{variant:"outline",onClick:()=>xe(!1),children:e("common.cancel")}),l.jsx(ue,{onClick:_Q,children:e("common.save")})]})]})}),ee&&l.jsx("div",{className:"flex-shrink-0 px-4 pb-4",children:l.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),l.jsxs(kl,{defaultValue:"pie",className:"w-full",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsx(en,{value:"pie",children:"Distribution Charts"}),l.jsx(en,{value:"timeline",children:"Timeline"})]}),l.jsx(On,{value:"pie",className:"mt-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),l.jsx(nu,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(ns,{data:(()=>{const B=v.map(be=>({name:hr(be,"status_name_en","status_name_ar"),value:ga.filter(qe=>qe.status_id===be.status_id).length})).filter(be=>be.value>0);return B.length>0?B:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:be})=>`${B}: ${be}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((B,be)=>l.jsx(sl,{fill:B},`cell-${be}`))}),l.jsx(Td,{content:l.jsx(au,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),l.jsx(nu,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(ns,{data:(()=>{const B=x.map(be=>({name:hr(be,"system_name_en","system_name_ar"),value:ga.filter(qe=>qe.system_id===be.system_id).length})).filter(be=>be.value>0);return B.length>0?B:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:be})=>`${B}: ${be}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((B,be)=>l.jsx(sl,{fill:B},`cell-${be}`))}),l.jsx(Td,{content:l.jsx(au,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),l.jsx(nu,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(ns,{data:(()=>{const B=m.map(be=>({name:hr(be,"activity_name_en","activity_name_ar"),value:ga.filter(qe=>qe.activity_id===be.activity_id).length})).filter(be=>be.value>0);return B.length>0?B:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:be})=>`${B}: ${be}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((B,be)=>l.jsx(sl,{fill:B},`cell-${be}`))}),l.jsx(Td,{content:l.jsx(au,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),l.jsx(nu,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(ns,{data:(()=>{const B=f.map(be=>({name:hr(be,"city_name_en","city_name_ar"),value:ga.filter(qe=>qe.city_id===be.city_id).length})).filter(be=>be.value>0);return B.length>0?B:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:be})=>`${B}: ${be}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((B,be)=>l.jsx(sl,{fill:B},`cell-${be}`))}),l.jsx(Td,{content:l.jsx(au,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),l.jsx(nu,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(ns,{data:(()=>{const B=E.map(be=>({name:be.user_name,value:ga.filter(qe=>qe.assigned_to===be.userid).length})).filter(be=>be.value>0);return B.length>0?B:[{name:"Unassigned",value:ga.filter(be=>!be.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:be})=>`${B}: ${be}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((B,be)=>l.jsx(sl,{fill:B},`cell-${be}`))}),l.jsx(Td,{content:l.jsx(au,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),l.jsx("div",{className:"text-5xl font-bold text-primary",children:ga.length}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),l.jsx(On,{value:"timeline",className:"mt-4",children:l.jsx("div",{className:"w-full h-[400px]",children:l.jsx(n4,{width:"100%",height:"100%",children:l.jsxs(qJ,{data:(()=>{const B=new Map;return ga.forEach(qe=>{const yt=new Date(qe.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});B.set(yt,(B.get(yt)||0)+1)}),Array.from(B.entries()).sort((qe,yt)=>new Date(qe[0]).getTime()-new Date(yt[0]).getTime()).map(([qe,yt])=>({date:qe,count:yt}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[l.jsx($4,{strokeDasharray:"3 3"}),l.jsx(ry,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),l.jsx(ny,{label:{value:"Number of Leads",angle:-90,position:"insideLeft"}}),l.jsx(Ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:B=>[`${B} leads`,"Total"]}),l.jsx(Pu,{}),l.jsx(l0,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]})}),l.jsx(ct,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:l.jsx(xt,{className:"h-full flex flex-col p-0 overflow-hidden",children:K==="kanban"?l.jsx(Dx,{stages:w.map(B=>({id:B.stage_id,name:B.stage_name,count:ga.filter(be=>be.stage_id===B.stage_id).length})),currentStageId:X4||((pD=w[0])==null?void 0:pD.stage_id),onStageChange:hQ,children:l.jsx("div",{className:"space-y-4 h-full flex flex-col",children:l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4 scrollbar-hide flex-1 min-h-0",children:w.filter(B=>{var be;return!s||B.stage_id===(X4||((be=w[0])==null?void 0:be.stage_id))}).map((B,be)=>{const qe=ga.filter(yt=>yt.stage_id===B.stage_id);return l.jsxs("div",{className:ve("flex-shrink-0 animate-fade-in h-full flex flex-col",s?"w-full":"w-[300px]"),style:{animationDelay:`${be*.1}s`},onDragOver:PQ,onDrop:()=>DQ(B.stage_id),children:[!s&&l.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-l-4 border-primary/50 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"font-bold text-base",children:B.stage_name}),l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:qe.length})]})}),l.jsx("div",{className:"space-y-4 overflow-y-auto pr-2 custom-scrollbar flex-1 min-h-0",children:qe.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-40 border-2 border-dashed rounded-xl border-muted-foreground/20 text-muted-foreground",children:[l.jsx(Cn,{className:"h-8 w-8 mb-2 opacity-20"}),l.jsx("p",{className:"text-sm",children:e("common.noLeads")})]}):qe.map(yt=>l.jsxs(ct,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 border-l-blue-500",s?"w-full":"w-[300px]","min-h-[160px]",sy===yt.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>oD(yt),draggable:!0,onDragStart:Pr=>{Pr.dataTransfer.effectAllowed="move",Pr.dataTransfer.setData("text/plain",yt.leads_id.toString()),OQ(yt.leads_id)},children:[l.jsx(Yt,{className:"pb-2 px-4 pt-3",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:yt.company_name||"No Company"}),yt.address&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:yt.address})]})})}),l.jsxs(xt,{className:"px-4 pb-3 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Lm,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),l.jsx("p",{className:"text-xs font-medium truncate",children:bj(yt)})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(gI,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("p",{className:"text-xs truncate",children:_j(yt)})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Cn,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("p",{className:"text-xs truncate text-muted-foreground",children:jj(yt)})]})]}),l.jsx("div",{children:l.jsx(ht,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${kj(yt.status_id)}`,children:Sj(yt)})})]}),(()=>{const Pr=S.filter(qa=>Number(qa.leads_id)===Number(yt.leads_id));return Pr.length===0?null:l.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:e("mleads.contacts")}),Pr.slice(0,1).map((qa,Ji)=>l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Un,{className:"h-3 w-3 text-muted-foreground"}),l.jsx("p",{className:"text-[11px] truncate",children:qa.contact_name})]},Ji)),Pr.length>1&&l.jsxs("p",{className:"text-[10px] text-muted-foreground pl-4",children:["+",Pr.length-1," more"]})]})})(),l.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[l.jsx(Un,{className:"h-2.5 w-2.5 flex-shrink-0"}),l.jsxs("span",{className:"truncate",children:["Assign: ",iy(yt.assigned_to)]})]}),l.jsx("div",{className:"flex items-center gap-1 min-w-0",children:l.jsxs("span",{className:"truncate opacity-70",children:["By: ",iy(yt.created_by_name)]})})]}),l.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(yt.created_at).toLocaleDateString()})]})]})]},yt.leads_id))})]},B.stage_id)})})})}):l.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[l.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:ga.length===0?l.jsx(pl,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:l.jsx(Cn,{className:"h-12 w-12"})}):l.jsx(wc,{data:pQ,columns:["kanban","timeline"].includes(K)?[]:IQ,actions:MQ,bulkActions:RQ,enableBulkSelect:!0,keyExtractor:B=>B.leads_id.toString(),onRowClick:B=>oD(B),rowHeight:"h-26"},`leads-${De}-${dt}-${Me}-${he}-${Le}-${me}-${L}-${U}`)}),l.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:ld>0&&l.jsx("div",{className:"flex justify-center",children:l.jsx(NP,{children:l.jsxs(EP,{children:[l.jsx(af,{children:l.jsx(TP,{onClick:()=>H(Math.max(1,U-1)),className:U===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),l.jsx(af,{children:l.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",U," ",e("common.of")," ",ld]})}),l.jsx(af,{children:l.jsx(AP,{onClick:()=>H(Math.min(ld,U+1)),className:U===ld?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})})}),l.jsx(mi,{open:_e!==null,onOpenChange:()=>Ce(null),children:l.jsxs(Is,{children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:e("mleads.deleteLead")}),l.jsx($s,{children:e("mleads.deleteLeadConfirmation")})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:e("common.cancel")}),l.jsx(Bs,{onClick:()=>_e&&SQ(_e),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),l.jsx(Sl,{open:od,onOpenChange:W,children:l.jsxs(Io,{side:kr()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[l.jsx(yc,{children:l.jsxs(jl,{className:"flex items-center gap-2 min-w-0",children:[l.jsx(Cn,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:ar==null?void 0:ar.company_name})]})}),ar&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),l.jsxs(ue,{onClick:()=>{cD(ar),W(!1)},variant:"outline",size:"sm",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),l.jsxs(kl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsx(en,{value:"overview",children:e("common.overview")}),l.jsx(en,{value:"notes",children:e("notes.title")})]}),l.jsxs(On,{value:"overview",className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:ar.company_name||"-"}),ar.address&&l.jsx("p",{className:"text-muted-foreground mt-1",children:ar.address})]}),ar.lead_quotation&&l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:l.jsx(nv,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),l.jsx("a",{href:(gD=ar.lead_quotation)==null?void 0:gD.public_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline truncate block",children:(vD=ar.lead_quotation)==null?void 0:vD.name})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Lm,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),l.jsx("p",{className:"font-medium",children:bj(ar)})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(gI,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),l.jsx("p",{className:"font-medium",children:_j(ar)})]})]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),l.jsx(ht,{variant:"outline",className:`text-xs ${kj(ar.status_id)}`,children:Sj(ar)})]})}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),l.jsx(ht,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:iD(ar)})]})}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Cn,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),l.jsx("p",{className:"font-medium",children:jj(ar)})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Un,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),l.jsx("p",{className:"font-medium",children:ar.created_by_name||"-"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Un,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),l.jsx("p",{className:"text-sm font-medium",children:ar.Users_name||"-"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Un,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.decisionMaker")}),l.jsx("p",{className:"text-sm font-medium",children:ar.decision_maker||"-"})]})]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),l.jsx("p",{className:"text-sm font-medium",children:new Date(ar.created_at).toLocaleDateString()})]})}),l.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),l.jsx("p",{className:"text-sm mt-1",children:ar.notes||"-"})]})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const B=N.length>0?N:[];return B.length>0?l.jsx("div",{className:"space-y-2",children:B.map((be,qe)=>{var yt;return l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:be.contact_name||"-"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[be.contact_email&&`${be.contact_email}  `,be.contact_mobile&&`${be.contact_mobile}`]})]}),l.jsx(ht,{variant:"outline",className:"text-xs",children:((yt=T.find(Pr=>Pr.jobtitle_id===be.jobtitle_id))==null?void 0:yt.jobtitle_name_en)||"-"})]},be.contact_id||qe)})}):l.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),l.jsx(On,{value:"notes",className:"mt-4",children:l.jsx(DO,{relatedType:"mlead",relatedId:ar.leads_id,notes:re,onNotesChange:()=>lD(ar.leads_id)})})]})]})]})})]})}function KGe(e){const r=e.lastIndexOf("."),n=r!==-1?e.slice(r):"";return`contract-${crypto.randomUUID()}${n}`}async function GGe(e,r,n={}){const a=n.bucket||"projects",s=!!n.publicBucket;if(!e)throw new Error("No file provided");if(!r)throw new Error("projectId is required");const i=KGe(e.name),o=`projects/${r}/${i}`,{data:c,error:u}=await Jt.storage.from(a).upload(o,e,{cacheControl:"3600",upsert:!1});if(u)throw u;let d=null;if(s){const{data:p}=Jt.storage.from(a).getPublicUrl(o);d=(p==null?void 0:p.publicUrl)||null}else{const{data:v,error:g}=await Jt.storage.from(a).createSignedUrl(o,3600);if(g){const{data:x}=Jt.storage.from(a).getPublicUrl(o);if(d=(x==null?void 0:x.publicUrl)||null,!d)throw g}else d=(v==null?void 0:v.signedUrl)||null}const{data:{user:f}}=await Jt.auth.getUser(),h={bucket:a,path:o,url:d,name:e.name,filename:i,mime:e.type||null,size:e.size||null,uploaded_by:(f==null?void 0:f.id)||null,uploaded_at:new Date().toISOString()},{error:m}=await Jt.from("m_projects").update({contract_document:h}).eq("project_id",r);if(m){try{await Jt.storage.from(a).remove([o])}catch(p){console.error("Failed to delete uploaded file after DB update error:",p)}throw m}return h}async function YGe(e){try{const{data:r,error:n}=await Jt.from("m_projects").select("contract_document").eq("project_id",e).single();if(n)throw n;if(r!=null&&r.contract_document){const a=r.contract_document,{error:s}=await Jt.storage.from(a.bucket).remove([a.path]);s&&console.error("Failed to delete file from storage:",s);const{error:i}=await Jt.from("m_projects").update({contract_document:null}).eq("project_id",e);if(i)throw i}}catch(r){throw console.error("Error deleting contract document:",r),r}}function XGe(){var re,J,ee;const{t:e}=qt(),{user:r}=vr(),{currentLanguage:n,isRTL:a}=Va(),{toast:s}=Ol();yn();const{setBreadcrumbs:i}=hx();Vs();const[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState([]),[v,g]=y.useState([]),[x,b]=y.useState([]),[w,_]=y.useState([]),[S,j]=y.useState(!0),[N,k]=y.useState(null),[E,C]=y.useState(""),[O,D]=y.useState(0),[T]=y.useState(9),[z,q]=y.useState(0),[F,I]=y.useState(""),[V,L]=y.useState(""),[M,Y]=y.useState(null),[Z,A]=y.useState(null),[X,U]=y.useState(!1),[H,ae]=y.useState(!1),[oe,we]=y.useState({city_name_en:"",city_name_ar:"",country_id:null});y.useState(null);const[se,Q]=y.useState(null),[he,P]=y.useState(!1),[Le,$e]=y.useState([]),[Me,He]=y.useState(!1),[De,wt]=y.useState("list"),[dt,ie]=y.useState(null),[me,te]=y.useState(""),[_e,Ce]=y.useState([]),[ye,le]=y.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[fe,xe]=y.useState(!1),[pe,Te]=y.useState(!1);y.useState(!1),y.useState(!1),y.useState(!1);const[Fe,Ue]=y.useState(!1),[Ve,ot]=y.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});y.useEffect(()=>{i([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[i,e]),y.useEffect(()=>{Kt()},[]),y.useEffect(()=>{Qt()},[O,E,F,V,f]),y.useEffect(()=>{Me&&Nr()},[Me,E,F,V,f]);const Kt=async()=>{try{j(!0),k(null);const[R,K,de,Ne,Se]=await Promise.all([G.mCity.list({sort_by:"city_name_en",sort_order:"asc"}),G.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),G.users.list({sort_by:"user_name",sort_order:"asc"}),G.mCountry.list({sort_by:"country_name_en",sort_order:"asc"}),G.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc"})]),je=Ee=>Array.isArray(Ee)?Ee:Ee!=null&&Ee.data&&Array.isArray(Ee.data)?Ee.data:[];h(je(R)),p(je(K)),g(je(de)),b(je(Ne)),_(je(Se))}catch(R){const K=R instanceof Error?R.message:"Failed to load data";k(K),s({title:"Error",description:K,variant:"destructive"})}finally{j(!1)}},Qt=async()=>{try{j(!0),k(null);const R={};if(F&&(R.city_id=F),V){const Ne=f.filter(Se=>{var je;return((je=Se.country_id)==null?void 0:je.toString())===V}).map(Se=>Se.city_id);Ne.length>0?R.city_id=Ne:R.city_id=-1}const K={page:O,limit:T,sort_by:"created_at",sort_order:"desc",exact_filters:R};E&&(K.search=E);const de=await G.mProjects.list(K);c(de.data||[]),q(de.total||0)}catch(R){const K=R instanceof Error?R.message:"Failed to load data";k(K),s({title:"Error",description:K,variant:"destructive"})}finally{j(!1)}},Nr=async()=>{try{const R={};if(F&&(R.city_id=F),V){const Ne=f.filter(Se=>{var je;return((je=Se.country_id)==null?void 0:je.toString())===V}).map(Se=>Se.city_id);Ne.length>0?R.city_id=Ne:R.city_id=-1}const K={limit:1e3,exact_filters:R};E&&(K.search=E);const de=await G.mProjects.list(K);d(de.data||[])}catch(R){console.error("Failed to load all filtered projects:",R)}},Br=async()=>{try{const R=await G.mContacts.list({sort_by:"contact_name",sort_order:"asc"});p(R.data||[])}catch(R){console.error("Failed to load contacts:",R)}},wn=y.useMemo(()=>Me?u:o,[Me,u,o]),yi=y.useMemo(()=>{if(Me){const R=O*T,K=R+T;return wn.slice(R,K)}else return o},[Me,wn,o,O,T]),pa=Math.ceil(z/T);y.useEffect(()=>{O>=pa&&pa>0&&D(pa-1)},[O,pa]);const Gn=(R,K,de)=>{if(!R)return"-";let Ne=n==="ar"&&(R==null?void 0:R[de])||(R==null?void 0:R[K]);if(!Ne){const Se=K.replace(/_en$/,""),je=de.replace(/_ar$/,"");Ne=n==="ar"&&(R==null?void 0:R[je])||(R==null?void 0:R[Se])}return Ne||(R==null?void 0:R.name)||(R==null?void 0:R.label)||(R==null?void 0:R.title)||"-"},ce=R=>{if(R==null||R==="")return"-";const K=Number(R),de=f.find(Ne=>Number(Ne.city_id)===K||Number(Ne.id)===K);return Gn(de,"city_name_en","city_name_ar")},ke=async()=>{if(!pe){Te(!0);try{let R;if(Z)await G.mProjects.update(Z,Ve),R=Z,s({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")});else{const K={...Ve,created_by:r==null?void 0:r.id},de=await G.mProjects.create(K);if(R=de.id||de.project_id,!R)throw new Error("Failed to create project");s({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(Z){const K=m.filter(de=>de.project_id===Z);for(const de of K)await G.mContacts.delete(de.contact_id);_e.length>0&&await ar(R)}else _e.length>0&&await ar(R);if(dt){te("Uploading contract document...");try{await GGe(dt,R,{bucket:"projects",publicBucket:!1}),te("Document uploaded successfully"),s({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(K){console.error("File upload failed:",K),te("Document upload failed"),s({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}U(!1),A(null),ot({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),Ce([]),ie(null),te(""),await Qt(),await Br()}catch(R){const K=R instanceof Error?R.message:"Failed to save";s({title:"Error",description:K,variant:"destructive"})}finally{Te(!1)}}},Be=async R=>{try{await G.mProjects.delete(R),s({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),Y(null),await Qt()}catch(K){const de=K instanceof Error?K.message:"Failed to delete";s({title:"Error",description:de,variant:"destructive"})}},Re=R=>{Q(R),Ye(R.project_id),Br(),P(!0)},Ye=async R=>{try{const K=await sm.getByRelated("mlead",R);$e(K)}catch(K){console.error("Failed to load notes:",K),$e([])}},tt=R=>{A(R.project_id),ot(R);const K=m.filter(de=>de.project_id===R.project_id);Ce(K.map(de=>{var Ne;return{contact_name:de.contact_name||"",contact_email:de.contact_email||"",contact_mobile:((Ne=de.contact_mobile)==null?void 0:Ne.toString())||"",jobtitle_id:de.jobtitle_id}})),U(!0)},Ht=async R=>{try{await Promise.all(R.map(K=>G.mProjects.delete(K))),s({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await Qt()}catch(K){const de=K instanceof Error?K.message:"Failed to delete";s({title:"Error",description:de,variant:"destructive"})}},Tr=async()=>{try{if(!oe.city_name_en&&!oe.city_name_ar){s({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const R=await G.mCity.create(oe);R&&(h([...f,R]),ot({...Ve,city_id:R.city_id}),ae(!1),we({city_name_en:"",city_name_ar:"",country_id:null}),s({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(R){const K=R instanceof Error?R.message:"Failed to create city";s({title:"Error",description:K,variant:"destructive"})}},qs=()=>{if(!ye.contact_name.trim()){s({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(_e.some(K=>K.contact_name===ye.contact_name&&K.contact_email===ye.contact_email&&K.contact_mobile===ye.contact_mobile)){s({title:"Warning",description:"This contact already exists",variant:"destructive"});return}Ce([..._e,{...ye}]),le({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),xe(!1)},vs=R=>{Ce(_e.filter((K,de)=>de!==R))},ar=async R=>{try{const K=_e.map(de=>({contact_name:de.contact_name,contact_email:de.contact_email,contact_mobile:de.contact_mobile?parseInt(de.contact_mobile):null,jobtitle_id:de.jobtitle_id,project_id:R}));if(K.length>0)for(const de of K)await G.mContacts.create(de)}catch(K){const de=K instanceof Error?K.message:"Failed to save contacts";s({title:"Error",description:de,variant:"destructive"})}};if(S)return l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})});if(N)return l.jsx(zp,{message:N,onRetry:Kt});const Ll=[{label:e("common.delete"),icon:l.jsx(wr,{}),onClick:R=>{window.confirm(`Delete ${R.length} projects?`)&&Ht(R.map(K=>K.project_id))},variant:"destructive"}],od=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:R=>l.jsx(bc,{title:R.company_name||"-",subtitle:R.contract_code||"",icon:l.jsx(Cn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:R=>l.jsx("span",{className:"text-sm text-foreground",children:ce(R.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:R=>l.jsx(ht,{variant:"outline",className:"text-xs",children:R.contract_amount?`$${R.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:R=>l.jsx("span",{className:"text-sm text-muted-foreground",children:R.cont_start_date?new Date(R.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:R=>l.jsx("span",{className:"text-sm text-muted-foreground",children:R.cont_end_date?new Date(R.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:R=>l.jsx(Uu,{date:R.created_at})}],W=[{icon:l.jsx(Vi,{}),label:e("common.edit"),onClick:R=>tt(R)},{icon:l.jsx(wr,{}),label:e("common.delete"),onClick:R=>Y(R.project_id),variant:"destructive"}];return l.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:a?"rtl":"ltr",children:[l.jsxs("div",{className:"flex-shrink-0 pb-3",children:[l.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[l.jsxs(ue,{variant:"outline",size:"default",onClick:()=>wt(De==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[De==="list"?l.jsx(Mi,{className:"h-4 w-4"}):l.jsx(Cn,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e(De==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),l.jsxs(ue,{variant:Me?"default":"outline",size:"default",onClick:()=>He(!Me),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[l.jsx(Mi,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e("mprojects.showChart")}),l.jsx(O_,{className:`h-4 w-4 transition-transform ${Me?"rotate-180":""}`})]}),l.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:a?"rtl":"ltr",children:[l.jsx(zs,{className:`absolute ${a?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),l.jsx(We,{placeholder:e("mprojects.searchPlaceholder"),value:E,onChange:R=>{C(R.target.value),D(1)},className:`${a?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),l.jsxs(Sl,{open:X,onOpenChange:U,children:[l.jsx(dW,{asChild:!0,children:l.jsxs(ue,{size:"default",onClick:()=>{A(null),ot({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),Ce([]),ie(null),te(""),ae(!1),xe(!1),we({city_name_en:"",city_name_ar:"",country_id:null}),le({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),U(!0)},className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:a?"rtl":"ltr",children:[l.jsx(or,{className:`w-4 h-4 ${a?"order-2":"order-1"}`}),l.jsx("span",{className:`${a?"order-1":"order-2"}`,children:e("common.add")})]})}),l.jsxs(Io,{side:a?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[l.jsx(yc,{className:"p-6 pb-0",children:l.jsx(jl,{children:e(Z?"mprojects.editProject":"mprojects.createNewProject")})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),l.jsx(We,{value:Ve.company_name||"",onChange:R=>ot({...Ve,company_name:R.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),l.jsx(We,{value:Ve.contract_code||"",onChange:R=>ot({...Ve,contract_code:R.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),l.jsx(We,{type:"number",value:Ve.contract_amount||"",onChange:R=>ot({...Ve,contract_amount:parseFloat(R.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),l.jsx(We,{type:"date",value:Ve.cont_start_date||"",onChange:R=>ot({...Ve,cont_start_date:R.target.value}),className:"h-10"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),l.jsx(We,{type:"date",value:Ve.cont_end_date||"",onChange:R=>ot({...Ve,cont_end_date:R.target.value}),className:"h-10"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),l.jsxs(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>ae(!H),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[l.jsx(or,{className:"h-3 w-3 mr-1"}),e(H?"mprojects.cancel":"mprojects.addCity")]})]}),H?l.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[l.jsx(We,{placeholder:"City Name (English)",value:oe.city_name_en,onChange:R=>we({...oe,city_name_en:R.target.value}),className:"h-9"}),l.jsx(We,{placeholder:"City Name (Arabic)",value:oe.city_name_ar,onChange:R=>we({...oe,city_name_ar:R.target.value}),className:"h-9"}),l.jsxs(jt,{value:((re=oe.country_id)==null?void 0:re.toString())||"",onValueChange:R=>we({...oe,country_id:parseInt(R)}),children:[l.jsx(_t,{className:"h-9",children:l.jsx(kt,{placeholder:"Select Country"})}),l.jsx(St,{children:x.map(R=>l.jsx(Pe,{value:R.country_id.toString(),children:Gn(R,"country_name_en","country_name_ar")},R.country_id))})]}),l.jsxs(ue,{onClick:Tr,size:"sm",className:"w-full h-9",children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):l.jsxs(jt,{value:((J=Ve.city_id)==null?void 0:J.toString())||"",onValueChange:R=>ot({...Ve,city_id:parseInt(R)||null}),children:[l.jsx(_t,{className:"h-10",children:l.jsx(kt,{placeholder:e("mprojects.selectCity")})}),l.jsx(St,{children:f.map(R=>l.jsx(Pe,{value:R.city_id.toString(),children:Gn(R,"city_name_en","city_name_ar")},R.city_id))})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>xe(!fe),className:"h-6 px-2 text-xs",children:e(fe?"mprojects.cancel":"mprojects.addContact")})]}),_e.length>0&&l.jsx("div",{className:"space-y-2 mb-3",children:_e.map((R,K)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:R.contact_name}),l.jsxs("div",{className:"text-muted-foreground",children:[R.contact_email&&`${R.contact_email}  `,R.contact_mobile&&`${R.contact_mobile}`]})]}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>vs(K),className:"h-6 w-6 p-0",children:l.jsx(Oo,{className:"h-3 w-3"})})]},K))}),fe&&l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mprojects.contactName"),value:ye.contact_name,onChange:R=>le({...ye,contact_name:R.target.value})}),l.jsx(We,{placeholder:e("mprojects.email"),type:"email",value:ye.contact_email,onChange:R=>le({...ye,contact_email:R.target.value})}),l.jsx(We,{placeholder:e("mprojects.mobile"),value:ye.contact_mobile,onChange:R=>le({...ye,contact_mobile:R.target.value})}),l.jsxs(ba,{open:Fe,onOpenChange:Ue,children:[l.jsx(_a,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Fe,className:"w-full justify-between",children:[ye.jobtitle_id?(ee=w.find(R=>R.jobtitle_id===ye.jobtitle_id))==null?void 0:ee.jobtitle_name_en:e("mprojects.selectJobTitle"),l.jsx(Ka,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(Sa,{children:[l.jsx(ja,{placeholder:e("mprojects.searchJobTitle")}),l.jsxs(ka,{children:[l.jsx(Na,{children:e("common.noResults")}),l.jsx(Ea,{children:w&&w.length>0?w.map(R=>l.jsx(qr,{value:Gn(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown",onSelect:()=>{le(K=>({...K,jobtitle_id:R.jobtitle_id})),Ue(!1)},children:Gn(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown"},R.jobtitle_id)):l.jsx(qr,{disabled:!0,children:"No job titles available"})})]})]})})]}),l.jsx(ue,{type:"button",onClick:qs,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),l.jsx(We,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:R=>{var de;const K=(de=R.target.files)==null?void 0:de[0];ie(K||null)},className:"file:hidden cursor-pointer"}),l.jsxs(ue,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>{const R=document.querySelector('input[type="file"]');R==null||R.click()},children:[l.jsx(or,{className:"h-4 w-4"}),e("common.add")]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),dt&&l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[l.jsx(Zs,{className:"h-5 w-5 text-primary flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:dt.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(dt.size/1024/1024).toFixed(2)," MB"]})]}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>ie(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:l.jsx(Oo,{className:"h-4 w-4"})})]}),me&&l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsx(zi,{size:"sm"}),l.jsx("span",{className:"text-sm text-blue-700",children:me})]})]})]})]}),l.jsx("div",{className:"p-6 border-t bg-muted/20",children:l.jsx(ue,{onClick:ke,className:"w-full",disabled:pe||!Ve.company_name,children:e(pe?"common.saving":Z?"common.save":"common.create")})})]})]})]})}),l.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")||"Filters"}),(F||V||E)&&l.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{I(""),L(""),C(""),D(1)},children:e("mprojects.clearFilters")})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(jt,{value:V||"all",onValueChange:R=>{L(R==="all"?"":R),D(1)},children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:e("mprojects.country")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:e("mprojects.allCountries")}),x.map(R=>l.jsx(Pe,{value:R.country_id.toString(),children:Gn(R,"country_name_en","country_name_ar")},R.country_id))]})]}),l.jsxs(jt,{value:F||"all",onValueChange:R=>{I(R==="all"?"":R),D(1)},children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:e("mprojects.city")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:e("mprojects.allCities")}),f.map(R=>l.jsx(Pe,{value:R.city_id.toString(),children:Gn(R,"city_name_en","city_name_ar")},R.city_id))]})]})]})]})]}),Me&&l.jsxs(ct,{children:[l.jsx(Yt,{children:l.jsx(br,{children:e("mprojects.analytics")})}),l.jsx(xt,{children:l.jsxs(kl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsx(en,{value:"overview",children:"Overview"}),l.jsx(en,{value:"timeline",children:"Timeline"})]}),l.jsx(On,{value:"overview",className:"mt-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),l.jsx(nu,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(ns,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(de=>({name:de.name,value:wn.filter(Ne=>Ne.contract_amount&&Ne.contract_amount>=de.min&&Ne.contract_amount<de.max).length})).filter(de=>de.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:K})=>`${R}: ${K}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,K)=>l.jsx(sl,{fill:R},`cell-${K}`))}),l.jsx(Td,{content:l.jsx(au,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),l.jsx(nu,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(ns,{data:(()=>{const R=f.map(K=>({name:Gn(K,"city_name_en","city_name_ar"),value:wn.filter(de=>de.city_id===K.city_id).length})).filter(K=>K.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:K})=>`${R}: ${K}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,K)=>l.jsx(sl,{fill:R},`cell-${K}`))}),l.jsx(Td,{content:l.jsx(au,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),l.jsx("div",{className:"text-5xl font-bold text-primary",children:wn.length}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),l.jsx(On,{value:"timeline",className:"mt-4",children:l.jsx("div",{className:"w-full h-[400px]",children:l.jsx(n4,{width:"100%",height:"100%",children:l.jsxs(qJ,{data:(()=>{const R=new Map;return wn.forEach(de=>{const Ne=new Date(de.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});R.set(Ne,(R.get(Ne)||0)+1)}),Array.from(R.entries()).sort((de,Ne)=>new Date(de[0]).getTime()-new Date(Ne[0]).getTime()).map(([de,Ne])=>({date:de,count:Ne}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[l.jsx($4,{strokeDasharray:"3 3"}),l.jsx(ry,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),l.jsx(ny,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),l.jsx(Ai,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:R=>[`${R} projects`,"Total"]}),l.jsx(Pu,{}),l.jsx(l0,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),l.jsx(ct,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:l.jsx(xt,{className:"h-full flex flex-col p-0",children:l.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:De==="kanban"?l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:yi.map(R=>{var K;return l.jsxs(ct,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>Re(R),children:[l.jsx(Yt,{className:"pb-2 px-4 pt-3",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-sm truncate",children:R.company_name||"No Company"}),R.contract_code&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:R.contract_code})]})})}),l.jsxs(xt,{className:"px-4 pb-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Lm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),l.jsx("p",{className:"text-xs font-medium truncate",children:ce(R.city_id)})]})}),l.jsx("div",{children:l.jsxs(ht,{variant:"outline",className:"text-xs",children:["$",((K=R.contract_amount)==null?void 0:K.toLocaleString())||"0"]})})]}),l.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("span",{children:["Created: ",new Date(R.created_at).toLocaleDateString()]})})})]})]},R.project_id)})})}):l.jsx(l.Fragment,{children:wn.length===0?l.jsx(pl,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:l.jsx(Cn,{className:"h-12 w-12"})}):l.jsx(wc,{data:yi,columns:od,actions:W,bulkActions:Ll,enableBulkSelect:!0,keyExtractor:R=>R.project_id.toString(),onRowClick:R=>Re(R),rowHeight:"h-26"})})})})}),l.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:pa>0&&l.jsx("div",{className:"flex justify-center",children:l.jsx(NP,{children:l.jsxs(EP,{children:[l.jsx(af,{children:l.jsx(TP,{onClick:()=>D(Math.max(0,O-1)),className:O===0?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),l.jsx(af,{children:l.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",O+1," ",e("common.of")," ",pa]})}),l.jsx(af,{children:l.jsx(AP,{onClick:()=>D(Math.min(pa-1,O+1)),className:O===pa-1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})}),l.jsx(mi,{open:M!==null,onOpenChange:()=>Y(null),children:l.jsxs(Is,{children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:e("mprojects.deleteProject")}),l.jsx($s,{children:e("mprojects.deleteProjectConfirmation")})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:e("common.cancel")}),l.jsx(Bs,{onClick:()=>M&&Be(M),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),l.jsx(Sl,{open:he,onOpenChange:P,children:l.jsxs(Io,{side:a?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[l.jsx(yc,{children:l.jsxs(jl,{className:"flex items-center gap-2 min-w-0",children:[l.jsx(Cn,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:se==null?void 0:se.company_name})]})}),se&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),l.jsxs(ue,{onClick:()=>{tt(se),P(!1)},variant:"outline",size:"sm",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),l.jsxs(kl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsx(en,{value:"overview",children:e("common.overview")}),l.jsx(en,{value:"notes",children:e("notes.title")})]}),l.jsxs(On,{value:"overview",className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:se.company_name||"-"}),se.contract_code&&l.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",se.contract_code]})]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),l.jsx("p",{className:"font-medium",children:se.contract_amount?`$${se.contract_amount.toLocaleString()}`:"-"})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),l.jsx("p",{className:"font-medium",children:se.cont_start_date?new Date(se.cont_start_date).toLocaleDateString():"-"})]})}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),l.jsx("p",{className:"font-medium",children:se.cont_end_date?new Date(se.cont_end_date).toLocaleDateString():"-"})]})})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Lm,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),l.jsx("p",{className:"font-medium",children:ce(se.city_id)})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const R=m.filter(K=>K.project_id===se.project_id);return R.length>0?l.jsx("div",{className:"space-y-2",children:R.map((K,de)=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:K.contact_name||"-"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[K.contact_email&&`${K.contact_email}  `,K.contact_mobile&&`${K.contact_mobile}`]})]}),l.jsx(ht,{variant:"outline",className:"text-xs",children:w.find(Ne=>Ne.jobtitle_id===K.jobtitle_id)?Gn(w.find(Ne=>Ne.jobtitle_id===K.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},K.contact_id||de))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),l.jsx("p",{className:"text-sm font-medium",children:new Date(se.created_at).toLocaleDateString()})]})}),se.contract_document&&(()=>{const R=se.contract_document;return l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Zs,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),l.jsx("p",{className:"text-sm font-medium truncate",children:R.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.size&&`${(R.size/1024/1024).toFixed(2)} MB`,"  ",new Date(R.uploaded_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-1",children:[R.url&&l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>window.open(R.url,"_blank"),className:"h-8 w-8 p-0",children:l.jsx(kie,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"sm",onClick:async()=>{try{await YGe(se.project_id),s({title:e("common.success"),description:"Contract document deleted successfully"}),await Qt(),P(!1)}catch{s({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:l.jsx(wr,{className:"h-4 w-4"})})]})]})})()]}),l.jsx(On,{value:"notes",className:"mt-4",children:l.jsx(DO,{relatedType:"mlead",relatedId:se.project_id,notes:Le,onNotesChange:()=>Ye(se.project_id)})})]})]})]})})]})}const vw={async getRequests(){return(await G.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await G.requests.get(e)},async createRequest(e){return await G.requests.create(e)},async updateRequest(e,r){return await G.requests.update(e,r)},async deleteRequest(e){await G.requests.delete(e)}};var ay=e=>e.type==="checkbox",Vd=e=>e instanceof Date,es=e=>e==null;const YJ=e=>typeof e=="object";var xn=e=>!es(e)&&!Array.isArray(e)&&YJ(e)&&!Vd(e),XJ=e=>xn(e)&&e.target?ay(e.target)?e.target.checked:e.target.value:e,JGe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,JJ=(e,r)=>e.has(JGe(r)),QGe=e=>{const r=e.constructor&&e.constructor.prototype;return xn(r)&&r.hasOwnProperty("isPrototypeOf")},B4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ln(e){let r;const n=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(B4&&(e instanceof Blob||a))&&(n||xn(e)))if(r=n?[]:{},!n&&!QGe(e))r=e;else for(const s in e)e.hasOwnProperty(s)&&(r[s]=Ln(e[s]));else return e;return r}var fj=e=>/^\w*$/.test(e),fn=e=>e===void 0,U4=e=>Array.isArray(e)?e.filter(Boolean):[],V4=e=>U4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),rt=(e,r,n)=>{if(!r||!xn(e))return n;const a=(fj(r)?[r]:V4(r)).reduce((s,i)=>es(s)?s:s[i],e);return fn(a)||a===e?fn(e[r])?n:e[r]:a},Qs=e=>typeof e=="boolean",xr=(e,r,n)=>{let a=-1;const s=fj(r)?[r]:V4(r),i=s.length,o=i-1;for(;++a<i;){const c=s[a];let u=n;if(a!==o){const d=e[c];u=xn(d)||Array.isArray(d)?d:isNaN(+s[a+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=u,e=e[c]}};const n_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},yo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},z4=ne.createContext(null);z4.displayName="HookFormContext";const hj=()=>ne.useContext(z4),ZGe=e=>{const{children:r,...n}=e;return ne.createElement(z4.Provider,{value:n},r)};var QJ=(e,r,n,a=!0)=>{const s={defaultValues:r._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return r._proxyFormState[o]!==yo.all&&(r._proxyFormState[o]=!a||yo.all),n&&(n[o]=!0),e[o]}});return s};const W4=typeof window<"u"?ne.useLayoutEffect:ne.useEffect;function eYe(e){const r=hj(),{control:n=r.control,disabled:a,name:s,exact:i}=e||{},[o,c]=ne.useState(n._formState),u=ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return W4(()=>n._subscribe({name:s,formState:u.current,exact:i,callback:d=>{!a&&c({...n._formState,...d})}}),[s,a,i]),ne.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),ne.useMemo(()=>QJ(o,n,u.current,!1),[o,n])}var dl=e=>typeof e=="string",ZJ=(e,r,n,a,s)=>dl(e)?(a&&r.watch.add(e),rt(n,e,s)):Array.isArray(e)?e.map(i=>(a&&r.watch.add(i),rt(n,i))):(a&&(r.watchAll=!0),n),gT=e=>es(e)||!YJ(e);function Jl(e,r,n=new WeakSet){if(gT(e)||gT(r))return e===r;if(Vd(e)&&Vd(r))return e.getTime()===r.getTime();const a=Object.keys(e),s=Object.keys(r);if(a.length!==s.length)return!1;if(n.has(e)||n.has(r))return!0;n.add(e),n.add(r);for(const i of a){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const c=r[i];if(Vd(o)&&Vd(c)||xn(o)&&xn(c)||Array.isArray(o)&&Array.isArray(c)?!Jl(o,c,n):o!==c)return!1}}return!0}function tYe(e){const r=hj(),{control:n=r.control,name:a,defaultValue:s,disabled:i,exact:o,compute:c}=e||{},u=ne.useRef(s),d=ne.useRef(c),f=ne.useRef(void 0);d.current=c;const h=ne.useMemo(()=>n._getWatch(a,u.current),[n,a]),[m,p]=ne.useState(d.current?d.current(h):h);return W4(()=>n._subscribe({name:a,formState:{values:!0},exact:o,callback:v=>{if(!i){const g=ZJ(a,n._names,v.values||n._formValues,!1,u.current);if(d.current){const x=d.current(g);Jl(x,f.current)||(p(x),f.current=x)}else p(g)}}}),[n,i,a,o]),ne.useEffect(()=>n._removeUnmounted()),m}function rYe(e){const r=hj(),{name:n,disabled:a,control:s=r.control,shouldUnregister:i,defaultValue:o}=e,c=JJ(s._names.array,n),u=ne.useMemo(()=>rt(s._formValues,n,rt(s._defaultValues,n,o)),[s,n,o]),d=tYe({control:s,name:n,defaultValue:u,exact:!0}),f=eYe({control:s,name:n,exact:!0}),h=ne.useRef(e),m=ne.useRef(s.register(n,{...e.rules,value:d,...Qs(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!rt(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!rt(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!rt(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!rt(f.validatingFields,n)},error:{enumerable:!0,get:()=>rt(f.errors,n)}}),[f,n]),v=ne.useCallback(w=>m.current.onChange({target:{value:XJ(w),name:n},type:n_.CHANGE}),[n]),g=ne.useCallback(()=>m.current.onBlur({target:{value:rt(s._formValues,n),name:n},type:n_.BLUR}),[n,s._formValues]),x=ne.useCallback(w=>{const _=rt(s._fields,n);_&&w&&(_._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:S=>w.setCustomValidity(S),reportValidity:()=>w.reportValidity()})},[s._fields,n]),b=ne.useMemo(()=>({name:n,value:d,...Qs(a)||f.disabled?{disabled:f.disabled||a}:{},onChange:v,onBlur:g,ref:x}),[n,a,f.disabled,v,g,x,d]);return ne.useEffect(()=>{const w=s._options.shouldUnregister||i;s.register(n,{...h.current.rules,...Qs(h.current.disabled)?{disabled:h.current.disabled}:{}});const _=(S,j)=>{const N=rt(s._fields,S);N&&N._f&&(N._f.mount=j)};if(_(n,!0),w){const S=Ln(rt(s._options.defaultValues,n));xr(s._defaultValues,n,S),fn(rt(s._formValues,n))&&xr(s._formValues,n,S)}return!c&&s.register(n),()=>{(c?w&&!s._state.action:w)?s.unregister(n):_(n,!1)}},[n,s,c,i]),ne.useEffect(()=>{s._setDisabledField({disabled:a,name:n})},[a,n,s]),ne.useMemo(()=>({field:b,formState:f,fieldState:p}),[b,f,p])}const nYe=e=>e.render(rYe(e));var eQ=(e,r,n,a,s)=>r?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:s||!0}}:{},Pg=e=>Array.isArray(e)?e:[e],o8=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},ys=e=>xn(e)&&!Object.keys(e).length,H4=e=>e.type==="file",wo=e=>typeof e=="function",a_=e=>{if(!B4)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},tQ=e=>e.type==="select-multiple",q4=e=>e.type==="radio",aYe=e=>q4(e)||ay(e),EN=e=>a_(e)&&e.isConnected;function sYe(e,r){const n=r.slice(0,-1).length;let a=0;for(;a<n;)e=fn(e)?a++:e[r[a++]];return e}function iYe(e){for(const r in e)if(e.hasOwnProperty(r)&&!fn(e[r]))return!1;return!0}function Sn(e,r){const n=Array.isArray(r)?r:fj(r)?[r]:V4(r),a=n.length===1?e:sYe(e,n),s=n.length-1,i=n[s];return a&&delete a[i],s!==0&&(xn(a)&&ys(a)||Array.isArray(a)&&iYe(a))&&Sn(e,n.slice(0,-1)),e}var rQ=e=>{for(const r in e)if(wo(e[r]))return!0;return!1};function s_(e,r={}){const n=Array.isArray(e);if(xn(e)||n)for(const a in e)Array.isArray(e[a])||xn(e[a])&&!rQ(e[a])?(r[a]=Array.isArray(e[a])?[]:{},s_(e[a],r[a])):es(e[a])||(r[a]=!0);return r}function nQ(e,r,n){const a=Array.isArray(e);if(xn(e)||a)for(const s in e)Array.isArray(e[s])||xn(e[s])&&!rQ(e[s])?fn(r)||gT(n[s])?n[s]=Array.isArray(e[s])?s_(e[s],[]):{...s_(e[s])}:nQ(e[s],es(r)?{}:r[s],n[s]):n[s]=!Jl(e[s],r[s]);return n}var I0=(e,r)=>nQ(e,r,s_(r));const l8={value:!1,isValid:!1},c8={value:!0,isValid:!0};var aQ=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!fn(e[0].attributes.value)?fn(e[0].value)||e[0].value===""?c8:{value:e[0].value,isValid:!0}:c8:l8}return l8},sQ=(e,{valueAsNumber:r,valueAsDate:n,setValueAs:a})=>fn(e)?e:r?e===""?NaN:e&&+e:n&&dl(e)?new Date(e):a?a(e):e;const u8={isValid:!1,value:null};var iQ=e=>Array.isArray(e)?e.reduce((r,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:r,u8):u8;function d8(e){const r=e.ref;return H4(r)?r.files:q4(r)?iQ(e.refs).value:tQ(r)?[...r.selectedOptions].map(({value:n})=>n):ay(r)?aQ(e.refs).value:sQ(fn(r.value)?e.ref.value:r.value,e)}var oYe=(e,r,n,a)=>{const s={};for(const i of e){const o=rt(r,i);o&&xr(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:a}},i_=e=>e instanceof RegExp,M0=e=>fn(e)?e:i_(e)?e.source:xn(e)?i_(e.value)?e.value.source:e.value:e,f8=e=>({isOnSubmit:!e||e===yo.onSubmit,isOnBlur:e===yo.onBlur,isOnChange:e===yo.onChange,isOnAll:e===yo.all,isOnTouch:e===yo.onTouched});const h8="AsyncFunction";var lYe=e=>!!e&&!!e.validate&&!!(wo(e.validate)&&e.validate.constructor.name===h8||xn(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===h8)),cYe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),m8=(e,r,n)=>!n&&(r.watchAll||r.watch.has(e)||[...r.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Dg=(e,r,n,a)=>{for(const s of n||Object.keys(e)){const i=rt(e,s);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],s)&&!a)return!0;if(o.ref&&r(o.ref,o.name)&&!a)return!0;if(Dg(c,r))break}else if(xn(c)&&Dg(c,r))break}}};function p8(e,r,n){const a=rt(e,n);if(a||fj(n))return{error:a,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=rt(r,i),c=rt(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};s.pop()}return{name:n}}var uYe=(e,r,n,a)=>{n(e);const{name:s,...i}=e;return ys(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(o=>r[o]===(!a||yo.all))},dYe=(e,r,n)=>!e||!r||e===r||Pg(e).some(a=>a&&(n?a===r:a.startsWith(r)||r.startsWith(a))),fYe=(e,r,n,a,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(r||e):(n?a.isOnBlur:s.isOnBlur)?!e:(n?a.isOnChange:s.isOnChange)?e:!0,hYe=(e,r)=>!U4(rt(e,r)).length&&Sn(e,r),mYe=(e,r,n)=>{const a=Pg(rt(e,n));return xr(a,"root",r[n]),xr(e,n,a),e},Hw=e=>dl(e);function g8(e,r,n="validate"){if(Hw(e)||Array.isArray(e)&&e.every(Hw)||Qs(e)&&!e)return{type:n,message:Hw(e)?e:"",ref:r}}var ph=e=>xn(e)&&!i_(e)?e:{value:e,message:""},v8=async(e,r,n,a,s,i)=>{const{ref:o,refs:c,required:u,maxLength:d,minLength:f,min:h,max:m,pattern:p,validate:v,name:g,valueAsNumber:x,mount:b}=e._f,w=rt(n,g);if(!b||r.has(g))return{};const _=c?c[0]:o,S=T=>{s&&_.reportValidity&&(_.setCustomValidity(Qs(T)?"":T||""),_.reportValidity())},j={},N=q4(o),k=ay(o),E=N||k,C=(x||H4(o))&&fn(o.value)&&fn(w)||a_(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,O=eQ.bind(null,g,a,j),D=(T,z,q,F=zl.maxLength,I=zl.minLength)=>{const V=T?z:q;j[g]={type:T?F:I,message:V,ref:o,...O(T?F:I,V)}};if(i?!Array.isArray(w)||!w.length:u&&(!E&&(C||es(w))||Qs(w)&&!w||k&&!aQ(c).isValid||N&&!iQ(c).isValid)){const{value:T,message:z}=Hw(u)?{value:!!u,message:u}:ph(u);if(T&&(j[g]={type:zl.required,message:z,ref:_,...O(zl.required,z)},!a))return S(z),j}if(!C&&(!es(h)||!es(m))){let T,z;const q=ph(m),F=ph(h);if(!es(w)&&!isNaN(w)){const I=o.valueAsNumber||w&&+w;es(q.value)||(T=I>q.value),es(F.value)||(z=I<F.value)}else{const I=o.valueAsDate||new Date(w),V=Y=>new Date(new Date().toDateString()+" "+Y),L=o.type=="time",M=o.type=="week";dl(q.value)&&w&&(T=L?V(w)>V(q.value):M?w>q.value:I>new Date(q.value)),dl(F.value)&&w&&(z=L?V(w)<V(F.value):M?w<F.value:I<new Date(F.value))}if((T||z)&&(D(!!T,q.message,F.message,zl.max,zl.min),!a))return S(j[g].message),j}if((d||f)&&!C&&(dl(w)||i&&Array.isArray(w))){const T=ph(d),z=ph(f),q=!es(T.value)&&w.length>+T.value,F=!es(z.value)&&w.length<+z.value;if((q||F)&&(D(q,T.message,z.message),!a))return S(j[g].message),j}if(p&&!C&&dl(w)){const{value:T,message:z}=ph(p);if(i_(T)&&!w.match(T)&&(j[g]={type:zl.pattern,message:z,ref:o,...O(zl.pattern,z)},!a))return S(z),j}if(v){if(wo(v)){const T=await v(w,n),z=g8(T,_);if(z&&(j[g]={...z,...O(zl.validate,z.message)},!a))return S(z.message),j}else if(xn(v)){let T={};for(const z in v){if(!ys(T)&&!a)break;const q=g8(await v[z](w,n),_,z);q&&(T={...q,...O(z,q.message)},S(q.message),a&&(j[g]=T))}if(!ys(T)&&(j[g]={ref:_,...T},!a))return j}}return S(!0),j};const pYe={mode:yo.onSubmit,reValidateMode:yo.onChange,shouldFocusError:!0};function gYe(e={}){let r={...pYe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:wo(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},s=xn(r.defaultValues)||xn(r.values)?Ln(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:Ln(s),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const m={array:o8(),state:o8()},p=r.criteriaMode===yo.all,v=ie=>me=>{clearTimeout(d),d=setTimeout(ie,me)},g=async ie=>{if(!r.disabled&&(f.isValid||h.isValid||ie)){const me=r.resolver?ys((await k()).errors):await C(a,!0);me!==n.isValid&&m.state.next({isValid:me})}},x=(ie,me)=>{!r.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((ie||Array.from(c.mount)).forEach(te=>{te&&(me?xr(n.validatingFields,te,me):Sn(n.validatingFields,te))}),m.state.next({validatingFields:n.validatingFields,isValidating:!ys(n.validatingFields)}))},b=(ie,me=[],te,_e,Ce=!0,ye=!0)=>{if(_e&&te&&!r.disabled){if(o.action=!0,ye&&Array.isArray(rt(a,ie))){const le=te(rt(a,ie),_e.argA,_e.argB);Ce&&xr(a,ie,le)}if(ye&&Array.isArray(rt(n.errors,ie))){const le=te(rt(n.errors,ie),_e.argA,_e.argB);Ce&&xr(n.errors,ie,le),hYe(n.errors,ie)}if((f.touchedFields||h.touchedFields)&&ye&&Array.isArray(rt(n.touchedFields,ie))){const le=te(rt(n.touchedFields,ie),_e.argA,_e.argB);Ce&&xr(n.touchedFields,ie,le)}(f.dirtyFields||h.dirtyFields)&&(n.dirtyFields=I0(s,i)),m.state.next({name:ie,isDirty:D(ie,me),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xr(i,ie,me)},w=(ie,me)=>{xr(n.errors,ie,me),m.state.next({errors:n.errors})},_=ie=>{n.errors=ie,m.state.next({errors:n.errors,isValid:!1})},S=(ie,me,te,_e)=>{const Ce=rt(a,ie);if(Ce){const ye=rt(i,ie,fn(te)?rt(s,ie):te);fn(ye)||_e&&_e.defaultChecked||me?xr(i,ie,me?ye:d8(Ce._f)):q(ie,ye),o.mount&&g()}},j=(ie,me,te,_e,Ce)=>{let ye=!1,le=!1;const fe={name:ie};if(!r.disabled){if(!te||_e){(f.isDirty||h.isDirty)&&(le=n.isDirty,n.isDirty=fe.isDirty=D(),ye=le!==fe.isDirty);const xe=Jl(rt(s,ie),me);le=!!rt(n.dirtyFields,ie),xe?Sn(n.dirtyFields,ie):xr(n.dirtyFields,ie,!0),fe.dirtyFields=n.dirtyFields,ye=ye||(f.dirtyFields||h.dirtyFields)&&le!==!xe}if(te){const xe=rt(n.touchedFields,ie);xe||(xr(n.touchedFields,ie,te),fe.touchedFields=n.touchedFields,ye=ye||(f.touchedFields||h.touchedFields)&&xe!==te)}ye&&Ce&&m.state.next(fe)}return ye?fe:{}},N=(ie,me,te,_e)=>{const Ce=rt(n.errors,ie),ye=(f.isValid||h.isValid)&&Qs(me)&&n.isValid!==me;if(r.delayError&&te?(u=v(()=>w(ie,te)),u(r.delayError)):(clearTimeout(d),u=null,te?xr(n.errors,ie,te):Sn(n.errors,ie)),(te?!Jl(Ce,te):Ce)||!ys(_e)||ye){const le={..._e,...ye&&Qs(me)?{isValid:me}:{},errors:n.errors,name:ie};n={...n,...le},m.state.next(le)}},k=async ie=>{x(ie,!0);const me=await r.resolver(i,r.context,oYe(ie||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return x(ie),me},E=async ie=>{const{errors:me}=await k(ie);if(ie)for(const te of ie){const _e=rt(me,te);_e?xr(n.errors,te,_e):Sn(n.errors,te)}else n.errors=me;return me},C=async(ie,me,te={valid:!0})=>{for(const _e in ie){const Ce=ie[_e];if(Ce){const{_f:ye,...le}=Ce;if(ye){const fe=c.array.has(ye.name),xe=Ce._f&&lYe(Ce._f);xe&&f.validatingFields&&x([_e],!0);const pe=await v8(Ce,c.disabled,i,p,r.shouldUseNativeValidation&&!me,fe);if(xe&&f.validatingFields&&x([_e]),pe[ye.name]&&(te.valid=!1,me))break;!me&&(rt(pe,ye.name)?fe?mYe(n.errors,pe,ye.name):xr(n.errors,ye.name,pe[ye.name]):Sn(n.errors,ye.name))}!ys(le)&&await C(le,me,te)}}return te.valid},O=()=>{for(const ie of c.unMount){const me=rt(a,ie);me&&(me._f.refs?me._f.refs.every(te=>!EN(te)):!EN(me._f.ref))&&oe(ie)}c.unMount=new Set},D=(ie,me)=>!r.disabled&&(ie&&me&&xr(i,ie,me),!Jl(Y(),s)),T=(ie,me,te)=>ZJ(ie,c,{...o.mount?i:fn(me)?s:dl(ie)?{[ie]:me}:me},te,me),z=ie=>U4(rt(o.mount?i:s,ie,r.shouldUnregister?rt(s,ie,[]):[])),q=(ie,me,te={})=>{const _e=rt(a,ie);let Ce=me;if(_e){const ye=_e._f;ye&&(!ye.disabled&&xr(i,ie,sQ(me,ye)),Ce=a_(ye.ref)&&es(me)?"":me,tQ(ye.ref)?[...ye.ref.options].forEach(le=>le.selected=Ce.includes(le.value)):ye.refs?ay(ye.ref)?ye.refs.forEach(le=>{(!le.defaultChecked||!le.disabled)&&(Array.isArray(Ce)?le.checked=!!Ce.find(fe=>fe===le.value):le.checked=Ce===le.value||!!Ce)}):ye.refs.forEach(le=>le.checked=le.value===Ce):H4(ye.ref)?ye.ref.value="":(ye.ref.value=Ce,ye.ref.type||m.state.next({name:ie,values:Ln(i)})))}(te.shouldDirty||te.shouldTouch)&&j(ie,Ce,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&M(ie)},F=(ie,me,te)=>{for(const _e in me){if(!me.hasOwnProperty(_e))return;const Ce=me[_e],ye=ie+"."+_e,le=rt(a,ye);(c.array.has(ie)||xn(Ce)||le&&!le._f)&&!Vd(Ce)?F(ye,Ce,te):q(ye,Ce,te)}},I=(ie,me,te={})=>{const _e=rt(a,ie),Ce=c.array.has(ie),ye=Ln(me);xr(i,ie,ye),Ce?(m.array.next({name:ie,values:Ln(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&te.shouldDirty&&m.state.next({name:ie,dirtyFields:I0(s,i),isDirty:D(ie,ye)})):_e&&!_e._f&&!es(ye)?F(ie,ye,te):q(ie,ye,te),m8(ie,c)&&m.state.next({...n,name:ie}),m.state.next({name:o.mount?ie:void 0,values:Ln(i)})},V=async ie=>{o.mount=!0;const me=ie.target;let te=me.name,_e=!0;const Ce=rt(a,te),ye=xe=>{_e=Number.isNaN(xe)||Vd(xe)&&isNaN(xe.getTime())||Jl(xe,rt(i,te,xe))},le=f8(r.mode),fe=f8(r.reValidateMode);if(Ce){let xe,pe;const Te=me.type?d8(Ce._f):XJ(ie),Fe=ie.type===n_.BLUR||ie.type===n_.FOCUS_OUT,Ue=!cYe(Ce._f)&&!r.resolver&&!rt(n.errors,te)&&!Ce._f.deps||fYe(Fe,rt(n.touchedFields,te),n.isSubmitted,fe,le),Ve=m8(te,c,Fe);xr(i,te,Te),Fe?(Ce._f.onBlur&&Ce._f.onBlur(ie),u&&u(0)):Ce._f.onChange&&Ce._f.onChange(ie);const ot=j(te,Te,Fe),Kt=!ys(ot)||Ve;if(!Fe&&m.state.next({name:te,type:ie.type,values:Ln(i)}),Ue)return(f.isValid||h.isValid)&&(r.mode==="onBlur"?Fe&&g():Fe||g()),Kt&&m.state.next({name:te,...Ve?{}:ot});if(!Fe&&Ve&&m.state.next({...n}),r.resolver){const{errors:Qt}=await k([te]);if(ye(Te),_e){const Nr=p8(n.errors,a,te),Br=p8(Qt,a,Nr.name||te);xe=Br.error,te=Br.name,pe=ys(Qt)}}else x([te],!0),xe=(await v8(Ce,c.disabled,i,p,r.shouldUseNativeValidation))[te],x([te]),ye(Te),_e&&(xe?pe=!1:(f.isValid||h.isValid)&&(pe=await C(a,!0)));_e&&(Ce._f.deps&&M(Ce._f.deps),N(te,pe,xe,ot))}},L=(ie,me)=>{if(rt(n.errors,me)&&ie.focus)return ie.focus(),1},M=async(ie,me={})=>{let te,_e;const Ce=Pg(ie);if(r.resolver){const ye=await E(fn(ie)?ie:Ce);te=ys(ye),_e=ie?!Ce.some(le=>rt(ye,le)):te}else ie?(_e=(await Promise.all(Ce.map(async ye=>{const le=rt(a,ye);return await C(le&&le._f?{[ye]:le}:le)}))).every(Boolean),!(!_e&&!n.isValid)&&g()):_e=te=await C(a);return m.state.next({...!dl(ie)||(f.isValid||h.isValid)&&te!==n.isValid?{}:{name:ie},...r.resolver||!ie?{isValid:te}:{},errors:n.errors}),me.shouldFocus&&!_e&&Dg(a,L,ie?Ce:c.mount),_e},Y=ie=>{const me={...o.mount?i:s};return fn(ie)?me:dl(ie)?rt(me,ie):ie.map(te=>rt(me,te))},Z=(ie,me)=>({invalid:!!rt((me||n).errors,ie),isDirty:!!rt((me||n).dirtyFields,ie),error:rt((me||n).errors,ie),isValidating:!!rt(n.validatingFields,ie),isTouched:!!rt((me||n).touchedFields,ie)}),A=ie=>{ie&&Pg(ie).forEach(me=>Sn(n.errors,me)),m.state.next({errors:ie?n.errors:{}})},X=(ie,me,te)=>{const _e=(rt(a,ie,{_f:{}})._f||{}).ref,Ce=rt(n.errors,ie)||{},{ref:ye,message:le,type:fe,...xe}=Ce;xr(n.errors,ie,{...xe,...me,ref:_e}),m.state.next({name:ie,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&_e&&_e.focus&&_e.focus()},U=(ie,me)=>wo(ie)?m.state.subscribe({next:te=>"values"in te&&ie(T(void 0,me),te)}):T(ie,me,!0),H=ie=>m.state.subscribe({next:me=>{dYe(ie.name,me.name,ie.exact)&&uYe(me,ie.formState||f,De,ie.reRenderRoot)&&ie.callback({values:{...i},...n,...me,defaultValues:s})}}).unsubscribe,ae=ie=>(o.mount=!0,h={...h,...ie.formState},H({...ie,formState:h})),oe=(ie,me={})=>{for(const te of ie?Pg(ie):c.mount)c.mount.delete(te),c.array.delete(te),me.keepValue||(Sn(a,te),Sn(i,te)),!me.keepError&&Sn(n.errors,te),!me.keepDirty&&Sn(n.dirtyFields,te),!me.keepTouched&&Sn(n.touchedFields,te),!me.keepIsValidating&&Sn(n.validatingFields,te),!r.shouldUnregister&&!me.keepDefaultValue&&Sn(s,te);m.state.next({values:Ln(i)}),m.state.next({...n,...me.keepDirty?{isDirty:D()}:{}}),!me.keepIsValid&&g()},we=({disabled:ie,name:me})=>{(Qs(ie)&&o.mount||ie||c.disabled.has(me))&&(ie?c.disabled.add(me):c.disabled.delete(me))},se=(ie,me={})=>{let te=rt(a,ie);const _e=Qs(me.disabled)||Qs(r.disabled);return xr(a,ie,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:ie}},name:ie,mount:!0,...me}}),c.mount.add(ie),te?we({disabled:Qs(me.disabled)?me.disabled:r.disabled,name:ie}):S(ie,!0,me.value),{..._e?{disabled:me.disabled||r.disabled}:{},...r.progressive?{required:!!me.required,min:M0(me.min),max:M0(me.max),minLength:M0(me.minLength),maxLength:M0(me.maxLength),pattern:M0(me.pattern)}:{},name:ie,onChange:V,onBlur:V,ref:Ce=>{if(Ce){se(ie,me),te=rt(a,ie);const ye=fn(Ce.value)&&Ce.querySelectorAll&&Ce.querySelectorAll("input,select,textarea")[0]||Ce,le=aYe(ye),fe=te._f.refs||[];if(le?fe.find(xe=>xe===ye):ye===te._f.ref)return;xr(a,ie,{_f:{...te._f,...le?{refs:[...fe.filter(EN),ye,...Array.isArray(rt(s,ie))?[{}]:[]],ref:{type:ye.type,name:ie}}:{ref:ye}}}),S(ie,!1,void 0,ye)}else te=rt(a,ie,{}),te._f&&(te._f.mount=!1),(r.shouldUnregister||me.shouldUnregister)&&!(JJ(c.array,ie)&&o.action)&&c.unMount.add(ie)}}},Q=()=>r.shouldFocusError&&Dg(a,L,c.mount),he=ie=>{Qs(ie)&&(m.state.next({disabled:ie}),Dg(a,(me,te)=>{const _e=rt(a,te);_e&&(me.disabled=_e._f.disabled||ie,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(Ce=>{Ce.disabled=_e._f.disabled||ie}))},0,!1))},P=(ie,me)=>async te=>{let _e;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let Ce=Ln(i);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:ye,values:le}=await k();n.errors=ye,Ce=Ln(le)}else await C(a);if(c.disabled.size)for(const ye of c.disabled)Sn(Ce,ye);if(Sn(n.errors,"root"),ys(n.errors)){m.state.next({errors:{}});try{await ie(Ce,te)}catch(ye){_e=ye}}else me&&await me({...n.errors},te),Q(),setTimeout(Q);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ys(n.errors)&&!_e,submitCount:n.submitCount+1,errors:n.errors}),_e)throw _e},Le=(ie,me={})=>{rt(a,ie)&&(fn(me.defaultValue)?I(ie,Ln(rt(s,ie))):(I(ie,me.defaultValue),xr(s,ie,Ln(me.defaultValue))),me.keepTouched||Sn(n.touchedFields,ie),me.keepDirty||(Sn(n.dirtyFields,ie),n.isDirty=me.defaultValue?D(ie,Ln(rt(s,ie))):D()),me.keepError||(Sn(n.errors,ie),f.isValid&&g()),m.state.next({...n}))},$e=(ie,me={})=>{const te=ie?Ln(ie):s,_e=Ln(te),Ce=ys(ie),ye=Ce?s:_e;if(me.keepDefaultValues||(s=te),!me.keepValues){if(me.keepDirtyValues){const le=new Set([...c.mount,...Object.keys(I0(s,i))]);for(const fe of Array.from(le))rt(n.dirtyFields,fe)?xr(ye,fe,rt(i,fe)):I(fe,rt(ye,fe))}else{if(B4&&fn(ie))for(const le of c.mount){const fe=rt(a,le);if(fe&&fe._f){const xe=Array.isArray(fe._f.refs)?fe._f.refs[0]:fe._f.ref;if(a_(xe)){const pe=xe.closest("form");if(pe){pe.reset();break}}}}if(me.keepFieldsRef)for(const le of c.mount)I(le,rt(ye,le));else a={}}i=r.shouldUnregister?me.keepDefaultValues?Ln(s):{}:Ln(ye),m.array.next({values:{...ye}}),m.state.next({values:{...ye}})}c={mount:me.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!me.keepIsValid||!!me.keepDirtyValues,o.watch=!!r.shouldUnregister,m.state.next({submitCount:me.keepSubmitCount?n.submitCount:0,isDirty:Ce?!1:me.keepDirty?n.isDirty:!!(me.keepDefaultValues&&!Jl(ie,s)),isSubmitted:me.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ce?{}:me.keepDirtyValues?me.keepDefaultValues&&i?I0(s,i):n.dirtyFields:me.keepDefaultValues&&ie?I0(s,ie):me.keepDirty?n.dirtyFields:{},touchedFields:me.keepTouched?n.touchedFields:{},errors:me.keepErrors?n.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(ie,me)=>$e(wo(ie)?ie(i):ie,me),He=(ie,me={})=>{const te=rt(a,ie),_e=te&&te._f;if(_e){const Ce=_e.refs?_e.refs[0]:_e.ref;Ce.focus&&(Ce.focus(),me.shouldSelect&&wo(Ce.select)&&Ce.select())}},De=ie=>{n={...n,...ie}},dt={control:{register:se,unregister:oe,getFieldState:Z,handleSubmit:P,setError:X,_subscribe:H,_runSchema:k,_focusError:Q,_getWatch:T,_getDirty:D,_setValid:g,_setFieldArray:b,_setDisabledField:we,_setErrors:_,_getFieldArray:z,_reset:$e,_resetDefaultValues:()=>wo(r.defaultValues)&&r.defaultValues().then(ie=>{Me(ie,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:he,_subjects:m,_proxyFormState:f,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(ie){o=ie},get _defaultValues(){return s},get _names(){return c},set _names(ie){c=ie},get _formState(){return n},get _options(){return r},set _options(ie){r={...r,...ie}}},subscribe:ae,trigger:M,register:se,handleSubmit:P,watch:U,setValue:I,getValues:Y,reset:Me,resetField:Le,clearErrors:A,unregister:oe,setError:X,setFocus:He,getFieldState:Z};return{...dt,formControl:dt}}function vYe(e={}){const r=ne.useRef(void 0),n=ne.useRef(void 0),[a,s]=ne.useState({isDirty:!1,isValidating:!1,isLoading:wo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:wo(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:a},e.defaultValues&&!wo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=gYe(e);r.current={...c,formState:a}}const i=r.current.control;return i._options=e,W4(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),ne.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ne.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ne.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ne.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ne.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),ne.useEffect(()=>{e.values&&!Jl(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ne.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=QJ(a,i),r.current}const x8=(e,r,n)=>{if(e&&"reportValidity"in e){const a=rt(n,r);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},oQ=(e,r)=>{for(const n in r.fields){const a=r.fields[n];a&&a.ref&&"reportValidity"in a.ref?x8(a.ref,n,e):a.refs&&a.refs.forEach(s=>x8(s,n,e))}},xYe=(e,r)=>{r.shouldUseNativeValidation&&oQ(e,r);const n={};for(const a in e){const s=rt(r.fields,a),i=Object.assign(e[a]||{},{ref:s&&s.ref});if(yYe(r.names||Object.keys(e),a)){const o=Object.assign({},rt(n,a));xr(o,"root",i),xr(n,a,o)}else xr(n,a,i)}return n},yYe=(e,r)=>e.some(n=>n.startsWith(r+"."));var wYe=function(e,r){for(var n={};e.length;){var a=e[0],s=a.code,i=a.message,o=a.path.join(".");if(!n[o])if("unionErrors"in a){var c=a.unionErrors[0].errors[0];n[o]={message:c.message,type:c.code}}else n[o]={message:i,type:s};if("unionErrors"in a&&a.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return e.push(h)})}),r){var u=n[o].types,d=u&&u[a.code];n[o]=eQ(o,r,n,s,d?[].concat(d,a.message):a.message)}e.shift()}return n},bYe=function(e,r,n){return n===void 0&&(n={}),function(a,s,i){try{return Promise.resolve(function(o,c){try{var u=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](a,r)).then(function(d){return i.shouldUseNativeValidation&&oQ({},i),{errors:{},values:n.raw?a:d}})}catch(d){return c(d)}return u&&u.then?u.then(void 0,c):u}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:xYe(wYe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},ur;(function(e){e.assertEqual=s=>{};function r(s){}e.assertIs=r;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(const c of i)o[c]=s[c];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ur||(ur={}));var y8;(function(e){e.mergeShapes=(r,n)=>({...r,...n})})(y8||(y8={}));const pt=ur.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yc=e=>{switch(typeof e){case"undefined":return pt.undefined;case"string":return pt.string;case"number":return Number.isNaN(e)?pt.nan:pt.number;case"boolean":return pt.boolean;case"function":return pt.function;case"bigint":return pt.bigint;case"symbol":return pt.symbol;case"object":return Array.isArray(e)?pt.array:e===null?pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?pt.promise:typeof Map<"u"&&e instanceof Map?pt.map:typeof Set<"u"&&e instanceof Set?pt.set:typeof Date<"u"&&e instanceof Date?pt.date:pt.object;default:return pt.unknown}},Je=ur.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Nc extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=r}format(r){const n=r||function(i){return i.message},a={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)a._errors.push(n(o));else{let c=a,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(o))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return s(this),a}static assert(r){if(!(r instanceof Nc))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ur.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=n=>n.message){const n={},a=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(r(s))}else a.push(r(s));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}Nc.create=e=>new Nc(e);const vT=(e,r)=>{let n;switch(e.code){case Je.invalid_type:e.received===pt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Je.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ur.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:n=`Unrecognized key(s) in object: ${ur.joinValues(e.keys,", ")}`;break;case Je.invalid_union:n="Invalid input";break;case Je.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ur.joinValues(e.options)}`;break;case Je.invalid_enum_value:n=`Invalid enum value. Expected ${ur.joinValues(e.options)}, received '${e.received}'`;break;case Je.invalid_arguments:n="Invalid function arguments";break;case Je.invalid_return_type:n="Invalid function return type";break;case Je.invalid_date:n="Invalid date";break;case Je.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ur.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Je.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Je.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Je.custom:n="Invalid input";break;case Je.invalid_intersection_types:n="Intersection results could not be merged";break;case Je.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Je.not_finite:n="Number must be finite";break;default:n=r.defaultError,ur.assertNever(e)}return{message:n}};let _Ye=vT;function SYe(){return _Ye}const jYe=e=>{const{data:r,path:n,errorMaps:a,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const u=a.filter(d=>!!d).slice().reverse();for(const d of u)c=d(o,{data:r,defaultError:c}).message;return{...s,path:i,message:c}};function it(e,r){const n=SYe(),a=jYe({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===vT?void 0:vT].filter(s=>!!s)});e.common.issues.push(a)}class gi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,n){const a=[];for(const s of n){if(s.status==="aborted")return Ft;s.status==="dirty"&&r.dirty(),a.push(s.value)}return{status:r.value,value:a}}static async mergeObjectAsync(r,n){const a=[];for(const s of n){const i=await s.key,o=await s.value;a.push({key:i,value:o})}return gi.mergeObjectSync(r,a)}static mergeObjectSync(r,n){const a={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ft;i.status==="dirty"&&r.dirty(),o.status==="dirty"&&r.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(a[i.value]=o.value)}return{status:r.value,value:a}}}const Ft=Object.freeze({status:"aborted"}),J0=e=>({status:"dirty",value:e}),Xi=e=>({status:"valid",value:e}),w8=e=>e.status==="aborted",b8=e=>e.status==="dirty",_p=e=>e.status==="valid",o_=e=>typeof Promise<"u"&&e instanceof Promise;var vt;(function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(vt||(vt={}));class Hu{constructor(r,n,a,s){this._cachedPath=[],this.parent=r,this.data=n,this._path=a,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _8=(e,r)=>{if(_p(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Nc(e.common.issues);return this._error=n,this._error}}};function Gt(e){if(!e)return{};const{errorMap:r,invalid_type_error:n,required_error:a,description:s}=e;if(r&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:s}:{errorMap:(o,c)=>{const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??a??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:u??n??c.defaultError}},description:s}}class cr{get description(){return this._def.description}_getType(r){return Yc(r.data)}_getOrReturnCtx(r,n){return n||{common:r.parent.common,data:r.data,parsedType:Yc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new gi,ctx:{common:r.parent.common,data:r.data,parsedType:Yc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const n=this._parse(r);if(o_(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(r){const n=this._parse(r);return Promise.resolve(n)}parse(r,n){const a=this.safeParse(r,n);if(a.success)return a.data;throw a.error}safeParse(r,n){const a={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Yc(r)},s=this._parseSync({data:r,path:a.path,parent:a});return _8(a,s)}"~validate"(r){var a,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Yc(r)};if(!this["~standard"].async)try{const i=this._parseSync({data:r,path:[],parent:n});return _p(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(a=i==null?void 0:i.message)==null?void 0:a.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:n}).then(i=>_p(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(r,n){const a=await this.safeParseAsync(r,n);if(a.success)return a.data;throw a.error}async safeParseAsync(r,n){const a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Yc(r)},s=this._parse({data:r,path:a.path,parent:a}),i=await(o_(s)?s:Promise.resolve(s));return _8(a,i)}refine(r,n){const a=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=r(s),c=()=>i.addIssue({code:Je.custom,...a(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(r,n){return this._refinement((a,s)=>r(a)?!0:(s.addIssue(typeof n=="function"?n(a,s):n),!1))}_refinement(r){return new kp({schema:this,typeName:Lt.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ru.create(this,this._def)}nullable(){return Np.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yl.create(this)}promise(){return d_.create(this,this._def)}or(r){return c_.create([this,r],this._def)}and(r){return u_.create(this,r,this._def)}transform(r){return new kp({...Gt(this._def),schema:this,typeName:Lt.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const n=typeof r=="function"?r:()=>r;return new yT({...Gt(this._def),innerType:this,defaultValue:n,typeName:Lt.ZodDefault})}brand(){return new KYe({typeName:Lt.ZodBranded,type:this,...Gt(this._def)})}catch(r){const n=typeof r=="function"?r:()=>r;return new wT({...Gt(this._def),innerType:this,catchValue:n,typeName:Lt.ZodCatch})}describe(r){const n=this.constructor;return new n({...this._def,description:r})}pipe(r){return K4.create(this,r)}readonly(){return bT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kYe=/^c[^\s-]{8,}$/i,NYe=/^[0-9a-z]+$/,EYe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,CYe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TYe=/^[a-z0-9_-]{21}$/i,AYe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,OYe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,PYe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DYe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let CN;const RYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,MYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LYe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$Ye=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lQ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BYe=new RegExp(`^${lQ}$`);function cQ(e){let r="[0-5]\\d";e.precision?r=`${r}\\.\\d{${e.precision}}`:e.precision==null&&(r=`${r}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${n}`}function UYe(e){return new RegExp(`^${cQ(e)}$`)}function VYe(e){let r=`${lQ}T${cQ(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${n.join("|")})`,new RegExp(`^${r}$`)}function zYe(e,r){return!!((r==="v4"||!r)&&RYe.test(e)||(r==="v6"||!r)&&MYe.test(e))}function WYe(e,r){if(!AYe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||r&&s.alg!==r)}catch{return!1}}function HYe(e,r){return!!((r==="v4"||!r)&&IYe.test(e)||(r==="v6"||!r)&&FYe.test(e))}class yu extends cr{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==pt.string){const i=this._getOrReturnCtx(r);return it(i,{code:Je.invalid_type,expected:pt.string,received:i.parsedType}),Ft}const a=new gi;let s;for(const i of this._def.checks)if(i.kind==="min")r.data.length<i.value&&(s=this._getOrReturnCtx(r,s),it(s,{code:Je.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")r.data.length>i.value&&(s=this._getOrReturnCtx(r,s),it(s,{code:Je.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=r.data.length>i.value,c=r.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(r,s),o?it(s,{code:Je.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&it(s,{code:Je.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")PYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"email",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")CN||(CN=new RegExp(DYe,"u")),CN.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"emoji",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")CYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"uuid",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")TYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"nanoid",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")kYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"cuid",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")NYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"cuid2",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")EYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"ulid",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(r.data)}catch{s=this._getOrReturnCtx(r,s),it(s,{validation:"url",code:Je.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"regex",code:Je.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?r.data=r.data.trim():i.kind==="includes"?r.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?r.data=r.data.toLowerCase():i.kind==="toUpperCase"?r.data=r.data.toUpperCase():i.kind==="startsWith"?r.data.startsWith(i.value)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?r.data.endsWith(i.value)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?VYe(i).test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?BYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?UYe(i).test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?OYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"duration",code:Je.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?zYe(r.data,i.version)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"ip",code:Je.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?WYe(r.data,i.alg)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"jwt",code:Je.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?HYe(r.data,i.version)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"cidr",code:Je.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?LYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"base64",code:Je.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?$Ye.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"base64url",code:Je.invalid_string,message:i.message}),a.dirty()):ur.assertNever(i);return{status:a.value,value:r.data}}_regex(r,n,a){return this.refinement(s=>r.test(s),{validation:n,code:Je.invalid_string,...vt.errToObj(a)})}_addCheck(r){return new yu({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...vt.errToObj(r)})}url(r){return this._addCheck({kind:"url",...vt.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...vt.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...vt.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...vt.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...vt.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...vt.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...vt.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...vt.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...vt.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...vt.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...vt.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...vt.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(r==null?void 0:r.offset)??!1,local:(r==null?void 0:r.local)??!1,...vt.errToObj(r==null?void 0:r.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,...vt.errToObj(r==null?void 0:r.message)})}duration(r){return this._addCheck({kind:"duration",...vt.errToObj(r)})}regex(r,n){return this._addCheck({kind:"regex",regex:r,...vt.errToObj(n)})}includes(r,n){return this._addCheck({kind:"includes",value:r,position:n==null?void 0:n.position,...vt.errToObj(n==null?void 0:n.message)})}startsWith(r,n){return this._addCheck({kind:"startsWith",value:r,...vt.errToObj(n)})}endsWith(r,n){return this._addCheck({kind:"endsWith",value:r,...vt.errToObj(n)})}min(r,n){return this._addCheck({kind:"min",value:r,...vt.errToObj(n)})}max(r,n){return this._addCheck({kind:"max",value:r,...vt.errToObj(n)})}length(r,n){return this._addCheck({kind:"length",value:r,...vt.errToObj(n)})}nonempty(r){return this.min(1,vt.errToObj(r))}trim(){return new yu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxLength(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}yu.create=e=>new yu({checks:[],typeName:Lt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Gt(e)});function qYe(e,r){const n=(e.toString().split(".")[1]||"").length,a=(r.toString().split(".")[1]||"").length,s=n>a?n:a,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(r.toFixed(s).replace(".",""));return i%o/10**s}class Sp extends cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==pt.number){const i=this._getOrReturnCtx(r);return it(i,{code:Je.invalid_type,expected:pt.number,received:i.parsedType}),Ft}let a;const s=new gi;for(const i of this._def.checks)i.kind==="int"?ur.isInteger(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{code:Je.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?qYe(r.data,i.value)!==0&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{code:Je.not_finite,message:i.message}),s.dirty()):ur.assertNever(i);return{status:s.value,value:r.data}}gte(r,n){return this.setLimit("min",r,!0,vt.toString(n))}gt(r,n){return this.setLimit("min",r,!1,vt.toString(n))}lte(r,n){return this.setLimit("max",r,!0,vt.toString(n))}lt(r,n){return this.setLimit("max",r,!1,vt.toString(n))}setLimit(r,n,a,s){return new Sp({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:vt.toString(s)}]})}_addCheck(r){return new Sp({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:vt.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vt.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:vt.toString(n)})}finite(r){return this._addCheck({kind:"finite",message:vt.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:vt.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:vt.toString(r)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&ur.isInteger(r.value))}get isFinite(){let r=null,n=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(r===null||a.value<r)&&(r=a.value)}return Number.isFinite(n)&&Number.isFinite(r)}}Sp.create=e=>new Sp({checks:[],typeName:Lt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Gt(e)});class tx extends cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==pt.bigint)return this._getInvalidInput(r);let a;const s=new gi;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?r.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ur.assertNever(i);return{status:s.value,value:r.data}}_getInvalidInput(r){const n=this._getOrReturnCtx(r);return it(n,{code:Je.invalid_type,expected:pt.bigint,received:n.parsedType}),Ft}gte(r,n){return this.setLimit("min",r,!0,vt.toString(n))}gt(r,n){return this.setLimit("min",r,!1,vt.toString(n))}lte(r,n){return this.setLimit("max",r,!0,vt.toString(n))}lt(r,n){return this.setLimit("max",r,!1,vt.toString(n))}setLimit(r,n,a,s){return new tx({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:vt.toString(s)}]})}_addCheck(r){return new tx({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:vt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:vt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:vt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:vt.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:vt.toString(n)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}tx.create=e=>new tx({checks:[],typeName:Lt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Gt(e)});class S8 extends cr{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==pt.boolean){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:pt.boolean,received:a.parsedType}),Ft}return Xi(r.data)}}S8.create=e=>new S8({typeName:Lt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Gt(e)});class l_ extends cr{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==pt.date){const i=this._getOrReturnCtx(r);return it(i,{code:Je.invalid_type,expected:pt.date,received:i.parsedType}),Ft}if(Number.isNaN(r.data.getTime())){const i=this._getOrReturnCtx(r);return it(i,{code:Je.invalid_date}),Ft}const a=new gi;let s;for(const i of this._def.checks)i.kind==="min"?r.data.getTime()<i.value&&(s=this._getOrReturnCtx(r,s),it(s,{code:Je.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?r.data.getTime()>i.value&&(s=this._getOrReturnCtx(r,s),it(s,{code:Je.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):ur.assertNever(i);return{status:a.value,value:new Date(r.data.getTime())}}_addCheck(r){return new l_({...this._def,checks:[...this._def.checks,r]})}min(r,n){return this._addCheck({kind:"min",value:r.getTime(),message:vt.toString(n)})}max(r,n){return this._addCheck({kind:"max",value:r.getTime(),message:vt.toString(n)})}get minDate(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r!=null?new Date(r):null}}l_.create=e=>new l_({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Lt.ZodDate,...Gt(e)});class j8 extends cr{_parse(r){if(this._getType(r)!==pt.symbol){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:pt.symbol,received:a.parsedType}),Ft}return Xi(r.data)}}j8.create=e=>new j8({typeName:Lt.ZodSymbol,...Gt(e)});class k8 extends cr{_parse(r){if(this._getType(r)!==pt.undefined){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:pt.undefined,received:a.parsedType}),Ft}return Xi(r.data)}}k8.create=e=>new k8({typeName:Lt.ZodUndefined,...Gt(e)});class N8 extends cr{_parse(r){if(this._getType(r)!==pt.null){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:pt.null,received:a.parsedType}),Ft}return Xi(r.data)}}N8.create=e=>new N8({typeName:Lt.ZodNull,...Gt(e)});class E8 extends cr{constructor(){super(...arguments),this._any=!0}_parse(r){return Xi(r.data)}}E8.create=e=>new E8({typeName:Lt.ZodAny,...Gt(e)});class C8 extends cr{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Xi(r.data)}}C8.create=e=>new C8({typeName:Lt.ZodUnknown,...Gt(e)});class qu extends cr{_parse(r){const n=this._getOrReturnCtx(r);return it(n,{code:Je.invalid_type,expected:pt.never,received:n.parsedType}),Ft}}qu.create=e=>new qu({typeName:Lt.ZodNever,...Gt(e)});class T8 extends cr{_parse(r){if(this._getType(r)!==pt.undefined){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:pt.void,received:a.parsedType}),Ft}return Xi(r.data)}}T8.create=e=>new T8({typeName:Lt.ZodVoid,...Gt(e)});class yl extends cr{_parse(r){const{ctx:n,status:a}=this._processInputParams(r),s=this._def;if(n.parsedType!==pt.array)return it(n,{code:Je.invalid_type,expected:pt.array,received:n.parsedType}),Ft;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(o||c)&&(it(n,{code:o?Je.too_big:Je.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(it(n,{code:Je.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(it(n,{code:Je.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>s.type._parseAsync(new Hu(n,o,n.path,c)))).then(o=>gi.mergeArray(a,o));const i=[...n.data].map((o,c)=>s.type._parseSync(new Hu(n,o,n.path,c)));return gi.mergeArray(a,i)}get element(){return this._def.type}min(r,n){return new yl({...this._def,minLength:{value:r,message:vt.toString(n)}})}max(r,n){return new yl({...this._def,maxLength:{value:r,message:vt.toString(n)}})}length(r,n){return new yl({...this._def,exactLength:{value:r,message:vt.toString(n)}})}nonempty(r){return this.min(1,r)}}yl.create=(e,r)=>new yl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Lt.ZodArray,...Gt(r)});function Sh(e){if(e instanceof an){const r={};for(const n in e.shape){const a=e.shape[n];r[n]=Ru.create(Sh(a))}return new an({...e._def,shape:()=>r})}else return e instanceof yl?new yl({...e._def,type:Sh(e.element)}):e instanceof Ru?Ru.create(Sh(e.unwrap())):e instanceof Np?Np.create(Sh(e.unwrap())):e instanceof Df?Df.create(e.items.map(r=>Sh(r))):e}class an extends cr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),n=ur.objectKeys(r);return this._cached={shape:r,keys:n},this._cached}_parse(r){if(this._getType(r)!==pt.object){const d=this._getOrReturnCtx(r);return it(d,{code:Je.invalid_type,expected:pt.object,received:d.parsedType}),Ft}const{status:a,ctx:s}=this._processInputParams(r),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof qu&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||c.push(d);const u=[];for(const d of o){const f=i[d],h=s.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new Hu(s,h,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof qu){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of c)u.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")c.length>0&&(it(s,{code:Je.unrecognized_keys,keys:c}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of c){const h=s.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new Hu(s,h,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const h=await f.key,m=await f.value;d.push({key:h,value:m,alwaysSet:f.alwaysSet})}return d}).then(d=>gi.mergeObjectSync(a,d)):gi.mergeObjectSync(a,u)}get shape(){return this._def.shape()}strict(r){return vt.errToObj,new an({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(n,a)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,a).message)??a.defaultError;return n.code==="unrecognized_keys"?{message:vt.errToObj(r).message??s}:{message:s}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(r){return new an({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new an({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:Lt.ZodObject})}setKey(r,n){return this.augment({[r]:n})}catchall(r){return new an({...this._def,catchall:r})}pick(r){const n={};for(const a of ur.objectKeys(r))r[a]&&this.shape[a]&&(n[a]=this.shape[a]);return new an({...this._def,shape:()=>n})}omit(r){const n={};for(const a of ur.objectKeys(this.shape))r[a]||(n[a]=this.shape[a]);return new an({...this._def,shape:()=>n})}deepPartial(){return Sh(this)}partial(r){const n={};for(const a of ur.objectKeys(this.shape)){const s=this.shape[a];r&&!r[a]?n[a]=s:n[a]=s.optional()}return new an({...this._def,shape:()=>n})}required(r){const n={};for(const a of ur.objectKeys(this.shape))if(r&&!r[a])n[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof Ru;)i=i._def.innerType;n[a]=i}return new an({...this._def,shape:()=>n})}keyof(){return uQ(ur.objectKeys(this.shape))}}an.create=(e,r)=>new an({shape:()=>e,unknownKeys:"strip",catchall:qu.create(),typeName:Lt.ZodObject,...Gt(r)});an.strictCreate=(e,r)=>new an({shape:()=>e,unknownKeys:"strict",catchall:qu.create(),typeName:Lt.ZodObject,...Gt(r)});an.lazycreate=(e,r)=>new an({shape:e,unknownKeys:"strip",catchall:qu.create(),typeName:Lt.ZodObject,...Gt(r)});class c_ extends cr{_parse(r){const{ctx:n}=this._processInputParams(r),a=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new Nc(c.ctx.common.issues));return it(n,{code:Je.invalid_union,unionErrors:o}),Ft}if(n.common.async)return Promise.all(a.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of a){const d={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(u=>new Nc(u));return it(n,{code:Je.invalid_union,unionErrors:c}),Ft}}get options(){return this._def.options}}c_.create=(e,r)=>new c_({options:e,typeName:Lt.ZodUnion,...Gt(r)});function xT(e,r){const n=Yc(e),a=Yc(r);if(e===r)return{valid:!0,data:e};if(n===pt.object&&a===pt.object){const s=ur.objectKeys(r),i=ur.objectKeys(e).filter(c=>s.indexOf(c)!==-1),o={...e,...r};for(const c of i){const u=xT(e[c],r[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(n===pt.array&&a===pt.array){if(e.length!==r.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],c=r[i],u=xT(o,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===pt.date&&a===pt.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}class u_ extends cr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r),s=(i,o)=>{if(w8(i)||w8(o))return Ft;const c=xT(i.value,o.value);return c.valid?((b8(i)||b8(o))&&n.dirty(),{status:n.value,value:c.data}):(it(a,{code:Je.invalid_intersection_types}),Ft)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}u_.create=(e,r,n)=>new u_({left:e,right:r,typeName:Lt.ZodIntersection,...Gt(n)});class Df extends cr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==pt.array)return it(a,{code:Je.invalid_type,expected:pt.array,received:a.parsedType}),Ft;if(a.data.length<this._def.items.length)return it(a,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ft;!this._def.rest&&a.data.length>this._def.items.length&&(it(a,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...a.data].map((o,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Hu(a,o,a.path,c)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>gi.mergeArray(n,o)):gi.mergeArray(n,i)}get items(){return this._def.items}rest(r){return new Df({...this._def,rest:r})}}Df.create=(e,r)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Df({items:e,typeName:Lt.ZodTuple,rest:null,...Gt(r)})};class A8 extends cr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==pt.map)return it(a,{code:Je.invalid_type,expected:pt.map,received:a.parsedType}),Ft;const s=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([c,u],d)=>({key:s._parse(new Hu(a,c,a.path,[d,"key"])),value:i._parse(new Hu(a,u,a.path,[d,"value"]))}));if(a.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return Ft;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(d.value,f.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const u of o){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return Ft;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(d.value,f.value)}return{status:n.value,value:c}}}}A8.create=(e,r,n)=>new A8({valueType:r,keyType:e,typeName:Lt.ZodMap,...Gt(n)});class rx extends cr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==pt.set)return it(a,{code:Je.invalid_type,expected:pt.set,received:a.parsedType}),Ft;const s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(it(a,{code:Je.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(it(a,{code:Je.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const d=new Set;for(const f of u){if(f.status==="aborted")return Ft;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const c=[...a.data.values()].map((u,d)=>i._parse(new Hu(a,u,a.path,d)));return a.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(r,n){return new rx({...this._def,minSize:{value:r,message:vt.toString(n)}})}max(r,n){return new rx({...this._def,maxSize:{value:r,message:vt.toString(n)}})}size(r,n){return this.min(r,n).max(r,n)}nonempty(r){return this.min(1,r)}}rx.create=(e,r)=>new rx({valueType:e,minSize:null,maxSize:null,typeName:Lt.ZodSet,...Gt(r)});class O8 extends cr{get schema(){return this._def.getter()}_parse(r){const{ctx:n}=this._processInputParams(r);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}O8.create=(e,r)=>new O8({getter:e,typeName:Lt.ZodLazy,...Gt(r)});class P8 extends cr{_parse(r){if(r.data!==this._def.value){const n=this._getOrReturnCtx(r);return it(n,{received:n.data,code:Je.invalid_literal,expected:this._def.value}),Ft}return{status:"valid",value:r.data}}get value(){return this._def.value}}P8.create=(e,r)=>new P8({value:e,typeName:Lt.ZodLiteral,...Gt(r)});function uQ(e,r){return new jp({values:e,typeName:Lt.ZodEnum,...Gt(r)})}class jp extends cr{_parse(r){if(typeof r.data!="string"){const n=this._getOrReturnCtx(r),a=this._def.values;return it(n,{expected:ur.joinValues(a),received:n.parsedType,code:Je.invalid_type}),Ft}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const n=this._getOrReturnCtx(r),a=this._def.values;return it(n,{received:n.data,code:Je.invalid_enum_value,options:a}),Ft}return Xi(r.data)}get options(){return this._def.values}get enum(){const r={};for(const n of this._def.values)r[n]=n;return r}get Values(){const r={};for(const n of this._def.values)r[n]=n;return r}get Enum(){const r={};for(const n of this._def.values)r[n]=n;return r}extract(r,n=this._def){return jp.create(r,{...this._def,...n})}exclude(r,n=this._def){return jp.create(this.options.filter(a=>!r.includes(a)),{...this._def,...n})}}jp.create=uQ;class D8 extends cr{_parse(r){const n=ur.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(r);if(a.parsedType!==pt.string&&a.parsedType!==pt.number){const s=ur.objectValues(n);return it(a,{expected:ur.joinValues(s),received:a.parsedType,code:Je.invalid_type}),Ft}if(this._cache||(this._cache=new Set(ur.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const s=ur.objectValues(n);return it(a,{received:a.data,code:Je.invalid_enum_value,options:s}),Ft}return Xi(r.data)}get enum(){return this._def.values}}D8.create=(e,r)=>new D8({values:e,typeName:Lt.ZodNativeEnum,...Gt(r)});class d_ extends cr{unwrap(){return this._def.type}_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==pt.promise&&n.common.async===!1)return it(n,{code:Je.invalid_type,expected:pt.promise,received:n.parsedType}),Ft;const a=n.parsedType===pt.promise?n.data:Promise.resolve(n.data);return Xi(a.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}d_.create=(e,r)=>new d_({type:e,typeName:Lt.ZodPromise,...Gt(r)});class kp extends cr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:n,ctx:a}=this._processInputParams(r),s=this._def.effect||null,i={addIssue:o=>{it(a,o),o.fatal?n.abort():n.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async c=>{if(n.value==="aborted")return Ft;const u=await this._def.schema._parseAsync({data:c,path:a.path,parent:a});return u.status==="aborted"?Ft:u.status==="dirty"||n.value==="dirty"?J0(u.value):u});{if(n.value==="aborted")return Ft;const c=this._def.schema._parseSync({data:o,path:a.path,parent:a});return c.status==="aborted"?Ft:c.status==="dirty"||n.value==="dirty"?J0(c.value):c}}if(s.type==="refinement"){const o=c=>{const u=s.refinement(c,i);if(a.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(a.common.async===!1){const c=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return c.status==="aborted"?Ft:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(c=>c.status==="aborted"?Ft:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!_p(o))return Ft;const c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>_p(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:n.value,value:c})):Ft);ur.assertNever(s)}}kp.create=(e,r,n)=>new kp({schema:e,typeName:Lt.ZodEffects,effect:r,...Gt(n)});kp.createWithPreprocess=(e,r,n)=>new kp({schema:r,effect:{type:"preprocess",transform:e},typeName:Lt.ZodEffects,...Gt(n)});class Ru extends cr{_parse(r){return this._getType(r)===pt.undefined?Xi(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Ru.create=(e,r)=>new Ru({innerType:e,typeName:Lt.ZodOptional,...Gt(r)});class Np extends cr{_parse(r){return this._getType(r)===pt.null?Xi(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Np.create=(e,r)=>new Np({innerType:e,typeName:Lt.ZodNullable,...Gt(r)});class yT extends cr{_parse(r){const{ctx:n}=this._processInputParams(r);let a=n.data;return n.parsedType===pt.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}yT.create=(e,r)=>new yT({innerType:e,typeName:Lt.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...Gt(r)});class wT extends cr{_parse(r){const{ctx:n}=this._processInputParams(r),a={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return o_(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Nc(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Nc(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}wT.create=(e,r)=>new wT({innerType:e,typeName:Lt.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...Gt(r)});class R8 extends cr{_parse(r){if(this._getType(r)!==pt.nan){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:pt.nan,received:a.parsedType}),Ft}return{status:"valid",value:r.data}}}R8.create=e=>new R8({typeName:Lt.ZodNaN,...Gt(e)});class KYe extends cr{_parse(r){const{ctx:n}=this._processInputParams(r),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}}class K4 extends cr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Ft:i.status==="dirty"?(n.dirty(),J0(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?Ft:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(r,n){return new K4({in:r,out:n,typeName:Lt.ZodPipeline})}}class bT extends cr{_parse(r){const n=this._def.innerType._parse(r),a=s=>(_p(s)&&(s.value=Object.freeze(s.value)),s);return o_(n)?n.then(s=>a(s)):a(n)}unwrap(){return this._def.innerType}}bT.create=(e,r)=>new bT({innerType:e,typeName:Lt.ZodReadonly,...Gt(r)});an.lazycreate;var Lt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Lt||(Lt={}));const xw=yu.create,GYe=Sp.create;qu.create;yl.create;const YYe=an.create;an.strictCreate;c_.create;u_.create;Df.create;jp.create;d_.create;Ru.create;Np.create;const XYe=ZGe,dQ=y.createContext({}),F0=({...e})=>l.jsx(dQ.Provider,{value:{name:e.name},children:l.jsx(nYe,{...e})}),mj=()=>{const e=y.useContext(dQ),r=y.useContext(fQ),{getFieldState:n,formState:a}=hj(),s=n(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},fQ=y.createContext({}),jh=y.forwardRef(({className:e,...r},n)=>{const a=y.useId();return l.jsx(fQ.Provider,{value:{id:a},children:l.jsx("div",{ref:n,className:ve("space-y-2",e),...r})})});jh.displayName="FormItem";const kh=y.forwardRef(({className:e,...r},n)=>{const{error:a,formItemId:s}=mj();return l.jsx(Ge,{ref:n,className:ve(a&&"text-destructive",e),htmlFor:s,...r})});kh.displayName="FormLabel";const Nh=y.forwardRef(({...e},r)=>{const{error:n,formItemId:a,formDescriptionId:s,formMessageId:i}=mj();return l.jsx(c9,{ref:r,id:a,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});Nh.displayName="FormControl";const JYe=y.forwardRef(({className:e,...r},n)=>{const{formDescriptionId:a}=mj();return l.jsx("p",{ref:n,id:a,className:ve("text-sm text-muted-foreground",e),...r})});JYe.displayName="FormDescription";const Eh=y.forwardRef(({className:e,children:r,...n},a)=>{const{error:s,formMessageId:i}=mj(),o=s?String(s==null?void 0:s.message):r;return o?l.jsx("p",{ref:a,id:i,className:ve("text-sm font-medium text-destructive",e),...n,children:o}):null});Eh.displayName="FormMessage";const QYe=YYe({request_title:xw().min(1,"Title is required"),request_description:xw().optional(),request_type:xw().optional(),priority:GYe().optional(),status:xw().optional()});function ZYe({open:e,onOpenChange:r,onSubmit:n,initialData:a}){const{t:s}=qt(),{user:i}=vr(),o=(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager",c=vYe({resolver:bYe(QYe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});y.useEffect(()=>{a?c.reset({request_title:a.request_title,request_description:a.request_description||"",request_type:a.request_type||"internal_task",priority:a.priority||1,status:a.status||"pending"}):c.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[a,c,e]);const u=async d=>{await n(d),r(!1),c.reset()};return l.jsx(Sl,{open:e,onOpenChange:r,children:l.jsxs(Io,{side:kr()?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[l.jsx(yc,{children:l.jsx(jl,{children:s(a?"requests.editRequest":"requests.createRequest")})}),l.jsx("div",{className:"py-4",children:l.jsx(XYe,{...c,children:l.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[l.jsx(F0,{control:c.control,name:"request_title",render:({field:d})=>l.jsxs(jh,{children:[l.jsx(kh,{children:s("requests.title")}),l.jsx(Nh,{children:l.jsx(We,{placeholder:s("requests.titlePlaceholder"),...d})}),l.jsx(Eh,{})]})}),l.jsx(F0,{control:c.control,name:"request_description",render:({field:d})=>l.jsxs(jh,{children:[l.jsx(kh,{children:s("requests.description")}),l.jsx(Nh,{children:l.jsx(da,{placeholder:s("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...d})}),l.jsx(Eh,{})]})}),o&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(F0,{control:c.control,name:"request_type",render:({field:d})=>l.jsxs(jh,{children:[l.jsx(kh,{children:s("requests.type")}),l.jsxs(jt,{onValueChange:d.onChange,defaultValue:d.value,value:d.value,children:[l.jsx(Nh,{children:l.jsx(_t,{children:l.jsx(kt,{placeholder:"Select type"})})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"internal_task",children:s("requests.types.internalTask")}),l.jsx(Pe,{value:"support",children:s("requests.types.support")}),l.jsx(Pe,{value:"feature",children:s("requests.types.feature")})]})]}),l.jsx(Eh,{})]})}),l.jsx(F0,{control:c.control,name:"priority",render:({field:d})=>{var f,h;return l.jsxs(jh,{children:[l.jsx(kh,{children:s("requests.priority")}),l.jsxs(jt,{onValueChange:m=>d.onChange(parseInt(m)),defaultValue:(f=d.value)==null?void 0:f.toString(),value:(h=d.value)==null?void 0:h.toString(),children:[l.jsx(Nh,{children:l.jsx(_t,{children:l.jsx(kt,{placeholder:"Select priority"})})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"0",children:s("requests.priorities.low")}),l.jsx(Pe,{value:"1",children:s("requests.priorities.medium")}),l.jsx(Pe,{value:"2",children:s("requests.priorities.high")})]})]}),l.jsx(Eh,{})]})}})]}),l.jsx(F0,{control:c.control,name:"status",render:({field:d})=>l.jsxs(jh,{children:[l.jsx(kh,{children:s("requests.status")}),l.jsxs(jt,{onValueChange:d.onChange,defaultValue:d.value,value:d.value,children:[l.jsx(Nh,{children:l.jsx(_t,{children:l.jsx(kt,{placeholder:"Select status"})})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"pending",children:s("status.pending")}),l.jsx(Pe,{value:"in_progress",children:s("status.in_progress")}),l.jsx(Pe,{value:"completed",children:s("status.completed")}),l.jsx(Pe,{value:"approved",children:s("status.approved")}),l.jsx(Pe,{value:"rejected",children:s("status.rejected")})]})]}),l.jsx(Eh,{})]})})]}),l.jsx("div",{className:"flex justify-end pt-4 gap-2",children:l.jsx(ue,{type:"submit",children:s(a?"common.save":"common.create")})})]})})})]})})}function eXe(){const{t:e}=qt(),{toast:r}=Ol(),{user:n}=vr();yn();const[a,s]=y.useState([]),[i,o]=y.useState(!0),[c,u]=y.useState(""),[d,f]=y.useState(!1),[h,m]=y.useState(null),[p,v]=y.useState(null),[g,x]=y.useState("all"),[b,w]=y.useState("all"),_=async()=>{try{o(!0);const T=await vw.getRequests();s(T)}catch(T){console.error("Failed to fetch requests:",T),r({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{o(!1)}};y.useEffect(()=>{_()},[]);const S=()=>{m(null),f(!0)},j=T=>{m(T),f(!0)},N=async()=>{if(p)try{await vw.deleteRequest(p),r({title:e("common.success"),description:e("requests.deleteSuccess")}),_()}catch(T){console.error("Failed to delete request:",T),r({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{v(null)}},k=async T=>{try{if(!(n!=null&&n.id)){r({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}h?(await vw.updateRequest(h.request_id,T),r({title:e("common.success"),description:e("requests.updateSuccess")})):(await vw.createRequest({...T,requested_by_auth:n.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),r({title:e("common.success"),description:e("requests.createSuccess")})),_()}catch(z){console.error("Failed to save request:",z),r({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},E=a.filter(T=>{var I;const z=T.request_title.toLowerCase().includes(c.toLowerCase()),q=g==="all"||T.status===g,F=b==="all"||((I=T.priority)==null?void 0:I.toString())===b;return z&&q&&F}),C=T=>{switch(T){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},O=T=>{switch(T){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},D=T=>{switch(T){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:kr()?"rtl":"ltr",children:[l.jsx(Rx,{title:e("requests.title"),description:e("requests.subtitle"),icon:l.jsx(Zs,{className:"h-5 w-5 text-primary"}),actions:l.jsxs(ue,{onClick:S,children:[l.jsx(or,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[l.jsxs("div",{className:"relative flex-1 max-w-sm",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(We,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:c,onChange:T=>u(T.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[l.jsxs(jt,{value:b,onValueChange:w,children:[l.jsx(_t,{className:"w-[130px] h-9",children:l.jsx(kt,{placeholder:e("requests.priority")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:e("common.all")}),l.jsx(Pe,{value:"0",children:e("requests.priorities.low")}),l.jsx(Pe,{value:"1",children:e("requests.priorities.medium")}),l.jsx(Pe,{value:"2",children:e("requests.priorities.high")})]})]}),l.jsxs(jt,{value:g,onValueChange:x,children:[l.jsx(_t,{className:"w-[130px] h-9",children:l.jsx(kt,{placeholder:e("requests.status")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:e("common.all")}),l.jsx(Pe,{value:"pending",children:e("status.pending")}),l.jsx(Pe,{value:"approved",children:e("status.approved")}),l.jsx(Pe,{value:"rejected",children:e("status.rejected")}),l.jsx(Pe,{value:"in_progress",children:e("status.in_progress")}),l.jsx(Pe,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const T=[{key:"title",header:e("requests.requestTitle"),render:q=>{var F;return l.jsx(bc,{title:q.request_title,subtitle:(F=q.request_type)==null?void 0:F.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:q=>l.jsx(ht,{variant:"outline",className:O(q.priority),children:D(q.priority)})},{key:"status",header:e("requests.status"),render:q=>l.jsx(ht,{variant:"secondary",className:`capitalize ${C(q.status)}`,children:q.status?e(`status.${q.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:q=>l.jsx(Uu,{date:q.created_at})}],z=[{icon:l.jsx(H2,{}),label:e("common.edit"),onClick:j},{icon:l.jsx(wr,{}),label:e("common.delete"),onClick:q=>v(q.request_id),variant:"destructive"}];return l.jsx(wc,{data:E,columns:T,actions:z,loading:i,keyExtractor:q=>q.request_id,onRowClick:j})})(),l.jsx(ZYe,{open:d,onOpenChange:f,onSubmit:k,initialData:h}),l.jsx(mi,{open:!!p,onOpenChange:T=>!T&&v(null),children:l.jsxs(Is,{children:[l.jsxs(Ms,{children:[l.jsx(Ls,{children:e("common.confirmDelete")}),l.jsx($s,{children:e("requests.deleteConfirmation")})]}),l.jsxs(Fs,{children:[l.jsx(Us,{children:e("common.cancel")}),l.jsx(Bs,{className:"bg-red-500 hover:bg-red-600",onClick:N,children:e("common.delete")})]})]})})]})}const Q0="https://api.middar.com",tXe="default",rXe="",I8={async getConversations(){return(await G.whatsappConversations.list()).data},async getMessages(e){return(await G.whatsappMessages.getByConversation(e)).data},async sendMessage(e,r){try{const n={"Content-Type":"application/json",accept:"application/json"},a=e.includes("@")?e:`${e.replace(/\D/g,"")}@c.us`,s=await fetch(`${Q0}/api/v1/whatsapp/sendText`,{method:"POST",headers:n,body:JSON.stringify({session:tXe,chatId:a,text:r})}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to send message via WAHA");const c=(await G.whatsappConversations.list({exact_filters:{phone:e}})).data[0];if(c){const u=c.id;await G.whatsappMessages.create({conversation_id:u,phone:e,message:r,direction:"outbound",created_at:new Date().toISOString()}),await G.whatsappConversations.update(u,{last_message_at:new Date().toISOString()})}return i}catch(n){throw console.error("Error sending WhatsApp message:",n),n}},async createConversation(e,r){const n=await G.whatsappConversations.list({exact_filters:{phone:e}});return n.data.length>0?n.data[0]:await G.whatsappConversations.create({phone:e,lead_id:r,last_message_at:new Date().toISOString()})}};function nXe(){qt();const{toast:e}=Ol();yn();const[r,n]=y.useState([]),[a,s]=y.useState(null),[i,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(!0),[h,m]=y.useState(!1),p=y.useRef(null);y.useEffect(()=>{v();const w=setInterval(v,1e4);return()=>{clearInterval(w)}},[]),y.useEffect(()=>{let w;return a&&(g(a.id),w=window.setInterval(()=>g(a.id),3e3)),()=>{w&&window.clearInterval(w)}},[a]);const v=async()=>{try{const w=await I8.getConversations();n(w),d&&f(!1)}catch(w){console.error(w),e({variant:"destructive",title:"Error",description:"Failed to load conversations"})}},g=async w=>{try{const _=await I8.getMessages(w);o(_),setTimeout(()=>x(),100)}catch(_){console.error(_)}},x=()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},b=async w=>{if(w==null||w.preventDefault(),!(!c.trim()||!a)){e({variant:"destructive",title:"Missing WUZ token",description:"Set VITE_WUZ_API_TOKEN in your environment to send messages."});return}};return l.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg",dir:kr()?"rtl":"ltr",children:[l.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center justify-between",children:[l.jsx("span",{children:"WhatsApp"}),l.jsx(ue,{variant:"ghost",size:"icon",onClick:v,children:l.jsx(yI,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(We,{placeholder:"Search...",className:"pl-9"})]})]}),l.jsx(la,{className:"flex-1",children:l.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[r.map(w=>l.jsxs("button",{onClick:()=>s(w),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(a==null?void 0:a.id)===w.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[l.jsx(Ds,{children:l.jsx(Rs,{className:"bg-green-100 text-green-700",children:l.jsx(Un,{className:"h-4 w-4"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"font-medium truncate",children:w.phone}),l.jsx("span",{className:"text-xs text-muted-foreground",children:w.last_message_at&&us(new Date(w.last_message_at),"MMM d")})]}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},w.id)),r.length===0&&!d&&l.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:"No conversations yet."})]})})]}),l.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ds,{className:"h-10 w-10",children:l.jsx(Rs,{className:"bg-green-600 text-white",children:"WA"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.phone}),l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50",ref:p,children:i.map(w=>l.jsx("div",{className:`flex ${w.direction==="outbound"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${w.direction==="outbound"?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[w.media_url&&l.jsx("div",{className:"mb-2",children:w.media_type==="image"||w.media_type==="sticker"?l.jsx("img",{src:`${Q0}${w.media_url}`,alt:"WhatsApp media",className:"rounded-lg max-w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(`${Q0}${w.media_url}`,"_blank")}):w.media_type==="video"?l.jsx("video",{controls:!0,className:"rounded-lg max-w-full",children:l.jsx("source",{src:`${Q0}${w.media_url}`})}):l.jsxs("a",{href:`${Q0}${w.media_url}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-muted/50 rounded hover:bg-muted transition-colors text-xs",children:[l.jsx(yI,{className:"h-4 w-4"}),l.jsxs("span",{children:["Download ",w.media_type||"File"]})]})}),w.message&&l.jsx("p",{className:"text-sm",children:w.message}),l.jsx("p",{className:`text-[10px] mt-1 text-right ${w.direction==="outbound"?"text-green-100":"text-muted-foreground"}`,children:us(new Date(w.created_at),"HH:mm")})]})},w.id))}),l.jsx("div",{className:"p-4 border-t bg-background",children:l.jsxs("form",{onSubmit:b,className:"flex gap-2",children:[l.jsx(We,{value:c,onChange:w=>u(w.target.value),placeholder:"Type a message...",className:"flex-1",disabled:h}),l.jsx(ue,{type:"submit",size:"icon",disabled:h||!c.trim(),children:l.jsx(mx,{className:"h-4 w-4"})})]})})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:l.jsx(em,{className:"h-8 w-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a conversation"}),l.jsx("p",{className:"max-w-xs text-center text-sm",children:"Choose a conversation from the sidebar to start messaging via WhatsApp."})]})})]})}function aXe(){const{t:e}=qt(),{isRTL:r}=Va();yn();const{setBreadcrumbs:n}=hx(),{toast:a}=Ol(),[s,i]=y.useState([]),[o,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,p]=y.useState(!1),[v,g]=y.useState(!1),[x,b]=y.useState({});y.useEffect(()=>{n([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),w()},[]);const w=async()=>{try{c(!0);const C=await G.permissions.list();i(C.data||[]),d(null)}catch(C){d(C.message||"Failed to load permissions")}finally{c(!1)}},_=C=>{h(C),b({...C}),g(!0),p(!0)},S=()=>{h(null),b({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),g(!1),p(!0)},j=async()=>{try{if(!x.permissions_Name){a({title:"Error",description:"Permission name is required",variant:"destructive"});return}f?(await G.permissions.update(f.permissions_ID,x),a({title:"Success",description:"Permission updated"})):(await G.permissions.create(x),a({title:"Success",description:"Permission created"})),p(!1),w()}catch(C){a({title:"Error",description:C.message,variant:"destructive"})}},N=[{key:"permissions_Name",header:"Role Name",render:C=>l.jsx(bc,{title:C.permissions_Name||"Unnamed Role",icon:l.jsx(S1,{className:"h-4 w-4 text-primary"})})},{key:"permissions_ID",header:"ID",render:C=>l.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",C.permissions_ID]})}],k=[{icon:l.jsx(Vi,{}),label:"Edit",onClick:C=>_(C)}],E=()=>{const C=Object.keys(x).filter(O=>O!=="permissions_ID"&&O!=="permissions_Name"&&O!=="created_at"&&O!=="updated_at");return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:C.map(O=>l.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[l.jsx($1,{id:O,checked:!!x[O],onCheckedChange:D=>{b(T=>({...T,[O]:D?1:0}))}}),l.jsx(Ge,{htmlFor:O,className:"cursor-pointer flex-1 capitalize",children:O.replace(/_/g," ")})]},O))})};return o?l.jsx(UO,{}):u?l.jsx(zp,{message:u,onRetry:w}):l.jsxs("div",{className:"space-y-4 p-4",dir:r?"rtl":"ltr",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),l.jsxs(ue,{onClick:S,children:[l.jsx(or,{className:"mr-2 h-4 w-4"})," Add Role"]})]}),l.jsx(wc,{data:s,columns:N,actions:k,keyExtractor:C=>C.permissions_ID.toString()}),l.jsx(Sl,{open:m,onOpenChange:p,children:l.jsxs(Io,{side:r?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:r?"rtl":"ltr",children:[l.jsxs(yc,{children:[l.jsx(jl,{children:f?"Edit Role":"New Role"}),l.jsx(Cx,{children:"Configure access permissions for this role."})]}),l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"roleName",children:"Role Name"}),l.jsx(We,{id:"roleName",value:x.permissions_Name||"",onChange:C=>b(O=>({...O,permissions_Name:C.target.value}))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),E(),Object.keys(x).filter(C=>C!=="permissions_ID"&&C!=="permissions_Name").length===0&&l.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",s.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(ue,{onClick:j,children:"Save Changes"})]})]})})]})}const ki={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},Ko={primary:"text-primary",secondary:"text-muted-foreground",success:"text-green-600",warning:"text-yellow-600",destructive:"text-red-600"},yw={primary:"bg-primary",secondary:"bg-muted-foreground",success:"bg-green-600",warning:"bg-yellow-600",destructive:"bg-red-600"};function Xc({size:e="md",variant:r="default",className:n,color:a="primary"}){const s=ve(ki[e],Ko[a],n);switch(r){case"dots":return l.jsxs("div",{className:ve("flex space-x-1",n),children:[l.jsx("div",{className:ve("animate-bounce",ki[e],Ko[a]),children:l.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),l.jsx("div",{className:ve("animate-bounce",ki[e],Ko[a],"animation-delay-100"),children:l.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),l.jsx("div",{className:ve("animate-bounce",ki[e],Ko[a],"animation-delay-200"),children:l.jsx("div",{className:"h-full w-full rounded-full bg-current"})})]});case"pulse":return l.jsxs("div",{className:ve("relative",ki[e],n),children:[l.jsx("div",{className:ve("h-full w-full rounded-full border-2 border-current opacity-20")}),l.jsx("div",{className:ve("absolute inset-0 h-full w-full rounded-full border-2 border-t-current animate-spin")})]});case"bounce":return l.jsxs("div",{className:ve("flex space-x-1",n),children:[l.jsx("div",{className:ve("animate-bounce",ki[e],Ko[a]),children:l.jsx(Mie,{className:"h-full w-full"})}),l.jsx("div",{className:ve("animate-bounce",ki[e],Ko[a],"animation-delay-100"),children:l.jsx(r9,{className:"h-full w-full"})}),l.jsx("div",{className:ve("animate-bounce",ki[e],Ko[a],"animation-delay-200"),children:l.jsx(rv,{className:"h-full w-full animate-spin"})})]});case"rotate":return l.jsx("div",{className:ve("relative",ki[e],n),children:l.jsx(rv,{className:ve("h-full w-full animate-spin",Ko[a])})});case"rings":return l.jsxs("div",{className:ve("relative",ki[e],n),children:[l.jsx("div",{className:ve("absolute inset-0 h-full w-full rounded-full border-2 border-current opacity-20 animate-ping")}),l.jsx("div",{className:ve("absolute inset-2 h-full w-full rounded-full border-2 border-current opacity-40 animate-ping","animation-delay-100")}),l.jsx("div",{className:ve("absolute inset-4 h-full w-full rounded-full border-2 border-current animate-spin")})]});case"bars":return l.jsx("div",{className:ve("flex items-end space-x-1",n),children:[0,1,2,3,4].map(i=>l.jsx("div",{className:ve("w-1 bg-current rounded-full animate-pulse",e==="sm"?"h-4":e==="md"?"h-6":e==="lg"?"h-8":"h-12",Ko[a],i===0&&"animation-delay-0",i===1&&"animation-delay-100",i===2&&"animation-delay-200",i===3&&"animation-delay-300",i===4&&"animation-delay-400"),style:{animationDelay:`${i*100}ms`,animation:"pulse 1.4s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},i))});case"wave":return l.jsx("div",{className:ve("flex space-x-1",n),children:[0,1,2,3,4].map(i=>l.jsx("div",{className:ve("rounded-full bg-current animate-bounce",e==="sm"?"h-2 w-2":e==="md"?"h-3 w-3":e==="lg"?"h-4 w-4":"h-6 w-6",Ko[a]),style:{animationDelay:`${i*100}ms`}},i))});case"orbit":return l.jsxs("div",{className:ve("relative",ki[e],n),children:[l.jsxs("div",{className:ve("absolute inset-0 h-full w-full animate-spin"),children:[l.jsx("div",{className:ve("absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full",yw[a])}),l.jsx("div",{className:ve("absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 w-2 h-2 rounded-full opacity-60",yw[a])}),l.jsx("div",{className:ve("absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-2 h-2 rounded-full opacity-40",yw[a])}),l.jsx("div",{className:ve("absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2 w-2 h-2 rounded-full opacity-80",yw[a])})]}),l.jsx("div",{className:ve("absolute inset-2 h-full w-full rounded-full border border-current opacity-20")})]});case"morph":return l.jsx("div",{className:ve("relative",ki[e],n),children:l.jsx("div",{className:ve("h-full w-full bg-current rounded-full animate-morph")})});default:return l.jsx(I_,{className:ve("animate-spin",s)})}}function M8({message:e="Loading...",size:r="lg",variant:n="default",showProgress:a=!1,progress:s=0,className:i}){return l.jsxs("div",{className:ve("flex flex-col items-center justify-center py-8 space-y-4",i),children:[l.jsxs("div",{className:"relative",children:[l.jsx(Xc,{size:r,variant:n}),a&&l.jsx("div",{className:"absolute -bottom-6 left-0 right-0",children:l.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}})})})]}),e&&l.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium text-center max-w-xs",children:e})]})}function sXe({message:e="Loading...",fullScreen:r=!1,variant:n="bounce",className:a}){const s=l.jsxs("div",{className:ve("flex flex-col items-center justify-center space-y-6",r?"min-h-screen":"py-16",a),children:[l.jsxs("div",{className:"relative",children:[l.jsx(Xc,{size:"xl",variant:n}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-muted/20 animate-ping"})})]}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("p",{className:"text-lg font-medium text-foreground animate-pulse",children:e}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we prepare your content..."})]})]});return r?l.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:s}):s}function iXe(){const[e,r]=y.useState(!1),[n,a]=y.useState(0),s=()=>{a(0),r(!0);const u=setInterval(()=>{a(d=>d>=100?(clearInterval(u),setTimeout(()=>r(!1),500),100):d+10)},200)},i=["default","dots","pulse","bounce","rotate","rings","bars","wave","orbit","morph"],o=["sm","md","lg","xl"],c=["primary","secondary","success","warning","destructive"];return l.jsxs("div",{className:"min-h-screen bg-background p-8 space-y-8",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center space-y-4 mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold",children:"Custom Loading Spinners"}),l.jsx("p",{className:"text-muted-foreground text-lg",children:"Showcase of different spinner variants and configurations"}),l.jsx(ue,{onClick:s,className:"mt-4",children:"Show Page Loader with Progress"})]}),l.jsxs(ct,{children:[l.jsx(Yt,{children:l.jsx(br,{children:"Spinner Variants"})}),l.jsx(xt,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:i.map(u=>l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-20 flex items-center justify-center",children:l.jsx(Xc,{variant:u,size:"lg"})}),l.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:u})]},u))})})]}),l.jsxs(ct,{children:[l.jsx(Yt,{children:l.jsx(br,{children:"Spinner Sizes"})}),l.jsx(xt,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:o.map(u=>l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-20 flex items-center justify-center",children:l.jsx(Xc,{variant:"bounce",size:u})}),l.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:u})]},u))})})]}),l.jsxs(ct,{children:[l.jsx(Yt,{children:l.jsx(br,{children:"Spinner Colors"})}),l.jsx(xt,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:c.map(u=>l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-20 flex items-center justify-center",children:l.jsx(Xc,{variant:"default",size:"lg",color:u})}),l.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:u})]},u))})})]}),l.jsxs(ct,{children:[l.jsx(Yt,{children:l.jsx(br,{children:"Loading Spinner with Messages"})}),l.jsx(xt,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Basic Loading"}),l.jsx(M8,{message:"Loading dashboard data...",variant:"dots",size:"md"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"With Progress"}),l.jsx(M8,{message:"Processing files...",variant:"pulse",size:"lg",showProgress:!0,progress:65})]})]})})]}),l.jsxs(ct,{children:[l.jsx(Yt,{children:l.jsx(br,{children:"Combined Examples"})}),l.jsx(xt,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[l.jsx(Xc,{variant:"bounce",size:"xl",color:"success"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Success State"})]}),l.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[l.jsx(Xc,{variant:"rotate",size:"xl",color:"warning"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing"})]}),l.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[l.jsx(Xc,{variant:"dots",size:"xl",color:"destructive"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Error State"})]})]})})]})]}),e&&l.jsx(sXe,{message:"Loading amazing content...",variant:"bounce",fullScreen:!0})]})}const oXe=()=>l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),l.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),l.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),lXe=()=>{const{user:e}=vr();return(e==null?void 0:e.role)==="client"?l.jsx(Aye,{}):l.jsx(exe,{})},F8=({children:e})=>l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-800",children:e});function cXe(){return l.jsx(Pae,{children:l.jsx(YU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:l.jsx(Loe,{children:l.jsx(tie,{children:l.jsx(Zse,{children:l.jsx(rie,{children:l.jsx(uXe,{})})})})})})})}function uXe(){const{isRTL:e}=Va(),r=Al(),{t:n}=qt();return y.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),y.useEffect(()=>{const a=r.pathname.split("/").filter(u=>u),s="Middar CRM";if(a.length===0){document.title=s;return}const i=a[a.length-1],o={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let c="";if(o[i])c=n(o[i]);else if(/^\d+$/.test(i)||i.length>20)if(a.length>1){const u=a[a.length-2];o[u]?c=`${n(o[u])} - ${i}`:c=i}else c=i;else c=i.split("-").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ");document.title=`${c} | ${s}`},[r,n]),l.jsxs(kae,{children:[l.jsx(Er,{path:"/login",element:l.jsx(F8,{children:l.jsx(Ioe,{})})}),l.jsx(Er,{path:"/signup",element:l.jsx(F8,{children:l.jsx(Moe,{})})}),l.jsx(Er,{path:"/unauthorized",element:l.jsx(oXe,{})}),l.jsx(Er,{path:"/auth/callback",element:l.jsx(Dye,{})}),l.jsx(Er,{path:"/",element:l.jsx(Pye,{})}),l.jsxs(Er,{element:l.jsx(Ay,{children:l.jsx(bE,{children:l.jsx(nI,{})})}),children:[l.jsx(Er,{path:"/dashboard",element:l.jsx(gpe,{})}),l.jsx(Er,{path:"/leads",element:l.jsx(uve,{})}),l.jsx(Er,{path:"/projects",element:l.jsx(Cve,{})}),l.jsx(Er,{path:"/tasks",element:l.jsx(pve,{})}),l.jsx(Er,{path:"/tickets",element:l.jsx(xve,{})}),l.jsx(Er,{path:"/users",element:l.jsx(Ay,{denyPermissionIds:[3,4,5,6],children:l.jsx(zve,{})})}),l.jsx(Er,{path:"/teams",element:l.jsx(Wve,{})}),l.jsx(Er,{path:"/chats",element:l.jsx(lXe,{})}),l.jsx(Er,{path:"/all-chats",element:l.jsx(Tye,{})}),l.jsx(Er,{path:"/whatsapp",element:l.jsx(nXe,{})}),l.jsx(Er,{path:"/requests",element:l.jsx(eXe,{})}),l.jsx(Er,{path:"/client-portal",element:l.jsx(Oye,{})}),l.jsx(Er,{path:"/surveys",element:l.jsx(F2e,{})}),l.jsx(Er,{path:"/mleads",element:l.jsx(qGe,{})}),l.jsx(Er,{path:"/mprojects",element:l.jsx(XGe,{})}),l.jsx(Er,{path:"/permissions",element:l.jsx(Ay,{denyPermissionIds:[3,4,5,6],children:l.jsx(aXe,{})})}),l.jsx(Er,{path:"/settings",element:l.jsx(Ay,{denyPermissionIds:[3,4,5,6],children:l.jsx(L2e,{})})}),l.jsx(Er,{path:"/spinner-demo",element:l.jsx(iXe,{})})]}),l.jsx(Er,{element:l.jsx(bE,{children:l.jsx(nI,{})})}),l.jsx(Er,{path:"*",element:l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("h1",{children:"404 - Page Not Found"})})})]})}const dXe=new Nte({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});oU(document.getElementById("root")).render(l.jsx(Rre,{i18n:Zr,children:l.jsx(Ote,{client:dXe,children:l.jsx(YU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:l.jsx(cXe,{})})})}));
