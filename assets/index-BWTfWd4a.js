var aD=e=>{throw TypeError(e)};var fj=(e,t,r)=>t.has(e)||aD("Cannot "+r);var fe=(e,t,r)=>(fj(e,t,"read from private field"),r?r.call(e):t.get(e)),Nt=(e,t,r)=>t.has(e)?aD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ot=(e,t,r,n)=>(fj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Kt=(e,t,r)=>(fj(e,t,"access private method"),r);var Xx=(e,t,r,n)=>({set _(a){ot(e,t,a,r)},get _(){return fe(e,t,n)}});function C8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function T8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var A8={exports:{}},Yb={},O8={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv=Symbol.for("react.element"),dQ=Symbol.for("react.portal"),fQ=Symbol.for("react.fragment"),hQ=Symbol.for("react.strict_mode"),mQ=Symbol.for("react.profiler"),pQ=Symbol.for("react.provider"),gQ=Symbol.for("react.context"),vQ=Symbol.for("react.forward_ref"),xQ=Symbol.for("react.suspense"),yQ=Symbol.for("react.memo"),wQ=Symbol.for("react.lazy"),sD=Symbol.iterator;function bQ(e){return e===null||typeof e!="object"?null:(e=sD&&e[sD]||e["@@iterator"],typeof e=="function"?e:null)}var P8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D8=Object.assign,R8={};function pp(e,t,r){this.props=e,this.context=t,this.refs=R8,this.updater=r||P8}pp.prototype.isReactComponent={};pp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I8(){}I8.prototype=pp.prototype;function lT(e,t,r){this.props=e,this.context=t,this.refs=R8,this.updater=r||P8}var cT=lT.prototype=new I8;cT.constructor=lT;D8(cT,pp.prototype);cT.isPureReactComponent=!0;var iD=Array.isArray,M8=Object.prototype.hasOwnProperty,uT={current:null},F8={key:!0,ref:!0,__self:!0,__source:!0};function L8(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)M8.call(t,n)&&!F8.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Yv,type:e,key:s,ref:i,props:a,_owner:uT.current}}function _Q(e,t){return{$$typeof:Yv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dT(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yv}function SQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var oD=/\/+/g;function hj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SQ(""+e.key):t.toString(36)}function ow(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Yv:case dQ:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+hj(i,0):n,iD(a)?(r="",e!=null&&(r=e.replace(oD,"$&/")+"/"),ow(a,t,r,"",function(u){return u})):a!=null&&(dT(a)&&(a=_Q(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(oD,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",iD(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+hj(s,l);i+=ow(s,t,r,c,a)}else if(c=bQ(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+hj(s,l++),i+=ow(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Qx(e,t,r){if(e==null)return e;var n=[],a=0;return ow(e,n,"","",function(s){return t.call(r,s,a++)}),n}function jQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ds={current:null},lw={transition:null},kQ={ReactCurrentDispatcher:ds,ReactCurrentBatchConfig:lw,ReactCurrentOwner:uT};function $8(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:Qx,forEach:function(e,t,r){Qx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qx(e,function(){t++}),t},toArray:function(e){return Qx(e,function(t){return t})||[]},only:function(e){if(!dT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Gt.Component=pp;Gt.Fragment=fQ;Gt.Profiler=mQ;Gt.PureComponent=lT;Gt.StrictMode=hQ;Gt.Suspense=xQ;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kQ;Gt.act=$8;Gt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=D8({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=uT.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)M8.call(t,c)&&!F8.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Yv,type:e.type,key:a,ref:s,props:n,_owner:i}};Gt.createContext=function(e){return e={$$typeof:gQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pQ,_context:e},e.Consumer=e};Gt.createElement=L8;Gt.createFactory=function(e){var t=L8.bind(null,e);return t.type=e,t};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(e){return{$$typeof:vQ,render:e}};Gt.isValidElement=dT;Gt.lazy=function(e){return{$$typeof:wQ,_payload:{_status:-1,_result:e},_init:jQ}};Gt.memo=function(e,t){return{$$typeof:yQ,type:e,compare:t===void 0?null:t}};Gt.startTransition=function(e){var t=lw.transition;lw.transition={};try{e()}finally{lw.transition=t}};Gt.unstable_act=$8;Gt.useCallback=function(e,t){return ds.current.useCallback(e,t)};Gt.useContext=function(e){return ds.current.useContext(e)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(e){return ds.current.useDeferredValue(e)};Gt.useEffect=function(e,t){return ds.current.useEffect(e,t)};Gt.useId=function(){return ds.current.useId()};Gt.useImperativeHandle=function(e,t,r){return ds.current.useImperativeHandle(e,t,r)};Gt.useInsertionEffect=function(e,t){return ds.current.useInsertionEffect(e,t)};Gt.useLayoutEffect=function(e,t){return ds.current.useLayoutEffect(e,t)};Gt.useMemo=function(e,t){return ds.current.useMemo(e,t)};Gt.useReducer=function(e,t,r){return ds.current.useReducer(e,t,r)};Gt.useRef=function(e){return ds.current.useRef(e)};Gt.useState=function(e){return ds.current.useState(e)};Gt.useSyncExternalStore=function(e,t,r){return ds.current.useSyncExternalStore(e,t,r)};Gt.useTransition=function(){return ds.current.useTransition()};Gt.version="18.3.1";O8.exports=Gt;var y=O8.exports;const te=fr(y),fT=C8({__proto__:null,default:te},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NQ=y,EQ=Symbol.for("react.element"),CQ=Symbol.for("react.fragment"),TQ=Object.prototype.hasOwnProperty,AQ=NQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OQ={key:!0,ref:!0,__self:!0,__source:!0};function B8(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)TQ.call(t,n)&&!OQ.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:EQ,type:e,key:s,ref:i,props:a,_owner:AQ.current}}Yb.Fragment=CQ;Yb.jsx=B8;Yb.jsxs=B8;A8.exports=Yb;var o=A8.exports,U8={exports:{}},pi={},V8={exports:{}},W8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,D){var K=M.length;M.push(D);e:for(;0<K;){var Z=K-1>>>1,C=M[Z];if(0<a(C,D))M[Z]=D,M[K]=C,K=Z;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var D=M[0],K=M.pop();if(K!==D){M[0]=K;e:for(var Z=0,C=M.length,Y=C>>>1;Z<Y;){var B=2*(Z+1)-1,G=M[B],re=B+1,se=M[re];if(0>a(G,K))re<C&&0>a(se,G)?(M[Z]=se,M[re]=K,Z=re):(M[Z]=G,M[B]=K,Z=B);else if(re<C&&0>a(se,K))M[Z]=se,M[re]=K,Z=re;else break e}}return D}function a(M,D){var K=M.sortIndex-D.sortIndex;return K!==0?K:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=M)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function _(M){if(p=!1,b(M),!g)if(r(c)!==null)g=!0,I(S);else{var D=r(u);D!==null&&L(_,D.startTime-M)}}function S(M,D){g=!1,p&&(p=!1,w(E),E=-1),m=!0;var K=h;try{for(b(D),f=r(c);f!==null&&(!(f.expirationTime>D)||M&&!R());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var C=Z(f.expirationTime<=D);D=e.unstable_now(),typeof C=="function"?f.callback=C:f===r(c)&&n(c),b(D)}else n(c);f=r(c)}if(f!==null)var Y=!0;else{var B=r(u);B!==null&&L(_,B.startTime-D),Y=!1}return Y}finally{f=null,h=K,m=!1}}var k=!1,j=null,E=-1,N=5,O=-1;function R(){return!(e.unstable_now()-O<N)}function T(){if(j!==null){var M=e.unstable_now();O=M;var D=!0;try{D=j(!0,M)}finally{D?U():(k=!1,j=null)}}else k=!1}var U;if(typeof x=="function")U=function(){x(T)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,q=z.port2;z.port1.onmessage=T,U=function(){q.postMessage(null)}}else U=function(){v(T,0)};function I(M){j=M,k||(k=!0,U())}function L(M,D){E=v(function(){M(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,I(S))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var K=h;h=D;try{return M()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=h;h=M;try{return D()}finally{h=K}},e.unstable_scheduleCallback=function(M,D,K){var Z=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Z+K:Z):K=Z,M){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=K+C,M={id:d++,callback:D,priorityLevel:M,startTime:K,expirationTime:C,sortIndex:-1},K>Z?(M.sortIndex=K,t(u,M),r(c)===null&&M===r(u)&&(p?(w(E),E=-1):p=!0,L(_,K-Z))):(M.sortIndex=C,t(c,M),g||m||(g=!0,I(S))),M},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(M){var D=h;return function(){var K=h;h=D;try{return M.apply(this,arguments)}finally{h=K}}}})(W8);V8.exports=W8;var PQ=V8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DQ=y,di=PQ;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z8=new Set,Sg={};function Ef(e,t){vm(e,t),vm(e+"Capture",t)}function vm(e,t){for(Sg[e]=t,e=0;e<t.length;e++)z8.add(t[e])}var Ql=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p2=Object.prototype.hasOwnProperty,RQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lD={},cD={};function IQ(e){return p2.call(cD,e)?!0:p2.call(lD,e)?!1:RQ.test(e)?cD[e]=!0:(lD[e]=!0,!1)}function MQ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FQ(e,t,r,n){if(t===null||typeof t>"u"||MQ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fs(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var ha={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ha[e]=new fs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ha[t]=new fs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ha[e]=new fs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ha[e]=new fs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ha[e]=new fs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ha[e]=new fs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ha[e]=new fs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ha[e]=new fs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ha[e]=new fs(e,5,!1,e.toLowerCase(),null,!1,!1)});var hT=/[\-:]([a-z])/g;function mT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hT,mT);ha[t]=new fs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hT,mT);ha[t]=new fs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hT,mT);ha[t]=new fs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ha[e]=new fs(e,1,!1,e.toLowerCase(),null,!1,!1)});ha.xlinkHref=new fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ha[e]=new fs(e,1,!1,e.toLowerCase(),null,!0,!0)});function pT(e,t,r,n){var a=ha.hasOwnProperty(t)?ha[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FQ(t,r,a,n)&&(r=null),n||a===null?IQ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var mc=DQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zx=Symbol.for("react.element"),xh=Symbol.for("react.portal"),yh=Symbol.for("react.fragment"),gT=Symbol.for("react.strict_mode"),g2=Symbol.for("react.profiler"),H8=Symbol.for("react.provider"),q8=Symbol.for("react.context"),vT=Symbol.for("react.forward_ref"),v2=Symbol.for("react.suspense"),x2=Symbol.for("react.suspense_list"),xT=Symbol.for("react.memo"),Ic=Symbol.for("react.lazy"),G8=Symbol.for("react.offscreen"),uD=Symbol.iterator;function Zp(e){return e===null||typeof e!="object"?null:(e=uD&&e[uD]||e["@@iterator"],typeof e=="function"?e:null)}var Jr=Object.assign,mj;function E0(e){if(mj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mj=t&&t[1]||""}return`
`+mj+e}var pj=!1;function gj(e,t){if(!e||pj)return"";pj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{pj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?E0(e):""}function LQ(e){switch(e.tag){case 5:return E0(e.type);case 16:return E0("Lazy");case 13:return E0("Suspense");case 19:return E0("SuspenseList");case 0:case 2:case 15:return e=gj(e.type,!1),e;case 11:return e=gj(e.type.render,!1),e;case 1:return e=gj(e.type,!0),e;default:return""}}function y2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yh:return"Fragment";case xh:return"Portal";case g2:return"Profiler";case gT:return"StrictMode";case v2:return"Suspense";case x2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q8:return(e.displayName||"Context")+".Consumer";case H8:return(e._context.displayName||"Context")+".Provider";case vT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xT:return t=e.displayName||null,t!==null?t:y2(e.type)||"Memo";case Ic:t=e._payload,e=e._init;try{return y2(e(t))}catch{}}return null}function $Q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y2(t);case 8:return t===gT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BQ(e){var t=K8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ey(e){e._valueTracker||(e._valueTracker=BQ(e))}function Y8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=K8(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function w2(e,t){var r=t.checked;return Jr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dD(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function X8(e,t){t=t.checked,t!=null&&pT(e,"checked",t,!1)}function b2(e,t){X8(e,t);var r=Nu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_2(e,t.type,r):t.hasOwnProperty("defaultValue")&&_2(e,t.type,Nu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fD(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _2(e,t,r){(t!=="number"||Dw(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var C0=Array.isArray;function $h(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function S2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return Jr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(He(92));if(C0(r)){if(1<r.length)throw Error(He(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nu(r)}}function J8(e,t){var r=Nu(t.value),n=Nu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function mD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function j2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ty,Z8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ty=ty||document.createElement("div"),ty.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ty.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var V0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UQ=["Webkit","ms","Moz","O"];Object.keys(V0).forEach(function(e){UQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),V0[t]=V0[e]})});function e6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||V0.hasOwnProperty(e)&&V0[e]?(""+t).trim():t+"px"}function t6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=e6(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var VQ=Jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k2(e,t){if(t){if(VQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function N2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E2=null;function yT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var C2=null,Bh=null,Uh=null;function pD(e){if(e=Qv(e)){if(typeof C2!="function")throw Error(He(280));var t=e.stateNode;t&&(t=e_(t),C2(e.stateNode,e.type,t))}}function r6(e){Bh?Uh?Uh.push(e):Uh=[e]:Bh=e}function n6(){if(Bh){var e=Bh,t=Uh;if(Uh=Bh=null,pD(e),t)for(e=0;e<t.length;e++)pD(t[e])}}function a6(e,t){return e(t)}function s6(){}var vj=!1;function i6(e,t,r){if(vj)return e(t,r);vj=!0;try{return a6(e,t,r)}finally{vj=!1,(Bh!==null||Uh!==null)&&(s6(),n6())}}function kg(e,t){var r=e.stateNode;if(r===null)return null;var n=e_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(He(231,t,typeof r));return r}var T2=!1;if(Ql)try{var e0={};Object.defineProperty(e0,"passive",{get:function(){T2=!0}}),window.addEventListener("test",e0,e0),window.removeEventListener("test",e0,e0)}catch{T2=!1}function WQ(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var W0=!1,Rw=null,Iw=!1,A2=null,zQ={onError:function(e){W0=!0,Rw=e}};function HQ(e,t,r,n,a,s,i,l,c){W0=!1,Rw=null,WQ.apply(zQ,arguments)}function qQ(e,t,r,n,a,s,i,l,c){if(HQ.apply(this,arguments),W0){if(W0){var u=Rw;W0=!1,Rw=null}else throw Error(He(198));Iw||(Iw=!0,A2=u)}}function Cf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function o6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gD(e){if(Cf(e)!==e)throw Error(He(188))}function GQ(e){var t=e.alternate;if(!t){if(t=Cf(e),t===null)throw Error(He(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return gD(a),e;if(s===n)return gD(a),t;s=s.sibling}throw Error(He(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(He(189))}}if(r.alternate!==n)throw Error(He(190))}if(r.tag!==3)throw Error(He(188));return r.stateNode.current===r?e:t}function l6(e){return e=GQ(e),e!==null?c6(e):null}function c6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=c6(e);if(t!==null)return t;e=e.sibling}return null}var u6=di.unstable_scheduleCallback,vD=di.unstable_cancelCallback,KQ=di.unstable_shouldYield,YQ=di.unstable_requestPaint,un=di.unstable_now,XQ=di.unstable_getCurrentPriorityLevel,wT=di.unstable_ImmediatePriority,d6=di.unstable_UserBlockingPriority,Mw=di.unstable_NormalPriority,JQ=di.unstable_LowPriority,f6=di.unstable_IdlePriority,Xb=null,sl=null;function QQ(e){if(sl&&typeof sl.onCommitFiberRoot=="function")try{sl.onCommitFiberRoot(Xb,e,void 0,(e.current.flags&128)===128)}catch{}}var _o=Math.clz32?Math.clz32:tZ,ZQ=Math.log,eZ=Math.LN2;function tZ(e){return e>>>=0,e===0?32:31-(ZQ(e)/eZ|0)|0}var ry=64,ny=4194304;function T0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fw(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=T0(l):(s&=i,s!==0&&(n=T0(s)))}else i=r&~a,i!==0?n=T0(i):s!==0&&(n=T0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_o(t),a=1<<r,n|=e[r],t&=~a;return n}function rZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nZ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-_o(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=rZ(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function O2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function h6(){var e=ry;return ry<<=1,!(ry&4194240)&&(ry=64),e}function xj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_o(t),e[t]=r}function aZ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-_o(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function bT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_o(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var pr=0;function m6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var p6,_T,g6,v6,x6,P2=!1,ay=[],du=null,fu=null,hu=null,Ng=new Map,Eg=new Map,Uc=[],sZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xD(e,t){switch(e){case"focusin":case"focusout":du=null;break;case"dragenter":case"dragleave":fu=null;break;case"mouseover":case"mouseout":hu=null;break;case"pointerover":case"pointerout":Ng.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eg.delete(t.pointerId)}}function t0(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Qv(t),t!==null&&_T(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function iZ(e,t,r,n,a){switch(t){case"focusin":return du=t0(du,e,t,r,n,a),!0;case"dragenter":return fu=t0(fu,e,t,r,n,a),!0;case"mouseover":return hu=t0(hu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Ng.set(s,t0(Ng.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Eg.set(s,t0(Eg.get(s)||null,e,t,r,n,a)),!0}return!1}function y6(e){var t=_d(e.target);if(t!==null){var r=Cf(t);if(r!==null){if(t=r.tag,t===13){if(t=o6(r),t!==null){e.blockedOn=t,x6(e.priority,function(){g6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=D2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);E2=n,r.target.dispatchEvent(n),E2=null}else return t=Qv(r),t!==null&&_T(t),e.blockedOn=r,!1;t.shift()}return!0}function yD(e,t,r){cw(e)&&r.delete(t)}function oZ(){P2=!1,du!==null&&cw(du)&&(du=null),fu!==null&&cw(fu)&&(fu=null),hu!==null&&cw(hu)&&(hu=null),Ng.forEach(yD),Eg.forEach(yD)}function r0(e,t){e.blockedOn===t&&(e.blockedOn=null,P2||(P2=!0,di.unstable_scheduleCallback(di.unstable_NormalPriority,oZ)))}function Cg(e){function t(a){return r0(a,e)}if(0<ay.length){r0(ay[0],e);for(var r=1;r<ay.length;r++){var n=ay[r];n.blockedOn===e&&(n.blockedOn=null)}}for(du!==null&&r0(du,e),fu!==null&&r0(fu,e),hu!==null&&r0(hu,e),Ng.forEach(t),Eg.forEach(t),r=0;r<Uc.length;r++)n=Uc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Uc.length&&(r=Uc[0],r.blockedOn===null);)y6(r),r.blockedOn===null&&Uc.shift()}var Vh=mc.ReactCurrentBatchConfig,Lw=!0;function lZ(e,t,r,n){var a=pr,s=Vh.transition;Vh.transition=null;try{pr=1,ST(e,t,r,n)}finally{pr=a,Vh.transition=s}}function cZ(e,t,r,n){var a=pr,s=Vh.transition;Vh.transition=null;try{pr=4,ST(e,t,r,n)}finally{pr=a,Vh.transition=s}}function ST(e,t,r,n){if(Lw){var a=D2(e,t,r,n);if(a===null)Cj(e,t,n,$w,r),xD(e,n);else if(iZ(a,e,t,r,n))n.stopPropagation();else if(xD(e,n),t&4&&-1<sZ.indexOf(e)){for(;a!==null;){var s=Qv(a);if(s!==null&&p6(s),s=D2(e,t,r,n),s===null&&Cj(e,t,n,$w,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Cj(e,t,n,null,r)}}var $w=null;function D2(e,t,r,n){if($w=null,e=yT(n),e=_d(e),e!==null)if(t=Cf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=o6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $w=e,null}function w6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XQ()){case wT:return 1;case d6:return 4;case Mw:case JQ:return 16;case f6:return 536870912;default:return 16}default:return 16}}var ru=null,jT=null,uw=null;function b6(){if(uw)return uw;var e,t=jT,r=t.length,n,a="value"in ru?ru.value:ru.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return uw=a.slice(e,1<n?1-n:void 0)}function dw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sy(){return!0}function wD(){return!1}function gi(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sy:wD,this.isPropagationStopped=wD,this}return Jr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sy)},persist:function(){},isPersistent:sy}),t}var gp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kT=gi(gp),Jv=Jr({},gp,{view:0,detail:0}),uZ=gi(Jv),yj,wj,n0,Jb=Jr({},Jv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==n0&&(n0&&e.type==="mousemove"?(yj=e.screenX-n0.screenX,wj=e.screenY-n0.screenY):wj=yj=0,n0=e),yj)},movementY:function(e){return"movementY"in e?e.movementY:wj}}),bD=gi(Jb),dZ=Jr({},Jb,{dataTransfer:0}),fZ=gi(dZ),hZ=Jr({},Jv,{relatedTarget:0}),bj=gi(hZ),mZ=Jr({},gp,{animationName:0,elapsedTime:0,pseudoElement:0}),pZ=gi(mZ),gZ=Jr({},gp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vZ=gi(gZ),xZ=Jr({},gp,{data:0}),_D=gi(xZ),yZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _Z(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bZ[e])?!!t[e]:!1}function NT(){return _Z}var SZ=Jr({},Jv,{key:function(e){if(e.key){var t=yZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NT,charCode:function(e){return e.type==="keypress"?dw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jZ=gi(SZ),kZ=Jr({},Jb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SD=gi(kZ),NZ=Jr({},Jv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NT}),EZ=gi(NZ),CZ=Jr({},gp,{propertyName:0,elapsedTime:0,pseudoElement:0}),TZ=gi(CZ),AZ=Jr({},Jb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OZ=gi(AZ),PZ=[9,13,27,32],ET=Ql&&"CompositionEvent"in window,z0=null;Ql&&"documentMode"in document&&(z0=document.documentMode);var DZ=Ql&&"TextEvent"in window&&!z0,_6=Ql&&(!ET||z0&&8<z0&&11>=z0),jD=" ",kD=!1;function S6(e,t){switch(e){case"keyup":return PZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wh=!1;function RZ(e,t){switch(e){case"compositionend":return j6(t);case"keypress":return t.which!==32?null:(kD=!0,jD);case"textInput":return e=t.data,e===jD&&kD?null:e;default:return null}}function IZ(e,t){if(wh)return e==="compositionend"||!ET&&S6(e,t)?(e=b6(),uw=jT=ru=null,wh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _6&&t.locale!=="ko"?null:t.data;default:return null}}var MZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ND(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MZ[e.type]:t==="textarea"}function k6(e,t,r,n){r6(n),t=Bw(t,"onChange"),0<t.length&&(r=new kT("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var H0=null,Tg=null;function FZ(e){M6(e,0)}function Qb(e){var t=Sh(e);if(Y8(t))return e}function LZ(e,t){if(e==="change")return t}var N6=!1;if(Ql){var _j;if(Ql){var Sj="oninput"in document;if(!Sj){var ED=document.createElement("div");ED.setAttribute("oninput","return;"),Sj=typeof ED.oninput=="function"}_j=Sj}else _j=!1;N6=_j&&(!document.documentMode||9<document.documentMode)}function CD(){H0&&(H0.detachEvent("onpropertychange",E6),Tg=H0=null)}function E6(e){if(e.propertyName==="value"&&Qb(Tg)){var t=[];k6(t,Tg,e,yT(e)),i6(FZ,t)}}function $Z(e,t,r){e==="focusin"?(CD(),H0=t,Tg=r,H0.attachEvent("onpropertychange",E6)):e==="focusout"&&CD()}function BZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qb(Tg)}function UZ(e,t){if(e==="click")return Qb(t)}function VZ(e,t){if(e==="input"||e==="change")return Qb(t)}function WZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var No=typeof Object.is=="function"?Object.is:WZ;function Ag(e,t){if(No(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!p2.call(t,a)||!No(e[a],t[a]))return!1}return!0}function TD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function AD(e,t){var r=TD(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=TD(r)}}function C6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T6(){for(var e=window,t=Dw();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dw(e.document)}return t}function CT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zZ(e){var t=T6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&C6(r.ownerDocument.documentElement,r)){if(n!==null&&CT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=AD(r,s);var i=AD(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HZ=Ql&&"documentMode"in document&&11>=document.documentMode,bh=null,R2=null,q0=null,I2=!1;function OD(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;I2||bh==null||bh!==Dw(n)||(n=bh,"selectionStart"in n&&CT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),q0&&Ag(q0,n)||(q0=n,n=Bw(R2,"onSelect"),0<n.length&&(t=new kT("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bh)))}function iy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _h={animationend:iy("Animation","AnimationEnd"),animationiteration:iy("Animation","AnimationIteration"),animationstart:iy("Animation","AnimationStart"),transitionend:iy("Transition","TransitionEnd")},jj={},A6={};Ql&&(A6=document.createElement("div").style,"AnimationEvent"in window||(delete _h.animationend.animation,delete _h.animationiteration.animation,delete _h.animationstart.animation),"TransitionEvent"in window||delete _h.transitionend.transition);function Zb(e){if(jj[e])return jj[e];if(!_h[e])return e;var t=_h[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A6)return jj[e]=t[r];return e}var O6=Zb("animationend"),P6=Zb("animationiteration"),D6=Zb("animationstart"),R6=Zb("transitionend"),I6=new Map,PD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uu(e,t){I6.set(e,t),Ef(t,[e])}for(var kj=0;kj<PD.length;kj++){var Nj=PD[kj],qZ=Nj.toLowerCase(),GZ=Nj[0].toUpperCase()+Nj.slice(1);Uu(qZ,"on"+GZ)}Uu(O6,"onAnimationEnd");Uu(P6,"onAnimationIteration");Uu(D6,"onAnimationStart");Uu("dblclick","onDoubleClick");Uu("focusin","onFocus");Uu("focusout","onBlur");Uu(R6,"onTransitionEnd");vm("onMouseEnter",["mouseout","mouseover"]);vm("onMouseLeave",["mouseout","mouseover"]);vm("onPointerEnter",["pointerout","pointerover"]);vm("onPointerLeave",["pointerout","pointerover"]);Ef("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ef("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ef("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ef("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ef("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ef("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(A0));function DD(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qQ(n,t,void 0,e),e.currentTarget=null}function M6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;DD(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;DD(a,l,u),s=c}}}if(Iw)throw e=A2,Iw=!1,A2=null,e}function Rr(e,t){var r=t[B2];r===void 0&&(r=t[B2]=new Set);var n=e+"__bubble";r.has(n)||(F6(t,e,2,!1),r.add(n))}function Ej(e,t,r){var n=0;t&&(n|=4),F6(r,e,n,t)}var oy="_reactListening"+Math.random().toString(36).slice(2);function Og(e){if(!e[oy]){e[oy]=!0,z8.forEach(function(r){r!=="selectionchange"&&(KZ.has(r)||Ej(r,!1,e),Ej(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oy]||(t[oy]=!0,Ej("selectionchange",!1,t))}}function F6(e,t,r,n){switch(w6(t)){case 1:var a=lZ;break;case 4:a=cZ;break;default:a=ST}r=a.bind(null,t,r,e),a=void 0,!T2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Cj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=_d(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}i6(function(){var u=s,d=yT(r),f=[];e:{var h=I6.get(e);if(h!==void 0){var m=kT,g=e;switch(e){case"keypress":if(dw(r)===0)break e;case"keydown":case"keyup":m=jZ;break;case"focusin":g="focus",m=bj;break;case"focusout":g="blur",m=bj;break;case"beforeblur":case"afterblur":m=bj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=EZ;break;case O6:case P6:case D6:m=pZ;break;case R6:m=TZ;break;case"scroll":m=uZ;break;case"wheel":m=OZ;break;case"copy":case"cut":case"paste":m=vZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=SD}var p=(t&4)!==0,v=!p&&e==="scroll",w=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,w!==null&&(_=kg(x,w),_!=null&&p.push(Pg(x,_,b)))),v)break;x=x.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==E2&&(g=r.relatedTarget||r.fromElement)&&(_d(g)||g[Zl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?_d(g):null,g!==null&&(v=Cf(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=bD,_="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=SD,_="onPointerLeave",w="onPointerEnter",x="pointer"),v=m==null?h:Sh(m),b=g==null?h:Sh(g),h=new p(_,x+"leave",m,r,d),h.target=v,h.relatedTarget=b,_=null,_d(d)===u&&(p=new p(w,x+"enter",g,r,d),p.target=b,p.relatedTarget=v,_=p),v=_,m&&g)t:{for(p=m,w=g,x=0,b=p;b;b=Wf(b))x++;for(b=0,_=w;_;_=Wf(_))b++;for(;0<x-b;)p=Wf(p),x--;for(;0<b-x;)w=Wf(w),b--;for(;x--;){if(p===w||w!==null&&p===w.alternate)break t;p=Wf(p),w=Wf(w)}p=null}else p=null;m!==null&&RD(f,h,m,p,!1),g!==null&&v!==null&&RD(f,v,g,p,!0)}}e:{if(h=u?Sh(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=LZ;else if(ND(h))if(N6)S=VZ;else{S=BZ;var k=$Z}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=UZ);if(S&&(S=S(e,u))){k6(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&_2(h,"number",h.value)}switch(k=u?Sh(u):window,e){case"focusin":(ND(k)||k.contentEditable==="true")&&(bh=k,R2=u,q0=null);break;case"focusout":q0=R2=bh=null;break;case"mousedown":I2=!0;break;case"contextmenu":case"mouseup":case"dragend":I2=!1,OD(f,r,d);break;case"selectionchange":if(HZ)break;case"keydown":case"keyup":OD(f,r,d)}var j;if(ET)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else wh?S6(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(_6&&r.locale!=="ko"&&(wh||E!=="onCompositionStart"?E==="onCompositionEnd"&&wh&&(j=b6()):(ru=d,jT="value"in ru?ru.value:ru.textContent,wh=!0)),k=Bw(u,E),0<k.length&&(E=new _D(E,e,null,r,d),f.push({event:E,listeners:k}),j?E.data=j:(j=j6(r),j!==null&&(E.data=j)))),(j=DZ?RZ(e,r):IZ(e,r))&&(u=Bw(u,"onBeforeInput"),0<u.length&&(d=new _D("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}M6(f,t)})}function Pg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bw(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=kg(e,r),s!=null&&n.unshift(Pg(e,s,a)),s=kg(e,t),s!=null&&n.push(Pg(e,s,a))),e=e.return}return n}function Wf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function RD(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=kg(r,s),c!=null&&i.unshift(Pg(r,c,l))):a||(c=kg(r,s),c!=null&&i.push(Pg(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var YZ=/\r\n?/g,XZ=/\u0000|\uFFFD/g;function ID(e){return(typeof e=="string"?e:""+e).replace(YZ,`
`).replace(XZ,"")}function ly(e,t,r){if(t=ID(t),ID(e)!==t&&r)throw Error(He(425))}function Uw(){}var M2=null,F2=null;function L2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $2=typeof setTimeout=="function"?setTimeout:void 0,JZ=typeof clearTimeout=="function"?clearTimeout:void 0,MD=typeof Promise=="function"?Promise:void 0,QZ=typeof queueMicrotask=="function"?queueMicrotask:typeof MD<"u"?function(e){return MD.resolve(null).then(e).catch(ZZ)}:$2;function ZZ(e){setTimeout(function(){throw e})}function Tj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Cg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Cg(t)}function mu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function FD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vp=Math.random().toString(36).slice(2),Jo="__reactFiber$"+vp,Dg="__reactProps$"+vp,Zl="__reactContainer$"+vp,B2="__reactEvents$"+vp,eee="__reactListeners$"+vp,tee="__reactHandles$"+vp;function _d(e){var t=e[Jo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zl]||r[Jo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=FD(e);e!==null;){if(r=e[Jo])return r;e=FD(e)}return t}e=r,r=e.parentNode}return null}function Qv(e){return e=e[Jo]||e[Zl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function e_(e){return e[Dg]||null}var U2=[],jh=-1;function Vu(e){return{current:e}}function Fr(e){0>jh||(e.current=U2[jh],U2[jh]=null,jh--)}function Cr(e,t){jh++,U2[jh]=e.current,e.current=t}var Eu={},Ma=Vu(Eu),Ns=Vu(!1),Zd=Eu;function xm(e,t){var r=e.type.contextTypes;if(!r)return Eu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Es(e){return e=e.childContextTypes,e!=null}function Vw(){Fr(Ns),Fr(Ma)}function LD(e,t,r){if(Ma.current!==Eu)throw Error(He(168));Cr(Ma,t),Cr(Ns,r)}function L6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(He(108,$Q(e)||"Unknown",a));return Jr({},r,n)}function Ww(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eu,Zd=Ma.current,Cr(Ma,e),Cr(Ns,Ns.current),!0}function $D(e,t,r){var n=e.stateNode;if(!n)throw Error(He(169));r?(e=L6(e,t,Zd),n.__reactInternalMemoizedMergedChildContext=e,Fr(Ns),Fr(Ma),Cr(Ma,e)):Fr(Ns),Cr(Ns,r)}var Rl=null,t_=!1,Aj=!1;function $6(e){Rl===null?Rl=[e]:Rl.push(e)}function ree(e){t_=!0,$6(e)}function Wu(){if(!Aj&&Rl!==null){Aj=!0;var e=0,t=pr;try{var r=Rl;for(pr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rl=null,t_=!1}catch(a){throw Rl!==null&&(Rl=Rl.slice(e+1)),u6(wT,Wu),a}finally{pr=t,Aj=!1}}return null}var kh=[],Nh=0,zw=null,Hw=0,Ci=[],Ti=0,ef=null,Bl=1,Ul="";function ud(e,t){kh[Nh++]=Hw,kh[Nh++]=zw,zw=e,Hw=t}function B6(e,t,r){Ci[Ti++]=Bl,Ci[Ti++]=Ul,Ci[Ti++]=ef,ef=e;var n=Bl;e=Ul;var a=32-_o(n)-1;n&=~(1<<a),r+=1;var s=32-_o(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Bl=1<<32-_o(t)+a|r<<a|n,Ul=s+e}else Bl=1<<s|r<<a|n,Ul=e}function TT(e){e.return!==null&&(ud(e,1),B6(e,1,0))}function AT(e){for(;e===zw;)zw=kh[--Nh],kh[Nh]=null,Hw=kh[--Nh],kh[Nh]=null;for(;e===ef;)ef=Ci[--Ti],Ci[Ti]=null,Ul=Ci[--Ti],Ci[Ti]=null,Bl=Ci[--Ti],Ci[Ti]=null}var ii=null,ai=null,Ur=!1,mo=null;function U6(e,t){var r=Pi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function BD(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ii=e,ai=mu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ii=e,ai=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ef!==null?{id:Bl,overflow:Ul}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ii=e,ai=null,!0):!1;default:return!1}}function V2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function W2(e){if(Ur){var t=ai;if(t){var r=t;if(!BD(e,t)){if(V2(e))throw Error(He(418));t=mu(r.nextSibling);var n=ii;t&&BD(e,t)?U6(n,r):(e.flags=e.flags&-4097|2,Ur=!1,ii=e)}}else{if(V2(e))throw Error(He(418));e.flags=e.flags&-4097|2,Ur=!1,ii=e}}}function UD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ii=e}function cy(e){if(e!==ii)return!1;if(!Ur)return UD(e),Ur=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!L2(e.type,e.memoizedProps)),t&&(t=ai)){if(V2(e))throw V6(),Error(He(418));for(;t;)U6(e,t),t=mu(t.nextSibling)}if(UD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ai=mu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ai=null}}else ai=ii?mu(e.stateNode.nextSibling):null;return!0}function V6(){for(var e=ai;e;)e=mu(e.nextSibling)}function ym(){ai=ii=null,Ur=!1}function OT(e){mo===null?mo=[e]:mo.push(e)}var nee=mc.ReactCurrentBatchConfig;function a0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(He(309));var n=r.stateNode}if(!n)throw Error(He(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(He(284));if(!r._owner)throw Error(He(290,e))}return e}function uy(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function VD(e){var t=e._init;return t(e._payload)}function W6(e){function t(w,x){if(e){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function r(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function a(w,x){return w=xu(w,x),w.index=0,w.sibling=null,w}function s(w,x,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,x,b,_){return x===null||x.tag!==6?(x=Fj(b,w.mode,_),x.return=w,x):(x=a(x,b),x.return=w,x)}function c(w,x,b,_){var S=b.type;return S===yh?d(w,x,b.props.children,_,b.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ic&&VD(S)===x.type)?(_=a(x,b.props),_.ref=a0(w,x,b),_.return=w,_):(_=xw(b.type,b.key,b.props,null,w.mode,_),_.ref=a0(w,x,b),_.return=w,_)}function u(w,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Lj(b,w.mode,_),x.return=w,x):(x=a(x,b.children||[]),x.return=w,x)}function d(w,x,b,_,S){return x===null||x.tag!==7?(x=zd(b,w.mode,_,S),x.return=w,x):(x=a(x,b),x.return=w,x)}function f(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Fj(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zx:return b=xw(x.type,x.key,x.props,null,w.mode,b),b.ref=a0(w,null,x),b.return=w,b;case xh:return x=Lj(x,w.mode,b),x.return=w,x;case Ic:var _=x._init;return f(w,_(x._payload),b)}if(C0(x)||Zp(x))return x=zd(x,w.mode,b,null),x.return=w,x;uy(w,x)}return null}function h(w,x,b,_){var S=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(w,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zx:return b.key===S?c(w,x,b,_):null;case xh:return b.key===S?u(w,x,b,_):null;case Ic:return S=b._init,h(w,x,S(b._payload),_)}if(C0(b)||Zp(b))return S!==null?null:d(w,x,b,_,null);uy(w,b)}return null}function m(w,x,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(b)||null,l(x,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zx:return w=w.get(_.key===null?b:_.key)||null,c(x,w,_,S);case xh:return w=w.get(_.key===null?b:_.key)||null,u(x,w,_,S);case Ic:var k=_._init;return m(w,x,b,k(_._payload),S)}if(C0(_)||Zp(_))return w=w.get(b)||null,d(x,w,_,S,null);uy(x,_)}return null}function g(w,x,b,_){for(var S=null,k=null,j=x,E=x=0,N=null;j!==null&&E<b.length;E++){j.index>E?(N=j,j=null):N=j.sibling;var O=h(w,j,b[E],_);if(O===null){j===null&&(j=N);break}e&&j&&O.alternate===null&&t(w,j),x=s(O,x,E),k===null?S=O:k.sibling=O,k=O,j=N}if(E===b.length)return r(w,j),Ur&&ud(w,E),S;if(j===null){for(;E<b.length;E++)j=f(w,b[E],_),j!==null&&(x=s(j,x,E),k===null?S=j:k.sibling=j,k=j);return Ur&&ud(w,E),S}for(j=n(w,j);E<b.length;E++)N=m(j,w,E,b[E],_),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?E:N.key),x=s(N,x,E),k===null?S=N:k.sibling=N,k=N);return e&&j.forEach(function(R){return t(w,R)}),Ur&&ud(w,E),S}function p(w,x,b,_){var S=Zp(b);if(typeof S!="function")throw Error(He(150));if(b=S.call(b),b==null)throw Error(He(151));for(var k=S=null,j=x,E=x=0,N=null,O=b.next();j!==null&&!O.done;E++,O=b.next()){j.index>E?(N=j,j=null):N=j.sibling;var R=h(w,j,O.value,_);if(R===null){j===null&&(j=N);break}e&&j&&R.alternate===null&&t(w,j),x=s(R,x,E),k===null?S=R:k.sibling=R,k=R,j=N}if(O.done)return r(w,j),Ur&&ud(w,E),S;if(j===null){for(;!O.done;E++,O=b.next())O=f(w,O.value,_),O!==null&&(x=s(O,x,E),k===null?S=O:k.sibling=O,k=O);return Ur&&ud(w,E),S}for(j=n(w,j);!O.done;E++,O=b.next())O=m(j,w,E,O.value,_),O!==null&&(e&&O.alternate!==null&&j.delete(O.key===null?E:O.key),x=s(O,x,E),k===null?S=O:k.sibling=O,k=O);return e&&j.forEach(function(T){return t(w,T)}),Ur&&ud(w,E),S}function v(w,x,b,_){if(typeof b=="object"&&b!==null&&b.type===yh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zx:e:{for(var S=b.key,k=x;k!==null;){if(k.key===S){if(S=b.type,S===yh){if(k.tag===7){r(w,k.sibling),x=a(k,b.props.children),x.return=w,w=x;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ic&&VD(S)===k.type){r(w,k.sibling),x=a(k,b.props),x.ref=a0(w,k,b),x.return=w,w=x;break e}r(w,k);break}else t(w,k);k=k.sibling}b.type===yh?(x=zd(b.props.children,w.mode,_,b.key),x.return=w,w=x):(_=xw(b.type,b.key,b.props,null,w.mode,_),_.ref=a0(w,x,b),_.return=w,w=_)}return i(w);case xh:e:{for(k=b.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(w,x.sibling),x=a(x,b.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else t(w,x);x=x.sibling}x=Lj(b,w.mode,_),x.return=w,w=x}return i(w);case Ic:return k=b._init,v(w,x,k(b._payload),_)}if(C0(b))return g(w,x,b,_);if(Zp(b))return p(w,x,b,_);uy(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(w,x.sibling),x=a(x,b),x.return=w,w=x):(r(w,x),x=Fj(b,w.mode,_),x.return=w,w=x),i(w)):r(w,x)}return v}var wm=W6(!0),z6=W6(!1),qw=Vu(null),Gw=null,Eh=null,PT=null;function DT(){PT=Eh=Gw=null}function RT(e){var t=qw.current;Fr(qw),e._currentValue=t}function z2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wh(e,t){Gw=e,PT=Eh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ss=!0),e.firstContext=null)}function Fi(e){var t=e._currentValue;if(PT!==e)if(e={context:e,memoizedValue:t,next:null},Eh===null){if(Gw===null)throw Error(He(308));Eh=e,Gw.dependencies={lanes:0,firstContext:e}}else Eh=Eh.next=e;return t}var Sd=null;function IT(e){Sd===null?Sd=[e]:Sd.push(e)}function H6(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,IT(t)):(r.next=a.next,a.next=r),t.interleaved=r,ec(e,n)}function ec(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mc=!1;function MT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ql(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ec(e,r)}return a=n.interleaved,a===null?(t.next=t,IT(n)):(t.next=a.next,a.next=t),n.interleaved=t,ec(e,r)}function fw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bT(e,r)}}function WD(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Kw(e,t,r,n){var a=e.updateQueue;Mc=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Jr({},f,h);break e;case 2:Mc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);rf|=i,e.lanes=i,e.memoizedState=f}}function zD(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(He(191,a));a.call(n)}}}var Zv={},il=Vu(Zv),Rg=Vu(Zv),Ig=Vu(Zv);function jd(e){if(e===Zv)throw Error(He(174));return e}function FT(e,t){switch(Cr(Ig,t),Cr(Rg,e),Cr(il,Zv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:j2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=j2(t,e)}Fr(il),Cr(il,t)}function bm(){Fr(il),Fr(Rg),Fr(Ig)}function G6(e){jd(Ig.current);var t=jd(il.current),r=j2(t,e.type);t!==r&&(Cr(Rg,e),Cr(il,r))}function LT(e){Rg.current===e&&(Fr(il),Fr(Rg))}var Gr=Vu(0);function Yw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oj=[];function $T(){for(var e=0;e<Oj.length;e++)Oj[e]._workInProgressVersionPrimary=null;Oj.length=0}var hw=mc.ReactCurrentDispatcher,Pj=mc.ReactCurrentBatchConfig,tf=0,Xr=null,Rn=null,Hn=null,Xw=!1,G0=!1,Mg=0,aee=0;function ma(){throw Error(He(321))}function BT(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!No(e[r],t[r]))return!1;return!0}function UT(e,t,r,n,a,s){if(tf=s,Xr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hw.current=e===null||e.memoizedState===null?lee:cee,e=r(n,a),G0){s=0;do{if(G0=!1,Mg=0,25<=s)throw Error(He(301));s+=1,Hn=Rn=null,t.updateQueue=null,hw.current=uee,e=r(n,a)}while(G0)}if(hw.current=Jw,t=Rn!==null&&Rn.next!==null,tf=0,Hn=Rn=Xr=null,Xw=!1,t)throw Error(He(300));return e}function VT(){var e=Mg!==0;return Mg=0,e}function qo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Xr.memoizedState=Hn=e:Hn=Hn.next=e,Hn}function Li(){if(Rn===null){var e=Xr.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=Hn===null?Xr.memoizedState:Hn.next;if(t!==null)Hn=t,Rn=e;else{if(e===null)throw Error(He(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Hn===null?Xr.memoizedState=Hn=e:Hn=Hn.next=e}return Hn}function Fg(e,t){return typeof t=="function"?t(e):t}function Dj(e){var t=Li(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=Rn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((tf&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Xr.lanes|=d,rf|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,No(n,t.memoizedState)||(Ss=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Xr.lanes|=s,rf|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Rj(e){var t=Li(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);No(s,t.memoizedState)||(Ss=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function K6(){}function Y6(e,t){var r=Xr,n=Li(),a=t(),s=!No(n.memoizedState,a);if(s&&(n.memoizedState=a,Ss=!0),n=n.queue,WT(Q6.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Hn!==null&&Hn.memoizedState.tag&1){if(r.flags|=2048,Lg(9,J6.bind(null,r,n,a,t),void 0,null),Kn===null)throw Error(He(349));tf&30||X6(r,t,a)}return a}function X6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xr.updateQueue,t===null?(t={lastEffect:null,stores:null},Xr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function J6(e,t,r,n){t.value=r,t.getSnapshot=n,Z6(t)&&eB(e)}function Q6(e,t,r){return r(function(){Z6(t)&&eB(e)})}function Z6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!No(e,r)}catch{return!0}}function eB(e){var t=ec(e,1);t!==null&&So(t,e,1,-1)}function HD(e){var t=qo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:e},t.queue=e,e=e.dispatch=oee.bind(null,Xr,e),[t.memoizedState,e]}function Lg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xr.updateQueue,t===null?(t={lastEffect:null,stores:null},Xr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tB(){return Li().memoizedState}function mw(e,t,r,n){var a=qo();Xr.flags|=e,a.memoizedState=Lg(1|t,r,void 0,n===void 0?null:n)}function r_(e,t,r,n){var a=Li();n=n===void 0?null:n;var s=void 0;if(Rn!==null){var i=Rn.memoizedState;if(s=i.destroy,n!==null&&BT(n,i.deps)){a.memoizedState=Lg(t,r,s,n);return}}Xr.flags|=e,a.memoizedState=Lg(1|t,r,s,n)}function qD(e,t){return mw(8390656,8,e,t)}function WT(e,t){return r_(2048,8,e,t)}function rB(e,t){return r_(4,2,e,t)}function nB(e,t){return r_(4,4,e,t)}function aB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sB(e,t,r){return r=r!=null?r.concat([e]):null,r_(4,4,aB.bind(null,t,e),r)}function zT(){}function iB(e,t){var r=Li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&BT(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function oB(e,t){var r=Li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&BT(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lB(e,t,r){return tf&21?(No(r,t)||(r=h6(),Xr.lanes|=r,rf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=r)}function see(e,t){var r=pr;pr=r!==0&&4>r?r:4,e(!0);var n=Pj.transition;Pj.transition={};try{e(!1),t()}finally{pr=r,Pj.transition=n}}function cB(){return Li().memoizedState}function iee(e,t,r){var n=vu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uB(e))dB(t,r);else if(r=H6(e,t,r,n),r!==null){var a=os();So(r,e,n,a),fB(r,t,n)}}function oee(e,t,r){var n=vu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uB(e))dB(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,No(l,i)){var c=t.interleaved;c===null?(a.next=a,IT(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=H6(e,t,a,n),r!==null&&(a=os(),So(r,e,n,a),fB(r,t,n))}}function uB(e){var t=e.alternate;return e===Xr||t!==null&&t===Xr}function dB(e,t){G0=Xw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fB(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bT(e,r)}}var Jw={readContext:Fi,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},lee={readContext:Fi,useCallback:function(e,t){return qo().memoizedState=[e,t===void 0?null:t],e},useContext:Fi,useEffect:qD,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mw(4194308,4,aB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mw(4194308,4,e,t)},useInsertionEffect:function(e,t){return mw(4,2,e,t)},useMemo:function(e,t){var r=qo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=iee.bind(null,Xr,e),[n.memoizedState,e]},useRef:function(e){var t=qo();return e={current:e},t.memoizedState=e},useState:HD,useDebugValue:zT,useDeferredValue:function(e){return qo().memoizedState=e},useTransition:function(){var e=HD(!1),t=e[0];return e=see.bind(null,e[1]),qo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xr,a=qo();if(Ur){if(r===void 0)throw Error(He(407));r=r()}else{if(r=t(),Kn===null)throw Error(He(349));tf&30||X6(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,qD(Q6.bind(null,n,s,e),[e]),n.flags|=2048,Lg(9,J6.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=qo(),t=Kn.identifierPrefix;if(Ur){var r=Ul,n=Bl;r=(n&~(1<<32-_o(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aee++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cee={readContext:Fi,useCallback:iB,useContext:Fi,useEffect:WT,useImperativeHandle:sB,useInsertionEffect:rB,useLayoutEffect:nB,useMemo:oB,useReducer:Dj,useRef:tB,useState:function(){return Dj(Fg)},useDebugValue:zT,useDeferredValue:function(e){var t=Li();return lB(t,Rn.memoizedState,e)},useTransition:function(){var e=Dj(Fg)[0],t=Li().memoizedState;return[e,t]},useMutableSource:K6,useSyncExternalStore:Y6,useId:cB,unstable_isNewReconciler:!1},uee={readContext:Fi,useCallback:iB,useContext:Fi,useEffect:WT,useImperativeHandle:sB,useInsertionEffect:rB,useLayoutEffect:nB,useMemo:oB,useReducer:Rj,useRef:tB,useState:function(){return Rj(Fg)},useDebugValue:zT,useDeferredValue:function(e){var t=Li();return Rn===null?t.memoizedState=e:lB(t,Rn.memoizedState,e)},useTransition:function(){var e=Rj(Fg)[0],t=Li().memoizedState;return[e,t]},useMutableSource:K6,useSyncExternalStore:Y6,useId:cB,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){t=Jr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function H2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Jr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var n_={isMounted:function(e){return(e=e._reactInternals)?Cf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=os(),a=vu(e),s=ql(n,a);s.payload=t,r!=null&&(s.callback=r),t=pu(e,s,a),t!==null&&(So(t,e,a,n),fw(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=os(),a=vu(e),s=ql(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=pu(e,s,a),t!==null&&(So(t,e,a,n),fw(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=os(),n=vu(e),a=ql(r,n);a.tag=2,t!=null&&(a.callback=t),t=pu(e,a,n),t!==null&&(So(t,e,n,r),fw(t,e,n))}};function GD(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ag(r,n)||!Ag(a,s):!0}function hB(e,t,r){var n=!1,a=Eu,s=t.contextType;return typeof s=="object"&&s!==null?s=Fi(s):(a=Es(t)?Zd:Ma.current,n=t.contextTypes,s=(n=n!=null)?xm(e,a):Eu),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=n_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function KD(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&n_.enqueueReplaceState(t,t.state,null)}function q2(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},MT(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Fi(s):(s=Es(t)?Zd:Ma.current,a.context=xm(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(H2(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&n_.enqueueReplaceState(a,a.state,null),Kw(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function _m(e,t){try{var r="",n=t;do r+=LQ(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Ij(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function G2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dee=typeof WeakMap=="function"?WeakMap:Map;function mB(e,t,r){r=ql(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zw||(Zw=!0,nN=n),G2(e,t)},r}function pB(e,t,r){r=ql(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){G2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){G2(e,t),typeof n!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function YD(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dee;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=kee.bind(null,e,t,r),t.then(e,e))}function XD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function JD(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ql(-1,1),t.tag=2,pu(r,t,1))),r.lanes|=1),e)}var fee=mc.ReactCurrentOwner,Ss=!1;function Ya(e,t,r,n){t.child=e===null?z6(t,null,r,n):wm(t,e.child,r,n)}function QD(e,t,r,n,a){r=r.render;var s=t.ref;return Wh(t,a),n=UT(e,t,r,n,s,a),r=VT(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,tc(e,t,a)):(Ur&&r&&TT(t),t.flags|=1,Ya(e,t,n,a),t.child)}function ZD(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!QT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,gB(e,t,s,n,a)):(e=xw(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ag,r(i,n)&&e.ref===t.ref)return tc(e,t,a)}return t.flags|=1,e=xu(s,n),e.ref=t.ref,e.return=t,t.child=e}function gB(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Ag(s,n)&&e.ref===t.ref)if(Ss=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Ss=!0);else return t.lanes=e.lanes,tc(e,t,a)}return K2(e,t,r,n,a)}function vB(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Th,Gs),Gs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Th,Gs),Gs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Cr(Th,Gs),Gs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Cr(Th,Gs),Gs|=n;return Ya(e,t,a,r),t.child}function xB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function K2(e,t,r,n,a){var s=Es(r)?Zd:Ma.current;return s=xm(t,s),Wh(t,a),r=UT(e,t,r,n,s,a),n=VT(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,tc(e,t,a)):(Ur&&n&&TT(t),t.flags|=1,Ya(e,t,r,a),t.child)}function eR(e,t,r,n,a){if(Es(r)){var s=!0;Ww(t)}else s=!1;if(Wh(t,a),t.stateNode===null)pw(e,t),hB(t,r,n),q2(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fi(u):(u=Es(r)?Zd:Ma.current,u=xm(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&KD(t,i,n,u),Mc=!1;var h=t.memoizedState;i.state=h,Kw(t,n,i,a),c=t.memoizedState,l!==n||h!==c||Ns.current||Mc?(typeof d=="function"&&(H2(t,r,d,n),c=t.memoizedState),(l=Mc||GD(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,q6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:no(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Fi(c):(c=Es(r)?Zd:Ma.current,c=xm(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&KD(t,i,n,c),Mc=!1,h=t.memoizedState,i.state=h,Kw(t,n,i,a);var g=t.memoizedState;l!==f||h!==g||Ns.current||Mc?(typeof m=="function"&&(H2(t,r,m,n),g=t.memoizedState),(u=Mc||GD(t,r,u,n,h,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Y2(e,t,r,n,s,a)}function Y2(e,t,r,n,a,s){xB(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&$D(t,r,!1),tc(e,t,s);n=t.stateNode,fee.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=wm(t,e.child,null,s),t.child=wm(t,null,l,s)):Ya(e,t,l,s),t.memoizedState=n.state,a&&$D(t,r,!0),t.child}function yB(e){var t=e.stateNode;t.pendingContext?LD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&LD(e,t.context,!1),FT(e,t.containerInfo)}function tR(e,t,r,n,a){return ym(),OT(a),t.flags|=256,Ya(e,t,r,n),t.child}var X2={dehydrated:null,treeContext:null,retryLane:0};function J2(e){return{baseLanes:e,cachePool:null,transitions:null}}function wB(e,t,r){var n=t.pendingProps,a=Gr.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Cr(Gr,a&1),e===null)return W2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=i_(i,n,0,null),e=zd(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=J2(r),t.memoizedState=X2,e):HT(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return hee(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=xu(l,s):(s=zd(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?J2(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=X2,n}return s=e.child,e=s.sibling,n=xu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function HT(e,t){return t=i_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dy(e,t,r,n){return n!==null&&OT(n),wm(t,e.child,null,r),e=HT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hee(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Ij(Error(He(422))),dy(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=i_({mode:"visible",children:n.children},a,0,null),s=zd(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&wm(t,e.child,null,i),t.child.memoizedState=J2(i),t.memoizedState=X2,s);if(!(t.mode&1))return dy(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(He(419)),n=Ij(s,n,void 0),dy(e,t,i,n)}if(l=(i&e.childLanes)!==0,Ss||l){if(n=Kn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,ec(e,a),So(n,e,a,-1))}return JT(),n=Ij(Error(He(421))),dy(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Nee.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ai=mu(a.nextSibling),ii=t,Ur=!0,mo=null,e!==null&&(Ci[Ti++]=Bl,Ci[Ti++]=Ul,Ci[Ti++]=ef,Bl=e.id,Ul=e.overflow,ef=t),t=HT(t,n.children),t.flags|=4096,t)}function rR(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),z2(e.return,t,r)}function Mj(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function bB(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ya(e,t,n.children,r),n=Gr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rR(e,r,t);else if(e.tag===19)rR(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Cr(Gr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Yw(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Mj(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Yw(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Mj(t,!0,r,null,s);break;case"together":Mj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,r=xu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mee(e,t,r){switch(t.tag){case 3:yB(t),ym();break;case 5:G6(t);break;case 1:Es(t.type)&&Ww(t);break;case 4:FT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Cr(qw,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Cr(Gr,Gr.current&1),t.flags|=128,null):r&t.child.childLanes?wB(e,t,r):(Cr(Gr,Gr.current&1),e=tc(e,t,r),e!==null?e.sibling:null);Cr(Gr,Gr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bB(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Cr(Gr,Gr.current),n)break;return null;case 22:case 23:return t.lanes=0,vB(e,t,r)}return tc(e,t,r)}var _B,Q2,SB,jB;_B=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Q2=function(){};SB=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,jd(il.current);var s=null;switch(r){case"input":a=w2(e,a),n=w2(e,n),s=[];break;case"select":a=Jr({},a,{value:void 0}),n=Jr({},n,{value:void 0}),s=[];break;case"textarea":a=S2(e,a),n=S2(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Uw)}k2(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Rr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};jB=function(e,t,r,n){r!==n&&(t.flags|=4)};function s0(e,t){if(!Ur)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pa(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function pee(e,t,r){var n=t.pendingProps;switch(AT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pa(t),null;case 1:return Es(t.type)&&Vw(),pa(t),null;case 3:return n=t.stateNode,bm(),Fr(Ns),Fr(Ma),$T(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mo!==null&&(iN(mo),mo=null))),Q2(e,t),pa(t),null;case 5:LT(t);var a=jd(Ig.current);if(r=t.type,e!==null&&t.stateNode!=null)SB(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(He(166));return pa(t),null}if(e=jd(il.current),cy(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Jo]=t,n[Dg]=s,e=(t.mode&1)!==0,r){case"dialog":Rr("cancel",n),Rr("close",n);break;case"iframe":case"object":case"embed":Rr("load",n);break;case"video":case"audio":for(a=0;a<A0.length;a++)Rr(A0[a],n);break;case"source":Rr("error",n);break;case"img":case"image":case"link":Rr("error",n),Rr("load",n);break;case"details":Rr("toggle",n);break;case"input":dD(n,s),Rr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",n);break;case"textarea":hD(n,s),Rr("invalid",n)}k2(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&ly(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ly(n.textContent,l,e),a=["children",""+l]):Sg.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Rr("scroll",n)}switch(r){case"input":ey(n),fD(n,s,!0);break;case"textarea":ey(n),mD(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Uw)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Jo]=t,e[Dg]=n,_B(e,t,!1,!1),t.stateNode=e;e:{switch(i=N2(r,n),r){case"dialog":Rr("cancel",e),Rr("close",e),a=n;break;case"iframe":case"object":case"embed":Rr("load",e),a=n;break;case"video":case"audio":for(a=0;a<A0.length;a++)Rr(A0[a],e);a=n;break;case"source":Rr("error",e),a=n;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),a=n;break;case"details":Rr("toggle",e),a=n;break;case"input":dD(e,n),a=w2(e,n),Rr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Jr({},n,{value:void 0}),Rr("invalid",e);break;case"textarea":hD(e,n),a=S2(e,n),Rr("invalid",e);break;default:a=n}k2(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?t6(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Z8(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jg(e,c):typeof c=="number"&&jg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sg.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Rr("scroll",e):c!=null&&pT(e,s,c,i))}switch(r){case"input":ey(e),fD(e,n,!1);break;case"textarea":ey(e),mD(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?$h(e,!!n.multiple,s,!1):n.defaultValue!=null&&$h(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Uw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pa(t),null;case 6:if(e&&t.stateNode!=null)jB(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(He(166));if(r=jd(Ig.current),jd(il.current),cy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jo]=t,(s=n.nodeValue!==r)&&(e=ii,e!==null))switch(e.tag){case 3:ly(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ly(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jo]=t,t.stateNode=n}return pa(t),null;case 13:if(Fr(Gr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ur&&ai!==null&&t.mode&1&&!(t.flags&128))V6(),ym(),t.flags|=98560,s=!1;else if(s=cy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(He(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[Jo]=t}else ym(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pa(t),s=!1}else mo!==null&&(iN(mo),mo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Gr.current&1?Mn===0&&(Mn=3):JT())),t.updateQueue!==null&&(t.flags|=4),pa(t),null);case 4:return bm(),Q2(e,t),e===null&&Og(t.stateNode.containerInfo),pa(t),null;case 10:return RT(t.type._context),pa(t),null;case 17:return Es(t.type)&&Vw(),pa(t),null;case 19:if(Fr(Gr),s=t.memoizedState,s===null)return pa(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)s0(s,!1);else{if(Mn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Yw(e),i!==null){for(t.flags|=128,s0(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Cr(Gr,Gr.current&1|2),t.child}e=e.sibling}s.tail!==null&&un()>Sm&&(t.flags|=128,n=!0,s0(s,!1),t.lanes=4194304)}else{if(!n)if(e=Yw(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),s0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ur)return pa(t),null}else 2*un()-s.renderingStartTime>Sm&&r!==1073741824&&(t.flags|=128,n=!0,s0(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=un(),t.sibling=null,r=Gr.current,Cr(Gr,n?r&1|2:r&1),t):(pa(t),null);case 22:case 23:return XT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gs&1073741824&&(pa(t),t.subtreeFlags&6&&(t.flags|=8192)):pa(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function gee(e,t){switch(AT(t),t.tag){case 1:return Es(t.type)&&Vw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bm(),Fr(Ns),Fr(Ma),$T(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return LT(t),null;case 13:if(Fr(Gr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));ym()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fr(Gr),null;case 4:return bm(),null;case 10:return RT(t.type._context),null;case 22:case 23:return XT(),null;case 24:return null;default:return null}}var fy=!1,Ea=!1,vee=typeof WeakSet=="function"?WeakSet:Set,st=null;function Ch(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){en(e,t,n)}else r.current=null}function Z2(e,t,r){try{r()}catch(n){en(e,t,n)}}var nR=!1;function xee(e,t){if(M2=Lw,e=T6(),CT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=i),h===s&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(F2={focusedElem:e,selectionRange:r},Lw=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){t=st;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?p:no(t.type,p),v);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(_){en(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}return g=nR,nR=!1,g}function K0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Z2(t,r,s)}a=a.next}while(a!==n)}}function a_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function eN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kB(e){var t=e.alternate;t!==null&&(e.alternate=null,kB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jo],delete t[Dg],delete t[B2],delete t[eee],delete t[tee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NB(e){return e.tag===5||e.tag===3||e.tag===4}function aR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Uw));else if(n!==4&&(e=e.child,e!==null))for(tN(e,t,r),e=e.sibling;e!==null;)tN(e,t,r),e=e.sibling}function rN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(rN(e,t,r),e=e.sibling;e!==null;)rN(e,t,r),e=e.sibling}var ra=null,oo=!1;function Ec(e,t,r){for(r=r.child;r!==null;)EB(e,t,r),r=r.sibling}function EB(e,t,r){if(sl&&typeof sl.onCommitFiberUnmount=="function")try{sl.onCommitFiberUnmount(Xb,r)}catch{}switch(r.tag){case 5:Ea||Ch(r,t);case 6:var n=ra,a=oo;ra=null,Ec(e,t,r),ra=n,oo=a,ra!==null&&(oo?(e=ra,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ra.removeChild(r.stateNode));break;case 18:ra!==null&&(oo?(e=ra,r=r.stateNode,e.nodeType===8?Tj(e.parentNode,r):e.nodeType===1&&Tj(e,r),Cg(e)):Tj(ra,r.stateNode));break;case 4:n=ra,a=oo,ra=r.stateNode.containerInfo,oo=!0,Ec(e,t,r),ra=n,oo=a;break;case 0:case 11:case 14:case 15:if(!Ea&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Z2(r,t,i),a=a.next}while(a!==n)}Ec(e,t,r);break;case 1:if(!Ea&&(Ch(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){en(r,t,l)}Ec(e,t,r);break;case 21:Ec(e,t,r);break;case 22:r.mode&1?(Ea=(n=Ea)||r.memoizedState!==null,Ec(e,t,r),Ea=n):Ec(e,t,r);break;default:Ec(e,t,r)}}function sR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vee),t.forEach(function(n){var a=Eee.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Yi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ra=l.stateNode,oo=!1;break e;case 3:ra=l.stateNode.containerInfo,oo=!0;break e;case 4:ra=l.stateNode.containerInfo,oo=!0;break e}l=l.return}if(ra===null)throw Error(He(160));EB(s,i,a),ra=null,oo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){en(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)CB(t,e),t=t.sibling}function CB(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yi(t,e),Bo(e),n&4){try{K0(3,e,e.return),a_(3,e)}catch(p){en(e,e.return,p)}try{K0(5,e,e.return)}catch(p){en(e,e.return,p)}}break;case 1:Yi(t,e),Bo(e),n&512&&r!==null&&Ch(r,r.return);break;case 5:if(Yi(t,e),Bo(e),n&512&&r!==null&&Ch(r,r.return),e.flags&32){var a=e.stateNode;try{jg(a,"")}catch(p){en(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&X8(a,s),N2(l,i);var u=N2(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?t6(a,f):d==="dangerouslySetInnerHTML"?Z8(a,f):d==="children"?jg(a,f):pT(a,d,f,u)}switch(l){case"input":b2(a,s);break;case"textarea":J8(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?$h(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?$h(a,!!s.multiple,s.defaultValue,!0):$h(a,!!s.multiple,s.multiple?[]:"",!1))}a[Dg]=s}catch(p){en(e,e.return,p)}}break;case 6:if(Yi(t,e),Bo(e),n&4){if(e.stateNode===null)throw Error(He(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){en(e,e.return,p)}}break;case 3:if(Yi(t,e),Bo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cg(t.containerInfo)}catch(p){en(e,e.return,p)}break;case 4:Yi(t,e),Bo(e);break;case 13:Yi(t,e),Bo(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(KT=un())),n&4&&sR(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ea=(u=Ea)||d,Yi(t,e),Ea=u):Yi(t,e),Bo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(st=e,d=e.child;d!==null;){for(f=st=d;st!==null;){switch(h=st,m=h.child,h.tag){case 0:case 11:case 14:case 15:K0(4,h,h.return);break;case 1:Ch(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){en(n,r,p)}}break;case 5:Ch(h,h.return);break;case 22:if(h.memoizedState!==null){oR(f);continue}}m!==null?(m.return=h,st=m):oR(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=e6("display",i))}catch(p){en(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){en(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yi(t,e),Bo(e),n&4&&sR(e);break;case 21:break;default:Yi(t,e),Bo(e)}}function Bo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(NB(r)){var n=r;break e}r=r.return}throw Error(He(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(jg(a,""),n.flags&=-33);var s=aR(e);rN(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=aR(e);tN(e,l,i);break;default:throw Error(He(161))}}catch(c){en(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yee(e,t,r){st=e,TB(e)}function TB(e,t,r){for(var n=(e.mode&1)!==0;st!==null;){var a=st,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||fy;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ea;l=fy;var u=Ea;if(fy=i,(Ea=c)&&!u)for(st=a;st!==null;)i=st,c=i.child,i.tag===22&&i.memoizedState!==null?lR(a):c!==null?(c.return=i,st=c):lR(a);for(;s!==null;)st=s,TB(s),s=s.sibling;st=a,fy=l,Ea=u}iR(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,st=s):iR(e)}}function iR(e){for(;st!==null;){var t=st;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ea||a_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ea)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:no(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&zD(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zD(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Ea||t.flags&512&&eN(t)}catch(h){en(t,t.return,h)}}if(t===e){st=null;break}if(r=t.sibling,r!==null){r.return=t.return,st=r;break}st=t.return}}function oR(e){for(;st!==null;){var t=st;if(t===e){st=null;break}var r=t.sibling;if(r!==null){r.return=t.return,st=r;break}st=t.return}}function lR(e){for(;st!==null;){var t=st;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{a_(4,t)}catch(c){en(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){en(t,a,c)}}var s=t.return;try{eN(t)}catch(c){en(t,s,c)}break;case 5:var i=t.return;try{eN(t)}catch(c){en(t,i,c)}}}catch(c){en(t,t.return,c)}if(t===e){st=null;break}var l=t.sibling;if(l!==null){l.return=t.return,st=l;break}st=t.return}}var wee=Math.ceil,Qw=mc.ReactCurrentDispatcher,qT=mc.ReactCurrentOwner,Ri=mc.ReactCurrentBatchConfig,tr=0,Kn=null,Sn=null,la=0,Gs=0,Th=Vu(0),Mn=0,$g=null,rf=0,s_=0,GT=0,Y0=null,_s=null,KT=0,Sm=1/0,Ol=null,Zw=!1,nN=null,gu=null,hy=!1,nu=null,e1=0,X0=0,aN=null,gw=-1,vw=0;function os(){return tr&6?un():gw!==-1?gw:gw=un()}function vu(e){return e.mode&1?tr&2&&la!==0?la&-la:nee.transition!==null?(vw===0&&(vw=h6()),vw):(e=pr,e!==0||(e=window.event,e=e===void 0?16:w6(e.type)),e):1}function So(e,t,r,n){if(50<X0)throw X0=0,aN=null,Error(He(185));Xv(e,r,n),(!(tr&2)||e!==Kn)&&(e===Kn&&(!(tr&2)&&(s_|=r),Mn===4&&Vc(e,la)),Cs(e,n),r===1&&tr===0&&!(t.mode&1)&&(Sm=un()+500,t_&&Wu()))}function Cs(e,t){var r=e.callbackNode;nZ(e,t);var n=Fw(e,e===Kn?la:0);if(n===0)r!==null&&vD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vD(r),t===1)e.tag===0?ree(cR.bind(null,e)):$6(cR.bind(null,e)),QZ(function(){!(tr&6)&&Wu()}),r=null;else{switch(m6(n)){case 1:r=wT;break;case 4:r=d6;break;case 16:r=Mw;break;case 536870912:r=f6;break;default:r=Mw}r=FB(r,AB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function AB(e,t){if(gw=-1,vw=0,tr&6)throw Error(He(327));var r=e.callbackNode;if(zh()&&e.callbackNode!==r)return null;var n=Fw(e,e===Kn?la:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=t1(e,n);else{t=n;var a=tr;tr|=2;var s=PB();(Kn!==e||la!==t)&&(Ol=null,Sm=un()+500,Wd(e,t));do try{See();break}catch(l){OB(e,l)}while(!0);DT(),Qw.current=s,tr=a,Sn!==null?t=0:(Kn=null,la=0,t=Mn)}if(t!==0){if(t===2&&(a=O2(e),a!==0&&(n=a,t=sN(e,a))),t===1)throw r=$g,Wd(e,0),Vc(e,n),Cs(e,un()),r;if(t===6)Vc(e,n);else{if(a=e.current.alternate,!(n&30)&&!bee(a)&&(t=t1(e,n),t===2&&(s=O2(e),s!==0&&(n=s,t=sN(e,s))),t===1))throw r=$g,Wd(e,0),Vc(e,n),Cs(e,un()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(He(345));case 2:dd(e,_s,Ol);break;case 3:if(Vc(e,n),(n&130023424)===n&&(t=KT+500-un(),10<t)){if(Fw(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){os(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$2(dd.bind(null,e,_s,Ol),t);break}dd(e,_s,Ol);break;case 4:if(Vc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-_o(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=un()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wee(n/1960))-n,10<n){e.timeoutHandle=$2(dd.bind(null,e,_s,Ol),n);break}dd(e,_s,Ol);break;case 5:dd(e,_s,Ol);break;default:throw Error(He(329))}}}return Cs(e,un()),e.callbackNode===r?AB.bind(null,e):null}function sN(e,t){var r=Y0;return e.current.memoizedState.isDehydrated&&(Wd(e,t).flags|=256),e=t1(e,t),e!==2&&(t=_s,_s=r,t!==null&&iN(t)),e}function iN(e){_s===null?_s=e:_s.push.apply(_s,e)}function bee(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!No(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t){for(t&=~GT,t&=~s_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_o(t),n=1<<r;e[r]=-1,t&=~n}}function cR(e){if(tr&6)throw Error(He(327));zh();var t=Fw(e,0);if(!(t&1))return Cs(e,un()),null;var r=t1(e,t);if(e.tag!==0&&r===2){var n=O2(e);n!==0&&(t=n,r=sN(e,n))}if(r===1)throw r=$g,Wd(e,0),Vc(e,t),Cs(e,un()),r;if(r===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dd(e,_s,Ol),Cs(e,un()),null}function YT(e,t){var r=tr;tr|=1;try{return e(t)}finally{tr=r,tr===0&&(Sm=un()+500,t_&&Wu())}}function nf(e){nu!==null&&nu.tag===0&&!(tr&6)&&zh();var t=tr;tr|=1;var r=Ri.transition,n=pr;try{if(Ri.transition=null,pr=1,e)return e()}finally{pr=n,Ri.transition=r,tr=t,!(tr&6)&&Wu()}}function XT(){Gs=Th.current,Fr(Th)}function Wd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,JZ(r)),Sn!==null)for(r=Sn.return;r!==null;){var n=r;switch(AT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vw();break;case 3:bm(),Fr(Ns),Fr(Ma),$T();break;case 5:LT(n);break;case 4:bm();break;case 13:Fr(Gr);break;case 19:Fr(Gr);break;case 10:RT(n.type._context);break;case 22:case 23:XT()}r=r.return}if(Kn=e,Sn=e=xu(e.current,null),la=Gs=t,Mn=0,$g=null,GT=s_=rf=0,_s=Y0=null,Sd!==null){for(t=0;t<Sd.length;t++)if(r=Sd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Sd=null}return e}function OB(e,t){do{var r=Sn;try{if(DT(),hw.current=Jw,Xw){for(var n=Xr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Xw=!1}if(tf=0,Hn=Rn=Xr=null,G0=!1,Mg=0,qT.current=null,r===null||r.return===null){Mn=1,$g=t,Sn=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=la,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=XD(i);if(m!==null){m.flags&=-257,JD(m,i,l,s,t),m.mode&1&&YD(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){YD(s,u,t),JT();break e}c=Error(He(426))}}else if(Ur&&l.mode&1){var v=XD(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),JD(v,i,l,s,t),OT(_m(c,l));break e}}s=c=_m(c,l),Mn!==4&&(Mn=2),Y0===null?Y0=[s]:Y0.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=mB(s,c,t);WD(s,w);break e;case 1:l=c;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(gu===null||!gu.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=pB(s,l,t);WD(s,_);break e}}s=s.return}while(s!==null)}RB(r)}catch(S){t=S,Sn===r&&r!==null&&(Sn=r=r.return);continue}break}while(!0)}function PB(){var e=Qw.current;return Qw.current=Jw,e===null?Jw:e}function JT(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),Kn===null||!(rf&268435455)&&!(s_&268435455)||Vc(Kn,la)}function t1(e,t){var r=tr;tr|=2;var n=PB();(Kn!==e||la!==t)&&(Ol=null,Wd(e,t));do try{_ee();break}catch(a){OB(e,a)}while(!0);if(DT(),tr=r,Qw.current=n,Sn!==null)throw Error(He(261));return Kn=null,la=0,Mn}function _ee(){for(;Sn!==null;)DB(Sn)}function See(){for(;Sn!==null&&!KQ();)DB(Sn)}function DB(e){var t=MB(e.alternate,e,Gs);e.memoizedProps=e.pendingProps,t===null?RB(e):Sn=t,qT.current=null}function RB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gee(r,t),r!==null){r.flags&=32767,Sn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mn=6,Sn=null;return}}else if(r=pee(r,t,Gs),r!==null){Sn=r;return}if(t=t.sibling,t!==null){Sn=t;return}Sn=t=e}while(t!==null);Mn===0&&(Mn=5)}function dd(e,t,r){var n=pr,a=Ri.transition;try{Ri.transition=null,pr=1,jee(e,t,r,n)}finally{Ri.transition=a,pr=n}return null}function jee(e,t,r,n){do zh();while(nu!==null);if(tr&6)throw Error(He(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(aZ(e,s),e===Kn&&(Sn=Kn=null,la=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hy||(hy=!0,FB(Mw,function(){return zh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ri.transition,Ri.transition=null;var i=pr;pr=1;var l=tr;tr|=4,qT.current=null,xee(e,r),CB(r,e),zZ(F2),Lw=!!M2,F2=M2=null,e.current=r,yee(r),YQ(),tr=l,pr=i,Ri.transition=s}else e.current=r;if(hy&&(hy=!1,nu=e,e1=a),s=e.pendingLanes,s===0&&(gu=null),QQ(r.stateNode),Cs(e,un()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Zw)throw Zw=!1,e=nN,nN=null,e;return e1&1&&e.tag!==0&&zh(),s=e.pendingLanes,s&1?e===aN?X0++:(X0=0,aN=e):X0=0,Wu(),null}function zh(){if(nu!==null){var e=m6(e1),t=Ri.transition,r=pr;try{if(Ri.transition=null,pr=16>e?16:e,nu===null)var n=!1;else{if(e=nu,nu=null,e1=0,tr&6)throw Error(He(331));var a=tr;for(tr|=4,st=e.current;st!==null;){var s=st,i=s.child;if(st.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(st=u;st!==null;){var d=st;switch(d.tag){case 0:case 11:case 15:K0(8,d,s)}var f=d.child;if(f!==null)f.return=d,st=f;else for(;st!==null;){d=st;var h=d.sibling,m=d.return;if(kB(d),d===u){st=null;break}if(h!==null){h.return=m,st=h;break}st=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}st=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,st=i;else e:for(;st!==null;){if(s=st,s.flags&2048)switch(s.tag){case 0:case 11:case 15:K0(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,st=w;break e}st=s.return}}var x=e.current;for(st=x;st!==null;){i=st;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,st=b;else e:for(i=x;st!==null;){if(l=st,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:a_(9,l)}}catch(S){en(l,l.return,S)}if(l===i){st=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,st=_;break e}st=l.return}}if(tr=a,Wu(),sl&&typeof sl.onPostCommitFiberRoot=="function")try{sl.onPostCommitFiberRoot(Xb,e)}catch{}n=!0}return n}finally{pr=r,Ri.transition=t}}return!1}function uR(e,t,r){t=_m(r,t),t=mB(e,t,1),e=pu(e,t,1),t=os(),e!==null&&(Xv(e,1,t),Cs(e,t))}function en(e,t,r){if(e.tag===3)uR(e,e,r);else for(;t!==null;){if(t.tag===3){uR(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gu===null||!gu.has(n))){e=_m(r,e),e=pB(t,e,1),t=pu(t,e,1),e=os(),t!==null&&(Xv(t,1,e),Cs(t,e));break}}t=t.return}}function kee(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=os(),e.pingedLanes|=e.suspendedLanes&r,Kn===e&&(la&r)===r&&(Mn===4||Mn===3&&(la&130023424)===la&&500>un()-KT?Wd(e,0):GT|=r),Cs(e,t)}function IB(e,t){t===0&&(e.mode&1?(t=ny,ny<<=1,!(ny&130023424)&&(ny=4194304)):t=1);var r=os();e=ec(e,t),e!==null&&(Xv(e,t,r),Cs(e,r))}function Nee(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),IB(e,r)}function Eee(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(He(314))}n!==null&&n.delete(t),IB(e,r)}var MB;MB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ns.current)Ss=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ss=!1,mee(e,t,r);Ss=!!(e.flags&131072)}else Ss=!1,Ur&&t.flags&1048576&&B6(t,Hw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pw(e,t),e=t.pendingProps;var a=xm(t,Ma.current);Wh(t,r),a=UT(null,t,n,e,a,r);var s=VT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Es(n)?(s=!0,Ww(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,MT(t),a.updater=n_,t.stateNode=a,a._reactInternals=t,q2(t,n,e,r),t=Y2(null,t,n,!0,s,r)):(t.tag=0,Ur&&s&&TT(t),Ya(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(pw(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Tee(n),e=no(n,e),a){case 0:t=K2(null,t,n,e,r);break e;case 1:t=eR(null,t,n,e,r);break e;case 11:t=QD(null,t,n,e,r);break e;case 14:t=ZD(null,t,n,no(n.type,e),r);break e}throw Error(He(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),K2(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),eR(e,t,n,a,r);case 3:e:{if(yB(t),e===null)throw Error(He(387));n=t.pendingProps,s=t.memoizedState,a=s.element,q6(e,t),Kw(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=_m(Error(He(423)),t),t=tR(e,t,n,r,a);break e}else if(n!==a){a=_m(Error(He(424)),t),t=tR(e,t,n,r,a);break e}else for(ai=mu(t.stateNode.containerInfo.firstChild),ii=t,Ur=!0,mo=null,r=z6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ym(),n===a){t=tc(e,t,r);break e}Ya(e,t,n,r)}t=t.child}return t;case 5:return G6(t),e===null&&W2(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,L2(n,a)?i=null:s!==null&&L2(n,s)&&(t.flags|=32),xB(e,t),Ya(e,t,i,r),t.child;case 6:return e===null&&W2(t),null;case 13:return wB(e,t,r);case 4:return FT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wm(t,null,n,r):Ya(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),QD(e,t,n,a,r);case 7:return Ya(e,t,t.pendingProps,r),t.child;case 8:return Ya(e,t,t.pendingProps.children,r),t.child;case 12:return Ya(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Cr(qw,n._currentValue),n._currentValue=i,s!==null)if(No(s.value,i)){if(s.children===a.children&&!Ns.current){t=tc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ql(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),z2(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(He(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),z2(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Ya(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Wh(t,r),a=Fi(a),n=n(a),t.flags|=1,Ya(e,t,n,r),t.child;case 14:return n=t.type,a=no(n,t.pendingProps),a=no(n.type,a),ZD(e,t,n,a,r);case 15:return gB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),pw(e,t),t.tag=1,Es(n)?(e=!0,Ww(t)):e=!1,Wh(t,r),hB(t,n,a),q2(t,n,a,r),Y2(null,t,n,!0,e,r);case 19:return bB(e,t,r);case 22:return vB(e,t,r)}throw Error(He(156,t.tag))};function FB(e,t){return u6(e,t)}function Cee(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(e,t,r,n){return new Cee(e,t,r,n)}function QT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tee(e){if(typeof e=="function")return QT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vT)return 11;if(e===xT)return 14}return 2}function xu(e,t){var r=e.alternate;return r===null?(r=Pi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xw(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")QT(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case yh:return zd(r.children,a,s,t);case gT:i=8,a|=8;break;case g2:return e=Pi(12,r,t,a|2),e.elementType=g2,e.lanes=s,e;case v2:return e=Pi(13,r,t,a),e.elementType=v2,e.lanes=s,e;case x2:return e=Pi(19,r,t,a),e.elementType=x2,e.lanes=s,e;case G8:return i_(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H8:i=10;break e;case q8:i=9;break e;case vT:i=11;break e;case xT:i=14;break e;case Ic:i=16,n=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=Pi(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function zd(e,t,r,n){return e=Pi(7,e,n,t),e.lanes=r,e}function i_(e,t,r,n){return e=Pi(22,e,n,t),e.elementType=G8,e.lanes=r,e.stateNode={isHidden:!1},e}function Fj(e,t,r){return e=Pi(6,e,null,t),e.lanes=r,e}function Lj(e,t,r){return t=Pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Aee(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xj(0),this.expirationTimes=xj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ZT(e,t,r,n,a,s,i,l,c){return e=new Aee(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Pi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},MT(s),e}function Oee(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function LB(e){if(!e)return Eu;e=e._reactInternals;e:{if(Cf(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Es(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var r=e.type;if(Es(r))return L6(e,r,t)}return t}function $B(e,t,r,n,a,s,i,l,c){return e=ZT(r,n,!0,e,a,s,i,l,c),e.context=LB(null),r=e.current,n=os(),a=vu(r),s=ql(n,a),s.callback=t??null,pu(r,s,a),e.current.lanes=a,Xv(e,a,n),Cs(e,n),e}function o_(e,t,r,n){var a=t.current,s=os(),i=vu(a);return r=LB(r),t.context===null?t.context=r:t.pendingContext=r,t=ql(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=pu(a,t,i),e!==null&&(So(e,a,i,s),fw(e,a,i)),i}function r1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function eA(e,t){dR(e,t),(e=e.alternate)&&dR(e,t)}function Pee(){return null}var BB=typeof reportError=="function"?reportError:function(e){console.error(e)};function tA(e){this._internalRoot=e}l_.prototype.render=tA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));o_(e,t,null,null)};l_.prototype.unmount=tA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nf(function(){o_(null,e,null,null)}),t[Zl]=null}};function l_(e){this._internalRoot=e}l_.prototype.unstable_scheduleHydration=function(e){if(e){var t=v6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Uc.length&&t!==0&&t<Uc[r].priority;r++);Uc.splice(r,0,e),r===0&&y6(e)}};function rA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fR(){}function Dee(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=r1(i);s.call(u)}}var i=$B(t,n,e,0,null,!1,!1,"",fR);return e._reactRootContainer=i,e[Zl]=i.current,Og(e.nodeType===8?e.parentNode:e),nf(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=r1(c);l.call(u)}}var c=ZT(e,0,!1,null,null,!1,!1,"",fR);return e._reactRootContainer=c,e[Zl]=c.current,Og(e.nodeType===8?e.parentNode:e),nf(function(){o_(t,c,r,n)}),c}function u_(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=r1(i);l.call(c)}}o_(t,i,e,a)}else i=Dee(r,t,e,a,n);return r1(i)}p6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=T0(t.pendingLanes);r!==0&&(bT(t,r|1),Cs(t,un()),!(tr&6)&&(Sm=un()+500,Wu()))}break;case 13:nf(function(){var n=ec(e,1);if(n!==null){var a=os();So(n,e,1,a)}}),eA(e,1)}};_T=function(e){if(e.tag===13){var t=ec(e,134217728);if(t!==null){var r=os();So(t,e,134217728,r)}eA(e,134217728)}};g6=function(e){if(e.tag===13){var t=vu(e),r=ec(e,t);if(r!==null){var n=os();So(r,e,t,n)}eA(e,t)}};v6=function(){return pr};x6=function(e,t){var r=pr;try{return pr=e,t()}finally{pr=r}};C2=function(e,t,r){switch(t){case"input":if(b2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=e_(n);if(!a)throw Error(He(90));Y8(n),b2(n,a)}}}break;case"textarea":J8(e,r);break;case"select":t=r.value,t!=null&&$h(e,!!r.multiple,t,!1)}};a6=YT;s6=nf;var Ree={usingClientEntryPoint:!1,Events:[Qv,Sh,e_,r6,n6,YT]},i0={findFiberByHostInstance:_d,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iee={bundleType:i0.bundleType,version:i0.version,rendererPackageName:i0.rendererPackageName,rendererConfig:i0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=l6(e),e===null?null:e.stateNode},findFiberByHostInstance:i0.findFiberByHostInstance||Pee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var my=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!my.isDisabled&&my.supportsFiber)try{Xb=my.inject(Iee),sl=my}catch{}}pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ree;pi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rA(t))throw Error(He(200));return Oee(e,t,null,r)};pi.createRoot=function(e,t){if(!rA(e))throw Error(He(299));var r=!1,n="",a=BB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ZT(e,1,!1,null,null,r,!1,n,a),e[Zl]=t.current,Og(e.nodeType===8?e.parentNode:e),new tA(t)};pi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=l6(t),e=e===null?null:e.stateNode,e};pi.flushSync=function(e){return nf(e)};pi.hydrate=function(e,t,r){if(!c_(t))throw Error(He(200));return u_(null,e,t,!0,r)};pi.hydrateRoot=function(e,t,r){if(!rA(e))throw Error(He(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=BB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=$B(t,null,e,1,r??null,a,!1,s,i),e[Zl]=t.current,Og(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new l_(t)};pi.render=function(e,t,r){if(!c_(t))throw Error(He(200));return u_(null,e,t,!1,r)};pi.unmountComponentAtNode=function(e){if(!c_(e))throw Error(He(40));return e._reactRootContainer?(nf(function(){u_(null,null,e,!1,function(){e._reactRootContainer=null,e[Zl]=null})}),!0):!1};pi.unstable_batchedUpdates=YT;pi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!c_(r))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return u_(e,t,r,!1,n)};pi.version="18.3.1-next-f1338f8080-20240426";function UB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UB)}catch(e){console.error(e)}}UB(),U8.exports=pi;var xp=U8.exports;const Mee=fr(xp);var VB,hR=xp;VB=hR.createRoot,hR.hydrateRoot;var ex=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},af=typeof window>"u"||"Deno"in globalThis;function ws(){}function Fee(e,t){return typeof e=="function"?e(t):e}function oN(e){return typeof e=="number"&&e>=0&&e!==1/0}function WB(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yu(e,t){return typeof e=="function"?e(t):e}function Ni(e,t){return typeof e=="function"?e(t):e}function mR(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==nA(i,t.options))return!1}else if(!Ug(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function pR(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Bg(t.options.mutationKey)!==Bg(s))return!1}else if(!Ug(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function nA(e,t){return((t==null?void 0:t.queryKeyHashFn)||Bg)(e)}function Bg(e){return JSON.stringify(e,(t,r)=>cN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ug(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ug(e[r],t[r])):!1}function zB(e,t){if(e===t)return e;const r=gR(e)&&gR(t);if(r||cN(e)&&cN(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=zB(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===i&&u===a?e:l}return t}function lN(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function gR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cN(e){if(!vR(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!vR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function vR(e){return Object.prototype.toString.call(e)==="[object Object]"}function Lee(e){return new Promise(t=>{setTimeout(t,e)})}function uN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?zB(e,t):t}function $ee(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Bee(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var aA=Symbol();function HB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===aA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Uee(e,t){return typeof e=="function"?e(...t):!!e}var Rd,Kc,sm,y8,Vee=(y8=class extends ex{constructor(){super();Nt(this,Rd);Nt(this,Kc);Nt(this,sm);ot(this,sm,t=>{if(!af&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){fe(this,Kc)||this.setEventListener(fe(this,sm))}onUnsubscribe(){var t;this.hasListeners()||((t=fe(this,Kc))==null||t.call(this),ot(this,Kc,void 0))}setEventListener(t){var r;ot(this,sm,t),(r=fe(this,Kc))==null||r.call(this),ot(this,Kc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){fe(this,Rd)!==t&&(ot(this,Rd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof fe(this,Rd)=="boolean"?fe(this,Rd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rd=new WeakMap,Kc=new WeakMap,sm=new WeakMap,y8),sA=new Vee,im,Yc,om,w8,Wee=(w8=class extends ex{constructor(){super();Nt(this,im,!0);Nt(this,Yc);Nt(this,om);ot(this,om,t=>{if(!af&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){fe(this,Yc)||this.setEventListener(fe(this,om))}onUnsubscribe(){var t;this.hasListeners()||((t=fe(this,Yc))==null||t.call(this),ot(this,Yc,void 0))}setEventListener(t){var r;ot(this,om,t),(r=fe(this,Yc))==null||r.call(this),ot(this,Yc,t(this.setOnline.bind(this)))}setOnline(t){fe(this,im)!==t&&(ot(this,im,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return fe(this,im)}},im=new WeakMap,Yc=new WeakMap,om=new WeakMap,w8),n1=new Wee;function dN(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function zee(e){return Math.min(1e3*2**e,3e4)}function qB(e){return(e??"online")==="online"?n1.isOnline():!0}var GB=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $j(e){return e instanceof GB}function KB(e){let t=!1,r=0,n=!1,a;const s=dN(),i=p=>{var v;n||(h(new GB(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>sA.isFocused()&&(e.networkMode==="always"||n1.isOnline())&&e.canRun(),d=()=>qB(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var v;a=w=>{(n||u())&&p(w)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(w){p=Promise.reject(w)}Promise.resolve(p).then(f).catch(w=>{var k;if(n)return;const x=e.retry??(af?0:3),b=e.retryDelay??zee,_=typeof b=="function"?b(r,w):b,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,w);if(t||!S){h(w);return}r++,(k=e.onFail)==null||k.call(e,r,w),Lee(_).then(()=>u()?void 0:m()).then(()=>{t?h(w):g()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var Hee=e=>setTimeout(e,0);function qee(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=Hee;const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var aa=qee(),Id,b8,YB=(b8=class{constructor(){Nt(this,Id)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oN(this.gcTime)&&ot(this,Id,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(af?1/0:5*60*1e3))}clearGcTimeout(){fe(this,Id)&&(clearTimeout(fe(this,Id)),ot(this,Id,void 0))}},Id=new WeakMap,b8),lm,Md,ki,Fd,ja,Hv,Ld,so,Al,_8,Gee=(_8=class extends YB{constructor(t){super();Nt(this,so);Nt(this,lm);Nt(this,Md);Nt(this,ki);Nt(this,Fd);Nt(this,ja);Nt(this,Hv);Nt(this,Ld);ot(this,Ld,!1),ot(this,Hv,t.defaultOptions),this.setOptions(t.options),this.observers=[],ot(this,Fd,t.client),ot(this,ki,fe(this,Fd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ot(this,lm,Kee(this.options)),this.state=t.state??fe(this,lm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=fe(this,ja))==null?void 0:t.promise}setOptions(t){this.options={...fe(this,Hv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&fe(this,ki).remove(this)}setData(t,r){const n=uN(this.state.data,t,this.options);return Kt(this,so,Al).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Kt(this,so,Al).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=fe(this,ja))==null?void 0:n.promise;return(a=fe(this,ja))==null||a.cancel(t),r?r.then(ws).catch(ws):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(fe(this,lm))}isActive(){return this.observers.some(t=>Ni(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>yu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!WB(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=fe(this,ja))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=fe(this,ja))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),fe(this,ki).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(fe(this,ja)&&(fe(this,Ld)?fe(this,ja).cancel({revert:!0}):fe(this,ja).cancelRetry()),this.scheduleGc()),fe(this,ki).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kt(this,so,Al).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(fe(this,ja))return fe(this,ja).continueRetry(),fe(this,ja).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ot(this,Ld,!0),n.signal)})},s=()=>{const h=HB(this.options,r),g=(()=>{const p={client:fe(this,Fd),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return ot(this,Ld,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:fe(this,Fd),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ot(this,Md,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Kt(this,so,Al).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,p,v;$j(h)&&h.silent||Kt(this,so,Al).call(this,{type:"error",error:h}),$j(h)||((g=(m=fe(this,ki).config).onError)==null||g.call(m,h,this),(v=(p=fe(this,ki).config).onSettled)==null||v.call(p,this.state.data,h,this)),this.scheduleGc()};return ot(this,ja,KB({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,p,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(g=(m=fe(this,ki).config).onSuccess)==null||g.call(m,h,this),(v=(p=fe(this,ki).config).onSettled)==null||v.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Kt(this,so,Al).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Kt(this,so,Al).call(this,{type:"pause"})},onContinue:()=>{Kt(this,so,Al).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),fe(this,ja).start()}},lm=new WeakMap,Md=new WeakMap,ki=new WeakMap,Fd=new WeakMap,ja=new WeakMap,Hv=new WeakMap,Ld=new WeakMap,so=new WeakSet,Al=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...XB(n.data,this.options),fetchMeta:t.meta??null};case"success":return ot(this,Md,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return $j(a)&&a.revert&&fe(this,Md)?{...fe(this,Md),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),aa.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),fe(this,ki).notify({query:this,type:"updated",action:t})})},_8);function XB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qB(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Kee(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Go,S8,Yee=(S8=class extends ex{constructor(t={}){super();Nt(this,Go);this.config=t,ot(this,Go,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??nA(a,r);let i=this.get(s);return i||(i=new Gee({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){fe(this,Go).has(t.queryHash)||(fe(this,Go).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=fe(this,Go).get(t.queryHash);r&&(t.destroy(),r===t&&fe(this,Go).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){aa.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return fe(this,Go).get(t)}getAll(){return[...fe(this,Go).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>mR(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>mR(t,n)):r}notify(t){aa.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){aa.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){aa.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Go=new WeakMap,S8),Ko,Ga,$d,Yo,Dc,j8,Xee=(j8=class extends YB{constructor(t){super();Nt(this,Yo);Nt(this,Ko);Nt(this,Ga);Nt(this,$d);this.mutationId=t.mutationId,ot(this,Ga,t.mutationCache),ot(this,Ko,[]),this.state=t.state||Jee(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){fe(this,Ko).includes(t)||(fe(this,Ko).push(t),this.clearGcTimeout(),fe(this,Ga).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ot(this,Ko,fe(this,Ko).filter(r=>r!==t)),this.scheduleGc(),fe(this,Ga).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){fe(this,Ko).length||(this.state.status==="pending"?this.scheduleGc():fe(this,Ga).remove(this))}continue(){var t;return((t=fe(this,$d))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,l,c,u,d,f,h,m,g,p,v,w,x,b,_,S,k,j,E;const r=()=>{Kt(this,Yo,Dc).call(this,{type:"continue"})};ot(this,$d,KB({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,O)=>{Kt(this,Yo,Dc).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{Kt(this,Yo,Dc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>fe(this,Ga).canRun(this)}));const n=this.state.status==="pending",a=!fe(this,$d).canStart();try{if(n)r();else{Kt(this,Yo,Dc).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=fe(this,Ga).config).onMutate)==null?void 0:i.call(s,t,this));const O=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));O!==this.state.context&&Kt(this,Yo,Dc).call(this,{type:"pending",context:O,variables:t,isPaused:a})}const N=await fe(this,$d).start();return await((d=(u=fe(this,Ga).config).onSuccess)==null?void 0:d.call(u,N,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,t,this.state.context)),await((g=(m=fe(this,Ga).config).onSettled)==null?void 0:g.call(m,N,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,N,null,t,this.state.context)),Kt(this,Yo,Dc).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(w=fe(this,Ga).config).onError)==null?void 0:x.call(w,N,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,N,t,this.state.context)),await((k=(S=fe(this,Ga).config).onSettled)==null?void 0:k.call(S,void 0,N,this.state.variables,this.state.context,this)),await((E=(j=this.options).onSettled)==null?void 0:E.call(j,void 0,N,t,this.state.context)),N}finally{Kt(this,Yo,Dc).call(this,{type:"error",error:N})}}finally{fe(this,Ga).runNext(this)}}},Ko=new WeakMap,Ga=new WeakMap,$d=new WeakMap,Yo=new WeakSet,Dc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),aa.batch(()=>{fe(this,Ko).forEach(n=>{n.onMutationUpdate(t)}),fe(this,Ga).notify({mutation:this,type:"updated",action:t})})},j8);function Jee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fl,io,qv,k8,Qee=(k8=class extends ex{constructor(t={}){super();Nt(this,Fl);Nt(this,io);Nt(this,qv);this.config=t,ot(this,Fl,new Set),ot(this,io,new Map),ot(this,qv,0)}build(t,r,n){const a=new Xee({mutationCache:this,mutationId:++Xx(this,qv)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){fe(this,Fl).add(t);const r=py(t);if(typeof r=="string"){const n=fe(this,io).get(r);n?n.push(t):fe(this,io).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(fe(this,Fl).delete(t)){const r=py(t);if(typeof r=="string"){const n=fe(this,io).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&fe(this,io).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=py(t);if(typeof r=="string"){const n=fe(this,io).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=py(t);if(typeof r=="string"){const a=(n=fe(this,io).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){aa.batch(()=>{fe(this,Fl).forEach(t=>{this.notify({type:"removed",mutation:t})}),fe(this,Fl).clear(),fe(this,io).clear()})}getAll(){return Array.from(fe(this,Fl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>pR(r,n))}findAll(t={}){return this.getAll().filter(r=>pR(t,r))}notify(t){aa.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return aa.batch(()=>Promise.all(t.map(r=>r.continue().catch(ws))))}},Fl=new WeakMap,io=new WeakMap,qv=new WeakMap,k8);function py(e){var t;return(t=e.options.scope)==null?void 0:t.id}function xR(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},w=HB(t.options,t.fetchOptions),x=async(b,_,S)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const j=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v(R),R})(),E=await w(j),{maxPages:N}=t.options,O=S?Bee:$ee;return{pages:O(b.pages,E,N),pageParams:O(b.pageParams,_,N)}};if(a&&s.length){const b=a==="backward",_=b?Zee:yR,S={pages:s,pageParams:i},k=_(n,S);l=await x(S,k,b)}else{const b=e??s.length;do{const _=c===0?i[0]??n.initialPageParam:yR(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function yR(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Zee(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Qr,Xc,Jc,cm,um,Qc,dm,fm,N8,ete=(N8=class{constructor(e={}){Nt(this,Qr);Nt(this,Xc);Nt(this,Jc);Nt(this,cm);Nt(this,um);Nt(this,Qc);Nt(this,dm);Nt(this,fm);ot(this,Qr,e.queryCache||new Yee),ot(this,Xc,e.mutationCache||new Qee),ot(this,Jc,e.defaultOptions||{}),ot(this,cm,new Map),ot(this,um,new Map),ot(this,Qc,0)}mount(){Xx(this,Qc)._++,fe(this,Qc)===1&&(ot(this,dm,sA.subscribe(async e=>{e&&(await this.resumePausedMutations(),fe(this,Qr).onFocus())})),ot(this,fm,n1.subscribe(async e=>{e&&(await this.resumePausedMutations(),fe(this,Qr).onOnline())})))}unmount(){var e,t;Xx(this,Qc)._--,fe(this,Qc)===0&&((e=fe(this,dm))==null||e.call(this),ot(this,dm,void 0),(t=fe(this,fm))==null||t.call(this),ot(this,fm,void 0))}isFetching(e){return fe(this,Qr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return fe(this,Xc).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=fe(this,Qr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=fe(this,Qr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(yu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return fe(this,Qr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=fe(this,Qr).get(n.queryHash),s=a==null?void 0:a.state.data,i=Fee(t,s);if(i!==void 0)return fe(this,Qr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return aa.batch(()=>fe(this,Qr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=fe(this,Qr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=fe(this,Qr);aa.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=fe(this,Qr);return aa.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=aa.batch(()=>fe(this,Qr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ws).catch(ws)}invalidateQueries(e,t={}){return aa.batch(()=>(fe(this,Qr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=aa.batch(()=>fe(this,Qr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(ws)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ws)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=fe(this,Qr).build(this,t);return r.isStaleByTime(yu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ws).catch(ws)}fetchInfiniteQuery(e){return e.behavior=xR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ws).catch(ws)}ensureInfiniteQueryData(e){return e.behavior=xR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return n1.isOnline()?fe(this,Xc).resumePausedMutations():Promise.resolve()}getQueryCache(){return fe(this,Qr)}getMutationCache(){return fe(this,Xc)}getDefaultOptions(){return fe(this,Jc)}setDefaultOptions(e){ot(this,Jc,e)}setQueryDefaults(e,t){fe(this,cm).set(Bg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...fe(this,cm).values()],r={};return t.forEach(n=>{Ug(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){fe(this,um).set(Bg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...fe(this,um).values()],r={};return t.forEach(n=>{Ug(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...fe(this,Jc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===aA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...fe(this,Jc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){fe(this,Qr).clear(),fe(this,Xc).clear()}},Qr=new WeakMap,Xc=new WeakMap,Jc=new WeakMap,cm=new WeakMap,um=new WeakMap,Qc=new WeakMap,dm=new WeakMap,fm=new WeakMap,N8),vs,Yt,Gv,Ka,Bd,hm,Zc,eu,Kv,mm,pm,Ud,Vd,tu,gm,dr,O0,fN,hN,mN,pN,gN,vN,xN,JB,E8,tte=(E8=class extends ex{constructor(t,r){super();Nt(this,dr);Nt(this,vs);Nt(this,Yt);Nt(this,Gv);Nt(this,Ka);Nt(this,Bd);Nt(this,hm);Nt(this,Zc);Nt(this,eu);Nt(this,Kv);Nt(this,mm);Nt(this,pm);Nt(this,Ud);Nt(this,Vd);Nt(this,tu);Nt(this,gm,new Set);this.options=r,ot(this,vs,t),ot(this,eu,null),ot(this,Zc,dN()),this.options.experimental_prefetchInRender||fe(this,Zc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(fe(this,Yt).addObserver(this),wR(fe(this,Yt),this.options)?Kt(this,dr,O0).call(this):this.updateResult(),Kt(this,dr,pN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yN(fe(this,Yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yN(fe(this,Yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Kt(this,dr,gN).call(this),Kt(this,dr,vN).call(this),fe(this,Yt).removeObserver(this)}setOptions(t){const r=this.options,n=fe(this,Yt);if(this.options=fe(this,vs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ni(this.options.enabled,fe(this,Yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Kt(this,dr,xN).call(this),fe(this,Yt).setOptions(this.options),r._defaulted&&!lN(this.options,r)&&fe(this,vs).getQueryCache().notify({type:"observerOptionsUpdated",query:fe(this,Yt),observer:this});const a=this.hasListeners();a&&bR(fe(this,Yt),n,this.options,r)&&Kt(this,dr,O0).call(this),this.updateResult(),a&&(fe(this,Yt)!==n||Ni(this.options.enabled,fe(this,Yt))!==Ni(r.enabled,fe(this,Yt))||yu(this.options.staleTime,fe(this,Yt))!==yu(r.staleTime,fe(this,Yt)))&&Kt(this,dr,fN).call(this);const s=Kt(this,dr,hN).call(this);a&&(fe(this,Yt)!==n||Ni(this.options.enabled,fe(this,Yt))!==Ni(r.enabled,fe(this,Yt))||s!==fe(this,tu))&&Kt(this,dr,mN).call(this,s)}getOptimisticResult(t){const r=fe(this,vs).getQueryCache().build(fe(this,vs),t),n=this.createResult(r,t);return nte(this,n)&&(ot(this,Ka,n),ot(this,hm,this.options),ot(this,Bd,fe(this,Yt).state)),n}getCurrentResult(){return fe(this,Ka)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){fe(this,gm).add(t)}getCurrentQuery(){return fe(this,Yt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=fe(this,vs).defaultQueryOptions(t),n=fe(this,vs).getQueryCache().build(fe(this,vs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Kt(this,dr,O0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),fe(this,Ka)))}createResult(t,r){var N;const n=fe(this,Yt),a=this.options,s=fe(this,Ka),i=fe(this,Bd),l=fe(this,hm),u=t!==n?t.state:fe(this,Gv),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const O=this.hasListeners(),R=!O&&wR(t,r),T=O&&bR(t,n,r,a);(R||T)&&(f={...f,...XB(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;m=f.data;let w=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let O;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(O=s.data,w=!0):O=typeof r.placeholderData=="function"?r.placeholderData((N=fe(this,pm))==null?void 0:N.state.data,fe(this,pm)):r.placeholderData,O!==void 0&&(v="success",m=uN(s==null?void 0:s.data,O,r),h=!0)}if(r.select&&m!==void 0&&!w)if(s&&m===(i==null?void 0:i.data)&&r.select===fe(this,Kv))m=fe(this,mm);else try{ot(this,Kv,r.select),m=r.select(m),m=uN(s==null?void 0:s.data,m,r),ot(this,mm,m),ot(this,eu,null)}catch(O){ot(this,eu,O)}fe(this,eu)&&(g=fe(this,eu),m=fe(this,mm),p=Date.now(),v="error");const x=f.fetchStatus==="fetching",b=v==="pending",_=v==="error",S=b&&x,k=m!==void 0,E={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:_,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:_&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&k,isStale:iA(t,r),refetch:this.refetch,promise:fe(this,Zc),isEnabled:Ni(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=U=>{E.status==="error"?U.reject(E.error):E.data!==void 0&&U.resolve(E.data)},R=()=>{const U=ot(this,Zc,E.promise=dN());O(U)},T=fe(this,Zc);switch(T.status){case"pending":t.queryHash===n.queryHash&&O(T);break;case"fulfilled":(E.status==="error"||E.data!==T.value)&&R();break;case"rejected":(E.status!=="error"||E.error!==T.reason)&&R();break}}return E}updateResult(){const t=fe(this,Ka),r=this.createResult(fe(this,Yt),this.options);if(ot(this,Bd,fe(this,Yt).state),ot(this,hm,this.options),fe(this,Bd).data!==void 0&&ot(this,pm,fe(this,Yt)),lN(r,t))return;ot(this,Ka,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!fe(this,gm).size)return!0;const i=new Set(s??fe(this,gm));return this.options.throwOnError&&i.add("error"),Object.keys(fe(this,Ka)).some(l=>{const c=l;return fe(this,Ka)[c]!==t[c]&&i.has(c)})};Kt(this,dr,JB).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Kt(this,dr,pN).call(this)}},vs=new WeakMap,Yt=new WeakMap,Gv=new WeakMap,Ka=new WeakMap,Bd=new WeakMap,hm=new WeakMap,Zc=new WeakMap,eu=new WeakMap,Kv=new WeakMap,mm=new WeakMap,pm=new WeakMap,Ud=new WeakMap,Vd=new WeakMap,tu=new WeakMap,gm=new WeakMap,dr=new WeakSet,O0=function(t){Kt(this,dr,xN).call(this);let r=fe(this,Yt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ws)),r},fN=function(){Kt(this,dr,gN).call(this);const t=yu(this.options.staleTime,fe(this,Yt));if(af||fe(this,Ka).isStale||!oN(t))return;const n=WB(fe(this,Ka).dataUpdatedAt,t)+1;ot(this,Ud,setTimeout(()=>{fe(this,Ka).isStale||this.updateResult()},n))},hN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(fe(this,Yt)):this.options.refetchInterval)??!1},mN=function(t){Kt(this,dr,vN).call(this),ot(this,tu,t),!(af||Ni(this.options.enabled,fe(this,Yt))===!1||!oN(fe(this,tu))||fe(this,tu)===0)&&ot(this,Vd,setInterval(()=>{(this.options.refetchIntervalInBackground||sA.isFocused())&&Kt(this,dr,O0).call(this)},fe(this,tu)))},pN=function(){Kt(this,dr,fN).call(this),Kt(this,dr,mN).call(this,Kt(this,dr,hN).call(this))},gN=function(){fe(this,Ud)&&(clearTimeout(fe(this,Ud)),ot(this,Ud,void 0))},vN=function(){fe(this,Vd)&&(clearInterval(fe(this,Vd)),ot(this,Vd,void 0))},xN=function(){const t=fe(this,vs).getQueryCache().build(fe(this,vs),this.options);if(t===fe(this,Yt))return;const r=fe(this,Yt);ot(this,Yt,t),ot(this,Gv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},JB=function(t){aa.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(fe(this,Ka))}),fe(this,vs).getQueryCache().notify({query:fe(this,Yt),type:"observerResultsUpdated"})})},E8);function rte(e,t){return Ni(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function wR(e,t){return rte(e,t)||e.state.data!==void 0&&yN(e,t,t.refetchOnMount)}function yN(e,t,r){if(Ni(t.enabled,e)!==!1&&yu(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&iA(e,t)}return!1}function bR(e,t,r,n){return(e!==t||Ni(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&iA(e,r)}function iA(e,t){return Ni(t.enabled,e)!==!1&&e.isStaleByTime(yu(t.staleTime,e))}function nte(e,t){return!lN(e.getCurrentResult(),t)}var QB=y.createContext(void 0),ate=e=>{const t=y.useContext(QB);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ste=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(QB.Provider,{value:e,children:t})),ZB=y.createContext(!1),ite=()=>y.useContext(ZB);ZB.Provider;function ote(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var lte=y.createContext(ote()),cte=()=>y.useContext(lte),ute=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},dte=e=>{y.useEffect(()=>{e.clearReset()},[e])},fte=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Uee(r,[e.error,n])),hte=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},mte=(e,t)=>e.isLoading&&e.isFetching&&!t,pte=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_R=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function gte(e,t,r){var f,h,m,g,p;const n=ite(),a=cte(),s=ate(),i=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",hte(i),ute(i,a),dte(a);const l=!s.getQueryCache().get(i.queryHash),[c]=y.useState(()=>new t(s,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(v=>{const w=d?c.subscribe(aa.batchCalls(v)):ws;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(i)},[i,c]),pte(i,u))throw _R(i,c,a);if(fte({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((g=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,i,u),i.experimental_prefetchInRender&&!af&&mte(u,n)){const v=l?_R(i,c,a):(p=s.getQueryCache().get(i.queryHash))==null?void 0:p.promise;v==null||v.catch(ws).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function d_(e,t){return gte(e,tte)}const Pt=e=>typeof e=="string",o0=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},SR=e=>e==null?"":""+e,vte=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},xte=/###/g,jR=e=>e&&e.indexOf("###")>-1?e.replace(xte,"."):e,kR=e=>!e||Pt(e),J0=(e,t,r)=>{const n=Pt(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(kR(e))return{};const s=jR(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return kR(e)?{}:{obj:e,k:jR(n[a])}},NR=(e,t,r)=>{const{obj:n,k:a}=J0(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],i=t.slice(0,t.length-1),l=J0(e,i,Object);for(;l.obj===void 0&&i.length;)s=`${i[i.length-1]}.${s}`,i=i.slice(0,i.length-1),l=J0(e,i,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},yte=(e,t,r,n)=>{const{obj:a,k:s}=J0(e,t,Object);a[s]=a[s]||[],a[s].push(r)},a1=(e,t)=>{const{obj:r,k:n}=J0(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},wte=(e,t,r)=>{const n=a1(e,r);return n!==void 0?n:a1(t,r)},eU=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Pt(e[n])||e[n]instanceof String||Pt(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):eU(e[n],t[n],r):e[n]=t[n]);return e},zf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var bte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const _te=e=>Pt(e)?e.replace(/[&<>"'\/]/g,t=>bte[t]):e;class Ste{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const jte=[" ",",","?","!",";"],kte=new Ste(20),Nte=(e,t,r)=>{t=t||"",r=r||"";const n=jte.filter(i=>t.indexOf(i)<0&&r.indexOf(i)<0);if(n.length===0)return!0;const a=kte.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let s=!a.test(e);if(!s){const i=e.indexOf(r);i>0&&!a.test(e.substring(0,i))&&(s=!0)}return s},wN=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let i,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],i=a[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=i}return a},Vg=e=>e==null?void 0:e.replace("_","-"),Ete={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class s1{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||Ete,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Pt(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new s1(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new s1(this.logger,t)}}var el=new s1;let f_=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let i=0;i<s;i++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let i=0;i<s;i++)a.apply(a,[t,...r])})}};class ER extends f_{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,i=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Pt(n)&&s?l.push(...n.split(s)):l.push(n)));const c=a1(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!i||!Pt(n)?c:wN((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),NR(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(Pt(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,i={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=a1(this.data,l)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?eU(c,n,s):c={...c,...n},NR(this.data,l,c),i.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var tU={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var i;t=((i=this.processors[s])==null?void 0:i.process(t,r,n,a))??t}),t}};const rU=Symbol("i18next/PATH_KEY");function Cte(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===rU?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function bN(e,t){const{[rU]:r}=e(Cte());return r.join((t==null?void 0:t.keySeparator)??".")}const CR={},Bj=e=>!Pt(e)&&typeof e!="boolean"&&typeof e!="number";class i1 extends f_{constructor(t,r={}){super(),vte(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=el.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=Bj(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const i=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Nte(t,n,a);if(i&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Pt(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:Pt(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=bN(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let g=m==null?void 0:m.res;const p=(m==null?void 0:m.usedKey)||l,v=(m==null?void 0:m.exactUsedKey)||l,w=["[object Number]","[object Function]","[object RegExp]"],x=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,_=a.count!==void 0&&!Pt(a.count),S=i1.hasDefaultValue(a),k=_?this.pluralResolver.getSuffix(f,a.count,a):"",j=a.ordinal&&_?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",E=_&&!a.ordinal&&a.count===0,N=E&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${k}`]||a[`defaultValue${j}`]||a.defaultValue;let O=g;b&&!g&&S&&(O=N);const R=Bj(O),T=Object.prototype.toString.apply(O);if(b&&O&&R&&w.indexOf(T)<0&&!(Pt(x)&&Array.isArray(O))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,O,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=U,m.usedParams=this.getUsedParamsDetails(a),m):U}if(i){const U=Array.isArray(O),z=U?[]:{},q=U?v:p;for(const I in O)if(Object.prototype.hasOwnProperty.call(O,I)){const L=`${q}${i}${I}`;S&&!g?z[I]=this.translate(L,{...a,defaultValue:Bj(N)?N[I]:void 0,joinArrays:!1,ns:c}):z[I]=this.translate(L,{...a,joinArrays:!1,ns:c}),z[I]===L&&(z[I]=O[I])}g=z}}else if(b&&Pt(x)&&Array.isArray(g))g=g.join(x),g&&(g=this.extendTranslation(g,t,a,n));else{let U=!1,z=!1;!this.isValidLookup(g)&&S&&(U=!0,g=N),this.isValidLookup(g)||(z=!0,g=l);const I=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:g,L=S&&N!==g&&this.options.updateMissing;if(z||U||L){if(this.logger.log(L?"updateKey":"missingKey",f,u,l,L?N:g),i){const Z=this.resolve(l,{...a,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let Z=0;Z<D.length;Z++)M.push(D[Z]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(a.lng||this.language):M.push(a.lng||this.language);const K=(Z,C,Y)=>{var G;const B=S&&Y!==g?Y:I;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,u,C,B,L,a):(G=this.backendConnector)!=null&&G.saveMissing&&this.backendConnector.saveMissing(Z,u,C,B,L,a),this.emit("missingKey",Z,u,C,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?M.forEach(Z=>{const C=this.pluralResolver.getSuffixes(Z,a);E&&a[`defaultValue${this.options.pluralSeparator}zero`]&&C.indexOf(`${this.options.pluralSeparator}zero`)<0&&C.push(`${this.options.pluralSeparator}zero`),C.forEach(Y=>{K([Z],l+Y,a[`defaultValue${Y}`]||N)})}):K(M,l,N))}g=this.extendTranslation(g,t,a,m,n),z&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(z||U)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,U?g:void 0,a))}return s?(m.res=g,m.usedParams=this.getUsedParamsDetails(a),m):g}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Pt(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=n.replace&&!Pt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),g=m&&m.length;f<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):this.translate(...m,r),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,l=Pt(i)?[i]:i;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=tU.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,i,l;return Pt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Pt(r.count),m=h&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(Pt(r.context)||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var w,x;this.isValidLookup(n)||(l=v,!CR[`${p[0]}-${v}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((x=this.utils)!=null&&x.hasLoadedNamespace(l))&&(CR[`${p[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(b=>{var k;if(this.isValidLookup(n))return;i=b;const _=[d];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,b,v,r);else{let j;h&&(j=this.pluralResolver.getSuffix(b,r.count,r));const E=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&j.indexOf(N)===0&&_.push(d+j.replace(N,this.options.pluralSeparator)),_.push(d+j),m&&_.push(d+E)),g){const O=`${d}${this.options.contextSeparator||"_"}${r.context}`;_.push(O),h&&(r.ordinal&&j.indexOf(N)===0&&_.push(O+j.replace(N,this.options.pluralSeparator)),_.push(O+j),m&&_.push(O+E))}}let S;for(;S=_.pop();)this.isValidLookup(n)||(s=S,n=this.getResource(b,v,S,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:i,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Pt(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class TR{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=el.create("languageUtils")}getScriptPartFromCode(t){if(t=Vg(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Vg(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Pt(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Pt(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=i=>{i&&(this.isSupportedCode(i)?a.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return Pt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Pt(t)&&s(this.formatLanguageCode(t)),n.forEach(i=>{a.indexOf(i)<0&&s(this.formatLanguageCode(i))}),a}}const AR={zero:0,one:1,two:2,few:3,many:4,other:5},OR={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Tte{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=el.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=Vg(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),OR;if(!t.match(/-|_/))return OR;const c=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(c,r)}return this.pluralRulesCache[s]=i,i}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>AR[a]-AR[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const PR=(e,t,r,n=".",a=!0)=>{let s=wte(e,t,r);return!s&&a&&Pt(r)&&(s=wN(e,r,n),s===void 0&&(s=wN(t,r,n))),s},Uj=e=>e.replace(/\$/g,"$$$$");class Ate{constructor(t={}){var r;this.logger=el.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:v,maxReplaces:w,alwaysFormat:x}=t.interpolation;this.escape=r!==void 0?r:_te,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?zf(s):i||"{{",this.suffix=l?zf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?zf(h):m||zf("$t("),this.nestingSuffix=g?zf(g):p||zf(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=w||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var m;let s,i,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const x=PR(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,n,{...a,...r,interpolationkey:g}):x}const p=g.split(this.formatSeparator),v=p.shift().trim(),w=p.join(this.formatSeparator).trim();return this.format(PR(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),w,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Uj(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Uj(this.escape(g)):Uj(g)}].forEach(g=>{for(l=0;s=g.regex.exec(t);){const p=s[1].trim();if(i=u(p),i===void 0)if(typeof d=="function"){const w=d(t,s,a);i=Pt(w)?w:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))i="";else if(f){i=s[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),i="";else!Pt(i)&&!this.useRawValueToEscape&&(i=SR(i));const v=g.safeValue(i);if(t=t.replace(s[0],v),f?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,i;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,i);const m=h.match(/'/g),g=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),u&&(i={...u,...i})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${d}${h}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];i={...n},i=i.replace&&!Pt(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),i),i),s&&a[0]===t&&!Pt(s))return s;Pt(s)||(s=SR(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const Ote=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(i=>{if(i){const[l,...c]=i.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},DR=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const i=n+JSON.stringify(s);let l=t[i];return l||(l=e(Vg(n),a),t[i]=l),l(r)}},Pte=e=>(t,r,n)=>e(Vg(r),n)(t);class Dte{constructor(t={}){this.logger=el.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?DR:Pte;this.formats={number:n((a,s)=>{const i=new Intl.NumberFormat(a,{...s});return l=>i.format(l)}),currency:n((a,s)=>{const i=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>i.format(l)}),datetime:n((a,s)=>{const i=new Intl.DateTimeFormat(a,{...s});return l=>i.format(l)}),relativetime:n((a,s)=>{const i=new Intl.RelativeTimeFormat(a,{...s});return l=>i.format(l,s.range||"day")}),list:n((a,s)=>{const i=new Intl.ListFormat(a,{...s});return l=>i.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=DR(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=Ote(c);if(this.formats[u]){let h=l;try{const m=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},g=m.locale||m.lng||a.locale||a.lng||n;h=this.formats[u](l,g,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const Rte=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Ite extends f_{constructor(t,r,n,a={}){var s,i;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=el.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(i=(s=this.backend)==null?void 0:s.init)==null||i.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},i={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?i[h]===void 0&&(i[h]=!0):(this.state[h]=1,d=!1,i[h]===void 0&&(i[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],i=a[1];r&&this.emit("failedLoading",s,i,r),!r&&n&&this.store.addResourceBundle(s,i,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{yte(c.loaded,[s],i),Rte(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,i){if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:i});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,i)},s);return}i(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Pt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Pt(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(i=>{this.loadOne(i)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,i),!i&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,i,l)})}saveMissing(t,r,n,a,s,i={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const m={...i,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let p;g.length===5?p=g(t,r,n,a,m):p=g(t,r,n,a),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else g(t,r,n,a,l,m)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const RR=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Pt(e[1])&&(t.defaultValue=e[1]),Pt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),IR=e=>{var t,r;return Pt(e.ns)&&(e.ns=[e.ns]),Pt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Pt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},gy=()=>{},Mte=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class Q0 extends f_{constructor(t={},r){if(super(),this.options=IR(t),this.services={},this.logger=el,this.modules={external:[]},Mte(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Pt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=RR();this.options={...n,...this.options,...IR(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?el.init(a(this.modules.logger),this.options):el.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Dte;const d=new TR(this.options);this.store=new ER(this.options.resources,this.options);const f=this.services;f.logger=el,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Tte(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Ate(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Ite(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new i1(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=gy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=o0(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=gy){var s,i;let n=r;const a=Pt(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(i=(s=this.options.preload)==null?void 0:s.forEach)==null||i.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=o0();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=gy),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&tU.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=o0();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},i=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Pt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Pt(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(t),n}getFixedT(t,r,n){const a=(s,i,...l)=>{let c;typeof i!="object"?c=this.options.overloadTranslationOptionHandler([s,i].concat(l)):c={...i},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=bN(f,{...this.options,...i})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=bN(s,{...this.options,...i})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Pt(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,t)&&(!a||i(s,t)))}loadNamespaces(t,r){const n=o0();return this.options.ns?(Pt(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=o0();Pt(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(i=>a.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return s.length?(this.options.preload=a.concat(s),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const l=i.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new TR(RR());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new Q0(t,r);return n.createInstance=Q0.createInstance,n}cloneInstance(t={},r=gy){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new Q0(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new ER(l,a),s.services.resourceStore=s.store}return s.translator=new i1(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Kr=Q0.createInstance();Kr.createInstance;Kr.dir;Kr.init;Kr.loadResources;Kr.reloadResources;Kr.use;Kr.changeLanguage;Kr.getFixedT;Kr.t;Kr.exists;Kr.setDefaultNamespace;Kr.hasLoadedNamespace;Kr.loadNamespaces;Kr.loadLanguages;const Fte=(e,t,r,n)=>{var s,i,l,c;const a=[r,{code:t,...n||{}}];if((i=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&i.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);sf(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},MR={},nU=(e,t,r,n)=>{sf(r)&&MR[r]||(sf(r)&&(MR[r]=new Date),Fte(e,t,r,n))},aU=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},_N=(e,t,r)=>{e.loadNamespaces(t,aU(e,r))},FR=(e,t,r,n)=>{if(sf(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return _N(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,aU(e,n))},Lte=(e,t,r={})=>!t.languages||!t.languages.length?(nU(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),sf=e=>typeof e=="string",$te=e=>typeof e=="object"&&e!==null,Bte=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ute={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Vte=e=>Ute[e],Wte=e=>e.replace(Bte,Vte);let SN={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Wte};const zte=(e={})=>{SN={...SN,...e}},Hte=()=>SN;let sU;const qte=e=>{sU=e},Gte=()=>sU,Kte={type:"3rdParty",init(e){zte(e.options.react),qte(e)}},iU=y.createContext();class Yte{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var oU={exports:{}},lU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=y;function Xte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jte=typeof Object.is=="function"?Object.is:Xte,Qte=jm.useState,Zte=jm.useEffect,ere=jm.useLayoutEffect,tre=jm.useDebugValue;function rre(e,t){var r=t(),n=Qte({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return ere(function(){a.value=r,a.getSnapshot=t,Vj(a)&&s({inst:a})},[e,r,t]),Zte(function(){return Vj(a)&&s({inst:a}),e(function(){Vj(a)&&s({inst:a})})},[e]),tre(r),r}function Vj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jte(e,r)}catch{return!0}}function nre(e,t){return t()}var are=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nre:rre;lU.useSyncExternalStore=jm.useSyncExternalStore!==void 0?jm.useSyncExternalStore:are;oU.exports=lU;var cU=oU.exports;const sre=(e,t)=>sf(t)?t:$te(t)&&sf(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,ire={t:sre,ready:!1},ore=()=>()=>{},zt=(e,t={})=>{var j,E;const{i18n:r}=t,{i18n:n,defaultNS:a}=y.useContext(iU)||{},s=r||n||Gte();s&&!s.reportNamespaces&&(s.reportNamespaces=new Yte),s||nU(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=y.useMemo(()=>{var N;return{...Hte(),...(N=s==null?void 0:s.options)==null?void 0:N.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=i,u=y.useMemo(()=>{var O;const N=a||((O=s==null?void 0:s.options)==null?void 0:O.defaultNS);return sf(N)?[N]:N||["translation"]},[e,a,s]);(E=(j=s==null?void 0:s.reportNamespaces)==null?void 0:j.addUsedNamespaces)==null||E.call(j,u);const d=y.useRef(0),f=y.useCallback(N=>{if(!s)return ore;const{bindI18n:O,bindI18nStore:R}=i,T=()=>{d.current+=1,N()};return O&&s.on(O,T),R&&s.store.on(R,T),()=>{O&&O.split(" ").forEach(U=>s.off(U,T)),R&&R.split(" ").forEach(U=>s.store.off(U,T))}},[s,i]),h=y.useRef(),m=y.useCallback(()=>{if(!s)return ire;const N=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(q=>Lte(q,s,i)),O=t.lng||s.language,R=d.current,T=h.current;if(T&&T.ready===N&&T.lng===O&&T.keyPrefix===c&&T.revision===R)return T;const z={t:s.getFixedT(O,i.nsMode==="fallback"?u:u[0],c),ready:N,lng:O,keyPrefix:c,revision:R};return h.current=z,z},[s,u,c,i,t.lng]),[g,p]=y.useState(0),{t:v,ready:w}=cU.useSyncExternalStore(f,m,m);y.useEffect(()=>{if(s&&!w&&!l){const N=()=>p(O=>O+1);t.lng?FR(s,t.lng,u,N):_N(s,u,N)}},[s,t.lng,u,w,l,g]);const x=s||{},b=y.useRef(null),_=y.useRef(),S=N=>{const O=Object.getOwnPropertyDescriptors(N);O.__original&&delete O.__original;const R=Object.create(Object.getPrototypeOf(N),O);if(!Object.prototype.hasOwnProperty.call(R,"__original"))try{Object.defineProperty(R,"__original",{value:N,writable:!1,enumerable:!1,configurable:!1})}catch{}return R},k=y.useMemo(()=>{const N=x,O=N==null?void 0:N.language;let R=N;N&&(b.current&&b.current.__original===N?_.current!==O?(R=S(N),b.current=R,_.current=O):R=b.current:(R=S(N),b.current=R,_.current=O));const T=[v,R,w];return T.t=v,T.i18n=R,T.ready=w,T},[v,x,w,x.resolvedLanguage,x.language,x.languages]);if(s&&l&&!w)throw new Promise(N=>{const O=()=>N();t.lng?FR(s,t.lng,u,O):_N(s,u,O)});return k};function lre({i18n:e,defaultNS:t,children:r}){const n=y.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return y.createElement(iU.Provider,{value:n},r)}const cre={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System"},ure={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},dre={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},fre={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to continue",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Signing in...",signInButton:"Sign In",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google"},hre={welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",search:"Search",filter:"Filter",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},mre={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},pre={title:"Dashboard",subtitle:"Welcome back! Here's an overview of your projects.",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"Active projects",clients:"Clients",totalClients:"Total clients",teamMembers:"Team Members",activeUsers:"Active users",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",retry:"Retry",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},gre={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},vre={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},xre={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},yre={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},wre={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},bre={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},_re={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},Sre={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},jre={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},kre={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},Nre={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Ere={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},Cre={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},Tre={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",bulkImport:"Bulk Import",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},Are={company:"Company",city:"City",country:"Country",activity:"Activity",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",uploadQuotation:"Upload Quotation",description:"Description",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},Ore={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},Pre={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},Dre={navigation:cre,buttons:ure,forms:dre,auth:fre,common:hre,status:mre,dashboard:pre,leads:gre,notes:vre,projects:xre,settings:yre,chat:wre,tickets:bre,teams:_re,tasks:Sre,landing:jre,users:kre,clients:Nre,employeeDashboard:Ere,chats:Cre,surveys:Tre,mleads:Are,mprojects:Ore,requests:Pre},Rre={home:"",dashboard:" ",projects:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:""},Ire={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},Mre={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},Fre={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    "},Lre={welcome:"",loading:" ...",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noRecordsFound:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",created:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" ",page:"",of:""},$re={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},Bre={title:" ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},Ure={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},Vre={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},Wre={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},zre={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},Hre={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},qre={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},Gre={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},Kre={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},Yre={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},Xre={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},Jre={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},Qre={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},Zre={title:"",subtitle:"    ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},ene={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},tne={company:"",city:"",country:"",activity:"",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",uploadQuotation:" ",noContactsFound:"     ",allActivities:" ",allCountries:" ",allCities:" ",allSystems:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},rne={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},nne={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},ane={navigation:Rre,buttons:Ire,forms:Mre,auth:Fre,common:Lre,status:$re,dashboard:Bre,leads:Ure,notes:Vre,projects:Wre,chat:zre,tickets:Hre,teams:qre,tasks:Gre,landing:Kre,users:Yre,clients:Xre,employeeDashboard:Jre,chats:Qre,surveys:Zre,settings:ene,mleads:tne,mprojects:rne,requests:nne},sne={en:{translation:Dre},ar:{translation:ane}};Kr.use(Kte).init({resources:sne,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const ke=(e,t)=>{if(Kr.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},$i=(e,t)=>{const r=Kr.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},Lr=()=>Kr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}var au;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(au||(au={}));const LR="popstate";function ine(e){e===void 0&&(e={});function t(a,s){let{pathname:i="/",search:l="",hash:c=""}=Tf(a.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),jN("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let i=a.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:o1(s))}function n(a,s){oA(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return lne(t,r,n,e)}function mn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function one(){return Math.random().toString(36).substr(2,8)}function $R(e,t){return{usr:e.state,key:e.key,idx:t}}function jN(e,t,r,n){return r===void 0&&(r=null),Wg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tf(t):t,{state:r,key:t&&t.key||n||one()})}function o1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function lne(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=au.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Wg({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=au.Pop;let v=d(),w=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:w})}function h(v,w){l=au.Push;let x=jN(p.location,v,w);r&&r(x,v),u=d()+1;let b=$R(x,u),_=p.createHref(x);try{i.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}s&&c&&c({action:l,location:p.location,delta:1})}function m(v,w){l=au.Replace;let x=jN(p.location,v,w);r&&r(x,v),u=d();let b=$R(x,u),_=p.createHref(x);i.replaceState(b,"",_),s&&c&&c({action:l,location:p.location,delta:0})}function g(v){let w=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:o1(v);return x=x.replace(/ $/,"%20"),mn(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let p={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(LR,f),c=v,()=>{a.removeEventListener(LR,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let w=g(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:m,go(v){return i.go(v)}};return p}var BR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(BR||(BR={}));function cne(e,t,r){return r===void 0&&(r="/"),une(e,t,r,!1)}function une(e,t,r,n){let a=typeof t=="string"?Tf(t):t,s=lA(a.pathname||"/",r);if(s==null)return null;let i=uU(e);dne(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=_ne(s);l=wne(i[c],u,n)}return l}function uU(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(mn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=wu([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(mn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uU(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:xne(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of dU(s.path))a(s,i,c)}),t}function dU(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=dU(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function dne(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yne(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fne=/^:[\w-]+$/,hne=3,mne=2,pne=1,gne=10,vne=-2,UR=e=>e==="*";function xne(e,t){let r=e.split("/"),n=r.length;return r.some(UR)&&(n+=vne),t&&(n+=mne),r.filter(a=>!UR(a)).reduce((a,s)=>a+(fne.test(s)?hne:s===""?pne:gne),n)}function yne(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function wne(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=VR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=VR({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:wu([s,f.pathname]),pathnameBase:Nne(wu([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=wu([s,f.pathnameBase]))}return i}function VR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=bne(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function bne(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),oA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function _ne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Sne(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Tf(e):e;return{pathname:r?r.startsWith("/")?r:jne(r,t):t,search:Ene(n),hash:Cne(a)}}function jne(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Wj(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kne(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cA(e,t){let r=kne(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uA(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Tf(e):(a=Wg({},e),mn(!a.pathname||!a.pathname.includes("?"),Wj("?","pathname","search",a)),mn(!a.pathname||!a.pathname.includes("#"),Wj("#","pathname","hash",a)),mn(!a.search||!a.search.includes("#"),Wj("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Sne(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const wu=e=>e.join("/").replace(/\/\/+/g,"/"),Nne=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ene=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cne=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tne(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fU=["post","put","patch","delete"];new Set(fU);const Ane=["get",...fU];new Set(Ane);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}const dA=y.createContext(null),One=y.createContext(null),zu=y.createContext(null),h_=y.createContext(null),pc=y.createContext({outlet:null,matches:[],isDataRoute:!1}),hU=y.createContext(null);function Pne(e,t){let{relative:r}=t===void 0?{}:t;yp()||mn(!1);let{basename:n,navigator:a}=y.useContext(zu),{hash:s,pathname:i,search:l}=pU(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:wu([n,i])),a.createHref({pathname:c,search:l,hash:s})}function yp(){return y.useContext(h_)!=null}function gc(){return yp()||mn(!1),y.useContext(h_).location}function mU(e){y.useContext(zu).static||y.useLayoutEffect(e)}function Bs(){let{isDataRoute:e}=y.useContext(pc);return e?qne():Dne()}function Dne(){yp()||mn(!1);let e=y.useContext(dA),{basename:t,future:r,navigator:n}=y.useContext(zu),{matches:a}=y.useContext(pc),{pathname:s}=gc(),i=JSON.stringify(cA(a,r.v7_relativeSplatPath)),l=y.useRef(!1);return mU(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=uA(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:wu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}function Rne(){let{matches:e}=y.useContext(pc),t=e[e.length-1];return t?t.params:{}}function pU(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(zu),{matches:a}=y.useContext(pc),{pathname:s}=gc(),i=JSON.stringify(cA(a,n.v7_relativeSplatPath));return y.useMemo(()=>uA(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function Ine(e,t){return Mne(e,t)}function Mne(e,t,r,n){yp()||mn(!1);let{navigator:a}=y.useContext(zu),{matches:s}=y.useContext(pc),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=gc(),d;if(t){var f;let v=typeof t=="string"?Tf(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||mn(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=cne(e,{pathname:m}),p=Une(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:wu([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:wu([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&p?y.createElement(h_.Provider,{value:{location:zg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:au.Pop}},p):p}function Fne(){let e=Hne(),t=Tne(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const Lne=y.createElement(Fne,null);class $ne extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(pc.Provider,{value:this.props.routeContext},y.createElement(hU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bne(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(dA);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(pc.Provider,{value:t},n)}function Une(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||mn(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Lne,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,h+1)),x=()=>{let b;return m?b=p:g?b=v:f.route.Component?b=y.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,y.createElement(Bne,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement($ne,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var gU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gU||{}),l1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(l1||{});function Vne(e){let t=y.useContext(dA);return t||mn(!1),t}function Wne(e){let t=y.useContext(One);return t||mn(!1),t}function zne(e){let t=y.useContext(pc);return t||mn(!1),t}function vU(e){let t=zne(),r=t.matches[t.matches.length-1];return r.route.id||mn(!1),r.route.id}function Hne(){var e;let t=y.useContext(hU),r=Wne(l1.UseRouteError),n=vU(l1.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function qne(){let{router:e}=Vne(gU.UseNavigateStable),t=vU(l1.UseNavigateStable),r=y.useRef(!1);return mU(()=>{r.current=!0}),y.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,zg({fromRouteId:t},s)))},[e,t])}function Gne(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Hd(e){let{to:t,replace:r,state:n,relative:a}=e;yp()||mn(!1);let{future:s,static:i}=y.useContext(zu),{matches:l}=y.useContext(pc),{pathname:c}=gc(),u=Bs(),d=uA(t,cA(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function wr(e){mn(!1)}function Kne(e){let{basename:t="/",children:r=null,location:n,navigationType:a=au.Pop,navigator:s,static:i=!1,future:l}=e;yp()&&mn(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:s,static:i,future:zg({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=Tf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=y.useMemo(()=>{let v=lA(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:y.createElement(zu.Provider,{value:u},y.createElement(h_.Provider,{children:r,value:p}))}function Yne(e){let{children:t,location:r}=e;return Ine(kN(t),r)}new Promise(()=>{});function kN(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let s=[...t,a];if(n.type===y.Fragment){r.push.apply(r,kN(n.props.children,s));return}n.type!==wr&&mn(!1),!n.props.index||!n.props.children||mn(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=kN(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(this,arguments)}function Xne(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Jne(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qne(e,t){return e.button===0&&(!t||t==="_self")&&!Jne(e)}const Zne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eae="6";try{window.__reactRouterVersion=eae}catch{}const tae="startTransition",WR=fT[tae];function rae(e){let{basename:t,children:r,future:n,window:a}=e,s=y.useRef();s.current==null&&(s.current=ine({window:a,v5Compat:!0}));let i=s.current,[l,c]=y.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&WR?WR(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>i.listen(d),[i,d]),y.useEffect(()=>Gne(n),[n]),y.createElement(Kne,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const nae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EN=y.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Xne(t,Zne),{basename:m}=y.useContext(zu),g,p=!1;if(typeof u=="string"&&aae.test(u)&&(g=u,nae))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=lA(_.pathname,m);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let v=Pne(u,{relative:a}),w=sae(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(b){n&&n(b),b.defaultPrevented||w(b)}return y.createElement("a",NN({},h,{href:g||v,onClick:p||s?n:x,ref:r,target:c}))});var zR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zR||(zR={}));var HR;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(HR||(HR={}));function sae(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=t===void 0?{}:t,c=Bs(),u=gc(),d=pU(e,{relative:i});return y.useCallback(f=>{if(Qne(f,r)){f.preventDefault();let h=n!==void 0?n:o1(u)===o1(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,e,s,i,l])}var CN=function(e,t){return CN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},CN(e,t)};function xU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");CN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ai=function(){return Ai=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ai.apply(this,arguments)};function Hu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function yU(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function wU(e,t){return function(r,n){t(r,n,e)}}function bU(e,t,r,n,a,s){function i(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var g={};for(var p in n)g[p]=p==="access"?{}:n[p];for(var p in n.access)g.access[p]=n.access[p];g.addInitializer=function(w){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(w||null))};var v=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],g);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=i(v.get))&&(d.get=f),(f=i(v.set))&&(d.set=f),(f=i(v.init))&&a.unshift(f)}else(f=i(v))&&(l==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function _U(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function SU(e){return typeof e=="symbol"?e:"".concat(e)}function jU(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function kU(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function dt(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function NU(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var m_=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function EU(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&m_(t,e,r)}function c1(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fA(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function CU(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fA(arguments[t]));return e}function TU(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],i=0,l=s.length;i<l;i++,a++)n[a]=s[i];return n}function hA(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function km(e){return this instanceof km?(this.v=e,this):new km(e)}function AU(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(m){return function(g){return Promise.resolve(g).then(m,f)}}function l(m,g){n[m]&&(a[m]=function(p){return new Promise(function(v,w){s.push([m,p,v,w])>1||c(m,p)})},g&&(a[m]=g(a[m])))}function c(m,g){try{u(n[m](g))}catch(p){h(s[0][3],p)}}function u(m){m.value instanceof km?Promise.resolve(m.value.v).then(d,f):h(s[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,g){m(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function OU(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(i){return(r=!r)?{value:km(e[a](i)),done:!1}:s?s(i):i}:s}}function PU(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof c1=="function"?c1(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(l,c){i=e[s](i),a(l,c,i.done,i.value)})}}function a(s,i,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},i)}}function DU(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var iae=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},TN=function(e){return TN=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},TN(e)};function RU(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=TN(e),n=0;n<r.length;n++)r[n]!=="default"&&m_(t,e,r[n]);return iae(t,e),t}function IU(e){return e&&e.__esModule?e:{default:e}}function MU(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function FU(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function LU(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function $U(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var oae=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function BU(e){function t(s){e.error=e.hasError?new oae(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(i){return t(i),a()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function UU(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,i){return n?t?".jsx":".js":a&&(!s||!i)?r:a+s+"."+i.toLowerCase()+"js"}):e}const lae={__extends:xU,__assign:Ai,__rest:Hu,__decorate:yU,__param:wU,__esDecorate:bU,__runInitializers:_U,__propKey:SU,__setFunctionName:jU,__metadata:kU,__awaiter:dt,__generator:NU,__createBinding:m_,__exportStar:EU,__values:c1,__read:fA,__spread:CU,__spreadArrays:TU,__spreadArray:hA,__await:km,__asyncGenerator:AU,__asyncDelegator:OU,__asyncValues:PU,__makeTemplateObject:DU,__importStar:RU,__importDefault:IU,__classPrivateFieldGet:MU,__classPrivateFieldSet:FU,__classPrivateFieldIn:LU,__addDisposableResource:$U,__disposeResources:BU,__rewriteRelativeImportExtension:UU},cae=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:$U,get __assign(){return Ai},__asyncDelegator:OU,__asyncGenerator:AU,__asyncValues:PU,__await:km,__awaiter:dt,__classPrivateFieldGet:MU,__classPrivateFieldIn:LU,__classPrivateFieldSet:FU,__createBinding:m_,__decorate:yU,__disposeResources:BU,__esDecorate:bU,__exportStar:EU,__extends:xU,__generator:NU,__importDefault:IU,__importStar:RU,__makeTemplateObject:DU,__metadata:kU,__param:wU,__propKey:SU,__read:fA,__rest:Hu,__rewriteRelativeImportExtension:UU,__runInitializers:_U,__setFunctionName:jU,__spread:CU,__spreadArray:hA,__spreadArrays:TU,__values:c1,default:lae},Symbol.toStringTag,{value:"Module"})),uae="modulepreload",dae=function(e){return"/"+e},qR={},wp=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=dae(c),c in qR)return;qR[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":uae,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},fae=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wp(async()=>{const{default:n}=await Promise.resolve().then(()=>Af);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class mA extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class GR extends mA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class KR extends mA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class YR extends mA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var AN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(AN||(AN={}));class hae{constructor(t,{headers:r={},customFetch:n,region:a=AN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=fae(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return dt(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:s,method:i,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:c}).catch(w=>{throw w.name==="AbortError"?w:new GR(w)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new KR(m);if(!m.ok)throw new YR(m);let p=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield m.json():p==="application/octet-stream"||p==="application/pdf"?v=yield m.blob():p==="text/event-stream"?v=m:p==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new GR(s)}:{data:null,error:s,response:s instanceof YR||s instanceof KR?s.context:void 0}}})}}var Za={};const bp=T8(cae);var vy={},xy={},yy={},wy={},by={},mae=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nm=mae();const pae=Nm.fetch,VU=Nm.fetch.bind(Nm),WU=Nm.Headers,gae=Nm.Request,vae=Nm.Response,Af=Object.freeze(Object.defineProperty({__proto__:null,Headers:WU,Request:gae,Response:vae,default:VU,fetch:pae},Symbol.toStringTag,{value:"Module"})),xae=T8(Af);var _y={},XR;function zU(){if(XR)return _y;XR=1,Object.defineProperty(_y,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return _y.default=e,_y}var JR;function HU(){if(JR)return by;JR=1,Object.defineProperty(by,"__esModule",{value:!0});const e=bp,t=e.__importDefault(xae),r=e.__importDefault(zU());class n{constructor(s){var i,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let g=null,p=null,v=null,w=u.status,x=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?p=k:p=JSON.parse(k))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(g={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,w=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const _=await u.text();try{g=JSON.parse(_),Array.isArray(g)&&u.status===404&&(p=[],g=null,w=200,x="OK")}catch{u.status===404&&_===""?(w=204,x="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((m=g==null?void 0:g.details)===null||m===void 0)&&m.includes("0 rows"))&&(g=null,w=200,x="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:p,count:v,status:w,statusText:x}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,i)}returns(){return this}overrideTypes(){return this}}return by.default=n,by}var QR;function qU(){if(QR)return wy;QR=1,Object.defineProperty(wy,"__esModule",{value:!0});const t=bp.__importDefault(HU());class r extends t.default{select(a){let s=!1;const i=(a??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,s?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return wy.default=r,wy}var ZR;function pA(){if(ZR)return yy;ZR=1,Object.defineProperty(yy,"__esModule",{value:!0});const t=bp.__importDefault(qU()),r=new RegExp("[,()]");class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${i}`),this}match(s){return Object.entries(s).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(s,i,l){return this.url.searchParams.append(s,`not.${i}.${l}`),this}or(s,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,i,l){return this.url.searchParams.append(s,`${i}.${l}`),this}}return yy.default=n,yy}var eI;function GU(){if(eI)return xy;eI=1,Object.defineProperty(xy,"__esModule",{value:!0});const t=bp.__importDefault(pA());class r{constructor(a,{headers:s={},schema:i,fetch:l}){this.url=a,this.headers=new Headers(s),this.schema=i,this.fetch=l}select(a,s){const{head:i=!1,count:l}=s??{},c=i?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:i=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:s}={}){var i;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var s;const i="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return xy.default=r,xy}var tI;function yae(){if(tI)return vy;tI=1,Object.defineProperty(vy,"__esModule",{value:!0});const e=bp,t=e.__importDefault(GU()),r=e.__importDefault(pA());class n{constructor(s,{headers:i={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(s){const i=new URL(`${this.url}/${s}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let m;l||c?(f=l?"HEAD":"GET",Object.entries(i).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{h.searchParams.append(p,v)})):(f="POST",m=i);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return vy.default=n,vy}Object.defineProperty(Za,"__esModule",{value:!0});var KU=Za.PostgrestError=a9=Za.PostgrestBuilder=r9=Za.PostgrestTransformBuilder=e9=Za.PostgrestFilterBuilder=QU=Za.PostgrestQueryBuilder=XU=Za.PostgrestClient=void 0;const _p=bp,YU=_p.__importDefault(yae());var XU=Za.PostgrestClient=YU.default;const JU=_p.__importDefault(GU());var QU=Za.PostgrestQueryBuilder=JU.default;const ZU=_p.__importDefault(pA());var e9=Za.PostgrestFilterBuilder=ZU.default;const t9=_p.__importDefault(qU());var r9=Za.PostgrestTransformBuilder=t9.default;const n9=_p.__importDefault(HU());var a9=Za.PostgrestBuilder=n9.default;const s9=_p.__importDefault(zU());KU=Za.PostgrestError=s9.default;var i9=Za.default={PostgrestClient:YU.default,PostgrestQueryBuilder:JU.default,PostgrestFilterBuilder:ZU.default,PostgrestTransformBuilder:t9.default,PostgrestBuilder:n9.default,PostgrestError:s9.default};const wae=C8({__proto__:null,get PostgrestBuilder(){return a9},get PostgrestClient(){return XU},get PostgrestError(){return KU},get PostgrestFilterBuilder(){return e9},get PostgrestQueryBuilder(){return QU},get PostgrestTransformBuilder(){return r9},default:i9},[Za]),{PostgrestClient:bae,PostgrestQueryBuilder:PYe,PostgrestFilterBuilder:DYe,PostgrestTransformBuilder:RYe,PostgrestBuilder:IYe,PostgrestError:MYe}=i9||wae;class _ae{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Sae="2.78.0",jae=`realtime-js/${Sae}`,kae="1.0.0",ON=1e4,Nae=1e3,Eae=100;var Z0;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Z0||(Z0={}));var On;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(On||(On={}));var lo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lo||(lo={}));var PN;(function(e){e.websocket="websocket"})(PN||(PN={}));var vd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vd||(vd={}));class Cae{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class o9{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kr||(kr={}));const rI=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=Tae(i,e,t,a),s),{}):{}},Tae=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?l9(s,i):DN(i)},l9=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Dae(t,r)}switch(e){case kr.bool:return Aae(t);case kr.float4:case kr.float8:case kr.int2:case kr.int4:case kr.int8:case kr.numeric:case kr.oid:return Oae(t);case kr.json:case kr.jsonb:return Pae(t);case kr.timestamp:return Rae(t);case kr.abstime:case kr.date:case kr.daterange:case kr.int4range:case kr.int8range:case kr.money:case kr.reltime:case kr.text:case kr.time:case kr.timestamptz:case kr.timetz:case kr.tsrange:case kr.tstzrange:return DN(t);default:return DN(t)}},DN=e=>e,Aae=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Oae=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Pae=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Dae=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>l9(t,l))}return e},Rae=e=>typeof e=="string"?e.replace(" ","T"):e,c9=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class zj{constructor(t,r,n={},a=ON){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nI||(nI={}));class eg{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eg.syncState(this.state,a,s,i),this.pendingDiffs.forEach(c=>{this.state=eg.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=eg.syncDiff(this.state,a,s,i),l())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var aI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(aI||(aI={}));var tg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tg||(tg={}));var Pl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pl||(Pl={}));class gA{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=On.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zj(this,lo.join,this.params,this.timeout),this.rejoinTimer=new o9(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=On.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=On.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lo.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new eg(this),this.broadcastEndpointURL=c9(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==On.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[tg.PRESENCE]&&this.bindings[tg.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Pl.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Pl.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(Pl.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,w=[];for(let x=0;x<v;x++){const b=p[x],{filter:{event:_,schema:S,table:k,filter:j}}=b,E=m&&m[x];if(E&&E.event===_&&E.schema===S&&E.table===k&&E.filter===j)w.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=On.errored,t==null||t(Pl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Pl.SUBSCRIBED);return}}).receive("error",m=>{this.state=On.errored,t==null||t(Pl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===On.joined&&t===tg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=On.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new zj(this,lo.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=On.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new zj(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Eae){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=lo;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var g,p,v,w,x,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(x=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:w,type:x,errors:b}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:w,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===On.closed}_isJoined(){return this.state===On.joined}_isJoining(){return this.state===On.joining}_isLeaving(){return this.state===On.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&gA.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lo.close,{},t)}_onError(t){this._on(lo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=On.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=rI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=rI(t.columns,t.old_record)),r}}const Hj=()=>{},Sy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Iae=[1e3,2e3,5e3,1e4],Mae=1e4,Fae=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lae{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ON,this.transport=null,this.heartbeatIntervalMs=Sy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hj,this.ref=0,this.reconnectTimer=null,this.logger=Hj,this.conn=null,this.sendBuffer=[],this.serializer=new Cae,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...i)=>wp(async()=>{const{default:l}=await Promise.resolve().then(()=>Af);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...i)=>s(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${PN.websocket}`,this.httpEndpoint=c9(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_ae.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kae}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Z0.connecting:return vd.Connecting;case Z0.open:return vd.Open;case Z0.closing:return vd.Closing;default:return vd.Closed}}isConnected(){return this.connectionState()===vd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new gA(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Nae,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Sy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:i}=r,l=i?`(${i})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(lo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Fae],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:jae};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(lo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new o9(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ON,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Sy.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Hj,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>Iae[f-1]||Mae,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class vA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $ae extends vA{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class RN extends vA{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const xA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wp(async()=>{const{default:n}=await Promise.resolve().then(()=>Af);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Bae=()=>dt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wp(()=>Promise.resolve().then(()=>Af),void 0)).Response:Response}),IN=e=>{if(Array.isArray(e))return e.map(r=>IN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=IN(n)}),t},Uae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qj=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Vae=(e,t,r)=>dt(void 0,void 0,void 0,function*(){const n=yield Bae();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,i=(a==null?void 0:a.statusCode)||s+"";t(new $ae(qj(a),s,i))}).catch(a=>{t(new RN(qj(a),a))}):t(new RN(qj(e),e))}),Wae=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(Uae(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function tx(e,t,r,n,a,s){return dt(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Wae(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Vae(c,l,n))})})}function Hg(e,t,r,n){return dt(this,void 0,void 0,function*(){return tx(e,"GET",t,r,n)})}function ao(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return tx(e,"POST",t,n,a,r)})}function MN(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return tx(e,"PUT",t,n,a,r)})}function zae(e,t,r,n){return dt(this,void 0,void 0,function*(){return tx(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function yA(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return tx(e,"DELETE",t,n,a,r)})}class Hae{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return dt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qr(t))return{data:null,error:t};throw t}})}}var u9;class qae{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[u9]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hae(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return dt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qr(t))return{data:null,error:t};throw t}})}}u9=Symbol.toStringTag;const Gae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kae{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=xA(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return dt(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},sI),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?MN:ao)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(qr(s))return{data:null,error:s};throw s}})}upload(t,r,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return dt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:sI.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield MN(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(qr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return dt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield ao(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new vA("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}})}update(t,r,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return dt(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield ao(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return dt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield ao(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return dt(this,void 0,void 0,function*(){try{const a=yield ao(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qr(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>Hg(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new qae(c,this.shouldThrowOnError)}info(t){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Hg(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:IN(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}})}exists(t){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield zae(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n)&&n instanceof RN){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return dt(this,void 0,void 0,function*(){try{return{data:yield yA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}list(t,r,n){return dt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Gae),r),{prefix:t||""});return{data:yield ao(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qr(a))return{data:null,error:a};throw a}})}listV2(t,r){return dt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ao(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const d9="2.78.0",f9={"X-Client-Info":`storage-js/${d9}`};class Yae{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},f9),r),this.fetch=xA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return dt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Hg(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}getBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Hg(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}createBucket(t){return dt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qr(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return dt(this,void 0,void 0,function*(){try{return{data:yield MN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield yA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Xae{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},f9),r),this.fetch=xA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}listBuckets(t){return dt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Hg(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield yA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}}const wA={"X-Client-Info":`storage-js/${d9}`,"Content-Type":"application/json"};class h9 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ei(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Gj extends h9{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jae extends h9{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var iI;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(iI||(iI={}));const bA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wp(async()=>{const{default:n}=await Promise.resolve().then(()=>Af);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Qae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oI=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zae=(e,t,r)=>dt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new Gj(oI(i),a,l))}).catch(()=>{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new Gj(l,a,i))});else{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new Gj(l,a,i))}}else t(new Jae(oI(e),e))}),ese=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Qae(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function tse(e,t,r,n,a,s){return dt(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,ese(t,n,a,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>Zae(c,l,n))})})}function ti(e,t,r,n,a){return dt(this,void 0,void 0,function*(){return tse(e,"POST",t,n,a,r)})}class rse{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wA),r),this.fetch=bA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield ti(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}getIndex(t,r){return dt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ei(n))return{data:null,error:n};throw n}})}listIndexes(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return dt(this,void 0,void 0,function*(){try{return{data:(yield ti(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ei(n))return{data:null,error:n};throw n}})}}class nse{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wA),r),this.fetch=bA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ti(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}getVectors(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}listVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ti(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}queryVectors(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}deleteVectors(t){return dt(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ti(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}}class ase{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wA),r),this.fetch=bA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield ti(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}getBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}listBuckets(){return dt(this,arguments,void 0,function*(t={}){try{return{data:yield ti(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}deleteBucket(t){return dt(this,void 0,void 0,function*(){try{return{data:(yield ti(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ei(r))return{data:null,error:r};throw r}})}}class sse extends ase{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new ise(this.url,this.headers,t,this.fetch)}}class ise extends rse{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return dt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return dt(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return dt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return dt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new ose(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class ose extends nse{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return dt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return dt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return dt(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return dt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return dt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class lse extends Yae{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Kae(this.url,this.headers,t,this.fetch)}get vectors(){return new sse(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Xae(this.url+"/iceberg",this.headers,this.fetch)}}const cse="2.78.0";let P0="";typeof Deno<"u"?P0="deno":typeof document<"u"?P0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?P0="react-native":P0="node";const use={"X-Client-Info":`supabase-js-${P0}/${cse}`},dse={headers:use},fse={schema:"public"},hse={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mse={},pse=e=>{let t;return e?t=e:typeof fetch>"u"?t=VU:t=fetch,(...r)=>t(...r)},gse=()=>typeof Headers>"u"?WU:Headers,vse=(e,t,r)=>{const n=pse(r),a=gse();return async(s,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},i),{headers:u}))}};function xse(e){return e.endsWith("/")?e:e+"/"}function yse(e,t){var r,n;const{db:a,auth:s,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function wse(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xse(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const m9="2.78.0",oh=30*1e3,FN=3,Kj=FN*oh,bse="http://localhost:9999",_se="supabase.auth.token",Sse={"X-Client-Info":`gotrue-js/${m9}`},LN="X-Supabase-Api-Version",p9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jse=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kse=10*60*1e3;class qg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function pt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Nse extends qg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ese(e){return pt(e)&&e.name==="AuthApiError"}class xd extends qg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qu extends qg{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Zi extends qu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cse(e){return pt(e)&&e.name==="AuthSessionMissingError"}class Hf extends qu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jy extends qu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ky extends qu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tse(e){return pt(e)&&e.name==="AuthImplicitGrantRedirectError"}class lI extends qu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $N extends qu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Yj(e){return pt(e)&&e.name==="AuthRetryableFetchError"}class cI extends qu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class BN extends qu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const u1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uI=` 	
\r=`.split(""),Ase=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uI.length;t+=1)e[uI[t].charCodeAt(0)]=-2;for(let t=0;t<u1.length;t+=1)e[u1[t].charCodeAt(0)]=t;return e})();function dI(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(u1[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(u1[n]),t.queuedBits-=6}}function g9(e,t,r){const n=Ase[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fI(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{Dse(i,n,r)};for(let i=0;i<e.length;i+=1)g9(e.charCodeAt(i),a,s);return t.join("")}function Ose(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Pse(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Ose(n,t)}}function Dse(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Hh(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)g9(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Rse(e){const t=[];return Pse(e,r=>t.push(r)),new Uint8Array(t)}function kd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>dI(a,r,n)),dI(null,r,n),t.join("")}function Ise(e){return Math.round(Date.now()/1e3)+e}function Mse(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const qa=()=>typeof window<"u"&&typeof document<"u",sd={tested:!1,writable:!1},v9=()=>{if(!qa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sd.tested)return sd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sd.tested=!0,sd.writable=!0}catch{sd.tested=!0,sd.writable=!1}return sd.writable};function Fse(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const x9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wp(async()=>{const{default:n}=await Promise.resolve().then(()=>Af);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Lse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},id=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Cc=async(e,t)=>{await e.removeItem(t)};class p_{constructor(){this.promise=new p_.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}p_.promiseConstructor=Promise;function Xj(e){const t=e.split(".");if(t.length!==3)throw new BN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!jse.test(t[n]))throw new BN("JWT not in base64url format");return{header:JSON.parse(fI(t[0])),payload:JSON.parse(fI(t[1])),signature:Hh(t[2]),raw:{header:t[0],payload:t[1]}}}async function $se(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Bse(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function Use(e){return("0"+e.toString(16)).substr(-2)}function Vse(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Use).join("")}async function Wse(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function zse(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Wse(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qf(e,t,r=!1){const n=Vse();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await lh(e,`${t}-code-verifier`,a);const s=await zse(n);return[s,n===s?"plain":"s256"]}const Hse=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qse(e){const t=e.headers.get(LN);if(!t||!t.match(Hse))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Gse(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Kse(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Yse=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gf(e){if(!Yse.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jj(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xse(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function hI(e){return JSON.parse(JSON.stringify(e))}const fd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jse=[502,503,504];async function mI(e){var t;if(!Lse(e))throw new $N(fd(e),0);if(Jse.includes(e.status))throw new $N(fd(e),e.status);let r;try{r=await e.json()}catch(s){throw new xd(fd(s),s)}let n;const a=qse(e);if(a&&a.getTime()>=p9["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cI(fd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new cI(fd(r),e.status,r.weak_password.reasons);throw new Nse(fd(r),e.status||500,n)}const Qse=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Et(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[LN]||(s[LN]=p9["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Zse(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Zse(e,t,r,n,a,s){const i=Qse(t,n,a,s);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new $N(fd(c),0)}if(l.ok||await mI(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await mI(c)}}function eo(e){var t;let r=null;rie(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ise(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function pI(e){const t=eo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eie(e){return{data:e,error:null}}function tie(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=Hu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function gI(e){return e}function rie(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qj=["global","local","others"];class nie{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=x9(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Qj[0]){if(Qj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qj.join(", ")}`);try{return await Et(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wc})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Hu(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:tie,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(pt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wc})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:gI});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(pt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Gf(t);try{return await Et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wc})}catch(r){if(pt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Gf(t);try{return await Et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wc})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Gf(t);try{return await Et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wc})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Gf(t.userId);try{const{data:r,error:n}=await Et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Gf(t.userId),Gf(t.id);try{return{data:await Et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:gI});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(pt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pt(r))return{data:null,error:r};throw r}}}function vI(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Kf={debug:!!(globalThis&&v9()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class y9 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class aie extends y9{}async function sie(e,t,r){Kf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Kf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Kf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Kf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Kf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aie(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function iie(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function w9(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function oie(e){return parseInt(e,16)}function lie(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function cie(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=w9(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let w=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(w+=`
Expiration Time: ${a.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}w+=x}return`${v}
${w}`}class _n extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class d1 extends _n{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function uie({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _n({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _n({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _n({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new _n({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new _n({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new _n({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new _n({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new _n({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(b9(i)){if(s.rp.id!==i)return new _n({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _n({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new _n({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new _n({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _n({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function die({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _n({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new _n({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(b9(n)){if(r.rpId!==n)return new _n({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _n({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new _n({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _n({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class fie{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const hie=new fie;function mie(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Hu(e,["challenge","user","excludeCredentials"]),s=Hh(t).buffer,i=Object.assign(Object.assign({},r),{id:Hh(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Hh(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function pie(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Hu(e,["challenge","allowCredentials"]),a=Hh(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Hh(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function gie(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:kd(new Uint8Array(e.response.attestationObject)),clientDataJSON:kd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vie(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:kd(new Uint8Array(a.authenticatorData)),clientDataJSON:kd(new Uint8Array(a.clientDataJSON)),signature:kd(new Uint8Array(a.signature)),userHandle:a.userHandle?kd(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function b9(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function xI(){var e,t;return!!(qa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xie(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new d1("Browser returned unexpected credential type",t)}:{data:null,error:new d1("Empty credential response",t)}}catch(t){return{data:null,error:uie({error:t,options:e})}}}async function yie(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new d1("Browser returned unexpected credential type",t)}:{data:null,error:new d1("Empty credential response",t)}}catch(t){return{data:null,error:die({error:t,options:e})}}}const wie={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},bie={userVerification:"preferred",hints:["security-key"]};function f1(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const l=n[s];t(l)?n[s]=f1(l,i):n[s]=f1(i)}else n[s]=i}return n}function _ie(e,t){return f1(wie,e,t||{})}function Sie(e,t){return f1(bie,e,t||{})}class jie{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=a??hie.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=_ie(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await xie({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Sie(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await yie(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return pt(i)?{data:null,error:i}:{data:null,error:new xd("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},s){if(!r)return{data:null,error:new qg("rpId is required for WebAuthn authentication")};try{if(!xI())return{data:null,error:new xd("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return pt(i)?{data:null,error:i}:{data:null,error:new xd("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},s){if(!r)return{data:null,error:new qg("rpId is required for WebAuthn registration")};try{if(!xI())return{data:null,error:new xd("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return pt(i)?{data:null,error:i}:{data:null,error:new xd("Unexpected error in register",i)}}}}iie();const kie={url:bse,storageKey:_se,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sse,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yI(e,t,r){return await r()}const Yf={};class Gg{get jwks(){var t,r;return(r=(t=Yf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Yf[this.storageKey]=Object.assign(Object.assign({},Yf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Yf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yf[this.storageKey]=Object.assign(Object.assign({},Yf[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gg.nextInstanceID,Gg.nextInstanceID+=1,this.instanceID>0&&qa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},kie),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new nie({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=x9(a.fetch),this.lock=a.lock||yI,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:qa()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=sie:this.lock=yI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jie(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:v9()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vI(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=vI(this.memoryStorage)),qa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${m9}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Fse(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),qa()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Tse(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return pt(r)?{error:r}:{error:new xd("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:eo}),{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(pt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await qf(this.storage,this.storageKey)),s=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:eo})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:eo})}else throw new jy("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(pt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:l}=t;r=await Et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pI})}else if("phone"in t){const{phone:s,password:i,options:l}=t;r=await Et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pI})}else throw new jy("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(pt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:w,options:x}=t;let b;if(qa())if(typeof v=="object")b=v;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")b=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=w9(S[0]);let j=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const N=await b.request({method:"eth_chainId"});j=oie(N)}const E={domain:_.host,address:k,statement:w,uri:_.href,version:"1",chainId:j,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=cie(E),g=await b.request({method:"personal_sign",params:[lie(m),k]})}try{const{data:p,error:v}=await Et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:eo});if(v)throw v;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new Hf}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:v})}catch(p){if(pt(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var r,n,a,s,i,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:w,statement:x,options:b}=t;let _;if(qa())if(typeof w=="object")_=w;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),p=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=k}}try{const{data:v,error:w}=await Et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:kd(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:eo});if(w)throw w;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Hf}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:w})}catch(v){if(pt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await id(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await Et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:eo});if(await Cc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Hf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(pt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,l=await Et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:eo}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(pt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qf(this.storage,this.storageKey));const{error:f}=await Et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new jy("You must provide either an email or phone number.")}catch(l){if(pt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await Et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:eo});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(pt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await qf(this.storage,this.storageKey)),await Et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:eie})}catch(s){if(pt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zi;const{error:a}=await Et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(pt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await Et(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:l}=await Et(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new jy("You must provide either an email or phone number and a type")}catch(r){if(pt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await id(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Kj:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await id(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Jj()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=Xse(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wc}):await this._useSession(async r=>{var n,a,s;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zi}:await Et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Wc})})}catch(r){if(pt(r))return Cse(r)&&(await this._removeSession(),await Cc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Zi;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await qf(this.storage,this.storageKey));const{data:u,error:d}=await Et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Wc});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(pt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zi;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=Xj(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(pt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Zi;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(pt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!qa())throw new ky("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ky(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ky("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lI("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!i||!u)throw new ky("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=oh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(s);if(v)throw v;const w={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(pt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await id(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(Ese(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Cc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Mse(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await qf(this.storage,this.storageKey,!0));try{return await Et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(pt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Et(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return qa()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(pt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,f=await Et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:eo}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Hf}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(pt(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await Et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Bse(async a=>(a>0&&await $se(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:eo})),(a,s)=>{const i=200*Math.pow(2,a);return s&&Yj(s)&&Date.now()+i-n<oh})}catch(n){if(this._debug(r,"error",n),pt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),qa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await id(this.storage,this.storageKey);if(a&&this.userStorage){let i=await id(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await lh(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Jj()}else if(a&&!a.user&&!a.user){const i=await id(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await Cc(this.storage,this.storageKey+"-user"),await lh(this.storage,this.storageKey,a)):a.user=Jj()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Kj;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Kj}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),Yj(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(a.access_token);!l&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new p_;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Zi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),pt(s)){const i={data:null,error:s};return Yj(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await lh(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=hI(a);await lh(this.storage,this.storageKey,s)}else{const a=hI(r);await lh(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Cc(this.storage,this.storageKey),await Cc(this.storage,this.storageKey+"-code-verifier"),await Cc(this.storage,this.storageKey+"-user"),this.userStorage&&await Cc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),oh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/oh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${oh}ms, refresh threshold is ${FN} ticks`),a<=FN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof y9)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await qf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Et(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?gie(t.webauthn.credential_response):vie(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(pt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=await Et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:mie(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:pie(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(pt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Xj(n.access_token);let i=null;s.aal&&(i=s.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await Et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Zi}})}catch(r){if(pt(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return{data:null,error:s};if(!a)return{data:null,error:new Zi};const i=await Et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&qa()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return{data:null,error:s};if(!a)return{data:null,error:new Zi};const i=await Et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&qa()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(pt(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+kse>a)return n;const{data:s,error:i}=await Et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:s,signature:i,raw:{header:l,payload:c}}=Xj(n);r!=null&&r.allowExpired||Gse(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:i},error:null}}const d=Kse(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,Rse(`${l}.${c}`)))throw new BN("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}}}Gg.nextInstanceID=0;const Nie=Gg;class Eie extends Nie{constructor(t){super(t)}}class Cie{constructor(t,r,n){var a,s,i;this.supabaseUrl=t,this.supabaseKey=r;const l=wse(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:fse,realtime:mse,auth:Object.assign(Object.assign({},hse),{storageKey:c}),global:dse},d=yse(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=vse(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new bae(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new lse(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new hae(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:i,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Eie({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Lae(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Tie=(e,t,r)=>new Cie(e,t,r);function Aie(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Aie()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _9="https://studio.middar.com/",yw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3NjQwMDE2ODQsImV4cCI6MjA3OTU3NzY4NH0.sHsfXuCJ0n1y6g29oFxifU1KCkSZzCzZ7_x1zQDbFDY";console.log(" SUPABASE URL at runtime:",_9);console.log(" SUPABASE KEY (first 8):",yw==null?void 0:yw.slice(0,8));const pe=Tie(_9,yw,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"middar_crm_session"}}),Hs={async signUpStaff(e,t,r){console.log("[authService] Creating staff user:",{email:e,userData:r});try{const{data:n,error:a}=await pe.auth.signUp({email:e,password:t});if(a)throw a;if(!n.user)throw new Error("No user data returned from sign up");console.log("[authService] Auth user created:",n.user.id);const{data:s,error:i}=await pe.from("users").upsert({user_name:r.name,user_email:e,user_role:r.role,avatar:r.avatar,auth_user_id:n.user.id},{onConflict:"auth_user_id"}).select("*").single();if(i)throw console.error("[authService] Error creating user profile:",i),new Error(`Failed to create user profile: ${i.message}`);return console.log("[authService] User profile created:",s),console.log("[authService] User profile created:",s),{id:n.user.id,email:e,role:r.role,profile:{user_id:s.user_id||parseInt(n.user.id),user_name:s.user_name||r.name,user_email:s.user_email||e,user_role:s.user_role||r.role,avatar:s.avatar||r.avatar,auth_user_id:s.auth_user_id||n.user.id,client_contact:s.client_contact||null,company_name:s.company_name||null,company_name_ar:s.company_name_ar||null,user_name_ar:s.user_name_ar||null,user_phone:s.user_phone||null,created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in signUpStaff:",n),n}},async createStaffUser(e,t,r){console.log("[authService] Creating staff user via Edge Function:",{email:e,userData:r});try{const{data:{session:n},error:a}=await pe.auth.getSession();if(a||!(n!=null&&n.access_token))throw new Error("No active session found");const s="https://studio.middar.com/",i=`${s}/functions/v1/crud-staff-user`,l=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,"x-user-id":n.user.id},body:JSON.stringify({action:"add",email:e,password:t,userData:{user_name:r.name,user_role:r.role,...r.localizedData||{}}})});if(!l.ok){const f=await l.json();throw new Error(f.error||`HTTP ${l.status}`)}const c=await l.json();if(console.log("[authService] Staff user created successfully:",c),!c.ok)throw new Error("Edge Function returned an error status");const u=c.auth_id??c.authUserId;if(!u)throw new Error("Auth user ID missing from response");if(c.user_id==null)throw new Error("User ID missing from response");const d=c.user_id??null;return{id:u,email:e,role:r.role,profile:{user_id:d,user_name:c.user_name||r.name,user_email:c.user_email||e,user_role:c.user_role||r.role,avatar:c.avatar||r.avatar,auth_user_id:u,client_contact:c.client_contact||null,company_name:c.company_name||null,company_name_ar:c.company_name_ar||null,user_name_ar:c.user_name_ar||null,user_phone:c.user_phone||null,created_at:c.created_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in createStaffUser:",n),n}},async updateUserRole(e,t){console.log("[authService] Updating user role:",{targetUserId:e,newRole:t});try{const{data:{session:r},error:n}=await pe.auth.getSession();if(n||!(r!=null&&r.access_token))throw new Error("No active session found");const a="https://studio.middar.com/".trim();if(!a)throw new Error("Missing VITE_SUPABASE_URL");const s=`${a}/functions/v1/crud-staff-user`,i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,"x-user-id":r.user.id},body:JSON.stringify({action:"update",targetUserId:e,userData:{user_role:t}})});if(!i.ok){const l=await i.json();throw new Error(l.error||`HTTP ${i.status}`)}console.log("[authService] User role updated successfully")}catch(r){throw console.error("[authService] Error in updateUserRole:",r),r}},async updateUser(e,t){console.log("[authService] Updating user details:",{targetUserId:e,userData:t});try{const{data:{session:r},error:n}=await pe.auth.getSession();if(n||!(r!=null&&r.access_token))throw new Error("No active session found");const a="https://studio.middar.com/".trim();if(!a)throw new Error("Missing VITE_SUPABASE_URL");const s=`${a}/functions/v1/crud-staff-user`,i={action:"update",targetUserId:e,userData:{}};if(t.user_email!==void 0&&(i.email=t.user_email,i.userData.user_email=t.user_email),t.user_name!==void 0&&(i.userData.user_name=t.user_name),t.user_role!==void 0&&(i.userData.user_role=t.user_role),t.user_phone!==void 0){const{data:l,error:c}=await pe.from("users").select("user_id").eq("auth_user_id",e).single();if(c||!l)throw new Error("User not found");const{error:u}=await pe.from("users").update({user_phone:t.user_phone}).eq("user_id",l.user_id);if(u)throw u}if(i.userData.user_name||i.userData.user_email||i.userData.user_role){const l=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,"x-user-id":r.user.id},body:JSON.stringify(i)});if(!l.ok){const u=await l.json();throw new Error(u.error||`HTTP ${l.status}`)}const c=await l.json();console.log("[authService] Edge Function update result:",c)}console.log("[authService] User details updated successfully")}catch(r){throw console.error("[authService] Error in updateUser:",r),r}},async deleteUser(e){console.log("[authService] Deleting user:",e);try{const{data:{session:t},error:r}=await pe.auth.getSession();if(r||!(t!=null&&t.access_token))throw new Error("No active session found");const n="https://studio.middar.com/",a=`${n}/functions/v1/crud-staff-user`,s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`,"x-user-id":t.user.id},body:JSON.stringify({action:"delete",targetUserId:e})});if(!s.ok){const i=await s.json();throw new Error(i.error||`HTTP ${s.status}`)}console.log("[authService] User deleted successfully")}catch(t){throw console.error("[authService] Error in deleteUser:",t),t}},async signUpClient(e,t,r){console.log("[authService] Signing up client:",{email:e,...r});const{data:n,error:a}=await pe.auth.signUp({email:e,password:t});if(a)throw a;if(!n.user)throw new Error("User creation failed");console.log("[authService] Auth user created:",n.user.id);const{data:s,error:i}=await pe.from("users").upsert({user_name:r.name,user_email:e,user_role:"client",avatar:r.avatar,client_contact:r.contact,company_name:r.company,auth_user_id:n.user.id},{onConflict:"auth_user_id"}).select().single();if(i)throw console.error("[authService] Error creating user profile:",i),i;return console.log("[authService] User profile created:",s),{id:n.user.id,email:e,role:"client",profile:{user_id:s.user_id,user_name:s.user_name||r.name,user_email:s.user_email||e,user_role:"client",avatar:s.avatar||r.avatar,client_contact:s.client_contact||r.contact||null,company_name:s.company_name||r.company||null,company_name_ar:s.company_name_ar||null,user_name_ar:s.user_name_ar||null,user_phone:s.user_phone||null,auth_user_id:n.user.id,created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString()}}},async signIn(e,t){console.log("[authService] Signing in with email:",e);try{const{data:r,error:n}=await pe.auth.signInWithPassword({email:e,password:t});if(n)throw console.error("[authService] Authentication error:",n),n;if(!r.user)throw new Error("Sign in failed: No user data returned");console.log("[authService] User authenticated, fetching profile...");const{data:a,error:s}=await pe.from("users").select("*").eq("auth_user_id",r.user.id).maybeSingle();if(s)throw console.error("[authService] Error fetching user profile:",s),new Error("Failed to fetch user profile");if(!a)throw console.error("[authService] User profile not found for user:",r.user.id),new Error("User profile not found");return console.log("[authService] User profile found:",a),{id:r.user.id,email:r.user.email,role:a.user_role||"client",profile:{...a}}}catch(r){throw console.error("[authService] Error in signIn:",r),r}},async signOut(){console.log("[authService] Signing out...");try{const{data:{session:e}}=await pe.auth.getSession();if(!e){console.warn("[authService] No active session found  skipping signOut()");return}const{error:t}=await pe.auth.signOut();if(t)throw console.error("[authService] Error signing out:",t),t;console.log("[authService] Sign out successful")}catch(e){throw console.error("[authService] Error in signOut:",e),e}},async signInWithGoogle(e="client"){console.log("[authService] Starting Google OAuth sign-in with role:",e);try{localStorage.setItem("oauth_intended_role",e);const{data:t,error:r}=await pe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,data:{intended_role:e},queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(r)throw console.error("[authService] Google OAuth error:",r),localStorage.removeItem("oauth_intended_role"),r;console.log("[authService] Google OAuth initiated successfully with role:",e)}catch(t){throw console.error("[authService] Error in Google sign-in:",t),localStorage.removeItem("oauth_intended_role"),t}},async getCurrentUser(e){console.log("[authService] Getting current user",{authUserId:e});try{let t;if(e)t={id:e},console.log("[authService] Using provided auth user ID:",e);else{console.log("[authService] Fetching auth user from session");const l=pe.auth.getUser(),c=new Promise((u,d)=>setTimeout(()=>d(new Error("getUser timeout")),3e3));try{const{data:{user:u},error:d}=await Promise.race([l,c]);if(d||!u)return console.log("[authService] No authenticated user found"),null;t=u}catch(u){return console.warn("[authService] Failed to get user from session:",u),null}}console.log("[authService] Found auth user:",{id:t.id}),console.log("[authService] Checking users table for user:",t.id);const r=pe.from("users").select("*").eq("auth_user_id",t.id).maybeSingle(),n=new Promise((l,c)=>setTimeout(()=>c(new Error("Database query timeout")),3e3));let a,s;try{const l=await Promise.race([r,n]);a=l.data,s=l.error}catch(l){return console.error("[authService] Database query timed out:",l),{id:t.id,email:"",role:"client",profile:{user_id:0,user_name:"User",user_email:"",user_role:"client",auth_user_id:t.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}if(console.log("[authService] Database query completed:",{hasData:!!a,hasError:!!s}),s&&console.error("[authService] Error fetching user from users table:",s),a)return console.log("[authService] Found user in users table:",a),{id:t.id,email:a.user_email||"",role:a.user_role||"client",profile:{...a}};console.warn("[authService] User authenticated but not found in users table, creating minimal user object",{userId:t.id});const i={id:t.id,email:"",role:"client",profile:{user_id:0,user_name:"User",user_email:"",user_role:"client",auth_user_id:t.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};return console.log("[authService] Returning minimal user object"),i}catch(t){return console.error("[authService] Error in getCurrentUser:",t),null}},async getFreshJwt(){const{data:{session:e},error:t}=await pe.auth.getSession();if(t)throw t;if(!(e!=null&&e.access_token))throw new Error("No access token available");return e.access_token},onAuthStateChange(e){console.log("[authService] Setting up auth state change listener");let t=null;const r=async(a,s)=>{var l;console.log("[authService] Auth state changed:",{event:a,hasSession:!!s,userId:(l=s==null?void 0:s.user)==null?void 0:l.id});const i=async c=>{const u=this.getCurrentUser(c),d=new Promise((f,h)=>setTimeout(()=>h(new Error("getCurrentUser timeout")),3e3));return Promise.race([u,d])};if(a==="SIGNED_IN"&&(s!=null&&s.user))try{console.log("[authService] Fetching user profile for SIGNED_IN event");const c=await i(s.user.id);if(console.log("[authService] User profile fetched:",{hasUser:!!c}),c){const u=c.profile.user_name==="User",d=t&&t.profile.user_name!=="User";u&&d?console.log("[authService] Skipping update to minimal user, keeping full user"):JSON.stringify(c)!==JSON.stringify(t)&&(t=c,e(c))}}catch(c){if(console.error("[authService] Error or timeout getting current user:",c),!t){const u={id:s.user.id,email:s.user.email||"",role:"client",profile:{user_id:0,user_name:"User",user_email:s.user.email||"",user_role:"client",auth_user_id:s.user.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};t=u,e(u)}}else if(a==="INITIAL_SESSION")if(s!=null&&s.user)try{console.log("[authService] Fetching user profile for INITIAL_SESSION event"),await new Promise(u=>setTimeout(u,100));const c=await i(s.user.id);if(console.log("[authService] User profile fetched:",{hasUser:!!c}),c){const u=c.profile.user_name==="User",d=t&&t.profile.user_name!=="User";u&&d?console.log("[authService] Skipping update to minimal user, keeping full user"):JSON.stringify(c)!==JSON.stringify(t)&&(t=c,e(c))}}catch(c){if(console.error("[authService] Error or timeout getting current user:",c),!t){const u={id:s.user.id,email:s.user.email||"",role:"client",profile:{user_id:0,user_name:"User",user_email:s.user.email||"",user_role:"client",auth_user_id:s.user.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};t=u,e(u)}}else console.log("[authService] No session on initial check"),t=null,e(null);else a==="SIGNED_OUT"&&(console.log("[authService] User signed out"),t=null,e(null))},{data:{subscription:n}}=pe.auth.onAuthStateChange(r);return console.log("[authService] Auth state change listener set up"),{data:{subscription:n}}}},S9=y.createContext(void 0),Oie=({children:e})=>{const[t,r]=y.useState(null),[n,a]=y.useState(!0),[s,i]=y.useState(!1);y.useEffect(()=>{let x=!0,b=null,_=!1;const S=k=>{if(x){if(console.log("[AuthContext] Auth state changed:",{hasUser:!!k,isSigningUp:s}),s){console.log("[AuthContext] Skipping auth state change during signup");return}r(k),_||(_=!0,a(!1))}};console.log("[AuthContext] Initializing auth state...");try{const{data:{subscription:k}}=Hs.onAuthStateChange(S);b=k}catch(k){console.error("[AuthContext] Failed to set up auth state listener:",k),a(!1)}return()=>{console.log("[AuthContext] Cleaning up auth state change listener"),x=!1,b&&b.unsubscribe()}},[]);const l=async(x,b)=>{console.log("[AuthContext] Signing in..."),a(!0);try{const _=await Hs.signIn(x,b);return console.log("[AuthContext] Sign in successful:",_),r(_),a(!1),_}catch(_){throw console.error("[AuthContext] Sign in failed:",_),a(!1),r(null),_}},c=async(x="client")=>{console.log("[AuthContext] Starting Google sign-in with role:",x),a(!0);try{await Hs.signInWithGoogle(x)}catch(b){throw console.error("[AuthContext] Google sign-in failed:",b),a(!1),b}},u=async()=>{console.log("[AuthContext] Signing out...");try{r(null),await Hs.signOut(),console.log("[AuthContext] Sign out successful")}catch(x){throw console.error("[AuthContext] Sign out failed:",x),r(null),x}},d=async(x,b,_)=>{console.log("[AuthContext] Signing up staff..."),a(!0),i(!0);try{const S=await Hs.signUpStaff(x,b,_);return console.log("[AuthContext] Staff sign up successful:",S),r(S),a(!1),S}catch(S){throw console.error("[AuthContext] Staff sign up failed:",S),a(!1),S}finally{i(!1)}},f=async(x,b,_)=>{console.log("[AuthContext] Creating staff user...");try{const S=await Hs.createStaffUser(x,b,_);return console.log("[AuthContext] Staff user creation successful:",S),S}catch(S){throw console.error("[AuthContext] Staff user creation failed:",S),S}},h=async x=>{console.log("[AuthContext] Deleting user...");try{await Hs.deleteUser(x),console.log("[AuthContext] User deletion successful")}catch(b){throw console.error("[AuthContext] User deletion failed:",b),b}},m=async(x,b)=>{console.log("[AuthContext] Updating user role...");try{await Hs.updateUserRole(x,b),console.log("[AuthContext] User role update successful")}catch(_){throw console.error("[AuthContext] User role update failed:",_),_}},g=async(x,b)=>{console.log("[AuthContext] Updating user details...");try{await Hs.updateUser(x,b),console.log("[AuthContext] User details update successful")}catch(_){throw console.error("[AuthContext] User details update failed:",_),_}},p=async(x,b,_)=>{console.log("[AuthContext] Signing up client..."),a(!0),i(!0);try{const S=await Hs.signUpClient(x,b,_);return console.log("[AuthContext] Client sign up successful:",S),r(S),a(!1),S}catch(S){throw console.error("[AuthContext] Client sign up failed:",S),a(!1),S}finally{i(!1)}},v=x=>t?x.includes(t.role):!1,w={user:t,loading:n,signIn:l,signInWithGoogle:c,signOut:u,signUpStaff:d,createStaffUser:f,deleteUser:h,updateUserRole:m,updateUser:g,signUpClient:p,isAuthenticated:!!t,isClient:(t==null?void 0:t.role)==="client",isStaff:t?["admin","manager","employee","team_leader"].includes(t.role):!1,hasRole:v};return o.jsx(S9.Provider,{value:w,children:e})},yr=()=>{const e=y.useContext(S9);return e===void 0?(console.warn("[useAuth] AuthProvider not found, using fallback context"),{user:null,loading:!1,signIn:async()=>{throw new Error("AuthProvider not available")},signInWithGoogle:async()=>{throw new Error("AuthProvider not available")},signOut:async()=>{throw new Error("AuthProvider not available")},signUpStaff:async()=>{throw new Error("AuthProvider not available")},createStaffUser:async()=>{throw new Error("AuthProvider not available")},deleteUser:async()=>{throw new Error("AuthProvider not available")},updateUserRole:async()=>{throw new Error("AuthProvider not available")},updateUser:async()=>{throw new Error("AuthProvider not available")},signUpClient:async()=>{throw new Error("AuthProvider not available")},isAuthenticated:!1,isClient:!1,isStaff:!1,hasRole:()=>!1}):e},j9=y.createContext(void 0),Pie=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],Die=({children:e})=>{const[t,r]=y.useState(Kr.language||"ar"),[n,a]=y.useState(Lr());y.useEffect(()=>{const l=c=>{r(c),a(Lr())};return Kr.on("languageChanged",l),()=>{Kr.off("languageChanged",l)}},[]);const i={currentLanguage:t,changeLanguage:async l=>{try{await Kr.changeLanguage(l),r(l),a(Lr())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:Pie};return o.jsx(j9.Provider,{value:i,children:e})},Vi=()=>{const e=y.useContext(j9);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},k9=y.createContext(void 0);function Rie({children:e}){const[t,r]=y.useState([]);return o.jsx(k9.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function g_(){const e=y.useContext(k9);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var h1=["light","dark"],_A="(prefers-color-scheme: dark)",Iie=typeof window>"u",SA=y.createContext(void 0),Mie={setTheme:e=>{},themes:[]},Fie=()=>{var e;return(e=y.useContext(SA))!=null?e:Mie},N9=e=>y.useContext(SA)?e.children:y.createElement($ie,{...e}),Lie=["light","dark"],$ie=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=Lie,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=y.useState(()=>wI(a,i)),[m,g]=y.useState(()=>wI(a)),p=c?Object.values(c):s,v=y.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=bI());let k=c?c[S]:S,j=t?Uie():null,E=document.documentElement;if(l==="class"?(E.classList.remove(...p),k&&E.classList.add(k)):k?E.setAttribute(l,k):E.removeAttribute(l),n){let N=h1.includes(i)?i:null,O=h1.includes(S)?S:N;E.style.colorScheme=O}j==null||j()},[]),w=y.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(a,S)}catch{}},[e]),x=y.useCallback(_=>{let S=bI(_);g(S),f==="system"&&r&&!e&&v("system")},[f,e]);y.useEffect(()=>{let _=window.matchMedia(_A);return _.addListener(x),x(_),()=>_.removeListener(x)},[x]),y.useEffect(()=>{let _=S=>{if(S.key!==a)return;let k=S.newValue||i;w(k)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[w]),y.useEffect(()=>{v(e??f)},[e,f]);let b=y.useMemo(()=>({theme:f,setTheme:w,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,w,e,m,r,s]);return y.createElement(SA.Provider,{value:b},y.createElement(Bie,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:i,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},Bie=y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?h1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let w=i?i[g]:g,x=p?g+"|| ''":`'${w}'`,b="";return a&&v&&!p&&h1.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?p||w?b+=`c.add(${x})`:b+="null":w&&(b+=`d[s](n,${x})`),b},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${_A}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),wI=(e,t)=>{if(Iie)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Uie=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},bI=e=>(e||(e=window.matchMedia(_A)),e.matches?"dark":"light");const Vie=()=>o.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),o.jsx("span",{className:"sr-only",children:"Loading..."})]}),Qn=({children:e,allowedRoles:t,requireAuth:r=!0})=>{const n=gc(),{user:a,loading:s,hasRole:i}=yr(),l=a&&a.role&&a.profile.user_name!=="User",c=y.useMemo(()=>t?i(t):!0,[t,i]);return y.useMemo(()=>({loading:s,user:a?{id:a.id,email:a.email,role:a.role}:null,hasRequiredRole:c}),[s,a,c]),console.log("[ProtectedRoute]",{path:n.pathname,loading:s,hasUser:!!a,isUserProfileLoaded:l,requireAuth:r,hasRequiredRole:c,userRole:a==null?void 0:a.role}),s||a&&!l?(console.log("[ProtectedRoute] Showing loading spinner - waiting for profile"),o.jsx(Vie,{})):r&&!a?(console.log("[ProtectedRoute] No user, redirecting to login"),o.jsx(Hd,{to:"/login",state:{from:n},replace:!0})):t&&!c?(console.log("[ProtectedRoute] User does not have required role"),o.jsx(Hd,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),o.jsx(o.Fragment,{children:e}))};function _I(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=_I(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():_I(e[a],null)}}}}function Wt(...e){return y.useCallback(rc(...e),e)}function Cu(e){const t=Wie(e),r=y.forwardRef((n,a)=>{const{children:s,...i}=n,l=y.Children.toArray(s),c=l.find(Hie);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var E9=Cu("Slot");function Wie(e){const t=y.forwardRef((r,n)=>{const{children:a,...s}=r;if(y.isValidElement(a)){const i=Gie(a),l=qie(s,a.props);return a.type!==y.Fragment&&(l.ref=n?rc(n,i):i),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var C9=Symbol("radix.slottable");function zie(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=C9,t}function Hie(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===C9}function qie(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Gie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function T9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=T9(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $t(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=T9(e))&&(n&&(n+=" "),n+=t);return n}const SI=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jI=$t,rx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return jI(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=SI(d)||SI(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...s,...l}[p]):{...s,...l}[p]===v})?[...u,f,h]:u},[]);return jI(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},jA="-",Kie=e=>{const t=Xie(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(jA);return l[0]===""&&l.length!==1&&l.shift(),A9(l,t)||Yie(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},A9=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?A9(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(jA);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},kI=/^\[(.+)\]$/,Yie=e=>{if(kI.test(e)){const t=kI.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Xie=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Qie(Object.entries(e.classGroups),r).forEach(([s,i])=>{UN(i,n,s,t)}),n},UN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:NI(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Jie(a)){UN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{UN(i,NI(t,s),r,n)})})},NI=(e,t)=>{let r=e;return t.split(jA).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Jie=e=>e.isThemeGetter,Qie=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[r,a]}):e,Zie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},O9="!",eoe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let w=l[v];if(u===0){if(w===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(w==="/"){f=v;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(O9),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},toe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},roe=e=>({cache:Zie(e.cacheSize),parseClassName:eoe(e),...Kie(e)}),noe=/\s+/,aoe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(noe);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=toe(d).join(":"),w=f?v+O9:v,x=w+p;if(s.includes(x))continue;s.push(x);const b=a(p,g);for(let _=0;_<b.length;++_){const S=b[_];s.push(w+S)}l=u+(l.length>0?" "+l:l)}return l};function soe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=P9(t))&&(n&&(n+=" "),n+=r);return n}const P9=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=P9(e[n]))&&(r&&(r+=" "),r+=t);return r};function ioe(e,...t){let r,n,a,s=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=roe(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=aoe(c,r);return a(c,d),d}return function(){return s(soe.apply(null,arguments))}}const Dr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},D9=/^\[(?:([a-z-]+):)?(.+)\]$/i,ooe=/^\d+\/\d+$/,loe=new Set(["px","full","screen"]),coe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uoe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,doe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,foe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hoe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nl=e=>qh(e)||loe.has(e)||ooe.test(e),Tc=e=>Sp(e,"length",boe),qh=e=>!!e&&!Number.isNaN(Number(e)),Zj=e=>Sp(e,"number",qh),l0=e=>!!e&&Number.isInteger(Number(e)),moe=e=>e.endsWith("%")&&qh(e.slice(0,-1)),Vt=e=>D9.test(e),Ac=e=>coe.test(e),poe=new Set(["length","size","percentage"]),goe=e=>Sp(e,poe,R9),voe=e=>Sp(e,"position",R9),xoe=new Set(["image","url"]),yoe=e=>Sp(e,xoe,Soe),woe=e=>Sp(e,"",_oe),c0=()=>!0,Sp=(e,t,r)=>{const n=D9.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},boe=e=>uoe.test(e)&&!doe.test(e),R9=()=>!1,_oe=e=>foe.test(e),Soe=e=>hoe.test(e),joe=()=>{const e=Dr("colors"),t=Dr("spacing"),r=Dr("blur"),n=Dr("brightness"),a=Dr("borderColor"),s=Dr("borderRadius"),i=Dr("borderSpacing"),l=Dr("borderWidth"),c=Dr("contrast"),u=Dr("grayscale"),d=Dr("hueRotate"),f=Dr("invert"),h=Dr("gap"),m=Dr("gradientColorStops"),g=Dr("gradientColorStopPositions"),p=Dr("inset"),v=Dr("margin"),w=Dr("opacity"),x=Dr("padding"),b=Dr("saturate"),_=Dr("scale"),S=Dr("sepia"),k=Dr("skew"),j=Dr("space"),E=Dr("translate"),N=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Vt,t],T=()=>[Vt,t],U=()=>["",Nl,Tc],z=()=>["auto",qh,Vt],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Vt],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[qh,Vt];return{cacheSize:500,separator:":",theme:{colors:[c0],spacing:[Nl,Tc],blur:["none","",Ac,Vt],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Ac,Vt],borderSpacing:T(),borderWidth:U(),contrast:Z(),grayscale:D(),hueRotate:Z(),invert:D(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[moe,Tc],inset:R(),margin:R(),opacity:Z(),padding:T(),saturate:Z(),scale:Z(),sepia:D(),skew:Z(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Vt]}],container:["container"],columns:[{columns:[Ac]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Vt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",l0,Vt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Vt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",l0,Vt]}],"grid-cols":[{"grid-cols":[c0]}],"col-start-end":[{col:["auto",{span:["full",l0,Vt]},Vt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[c0]}],"row-start-end":[{row:["auto",{span:[l0,Vt]},Vt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Vt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Vt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Vt,t]}],"min-w":[{"min-w":[Vt,t,"min","max","fit"]}],"max-w":[{"max-w":[Vt,t,"none","full","min","max","fit","prose",{screen:[Ac]},Ac]}],h:[{h:[Vt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Vt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Vt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Vt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ac,Tc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zj]}],"font-family":[{font:[c0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Vt]}],"line-clamp":[{"line-clamp":["none",qh,Zj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nl,Vt]}],"list-image":[{"list-image":["none",Vt]}],"list-style-type":[{list:["none","disc","decimal",Vt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nl,Tc]}],"underline-offset":[{"underline-offset":["auto",Nl,Vt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),voe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",goe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yoe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Nl,Vt]}],"outline-w":[{outline:[Nl,Tc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Nl,Tc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ac,woe]}],"shadow-color":[{shadow:[c0]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ac,Vt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Vt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Vt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Vt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[l0,Vt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Vt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nl,Tc,Zj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},koe=ioe(joe);function Se(...e){return koe($t(e))}const Em=rx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?E9:"button";return o.jsx(i,{className:Se(Em({variant:t,size:r,className:e})),ref:s,...a})});oe.displayName="Button";const ze=y.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ze.displayName="Input";var Noe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=Noe.reduce((e,t)=>{const r=Cu(`Primitive.${t}`),n=y.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function I9(e,t){e&&xp.flushSync(()=>e.dispatchEvent(t))}var Eoe="Label",M9=y.forwardRef((e,t)=>o.jsx(lt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));M9.displayName=Eoe;var F9=M9;const Coe=rx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=y.forwardRef(({className:e,...t},r)=>o.jsx(F9,{ref:r,className:Se(Coe(),e),...t}));Ge.displayName=F9.displayName;const Toe=rx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),of=y.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:Se(Toe({variant:t}),e),...r}));of.displayName="Alert";const Aoe=y.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:Se("mb-1 font-medium leading-none tracking-tight",e),...t}));Aoe.displayName="AlertTitle";const lf=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Se("text-sm [&_p]:leading-relaxed",e),...t}));lf.displayName="AlertDescription";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L9=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Poe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>y.createElement("svg",{ref:c,...Poe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:L9("lucide",a),...l},[...i.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const r=y.forwardRef(({className:n,...a},s)=>y.createElement(Doe,{ref:s,iconNode:t,className:L9(`lucide-${Ooe(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=Qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=Qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=Qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=Qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=Qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=Qe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=Qe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=Qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=Qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=Qe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Qe("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=Qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Qe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Qe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=Qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=Qe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Qe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=Qe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=Qe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Qe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=Qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=Qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Qe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Qe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=Qe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=Qe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=Qe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=Qe("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=Qe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),dle=()=>{const{t:e}=zt(),[t,r]=y.useState(""),[n,a]=y.useState(""),[s,i]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(!1);y.useState(!1);const{signIn:f,signInWithGoogle:h}=yr(),m=Bs(),g=async p=>{p.preventDefault(),c(""),d(!0);try{const v=await f(t,n);v&&(console.log("[LoginForm] Sign in successful, user role:",v.role),v.role==="client"?m("/client-portal"):window.location.href="/#/dashboard")}catch(v){console.error("[LoginForm] Sign in error:",v),c(v.message||e("auth.failedToSignIn")),d(!1)}};return o.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6 px-4 sm:px-0",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("auth.signIn")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("auth.enterCredentials")})]}),o.jsxs("form",{onSubmit:g,className:"space-y-5",children:[l&&o.jsx(of,{variant:"destructive",children:o.jsx(lf,{className:"text-sm",children:l})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"email",className:"text-sm font-medium",children:e("auth.email")}),o.jsx(ze,{id:"email",type:"email",value:t,onChange:p=>r(p.target.value),placeholder:"you@middar.com",required:!0,className:"h-11 text-base"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"password",className:"text-sm font-medium",children:e("auth.password")}),o.jsxs("div",{className:"relative",children:[o.jsx(ze,{id:"password",type:s?"text":"password",value:n,onChange:p=>a(p.target.value),placeholder:"",required:!0,className:"h-11 text-base pe-10"}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",className:"absolute end-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!s),"aria-label":s?"Hide password":"Show password",children:s?o.jsx(qoe,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(si,{className:"h-4 w-4 text-muted-foreground"})})]})]}),o.jsx(oe,{type:"submit",className:"w-full h-11 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200",disabled:u,children:u?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-current"}),e("auth.signingIn")]}):e("auth.signInButton")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:e("auth.dontHaveAccount")}),o.jsx(oe,{variant:"link",className:"p-0 h-auto text-sm font-medium hover:text-primary transition-colors",onClick:()=>m("/signup"),children:e("auth.signUp")})]})]})},fle=()=>{const[e,t]=y.useState(!1);yr();const r=Bs(),{t:n}=zt();return o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),o.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),o.jsx(oe,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})};function hle(e,t){const r=y.createContext(t),n=s=>{const{children:i,...l}=s,c=y.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=y.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function hs(e,t=[]){let r=[];function n(s,i){const l=y.createContext(i),c=r.length;r=[...r,i];const u=f=>{var w;const{scope:h,children:m,...g}=f,p=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,v=y.useMemo(()=>g,Object.values(g));return o.jsx(p.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>y.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,mle(a,...t)]}function mle(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Gn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var En=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function ple(){return cU.useSyncExternalStore(gle,()=>!0,()=>!1)}function gle(){return()=>{}}var NA="Avatar",[vle,FYe]=hs(NA),[xle,q9]=vle(NA),G9=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=y.useState("idle");return o.jsx(xle,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:o.jsx(lt.span,{...n,ref:t})})});G9.displayName=NA;var K9="AvatarImage",Y9=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,i=q9(K9,r),l=yle(n,s),c=Gn(u=>{a(u),i.onImageLoadingStatusChange(u)});return En(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(lt.img,{...s,ref:t,src:n}):null});Y9.displayName=K9;var X9="AvatarFallback",J9=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=q9(X9,r),[i,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&s.imageLoadingStatus!=="loaded"?o.jsx(lt.span,{...a,ref:t}):null});J9.displayName=X9;function DI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yle(e,{referrerPolicy:t,crossOrigin:r}){const n=ple(),a=y.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=y.useState(()=>DI(s,e));return En(()=>{l(DI(s,e))},[s,e]),En(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),i}var Q9=G9,Z9=Y9,e7=J9;const ia=y.forwardRef(({className:e,...t},r)=>o.jsx(Q9,{ref:r,className:Se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ia.displayName=Q9.displayName;const ts=y.forwardRef(({className:e,...t},r)=>o.jsx(Z9,{ref:r,className:Se("aspect-square h-full w-full",e),...t}));ts.displayName=Z9.displayName;const oa=y.forwardRef(({className:e,...t},r)=>o.jsx(e7,{ref:r,className:Se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));oa.displayName=e7.displayName;const wle=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Xoe},{labelKey:"navigation.clientPortal",path:"/client-portal",roles:["client"],icon:Koe},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:bs}]},{label:"sales",items:[{labelKey:"navigation.leads",path:"/leads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Pa},{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:cn},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:qd},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:cn}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ng},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:ch},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:bs}]},{label:"communication",items:[{labelKey:"WhatsApp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Tu},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Tu},{labelKey:"navigation.allChats",path:"/all-chats",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:yd},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:z9}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:ile},{labelKey:"navigation.settings",path:"/settings",roles:["admin"],icon:W9}]}];function RI({onNavigate:e}={}){var a,s,i,l;const t=gc(),{user:r}=yr(),{t:n}=zt();return o.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[o.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary to-primary/80 shadow-lg flex items-center justify-center ring-2 ring-primary/20",children:o.jsx(cn,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-sidebar-foreground tracking-tight",children:n("landing.brandName")}),o.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"CRM System"})]})]})}),o.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:o.jsx("nav",{className:"space-y-6",children:wle.map(c=>{const u=c.items.filter(d=>r&&d.roles.includes(r.role));return u.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:n(`navigation.${c.label}Group`,c.label)}),o.jsx("div",{className:"space-y-1",children:u.map(d=>{const f=t.pathname===d.path,h=d.icon;return o.jsxs(EN,{to:d.path,onClick:e,className:Se("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",f?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[f&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),o.jsx(h,{className:Se("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",f?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),o.jsx("span",{className:"flex-1 relative z-10",children:n(d.labelKey)})]},d.path)})})]},c.label)})})}),o.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[o.jsxs(ia,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:[o.jsx(ts,{src:(a=r==null?void 0:r.profile)==null?void 0:a.avatar}),o.jsx(oa,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(s=r==null?void 0:r.email)==null?void 0:s.charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((i=r==null?void 0:r.profile)==null?void 0:i.user_name)||(r==null?void 0:r.email)}),o.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(l=r==null?void 0:r.role)==null?void 0:l.replace("_"," ")]})]}),o.jsx(x_,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function ble(){const e=gc(),{t}=zt(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ");return o.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[o.jsx(EN,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,i)=>{const l=`/${r.slice(0,i+1).join("/")}`,c=i===r.length-1,u=a(s);return o.jsxs("div",{className:"flex items-center",children:[o.jsx(x_,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?o.jsx("span",{className:"text-foreground font-medium",children:u}):o.jsx(EN,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function HN(e,[t,r]){return Math.min(r,Math.max(t,e))}function et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function EA(e){const t=e+"CollectionProvider",[r,n]=hs(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:w}=p,x=te.useRef(null),b=te.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:b,collectionRef:x,children:w})};i.displayName=t;const l=e+"CollectionSlot",c=Cu(l),u=te.forwardRef((p,v)=>{const{scope:w,children:x}=p,b=s(l,w),_=Wt(v,b.collectionRef);return o.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Cu(d),m=te.forwardRef((p,v)=>{const{scope:w,children:x,...b}=p,_=te.useRef(null),S=Wt(v,_),k=s(d,w);return te.useEffect(()=>(k.itemMap.set(_,{ref:_,...b}),()=>void k.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:S,children:x})});m.displayName=d;function g(p){const v=s(e+"CollectionConsumer",p);return te.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,j)=>b.indexOf(k.ref.current)-b.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},g,n]}var _le=y.createContext(void 0);function sx(e){const t=y.useContext(_le);return e||t||"ltr"}function Sle(e,t=globalThis==null?void 0:globalThis.document){const r=Gn(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var jle="DismissableLayer",qN="dismissableLayer.update",kle="dismissableLayer.pointerDownOutside",Nle="dismissableLayer.focusOutside",II,t7=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ix=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=y.useContext(t7),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),g=Wt(t,j=>f(j)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(v),x=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=w,S=Tle(j=>{const E=j.target,N=[...u.branches].some(O=>O.contains(E));!_||N||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),k=Ale(j=>{const E=j.target;[...u.branches].some(O=>O.contains(E))||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return Sle(j=>{x===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(II=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),MI(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=II)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),MI())},[d,u]),y.useEffect(()=>{const j=()=>m({});return document.addEventListener(qN,j),()=>document.removeEventListener(qN,j)},[]),o.jsx(lt.div,{...c,ref:g,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:et(e.onFocusCapture,k.onFocusCapture),onBlurCapture:et(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:et(e.onPointerDownCapture,S.onPointerDownCapture)})});ix.displayName=jle;var Ele="DismissableLayerBranch",Cle=y.forwardRef((e,t)=>{const r=y.useContext(t7),n=y.useRef(null),a=Wt(t,n);return y.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(lt.div,{...e,ref:a})});Cle.displayName=Ele;function Tle(e,t=globalThis==null?void 0:globalThis.document){const r=Gn(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){r7(kle,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Ale(e,t=globalThis==null?void 0:globalThis.document){const r=Gn(e),n=y.useRef(!1);return y.useEffect(()=>{const a=s=>{s.target&&!n.current&&r7(Nle,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function MI(){const e=new CustomEvent(qN);document.dispatchEvent(e)}function r7(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?I9(a,s):a.dispatchEvent(s)}var tk=0;function __(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??FI()),document.body.insertAdjacentElement("beforeend",e[1]??FI()),tk++,()=>{tk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tk--}},[])}function FI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rk="focusScope.autoFocusOnMount",nk="focusScope.autoFocusOnUnmount",LI={bubbles:!1,cancelable:!0},Ole="FocusScope",ox=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=y.useState(null),u=Gn(a),d=Gn(s),f=y.useRef(null),h=Wt(t,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let p=function(b){if(m.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Rc(f.current,{select:!0})},v=function(b){if(m.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Rc(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Rc(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const x=new MutationObserver(w);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){BI.add(m);const p=document.activeElement;if(!l.contains(p)){const w=new CustomEvent(rk,LI);l.addEventListener(rk,u),l.dispatchEvent(w),w.defaultPrevented||(Ple(Fle(n7(l)),{select:!0}),document.activeElement===p&&Rc(l))}return()=>{l.removeEventListener(rk,u),setTimeout(()=>{const w=new CustomEvent(nk,LI);l.addEventListener(nk,d),l.dispatchEvent(w),w.defaultPrevented||Rc(p??document.body,{select:!0}),l.removeEventListener(nk,d),BI.remove(m)},0)}}},[l,u,d,m]);const g=y.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,w=document.activeElement;if(v&&w){const x=p.currentTarget,[b,_]=Dle(x);b&&_?!p.shiftKey&&w===_?(p.preventDefault(),r&&Rc(b,{select:!0})):p.shiftKey&&w===b&&(p.preventDefault(),r&&Rc(_,{select:!0})):w===x&&p.preventDefault()}},[r,n,m.paused]);return o.jsx(lt.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});ox.displayName=Ole;function Ple(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Rc(n,{select:t}),document.activeElement!==r)return}function Dle(e){const t=n7(e),r=$I(t,e),n=$I(t.reverse(),e);return[r,n]}function n7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $I(e,t){for(const r of e)if(!Rle(r,{upTo:t}))return r}function Rle(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ile(e){return e instanceof HTMLInputElement&&"select"in e}function Rc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ile(e)&&t&&e.select()}}var BI=Mle();function Mle(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=UI(e,t),e.unshift(t)},remove(t){var r;e=UI(e,t),(r=e[0])==null||r.resume()}}}function UI(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Fle(e){return e.filter(t=>t.tagName!=="A")}var Lle=fT[" useId ".trim().toString()]||(()=>{}),$le=0;function ca(e){const[t,r]=y.useState(Lle());return En(()=>{r(n=>n??String($le++))},[e]),t?`radix-${t}`:""}const Ble=["top","right","bottom","left"],Au=Math.min,Xs=Math.max,p1=Math.round,Ey=Math.floor,ol=e=>({x:e,y:e}),Ule={left:"right",right:"left",bottom:"top",top:"bottom"},Vle={start:"end",end:"start"};function GN(e,t,r){return Xs(e,Au(t,r))}function nc(e,t){return typeof e=="function"?e(t):e}function ac(e){return e.split("-")[0]}function jp(e){return e.split("-")[1]}function CA(e){return e==="x"?"y":"x"}function TA(e){return e==="y"?"height":"width"}const Wle=new Set(["top","bottom"]);function tl(e){return Wle.has(ac(e))?"y":"x"}function AA(e){return CA(tl(e))}function zle(e,t,r){r===void 0&&(r=!1);const n=jp(e),a=AA(e),s=TA(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=g1(i)),[i,g1(i)]}function Hle(e){const t=g1(e);return[KN(e),t,KN(t)]}function KN(e){return e.replace(/start|end/g,t=>Vle[t])}const VI=["left","right"],WI=["right","left"],qle=["top","bottom"],Gle=["bottom","top"];function Kle(e,t,r){switch(e){case"top":case"bottom":return r?t?WI:VI:t?VI:WI;case"left":case"right":return t?qle:Gle;default:return[]}}function Yle(e,t,r,n){const a=jp(e);let s=Kle(ac(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(KN)))),s}function g1(e){return e.replace(/left|right|bottom|top/g,t=>Ule[t])}function Xle(e){return{top:0,right:0,bottom:0,left:0,...e}}function a7(e){return typeof e!="number"?Xle(e):{top:e,right:e,bottom:e,left:e}}function v1(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function zI(e,t,r){let{reference:n,floating:a}=e;const s=tl(t),i=AA(t),l=TA(i),c=ac(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(jp(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const Jle=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=zI(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:w}=l[p],{x,y:b,data:_,reset:S}=await w({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=x??d,f=b??f,m={...m,[v]:{...m[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=zI(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Yg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=nc(t,e),g=a7(m),v=l[h?f==="floating"?"reference":"floating":f],w=v1(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},S=v1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(w.top-S.top+g.top)/_.y,bottom:(S.bottom-w.bottom+g.bottom)/_.y,left:(w.left-S.left+g.left)/_.x,right:(S.right-w.right+g.right)/_.x}}const Qle=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=nc(e,t)||{};if(u==null)return{};const f=a7(d),h={x:r,y:n},m=AA(a),g=TA(m),p=await i.getDimensions(u),v=m==="y",w=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[m]-h[m]-s.floating[g],S=h[m]-s.reference[m],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=k?k[b]:0;(!j||!await(i.isElement==null?void 0:i.isElement(k)))&&(j=l.floating[b]||s.floating[g]);const E=_/2-S/2,N=j/2-p[g]/2-1,O=Au(f[w],N),R=Au(f[x],N),T=O,U=j-p[g]-R,z=j/2-p[g]/2+E,q=GN(T,z,U),I=!c.arrow&&jp(a)!=null&&z!==q&&s.reference[g]/2-(z<T?O:R)-p[g]/2<0,L=I?z<T?z-T:z-U:0;return{[m]:h[m]+L,data:{[m]:q,centerOffset:z-q-L,...I&&{alignmentOffset:L}},reset:I}}}),Zle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=nc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const w=ac(a),x=tl(l),b=ac(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!p?[g1(l)]:Hle(l)),k=g!=="none";!h&&k&&S.push(...Yle(l,p,g,_));const j=[l,...S],E=await Yg(t,v),N=[];let O=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&N.push(E[w]),f){const z=zle(a,i,_);N.push(E[z[0]],E[z[1]])}if(O=[...O,{placement:a,overflows:N}],!N.every(z=>z<=0)){var R,T;const z=(((R=s.flip)==null?void 0:R.index)||0)+1,q=j[z];if(q&&(!(f==="alignment"?x!==tl(q):!1)||O.every(M=>M.overflows[0]>0&&tl(M.placement)===x)))return{data:{index:z,overflows:O},reset:{placement:q}};let I=(T=O.filter(L=>L.overflows[0]<=0).sort((L,M)=>L.overflows[1]-M.overflows[1])[0])==null?void 0:T.placement;if(!I)switch(m){case"bestFit":{var U;const L=(U=O.filter(M=>{if(k){const D=tl(M.placement);return D===x||D==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(D=>D>0).reduce((D,K)=>D+K,0)]).sort((M,D)=>M[1]-D[1])[0])==null?void 0:U[0];L&&(I=L);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function HI(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qI(e){return Ble.some(t=>e[t]>=0)}const ece=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=nc(e,t);switch(n){case"referenceHidden":{const s=await Yg(t,{...a,elementContext:"reference"}),i=HI(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:qI(i)}}}case"escaped":{const s=await Yg(t,{...a,altBoundary:!0}),i=HI(s,r.floating);return{data:{escapedOffsets:i,escaped:qI(i)}}}default:return{}}}}},s7=new Set(["left","top"]);async function tce(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=ac(r),l=jp(r),c=tl(r)==="y",u=s7.has(i)?-1:1,d=s&&c?-1:1,f=nc(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const rce=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await tce(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},nce=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x:w,y:x}=v;return{x:w,y:x}}},...c}=nc(e,t),u={x:r,y:n},d=await Yg(t,c),f=tl(ac(a)),h=CA(f);let m=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",w=h==="y"?"bottom":"right",x=m+d[v],b=m-d[w];m=GN(x,m,b)}if(i){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=g+d[v],b=g-d[w];g=GN(x,g,b)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:i}}}}}},ace=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=nc(e,t),d={x:r,y:n},f=tl(a),h=CA(f);let m=d[h],g=d[f];const p=nc(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",_=s.reference[h]-s.floating[b]+v.mainAxis,S=s.reference[h]+s.reference[b]-v.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var w,x;const b=h==="y"?"width":"height",_=s7.has(ac(a)),S=s.reference[f]-s.floating[b]+(_&&((w=i.offset)==null?void 0:w[f])||0)+(_?0:v.crossAxis),k=s.reference[f]+s.reference[b]+(_?0:((x=i.offset)==null?void 0:x[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>k&&(g=k)}return{[h]:m,[f]:g}}}},sce=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=nc(e,t),d=await Yg(t,u),f=ac(a),h=jp(a),m=tl(a)==="y",{width:g,height:p}=s.floating;let v,w;f==="top"||f==="bottom"?(v=f,w=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,v=h==="end"?"top":"bottom");const x=p-d.top-d.bottom,b=g-d.left-d.right,_=Au(p-d[v],x),S=Au(g-d[w],b),k=!t.middlewareData.shift;let j=_,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=x),k&&!h){const O=Xs(d.left,0),R=Xs(d.right,0),T=Xs(d.top,0),U=Xs(d.bottom,0);m?E=g-2*(O!==0||R!==0?O+R:Xs(d.left,d.right)):j=p-2*(T!==0||U!==0?T+U:Xs(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:j});const N=await i.getDimensions(l.floating);return g!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function S_(){return typeof window<"u"}function kp(e){return i7(e)?(e.nodeName||"").toLowerCase():"#document"}function oi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wl(e){var t;return(t=(i7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function i7(e){return S_()?e instanceof Node||e instanceof oi(e).Node:!1}function Ao(e){return S_()?e instanceof Element||e instanceof oi(e).Element:!1}function hl(e){return S_()?e instanceof HTMLElement||e instanceof oi(e).HTMLElement:!1}function GI(e){return!S_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oi(e).ShadowRoot}const ice=new Set(["inline","contents"]);function lx(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Oo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ice.has(a)}const oce=new Set(["table","td","th"]);function lce(e){return oce.has(kp(e))}const cce=[":popover-open",":modal"];function j_(e){return cce.some(t=>{try{return e.matches(t)}catch{return!1}})}const uce=["transform","translate","scale","rotate","perspective"],dce=["transform","translate","scale","rotate","perspective","filter"],fce=["paint","layout","strict","content"];function OA(e){const t=PA(),r=Ao(e)?Oo(e):e;return uce.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||dce.some(n=>(r.willChange||"").includes(n))||fce.some(n=>(r.contain||"").includes(n))}function hce(e){let t=Ou(e);for(;hl(t)&&!Tm(t);){if(OA(t))return t;if(j_(t))return null;t=Ou(t)}return null}function PA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mce=new Set(["html","body","#document"]);function Tm(e){return mce.has(kp(e))}function Oo(e){return oi(e).getComputedStyle(e)}function k_(e){return Ao(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ou(e){if(kp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||GI(e)&&e.host||wl(e);return GI(t)?t.host:t}function o7(e){const t=Ou(e);return Tm(t)?e.ownerDocument?e.ownerDocument.body:e.body:hl(t)&&lx(t)?t:o7(t)}function Xg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=o7(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=oi(a);if(s){const l=YN(i);return t.concat(i,i.visualViewport||[],lx(a)?a:[],l&&r?Xg(l):[])}return t.concat(a,Xg(a,[],r))}function YN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function l7(e){const t=Oo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=hl(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=p1(r)!==s||p1(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function DA(e){return Ao(e)?e:e.contextElement}function Kh(e){const t=DA(e);if(!hl(t))return ol(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=l7(t);let i=(s?p1(r.width):r.width)/n,l=(s?p1(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const pce=ol(0);function c7(e){const t=oi(e);return!PA()||!t.visualViewport?pce:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gce(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==oi(e)?!1:t}function cf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=DA(e);let i=ol(1);t&&(n?Ao(n)&&(i=Kh(n)):i=Kh(e));const l=gce(s,r,n)?c7(s):ol(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=oi(s),m=n&&Ao(n)?oi(n):n;let g=h,p=YN(g);for(;p&&n&&m!==g;){const v=Kh(p),w=p.getBoundingClientRect(),x=Oo(p),b=w.left+(p.clientLeft+parseFloat(x.paddingLeft))*v.x,_=w.top+(p.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=_,g=oi(p),p=YN(g)}}return v1({width:d,height:f,x:c,y:u})}function RA(e,t){const r=k_(e).scrollLeft;return t?t.left+r:cf(wl(e)).left+r}function u7(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:RA(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function vce(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=wl(n),l=t?j_(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=ol(1);const d=ol(0),f=hl(n);if((f||!f&&!s)&&((kp(n)!=="body"||lx(i))&&(c=k_(n)),hl(n))){const m=cf(n);u=Kh(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=i&&!f&&!s?u7(i,c,!0):ol(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function xce(e){return Array.from(e.getClientRects())}function yce(e){const t=wl(e),r=k_(e),n=e.ownerDocument.body,a=Xs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Xs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+RA(e);const l=-r.scrollTop;return Oo(n).direction==="rtl"&&(i+=Xs(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}function wce(e,t){const r=oi(e),n=wl(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const u=PA();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:i,x:l,y:c}}const bce=new Set(["absolute","fixed"]);function _ce(e,t){const r=cf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=hl(e)?Kh(e):ol(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:l,x:c,y:u}}function KI(e,t,r){let n;if(t==="viewport")n=wce(e,r);else if(t==="document")n=yce(wl(e));else if(Ao(t))n=_ce(t,r);else{const a=c7(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return v1(n)}function d7(e,t){const r=Ou(e);return r===t||!Ao(r)||Tm(r)?!1:Oo(r).position==="fixed"||d7(r,t)}function Sce(e,t){const r=t.get(e);if(r)return r;let n=Xg(e,[],!1).filter(l=>Ao(l)&&kp(l)!=="body"),a=null;const s=Oo(e).position==="fixed";let i=s?Ou(e):e;for(;Ao(i)&&!Tm(i);){const l=Oo(i),c=OA(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&bce.has(a.position)||lx(i)&&!c&&d7(e,i))?n=n.filter(d=>d!==i):a=l,i=Ou(i)}return t.set(e,n),n}function jce(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?j_(t)?[]:Sce(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=KI(t,d,a);return u.top=Xs(f.top,u.top),u.right=Au(f.right,u.right),u.bottom=Au(f.bottom,u.bottom),u.left=Xs(f.left,u.left),u},KI(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kce(e){const{width:t,height:r}=l7(e);return{width:t,height:r}}function Nce(e,t,r){const n=hl(t),a=wl(t),s=r==="fixed",i=cf(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=ol(0);function u(){c.x=RA(a)}if(n||!n&&!s)if((kp(t)!=="body"||lx(a))&&(l=k_(t)),n){const m=cf(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?u7(a,l):ol(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function ak(e){return Oo(e).position==="static"}function YI(e,t){if(!hl(e)||Oo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return wl(e)===r&&(r=r.ownerDocument.body),r}function f7(e,t){const r=oi(e);if(j_(e))return r;if(!hl(e)){let a=Ou(e);for(;a&&!Tm(a);){if(Ao(a)&&!ak(a))return a;a=Ou(a)}return r}let n=YI(e,t);for(;n&&lce(n)&&ak(n);)n=YI(n,t);return n&&Tm(n)&&ak(n)&&!OA(n)?r:n||hce(e)||r}const Ece=async function(e){const t=this.getOffsetParent||f7,r=this.getDimensions,n=await r(e.floating);return{reference:Nce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Cce(e){return Oo(e).direction==="rtl"}const Tce={convertOffsetParentRelativeRectToViewportRelativeRect:vce,getDocumentElement:wl,getClippingRect:jce,getOffsetParent:f7,getElementRects:Ece,getClientRects:xce,getDimensions:kce,getScale:Kh,isElement:Ao,isRTL:Cce};function h7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ace(e,t){let r=null,n;const a=wl(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=Ey(f),p=Ey(a.clientWidth-(d+h)),v=Ey(a.clientHeight-(f+m)),w=Ey(d),b={rootMargin:-g+"px "+-p+"px "+-v+"px "+-w+"px",threshold:Xs(0,Au(1,c))||1};let _=!0;function S(k){const j=k[0].intersectionRatio;if(j!==c){if(!_)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!h7(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return i(!0),s}function Oce(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=DA(e),d=a||s?[...u?Xg(u):[],...Xg(t)]:[];d.forEach(w=>{a&&w.addEventListener("scroll",r,{passive:!0}),s&&w.addEventListener("resize",r)});const f=u&&l?Ace(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(w=>{let[x]=w;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?cf(e):null;c&&v();function v(){const w=cf(e);p&&!h7(p,w)&&r(),p=w,g=requestAnimationFrame(v)}return r(),()=>{var w;d.forEach(x=>{a&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Pce=rce,Dce=nce,Rce=Zle,Ice=sce,Mce=ece,XI=Qle,Fce=ace,Lce=(e,t,r)=>{const n=new Map,a={platform:Tce,...r},s={...a.platform,_c:n};return Jle(e,t,{...a,platform:s})};var $ce=typeof document<"u",Bce=function(){},ww=$ce?y.useLayoutEffect:Bce;function x1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!x1(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!x1(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function m7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function JI(e,t){const r=m7(e);return Math.round(t*r)/r}function sk(e){const t=y.useRef(e);return ww(()=>{t.current=e}),t}function Uce(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);x1(h,n)||m(n);const[g,p]=y.useState(null),[v,w]=y.useState(null),x=y.useCallback(M=>{M!==k.current&&(k.current=M,p(M))},[]),b=y.useCallback(M=>{M!==j.current&&(j.current=M,w(M))},[]),_=s||g,S=i||v,k=y.useRef(null),j=y.useRef(null),E=y.useRef(d),N=c!=null,O=sk(c),R=sk(a),T=sk(u),U=y.useCallback(()=>{if(!k.current||!j.current)return;const M={placement:t,strategy:r,middleware:h};R.current&&(M.platform=R.current),Lce(k.current,j.current,M).then(D=>{const K={...D,isPositioned:T.current!==!1};z.current&&!x1(E.current,K)&&(E.current=K,xp.flushSync(()=>{f(K)}))})},[h,t,r,R,T]);ww(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const z=y.useRef(!1);ww(()=>(z.current=!0,()=>{z.current=!1}),[]),ww(()=>{if(_&&(k.current=_),S&&(j.current=S),_&&S){if(O.current)return O.current(_,S,U);U()}},[_,S,U,O,N]);const q=y.useMemo(()=>({reference:k,floating:j,setReference:x,setFloating:b}),[x,b]),I=y.useMemo(()=>({reference:_,floating:S}),[_,S]),L=y.useMemo(()=>{const M={position:r,left:0,top:0};if(!I.floating)return M;const D=JI(I.floating,d.x),K=JI(I.floating,d.y);return l?{...M,transform:"translate("+D+"px, "+K+"px)",...m7(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:K}},[r,l,I.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:U,refs:q,elements:I,floatingStyles:L}),[d,U,q,I,L])}const Vce=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?XI({element:n.current,padding:a}).fn(r):{}:n?XI({element:n,padding:a}).fn(r):{}}}},Wce=(e,t)=>({...Pce(e),options:[e,t]}),zce=(e,t)=>({...Dce(e),options:[e,t]}),Hce=(e,t)=>({...Fce(e),options:[e,t]}),qce=(e,t)=>({...Rce(e),options:[e,t]}),Gce=(e,t)=>({...Ice(e),options:[e,t]}),Kce=(e,t)=>({...Mce(e),options:[e,t]}),Yce=(e,t)=>({...Vce(e),options:[e,t]});var Xce="Arrow",p7=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(lt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});p7.displayName=Xce;var Jce=p7;function IA(e){const[t,r]=y.useState(void 0);return En(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var MA="Popper",[g7,Np]=hs(MA),[Qce,v7]=g7(MA),x7=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return o.jsx(Qce,{scope:t,anchor:n,onAnchorChange:a,children:r})};x7.displayName=MA;var y7="PopperAnchor",w7=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=v7(y7,r),i=y.useRef(null),l=Wt(t,i);return y.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(lt.div,{...a,ref:l})});w7.displayName=y7;var FA="PopperContent",[Zce,eue]=g7(FA),b7=y.forwardRef((e,t)=>{var se,ce,ae,J,me,A;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=v7(FA,r),[w,x]=y.useState(null),b=Wt(t,Le=>x(Le)),[_,S]=y.useState(null),k=IA(_),j=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,N=n+(s!=="center"?"-"+s:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],T=R.length>0,U={padding:O,boundary:R.filter(rue),altBoundary:T},{refs:z,floatingStyles:q,placement:I,isPositioned:L,middlewareData:M}=Uce({strategy:"fixed",placement:N,whileElementsMounted:(...Le)=>Oce(...Le,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Wce({mainAxis:a+E,alignmentAxis:i}),c&&zce({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Hce():void 0,...U}),c&&qce({...U}),Gce({...U,apply:({elements:Le,rects:Ie,availableWidth:Ve,availableHeight:We})=>{const{width:Pe,height:ft}=Ie.reference,_t=Le.floating.style;_t.setProperty("--radix-popper-available-width",`${Ve}px`),_t.setProperty("--radix-popper-available-height",`${We}px`),_t.setProperty("--radix-popper-anchor-width",`${Pe}px`),_t.setProperty("--radix-popper-anchor-height",`${ft}px`)}}),_&&Yce({element:_,padding:l}),nue({arrowWidth:j,arrowHeight:E}),h&&Kce({strategy:"referenceHidden",...U})]}),[D,K]=j7(I),Z=Gn(g);En(()=>{L&&(Z==null||Z())},[L,Z]);const C=(se=M.arrow)==null?void 0:se.x,Y=(ce=M.arrow)==null?void 0:ce.y,B=((ae=M.arrow)==null?void 0:ae.centerOffset)!==0,[G,re]=y.useState();return En(()=>{w&&re(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:L?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(J=M.transformOrigin)==null?void 0:J.x,(me=M.transformOrigin)==null?void 0:me.y].join(" "),...((A=M.hide)==null?void 0:A.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Zce,{scope:r,placedSide:D,onArrowChange:S,arrowX:C,arrowY:Y,shouldHideArrow:B,children:o.jsx(lt.div,{"data-side":D,"data-align":K,...p,ref:b,style:{...p.style,animation:L?void 0:"none"}})})})});b7.displayName=FA;var _7="PopperArrow",tue={top:"bottom",right:"left",bottom:"top",left:"right"},S7=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=eue(_7,n),i=tue[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(Jce,{...a,ref:r,style:{...a.style,display:"block"}})})});S7.displayName=_7;function rue(e){return e!==null}var nue=e=>({name:"transformOrigin",options:e,fn(t){var v,w,x;const{placement:r,rects:n,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=j7(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=a.arrow)==null?void 0:w.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=i?f:`${h}px`,p=`${-c}px`):u==="top"?(g=i?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=i?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=i?f:`${m}px`),{data:{x:g,y:p}}}});function j7(e){const[t,r="center"]=e.split("-");return[t,r]}var LA=x7,N_=w7,$A=b7,BA=S7,aue="Portal",cx=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=y.useState(!1);En(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Mee.createPortal(o.jsx(lt.div,{...n,ref:t}),i):null});cx.displayName=aue;var sue=fT[" useInsertionEffect ".trim().toString()]||En;function sc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=iue({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=oue(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[l,e,s,i]);return[c,u]}function iue({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),s=y.useRef(t);return sue(()=>{s.current=t},[t]),y.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function oue(e){return typeof e=="function"}function UA(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var k7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lue="VisuallyHidden",cue=y.forwardRef((e,t)=>o.jsx(lt.span,{...e,ref:t,style:{...k7,...e.style}}));cue.displayName=lue;var uue=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xf=new WeakMap,Cy=new WeakMap,Ty={},ik=0,N7=function(e){return e&&(e.host||N7(e.parentNode))},due=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=N7(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},fue=function(e,t,r,n){var a=due(t,Array.isArray(e)?e:[e]);Ty[r]||(Ty[r]=new WeakMap);var s=Ty[r],i=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Xf.get(h)||0)+1,v=(s.get(h)||0)+1;Xf.set(h,p),s.set(h,v),i.push(h),p===1&&g&&Cy.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),l.clear(),ik++,function(){i.forEach(function(f){var h=Xf.get(f)-1,m=s.get(f)-1;Xf.set(f,h),s.set(f,m),h||(Cy.has(f)||f.removeAttribute(n),Cy.delete(f)),m||f.removeAttribute(r)}),ik--,ik||(Xf=new WeakMap,Xf=new WeakMap,Cy=new WeakMap,Ty={})}},E_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=uue(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),fue(n,a,r,"aria-hidden")):function(){return null}},bw="right-scroll-bar-position",_w="width-before-scroll-bar",hue="with-scroll-bars-hidden",mue="--removed-body-scroll-bar-size";function ok(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pue(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var gue=typeof window<"u"?y.useLayoutEffect:y.useEffect,QI=new WeakMap;function vue(e,t){var r=pue(null,function(n){return e.forEach(function(a){return ok(a,n)})});return gue(function(){var n=QI.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||ok(l,null)}),s.forEach(function(l){a.has(l)||ok(l,i)})}QI.set(r,e)},[e]),r}function xue(e){return e}function yue(e,t){t===void 0&&(t=xue);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function wue(e){e===void 0&&(e={});var t=yue(null);return t.options=Ai({async:!0,ssr:!1},e),t}var E7=function(e){var t=e.sideCar,r=Hu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Ai({},r))};E7.isSideCarExport=!0;function bue(e,t){return e.useMedium(t),E7}var C7=wue(),lk=function(){},C_=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:lk,onWheelCapture:lk,onTouchMoveCapture:lk}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,w=e.as,x=w===void 0?"div":w,b=e.gapMode,_=Hu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=vue([r,t]),j=Ai(Ai({},_),a);return y.createElement(y.Fragment,null,d&&y.createElement(S,{sideCar:C7,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:b}),i?y.cloneElement(y.Children.only(l),Ai(Ai({},j),{ref:k})):y.createElement(x,Ai({},j,{className:c,ref:k}),l))});C_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};C_.classNames={fullWidth:_w,zeroRight:bw};var _ue=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sue(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_ue();return t&&e.setAttribute("nonce",t),e}function jue(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kue(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Nue=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Sue())&&(jue(t,r),kue(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Eue=function(){var e=Nue();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},T7=function(){var e=Eue(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Cue={left:0,top:0,right:0,gap:0},ck=function(e){return parseInt(e||"",10)||0},Tue=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ck(r),ck(n),ck(a)]},Aue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Cue;var t=Tue(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Oue=T7(),Yh="data-scroll-locked",Pue=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(hue,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Yh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bw,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_w,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(bw," .").concat(bw,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(_w," .").concat(_w,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Yh,`] {
    `).concat(mue,": ").concat(l,`px;
  }
`)},ZI=function(){var e=parseInt(document.body.getAttribute(Yh)||"0",10);return isFinite(e)?e:0},Due=function(){y.useEffect(function(){return document.body.setAttribute(Yh,(ZI()+1).toString()),function(){var e=ZI()-1;e<=0?document.body.removeAttribute(Yh):document.body.setAttribute(Yh,e.toString())}},[])},Rue=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Due();var s=y.useMemo(function(){return Aue(a)},[a]);return y.createElement(Oue,{styles:Pue(s,!t,a,r?"":"!important")})},XN=!1;if(typeof window<"u")try{var Ay=Object.defineProperty({},"passive",{get:function(){return XN=!0,!0}});window.addEventListener("test",Ay,Ay),window.removeEventListener("test",Ay,Ay)}catch{XN=!1}var Jf=XN?{passive:!1}:!1,Iue=function(e){return e.tagName==="TEXTAREA"},A7=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Iue(e)&&r[t]==="visible")},Mue=function(e){return A7(e,"overflowY")},Fue=function(e){return A7(e,"overflowX")},eM=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=O7(e,n);if(a){var s=P7(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Lue=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$ue=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},O7=function(e,t){return e==="v"?Mue(t):Fue(t)},P7=function(e,t){return e==="v"?Lue(t):$ue(t)},Bue=function(e,t){return e==="h"&&t==="rtl"?-1:1},Uue=function(e,t,r,n,a){var s=Bue(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var m=P7(e,l),g=m[0],p=m[1],v=m[2],w=p-v-s*g;(g||w)&&O7(e,l)&&(f+=w,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Oy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tM=function(e){return[e.deltaX,e.deltaY]},rM=function(e){return e&&"current"in e?e.current:e},Vue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Wue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zue=0,Qf=[];function Hue(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(zue++)[0],s=y.useState(T7)[0],i=y.useRef(e);y.useEffect(function(){i.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=hA([e.lockRef.current],(e.shards||[]).map(rM),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var w=Oy(p),x=r.current,b="deltaX"in p?p.deltaX:x[0]-w[0],_="deltaY"in p?p.deltaY:x[1]-w[1],S,k=p.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&j==="h"&&k.type==="range")return!1;var E=eM(j,k);if(!E)return!0;if(E?S=j:(S=j==="v"?"h":"v",E=eM(j,k)),!E)return!1;if(!n.current&&"changedTouches"in p&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return Uue(N,v,p,N==="h"?b:_,!0)},[]),c=y.useCallback(function(p){var v=p;if(!(!Qf.length||Qf[Qf.length-1]!==s)){var w="deltaY"in v?tM(v):Oy(v),x=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Vue(S.delta,w)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(i.current.shards||[]).map(rM).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(p,v,w,x){var b={name:p,delta:v,target:w,should:x,shadowParent:que(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=y.useCallback(function(p){r.current=Oy(p),n.current=void 0},[]),f=y.useCallback(function(p){u(p.type,tM(p),p.target,l(p,e.lockRef.current))},[]),h=y.useCallback(function(p){u(p.type,Oy(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return Qf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Jf),document.addEventListener("touchmove",c,Jf),document.addEventListener("touchstart",d,Jf),function(){Qf=Qf.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,Jf),document.removeEventListener("touchmove",c,Jf),document.removeEventListener("touchstart",d,Jf)}},[]);var m=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(s,{styles:Wue(a)}):null,m?y.createElement(Rue,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function que(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Gue=bue(C7,Hue);var ux=y.forwardRef(function(e,t){return y.createElement(C_,Ai({},e,{ref:t,sideCar:Gue}))});ux.classNames=C_.classNames;var Kue=[" ","Enter","ArrowUp","ArrowDown"],Yue=[" ","Enter"],uf="Select",[T_,A_,Xue]=EA(uf),[Ep,LYe]=hs(uf,[Xue,Np]),O_=Np(),[Jue,Gu]=Ep(uf),[Que,Zue]=Ep(uf),D7=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=O_(t),[v,w]=y.useState(null),[x,b]=y.useState(null),[_,S]=y.useState(!1),k=sx(u),[j,E]=sc({prop:n,defaultProp:a??!1,onChange:s,caller:uf}),[N,O]=sc({prop:i,defaultProp:l,onChange:c,caller:uf}),R=y.useRef(null),T=v?g||!!v.closest("form"):!0,[U,z]=y.useState(new Set),q=Array.from(U).map(I=>I.props.value).join(";");return o.jsx(LA,{...p,children:o.jsxs(Jue,{required:m,scope:t,trigger:v,onTriggerChange:w,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:ca(),value:N,onValueChange:O,open:j,onOpenChange:E,dir:k,triggerPointerDownPosRef:R,disabled:h,children:[o.jsx(T_.Provider,{scope:t,children:o.jsx(Que,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(I=>{z(L=>new Set(L).add(I))},[]),onNativeOptionRemove:y.useCallback(I=>{z(L=>{const M=new Set(L);return M.delete(I),M})},[]),children:r})}),T?o.jsxs(nV,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:I=>O(I.target.value),disabled:h,form:g,children:[N===void 0?o.jsx("option",{value:""}):null,Array.from(U)]},q):null]})})};D7.displayName=uf;var R7="SelectTrigger",I7=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=O_(r),i=Gu(R7,r),l=i.disabled||n,c=Wt(t,i.onTriggerChange),u=A_(r),d=y.useRef("touch"),[f,h,m]=sV(p=>{const v=u().filter(b=>!b.disabled),w=v.find(b=>b.value===i.value),x=iV(v,p,w);x!==void 0&&i.onValueChange(x.value)}),g=p=>{l||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(N_,{asChild:!0,...s,children:o.jsx(lt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":aV(i.value)?"":void 0,...a,ref:c,onClick:et(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:et(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:et(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&Kue.includes(p.key)&&(g(),p.preventDefault())})})})});I7.displayName=R7;var M7="SelectValue",F7=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,c=Gu(M7,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Wt(t,c.onValueNodeChange);return En(()=>{u(d)},[u,d]),o.jsx(lt.span,{...l,ref:f,style:{pointerEvents:"none"},children:aV(c.value)?o.jsx(o.Fragment,{children:i}):s})});F7.displayName=M7;var ede="SelectIcon",L7=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(lt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});L7.displayName=ede;var tde="SelectPortal",$7=e=>o.jsx(cx,{asChild:!0,...e});$7.displayName=tde;var df="SelectContent",B7=y.forwardRef((e,t)=>{const r=Gu(df,e.__scopeSelect),[n,a]=y.useState();if(En(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?xp.createPortal(o.jsx(U7,{scope:e.__scopeSelect,children:o.jsx(T_.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(V7,{...e,ref:t})});B7.displayName=df;var to=10,[U7,Ku]=Ep(df),rde="SelectContentImpl",nde=Cu("SelectContent.RemoveScroll"),V7=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...w}=e,x=Gu(df,r),[b,_]=y.useState(null),[S,k]=y.useState(null),j=Wt(t,se=>_(se)),[E,N]=y.useState(null),[O,R]=y.useState(null),T=A_(r),[U,z]=y.useState(!1),q=y.useRef(!1);y.useEffect(()=>{if(b)return E_(b)},[b]),__();const I=y.useCallback(se=>{const[ce,...ae]=T().map(A=>A.ref.current),[J]=ae.slice(-1),me=document.activeElement;for(const A of se)if(A===me||(A==null||A.scrollIntoView({block:"nearest"}),A===ce&&S&&(S.scrollTop=0),A===J&&S&&(S.scrollTop=S.scrollHeight),A==null||A.focus(),document.activeElement!==me))return},[T,S]),L=y.useCallback(()=>I([E,b]),[I,E,b]);y.useEffect(()=>{U&&L()},[U,L]);const{onOpenChange:M,triggerPointerDownPosRef:D}=x;y.useEffect(()=>{if(b){let se={x:0,y:0};const ce=J=>{var me,A;se={x:Math.abs(Math.round(J.pageX)-(((me=D.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(J.pageY)-(((A=D.current)==null?void 0:A.y)??0))}},ae=J=>{se.x<=10&&se.y<=10?J.preventDefault():b.contains(J.target)||M(!1),document.removeEventListener("pointermove",ce),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ae,{capture:!0})}}},[b,M,D]),y.useEffect(()=>{const se=()=>M(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[M]);const[K,Z]=sV(se=>{const ce=T().filter(me=>!me.disabled),ae=ce.find(me=>me.ref.current===document.activeElement),J=iV(ce,se,ae);J&&setTimeout(()=>J.ref.current.focus())}),C=y.useCallback((se,ce,ae)=>{const J=!q.current&&!ae;(x.value!==void 0&&x.value===ce||J)&&(N(se),J&&(q.current=!0))},[x.value]),Y=y.useCallback(()=>b==null?void 0:b.focus(),[b]),B=y.useCallback((se,ce,ae)=>{const J=!q.current&&!ae;(x.value!==void 0&&x.value===ce||J)&&R(se)},[x.value]),G=n==="popper"?JN:W7,re=G===JN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return o.jsx(U7,{scope:r,content:b,viewport:S,onViewportChange:k,itemRefCallback:C,selectedItem:E,onItemLeave:Y,itemTextRefCallback:B,focusSelectedItem:L,selectedItemText:O,position:n,isPositioned:U,searchRef:K,children:o.jsx(ux,{as:nde,allowPinchZoom:!0,children:o.jsx(ox,{asChild:!0,trapped:x.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:et(a,se=>{var ce;(ce=x.trigger)==null||ce.focus({preventScroll:!0}),se.preventDefault()}),children:o.jsx(ix,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(G,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:se=>se.preventDefault(),...w,...re,onPlaced:()=>z(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:et(w.onKeyDown,se=>{const ce=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ce&&se.key.length===1&&Z(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let J=T().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(se.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const me=se.target,A=J.indexOf(me);J=J.slice(A+1)}setTimeout(()=>I(J)),se.preventDefault()}})})})})})})});V7.displayName=rde;var ade="SelectItemAlignedPosition",W7=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Gu(df,r),i=Ku(df,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=Wt(t,j=>d(j)),h=A_(r),m=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:w,focusSelectedItem:x}=i,b=y.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&v&&w){const j=s.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),O=w.getBoundingClientRect();if(s.dir!=="rtl"){const me=O.left-E.left,A=N.left-me,Le=j.left-A,Ie=j.width+Le,Ve=Math.max(Ie,E.width),We=window.innerWidth-to,Pe=HN(A,[to,Math.max(to,We-Ve)]);l.style.minWidth=Ie+"px",l.style.left=Pe+"px"}else{const me=E.right-O.right,A=window.innerWidth-N.right-me,Le=window.innerWidth-j.right-A,Ie=j.width+Le,Ve=Math.max(Ie,E.width),We=window.innerWidth-to,Pe=HN(A,[to,Math.max(to,We-Ve)]);l.style.minWidth=Ie+"px",l.style.right=Pe+"px"}const R=h(),T=window.innerHeight-to*2,U=p.scrollHeight,z=window.getComputedStyle(u),q=parseInt(z.borderTopWidth,10),I=parseInt(z.paddingTop,10),L=parseInt(z.borderBottomWidth,10),M=parseInt(z.paddingBottom,10),D=q+I+U+M+L,K=Math.min(v.offsetHeight*5,D),Z=window.getComputedStyle(p),C=parseInt(Z.paddingTop,10),Y=parseInt(Z.paddingBottom,10),B=j.top+j.height/2-to,G=T-B,re=v.offsetHeight/2,se=v.offsetTop+re,ce=q+I+se,ae=D-ce;if(ce<=B){const me=R.length>0&&v===R[R.length-1].ref.current;l.style.bottom="0px";const A=u.clientHeight-p.offsetTop-p.offsetHeight,Le=Math.max(G,re+(me?Y:0)+A+L),Ie=ce+Le;l.style.height=Ie+"px"}else{const me=R.length>0&&v===R[0].ref.current;l.style.top="0px";const Le=Math.max(B,q+p.offsetTop+(me?C:0)+re)+ae;l.style.height=Le+"px",p.scrollTop=ce-B+p.offsetTop}l.style.margin=`${to}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,v,w,s.dir,n]);En(()=>b(),[b]);const[_,S]=y.useState();En(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=y.useCallback(j=>{j&&g.current===!0&&(b(),x==null||x(),g.current=!1)},[b,x]);return o.jsx(ide,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(lt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});W7.displayName=ade;var sde="SelectPopperPosition",JN=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=to,...s}=e,i=O_(r);return o.jsx($A,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});JN.displayName=sde;var[ide,VA]=Ep(df,{}),QN="SelectViewport",z7=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Ku(QN,r),i=VA(QN,r),l=Wt(t,s.onViewportChange),c=y.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(T_.Slot,{scope:r,children:o.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:et(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-to*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),w=Math.max(p,v);if(w<g){const x=w+m,b=Math.min(g,x),_=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});z7.displayName=QN;var H7="SelectGroup",[ode,lde]=Ep(H7),cde=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ca();return o.jsx(ode,{scope:r,id:a,children:o.jsx(lt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});cde.displayName=H7;var q7="SelectLabel",G7=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=lde(q7,r);return o.jsx(lt.div,{id:a.id,...n,ref:t})});G7.displayName=q7;var y1="SelectItem",[ude,K7]=Ep(y1),Y7=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=Gu(y1,r),c=Ku(y1,r),u=l.value===n,[d,f]=y.useState(s??""),[h,m]=y.useState(!1),g=Wt(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),p=ca(),v=y.useRef("touch"),w=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(ude,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:y.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(T_.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(lt.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:et(i.onFocus,()=>m(!0)),onBlur:et(i.onBlur,()=>m(!1)),onClick:et(i.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:et(i.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:et(i.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:et(i.onPointerMove,x=>{var b;v.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(i.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:et(i.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(Yue.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});Y7.displayName=y1;var D0="SelectItemText",X7=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=Gu(D0,r),l=Ku(D0,r),c=K7(D0,r),u=Zue(D0,r),[d,f]=y.useState(null),h=Wt(t,w=>f(w),c.onItemTextChange,w=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,w,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=y.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return En(()=>(p(g),()=>v(g)),[p,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(lt.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?xp.createPortal(s.children,i.valueNode):null]})});X7.displayName=D0;var J7="SelectItemIndicator",Q7=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return K7(J7,r).isSelected?o.jsx(lt.span,{"aria-hidden":!0,...n,ref:t}):null});Q7.displayName=J7;var ZN="SelectScrollUpButton",Z7=y.forwardRef((e,t)=>{const r=Ku(ZN,e.__scopeSelect),n=VA(ZN,e.__scopeSelect),[a,s]=y.useState(!1),i=Wt(t,n.onScrollButtonChange);return En(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(tV,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Z7.displayName=ZN;var eE="SelectScrollDownButton",eV=y.forwardRef((e,t)=>{const r=Ku(eE,e.__scopeSelect),n=VA(eE,e.__scopeSelect),[a,s]=y.useState(!1),i=Wt(t,n.onScrollButtonChange);return En(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(tV,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eV.displayName=eE;var tV=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Ku("SelectScrollButton",r),i=y.useRef(null),l=A_(r),c=y.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),En(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(lt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:et(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:et(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:et(a.onPointerLeave,()=>{c()})})}),dde="SelectSeparator",rV=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(lt.div,{"aria-hidden":!0,...n,ref:t})});rV.displayName=dde;var tE="SelectArrow",fde=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=O_(r),s=Gu(tE,r),i=Ku(tE,r);return s.open&&i.position==="popper"?o.jsx(BA,{...a,...n,ref:t}):null});fde.displayName=tE;var hde="SelectBubbleInput",nV=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),s=Wt(n,a),i=UA(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(lt.select,{...r,style:{...k7,...r.style},ref:s,defaultValue:t})});nV.displayName=hde;function aV(e){return e===""||e===void 0}function sV(e){const t=Gn(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function iV(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=mde(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function mde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var pde=D7,oV=I7,gde=F7,vde=L7,xde=$7,lV=B7,yde=z7,cV=G7,uV=Y7,wde=X7,bde=Q7,dV=Z7,fV=eV,hV=rV;const xt=pde,yt=gde,gt=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(oV,{ref:n,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(vde,{asChild:!0,children:o.jsx(v_,{className:"h-4 w-4 opacity-50"})})]}));gt.displayName=oV.displayName;const mV=y.forwardRef(({className:e,...t},r)=>o.jsx(dV,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Uoe,{className:"h-4 w-4"})}));mV.displayName=dV.displayName;const pV=y.forwardRef(({className:e,...t},r)=>o.jsx(fV,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(v_,{className:"h-4 w-4"})}));pV.displayName=fV.displayName;const vt=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(xde,{children:o.jsxs(lV,{ref:a,className:Se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(mV,{}),o.jsx(yde,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(pV,{})]})}));vt.displayName=lV.displayName;const _de=y.forwardRef(({className:e,...t},r)=>o.jsx(cV,{ref:r,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_de.displayName=cV.displayName;const Ce=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(uV,{ref:n,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(bde,{children:o.jsx(kA,{className:"h-4 w-4"})})}),o.jsx(wde,{children:t})]}));Ce.displayName=uV.displayName;const Sde=y.forwardRef(({className:e,...t},r)=>o.jsx(hV,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));Sde.displayName=hV.displayName;const gV=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=Vi(),n=r.find(a=>a.code===e);return o.jsxs(xt,{value:e,onValueChange:t,children:[o.jsx(gt,{className:"w-[140px]",children:o.jsx(yt,{children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:n==null?void 0:n.name})})})}),o.jsx(vt,{children:r.map(a=>o.jsx(Ce,{value:a.code,children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:a.name})})},a.code))})]})};function jde(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Ba=e=>{const{present:t,children:r}=e,n=kde(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),s=Wt(n.ref,Nde(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:s}):null};Ba.displayName="Presence";function kde(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),s=y.useRef("none"),i=e?"mounted":"unmounted",[l,c]=jde(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Py(n.current);s.current=l==="mounted"?u:"none"},[l]),En(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=Py(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),En(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Py(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=Py(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Py(e){return(e==null?void 0:e.animationName)||"none"}function Nde(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var uk="rovingFocusGroup.onEntryFocus",Ede={bubbles:!1,cancelable:!0},dx="RovingFocusGroup",[rE,vV,Cde]=EA(dx),[Tde,P_]=hs(dx,[Cde]),[Ade,Ode]=Tde(dx),xV=y.forwardRef((e,t)=>o.jsx(rE.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(rE.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Pde,{...e,ref:t})})}));xV.displayName=dx;var Pde=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),m=Wt(t,h),g=sx(s),[p,v]=sc({prop:i,defaultProp:l??null,onChange:c,caller:dx}),[w,x]=y.useState(!1),b=Gn(u),_=vV(r),S=y.useRef(!1),[k,j]=y.useState(0);return y.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(uk,b),()=>E.removeEventListener(uk,b)},[b]),o.jsx(Ade,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:y.useCallback(E=>v(E),[v]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>j(E=>E+1),[]),onFocusableItemRemove:y.useCallback(()=>j(E=>E-1),[]),children:o.jsx(lt.div,{tabIndex:w||k===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:et(e.onMouseDown,()=>{S.current=!0}),onFocus:et(e.onFocus,E=>{const N=!S.current;if(E.target===E.currentTarget&&N&&!w){const O=new CustomEvent(uk,Ede);if(E.currentTarget.dispatchEvent(O),!O.defaultPrevented){const R=_().filter(I=>I.focusable),T=R.find(I=>I.active),U=R.find(I=>I.id===p),q=[T,U,...R].filter(Boolean).map(I=>I.ref.current);bV(q,d)}}S.current=!1}),onBlur:et(e.onBlur,()=>x(!1))})})}),yV="RovingFocusGroupItem",wV=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...l}=e,c=ca(),u=s||c,d=Ode(yV,r),f=d.currentTabStopId===u,h=vV(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return y.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),o.jsx(rE.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(lt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:et(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:et(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:et(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=Ide(v,d.orientation,d.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const _=b.indexOf(v.currentTarget);b=d.loop?Mde(b,_+1):b.slice(_+1)}setTimeout(()=>bV(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});wV.displayName=yV;var Dde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Rde(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ide(e,t,r){const n=Rde(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Dde[n]}function bV(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Mde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var _V=xV,SV=wV,nE=["Enter"," "],Fde=["ArrowDown","PageUp","Home"],jV=["ArrowUp","PageDown","End"],Lde=[...Fde,...jV],$de={ltr:[...nE,"ArrowRight"],rtl:[...nE,"ArrowLeft"]},Bde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fx="Menu",[Jg,Ude,Vde]=EA(fx),[Of,kV]=hs(fx,[Vde,Np,P_]),D_=Np(),NV=P_(),[Wde,Pf]=Of(fx),[zde,hx]=Of(fx),EV=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,l=D_(t),[c,u]=y.useState(null),d=y.useRef(!1),f=Gn(s),h=sx(a);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(LA,{...l,children:o.jsx(Wde,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(zde,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};EV.displayName=fx;var Hde="MenuAnchor",WA=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=D_(r);return o.jsx(N_,{...a,...n,ref:t})});WA.displayName=Hde;var zA="MenuPortal",[qde,CV]=Of(zA,{forceMount:void 0}),TV=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Pf(zA,t);return o.jsx(qde,{scope:t,forceMount:r,children:o.jsx(Ba,{present:r||s.open,children:o.jsx(cx,{asChild:!0,container:a,children:n})})})};TV.displayName=zA;var Mi="MenuContent",[Gde,HA]=Of(Mi),AV=y.forwardRef((e,t)=>{const r=CV(Mi,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Pf(Mi,e.__scopeMenu),i=hx(Mi,e.__scopeMenu);return o.jsx(Jg.Provider,{scope:e.__scopeMenu,children:o.jsx(Ba,{present:n||s.open,children:o.jsx(Jg.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(Kde,{...a,ref:t}):o.jsx(Yde,{...a,ref:t})})})})}),Kde=y.forwardRef((e,t)=>{const r=Pf(Mi,e.__scopeMenu),n=y.useRef(null),a=Wt(t,n);return y.useEffect(()=>{const s=n.current;if(s)return E_(s)},[]),o.jsx(qA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Yde=y.forwardRef((e,t)=>{const r=Pf(Mi,e.__scopeMenu);return o.jsx(qA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Xde=Cu("MenuContent.ScrollLock"),qA=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=Pf(Mi,r),w=hx(Mi,r),x=D_(r),b=NV(r),_=Ude(r),[S,k]=y.useState(null),j=y.useRef(null),E=Wt(t,j,v.onContentChange),N=y.useRef(0),O=y.useRef(""),R=y.useRef(0),T=y.useRef(null),U=y.useRef("right"),z=y.useRef(0),q=g?ux:y.Fragment,I=g?{as:Xde,allowPinchZoom:!0}:void 0,L=D=>{var se,ce;const K=O.current+D,Z=_().filter(ae=>!ae.disabled),C=document.activeElement,Y=(se=Z.find(ae=>ae.ref.current===C))==null?void 0:se.textValue,B=Z.map(ae=>ae.textValue),G=lfe(B,K,Y),re=(ce=Z.find(ae=>ae.textValue===G))==null?void 0:ce.ref.current;(function ae(J){O.current=J,window.clearTimeout(N.current),J!==""&&(N.current=window.setTimeout(()=>ae(""),1e3))})(K),re&&setTimeout(()=>re.focus())};y.useEffect(()=>()=>window.clearTimeout(N.current),[]),__();const M=y.useCallback(D=>{var Z,C;return U.current===((Z=T.current)==null?void 0:Z.side)&&ufe(D,(C=T.current)==null?void 0:C.area)},[]);return o.jsx(Gde,{scope:r,searchRef:O,onItemEnter:y.useCallback(D=>{M(D)&&D.preventDefault()},[M]),onItemLeave:y.useCallback(D=>{var K;M(D)||((K=j.current)==null||K.focus(),k(null))},[M]),onTriggerLeave:y.useCallback(D=>{M(D)&&D.preventDefault()},[M]),pointerGraceTimerRef:R,onPointerGraceIntentChange:y.useCallback(D=>{T.current=D},[]),children:o.jsx(q,{...I,children:o.jsx(ox,{asChild:!0,trapped:a,onMountAutoFocus:et(s,D=>{var K;D.preventDefault(),(K=j.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(ix,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(_V,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:et(c,D=>{w.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx($A,{role:"menu","aria-orientation":"vertical","data-state":qV(v.open),"data-radix-menu-content":"",dir:w.dir,...x,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:et(p.onKeyDown,D=>{const Z=D.target.closest("[data-radix-menu-content]")===D.currentTarget,C=D.ctrlKey||D.altKey||D.metaKey,Y=D.key.length===1;Z&&(D.key==="Tab"&&D.preventDefault(),!C&&Y&&L(D.key));const B=j.current;if(D.target!==B||!Lde.includes(D.key))return;D.preventDefault();const re=_().filter(se=>!se.disabled).map(se=>se.ref.current);jV.includes(D.key)&&re.reverse(),ife(re)}),onBlur:et(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(N.current),O.current="")}),onPointerMove:et(e.onPointerMove,Qg(D=>{const K=D.target,Z=z.current!==D.clientX;if(D.currentTarget.contains(K)&&Z){const C=D.clientX>z.current?"right":"left";U.current=C,z.current=D.clientX}}))})})})})})})});AV.displayName=Mi;var Jde="MenuGroup",GA=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(lt.div,{role:"group",...n,ref:t})});GA.displayName=Jde;var Qde="MenuLabel",OV=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(lt.div,{...n,ref:t})});OV.displayName=Qde;var w1="MenuItem",nM="menu.itemSelect",R_=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=y.useRef(null),i=hx(w1,e.__scopeMenu),l=HA(w1,e.__scopeMenu),c=Wt(t,s),u=y.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(nM,{bubbles:!0,cancelable:!0});f.addEventListener(nM,m=>n==null?void 0:n(m),{once:!0}),I9(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(PV,{...a,ref:c,disabled:r,onClick:et(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:et(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:et(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||nE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});R_.displayName=w1;var PV=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=HA(w1,r),l=NV(r),c=y.useRef(null),u=Wt(t,c),[d,f]=y.useState(!1),[h,m]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),o.jsx(Jg.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(SV,{asChild:!0,...l,focusable:!n,children:o.jsx(lt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:et(e.onPointerMove,Qg(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(e.onPointerLeave,Qg(g=>i.onItemLeave(g))),onFocus:et(e.onFocus,()=>f(!0)),onBlur:et(e.onBlur,()=>f(!1))})})})}),Zde="MenuCheckboxItem",DV=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(LV,{scope:e.__scopeMenu,checked:r,children:o.jsx(R_,{role:"menuitemcheckbox","aria-checked":b1(r)?"mixed":r,...a,ref:t,"data-state":YA(r),onSelect:et(a.onSelect,()=>n==null?void 0:n(b1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});DV.displayName=Zde;var RV="MenuRadioGroup",[efe,tfe]=Of(RV,{value:void 0,onValueChange:()=>{}}),IV=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Gn(n);return o.jsx(efe,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(GA,{...a,ref:t})})});IV.displayName=RV;var MV="MenuRadioItem",FV=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=tfe(MV,e.__scopeMenu),s=r===a.value;return o.jsx(LV,{scope:e.__scopeMenu,checked:s,children:o.jsx(R_,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":YA(s),onSelect:et(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});FV.displayName=MV;var KA="MenuItemIndicator",[LV,rfe]=Of(KA,{checked:!1}),$V=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=rfe(KA,r);return o.jsx(Ba,{present:n||b1(s.checked)||s.checked===!0,children:o.jsx(lt.span,{...a,ref:t,"data-state":YA(s.checked)})})});$V.displayName=KA;var nfe="MenuSeparator",BV=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(lt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});BV.displayName=nfe;var afe="MenuArrow",UV=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=D_(r);return o.jsx(BA,{...a,...n,ref:t})});UV.displayName=afe;var sfe="MenuSub",[$Ye,VV]=Of(sfe),R0="MenuSubTrigger",WV=y.forwardRef((e,t)=>{const r=Pf(R0,e.__scopeMenu),n=hx(R0,e.__scopeMenu),a=VV(R0,e.__scopeMenu),s=HA(R0,e.__scopeMenu),i=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(WA,{asChild:!0,...u,children:o.jsx(PV,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":qV(r.open),...e,ref:rc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,Qg(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:et(e.onPointerLeave,Qg(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",w=v?-5:5,x=h[v?"left":"right"],b=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||$de[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});WV.displayName=R0;var zV="MenuSubContent",HV=y.forwardRef((e,t)=>{const r=CV(Mi,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Pf(Mi,e.__scopeMenu),i=hx(Mi,e.__scopeMenu),l=VV(zV,e.__scopeMenu),c=y.useRef(null),u=Wt(t,c);return o.jsx(Jg.Provider,{scope:e.__scopeMenu,children:o.jsx(Ba,{present:n||s.open,children:o.jsx(Jg.Slot,{scope:e.__scopeMenu,children:o.jsx(qA,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:et(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:et(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Bde[i.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});HV.displayName=zV;function qV(e){return e?"open":"closed"}function b1(e){return e==="indeterminate"}function YA(e){return b1(e)?"indeterminate":e?"checked":"unchecked"}function ife(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function ofe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function lfe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=ofe(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function cfe(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function ufe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return cfe(r,t)}function Qg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var dfe=EV,ffe=WA,hfe=TV,mfe=AV,pfe=GA,gfe=OV,vfe=R_,xfe=DV,yfe=IV,wfe=FV,bfe=$V,_fe=BV,Sfe=UV,jfe=WV,kfe=HV,I_="DropdownMenu",[Nfe,BYe]=hs(I_,[kV]),ms=kV(),[Efe,GV]=Nfe(I_),KV=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=ms(t),u=y.useRef(null),[d,f]=sc({prop:a,defaultProp:s??!1,onChange:i,caller:I_});return o.jsx(Efe,{scope:t,triggerId:ca(),triggerRef:u,contentId:ca(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(dfe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};KV.displayName=I_;var YV="DropdownMenuTrigger",XV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=GV(YV,r),i=ms(r);return o.jsx(ffe,{asChild:!0,...i,children:o.jsx(lt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:rc(t,s.triggerRef),onPointerDown:et(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:et(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});XV.displayName=YV;var Cfe="DropdownMenuPortal",JV=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ms(t);return o.jsx(hfe,{...n,...r})};JV.displayName=Cfe;var QV="DropdownMenuContent",ZV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=GV(QV,r),s=ms(r),i=y.useRef(!1);return o.jsx(mfe,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:et(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:et(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZV.displayName=QV;var Tfe="DropdownMenuGroup",Afe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(pfe,{...a,...n,ref:t})});Afe.displayName=Tfe;var Ofe="DropdownMenuLabel",eW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(gfe,{...a,...n,ref:t})});eW.displayName=Ofe;var Pfe="DropdownMenuItem",tW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(vfe,{...a,...n,ref:t})});tW.displayName=Pfe;var Dfe="DropdownMenuCheckboxItem",rW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(xfe,{...a,...n,ref:t})});rW.displayName=Dfe;var Rfe="DropdownMenuRadioGroup",Ife=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(yfe,{...a,...n,ref:t})});Ife.displayName=Rfe;var Mfe="DropdownMenuRadioItem",nW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(wfe,{...a,...n,ref:t})});nW.displayName=Mfe;var Ffe="DropdownMenuItemIndicator",aW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(bfe,{...a,...n,ref:t})});aW.displayName=Ffe;var Lfe="DropdownMenuSeparator",sW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(_fe,{...a,...n,ref:t})});sW.displayName=Lfe;var $fe="DropdownMenuArrow",Bfe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(Sfe,{...a,...n,ref:t})});Bfe.displayName=$fe;var Ufe="DropdownMenuSubTrigger",iW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(jfe,{...a,...n,ref:t})});iW.displayName=Ufe;var Vfe="DropdownMenuSubContent",oW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ms(r);return o.jsx(kfe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oW.displayName=Vfe;var Wfe=KV,zfe=XV,Hfe=JV,lW=ZV,cW=eW,uW=tW,dW=rW,fW=nW,hW=aW,mW=sW,pW=iW,gW=oW;const XA=Wfe,JA=zfe,qfe=y.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(pW,{ref:a,className:Se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(x_,{className:"ml-auto h-4 w-4"})]}));qfe.displayName=pW.displayName;const Gfe=y.forwardRef(({className:e,...t},r)=>o.jsx(gW,{ref:r,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Gfe.displayName=gW.displayName;const M_=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Hfe,{children:o.jsx(lW,{ref:n,sideOffset:t,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));M_.displayName=lW.displayName;const Ll=y.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(uW,{ref:n,className:Se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Ll.displayName=uW.displayName;const Kfe=y.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(dW,{ref:a,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(hW,{children:o.jsx(kA,{className:"h-4 w-4"})})}),t]}));Kfe.displayName=dW.displayName;const Yfe=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(fW,{ref:n,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(hW,{children:o.jsx(Woe,{className:"h-2 w-2 fill-current"})})}),t]}));Yfe.displayName=fW.displayName;const Xfe=y.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(cW,{ref:n,className:Se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Xfe.displayName=cW.displayName;const aE=y.forwardRef(({className:e,...t},r)=>o.jsx(mW,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));aE.displayName=mW.displayName;var F_="Dialog",[vW,xW]=hs(F_),[Jfe,Io]=vW(F_),yW=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=sc({prop:n,defaultProp:a??!1,onChange:s,caller:F_});return o.jsx(Jfe,{scope:t,triggerRef:l,contentRef:c,contentId:ca(),titleId:ca(),descriptionId:ca(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};yW.displayName=F_;var wW="DialogTrigger",bW=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Io(wW,r),s=Wt(t,a.triggerRef);return o.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eO(a.open),...n,ref:s,onClick:et(e.onClick,a.onOpenToggle)})});bW.displayName=wW;var QA="DialogPortal",[Qfe,_W]=vW(QA,{forceMount:void 0}),SW=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Io(QA,t);return o.jsx(Qfe,{scope:t,forceMount:r,children:y.Children.map(n,i=>o.jsx(Ba,{present:r||s.open,children:o.jsx(cx,{asChild:!0,container:a,children:i})}))})};SW.displayName=QA;var _1="DialogOverlay",jW=y.forwardRef((e,t)=>{const r=_W(_1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Io(_1,e.__scopeDialog);return s.modal?o.jsx(Ba,{present:n||s.open,children:o.jsx(ehe,{...a,ref:t})}):null});jW.displayName=_1;var Zfe=Cu("DialogOverlay.RemoveScroll"),ehe=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Io(_1,r);return o.jsx(ux,{as:Zfe,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(lt.div,{"data-state":eO(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ff="DialogContent",kW=y.forwardRef((e,t)=>{const r=_W(ff,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Io(ff,e.__scopeDialog);return o.jsx(Ba,{present:n||s.open,children:s.modal?o.jsx(the,{...a,ref:t}):o.jsx(rhe,{...a,ref:t})})});kW.displayName=ff;var the=y.forwardRef((e,t)=>{const r=Io(ff,e.__scopeDialog),n=y.useRef(null),a=Wt(t,r.contentRef,n);return y.useEffect(()=>{const s=n.current;if(s)return E_(s)},[]),o.jsx(NW,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault())})}),rhe=y.forwardRef((e,t)=>{const r=Io(ff,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return o.jsx(NW,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),NW=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=Io(ff,r),c=y.useRef(null),u=Wt(t,c);return __(),o.jsxs(o.Fragment,{children:[o.jsx(ox,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(ix,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":eO(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(ahe,{titleId:l.titleId}),o.jsx(ihe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ZA="DialogTitle",EW=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Io(ZA,r);return o.jsx(lt.h2,{id:a.titleId,...n,ref:t})});EW.displayName=ZA;var CW="DialogDescription",TW=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Io(CW,r);return o.jsx(lt.p,{id:a.descriptionId,...n,ref:t})});TW.displayName=CW;var AW="DialogClose",OW=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Io(AW,r);return o.jsx(lt.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>a.onOpenChange(!1))})});OW.displayName=AW;function eO(e){return e?"open":"closed"}var PW="DialogTitleWarning",[nhe,DW]=hle(PW,{contentName:ff,titleName:ZA,docsSlug:"dialog"}),ahe=({titleId:e})=>{const t=DW(PW),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},she="DialogDescriptionWarning",ihe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DW(she).contentName}}.`;return y.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},L_=yW,tO=bW,$_=SW,Cp=jW,Tp=kW,mx=EW,px=TW,B_=OW;const jn=L_,Ah=tO,ohe=$_,RW=y.forwardRef(({className:e,...t},r)=>o.jsx(Cp,{ref:r,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));RW.displayName=Cp.displayName;const dn=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(ohe,{children:[o.jsx(RW,{}),o.jsxs(Tp,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,o.jsxs(B_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Ii,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dn.displayName=Tp.displayName;const fn=({className:e,...t})=>o.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fn.displayName="DialogHeader";const Fa=({className:e,...t})=>o.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fa.displayName="DialogFooter";const hn=y.forwardRef(({className:e,...t},r)=>o.jsx(mx,{ref:r,className:Se("text-lg font-semibold leading-none tracking-tight",e),...t}));hn.displayName=mx.displayName;const La=y.forwardRef(({className:e,...t},r)=>o.jsx(px,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));La.displayName=px.displayName;function lhe({onToggleSidebar:e}){var _,S,k;const{breadcrumbs:t}=g_(),{user:r,signOut:n}=yr(),{t:a}=zt(),s=Bs(),{setTheme:i}=Fie(),[l,c]=y.useState(!1),[u,d]=y.useState(""),[f,h]=y.useState(""),[m,g]=y.useState(""),[p,v]=y.useState(!1),w=async()=>{try{await n(),s("/login")}catch(j){console.error("Logout failed:",j),s("/login")}},x=()=>{c(!0)},b=async j=>{if(j.preventDefault(),!p){if(!u.trim()){g(a("settings.newPasswordRequired"));return}if(u.length<6){g(a("settings.passwordTooShort"));return}if(u!==f){g(a("settings.passwordsDoNotMatch"));return}g(""),v(!0);try{const{error:E}=await pe.auth.updateUser({password:u});if(E)throw E;c(!1),d(""),h(""),alert(a("settings.passwordChangedSuccessfully"))}catch(E){console.error("Password change failed:",E),g(E.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return o.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[o.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:o.jsx(Zoe,{className:"h-5 w-5"})}),t&&t.length>0&&o.jsx("div",{className:"hidden md:block",children:o.jsx(ble,{items:t})})]}),o.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"}),o.jsxs("kbd",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none hidden lg:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[o.jsx("span",{className:"text-xs",children:""}),"K"]})]})}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:ke((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),o.jsx(gV,{}),o.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[o.jsx(Loe,{className:"h-5 w-5"}),o.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:o.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),o.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),o.jsxs(XA,{children:[o.jsx(JA,{asChild:!0,children:o.jsxs(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[o.jsxs(ia,{className:"h-8 w-8",children:[o.jsx(ts,{src:(_=r==null?void 0:r.profile)==null?void 0:_.avatar}),o.jsx(oa,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(S=r==null?void 0:r.email)==null?void 0:S.charAt(0).toUpperCase()})]}),o.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),o.jsxs(M_,{align:"end",className:"w-56",children:[o.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:o.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[o.jsx("p",{className:"font-medium text-sm",children:ke((r==null?void 0:r.profile)||{},"user_name")||((k=r==null?void 0:r.email)==null?void 0:k.split("@")[0])}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),o.jsx(aE,{}),o.jsxs(Ll,{onClick:()=>i("light"),children:[o.jsx(ale,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.light","Light")})]}),o.jsxs(Ll,{onClick:()=>i("dark"),children:[o.jsx(tle,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.dark","Dark")})]}),o.jsxs(Ll,{onClick:()=>i("system"),children:[o.jsx(W9,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.system","System")})]}),o.jsx(aE,{}),o.jsxs(Ll,{onClick:x,children:[o.jsx(Joe,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),o.jsxs(Ll,{onClick:w,className:"text-destructive focus:text-destructive",children:[o.jsx(lle,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),o.jsx(jn,{open:l,onOpenChange:c,children:o.jsxs(dn,{className:"sm:max-w-[425px]",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:a("settings.changePassword")}),o.jsx(La,{children:a("settings.changePasswordDescription")})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[m&&o.jsx(of,{variant:"destructive",children:o.jsx(lf,{children:m})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"newPassword",children:a("settings.newPassword")}),o.jsx(ze,{id:"newPassword",type:"password",value:u,onChange:j=>d(j.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),o.jsx(ze,{id:"confirmPassword",type:"password",value:f,onChange:j=>h(j.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),o.jsxs(Fa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(oe,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),o.jsx(oe,{type:"submit",disabled:p||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(p?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const ic=L_,IW=tO,che=$_,MW=y.forwardRef(({className:e,...t},r)=>o.jsx(Cp,{className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));MW.displayName=Cp.displayName;const uhe=rx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ml=y.forwardRef(({side:e="right",className:t,children:r,...n},a)=>o.jsxs(che,{children:[o.jsx(MW,{}),o.jsxs(Tp,{ref:a,className:Se(uhe({side:e}),t),...n,children:[r,o.jsxs(B_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Ii,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ml.displayName=Tp.displayName;const Pu=({className:e,...t})=>o.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",e),...t});Pu.displayName="SheetHeader";const oc=y.forwardRef(({className:e,...t},r)=>o.jsx(mx,{ref:r,className:Se("text-lg font-semibold text-foreground",e),...t}));oc.displayName=mx.displayName;const U_=y.forwardRef(({className:e,...t},r)=>o.jsx(px,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));U_.displayName=px.displayName;function Zn({children:e}){const[t,r]=y.useState(!0),[n,a]=y.useState(!1);y.useEffect(()=>{const l=()=>{a(window.innerWidth<1024),window.innerWidth<1024?r(!1):r(!0)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const s=()=>{r(!t)},i=()=>{n&&r(!1)};return o.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[o.jsx(lhe,{onToggleSidebar:s}),o.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!n&&o.jsx("aside",{className:Se("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block",t?"w-60":"w-0 overflow-hidden"),style:{height:"calc(100vh - 64px)"},children:o.jsx(RI,{onNavigate:i})}),n&&o.jsx(ic,{open:t,onOpenChange:r,children:o.jsxs(ml,{side:Lr()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[o.jsx(oc,{className:"sr-only",children:"Navigation Menu"}),o.jsx(U_,{className:"sr-only",children:"Application navigation sidebar"}),o.jsx(RI,{onNavigate:i})]})}),o.jsx("main",{className:"flex-1 overflow-y-auto bg-background pt-2 p-3 sm:p-4 md:p-6 w-full min-h-full",children:e})]})]})}const rs={async getAll(){try{console.log("[stageService] Fetching all stages...");const{data:e,error:t}=await pe.from("stages").select("*").order("stager_order_index",{ascending:!0});if(t)throw console.error("[stageService] Error fetching stages:",t),t;return console.log(`[stageService] Successfully fetched ${(e==null?void 0:e.length)||0} stages`),e||[]}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const{data:e,error:t}=await pe.from("stages").select("*").order("stager_order_index",{ascending:!0});if(t)throw console.error("[stageService] Error fetching global stages:",t),t;return console.log(`[stageService] Successfully fetched ${(e==null?void 0:e.length)||0} global stages`),e||[]}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const{data:t,error:r}=await pe.from("stages").select("*").eq("stage_type",e).order("stager_order_index",{ascending:!0});if(r)throw console.error(`[stageService] Error fetching ${e} stages: `,r),r;return console.log(`[stageService] Successfully fetched ${(t==null?void 0:t.length)||0} ${e} stages`),t||[]}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const{data:t}=await pe.from("stages").select("stager_order_index").order("stager_order_index",{ascending:!1}).limit(1),r=t&&t.length>0?t[0].stager_order_index:-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var},{data:s,error:i}=await pe.from("stages").insert(a).select().single();if(i)throw i;return s}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=$i(t,{stage_name:"stage_name"}),{error:n}=await pe.from("stages").update(r).eq("stage_id",e);if(n)throw n}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{const{error:t}=await pe.from("stages").delete().eq("stage_id",e);if(t)throw t}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},ls={async getAll(){try{console.log("[userService] Fetching all users...");const{data:e,error:t}=await pe.from("users").select("*");if(t)throw t;return console.log(`[userService] Successfully fetched ${(e==null?void 0:e.length)||0} users`),e||[]}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getById(e){try{const{data:t,error:r}=await pe.from("users").select("*").eq("user_id",e).single();return r?null:t}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{const{data:t,error:r}=await pe.from("users").select("*").eq("auth_user_id",e).single();return r?null:t}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.user_name!==void 0&&(r.user_name=t.user_name),t.user_name_ar!==void 0&&(r.user_name_ar=t.user_name_ar),t.user_email!==void 0&&(r.user_email=t.user_email),t.user_role!==void 0&&(r.user_role=t.user_role),t.avatar!==void 0&&(r.avatar=t.avatar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.company_name!==void 0&&(r.company_name=t.company_name),t.company_name_ar!==void 0&&(r.company_name_ar=t.company_name_ar);const{error:n}=await pe.from("users").update(r).eq("user_id",e);if(n)throw n;console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},rO={async getAll(){try{console.log("[clientService] Fetching all clients...");const{data:e,error:t}=await pe.from("users").select("*").eq("user_role","client");if(t)throw t;return console.log(`[clientService] Successfully fetched ${(e==null?void 0:e.length)||0} clients`),e||[]}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getById(e){try{const{data:t,error:r}=await pe.from("users").select("*").eq("user_id",e).eq("user_role","client").single();return r?null:t}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t=$i({user_name:e.user_name,user_email:e.user_email,user_role:"client",avatar:e.avatar,client_contact:e.client_contact,company_name:e.company_name},{user_name:"user_name",company_name:"company_name"}),{data:r,error:n}=await pe.from("users").insert(t).select().single();if(n)throw n;return r}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},Xo={async getAll(){try{console.log("[projectService] Fetching all projects...");const{data:e,error:t}=await pe.from("projects").select("*").order("created_date",{ascending:!1});if(t)throw t;return console.log(`[projectService] Successfully fetched ${(e==null?void 0:e.length)||0} projects`),e||[]}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getById(e){try{const{data:t,error:r}=await pe.from("projects").select("*").eq("project_id",e).single();return r?null:t}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{const{data:t,error:r}=await pe.from("projects").insert({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date}).select().single();if(r)throw r;return t}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date);const{error:n}=await pe.from("projects").update(r).eq("project_id",e);if(n)throw n}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{const{error:t}=await pe.from("projects").delete().eq("project_id",e);if(t)throw t}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const{data:t,error:r}=await pe.from("project_users").select(`
project_id,
  projects(
    project_id,
    project_name,
    project_description,
    created_date,
    created_by,
    progress,
    stage,
    end_date,
    updated_at
  )
    `).eq("auth_user_id",e);if(r)throw r;const n=(t==null?void 0:t.map(a=>a.projects).filter(Boolean))||[];return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},iu={async getAll(){try{console.log("[taskService] Fetching all tasks...");const{data:e,error:t}=await pe.from("tasks").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[taskService] Successfully fetched ${(e==null?void 0:e.length)||0} tasks`),e||[]}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getByStage(e){try{const{data:t,error:r}=await pe.from("tasks").select("*").eq("stage_id",e);if(r)throw r;return t||[]}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=$i({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,auth_user_id:e.auth_user_id},{task_name:"task_name",description:"description"}),{data:r,error:n}=await pe.from("tasks").insert(t).select().single();if(n)throw n;return r}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=$i(t,{task_name:"task_name",description:"description"}),{error:n}=await pe.from("tasks").update(r).eq("task_id",e);if(n)throw n}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{const{error:t}=await pe.from("tasks").delete().eq("task_id",e);if(t)throw t}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},sE={async getByTask(e){try{const{data:t,error:r}=await pe.from("comments").select("*").eq("task_id",e).order("created_date",{ascending:!0});if(r)throw r;return t||[]}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{const{data:t,error:r}=await pe.from("comments").insert({task_id:e.task_id,auth_user_id:e.auth_user_id,message:e.message}).select().single();if(r)throw r;return t}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},ro={async getUserRooms(e){const{data:t,error:r}=await pe.from("room_members").select("room_id").eq("auth_user_id",e);if(r)throw r;if(!t||t.length===0)return[];const n=t.map(i=>i.room_id),{data:a,error:s}=await pe.from("rooms").select("*").in("room_id",n);if(s)throw s;return a||[]},async createRoom(e){let t=e.created_by;if(!t||t===0){const{data:a}=await pe.from("users").select("user_id").eq("auth_user_id",e.auth_user_id).single();a&&(t=a.user_id)}const{data:r,error:n}=await pe.from("rooms").insert({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,auth_user_id:e.auth_user_id}).select().single();if(n)throw n;return r},async addMember(e,t){const{error:r}=await pe.from("room_members").insert({room_id:e,auth_user_id:t});if(r)throw r},async getRoomMembers(e){const{data:t,error:r}=await pe.from("room_members").select(`
auth_user_id,
  users(*)
    `).eq("room_id",e);if(r)throw r;return!t||t.length===0?[]:t.map(n=>n.users).filter(Boolean)},async markAsRead(e,t){const{error:r}=await pe.from("room_members").update({last_read_at:new Date().toISOString()}).eq("room_id",e).eq("auth_user_id",t);r&&console.error("[roomService] Failed to mark room as read:",r)}},aM={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const{data:t,error:r}=await pe.from("project_users").select(`
auth_user_id,
  users(
    user_id,
    user_name,
    user_email,
    user_role,
    avatar,
    auth_user_id,
    client_contact,
    company_name,
    created_at,
    updated_at
  )
    `).eq("project_id",e);if(r)throw r;const n=(t==null?void 0:t.map(a=>a.users).filter(Boolean))||[];return console.log(`[projectUserService] Found ${n.length} users for project ${e}`),n}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e);const{error:r}=await pe.from("project_users").insert({project_id:e,user_id:t});if(r)throw r;console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const{error:r}=await pe.from("project_users").delete().eq("project_id",e).eq("user_id",t);if(r)throw r;console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},Zf={async getAll(){try{console.log("[teamService] Fetching all teams...");const{data:e,error:t}=await pe.from("teams").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[teamService] Successfully fetched ${(e==null?void 0:e.length)||0} teams`),e||[]}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const{data:e,error:t}=await pe.from("teams").select(`
team_id,
  team_name,
  team_name_ar,
  partner_id,
  auth_user_id,
  team_leader_id,
  created_at
    `).order("created_at",{ascending:!1});if(t)throw t;if(!e||e.length===0)return[];const r=e.map(l=>l.team_id),{data:n,error:a}=await pe.from("team_members").select(`
team_id,
  auth_user_id,
  joined_at
    `).in("team_id",r);if(a)throw a;const s=(n||[]).reduce((l,c)=>(l[c.team_id]||(l[c.team_id]=[]),l[c.team_id].push({auth_user_id:c.auth_user_id,joined_at:c.joined_at}),l),{}),i=e.map(l=>({...l,team_members:s[l.team_id]||[]}));return console.log(`[teamService] Successfully fetched ${i.length} teams with members`),i}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const{data:e,error:t}=await pe.from("team_members").select(`
          team_id,
  users(
    user_id,
    user_name,
    user_email,
    user_role,
    avatar,
    auth_user_id,
    client_contact,
    company_name,
    created_at,
    updated_at
  )
    `);if(t)throw t;const r=(e||[]).reduce((n,a)=>{const s=a.team_id;return n[s]||(n[s]=[]),n[s].push(a.users),n},{});return console.log(`[teamService] Successfully fetched members for ${Object.keys(r).length} teams`),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{const{data:t,error:r}=await pe.from("teams").select("*").eq("team_id",e).single();return r?null:t}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{const{data:t,error:r}=await pe.from("teams").insert(e).select().single();if(r)throw r;if(t)try{let n=0;if(e.auth_user_id){const{data:s}=await pe.from("users").select("user_id").eq("auth_user_id",e.auth_user_id).single();s&&(n=s.user_id)}const{error:a}=await pe.from("rooms").insert({room_name:`General - ${t.team_name}`,is_private:!1,team_id:t.team_id,created_by:n,auth_user_id:e.auth_user_id||null});a&&console.error("[teamService] Failed to create default room for team:",a)}catch(n){console.error("[teamService] Error creating default room:",n)}return t}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=$i(t,{team_name:"team_name"}),{error:n}=await pe.from("teams").update(r).eq("team_id",e);if(n)throw n}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{const{error:t}=await pe.from("teams").delete().eq("team_id",e);if(t)throw t}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const{data:t,error:r}=await pe.from("team_members").select(`
auth_user_id,
  users!auth_user_id(
    user_id,
    user_name,
    user_email,
    user_role,
    avatar,
    auth_user_id,
    client_contact,
    company_name,
    created_at,
    updated_at
  )
    `).eq("team_id",e);if(r)throw r;const n=(t==null?void 0:t.map(a=>a.users).filter(Boolean))||[];return console.log(`[teamService] Found ${n.length} members for team ${e}`),n}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{console.log("[teamService] Adding member",t,"to team",e);const{error:r}=await pe.from("team_members").insert({team_id:e,auth_user_id:t});if(r)throw r;console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{console.log("[teamService] Removing member",t,"from team",e);const{error:r}=await pe.from("team_members").delete().eq("team_id",e).eq("auth_user_id",t);if(r)throw r;console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},u0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const{data:e,error:t}=await pe.from("tickets").select("*").order("created_date",{ascending:!1});if(t)throw t;return console.log(`[ticketService] Successfully fetched ${(e==null?void 0:e.length)||0} tickets`),e||[]}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{const{data:t,error:r}=await pe.from("tickets").select("*").eq("ticket_id",e).single();return r?null:t}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{const{data:t,error:r}=await pe.from("tickets").insert({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,created_by_auth_user_id:e.created_by_auth_user_id,assigned_to_auth_user_id:e.assigned_to_auth_user_id,auth_user_id:e.auth_user_id,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id}).select().single();if(r)throw r;return t}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.assigned_to_auth_user_id!==void 0&&(r.assigned_to_auth_user_id=t.assigned_to_auth_user_id),t.auth_user_id!==void 0&&(r.auth_user_id=t.auth_user_id),t.status!==void 0&&(r.status=t.status),r.updated_at=new Date().toISOString();const{error:n}=await pe.from("tickets").update(r).eq("ticket_id",e);if(n)throw n}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`);const{error:r}=await pe.from("tickets").update({stage_id:t}).eq("ticket_id",e);if(r)throw r;console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{const{error:t}=await pe.from("tickets").delete().eq("ticket_id",e);if(t)throw t}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},Oh={async getByRoom(e,t){try{let r=pe.from("messages").select(`
  *,
  sender: users!auth_user_id(
    user_id,
    user_name,
    avatar,
    auth_user_id
  )
    `).eq("room_id",e).order("created_at",{ascending:!1});t!=null&&t.limit&&(r=r.limit(t.limit)),t!=null&&t.before&&(r=r.lt("created_at",t.before));const{data:n,error:a}=await r;if(a)throw a;return(n||[]).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{const{data:t,error:r}=await pe.from("messages").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{const{error:r}=await pe.from("messages").update({content:t,is_edited:!0}).eq("message_id",e);if(r)throw r}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{const{error:t}=await pe.from("messages").delete().eq("message_id",e);if(t)throw t}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{const t=e.name.split(".").pop(),n=`${`${Math.random().toString(36).substring(2)}_${Date.now()}.${t}`}`,{error:a}=await pe.storage.from("chat-attachments").upload(n,e);if(a)throw a;const{data:s}=pe.storage.from("chat-attachments").getPublicUrl(n);return s.publicUrl}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},zc={async getAll(){try{console.log("[leadService] Fetching all leads...");const{data:e,error:t}=await pe.from("leads").select("*").order("created_date",{ascending:!1});if(t)throw t;return console.log(`[leadService] Successfully fetched ${(e==null?void 0:e.length)||0} leads`),e||[]}catch(e){throw console.error("[leadService] Failed to fetch leads:",e),e}},async getById(e){try{const{data:t,error:r}=await pe.from("leads").select("*").eq("lead_id",e).single();return r?null:t}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{const{data:t,error:r}=await pe.from("leads").insert({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"}).select().single();if(r)throw r;return t}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency);const{error:n}=await pe.from("leads").update(r).eq("lead_id",e);if(n)throw n}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{const{error:t}=await pe.from("leads").delete().eq("lead_id",e);if(t)throw t}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},Xh={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const{data:r,error:n}=await pe.from("notes").select(`
  *,
  user: created_by(
    user_id,
    user_name,
    user_name_ar,
    avatar
  )
    `).eq("related_to_type",e).eq("related_to_id",t).order("created_at",{ascending:!1});if(n)throw n;return console.log(`[noteService] Successfully fetched ${(r==null?void 0:r.length)||0} notes`),r||[]}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const{data:t,error:r}=await pe.from("notes").insert({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by}).select().single();if(r)throw r;return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{const{error:r}=await pe.from("notes").update({content:t,updated_at:new Date().toISOString()}).eq("note_id",e);if(r)throw r;console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{const{error:t}=await pe.from("notes").delete().eq("note_id",e);if(t)throw t;console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},xi={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const{data:e,error:t}=await pe.from("survey_templates").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[surveyTemplateService] Successfully fetched ${(e==null?void 0:e.length)||0} templates`),e||[]}catch(e){throw console.error("[surveyTemplateService] Failed to fetch templates:",e),e}},async getById(e){try{const{data:t,error:r}=await pe.from("survey_templates").select("*").eq("template_id",e).single();return r?null:t}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{const{data:t,error:r}=await pe.from("survey_templates").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default);const{error:n}=await pe.from("survey_templates").update(r).eq("template_id",e);if(n)throw n}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{const{error:t}=await pe.from("survey_templates").delete().eq("template_id",e);if(t)throw t}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const{data:t,error:r}=await pe.from("survey_template_fields").select("*").eq("template_id",e).order("field_order",{ascending:!0});if(r)throw r;return console.log(`[surveyTemplateService] Successfully fetched ${(t==null?void 0:t.length)||0} fields`),t||[]}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{const{data:t,error:r}=await pe.from("survey_template_fields").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic);const{error:n}=await pe.from("survey_template_fields").update(r).eq("field_id",e);if(n)throw n}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{const{error:t}=await pe.from("survey_template_fields").delete().eq("field_id",e);if(t)throw t}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},Ph={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const{data:e,error:t}=await pe.from("surveys").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[surveyService] Successfully fetched ${(e==null?void 0:e.length)||0} surveys`),e||[]}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getById(e){try{const{data:t,error:r}=await pe.from("surveys").select("*").eq("survey_id",e).single();return r?null:t}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{const{data:t,error:r}=await pe.from("surveys").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const{data:t,error:r}=await pe.from("surveys").insert(e).select();if(r)throw r;return console.log(`[surveyService] Successfully batch created ${(t==null?void 0:t.length)||0} surveys`),t||[]}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar);const{error:n}=await pe.from("surveys").update(r).eq("survey_id",e);if(n)throw n}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{const{error:t}=await pe.from("surveys").delete().eq("survey_id",e);if(t)throw t}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}},dk=1024;function Ua(){const[e,t]=y.useState(void 0);return y.useEffect(()=>{const r=window.matchMedia(`(max-width: ${dk-1}px)`),n=()=>{t(window.innerWidth<dk)};return r.addEventListener("change",n),t(window.innerWidth<dk),()=>r.removeEventListener("change",n)},[]),!!e}const V_={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},dhe=()=>d_({queryKey:V_.users,queryFn:ls.getAll}),fhe=e=>d_({queryKey:V_.userProjects(e),queryFn:()=>Xo.getByUserAuthId(e),enabled:!!e}),hhe=()=>d_({queryKey:V_.tasks,queryFn:iu.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),mhe=e=>d_({queryKey:[...V_.stages,"type",e],queryFn:()=>rs.getByType(e)}),mt=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));mt.displayName="Card";const ur=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));ur.displayName="CardHeader";const nn=y.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));nn.displayName="CardTitle";const phe=y.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));phe.displayName="CardDescription";const wt=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Se("p-6 pt-0",e),...t}));wt.displayName="CardContent";const ghe=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",e),...t}));ghe.displayName="CardFooter";const vhe=rx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ct({className:e,variant:t,...r}){return o.jsx("div",{className:Se(vhe({variant:t}),e),...r})}var nO="Progress",aO=100,[xhe,UYe]=hs(nO),[yhe,whe]=xhe(nO),FW=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=bhe,...i}=e;(a||a===0)&&!sM(a)&&console.error(_he(`${a}`,"Progress"));const l=sM(a)?a:aO;n!==null&&!iM(n,l)&&console.error(She(`${n}`,"Progress"));const c=iM(n,l)?n:null,u=S1(c)?s(c,l):void 0;return o.jsx(yhe,{scope:r,value:c,max:l,children:o.jsx(lt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":S1(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":BW(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});FW.displayName=nO;var LW="ProgressIndicator",$W=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=whe(LW,r);return o.jsx(lt.div,{"data-state":BW(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});$W.displayName=LW;function bhe(e,t){return`${Math.round(e/t*100)}%`}function BW(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function S1(e){return typeof e=="number"}function sM(e){return S1(e)&&!isNaN(e)&&e>0}function iM(e,t){return S1(e)&&!isNaN(e)&&e<=t&&e>=0}function _he(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${aO}\`.`}function She(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${aO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var UW=FW,jhe=$W;const lc=y.forwardRef(({className:e,value:t,...r},n)=>o.jsx(UW,{ref:n,className:Se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(jhe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));lc.displayName=UW.displayName;function VW(){zt();const[e,t]=y.useState(new Date);y.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[o.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),o.jsx("div",{className:"text-sm",children:r(e)})]})}const khe=({projects:e,clients:t,users:r,leads:n,surveys:a,loadData:s,isRTL:i,t:l})=>{const c=e.length,u=e.filter(w=>w.progress===100).length,d=e.filter(w=>w.progress>0&&w.progress<100).length,f=e.filter(w=>w.progress===0).length,h=t.length,m=r.length,g=n.length,p=a.length,v=[...e].sort((w,x)=>new Date(x.created_date||"").getTime()-new Date(w.created_date||"").getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:i?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:l("dashboard.title")}),o.jsx("p",{className:"text-muted-foreground mt-1 sm:mt-2 text-sm sm:text-base",children:l("dashboard.subtitle")})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(VW,{})})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[o.jsx(Js,{title:l("dashboard.totalProjects"),value:c,subtext:`${u} ${l("dashboard.completed")}`,icon:sle}),o.jsx(Js,{title:l("dashboard.inProgress"),value:d,subtext:l("dashboard.activeProjects"),icon:Pa}),o.jsx(Js,{title:l("dashboard.clients"),value:h,subtext:l("dashboard.totalClients"),icon:cn}),o.jsx(Js,{title:l("dashboard.teamMembers"),value:m,subtext:l("dashboard.activeUsers"),icon:Pa}),o.jsx(Js,{title:l("dashboard.leads"),value:g,subtext:l("dashboard.totalLeads"),icon:m1}),o.jsx(Js,{title:l("dashboard.surveys"),value:p,subtext:l("dashboard.totalSurveys"),icon:bs})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2",children:[o.jsxs(mt,{children:[o.jsx(ur,{children:o.jsx(nn,{className:"text-base sm:text-lg",children:l("dashboard.recentProjects")})}),o.jsx(wt,{className:"space-y-3 sm:space-y-4",children:v.length>0?v.map(w=>{var x;return o.jsx(Ehe,{project:w,clientName:(x=t.find(b=>b.auth_user_id===w.created_by))==null?void 0:x.user_name},w.project_id)}):o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:l("dashboard.noProjectsYet")})})]}),o.jsxs(mt,{children:[o.jsx(ur,{children:o.jsx(nn,{className:"text-base sm:text-lg",children:l("dashboard.projectStatus")})}),o.jsxs(wt,{className:"space-y-3 sm:space-y-4",children:[o.jsx(fk,{color:"bg-green-500",label:l("dashboard.completedStatus"),value:u}),o.jsx(fk,{color:"bg-blue-500",label:l("dashboard.inProgressStatus"),value:d}),o.jsx(fk,{color:"bg-gray-500",label:l("dashboard.notStartedStatus"),value:f})]})]})]})]})},Nhe=({user:e,myTasks:t,myProjects:r,leads:n,surveys:a,isRTL:s,t:i})=>{var f;const l=t.filter(h=>h.task_status==="completed").length,c=t.filter(h=>h.task_status==="in_progress").length,u=r.filter(h=>h.progress!==void 0&&h.progress<100).length,d=[...t].sort((h,m)=>new Date(m.created_at||"").getTime()-new Date(h.created_at||"").getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:s?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:i("employeeDashboard.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:i("employeeDashboard.subtitle",{name:ke(e.profile||{},"user_name")||e.email})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(VW,{})})]}),o.jsxs(mt,{children:[o.jsx(ur,{children:o.jsxs(nn,{className:"flex items-center gap-2",children:[o.jsx(Ra,{className:"h-5 w-5"}),i("employeeDashboard.employeeInfo")]})}),o.jsx(wt,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(hk,{label:i("employeeDashboard.name"),value:ke(e.profile||{},"user_name")||"N/A"}),o.jsx(hk,{label:i("employeeDashboard.email"),value:e.email}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:i("employeeDashboard.role")}),o.jsx(ct,{variant:"secondary",className:"capitalize",children:e.role})]}),o.jsx(hk,{label:i("employeeDashboard.memberSince"),value:(f=e.profile)!=null&&f.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A"})]})})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[o.jsx(Js,{title:i("employeeDashboard.myProjects"),value:r.length,subtext:`${u} ${i("employeeDashboard.active")}`,icon:qd}),o.jsx(Js,{title:i("employeeDashboard.myTasks"),value:t.length,subtext:`${l} ${i("employeeDashboard.completed")}`,icon:m1}),o.jsx(Js,{title:i("employeeDashboard.inProgress"),value:c,subtext:i("employeeDashboard.activeTasks"),icon:Nd}),o.jsx(Js,{title:i("employeeDashboard.completedTasks"),value:l,subtext:i("employeeDashboard.finishedTasks"),icon:su}),o.jsx(Js,{title:i("employeeDashboard.leads"),value:n.length,subtext:i("employeeDashboard.totalLeads"),icon:m1}),o.jsx(Js,{title:i("employeeDashboard.surveys"),value:a.length,subtext:i("employeeDashboard.totalSurveys"),icon:bs})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(mt,{children:[o.jsx(ur,{children:o.jsx(nn,{children:i("employeeDashboard.myProjects")})}),o.jsx(wt,{className:"space-y-4",children:r.length>0?r.slice(0,5).map(h=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:h.project_name}),o.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:h.project_description||i("employeeDashboard.noDescription")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lc,{value:h.progress||0,className:"w-16 h-2"}),o.jsxs("span",{className:"text-sm text-muted-foreground w-8",children:[h.progress||0,"%"]})]})]},h.project_id)):o.jsx("p",{className:"text-sm text-muted-foreground",children:i("employeeDashboard.noProjectsAssigned")})})]}),o.jsxs(mt,{children:[o.jsx(ur,{children:o.jsx(nn,{children:i("employeeDashboard.recentTasks")})}),o.jsx(wt,{className:"space-y-4",children:d.length>0?d.map(h=>{var m;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:h.task_name}),o.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:h.description||i("employeeDashboard.noDescription")})]}),o.jsx(ct,{variant:h.task_status==="completed"?"default":h.task_status==="in_progress"?"secondary":"outline",className:"text-xs",children:(m=h.task_status)==null?void 0:m.replace("_"," ")})]},h.task_id)}):o.jsx("p",{className:"text-sm text-muted-foreground",children:i("employeeDashboard.noTasksAssigned")})})]})]})]})},Js=({title:e,value:t,subtext:r,icon:n})=>o.jsxs(mt,{children:[o.jsxs(ur,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(nn,{className:"text-xs sm:text-sm font-medium",children:e}),o.jsx(n,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(wt,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:t}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:r})]})]}),Ehe=({project:e,clientName:t})=>o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium leading-none truncate",children:ke(e,"project_name")}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:t||"No client"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lc,{value:e.progress,className:"w-16 sm:w-20 h-2"}),o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground w-8",children:[e.progress,"%"]})]})]}),fk=({color:e,label:t,value:r})=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full ${e}`}),o.jsx("span",{className:"text-xs sm:text-sm",children:t})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:r})]}),hk=({label:e,value:t})=>o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e}),o.jsx("p",{className:"font-medium",children:t})]});function Che(){const{t:e}=zt(),{currentLanguage:t,isRTL:r}=Vi();Ua();const{user:n,loading:a}=yr(),[s,i]=y.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[]}),[l,c]=y.useState(!0),[u,d]=y.useState(null),{data:f=[],isLoading:h}=fhe((n==null?void 0:n.id)||"");y.useEffect(()=>{n&&!a&&m()},[n,a]);const m=async()=>{try{c(!0),d(null);const[g,p,v,w,x,b]=await Promise.all([Xo.getAll().catch(()=>[]),rO.getAll().catch(()=>[]),ls.getAll().catch(()=>[]),zc.getAll().catch(()=>[]),Ph.getAll().catch(()=>[]),iu.getAll().catch(()=>[])]),_=b.filter(S=>{var k;return S.assigned_to===((k=n==null?void 0:n.profile)==null?void 0:k.user_id)});i({projects:g,clients:p,users:v,leads:w,surveys:x,myTasks:_})}catch(g){console.error("[Dashboard] Failed to load data:",g),d(g.message||"Failed to load data")}finally{c(!1)}};return l||a||!n?o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:e("common.loading")})]})}):u?o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:u}),o.jsx(oe,{onClick:m,className:"mt-4",children:"Retry"})]})}):n.role==="client"?o.jsx(Hd,{to:"/client-portal",replace:!0}):n.role==="employee"||n.role==="team_leader"||n.role==="partner"?o.jsx(Nhe,{user:n,myTasks:s.myTasks,myProjects:f,leads:s.leads,surveys:s.surveys,isRTL:r,t:e}):n.role==="partner_employee"?o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:"Partner Employee Dashboard"}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Welcome to your partner employee portal"})]})}),o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:o.jsx(Js,{title:"",value:0,subtext:"",icon:qd})}),o.jsx("h2",{className:"text-2xl font-semibold",children:"Coming Soon"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"We're working hard to bring you an amazing partner employee experience."})]})})]}):o.jsx(khe,{projects:s.projects,clients:s.clients,users:s.users,leads:s.leads,surveys:s.surveys,loadData:m,isRTL:r,t:e})}var W_="Popover",[WW,VYe]=hs(W_,[Np]),gx=Np(),[The,Yu]=WW(W_),zW=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,l=gx(t),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=sc({prop:n,defaultProp:a??!1,onChange:s,caller:W_});return o.jsx(LA,{...l,children:o.jsx(The,{scope:t,contentId:ca(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:i,children:r})})};zW.displayName=W_;var HW="PopoverAnchor",Ahe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Yu(HW,r),s=gx(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(N_,{...s,...n,ref:t})});Ahe.displayName=HW;var qW="PopoverTrigger",GW=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Yu(qW,r),s=gx(r),i=Wt(t,a.triggerRef),l=o.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":QW(a.open),...n,ref:i,onClick:et(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(N_,{asChild:!0,...s,children:l})});GW.displayName=qW;var sO="PopoverPortal",[Ohe,Phe]=WW(sO,{forceMount:void 0}),KW=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Yu(sO,t);return o.jsx(Ohe,{scope:t,forceMount:r,children:o.jsx(Ba,{present:r||s.open,children:o.jsx(cx,{asChild:!0,container:a,children:n})})})};KW.displayName=sO;var Am="PopoverContent",YW=y.forwardRef((e,t)=>{const r=Phe(Am,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Yu(Am,e.__scopePopover);return o.jsx(Ba,{present:n||s.open,children:s.modal?o.jsx(Rhe,{...a,ref:t}):o.jsx(Ihe,{...a,ref:t})})});YW.displayName=Am;var Dhe=Cu("PopoverContent.RemoveScroll"),Rhe=y.forwardRef((e,t)=>{const r=Yu(Am,e.__scopePopover),n=y.useRef(null),a=Wt(t,n),s=y.useRef(!1);return y.useEffect(()=>{const i=n.current;if(i)return E_(i)},[]),o.jsx(ux,{as:Dhe,allowPinchZoom:!0,children:o.jsx(XW,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ihe=y.forwardRef((e,t)=>{const r=Yu(Am,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return o.jsx(XW,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),XW=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Yu(Am,r),m=gx(r);return __(),o.jsx(ox,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(ix,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx($A,{"data-state":QW(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),JW="PopoverClose",Mhe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Yu(JW,r);return o.jsx(lt.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>a.onOpenChange(!1))})});Mhe.displayName=JW;var Fhe="PopoverArrow",Lhe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=gx(r);return o.jsx(BA,{...a,...n,ref:t})});Lhe.displayName=Fhe;function QW(e){return e?"open":"closed"}var $he=zW,Bhe=GW,Uhe=KW,ZW=YW;const va=$he,xa=Bhe,ea=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(Uhe,{children:o.jsx(ZW,{ref:a,align:t,sideOffset:r,className:Se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ea.displayName=ZW.displayName;function Dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ps(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Xa(e,t){const r=Dt(e);return isNaN(t)?Ps(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Po(e,t){const r=Dt(e);if(isNaN(t))return Ps(e,NaN);if(!t)return r;const n=r.getDate(),a=Ps(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const iO=6048e5,Vhe=864e5,Dy=43200,oM=1440;let Whe={};function Ap(){return Whe}function pl(e,t){var l,c,u,d;const r=Ap(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Dt(e),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function hf(e){return pl(e,{weekStartsOn:1})}function ez(e){const t=Dt(e),r=t.getFullYear(),n=Ps(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=hf(n),s=Ps(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=hf(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Om(e){const t=Dt(e);return t.setHours(0,0,0,0),t}function Pm(e){const t=Dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function rl(e,t){const r=Om(e),n=Om(t),a=+r-Pm(r),s=+n-Pm(n);return Math.round((a-s)/Vhe)}function zhe(e){const t=ez(e),r=Ps(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),hf(r)}function iE(e,t){const r=t*7;return Xa(e,r)}function Hhe(e,t){return Po(e,t*12)}function qhe(e){let t;return e.forEach(function(r){const n=Dt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Ghe(e){let t;return e.forEach(r=>{const n=Dt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Sw(e,t){const r=Dt(e),n=Dt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Khe(e){return Ps(e,Date.now())}function js(e,t){const r=Om(e),n=Om(t);return+r==+n}function oO(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Yhe(e){if(!oO(e)&&typeof e!="number")return!1;const t=Dt(e);return!isNaN(Number(t))}function Dm(e,t){const r=Dt(e),n=Dt(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Xhe(e,t,r){const n=pl(e,r),a=pl(t,r),s=+n-Pm(n),i=+a-Pm(a);return Math.round((s-i)/iO)}function Jhe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Qhe(e,t){return+Dt(e)-+Dt(t)}function Zhe(e){const t=Dt(e);return t.setHours(23,59,59,999),t}function z_(e){const t=Dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function eme(e){const t=Dt(e);return+Zhe(t)==+z_(t)}function tme(e,t){const r=Dt(e),n=Dt(t),a=Sw(r,n),s=Math.abs(Dm(r,n));let i;if(s<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=Sw(r,n)===-a;eme(Dt(e))&&s===1&&Sw(e,n)===1&&(l=!1),i=a*(s-Number(l))}return i===0?0:i}function rme(e,t,r){const n=Qhe(e,t)/1e3;return Jhe(r==null?void 0:r.roundingMethod)(n)}function Ts(e){const t=Dt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function tz(e){const t=Dt(e),r=Ps(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function lO(e,t){var l,c,u,d;const r=Ap(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Dt(e),s=a.getDay(),i=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function rz(e){return lO(e,{weekStartsOn:1})}const nme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ame=(e,t,r)=>{let n;const a=nme[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Jh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const sme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ime={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ome={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lme={date:Jh({formats:sme,defaultWidth:"full"}),time:Jh({formats:ime,defaultWidth:"full"}),dateTime:Jh({formats:ome,defaultWidth:"full"})},cme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ume=(e,t,r,n)=>cme[e];function Qo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const dme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vme=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xme={ordinalNumber:vme,era:Qo({values:dme,defaultWidth:"wide"}),quarter:Qo({values:fme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qo({values:hme,defaultWidth:"wide"}),day:Qo({values:mme,defaultWidth:"wide"}),dayPeriod:Qo({values:pme,defaultWidth:"wide",formattingValues:gme,defaultFormattingWidth:"wide"})};function Zo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?wme(l,f=>f.test(i)):yme(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function yme(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function wme(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function nz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const bme=/^(\d+)(th|st|nd|rd)?/i,_me=/\d+/i,Sme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jme={any:[/^b/i,/^(a|c)/i]},kme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nme={any:[/1/i,/2/i,/3/i,/4/i]},Eme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ame={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ome={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dme={ordinalNumber:nz({matchPattern:bme,parsePattern:_me,valueCallback:e=>parseInt(e,10)}),era:Zo({matchPatterns:Sme,defaultMatchWidth:"wide",parsePatterns:jme,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:kme,defaultMatchWidth:"wide",parsePatterns:Nme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zo({matchPatterns:Eme,defaultMatchWidth:"wide",parsePatterns:Cme,defaultParseWidth:"any"}),day:Zo({matchPatterns:Tme,defaultMatchWidth:"wide",parsePatterns:Ame,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:Ome,defaultMatchWidth:"any",parsePatterns:Pme,defaultParseWidth:"any"})},cO={code:"en-US",formatDistance:ame,formatLong:lme,formatRelative:ume,localize:xme,match:Dme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rme(e){const t=Dt(e);return rl(t,tz(t))+1}function az(e){const t=Dt(e),r=+hf(t)-+zhe(t);return Math.round(r/iO)+1}function sz(e,t){var d,f,h,m;const r=Dt(e),n=r.getFullYear(),a=Ap(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=Ps(e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=pl(i,t),c=Ps(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=pl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ime(e,t){var l,c,u,d;const r=Ap(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=sz(e,t),s=Ps(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),pl(s,t)}function iz(e,t){const r=Dt(e),n=+pl(r,t)-+Ime(r,t);return Math.round(n/iO)+1}function mr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Oc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return mr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):mr(r+1,2)},d(e,t){return mr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return mr(e.getHours()%12||12,t.length)},H(e,t){return mr(e.getHours(),t.length)},m(e,t){return mr(e.getMinutes(),t.length)},s(e,t){return mr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return mr(a,t.length)}},eh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Oc.y(e,t)},Y:function(e,t,r,n){const a=sz(e,n),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return mr(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):mr(s,t.length)},R:function(e,t){const r=ez(e);return mr(r,t.length)},u:function(e,t){const r=e.getFullYear();return mr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return mr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return mr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Oc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return mr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=iz(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):mr(a,t.length)},I:function(e,t,r){const n=az(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):mr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Oc.d(e,t)},D:function(e,t,r){const n=Rme(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):mr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return mr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return mr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return mr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=eh.noon:n===0?a=eh.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=eh.evening:n>=12?a=eh.afternoon:n>=4?a=eh.morning:a=eh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Oc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Oc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):mr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):mr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Oc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Oc.s(e,t)},S:function(e,t){return Oc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return uM(n);case"XXXX":case"XX":return hd(n);case"XXXXX":case"XXX":default:return hd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return uM(n);case"xxxx":case"xx":return hd(n);case"xxxxx":case"xxx":default:return hd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+cM(n,":");case"OOOO":default:return"GMT"+hd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+cM(n,":");case"zzzz":default:return"GMT"+hd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return mr(n,t.length)},T:function(e,t,r){const n=e.getTime();return mr(n,t.length)}};function cM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+mr(s,2)}function uM(e,t){return e%60===0?(e>0?"-":"+")+mr(Math.abs(e)/60,2):hd(e,t)}function hd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=mr(Math.trunc(n/60),2),s=mr(n%60,2);return r+a+t+s}const dM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},oz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Mme=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return dM(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",dM(n,t)).replace("{{time}}",oz(a,t))},Fme={p:oz,P:Mme},Lme=/^D+$/,$me=/^Y+$/,Bme=["D","DD","YY","YYYY"];function Ume(e){return Lme.test(e)}function Vme(e){return $me.test(e)}function Wme(e,t,r){const n=zme(e,t,r);if(console.warn(n),Bme.includes(e))throw new RangeError(n)}function zme(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gme=/^'([^]*?)'?$/,Kme=/''/g,Yme=/[a-zA-Z]/;function li(e,t,r){var d,f,h,m,g,p,v,w;const n=Ap(),a=(r==null?void 0:r.locale)??n.locale??cO,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,l=Dt(e);if(!Yhe(l))throw new RangeError("Invalid time value");let c=t.match(qme).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=Fme[b];return _(x,a.formatLong)}return x}).join("").match(Hme).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:Xme(x)};if(lM[b])return{isToken:!0,value:x};if(b.match(Yme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Vme(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ume(b))&&Wme(b,t,String(e));const _=lM[b[0]];return _(l,b,a.localize,u)}).join("")}function Xme(e){const t=e.match(Gme);return t?t[1].replace(Kme,"'"):e}function Jme(e,t,r){const n=Ap(),a=(r==null?void 0:r.locale)??n.locale??cO,s=2520,i=Sw(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=Dt(t),u=Dt(e)):(c=Dt(e),u=Dt(t));const d=rme(u,c),f=(Pm(u)-Pm(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<oM){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<Dy){const g=Math.round(h/oM);return a.formatDistance("xDays",g,l)}else if(h<Dy*2)return m=Math.round(h/Dy),a.formatDistance("aboutXMonths",m,l)}if(m=tme(u,c),m<12){const g=Math.round(h/Dy);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function Qme(e,t){return Jme(e,Khe(e),t)}function Zme(e){const t=Dt(e),r=t.getFullYear(),n=t.getMonth(),a=Ps(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function epe(e){return Math.trunc(+Dt(e)/1e3)}function tpe(e){const t=Dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function rpe(e,t){return Xhe(tpe(e),Ts(e),t)+1}function oE(e,t){const r=Dt(e),n=Dt(t);return r.getTime()>n.getTime()}function lz(e,t){const r=Dt(e),n=Dt(t);return+r<+n}function uO(e,t){const r=Dt(e),n=Dt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function npe(e,t){const r=Dt(e),n=Dt(t);return r.getFullYear()===n.getFullYear()}function mk(e,t){return Xa(e,-t)}function pk(e,t){const r=Dt(e),n=r.getFullYear(),a=r.getDate(),s=Ps(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const i=Zme(s);return r.setMonth(t,Math.min(a,i)),r}function fM(e,t){const r=Dt(e);return isNaN(+r)?Ps(e,NaN):(r.setFullYear(t),r)}const ape={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},spe=(e,t,r)=>{const n=ape[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},ipe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},ope={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},lpe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cpe={date:Jh({formats:ipe,defaultWidth:"full"}),time:Jh({formats:ope,defaultWidth:"full"}),dateTime:Jh({formats:lpe,defaultWidth:"full"})},upe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},dpe=e=>upe[e],fpe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},hpe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},mpe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},ppe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},gpe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},vpe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},xpe=e=>String(e),ype={ordinalNumber:xpe,era:Qo({values:fpe,defaultWidth:"wide"}),quarter:Qo({values:hpe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qo({values:mpe,defaultWidth:"wide"}),day:Qo({values:ppe,defaultWidth:"wide"}),dayPeriod:Qo({values:gpe,defaultWidth:"wide",formattingValues:vpe,defaultFormattingWidth:"wide"})},wpe=/^(\d+)(th|st|nd|rd)?/i,bpe=/\d+/i,_pe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},Spe={any:[//,//]},jpe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},kpe={any:[/1/i,/2/i,/3/i,/4/i]},Npe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},Epe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Cpe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},Tpe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Ape={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},Ope={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},Ppe={ordinalNumber:nz({matchPattern:wpe,parsePattern:bpe,valueCallback:e=>parseInt(e,10)}),era:Zo({matchPatterns:_pe,defaultMatchWidth:"wide",parsePatterns:Spe,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:jpe,defaultMatchWidth:"wide",parsePatterns:kpe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zo({matchPatterns:Npe,defaultMatchWidth:"wide",parsePatterns:Epe,defaultParseWidth:"any"}),day:Zo({matchPatterns:Cpe,defaultMatchWidth:"wide",parsePatterns:Tpe,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:Ape,defaultMatchWidth:"any",parsePatterns:Ope,defaultParseWidth:"any"})},Dpe={code:"ar",formatDistance:spe,formatLong:cpe,formatRelative:dpe,localize:ype,match:Ppe,options:{weekStartsOn:6,firstWeekContainsDate:1}};var Ct=function(){return Ct=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ct.apply(this,arguments)};function Rpe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function cz(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function vx(e){return e.mode==="multiple"}function xx(e){return e.mode==="range"}function H_(e){return e.mode==="single"}var Ipe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Mpe(e,t){return li(e,"LLLL y",t)}function Fpe(e,t){return li(e,"d",t)}function Lpe(e,t){return li(e,"LLLL",t)}function $pe(e){return"".concat(e)}function Bpe(e,t){return li(e,"cccccc",t)}function Upe(e,t){return li(e,"yyyy",t)}var Vpe=Object.freeze({__proto__:null,formatCaption:Mpe,formatDay:Fpe,formatMonthCaption:Lpe,formatWeekNumber:$pe,formatWeekdayName:Bpe,formatYearCaption:Upe}),Wpe=function(e,t,r){return li(e,"do MMMM (EEEE)",r)},zpe=function(){return"Month: "},Hpe=function(){return"Go to next month"},qpe=function(){return"Go to previous month"},Gpe=function(e,t){return li(e,"cccc",t)},Kpe=function(e){return"Week n. ".concat(e)},Ype=function(){return"Year: "},Xpe=Object.freeze({__proto__:null,labelDay:Wpe,labelMonthDropdown:zpe,labelNext:Hpe,labelPrevious:qpe,labelWeekNumber:Kpe,labelWeekday:Gpe,labelYearDropdown:Ype});function Jpe(){var e="buttons",t=Ipe,r=cO,n={},a={},s=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:Vpe,labels:Xpe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:i,today:l,mode:"default"}}function Qpe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,i=e.toDate;return n?s=Ts(n):t&&(s=new Date(t,0,1)),a?i=z_(a):r&&(i=new Date(r,11,31)),{fromDate:s?Om(s):void 0,toDate:i?Om(i):void 0}}var uz=y.createContext(void 0);function Zpe(e){var t,r=e.initialProps,n=Jpe(),a=Qpe(r),s=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!i)&&(l="buttons");var c;(H_(r)||vx(r)||xx(r))&&(c=r.onSelect);var u=Ct(Ct(Ct({},n),r),{captionLayout:l,classNames:Ct(Ct({},n.classNames),r.classNames),components:Ct({},r.components),formatters:Ct(Ct({},n.formatters),r.formatters),fromDate:s,labels:Ct(Ct({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ct(Ct({},n.modifiers),r.modifiers),modifiersClassNames:Ct(Ct({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ct(Ct({},n.styles),r.styles),toDate:i});return o.jsx(uz.Provider,{value:u,children:e.children})}function Or(){var e=y.useContext(uz);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function dz(e){var t=Or(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function e0e(e){return o.jsx("svg",Ct({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function fz(e){var t,r,n=e.onChange,a=e.value,s=e.children,i=e.caption,l=e.className,c=e.style,u=Or(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:e0e;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function t0e(e){var t,r=Or(),n=r.fromDate,a=r.toDate,s=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(npe(n,a))for(var h=Ts(n),m=n.getMonth();m<=a.getMonth();m++)f.push(pk(h,m));else for(var h=Ts(new Date),m=0;m<=11;m++)f.push(pk(h,m));var g=function(v){var w=Number(v.target.value),x=pk(Ts(e.displayMonth),w);e.onChange(x)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:fz;return o.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function r0e(e){var t,r=e.displayMonth,n=Or(),a=n.fromDate,s=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var m=a.getFullYear(),g=s.getFullYear(),p=m;p<=g;p++)h.push(fM(tz(new Date),p));var v=function(x){var b=fM(Ts(r),Number(x.target.value));e.onChange(b)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:fz;return o.jsx(w,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(x){return o.jsx("option",{value:x.getFullYear(),children:d(x,{locale:i})},x.getFullYear())})})}function n0e(e,t){var r=y.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function a0e(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&Dm(s,a)<0){var u=-1*(c-1);a=Po(s,u)}return i&&Dm(a,i)<0&&(a=i),Ts(a)}function s0e(){var e=Or(),t=a0e(e),r=n0e(t,e.month),n=r[0],a=r[1],s=function(i){var l;if(!e.disableNavigation){var c=Ts(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function i0e(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ts(e),s=Ts(Po(a,n)),i=Dm(s,a),l=[],c=0;c<i;c++){var u=Po(a,c);l.push(u)}return r&&(l=l.reverse()),l}function o0e(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=Ts(e);if(!r)return Po(l,i);var c=Dm(r,e);if(!(c<s))return Po(l,i)}}function l0e(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=Ts(e);if(!r)return Po(l,-i);var c=Dm(l,r);if(!(c<=0))return Po(l,-i)}}var hz=y.createContext(void 0);function c0e(e){var t=Or(),r=s0e(),n=r[0],a=r[1],s=i0e(n,t),i=o0e(n,t),l=l0e(n,t),c=function(f){return s.some(function(h){return uO(f,h)})},u=function(f,h){c(f)||(h&&lz(f,h)?a(Po(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(hz.Provider,{value:d,children:e.children})}function yx(){var e=y.useContext(hz);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function hM(e){var t,r=Or(),n=r.classNames,a=r.styles,s=r.components,i=yx().goToMonth,l=function(d){i(Po(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:dz,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(t0e,{onChange:l,displayMonth:e.displayMonth}),o.jsx(r0e,{onChange:l,displayMonth:e.displayMonth})]})}function u0e(e){return o.jsx("svg",Ct({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function d0e(e){return o.jsx("svg",Ct({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var j1=y.forwardRef(function(e,t){var r=Or(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var i=s.join(" "),l=Ct(Ct({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),o.jsx("button",Ct({},e,{ref:t,type:"button",className:i,style:l}))});function f0e(e){var t,r,n=Or(),a=n.dir,s=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[i.nav_button,i.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:s}),p=[i.nav_button,i.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:d0e,w=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:u0e;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(j1,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?o.jsx(v,{className:i.nav_icon,style:l.nav_icon}):o.jsx(w,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(j1,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?o.jsx(w,{className:i.nav_icon,style:l.nav_icon}):o.jsx(v,{className:i.nav_icon,style:l.nav_icon})})]})}function mM(e){var t=Or().numberOfMonths,r=yx(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(g){return uO(e.displayMonth,g)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return o.jsx(f0e,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function h0e(e){var t,r=Or(),n=r.classNames,a=r.disableNavigation,s=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:dz,u;return a?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=o.jsx(hM,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(hM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(mM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(mM,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:s.caption,children:u})}function m0e(e){var t=Or(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function p0e(e,t,r){for(var n=r?hf(new Date):pl(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var i=Xa(n,s);a.push(i)}return a}function g0e(){var e=Or(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=p0e(a,s,i);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function v0e(){var e,t=Or(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:g0e;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(s,{})})}function x0e(e){var t=Or(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var dO=y.createContext(void 0);function y0e(e){if(!vx(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(dO.Provider,{value:t,children:e.children})}return o.jsx(w0e,{initialProps:e.initialProps,children:e.children})}function w0e(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,i=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var v=n?cz([],n):[];if(d.selected){var w=v.findIndex(function(x){return js(u,x)});v.splice(w,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return js(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:i,modifiers:l};return o.jsx(dO.Provider,{value:c,children:r})}function fO(){var e=y.useContext(dO);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function b0e(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?js(a,e)&&js(n,e)?void 0:js(a,e)?{from:a,to:void 0}:js(n,e)?void 0:oE(n,e)?{from:e,to:a}:{from:n,to:e}:a?oE(e,a)?{from:a,to:e}:{from:e,to:a}:n?lz(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var hO=y.createContext(void 0);function _0e(e){if(!xx(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(hO.Provider,{value:t,children:e.children})}return o.jsx(S0e,{initialProps:e.initialProps,children:e.children})}function S0e(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,i=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,w;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var x=b0e(m,n);(w=t.onSelect)===null||w===void 0||w.call(t,x,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],i?(d.range_end=[i],js(s,i)||(d.range_middle=[{after:s,before:i}])):d.range_end=[s]):i&&(d.range_start=[i],d.range_end=[i]),l&&(s&&!i&&d.disabled.push({after:mk(s,l-1),before:Xa(s,l-1)}),s&&i&&d.disabled.push({after:s,before:Xa(s,l-1)}),!s&&i&&d.disabled.push({after:mk(i,l-1),before:Xa(i,l-1)})),c){if(s&&!i&&(d.disabled.push({before:Xa(s,-c+1)}),d.disabled.push({after:Xa(s,c-1)})),s&&i){var f=rl(i,s)+1,h=c-f;d.disabled.push({before:mk(s,h)}),d.disabled.push({after:Xa(i,h)})}!s&&i&&(d.disabled.push({before:Xa(i,-c+1)}),d.disabled.push({after:Xa(i,c-1)}))}return o.jsx(hO.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function mO(){var e=y.useContext(hO);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function jw(e){return Array.isArray(e)?cz([],e):e!==void 0?[e]:[]}function j0e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=jw(a)}),t}var Do;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Do||(Do={}));var k0e=Do.Selected,El=Do.Disabled,N0e=Do.Hidden,E0e=Do.Today,gk=Do.RangeEnd,vk=Do.RangeMiddle,xk=Do.RangeStart,C0e=Do.Outside;function T0e(e,t,r){var n,a=(n={},n[k0e]=jw(e.selected),n[El]=jw(e.disabled),n[N0e]=jw(e.hidden),n[E0e]=[e.today],n[gk]=[],n[vk]=[],n[xk]=[],n[C0e]=[],n);return e.fromDate&&a[El].push({before:e.fromDate}),e.toDate&&a[El].push({after:e.toDate}),vx(e)?a[El]=a[El].concat(t.modifiers[El]):xx(e)&&(a[El]=a[El].concat(r.modifiers[El]),a[xk]=r.modifiers[xk],a[vk]=r.modifiers[vk],a[gk]=r.modifiers[gk]),a}var mz=y.createContext(void 0);function A0e(e){var t=Or(),r=fO(),n=mO(),a=T0e(t,r,n),s=j0e(t.modifiers),i=Ct(Ct({},a),s);return o.jsx(mz.Provider,{value:i,children:e.children})}function pz(){var e=y.useContext(mz);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function O0e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function P0e(e){return!!(e&&typeof e=="object"&&"from"in e)}function D0e(e){return!!(e&&typeof e=="object"&&"after"in e)}function R0e(e){return!!(e&&typeof e=="object"&&"before"in e)}function I0e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function M0e(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=rl(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var i=rl(e,n)>=0&&rl(a,e)>=0;return i}return a?js(a,e):n?js(n,e):!1}function F0e(e){return oO(e)}function L0e(e){return Array.isArray(e)&&e.every(oO)}function $0e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(F0e(r))return js(e,r);if(L0e(r))return r.includes(e);if(P0e(r))return M0e(e,r);if(I0e(r))return r.dayOfWeek.includes(e.getDay());if(O0e(r)){var n=rl(r.before,e),a=rl(r.after,e),s=n>0,i=a<0,l=oE(r.before,r.after);return l?i&&s:s||i}return D0e(r)?rl(e,r.after)>0:R0e(r)?rl(r.before,e)>0:typeof r=="function"?r(e):!1})}function pO(e,t,r){var n=Object.keys(t).reduce(function(s,i){var l=t[i];return $0e(e,l)&&s.push(i),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!uO(e,r)&&(a.outside=!0),a}function B0e(e,t){for(var r=Ts(e[0]),n=z_(e[e.length-1]),a,s,i=r;i<=n;){var l=pO(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Xa(i,1);continue}if(l.selected)return i;l.today&&!s&&(s=i),a||(a=i),i=Xa(i,1)}return s||a}var U0e=365;function gz(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Xa,week:iE,month:Po,year:Hhe,startOfWeek:function(v){return a.ISOWeek?hf(v):pl(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?rz(v):lO(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=qhe([u,m]):n==="after"&&d&&(m=Ghe([d,m]));var g=!0;if(s){var p=pO(m,s);g=!p.disabled&&!p.hidden}return g?m:l.count>U0e?l.lastFocused:gz(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:Ct(Ct({},l),{count:l.count+1})})}var vz=y.createContext(void 0);function V0e(e){var t=yx(),r=pz(),n=y.useState(),a=n[0],s=n[1],i=y.useState(),l=i[0],c=i[1],u=B0e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},m=Or(),g=function(v,w){if(a){var x=gz(a,{moveBy:v,direction:w,context:m,modifiers:r});js(a,x)||(t.goToDate(x,a),h(x))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(vz.Provider,{value:p,children:e.children})}function gO(){var e=y.useContext(vz);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function W0e(e,t){var r=pz(),n=pO(e,r,t);return n}var vO=y.createContext(void 0);function z0e(e){if(!H_(e.initialProps)){var t={selected:void 0};return o.jsx(vO.Provider,{value:t,children:e.children})}return o.jsx(H0e,{initialProps:e.initialProps,children:e.children})}function H0e(e){var t=e.initialProps,r=e.children,n=function(s,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,i,l)},a={selected:t.selected,onDayClick:n};return o.jsx(vO.Provider,{value:a,children:r})}function xz(){var e=y.useContext(vO);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function q0e(e,t){var r=Or(),n=xz(),a=fO(),s=mO(),i=gO(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,m=i.focusMonthBefore,g=i.focusMonthAfter,p=i.focusYearBefore,v=i.focusYearAfter,w=i.focusStartOfWeek,x=i.focusEndOfWeek,b=function(L){var M,D,K,Z;H_(r)?(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,L):vx(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,t,L):xx(r)?(K=s.onDayClick)===null||K===void 0||K.call(s,e,t,L):(Z=r.onDayClick)===null||Z===void 0||Z.call(r,e,t,L)},_=function(L){var M;h(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,L)},S=function(L){var M;f(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,L)},k=function(L){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,L)},j=function(L){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,L)},E=function(L){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,L)},N=function(L){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,L)},O=function(L){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,L)},R=function(L){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,L)},T=function(L){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,L)},U=function(L){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,L)},z=function(L){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,L)},q=function(L){var M;switch(L.key){case"ArrowLeft":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":L.preventDefault(),L.stopPropagation(),u();break;case"ArrowUp":L.preventDefault(),L.stopPropagation(),d();break;case"PageUp":L.preventDefault(),L.stopPropagation(),L.shiftKey?p():m();break;case"PageDown":L.preventDefault(),L.stopPropagation(),L.shiftKey?v():g();break;case"Home":L.preventDefault(),L.stopPropagation(),w();break;case"End":L.preventDefault(),L.stopPropagation(),x();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,L)},I={onClick:b,onFocus:_,onBlur:S,onKeyDown:q,onKeyUp:z,onMouseEnter:k,onMouseLeave:j,onPointerEnter:E,onPointerLeave:N,onTouchCancel:O,onTouchEnd:R,onTouchMove:T,onTouchStart:U};return I}function G0e(){var e=Or(),t=xz(),r=fO(),n=mO(),a=H_(e)?t.selected:vx(e)?r.selected:xx(e)?n.selected:void 0;return a}function K0e(e){return Object.values(Do).includes(e)}function Y0e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(K0e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function X0e(e,t){var r=Ct({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Ct(Ct({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function J0e(e,t,r){var n,a,s,i=Or(),l=gO(),c=W0e(e,t),u=q0e(e,c),d=G0e(),f=!!(i.onDayClick||i.mode!=="default");y.useEffect(function(){var k;c.outside||l.focusedDay&&f&&js(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,f,c.outside]);var h=Y0e(i,c).join(" "),m=X0e(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(s=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:x0e,v=o.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),w={style:m,className:h,children:v,role:"gridcell"},x=l.focusTarget&&js(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&js(l.focusedDay,e),_=Ct(Ct(Ct({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||x?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:w};return S}function Q0e(e){var t=y.useRef(null),r=J0e(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(j1,Ct({name:"day",ref:t},r.buttonProps)):o.jsx("div",Ct({},r.divProps))}function Z0e(e){var t=e.number,r=e.dates,n=Or(),a=n.onWeekNumberClick,s=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return o.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return o.jsx(j1,{name:"week-number","aria-label":f,className:i.weeknumber,style:s.weeknumber,onClick:h,children:d})}function ege(e){var t,r,n=Or(),a=n.styles,s=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Q0e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Z0e,d;return i&&(d=o.jsx("td",{className:s.cell,style:a.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},epe(f))})]})}function pM(e,t,r){for(var n=r!=null&&r.ISOWeek?rz(t):lO(t,r),a=r!=null&&r.ISOWeek?hf(e):pl(e,r),s=rl(n,a),i=[],l=0;l<=s;l++)i.push(Xa(a,l));var c=i.reduce(function(u,d){var f=r!=null&&r.ISOWeek?az(d):iz(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function tge(e,t){var r=pM(Ts(e),z_(e),t);if(t!=null&&t.useFixedWeeks){var n=rpe(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],i=iE(s,6-n),l=pM(iE(s,1),i,t);r.push.apply(r,l)}}return r}function rge(e){var t,r,n,a=Or(),s=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=tge(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:v0e,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:ege,w=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:m0e;return o.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(p,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(x){return o.jsx(v,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),o.jsx(w,{displayMonth:e.displayMonth})]})}function nge(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var age=nge()?y.useLayoutEffect:y.useEffect,yk=!1,sge=0;function gM(){return"react-day-picker-".concat(++sge)}function ige(e){var t,r=e??(yk?gM():null),n=y.useState(r),a=n[0],s=n[1];return age(function(){a===null&&s(gM())},[]),y.useEffect(function(){yk===!1&&(yk=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function oge(e){var t,r,n=Or(),a=n.dir,s=n.classNames,i=n.styles,l=n.components,c=yx().displayMonths,u=ige(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=i.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(s.caption_start),h=Ct(Ct({},h),i.caption_start)),g&&(f.push(s.caption_end),h=Ct(Ct({},h),i.caption_end)),p&&(f.push(s.caption_between),h=Ct(Ct({},h),i.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:h0e;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(rge,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function lge(e){var t=Or(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function cge(e){var t,r,n=e.initialProps,a=Or(),s=gO(),i=yx(),l=y.useState(!1),c=l[0],u=l[1];y.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Ct(Ct({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return Ct(Ct({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:lge;return o.jsx("div",Ct({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(m,{children:i.displayMonths.map(function(g,p){return o.jsx(oge,{displayIndex:p,displayMonth:g},p)})})}))}function uge(e){var t=e.children,r=Rpe(e,["children"]);return o.jsx(Zpe,{initialProps:r,children:o.jsx(c0e,{children:o.jsx(z0e,{initialProps:r,children:o.jsx(y0e,{initialProps:r,children:o.jsx(_0e,{initialProps:r,children:o.jsx(A0e,{children:o.jsx(V0e,{children:t})})})})})})})}function dge(e){return o.jsx(uge,Ct({},e,{children:o.jsx(cge,{initialProps:e})}))}function yz({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(dge,{showOutsideDays:r,className:Se("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Se(Em({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Se(Em({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>o.jsx(Boe,{className:"h-4 w-4"}),IconRight:({...a})=>o.jsx(x_,{className:"h-4 w-4"})},...n})}yz.displayName="Calendar";function xO({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:i,className:l}){const{t:c}=zt(),{currentLanguage:u}=Vi(),[d,f]=y.useState(""),[h,m]=y.useState({from:void 0,to:void 0}),g=u==="ar"?Dpe:void 0;y.useEffect(()=>{const w=setTimeout(()=>{e(d)},300);return()=>clearTimeout(w)},[d,e]);const p=w=>{m(w),n&&n(w)},v=()=>{f(""),m({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return o.jsxs("div",{className:Se("flex flex-col sm:flex-row gap-3 mb-6",l),children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Us,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),o.jsx(ze,{placeholder:i||c("common.search","Search..."),value:d,onChange:w=>f(w.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),o.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&o.jsxs(xt,{onValueChange:t,children:[o.jsxs(gt,{className:"w-[140px]",children:[o.jsx(Goe,{className:"mr-2 h-4 w-4"}),o.jsx(yt,{placeholder:c("common.status","Status")})]}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"all",children:c("common.all","All")}),s.map(w=>o.jsx(Ce,{value:w.value,children:w.label},w.value))]})]}),r&&a.length>0&&o.jsxs(xt,{onValueChange:r,children:[o.jsxs(gt,{className:"w-[140px]",children:[o.jsx(fge,{className:"mr-2 h-4 w-4"}),o.jsx(yt,{placeholder:c("common.assignee","Assignee")})]}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"all",children:c("common.all","All")}),a.filter(w=>["employee","admin","manager","team_leader"].includes(w.user_role)).map(w=>o.jsx(Ce,{value:w.user_id.toString(),children:ke(w,"user_name")},w.user_id))]})]}),n&&o.jsxs(va,{children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",className:Se("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[o.jsx(Eo,{className:"mr-2 h-4 w-4"}),h.from?h.to?o.jsxs(o.Fragment,{children:[li(h.from,"LLL dd, y",{locale:g})," -"," ",li(h.to,"LLL dd, y",{locale:g})]}):li(h.from,"LLL dd, y",{locale:g}):o.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),o.jsx(ea,{className:"w-auto p-0",align:"start",children:o.jsx(yz,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:p,numberOfMonths:2})})]}),o.jsx(oe,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:o.jsx(Ii,{className:"h-4 w-4"})})]})]})}function fge(e){return o.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}var wz="AlertDialog",[hge,WYe]=hs(wz,[xW]),vc=xW(),bz=e=>{const{__scopeAlertDialog:t,...r}=e,n=vc(t);return o.jsx(L_,{...n,...r,modal:!0})};bz.displayName=wz;var mge="AlertDialogTrigger",_z=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=vc(r);return o.jsx(tO,{...a,...n,ref:t})});_z.displayName=mge;var pge="AlertDialogPortal",Sz=e=>{const{__scopeAlertDialog:t,...r}=e,n=vc(t);return o.jsx($_,{...n,...r})};Sz.displayName=pge;var gge="AlertDialogOverlay",jz=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=vc(r);return o.jsx(Cp,{...a,...n,ref:t})});jz.displayName=gge;var Qh="AlertDialogContent",[vge,xge]=hge(Qh),yge=zie("AlertDialogContent"),kz=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=vc(r),i=y.useRef(null),l=Wt(t,i),c=y.useRef(null);return o.jsx(nhe,{contentName:Qh,titleName:Nz,docsSlug:"alert-dialog",children:o.jsx(vge,{scope:r,cancelRef:c,children:o.jsxs(Tp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:et(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(yge,{children:n}),o.jsx(bge,{contentRef:i})]})})})});kz.displayName=Qh;var Nz="AlertDialogTitle",Ez=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=vc(r);return o.jsx(mx,{...a,...n,ref:t})});Ez.displayName=Nz;var Cz="AlertDialogDescription",Tz=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=vc(r);return o.jsx(px,{...a,...n,ref:t})});Tz.displayName=Cz;var wge="AlertDialogAction",Az=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=vc(r);return o.jsx(B_,{...a,...n,ref:t})});Az.displayName=wge;var Oz="AlertDialogCancel",Pz=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=xge(Oz,r),s=vc(r),i=Wt(t,a);return o.jsx(B_,{...s,...n,ref:i})});Pz.displayName=Oz;var bge=({contentRef:e})=>{const t=`\`${Qh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qh}\` by passing a \`${Cz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},_ge=bz,Sge=_z,jge=Sz,Dz=jz,Rz=kz,Iz=Az,Mz=Pz,Fz=Ez,Lz=Tz;const fi=_ge,mf=Sge,kge=jge,$z=y.forwardRef(({className:e,...t},r)=>o.jsx(Dz,{className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));$z.displayName=Dz.displayName;const Ds=y.forwardRef(({className:e,...t},r)=>o.jsxs(kge,{children:[o.jsx($z,{}),o.jsx(Rz,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ds.displayName=Rz.displayName;const Rs=({className:e,...t})=>o.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",e),...t});Rs.displayName="AlertDialogHeader";const Is=({className:e,...t})=>o.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Is.displayName="AlertDialogFooter";const Ms=y.forwardRef(({className:e,...t},r)=>o.jsx(Fz,{ref:r,className:Se("text-lg font-semibold",e),...t}));Ms.displayName=Fz.displayName;const Fs=y.forwardRef(({className:e,...t},r)=>o.jsx(Lz,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));Fs.displayName=Lz.displayName;const Ls=y.forwardRef(({className:e,...t},r)=>o.jsx(Iz,{ref:r,className:Se(Em(),e),...t}));Ls.displayName=Iz.displayName;const $s=y.forwardRef(({className:e,...t},r)=>o.jsx(Mz,{ref:r,className:Se(Em({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));$s.displayName=Mz.displayName;const ua=y.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ua.displayName="Textarea";function wx({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=Ua(),s=y.useRef(null),i=e.find(l=>l.id===t)??e[0];return y.useEffect(()=>{a&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[i==null?void 0:i.id,a]),a?o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:o.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:Lr()?"ltr":"rtl",children:o.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((l,c)=>(Lr(),l.id-c.id)).map(l=>{const c=l.id===i.id;return o.jsxs("button",{ref:c?s:null,onClick:()=>r(l.id),className:Se("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",c?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[o.jsx("span",{className:"truncate max-w-[140px]",children:l.name}),o.jsx(ct,{variant:"secondary",className:Se("h-5 min-w-5 px-1.5 text-xs font-semibold",c?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:l.count})]},l.id)})})})}),o.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:o.jsx("div",{className:"p-2",children:n})})]}):o.jsx(o.Fragment,{children:n})}var q_="Tabs",[Nge,zYe]=hs(q_,[P_]),Bz=P_(),[Ege,yO]=Nge(q_),Uz=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=sx(l),[f,h]=sc({prop:n,onChange:a,defaultProp:s??"",caller:q_});return o.jsx(Ege,{scope:r,baseId:ca(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(lt.div,{dir:d,"data-orientation":i,...u,ref:t})})});Uz.displayName=q_;var Vz="TabsList",Wz=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=yO(Vz,r),i=Bz(r);return o.jsx(_V,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(lt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});Wz.displayName=Vz;var zz="TabsTrigger",Hz=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,i=yO(zz,r),l=Bz(r),c=Kz(i.baseId,n),u=Yz(i.baseId,n),d=n===i.value;return o.jsx(SV,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(lt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:et(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:et(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:et(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(n)})})})});Hz.displayName=zz;var qz="TabsContent",Gz=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...i}=e,l=yO(qz,r),c=Kz(l.baseId,n),u=Yz(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Ba,{present:a||d,children:({present:h})=>o.jsx(lt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});Gz.displayName=qz;function Kz(e,t){return`${e}-trigger-${t}`}function Yz(e,t){return`${e}-content-${t}`}var Cge=Uz,Xz=Wz,Jz=Hz,Qz=Gz;const gl=Cge,Ro=y.forwardRef(({className:e,...t},r)=>o.jsx(Xz,{ref:r,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ro.displayName=Xz.displayName;const Yr=y.forwardRef(({className:e,...t},r)=>o.jsx(Jz,{ref:r,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Yr.displayName=Jz.displayName;const kn=y.forwardRef(({className:e,...t},r)=>o.jsx(Qz,{ref:r,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));kn.displayName=Qz.displayName;function wO({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=zt(),{user:s}=yr(),[i,l]=y.useState(""),[c,u]=y.useState(null),[d,f]=y.useState(""),[h,m]=y.useState(null),[g,p]=y.useState(!1),v=async()=>{if(!(!i.trim()||!(s!=null&&s.id))){p(!0);try{await Xh.create({content:i.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(_){console.error("Failed to create note:",_)}finally{p(!1)}}},w=async _=>{if(d.trim()){p(!0);try{await Xh.update(_,d.trim()),u(null),f(""),n()}catch(S){console.error("Failed to update note:",S)}finally{p(!1)}}},x=async()=>{if(h){p(!0);try{await Xh.delete(h),m(null),n()}catch(_){console.error("Failed to delete note:",_)}finally{p(!1)}}},b=_=>{if(!_)return"";try{return Qme(new Date(_),{addSuffix:!0})}catch{return _}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ua,{value:i,onChange:_=>l(_.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),o.jsxs(oe,{onClick:v,disabled:!i.trim()||g,className:"w-full",children:[o.jsx(To,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),o.jsx("div",{className:"space-y-3",children:r.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(_=>{var j;const S=c===_.note_id,k=_.created_by===(s==null?void 0:s.id);return o.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(j=_.user)!=null&&j.avatar?o.jsx("img",{src:_.user.avatar,alt:ke(_.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-xs font-semibold text-primary",children:_.user?ke(_.user,"user_name")[0]:"?"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:_.user?ke(_.user,"user_name"):a("notes.unknown")}),o.jsx("p",{className:"text-xs text-muted-foreground",children:b(_.created_at)})]})]}),k&&!S&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(_.note_id),f(_.content)},children:o.jsx(Co,{className:"h-3.5 w-3.5"})}),o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>m(_.note_id),children:o.jsx(xr,{className:"h-3.5 w-3.5"})})]})]}),S?o.jsxs("div",{className:"space-y-2",children:[o.jsx(ua,{value:d,onChange:E=>f(E.target.value),rows:3,className:"resize-none"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(oe,{size:"sm",onClick:()=>w(_.note_id),disabled:!d.trim()||g,children:[o.jsx(To,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),o.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[o.jsx(Ii,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content})]},_.note_id)})}),o.jsx(fi,{open:!!h,onOpenChange:()=>m(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:a("notes.delete")}),o.jsx(Fs,{children:a("notes.deleteConfirmation")})]}),o.jsxs(Is,{children:[o.jsx($s,{children:a("buttons.cancel")}),o.jsx(Ls,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function Zz({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return o.jsxs("div",{className:Se("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(i=>o.jsx(H9,{className:Se(s[t],i<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},i)),r&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function Tge({leadId:e}){const{t}=zt(),{user:r}=yr(),[n,a]=y.useState(null),[s,i]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(""),[m,g]=y.useState([]),[p,v]=y.useState(!0),[w,x]=y.useState(!1),[b,_]=y.useState([]),[S,k]=y.useState([]),[j,E]=y.useState([]),[N,O]=y.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});y.useEffect(()=>{T(),R()},[e]);const R=async()=>{try{const D=await ls.getAll().then(K=>K.filter(Z=>Z.user_role==="client"));E(D)}catch(D){console.error("Failed to load clients:",D)}},T=async()=>{var D,K,Z;try{v(!0);const[C,Y,B]=await Promise.all([zc.getById(e),rs.getByType("leads"),ls.getAll()]);if(a(C),_(Y),k(B),!C)return;if(O({lead_name:C.lead_name||"",lead_description:C.lead_description||"",client_user_id:C.client_user_id||"",stage:((D=C.stage)==null?void 0:D.toString())||"",assigned_to:C.assigned_to||"",value:((K=C.value)==null?void 0:K.toString())||"",currency:C.currency||"SAR",priority:((Z=C.priority)==null?void 0:Z.toString())||"3",expected_close_date:C.expected_close_date||""}),C.client_user_id){const G=await ls.getByAuthId(C.client_user_id);i(G)}if(C.created_by){const G=B.find(re=>re.auth_user_id===C.created_by)||null;c(G)}if(C.assigned_to){const G=B.find(re=>re.auth_user_id===C.assigned_to)||null;d(G)}if(C.stage){const G=Y.find(re=>re.stage_id===C.stage);G&&h(ke(G,"stage_name"))}U()}catch(C){console.error("Failed to load lead data:",C)}finally{v(!1)}},U=async()=>{try{const D=await Xh.getByRelated("lead",e);g(D)}catch(D){console.error("Failed to load notes:",D)}},z=async()=>{if(n)try{const D=N.assigned_to&&N.assigned_to!=="unassigned"?N.assigned_to:null,K=$i({lead_name:N.lead_name,lead_description:N.lead_description||null,client_user_id:N.client_user_id||null,stage:parseInt(N.stage),assigned_to:D,value:N.value?parseFloat(N.value):null,currency:N.currency,priority:parseInt(N.priority),expected_close_date:N.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await zc.update(n.lead_id,K);const Z={...n,...K};if(a(Z),N.client_user_id){const Y=j.find(B=>B.auth_user_id===N.client_user_id)||null;i(Y)}if(D){const Y=S.find(B=>B.auth_user_id===D)||null;d(Y)}const C=b.find(Y=>Y.stage_id===parseInt(N.stage));C&&h(ke(C,"stage_name")),x(!1)}catch(D){console.error("Failed to update lead:",D)}},q=()=>{var D,K,Z;n&&O({lead_name:n.lead_name||"",lead_description:n.lead_description||"",client_user_id:n.client_user_id||"",stage:((D=n.stage)==null?void 0:D.toString())||"",assigned_to:n.assigned_to||"",value:((K=n.value)==null?void 0:K.toString())||"",currency:n.currency||"SAR",priority:((Z=n.priority)==null?void 0:Z.toString())||"3",expected_close_date:n.expected_close_date||""}),x(!1)},I=(D,K)=>{if(D===null)return"-";const Z=K||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:Z==="SAR"?"SAR":Z}).format(D)},L=D=>D?new Date(D).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(p)return o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!n)return o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const M=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager";return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),M&&!w&&o.jsxs(oe,{onClick:()=>x(!0),variant:"outline",size:"sm",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),w&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(oe,{onClick:q,variant:"outline",size:"sm",children:[o.jsx(Ii,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),o.jsxs(oe,{onClick:z,size:"sm",children:[o.jsx(To,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),o.jsxs(gl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Yr,{value:"overview",children:t("common.overview")}),o.jsx(Yr,{value:"notes",children:t("notes.title")})]}),o.jsx(kn,{value:"overview",className:"space-y-4 mt-4",children:w?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),o.jsx(ze,{id:"lead_name",value:N.lead_name,onChange:D=>O(K=>({...K,lead_name:D.target.value})),placeholder:t("leads.leadName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"lead_description",children:t("leads.description")}),o.jsx(ua,{id:"lead_description",value:N.lead_description,onChange:D=>O(K=>({...K,lead_description:D.target.value})),placeholder:t("leads.description"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("leads.client")}),o.jsxs(xt,{value:N.client_user_id,onValueChange:D=>O(K=>({...K,client_user_id:D})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:t("leads.selectClient")})}),o.jsx(vt,{children:j.filter(D=>D.auth_user_id).map(D=>o.jsx(Ce,{value:D.auth_user_id,children:ke(D,"user_name")},D.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("common.stage")}),o.jsxs(xt,{value:N.stage,onValueChange:D=>O(K=>({...K,stage:D})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:t("leads.selectStage")})}),o.jsx(vt,{children:b.map(D=>o.jsx(Ce,{value:D.stage_id.toString(),children:ke(D,"stage_name")},D.stage_id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("leads.value")}),o.jsx(ze,{type:"number",min:"0",step:"0.01",value:N.value,onChange:D=>O(K=>({...K,value:D.target.value})),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("leads.currency")}),o.jsxs(xt,{value:N.currency,onValueChange:D=>O(K=>({...K,currency:D})),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"SAR",children:"SAR (.)"}),o.jsx(Ce,{value:"USD",children:"USD ($)"}),o.jsx(Ce,{value:"EUR",children:"EUR ()"}),o.jsx(Ce,{value:"GBP",children:"GBP ()"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("common.priority")}),o.jsxs(xt,{value:N.priority,onValueChange:D=>O(K=>({...K,priority:D})),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsxs(Ce,{value:"1",children:[" ",t("common.veryLow")]}),o.jsxs(Ce,{value:"2",children:[" ",t("common.low")]}),o.jsxs(Ce,{value:"3",children:[" ",t("common.medium")]}),o.jsxs(Ce,{value:"4",children:[" ",t("common.high")]}),o.jsxs(Ce,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("leads.expectedCloseDate")}),o.jsx(ze,{type:"date",value:N.expected_close_date,onChange:D=>O(K=>({...K,expected_close_date:D.target.value}))})]})]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("leads.assignToEmployee")}),o.jsxs(xt,{value:N.assigned_to,onValueChange:D=>O(K=>({...K,assigned_to:D})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:t("leads.selectAssignee")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"unassigned",children:t("common.unassigned")}),S.filter(D=>["employee","admin","manager","team_leader"].includes(D.user_role)&&D.auth_user_id).map(D=>o.jsx(Ce,{value:D.auth_user_id,children:ke(D,"user_name")},D.user_id))]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:ke(n,"lead_name")}),ke(n,"lead_description")&&o.jsx("p",{className:"text-muted-foreground mt-1",children:ke(n,"lead_description")})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(OI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),o.jsx(Zz,{priority:n.priority,size:"sm"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[o.jsx(rg,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),o.jsx("p",{className:"text-lg font-semibold",children:I(n.value,n.currency)})]})]}),s&&o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[o.jsx(cn,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),o.jsx("p",{className:"font-medium truncate",children:ke(s,"user_name")}),s.user_email&&o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:s.user_email})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(OI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),o.jsx(ct,{variant:"secondary",children:f||"-"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Ra,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),o.jsx("p",{className:"font-medium",children:u?ke(u,"user_name"):t("common.unassigned")})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 rounded-lg border",children:[o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Eo,{className:"h-3.5 w-3.5"}),t("common.created")]}),o.jsx("p",{className:"text-sm font-medium mt-1",children:L(n.created_date)})]}),l&&o.jsxs("div",{className:"p-3 rounded-lg border",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),o.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:ke(l,"user_name")})]})]})]})}),o.jsx(kn,{value:"notes",className:"mt-4",children:o.jsx(wO,{relatedType:"lead",relatedId:e,notes:m,onNotesChange:U})})]})]})}function bx({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){zt();const i=Ua();return o.jsxs("div",{className:Se("mb-6",s),children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[r&&o.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?te.createElement(r):r}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&o.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!i&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>o.jsx(mt,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&o.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?te.createElement(l.icon):l.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&o.jsxs("span",{className:Se("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function Op({message:e="Loading...",className:t=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${t}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(V9,{className:"h-16 w-16 text-primary animate-spin"}),o.jsx("div",{className:"absolute inset-0 h-16 w-16 rounded-full border-4 border-muted opacity-25"})]}),o.jsx("p",{className:"mt-6 text-sm text-muted-foreground animate-pulse font-medium",children:e})]})}function ll({icon:e,title:t,description:r,action:n,className:a=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&o.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?te.createElement(e):e}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const bO=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:Se("w-full caption-bottom text-sm",e),...t})}));bO.displayName="Table";const _O=y.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:Se("[&_tr]:border-b",e),...t}));_O.displayName="TableHeader";const SO=y.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:Se("[&_tr:last-child]:border-0",e),...t}));SO.displayName="TableBody";const Age=y.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:Se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Age.displayName="TableFooter";const Zg=y.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:Se("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Zg.displayName="TableRow";const co=y.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:Se("h-12 py-4 align-middle font-medium text-muted-foreground",Lr()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...t}));co.displayName="TableHead";const uo=y.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:Se("py-4 align-middle",Lr()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...t}));uo.displayName="TableCell";const Oge=y.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:Se("mt-4 text-sm text-muted-foreground",e),...t}));Oge.displayName="TableCaption";var G_="Checkbox",[Pge,HYe]=hs(G_),[Dge,jO]=Pge(G_);function Rge(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=sc({prop:r,defaultProp:a??!1,onChange:c,caller:G_}),[g,p]=y.useState(null),[v,w]=y.useState(null),x=y.useRef(!1),b=g?!!i||!!g.closest("form"):!0,_={checked:h,disabled:s,setChecked:m,control:g,setControl:p,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:bu(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:w};return o.jsx(Dge,{scope:t,..._,children:Ige(f)?f(_):n})}var eH="CheckboxTrigger",tH=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=jO(eH,e),p=Wt(a,d),v=y.useRef(c);return y.useEffect(()=>{const w=s==null?void 0:s.form;if(w){const x=()=>f(v.current);return w.addEventListener("reset",x),()=>w.removeEventListener("reset",x)}},[s,f]),o.jsx(lt.button,{type:"button",role:"checkbox","aria-checked":bu(c)?"mixed":c,"aria-required":u,"data-state":iH(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:p,onKeyDown:et(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:et(r,w=>{f(x=>bu(x)?!0:!x),g&&m&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});tH.displayName=eH;var kO=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(Rge,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(tH,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(sH,{__scopeCheckbox:r})]})})});kO.displayName=G_;var rH="CheckboxIndicator",nH=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=jO(rH,r);return o.jsx(Ba,{present:n||bu(s.checked)||s.checked===!0,children:o.jsx(lt.span,{"data-state":iH(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});nH.displayName=rH;var aH="CheckboxBubbleInput",sH=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=jO(aH,e),g=Wt(r,m),p=UA(s),v=IA(n);y.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set,k=!a.current;if(p!==s&&S){const j=new Event("click",{bubbles:k});x.indeterminate=bu(s),S.call(x,bu(s)?!1:s),x.dispatchEvent(j)}},[h,p,s,a]);const w=y.useRef(bu(s)?!1:s);return o.jsx(lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??w.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});sH.displayName=aH;function Ige(e){return typeof e=="function"}function bu(e){return e==="indeterminate"}function iH(e){return bu(e)?"indeterminate":e?"checked":"unchecked"}const lE=y.forwardRef(({className:e,indeterminate:t,...r},n)=>o.jsx(kO,{ref:n,className:Se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:o.jsx(nH,{className:Se("flex items-center justify-center text-current"),children:t?o.jsx(ele,{className:"h-4 w-4"}):o.jsx(kA,{className:"h-4 w-4"})})}));lE.displayName=kO.displayName;function Du({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:i,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d}){const f=Ua(),{t:h}=zt(),[m,g]=y.useState(new Set),p=j=>{const E=new Set(m);E.has(j)?E.delete(j):E.add(j),g(E)},v=()=>{m.size===e.length?g(new Set):g(new Set(e.map(a)))},w=()=>{g(new Set)},x=()=>e.filter(j=>m.has(a(j))),b=j=>{const E=r.filter(N=>!N.show||N.show(j));return E.length===0?null:o.jsxs(XA,{children:[o.jsx(JA,{asChild:!0,onClick:N=>N.stopPropagation(),children:o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(zoe,{className:"h-4 w-4"})})}),o.jsx(M_,{align:"end",children:E.map((N,O)=>o.jsxs(Ll,{onClick:R=>{R.stopPropagation(),N.onClick(j)},className:Se(N.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[N.icon&&o.jsx("span",{className:"mr-2",children:N.icon}),N.label]},O))})]})};if(e.length===0)return i||o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:h("common.noData","No data available")});if(f)return o.jsx("div",{className:Se("space-y-3 w-full overflow-hidden",c),children:e.map((j,E)=>l?o.jsx("div",{onClick:()=>s==null?void 0:s(j),className:"w-full",children:l(j,b(j))},a(j)):o.jsx(mt,{className:Se("w-full overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(j),children:o.jsx(wt,{className:"p-4 w-full",children:o.jsxs("div",{className:"space-y-3 w-full",children:[t.filter(N=>!N.hideOnMobile).map((N,O)=>o.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[o.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:N.header}),o.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:N.render(j,E)})]},N.key)),r.length>0&&o.jsx("div",{className:"pt-2 border-t flex justify-end",children:b(j)})]})})},a(j)))});const _=m.size,S=_===e.length&&e.length>0,k=_>0&&_<e.length;return o.jsxs("div",{className:"space-y-4",children:[u&&_>0&&o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("p",{className:"text-sm font-medium",children:[_," ",_===1?h("common.item","item"):h("common.items","items")," ",h("common.selected","selected")]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[n.map((j,E)=>o.jsxs(oe,{variant:j.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>j.onClick(x()),className:Se(j.variant==="destructive"&&"hover:bg-destructive/90"),children:[j.icon&&o.jsx("span",{className:"mr-2",children:j.icon}),j.label]},E)),o.jsx(oe,{variant:"ghost",size:"sm",onClick:w,className:"text-muted-foreground hover:text-foreground",children:o.jsx(Ii,{className:"h-4 w-4"})})]})]}),o.jsx(mt,{className:Se("overflow-hidden",c),children:o.jsx(wt,{className:"p-0",children:o.jsxs(bO,{children:[o.jsx(_O,{children:o.jsxs(Zg,{className:"bg-muted/50 hover:bg-muted/50",children:[u&&o.jsx(co,{className:"w-12",children:o.jsx(lE,{checked:S,indeterminate:k,onCheckedChange:v,"aria-label":h("common.selectAll","Select all")})}),t.map(j=>o.jsx(co,{className:Se("font-semibold",j.className),children:j.header},j.key)),r.length>0&&o.jsx(co,{className:"w-[100px] text-right",children:h("common.actions")})]})}),o.jsx(SO,{children:e.map((j,E)=>{const N=a(j),O=m.has(N);return o.jsxs(Zg,{className:Se("group transition-colors",O&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(j),children:[u&&o.jsx(uo,{onClick:R=>R.stopPropagation(),children:o.jsx(lE,{checked:O,onCheckedChange:()=>p(N),"aria-label":h("common.selectItem","Select item")})}),t.map(R=>o.jsx(uo,{className:Se(R.className,"overflow-hidden"),children:R.render(j,E)},R.key)),r.length>0&&o.jsx(uo,{className:"text-right",children:o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:b(j)})})]},N)})})]})})})]})}function NO({children:e,variant:t="secondary"}){return o.jsx(ct,{variant:t,className:"text-xs font-medium",children:e})}function Rm({name:e,fallback:t="Unassigned"}){return o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Ra,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:Se(!e&&"text-muted-foreground"),children:e||t})]})}function Ru({date:e,fallback:t="Not set"}){return e?o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Eo,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{children:new Date(e).toLocaleDateString()})]}):o.jsx("span",{className:"text-muted-foreground",children:t})}function Iu({title:e,subtitle:t,icon:r}){return o.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[r&&(typeof r=="function"?te.createElement(r):r),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),t&&o.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:t})]})]})}function Mge({value:e,currency:t="SAR"}){return e==null?o.jsx("span",{className:"text-muted-foreground",children:"-"}):o.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function Fge({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:i,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=zt(),m=Ua(),g=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),p=(v,w)=>{if(v===null)return"-";const x=w||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:x}).format(v)};return o.jsxs(mt,{className:Se("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",m?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[o.jsxs(ur,{className:"pb-3 px-4 pt-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:ke(e,"lead_name")}),ke(e,"lead_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ke(e,"lead_description")})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&o.jsx(oe,{variant:"ghost",size:"sm",className:Se("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:o.jsx(Co,{className:"h-4 w-4"})}),i&&o.jsxs(fi,{children:[o.jsx(mf,{asChild:!0,onClick:v=>v.stopPropagation(),children:o.jsx(oe,{variant:"ghost",size:"sm",className:Se("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(xr,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:v=>v.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:h("leads.deleteLead")}),o.jsx(Fs,{children:h("leads.deleteConfirmation",{name:ke(e,"lead_name")})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:h("buttons.cancel")}),o.jsx(Ls,{onClick:v=>{v.stopPropagation(),i(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[o.jsx(Zz,{priority:e.priority,size:"sm"}),e.expected_close_date&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Eo,{className:"h-3 w-3"}),o.jsx("span",{children:g(e.expected_close_date)})]})]})]}),o.jsxs(wt,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&o.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:o.jsx(rg,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),o.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:p(e.value,e.currency)})]})]}),t&&o.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(cn,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),o.jsx("p",{className:"text-sm font-semibold truncate",children:ke(t,"user_name")})]})]}),(a==="admin"||a==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Ra,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),o.jsx("p",{className:"text-xs font-medium truncate",children:ke(r,"user_name")})]})]}),o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Ra,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),o.jsx("p",{className:"text-xs font-medium truncate",children:n?ke(n,"user_name"):h("common.all","Unassigned")})]})]})]}),o.jsx("div",{className:"pt-1",children:o.jsxs(xt,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[o.jsx(gt,{className:"h-7 text-xs",children:o.jsx(yt,{placeholder:h("leads.selectAssignee","Select assignee")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"unassigned",children:h("common.all","Unassigned")}),s.filter(v=>["employee","admin","manager","team_leader"].includes(v.user_role)&&v.auth_user_id).map(v=>o.jsx(Ce,{value:v.auth_user_id,children:ke(v,"user_name")},v.user_id))]})]})})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Eo,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:g(e.created_date)})]}),o.jsx(ct,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function Lge(){var _t,ne,he;Bs();const{hasRole:e,user:t}=yr(),r=Ua(),{t:n}=zt(),{setBreadcrumbs:a}=g_();y.useEffect(()=>{a([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,a]);const[s,i]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,g]=y.useState(!0);y.useState(!1),y.useState("");const[p,v]=y.useState(null),[w,x]=y.useState(""),[b,_]=y.useState(null),[S,k]=y.useState(null),[j,E]=y.useState(!1),[N,O]=y.useState(null),[R,T]=y.useState("kanban"),[U,z]=y.useState(null),[q,I]=y.useState(""),[L,M]=y.useState("all"),[D,K]=y.useState("all"),[Z,C]=y.useState({from:void 0,to:void 0}),Y=y.useMemo(()=>s.filter(F=>{const le=(F.lead_name||"").toLowerCase().includes(q.toLowerCase())||(F.lead_description||"").toLowerCase().includes(q.toLowerCase())||(F.client_name||"").toLowerCase().includes(q.toLowerCase()),ve=D==="all"||F.assigned_to&&F.assigned_to===D;let ye=!0;if(Z.from&&F.created_date){const $e=new Date(F.created_date),xe=new Date(Z.from);xe.setHours(0,0,0,0);const be=new Date($e);if(be.setHours(0,0,0,0),ye=be>=xe,ye&&Z.to){const ue=new Date(Z.to);ue.setHours(23,59,59,999),ye=be<=ue}}else Z.from&&!F.created_date&&(ye=!1);return le&&ve&&ye}),[s,q,L,D,Z]),[B,G]=y.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});y.useEffect(()=>{re()},[]),y.useEffect(()=>{if(f.length>0&&N===null){const F=f.find(le=>le.stage_id===1);F&&O(F.stage_id)}},[f,N]);const re=async()=>{try{g(!0);const[F,le,ve,ye]=await Promise.all([zc.getAll(),ls.getAll(),rO.getAll(),rs.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:F.length,clients:ve.length,users:le.length,stages:ye.length}),console.log("[Leads] Leads data:",F),console.log("[Leads] Stages data:",ye),i(F),c(ve),d(le),h(ye)}catch(F){console.error("Failed to load data:",F)}finally{g(!1)}},se=async F=>{if(w.trim())try{await rs.update(F,{stage_name:w.trim()}),h(f.map(le=>le.stage_id===F?{...le,stage_name:w.trim()}:le)),v(null),x("")}catch(le){console.error("Failed to update stage:",le)}},ce=async F=>{if(s.filter(ve=>ve.stage===F).length>0){_(F);return}try{await rs.delete(F),h(f.filter(ve=>ve.stage_id!==F))}catch(ve){console.error("Failed to delete stage:",ve)}},ae=async()=>{if(b)try{await rs.delete(b),h(f.filter(F=>F.stage_id!==b)),_(null),re()}catch(F){console.error("Failed to delete stage:",F)}},J=F=>{k(F)},me=F=>{F.preventDefault(),F.dataTransfer.dropEffect="move"},A=async F=>{if(!S)return;const le=s.find(ve=>ve.lead_id===S);if(le&&le.stage!==F)try{await zc.update(S,{stage:F}),i(s.map(ve=>ve.lead_id===S?{...ve,stage:F}:ve))}catch(ve){console.error("Failed to update lead stage:",ve)}k(null)},Le=async F=>{try{await zc.delete(F),i(s.filter(le=>le.lead_id!==F))}catch(le){console.error("Failed to delete lead:",le)}},Ie=async(F,le)=>{const ve=le||null,ye=ve?new Date().toISOString():null,$e=s.find(xe=>xe.lead_id===F);if($e){i(s.map(xe=>xe.lead_id===F?{...xe,assigned_to:ve,assigned_at:ye}:xe));try{await zc.update(F,{assigned_to:ve,assigned_at:ye})}catch(xe){console.error("Failed to assign lead:",xe),i(s.map(be=>be.lead_id===F?{...be,assigned_to:$e.assigned_to,assigned_at:$e.assigned_at}:be))}}},Ve=F=>{G(le=>({...le,stage:F.toString()})),E(!0)},We=async()=>{if(B.lead_name.trim())try{const F=B.assigned_to&&B.assigned_to!=="unassigned"?B.assigned_to:null,le=F?new Date().toISOString():null,ve=$i({lead_name:B.lead_name.trim(),lead_description:B.lead_description.trim()||null,client_name:B.client_name.trim()||null,client_user_id:B.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(B.stage),assigned_to:F,assigned_at:le,value:B.value?parseFloat(B.value):null,currency:B.currency||"SAR",priority:B.priority?parseInt(B.priority):3,expected_close_date:B.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),ye=await zc.create(ve);i([...s,ye]),G({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),E(!1)}catch(F){console.error("Failed to create lead:",F)}},Pe=f.filter(F=>F.stage_type==="leads").sort((F,le)=>{const ve=F.stager_order_index??0,ye=le.stager_order_index??0;return ve-ye}),ft=Pe.map(F=>({id:F.stage_id,name:ke(F,"stage_name"),color:F.color,count:Y.filter(le=>le.stage===F.stage_id).length}));return m?o.jsx(Op,{message:n("leads.loading","Loading leads...")}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Lr()?"rtl":"ltr",children:[o.jsx(bx,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:o.jsx(Pa,{className:"h-6 w-6 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:R==="kanban"?"default":"ghost",size:"sm",onClick:()=>T("kanban"),className:"h-8 w-8 p-0",children:o.jsx(b_,{className:"h-4 w-4"})}),o.jsx(oe,{variant:R==="list"?"default":"ghost",size:"sm",onClick:()=>T("list"),className:"h-8 w-8 p-0",children:o.jsx(nx,{className:"h-4 w-4"})})]}),o.jsxs(oe,{onClick:()=>E(!0),children:[o.jsx(sr,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:s.length,icon:o.jsx(Pa,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:s.filter(F=>{const le=new Date(F.created_date),ve=new Date;return le.getMonth()===ve.getMonth()&&le.getFullYear()===ve.getFullYear()}).length,icon:o.jsx(Eo,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${s.reduce((F,le)=>F+(le.value||0),0).toLocaleString()}`,icon:o.jsx(rg,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:s.length>0?`SAR ${Math.round(s.reduce((F,le)=>F+(le.value||0),0)/s.length).toLocaleString()}`:"SAR 0",icon:o.jsx(rg,{className:"h-5 w-5 text-blue-500"})}]}),o.jsx(xO,{onSearch:I,onFilterAssignee:K,onFilterDateRange:C,users:u}),R==="kanban"?o.jsxs(wx,{stages:ft,currentStageId:N||((_t=ft[0])==null?void 0:_t.id),onStageChange:O,children:[o.jsx(jn,{open:j,onOpenChange:E,children:o.jsxs(dn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:n("leads.createLead")}),o.jsx(La,{children:n("leads.createLeadDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),o.jsx(ze,{value:B.lead_name,onChange:F=>G(le=>({...le,lead_name:F.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),o.jsx(ua,{value:B.lead_description,onChange:F=>G(le=>({...le,lead_description:F.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),o.jsx(ze,{value:B.client_name,onChange:F=>G(le=>({...le,client_name:F.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),o.jsxs(xt,{value:B.client_user_id,onValueChange:F=>G(le=>({...le,client_user_id:F})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("leads.selectClient")})}),o.jsx(vt,{children:l.filter(F=>F.auth_user_id).map(F=>o.jsx(Ce,{value:F.auth_user_id,children:ke(F,"user_name")},F.user_id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),o.jsx(ze,{type:"number",min:"0",step:"0.01",value:B.value,onChange:F=>G(le=>({...le,value:F.target.value})),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),o.jsxs(xt,{value:B.currency,onValueChange:F=>G(le=>({...le,currency:F})),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"SAR",children:"SAR (.)"}),o.jsx(Ce,{value:"USD",children:"USD ($)"}),o.jsx(Ce,{value:"EUR",children:"EUR ()"}),o.jsx(Ce,{value:"GBP",children:"GBP ()"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),o.jsxs(xt,{value:B.priority,onValueChange:F=>G(le=>({...le,priority:F})),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsxs(Ce,{value:"1",children:[" ",n("common.veryLow")]}),o.jsxs(Ce,{value:"2",children:[" ",n("common.low")]}),o.jsxs(Ce,{value:"3",children:[" ",n("common.medium")]}),o.jsxs(Ce,{value:"4",children:[" ",n("common.high")]}),o.jsxs(Ce,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),o.jsx(ze,{type:"date",value:B.expected_close_date,onChange:F=>G(le=>({...le,expected_close_date:F.target.value}))})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),o.jsxs(xt,{value:B.assigned_to,onValueChange:F=>G(le=>({...le,assigned_to:F})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("leads.selectAssignee","Select assignee")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"unassigned",children:n("common.all","Unassigned")}),u.filter(F=>["employee","admin","manager","team_leader"].includes(F.user_role)&&F.auth_user_id).map(F=>o.jsx(Ce,{value:F.auth_user_id,children:ke(F,"user_name")},F.user_id))]})]})]})]}),o.jsxs(Fa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>E(!1),children:n("buttons.cancel")}),o.jsxs(oe,{onClick:We,disabled:!((ne=B.lead_name)!=null&&ne.trim()),children:[o.jsx(To,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:Pe.filter(F=>{var le;return r?F.stage_id===(N||((le=ft[0])==null?void 0:le.id)):!0}).map((F,le)=>{var ue,Ae,Fe;const ve=Y.filter(Re=>Re.stage===F.stage_id),ye=ve.reduce((Re,Ke)=>Re+(Ke.value||0),0),$e=new Set(ve.filter(Re=>Re.value!==null&&Re.currency).map(Re=>Re.currency)),xe=$e.size===1?Array.from($e)[0]:((ue=ve.find(Re=>Re.currency))==null?void 0:ue.currency)||"SAR",be=(Re,Ke)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Ke}).format(Re);return console.log(`[Leads] Stage ${F.stage_name} (${F.stage_id}): ${ve.length} leads`),console.log("[Leads] Stage leads:",ve),o.jsxs("div",{className:Se("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${le*.1}s`},onDragOver:me,onDrop:()=>A(F.stage_id),children:[o.jsx("div",{className:Se("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",F.color||"border-l-4 border-primary/50","hidden md:block"),children:o.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:p===F.stage_id?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(ze,{value:w,onChange:Re=>x(Re.target.value),onKeyDown:Re=>{Re.key==="Enter"&&se(F.stage_id),Re.key==="Escape"&&(v(null),x(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>se(F.stage_id),className:"h-8 w-8 p-0",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"font-bold text-base",children:ke(F,"stage_name")})}),o.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:ve.length}),o.jsxs(o.Fragment,{children:[o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>Ve(F.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:o.jsx(sr,{className:"h-4 w-4"})}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>{v(F.stage_id),x(ke(F,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:o.jsx(Co,{className:"h-3 w-3"})}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>ce(F.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:o.jsx(xr,{className:"h-3 w-3"})})]})]})]})})}),o.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((Ae=f.sort((Re,Ke)=>(Re.stager_order_index||0)-(Ke.stager_order_index||0))[0])==null?void 0:Ae.stage_id)===F.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(mt,{className:Se("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Ve(F.stage_id),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(sr,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),ve.map(Re=>{const Ke=l.find(Pr=>Pr.auth_user_id===Re.client_user_id),kt=u.find(Pr=>Pr.auth_user_id===Re.created_by),Jt=u.find(Pr=>Pr.auth_user_id===Re.assigned_to);return o.jsx("div",{children:o.jsx(Fge,{lead:Re,client:Ke||null,creator:kt||null,assignedUser:Jt||null,userRole:t==null?void 0:t.role,users:u,onDelete:()=>Le(Re.lead_id),onEdit:()=>z(Re.lead_id),onAssign:Ie,onClick:()=>z(Re.lead_id),onDragStart:J,isDragging:S===Re.lead_id})},Re.lead_id)}),((Fe=f.sort((Re,Ke)=>(Re.stager_order_index||0)-(Ke.stager_order_index||0))[0])==null?void 0:Fe.stage_id)!==F.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(oe,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Ve(F.stage_id),children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),o.jsx("div",{className:Se("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rg,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),o.jsx("span",{className:"text-lg font-bold text-primary",children:be(ye,xe)})]})})]},F.stage_id)})}),o.jsx(fi,{open:!!b,onOpenChange:()=>_(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:n("leads.deleteStage")}),o.jsx(Fs,{children:n("leads.deleteStageConfirmation",{count:s.filter(F=>F.stage===b).length})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:n("buttons.cancel")}),o.jsx(Ls,{onClick:ae,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",s.length,")"]}),o.jsx(jn,{open:j,onOpenChange:E,children:o.jsxs(dn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:n("leads.createLead")}),o.jsx(La,{children:n("leads.createLeadDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),o.jsx(ze,{value:B.lead_name,onChange:F=>G(le=>({...le,lead_name:F.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),o.jsx(ua,{value:B.lead_description,onChange:F=>G(le=>({...le,lead_description:F.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),o.jsx(ze,{value:B.client_name,onChange:F=>G(le=>({...le,client_name:F.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),o.jsxs(xt,{value:B.client_user_id,onValueChange:F=>G(le=>({...le,client_user_id:F})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("leads.selectClient")})}),o.jsx(vt,{children:l.filter(F=>F.auth_user_id).map(F=>o.jsx(Ce,{value:F.auth_user_id,children:ke(F,"user_name")},F.user_id))})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),o.jsxs(xt,{value:B.assigned_to,onValueChange:F=>G(le=>({...le,assigned_to:F})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("leads.selectAssignee","Select assignee")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"unassigned",children:n("common.all","Unassigned")}),u.filter(F=>["employee","admin","manager","team_leader"].includes(F.user_role)&&F.auth_user_id).map(F=>o.jsx(Ce,{value:F.auth_user_id,children:ke(F,"user_name")},F.user_id))]})]})]})]}),o.jsxs(Fa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>E(!1),children:n("buttons.cancel")}),o.jsxs(oe,{onClick:We,disabled:!((he=B.lead_name)!=null&&he.trim()),children:[o.jsx(To,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const F=[{key:"lead",header:n("leads.leadName"),render:ye=>o.jsx(Iu,{title:ke(ye,"lead_name"),subtitle:ke(ye,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:ye=>o.jsx(Mge,{value:ye.value,currency:ye.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:ye=>{const $e=l.find(xe=>xe.auth_user_id===ye.client_user_id);return $e?ke($e,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:ye=>{const $e=u.find(xe=>xe.auth_user_id===ye.created_by);return o.jsx(Rm,{name:$e?ke($e,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:ye=>{const $e=u.find(xe=>xe.auth_user_id===ye.assigned_to);return o.jsx(Rm,{name:$e?ke($e,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:ye=>{const $e=f.find(xe=>xe.stage_id===ye.stage);return $e?ke($e,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:ye=>o.jsx(Ru,{date:ye.created_date,fallback:n("leads.notSet")})}],le=[{label:n("common.view"),icon:o.jsx(si,{className:"h-4 w-4"}),onClick:ye=>z(ye.lead_id)},{label:n("buttons.delete","Delete"),icon:o.jsx(xr,{className:"h-4 w-4"}),onClick:ye=>Le(ye.lead_id),variant:"destructive",show:()=>(t==null?void 0:t.role)==="admin"}],ve=[{label:n("buttons.delete","Delete"),icon:o.jsx(xr,{className:"h-4 w-4"}),onClick:ye=>{ye.forEach($e=>Le($e.lead_id))},variant:"destructive"}];return o.jsx(Du,{data:Y,columns:F,actions:le,bulkActions:ve,keyExtractor:ye=>ye.lead_id,onRowClick:ye=>z(ye.lead_id),enableBulkSelect:!0,emptyState:o.jsx(ll,{icon:o.jsx(Pa,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:o.jsxs(oe,{onClick:()=>E(!0),children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),o.jsx(ic,{open:!!U,onOpenChange:()=>z(null),children:o.jsxs(ml,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:Lr()?"left":"right",children:[o.jsxs(Pu,{children:[o.jsx(oc,{children:n("leads.leadDetails")}),o.jsx(U_,{children:n("leads.leadDetailsDesc")})]}),o.jsx("div",{className:"mt-6",children:U&&o.jsx(Tge,{leadId:U})})]})})]})}function _x({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[o.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:o.jsx(y_,{className:"h-10 w-10 text-destructive"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&o.jsxs(oe,{onClick:r,variant:"outline",className:"gap-2",children:[o.jsx(WN,{className:"h-4 w-4"}),"Try Again"]})]})}function $ge({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:i,isDragging:l=!1}){var p,v;const{t:c}=zt(),u=Ua(),d=w=>w?new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=w=>{switch(w){case"done":return o.jsx(su,{className:"h-3 w-3 text-green-500"});case"in_progress":return o.jsx(Nd,{className:"h-3 w-3 text-blue-500"});case"todo":default:return o.jsx(y_,{className:"h-3 w-3 text-gray-500"})}},h=w=>{switch(w){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},m=w=>{if(!w)return null;const x=new Date,_=(new Date(w).getTime()-x.getTime())/(1e3*60*60);return _<0?"overdue":_<24?"urgent":_<72?"soon":null},g=w=>{switch(m(w)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return o.jsxs(mt,{className:Se("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),g(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:w=>{s&&(w.dataTransfer.effectAllowed="move",w.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[o.jsx(ur,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&o.jsxs(fi,{children:[o.jsx(mf,{asChild:!0,onClick:w=>w.stopPropagation(),children:o.jsx(oe,{variant:"ghost",size:"sm",className:Se("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(xr,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:w=>w.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:"Delete Task"}),o.jsxs(Fs,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),o.jsxs(Is,{children:[o.jsx($s,{children:"Cancel"}),o.jsx(Ls,{onClick:w=>{w.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),o.jsxs(wt,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Ra,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:t?ke(t,"user_name"):c("common.all","Unassigned")})]})}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),o.jsx("span",{className:"text-xs font-medium capitalize",children:((p=e.task_status)==null?void 0:p.replace("_"," "))||"Todo"})]})})]}),u&&i&&o.jsx("div",{className:"pt-1",children:o.jsxs(xt,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:w=>i(e.task_id,parseInt(w)),children:[o.jsx(gt,{className:"h-7 text-xs",children:o.jsx(yt,{placeholder:c("tasks.selectStage","Select stage")})}),o.jsx(vt,{children:r.map(w=>o.jsx(Ce,{value:w.stage_id.toString(),children:ke(w,"stage_name")},w.stage_id))})]})}),e.due_date&&o.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[o.jsx(Eo,{className:"h-3 w-3 flex-shrink-0"}),o.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function Bge(){var ae;Bs();const{hasRole:e,user:t,loading:r}=yr(),{t:n}=zt(),a=Ua(),[s,i]=y.useState(null),[l,c]=y.useState("kanban");y.useState(!1);const u=J=>{switch(J==null?void 0:J.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};y.useState(""),y.useState(null),y.useState(""),y.useState(null);const[d,f]=y.useState(null),[h,m]=y.useState(!1),[g,p]=y.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[v,w]=y.useState(""),[x,b]=y.useState("all"),[_,S]=y.useState("all"),[k,j]=y.useState({from:void 0,to:void 0}),{data:E=[],isLoading:N,error:O}=hhe(),{data:R=[],isLoading:T,error:U}=dhe(),{data:z=[],isLoading:q,error:I}=mhe("tasks"),L=y.useMemo(()=>E.filter(J=>{const me=J.task_name.toLowerCase().includes(v.toLowerCase())||J.description&&J.description.toLowerCase().includes(v.toLowerCase()),A=x==="all"||J.task_status===x,Le=_==="all"||J.assigned_to&&J.assigned_to.toString()===_;let Ie=!0;if(k.from&&J.due_date){const Ve=new Date(J.due_date),We=new Date(k.from);We.setHours(0,0,0,0);const Pe=new Date(Ve);if(Pe.setHours(0,0,0,0),Ie=Pe>=We,Ie&&k.to){const ft=new Date(k.to);ft.setHours(23,59,59,999),Ie=Pe<=ft}}else k.from&&!J.due_date&&(Ie=!1);return me&&A&&Le&&Ie}),[E,v,x,_,k]),M=z.sort((J,me)=>{const A=J.stager_order_index??0,Le=me.stager_order_index??0;return A-Le}).map(J=>({id:J.stage_id,name:ke(J,"stage_name"),color:J.color,count:L.filter(me=>me.stage_id===J.stage_id).length})),D=N||T||q||r,K=(O==null?void 0:O.message)||(U==null?void 0:U.message)||(I==null?void 0:I.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:D,data:{tasks:E.length,users:R.length,stages:z.length}});const Z=()=>{},C=async J=>{try{await iu.delete(J),Z()}catch(me){console.error("Failed to delete task:",me)}},Y=J=>{f(J)},B=J=>{J.preventDefault(),J.dataTransfer.dropEffect="move"},G=async J=>{if(!d)return;const me=E.find(A=>A.task_id===d);if(me&&me.stage_id!==J)try{await iu.update(d,{stage_id:J}),Z()}catch(A){console.error("Failed to update task stage:",A)}f(null)},re=async(J,me)=>{const A=E.find(Le=>Le.task_id===J);if(A&&A.stage_id!==me)try{await iu.update(J,{stage_id:me}),Z()}catch(Le){console.error("Failed to update task stage:",Le)}},se=async()=>{if(g.task_name.trim())try{const J=$i({task_name:g.task_name.trim(),stage_id:g.stage_id?parseInt(g.stage_id):null,assigned_to:g.assigned_to?parseInt(g.assigned_to):null,task_status:g.task_status,due_date:g.due_date?new Date(g.due_date).toISOString():null,description:g.description.trim()||null,auth_user_id:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await iu.create(J),Z(),p({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),m(!1)}catch(J){console.error("Failed to create task:",J)}},ce=!0;return y.useEffect(()=>{if(z.length>0&&s===null){const J=z.sort((me,A)=>(me.stager_order_index??0)-(A.stager_order_index??0));J.length>0&&i(J[0].stage_id)}},[z,s]),D||r||!t?o.jsx(Op,{message:n("tasks.loading","Loading tasks...")}):K?o.jsx(_x,{message:K}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Lr()?"rtl":"ltr",children:[o.jsx(bx,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:o.jsx(ng,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:l==="kanban"?"default":"ghost",size:"sm",onClick:()=>c("kanban"),className:"h-8 w-8 p-0",children:o.jsx(b_,{className:"h-4 w-4"})}),o.jsx(oe,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:o.jsx(nx,{className:"h-4 w-4"})})]}),o.jsxs(oe,{onClick:()=>m(!0),children:[o.jsx(sr,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.totalTasks"),value:E.length,icon:o.jsx(ng,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:E.filter(J=>J.task_status==="todo").length,icon:o.jsx(y_,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:E.filter(J=>J.task_status==="in_progress").length,icon:o.jsx(Nd,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:E.filter(J=>J.task_status==="done").length,icon:o.jsx(su,{className:"h-4 w-4 text-green-500"})}]}),o.jsx(xO,{onSearch:w,onFilterStatus:b,onFilterAssignee:S,onFilterDateRange:j,users:R,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),l==="kanban"?o.jsxs(wx,{stages:M,currentStageId:s||((ae=M[0])==null?void 0:ae.id),onStageChange:i,children:[o.jsx(jn,{open:h,onOpenChange:m,children:o.jsxs(dn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:n("tasks.createTask")}),o.jsx(La,{children:n("tasks.createTaskDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),o.jsx(ze,{value:g.task_name,onChange:J=>p(me=>({...me,task_name:J.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),o.jsx(ua,{value:g.description,onChange:J=>p(me=>({...me,description:J.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),o.jsxs(xt,{value:g.assigned_to,onValueChange:J=>p(me=>({...me,assigned_to:J})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectUser")})}),o.jsx(vt,{children:R.map(J=>o.jsx(Ce,{value:J.user_id.toString(),children:ke(J,"user_name")},J.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),o.jsxs(xt,{value:g.stage_id,onValueChange:J=>p(me=>({...me,stage_id:J})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectStage")})}),o.jsx(vt,{children:z.map(J=>o.jsx(Ce,{value:J.stage_id.toString(),children:ke(J,"stage_name")},J.stage_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),o.jsxs(xt,{value:g.task_status,onValueChange:J=>p(me=>({...me,task_status:J})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectStatus")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"todo",children:n("tasks.todo")}),o.jsx(Ce,{value:"in_progress",children:n("tasks.inProgress")}),o.jsx(Ce,{value:"done",children:n("tasks.done")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),o.jsx(ze,{type:"date",value:g.due_date,onChange:J=>p(me=>({...me,due_date:J.target.value}))})]})]}),o.jsxs(Fa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),o.jsxs(oe,{onClick:se,disabled:!g.task_name.trim(),children:[o.jsx(To,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:z.sort((J,me)=>{const A=J.stager_order_index??0,Le=me.stager_order_index??0;return A-Le}).filter(J=>{var me;return a?J.stage_id===(s||((me=M[0])==null?void 0:me.id)):!0}).map((J,me)=>{var Le,Ie;const A=L.filter(Ve=>Ve.stage_id===J.stage_id);return o.jsxs("div",{className:Se("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${me*.1}s`},onDragOver:B,onDrop:()=>G(J.stage_id),children:[o.jsx("div",{className:Se("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",J.color||"border-l-4 border-primary/50"),children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(w_,{className:"h-4 w-4 text-muted-foreground cursor-move"}),o.jsx("h2",{className:"font-bold text-base",children:ke(J,"stage_name")})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:A.length})})]})}),o.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((Le=z.sort((Ve,We)=>(Ve.stager_order_index||0)-(We.stager_order_index||0))[0])==null?void 0:Le.stage_id)===J.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(mt,{className:Se("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>m(!0),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(sr,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),A.map(Ve=>{const We=R.find(Pe=>Pe.user_id===Ve.assigned_to);return o.jsx("div",{draggable:ce,onDragStart:()=>Y(Ve.task_id),className:"cursor-move",children:o.jsx($ge,{task:Ve,assignedUser:We||null,stages:z,onDelete:()=>C(Ve.task_id),onClick:()=>{console.log("Task clicked:",Ve.task_id)},onDragStart:Y,onStageChange:re,isDragging:d===Ve.task_id})},Ve.task_id)}),((Ie=z.sort((Ve,We)=>(Ve.stager_order_index||0)-(We.stager_order_index||0))[0])==null?void 0:Ie.stage_id)!==J.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(oe,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>m(!0),children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},J.stage_id)})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",E.length,")"]}),o.jsx(jn,{open:h,onOpenChange:m,children:o.jsxs(dn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:n("tasks.createTask")}),o.jsx(La,{children:n("tasks.createTaskDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),o.jsx(ze,{value:g.task_name,onChange:J=>p(me=>({...me,task_name:J.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),o.jsx(ua,{value:g.description,onChange:J=>p(me=>({...me,description:J.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),o.jsxs(xt,{value:g.assigned_to,onValueChange:J=>p(me=>({...me,assigned_to:J})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectUser")})}),o.jsx(vt,{children:R.map(J=>o.jsx(Ce,{value:J.user_id.toString(),children:ke(J,"user_name")},J.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),o.jsxs(xt,{value:g.stage_id,onValueChange:J=>p(me=>({...me,stage_id:J})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectStage")})}),o.jsx(vt,{children:z.map(J=>o.jsx(Ce,{value:J.stage_id.toString(),children:ke(J,"stage_name")},J.stage_id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),o.jsxs(xt,{value:g.task_status,onValueChange:J=>p(me=>({...me,task_status:J})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectStatus")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"todo",children:n("tasks.todo")}),o.jsx(Ce,{value:"in_progress",children:n("tasks.inProgress")}),o.jsx(Ce,{value:"done",children:n("tasks.done")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),o.jsx(ze,{type:"date",value:g.due_date,onChange:J=>p(me=>({...me,due_date:J.target.value}))})]})]})]}),o.jsxs(Fa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),o.jsxs(oe,{onClick:se,disabled:!g.task_name.trim(),children:[o.jsx(To,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const J=[{key:"task",header:n("tasks.taskName"),render:A=>o.jsx(Iu,{title:A.task_name,subtitle:A.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:A=>{const Le=R.find(Ie=>Ie.user_id===A.assigned_to);return o.jsx(Rm,{name:Le?ke(Le,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:A=>o.jsx(NO,{variant:u(A.task_status),children:A.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:A=>o.jsx(Ru,{date:A.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:A=>{const Le=z.find(Ie=>Ie.stage_id===A.stage_id);return Le?ke(Le,"stage_name"):n("leads.unknown")}}],me=[{label:n("common.view"),icon:o.jsx(si,{className:"h-4 w-4"}),onClick:A=>console.log("View task:",A.task_id)},{label:n("buttons.delete","Delete"),icon:o.jsx(xr,{className:"h-4 w-4"}),onClick:A=>C(A.task_id),variant:"destructive"}];return o.jsx(Du,{data:L,columns:J,actions:me,keyExtractor:A=>A.task_id,emptyState:o.jsx(ll,{icon:o.jsx(ng,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:o.jsxs(oe,{onClick:()=>m(!0),children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function vM(e){const[t,r]=y.useState(e),n=y.useCallback((s,i)=>{r(l=>({...l,[s]:i}))},[]),a=y.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const cE=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},Uge=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,Vge=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return o.jsx(zN,{className:"h-3 w-3 text-red-500"});case"high":return o.jsx(zN,{className:"h-3 w-3 text-orange-500"});default:return null}};function xM({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:i,isDragging:l=!1,stageName:c}){const{t:u}=zt(),d=Ua();return o.jsxs(mt,{className:Se("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{i&&i()},children:[o.jsx(ur,{className:"pb-3 px-4 pt-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),Vge(e.priority)]}),o.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&o.jsxs(fi,{children:[o.jsx(mf,{asChild:!0,onClick:f=>f.stopPropagation(),children:o.jsx(oe,{variant:"ghost",size:"sm",className:Se("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(xr,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:f=>f.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:u("tickets.deleteTicket","Delete Ticket")}),o.jsx(Fs,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:u("buttons.cancel")}),o.jsx(Ls,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),o.jsxs(wt,{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&o.jsx(ct,{variant:"outline",className:"text-xs",children:c}),o.jsx(ct,{variant:cE(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&o.jsx(ct,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ra,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground truncate",children:ke(t,"user_name")})]}),o.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Eo,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:Uge(e.created_date,u("leads.unknown"))})]})})]})]})}function Wge(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[a,s]=y.useState([]),[i,l]=y.useState(!0),[c,u]=y.useState(null),[d,f]=y.useState(""),[h,m]=y.useState("all"),[g,p]=y.useState("all"),[v,w]=y.useState("all"),[x,b]=y.useState(!1),[_,S]=y.useState(null),[k,j]=y.useState(!1),[E,N]=y.useState(!1),O=y.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),R=y.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:T,setField:U,reset:z,setValues:q}=vM(O),{values:I,setField:L,reset:M,setValues:D}=vM(R),[K,Z]=y.useState(null),[C,Y]=y.useState(null),[B,G]=y.useState("kanban"),[re,se]=y.useState(""),[ce,ae]=y.useState(!1),{user:J,loading:me}=yr(),{t:A}=zt(),Le=Ua();y.useEffect(()=>{J&&!me&&Ie()},[J,me]),y.useEffect(()=>{if(a.length>0&&C===null){const ue=a.filter(Ae=>Ae.stage_type==="tickets");ue.length>0&&Y(ue[0].stage_id)}},[a,C]);const Ie=async()=>{try{l(!0),u(null);const[ue,Ae,Fe]=await Promise.all([u0.getAll().catch(Re=>(console.error("[Tickets] Error fetching tickets:",Re),[])),ls.getAll().catch(Re=>(console.error("[Tickets] Error fetching users:",Re),[])),rs.getByType("tickets").catch(Re=>(console.error("[Tickets] Error fetching stages:",Re),[]))]);if(t(ue),n(Ae),s(Fe),Fe.length>0){const Re=[...Fe].sort((Ke,kt)=>(Ke.stager_order_index||0)-(kt.stager_order_index||0));q(Ke=>({...Ke,stage_id:Ke.stage_id||Re[0].stage_id.toString()}))}}catch(ue){console.error("[Tickets] Failed to load data:",ue),u(ue.message||A("common.error"))}finally{l(!1)}},Ve=ue=>ue&&r.find(Ae=>Ae.user_id===ue)||null,We=async ue=>{var Ae;if(ue.preventDefault(),!(ce||!J)){se(""),ae(!0);try{const Fe=T.assigned_to?parseInt(T.assigned_to):null,Re=r.find(gn=>gn.user_id===Fe),Ke=(Re==null?void 0:Re.auth_user_id)||null,kt={subject:T.subject,description:T.description||null,priority:T.priority,ticket_type:T.ticket_type,stage_id:T.stage_id?parseInt(T.stage_id):null,created_by:((Ae=J.profile)==null?void 0:Ae.user_id)||null,created_by_auth_user_id:J.id,assigned_to:Fe,assigned_to_auth_user_id:Ke,auth_user_id:J.id,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Jt=await u0.create(kt);t([Jt,...e]);const Pr=a.length>0?[...a].sort((gn,zr)=>(gn.stager_order_index||0)-(zr.stager_order_index||0))[0].stage_id.toString():"";z({...O,stage_id:Pr}),b(!1)}catch(Fe){se(Fe.message||A("tickets.createError"))}finally{ae(!1)}}},Pe=ue=>{var Ae,Fe;S(ue),N(!1),D({...R,subject:ue.subject||"",description:ue.description||"",priority:ue.priority||"medium",ticket_type:ue.ticket_type||"request",assigned_to:((Ae=ue.assigned_to)==null?void 0:Ae.toString())||"unassigned",stage_id:((Fe=ue.stage_id)==null?void 0:Fe.toString())||""}),j(!0)},ft=async()=>{if(!(!_||ce)){se(""),ae(!0);try{const ue=I.assigned_to&&I.assigned_to!=="unassigned"?parseInt(I.assigned_to):null,Ae=r.find(Re=>Re.user_id===ue),Fe=(Ae==null?void 0:Ae.auth_user_id)||null;await u0.update(_.ticket_id,{subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:ue,assigned_to_auth_user_id:Fe,stage_id:I.stage_id?parseInt(I.stage_id):null}),t(e.map(Re=>Re.ticket_id===_.ticket_id?{...Re,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:ue,assigned_to_auth_user_id:Fe,stage_id:I.stage_id?parseInt(I.stage_id):null}:Re)),S(Re=>Re?{...Re,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:ue,assigned_to_auth_user_id:Fe,stage_id:I.stage_id?parseInt(I.stage_id):null}:null),N(!1)}catch(ue){se(ue.message||A("tickets.updateError","Failed to update ticket"))}finally{ae(!1)}}},_t=async ue=>{try{await u0.delete(ue),t(e.filter(Ae=>Ae.ticket_id!==ue))}catch(Ae){console.error("[Tickets] Failed to delete ticket:",Ae)}},ne=ue=>{Z(ue)},he=()=>{Z(null)},F=ue=>{ue.preventDefault(),ue.dataTransfer.dropEffect="move"},le=async ue=>{if(!K)return;const Ae=e.find(Fe=>Fe.ticket_id===K);if(Ae&&Ae.stage_id!==ue){t(Fe=>Fe.map(Re=>Re.ticket_id===K?{...Re,stage_id:ue}:Re));try{await u0.moveToStage(K,ue)}catch(Fe){console.error("Failed to update ticket stage:",Fe),t(Re=>Re.map(Ke=>Ke.ticket_id===K?{...Ke,stage_id:Ae.stage_id}:Ke))}}Z(null)},ve=y.useMemo(()=>e.filter(ue=>{var kt,Jt,Pr;const Ae=((kt=ue.subject)==null?void 0:kt.toLowerCase().includes(d.toLowerCase()))||((Jt=ue.description)==null?void 0:Jt.toLowerCase().includes(d.toLowerCase())),Fe=h==="all"||ue.priority===h,Re=g==="all"||ue.ticket_type===g,Ke=v==="all"||((Pr=ue.stage_id)==null?void 0:Pr.toString())===v;return Ae&&Fe&&Re&&Ke}),[e,d,h,g,v]),ye=y.useMemo(()=>a.filter(ue=>ue.stage_type==="tickets").sort((ue,Ae)=>{const Fe=ue.stager_order_index??0,Re=Ae.stager_order_index??0;return Fe-Re}),[a]),$e=y.useMemo(()=>ye.map(ue=>({id:ue.stage_id,name:ke(ue,"stage_name"),color:ue.color,count:ve.filter(Ae=>Ae.stage_id===ue.stage_id).length})),[ye,ve]),xe=()=>{var ue;return ye.length===0?o.jsx(ll,{icon:o.jsx(ch,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noStages","No ticket stages found"),description:A("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):o.jsxs(wx,{stages:$e,currentStageId:C||((ue=$e[0])==null?void 0:ue.id),onStageChange:Y,children:[o.jsx("div",{className:Se("flex gap-4 pb-4 overflow-x-auto",Le?"hidden":"flex"),children:ye.map(Ae=>{const Fe=ve.filter(kt=>kt.stage_id===Ae.stage_id),Re=Ae.color||"border-l-4 border-gray-400",Ke=ke(Ae,"stage_name");return o.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-[calc(100vh-280px)]",onDragOver:F,onDrop:()=>le(Ae.stage_id),children:[o.jsx("div",{className:Se("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Re),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:ke(Ae,"stage_name")}),o.jsx(ct,{variant:"secondary",className:"text-xs",children:Fe.length})]}),o.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{q(kt=>({...kt,stage_id:Ae.stage_id.toString()})),b(!0)},children:o.jsx(sr,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:o.jsxs("div",{className:"space-y-3",children:[Fe.map(kt=>o.jsx(xM,{ticket:kt,assignedUser:Ve(kt.assigned_to),userRole:J==null?void 0:J.role,onDelete:_t,onClick:()=>Pe(kt),onDragStart:ne,onDragEnd:he,isDragging:K===kt.ticket_id,stageName:Ke},kt.ticket_id)),Fe.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:A("tickets.noTicketsInStage","No tickets in this stage")})]})})]},Ae.stage_id)})}),Le&&C&&o.jsxs("div",{className:"space-y-3 p-2",children:[ve.filter(Ae=>Ae.stage_id===C).map(Ae=>{var Fe;return o.jsx(xM,{ticket:Ae,assignedUser:Ve(Ae.assigned_to),userRole:J==null?void 0:J.role,onDelete:_t,onClick:()=>Pe(Ae),onDragStart:ne,onDragEnd:he,isDragging:K===Ae.ticket_id,stageName:((Fe=$e.find(Re=>Re.id===C))==null?void 0:Fe.name)||null},Ae.ticket_id)}),ve.filter(Ae=>Ae.stage_id===C).length===0&&o.jsx(ll,{icon:o.jsx(ch,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noTicketsInStage","No tickets in this stage"),description:A("tickets.createFirst","Create a ticket to get started"),action:o.jsxs(oe,{onClick:()=>{q(Ae=>({...Ae,stage_id:C.toString()})),b(!0)},children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket")]})})]})]})},be=()=>{const ue=[{key:"ticket",header:A("tickets.subject","Subject"),render:Fe=>o.jsx(Iu,{title:Fe.subject||A("tickets.noSubject","No Subject"),subtitle:Fe.description})},{key:"priority",header:A("tickets.priority","Priority"),render:Fe=>o.jsx(NO,{variant:cE(Fe.priority),children:Fe.priority||A("leads.unknown")})},{key:"type",header:A("tickets.ticketType","Type"),hideOnMobile:!0,render:Fe=>o.jsx(ct,{variant:"outline",className:"text-xs",children:Fe.ticket_type||A("leads.unknown")})},{key:"assignee",header:A("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Fe=>{const Re=Ve(Fe.assigned_to);return o.jsx(Rm,{name:Re?ke(Re,"user_name"):null,fallback:A("tickets.unassigned","Unassigned")})}},{key:"stage",header:A("tickets.stage","Stage"),hideOnMobile:!0,render:Fe=>{const Re=ye.find(Ke=>Ke.stage_id===Fe.stage_id);return Re?ke(Re,"stage_name"):A("tickets.noStage","No stage")}},{key:"created",header:A("tickets.createdDate","Created"),hideOnMobile:!0,render:Fe=>o.jsx(Ru,{date:Fe.created_date,fallback:A("leads.notSet","Not set")})}],Ae=[{label:A("common.view","View"),icon:o.jsx(si,{className:"h-4 w-4"}),onClick:Pe},{label:A("buttons.delete","Delete"),icon:o.jsx(xr,{className:"h-4 w-4"}),onClick:Fe=>_t(Fe.ticket_id),variant:"destructive",show:()=>(J==null?void 0:J.role)==="admin"}];return o.jsx(Du,{data:ve,columns:ue,actions:Ae,keyExtractor:Fe=>Fe.ticket_id,onRowClick:Pe,emptyState:o.jsx(ll,{icon:o.jsx(ch,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noTicketsInPage"),description:A("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:o.jsxs(oe,{onClick:()=>b(!0),children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket","New Ticket")]})})})};return i||me||!J?o.jsx(Op,{message:A("tickets.loading","Loading tickets...")}):c?o.jsx(_x,{title:A("tickets.errorTitle","Error loading tickets"),message:c,onRetry:Ie}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Lr()?"rtl":"ltr",children:[o.jsx(bx,{title:A("tickets.title"),description:A("tickets.description","Manage and track support tickets"),icon:o.jsx(ch,{className:"h-5 w-5 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:B==="kanban"?"default":"ghost",size:"sm",onClick:()=>G("kanban"),className:"h-8 w-8 p-0",children:o.jsx(b_,{className:"h-4 w-4"})}),o.jsx(oe,{variant:B==="list"?"default":"ghost",size:"sm",onClick:()=>G("list"),className:"h-8 w-8 p-0",children:o.jsx(nx,{className:"h-4 w-4"})})]}),o.jsxs(oe,{onClick:()=>b(!0),children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket")]})]}),stats:[{label:A("tickets.total","Total Tickets"),value:e.length,icon:o.jsx(ch,{className:"h-4 w-4 text-primary"})},...ye.map(ue=>({label:ke(ue,"stage_name"),value:e.filter(Ae=>Ae.stage_id===ue.stage_id).length,icon:o.jsx(w_,{className:"h-4 w-4 text-muted-foreground"})}))]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ze,{placeholder:A("tickets.searchPlaceholder","Search tickets..."),value:d,onChange:ue=>f(ue.target.value),className:"pl-10 h-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[o.jsxs(xt,{value:v,onValueChange:w,children:[o.jsx(gt,{className:"w-[130px] h-9",children:o.jsx(yt,{placeholder:A("tickets.allStages","All Stages")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"all",children:A("tickets.allStages","All Stages")}),ye.map(ue=>o.jsx(Ce,{value:ue.stage_id.toString(),children:ke(ue,"stage_name")},ue.stage_id))]})]}),o.jsxs(xt,{value:g,onValueChange:p,children:[o.jsx(gt,{className:"w-[130px] h-9",children:o.jsx(yt,{placeholder:A("tickets.allTypes")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"all",children:A("tickets.allTypes","All Types")}),o.jsx(Ce,{value:"issue",children:A("tickets.typeIssue","Issue")}),o.jsx(Ce,{value:"request",children:A("tickets.typeRequest","Request")}),o.jsx(Ce,{value:"follow_up",children:A("tickets.typeFollowUp","Follow Up")}),o.jsx(Ce,{value:"internal_task",children:A("tickets.typeInternalTask","Internal Task")})]})]}),o.jsxs(xt,{value:h,onValueChange:m,children:[o.jsx(gt,{className:"w-[130px] h-9",children:o.jsx(yt,{placeholder:A("tickets.allPriorities")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"all",children:A("tickets.allPriorities","All Priorities")}),o.jsx(Ce,{value:"low",children:A("tickets.priorityLow","Low")}),o.jsx(Ce,{value:"medium",children:A("tickets.priorityMedium","Medium")}),o.jsx(Ce,{value:"high",children:A("tickets.priorityHigh","High")}),o.jsx(Ce,{value:"urgent",children:A("tickets.priorityUrgent","Urgent")})]})]})]})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:B==="kanban"?xe():be()}),o.jsx(jn,{open:x,onOpenChange:b,children:o.jsxs(dn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:A("tickets.createNewTicket")}),o.jsx(La,{children:A("tickets.createTicketDesc")})]}),o.jsxs("form",{onSubmit:We,className:"space-y-4",children:[re&&o.jsx(of,{variant:"destructive",children:o.jsx(lf,{children:re})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"subject",children:[A("tickets.subject")," *"]}),o.jsx(ze,{id:"subject",value:T.subject,onChange:ue=>U("subject",ue.target.value),placeholder:A("tickets.subjectPlaceholder"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"description",children:A("tickets.description")}),o.jsx(ua,{id:"description",value:T.description,onChange:ue=>U("description",ue.target.value),placeholder:A("tickets.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"stage",children:A("tickets.stage","Stage")}),o.jsxs(xt,{value:T.stage_id,onValueChange:ue=>U("stage_id",ue),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:A("tickets.selectStage","Select stage")})}),o.jsx(vt,{children:ye.map(ue=>o.jsx(Ce,{value:ue.stage_id.toString(),children:ke(ue,"stage_name")},ue.stage_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"priority",children:[A("tickets.priority")," *"]}),o.jsxs(xt,{value:T.priority,onValueChange:ue=>U("priority",ue),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"low",children:A("tickets.priorityLow")}),o.jsx(Ce,{value:"medium",children:A("tickets.priorityMedium")}),o.jsx(Ce,{value:"high",children:A("tickets.priorityHigh")}),o.jsx(Ce,{value:"urgent",children:A("tickets.priorityUrgent")})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"ticket_type",children:[A("tickets.ticketType")," *"]}),o.jsxs(xt,{value:T.ticket_type,onValueChange:ue=>U("ticket_type",ue),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"request",children:A("tickets.typeRequest")}),o.jsx(Ce,{value:"follow_up",children:A("tickets.typeFollowUp")}),o.jsx(Ce,{value:"issue",children:A("tickets.typeIssue")}),o.jsx(Ce,{value:"internal_task",children:A("tickets.typeInternalTask")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"assigned_to",children:A("tickets.assignTo")}),o.jsxs(xt,{value:T.assigned_to,onValueChange:ue=>U("assigned_to",ue),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:A("tickets.selectAssignee")})}),o.jsx(vt,{children:r.map(ue=>o.jsx(Ce,{value:ue.user_id.toString(),children:ke(ue,"user_name")},ue.user_id))})]})]})]}),o.jsxs(Fa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(oe,{type:"button",variant:"outline",onClick:()=>b(!1),className:"w-full sm:w-auto",children:A("buttons.cancel")}),o.jsx(oe,{type:"submit",disabled:ce||!T.subject.trim(),className:"w-full sm:w-auto",children:A(ce?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),o.jsx(jn,{open:k,onOpenChange:j,children:o.jsxs(dn,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[o.jsxs(fn,{children:[o.jsx(hn,{className:"text-lg sm:text-xl leading-tight",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[o.jsx("span",{className:"break-words",children:_==null?void 0:_.subject}),o.jsx(ct,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(_==null?void 0:_.status)||A("leads.unknown")})]})}),o.jsxs(La,{className:"text-sm",children:[A("tickets.ticketId"),": #",_==null?void 0:_.ticket_id]})]}),_&&o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[re&&o.jsx(of,{variant:"destructive",children:o.jsx(lf,{children:re})}),E?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"edit-subject",children:[A("tickets.subject")," *"]}),o.jsx(ze,{id:"edit-subject",value:I.subject,onChange:ue=>L("subject",ue.target.value),placeholder:A("tickets.subjectPlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"edit-description",children:A("tickets.description")}),o.jsx(ua,{id:"edit-description",value:I.description,onChange:ue=>L("description",ue.target.value),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:A("tickets.stage","Stage")}),o.jsxs(xt,{value:I.stage_id,onValueChange:ue=>L("stage_id",ue),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:A("tickets.selectStage","Select stage")})}),o.jsx(vt,{children:ye.map(ue=>o.jsx(Ce,{value:ue.stage_id.toString(),children:ke(ue,"stage_name")},ue.stage_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:A("tickets.priority")}),o.jsxs(xt,{value:I.priority,onValueChange:ue=>L("priority",ue),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"low",children:A("tickets.priorityLow")}),o.jsx(Ce,{value:"medium",children:A("tickets.priorityMedium")}),o.jsx(Ce,{value:"high",children:A("tickets.priorityHigh")}),o.jsx(Ce,{value:"urgent",children:A("tickets.priorityUrgent")})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:A("tickets.ticketType")}),o.jsxs(xt,{value:I.ticket_type,onValueChange:ue=>L("ticket_type",ue),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"request",children:A("tickets.typeRequest")}),o.jsx(Ce,{value:"follow_up",children:A("tickets.typeFollowUp")}),o.jsx(Ce,{value:"issue",children:A("tickets.typeIssue")}),o.jsx(Ce,{value:"internal_task",children:A("tickets.typeInternalTask")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:A("tickets.assignTo")}),o.jsxs(xt,{value:I.assigned_to,onValueChange:ue=>L("assigned_to",ue),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:A("tickets.selectAssignee")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"unassigned",children:A("tickets.unassigned","Unassigned")}),r.map(ue=>o.jsx(Ce,{value:ue.user_id.toString(),children:ke(ue,"user_name")},ue.user_id))]})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.priority")}),o.jsx("div",{className:"mt-1",children:o.jsx(ct,{variant:cE(_.priority),className:"text-xs",children:_.priority||A("leads.unknown")})})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.ticketType")}),o.jsx("div",{className:"mt-1",children:o.jsx(ct,{variant:"outline",className:"text-xs",children:_.ticket_type||A("leads.unknown")})})]})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.stage","Stage")}),o.jsx("div",{className:"mt-1 text-sm",children:ye.find(ue=>ue.stage_id===_.stage_id)?ke(ye.find(ue=>ue.stage_id===_.stage_id),"stage_name"):A("tickets.noStage","No stage")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.assignedTo")}),o.jsx("div",{className:"mt-1 text-sm break-words",children:Ve(_.assigned_to)?ke(Ve(_.assigned_to),"user_name"):A("tickets.unassigned","Unassigned")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.createdDate")}),o.jsx("div",{className:"mt-1 text-sm",children:_.created_date?new Date(_.created_date).toLocaleString():"N/A"})]})]}),_.description&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.description")}),o.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:_.description})]})]}),o.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.createdBy")}),o.jsx("div",{className:"mt-1 text-sm break-words",children:Ve(_.created_by)?ke(Ve(_.created_by),"user_name"):A("leads.unknown")})]}),_.resolved_date&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.resolvedDate")}),o.jsx("div",{className:"mt-1 text-sm",children:new Date(_.resolved_date).toLocaleString()})]}),_.closed_at&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.closedDate")}),o.jsx("div",{className:"mt-1 text-sm",children:new Date(_.closed_at).toLocaleString()})]})]})]}),o.jsx(Fa,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:E?o.jsxs(o.Fragment,{children:[o.jsx(oe,{variant:"outline",onClick:()=>N(!1),className:"w-full sm:w-auto",children:A("buttons.cancel")}),o.jsxs(oe,{onClick:ft,disabled:ce||!I.subject.trim(),className:"w-full sm:w-auto",children:[o.jsx(To,{className:"h-4 w-4 mr-2"}),ce?A("buttons.saving","Saving..."):A("buttons.save","Save")]})]}):o.jsxs(o.Fragment,{children:[o.jsx(oe,{variant:"outline",onClick:()=>j(!1),className:"w-full sm:w-auto",children:A("buttons.close","Close")}),o.jsxs(oe,{onClick:()=>N(!0),className:"w-full sm:w-auto",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),A("buttons.edit","Edit")]})]})})]})})]})}function oH({projectId:e,onClose:t}){const{id:r}=Rne(),n=Bs(),{user:a}=yr(),[s,i]=y.useState([]),[l,c]=y.useState(""),[u,d]=y.useState(!0),[f,h]=y.useState(null),[m,g]=y.useState(null),[p,v]=y.useState(null),[w,x]=y.useState(null),[b,_]=y.useState([]),[S,k]=y.useState([]),j=e||(r?parseInt(r):null),E=!!e;y.useEffect(()=>{(async()=>{if(!(!j||!a)){if(a.role==="admin"||a.role==="manager"){h(!0);return}if(a.role==="employee")try{const L=(await aM.getProjectUsers(j)).some(M=>M.auth_user_id===a.id);h(L)}catch(I){console.error("Failed to check project access:",I),h(!1)}else h(!0)}})()},[j,a]),y.useEffect(()=>{j&&f&&N()},[j,f]);const N=async()=>{if(j)try{d(!0);const q=await Xo.getById(j);if(g(q),q){if(q.created_by)try{const I=await ls.getByAuthId(q.created_by);v(I)}catch(I){console.error("Failed to fetch client:",I)}if(q.created_by)try{const I=await ls.getByAuthId(q.created_by);x(I)}catch(I){console.error("Failed to fetch manager:",I)}try{const L=(await aM.getProjectUsers(j)).map(D=>D.auth_user_id),M=await Promise.all(L.map(D=>ls.getByAuthId(D).catch(()=>null)));_(M.filter(D=>D!==null))}catch(I){console.error("Failed to fetch project users:",I)}try{const M=(await rs.getAll()).filter(Z=>Z.project_id===j).map(Z=>Z.stage_id),K=(await Promise.all(M.map(Z=>iu.getByStage(Z)))).flat();k(K)}catch(I){console.error("Failed to fetch tasks:",I)}}}catch(q){console.error("Failed to load project data:",q)}finally{d(!1)}};y.useEffect(()=>{j&&m&&S.length>0&&O()},[j,m,S]);const O=async()=>{if(!(!j||!m||S.length===0))try{const q=[];for(const I of S){const L=await sE.getByTask(I.task_id);q.push(...L)}i(q)}catch(q){console.error("Failed to load comments:",q)}},R=async q=>{if(!(!l.trim()||!a))try{const I=await sE.create({task_id:q,auth_user_id:a.id,message:l.trim()});i(L=>[...L,I]),c("")}catch(I){console.error("Failed to add comment:",I)}},T=()=>{t?t():n("/projects")},U=({children:q})=>E?o.jsx("div",{className:"h-full overflow-y-auto p-1",children:q}):o.jsx(Zn,{children:q});if(f===!1)return o.jsx(U,{children:o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),o.jsx(oe,{onClick:T,children:"Back to Projects"})]})})});if(f===null||!m||!p||!w)return u?o.jsx(U,{children:o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):o.jsx(U,{children:o.jsx("div",{children:"Project not found"})});const z={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return o.jsx(U,{children:o.jsxs("div",{className:"space-y-6 pb-10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(oe,{variant:"ghost",size:"icon",onClick:T,children:o.jsx($9,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:ke(m,"project_name")}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:ke(p,"company_name")})]})]}),o.jsx(oe,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),o.jsx(mt,{children:o.jsxs(wt,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),o.jsxs("span",{className:"text-sm font-bold",children:[m.progress||0,"%"]})]}),o.jsx(lc,{value:m.progress||0,className:"h-3"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:o.jsxs(gl,{defaultValue:"tasks",children:[o.jsxs(Ro,{className:"w-full sm:w-auto",children:[o.jsx(Yr,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),o.jsx(Yr,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),o.jsx(Yr,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),o.jsxs(kn,{value:"tasks",className:"space-y-3",children:[S.map(q=>{var L;const I=b.find(M=>M.user_id===q.assigned_to);return o.jsx(mt,{children:o.jsx(wt,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:ke(q,"task_name")}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ke(q,"description")}),o.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[o.jsx(ct,{className:Se("text-xs",z[q.task_status]),children:((L=q.task_status)==null?void 0:L.replace("_"," "))||"todo"}),q.due_date&&o.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Eo,{className:"h-3 w-3"}),"Due: ",new Date(q.due_date).toLocaleDateString()]})]})]}),I&&o.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[o.jsx("div",{className:"text-2xl mb-1",children:I.avatar||""}),ke(I,"user_name")]})]})})},q.task_id)}),o.jsx(oe,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),o.jsx(kn,{value:"images",children:o.jsx(mt,{children:o.jsxs(wt,{className:"pt-6",children:[o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(q=>o.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})},q))}),o.jsxs(oe,{variant:"outline",className:"w-full mt-4",children:[o.jsx(Kg,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),o.jsxs(kn,{value:"comments",className:"space-y-3",children:[s.map(q=>{const I=[...b,p,w].find(L=>L&&L.auth_user_id===q.auth_user_id);return o.jsx(mt,{children:o.jsx(wt,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"text-2xl",children:(I==null?void 0:I.avatar)||""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:I?ke(I,"user_name"):"Unknown"}),o.jsx("p",{className:"text-sm mt-1",children:q.message}),o.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(q.created_date||"").toLocaleString()})]})]})})},q.comment_id)}),S.length>0&&o.jsx(mt,{children:o.jsx(wt,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ze,{placeholder:"Add a comment...",value:l,onChange:q=>c(q.target.value),onKeyDown:q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),R(S[0].task_id))}}),o.jsx(oe,{size:"icon",onClick:()=>R(S[0].task_id),children:o.jsx(ax,{className:"h-4 w-4"})})]})})})]})]})}),o.jsxs("div",{className:"space-y-4 lg:order-last",children:[o.jsxs(mt,{children:[o.jsx(ur,{children:o.jsx(nn,{className:"text-base sm:text-lg",children:"Project Summary"})}),o.jsxs(wt,{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:p.avatar}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",children:ke(p,"user_name")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:ke(p,"company_name")})]})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:w.avatar}),o.jsx("div",{className:"text-sm",children:ke(w,"user_name")})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),o.jsx("div",{className:"space-y-2",children:b.map(q=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:q.avatar||""}),o.jsx("div",{className:"text-sm",children:ke(q,"user_name")})]},q.user_id))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",m.created_date?new Date(m.created_date).toLocaleDateString():"Not set",m.end_date&&o.jsxs("div",{children:["End: ",new Date(m.end_date).toLocaleDateString()]})]})]})]})]}),o.jsxs(mt,{children:[o.jsx(ur,{children:o.jsx(nn,{className:"text-base sm:text-lg",children:"Recent Activity"})}),o.jsx(wt,{children:o.jsxs("div",{className:"space-y-3 text-xs",children:[o.jsxs("div",{className:"pb-2 border-b",children:[o.jsx("div",{className:"font-medium",children:"Task completed"}),o.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),o.jsxs("div",{className:"pb-2 border-b",children:[o.jsx("div",{className:"font-medium",children:"New comment added"}),o.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Images uploaded"}),o.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function zge({project:e,client:t,manager:r,stages:n,onDelete:a,onClick:s,onDragStart:i,onStageChange:l,isDragging:c=!1}){const{t:u}=zt(),d=Ua(),f=e.progress||0,h=p=>p?new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),m=p=>{if(!p)return null;const v=new Date,x=(new Date(p).getTime()-v.getTime())/(1e3*60*60);return x<0?"overdue":x<24?"urgent":x<72?"soon":null},g=p=>{switch(m(p)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return o.jsxs(mt,{className:Se("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!d&&(f===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),g(e.end_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!i,onDragStart:p=>{i&&(p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",e.project_id.toString()),i(e.project_id))},children:[o.jsx(ur,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:ke(e,"project_name")}),ke(e,"project_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ke(e,"project_description")})]}),a&&o.jsxs(fi,{children:[o.jsx(mf,{asChild:!0,onClick:p=>p.stopPropagation(),children:o.jsx(oe,{variant:"ghost",size:"sm",className:Se("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(xr,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:p=>p.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:u("projects.deleteProject")}),o.jsx(Fs,{children:u("projects.deleteConfirmation",{name:ke(e,"project_name")})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:u("buttons.cancel")}),o.jsx(Ls,{onClick:p=>{p.stopPropagation(),a(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),o.jsxs(wt,{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:u("projects.progress")}),o.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),o.jsx(lc,{value:f,className:"h-2"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(cn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),o.jsx("p",{className:"text-xs font-medium truncate",children:t.user_name})]})]}),o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Ra,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),o.jsx("p",{className:"text-xs font-medium truncate",children:r?r.user_name:u("common.all","Unassigned")})]})]})]}),d&&l&&o.jsx("div",{className:"pt-1",children:o.jsxs(xt,{value:e.stage.toString(),onValueChange:p=>l(e.project_id,parseInt(p)),children:[o.jsx(gt,{className:"h-7 text-xs",children:o.jsx(yt,{placeholder:u("projects.selectStage","Select stage")})}),o.jsx(vt,{children:n.filter(p=>["New","In Progress","Overdue","Completed"].includes(p.stage_name)).map(p=>o.jsx(Ce,{value:p.stage_id.toString(),children:ke(p,"stage_name")},p.stage_id))})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Eo,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:h(e.created_date)})]}),f===100?o.jsx(ct,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?o.jsx(ct,{variant:"default",className:"text-xs",children:"In Progress"}):o.jsx(ct,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function Hge(){var ye,$e;Bs();const{hasRole:e,user:t}=yr();Vi();const{t:r}=zt(),n=Ua(),[a,s]=y.useState([]),[i,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState([]),[h,m]=y.useState(!0),[g,p]=y.useState(null);y.useState(!1),y.useState("");const[v,w]=y.useState(null),[x,b]=y.useState(""),[_,S]=y.useState(null),[k,j]=y.useState(null),[E,N]=y.useState(!1),[O,R]=y.useState(null),[T,U]=y.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[z,q]=y.useState(!1),[I,L]=y.useState({project_name:"",project_description:"",client_id:""}),[M,D]=y.useState("kanban"),[K,Z]=y.useState(null),[C,Y]=y.useState(""),[B,G]=y.useState("all"),[re,se]=y.useState("all"),[ce,ae]=y.useState({from:void 0,to:void 0}),J=y.useMemo(()=>a.filter(xe=>{const be=(xe.project_name||"").toLowerCase().includes(C.toLowerCase())||(xe.project_description||"").toLowerCase().includes(C.toLowerCase());let ue=!0;B==="todo"?ue=(xe.progress||0)===0:B==="in_progress"?ue=(xe.progress||0)>0&&(xe.progress||0)<100:B==="done"&&(ue=(xe.progress||0)===100);const Ae=re==="all"||xe.created_by&&xe.created_by.toString()===re;let Fe=!0;if(ce.from&&xe.end_date){const Re=new Date(xe.end_date),Ke=new Date(ce.from);Ke.setHours(0,0,0,0);const kt=new Date(Re);if(kt.setHours(0,0,0,0),Fe=kt>=Ke,Fe&&ce.to){const Jt=new Date(ce.to);Jt.setHours(23,59,59,999),Fe=kt<=Jt}}else ce.from&&!xe.end_date&&(Fe=!1);return be&&ue&&Ae&&Fe}),[a,C,B,re,ce]);y.useEffect(()=>{me()},[]),y.useEffect(()=>{if(d.length>0&&O===null){const xe=d.find(be=>be.stage_id===5);xe&&R(xe.stage_id)}},[d,O]);const me=async()=>{try{m(!0),p(null);const[xe,be,ue,Ae]=await Promise.all([Xo.getAll(),rO.getAll(),ls.getAll(),rs.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:xe.length,clients:be.length,users:ue.length,stages:Ae.length}),console.log("[Projects] Projects data:",xe),console.log("[Projects] Stages data:",Ae),s(xe),l(be),u(ue),f(Ae)}catch(xe){console.error("Failed to load data:",xe),p(r("projects.loadError","Failed to load projects. Please try again."))}finally{m(!1)}},A=async xe=>{if(x.trim())try{await rs.update(xe,{stage_name:x.trim()}),f(d.map(be=>be.stage_id===xe?{...be,stage_name:x.trim()}:be)),w(null),b("")}catch(be){console.error("Failed to update stage:",be)}},Le=async xe=>{if(a.filter(ue=>ue.stage===xe).length>0){S(xe);return}try{await rs.delete(xe),f(d.filter(ue=>ue.stage_id!==xe))}catch(ue){console.error("Failed to delete stage:",ue)}},Ie=xe=>{j(xe)},Ve=xe=>{xe.preventDefault(),xe.dataTransfer.dropEffect="move"},We=async xe=>{if(!k)return;const be=a.find(ue=>ue.project_id===k);if(be&&be.stage!==xe)try{await Xo.update(k,{stage:xe}),s(a.map(ue=>ue.project_id===k?{...ue,stage:xe}:ue))}catch(ue){console.error("Failed to update project stage:",ue)}j(null)},Pe=async(xe,be)=>{const ue=a.find(Ae=>Ae.project_id===xe);if(ue&&ue.stage!==be)try{await Xo.update(xe,{stage:be}),s(a.map(Ae=>Ae.project_id===xe?{...Ae,stage:be}:Ae))}catch(Ae){console.error("Failed to update project stage:",Ae)}},ft=async xe=>{try{await Xo.delete(xe),s(a.filter(be=>be.project_id!==xe))}catch(be){console.error("Failed to delete project:",be)}},_t=xe=>{U(be=>({...be,stage:xe.toString()})),N(!0)},ne=async()=>{var xe;if(T.project_name.trim())try{const be=$i({project_name:T.project_name.trim(),project_description:T.project_description.trim()||null,created_by:((xe=t==null?void 0:t.profile)==null?void 0:xe.user_id)||1,progress:T.progress,stage:parseInt(T.stage),end_date:null,auth_user_id:(t==null?void 0:t.id)||""},{project_name:"project_name",project_description:"project_description"}),ue=await Xo.create(be);s([...a,ue]),U({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),N(!1)}catch(be){console.error("Failed to create project:",be)}},he=async()=>{var xe;if(I.project_name.trim())try{const be=$i({project_name:I.project_name.trim(),project_description:I.project_description.trim()||null,created_by:((xe=t==null?void 0:t.profile)==null?void 0:xe.user_id)||1,progress:0,stage:1,end_date:null,auth_user_id:(t==null?void 0:t.id)||""},{project_name:"project_name",project_description:"project_description"}),ue=await Xo.create(be);s([...a,ue]),L({project_name:"",project_description:"",client_id:""}),q(!1)}catch(be){console.error("Failed to create lead:",be)}},F=d.filter(xe=>xe.stage_type==="projects").sort((xe,be)=>{const ue=xe.stager_order_index??0,Ae=be.stager_order_index??0;return Lr()?Ae-ue:ue-Ae}),le=F.map(xe=>({id:xe.stage_id,name:ke(xe,"stage_name"),color:xe.color,count:J.filter(be=>be.stage===xe.stage_id).length})),ve=()=>{var xe;return h?o.jsx(Op,{message:r("projects.loading","Loading projects...")}):g?o.jsx(_x,{title:r("projects.errorTitle","Error loading projects"),message:g,onRetry:me}):a.length===0&&!C&&B==="all"&&re==="all"?o.jsx(ll,{title:r("projects.emptyTitle","No projects found"),description:r("projects.emptyDescription","Get started by creating your first project."),icon:o.jsx(qd,{className:"h-10 w-10 text-muted-foreground"}),action:o.jsxs(oe,{onClick:()=>q(!0),children:[o.jsx(sr,{className:"mr-2 h-4 w-4"})," ",r("projects.createProject")]})}):o.jsxs(o.Fragment,{children:[o.jsx(xO,{onSearch:Y,onFilterStatus:G,onFilterAssignee:se,onFilterDateRange:ae,users:c,statuses:[{value:"todo",label:r("mprojects.notStarted")},{value:"in_progress",label:r("mprojects.inProgress")},{value:"done",label:r("mprojects.completed")}]}),M==="kanban"?o.jsx(o.Fragment,{children:o.jsx(wx,{stages:le,currentStageId:O||((xe=le[0])==null?void 0:xe.id),onStageChange:R,children:o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:F.sort((be,ue)=>be.stage_id-ue.stage_id).filter(be=>{var Ae;return window.innerWidth<1024?be.stage_id===(O||((Ae=le[0])==null?void 0:Ae.id)):!0}).map((be,ue)=>{var Fe,Re;const Ae=J.filter(Ke=>Ke.stage===be.stage_id);return console.log(`[Projects] Stage ${be.stage_name} (${be.stage_id}): ${Ae.length} projects`),console.log("[Projects] Stage projects:",Ae),o.jsxs("div",{className:Se("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${ue*.1}s`},onDragOver:Ve,onDrop:()=>We(be.stage_id),children:[!n&&o.jsx("div",{className:Se("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",be.color||"border-l-4 border-primary/50"),children:o.jsx("div",{className:"flex items-center justify-between mb-2",children:v===be.stage_id?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(ze,{value:x,onChange:Ke=>b(Ke.target.value),onKeyDown:Ke=>{Ke.key==="Enter"&&A(be.stage_id),Ke.key==="Escape"&&(w(null),b(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>A(be.stage_id),className:"h-8 w-8 p-0",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(w_,{className:"h-4 w-4 text-muted-foreground cursor-move"}),o.jsx("h2",{className:"font-bold text-base",children:ke(be,"stage_name")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Ae.length}),o.jsxs(o.Fragment,{children:[o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>{w(be.stage_id),b(ke(be,"stage_name"))},className:"h-6 w-6 p-0",title:r("buttons.edit"),children:o.jsx(Co,{className:"h-3 w-3"})}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>Le(be.stage_id),className:"h-6 w-6 p-0 text-destructive",title:r("buttons.delete"),children:o.jsx(xr,{className:"h-3 w-3"})})]})]})]})})}),o.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[((Fe=d.sort((Ke,kt)=>(Ke.stager_order_index||0)-(kt.stager_order_index||0))[0])==null?void 0:Fe.stage_id)===be.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(mt,{className:Se("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>_t(be.stage_id),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(sr,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:r("projects.addNewProjectCard")})]})})}),Ae.map(Ke=>{const kt=c.find(Jt=>Jt.auth_user_id===Ke.created_by);return o.jsx(zge,{project:Ke,client:i.find(Jt=>Jt.user_id.toString()===Ke.client_id)||null,manager:kt||null,stages:d,onDelete:ft,onClick:()=>Z(Ke.project_id),onDragStart:Ie,onStageChange:Pe,isDragging:k===Ke.project_id},Ke.project_id)}),((Re=d.sort((Ke,kt)=>(Ke.stager_order_index||0)-(kt.stager_order_index||0))[0])==null?void 0:Re.stage_id)!==be.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(oe,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>_t(be.stage_id),children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),r("projects.addProject")]})})]})]},be.stage_id)})})})}):o.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:o.jsxs(bO,{children:[o.jsx(_O,{children:o.jsxs(Zg,{children:[o.jsx(co,{children:r("projects.projectName")}),o.jsx(co,{children:r("projects.client")}),o.jsx(co,{children:r("projects.manager")}),o.jsx(co,{children:r("projects.stage")}),o.jsx(co,{children:r("projects.progress")}),o.jsx(co,{children:r("projects.dueDate")}),o.jsx(co,{className:"w-[50px]"})]})}),o.jsx(SO,{children:J.map(be=>{const ue=c.find(Re=>Re.auth_user_id===be.created_by),Ae=i.find(Re=>Re.user_id.toString()===be.client_id),Fe=d.find(Re=>Re.stage_id===be.stage);return o.jsxs(Zg,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Z(be.project_id),children:[o.jsx(uo,{className:"font-medium",children:ke(be,"project_name")}),o.jsx(uo,{children:Ae?ke(Ae,"user_name"):"-"}),o.jsx(uo,{children:ue?ke(ue,"user_name"):"-"}),o.jsx(uo,{children:o.jsx(ct,{variant:"outline",className:"bg-background",children:Fe?ke(Fe,"stage_name"):"-"})}),o.jsx(uo,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lc,{value:be.progress||0,className:"w-16 h-2"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[be.progress,"%"]})]})}),o.jsx(uo,{className:"text-muted-foreground text-sm",children:be.end_date?new Date(be.end_date).toLocaleDateString():"-"}),o.jsx(uo,{children:o.jsx(oe,{variant:"ghost",size:"icon",onClick:Re=>{Re.stopPropagation(),ft(be.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:o.jsx(xr,{className:"h-4 w-4"})})})]},be.project_id)})})]})})]})};return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Lr()?"rtl":"ltr",children:[o.jsx(bx,{title:r("projects.title"),description:r("projects.subtitle"),icon:o.jsx(qd,{className:"h-5 w-5 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:M==="kanban"?"default":"ghost",size:"sm",onClick:()=>D("kanban"),className:"h-8 w-8 p-0",children:o.jsx(b_,{className:"h-4 w-4"})}),o.jsx(oe,{variant:M==="list"?"default":"ghost",size:"sm",onClick:()=>D("list"),className:"h-8 w-8 p-0",children:o.jsx(nx,{className:"h-4 w-4"})})]}),o.jsxs(oe,{onClick:()=>q(!0),children:[o.jsx(sr,{className:"mr-2 h-4 w-4"})," ",r("projects.newProject")]})]}),stats:[{label:r("projects.total","Total Projects"),value:a.length,icon:o.jsx(qd,{className:"h-4 w-4 text-primary"})},{label:r("projects.inProgress","In Progress"),value:a.filter(xe=>(xe.progress||0)>0&&(xe.progress||0)<100).length,icon:o.jsx(Eo,{className:"h-4 w-4 text-blue-500"})},{label:r("projects.completed","Completed"),value:a.filter(xe=>(xe.progress||0)===100).length,icon:o.jsx(cn,{className:"h-4 w-4 text-green-600"})},{label:r("projects.avgProgress","Avg Progress"),value:a.length>0?`${Math.round(a.reduce((xe,be)=>xe+(be.progress||0),0)/a.length)}%`:"0%",icon:o.jsx(lc,{className:"h-4 w-4 text-blue-500"})}]}),ve(),o.jsx(jn,{open:E,onOpenChange:N,children:o.jsxs(dn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:r("projects.createProject")}),o.jsx(La,{children:r("projects.createProjectDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),o.jsx(ze,{value:T.project_name,onChange:xe=>U(be=>({...be,project_name:xe.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),o.jsx(ua,{value:T.project_description,onChange:xe=>U(be=>({...be,project_description:xe.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),o.jsxs(xt,{value:T.client_id,onValueChange:xe=>U(be=>({...be,client_id:xe})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:r("projects.selectClient")})}),o.jsx(vt,{children:i.map(xe=>o.jsx(Ce,{value:xe.user_id.toString(),children:ke(xe,"user_name")},xe.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.initialProgress")}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:T.progress,onChange:xe=>U(be=>({...be,progress:parseInt(xe.target.value)})),className:"w-full h-1.5"}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0%"}),o.jsxs("span",{children:[T.progress,"%"]}),o.jsx("span",{children:"100%"})]})]})]})]}),o.jsxs(Fa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>N(!1),children:r("buttons.cancel")}),o.jsxs(oe,{onClick:ne,disabled:!((ye=T.project_name)!=null&&ye.trim()),children:[o.jsx(To,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),o.jsx(jn,{open:z,onOpenChange:q,children:o.jsxs(dn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:r("projects.createProject")}),o.jsx(La,{children:r("projects.createProjectDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),o.jsx(ze,{value:I.project_name,onChange:xe=>L(be=>({...be,project_name:xe.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),o.jsx(ua,{value:I.project_description,onChange:xe=>L(be=>({...be,project_description:xe.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),o.jsxs(xt,{value:I.client_id,onValueChange:xe=>L(be=>({...be,client_id:xe})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:r("projects.selectClient")})}),o.jsx(vt,{children:i.map(xe=>o.jsx(Ce,{value:xe.user_id.toString(),children:ke(xe,"user_name")},xe.user_id))})]})]})]}),o.jsxs(Fa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>q(!1),children:r("buttons.cancel")}),o.jsxs(oe,{onClick:he,disabled:!(($e=I.project_name)!=null&&$e.trim()),children:[o.jsx(To,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),o.jsx(ic,{open:!!K,onOpenChange:xe=>!xe&&Z(null),children:o.jsxs(ml,{side:Lr()?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[o.jsxs(Pu,{className:"sr-only",children:[o.jsx(oc,{children:"Project Details"}),o.jsx(U_,{children:"View and manage project information"})]}),K&&o.jsx(oH,{projectId:K,onClose:()=>Z(null)})]})})]})}function qge(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var EO="ScrollArea",[lH,qYe]=hs(EO),[Gge,Wi]=lH(EO),cH=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...i}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,g]=y.useState(null),[p,v]=y.useState(null),[w,x]=y.useState(0),[b,_]=y.useState(0),[S,k]=y.useState(!1),[j,E]=y.useState(!1),N=Wt(t,R=>c(R)),O=sx(a);return o.jsx(Gge,{scope:r,type:n,dir:O,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:j,onScrollbarYEnabledChange:E,onCornerWidthChange:x,onCornerHeightChange:_,children:o.jsx(lt.div,{dir:O,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});cH.displayName=EO;var uH="ScrollAreaViewport",dH=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,i=Wi(uH,r),l=y.useRef(null),c=Wt(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(lt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});dH.displayName=uH;var bl="ScrollAreaScrollbar",CO=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wi(bl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),a.type==="hover"?o.jsx(Kge,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(Yge,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(fH,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(TO,{...n,ref:t}):null});CO.displayName=bl;var Kge=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wi(bl,e.__scopeScrollArea),[s,i]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Ba,{present:r||s,children:o.jsx(fH,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Yge=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wi(bl,e.__scopeScrollArea),s=e.orientation==="horizontal",i=Y_(()=>c("SCROLL_END"),100),[l,c]=qge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,i]),o.jsx(Ba,{present:r||l!=="hidden",children:o.jsx(TO,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:et(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:et(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fH=y.forwardRef((e,t)=>{const r=Wi(bl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,i]=y.useState(!1),l=e.orientation==="horizontal",c=Y_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return Im(r.viewport,c),Im(r.content,c),o.jsx(Ba,{present:n||s,children:o.jsx(TO,{"data-state":s?"visible":"hidden",...a,ref:t})})}),TO=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Wi(bl,e.__scopeScrollArea),s=y.useRef(null),i=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=vH(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,m){return tve(h,i.current,l,m)}return r==="horizontal"?o.jsx(Xge,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=yM(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?o.jsx(Jge,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=yM(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Xge=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Wi(bl,e.__scopeScrollArea),[i,l]=y.useState(),c=y.useRef(null),u=Wt(t,c,s.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mH,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":K_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),yH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:N1(i.paddingLeft),paddingEnd:N1(i.paddingRight)}})}})}),Jge=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Wi(bl,e.__scopeScrollArea),[i,l]=y.useState(),c=y.useRef(null),u=Wt(t,c,s.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mH,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":K_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),yH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:N1(i.paddingTop),paddingEnd:N1(i.paddingBottom)}})}})}),[Qge,hH]=lH(bl),mH=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Wi(bl,r),[g,p]=y.useState(null),v=Wt(t,N=>p(N)),w=y.useRef(null),x=y.useRef(""),b=m.viewport,_=n.content-n.viewport,S=Gn(d),k=Gn(c),j=Y_(f,10);function E(N){if(w.current){const O=N.clientX-w.current.left,R=N.clientY-w.current.top;u({x:O,y:R})}}return y.useEffect(()=>{const N=O=>{const R=O.target;(g==null?void 0:g.contains(R))&&S(O,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,g,_,S]),y.useEffect(k,[n,k]),Im(g,j),Im(m.content,j),o.jsx(Qge,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Gn(s),onThumbPointerUp:Gn(i),onThumbPositionChange:k,onThumbPointerDown:Gn(l),children:o.jsx(lt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:et(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),w.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(N))}),onPointerMove:et(e.onPointerMove,E),onPointerUp:et(e.onPointerUp,N=>{const O=N.target;O.hasPointerCapture(N.pointerId)&&O.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),k1="ScrollAreaThumb",pH=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=hH(k1,e.__scopeScrollArea);return o.jsx(Ba,{present:r||a.hasThumb,children:o.jsx(Zge,{ref:t,...n})})}),Zge=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Wi(k1,r),i=hH(k1,r),{onThumbPositionChange:l}=i,c=Wt(t,f=>i.onThumbChange(f)),u=y.useRef(void 0),d=Y_(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=rve(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),o.jsx(lt.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:et(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;i.onThumbPointerDown({x:g,y:p})}),onPointerUp:et(e.onPointerUp,i.onThumbPointerUp)})});pH.displayName=k1;var AO="ScrollAreaCorner",gH=y.forwardRef((e,t)=>{const r=Wi(AO,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(eve,{...e,ref:t}):null});gH.displayName=AO;var eve=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Wi(AO,r),[s,i]=y.useState(0),[l,c]=y.useState(0),u=!!(s&&l);return Im(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Im(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?o.jsx(lt.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function N1(e){return e?parseInt(e,10):0}function vH(e,t){const r=e/t;return isNaN(r)?0:r}function K_(e){const t=vH(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function tve(e,t,r,n="ltr"){const a=K_(r),s=a/2,i=t||s,l=a-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return xH([c,u],f)(e)}function yM(e,t,r="ltr"){const n=K_(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,i]:[i*-1,0],u=HN(e,c);return xH([0,i],[0,l])(u)}function xH(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function yH(e,t){return e>0&&e<t}var rve=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,l=r.top!==s.top;(i||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Y_(e,t){const r=Gn(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Im(e,t){const r=Gn(t);En(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var wH=cH,nve=dH,ave=gH;const sa=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(wH,{ref:n,className:Se("relative overflow-hidden",e),...r,children:[o.jsx(nve,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(bH,{}),o.jsx(ave,{})]}));sa.displayName=wH.displayName;const bH=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(CO,{ref:n,orientation:t,className:Se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(pH,{className:"relative flex-1 rounded-full bg-border"})}));bH.displayName=CO.displayName;const kw={async createApplication(e){const{data:t,error:r}=await pe.from("partner_apply").insert(e).select().single();if(r)throw console.error("Error creating partner application:",r),r;return t},async getApplications(){const{data:e,error:t}=await pe.from("partner_apply").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching partner applications:",t),t;return e},async updateStatus(e,t){const{error:r}=await pe.from("partner_apply").update({status:t}).eq("apply_id",e);if(r)throw console.error("Error updating partner application status:",r),r}};function sve(){const{user:e,createStaffUser:t,deleteUser:r,updateUserRole:n,updateUser:a}=yr(),{currentLanguage:s,isRTL:i}=Vi(),{t:l}=zt(),[c,u]=y.useState([]),[d,f]=y.useState([]),[h,m]=y.useState(!0),[g,p]=y.useState(""),[v,w]=y.useState(!1),[x,b]=y.useState(""),[_,S]=y.useState(""),[k,j]=y.useState(""),[E,N]=y.useState("employee"),[O,R]=y.useState(""),[T,U]=y.useState(!1),[z,q]=y.useState(null),[I,L]=y.useState("all"),[M,D]=y.useState("employees"),[K,Z]=y.useState(!1),[C,Y]=y.useState(null),[B,G]=y.useState(!1),[re,se]=y.useState({user_name:"",user_email:"",user_phone:"",user_role:""}),[ce,ae]=y.useState(!1),[J,me]=y.useState("");y.useEffect(()=>{A()},[]);const A=async()=>{try{m(!0);const[F,le]=await Promise.all([ls.getAll(),kw.getApplications()]);u(F),f(le)}catch(F){console.error("Failed to load users:",F)}finally{m(!1)}},Le=c.filter(F=>{var ue,Ae,Fe;const le=M==="employees",ve=M==="clients";if(le&&F.user_role==="client"||ve&&F.user_role!=="client")return!1;const ye=((ue=ke(F,"user_name"))==null?void 0:ue.toLowerCase())||"",$e=((Ae=F.user_email)==null?void 0:Ae.toLowerCase())||"",xe=((Fe=F.user_role)==null?void 0:Fe.toLowerCase())||"",be=g.toLowerCase();return ye.includes(be)||$e.includes(be)||xe.includes(be)}),Ie=F=>{switch(F){case"admin":return"destructive";case"manager":return"default";case"employee":return"secondary";case"client":return"outline";default:return"secondary"}},Ve=async F=>{if(F.preventDefault(),!T){R(""),U(!0);try{const le=$i({user_name:x,user_email:_,user_role:E},{user_name:"user_name"});await t(_,k,{name:x,role:E,localizedData:le}),z&&(await kw.updateStatus(z,"approved"),q(null)),w(!1),b(""),S(""),j(""),N("employee"),A()}catch(le){R(le.message||l("users.addUserError"))}finally{U(!1)}}},We=F=>{b(F.full_name),S(F.email),N("partner"),j(""),q(F.apply_id),w(!0),D("employees")},Pe=async F=>{if(confirm(l("users.rejectConfirmation")))try{await kw.updateStatus(F,"rejected"),A()}catch(le){console.error("Failed to reject application:",le)}},ft=async(F,le)=>{if(confirm(l("users.deleteConfirmation",{name:le})))try{await r(F),A()}catch(ve){alert(`${l("users.deleteError")}: ${ve.message}`)}},_t=async(F,le)=>{try{await n(F,le),A()}catch(ve){alert(`${l("users.updateRoleError")}: ${ve.message}`)}},ne=async F=>{var le;if(F.preventDefault(),!(ce||!C)){me(""),ae(!0);try{const ve={};re.user_name!==ke(C,"user_name")&&(ve.user_name=re.user_name),re.user_email!==C.user_email&&(ve.user_email=re.user_email),re.user_phone!==((le=C.user_phone)==null?void 0:le.toString())&&(ve.user_phone=re.user_phone?parseInt(re.user_phone):null),re.user_role!==C.user_role&&(ve.user_role=re.user_role),Object.keys(ve).length>0?(await a(C.auth_user_id||"",ve),G(!1),A()):G(!1)}catch(ve){me(ve.message||l("users.updateUserError"))}finally{ae(!1)}}},he=F=>{var le;Y(F),se({user_name:ke(F,"user_name")||"",user_email:F.user_email||"",user_phone:((le=F.user_phone)==null?void 0:le.toString())||"",user_role:F.user_role||""}),G(!1),me(""),Z(!0)};return h?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:i?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:l("users.title")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pa,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-sm font-medium",children:[c.length," ",l("users.totalUsers")]})]}),o.jsx("p",{className:"hidden md:block text-muted-foreground",children:l("users.subtitle")})]}),o.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[o.jsxs(oe,{variant:M==="employees"?"default":"ghost",size:"sm",onClick:()=>D("employees"),className:"h-8 px-3",children:[o.jsx(PI,{className:"h-4 w-4 mr-2"}),l("users.employees")]}),o.jsxs(oe,{variant:M==="clients"?"default":"ghost",size:"sm",onClick:()=>D("clients"),className:"h-8 px-3",children:[o.jsx(Ra,{className:"h-4 w-4 mr-2"}),l("users.clients")]}),o.jsxs(oe,{variant:M==="partners"?"default":"ghost",size:"sm",onClick:()=>D("partners"),className:"h-8 px-3",children:[o.jsx(Pa,{className:"h-4 w-4 mr-2"}),l("users.partners")]})]}),M==="employees"&&o.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&o.jsxs(jn,{open:v,onOpenChange:w,children:[o.jsx(Ah,{asChild:!0,children:o.jsxs(oe,{className:"w-full",children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),l("users.addUser")]})}),o.jsxs(dn,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:l("users.addNewUser")}),o.jsx(La,{children:l("users.addUserDescription")})]}),o.jsxs("form",{onSubmit:Ve,className:"space-y-4",children:[O&&o.jsx(of,{variant:"destructive",children:o.jsx(lf,{children:O})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"formName",children:l("users.fullName")}),o.jsx(ze,{id:"formName",value:x,onChange:F=>b(F.target.value),placeholder:l("users.fullName"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"formEmail",children:l("users.email")}),o.jsx(ze,{id:"formEmail",type:"email",value:_,onChange:F=>S(F.target.value),placeholder:l("users.email"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"formPassword",children:l("users.password")}),o.jsx(ze,{id:"formPassword",type:"password",value:k,onChange:F=>j(F.target.value),placeholder:l("users.password"),required:!0,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"formRole",children:l("users.role")}),o.jsxs(xt,{value:E,onValueChange:F=>N(F),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"employee",children:l("users.employee")}),o.jsx(Ce,{value:"manager",children:l("users.manager")}),o.jsx(Ce,{value:"admin",children:l("users.admin")}),o.jsx(Ce,{value:"partner",children:l("users.partner")}),o.jsx(Ce,{value:"partner_employee",children:l("users.partner_employee")})]})]})]}),o.jsx(oe,{type:"submit",className:"w-full",disabled:T,children:l(T?"users.addingUser":"users.addUser")})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ze,{placeholder:l("users.searchPlaceholder"),value:g,onChange:F=>p(F.target.value),className:"pl-10"})]}),o.jsxs(sa,{className:"flex-1",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Le.map(F=>o.jsxs(mt,{className:"hover:shadow-md transition-shadow",children:[o.jsx(ur,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(ia,{className:"h-12 w-12",children:[o.jsx(ts,{src:F.avatar||""}),o.jsx(oa,{children:ke(F,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(nn,{className:"text-lg truncate",children:ke(F,"user_name")}),o.jsx(ct,{variant:Ie(F.user_role),className:"mt-1",children:l(`users.${F.user_role}`)})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>he(F),children:o.jsx(si,{className:"h-4 w-4"})}),(e==null?void 0:e.role)==="admin"&&o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>ft(F.auth_user_id||"",ke(F,"user_name")),children:o.jsx(xr,{className:"h-4 w-4"})})]})]})}),o.jsxs(wt,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(yd,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:F.user_email})]}),F.client_contact&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Gh,{className:"h-4 w-4"}),o.jsx("span",{children:F.client_contact})]}),F.company_name&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ek,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:F.company_name})]}),(F.user_role==="employee"||F.user_role==="manager")&&(e==null?void 0:e.role)==="admin"&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("div",{className:"text-xs font-medium mb-1",children:l("users.changeRole")}),o.jsxs(xt,{value:F.user_role,onValueChange:le=>_t(F.auth_user_id||"",le),children:[o.jsx(gt,{className:"w-full h-8",children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"employee",children:l("users.employee")}),o.jsx(Ce,{value:"manager",children:l("users.manager")})]})]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l("users.joined")," ",new Date(F.created_at).toLocaleDateString()]})]})]},F.user_id))}),Le.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Pa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:l("users.noUsersFound")}),o.jsx("p",{className:"text-muted-foreground",children:l(g?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),M==="clients"&&o.jsx("div",{className:"space-y-6",children:o.jsxs(sa,{className:"flex-1",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Le.map(F=>o.jsxs(mt,{className:"hover:shadow-md transition-shadow",children:[o.jsx(ur,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(ia,{className:"h-12 w-12",children:[o.jsx(ts,{src:F.avatar||""}),o.jsx(oa,{children:ke(F,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(nn,{className:"text-lg truncate",children:ke(F,"user_name")}),o.jsx(ct,{variant:"outline",className:"mt-1",children:l("users.client")})]})]})}),o.jsxs(wt,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(yd,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:F.user_email})]}),F.client_contact&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Gh,{className:"h-4 w-4"}),o.jsx("span",{children:F.client_contact})]}),F.company_name&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ek,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:F.company_name})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l("users.joined")," ",new Date(F.created_at).toLocaleDateString()]})]})]},F.user_id))}),Le.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ra,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:l("clients.noClientsFound")}),o.jsx("p",{className:"text-muted-foreground",children:l("clients.noClientsYet")})]})]})}),M==="partners"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[o.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(PI,{className:"h-5 w-5"}),l("users.partnerUsers"),o.jsx(ct,{variant:"secondary",className:"ml-auto",children:c.filter(F=>F.user_role==="partner"||F.user_role==="partner_employee").length})]}),o.jsx(sa,{className:"flex-1 pr-4",children:o.jsx("div",{className:"space-y-3",children:c.filter(F=>F.user_role==="partner"||F.user_role==="partner_employee").length>0?c.filter(F=>F.user_role==="partner"||F.user_role==="partner_employee").map(F=>o.jsx(mt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>he(F),children:o.jsxs(wt,{className:"p-4 flex items-center gap-3",children:[o.jsxs(ia,{children:[o.jsx(ts,{src:F.avatar||""}),o.jsx(oa,{children:ke(F,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:ke(F,"user_name")}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:F.user_email}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(ct,{variant:"outline",className:"text-xs py-0 h-5",children:l(`users.${F.user_role}`)}),F.company_name&&o.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(ek,{className:"h-3 w-3"}),F.company_name]})]})]})]})},F.user_id)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Pa,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:l("users.noPartnerUsersFound")})]})})})]}),o.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(yd,{className:"h-5 w-5"}),l("users.partnerApplications"),o.jsx(ct,{variant:"secondary",children:d.length})]}),o.jsx("div",{className:"w-[140px]",children:o.jsxs(xt,{value:I,onValueChange:F=>L(F),children:[o.jsx(gt,{className:"h-8",children:o.jsx(yt,{placeholder:l("common.filter")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"all",children:l("common.all")}),o.jsx(Ce,{value:"pending",children:l("status.pending")}),o.jsx(Ce,{value:"approved",children:l("status.approved")}),o.jsx(Ce,{value:"rejected",children:l("status.rejected")})]})]})})]}),o.jsx(sa,{className:"flex-1 pr-4",children:o.jsx("div",{className:"space-y-3",children:d.filter(F=>I==="all"||F.status===I).length>0?d.filter(F=>I==="all"||F.status===I).map(F=>o.jsx(mt,{children:o.jsxs(wt,{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[o.jsx("div",{className:"font-medium",children:F.company_name||F.full_name}),o.jsx(ct,{variant:F.status==="pending"?"outline":F.status==="approved"?"default":"destructive",className:"capitalize",children:l(`status.${F.status}`)})]}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ra,{className:"h-3 w-3"}),F.full_name]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yd,{className:"h-3 w-3"}),F.email]}),F.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gh,{className:"h-3 w-3"}),F.phone]})]}),F.status==="pending"&&o.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[o.jsx(oe,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Pe(F.apply_id),children:l("users.reject")}),o.jsx(oe,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>We(F),children:l("users.approve")})]})]})},F.apply_id)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(yd,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:l("users.noApplicationsFound")})]})})})]})]}),o.jsx(jn,{open:K,onOpenChange:Z,children:o.jsxs(dn,{className:"max-w-2xl max-h-[80vh]",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:l("users.userDetails")}),o.jsx(La,{children:l("users.userDetailsDescription")})]}),C&&o.jsx(sa,{className:"max-h-[60vh] pr-4",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ia,{className:"h-16 w-16",children:[o.jsx(ts,{src:C.avatar||""}),o.jsx(oa,{className:"text-lg",children:ke(C,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold",children:ke(C,"user_name")}),o.jsx(ct,{variant:Ie(C.user_role),className:"mt-1",children:l(`users.${C.user_role}`)}),C.avatar&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1 break-all",children:C.avatar})]})]}),B?o.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[J&&o.jsx(of,{variant:"destructive",children:o.jsx(lf,{children:J})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"editName",children:l("users.fullName")}),o.jsx(ze,{id:"editName",value:re.user_name,onChange:F=>se(le=>({...le,user_name:F.target.value})),placeholder:l("users.fullName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"editEmail",children:l("users.email")}),o.jsx(ze,{id:"editEmail",type:"email",value:re.user_email,onChange:F=>se(le=>({...le,user_email:F.target.value})),placeholder:l("users.email")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"editRole",children:l("users.role")}),o.jsxs(xt,{value:re.user_role,onValueChange:F=>se(le=>({...le,user_role:F})),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"employee",children:l("users.employee")}),o.jsx(Ce,{value:"manager",children:l("users.manager")}),o.jsx(Ce,{value:"admin",children:l("users.admin")}),o.jsx(Ce,{value:"client",children:l("users.client")}),o.jsx(Ce,{value:"partner",children:l("users.partner")}),o.jsx(Ce,{value:"partner_employee",children:l("users.partner_employee")})]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ge,{className:"text-sm font-medium",children:l("users.joined")}),o.jsx("p",{className:"text-sm",children:new Date(C.created_at).toLocaleDateString()})]}),C.updated_at&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ge,{className:"text-sm font-medium",children:l("users.updated")}),o.jsx("p",{className:"text-sm",children:new Date(C.updated_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"editPhone",children:l("users.phone")}),o.jsx(ze,{id:"editPhone",type:"tel",value:re.user_phone,onChange:F=>se(le=>({...le,user_phone:F.target.value})),placeholder:l("users.phone")})]}),C.client_contact&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ge,{className:"text-sm font-medium",children:l("users.contact")}),o.jsx("p",{className:"text-sm",children:C.client_contact})]}),C.company_name&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ge,{className:"text-sm font-medium",children:l("users.company")}),o.jsx("p",{className:"text-sm",children:ke(C,"company_name")})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ge,{className:"text-sm font-medium",children:l("users.userId")}),o.jsx("p",{className:"text-sm font-mono text-xs",children:C.user_id})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(oe,{type:"button",variant:"outline",onClick:()=>G(!1),children:l("buttons.cancel")}),o.jsx(oe,{type:"submit",disabled:ce,children:l(ce?"buttons.saving":"buttons.save")})]})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.fullName")}),o.jsx("p",{className:"text-sm",children:ke(C,"user_name")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.email")}),o.jsx("p",{className:"text-sm",children:C.user_email||l("common.na")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.role")}),o.jsx("p",{className:"text-sm",children:l(`users.${C.user_role}`)})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.joined")}),o.jsx("p",{className:"text-sm",children:new Date(C.created_at).toLocaleDateString()})]}),C.updated_at&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.updated")}),o.jsx("p",{className:"text-sm",children:new Date(C.updated_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"space-y-3",children:[C.user_phone&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.phone")}),o.jsx("p",{className:"text-sm",children:C.user_phone})]}),C.client_contact&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.contact")}),o.jsx("p",{className:"text-sm",children:C.client_contact})]}),C.company_name&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.company")}),o.jsx("p",{className:"text-sm",children:ke(C,"company_name")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.userId")}),o.jsx("p",{className:"text-sm font-mono text-xs",children:C.user_id})]})]})]}),C.auth_user_id&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.authUserId")}),o.jsx("p",{className:"text-sm font-mono text-xs break-all",children:C.auth_user_id})]})]})}),o.jsxs(Fa,{children:[!B&&(e==null?void 0:e.role)==="admin"&&o.jsx(oe,{variant:"outline",onClick:()=>G(!0),children:l("buttons.edit")}),o.jsx(oe,{onClick:()=>Z(!1),children:l("buttons.close")})]})]})})]})}function ive(){const{user:e}=yr(),{t}=zt(),{isRTL:r}=Vi(),n=Bs();console.log("Teams Page - isRTL:",r);const[a,s]=y.useState([]),[i,l]=y.useState([]),[c,u]=y.useState({}),[d,f]=y.useState(!0),[h,m]=y.useState(""),[g,p]=y.useState(!1),[v,w]=y.useState(""),[x,b]=y.useState(""),[_,S]=y.useState(null),k=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager";(e==null?void 0:e.role)==="employee"||(e==null||e.role),y.useEffect(()=>{E(),N()},[]);const j=L=>{n("/chats",{state:{teamId:L}})},E=async()=>{try{f(!0);const L=await Zf.getAll(),M=await Zf.getAllTeamMembers();s(L),u(M)}catch(L){console.error("Failed to load teams:",L)}finally{f(!1)}},N=async()=>{try{const L=await ls.getAll();l(L)}catch(L){console.error("Failed to load users:",L)}},O=async()=>{if(v.trim())try{const L=$i({team_name:v.trim(),team_leader_id:x||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await Zf.create(L),w(""),b(""),p(!1),await E()}catch(L){console.error("Failed to create team:",L)}},R=async(L,M)=>{try{await Zf.addMember(L,M);const D=i.find(K=>K.auth_user_id===M);D&&u(K=>({...K,[L]:[...K[L]||[],D]}))}catch(D){console.error("Failed to add team member:",D)}},T=async(L,M)=>{try{await Zf.removeMember(L,M),u(D=>({...D,[L]:(D[L]||[]).filter(K=>K.auth_user_id!==M)}))}catch(D){console.error("Failed to remove team member:",D)}},U=async L=>{try{await Zf.delete(L),s(M=>M.filter(D=>D.team_id!==L)),u(M=>{const D={...M};return delete D[L],D}),S(null)}catch(M){console.error("Failed to delete team:",M)}},z=a.filter(L=>(ke(L,"team_name")||"").toLowerCase().includes(h.toLowerCase())),q=L=>i.find(M=>M.auth_user_id===L),I=i.filter(L=>L.user_role==="employee");return d?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:t("teams.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:t("teams.subtitle")})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pa,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:t("teams.memberCount_plural",{count:a.length})})]}),k&&o.jsxs(jn,{open:g,onOpenChange:p,children:[o.jsx(Ah,{asChild:!0,children:o.jsxs(oe,{children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),t("teams.createTeam")]})}),o.jsxs(dn,{className:"sm:max-w-[425px]",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:t("teams.createTeamTitle")}),o.jsx(La,{children:t("teams.createTeamDesc")})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Ge,{htmlFor:"team-name",className:"text-right rtl:text-left",children:t("teams.teamName")}),o.jsx(ze,{id:"team-name",value:v,onChange:L=>w(L.target.value),className:"col-span-3",placeholder:t("teams.teamNamePlaceholder")})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Ge,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:t("teams.teamLeader")}),o.jsxs(xt,{value:x,onValueChange:b,children:[o.jsx(gt,{className:"col-span-3",children:o.jsx(yt,{placeholder:t("teams.selectTeamLeader")})}),o.jsx(vt,{children:I.map(L=>o.jsx(Ce,{value:L.auth_user_id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:L.avatar||""}),o.jsx("span",{children:ke(L,"user_name")}),o.jsx(ct,{variant:"outline",className:"text-xs",children:L.user_role})]})},L.auth_user_id))})]})]})]}),o.jsx(Fa,{children:o.jsx(oe,{type:"submit",onClick:O,disabled:!v.trim(),children:t("teams.createTeam")})})]})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ze,{placeholder:t("teams.searchPlaceholder"),value:h,onChange:L=>m(L.target.value),className:"pl-10"})]}),o.jsxs(sa,{className:"flex-1",dir:r?"rtl":"ltr",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:r?"rtl":"ltr",children:z.map(L=>{const M=q(L.team_leader_id||""),D=c[L.team_id]||[];return o.jsxs(mt,{className:"hover:shadow-md transition-shadow",children:[o.jsxs(ur,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(nn,{className:"text-lg",children:ke(L,"team_name")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>j(L.team_id),title:t("teams.chat","Chat"),children:o.jsx(Tu,{className:"h-4 w-4"})}),o.jsx(ct,{variant:"outline",children:t("teams.memberCount_plural",{count:D.length})}),k&&o.jsxs(fi,{children:[o.jsx(mf,{asChild:!0,children:o.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:K=>{K.stopPropagation(),S(L.team_id)},children:o.jsx(xr,{className:"h-3 w-3"})})}),o.jsxs(Ds,{onClick:K=>K.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:t("teams.deleteTeam")}),o.jsx(Fs,{children:t("teams.deleteConfirmation",{name:ke(L,"team_name")})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:t("buttons.cancel")}),o.jsx(Ls,{onClick:K=>{K.stopPropagation(),U(L.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t("buttons.delete")})]})]})]})]})]}),M&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[t("teams.teamLeader"),":"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:M.avatar||""}),o.jsx("span",{children:ke(M,"user_name")})]})]})]}),o.jsxs(wt,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:t("teams.members")}),o.jsxs("div",{className:"space-y-2",children:[D.slice(0,4).map(K=>o.jsxs("div",{className:`flex items-center ${k?"justify-between":"gap-2"} bg-muted/50 p-2 rounded`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ia,{className:"h-6 w-6",children:[o.jsx(ts,{src:K.avatar||""}),o.jsx(oa,{className:"text-xs",children:ke(K,"user_name").charAt(0).toUpperCase()})]}),o.jsx("span",{className:"text-sm",children:ke(K,"user_name")})]}),k&&o.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>T(L.team_id,K.auth_user_id),children:o.jsx(ole,{className:"h-3 w-3"})})]},K.auth_user_id)),D.length>4&&o.jsx("div",{className:"text-xs text-muted-foreground text-center",children:t("teams.moreMembers",{count:D.length-4})}),D.length===0&&o.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:t("teams.noMembersYet")})]})]}),k&&o.jsx("div",{children:o.jsxs(xt,{onValueChange:K=>{K&&R(L.team_id,K)},children:[o.jsx(gt,{className:"w-full",children:o.jsx(yt,{placeholder:t("teams.addMember")})}),o.jsx(vt,{children:i.filter(K=>K.auth_user_id&&K.user_role==="employee"&&!D.some(Z=>Z.auth_user_id===K.auth_user_id)).map(K=>o.jsx(Ce,{value:K.auth_user_id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:K.avatar||""}),o.jsx("span",{children:ke(K,"user_name")}),o.jsx(ct,{variant:"outline",className:"text-xs",children:K.user_role})]})},K.auth_user_id))})]})}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[t("teams.created")," ",L.created_at?new Date(L.created_at).toLocaleDateString():"N/A"]})]})]},L.team_id)})}),z.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Pa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:t(h?"teams.noTeamsFound":"teams.noTeamsYet")}),o.jsx("p",{className:"text-muted-foreground mb-4",children:t(h?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!h&&k&&o.jsxs(oe,{onClick:()=>p(!0),children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),t("teams.createFirstTeam")]})]})]})]})}function ove({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:i}){const{t:l}=zt(),[c,u]=y.useState(""),d=e.filter(p=>{const v=p.is_private&&ke(p.other_user||{},"user_name")||p.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(p=>!p.is_private&&!p.team_id),h=d.filter(p=>p.is_private),m=d.filter(p=>p.team_id),g=p=>{var S;const v=(t==null?void 0:t.room_id)===p.room_id,w=p.is_private,x=w&&ke(p.other_user||{},"user_name")||p.room_name,b=w?(S=p.other_user)==null?void 0:S.avatar:null,_=(x==null?void 0:x.charAt(0).toUpperCase())||"?";return o.jsxs("button",{onClick:()=>r(p),className:Se("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[w?o.jsxs(ia,{className:"h-6 w-6",children:[o.jsx(ts,{src:b}),o.jsx(oa,{className:"text-[10px]",children:_})]}):p.team_id?o.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:o.jsx(Pa,{className:"h-3.5 w-3.5"})}):o.jsx("div",{className:"h-6 w-6 rounded bg-muted flex items-center justify-center",children:o.jsx(U9,{className:"h-3.5 w-3.5"})}),w&&o.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2 w-2 rounded-full bg-green-500 border-2 border-background"})]}),o.jsx("span",{className:"truncate flex-1 text-left",children:x}),p.unreadCount&&p.unreadCount>0?o.jsx(ct,{variant:"destructive",className:"h-5 min-w-[1.25rem] px-1 flex items-center justify-center text-[10px]",children:p.unreadCount}):null]},p.room_id)};return o.jsxs("div",{className:Se("flex flex-col h-full bg-background border-r",i),children:[o.jsxs("div",{className:"p-3 border-b",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:o.jsx(B9,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:l("common.search","Jump to..."),value:c,onChange:p=>u(p.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),o.jsxs(sa,{className:"flex-1 px-2 py-3",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&o.jsx(oe,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:o.jsx(sr,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-0.5",children:[f.map(g),f.length===0&&o.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),m.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),o.jsx("div",{className:"space-y-0.5",children:m.map(g)})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:o.jsx(sr,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-0.5",children:[h.map(g),h.length===0&&o.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function lve({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:i,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var Y;const{t:h}=zt(),[m,g]=y.useState(""),p=y.useRef(null),[v,w]=y.useState(!1),[x,b]=y.useState(null),[_,S]=y.useState(""),[k,j]=y.useState(!1),E=y.useRef(null);y.useEffect(()=>{if(p.current&&!c){const B=p.current.querySelector("[data-radix-scroll-area-viewport]");B&&(B.scrollTop=B.scrollHeight)}},[t,c]);const N=B=>{const G=B.target;if(!G)return;const se=G.scrollTop<100;w(se),se&&l&&i&&!c&&i()};y.useEffect(()=>{var G;const B=(G=p.current)==null?void 0:G.querySelector("[data-radix-scroll-area-viewport]");if(B)return B.addEventListener("scroll",N),()=>B.removeEventListener("scroll",N)},[l,c,i]);const O=B=>{b(B.message_id),S(B.content)},R=()=>{b(null),S("")},T=()=>{x&&_.trim()&&u&&(u(x,_),b(null),S(""))},U=()=>{m.trim()&&(n(m),g(""))},z=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),U())},q=async B=>{var re;const G=(re=B.target.files)==null?void 0:re[0];if(!(!G||!n))try{j(!0);const se=await messageService.uploadAttachment(G),ae=G.type.startsWith("image/")?`![${G.name}](${se})`:`[${G.name}](${se})`;n(ae)}catch(se){console.error("Failed to upload file:",se),alert(h("chat.uploadError","Failed to upload file"))}finally{j(!1),E.current&&(E.current.value="")}},I=()=>{var B;(B=E.current)==null||B.click()},L=B=>{const G=/!\[(.*?)\]\((.*?)\)/g,re=/\[(.*?)\]\((.*?)\)/g,se=G.exec(B);if(se)return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("img",{src:se[2],alt:se[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(se[2],"_blank")}),B.replace(se[0],"").trim()&&o.jsx("span",{children:B.replace(se[0],"").trim()})]});const ce=re.exec(B);return ce?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("a",{href:ce[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[o.jsx(TI,{className:"h-4 w-4"}),ce[1]]}),B.replace(ce[0],"").trim()&&o.jsx("span",{children:B.replace(ce[0],"").trim()})]}):B};if(s)return o.jsx("div",{className:Se("flex items-center justify-center h-full bg-background",f),children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return o.jsxs("div",{className:Se("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[o.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:o.jsx(Tu,{className:"h-8 w-8"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),o.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const M=e.is_private,D=M&&ke(e.other_user||{},"user_name")||e.room_name,K=M?(Y=e.other_user)==null?void 0:Y.avatar:null,Z=(D==null?void 0:D.charAt(0).toUpperCase())||"?",C=t.reduce((B,G)=>{const re=new Date(G.created_at).toLocaleDateString();return B[re]||(B[re]=[]),B[re].push(G),B},{});return o.jsxs("div",{className:Se("flex flex-col h-full bg-background overflow-x-hidden",f),children:[o.jsxs("div",{className:"h-16 border-b flex items-center justify-between px-4 flex-shrink-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[a&&o.jsx(oe,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:o.jsx($9,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[M?o.jsxs(ia,{className:"h-9 w-9",children:[o.jsx(ts,{src:K}),o.jsx(oa,{children:Z})]}):o.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?o.jsx(Pa,{className:"h-5 w-5"}):o.jsx(U9,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[D,M&&o.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!M&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h("chat.membersCount",{count:3})," "]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(oe,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(Gh,{className:"h-5 w-5"})}),o.jsx(oe,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(cle,{className:"h-5 w-5"})}),o.jsx(oe,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(Yoe,{className:"h-5 w-5"})})]})]}),o.jsx(sa,{className:"flex-1 p-4",ref:p,children:o.jsxs("div",{className:"space-y-6 pb-4",children:[c&&o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(C).map(([B,G])=>o.jsxs("div",{children:[o.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:B===new Date().toLocaleDateString()?h("common.today","Today"):B})})]}),o.jsx("div",{className:"space-y-4",children:G.map((re,se)=>{var A;const ce=re.auth_user_id===(r==null?void 0:r.id),ae=se===0||G[se-1].auth_user_id!==re.auth_user_id,J=re.sender,me=x===re.message_id;return o.jsxs("div",{className:Se("flex gap-3 group",ce?"flex-row-reverse":""),children:[ae?o.jsxs(ia,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[o.jsx(ts,{src:J==null?void 0:J.avatar}),o.jsx(oa,{children:((A=J==null?void 0:J.user_name)==null?void 0:A.charAt(0))||"?"})]}):o.jsx("div",{className:"w-8 flex-shrink-0"}),o.jsxs("div",{className:Se("flex flex-col max-w-[75%]",ce?"items-end":"items-start"),children:[ae&&o.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[o.jsx("span",{className:"text-sm font-semibold",children:J==null?void 0:J.user_name}),o.jsx("span",{className:"text-[10px] text-muted-foreground",children:li(new Date(re.created_at),"h:mm a")})]}),o.jsx("div",{className:Se("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",ce?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",me?"w-full min-w-[200px]":""),children:me?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("textarea",{value:_,onChange:Le=>S(Le.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(oe,{size:"sm",variant:"ghost",onClick:R,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),o.jsx(oe,{size:"sm",variant:"secondary",onClick:T,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):o.jsxs(o.Fragment,{children:[L(re.content),ce&&!me&&o.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[o.jsxs(oe,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>O(re),children:[o.jsx("span",{className:"sr-only",children:"Edit"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[o.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),o.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),o.jsxs(oe,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(re.message_id),children:[o.jsx("span",{className:"sr-only",children:"Delete"}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:o.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},re.message_id)})})]},B))]})}),o.jsxs("div",{className:"p-4 bg-background border-t",children:[o.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[o.jsx(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:I,disabled:k,children:k?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):o.jsx(TI,{className:"h-5 w-5"})}),o.jsx("input",{type:"file",ref:E,className:"hidden",onChange:q,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),o.jsx("textarea",{value:m,onChange:B=>g(B.target.value),onKeyDown:z,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:B=>{const G=B.target;G.style.height="auto",G.style.height=`${Math.min(G.scrollHeight,128)}px`}}),o.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[o.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:o.jsx(nle,{className:"h-5 w-5"})}),o.jsx(oe,{size:"icon",className:Se("h-8 w-8 transition-all",m.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:U,disabled:!m.trim()&&!k,children:o.jsx(ax,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:o.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function cve({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=zt(),[s,i]=y.useState([]),[l,c]=y.useState(""),[u,d]=y.useState(!1);y.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const m=await ls.getAll();i(m.filter(g=>g.auth_user_id!==n))}catch(m){console.error("Failed to load users:",m)}finally{d(!1)}},h=s.filter(m=>{var g,p;return((g=m.user_name)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))||((p=m.user_email)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))});return o.jsx(jn,{open:e,onOpenChange:t,children:o.jsxs(dn,{className:"sm:max-w-[425px]",children:[o.jsx(fn,{children:o.jsx(hn,{children:a("chat.newDirectMessage","New Direct Message")})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:m=>c(m.target.value),className:"pl-8"})]}),o.jsx(sa,{className:"h-[300px]",children:u?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):o.jsx("div",{className:"space-y-1",children:h.map(m=>{var g;return o.jsxs("button",{onClick:()=>{r(m),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[o.jsxs(ia,{children:[o.jsx(ts,{src:m.avatar}),o.jsx(oa,{children:((g=m.user_name)==null?void 0:g.charAt(0))||"?"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:m.user_name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:m.user_email})]})]},m.user_id)})})})]})]})})}var X_="Switch",[uve,GYe]=hs(X_),[dve,fve]=uve(X_),_H=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=Wt(t,b=>m(b)),p=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[w,x]=sc({prop:a,defaultProp:s??!1,onChange:u,caller:X_});return o.jsxs(dve,{scope:r,checked:w,disabled:l,children:[o.jsx(lt.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":NH(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:et(e.onClick,b=>{x(_=>!_),v&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),v&&o.jsx(kH,{control:h,bubbles:!p.current,name:n,value:c,checked:w,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});_H.displayName=X_;var SH="SwitchThumb",jH=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=fve(SH,r);return o.jsx(lt.span,{"data-state":NH(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});jH.displayName=SH;var hve="SwitchBubbleInput",kH=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const i=y.useRef(null),l=Wt(i,s),c=UA(r),u=IA(t);return y.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kH.displayName=hve;function NH(e){return e?"checked":"unchecked"}var EH=_H,mve=jH;const CH=y.forwardRef(({className:e,...t},r)=>o.jsx(EH,{className:Se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(mve,{className:Se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));CH.displayName=EH.displayName;function pve({open:e,onOpenChange:t,onCreate:r}){const{t:n}=zt(),[a,s]=y.useState(""),[i,l]=y.useState(!1),[c,u]=y.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,i),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return o.jsx(jn,{open:e,onOpenChange:t,children:o.jsxs(dn,{children:[o.jsx(fn,{children:o.jsx(hn,{children:n("chat.createRoomTitle","Create New Room")})}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"name",children:n("chat.roomName","Room Name")}),o.jsx(ze,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(Ge,{htmlFor:"private",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:n("chat.privateRoom","Private Room")}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),o.jsx(CH,{id:"private",checked:i,onCheckedChange:l,disabled:c})]}),o.jsxs(Fa,{children:[o.jsx(oe,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),o.jsx(oe,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function gve(){const{user:e}=yr(),{t}=zt(),[r,n]=y.useState([]),[a,s]=y.useState(null),[i,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState(!1),[h,m]=y.useState(!0),[g,p]=y.useState(!0),[v,w]=y.useState(!1),[x,b]=y.useState([]),[_,S]=y.useState(!1),[k,j]=y.useState(!1),E=y.useRef(!1),N=y.useRef(null);y.useRef(null);const O=y.useRef(null);y.useEffect(()=>{const K=()=>{const Z=window.innerWidth<768;f(Z),Z||m(!0)};return K(),window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),y.useEffect(()=>{e&&!E.current&&U()},[e]),y.useEffect(()=>{var Z;const K=(Z=window.history.state)==null?void 0:Z.usr;if(K!=null&&K.teamId&&r.length>0){const C=r.find(Y=>Y.team_id===K.teamId);C&&s(C)}},[r]),y.useEffect(()=>{a&&(N.current!==a.room_id&&(p(!0),w(!1),z(a.room_id),e&&(ro.markAsRead(a.room_id,e.id),n(K=>K.map(Z=>Z.room_id===a.room_id?{...Z,unreadCount:0}:Z)))),d&&m(!1))},[a,d,e]),y.useEffect(()=>{if(!e)return;O.current&&pe.removeChannel(O.current);const K=pe.channel(`room:${(a==null?void 0:a.room_id)||"global"}`);return O.current=K,K.on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async Z=>{const C=Z.new,Y={...C};C.auth_user_id===e.id&&(Y.sender=e.profile),(a==null?void 0:a.room_id)===C.room_id&&(l(B=>[...B,Y]),document.visibilityState==="visible"&&await ro.markAsRead(C.room_id,e.id)),n(B=>B.map(G=>G.room_id===C.room_id?{...G,lastMessage:C,unreadCount:(a==null?void 0:a.room_id)===C.room_id?0:(G.unreadCount||0)+1}:G))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},Z=>{const C=Z.new;l(Y=>Y.map(B=>B.message_id===C.message_id?{...B,...C,sender:B.sender}:B)),n(Y=>Y.map(B=>{var G;return((G=B.lastMessage)==null?void 0:G.message_id)===C.message_id?{...B,lastMessage:{...B.lastMessage,...C}}:B}))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},Z=>{const C=Z.old.message_id;l(Y=>Y.filter(B=>B.message_id!==C)),n(Y=>Y.map(B=>{var G;return((G=B.lastMessage)==null?void 0:G.message_id)===C?{...B,lastMessage:void 0}:B}))}).on("broadcast",{event:"typing"},Z=>{Z.payload.roomId===(a==null?void 0:a.room_id)&&Z.payload.userId!==e.id&&(b(C=>C.includes(Z.payload.userName)?C:[...C,Z.payload.userName]),setTimeout(()=>{b(C=>C.filter(Y=>Y!==Z.payload.userName))},3e3))}).subscribe(async Z=>{Z==="SUBSCRIBED"&&await K.track({user_id:e.id,online_at:new Date().toISOString()})}),()=>{O.current&&pe.removeChannel(O.current)}},[e,a]);const R=async(K,Z)=>{try{await Oh.update(K,Z)}catch(C){console.error("Failed to edit message:",C)}},T=async K=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await Oh.delete(K)}catch(Z){console.error("Failed to delete message:",Z)}},U=async()=>{try{u(!0);const K=await ro.getUserRooms(e==null?void 0:e.id),Z=await Promise.all(K.map(async C=>{if(C.is_private){const B=(await ro.getRoomMembers(C.room_id)).find(G=>G.auth_user_id!==(e==null?void 0:e.id));return{...C,other_user:B}}return C}));n(Z),E.current=!0}catch(K){console.error("Failed to load rooms:",K)}finally{u(!1)}},z=async(K,Z=!1)=>{try{Z&&w(!0);const C=10,Y=Z&&i.length>0?i[0].created_at:void 0,B=await Oh.getByRoom(K,{limit:C,before:Y});Z?(l(G=>[...B,...G]),p(B.length===C)):(l(B),p(B.length===C),N.current=K)}catch(C){console.error("Failed to load messages:",C)}finally{Z&&w(!1)}},q=async()=>{!a||v||!g||await z(a.room_id,!0)},I=async K=>{if(!(!a||!e))try{await Oh.create({room_id:a.room_id,auth_user_id:e.id,content:K,metadata:{}}),O.current}catch(Z){console.error("Failed to send message:",Z)}},L=()=>{m(!0)},M=async(K,Z)=>{if(e)try{const C=await ro.createRoom({name:K,is_private:Z,created_by:e.profile.user_id||0,auth_user_id:e.id});await ro.addMember(C.room_id,e.id),await U();const Y={...C};s(Y)}catch(C){console.error("Failed to create channel:",C)}},D=async K=>{if(!e)return;const Z=r.find(C=>{var Y;return C.is_private&&((Y=C.other_user)==null?void 0:Y.auth_user_id)===K.auth_user_id});if(Z){s(Z);return}try{const C=await ro.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,auth_user_id:e.id});await ro.addMember(C.room_id,e.id),await ro.addMember(C.room_id,K.auth_user_id),await U();const Y={...C,other_user:K};s(Y)}catch(C){console.error("Failed to create DM:",C)}};return o.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",dir:Lr()?"rtl":"ltr",children:[o.jsx("div",{className:Se("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-screen bg-background border-r overflow-hidden",h?"translate-x-0":"-translate-x-full md:translate-x-0",d&&!h&&"hidden"),children:o.jsx(ove,{rooms:r,selectedRoom:a,onSelectRoom:s,currentUser:e,onNewChannel:()=>S(!0),onNewDM:()=>j(!0)})}),o.jsx("div",{className:Se("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-screen overflow-hidden",d&&h?"hidden":"flex"),children:o.jsx(lve,{room:a,messages:i,currentUser:e,onSendMessage:I,onBack:L,loading:c,onLoadMore:q,hasMoreMessages:g,isLoadingMore:v,onEditMessage:R,onDeleteMessage:T})}),o.jsx(pve,{open:_,onOpenChange:S,onCreate:M}),o.jsx(cve,{open:k,onOpenChange:j,onSelectUser:D,currentUserId:e==null?void 0:e.id})]})}const vve=1,xve=1e6;let wk=0;function yve(){return wk=(wk+1)%Number.MAX_SAFE_INTEGER,wk.toString()}const bk=new Map,wM=e=>{if(bk.has(e))return;const t=setTimeout(()=>{bk.delete(e),ag({type:"REMOVE_TOAST",toastId:e})},xve);bk.set(e,t)},wve=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vve)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?wM(r):e.toasts.forEach(n=>{wM(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Nw=[];let Ew={toasts:[]};function ag(e){Ew=wve(Ew,e),Nw.forEach(t=>{t(Ew)})}function bve({...e}){const t=yve(),r=a=>ag({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>ag({type:"DISMISS_TOAST",toastId:t});return ag({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Xu(){const[e,t]=y.useState(Ew);return y.useEffect(()=>(Nw.push(t),()=>{const r=Nw.indexOf(t);r>-1&&Nw.splice(r,1)}),[e]),{...e,toast:bve,dismiss:r=>ag({type:"DISMISS_TOAST",toastId:r})}}function TH(e,t){return function(){return e.apply(t,arguments)}}const{toString:_ve}=Object.prototype,{getPrototypeOf:OO}=Object,{iterator:J_,toStringTag:AH}=Symbol,Q_=(e=>t=>{const r=_ve.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Mo=e=>(e=e.toLowerCase(),t=>Q_(t)===e),Z_=e=>t=>typeof t===e,{isArray:Pp}=Array,Mm=Z_("undefined");function Sx(e){return e!==null&&!Mm(e)&&e.constructor!==null&&!Mm(e.constructor)&&As(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const OH=Mo("ArrayBuffer");function Sve(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&OH(e.buffer),t}const jve=Z_("string"),As=Z_("function"),PH=Z_("number"),jx=e=>e!==null&&typeof e=="object",kve=e=>e===!0||e===!1,Cw=e=>{if(Q_(e)!=="object")return!1;const t=OO(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(AH in e)&&!(J_ in e)},Nve=e=>{if(!jx(e)||Sx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Eve=Mo("Date"),Cve=Mo("File"),Tve=Mo("Blob"),Ave=Mo("FileList"),Ove=e=>jx(e)&&As(e.pipe),Pve=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||As(e.append)&&((t=Q_(e))==="formdata"||t==="object"&&As(e.toString)&&e.toString()==="[object FormData]"))},Dve=Mo("URLSearchParams"),[Rve,Ive,Mve,Fve]=["ReadableStream","Request","Response","Headers"].map(Mo),Lve=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kx(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Pp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Sx(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function DH(e,t){if(Sx(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Ed=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RH=e=>!Mm(e)&&e!==Ed;function uE(){const{caseless:e,skipUndefined:t}=RH(this)&&this||{},r={},n=(a,s)=>{const i=e&&DH(r,s)||s;Cw(r[i])&&Cw(a)?r[i]=uE(r[i],a):Cw(a)?r[i]=uE({},a):Pp(a)?r[i]=a.slice():(!t||!Mm(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&kx(arguments[a],n);return r}const $ve=(e,t,r,{allOwnKeys:n}={})=>(kx(t,(a,s)=>{r&&As(a)?e[s]=TH(a,r):e[s]=a},{allOwnKeys:n}),e),Bve=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Uve=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Vve=(e,t,r,n)=>{let a,s,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&OO(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Wve=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},zve=e=>{if(!e)return null;if(Pp(e))return e;let t=e.length;if(!PH(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Hve=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&OO(Uint8Array)),qve=(e,t)=>{const n=(e&&e[J_]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},Gve=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Kve=Mo("HTMLFormElement"),Yve=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),bM=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Xve=Mo("RegExp"),IH=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};kx(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},Jve=e=>{IH(e,(t,r)=>{if(As(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(As(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Qve=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Pp(e)?n(e):n(String(e).split(t)),r},Zve=()=>{},exe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function txe(e){return!!(e&&As(e.append)&&e[AH]==="FormData"&&e[J_])}const rxe=e=>{const t=new Array(10),r=(n,a)=>{if(jx(n)){if(t.indexOf(n)>=0)return;if(Sx(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Pp(n)?[]:{};return kx(n,(i,l)=>{const c=r(i,a+1);!Mm(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},nxe=Mo("AsyncFunction"),axe=e=>e&&(jx(e)||As(e))&&As(e.then)&&As(e.catch),MH=((e,t)=>e?setImmediate:t?((r,n)=>(Ed.addEventListener("message",({source:a,data:s})=>{a===Ed&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ed.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",As(Ed.postMessage)),sxe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ed):typeof process<"u"&&process.nextTick||MH,ixe=e=>e!=null&&As(e[J_]),Te={isArray:Pp,isArrayBuffer:OH,isBuffer:Sx,isFormData:Pve,isArrayBufferView:Sve,isString:jve,isNumber:PH,isBoolean:kve,isObject:jx,isPlainObject:Cw,isEmptyObject:Nve,isReadableStream:Rve,isRequest:Ive,isResponse:Mve,isHeaders:Fve,isUndefined:Mm,isDate:Eve,isFile:Cve,isBlob:Tve,isRegExp:Xve,isFunction:As,isStream:Ove,isURLSearchParams:Dve,isTypedArray:Hve,isFileList:Ave,forEach:kx,merge:uE,extend:$ve,trim:Lve,stripBOM:Bve,inherits:Uve,toFlatObject:Vve,kindOf:Q_,kindOfTest:Mo,endsWith:Wve,toArray:zve,forEachEntry:qve,matchAll:Gve,isHTMLForm:Kve,hasOwnProperty:bM,hasOwnProp:bM,reduceDescriptors:IH,freezeMethods:Jve,toObjectSet:Qve,toCamelCase:Yve,noop:Zve,toFiniteNumber:exe,findKey:DH,global:Ed,isContextDefined:RH,isSpecCompliantForm:txe,toJSONObject:rxe,isAsyncFn:nxe,isThenable:axe,setImmediate:MH,asap:sxe,isIterable:ixe};function Ut(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Te.inherits(Ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const FH=Ut.prototype,LH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{LH[e]={value:e}});Object.defineProperties(Ut,LH);Object.defineProperty(FH,"isAxiosError",{value:!0});Ut.from=(e,t,r,n,a,s)=>{const i=Object.create(FH);Te.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Ut.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const oxe=null;function dE(e){return Te.isPlainObject(e)||Te.isArray(e)}function $H(e){return Te.endsWith(e,"[]")?e.slice(0,-2):e}function _M(e,t,r){return e?e.concat(t).map(function(a,s){return a=$H(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function lxe(e){return Te.isArray(e)&&!e.some(dE)}const cxe=Te.toFlatObject(Te,{},null,function(t){return/^is[A-Z]/.test(t)});function eS(e,t,r){if(!Te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!Te.isUndefined(v[p])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(t);if(!Te.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Te.isDate(g))return g.toISOString();if(Te.isBoolean(g))return g.toString();if(!c&&Te.isBlob(g))throw new Ut("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(g)||Te.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,p,v){let w=g;if(g&&!v&&typeof g=="object"){if(Te.endsWith(p,"{}"))p=n?p:p.slice(0,-2),g=JSON.stringify(g);else if(Te.isArray(g)&&lxe(g)||(Te.isFileList(g)||Te.endsWith(p,"[]"))&&(w=Te.toArray(g)))return p=$H(p),w.forEach(function(b,_){!(Te.isUndefined(b)||b===null)&&t.append(i===!0?_M([p],_,s):i===null?p:p+"[]",u(b))}),!1}return dE(g)?!0:(t.append(_M(v,p,s),u(g)),!1)}const f=[],h=Object.assign(cxe,{defaultVisitor:d,convertValue:u,isVisitable:dE});function m(g,p){if(!Te.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(g),Te.forEach(g,function(w,x){(!(Te.isUndefined(w)||w===null)&&a.call(t,w,Te.isString(x)?x.trim():x,p,h))===!0&&m(w,p?p.concat(x):[x])}),f.pop()}}if(!Te.isObject(e))throw new TypeError("data must be an object");return m(e),t}function SM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function PO(e,t){this._pairs=[],e&&eS(e,this,t)}const BH=PO.prototype;BH.append=function(t,r){this._pairs.push([t,r])};BH.toString=function(t){const r=t?function(n){return t.call(this,n,SM)}:SM;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function uxe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function UH(e,t,r){if(!t)return e;const n=r&&r.encode||uxe;Te.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=Te.isURLSearchParams(t)?t.toString():new PO(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class jM{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Te.forEach(this.handlers,function(n){n!==null&&t(n)})}}const VH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dxe=typeof URLSearchParams<"u"?URLSearchParams:PO,fxe=typeof FormData<"u"?FormData:null,hxe=typeof Blob<"u"?Blob:null,mxe={isBrowser:!0,classes:{URLSearchParams:dxe,FormData:fxe,Blob:hxe},protocols:["http","https","file","blob","url","data"]},DO=typeof window<"u"&&typeof document<"u",fE=typeof navigator=="object"&&navigator||void 0,pxe=DO&&(!fE||["ReactNative","NativeScript","NS"].indexOf(fE.product)<0),gxe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vxe=DO&&window.location.href||"http://localhost",xxe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:DO,hasStandardBrowserEnv:pxe,hasStandardBrowserWebWorkerEnv:gxe,navigator:fE,origin:vxe},Symbol.toStringTag,{value:"Module"})),Aa={...xxe,...mxe};function yxe(e,t){return eS(e,new Aa.classes.URLSearchParams,{visitor:function(r,n,a,s){return Aa.isNode&&Te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function wxe(e){return Te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bxe(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function WH(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&Te.isArray(a)?a.length:i,c?(Te.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!Te.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&Te.isArray(a[i])&&(a[i]=bxe(a[i])),!l)}if(Te.isFormData(e)&&Te.isFunction(e.entries)){const r={};return Te.forEachEntry(e,(n,a)=>{t(wxe(n),a,r,0)}),r}return null}function _xe(e,t,r){if(Te.isString(e))try{return(t||JSON.parse)(e),Te.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Nx={transitional:VH,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Te.isObject(t);if(s&&Te.isHTMLForm(t)&&(t=new FormData(t)),Te.isFormData(t))return a?JSON.stringify(WH(t)):t;if(Te.isArrayBuffer(t)||Te.isBuffer(t)||Te.isStream(t)||Te.isFile(t)||Te.isBlob(t)||Te.isReadableStream(t))return t;if(Te.isArrayBufferView(t))return t.buffer;if(Te.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return yxe(t,this.formSerializer).toString();if((l=Te.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return eS(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),_xe(t)):t}],transformResponse:[function(t){const r=this.transitional||Nx.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Te.isResponse(t)||Te.isReadableStream(t))return t;if(t&&Te.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Ut.from(l,Ut.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Aa.classes.FormData,Blob:Aa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],e=>{Nx.headers[e]={}});const Sxe=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jxe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&Sxe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},kM=Symbol("internals");function d0(e){return e&&String(e).trim().toLowerCase()}function Tw(e){return e===!1||e==null?e:Te.isArray(e)?e.map(Tw):String(e)}function kxe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Nxe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _k(e,t,r,n,a){if(Te.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Te.isString(t)){if(Te.isString(n))return t.indexOf(n)!==-1;if(Te.isRegExp(n))return n.test(t)}}function Exe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Cxe(e,t){const r=Te.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}class Os{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=d0(c);if(!d)throw new Error("header name must be a non-empty string");const f=Te.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Tw(l))}const i=(l,c)=>Te.forEach(l,(u,d)=>s(u,d,c));if(Te.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(Te.isString(t)&&(t=t.trim())&&!Nxe(t))i(jxe(t),r);else if(Te.isObject(t)&&Te.isIterable(t)){let l={},c,u;for(const d of t){if(!Te.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Te.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=d0(t),t){const n=Te.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return kxe(a);if(Te.isFunction(r))return r.call(this,a,n);if(Te.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=d0(t),t){const n=Te.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||_k(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=d0(i),i){const l=Te.findKey(n,i);l&&(!r||_k(n,n[l],l,r))&&(delete n[l],a=!0)}}return Te.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||_k(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return Te.forEach(this,(a,s)=>{const i=Te.findKey(n,s);if(i){r[i]=Tw(a),delete r[s];return}const l=t?Exe(s):String(s).trim();l!==s&&delete r[s],r[l]=Tw(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Te.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[kM]=this[kM]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=d0(i);n[l]||(Cxe(a,i),n[l]=!0)}return Te.isArray(t)?t.forEach(s):s(t),this}}Os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(Os.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Te.freezeMethods(Os);function Sk(e,t){const r=this||Nx,n=t||r,a=Os.from(n.headers);let s=n.data;return Te.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function zH(e){return!!(e&&e.__CANCEL__)}function Dp(e,t,r){Ut.call(this,e??"canceled",Ut.ERR_CANCELED,t,r),this.name="CanceledError"}Te.inherits(Dp,Ut,{__CANCEL__:!0});function HH(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ut("Request failed with status code "+r.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Txe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Axe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function Oxe(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const E1=(e,t,r=3)=>{let n=0;const a=Axe(50,250);return Oxe(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},NM=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},EM=e=>(...t)=>Te.asap(()=>e(...t)),Pxe=Aa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Aa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Aa.origin),Aa.navigator&&/(msie|trident)/i.test(Aa.navigator.userAgent)):()=>!0,Dxe=Aa.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Te.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Te.isString(n)&&l.push(`path=${n}`),Te.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),Te.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Rxe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ixe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qH(e,t,r){let n=!Rxe(t);return e&&(n||r==!1)?Ixe(e,t):t}const CM=e=>e instanceof Os?{...e}:e;function pf(e,t){t=t||{};const r={};function n(u,d,f,h){return Te.isPlainObject(u)&&Te.isPlainObject(d)?Te.merge.call({caseless:h},u,d):Te.isPlainObject(d)?Te.merge({},d):Te.isArray(d)?d.slice():d}function a(u,d,f,h){if(Te.isUndefined(d)){if(!Te.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!Te.isUndefined(d))return n(void 0,d)}function i(u,d){if(Te.isUndefined(d)){if(!Te.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(CM(u),CM(d),f,!0)};return Te.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);Te.isUndefined(h)&&f!==l||(r[d]=h)}),r}const GH=e=>{const t=pf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=Os.from(i),t.url=UH(qH(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Te.isFormData(r)){if(Aa.hasStandardBrowserEnv||Aa.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Te.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Aa.hasStandardBrowserEnv&&(n&&Te.isFunction(n)&&(n=n(t)),n||n!==!1&&Pxe(t.url))){const c=a&&s&&Dxe.read(s);c&&i.set(a,c)}return t},Mxe=typeof XMLHttpRequest<"u",Fxe=Mxe&&function(e){return new Promise(function(r,n){const a=GH(e);let s=a.data;const i=Os.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,g;function p(){m&&m(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function w(){if(!v)return;const b=Os.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};HH(function(j){r(j),p()},function(j){n(j),p()},S),v=null}"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(w)},v.onabort=function(){v&&(n(new Ut("Request aborted",Ut.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const S=_&&_.message?_.message:"Network Error",k=new Ut(S,Ut.ERR_NETWORK,e,v);k.event=_||null,n(k),v=null},v.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||VH;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new Ut(_,S.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,e,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&Te.forEach(i.toJSON(),function(_,S){v.setRequestHeader(S,_)}),Te.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,g]=E1(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=E1(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=b=>{v&&(n(!b||b.type?new Dp(null,e,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const x=Txe(a.url);if(x&&Aa.protocols.indexOf(x)===-1){n(new Ut("Unsupported protocol "+x+":",Ut.ERR_BAD_REQUEST,e));return}v.send(s||null)})},Lxe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ut?d:new Dp(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new Ut(`timeout ${t} of ms exceeded`,Ut.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Te.asap(l),c}},$xe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Bxe=async function*(e,t){for await(const r of Uxe(e))yield*$xe(r,t)},Uxe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},TM=(e,t,r,n)=>{const a=Bxe(e,t);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},AM=64*1024,{isFunction:Ry}=Te,Vxe=(({Request:e,Response:t})=>({Request:e,Response:t}))(Te.global),{ReadableStream:OM,TextEncoder:PM}=Te.global,DM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Wxe=e=>{e=Te.merge.call({skipUndefined:!0},Vxe,e);const{fetch:t,Request:r,Response:n}=e,a=t?Ry(t):typeof fetch=="function",s=Ry(r),i=Ry(n);if(!a)return!1;const l=a&&Ry(OM),c=a&&(typeof PM=="function"?(g=>p=>g.encode(p))(new PM):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=s&&l&&DM(()=>{let g=!1;const p=new r(Aa.origin,{body:new OM,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),d=i&&l&&DM(()=>Te.isReadableStream(new n("").body)),f={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(p,v)=>{let w=p&&p[g];if(w)return w.call(p);throw new Ut(`Response type '${g}' is not supported`,Ut.ERR_NOT_SUPPORT,v)})});const h=async g=>{if(g==null)return 0;if(Te.isBlob(g))return g.size;if(Te.isSpecCompliantForm(g))return(await new r(Aa.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(g)||Te.isArrayBuffer(g))return g.byteLength;if(Te.isURLSearchParams(g)&&(g=g+""),Te.isString(g))return(await c(g)).byteLength},m=async(g,p)=>{const v=Te.toFiniteNumber(g.getContentLength());return v??h(p)};return async g=>{let{url:p,method:v,data:w,signal:x,cancelToken:b,timeout:_,onDownloadProgress:S,onUploadProgress:k,responseType:j,headers:E,withCredentials:N="same-origin",fetchOptions:O}=GH(g),R=t||fetch;j=j?(j+"").toLowerCase():"text";let T=Lxe([x,b&&b.toAbortSignal()],_),U=null;const z=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let q;try{if(k&&u&&v!=="get"&&v!=="head"&&(q=await m(E,w))!==0){let Z=new r(p,{method:"POST",body:w,duplex:"half"}),C;if(Te.isFormData(w)&&(C=Z.headers.get("content-type"))&&E.setContentType(C),Z.body){const[Y,B]=NM(q,E1(EM(k)));w=TM(Z.body,AM,Y,B)}}Te.isString(N)||(N=N?"include":"omit");const I=s&&"credentials"in r.prototype,L={...O,signal:T,method:v.toUpperCase(),headers:E.normalize().toJSON(),body:w,duplex:"half",credentials:I?N:void 0};U=s&&new r(p,L);let M=await(s?R(U,O):R(p,L));const D=d&&(j==="stream"||j==="response");if(d&&(S||D&&z)){const Z={};["status","statusText","headers"].forEach(G=>{Z[G]=M[G]});const C=Te.toFiniteNumber(M.headers.get("content-length")),[Y,B]=S&&NM(C,E1(EM(S),!0))||[];M=new n(TM(M.body,AM,Y,()=>{B&&B(),z&&z()}),Z)}j=j||"text";let K=await f[Te.findKey(f,j)||"text"](M,g);return!D&&z&&z(),await new Promise((Z,C)=>{HH(Z,C,{data:K,headers:Os.from(M.headers),status:M.status,statusText:M.statusText,config:g,request:U})})}catch(I){throw z&&z(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Ut("Network Error",Ut.ERR_NETWORK,g,U),{cause:I.cause||I}):Ut.from(I,I&&I.code,g,U)}}},zxe=new Map,KH=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,l=i,c,u,d=zxe;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Wxe(t)),d=u;return u};KH();const RO={http:oxe,xhr:Fxe,fetch:{get:KH}};Te.forEach(RO,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const RM=e=>`- ${e}`,Hxe=e=>Te.isFunction(e)||e===null||e===!1;function qxe(e,t){e=Te.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!Hxe(n)&&(a=RO[(l=String(n)).toLowerCase()],a===void 0))throw new Ut(`Unknown adapter '${l}'`);if(a&&(Te.isFunction(a)||(a=a.get(t))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(RM).join(`
`):" "+RM(i[0]):"as no adapter specified";throw new Ut("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const YH={getAdapter:qxe,adapters:RO};function jk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dp(null,e)}function IM(e){return jk(e),e.headers=Os.from(e.headers),e.data=Sk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),YH.getAdapter(e.adapter||Nx.adapter,e)(e).then(function(n){return jk(e),n.data=Sk.call(e,e.transformResponse,n),n.headers=Os.from(n.headers),n},function(n){return zH(n)||(jk(e),n&&n.response&&(n.response.data=Sk.call(e,e.transformResponse,n.response),n.response.headers=Os.from(n.response.headers))),Promise.reject(n)})}const XH="1.13.2",tS={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tS[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const MM={};tS.transitional=function(t,r,n){function a(s,i){return"[Axios v"+XH+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new Ut(a(i," has been removed"+(r?" in "+r:"")),Ut.ERR_DEPRECATED);return r&&!MM[i]&&(MM[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};tS.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Gxe(e,t,r){if(typeof e!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const l=e[s],c=l===void 0||i(l,s,e);if(c!==!0)throw new Ut("option "+s+" must be "+c,Ut.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ut("Unknown option "+s,Ut.ERR_BAD_OPTION)}}const Aw={assertOptions:Gxe,validators:tS},Uo=Aw.validators;class Gd{constructor(t){this.defaults=t||{},this.interceptors={request:new jM,response:new jM}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=pf(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Aw.assertOptions(n,{silentJSONParsing:Uo.transitional(Uo.boolean),forcedJSONParsing:Uo.transitional(Uo.boolean),clarifyTimeoutError:Uo.transitional(Uo.boolean)},!1),a!=null&&(Te.isFunction(a)?r.paramsSerializer={serialize:a}:Aw.assertOptions(a,{encode:Uo.function,serialize:Uo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Aw.assertOptions(r,{baseUrl:Uo.spelling("baseURL"),withXsrfToken:Uo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&Te.merge(s.common,s[r.method]);s&&Te.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=Os.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!c){const g=[IM.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let m=r;for(;f<h;){const g=l[f++],p=l[f++];try{m=g(m)}catch(v){p.call(this,v);break}}try{d=IM.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=pf(this.defaults,t);const r=qH(t.baseURL,t.url,t.allowAbsoluteUrls);return UH(r,t.params,t.paramsSerializer)}}Te.forEach(["delete","get","head","options"],function(t){Gd.prototype[t]=function(r,n){return this.request(pf(n||{},{method:t,url:r,data:(n||{}).data}))}});Te.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(pf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Gd.prototype[t]=r(),Gd.prototype[t+"Form"]=r(!0)});class IO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new Dp(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new IO(function(a){t=a}),cancel:t}}}function Kxe(e){return function(r){return e.apply(null,r)}}function Yxe(e){return Te.isObject(e)&&e.isAxiosError===!0}const hE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(hE).forEach(([e,t])=>{hE[t]=e});function JH(e){const t=new Gd(e),r=TH(Gd.prototype.request,t);return Te.extend(r,Gd.prototype,t,{allOwnKeys:!0}),Te.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return JH(pf(e,a))},r}const Vr=JH(Nx);Vr.Axios=Gd;Vr.CanceledError=Dp;Vr.CancelToken=IO;Vr.isCancel=zH;Vr.VERSION=XH;Vr.toFormData=eS;Vr.AxiosError=Ut;Vr.Cancel=Vr.CanceledError;Vr.all=function(t){return Promise.all(t)};Vr.spread=Kxe;Vr.isAxiosError=Yxe;Vr.mergeConfig=pf;Vr.AxiosHeaders=Os;Vr.formToJSON=e=>WH(Te.isHTMLForm(e)?new FormData(e):e);Vr.getAdapter=YH.getAdapter;Vr.HttpStatusCode=hE;Vr.default=Vr;const f0="https://app.chatwoot.com",Vo="pMLFqLKix7PAnMnWJDorh2ne",Wo="144075",Iy={async getConversations(e="open",t=1){var r;try{const a=(await Vr.get(`${f0}/api/v1/accounts/${Wo}/conversations`,{headers:{api_access_token:Vo},params:{status:e,page:t}})).data;return(r=a==null?void 0:a.data)!=null&&r.payload?a.data.payload:a!=null&&a.payload?a.payload:[]}catch(n){return console.error("[Chatwoot] Failed to fetch conversations:",n),[]}},async getMessages(e){try{return(await Vr.get(`${f0}/api/v1/accounts/${Wo}/conversations/${e}/messages`,{headers:{api_access_token:Vo}})).data.payload||[]}catch(t){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,t),[]}},async sendMessage(e,t,r=!1){try{return(await Vr.post(`${f0}/api/v1/accounts/${Wo}/conversations/${e}/messages`,{content:t,message_type:r?"private":"outgoing",private:r},{headers:{api_access_token:Vo}})).data}catch(n){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,n),n}},async toggleStatus(e,t){try{await Vr.post(`${f0}/api/v1/accounts/${Wo}/conversations/${e}/toggle_status`,{status:t},{headers:{api_access_token:Vo}})}catch(r){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,r),r}},async getInboxes(){try{return(await Vr.get(`${f0}/api/v1/accounts/${Wo}/inboxes`,{headers:{api_access_token:Vo}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function Xxe(){const{t:e}=zt();yr(),Xu();const[t,r]=y.useState([]),[n,a]=y.useState(null),[s,i]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[f,h]=y.useState(!1),[m,g]=y.useState(""),[p,v]=y.useState("open"),w=y.useRef(null);y.useEffect(()=>{x(p);const E=setInterval(()=>{x(p,!0)},3e4);return()=>clearInterval(E)},[p]),y.useEffect(()=>{if(n){b(n.id);const E=setInterval(()=>b(n.id),1e4);return()=>clearInterval(E)}},[n]),y.useEffect(()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)},[s]);const x=async(E,N=!1)=>{N||c(!0);try{const O=await Iy.getConversations(E);r(O||[])}catch(O){console.error("Failed to load conversations:",O),N||console.error("User notification skipped for load error")}finally{N||c(!1)}},b=async E=>{s.length===0&&d(!0);try{const N=await Iy.getMessages(E);i(N)}catch(N){console.error("Failed to load messages",N)}finally{d(!1)}},_=async()=>{if(!(!m.trim()||!n)){h(!0);try{const E=await Iy.sendMessage(n.id,m);E&&(i(N=>[...N,E]),g(""))}catch(E){console.error("Failed to send message",E)}finally{h(!1)}}},S=async E=>{try{const N=p==="open"?"resolved":"open";await Iy.toggleStatus(E,N),p!=="all"?(r(O=>O.filter(R=>R.id!==E)),(n==null?void 0:n.id)===E&&(a(null),i([]))):(r(O=>O.map(R=>R.id===E?{...R,status:N}:R)),x(p))}catch(N){console.error("Failed to toggle status",N)}},k=E=>E!=null&&E.includes("email")?o.jsx(yd,{className:"h-4 w-4"}):E!=null&&E.includes("whatsapp")?o.jsx(Gh,{className:"h-4 w-4"}):o.jsx(Tu,{className:"h-4 w-4"}),j=E=>new Date(E*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return o.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:Lr()?"rtl":"ltr",children:[o.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[o.jsxs("div",{className:"p-4 border-b space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),o.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>x(p),disabled:l,children:o.jsx(WN,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]}),o.jsx(gl,{defaultValue:"open",onValueChange:E=>v(E),className:"w-full",children:o.jsxs(Ro,{className:"grid w-full grid-cols-3",children:[o.jsx(Yr,{value:"open",children:e("status.open")}),o.jsx(Yr,{value:"resolved",children:e("status.closed")}),o.jsx(Yr,{value:"all",children:e("common.all")})]})}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),o.jsx(sa,{className:"flex-1",children:t.length===0&&!l?o.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):o.jsx("div",{className:"divide-y",children:t.map(E=>o.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(n==null?void 0:n.id)===E.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>a(E),children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ia,{className:"h-8 w-8",children:[o.jsx(ts,{src:E.meta.sender.thumbnail}),o.jsx(oa,{children:E.meta.sender.name.charAt(0)})]}),o.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:E.meta.sender.name})]}),o.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:j(E.timestamp)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[k(E.meta.channel),o.jsx("span",{className:"capitalize",children:E.meta.channel.split(".")[1]||"Web"}),E.status==="resolved"&&o.jsx(ct,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),o.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:E.messages&&E.messages.length>0?E.messages[E.messages.length-1].content:e("common.noMessages")||"No messages"})]},E.id))})})]}),o.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(ia,{children:[o.jsx(ts,{src:n.meta.sender.thumbnail}),o.jsx(oa,{children:n.meta.sender.name.charAt(0)})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:n.meta.sender.name}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.meta.sender.email&&o.jsx("span",{children:n.meta.sender.email}),n.meta.sender.phone_number&&o.jsxs("span",{children:[" ",n.meta.sender.phone_number]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oe,{variant:n.status==="resolved"?"outline":"default",size:"sm",onClick:()=>S(n.id),children:n.status==="resolved"?o.jsxs(o.Fragment,{children:[o.jsx(WN,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):o.jsxs(o.Fragment,{children:[o.jsx(CI,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),o.jsxs(XA,{children:[o.jsx(JA,{asChild:!0,children:o.jsx(oe,{variant:"ghost",size:"icon",children:o.jsx(B9,{className:"h-4 w-4"})})}),o.jsxs(M_,{align:"end",children:[o.jsx(Ll,{children:e("chats.viewContactDetails")}),o.jsx(Ll,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),o.jsx("div",{ref:w,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:u?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):s.map(E=>{const N=E.message_type==="outgoing"||E.sender&&E.sender.type==="user",O=E.private;return o.jsx("div",{className:`flex w-full ${N?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${O?"bg-yellow-50 border border-yellow-200":N?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[O&&o.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[o.jsx(Roe,{className:"h-3 w-3"})," ",e("chats.note")]}),o.jsx("div",{className:"text-sm whitespace-pre-wrap",children:E.content}),o.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${N?"text-primary-foreground/70":"text-muted-foreground"}`,children:[j(E.created_at),N&&o.jsx(CI,{className:"h-3 w-3"})]})]})},E.id)})}),o.jsxs("div",{className:"p-4 border-t bg-background",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ze,{placeholder:e("chats.typeMessage"),value:m,onChange:E=>g(E.target.value),onKeyDown:E=>E.key==="Enter"&&!E.shiftKey&&_(),disabled:f||n.status==="resolved",className:"flex-1"}),o.jsx(oe,{onClick:_,disabled:f||!m.trim()||n.status==="resolved",children:f?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):o.jsx(ax,{className:"h-4 w-4"})})]}),n.status==="resolved"&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:o.jsx(Tu,{className:"h-8 w-8 text-muted-foreground/50"})}),o.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),o.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function Jxe(){const{user:e}=yr(),{t}=zt(),[r,n]=y.useState([]),[a,s]=y.useState(null),[i,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(""),[h,m]=y.useState(!0),[g,p]=y.useState(!1),[v,w]=y.useState(null),[x,b]=y.useState(null),[_,S]=y.useState(!1),[k,j]=y.useState(!0),E=y.useRef(!1),N=y.useRef(null),O=y.useRef(null);y.useEffect(()=>{e&&!E.current&&R()},[e]),y.useEffect(()=>{a&&(O.current!==a.room_id&&U(),N.current!==a.room_id&&T())},[a]),y.useEffect(()=>{a&&(async()=>{try{await pe.realtime.setAuth(await Hs.getFreshJwt());const L=`room:${a.room_id}:messages`,M=pe.channel(L,{config:{broadcast:{self:!0,ack:!0},private:!0}});return M.on("broadcast",{event:"*"},D=>{var Z;const K=(Z=D.payload)==null?void 0:Z.record;K&&K.message_id&&l(C=>C.some(B=>B.message_id===K.message_id)?C:[...C.filter(B=>!(B.message_id.startsWith("temp-")&&B.auth_user_id===K.auth_user_id&&B.content===K.content)),K])}),await M.subscribe(),()=>{M.unsubscribe()}}catch(L){console.error("Failed to setup realtime:",L)}})()},[a]),y.useEffect(()=>{p(!1),w(null),b(null),E.current=!1,N.current=null,O.current=null},[e]);const R=async()=>{if(!E.current)try{m(!0);const I=await ro.getUserRooms((e==null?void 0:e.id)||"");n(I),I.length>0&&s(I[0]),p(!0),E.current=!0}catch(I){console.error("Failed to load rooms:",I)}finally{m(!1)}},T=async()=>{if(!(!a||N.current===a.room_id))try{const I=await Oh.getByRoom(a.room_id);l(I),w(a.room_id),N.current=a.room_id}catch(I){console.error("Failed to load messages:",I)}},U=async()=>{if(!(!a||O.current===a.room_id))try{const I=await ro.getRoomMembers(a.room_id);u(I),b(a.room_id),O.current=a.room_id}catch(I){console.error("Failed to load room members:",I)}},z=async()=>{if(!d.trim()||!a||!e)return;const I=d.trim(),L={message_id:`temp-${Date.now()}`,room_id:a.room_id,auth_user_id:e.id,content:I,created_at:new Date().toISOString(),metadata:null};l(M=>[...M,L]),f("");try{await Oh.create({room_id:a.room_id,auth_user_id:e.id,content:I,metadata:null})}catch(M){console.error("Failed to send message:",M),l(D=>D.filter(K=>K.message_id!==L.message_id)),f(I)}},q=I=>new Date(I).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[o.jsxs("div",{className:`flex-col border rounded-lg ${k?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[o.jsx("div",{className:"p-4 border-b",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),o.jsx(sa,{className:"flex-1 p-4",children:o.jsx("div",{className:"space-y-2",children:r.map(I=>o.jsx(mt,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(I),children:o.jsx(wt,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ny,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),o.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},I.room_id))})})]}),a&&o.jsx("div",{className:"md:hidden mb-4",children:o.jsxs(ic,{open:_,onOpenChange:S,children:[o.jsx(IW,{asChild:!0,children:o.jsxs(oe,{variant:"outline",className:"w-full justify-between",children:[o.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),o.jsx(Ny,{className:"h-4 w-4 ml-2"})]})}),o.jsx(ml,{side:"left",className:"w-80 p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),o.jsx(sa,{className:"h-[60vh]",children:o.jsx("div",{className:"space-y-2",children:r.map(I=>o.jsx(mt,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(I),S(!1)},children:o.jsx(wt,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ny,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),o.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},I.room_id))})})]})})]})}),o.jsx("div",{className:"flex-1 flex flex-col",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Pa,{className:"h-4 w-4"}),o.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&o.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>j(!k),children:o.jsx(rle,{className:"h-4 w-4"})})]}),o.jsx(sa,{className:"flex-1 mb-4",children:o.jsx("div",{className:"space-y-4 p-4",children:x===a.room_id&&i.map(I=>{var M,D,K,Z;let L;return I.auth_user_id===(e==null?void 0:e.id)?L={auth_user_id:e.id,user_name:((M=e.profile)==null?void 0:M.user_name)||e.email||t("chats.you"),avatar:(D=e.profile)==null?void 0:D.avatar,user_id:((K=e.profile)==null?void 0:K.user_id)||0,user_email:e.email}:L=c.find(C=>C.auth_user_id===I.auth_user_id),L||(L={auth_user_id:I.auth_user_id,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(ia,{className:"h-8 w-8",children:[o.jsx(ts,{src:L.avatar||""}),o.jsx(oa,{children:((Z=L.user_name)==null?void 0:Z.charAt(0))||"?"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium text-sm",children:L.user_name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:q(I.created_at)})]}),o.jsx("p",{className:"text-sm",children:I.content})]})]},I.message_id)})})}),o.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[o.jsx(ze,{value:d,onChange:I=>f(I.target.value),placeholder:t("chats.typeMessage"),onKeyPress:I=>I.key==="Enter"&&z(),className:"flex-1"}),o.jsx(oe,{onClick:z,disabled:!d.trim(),children:o.jsx(ax,{className:"h-4 w-4"})})]})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(Ny,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function Qxe(){const{isRTL:e}=Vi();Ua();const[t,r]=y.useState(null),[n,a]=y.useState([]),[s,i]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState(!0),{user:f,signOut:h}=yr();y.useEffect(()=>{(async()=>{if(f!=null&&f.id)try{d(!0);const p=await Xo.getByUserAuthId(f.id);a(p)}catch(p){console.error("Failed to fetch user projects:",p)}finally{d(!1)}})()},[f==null?void 0:f.id]),y.useEffect(()=>{(async()=>{if(t)try{const[p,v]=await Promise.all([iu.getAll(),sE.getByTask(0)]),w=p.filter(x=>!0);i(w),c(v)}catch(p){console.error("Failed to fetch project data:",p)}})()},[t]);const m=t?n.find(g=>g.project_id===t):null;return o.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[o.jsx("header",{className:"border-b bg-card",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),o.jsxs(oe,{variant:"ghost",size:"sm",children:[o.jsx(Qoe,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),o.jsxs("div",{className:"container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",ke((f==null?void 0:f.profile)||{},"user_name"),"! "]}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),m?o.jsxs("div",{children:[o.jsx(oe,{variant:"ghost",className:"mb-4",onClick:()=>r(null),children:" Back to Projects"}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(mt,{children:[o.jsx(ur,{children:o.jsx(nn,{children:m.project_name})}),o.jsxs(wt,{children:[o.jsx("p",{className:"text-muted-foreground",children:m.project_description||"No description available"}),o.jsxs("div",{className:"mt-4",children:[o.jsx(lc,{value:m.progress||0,className:"h-3"}),o.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[m.progress||0,"% Complete"]})]})]})]}),o.jsxs(gl,{defaultValue:"tasks",children:[o.jsxs(Ro,{children:[o.jsx(Yr,{value:"tasks",children:"Tasks"}),o.jsx(Yr,{value:"images",children:"Gallery"}),o.jsx(Yr,{value:"comments",children:"Comments"})]}),o.jsx(kn,{value:"tasks",className:"space-y-3",children:s.filter(g=>g.stage_id!==null).map(g=>{var p;return o.jsx(mt,{children:o.jsx(wt,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:g.task_name}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.description||"No description"})]}),o.jsxs(ct,{variant:g.task_status==="completed"?"default":"secondary",children:[g.task_status==="completed"?"":""," ",((p=g.task_status)==null?void 0:p.replace("_"," "))||"pending"]})]})})},g.task_id)})}),o.jsx(kn,{value:"images",children:o.jsx(mt,{children:o.jsx(wt,{className:"pt-6",children:o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(g=>o.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})},g))})})})}),o.jsx(kn,{value:"comments",children:o.jsx(mt,{children:o.jsxs(wt,{className:"pt-6 space-y-4",children:[l.map(g=>o.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),o.jsx("p",{className:"text-sm mt-1",children:g.message||"No message"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:g.created_date?new Date(g.created_date).toLocaleString():"Unknown date"})]})]},g.comment_id)),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx(ze,{placeholder:"Add a comment..."}),o.jsx(oe,{children:o.jsx(Tu,{className:"h-4 w-4"})})]})]})})})]})]}),o.jsx("div",{children:o.jsxs(mt,{children:[o.jsx(ur,{children:o.jsx(nn,{className:"text-lg",children:"Timeline"})}),o.jsxs(wt,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"})]}),m.end_date&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"End Date"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.end_date).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Project Kickoff"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Design Phase"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-blue-500",children:""}),o.jsx("span",{children:"Development Phase"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):u?o.jsxs("div",{className:"flex justify-center items-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),o.jsx("span",{className:"sr-only",children:"Loading projects..."})]}):n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),o.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>o.jsxs(mt,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(g.project_id),children:[o.jsxs(ur,{children:[o.jsx(nn,{className:"text-lg",children:g.project_name}),o.jsxs(ct,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",g.stage||"N/A"]})]}),o.jsx(wt,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Progress"}),o.jsxs("span",{className:"font-semibold",children:[g.progress||0,"%"]})]}),o.jsx(lc,{value:g.progress||0,className:"h-2"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",g.created_date?new Date(g.created_date).toLocaleDateString():"N/A"]}),o.jsx(oe,{className:"w-full",variant:"outline",children:"View Details "})]})})]},g.project_id))})]})]})}const Zxe=()=>{const e=Bs(),{t}=zt(),{toast:r}=Xu();y.useEffect(()=>{(function(a,s){var i="https://app.chatwoot.com",l=a.createElement(s),c=a.getElementsByTagName(s)[0];l.src=i+"/packs/js/sdk.js",l.async=!0,c.parentNode.insertBefore(l,c),l.onload=function(){window.chatwootSDK.run({websiteToken:"D1EYnSkXCLjxUF5gyk1q3PHG",baseUrl:i})}})(document,"script")},[]);const n=[{icon:o.jsx(qd,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:o.jsx(Pa,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:o.jsx($oe,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:o.jsx(Tu,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:o.jsx(ng,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:o.jsx(z9,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[o.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"M"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:t("landing.brandName")})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gV,{}),o.jsx(oe,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),o.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsxs(ct,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[o.jsx(H9,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),o.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),o.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[o.jsxs(oe,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),o.jsx(Moe,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(oe,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),o.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:n.map((a,s)=>o.jsx(mt,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:o.jsxs(wt,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:a.icon}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.title})]}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:a.description})]})},s))})]})}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[o.jsx(mt,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:o.jsxs(wt,{className:"p-8 sm:p-12 text-center",children:[o.jsx(ule,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),o.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),o.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),o.jsxs(oe,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[t("landing.cta.button"),o.jsx(m1,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),o.jsx(mt,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:o.jsxs(wt,{className:"p-8 sm:p-12",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("landing.partner.title")}),o.jsx("p",{className:"text-gray-600",children:t("landing.partner.subtitle")})]}),o.jsxs("form",{className:"space-y-4",onSubmit:async a=>{a.preventDefault();const s=a.target,i=new FormData(s);try{await kw.createApplication({company_name:i.get("company_name"),full_name:i.get("full_name"),email:i.get("email"),phone:i.get("phone")}),r({title:t("landing.partner.success"),description:t("landing.partner.successMessage")}),s.reset()}catch{r({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[o.jsx("div",{className:"space-y-2",children:o.jsx(ze,{name:"company_name",placeholder:t("landing.partner.companyName"),required:!0,className:"bg-white"})}),o.jsx("div",{className:"space-y-2",children:o.jsx(ze,{name:"full_name",placeholder:t("landing.partner.fullName"),required:!0,className:"bg-white"})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(ze,{name:"email",type:"email",placeholder:t("landing.partner.email"),required:!0,className:"bg-white"}),o.jsx(ze,{name:"phone",type:"tel",placeholder:t("landing.partner.phone"),required:!0,className:"bg-white"})]}),o.jsx(oe,{type:"submit",className:"w-full text-lg h-12",children:t("landing.partner.submit")})]})]})})]})})}),o.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"M"})}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[t("landing.brandName")," CRM"]})]}),o.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},eye=()=>{const[e,t]=y.useState("loading"),[r,n]=y.useState("Processing authentication..."),a=Bs(),{user:s}=yr();return y.useEffect(()=>{let i;return(async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] Waiting for OAuth session to establish...");let c=0;const u=20,d=async()=>{c++,console.log(`[AuthCallback] Checking session and profile (attempt ${c}/${u})`);try{const{data:{user:f},error:h}=await pe.auth.getUser();if(h&&console.error("[AuthCallback] User error:",h),f){console.log("[AuthCallback] Found authenticated user:",f.id);const{data:p}=await pe.from("users").select("user_id").eq("auth_user_id",f.id).maybeSingle();if(p){console.log("[AuthCallback] User profile exists, fetching user data...");const v=await Hs.getCurrentUser(f.id);if(v){localStorage.removeItem("oauth_intended_role"),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{v.role==="client"?a("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}const{data:{session:m},error:g}=await pe.auth.getSession();if(g&&console.error("[AuthCallback] Session error:",g),m!=null&&m.user){console.log("[AuthCallback] Found session user:",m.user.id);const{data:p}=await pe.from("users").select("user_id").eq("auth_user_id",m.user.id).maybeSingle();if(p){console.log("[AuthCallback] User profile exists, fetching user data...");const v=await Hs.getCurrentUser(m.user.id);if(v){localStorage.removeItem("oauth_intended_role"),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{v.role==="client"?a("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}c<u?(console.log("[AuthCallback] No session or profile found, waiting and retrying..."),i=setTimeout(d,1e3)):(console.error("[AuthCallback] No session or profile found after maximum attempts"),t("error"),n("Authentication session not established. Please try signing in again."),setTimeout(()=>a("/login"),3e3))}catch(f){console.error("[AuthCallback] Error checking session and profile:",f),c<u?i=setTimeout(d,1e3):(t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3))}};d()}catch(c){console.error("[AuthCallback] Error handling callback:",c),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{i&&clearTimeout(i)}},[s,a]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),o.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),o.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),o.jsx("p",{className:"text-gray-600",children:r})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var QH=1252,tye=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],MO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},FO=function(e){tye.indexOf(e)!=-1&&(QH=MO[0]=e)};function rye(){FO(1252)}var wo=function(e){FO(e)};function ZH(){wo(1200),rye()}function FM(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function nye(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function eq(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var I0=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?nye(e.slice(2)):t==254&&r==255?eq(e.slice(2)):t==65279?e.slice(1):e},My=function(t){return String.fromCharCode(t)},LM=function(t){return String.fromCharCode(t)},Hc,ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $M(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=ou.charAt(s)+ou.charAt(i)+ou.charAt(l)+ou.charAt(c);return t}function hi(e){var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=ou.indexOf(e.charAt(u++)),i=ou.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),l=ou.indexOf(e.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=ou.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Xt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Df=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Mu(e){return Xt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function BM(e){return Xt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var go=function(t){return Xt?Df(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Rf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function LO(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return LO(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var qc=Xt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Df(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function aye(e){for(var t=[],r=0,n=e.length+250,a=Mu(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|l>>6&15|(i&3)<<4,a[r++]=128|l&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Mu(65535),n=65530)}return t.push(a.slice(0,r)),qc(t)}var cs=/\u0000/g,M0=/[\u0001-\u0006]/g;function Zh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function bo(e,t){var r=""+e;return r.length>=t?r:tn("0",t-r.length)+r}function $O(e,t){var r=""+e;return r.length>=t?r:tn(" ",t-r.length)+r}function C1(e,t){var r=""+e;return r.length>=t?r:r+tn(" ",t-r.length)}function sye(e,t){var r=""+Math.round(e);return r.length>=t?r:tn("0",t-r.length)+r}function iye(e,t){var r=""+e;return r.length>=t?r:tn("0",t-r.length)+r}var UM=Math.pow(2,32);function th(e,t){if(e>UM||e<-UM)return sye(e,t);var r=Math.round(e);return iye(r,t)}function T1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var VM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],kk=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function oye(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Bt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},WM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},lye={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function A1(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*i+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=i)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Cd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=mye(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var tq=new Date(1899,11,31,0,0,0),cye=tq.getTime(),uye=new Date(1900,2,1,0,0,0);function rq(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=uye&&(r+=24*60*60*1e3),(r-(cye+(e.getTimezoneOffset()-tq.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function BO(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function dye(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function fye(e){var t=e<0?12:11,r=BO(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function hye(e){var t=BO(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function ev(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=fye(e):t===10?r=e.toFixed(10).substr(0,12):r=hye(e),BO(dye(r.toUpperCase()))}function gf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):ev(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Bi(14,rq(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function mye(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function pye(e,t,r,n){var a="",s=0,i=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return kk[r.m-1][1];case 5:return kk[r.m-1][0];default:return kk[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return VM[r.q][0];default:return VM[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?bo(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=bo(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?bo(c,u):"";return d}function lu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var nq=/%/g;function gye(e,t,r){var n=t.replace(nq,""),a=t.length-n.length;return Gl(e,n,r*Math.pow(10,2*a))+tn("%",a)}function vye(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Gl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function aq(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+aq(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var sq=/# (\?+)( ?)\/( ?)(\d+)/;function xye(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(i===0?tn(" ",e[1].length+1+e[4].length):$O(i,e[1].length)+e[2]+"/"+e[3]+bo(l,e[4].length))}function yye(e,t,r){return r+(t===0?"":""+t)+tn(" ",e[1].length+2+e[4].length)}var iq=/^#*0*\.([0#]+)/,oq=/\).*[0#]/,lq=/\(###\) ###\\?-####/;function Ja(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function zM(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function HM(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function wye(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function bye(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Si(e,t,r){if(e.charCodeAt(0)===40&&!t.match(oq)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Si("n",n,r):"("+Si("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return vye(e,t,r);if(t.indexOf("%")!==-1)return gye(e,t,r);if(t.indexOf("E")!==-1)return aq(t,r);if(t.charCodeAt(0)===36)return"$"+Si(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+th(c,t.length);if(t.match(/^[#?]+$/))return a=th(r,0),a==="0"&&(a=""),a.length>t.length?a:Ja(t.substr(0,t.length-a.length))+a;if(s=t.match(sq))return xye(s,c,u);if(t.match(/^#+0+$/))return u+th(c,t.length-t.indexOf("0"));if(s=t.match(iq))return a=zM(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ja(s[1])).replace(/\.$/,"."+Ja(s[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+tn("0",Ja(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+zM(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+lu(th(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Si(e,t,-r):lu(""+(Math.floor(r)+wye(r,s[1].length)))+"."+bo(HM(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Si(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Zh(Si(e,t.replace(/[\\-]/g,""),r)),i=0,Zh(Zh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(lq))return a=Si(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=A1(c,Math.pow(10,i)-1,!1),a=""+u,d=Gl("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=C1(l[2],i),d.length<s[4].length&&(d=Ja(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=A1(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?$O(l[1],i)+s[2]+"/"+s[3]+C1(l[2],i):tn(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=th(r,0),t.length<=a.length?a:Ja(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Ja(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=HM(r,s[1].length),r<0?"-"+Si(e,t,-r):lu(bye(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?bo(0,3-g.length):"")+g})+"."+bo(i,s[1].length);switch(t){case"###,##0.00":return Si(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=lu(th(c,0));return m!=="0"?u+m:"";case"###,###.00":return Si(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Si(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function _ye(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Gl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Sye(e,t,r){var n=t.replace(nq,""),a=t.length-n.length;return Gl(e,n,r*Math.pow(10,2*a))+tn("%",a)}function cq(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+cq(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ho(e,t,r){if(e.charCodeAt(0)===40&&!t.match(oq)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ho("n",n,r):"("+Ho("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return _ye(e,t,r);if(t.indexOf("%")!==-1)return Sye(e,t,r);if(t.indexOf("E")!==-1)return cq(t,r);if(t.charCodeAt(0)===36)return"$"+Ho(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+bo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ja(t.substr(0,t.length-a.length))+a;if(s=t.match(sq))return yye(s,c,u);if(t.match(/^#+0+$/))return u+bo(c,t.length-t.indexOf("0"));if(s=t.match(iq))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ja(s[1])).replace(/\.$/,"."+Ja(s[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+tn("0",Ja(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+lu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ho(e,t,-r):lu(""+r)+"."+tn("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Ho(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Zh(Ho(e,t.replace(/[\\-]/g,""),r)),i=0,Zh(Zh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(lq))return a=Ho(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=A1(c,Math.pow(10,i)-1,!1),a=""+u,d=Gl("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=C1(l[2],i),d.length<s[4].length&&(d=Ja(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=A1(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?$O(l[1],i)+s[2]+"/"+s[3]+C1(l[2],i):tn(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ja(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Ja(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ho(e,t,-r):lu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?bo(0,3-g.length):"")+g})+"."+bo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=lu(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Ho(e,t.slice(0,t.lastIndexOf(".")),r)+Ja(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Gl(e,t,r){return(r|0)===r?Ho(e,t,r):Si(e,t,r)}function jye(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var uq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Rp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":T1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(uq))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function kye(e,t,r,n){for(var a=[],s="",i=0,l="",c="t",u,d,f,h="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!T1(e,i))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=e.charAt(++i),g=m==="("||m===")"?m:"t";a[a.length]={t:g,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=Cd(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Cd(t,r),u==null))return"";for(s=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(u==null&&(u=Cd(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",i+=5,h="h"):(p.t="t",++i),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(s=l;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(uq)){if(u==null&&(u=Cd(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Rp(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++i<e.length&&(l=e.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++i;break}var v=0,w=0,x;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,c="h",v<1&&(v=1);break;case"s":(x=a[i].v.match(/\.0+$/))&&(w=Math.max(w,x[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[i].v.match(/[Hh]/)&&(v=1),v<2&&a[i].v.match(/[Mm]/)&&(v=2),v<3&&a[i].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=pye(a[i].t.charCodeAt(0),a[i].v,u,w),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;b+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=gf(t,r);break}var S="",k,j;if(b.length>0){b.charCodeAt(0)==40?(k=t<0&&b.charCodeAt(0)===45?-t:t,j=Gl("n",b,k)):(k=t<0&&n>1?-t:t,j=Gl("n",b,k),k<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),_=j.length-1;var E=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){E=i;break}var N=a.length;if(E===a.length&&j.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=j.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=j.substr(0,_+1),_=-1),a[i].t="t",N=i);_>=0&&N<a.length&&(a[N].v=j.substr(0,_+1)+a[N].v)}else if(E!==a.length&&j.indexOf("E")===-1){for(_=j.indexOf(".")-1,i=E;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===E?a[i].v.indexOf(".")-1:a[i].v.length-1,S=a[i].v.substr(d+1);d>=0;--d)_>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(S=j.charAt(_--)+S);a[i].v=S,a[i].t="t",N=i}for(_>=0&&N<a.length&&(a[N].v=j.substr(0,_+1)+a[N].v),_=j.indexOf(".")+1,i=E;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==E)){for(d=a[i].v.indexOf(".")>-1&&i===E?a[i].v.indexOf(".")+1:0,S=a[i].v.substr(0,d);d<a[i].v.length;++d)_<j.length&&(S+=j.charAt(_++));a[i].v=S,a[i].t="t",N=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(k=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=Gl(a[i].t,a[i].v,k),a[i].t="t");var O="";for(i=0;i!==a.length;++i)a[i]!=null&&(O+=a[i].v);return O}var qM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function GM(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Nye(e,t){var r=jye(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(qM),l=r[1].match(qM);return GM(t,i)?[n,r[0]]:GM(t,l)?[n,r[1]]:[n,r[i!=null&&l!=null?2:1]]}return[n,s]}function Bi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Bt)[e],n==null&&(n=r.table&&r.table[WM[e]]||Bt[WM[e]]),n==null&&(n=lye[e]||"General");break}if(T1(n,0))return gf(t,r);t instanceof Date&&(t=rq(t,r.date1904));var a=Nye(n,t);if(T1(a[1]))return gf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return kye(a[1],t,r,a[0])}function Kd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Bt[r]==null){t<0&&(t=r);continue}if(Bt[r]==e){t=r;break}}t<0&&(t=391)}return Bt[t]=e,t}function dq(){Bt=oye()}var Eye={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},fq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Cye(e){var t=typeof e=="number"?Bt[e]:e;return t=t.replace(fq,"(\\d+)"),new RegExp("^"+t+"$")}function Tye(e,t,r){var n=-1,a=-1,s=-1,i=-1,l=-1,c=-1;(t.match(fq)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var Aye=function(){var e={};e.version="1.2.0";function t(){for(var j=0,E=new Array(256),N=0;N!=256;++N)j=N,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,E[N]=j;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function n(j){var E=0,N=0,O=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)R[O]=j[O];for(O=0;O!=256;++O)for(N=j[O],E=256+O;E<4096;E+=256)N=R[E]=N>>>8^j[N&255];var T=[];for(O=1;O!=16;++O)T[O-1]=typeof Int32Array<"u"?R.subarray(O*256,O*256+256):R.slice(O*256,O*256+256);return T}var a=n(r),s=a[0],i=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],g=a[9],p=a[10],v=a[11],w=a[12],x=a[13],b=a[14];function _(j,E){for(var N=E^-1,O=0,R=j.length;O<R;)N=N>>>8^r[(N^j.charCodeAt(O++))&255];return~N}function S(j,E){for(var N=E^-1,O=j.length-15,R=0;R<O;)N=b[j[R++]^N&255]^x[j[R++]^N>>8&255]^w[j[R++]^N>>16&255]^v[j[R++]^N>>>24]^p[j[R++]]^g[j[R++]]^m[j[R++]]^h[j[R++]]^f[j[R++]]^d[j[R++]]^u[j[R++]]^c[j[R++]]^l[j[R++]]^i[j[R++]]^s[j[R++]]^r[j[R++]];for(O+=15;R<O;)N=N>>>8^r[(N^j[R++])&255];return~N}function k(j,E){for(var N=E^-1,O=0,R=j.length,T=0,U=0;O<R;)T=j.charCodeAt(O++),T<128?N=N>>>8^r[(N^T)&255]:T<2048?(N=N>>>8^r[(N^(192|T>>6&31))&255],N=N>>>8^r[(N^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,U=j.charCodeAt(O++)&1023,N=N>>>8^r[(N^(240|T>>8&7))&255],N=N>>>8^r[(N^(128|T>>2&63))&255],N=N>>>8^r[(N^(128|U>>6&15|(T&3)<<4))&255],N=N>>>8^r[(N^(128|U&63))&255]):(N=N>>>8^r[(N^(224|T>>12&15))&255],N=N>>>8^r[(N^(128|T>>6&63))&255],N=N>>>8^r[(N^(128|T&63))&255]);return~N}return e.table=r,e.bstr=_,e.buf=S,e.str=k,e}(),Qt=function(){var t={};t.version="1.2.1";function r(H,ee){for(var Q=H.split("/"),P=ee.split("/"),V=0,X=0,de=Math.min(Q.length,P.length);V<de;++V){if(X=Q[V].length-P[V].length)return X;if(Q[V]!=P[V])return Q[V]<P[V]?-1:1}return Q.length-P.length}function n(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:n(H.slice(0,-1));var ee=H.lastIndexOf("/");return ee===-1?H:H.slice(0,ee+1)}function a(H){if(H.charAt(H.length-1)=="/")return a(H.slice(0,-1));var ee=H.lastIndexOf("/");return ee===-1?H:H.slice(ee+1)}function s(H,ee){typeof ee=="string"&&(ee=new Date(ee));var Q=ee.getHours();Q=Q<<6|ee.getMinutes(),Q=Q<<5|ee.getSeconds()>>>1,H.write_shift(2,Q);var P=ee.getFullYear()-1980;P=P<<4|ee.getMonth()+1,P=P<<5|ee.getDate(),H.write_shift(2,P)}function i(H){var ee=H.read_shift(2)&65535,Q=H.read_shift(2)&65535,P=new Date,V=Q&31;Q>>>=5;var X=Q&15;Q>>>=4,P.setMilliseconds(0),P.setFullYear(Q+1980),P.setMonth(X-1),P.setDate(V);var de=ee&31;ee>>>=5;var Oe=ee&63;return ee>>>=6,P.setHours(ee),P.setMinutes(Oe),P.setSeconds(de<<1),P}function l(H){na(H,0);for(var ee={},Q=0;H.l<=H.length-4;){var P=H.read_shift(2),V=H.read_shift(2),X=H.l+V,de={};switch(P){case 21589:Q=H.read_shift(1),Q&1&&(de.mtime=H.read_shift(4)),V>5&&(Q&2&&(de.atime=H.read_shift(4)),Q&4&&(de.ctime=H.read_shift(4))),de.mtime&&(de.mt=new Date(de.mtime*1e3));break}H.l=X,ee[P]=de}return ee}var c;function u(){return c||(c={})}function d(H,ee){if(H[0]==80&&H[1]==75)return Cn(H,ee);if((H[0]|32)==109&&(H[1]|32)==105)return Ht(H,ee);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var Q=3,P=512,V=0,X=0,de=0,Oe=0,we=0,_e=[],Ne=H.slice(0,512);na(Ne,0);var Ue=f(Ne);switch(Q=Ue[0],Q){case 3:P=512;break;case 4:P=4096;break;case 0:if(Ue[1]==0)return Cn(H,ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}P!==512&&(Ne=H.slice(0,P),na(Ne,28));var Je=H.slice(0,P);h(Ne,Q);var nt=Ne.read_shift(4,"i");if(Q===3&&nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+nt);Ne.l+=4,de=Ne.read_shift(4,"i"),Ne.l+=4,Ne.chk("00100000","Mini Stream Cutoff Size: "),Oe=Ne.read_shift(4,"i"),V=Ne.read_shift(4,"i"),we=Ne.read_shift(4,"i"),X=Ne.read_shift(4,"i");for(var qe=-1,tt=0;tt<109&&(qe=Ne.read_shift(4,"i"),!(qe<0));++tt)_e[tt]=qe;var Ot=m(H,P);v(we,X,Ot,P,_e);var Sr=x(Ot,de,_e,P);Sr[de].name="!Directory",V>0&&Oe!==U&&(Sr[Oe].name="!MiniFAT"),Sr[_e[0]].name="!FAT",Sr.fat_addrs=_e,Sr.ssz=P;var jr={},sn=[],Sc=[],jc=[];b(de,Sr,Ot,sn,V,jr,Sc,Oe),g(Sc,jc,sn),sn.shift();var nd={FileIndex:Sc,FullPaths:jc};return ee&&ee.raw&&(nd.raw={header:Je,sectors:Ot}),nd}function f(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(z,"Header Signature: "),H.l+=16;var ee=H.read_shift(2,"u");return[H.read_shift(2,"u"),ee]}function h(H,ee){var Q=9;switch(H.l+=2,Q=H.read_shift(2)){case 9:if(ee!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(ee!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function m(H,ee){for(var Q=Math.ceil(H.length/ee)-1,P=[],V=1;V<Q;++V)P[V-1]=H.slice(V*ee,(V+1)*ee);return P[Q-1]=H.slice(Q*ee),P}function g(H,ee,Q){for(var P=0,V=0,X=0,de=0,Oe=0,we=Q.length,_e=[],Ne=[];P<we;++P)_e[P]=Ne[P]=P,ee[P]=Q[P];for(;Oe<Ne.length;++Oe)P=Ne[Oe],V=H[P].L,X=H[P].R,de=H[P].C,_e[P]===P&&(V!==-1&&_e[V]!==V&&(_e[P]=_e[V]),X!==-1&&_e[X]!==X&&(_e[P]=_e[X])),de!==-1&&(_e[de]=P),V!==-1&&P!=_e[P]&&(_e[V]=_e[P],Ne.lastIndexOf(V)<Oe&&Ne.push(V)),X!==-1&&P!=_e[P]&&(_e[X]=_e[P],Ne.lastIndexOf(X)<Oe&&Ne.push(X));for(P=1;P<we;++P)_e[P]===P&&(X!==-1&&_e[X]!==X?_e[P]=_e[X]:V!==-1&&_e[V]!==V&&(_e[P]=_e[V]));for(P=1;P<we;++P)if(H[P].type!==0){if(Oe=P,Oe!=_e[Oe])do Oe=_e[Oe],ee[P]=ee[Oe]+"/"+ee[P];while(Oe!==0&&_e[Oe]!==-1&&Oe!=_e[Oe]);_e[P]=-1}for(ee[0]+="/",P=1;P<we;++P)H[P].type!==2&&(ee[P]+="/")}function p(H,ee,Q){for(var P=H.start,V=H.size,X=[],de=P;Q&&V>0&&de>=0;)X.push(ee.slice(de*T,de*T+T)),V-=T,de=wd(Q,de*4);return X.length===0?Dn(0):qc(X).slice(0,H.size)}function v(H,ee,Q,P,V){var X=U;if(H===U){if(ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var de=Q[H],Oe=(P>>>2)-1;if(!de)return;for(var we=0;we<Oe&&(X=wd(de,we*4))!==U;++we)V.push(X);v(wd(de,P-4),ee-1,Q,P,V)}}function w(H,ee,Q,P,V){var X=[],de=[];V||(V=[]);var Oe=P-1,we=0,_e=0;for(we=ee;we>=0;){V[we]=!0,X[X.length]=we,de.push(H[we]);var Ne=Q[Math.floor(we*4/P)];if(_e=we*4&Oe,P<4+_e)throw new Error("FAT boundary crossed: "+we+" 4 "+P);if(!H[Ne])break;we=wd(H[Ne],_e)}return{nodes:X,data:nF([de])}}function x(H,ee,Q,P){var V=H.length,X=[],de=[],Oe=[],we=[],_e=P-1,Ne=0,Ue=0,Je=0,nt=0;for(Ne=0;Ne<V;++Ne)if(Oe=[],Je=Ne+ee,Je>=V&&(Je-=V),!de[Je]){we=[];var qe=[];for(Ue=Je;Ue>=0;){qe[Ue]=!0,de[Ue]=!0,Oe[Oe.length]=Ue,we.push(H[Ue]);var tt=Q[Math.floor(Ue*4/P)];if(nt=Ue*4&_e,P<4+nt)throw new Error("FAT boundary crossed: "+Ue+" 4 "+P);if(!H[tt]||(Ue=wd(H[tt],nt),qe[Ue]))break}X[Je]={nodes:Oe,data:nF([we])}}return X}function b(H,ee,Q,P,V,X,de,Oe){for(var we=0,_e=P.length?2:0,Ne=ee[H].data,Ue=0,Je=0,nt;Ue<Ne.length;Ue+=128){var qe=Ne.slice(Ue,Ue+128);na(qe,64),Je=qe.read_shift(2),nt=HO(qe,0,Je-_e),P.push(nt);var tt={name:nt,type:qe.read_shift(1),color:qe.read_shift(1),L:qe.read_shift(4,"i"),R:qe.read_shift(4,"i"),C:qe.read_shift(4,"i"),clsid:qe.read_shift(16),state:qe.read_shift(4,"i"),start:0,size:0},Ot=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);Ot!==0&&(tt.ct=_(qe,qe.l-8));var Sr=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);Sr!==0&&(tt.mt=_(qe,qe.l-8)),tt.start=qe.read_shift(4,"i"),tt.size=qe.read_shift(4,"i"),tt.size<0&&tt.start<0&&(tt.size=tt.type=0,tt.start=U,tt.name=""),tt.type===5?(we=tt.start,V>0&&we!==U&&(ee[we].name="!StreamData")):tt.size>=4096?(tt.storage="fat",ee[tt.start]===void 0&&(ee[tt.start]=w(Q,tt.start,ee.fat_addrs,ee.ssz)),ee[tt.start].name=tt.name,tt.content=ee[tt.start].data.slice(0,tt.size)):(tt.storage="minifat",tt.size<0?tt.size=0:we!==U&&tt.start!==U&&ee[we]&&(tt.content=p(tt,ee[we].data,(ee[Oe]||{}).data))),tt.content&&na(tt.content,0),X[nt]=tt,de.push(tt)}}function _(H,ee){return new Date((Qs(H,ee+4)/1e7*Math.pow(2,32)+Qs(H,ee)/1e7-11644473600)*1e3)}function S(H,ee){return u(),d(c.readFileSync(H),ee)}function k(H,ee){var Q=ee&&ee.type;switch(Q||Xt&&Buffer.isBuffer(H)&&(Q="buffer"),Q||"base64"){case"file":return S(H,ee);case"base64":return d(go(hi(H)),ee);case"binary":return d(go(H),ee)}return d(H,ee)}function j(H,ee){var Q=ee||{},P=Q.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=P+"/",H.FileIndex[0]={name:P,type:5}),Q.CLSID&&(H.FileIndex[0].clsid=Q.CLSID),E(H)}function E(H){var ee="Sh33tJ5";if(!Qt.find(H,"/"+ee)){var Q=Dn(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,H.FileIndex.push({name:ee,type:2,content:Q,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+ee),N(H)}}function N(H,ee){j(H);for(var Q=!1,P=!1,V=H.FullPaths.length-1;V>=0;--V){var X=H.FileIndex[V];switch(X.type){case 0:P?Q=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:P=!0,isNaN(X.R*X.L*X.C)&&(Q=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!ee)){var de=new Date(1987,1,19),Oe=0,we=Object.create?Object.create(null):{},_e=[];for(V=0;V<H.FullPaths.length;++V)we[H.FullPaths[V]]=!0,H.FileIndex[V].type!==0&&_e.push([H.FullPaths[V],H.FileIndex[V]]);for(V=0;V<_e.length;++V){var Ne=n(_e[V][0]);P=we[Ne],P||(_e.push([Ne,{name:a(Ne).replace("/",""),type:1,clsid:I,ct:de,mt:de,content:null}]),we[Ne]=!0)}for(_e.sort(function(nt,qe){return r(nt[0],qe[0])}),H.FullPaths=[],H.FileIndex=[],V=0;V<_e.length;++V)H.FullPaths[V]=_e[V][0],H.FileIndex[V]=_e[V][1];for(V=0;V<_e.length;++V){var Ue=H.FileIndex[V],Je=H.FullPaths[V];if(Ue.name=a(Je).replace("/",""),Ue.L=Ue.R=Ue.C=-(Ue.color=1),Ue.size=Ue.content?Ue.content.length:0,Ue.start=0,Ue.clsid=Ue.clsid||I,V===0)Ue.C=_e.length>1?1:-1,Ue.size=0,Ue.type=5;else if(Je.slice(-1)=="/"){for(Oe=V+1;Oe<_e.length&&n(H.FullPaths[Oe])!=Je;++Oe);for(Ue.C=Oe>=_e.length?-1:Oe,Oe=V+1;Oe<_e.length&&n(H.FullPaths[Oe])!=n(Je);++Oe);Ue.R=Oe>=_e.length?-1:Oe,Ue.type=1}else n(H.FullPaths[V+1]||"")==n(Je)&&(Ue.R=V+1),Ue.type=2}}}function O(H,ee){var Q=ee||{};if(Q.fileType=="mad")return _r(H,Q);switch(N(H),Q.fileType){case"zip":return Ki(H,Q)}var P=function(nt){for(var qe=0,tt=0,Ot=0;Ot<nt.FileIndex.length;++Ot){var Sr=nt.FileIndex[Ot];if(Sr.content){var jr=Sr.content.length;jr>0&&(jr<4096?qe+=jr+63>>6:tt+=jr+511>>9)}}for(var sn=nt.FullPaths.length+3>>2,Sc=qe+7>>3,jc=qe+127>>7,nd=Sc+tt+sn+jc,Lo=nd+127>>7,ad=Lo<=109?0:Math.ceil((Lo-109)/127);nd+Lo+ad+127>>7>Lo;)ad=++Lo<=109?0:Math.ceil((Lo-109)/127);var vi=[1,ad,Lo,jc,sn,tt,qe,0];return nt.FileIndex[0].size=qe<<6,vi[7]=(nt.FileIndex[0].start=vi[0]+vi[1]+vi[2]+vi[3]+vi[4]+vi[5])+(vi[6]+7>>3),vi}(H),V=Dn(P[7]<<9),X=0,de=0;{for(X=0;X<8;++X)V.write_shift(1,q[X]);for(X=0;X<8;++X)V.write_shift(2,0);for(V.write_shift(2,62),V.write_shift(2,3),V.write_shift(2,65534),V.write_shift(2,9),V.write_shift(2,6),X=0;X<3;++X)V.write_shift(2,0);for(V.write_shift(4,0),V.write_shift(4,P[2]),V.write_shift(4,P[0]+P[1]+P[2]+P[3]-1),V.write_shift(4,0),V.write_shift(4,4096),V.write_shift(4,P[3]?P[0]+P[1]+P[2]-1:U),V.write_shift(4,P[3]),V.write_shift(-4,P[1]?P[0]-1:U),V.write_shift(4,P[1]),X=0;X<109;++X)V.write_shift(-4,X<P[2]?P[1]+X:-1)}if(P[1])for(de=0;de<P[1];++de){for(;X<236+de*127;++X)V.write_shift(-4,X<P[2]?P[1]+X:-1);V.write_shift(-4,de===P[1]-1?U:de+1)}var Oe=function(nt){for(de+=nt;X<de-1;++X)V.write_shift(-4,X+1);nt&&(++X,V.write_shift(-4,U))};for(de=X=0,de+=P[1];X<de;++X)V.write_shift(-4,L.DIFSECT);for(de+=P[2];X<de;++X)V.write_shift(-4,L.FATSECT);Oe(P[3]),Oe(P[4]);for(var we=0,_e=0,Ne=H.FileIndex[0];we<H.FileIndex.length;++we)Ne=H.FileIndex[we],Ne.content&&(_e=Ne.content.length,!(_e<4096)&&(Ne.start=de,Oe(_e+511>>9)));for(Oe(P[6]+7>>3);V.l&511;)V.write_shift(-4,L.ENDOFCHAIN);for(de=X=0,we=0;we<H.FileIndex.length;++we)Ne=H.FileIndex[we],Ne.content&&(_e=Ne.content.length,!(!_e||_e>=4096)&&(Ne.start=de,Oe(_e+63>>6)));for(;V.l&511;)V.write_shift(-4,L.ENDOFCHAIN);for(X=0;X<P[4]<<2;++X){var Ue=H.FullPaths[X];if(!Ue||Ue.length===0){for(we=0;we<17;++we)V.write_shift(4,0);for(we=0;we<3;++we)V.write_shift(4,-1);for(we=0;we<12;++we)V.write_shift(4,0);continue}Ne=H.FileIndex[X],X===0&&(Ne.start=Ne.size?Ne.start-1:U);var Je=X===0&&Q.root||Ne.name;if(_e=2*(Je.length+1),V.write_shift(64,Je,"utf16le"),V.write_shift(2,_e),V.write_shift(1,Ne.type),V.write_shift(1,Ne.color),V.write_shift(-4,Ne.L),V.write_shift(-4,Ne.R),V.write_shift(-4,Ne.C),Ne.clsid)V.write_shift(16,Ne.clsid,"hex");else for(we=0;we<4;++we)V.write_shift(4,0);V.write_shift(4,Ne.state||0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,Ne.start),V.write_shift(4,Ne.size),V.write_shift(4,0)}for(X=1;X<H.FileIndex.length;++X)if(Ne=H.FileIndex[X],Ne.size>=4096)if(V.l=Ne.start+1<<9,Xt&&Buffer.isBuffer(Ne.content))Ne.content.copy(V,V.l,0,Ne.size),V.l+=Ne.size+511&-512;else{for(we=0;we<Ne.size;++we)V.write_shift(1,Ne.content[we]);for(;we&511;++we)V.write_shift(1,0)}for(X=1;X<H.FileIndex.length;++X)if(Ne=H.FileIndex[X],Ne.size>0&&Ne.size<4096)if(Xt&&Buffer.isBuffer(Ne.content))Ne.content.copy(V,V.l,0,Ne.size),V.l+=Ne.size+63&-64;else{for(we=0;we<Ne.size;++we)V.write_shift(1,Ne.content[we]);for(;we&63;++we)V.write_shift(1,0)}if(Xt)V.l=V.length;else for(;V.l<V.length;)V.write_shift(1,0);return V}function R(H,ee){var Q=H.FullPaths.map(function(we){return we.toUpperCase()}),P=Q.map(function(we){var _e=we.split("/");return _e[_e.length-(we.slice(-1)=="/"?2:1)]}),V=!1;ee.charCodeAt(0)===47?(V=!0,ee=Q[0].slice(0,-1)+ee):V=ee.indexOf("/")!==-1;var X=ee.toUpperCase(),de=V===!0?Q.indexOf(X):P.indexOf(X);if(de!==-1)return H.FileIndex[de];var Oe=!X.match(M0);for(X=X.replace(cs,""),Oe&&(X=X.replace(M0,"!")),de=0;de<Q.length;++de)if((Oe?Q[de].replace(M0,"!"):Q[de]).replace(cs,"")==X||(Oe?P[de].replace(M0,"!"):P[de]).replace(cs,"")==X)return H.FileIndex[de];return null}var T=64,U=-2,z="d0cf11e0a1b11ae1",q=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",L={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(H,ee,Q){u();var P=O(H,Q);c.writeFileSync(ee,P)}function D(H){for(var ee=new Array(H.length),Q=0;Q<H.length;++Q)ee[Q]=String.fromCharCode(H[Q]);return ee.join("")}function K(H,ee){var Q=O(H,ee);switch(ee&&ee.type||"buffer"){case"file":return u(),c.writeFileSync(ee.filename,Q),Q;case"binary":return typeof Q=="string"?Q:D(Q);case"base64":return $M(typeof Q=="string"?Q:D(Q));case"buffer":if(Xt)return Buffer.isBuffer(Q)?Q:Df(Q);case"array":return typeof Q=="string"?go(Q):Q}return Q}var Z;function C(H){try{var ee=H.InflateRaw,Q=new ee;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)Z=H;else throw new Error("zlib does not expose bytesRead")}catch(P){console.error("cannot use native zlib: "+(P.message||P))}}function Y(H,ee){if(!Z)return zr(H,ee);var Q=Z.InflateRaw,P=new Q,V=P._processChunk(H.slice(H.l),P._finishFlushFlag);return H.l+=P.bytesRead,V}function B(H){return Z?Z.deflateRawSync(H):Ae(H)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(H){var ee=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(ee>>16|ee>>8|ee)&255}for(var ae=typeof Uint8Array<"u",J=ae?new Uint8Array(256):[],me=0;me<256;++me)J[me]=ce(me);function A(H,ee){var Q=J[H&255];return ee<=8?Q>>>8-ee:(Q=Q<<8|J[H>>8&255],ee<=16?Q>>>16-ee:(Q=Q<<8|J[H>>16&255],Q>>>24-ee))}function Le(H,ee){var Q=ee&7,P=ee>>>3;return(H[P]|(Q<=6?0:H[P+1]<<8))>>>Q&3}function Ie(H,ee){var Q=ee&7,P=ee>>>3;return(H[P]|(Q<=5?0:H[P+1]<<8))>>>Q&7}function Ve(H,ee){var Q=ee&7,P=ee>>>3;return(H[P]|(Q<=4?0:H[P+1]<<8))>>>Q&15}function We(H,ee){var Q=ee&7,P=ee>>>3;return(H[P]|(Q<=3?0:H[P+1]<<8))>>>Q&31}function Pe(H,ee){var Q=ee&7,P=ee>>>3;return(H[P]|(Q<=1?0:H[P+1]<<8))>>>Q&127}function ft(H,ee,Q){var P=ee&7,V=ee>>>3,X=(1<<Q)-1,de=H[V]>>>P;return Q<8-P||(de|=H[V+1]<<8-P,Q<16-P)||(de|=H[V+2]<<16-P,Q<24-P)||(de|=H[V+3]<<24-P),de&X}function _t(H,ee,Q){var P=ee&7,V=ee>>>3;return P<=5?H[V]|=(Q&7)<<P:(H[V]|=Q<<P&255,H[V+1]=(Q&7)>>8-P),ee+3}function ne(H,ee,Q){var P=ee&7,V=ee>>>3;return Q=(Q&1)<<P,H[V]|=Q,ee+1}function he(H,ee,Q){var P=ee&7,V=ee>>>3;return Q<<=P,H[V]|=Q&255,Q>>>=8,H[V+1]=Q,ee+8}function F(H,ee,Q){var P=ee&7,V=ee>>>3;return Q<<=P,H[V]|=Q&255,Q>>>=8,H[V+1]=Q&255,H[V+2]=Q>>>8,ee+16}function le(H,ee){var Q=H.length,P=2*Q>ee?2*Q:ee+5,V=0;if(Q>=ee)return H;if(Xt){var X=BM(P);if(H.copy)H.copy(X);else for(;V<H.length;++V)X[V]=H[V];return X}else if(ae){var de=new Uint8Array(P);if(de.set)de.set(H);else for(;V<Q;++V)de[V]=H[V];return de}return H.length=P,H}function ve(H){for(var ee=new Array(H),Q=0;Q<H;++Q)ee[Q]=0;return ee}function ye(H,ee,Q){var P=1,V=0,X=0,de=0,Oe=0,we=H.length,_e=ae?new Uint16Array(32):ve(32);for(X=0;X<32;++X)_e[X]=0;for(X=we;X<Q;++X)H[X]=0;we=H.length;var Ne=ae?new Uint16Array(we):ve(we);for(X=0;X<we;++X)_e[V=H[X]]++,P<V&&(P=V),Ne[X]=0;for(_e[0]=0,X=1;X<=P;++X)_e[X+16]=Oe=Oe+_e[X-1]<<1;for(X=0;X<we;++X)Oe=H[X],Oe!=0&&(Ne[X]=_e[Oe+16]++);var Ue=0;for(X=0;X<we;++X)if(Ue=H[X],Ue!=0)for(Oe=A(Ne[X],P)>>P-Ue,de=(1<<P+4-Ue)-1;de>=0;--de)ee[Oe|de<<Ue]=Ue&15|X<<4;return P}var $e=ae?new Uint16Array(512):ve(512),xe=ae?new Uint16Array(32):ve(32);if(!ae){for(var be=0;be<512;++be)$e[be]=0;for(be=0;be<32;++be)xe[be]=0}(function(){for(var H=[],ee=0;ee<32;ee++)H.push(5);ye(H,xe,32);var Q=[];for(ee=0;ee<=143;ee++)Q.push(8);for(;ee<=255;ee++)Q.push(9);for(;ee<=279;ee++)Q.push(7);for(;ee<=287;ee++)Q.push(8);ye(Q,$e,288)})();var ue=function(){for(var ee=ae?new Uint8Array(32768):[],Q=0,P=0;Q<se.length-1;++Q)for(;P<se[Q+1];++P)ee[P]=Q;for(;P<32768;++P)ee[P]=29;var V=ae?new Uint8Array(259):[];for(Q=0,P=0;Q<re.length-1;++Q)for(;P<re[Q+1];++P)V[P]=Q;function X(Oe,we){for(var _e=0;_e<Oe.length;){var Ne=Math.min(65535,Oe.length-_e),Ue=_e+Ne==Oe.length;for(we.write_shift(1,+Ue),we.write_shift(2,Ne),we.write_shift(2,~Ne&65535);Ne-- >0;)we[we.l++]=Oe[_e++]}return we.l}function de(Oe,we){for(var _e=0,Ne=0,Ue=ae?new Uint16Array(32768):[];Ne<Oe.length;){var Je=Math.min(65535,Oe.length-Ne);if(Je<10){for(_e=_t(we,_e,+(Ne+Je==Oe.length)),_e&7&&(_e+=8-(_e&7)),we.l=_e/8|0,we.write_shift(2,Je),we.write_shift(2,~Je&65535);Je-- >0;)we[we.l++]=Oe[Ne++];_e=we.l*8;continue}_e=_t(we,_e,+(Ne+Je==Oe.length)+2);for(var nt=0;Je-- >0;){var qe=Oe[Ne];nt=(nt<<5^qe)&32767;var tt=-1,Ot=0;if((tt=Ue[nt])&&(tt|=Ne&-32768,tt>Ne&&(tt-=32768),tt<Ne))for(;Oe[tt+Ot]==Oe[Ne+Ot]&&Ot<250;)++Ot;if(Ot>2){qe=V[Ot],qe<=22?_e=he(we,_e,J[qe+1]>>1)-1:(he(we,_e,3),_e+=5,he(we,_e,J[qe-23]>>5),_e+=3);var Sr=qe<8?0:qe-4>>2;Sr>0&&(F(we,_e,Ot-re[qe]),_e+=Sr),qe=ee[Ne-tt],_e=he(we,_e,J[qe]>>3),_e-=3;var jr=qe<4?0:qe-2>>1;jr>0&&(F(we,_e,Ne-tt-se[qe]),_e+=jr);for(var sn=0;sn<Ot;++sn)Ue[nt]=Ne&32767,nt=(nt<<5^Oe[Ne])&32767,++Ne;Je-=Ot-1}else qe<=143?qe=qe+48:_e=ne(we,_e,1),_e=he(we,_e,J[qe]),Ue[nt]=Ne&32767,++Ne}_e=he(we,_e,0)-1}return we.l=(_e+7)/8|0,we.l}return function(we,_e){return we.length<8?X(we,_e):de(we,_e)}}();function Ae(H){var ee=Dn(50+Math.floor(H.length*1.1)),Q=ue(H,ee);return ee.slice(0,Q)}var Fe=ae?new Uint16Array(32768):ve(32768),Re=ae?new Uint16Array(32768):ve(32768),Ke=ae?new Uint16Array(128):ve(128),kt=1,Jt=1;function Pr(H,ee){var Q=We(H,ee)+257;ee+=5;var P=We(H,ee)+1;ee+=5;var V=Ve(H,ee)+4;ee+=4;for(var X=0,de=ae?new Uint8Array(19):ve(19),Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],we=1,_e=ae?new Uint8Array(8):ve(8),Ne=ae?new Uint8Array(8):ve(8),Ue=de.length,Je=0;Je<V;++Je)de[G[Je]]=X=Ie(H,ee),we<X&&(we=X),_e[X]++,ee+=3;var nt=0;for(_e[0]=0,Je=1;Je<=we;++Je)Ne[Je]=nt=nt+_e[Je-1]<<1;for(Je=0;Je<Ue;++Je)(nt=de[Je])!=0&&(Oe[Je]=Ne[nt]++);var qe=0;for(Je=0;Je<Ue;++Je)if(qe=de[Je],qe!=0){nt=J[Oe[Je]]>>8-qe;for(var tt=(1<<7-qe)-1;tt>=0;--tt)Ke[nt|tt<<qe]=qe&7|Je<<3}var Ot=[];for(we=1;Ot.length<Q+P;)switch(nt=Ke[Pe(H,ee)],ee+=nt&7,nt>>>=3){case 16:for(X=3+Le(H,ee),ee+=2,nt=Ot[Ot.length-1];X-- >0;)Ot.push(nt);break;case 17:for(X=3+Ie(H,ee),ee+=3;X-- >0;)Ot.push(0);break;case 18:for(X=11+Pe(H,ee),ee+=7;X-- >0;)Ot.push(0);break;default:Ot.push(nt),we<nt&&(we=nt);break}var Sr=Ot.slice(0,Q),jr=Ot.slice(Q);for(Je=Q;Je<286;++Je)Sr[Je]=0;for(Je=P;Je<30;++Je)jr[Je]=0;return kt=ye(Sr,Fe,286),Jt=ye(jr,Re,30),ee}function gn(H,ee){if(H[0]==3&&!(H[1]&3))return[Mu(ee),2];for(var Q=0,P=0,V=BM(ee||1<<18),X=0,de=V.length>>>0,Oe=0,we=0;!(P&1);){if(P=Ie(H,Q),Q+=3,P>>>1)P>>1==1?(Oe=9,we=5):(Q=Pr(H,Q),Oe=kt,we=Jt);else{Q&7&&(Q+=8-(Q&7));var _e=H[Q>>>3]|H[(Q>>>3)+1]<<8;if(Q+=32,_e>0)for(!ee&&de<X+_e&&(V=le(V,X+_e),de=V.length);_e-- >0;)V[X++]=H[Q>>>3],Q+=8;continue}for(;;){!ee&&de<X+32767&&(V=le(V,X+32767),de=V.length);var Ne=ft(H,Q,Oe),Ue=P>>>1==1?$e[Ne]:Fe[Ne];if(Q+=Ue&15,Ue>>>=4,!(Ue>>>8&255))V[X++]=Ue;else{if(Ue==256)break;Ue-=257;var Je=Ue<8?0:Ue-4>>2;Je>5&&(Je=0);var nt=X+re[Ue];Je>0&&(nt+=ft(H,Q,Je),Q+=Je),Ne=ft(H,Q,we),Ue=P>>>1==1?xe[Ne]:Re[Ne],Q+=Ue&15,Ue>>>=4;var qe=Ue<4?0:Ue-2>>1,tt=se[Ue];for(qe>0&&(tt+=ft(H,Q,qe),Q+=qe),!ee&&de<nt&&(V=le(V,nt+100),de=V.length);X<nt;)V[X]=V[X-tt],++X}}}return ee?[V,Q+7>>>3]:[V.slice(0,X),Q+7>>>3]}function zr(H,ee){var Q=H.slice(H.l||0),P=gn(Q,ee);return H.l+=P[1],P[0]}function Un(H,ee){if(H)typeof console<"u"&&console.error(ee);else throw new Error(ee)}function Cn(H,ee){var Q=H;na(Q,0);var P=[],V=[],X={FileIndex:P,FullPaths:V};j(X,{root:ee.root});for(var de=Q.length-4;(Q[de]!=80||Q[de+1]!=75||Q[de+2]!=5||Q[de+3]!=6)&&de>=0;)--de;Q.l=de+4,Q.l+=4;var Oe=Q.read_shift(2);Q.l+=6;var we=Q.read_shift(4);for(Q.l=we,de=0;de<Oe;++de){Q.l+=20;var _e=Q.read_shift(4),Ne=Q.read_shift(4),Ue=Q.read_shift(2),Je=Q.read_shift(2),nt=Q.read_shift(2);Q.l+=8;var qe=Q.read_shift(4),tt=l(Q.slice(Q.l+Ue,Q.l+Ue+Je));Q.l+=Ue+Je+nt;var Ot=Q.l;Q.l=qe+4,Jn(Q,_e,Ne,X,tt),Q.l=Ot}return X}function Jn(H,ee,Q,P,V){H.l+=2;var X=H.read_shift(2),de=H.read_shift(2),Oe=i(H);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var we=H.read_shift(4),_e=H.read_shift(4),Ne=H.read_shift(4),Ue=H.read_shift(2),Je=H.read_shift(2),nt="",qe=0;qe<Ue;++qe)nt+=String.fromCharCode(H[H.l++]);if(Je){var tt=l(H.slice(H.l,H.l+Je));(tt[21589]||{}).mt&&(Oe=tt[21589].mt),((V||{})[21589]||{}).mt&&(Oe=V[21589].mt)}H.l+=Je;var Ot=H.slice(H.l,H.l+_e);switch(de){case 8:Ot=Y(H,Ne);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+de)}var Sr=!1;X&8&&(we=H.read_shift(4),we==134695760&&(we=H.read_shift(4),Sr=!0),_e=H.read_shift(4),Ne=H.read_shift(4)),_e!=ee&&Un(Sr,"Bad compressed size: "+ee+" != "+_e),Ne!=Q&&Un(Sr,"Bad uncompressed size: "+Q+" != "+Ne),ps(P,nt,Ot,{unsafe:!0,mt:Oe})}function Ki(H,ee){var Q=ee||{},P=[],V=[],X=Dn(1),de=Q.compression?8:0,Oe=0,we=0,_e=0,Ne=0,Ue=0,Je=H.FullPaths[0],nt=Je,qe=H.FileIndex[0],tt=[],Ot=0;for(we=1;we<H.FullPaths.length;++we)if(nt=H.FullPaths[we].slice(Je.length),qe=H.FileIndex[we],!(!qe.size||!qe.content||nt=="Sh33tJ5")){var Sr=Ne,jr=Dn(nt.length);for(_e=0;_e<nt.length;++_e)jr.write_shift(1,nt.charCodeAt(_e)&127);jr=jr.slice(0,jr.l),tt[Ue]=Aye.buf(qe.content,0);var sn=qe.content;de==8&&(sn=B(sn)),X=Dn(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,Oe),X.write_shift(2,de),qe.mt?s(X,qe.mt):X.write_shift(4,0),X.write_shift(-4,tt[Ue]),X.write_shift(4,sn.length),X.write_shift(4,qe.content.length),X.write_shift(2,jr.length),X.write_shift(2,0),Ne+=X.length,P.push(X),Ne+=jr.length,P.push(jr),Ne+=sn.length,P.push(sn),X=Dn(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,Oe),X.write_shift(2,de),X.write_shift(4,0),X.write_shift(-4,tt[Ue]),X.write_shift(4,sn.length),X.write_shift(4,qe.content.length),X.write_shift(2,jr.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,Sr),Ot+=X.l,V.push(X),Ot+=jr.length,V.push(jr),++Ue}return X=Dn(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,Ue),X.write_shift(2,Ue),X.write_shift(4,Ot),X.write_shift(4,Ne),X.write_shift(2,0),qc([qc(P),qc(V),X])}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function je(H,ee){if(H.ctype)return H.ctype;var Q=H.name||"",P=Q.match(/\.([^\.]+)$/);return P&&ie[P[1]]||ee&&(P=(Q=ee).match(/[\.\\]([^\.\\])+$/),P&&ie[P[1]])?ie[P[1]]:"application/octet-stream"}function Ee(H){for(var ee=$M(H),Q=[],P=0;P<ee.length;P+=76)Q.push(ee.slice(P,P+76));return Q.join(`\r
`)+`\r
`}function Me(H){var ee=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(_e){var Ne=_e.charCodeAt(0).toString(16).toUpperCase();return"="+(Ne.length==1?"0"+Ne:Ne)});ee=ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ee.charAt(0)==`
`&&(ee="=0D"+ee.slice(1)),ee=ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],P=ee.split(`\r
`),V=0;V<P.length;++V){var X=P[V];if(X.length==0){Q.push("");continue}for(var de=0;de<X.length;){var Oe=76,we=X.slice(de,de+Oe);we.charAt(Oe-1)=="="?Oe--:we.charAt(Oe-2)=="="?Oe-=2:we.charAt(Oe-3)=="="&&(Oe-=3),we=X.slice(de,de+Oe),de+=Oe,de<X.length&&(we+="="),Q.push(we)}}return Q.join(`\r
`)}function St(H){for(var ee=[],Q=0;Q<H.length;++Q){for(var P=H[Q];Q<=H.length&&P.charAt(P.length-1)=="=";)P=P.slice(0,P.length-1)+H[++Q];ee.push(P)}for(var V=0;V<ee.length;++V)ee[V]=ee[V].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return go(ee.join(`\r
`))}function rt(H,ee,Q){for(var P="",V="",X="",de,Oe=0;Oe<10;++Oe){var we=ee[Oe];if(!we||we.match(/^\s*$/))break;var _e=we.match(/^(.*?):\s*([^\s].*)$/);if(_e)switch(_e[1].toLowerCase()){case"content-location":P=_e[2].trim();break;case"content-type":X=_e[2].trim();break;case"content-transfer-encoding":V=_e[2].trim();break}}switch(++Oe,V.toLowerCase()){case"base64":de=go(hi(ee.slice(Oe).join("")));break;case"quoted-printable":de=St(ee.slice(Oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+V)}var Ne=ps(H,P.slice(Q.length),de,{unsafe:!0});X&&(Ne.ctype=X)}function Ht(H,ee){if(D(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=ee&&ee.root||"",P=(Xt&&Buffer.isBuffer(H)?H.toString("binary"):D(H)).split(`\r
`),V=0,X="";for(V=0;V<P.length;++V)if(X=P[V],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),Q||(Q=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),X.slice(0,Q.length)!=Q););var de=(P[1]||"").match(/boundary="(.*?)"/);if(!de)throw new Error("MAD cannot find boundary");var Oe="--"+(de[1]||""),we=[],_e=[],Ne={FileIndex:we,FullPaths:_e};j(Ne);var Ue,Je=0;for(V=0;V<P.length;++V){var nt=P[V];nt!==Oe&&nt!==Oe+"--"||(Je++&&rt(Ne,P.slice(Ue,V),Q),Ue=V)}return Ne}function _r(H,ee){var Q=ee||{},P=Q.boundary||"SheetJS";P="------="+P;for(var V=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+P.slice(2)+'"',"","",""],X=H.FullPaths[0],de=X,Oe=H.FileIndex[0],we=1;we<H.FullPaths.length;++we)if(de=H.FullPaths[we].slice(X.length),Oe=H.FileIndex[we],!(!Oe.size||!Oe.content||de=="Sh33tJ5")){de=de.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ot){return"_x"+Ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ot){return"_u"+Ot.charCodeAt(0).toString(16)+"_"});for(var _e=Oe.content,Ne=Xt&&Buffer.isBuffer(_e)?_e.toString("binary"):D(_e),Ue=0,Je=Math.min(1024,Ne.length),nt=0,qe=0;qe<=Je;++qe)(nt=Ne.charCodeAt(qe))>=32&&nt<128&&++Ue;var tt=Ue>=Je*4/5;V.push(P),V.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+de),V.push("Content-Transfer-Encoding: "+(tt?"quoted-printable":"base64")),V.push("Content-Type: "+je(Oe,de)),V.push(""),V.push(tt?Me(Ne):Ee(Ne))}return V.push(P+`--\r
`),V.join(`\r
`)}function Hr(H){var ee={};return j(ee,H),ee}function ps(H,ee,Q,P){var V=P&&P.unsafe;V||j(H);var X=!V&&Qt.find(H,ee);if(!X){var de=H.FullPaths[0];ee.slice(0,de.length)==de?de=ee:(de.slice(-1)!="/"&&(de+="/"),de=(de+ee).replace("//","/")),X={name:a(ee),type:2},H.FileIndex.push(X),H.FullPaths.push(de),V||Qt.utils.cfb_gc(H)}return X.content=Q,X.size=Q?Q.length:0,P&&(P.CLSID&&(X.clsid=P.CLSID),P.mt&&(X.mt=P.mt),P.ct&&(X.ct=P.ct)),X}function Wa(H,ee){j(H);var Q=Qt.find(H,ee);if(Q){for(var P=0;P<H.FileIndex.length;++P)if(H.FileIndex[P]==Q)return H.FileIndex.splice(P,1),H.FullPaths.splice(P,1),!0}return!1}function rd(H,ee,Q){j(H);var P=Qt.find(H,ee);if(P){for(var V=0;V<H.FileIndex.length;++V)if(H.FileIndex[V]==P)return H.FileIndex[V].name=a(Q),H.FullPaths[V]=Q,!0}return!1}function _c(H){N(H,!0)}return t.find=R,t.read=k,t.parse=d,t.write=K,t.writeFile=M,t.utils={cfb_new:Hr,cfb_add:ps,cfb_del:Wa,cfb_mov:rd,cfb_gc:_c,ReadShift:sg,CheckField:Rq,prep_blob:na,bconcat:qc,use_zlib:C,_deflateRaw:Ae,_inflateRaw:zr,consts:L},t}();function Oye(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function vl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function UO(e){for(var t=[],r=vl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var O1=new Date(1899,11,30,0,0,0);function us(e,t){var r=e.getTime(),n=O1.getTime()+(e.getTimezoneOffset()-O1.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var hq=new Date,Pye=O1.getTime()+(hq.getTimezoneOffset()-O1.getTimezoneOffset())*6e4,KM=hq.getTimezoneOffset();function rS(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Pye),t.getTimezoneOffset()!==KM&&t.setTime(t.getTime()+(t.getTimezoneOffset()-KM)*6e4),t}function Dye(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var YM=new Date("2017-02-19T19:06:09.000Z"),mq=isNaN(YM.getFullYear())?new Date("2/19/17"):YM,Rye=mq.getFullYear()==2017;function Yn(e,t){var r=new Date(e);if(Rye)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(mq.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function vf(e,t){if(Xt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return L0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return L0(eq(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return L0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return L0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function da(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=da(e[r]));return t}function tn(e,t){for(var r="";r.length<t;)r+=e;return r}function jo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var Iye=["january","february","march","april","may","june","july","august","september","october","november","december"];function Fm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&Iye.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Mye=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],l=1;l<s.length;++l)i.push(a),i.push(s[l]);return i}}();function pq(e){return e?e.content&&e.type?vf(e.content,!0):e.data?I0(e.data):e.asNodeBuffer&&Xt?I0(e.asNodeBuffer().toString("binary")):e.asBinary?I0(e.asBinary()):e._data&&e._data.getContent?I0(vf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function gq(e){if(!e)return null;if(e.data)return FM(e.data);if(e.asNodeBuffer&&Xt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?FM(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Fye(e){return e&&e.name.slice(-4)===".bin"?gq(e):pq(e)}function ji(e,t){for(var r=e.FullPaths||vl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function VO(e,t){var r=ji(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function yn(e,t,r){if(!r)return Fye(VO(e,t));if(!t)return null;try{return yn(e,t)}catch{return null}}function ri(e,t,r){if(!r)return pq(VO(e,t));if(!t)return null;try{return ri(e,t)}catch{return null}}function Lye(e,t,r){return gq(VO(e,t))}function XM(e){for(var t=e.FullPaths||vl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function $ye(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Xt?n=Df(r):n=aye(r),Qt.utils.cfb_add(e,t,n)}Qt.utils.cfb_add(e,t,r)}else e.file(t,r)}function vq(e,t){switch(t.type){case"base64":return Qt.read(e,{type:"base64"});case"binary":return Qt.read(e,{type:"binary"});case"buffer":case"array":return Qt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function F0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var xq=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Bye=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,JM=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Uye=/<[^>]*>/g,Va=xq.match(JM)?JM:Uye,Vye=/<\w*:/,Wye=/<(\/?)\w+:/;function Tt(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(Bye),l=0,c="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function _l(e){return e.replace(Wye,"<$1")}var yq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},zye=UO(yq),rr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return yq[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),Hye=/[&<>'"]/g,qye=/[\u0000-\u001f]/g;function WO(e){var t=e+"";return t.replace(Hye,function(r){return zye[r]}).replace(/\n/g,"<br/>").replace(qye,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var QM=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Br(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Nk(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function ZM(e){var t=Mu(2*e.length),r,n,a=1,s=0,i=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function eF(e){return Df(e,"binary").toString("utf8")}var Fy="foo bar baz",Tr=Xt&&(eF(Fy)==Nk(Fy)&&eF||ZM(Fy)==Nk(Fy)&&ZM)||Nk,L0=Xt?function(e){return Df(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},tv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),wq=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Gye=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Kye=/<\/?(?:vt:)?variant>/g,Yye=/<(?:vt:)([^>]*)>([\s\S]*)</;function tF(e,t){var r=Tt(e),n=e.match(Gye(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(Kye,"").match(Yye);i&&a.push({v:Tr(i[2]),t:i[1]})}),a}var Xye=/(^\s|\s$|\n)/;function Jye(e){return vl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Qye(e,t,r){return"<"+e+(r!=null?Jye(r):"")+(t!=null?(t.match(Xye)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function zO(e){if(Xt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Tr(Rf(LO(e)));throw new Error("Bad input format: expected Buffer or string")}var rv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Zye={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ewe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function twe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function rwe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var rF=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},nF=Xt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Df(t)})):rF(e)}:rF,aF=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Vl(e,a)));return n.join("").replace(cs,"")},HO=Xt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(cs,""):aF(e,t,r)}:aF,sF=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},bq=Xt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):sF(e,t,r)}:sF,iF=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(uh(e,a)));return n.join("")},Ex=Xt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):iF(t,r,n)}:iF,_q=function(e,t){var r=Qs(e,t);return r>0?Ex(e,t+4,t+4+r-1):""},Sq=_q,jq=function(e,t){var r=Qs(e,t);return r>0?Ex(e,t+4,t+4+r-1):""},kq=jq,Nq=function(e,t){var r=2*Qs(e,t);return r>0?Ex(e,t+4,t+4+r-1):""},Eq=Nq,Cq=function(t,r){var n=Qs(t,r);return n>0?HO(t,r+4,r+4+n):""},Tq=Cq,Aq=function(e,t){var r=Qs(e,t);return r>0?Ex(e,t+4,t+4+r):""},Oq=Aq,Pq=function(e,t){return twe(e,t)},P1=Pq,Dq=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Xt&&(Sq=function(t,r){if(!Buffer.isBuffer(t))return _q(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},kq=function(t,r){if(!Buffer.isBuffer(t))return jq(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Eq=function(t,r){if(!Buffer.isBuffer(t))return Nq(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Tq=function(t,r){if(!Buffer.isBuffer(t))return Cq(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Oq=function(t,r){if(!Buffer.isBuffer(t))return Aq(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},P1=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Pq(t,r)},Dq=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var uh=function(e,t){return e[t]},Vl=function(e,t){return e[t+1]*256+e[t]},nwe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Qs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},awe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function sg(e,t){var r="",n,a,s=[],i,l,c,u;switch(t){case"dbcs":if(u=this.l,Xt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Vl(this,u)),u+=2;e*=2;break;case"utf8":r=Ex(this,this.l,this.l+e);break;case"utf16le":e*=2,r=HO(this,this.l,this.l+e);break;case"wstr":return sg.call(this,e,"dbcs");case"lpstr-ansi":r=Sq(this,this.l),e=4+Qs(this,this.l);break;case"lpstr-cp":r=kq(this,this.l),e=4+Qs(this,this.l);break;case"lpwstr":r=Eq(this,this.l),e=4+2*Qs(this,this.l);break;case"lpp4":e=4+Qs(this,this.l),r=Tq(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Qs(this,this.l),r=Oq(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=uh(this,this.l+e++))!==0;)s.push(My(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=Vl(this,this.l+e))!==0;)s.push(My(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=uh(this,u),this.l=u+1,l=sg.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(My(Vl(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=uh(this,u),this.l=u+1,l=sg.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(My(uh(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=uh(this,this.l),this.l++,n;case 2:return n=(t==="i"?nwe:Vl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?wd:awe)(this,this.l),this.l+=4,n):(a=Qs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=P1(this,this.l):a=P1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=bq(this,this.l,e);break}}return this.l+=e,r}var swe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},iwe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},owe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function lwe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)owe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,swe(this,t,this.l);break;case 8:if(n=8,r==="f"){rwe(this,t,this.l);break}case 16:break;case-4:n=4,iwe(this,t,this.l);break}return this.l+=n,this}function Rq(e,t){var r=bq(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function na(e,t){e.l=t,e.read_shift=sg,e.chk=Rq,e.write_shift=lwe}function $a(e,t){e.l+=t}function Dn(e){var t=Mu(e);return na(t,0),t}function xc(e,t,r){if(e){var n,a,s;na(e,e.l||0);for(var i=e.length,l=0,c=0;e.l<i;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=L1[l]||L1[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function mE(){var e=[],t=Xt?256:2048,r=function(u){var d=Dn(u);return na(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),qc(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:i,_bufs:e}}function ig(e,t,r){var n=da(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function oF(e,t,r){var n=da(e);return n.s=ig(n.s,t.s,r),n.e=ig(n.e,t.s,r),n}function og(e,t){if(e.cRel&&e.c<0)for(e=da(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=da(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=It(e);return!e.cRel&&e.cRel!=null&&(r=dwe(r)),!e.rRel&&e.rRel!=null&&(r=cwe(r)),r}function Ek(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Fn(e.s.c)+":"+(e.e.cRel?"":"$")+Fn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+fa(e.s.r)+":"+(e.e.rRel?"":"$")+fa(e.e.r):og(e.s,t.biff)+":"+og(e.e,t.biff)}function qO(e){return parseInt(uwe(e),10)-1}function fa(e){return""+(e+1)}function cwe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function uwe(e){return e.replace(/\$(\d+)$/,"$1")}function GO(e){for(var t=fwe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Fn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function dwe(e){return e.replace(/^([A-Z])/,"$$$1")}function fwe(e){return e.replace(/^\$([A-Z])/,"$1")}function hwe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ns(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function It(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ip(e){var t=e.indexOf(":");return t==-1?{s:ns(e),e:ns(e)}:{s:ns(e.slice(0,t)),e:ns(e.slice(t+1))}}function Zt(e,t){return typeof t>"u"||typeof t=="number"?Zt(e.s,e.e):(typeof e!="string"&&(e=It(e)),typeof t!="string"&&(t=It(t)),e==t?e:e+":"+t)}function an(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function lF(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Bi(e.z,r?us(t):t)}catch{}try{return e.w=Bi((e.XF||{}).numFmtId||(r?14:0),r?us(t):t)}catch{return""+t}}function cc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Ff[e.v]||e.v:t==null?lF(e,e.v):lF(e,t))}function Ju(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Iq(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ns(n.origin):n.origin;i=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=an(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},g=i+f,p=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Bt[14],n.cellDates?(m.t="d",m.w=Bi(m.z,us(m.v))):(m.t="n",m.v=us(m.v),m.w=Bi(m.z,m.v))):m.t="s";if(a)s[g]||(s[g]=[]),s[g][p]&&s[g][p].z&&(m.z=s[g][p].z),s[g][p]=m;else{var v=It({c:p,r:g});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=Zt(u)),s}function Mp(e,t){return Iq(null,e,t)}function mwe(e){return e.read_shift(4,"i")}function Ia(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function pwe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function KO(e,t){var r=e.l,n=e.read_shift(1),a=Ia(e),s=[],i={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(pwe(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var gwe=KO;function zi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function If(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var vwe=Ia;function YO(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var xwe=Ia,pE=YO;function XO(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?P1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wd(t,0)>>2;return r?a/100:a}function Mq(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Mf=Mq;function Oa(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ywe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Yd[a];u&&(t.rgb=av(u));break;case 2:t.rgb=av([i,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function wwe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Fq(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function bwe(e){return Fq(e,1)}function _we(e){return Fq(e,2)}var JO=2,ys=3,Ly=11,cF=12,D1=19,$y=64,Swe=65,jwe=71,kwe=4108,Nwe=4126,Wn=80,Lq=81,Ewe=[Wn,Lq],Cwe={1:{n:"CodePage",t:JO},2:{n:"Category",t:Wn},3:{n:"PresentationFormat",t:Wn},4:{n:"ByteCount",t:ys},5:{n:"LineCount",t:ys},6:{n:"ParagraphCount",t:ys},7:{n:"SlideCount",t:ys},8:{n:"NoteCount",t:ys},9:{n:"HiddenCount",t:ys},10:{n:"MultimediaClipCount",t:ys},11:{n:"ScaleCrop",t:Ly},12:{n:"HeadingPairs",t:kwe},13:{n:"TitlesOfParts",t:Nwe},14:{n:"Manager",t:Wn},15:{n:"Company",t:Wn},16:{n:"LinksUpToDate",t:Ly},17:{n:"CharacterCount",t:ys},19:{n:"SharedDoc",t:Ly},22:{n:"HyperlinksChanged",t:Ly},23:{n:"AppVersion",t:ys,p:"version"},24:{n:"DigSig",t:Swe},26:{n:"ContentType",t:Wn},27:{n:"ContentStatus",t:Wn},28:{n:"Language",t:Wn},29:{n:"Version",t:Wn},255:{},2147483648:{n:"Locale",t:D1},2147483651:{n:"Behavior",t:D1},1919054434:{}},Twe={1:{n:"CodePage",t:JO},2:{n:"Title",t:Wn},3:{n:"Subject",t:Wn},4:{n:"Author",t:Wn},5:{n:"Keywords",t:Wn},6:{n:"Comments",t:Wn},7:{n:"Template",t:Wn},8:{n:"LastAuthor",t:Wn},9:{n:"RevNumber",t:Wn},10:{n:"EditTime",t:$y},11:{n:"LastPrinted",t:$y},12:{n:"CreatedDate",t:$y},13:{n:"ModifiedDate",t:$y},14:{n:"PageCount",t:ys},15:{n:"WordCount",t:ys},16:{n:"CharCount",t:ys},17:{n:"Thumbnail",t:jwe},18:{n:"Application",t:Wn},19:{n:"DocSecurity",t:ys},255:{},2147483648:{n:"Locale",t:D1},2147483651:{n:"Behavior",t:D1},1919054434:{}},uF={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Awe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Owe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Pwe=Owe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Yd=da(Pwe),Ff={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},$q={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},dF={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Dwe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Rwe(e){var t=Dwe();if(!e||!e.match)return t;var r={};if((e.match(Va)||[]).forEach(function(n){var a=Tt(n);switch(a[0].replace(Vye,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[dF[a.ContentType]]!==void 0&&t[dF[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Zye.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Dh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function gE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function lg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Va)||[]).forEach(function(a){var s=Tt(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:F0(s.Target,t);r[l]=i,n[s.Id]=i}}),r["!id"]=n,r}var Iwe="application/vnd.oasis.opendocument.spreadsheet";function Mwe(e,t){for(var r=zO(e),n,a;n=rv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Tt(n[0],!1),a.path=="/"&&a.type!==Iwe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var cg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Fwe=function(){for(var e=new Array(cg.length),t=0;t<cg.length;++t){var r=cg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Bq(e){var t={};e=Tr(e);for(var r=0;r<cg.length;++r){var n=cg[r],a=e.match(Fwe[r]);a!=null&&a.length>0&&(t[n[1]]=rr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Yn(t[n[1]]))}return t}var Lwe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Uq(e,t,r,n){var a=[];if(typeof e=="string")a=tF(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?tF(t,n).map(function(d){return d.v}):t,l=0,c=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(l,l+c);break}l+=c}}function $we(e,t,r){var n={};return t||(t={}),e=Tr(e),Lwe.forEach(function(a){var s=(e.match(tv(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=rr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Uq(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Bwe=/<[^>]+>[^<]*/g;function Uwe(e,t){var r={},n="",a=e.match(Bwe);if(a)for(var s=0;s!=a.length;++s){var i=a[s],l=Tt(i);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=rr(l.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=rr(d);break;case"bool":r[n]=Br(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Yn(d);break;case"cy":case"error":r[n]=rr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var Vwe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Ck;function Wwe(e,t,r){Ck||(Ck=UO(Vwe)),t=Ck[t]||t,e[t]=r}function QO(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Vq(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Wq(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function zq(e,t,r){return t===31?Wq(e):Vq(e,t,r)}function vE(e,t,r){return zq(e,t,r===!1?0:4)}function zwe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return zq(e,t,0)}function Hwe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(cs,""),e.l-a&2&&(e.l+=2)}return r}function qwe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(cs,"");return r}function Gwe(e){var t=e.l,r=R1(e,Lq);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=R1(e,ys);return[r,n]}function Kwe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Gwe(e));return r}function fF(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(cs,"").replace(M0,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Hq(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Ywe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function R1(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==cF&&n!==t&&Ewe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===cF?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Vq(e,n,4).replace(cs,"");case 31:return Wq(e);case 64:return QO(e);case 65:return Hq(e);case 71:return Ywe(e);case 80:return vE(e,n,!s.raw).replace(cs,"");case 81:return zwe(e,n).replace(cs,"");case 4108:return Kwe(e);case 4126:case 4127:return n==4127?Hwe(e):qwe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function hF(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,l=0,c=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(x,b){return x[1]-b[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var m=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(m=!1,e.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var g=t[s[i][0]];if(h[g.n]=R1(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:wo(l=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[i][0]===1){if(l=h.CodePage=R1(e,JO),wo(l),c!==-1){var p=e.l;e.l=s[c][1],u=fF(e,l),e.l=p}}else if(s[i][0]===0){if(l===0){c=i,e.l=s[i+1][1];continue}u=fF(e,l)}else{var v=u[s[i][0]],w;switch(e[e.l]){case 65:e.l+=4,w=Hq(e);break;case 30:e.l+=4,w=vE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,w=vE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,w=e.read_shift(4,"i");break;case 19:e.l+=4,w=e.read_shift(4);break;case 5:e.l+=4,w=e.read_shift(8,"f");break;case 11:e.l+=4,w=on(e,4);break;case 64:e.l+=4,w=Yn(QO(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=w}}return e.l=r+n,h}function mF(e,t,r){var n=e.content;if(!n)return{};na(n,0);var a,s,i,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Qt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(i=n.read_shift(16),c=n.read_shift(4));var f=hF(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=hF(n,null)}catch{}for(m in g)h[m]=g[m];return h.FMTID=[s,i],h}function Pc(e,t){return e.read_shift(t),null}function Xwe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function on(e,t){return e.read_shift(t)===1}function wn(e){return e.read_shift(2,"u")}function qq(e,t){return Xwe(e,t,wn)}function Jwe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Cx(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function Qwe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,l,c={};a&&(i=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function xf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Tx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):xf(e,n,r)}function Lf(e,t,r){if(r.biff>5)return Tx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Zwe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function e1e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(cs,"");return n&&(e.l+=24),a}function t1e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(cs,"");return r+i}function r1e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return e1e(e);case"0303000000000000c000000000000046":return t1e(e);default:throw new Error("Unsupported Moniker "+r)}}function By(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(cs,""):"";return r}function n1e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,l,c,u="",d,f;a&16&&(s=By(e,r-e.l)),a&128&&(i=By(e,r-e.l)),(a&257)===257&&(l=By(e,r-e.l)),(a&257)===1&&(c=r1e(e,r-e.l)),a&8&&(u=By(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=QO(e)),e.l=r;var h=i||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function Gq(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Kq(e,t){var r=Gq(e);return r[3]=0,r}function Sl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function a1e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function s1e(e,t,r){return t===0?"":Lf(e,t,r)}function i1e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function Yq(e){var t=e.read_shift(2),r=XO(e);return[t,r]}function o1e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Cx(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function nS(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Xq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var l1e=Xq;function Jq(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function c1e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function u1e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ga(e){e.l+=2,e.l+=e.read_shift(2)}var d1e={0:ga,4:ga,5:ga,6:ga,7:u1e,8:ga,9:ga,10:ga,11:ga,12:ga,13:c1e,14:ga,15:ga,16:ga,17:ga,18:ga,19:ga,20:ga,21:Jq};function f1e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(d1e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Uy(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function h1e(e,t){return t===0||e.read_shift(2),1200}function m1e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Lf(e,0,r);return e.read_shift(t+n-e.l),a}function p1e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function g1e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=Cx(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function v1e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(Qwe(e));return s.Count=n,s.Unique=a,s}function x1e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function y1e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function w1e(e){var t=a1e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function b1e(e){return e.read_shift(2),e.read_shift(4)}function pF(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function _1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:l,Selected:c,TabRatio:u}}function S1e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function j1e(){}function k1e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Cx(e,0,r),n}function N1e(e){var t=Sl(e);return t.isst=e.read_shift(4),t}function E1e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Sl(e);r.biff==2&&e.l++;var s=Tx(e,n-e.l,r);return a.val=s,a}function C1e(e,t,r){var n=e.read_shift(2),a=Lf(e,0,r);return[n,a]}var T1e=Lf;function gF(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:i,c}}}function A1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=Yq(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function O1e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(Yq(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function P1e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function D1e(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=Awe[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function R1e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=D1e(e,t,n.fStyle,r),n}function I1e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function vF(e,t,r){var n=Sl(e);(r.biff==2||t==9)&&++e.l;var a=Jwe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function M1e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Sl(e),a=Oa(e);return n.val=a,n}var xF=s1e;function F1e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=xf(e,s),l=[];n>e.l;)l.push(Tx(e));return[s,a,i,l]}function yF(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=o1e(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var L1e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function wF(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=xf(e,i,r);a&32&&(u=L1e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:yje(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function Qq(e,t,r){if(r.biff<8)return $1e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(i1e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function $1e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Cx(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function B1e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=xf(e,n,r),i=xf(e,a,r);return[s,i]}function U1e(e,t,r){var n=Xq(e);e.l++;var a=e.read_shift(1);return t-=8,[wje(e,t,r),a,n]}function bF(e,t,r){var n=l1e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,vje(e,t,r)]}function V1e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function W1e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=Lf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,i,s]}}function z1e(e,t,r){return W1e(e,t,r)}function H1e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(nS(e));return r}function q1e(e,t,r){if(r&&r.biff<8)return K1e(e,t,r);var n=Jq(e),a=f1e(e,t-22,n[1]);return{cmo:n,ft:a}}var G1e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function K1e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((G1e[n]||$a)(e,t,r)),{cmo:[a,n,s],ft:i}}function Y1e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=Zwe(e,6,r);var l=e.read_shift(2);e.read_shift(2),wn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=xf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function X1e(e,t){var r=nS(e);e.l+=16;var n=n1e(e,t-24);return[r,n]}function J1e(e,t){e.read_shift(2);var r=nS(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(cs,""),[r,n]}function Q1e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=uF[r]||r,r=e.read_shift(2),t[1]=uF[r]||r,t}function Z1e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Kq(e));return r}function ebe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Kq(e));return r}function tbe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Zq(e,t,r){if(!r.cellStyles)return $a(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function rbe(e,t){var r={};return t<32||(e.l+=16,r.header=Oa(e),r.footer=Oa(e),e.l+=2),r}function nbe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var abe=Sl,sbe=qq,ibe=Tx;function obe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function lbe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Sl(e);++e.l;var a=Lf(e,t-7,r);return n.t="str",n.val=a,n}function cbe(e){var t=Sl(e);++e.l;var r=Oa(e);return t.t="n",t.val=r,t}function ube(e){var t=Sl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function dbe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function fbe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function hbe(e,t,r){var n=e.l+t,a=Sl(e),s=e.read_shift(2),i=xf(e,s,r);return e.l=n,a.t="str",a.val=i,a}var mbe=[2,3,48,49,131,139,140,245],_F=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=UO({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Mu(1);switch(c.type){case"base64":d=go(hi(l));break;case"binary":d=go(l);break;case"buffer":case"array":d=l;break}na(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=d.read_shift(2));var w=d.read_shift(2),x=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(x=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var b=[],_={},S=Math.min(d.length,f==2?521:v-10-(m?264:0)),k=g?32:11;d.l<S&&d[d.l]!=13;)switch(_={},_.name=Hc.utils.decode(x,d.slice(d.l,d.l+k)).replace(/[\u0000\r\n].*$/g,""),d.l+=k,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&b.push(_),f!=2&&(d.l+=g?13:14),_.type){case"B":(!m||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var j=0,E=0;for(u[0]=[],E=0;E!=b.length;++E)u[0][E]=b[E].name;for(;p-- >0;){if(d[d.l]===42){d.l+=w;continue}for(++d.l,u[++j]=[],E=0,E=0;E!=b.length;++E){var N=d.slice(d.l,d.l+b[E].len);d.l+=b[E].len,na(N,0);var O=Hc.utils.decode(x,N);switch(b[E].type){case"C":O.trim().length&&(u[j][E]=O.replace(/\s+$/,""));break;case"D":O.length===8?u[j][E]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):u[j][E]=O;break;case"F":u[j][E]=parseFloat(O.trim());break;case"+":case"I":u[j][E]=g?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":u[j][E]=!0;break;case"N":case"F":u[j][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][E]="##MEMO##"+(g?parseInt(O.trim(),10):N.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(u[j][E]=+O||0);break;case"@":u[j][E]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":u[j][E]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":u[j][E]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][E]=-N.read_shift(-8,"f");break;case"B":if(m&&b[E].len==8){u[j][E]=N.read_shift(8,"f");break}case"G":case"P":N.l+=b[E].len;break;case"0":if(b[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[E].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Mp(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Ju(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&wo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=mE(),f=jE(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),g=l["!cols"]||[],p=0,v=0,w=0,x=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++w;continue}if(h[p]!=null){if(++w,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var b=an(l["!ref"]),_=[],S=[],k=[];for(p=0;p<=b.e.c-b.s.c;++p){var j="",E="",N=0,O=[];for(v=0;v<m.length;++v)m[v][p]!=null&&O.push(m[v][p]);if(O.length==0||h[p]==null){_[p]="?";continue}for(v=0;v<O.length;++v){switch(typeof O[v]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=O[v]instanceof Date?"D":"C";break;default:E="C"}N=Math.max(N,String(O[v]).length),j=j&&j!=E?"C":E}N>250&&(N=250),E=((g[p]||{}).DBF||{}).type,E=="C"&&g[p].DBF.len>N&&(N=g[p].DBF.len),j=="B"&&E=="N"&&(j="N",k[p]=g[p].DBF.dec,N=g[p].DBF.len),S[p]=j=="C"||E=="N"?N:s[j]||0,x+=S[p],_[p]=j}var R=d.next(32);for(R.write_shift(4,318902576),R.write_shift(4,m.length),R.write_shift(2,296+32*w),R.write_shift(2,x),p=0;p<4;++p)R.write_shift(4,0);for(R.write_shift(4,0|(+t[QH]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var T=d.next(32),U=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,U,"sbcs"),T.write_shift(1,_[p]=="?"?"C":_[p],"sbcs"),T.write_shift(4,v),T.write_shift(1,S[p]||s[_[p]]||0),T.write_shift(1,k[p]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=S[p]||s[_[p]]||0}var z=d.next(264);for(z.write_shift(4,13),p=0;p<65;++p)z.write_shift(4,0);for(p=0;p<m.length;++p){var q=d.next(x);for(q.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(_[v]){case"L":q.write_shift(1,m[p][v]==null?63:m[p][v]?84:70);break;case"B":q.write_shift(8,m[p][v]||0,"f");break;case"N":var I="0";for(typeof m[p][v]=="number"&&(I=m[p][v].toFixed(k[v]||0)),w=0;w<S[v]-I.length;++w)q.write_shift(1,32);q.write_shift(1,I,"sbcs");break;case"D":m[p][v]?(q.write_shift(4,("0000"+m[p][v].getFullYear()).slice(-4),"sbcs"),q.write_shift(2,("00"+(m[p][v].getMonth()+1)).slice(-2),"sbcs"),q.write_shift(2,("00"+m[p][v].getDate()).slice(-2),"sbcs")):q.write_shift(8,"00000000","sbcs");break;case"C":var L=String(m[p][v]!=null?m[p][v]:"").slice(0,S[v]);for(q.write_shift(1,L,"sbcs"),w=0;w<S[v]-L.length;++w)q.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),pbe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+vl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?LM(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:LM(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(hi(h),m);case"binary":return s(h,m);case"buffer":return s(Xt&&Buffer.isBuffer(h)?h.toString("binary"):Rf(h),m);case"array":return s(vf(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var g=h.split(/[\n\r]+/),p=-1,v=-1,w=0,x=0,b=[],_=[],S=null,k={},j=[],E=[],N=[],O=0,R;for(+m.codepage>=0&&wo(+m.codepage);w!==g.length;++w){O=0;var T=g[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=T.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),z=U[0],q;if(T.length>0)switch(z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&_.push(T.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,L=!1,M=!1,D=!1,K=-1,Z=-1;for(x=1;x<U.length;++x)switch(U[x].charAt(0)){case"A":break;case"X":v=parseInt(U[x].slice(1))-1,L=!0;break;case"Y":for(p=parseInt(U[x].slice(1))-1,L||(v=0),R=b.length;R<=p;++R)b[R]=[];break;case"K":q=U[x].slice(1),q.charAt(0)==='"'?q=q.slice(1,q.length-1):q==="TRUE"?q=!0:q==="FALSE"?q=!1:isNaN(jo(q))?isNaN(Fm(q).getDate())||(q=Yn(q)):(q=jo(q),S!==null&&Rp(S)&&(q=rS(q))),I=!0;break;case"E":D=!0;var C=em(U[x].slice(1),{r:p,c:v});b[p][v]=[b[p][v],C];break;case"S":M=!0,b[p][v]=[b[p][v],"S5S"];break;case"G":break;case"R":K=parseInt(U[x].slice(1))-1;break;case"C":Z=parseInt(U[x].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}if(I&&(b[p][v]&&b[p][v].length==2?b[p][v][0]=q:b[p][v]=q,S=null),M){if(D)throw new Error("SYLK shared formula cannot have own formula");var Y=K>-1&&b[K][Z];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");b[p][v][1]=cG(Y[1],{r:p-K,c:v-Z})}break;case"F":var B=0;for(x=1;x<U.length;++x)switch(U[x].charAt(0)){case"X":v=parseInt(U[x].slice(1))-1,++B;break;case"Y":for(p=parseInt(U[x].slice(1))-1,R=b.length;R<=p;++R)b[R]=[];break;case"M":O=parseInt(U[x].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(U[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=U[x].slice(1).split(" "),R=parseInt(N[0],10);R<=parseInt(N[1],10);++R)O=parseInt(N[2],10),E[R-1]=O===0?{hidden:!0}:{wch:O},Lm(E[R-1]);break;case"C":v=parseInt(U[x].slice(1))-1,E[v]||(E[v]={});break;case"R":p=parseInt(U[x].slice(1))-1,j[p]||(j[p]={}),O>0?(j[p].hpt=O,j[p].hpx=sv(O)):O===0&&(j[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}B<1&&(S=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}}return j.length>0&&(k["!rows"]=j),E.length>0&&(k["!cols"]=E),m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),[b,k]}function i(h,m){var g=a(h,m),p=g[0],v=g[1],w=Mp(p,m);return vl(v).forEach(function(x){w[x]=v[x]}),w}function l(h,m){return Ju(i(h,m),m)}function c(h,m,g,p){var v="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+tSe(h.f,{r:g,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(g,p){var v="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=M1(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=F1(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(g,p){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*iG(g.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function f(h,m){var g=["ID;PWXL;N;E"],p=[],v=an(h["!ref"]),w,x=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var S=v.s.c;S<=v.e.c;++S){var k=It({r:_,c:S});w=x?(h[_]||[])[S]:h[k],!(!w||w.v==null&&(!w.f||w.F))&&p.push(c(w,h,_,S))}return g.join(b)+b+p.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),gbe=function(){function e(s,i){switch(i.type){case"base64":return t(hi(s),i);case"binary":return t(s,i);case"buffer":return t(Xt&&Buffer.isBuffer(s)?s.toString("binary"):Rf(s),i);case"array":return t(vf(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],g=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(jo(g))?isNaN(Fm(g).getDate())?f[c][u]=g:f[c][u]=Yn(g):f[c][u]=jo(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return Mp(e(s,i),i)}function n(s,i){return Ju(r(s,i),i)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=an(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){i(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=It({r:m,c:g});if(f=h?(c[m]||[])[g]:c[p],!f){i(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,v,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Bi(f.z||Bt[14],us(Yn(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var w=`\r
`,x=u.join(w);return x}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),vbe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),g=-1,p=-1,v=0,w=[];v!==m.length;++v){var x=m[v].trim().split(":");if(x[0]==="cell"){var b=ns(x[1]);if(w.length<=b.r)for(g=w.length;g<=b.r;++g)w[g]||(w[g]=[]);switch(g=b.r,p=b.c,x[2]){case"t":w[g][p]=e(x[3]);break;case"v":w[g][p]=+x[3];break;case"vtf":var _=x[x.length-1];case"vtc":switch(x[3]){case"nl":w[g][p]=!!+x[4];break;default:w[g][p]=+x[4];break}x[2]=="vtf"&&(w[g][p]=[w[g][p],_])}}}return h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),w}function n(f,h){return Mp(r(f,h),h)}function a(f,h){return Ju(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],g,p="",v=Ip(f["!ref"]),w=Array.isArray(f),x=v.s.r;x<=v.e.r;++x)for(var b=v.s.c;b<=v.e.c;++b)if(p=It({r:x,c:b}),g=w?(f[x]||[])[b]:f[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=us(Yn(g.v));m[2]="vtc",m[3]="nd",m[4]=""+_,m[5]=g.w||Bi(g.z||Bt[14],_);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,l,i,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),nv=function(){function e(d,f,h,m,g){g.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(jo(d))?isNaN(Fm(d).getDate())?f[h][m]=d:f[h][m]=Yn(d):f[h][m]=jo(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var v=10,w=0,x=0;x<=p;++x)w=g[x].indexOf(" "),w==-1?w=g[x].length:w++,v=Math.max(v,w);for(x=0;x<=p;++x){m[x]=[];var b=0;for(e(g[x].slice(0,v).trim(),m,x,b,h),b=1;b<=(g[x].length-v)/10+1;++b)e(g[x].slice(v+(b-1)*10,v+b*10).trim(),m,x,b,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,g=0;m<d.length;++m)(g=d.charCodeAt(m))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,w=0,x=0,b=0,_=0,S=m.charCodeAt(0),k=!1,j=0,E=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var N=h.dateNF!=null?Cye(h.dateNF):null;function O(){var R=d.slice(b,_),T={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)T.t="z";else if(h.raw)T.t="s",T.v=R;else if(R.trim().length===0)T.t="s",T.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(T.t="s",T.v=R.slice(2,-1).replace(/""/g,'"')):nSe(R)?(T.t="n",T.f=R.slice(1)):(T.t="s",T.v=R);else if(R=="TRUE")T.t="b",T.v=!0;else if(R=="FALSE")T.t="b",T.v=!1;else if(!isNaN(x=jo(R)))T.t="n",h.cellText!==!1&&(T.w=R),T.v=x;else if(!isNaN(Fm(R).getDate())||N&&R.match(N)){T.z=h.dateNF||Bt[14];var U=0;N&&R.match(N)&&(R=Tye(R,h.dateNF,R.match(N)||[]),U=1),h.cellDates?(T.t="d",T.v=Yn(R,U)):(T.t="n",T.v=us(Yn(R,U))),h.cellText!==!1&&(T.w=Bi(T.z,T.v instanceof Date?us(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=R;if(T.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][w]=T):g[It({c:w,r:v})]=T),b=_+1,E=d.charCodeAt(b),p.e.c<w&&(p.e.c=w),p.e.r<v&&(p.e.r=v),j==S)++w;else if(w=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;_<d.length;++_)switch(j=d.charCodeAt(_)){case 34:E===34&&(k=!k);break;case S:case 10:case 13:if(!k&&O())break e;break}return _-b>0&&O(),g["!ref"]=Zt(p),g}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Mp(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:iP(d,f);switch(f.type){case"base64":h=hi(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Hc<"u"?h=Hc.utils.decode(f.codepage,d):h=Xt&&Buffer.isBuffer(d)?d.toString("binary"):Rf(d);break;case"array":h=vf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Tr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Tr(h):f.type=="binary"&&typeof Hc<"u"&&f.codepage&&(h=Hc.utils.decode(f.codepage,Hc.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?vbe.to_sheet(f.type=="string"?h:Tr(h),f):i(h,f)}function c(d,f){return Ju(l(d,f),f)}function u(d){for(var f=[],h=an(d["!ref"]),m,g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var v=[],w=h.s.c;w<=h.e.c;++w){var x=It({r:p,c:w});if(m=g?(d[p]||[])[w]:d[x],!m||m.v==null){v.push("          ");continue}for(var b=(m.w||(cc(m),m.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(w===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function xbe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=pbe.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return nv.to_workbook(e,t)}}var ug=function(){function e(C,Y,B){if(C){na(C,C.l||0);for(var G=B.Enum||K;C.l<C.length;){var re=C.read_shift(2),se=G[re]||G[65535],ce=C.read_shift(2),ae=C.l+ce,J=se.f&&se.f(C,ce,B);if(C.l=ae,Y(J,se,re))return}}}function t(C,Y){switch(Y.type){case"base64":return r(go(hi(C)),Y);case"binary":return r(go(C),Y);case"buffer":case"array":return r(C,Y)}throw"Unsupported type "+Y.type}function r(C,Y){if(!C)return C;var B=Y||{},G=B.dense?[]:{},re="Sheet1",se="",ce=0,ae={},J=[],me=[],A={s:{r:0,c:0},e:{r:0,c:0}},Le=B.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)B.Enum=K,e(C,function(Pe,ft,_t){switch(_t){case 0:B.vers=Pe,Pe>=4096&&(B.qpro=!0);break;case 6:A=Pe;break;case 204:Pe&&(se=Pe);break;case 222:se=Pe;break;case 15:case 51:B.qpro||(Pe[1].v=Pe[1].v.slice(1));case 13:case 14:case 16:_t==14&&(Pe[2]&112)==112&&(Pe[2]&15)>1&&(Pe[2]&15)<15&&(Pe[1].z=B.dateNF||Bt[14],B.cellDates&&(Pe[1].t="d",Pe[1].v=rS(Pe[1].v))),B.qpro&&Pe[3]>ce&&(G["!ref"]=Zt(A),ae[re]=G,J.push(re),G=B.dense?[]:{},A={s:{r:0,c:0},e:{r:0,c:0}},ce=Pe[3],re=se||"Sheet"+(ce+1),se="");var ne=B.dense?(G[Pe[0].r]||[])[Pe[0].c]:G[It(Pe[0])];if(ne){ne.t=Pe[1].t,ne.v=Pe[1].v,Pe[1].z!=null&&(ne.z=Pe[1].z),Pe[1].f!=null&&(ne.f=Pe[1].f);break}B.dense?(G[Pe[0].r]||(G[Pe[0].r]=[]),G[Pe[0].r][Pe[0].c]=Pe[1]):G[It(Pe[0])]=Pe[1];break}},B);else if(C[2]==26||C[2]==14)B.Enum=Z,C[2]==14&&(B.qpro=!0,C.l=0),e(C,function(Pe,ft,_t){switch(_t){case 204:re=Pe;break;case 22:Pe[1].v=Pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Pe[3]>ce&&(G["!ref"]=Zt(A),ae[re]=G,J.push(re),G=B.dense?[]:{},A={s:{r:0,c:0},e:{r:0,c:0}},ce=Pe[3],re="Sheet"+(ce+1)),Le>0&&Pe[0].r>=Le)break;B.dense?(G[Pe[0].r]||(G[Pe[0].r]=[]),G[Pe[0].r][Pe[0].c]=Pe[1]):G[It(Pe[0])]=Pe[1],A.e.c<Pe[0].c&&(A.e.c=Pe[0].c),A.e.r<Pe[0].r&&(A.e.r=Pe[0].r);break;case 27:Pe[14e3]&&(me[Pe[14e3][0]]=Pe[14e3][1]);break;case 1537:me[Pe[0]]=Pe[1],Pe[0]==ce&&(re=Pe[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(G["!ref"]=Zt(A),ae[se||re]=G,J.push(se||re),!me.length)return{SheetNames:J,Sheets:ae};for(var Ie={},Ve=[],We=0;We<me.length;++We)ae[J[We]]?(Ve.push(me[We]||J[We]),Ie[me[We]]=ae[me[We]]||ae[J[We]]):(Ve.push(me[We]),Ie[me[We]]={"!ref":"A1"});return{SheetNames:Ve,Sheets:Ie}}function n(C,Y){var B=Y||{};if(+B.codepage>=0&&wo(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var G=mE(),re=an(C["!ref"]),se=Array.isArray(C),ce=[];Ji(G,0,s(1030)),Ji(G,6,c(re));for(var ae=Math.min(re.e.r,8191),J=re.s.r;J<=ae;++J)for(var me=fa(J),A=re.s.c;A<=re.e.c;++A){J===re.s.r&&(ce[A]=Fn(A));var Le=ce[A]+me,Ie=se?(C[J]||[])[A]:C[Le];if(!(!Ie||Ie.t=="z"))if(Ie.t=="n")(Ie.v|0)==Ie.v&&Ie.v>=-32768&&Ie.v<=32767?Ji(G,13,m(J,A,Ie.v)):Ji(G,14,p(J,A,Ie.v));else{var Ve=cc(Ie);Ji(G,15,f(J,A,Ve.slice(0,239)))}}return Ji(G,1),G.end()}function a(C,Y){var B=Y||{};if(+B.codepage>=0&&wo(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var G=mE();Ji(G,0,i(C));for(var re=0,se=0;re<C.SheetNames.length;++re)(C.Sheets[C.SheetNames[re]]||{})["!ref"]&&Ji(G,27,D(C.SheetNames[re],se++));var ce=0;for(re=0;re<C.SheetNames.length;++re){var ae=C.Sheets[C.SheetNames[re]];if(!(!ae||!ae["!ref"])){for(var J=an(ae["!ref"]),me=Array.isArray(ae),A=[],Le=Math.min(J.e.r,8191),Ie=J.s.r;Ie<=Le;++Ie)for(var Ve=fa(Ie),We=J.s.c;We<=J.e.c;++We){Ie===J.s.r&&(A[We]=Fn(We));var Pe=A[We]+Ve,ft=me?(ae[Ie]||[])[We]:ae[Pe];if(!(!ft||ft.t=="z"))if(ft.t=="n")Ji(G,23,O(Ie,We,ce,ft.v));else{var _t=cc(ft);Ji(G,22,j(Ie,We,ce,_t.slice(0,239)))}}++ce}}return Ji(G,1),G.end()}function s(C){var Y=Dn(2);return Y.write_shift(2,C),Y}function i(C){var Y=Dn(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var B=0,G=0,re=0,se=0;se<C.SheetNames.length;++se){var ce=C.SheetNames[se],ae=C.Sheets[ce];if(!(!ae||!ae["!ref"])){++re;var J=Ip(ae["!ref"]);B<J.e.r&&(B=J.e.r),G<J.e.c&&(G=J.e.c)}}return B>8191&&(B=8191),Y.write_shift(2,B),Y.write_shift(1,re),Y.write_shift(1,G),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function l(C,Y,B){var G={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&B.qpro?(G.s.c=C.read_shift(1),C.l++,G.s.r=C.read_shift(2),G.e.c=C.read_shift(1),C.l++,G.e.r=C.read_shift(2),G):(G.s.c=C.read_shift(2),G.s.r=C.read_shift(2),Y==12&&B.qpro&&(C.l+=2),G.e.c=C.read_shift(2),G.e.r=C.read_shift(2),Y==12&&B.qpro&&(C.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function c(C){var Y=Dn(8);return Y.write_shift(2,C.s.c),Y.write_shift(2,C.s.r),Y.write_shift(2,C.e.c),Y.write_shift(2,C.e.r),Y}function u(C,Y,B){var G=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(G[0].c=C.read_shift(1),G[3]=C.read_shift(1),G[0].r=C.read_shift(2),C.l+=2):(G[2]=C.read_shift(1),G[0].c=C.read_shift(2),G[0].r=C.read_shift(2)),G}function d(C,Y,B){var G=C.l+Y,re=u(C,Y,B);if(re[1].t="s",B.vers==20768){C.l++;var se=C.read_shift(1);return re[1].v=C.read_shift(se,"utf8"),re}return B.qpro&&C.l++,re[1].v=C.read_shift(G-C.l,"cstr"),re}function f(C,Y,B){var G=Dn(7+B.length);G.write_shift(1,255),G.write_shift(2,Y),G.write_shift(2,C),G.write_shift(1,39);for(var re=0;re<G.length;++re){var se=B.charCodeAt(re);G.write_shift(1,se>=128?95:se)}return G.write_shift(1,0),G}function h(C,Y,B){var G=u(C,Y,B);return G[1].v=C.read_shift(2,"i"),G}function m(C,Y,B){var G=Dn(7);return G.write_shift(1,255),G.write_shift(2,Y),G.write_shift(2,C),G.write_shift(2,B,"i"),G}function g(C,Y,B){var G=u(C,Y,B);return G[1].v=C.read_shift(8,"f"),G}function p(C,Y,B){var G=Dn(13);return G.write_shift(1,255),G.write_shift(2,Y),G.write_shift(2,C),G.write_shift(8,B,"f"),G}function v(C,Y,B){var G=C.l+Y,re=u(C,Y,B);if(re[1].v=C.read_shift(8,"f"),B.qpro)C.l=G;else{var se=C.read_shift(2);_(C.slice(C.l,C.l+se),re),C.l+=se}return re}function w(C,Y,B){var G=Y&32768;return Y&=-32769,Y=(G?C:0)+(Y>=8192?Y-16384:Y),(G?"":"$")+(B?Fn(Y):fa(Y))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(C,Y){na(C,0);for(var B=[],G=0,re="",se="",ce="",ae="";C.l<C.length;){var J=C[C.l++];switch(J){case 0:B.push(C.read_shift(8,"f"));break;case 1:se=w(Y[0].c,C.read_shift(2),!0),re=w(Y[0].r,C.read_shift(2),!1),B.push(se+re);break;case 2:{var me=w(Y[0].c,C.read_shift(2),!0),A=w(Y[0].r,C.read_shift(2),!1);se=w(Y[0].c,C.read_shift(2),!0),re=w(Y[0].r,C.read_shift(2),!1),B.push(me+A+":"+se+re)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(C.read_shift(2));break;case 6:{for(var Le="";J=C[C.l++];)Le+=String.fromCharCode(J);B.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:ae=B.pop(),ce=B.pop(),B.push(["AND","OR"][J-20]+"("+ce+","+ae+")");break;default:if(J<32&&b[J])ae=B.pop(),ce=B.pop(),B.push(ce+b[J]+ae);else if(x[J]){if(G=x[J][1],G==69&&(G=C[C.l++]),G>B.length){console.error("WK1 bad formula parse 0x"+J.toString(16)+":|"+B.join("|")+"|");return}var Ie=B.slice(-G);B.length-=G,B.push(x[J][0]+"("+Ie.join(",")+")")}else return J<=7?console.error("WK1 invalid opcode "+J.toString(16)):J<=24?console.error("WK1 unsupported op "+J.toString(16)):J<=30?console.error("WK1 invalid opcode "+J.toString(16)):J<=115?console.error("WK1 unsupported function opcode "+J.toString(16)):console.error("WK1 unrecognized opcode "+J.toString(16))}}B.length==1?Y[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function S(C){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=C.read_shift(2),Y[3]=C[C.l++],Y[0].c=C[C.l++],Y}function k(C,Y){var B=S(C);return B[1].t="s",B[1].v=C.read_shift(Y-4,"cstr"),B}function j(C,Y,B,G){var re=Dn(6+G.length);re.write_shift(2,C),re.write_shift(1,B),re.write_shift(1,Y),re.write_shift(1,39);for(var se=0;se<G.length;++se){var ce=G.charCodeAt(se);re.write_shift(1,ce>=128?95:ce)}return re.write_shift(1,0),re}function E(C,Y){var B=S(C);B[1].v=C.read_shift(2);var G=B[1].v>>1;if(B[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return B[1].v=G,B}function N(C,Y){var B=S(C),G=C.read_shift(4),re=C.read_shift(4),se=C.read_shift(2);if(se==65535)return G===0&&re===3221225472?(B[1].t="e",B[1].v=15):G===0&&re===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var ce=se&32768;return se=(se&32767)-16446,B[1].v=(1-ce*2)*(re*Math.pow(2,se+32)+G*Math.pow(2,se)),B}function O(C,Y,B,G){var re=Dn(14);if(re.write_shift(2,C),re.write_shift(1,B),re.write_shift(1,Y),G==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var se=0,ce=0,ae=0,J=0;return G<0&&(se=1,G=-G),ce=Math.log2(G)|0,G/=Math.pow(2,ce-31),J=G>>>0,J&2147483648||(G/=2,++ce,J=G>>>0),G-=J,J|=2147483648,J>>>=0,G*=Math.pow(2,32),ae=G>>>0,re.write_shift(4,ae),re.write_shift(4,J),ce+=16383+(se?32768:0),re.write_shift(2,ce),re}function R(C,Y){var B=N(C);return C.l+=Y-14,B}function T(C,Y){var B=S(C),G=C.read_shift(4);return B[1].v=G>>6,B}function U(C,Y){var B=S(C),G=C.read_shift(8,"f");return B[1].v=G,B}function z(C,Y){var B=U(C);return C.l+=Y-10,B}function q(C,Y){return C[C.l+Y-1]==0?C.read_shift(Y,"cstr"):""}function I(C,Y){var B=C[C.l++];B>Y-1&&(B=Y-1);for(var G="";G.length<B;)G+=String.fromCharCode(C[C.l++]);return G}function L(C,Y,B){if(!(!B.qpro||Y<21)){var G=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var re=C.read_shift(Y-21,"cstr");return[G,re]}}function M(C,Y){for(var B={},G=C.l+Y;C.l<G;){var re=C.read_shift(2);if(re==14e3){for(B[re]=[0,""],B[re][0]=C.read_shift(2);C[C.l];)B[re][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return B}function D(C,Y){var B=Dn(5+C.length);B.write_shift(2,14e3),B.write_shift(2,Y);for(var G=0;G<C.length;++G){var re=C.charCodeAt(G);B[B.l++]=re>127?95:re}return B[B.l++]=0,B}var K={0:{n:"BOF",f:wn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:q},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:L},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function ybe(e){var t={},r=e.match(Va),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Tt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=MO[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var wbe=function(){var e=tv("t"),t=tv("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var l={t:"s",v:rr(i[1])},c=s.match(t);return c&&(l.s=ybe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),bbe=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),_be=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Sbe=/<(?:\w+:)?r>/,jbe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function ZO(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=rr(Tr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Tr(e),r&&(n.h=WO(n.t))):e.match(Sbe)&&(n.r=Tr(e),n.t=rr(Tr((e.replace(jbe,"").match(_be)||[]).join("").replace(Va,""))),r&&(n.h=bbe(wbe(n.r)))),n):{t:""}}var kbe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Nbe=/<(?:\w+:)?(?:si|sstItem)>/g,Ebe=/<\/(?:\w+:)?(?:si|sstItem)>/;function Cbe(e,t){var r=[],n="";if(!e)return r;var a=e.match(kbe);if(a){n=a[2].replace(Nbe,"").split(Ebe);for(var s=0;s!=n.length;++s){var i=ZO(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Tt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Tbe(e){return[e.read_shift(4),e.read_shift(4)]}function Abe(e,t){var r=[],n=!1;return xc(e,function(s,i,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function eG(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Kl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Obe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Kl(e,4),t.U=Kl(e,4),t.W=Kl(e,4),t}function Pbe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Dbe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Pbe(e));return t}function Rbe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Ibe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Kl(e,4),t.U=Kl(e,4),t.W=Kl(e,4),t}function Mbe(e){var t=Ibe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function tG(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function rG(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Fbe(e){var t=Kl(e);switch(t.Minor){case 2:return[t.Minor,Lbe(e)];case 3:return[t.Minor,$be()];case 4:return[t.Minor,Bbe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Lbe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=tG(e,r),a=rG(e,e.length-e.l);return{t:"Std",h:n,v:a}}function $be(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Bbe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Va,function(s){var i=Tt(s);switch(_l(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=i[l]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function Ube(e,t){var r={},n=r.EncryptionVersionInfo=Kl(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=tG(e,a),t-=a,r.EncryptionVerifier=rG(e,t),r}function Vbe(e){var t={},r=t.EncryptionVersionInfo=Kl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Wbe(e){var t=0,r,n=eG(e),a=n.length+1,s,i,l,c,u;for(r=Mu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^i;return t^52811}var nG=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,l){return n(i^l)},s=function(i){for(var l=t[i.length-1],c=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(i){for(var l=eG(i),c=s(l),u=l.length,d=Mu(16),f=0;f!=16;++f)d[f]=0;var h,m,g;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,g=15-l.length;g>0;)h=c>>8,d[u]=a(e[g],h),--u,--g,h=c&255,d[u]=a(l[u],h),--u,--g;return d}}(),zbe=function(e,t,r,n,a){a||(a=t),n||(n=nG(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},Hbe=function(e){var t=0,r=nG(e);return function(n){var a=zbe("",n,t,r);return t=a[1],a[0]}};function qbe(e,t,r,n){var a={key:wn(e),verificationBytes:wn(e)};return r.password&&(a.verifier=Wbe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Hbe(r.password)),a}function Gbe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Vbe(e):n.Data=Ube(e,t),n}function Kbe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Gbe(e,t-2,n):qbe(e,r.biff>=8?t:t-2,r,n),n}var Ybe=function(){function e(a,s){switch(s.type){case"base64":return t(hi(a),s);case"binary":return t(a,s);case"buffer":return t(Xt&&Buffer.isBuffer(a)?a.toString("binary"):Rf(a),s);case"array":return t(vf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},l=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(m,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var w={v,t:"s"};Array.isArray(l)?l[f][p]=w:l[It({r:f,c:p})]=w}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=Zt(u),l}function r(a,s){return Ju(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=an(a["!ref"]),l,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=It({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(cc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Xbe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function av(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Jbe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=i/(u>1?2-u:u),a){case t:l=((r-n)/i+6)%6;break;case r:l=(n-t)/i+2;break;case n:l=(t-r)/i+4;break}return[l/6,c,u/2]}function Qbe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,i[0]+=a,i[1]+=c;break;case 1:c=a*(2-l),i[0]+=c,i[1]+=a;break;case 2:c=a*(l-2),i[1]+=a,i[2]+=c;break;case 3:c=a*(4-l),i[1]+=c,i[2]+=a;break;case 4:c=a*(l-4),i[2]+=a,i[0]+=c;break;case 5:c=a*(6-l),i[2]+=c,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function I1(e,t){if(t===0)return e;var r=Jbe(Xbe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),av(Qbe(r))}var aG=6,Zbe=15,e_e=1,es=aG;function M1(e){return Math.floor((e+Math.round(128/es)/256)*es)}function F1(e){return Math.floor((e-5)/es*100+.5)/100}function xE(e){return Math.round((e*es+5)/es*256)/256}function Tk(e){return xE(F1(M1(e)))}function eP(e){var t=Math.abs(e-Tk(e)),r=es;if(t>.005)for(es=e_e;es<Zbe;++es)Math.abs(e-Tk(e))<=t&&(t=Math.abs(e-Tk(e)),r=es);es=r}function Lm(e){e.width?(e.wpx=M1(e.width),e.wch=F1(e.wpx),e.MDW=es):e.wpx?(e.wch=F1(e.wpx),e.width=xE(e.wch),e.MDW=es):typeof e.wch=="number"&&(e.width=xE(e.wch),e.wpx=M1(e.width),e.MDW=es),e.customWidth&&delete e.customWidth}var t_e=96,sG=t_e;function iG(e){return e*96/sG}function sv(e){return e*sG/96}var r_e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function n_e(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Va)||[]).forEach(function(i){var l=Tt(i);switch(_l(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Br(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Br(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function a_e(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Va)||[]).forEach(function(i){var l=Tt(i);switch(_l(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function s_e(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Va)||[]).forEach(function(i){var l=Tt(i);switch(_l(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Tr(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Br(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Br(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Br(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Br(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Br(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Br(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Br(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=MO[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Br(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Yd[a.color.index];a.color.index==81&&(c=Yd[1]),c||(c=Yd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=I1(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function i_e(e,t,r){t.NumberFmt=[];for(var n=vl(Bt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Bt[n[a]];var s=e[0].match(Va);if(s)for(a=0;a<s.length;++a){var i=Tt(s[a]);switch(_l(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=rr(Tr(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Kd(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var Vy=["numFmtId","fillId","fontId","borderId","xfId"],Wy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function o_e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Va)||[]).forEach(function(s){var i=Tt(s),l=0;switch(_l(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],l=0;l<Vy.length;++l)n[Vy[l]]&&(n[Vy[l]]=parseInt(n[Vy[l]],10));for(l=0;l<Wy.length;++l)n[Wy[l]]&&(n[Wy[l]]=Br(n[Wy[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=Br(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var l_e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&i_e(f,d,u),(f=l.match(a))&&s_e(f,d,c,u),(f=l.match(n))&&a_e(f,d,c,u),(f=l.match(s))&&n_e(f,d,c,u),(f=l.match(r))&&o_e(f,d,u),d}}();function c_e(e,t){var r=e.read_shift(2),n=Ia(e);return[r,n]}function u_e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=wwe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=ywe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ia(e),n}var d_e=$a;function f_e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var h_e=$a;function m_e(e,t,r){var n={};n.NumberFmt=[];for(var a in Bt)n.NumberFmt[a]=Bt[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return xc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Kd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=I1(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var p_e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function g_e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Va)||[]).forEach(function(a){var s=Tt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[p_e.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function v_e(){}function x_e(){}var y_e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,w_e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,b_e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function __e(e,t,r){t.themeElements={};var n;[["clrScheme",y_e,g_e],["fontScheme",w_e,v_e],["fmtScheme",b_e,x_e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var S_e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function oG(e,t){(!e||e.length===0)&&(e=j_e());var r,n={};if(!(r=e.match(S_e)))throw new Error("themeElements not found in theme");return __e(r[0],n,t),n.raw=e,n}function j_e(e,t){var r=[xq];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function k_e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=vq(s,{type:"array"})}catch{return}var l=ri(i,"theme/theme/theme1.xml",!0);if(l)return oG(l,r)}}function N_e(e){return e.read_shift(4)}function E_e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=C_e(e,4);break;case 2:t.xclrValue=Gq(e);break;case 3:t.xclrValue=N_e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function C_e(e,t){return $a(e,t)}function T_e(e,t){return $a(e,t)}function A_e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=E_e(e);break;case 6:n[1]=T_e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function O_e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(A_e(e,r-e.l));return{ixfe:n,ext:s}}function P_e(e,t){t.forEach(function(r){switch(r[0]){}})}function D_e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ia(e)}}function R_e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function I_e(e){return e.l+=4,e.read_shift(4)!=0}function M_e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,l=2;return xc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function F_e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Va,function(l){var c=Tt(l);switch(_l(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function L_e(e){var t=[];if(!e)return t;var r=1;return(e.match(Va)||[]).forEach(function(n){var a=Tt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function $_e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=It(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function B_e(e,t,r){var n=[];return xc(e,function(s,i,l){switch(l){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function U_e(e,t,r,n){if(!e)return e;var a=n||{},s=!1;xc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function V_e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function SF(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var l=ns(i.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[i.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[i.ref]=s;var c=an(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Zt(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function W_e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Tt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ns(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&ZO(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function z_e(e,t){var r=[],n=!1,a={},s=0;return e.replace(Va,function(l,c){var u=Tt(l);switch(_l(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function H_e(e,t){var r=[],n=!1;return e.replace(Va,function(s){var i=Tt(s);switch(_l(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function q_e(e){var t={};t.iauthor=e.read_shift(4);var r=Mf(e);return t.rfx=r.s,t.ref=It(r.s),e.l+=16,t}var G_e=Ia;function K_e(e,t){var r=[],n=[],a={},s=!1;return xc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var Y_e="application/vnd.ms-office.vbaProject";function X_e(e){var t=Qt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Qt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Qt.write(t)}function J_e(){return{"!type":"dialog"}}function Q_e(){return{"!type":"dialog"}}function Z_e(){return{"!type":"macro"}}function eSe(){return{"!type":"macro"}}var em=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Fn(d)+(c?"":"$")+fa(u)}return function(a,s){return t=s,a.replace(e,r)}}(),lG=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,tSe=function(){return function(t,r){return t.replace(lG,function(n,a,s,i,l,c){var u=GO(i)-(s?0:r.c),d=qO(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function cG(e,t){return e.replace(lG,function(r,n,a,s,i,l){return n+(a=="$"?a+s:Fn(GO(s)+t.c))+(i=="$"?i+l:fa(qO(l)+t.r))})}function rSe(e,t,r){var n=Ip(t),a=n.s,s=ns(r),i={r:s.r-a.r,c:s.c-a.c};return cG(e,i)}function nSe(e){return e.length!=1}function jF(e){return e.replace(/_xlfn\./g,"")}function vn(e){e.l+=1}function Fu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function uG(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return dG(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Fu(e),l=Fu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function dG(e){var t=Fu(e),r=Fu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function aSe(e,t,r){if(r.biff<8)return dG(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Fu(e),i=Fu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function fG(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return sSe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Fu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function sSe(e){var t=Fu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function iSe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function oSe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return lSe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function lSe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function cSe(e,t,r){var n=(e[e.l++]&96)>>5,a=uG(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function uSe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=uG(e,s,r);return[n,a,i]}function dSe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function fSe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function hSe(e,t,r){var n=(e[e.l++]&96)>>5,a=aSe(e,t-1,r);return[n,a]}function mSe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function kF(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function pSe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function gSe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function vSe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function xSe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function ySe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function hG(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function wSe(e){return e.read_shift(2),hG(e)}function bSe(e){return e.read_shift(2),hG(e)}function _Se(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=fG(e,0,r);return[n,a]}function SSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=oSe(e,0,r);return[n,a]}function jSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=fG(e,0,r);return[n,a,s]}function kSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Nje[a],gG[a],n]}function NSe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:ESe(e);return[a,(s[0]===0?gG:kje)[s[1]]]}function ESe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function CSe(e,t,r){e.l+=r&&r.biff==2?3:4}function TSe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function ASe(e){return e.l++,Ff[e.read_shift(1)]}function OSe(e){return e.l++,e.read_shift(2)}function PSe(e){return e.l++,e.read_shift(1)!==0}function DSe(e){return e.l++,Oa(e)}function RSe(e,t,r){return e.l++,Cx(e,t-1,r)}function ISe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=on(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Ff[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Oa(e);break;case 2:r[1]=Lf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function MSe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Mf:nS)(e));return a}function FSe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=ISe(e,r.biff);return i}function LSe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function $Se(e,t,r){if(r.biff==5)return BSe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function BSe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function USe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function VSe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function WSe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function zSe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var HSe=$a,qSe=$a,GSe=$a;function Ax(e,t,r){return e.l+=2,[iSe(e)]}function tP(e){return e.l+=6,[]}var KSe=Ax,YSe=tP,XSe=tP,JSe=Ax;function mG(e){return e.l+=2,[wn(e),e.read_shift(2)&1]}var QSe=Ax,ZSe=mG,eje=tP,tje=Ax,rje=Ax,nje=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function aje(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=nje[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function sje(e){return e.l+=2,[e.read_shift(4)]}function ije(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function oje(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function lje(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function cje(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function uje(e){return e.l+=4,[0,0]}var NF={1:{n:"PtgExp",f:TSe},2:{n:"PtgTbl",f:GSe},3:{n:"PtgAdd",f:vn},4:{n:"PtgSub",f:vn},5:{n:"PtgMul",f:vn},6:{n:"PtgDiv",f:vn},7:{n:"PtgPower",f:vn},8:{n:"PtgConcat",f:vn},9:{n:"PtgLt",f:vn},10:{n:"PtgLe",f:vn},11:{n:"PtgEq",f:vn},12:{n:"PtgGe",f:vn},13:{n:"PtgGt",f:vn},14:{n:"PtgNe",f:vn},15:{n:"PtgIsect",f:vn},16:{n:"PtgUnion",f:vn},17:{n:"PtgRange",f:vn},18:{n:"PtgUplus",f:vn},19:{n:"PtgUminus",f:vn},20:{n:"PtgPercent",f:vn},21:{n:"PtgParen",f:vn},22:{n:"PtgMissArg",f:vn},23:{n:"PtgStr",f:RSe},26:{n:"PtgSheet",f:ije},27:{n:"PtgEndSheet",f:oje},28:{n:"PtgErr",f:ASe},29:{n:"PtgBool",f:PSe},30:{n:"PtgInt",f:OSe},31:{n:"PtgNum",f:DSe},32:{n:"PtgArray",f:mSe},33:{n:"PtgFunc",f:kSe},34:{n:"PtgFuncVar",f:NSe},35:{n:"PtgName",f:LSe},36:{n:"PtgRef",f:_Se},37:{n:"PtgArea",f:cSe},38:{n:"PtgMemArea",f:USe},39:{n:"PtgMemErr",f:HSe},40:{n:"PtgMemNoMem",f:qSe},41:{n:"PtgMemFunc",f:VSe},42:{n:"PtgRefErr",f:WSe},43:{n:"PtgAreaErr",f:dSe},44:{n:"PtgRefN",f:SSe},45:{n:"PtgAreaN",f:hSe},46:{n:"PtgMemAreaN",f:lje},47:{n:"PtgMemNoMemN",f:cje},57:{n:"PtgNameX",f:$Se},58:{n:"PtgRef3d",f:jSe},59:{n:"PtgArea3d",f:uSe},60:{n:"PtgRefErr3d",f:zSe},61:{n:"PtgAreaErr3d",f:fSe},255:{}},dje={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},fje={1:{n:"PtgElfLel",f:mG},2:{n:"PtgElfRw",f:tje},3:{n:"PtgElfCol",f:KSe},6:{n:"PtgElfRwV",f:rje},7:{n:"PtgElfColV",f:JSe},10:{n:"PtgElfRadical",f:QSe},11:{n:"PtgElfRadicalS",f:eje},13:{n:"PtgElfColS",f:YSe},15:{n:"PtgElfColSV",f:XSe},16:{n:"PtgElfRadicalLel",f:ZSe},25:{n:"PtgList",f:aje},29:{n:"PtgSxName",f:sje},255:{}},hje={0:{n:"PtgAttrNoop",f:uje},1:{n:"PtgAttrSemi",f:ySe},2:{n:"PtgAttrIf",f:vSe},4:{n:"PtgAttrChoose",f:pSe},8:{n:"PtgAttrGoto",f:gSe},16:{n:"PtgAttrSum",f:CSe},32:{n:"PtgAttrBaxcel",f:kF},33:{n:"PtgAttrBaxcel",f:kF},64:{n:"PtgAttrSpace",f:wSe},65:{n:"PtgAttrSpaceSemi",f:bSe},128:{n:"PtgAttrIfError",f:xSe},255:{}};function Ox(e,t,r,n){if(n.biff<8)return $a(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=FSe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=MSe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push($a(e,t)),s}function Px(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=NF[s]||NF[dje[s]],(s===24||s===25)&&(a=(s===24?fje:hje)[e[e.l+1]]),!a||!a.f?$a(e,t):i.push([a.n,a.f(e,t,r)]);return i}function mje(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var pje={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function gje(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function pG(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function EF(e,t,r){var n=pG(e,t,r);return n=="#REF"?n:gje(n,r)}function Na(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",w=0,x=e[0].length;w<x;++w){var b=e[0][w];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=tn(" ",e[0][p][1][1]);break;case 1:v=tn("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+v,p=-1}l.push(u+pje[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=ig(b[1][1],i,a),l.push(og(d,s));break;case"PtgRefN":d=r?ig(b[1][1],r,a):b[1][1],l.push(og(d,s));break;case"PtgRef3d":f=b[1][1],d=ig(b[1][2],i,a),g=EF(n,f,a),l.push(g+"!"+og(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=b[1][0],S=b[1][1];_||(_=0),_&=127;var k=_==0?[]:l.slice(-_);l.length-=_,S==="User"&&(S=k.shift()),l.push(S+"("+k.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":m=oF(b[1][1],r?{s:r}:i,a),l.push(Ek(m,a));break;case"PtgArea":m=oF(b[1][1],i,a),l.push(Ek(m,a));break;case"PtgArea3d":f=b[1][1],m=b[1][2],g=EF(n,f,a),l.push(g+"!"+Ek(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],E=j?j.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var N=b[1][1];h=b[1][2];var O;if(a.biff<=5)N<0&&(N=-N),n[N]&&(O=n[N][h]);else{var R="";if(((n[N]||[])[0]||[])[0]==14849||(((n[N]||[])[0]||[])[0]==1025?n[N][h]&&n[N][h].itab>0&&(R=n.SheetNames[n[N][h].itab-1]+"!"):R=n.SheetNames[h-1]+"!"),n[N]&&n[N][h])R+=n[N][h].Name;else if(n[0]&&n[0][h])R+=n[0][h].Name;else{var T=(pG(n,N,a)||"").split(";;");T[h-1]?R=T[h-1]:R+="SH33TJSERRX"}l.push(R);break}O||(O={Name:"SH33TJSERRY"}),l.push(O.Name);break;case"PtgParen":var U="(",z=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:U=tn(" ",e[0][p][1][1])+U;break;case 3:U=tn("\r",e[0][p][1][1])+U;break;case 4:z=tn(" ",e[0][p][1][1])+z;break;case 5:z=tn("\r",e[0][p][1][1])+z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(U+l.pop()+z);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var q={c:r.c,r:r.r};if(n.sharedf[It(d)]){var I=n.sharedf[It(d)];l.push(Na(I,i,q,n,a))}else{var L=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(Na(u[1],i,q,n,a)),L=!0;break}L||l.push(b[1])}break;case"PtgArray":l.push("{"+mje(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&M.indexOf(e[0][w][0])==-1){b=e[0][p];var D=!0;switch(b[1][0]){case 4:D=!1;case 0:v=tn(" ",b[1][1]);break;case 5:D=!1;case 1:v=tn("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((D?v:"")+l.pop()+(D?"":v)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function vje(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],$a(e,t-2)];var l=Px(e,i,r);return t!==i+a&&(s=Ox(e,t-i-a,l,r)),e.l=n,[l,s]}function xje(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],$a(e,t-2)];var l=Px(e,i,r);return t!==i+a&&(s=Ox(e,t-i-a,l,r)),e.l=n,[l,s]}function yje(e,t,r,n){var a=e.l+t,s=Px(e,n,r),i;return a!==e.l&&(i=Ox(e,a-e.l,s,r)),[s,i]}function wje(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=Px(e,s,r);return s==65535?[[],$a(e,t-2)]:(t!==s+2&&(a=Ox(e,n-s-2,i,r)),[i,a])}function bje(e){var t;if(Vl(e,e.l+6)!==65535)return[Oa(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Ak(e,t,r){var n=e.l+t,a=Sl(e);r.biff==2&&++e.l;var s=bje(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=xje(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:i>>3&1,tt:s[1]}}function aS(e,t,r){var n=e.read_shift(4),a=Px(e,n,r),s=e.read_shift(4),i=s>0?Ox(e,s,a,r):null;return[a,i]}var _je=aS,sS=aS,Sje=aS,jje=aS,kje={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},gG={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Nje={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function CF(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Ok(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var dg={},tm={};function fg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function vG(e,t,r,n,a,s){try{n.cellNF&&(e.z=Bt[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Yn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Bt[t]==null&&Kd(Eye[t]||"General",t),e.t==="e")e.w=e.w||Ff[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ev(e.v);else if(e.t==="d"){var i=us(e.v);(i|0)===i?e.w=i.toString(10):e.w=ev(i)}else{if(e.v===void 0)return"";e.w=gf(e.v,tm)}else e.t==="d"?e.w=Bi(t,us(e.v),tm):e.w=Bi(t,e.v,tm)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=I1(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=I1(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function Eje(e,t){var r=an(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Zt(r))}var Cje=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Tje=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Aje=/<(?:\w:)?hyperlink [^>]*>/mg,Oje=/"(\w*:\w*)"/,Pje=/<(?:\w:)?col\b[^>]*[\/]?>/g,Dje=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Rje=/<(?:\w:)?pageMargins[^>]*\/>/g,xG=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Ije=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Mje=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Fje(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(Tje);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(xG);h?rP(h[0],l,a,r):(h=u.match(Ije))&&Lje(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var g=u.slice(m,m+50).match(Oje);g&&Eje(l,g[1])}var p=u.match(Mje);p&&p[1]&&zje(p[1],a);var v=[];if(t.cellStyles){var w=u.match(Pje);w&&Uje(v,w)}f&&Hje(f[1],l,t,c,s,i);var x=d.match(Dje);x&&(l["!autofilter"]=Vje(x[0]));var b=[],_=d.match(Cje);if(_)for(m=0;m!=_.length;++m)b[m]=an(_[m].slice(_[m].indexOf('"')+1));var S=d.match(Aje);S&&$je(l,S,n);var k=d.match(Rje);if(k&&(l["!margins"]=Bje(Tt(k[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Zt(c)),t.sheetRows>0&&l["!ref"]){var j=an(l["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Zt(j))}return v.length>0&&(l["!cols"]=v),b.length>0&&(l["!merges"]=b),l}function rP(e,t,r,n){var a=Tt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=rr(Tr(a.codeName)))}function Lje(e,t,r,n,a){rP(e.slice(0,e.indexOf(">")),r,n,a)}function $je(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Tt(Tr(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+rr(s.location))):(s.Target="#"+rr(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=an(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=It({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function Bje(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Uje(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Tt(t[n],!0);a.hidden&&(a.hidden=Br(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,eP(a.width)),Lm(a);s<=i;)e[s++]=da(a)}}function Vje(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Wje=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function zje(e,t){t.Views||(t.Views=[{}]),(e.match(Wje)||[]).forEach(function(r,n){var a=Tt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Br(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Hje=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=tv("v"),i=tv("f");return function(c,u,d,f,h,m){for(var g=0,p="",v=[],w=[],x=0,b=0,_=0,S="",k,j,E=0,N=0,O,R,T=0,U=0,z=Array.isArray(m.CellXf),q,I=[],L=[],M=Array.isArray(u),D=[],K={},Z=!1,C=!!d.sheetStubs,Y=c.split(t),B=0,G=Y.length;B!=G;++B){p=Y[B].trim();var re=p.length;if(re!==0){var se=0;e:for(g=0;g<re;++g)switch(p[g]){case">":if(p[g-1]!="/"){++g;break e}if(d&&d.cellStyles){if(j=Tt(p.slice(se,g),!0),E=j.r!=null?parseInt(j.r,10):E+1,N=-1,d.sheetRows&&d.sheetRows<E)continue;K={},Z=!1,j.ht&&(Z=!0,K.hpt=parseFloat(j.ht),K.hpx=sv(K.hpt)),j.hidden=="1"&&(Z=!0,K.hidden=!0),j.outlineLevel!=null&&(Z=!0,K.level=+j.outlineLevel),Z&&(D[E-1]=K)}break;case"<":se=g;break}if(se>=g)break;if(j=Tt(p.slice(se,g),!0),E=j.r!=null?parseInt(j.r,10):E+1,N=-1,!(d.sheetRows&&d.sheetRows<E)){f.s.r>E-1&&(f.s.r=E-1),f.e.r<E-1&&(f.e.r=E-1),d&&d.cellStyles&&(K={},Z=!1,j.ht&&(Z=!0,K.hpt=parseFloat(j.ht),K.hpx=sv(K.hpt)),j.hidden=="1"&&(Z=!0,K.hidden=!0),j.outlineLevel!=null&&(Z=!0,K.level=+j.outlineLevel),Z&&(D[E-1]=K)),v=p.slice(g).split(e);for(var ce=0;ce!=v.length&&v[ce].trim().charAt(0)=="<";++ce);for(v=v.slice(ce),g=0;g!=v.length;++g)if(p=v[g].trim(),p.length!==0){if(w=p.match(r),x=g,b=0,_=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,w!=null&&w.length===2){for(x=0,S=w[1],b=0;b!=S.length&&!((_=S.charCodeAt(b)-64)<1||_>26);++b)x=26*x+_;--x,N=x}else++N;for(b=0;b!=p.length&&p.charCodeAt(b)!==62;++b);if(++b,j=Tt(p.slice(0,b),!0),j.r||(j.r=It({r:E-1,c:N})),S=p.slice(b),k={t:""},(w=S.match(s))!=null&&w[1]!==""&&(k.v=rr(w[1])),d.cellFormula){if((w=S.match(i))!=null&&w[1]!==""){if(k.f=rr(Tr(w[1])).replace(/\r\n/g,`
`),d.xlfn||(k.f=jF(k.f)),w[0].indexOf('t="array"')>-1)k.F=(S.match(a)||[])[1],k.F.indexOf(":")>-1&&I.push([an(k.F),k.F]);else if(w[0].indexOf('t="shared"')>-1){R=Tt(w[0]);var ae=rr(Tr(w[1]));d.xlfn||(ae=jF(ae)),L[parseInt(R.si,10)]=[R,ae,j.r]}}else(w=S.match(/<f[^>]*\/>/))&&(R=Tt(w[0]),L[R.si]&&(k.f=rSe(L[R.si][1],L[R.si][2],j.r)));var J=ns(j.r);for(b=0;b<I.length;++b)J.r>=I[b][0].s.r&&J.r<=I[b][0].e.r&&J.c>=I[b][0].s.c&&J.c<=I[b][0].e.c&&(k.F=I[b][1])}if(j.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(C)k.t="z";else continue;else k.t=j.t||"n";switch(f.s.c>N&&(f.s.c=N),f.e.c<N&&(f.e.c=N),k.t){case"n":if(k.v==""||k.v==null){if(!C)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!C)continue;k.t="z"}else O=dg[parseInt(k.v,10)],k.v=O.t,k.r=O.r,d.cellHTML&&(k.h=O.h);break;case"str":k.t="s",k.v=k.v!=null?Tr(k.v):"",d.cellHTML&&(k.h=WO(k.v));break;case"inlineStr":w=S.match(n),k.t="s",w!=null&&(O=ZO(w[1]))?(k.v=O.t,d.cellHTML&&(k.h=O.h)):k.v="";break;case"b":k.v=Br(k.v);break;case"d":d.cellDates?k.v=Yn(k.v,1):(k.v=us(Yn(k.v,1)),k.t="n");break;case"e":(!d||d.cellText!==!1)&&(k.w=k.v),k.v=$q[k.v];break}if(T=U=0,q=null,z&&j.s!==void 0&&(q=m.CellXf[j.s],q!=null&&(q.numFmtId!=null&&(T=q.numFmtId),d.cellStyles&&q.fillId!=null&&(U=q.fillId))),vG(k,T,U,d,h,m),d.cellDates&&z&&k.t=="n"&&Rp(Bt[T])&&(k.t="d",k.v=rS(k.v)),j.cm&&d.xlmeta){var me=(d.xlmeta.Cell||[])[+j.cm-1];me&&me.type=="XLDAPR"&&(k.D=!0)}if(M){var A=ns(j.r);u[A.r]||(u[A.r]=[]),u[A.r][A.c]=k}else u[j.r]=k}}}}D.length>0&&(u["!rows"]=D)}}();function qje(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var Gje=Mf;function Kje(){}function Yje(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=vwe(e),r}function Xje(e){var t=zi(e);return[t]}function Jje(e){var t=If(e);return[t]}function Qje(e){var t=zi(e),r=e.read_shift(1);return[t,r,"b"]}function Zje(e){var t=If(e),r=e.read_shift(1);return[t,r,"b"]}function eke(e){var t=zi(e),r=e.read_shift(1);return[t,r,"e"]}function tke(e){var t=If(e),r=e.read_shift(1);return[t,r,"e"]}function rke(e){var t=zi(e),r=e.read_shift(4);return[t,r,"s"]}function nke(e){var t=If(e),r=e.read_shift(4);return[t,r,"s"]}function ake(e){var t=zi(e),r=Oa(e);return[t,r,"n"]}function yG(e){var t=If(e),r=Oa(e);return[t,r,"n"]}function ske(e){var t=zi(e),r=XO(e);return[t,r,"n"]}function ike(e){var t=If(e),r=XO(e);return[t,r,"n"]}function oke(e){var t=zi(e),r=KO(e);return[t,r,"is"]}function lke(e){var t=zi(e),r=Ia(e);return[t,r,"str"]}function cke(e){var t=If(e),r=Ia(e);return[t,r,"str"]}function uke(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=sS(e,n-e.l,r);i[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return i}function dke(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=sS(e,n-e.l,r);i[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return i}function fke(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=Oa(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=sS(e,n-e.l,r);i[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return i}function hke(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=Ia(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=sS(e,n-e.l,r);i[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return i}var mke=Mf;function pke(e,t){var r=e.l+t,n=Mf(e),a=YO(e),s=Ia(e),i=Ia(e),l=Ia(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return i&&(c.Tooltip=i),c}function gke(){}function vke(e,t,r){var n=e.l+t,a=Mq(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var l=_je(e,n-e.l,r);i[1]=l}else e.l=n;return i}function xke(e,t,r){var n=e.l+t,a=Mf(e),s=[a];if(r.cellFormula){var i=jje(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var yke=["left","right","top","bottom","header","footer"];function wke(e){var t={};return yke.forEach(function(r){t[r]=Oa(e)}),t}function bke(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function _ke(){}function Ske(){}function jke(e,t,r,n,a,s,i){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,g,p,v,w,x,b,_,S,k=[];l.biff=12,l["!row"]=0;var j=0,E=!1,N=[],O={},R=l.supbooks||a.supbooks||[[]];if(R.sharedf=O,R.arrayf=N,R.SheetNames=a.SheetNames||a.Sheets.map(function(M){return M.name}),!l.supbooks&&(l.supbooks=R,a.Names))for(var T=0;T<a.Names.length;++T)R[0][T+1]=a.Names[T];var U=[],z=[],q=!1;L1[16]={n:"BrtShortReal",f:yG};var I;if(xc(e,function(D,K,Z){if(!h)switch(Z){case 148:u=D;break;case 0:m=D,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),_=fa(v=m.r),l["!row"]=m.r,(D.hidden||D.hpt||D.level!=null)&&(D.hpt&&(D.hpx=sv(D.hpt)),z[D.r]=D);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:D[2]},D[2]){case"n":g.v=D[1];break;case"s":b=dg[D[1]],g.v=b.t,g.r=b.r;break;case"b":g.v=!!D[1];break;case"e":g.v=D[1],l.cellText!==!1&&(g.w=Ff[g.v]);break;case"str":g.t="s",g.v=D[1];break;case"is":g.t="s",g.v=D[1].t;break}if((p=i.CellXf[D[0].iStyleRef])&&vG(g,p.numFmtId,null,l,s,i),w=D[0].c==-1?w+1:D[0].c,l.dense?(c[v]||(c[v]=[]),c[v][w]=g):c[Fn(w)+_]=g,l.cellFormula){for(E=!1,j=0;j<N.length;++j){var C=N[j];m.r>=C[0].s.r&&m.r<=C[0].e.r&&w>=C[0].s.c&&w<=C[0].e.c&&(g.F=Zt(C[0]),E=!0)}!E&&D.length>3&&(g.f=D[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>w&&(d.s.c=w),d.e.r<m.r&&(d.e.r=m.r),d.e.c<w&&(d.e.c=w),l.cellDates&&p&&g.t=="n"&&Rp(Bt[p.numFmtId])){var Y=Cd(g.v);Y&&(g.t="d",g.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}I&&(I.type=="XLDAPR"&&(g.D=!0),I=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;g={t:"z",v:void 0},w=D[0].c==-1?w+1:D[0].c,l.dense?(c[v]||(c[v]=[]),c[v][w]=g):c[Fn(w)+_]=g,d.s.r>m.r&&(d.s.r=m.r),d.s.c>w&&(d.s.c=w),d.e.r<m.r&&(d.e.r=m.r),d.e.c<w&&(d.e.c=w),I&&(I.type=="XLDAPR"&&(g.D=!0),I=void 0);break;case 176:k.push(D);break;case 49:I=((l.xlmeta||{}).Cell||[])[D-1];break;case 494:var B=n["!id"][D.relId];for(B?(D.Target=B.Target,D.loc&&(D.Target+="#"+D.loc),D.Rel=B):D.relId==""&&(D.Target="#"+D.loc),v=D.rfx.s.r;v<=D.rfx.e.r;++v)for(w=D.rfx.s.c;w<=D.rfx.e.c;++w)l.dense?(c[v]||(c[v]=[]),c[v][w]||(c[v][w]={t:"z",v:void 0}),c[v][w].l=D):(x=It({c:w,r:v}),c[x]||(c[x]={t:"z",v:void 0}),c[x].l=D);break;case 426:if(!l.cellFormula)break;N.push(D),S=l.dense?c[v][w]:c[Fn(w)+_],S.f=Na(D[1],d,{r:m.r,c:w},R,l),S.F=Zt(D[0]);break;case 427:if(!l.cellFormula)break;O[It(D[0].s)]=D[1],S=l.dense?c[v][w]:c[Fn(w)+_],S.f=Na(D[1],d,{r:m.r,c:w},R,l);break;case 60:if(!l.cellStyles)break;for(;D.e>=D.s;)U[D.e--]={width:D.w/256,hidden:!!(D.flags&1),level:D.level},q||(q=!0,eP(D.w/256)),Lm(U[D.e+1]);break;case 161:c["!autofilter"]={ref:Zt(D)};break;case 476:c["!margins"]=D;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),D.name&&(a.Sheets[r].CodeName=D.name),(D.above||D.left)&&(c["!outline"]={above:D.above,left:D.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),D.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!K.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Zt(u||d)),l.sheetRows&&c["!ref"]){var L=an(c["!ref"]);l.sheetRows<=+L.e.r&&(L.e.r=l.sheetRows-1,L.e.r>d.e.r&&(L.e.r=d.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>d.e.c&&(L.e.c=d.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Zt(L))}return k.length>0&&(c["!merges"]=k),U.length>0&&(c["!cols"]=U),z.length>0&&(c["!rows"]=z),c}function kke(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=rr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function Nke(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=kke(f);d.s.r=d.s.c=0,d.e.c=l,u=Fn(l),h[0].forEach(function(m,g){i[u+fa(g)]={t:"n",v:m,z:h[1]},c=g}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(i["!ref"]=Zt(d)),i}function Eke(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,l=e.match(xG);return l&&rP(l[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Cke(e,t){e.l+=10;var r=Ia(e);return{name:r}}function Tke(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return xc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var wG=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Ake=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Oke=[],Pke=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function TF(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Br(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function AF(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Br(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function bG(e){AF(e.WBProps,wG),AF(e.CalcPr,Pke),TF(e.WBView,Ake),TF(e.Sheets,Oke),tm.date1904=Br(e.WBProps.date1904)}var Dke="][*?/\\".split("");function Rke(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Dke.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Ike=/<\w+:workbook/;function Mke(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Va,function(c,u){var d=Tt(c);switch(_l(d[0])){case"<?xml":break;case"<workbook":c.match(Ike)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":wG.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Br(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Tr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=rr(Tr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Tr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Br(d.hidden||"0")&&(s.Hidden=!0),i=u+c.length;break;case"</definedName>":s.Ref=rr(Tr(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),ewe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return bG(r),r}function Fke(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=pE(e),r.name=Ia(e),r}function Lke(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ia(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function $ke(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Bke(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=xwe(e),i=Sje(e,0,r),l=YO(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Uke(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],L1[16]={n:"BrtFRTArchID$",f:$ke},xc(e,function(c,u,d){switch(d){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Na(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,c]):i[0]=[d,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),bG(r),r.Names=s,r.supbooks=i,r}function Vke(e,t,r){return t.slice(-4)===".bin"?Uke(e,r):Mke(e,r)}function Wke(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?jke(e,n,r,a,s,i,l):Fje(e,n,r,a,s,i,l)}function zke(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Tke(e,n,r,a,s):Eke(e,n,r,a,s)}function Hke(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Z_e():eSe()}function qke(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?J_e():Q_e()}function Gke(e,t,r,n){return t.slice(-4)===".bin"?m_e(e,r,n):l_e(e,r,n)}function Kke(e,t,r){return oG(e,r)}function Yke(e,t,r){return t.slice(-4)===".bin"?Abe(e,r):Cbe(e,r)}function Xke(e,t,r){return t.slice(-4)===".bin"?K_e(e,r):W_e(e,r)}function Jke(e,t,r){return t.slice(-4)===".bin"?B_e(e):L_e(e)}function Qke(e,t,r,n){return r.slice(-4)===".bin"?U_e(e,t,r,n):void 0}function Zke(e,t,r){return t.slice(-4)===".bin"?M_e(e,t,r):F_e(e,t,r)}var _G=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,SG=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Xi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(_G),s,i,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(SG),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(i+1),n[l]=s[2].slice(1,s[2].length-1));return n}function e2e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(_G),a,s,i,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(SG),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var hg;function t2e(e,t){var r=hg[e]||rr(e);return r==="General"?gf(t):Bi(r,t)}function r2e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Br(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Yn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[rr(t)]=a}function n2e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Ff[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ev(e.v):e.w=gf(e.v):e.w=t2e(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=hg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Rp(n)){var a=Cd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function a2e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=r_e[n.Pattern]||n.Pattern)}e[t.ID]=t}function s2e(e,t,r,n,a,s,i,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],g=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Br(e);break;case"String":n.t="s",n.r=QM(rr(e)),n.v=e.indexOf("<")>-1?rr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Yn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=rr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=$q[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=QM(t||e));break}if(n2e(n,d,u),u.cellFormula!==!1)if(n.Formula){var p=rr(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=em(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=em("RC:RC",a):n.ArrayRange&&(n.F=em(n.ArrayRange,a),c.push([an(n.F),n.F]))}else for(g=0;g<c.length;++g)a.r>=c[g][0].s.r&&a.r<=c[g][0].e.r&&a.c>=c[g][0].s.c&&a.c<=c[g][0].e.c&&(n.F=c[g][1]);u.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function i2e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Pk(e,t){var r=t||{};dq();var n=I0(zO(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Tr(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=da(r);return i.type="string",nv.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ft){a.indexOf("<"+ft)>=0&&(s=!0)}),s)return p2e(n,r);hg={"General Number":"General","General Date":Bt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Bt[15],"Short Date":Bt[14],"Long Time":Bt[19],"Medium Time":Bt[18],"Short Time":Bt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Bt[2],Standard:Bt[4],Percent:Bt[10],Scientific:Bt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",g={},p={},v=Xi('<Data ss:Type="String">'),w=0,x=0,b=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},k={},j="",E=0,N=[],O={},R={},T=0,U=[],z=[],q={},I=[],L,M=!1,D=[],K=[],Z={},C=0,Y=0,B={Sheets:[],WBProps:{date1904:!1}},G={};rv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var re="";l=rv.exec(n);)switch(l[3]=(re=l[3]).toLowerCase()){case"data":if(re=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?s2e(n.slice(w,l.index),j,v,c[c.length-1][0]=="comment"?q:g,{c:x,r:b},S,I[x],p,D,r):(j="",v=Xi(l[0]),w=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(z.length>0&&(g.c=z),(!r.sheetRows||r.sheetRows>b)&&g.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][x]=g):h[Fn(x)+fa(b)]=g),g.HRef&&(g.l={Target:rr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(C=x+(parseInt(g.MergeAcross,10)|0),Y=b+(parseInt(g.MergeDown,10)|0),N.push({s:{c:x,r:b},e:{c:C,r:Y}})),!r.sheetStubs)g.MergeAcross?x=C+1:++x;else if(g.MergeAcross||g.MergeDown){for(var se=x;se<=C;++se)for(var ce=b;ce<=Y;++ce)(se>x||ce>b)&&(r.dense?(h[ce]||(h[ce]=[]),h[ce][se]={t:"z"}):h[Fn(se)+fa(ce)]={t:"z"});x=C+1}else++x;else g=e2e(l[0]),g.Index&&(x=+g.Index-1),x<_.s.c&&(_.s.c=x),x>_.e.c&&(_.e.c=x),l[0].slice(-2)==="/>"&&++x,z=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<_.s.r&&(_.s.r=b),b>_.e.r&&(_.e.r=b),l[0].slice(-2)==="/>"&&(p=Xi(l[0]),p.Index&&(b=+p.Index-1)),x=0,++b):(p=Xi(l[0]),p.Index&&(b=+p.Index-1),Z={},(p.AutoFitHeight=="0"||p.Height)&&(Z.hpx=parseInt(p.Height,10),Z.hpt=iG(Z.hpx),K[b]=Z),p.Hidden=="1"&&(Z.hidden=!0,K[b]=Z));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=Zt(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=Zt(_))),N.length&&(h["!merges"]=N),I.length>0&&(h["!cols"]=I),K.length>0&&(h["!rows"]=K),d[m]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=x=0,c.push([l[3],!1]),u=Xi(l[0]),m=rr(u.Name),h=r.dense?[]:{},N=[],D=[],K=[],G={name:m,Hidden:0},B.Sheets.push(G);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),I=[],M=!1}break;case"style":l[1]==="/"?a2e(S,k,r):k=Xi(l[0]);break;case"numberformat":k.nf=rr(Xi(l[0]).Format||"General"),hg[k.nf]&&(k.nf=hg[k.nf]);for(var ae=0;ae!=392&&Bt[ae]!=k.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(Bt[ae]==null){Kd(k.nf,ae);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(L=Xi(l[0]),L.Hidden&&(L.hidden=!0,delete L.Hidden),L.Width&&(L.wpx=parseInt(L.Width,10)),!M&&L.wpx>10){M=!0,es=aG;for(var J=0;J<I.length;++J)I[J]&&Lm(I[J])}M&&Lm(L),I[L.Index-1||I.length]=L;for(var me=0;me<+L.Span;++me)I[I.length]=da(L);break;case"namedrange":if(l[1]==="/")break;B.Names||(B.Names=[]);var A=Tt(l[0]),Le={Name:A.Name,Ref:em(A.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(Le.Sheet=B.Sheets.length-1),B.Names.push(Le);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(E,l.index):E=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;k.Interior=Xi(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Wwe(O,re,n.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));i2e(q),z.push(q)}else c.push([l[3],!1]),u=Xi(l[0]),q={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Ie=Xi(l[0]);h["!autofilter"]={ref:em(Ie.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return MF(n,r);var Ve=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ve=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ve=!1}break;case"excelworkbook":switch(l[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ve=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ve=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(T,l.index)){case"SheetHidden":G.Hidden=1;break;case"SheetVeryHidden":G.Hidden=2;break}else T=l.index+l[0].length;break;case"header":h["!margins"]||fg(h["!margins"]={},"xlml"),isNaN(+Tt(l[0]).Margin)||(h["!margins"].header=+Tt(l[0]).Margin);break;case"footer":h["!margins"]||fg(h["!margins"]={},"xlml"),isNaN(+Tt(l[0]).Margin)||(h["!margins"].footer=+Tt(l[0]).Margin);break;case"pagemargins":var We=Tt(l[0]);h["!margins"]||fg(h["!margins"]={},"xlml"),isNaN(+We.Top)||(h["!margins"].top=+We.Top),isNaN(+We.Left)||(h["!margins"].left=+We.Left),isNaN(+We.Right)||(h["!margins"].right=+We.Right),isNaN(+We.Bottom)||(h["!margins"].bottom=+We.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ve=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ve=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ve=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ve=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ve=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ve=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ve=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ve=!1}break;case"smarttags":break;default:Ve=!1;break}if(Ve||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?r2e(R,re,U,n.slice(T,l.index)):(U=l,T=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Pe={};return!r.bookSheets&&!r.bookProps&&(Pe.Sheets=d),Pe.SheetNames=f,Pe.Workbook=B,Pe.SSF=da(Bt),Pe.Props=O,Pe.Custprops=R,Pe}function yE(e,t){switch(sP(t=t||{}),t.type||"base64"){case"base64":return Pk(hi(e),t);case"binary":case"buffer":case"file":return Pk(e,t);case"array":return Pk(Rf(e),t)}}function o2e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=bwe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=_we(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var l2e=[60,1084,2066,2165,2175];function c2e(e,t,r,n,a){var s=n,i=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}i.push(l),r.l+=s;for(var c=Vl(r,r.l),u=wE[c],d=0;u!=null&&l2e.indexOf(c)>-1;)s=Vl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),i.push(l),r.l+=4+s,u=wE[c=Vl(r,r.l)];var f=qc(i);na(f,0);var h=0;f.lens=[];for(var m=0;m<i.length;++m)f.lens.push(h),h+=i[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function zo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Bt[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Ff[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ev(e.v):e.w=gf(e.v):e.w=Bi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Rp(Bt[n]||String(n))){var a=Cd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function zy(e,t,r){return{v:e,ixfe:t,t:r}}function u2e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},l=null,c=[],u="",d={},f,h="",m,g,p,v,w={},x=[],b,_,S=[],k=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},N=function(Ae){return Ae<8?Yd[Ae]:Ae<64&&k[Ae-8]||Yd[Ae]},O=function(Ae,Fe,Re){var Ke=Fe.XF.data;if(!(!Ke||!Ke.patternType||!Re||!Re.cellStyles)){Fe.s={},Fe.s.patternType=Ke.patternType;var kt;(kt=av(N(Ke.icvFore)))&&(Fe.s.fgColor={rgb:kt}),(kt=av(N(Ke.icvBack)))&&(Fe.s.bgColor={rgb:kt})}},R=function(Ae,Fe,Re){if(!(Z>1)&&!(Re.sheetRows&&Ae.r>=Re.sheetRows)){if(Re.cellStyles&&Fe.XF&&Fe.XF.data&&O(Ae,Fe,Re),delete Fe.ixfe,delete Fe.XF,f=Ae,h=It(Ae),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Ae.r<i.s.r&&(i.s.r=Ae.r),Ae.c<i.s.c&&(i.s.c=Ae.c),Ae.r+1>i.e.r&&(i.e.r=Ae.r+1),Ae.c+1>i.e.c&&(i.e.c=Ae.c+1),Re.cellFormula&&Fe.f){for(var Ke=0;Ke<x.length;++Ke)if(!(x[Ke][0].s.c>Ae.c||x[Ke][0].s.r>Ae.r)&&!(x[Ke][0].e.c<Ae.c||x[Ke][0].e.r<Ae.r)){Fe.F=Zt(x[Ke][0]),(x[Ke][0].s.c!=Ae.c||x[Ke][0].s.r!=Ae.r)&&delete Fe.f,Fe.f&&(Fe.f=""+Na(x[Ke][1],i,Ae,D,T));break}}Re.dense?(a[Ae.r]||(a[Ae.r]=[]),a[Ae.r][Ae.c]=Fe):a[h]=Fe}},T={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var U,z=[],q=[],I=[],L=[],M=!1,D=[];D.SheetNames=T.snames,D.sharedf=T.sharedf,D.arrayf=T.arrayf,D.names=[],D.XTI=[];var K=0,Z=0,C=0,Y=[],B=[],G;T.codepage=1200,wo(1200);for(var re=!1;e.l<e.length-1;){var se=e.l,ce=e.read_shift(2);if(ce===0&&K===10)break;var ae=e.l===e.length?0:e.read_shift(2),J=wE[ce];if(J&&J.f){if(t.bookSheets&&K===133&&ce!==133)break;if(K=ce,J.r===2||J.r==12){var me=e.read_shift(2);if(ae-=2,!T.enc&&me!==ce&&((me&255)<<8|me>>8)!==ce)throw new Error("rt mismatch: "+me+"!="+ce);J.r==12&&(e.l+=10,ae-=10)}var A={};if(ce===10?A=J.f(e,ae,T):A=c2e(ce,J,e,ae,T),Z==0&&[9,521,1033,2057].indexOf(K)===-1)continue;switch(ce){case 34:r.opts.Date1904=j.WBProps.date1904=A;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=A,!t.password)throw new Error("File is password-protected");if(A.valid==null)throw new Error("Encryption scheme unsupported");if(!A.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=A;break;case 66:var Le=Number(A);switch(Le){case 21010:Le=1200;break;case 32768:Le=1e4;break;case 32769:Le=1252;break}wo(T.codepage=Le),re=!0;break;case 317:T.rrtabid=A;break;case 25:T.winlocked=A;break;case 439:r.opts.RefreshAll=A;break;case 12:r.opts.CalcCount=A;break;case 16:r.opts.CalcDelta=A;break;case 17:r.opts.CalcIter=A;break;case 13:r.opts.CalcMode=A;break;case 14:r.opts.CalcPrecision=A;break;case 95:r.opts.CalcSaveRecalc=A;break;case 15:T.CalcRefMode=A;break;case 2211:r.opts.FullCalc=A;break;case 129:A.fDialog&&(a["!type"]="dialog"),A.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),A.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(A);break;case 430:D.push([A]),D[D.length-1].XTI=[];break;case 35:case 547:D[D.length-1].push(A);break;case 24:case 536:G={Name:A.Name,Ref:Na(A.rgce,i,null,D,T)},A.itab>0&&(G.Sheet=A.itab-1),D.names.push(G),D[0]||(D[0]=[],D[0].XTI=[]),D[D.length-1].push(A),A.Name=="_xlnm._FilterDatabase"&&A.itab>0&&A.rgce&&A.rgce[0]&&A.rgce[0][0]&&A.rgce[0][0][0]=="PtgArea3d"&&(B[A.itab-1]={ref:Zt(A.rgce[0][0][1][2])});break;case 22:T.ExternCount=A;break;case 23:D.length==0&&(D[0]=[],D[0].XTI=[]),D[D.length-1].XTI=D[D.length-1].XTI.concat(A),D.XTI=D.XTI.concat(A);break;case 2196:if(T.biff<8)break;G!=null&&(G.Comment=A[1]);break;case 18:a["!protect"]=A;break;case 19:A!==0&&T.WTF&&console.error("Password verifier: "+A);break;case 133:s[A.pos]=A,T.snames.push(A.name);break;case 10:{if(--Z)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=Zt(i),t.sheetRows&&t.sheetRows<=i.e.r){var Ie=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Zt(i),i.e.r=Ie}i.e.r++,i.e.c++}z.length>0&&(a["!merges"]=z),q.length>0&&(a["!objects"]=q),I.length>0&&(a["!cols"]=I),L.length>0&&(a["!rows"]=L),j.Sheets.push(E)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[A.BIFFVer]||8),T.biffguess=A.BIFFVer==0,A.BIFFVer==0&&A.dt==4096&&(T.biff=5,re=!0,wo(T.codepage=28591)),T.biff==8&&A.BIFFVer==0&&A.dt==16&&(T.biff=2),Z++)break;if(a=t.dense?[]:{},T.biff<8&&!re&&(re=!0,wo(T.codepage=t.codepage||1252)),T.biff<5||A.BIFFVer==0&&A.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Ve={pos:e.l-ae,name:u};s[Ve.pos]=Ve,T.snames.push(u)}else u=(s[se]||{name:""}).name;A.dt==32&&(a["!type"]="chart"),A.dt==64&&(a["!type"]="macro"),z=[],q=[],T.arrayf=x=[],I=[],L=[],M=!1,E={Hidden:(s[se]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[A.r]||[])[A.c]:a[It({c:A.c,r:A.r})])&&++A.c,b={ixfe:A.ixfe,XF:S[A.ixfe]||{},v:A.val,t:"n"},C>0&&(b.z=Y[b.ixfe>>8&63]),zo(b,t,r.opts.Date1904),R({c:A.c,r:A.r},b,t);break;case 5:case 517:b={ixfe:A.ixfe,XF:S[A.ixfe],v:A.val,t:A.t},C>0&&(b.z=Y[b.ixfe>>8&63]),zo(b,t,r.opts.Date1904),R({c:A.c,r:A.r},b,t);break;case 638:b={ixfe:A.ixfe,XF:S[A.ixfe],v:A.rknum,t:"n"},C>0&&(b.z=Y[b.ixfe>>8&63]),zo(b,t,r.opts.Date1904),R({c:A.c,r:A.r},b,t);break;case 189:for(var We=A.c;We<=A.C;++We){var Pe=A.rkrec[We-A.c][0];b={ixfe:Pe,XF:S[Pe],v:A.rkrec[We-A.c][1],t:"n"},C>0&&(b.z=Y[b.ixfe>>8&63]),zo(b,t,r.opts.Date1904),R({c:We,r:A.r},b,t)}break;case 6:case 518:case 1030:{if(A.val=="String"){l=A;break}if(b=zy(A.val,A.cell.ixfe,A.tt),b.XF=S[b.ixfe],t.cellFormula){var ft=A.formula;if(ft&&ft[0]&&ft[0][0]&&ft[0][0][0]=="PtgExp"){var _t=ft[0][0][1][0],ne=ft[0][0][1][1],he=It({r:_t,c:ne});w[he]?b.f=""+Na(A.formula,i,A.cell,D,T):b.F=((t.dense?(a[_t]||[])[ne]:a[he])||{}).F}else b.f=""+Na(A.formula,i,A.cell,D,T)}C>0&&(b.z=Y[b.ixfe>>8&63]),zo(b,t,r.opts.Date1904),R(A.cell,b,t),l=A}break;case 7:case 519:if(l)l.val=A,b=zy(A,l.cell.ixfe,"s"),b.XF=S[b.ixfe],t.cellFormula&&(b.f=""+Na(l.formula,i,l.cell,D,T)),C>0&&(b.z=Y[b.ixfe>>8&63]),zo(b,t,r.opts.Date1904),R(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(A);var F=It(A[0].s);if(m=t.dense?(a[A[0].s.r]||[])[A[0].s.c]:a[F],t.cellFormula&&m){if(!l||!F||!m)break;m.f=""+Na(A[1],i,A[0],D,T),m.F=Zt(A[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;w[It(l.cell)]=A[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[It(l.cell)],(m||{}).f=""+Na(A[0],i,f,D,T)}}break;case 253:b=zy(c[A.isst].t,A.ixfe,"s"),c[A.isst].h&&(b.h=c[A.isst].h),b.XF=S[b.ixfe],C>0&&(b.z=Y[b.ixfe>>8&63]),zo(b,t,r.opts.Date1904),R({c:A.c,r:A.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:A.ixfe,XF:S[A.ixfe],t:"z"},C>0&&(b.z=Y[b.ixfe>>8&63]),zo(b,t,r.opts.Date1904),R({c:A.c,r:A.r},b,t));break;case 190:if(t.sheetStubs)for(var le=A.c;le<=A.C;++le){var ve=A.ixfe[le-A.c];b={ixfe:ve,XF:S[ve],t:"z"},C>0&&(b.z=Y[b.ixfe>>8&63]),zo(b,t,r.opts.Date1904),R({c:le,r:A.r},b,t)}break;case 214:case 516:case 4:b=zy(A.val,A.ixfe,"s"),b.XF=S[b.ixfe],C>0&&(b.z=Y[b.ixfe>>8&63]),zo(b,t,r.opts.Date1904),R({c:A.c,r:A.r},b,t);break;case 0:case 512:Z===1&&(i=A);break;case 252:c=A;break;case 1054:if(T.biff==4){Y[C++]=A[1];for(var ye=0;ye<C+163&&Bt[ye]!=A[1];++ye);ye>=163&&Kd(A[1],C+163)}else Kd(A[1],A[0]);break;case 30:{Y[C++]=A;for(var $e=0;$e<C+163&&Bt[$e]!=A;++$e);$e>=163&&Kd(A,C+163)}break;case 229:z=z.concat(A);break;case 93:q[A.cmo[0]]=T.lastobj=A;break;case 438:T.lastobj.TxO=A;break;case 127:T.lastobj.ImData=A;break;case 440:for(v=A[0].s.r;v<=A[0].e.r;++v)for(p=A[0].s.c;p<=A[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[It({c:p,r:v})],m&&(m.l=A[1]);break;case 2048:for(v=A[0].s.r;v<=A[0].e.r;++v)for(p=A[0].s.c;p<=A[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[It({c:p,r:v})],m&&m.l&&(m.l.Tooltip=A[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;m=t.dense?(a[A[0].r]||[])[A[0].c]:a[It(A[0])];var xe=q[A[2]];m||(t.dense?(a[A[0].r]||(a[A[0].r]=[]),m=a[A[0].r][A[0].c]={t:"z"}):m=a[It(A[0])]={t:"z"},i.e.r=Math.max(i.e.r,A[0].r),i.s.r=Math.min(i.s.r,A[0].r),i.e.c=Math.max(i.e.c,A[0].c),i.s.c=Math.min(i.s.c,A[0].c)),m.c||(m.c=[]),g={a:A[1],t:xe.TxO.t},m.c.push(g)}break;case 2173:P_e(S[A.ixfe],A.ext);break;case 125:{if(!T.cellStyles)break;for(;A.e>=A.s;)I[A.e--]={width:A.w/256,level:A.level||0,hidden:!!(A.flags&1)},M||(M=!0,eP(A.w/256)),Lm(I[A.e+1])}break;case 520:{var be={};A.level!=null&&(L[A.r]=be,be.level=A.level),A.hidden&&(L[A.r]=be,be.hidden=!0),A.hpt&&(L[A.r]=be,be.hpt=A.hpt,be.hpx=sv(A.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||fg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=A;break;case 161:a["!margins"]||fg(a["!margins"]={}),a["!margins"].header=A.header,a["!margins"].footer=A.footer;break;case 574:A.RTL&&(j.Views[0].RTL=!0);break;case 146:k=A;break;case 2198:U=A;break;case 140:_=A;break;case 442:u?E.CodeName=A||E.name:j.WBProps.CodeName=A||"ThisWorkbook";break}}else J||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),e.l+=ae}return r.SheetNames=vl(s).sort(function(ue,Ae){return Number(ue)-Number(Ae)}).map(function(ue){return s[ue].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&B.forEach(function(ue,Ae){r.Sheets[r.SheetNames[Ae]]["!autofilter"]=ue}),r.Strings=c,r.SSF=da(Bt),T.enc&&(r.Encryption=T.enc),U&&(r.Themes=U),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),D.names.length>0&&(j.Names=D.names),r.Workbook=j,r}var OF={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function d2e(e,t,r){var n=Qt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=mF(n,Cwe,OF.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=Qt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var l=mF(i,Twe,OF.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Uq(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function jG(e,t){t||(t={}),sP(t),ZH(),t.codepage&&FO(t.codepage);var r,n;if(e.FullPaths){if(Qt.find(e,"/encryption"))throw new Error("File is password-protected");r=Qt.find(e,"!CompObj"),n=Qt.find(e,"/Workbook")||Qt.find(e,"/Book")}else{switch(t.type){case"base64":e=go(hi(e));break;case"binary":e=go(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}na(e,0),n={content:e}}var a,s;if(r&&o2e(r),t.bookProps&&!t.bookSheets)a={};else{var i=Xt?"buffer":"array";if(n&&n.content)a=u2e(n.content,t);else if((s=Qt.find(e,"PerfectOffice_MAIN"))&&s.content)a=ug.to_workbook(s.content,(t.type=i,t));else if((s=Qt.find(e,"NativeContent_MAIN"))&&s.content)a=ug.to_workbook(s.content,(t.type=i,t));else throw(s=Qt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Qt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=X_e(e))}var l={};return e.FullPaths&&d2e(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var L1={0:{f:qje},1:{f:Xje},2:{f:ske},3:{f:eke},4:{f:Qje},5:{f:ake},6:{f:lke},7:{f:rke},8:{f:hke},9:{f:fke},10:{f:uke},11:{f:dke},12:{f:Jje},13:{f:ike},14:{f:tke},15:{f:Zje},16:{f:yG},17:{f:cke},18:{f:nke},19:{f:KO},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Bke},40:{},42:{},43:{f:u_e},44:{f:c_e},45:{f:d_e},46:{f:h_e},47:{f:f_e},48:{},49:{f:mwe},50:{},51:{f:R_e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Zq},62:{f:oke},63:{f:$_e},64:{f:_ke},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:$a,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:bke},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Yje},148:{f:Gje,p:16},151:{f:gke},152:{},153:{f:Lke},154:{},155:{},156:{f:Fke},157:{},158:{},159:{T:1,f:Tbe},160:{T:-1},161:{T:1,f:Mf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:mke},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:D_e},336:{T:-1},337:{f:I_e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:pE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Qq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:vke},427:{f:xke},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:wke},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Kje},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:pke},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:pE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:G_e},633:{T:1},634:{T:-1},635:{T:1,f:q_e},636:{T:-1},637:{f:gwe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Cke},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ske},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},wE={6:{f:Ak},10:{f:Pc},12:{f:wn},13:{f:wn},14:{f:on},15:{f:on},16:{f:Oa},17:{f:on},18:{f:on},19:{f:wn},20:{f:xF},21:{f:xF},23:{f:Qq},24:{f:wF},25:{f:on},26:{},27:{},28:{f:z1e},29:{},34:{f:on},35:{f:yF},38:{f:Oa},39:{f:Oa},40:{f:Oa},41:{f:Oa},42:{f:on},43:{f:on},47:{f:Kbe},49:{f:k1e},51:{f:wn},60:{},61:{f:_1e},64:{f:on},65:{f:j1e},66:{f:wn},77:{},80:{},81:{},82:{},85:{f:wn},89:{},90:{},91:{},92:{f:m1e},93:{f:q1e},94:{},95:{f:on},96:{},97:{},99:{f:on},125:{f:Zq},128:{f:I1e},129:{f:p1e},130:{f:wn},131:{f:on},132:{f:on},133:{f:g1e},134:{},140:{f:Q1e},141:{f:wn},144:{},146:{f:ebe},151:{},152:{},153:{},154:{},155:{},156:{f:wn},157:{},158:{},160:{f:sbe},161:{f:rbe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:O1e},190:{f:P1e},193:{f:Pc},197:{},198:{},199:{},200:{},201:{},202:{f:on},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:wn},220:{},221:{f:on},222:{},224:{f:R1e},225:{f:h1e},226:{f:Pc},227:{},229:{f:H1e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:v1e},253:{f:N1e},255:{f:x1e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:qq},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:on},353:{f:Pc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:F1e},431:{f:on},432:{},433:{},434:{},437:{},438:{f:Y1e},439:{f:on},440:{f:X1e},441:{},442:{f:Tx},443:{},444:{f:wn},445:{},446:{},448:{f:Pc},449:{f:b1e,r:2},450:{f:Pc},512:{f:gF},513:{f:abe},515:{f:M1e},516:{f:E1e},517:{f:vF},519:{f:ibe},520:{f:y1e},523:{},545:{f:bF},549:{f:pF},566:{},574:{f:S1e},638:{f:A1e},659:{},1048:{},1054:{f:C1e},1084:{},1212:{f:U1e},2048:{f:J1e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Uy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Pc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:tbe,r:12},2173:{f:O_e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:on,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:B1e,r:12},2197:{},2198:{f:k_e,r:12},2199:{},2200:{},2201:{},2202:{f:V1e,r:12},2203:{f:Pc},2204:{},2205:{},2206:{},2207:{},2211:{f:w1e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:wn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:nbe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Z1e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:gF},1:{},2:{f:ube},3:{f:cbe},4:{f:lbe},5:{f:vF},7:{f:dbe},8:{},9:{f:Uy},11:{},22:{f:wn},30:{f:T1e},31:{},32:{},33:{f:bF},36:{},37:{f:pF},50:{f:fbe},62:{},52:{},67:{},68:{f:wn},69:{},86:{},126:{},127:{f:obe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:hbe},223:{},234:{},354:{},421:{},518:{f:Ak},521:{f:Uy},536:{f:wF},547:{f:yF},561:{},579:{},1030:{f:Ak},1033:{f:Uy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ji(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&Dq(r)&&e.push(r)}}function PF(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,l=s&&s.index||e.length,c=Mye(e.slice(i,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(i=0;i<c.length;++i){var p=c[i].trim(),v=p.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var w=p.split(/<\/t[dh]>/i);for(l=0;l<w.length;++l){var x=w[l].trim();if(x.match(/<t[dh]/i)){for(var b=x,_=0;b.charAt(0)=="<"&&(_=b.indexOf(">"))>-1;)b=b.slice(_+1);for(var S=0;S<g.length;++S){var k=g[S];k.s.c==d&&k.s.r<u&&u<=k.e.r&&(d=k.e.c+1,S=-1)}var j=Tt(x.slice(0,x.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&g.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var E=j.t||j["data-t"]||"";if(!b.length){d+=h;continue}if(b=wq(b),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!b.length){d+=h;continue}var N={t:"s",v:b};r.raw||!b.trim().length||E=="s"||(b==="TRUE"?N={t:"b",v:!0}:b==="FALSE"?N={t:"b",v:!1}:isNaN(jo(b))?isNaN(Fm(b).getDate())||(N={t:"d",v:Yn(b)},r.cellDates||(N={t:"n",v:us(N.v)}),N.z=r.dateNF||Bt[14]):N={t:"n",v:jo(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=N):n[It({r:u,c:d})]=N,d+=h}}}}return n["!ref"]=Zt(m),g.length&&(n["!merges"]=g),n}function f2e(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=It({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||WO(f.w||(cc(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(Qye("td",h,m))}}var g="<tr>";return g+s.join("")+"</tr>"}var h2e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',m2e="</body></html>";function p2e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ju(PF(r[0],t),t);var n=oP();return r.forEach(function(a,s){lP(n,PF(a,t),"Sheet"+(s+1))}),n}function g2e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function v2e(e,t){var r=t||{},n=r.header!=null?r.header:h2e,a=r.footer!=null?r.footer:m2e,s=[n],i=Ip(e["!ref"]);r.dense=Array.isArray(e),s.push(g2e(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)s.push(f2e(e,i,l,r));return s.push("</table>"+a),s.join("")}function kG(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?ns(n.origin):n.origin;a=i.r,s=i.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Ip(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,v=0,w=0,x=0,b=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var _=l[g];if(DF(_)){if(n.display)continue;m[p]={hidden:!0}}var S=_.children;for(v=w=0;v<S.length;++v){var k=S[v];if(!(n.display&&DF(k))){var j=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):wq(k.innerHTML),E=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<f.length;++h){var N=f[h];N.s.c==w+s&&N.s.r<p+a&&p+a<=N.e.r&&(w=N.e.c+1-s,h=-1)}b=+k.getAttribute("colspan")||1,((x=+k.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:p+a,c:w+s},e:{r:p+a+(x||1)-1,c:w+s+(b||1)-1}});var O={t:"s",v:j},R=k.getAttribute("data-t")||k.getAttribute("t")||"";j!=null&&(j.length==0?O.t=R||"z":n.raw||j.trim().length==0||R=="s"||(j==="TRUE"?O={t:"b",v:!0}:j==="FALSE"?O={t:"b",v:!1}:isNaN(jo(j))?isNaN(Fm(j).getDate())||(O={t:"d",v:Yn(j)},n.cellDates||(O={t:"n",v:us(O.v)}),O.z=n.dateNF||Bt[14]):O={t:"n",v:jo(j)})),O.z===void 0&&E!=null&&(O.z=E);var T="",U=k.getElementsByTagName("A");if(U&&U.length)for(var z=0;z<U.length&&!(U[z].hasAttribute("href")&&(T=U[z].getAttribute("href"),T.charAt(0)!="#"));++z);T&&T.charAt(0)!="#"&&(O.l={Target:T}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][w+s]=O):e[It({c:w+s,r:p+a})]=O,u.e.c<w+s&&(u.e.c=w+s),w+=b}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=Zt(u),p>=c&&(e["!fullref"]=Zt((u.e.r=l.length-g+p-1+a,u))),e}function NG(e,t){var r=t||{},n=r.dense?[]:{};return kG(n,e,t)}function x2e(e,t){return Ju(NG(e,t),t)}function DF(e){var t="",r=y2e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function y2e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function w2e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=rr(t.replace(/<[^>]*>/g,""));return[r]}var RF={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function EG(e,t){var r=t||{},n=zO(e),a=[],s,i,l={name:""},c="",u=0,d,f,h={},m=[],g=r.dense?[]:{},p,v,w={value:""},x="",b=0,_=[],S=-1,k=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,N={},O=[],R={},T=0,U=0,z=[],q=1,I=1,L=[],M={Names:[]},D={},K=["",""],Z=[],C={},Y="",B=0,G=!1,re=!1,se=0;for(rv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=rv.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?g["!ref"]=Zt(j):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(g["!fullref"]=g["!ref"],j.e.r=r.sheetRows-1,g["!ref"]=Zt(j)),O.length&&(g["!merges"]=O),z.length&&(g["!rows"]=z),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=g,re=!1):p[0].charAt(p[0].length-2)!=="/"&&(d=Tt(p[0],!1),S=k=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,g=r.dense?[]:{},O=[],z=[],re=!0);break;case"table-row-group":p[1]==="/"?--E:++E;break;case"table-row":case"":if(p[1]==="/"){S+=q,q=1;break}if(f=Tt(p[0],!1),f.?S=f.-1:S==-1&&(S=0),q=+f["number-rows-repeated"]||1,q<10)for(se=0;se<q;++se)E>0&&(z[S+se]={level:E});k=-1;break;case"covered-table-cell":p[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(g[S]||(g[S]=[]),g[S][k]={t:"z"}):g[It({r:S,c:k})]={t:"z"}),x="",_=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++k,w=Tt(p[0],!1),I=parseInt(w["number-columns-repeated"]||"1",10),v={t:"z",v:null},w.formula&&r.cellFormula!=!1&&(v.f=CF(rr(w.formula))),(w.||w["value-type"])=="string"&&(v.t="s",v.v=rr(w["string-value"]||""),r.dense?(g[S]||(g[S]=[]),g[S][k]=v):g[It({r:S,c:k})]=v),k+=I-1;else if(p[1]!=="/"){++k,x="",b=0,_=[],I=1;var ce=q?S+q-1:S;if(k>j.e.c&&(j.e.c=k),k<j.s.c&&(j.s.c=k),S<j.s.r&&(j.s.r=S),ce>j.e.r&&(j.e.r=ce),w=Tt(p[0],!1),Z=[],C={},v={t:w.||w["value-type"],v:null},r.cellFormula)if(w.formula&&(w.formula=rr(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(T=parseInt(w["number-matrix-rows-spanned"],10)||0,U=parseInt(w["number-matrix-columns-spanned"],10)||0,R={s:{r:S,c:k},e:{r:S+T-1,c:k+U-1}},v.F=Zt(R),L.push([R,v.F])),w.formula)v.f=CF(w.formula);else for(se=0;se<L.length;++se)S>=L[se][0].s.r&&S<=L[se][0].e.r&&k>=L[se][0].s.c&&k<=L[se][0].e.c&&(v.F=L[se][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(T=parseInt(w["number-rows-spanned"],10)||0,U=parseInt(w["number-columns-spanned"],10)||0,R={s:{r:S,c:k},e:{r:S+T-1,c:k+U-1}},O.push(R)),w["number-columns-repeated"]&&(I=parseInt(w["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Br(w["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(w.value);break;case"percentage":v.t="n",v.v=parseFloat(w.value);break;case"currency":v.t="n",v.v=parseFloat(w.value);break;case"date":v.t="d",v.v=Yn(w["date-value"]),r.cellDates||(v.t="n",v.v=us(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Dye(w["time-value"])/86400,r.cellDates&&(v.t="d",v.v=rS(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(w.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",w["string-value"]!=null&&(x=rr(w["string-value"]),_=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(G=!1,v.t==="s"&&(v.v=x||"",_.length&&(v.R=_),G=b==0),D.Target&&(v.l=D),Z.length>0&&(v.c=Z,Z=[]),x&&r.cellText!==!1&&(v.w=x),G&&(v.t="z",delete v.v),(!G||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var ae=0;ae<q;++ae){if(I=parseInt(w["number-columns-repeated"]||"1",10),r.dense)for(g[S+ae]||(g[S+ae]=[]),g[S+ae][k]=ae==0?v:da(v);--I>0;)g[S+ae][k+I]=da(v);else for(g[It({r:S+ae,c:k})]=v;--I>0;)g[It({r:S+ae,c:k+I})]=da(v);j.e.c<=k&&(j.e.c=k)}I=parseInt(w["number-columns-repeated"]||"1",10),k+=I-1,I=0,v={},x="",_=[]}D={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s;C.t=x,_.length&&(C.R=_),C.a=Y,Z.push(C)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);Y="",B=0,x="",b=0,_=[];break;case"creator":p[1]==="/"?Y=n.slice(B,p.index):B=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);x="",b=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(N[l.name]=c,(s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(c="",l=Tt(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Tt(p[0],!1),c+=RF[p[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Tt(p[0],!1),c+=RF[p[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,p.index);break}else u=p.index+p[0].length;break;case"named-range":i=Tt(p[0],!1),K=Ok(i["cell-range-address"]);var J={Name:i.name,Ref:K[0]+"!"+K[1]};re&&(J.Sheet=m.length),M.Names.push(J);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!w||!w["string-value"])){var me=w2e(n.slice(b,p.index));x=(x.length>0?x+`
`:"")+me[0]}else Tt(p[0],!1),b=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{K=Ok(Tt(p[0])["target-range-address"]),h[K[0]]["!autofilter"]={ref:K[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(D=Tt(p[0],!1),!D.href)break;D.Target=rr(D.href),delete D.href,D.Target.charAt(0)=="#"&&D.Target.indexOf(".")>-1?(K=Ok(D.Target.slice(1)),D.Target="#"+K[0]+"!"+K[1]):D.Target.match(/^\.\.[\\\/]/)&&(D.Target=D.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var A={Sheets:h,SheetNames:m,Workbook:M};return r.bookSheets&&delete A.Sheets,A}function IF(e,t){t=t||{},ji(e,"META-INF/manifest.xml")&&Mwe(yn(e,"META-INF/manifest.xml"),t);var r=ri(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=EG(Tr(r),t);return ji(e,"meta.xml")&&(n.Props=Bq(yn(e,"meta.xml"))),n}function MF(e,t){return EG(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function nP(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function bE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Tr(Rf(e))}function _E(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function FF(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function b2e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function iv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function $n(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Da(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=iv(e,r),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=iv(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function aP(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function _2e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=iv(e,n),s=Da(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:$n(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Da(l.data),u=$n(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=$n(s[3][0].data)>>>0>0),r.push(i)}return r}function S2e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=iv(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[_E(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=_E(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function j2e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(S2e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return _E(t)}function k2e(e,t,r,n){var a=nP(e),s=a.getUint32(4,!0),i=(n>1?12:8)+FF(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(i,!0),i+=4),i+=FF(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function N2e(e,t,r){var n=nP(e),a=n.getUint32(8,!0),s=12,i=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=b2e(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function E2e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return k2e(e,t,r,e[0]);case 5:return N2e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function _u(e){var t=Da(e);return iv(t[1][0].data)}function LF(e,t){var r=Da(t.data),n=$n(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var l=Da(i.data),c=$n(l[1][0].data)>>>0;switch(n){case 1:s[c]=bE(l[3][0].data);break;case 8:{var u=e[_u(l[9][0].data)][0],d=Da(u.data),f=e[_u(d[1][0].data)][0],h=$n(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Da(f.data);s[c]=m[3].map(function(g){return bE(g.data)}).join("")}break}}),s}function C2e(e,t){var r,n,a,s,i,l,c,u,d,f,h,m,g,p,v=Da(e),w=$n(v[1][0].data)>>>0,x=$n(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&$n(v[8][0].data)>0||!1,_,S;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(l=(i=v[7])==null?void 0:i[0])==null?void 0:l.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,S=(p=(g=v[3])==null?void 0:g[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=b?4:1,j=nP(_),E=[],N=0;N<_.length/2;++N){var O=j.getUint16(N*2,!0);O<65535&&E.push([N,O])}if(E.length!=x)throw"Expected ".concat(x," cells, found ").concat(E.length);var R=[];for(N=0;N<E.length-1;++N)R[E[N][0]]=S.subarray(E[N][1]*k,E[N+1][1]*k);return E.length>=1&&(R[E[E.length-1][0]]=S.subarray(E[E.length-1][1]*k)),{R:w,cells:R}}function T2e(e,t){var r,n=Da(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?$n(n[7][0].data)>>>0>0?1:0:-1,s=aP(n[5],function(i){return C2e(i,a)});return{nrows:$n(n[4][0].data)>>>0,data:s.reduce(function(i,l){return i[l.R]||(i[l.R]=[]),l.cells.forEach(function(c,u){if(i[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));i[l.R][u]=c}),i},[])}}function A2e(e,t,r){var n,a=Da(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=($n(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=($n(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Zt(s);var i=Da(a[4][0].data),l=LF(e,e[_u(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?LF(e,e[_u(i[17][0].data)][0]):[],u=Da(i[3][0].data),d=0;u[1].forEach(function(f){var h=Da(f.data),m=e[_u(h[2][0].data)][0],g=$n(m.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var p=T2e(e,m);p.data.forEach(function(v,w){v.forEach(function(x,b){var _=It({r:d+w,c:b}),S=E2e(x,l,c);S&&(r[_]=S)})}),d+=p.nrows})}function O2e(e,t){var r=Da(t.data),n={"!ref":"A1"},a=e[_u(r[2][0].data)],s=$n(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return A2e(e,a[0],n),n}function P2e(e,t){var r,n=Da(t.data),a={name:(r=n[1])!=null&&r[0]?bE(n[1][0].data):"",sheets:[]},s=aP(n[2],_u);return s.forEach(function(i){e[i].forEach(function(l){var c=$n(l.meta[1][0].data);c==6e3&&a.sheets.push(O2e(e,l))})}),a}function D2e(e,t){var r=oP(),n=Da(t.data),a=aP(n[1],_u);if(a.forEach(function(s){e[s].forEach(function(i){var l=$n(i.meta[1][0].data);if(l==2){var c=P2e(e,i);c.sheets.forEach(function(u,d){lP(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Dk(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=j2e(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=_2e(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&$n(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||i.forEach(function(c){s[c].forEach(function(u){var d=$n(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return D2e(s,l)}function R2e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function sP(e){R2e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function I2e(e){return Dh.WS.indexOf(e)>-1?"sheet":e==Dh.CS?"chart":e==Dh.DS?"dialog":e==Dh.MS?"macro":e&&e.length?e:"sheet"}function M2e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,I2e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function F2e(e,t,r,n,a,s,i,l,c,u,d,f){try{s[n]=lg(ri(e,r,!0),t);var h=yn(e,t),m;switch(l){case"sheet":m=Wke(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=zke(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var g=F0(m["!drawel"].Target,t),p=gE(g),v=V_e(ri(e,g,!0),lg(ri(e,p,!0),g)),w=F0(v,g),x=gE(w);m=Nke(ri(e,w,!0),w,c,lg(ri(e,x,!0),w),u,m);break;case"macro":m=Hke(h,t,a,c,s[n],u,d,f);break;case"dialog":m=qke(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}i[n]=m;var b=[];s&&s[n]&&vl(s[n]).forEach(function(_){var S="";if(s[n][_].Type==Dh.CMNT){S=F0(s[n][_].Target,t);var k=Xke(yn(e,S,!0),S,c);if(!k||!k.length)return;SF(m,k,!1)}s[n][_].Type==Dh.TCMNT&&(S=F0(s[n][_].Target,t),b=b.concat(z_e(yn(e,S,!0),c)))}),b&&b.length&&SF(m,b,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function yi(e){return e.charAt(0)=="/"?e.slice(1):e}function L2e(e,t){if(dq(),t=t||{},sP(t),ji(e,"META-INF/manifest.xml")||ji(e,"objectdata.xml"))return IF(e,t);if(ji(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Dk<"u"){if(e.FileIndex)return Dk(e);var r=Qt.utils.cfb_new();return XM(e).forEach(function(z){$ye(r,z,Lye(e,z))}),Dk(r)}throw new Error("Unsupported NUMBERS file")}if(!ji(e,"[Content_Types].xml"))throw ji(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ji(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=XM(e),a=Rwe(ri(e,"[Content_Types].xml")),s=!1,i,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",yn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!yn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(dg=[],a.sst)try{dg=Yke(yn(e,yi(a.sst)),a.sst,t)}catch(z){if(t.WTF)throw z}t.cellStyles&&a.themes.length&&(c=Kke(ri(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Gke(yn(e,yi(a.style)),a.style,c,t))}a.links.map(function(z){try{var q=lg(ri(e,gE(yi(z))),z);return Qke(yn(e,yi(z)),q,z,t)}catch{}});var d=Vke(yn(e,yi(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=yn(e,yi(a.coreprops[0]),!0),h&&(f=Bq(h)),a.extprops.length!==0&&(h=yn(e,yi(a.extprops[0]),!0),h&&$we(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ri(e,yi(a.custprops[0]),!0),h&&(m=Uwe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(q){return q.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=m),t.bookSheets&&typeof i<"u"&&(g.SheetNames=i),t.bookSheets?g.SheetNames:t.bookProps))return g;i={};var p={};t.bookDeps&&a.calcchain&&(p=Jke(yn(e,yi(a.calcchain)),a.calcchain));var v=0,w={},x,b;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var S=0;S!=_.length;++S)f.SheetNames[S]=_[S].name}var k=s?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),E=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");ji(e,E)||(E="xl/_rels/workbook."+k+".rels");var N=lg(ri(e,E,!0),E.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Zke(yn(e,yi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=H_e(yn(e,yi(a.people[0])),t)),N&&(N=M2e(N,d.Sheets));var O=yn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var R="sheet";if(N&&N[v]?(x="xl/"+N[v][1].replace(/[\/]?xl\//,""),ji(e,x)||(x=N[v][1]),ji(e,x)||(x=E.replace(/_rels\/.*$/,"")+N[v][1]),R=N[v][2]):(x="xl/worksheets/sheet"+(v+1-O)+"."+k,x=x.replace(/sheet0\./,"sheet.")),b=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,U=0;U!=t.sheets.length;++U)typeof t.sheets[U]=="number"&&t.sheets[U]==v&&(T=1),typeof t.sheets[U]=="string"&&t.sheets[U].toLowerCase()==f.SheetNames[v].toLowerCase()&&(T=1);if(!T)continue e}}F2e(e,x,b,f.SheetNames[v],v,w,i,R,t,d,c,u)}return g={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:p,Sheets:i,SheetNames:f.SheetNames,Strings:dg,Styles:u,Themes:c,SSF:da(Bt)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(z,q){z=z.replace(/^Root Entry[\/]/,""),g.keys.push(z),g.files[z]=e.FileIndex[q]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=yn(e,yi(a.vba[0]),!0):a.defaults&&a.defaults.bin===Y_e&&(g.vbaraw=yn(e,"xl/vbaProject.bin",!0))),g}function $2e(e,t){var r=t||{},n="Workbook",a=Qt.find(e,n);try{if(n="/!DataSpaces/Version",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Obe(a.content),n="/!DataSpaces/DataSpaceMap",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Dbe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Rbe(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Mbe(a.content)}catch{}if(n="/EncryptionInfo",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Fbe(a.content);if(n="/EncryptedPackage",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function iP(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=hi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function B2e(e,t){return Qt.find(e,"EncryptedPackage")?$2e(e,t):jG(e,t)}function U2e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Xt&&Buffer.isBuffer(e)?"buffer":"base64"),r=vq(n,a),L2e(r,a)}function CG(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return yE(e.slice(r),t);default:break e}return nv.to_workbook(e,t)}function V2e(e,t){var r="",n=iP(e,t);switch(t.type){case"base64":r=hi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=vf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Tr(r)),t.type="binary",CG(r,t)}function W2e(e,t){var r=e;return t.type=="base64"&&(r=hi(r)),r=Hc.utils.decode(1200,r.slice(2),"str"),t.type="binary",CG(r,t)}function z2e(e){return e.match(/[^\x00-\x7F]/)?L0(e):e}function Rk(e,t,r,n){return n?(r.type="string",nv.to_workbook(e,r)):nv.to_workbook(t,r)}function SE(e,t){ZH();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return SE(new Uint8Array(e),(r=da(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),tm={},r.dateNF&&(tm.dateNF=r.dateNF),r.type||(r.type=Xt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Xt?"buffer":"binary",n=Oye(e),typeof Uint8Array<"u"&&!Xt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=z2e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),l=new Uint8Array(i);if(l.foo="bar",!l.foo)return r=da(r),r.type="array",SE(LO(n),r)}switch((a=iP(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return B2e(Qt.read(n,r),r);break;case 9:if(a[1]<=8)return jG(n,r);break;case 60:return yE(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return xbe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return gbe.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?U2e(n,r):Rk(e,n,r,s);case 239:return a[3]===60?yE(n,r):Rk(e,n,r,s);case 255:if(a[1]===254)return W2e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return ug.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return ug.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return _F.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Ybe.to_workbook(n,r);break;case 10:case 13:case 32:return V2e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return mbe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?_F.to_workbook(n,r):Rk(e,n,r,s)}function H2e(e,t,r,n,a,s,i,l){var c=fa(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=i?e[r][m]:e[n[m]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&p===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:cc(g,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function jE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=an(d);break;case"number":c=an(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=fa(c.s.r),h=[],m=[],g=0,p=0,v=Array.isArray(e),w=c.s.r,x=0,b={};v&&!e[w]&&(e[w]=[]);var _=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(x=c.s.c;x<=c.e.c;++x)if(!(_[x]||{}).hidden)switch(h[x]=Fn(x),r=v?e[w][x]:e[h[x]+f],n){case 1:s[x]=x-c.s.c;break;case 2:s[x]=h[x];break;case 3:s[x]=u.header[x-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=cc(r,null,u),p=b[i]||0,!p)b[i]=1;else{do l=i+"_"+p++;while(b[l]);b[i]=p,b[l]=1}s[x]=l}for(w=c.s.r+a;w<=c.e.r;++w)if(!(S[w]||{}).hidden){var k=H2e(e,c,w,h,n,s,v,u);(k.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=k.row)}return m.length=g,m}var $F=/"/g;function q2e(e,t,r,n,a,s,i,l){for(var c=!0,u=[],d="",f=fa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:cc(m,null,l));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===a||p===s||p===34||l.forceQuotes){d='"'+d.replace($F,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace($F,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(i)}function TG(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=an(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Fn(g));for(var p=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=q2e(e,a,v,f,i,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function G2e(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=TG(e,t);return r}function K2e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=an(e["!ref"]),s="",i=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)i[l]=Fn(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=fa(d),l=a.s.c;l<=a.e.c;++l)if(t=i[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function AG(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ns(n.origin):n.origin;i=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:i+t.length-1+a}};if(s["!ref"]){var f=an(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,v){vl(p).forEach(function(w){(m=h.indexOf(w))==-1&&(h[m=h.length]=w);var x=p[w],b="z",_="",S=It({c:l+m,r:i+v+a});u=ov(s,S),x&&typeof x=="object"&&!(x instanceof Date)?s[S]=x:(typeof x=="number"?b="n":typeof x=="boolean"?b="b":typeof x=="string"?b="s":x instanceof Date?(b="d",n.cellDates||(b="n",x=us(x)),_=n.dateNF||Bt[14]):x===null&&n.nullError&&(b="e",x=0),u?(u.t=b,u.v=x,delete u.w,delete u.R,_&&(u.z=_)):s[S]=u={t:b,v:x},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=fa(i);if(a)for(m=0;m<h.length;++m)s[Fn(m+l)+g]={t:"s",v:h[m]};return s["!ref"]=Zt(d),s}function Y2e(e,t){return AG(null,e,t)}function ov(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ns(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ov(e,It(t)):ov(e,It({r:t,c:r||0}))}function X2e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function oP(){return{SheetNames:[],Sheets:{}}}function lP(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(Rke(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function J2e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=X2e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Q2e(e,t){return e.z=t,e}function OG(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Z2e(e,t,r){return OG(e,"#"+t,r)}function eNe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function tNe(e,t,r,n){for(var a=typeof t!="string"?t:an(t),s=typeof t=="string"?t:Zt(t),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var c=ov(e,i,l);c.t="n",c.F=s,delete c.v,i==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var rNe={encode_col:Fn,encode_row:fa,encode_cell:It,encode_range:Zt,decode_col:GO,decode_row:qO,split_cell:hwe,decode_cell:ns,decode_range:Ip,format_cell:cc,sheet_add_aoa:Iq,sheet_add_json:AG,sheet_add_dom:kG,aoa_to_sheet:Mp,json_to_sheet:Y2e,table_to_sheet:NG,table_to_book:x2e,sheet_to_csv:TG,sheet_to_txt:G2e,sheet_to_json:jE,sheet_to_html:v2e,sheet_to_formulae:K2e,sheet_to_row_object_array:jE,sheet_get_cell:ov,book_new:oP,book_append_sheet:lP,book_set_sheet_visibility:J2e,cell_set_number_format:Q2e,cell_set_hyperlink:OG,cell_set_internal_link:Z2e,cell_add_comment:eNe,sheet_set_array_formula:tNe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function nNe({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var O,R;const{t:a}=zt(),{user:s}=yr(),{toast:i}=Xu(),[l,c]=y.useState("template"),[u,d]=y.useState(null),[f,h]=y.useState([]),[m,g]=y.useState({}),[p,v]=y.useState([]),[w,x]=y.useState(!1),[b,_]=y.useState(0),S=async T=>{var z;const U=(z=T.target.files)==null?void 0:z[0];if(U)try{const q=await U.arrayBuffer(),I=SE(q,{type:"array"}),L=I.Sheets[I.SheetNames[0]],M=rNe.sheet_to_json(L);if(M.length===0){i({title:"Error",description:"File is empty",variant:"destructive"});return}h(M),k(M),c("preview")}catch(q){console.error("Error parsing file:",q),i({title:"Error",description:"Failed to parse file",variant:"destructive"})}},k=T=>{if(!u)return;const U=t[u.template_id]||[],z=Object.keys(T[0]||{}),q=[],I={};for(const L of U){const M=L.field_label||"",D=z.find(K=>K.toLowerCase().trim()===M.toLowerCase().trim());D?I[M]=D:L.is_required&&q.push(`Required field not found: "${M}"`)}g(I),v(q)},j=()=>f.slice(0,5),E=async()=>{if(!u||!s)return;const T=t[u.template_id]||[],U=[];for(const z of T)z.is_required&&!m[z.field_label||""]&&U.push(`Required field not mapped: "${z.field_label}"`);if(U.length>0){v(U);return}c("importing"),x(!0);try{const z=f.length,q=[];for(let L=0;L<f.length;L++){const M=f[L],D={};for(const Z of T){const C=Z.field_label||"",Y=m[C];Y&&M[Y]!==void 0&&M[Y]!==null&&M[Y]!==""&&(D[C]=M[Y])}const K={template_id:u.template_id,survey_name:M.survey_name||M["Survey Name"]||`Bulk Import ${L+1}`,survey_description:M.survey_description||M["Survey Description"]||null,client_name:M.client_name||M["Client Name"]||`Client ${L+1}`,client_name_ar:M.client_name_ar||M["Client Name AR"]||null,client_contact:M.client_contact||M["Client Contact"]||null,client_email:M.client_email||M["Client Email"]||null,client_address:M.client_address||M["Client Address"]||null,client_company:M.client_company||M["Client Company"]||null,client_company_ar:M.client_company_ar||M["Client Company AR"]||null,survey_responses:D,location_latitude:parseFloat(M.location_latitude||M.Latitude||"0"),location_longitude:parseFloat(M.location_longitude||M.Longitude||"0"),location_accuracy:M.location_accuracy?parseFloat(M.location_accuracy):null,location_address:M.location_address||M["Location Address"]||null,created_by:s.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:M.notes||null,notes_ar:M.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};q.push(K),_(Math.round((L+1)/z*50))}_(50);const I=await Ph.createBatch(q);_(100),i({title:"Success",description:`Imported ${I.length} surveys successfully`}),r(I),N()}catch(z){console.error("Error importing surveys:",z),i({title:"Error",description:z.message||"Import failed",variant:"destructive"}),c("preview")}finally{x(!1)}},N=()=>{c("template"),d(null),h([]),g({}),v([]),_(0),n()};return o.jsxs(o.Fragment,{children:[o.jsxs(fn,{children:[o.jsx(hn,{children:a("surveys.bulkImport")}),o.jsxs(La,{children:[l==="template"&&"Select a template for import",l==="upload"&&"Upload your Excel or CSV file",l==="preview"&&"Review data before importing",l==="importing"&&"Importing data..."]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[l==="template"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ge,{className:"text-base font-medium",children:"Select Template"}),o.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(T=>T.is_active).map(T=>o.jsx(mt,{className:`cursor-pointer transition-all ${(u==null?void 0:u.template_id)===T.template_id?"ring-2 ring-primary":"hover:shadow-md"}`,onClick:()=>d(T),children:o.jsxs(wt,{className:"p-4",children:[o.jsx("h4",{className:"font-medium text-sm",children:T.template_name}),T.template_description&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.template_description}),T.category&&o.jsx(ct,{variant:"outline",className:"mt-2 text-xs",children:T.category})]})},T.template_id))})]}),l==="upload"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(y_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[o.jsx("p",{className:"font-medium mb-1",children:"Import Instructions"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[o.jsx("li",{children:"Column headers must match field names exactly"}),o.jsx("li",{children:"All required fields must have values"}),o.jsx("li",{children:"Supported formats: Excel (.xlsx, .xls) and CSV"})]})]})]})}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[o.jsx(Kg,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),o.jsx(Ge,{className:"block text-sm font-medium mb-2",children:"Drag and drop your file here"}),o.jsx(ze,{type:"file",accept:".xlsx,.xls,.csv",onChange:S,className:"hidden",id:"file-upload"}),o.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:o.jsx(oe,{variant:"outline",asChild:!0,children:o.jsx("span",{children:"Select File"})})})]})]}),l==="preview"&&o.jsxs("div",{className:"space-y-4",children:[p.length>0&&o.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(zN,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[o.jsx("p",{className:"font-medium mb-2",children:"Validation Errors"}),o.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:p.map((T,U)=>o.jsx("li",{children:T},U))})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Column Mapping"}),o.jsxs(ct,{variant:"secondary",children:[Object.keys(m).length," / ",((O=t[(u==null?void 0:u.template_id)||0])==null?void 0:O.length)||0]})]}),o.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:(R=t[(u==null?void 0:u.template_id)||0])==null?void 0:R.map(T=>o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:T.field_label}),T.is_required&&o.jsx(ct,{variant:"destructive",className:"text-xs mt-1",children:"Required"})]}),m[T.field_label||""]?o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[o.jsx(su,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs font-medium",children:m[T.field_label||""]})]}):o.jsx("div",{className:"text-xs text-muted-foreground",children:T.is_required?o.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"Not Mapped"}):o.jsx("span",{children:"Optional"})})]},T.field_id))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Preview (First 5 Rows)"}),o.jsx("div",{className:"border rounded-lg overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted border-b",children:o.jsx("tr",{children:Object.keys(j()[0]||{}).map(T=>o.jsx("th",{className:"px-3 py-2 text-left font-medium text-xs",children:T},T))})}),o.jsx("tbody",{children:j().map((T,U)=>o.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.values(T).map((z,q)=>o.jsx("td",{className:"px-3 py-2 text-xs",children:String(z).substring(0,50)},q))},U))})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing first ",Math.min(5,f.length)," of ",f.length," rows"]})]})]}),l==="importing"&&o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(V9,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),o.jsx("p",{className:"font-medium mb-2",children:"Importing Data"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Processing rows: ",b,"%"]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]})})})]}),o.jsxs(Fa,{children:[o.jsx(oe,{variant:"outline",onClick:N,disabled:w,children:"Cancel"}),l==="template"&&o.jsx(oe,{onClick:()=>c("upload"),disabled:!u,children:"Next"}),l==="upload"&&o.jsx(oe,{onClick:()=>c("template"),variant:"outline",children:"Back"}),l==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(oe,{onClick:()=>c("upload"),variant:"outline",children:"Back"}),o.jsx(oe,{onClick:E,disabled:p.length>0||w,children:"Start Import"})]})]})]})}function aNe(){var Ki;const{t:e}=zt(),{user:t}=yr(),{isRTL:r}=Vi(),{toast:n}=Xu(),[a,s]=y.useState([]),[i,l]=y.useState([]),[c,u]=y.useState({}),[d,f]=y.useState(!0),[h,m]=y.useState(""),[g,p]=y.useState(null),[v,w]=y.useState(null),[x,b]=y.useState([]);y.useState(!1);const[_,S]=y.useState(!1),[k,j]=y.useState(null),[E,N]=y.useState({}),[O,R]=y.useState({}),[T,U]=y.useState([]),[z,q]=y.useState(!1),[I,L]=y.useState(null),[M,D]=y.useState(null),[K,Z]=y.useState(null),[C,Y]=y.useState("card"),[B,G]=y.useState("card"),[re,se]=y.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),[ce,ae]=y.useState([]);y.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[J,me]=y.useState({}),[A,Le]=y.useState(!1),[Ie,Ve]=y.useState(!1),[We,Pe]=y.useState(new Set);y.useState(!1),y.useEffect(()=>{ft()},[]);const ft=async()=>{try{f(!0);const[ie,je,Ee]=await Promise.all([Ph.getAll().catch(Ht=>(console.error("[Surveys] Error fetching surveys:",Ht),[])),xi.getAll().catch(Ht=>(console.error("[Surveys] Error fetching templates:",Ht),[])),ls.getAll().catch(Ht=>(console.error("[Surveys] Error fetching users:",Ht),[]))]),Me=je.map(async Ht=>{try{const _r=await xi.getFields(Ht.template_id);return{templateId:Ht.template_id,fields:_r}}catch(_r){return console.error(`[Surveys] Error fetching fields for template ${Ht.template_id}:`,_r),{templateId:Ht.template_id,fields:[]}}}),St=await Promise.all(Me),rt={};St.forEach(Ht=>{rt[Ht.templateId]=Ht.fields}),s(ie),l(je),U(Ee),u(rt)}catch(ie){console.error("Failed to load surveys data:",ie)}finally{f(!1)}},_t=a.filter(ie=>{var je,Ee;return ie.client_name.toLowerCase().includes(h.toLowerCase())||((je=ie.client_company)==null?void 0:je.toLowerCase().includes(h.toLowerCase()))||((Ee=ie.survey_name)==null?void 0:Ee.toLowerCase().includes(h.toLowerCase()))}),ne=i.filter(ie=>{var je;return ke(ie,"template_name").toLowerCase().includes(h.toLowerCase())||((je=ie.category)==null?void 0:je.toLowerCase().includes(h.toLowerCase()))}),he=ie=>{if(!ie)return e("surveys.unknownCreator");const je=T.find(Ee=>Ee.auth_user_id===ie);return je?ke(je,"user_name"):e("surveys.unknownCreator")},F=ie=>{switch(ie.toLowerCase()){case"completed":return o.jsxs(ct,{variant:"default",className:"bg-green-500",children:[o.jsx(su,{className:"h-3 w-3 mr-1"}),e("surveys.completed")]});case"in_progress":return o.jsxs(ct,{variant:"secondary",children:[o.jsx(Nd,{className:"h-3 w-3 mr-1"}),e("surveys.inProgress")]});case"pending":return o.jsxs(ct,{variant:"outline",children:[o.jsx(Nd,{className:"h-3 w-3 mr-1"}),e("surveys.pending")]});default:return o.jsx(ct,{variant:"outline",children:ie})}},le=ie=>{s([...ie,...a])},ve=async ie=>{if(w(ie),c[ie.template_id])b(c[ie.template_id]);else try{const je=await xi.getFields(ie.template_id);u(Ee=>({...Ee,[ie.template_id]:je})),b(je)}catch(je){console.error("Failed to load template fields:",je),b([])}},ye=()=>{const ie={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};ae(je=>[...je,ie])},$e=ie=>{ae(je=>je.filter((Ee,Me)=>Me!==ie))},xe=(ie,je)=>{ae(Ee=>Ee.map((Me,St)=>St===ie?{...Me,...je}:Me))},be=(ie,je)=>{ae(Ee=>{const Me=[...Ee],[St]=Me.splice(ie,1);return Me.splice(je,0,St),Me})},ue=()=>{se({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),ae([]),L(null)},Ae=async ie=>{se({template_name:ie.template_name||"",template_name_ar:ie.template_name_ar||"",template_description:ie.template_description||"",template_description_ar:ie.template_description_ar||"",category:ie.category||"",is_active:ie.is_active,is_default:ie.is_default||!1});const Ee=(c[ie.template_id]||[]).map(Me=>({field_type:Me.field_type,field_label:Me.field_label||"",field_label_ar:Me.field_label_ar||"",help_text:Me.help_text||"",help_text_ar:Me.help_text_ar||"",is_required:Me.is_required||!1,field_options:Me.field_options,validation_rules:Me.validation_rules,default_value:Me.default_value,conditional_logic:Me.conditional_logic,image_path:Me.image_path}));ae(Ee),L(ie.template_id),q(!0)},Fe=()=>{const ie={};return re.template_name.trim()||(ie.template_name=e("surveys.templateNameRequired")),ce.length===0?ie.fields=e("surveys.atLeastOneFieldRequired"):ce.forEach((je,Ee)=>{je.field_label.trim()||(ie[`field_${Ee}`]=e("surveys.fieldLabelRequired",{number:Ee+1}))}),me(ie),Object.keys(ie).length===0},Re=async()=>{if(!Fe()){n({title:e("common.error"),description:e("surveys.templateValidationFailed"),variant:"destructive"});return}Le(!0);try{if(I){await xi.update(I,re);const ie=c[I]||[];for(const je of ie)je.field_id&&await xi.deleteField(je.field_id);for(let je=0;je<ce.length;je++){const Ee=ce[je];await xi.createField({template_id:I,field_order:je+1,field_type:Ee.field_type,field_label:Ee.field_label,field_label_ar:Ee.field_label_ar||"",help_text:Ee.help_text||null,help_text_ar:Ee.help_text_ar||null,is_required:Ee.is_required,field_options:Ee.field_options,validation_rules:Ee.validation_rules,default_value:Ee.default_value||null,conditional_logic:Ee.conditional_logic,image_path:Ee.image_path||null})}n({title:e("common.success"),description:e("surveys.templateUpdated")})}else{const ie={...re,created_by:t==null?void 0:t.id},je=await xi.create(ie);for(let Ee=0;Ee<ce.length;Ee++){const Me=ce[Ee];await xi.createField({template_id:je.template_id,field_order:Ee+1,field_type:Me.field_type,field_label:Me.field_label,field_label_ar:Me.field_label_ar||"",help_text:Me.help_text||null,help_text_ar:Me.help_text_ar||null,is_required:Me.is_required,field_options:Me.field_options,validation_rules:Me.validation_rules,default_value:Me.default_value||null,conditional_logic:Me.conditional_logic,image_path:Me.image_path||null})}n({title:e("common.success"),description:e("surveys.templateCreated")})}ue(),q(!1),ft()}catch(ie){console.error("Failed to save template:",ie),n({title:e("common.error"),description:e("surveys.templateSaveError",{action:e(I?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{Le(!1)}},Ke=async ie=>{if(j(ie),!c[ie.template_id])try{const Me=await xi.getFields(ie.template_id);u(St=>({...St,[ie.template_id]:Me}))}catch(Me){console.error("Failed to load template fields:",Me)}const je={};(c[ie.template_id]||[]).forEach(Me=>{Me.default_value!==null&&Me.default_value!==void 0&&(je[Me.field_id.toString()]=Me.default_value)}),N(je)},kt=async ie=>{try{await xi.delete(ie),l(je=>je.filter(Ee=>Ee.template_id!==ie)),D(null),u(je=>{const Ee={...je};return delete Ee[ie],Ee})}catch(je){console.error("Failed to delete template:",je),alert("Failed to delete template. Please try again.")}},Jt=async ie=>{try{await Ph.delete(ie),s(je=>je.filter(Ee=>Ee.survey_id!==ie)),Z(null)}catch(je){console.error("Failed to delete survey:",je),alert("Failed to delete survey. Please try again.")}},Pr=async ie=>{try{const je=i.filter(Ee=>Ee.is_default&&Ee.template_id!==ie);for(const Ee of je)await xi.update(Ee.template_id,{is_default:!1});await xi.update(ie,{is_default:!0}),l(Ee=>Ee.map(Me=>({...Me,is_default:Me.template_id===ie}))),n({title:e("common.success"),description:e("surveys.templateSetAsDefault")})}catch(je){console.error("Failed to set default template:",je),n({title:e("common.error"),description:e("surveys.templateSetDefaultError"),variant:"destructive"})}},gn=()=>new Promise((ie,je)=>{if(!navigator.geolocation){je(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(Ee=>{ie({latitude:Ee.coords.latitude,longitude:Ee.coords.longitude,accuracy:Ee.coords.accuracy})},Ee=>{je(Ee)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),zr=async()=>{if(!(!k||!t))try{let ie={latitude:0,longitude:0,accuracy:0};try{ie=await gn()}catch(ee){console.warn("Could not get location:",ee)}const je=c[k.template_id]||[],Ee=new Map(je.map(ee=>[ee.field_id.toString(),ee.field_label])),Me={};for(const[ee,Q]of Object.entries(E)){const P=Ee.get(ee)||ee;Me[P]=Q}const St=Me["Customer Name"]||Me["Client Name"]||Me.client_name||Me.customer_name||"Anonymous",rt=Me["Customer Company"]||Me["Client Company"]||Me.Company||Me.company||Me.client_company||null,Ht=Me["Contact Number"]||Me["Contact Email"]||Me.Contact||Me.contact||Me.phone||null,_r=Me["Contact Email"]||Me.Email||Me.email||Me.client_email||null,Hr=Me.Address||Me.address||Me.client_address||null,ps=Me["Additional Notes"]||Me.Notes||Me.notes||null,Wa={},rd=Object.keys(O);for(const[ee,Q]of Object.entries(E))if(!rd.includes(ee)){const P=Ee.get(ee)||ee;Wa[P]=Q}const _c={template_id:k.template_id,survey_name:`${ke(k,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:ke(k,"template_description")||null,client_name:St,client_name_ar:null,client_contact:Ht,client_email:_r,client_address:Hr,client_company:rt,client_company_ar:null,survey_responses:Wa,location_latitude:ie.latitude,location_longitude:ie.longitude,location_accuracy:ie.accuracy,location_address:Hr,status:"collected",created_by:t.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:ps,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null};console.log("[Survey] Creating survey...");const H=await Ph.create(_c);if(console.log("[Survey] Survey created with ID:",H.survey_id),Object.keys(O).length>0){console.log("[Survey] Uploading images...",Object.keys(O));const ee={...Wa};for(const[V,X]of Object.entries(O))try{const de=X.name.split(".").pop(),Oe=`${V.replace(/[^a-zA-Z0-9]/g,"_")}_${Date.now()}.${de}`,we=`surveys/survey_${H.survey_id}/${Oe}`;console.log(`[Survey] Uploading image for field "${V}" to path: ${we}`);const{data:_e,error:Ne}=await pe.storage.from("survey-uploads").upload(we,X,{cacheControl:"3600",upsert:!0,contentType:X.type});if(Ne)throw console.error(`[Survey] Failed to upload image for field ${V}:`,Ne),Ne;console.log(`[Survey] Upload successful for field "${V}":`,_e);const{data:{publicUrl:Ue}}=pe.storage.from("survey-uploads").getPublicUrl(we);console.log(`[Survey] Public URL for field "${V}":`,Ue);const Je=Ee.get(V)||V;ee[Je]={bucket:"survey-uploads",path:we,url:Ue}}catch(de){throw console.error(`[Survey] Error processing image for field ${V}:`,de),de}console.log("[Survey] Updating survey with image references...");const{data:Q,error:P}=await pe.from("surveys").update({survey_responses:ee}).eq("survey_id",H.survey_id).select().single();if(P)throw console.error("[Survey] Failed to update survey with images:",P),P;console.log("[Survey] Survey updated successfully with images"),H.survey_responses=ee}s([H,...a]),j(null),N({}),R({}),S(!1),console.log("[Survey] Survey creation complete:",H)}catch(ie){console.error("[Survey] Failed to create survey:",ie),alert(`Failed to create survey: ${ie.message}`)}},Un=ie=>{const je=ie.field_id.toString(),Ee=E[je]||"";switch(ie.field_type.toLowerCase()){case"text":return o.jsx(ze,{id:je,value:Ee,onChange:St=>N(rt=>({...rt,[je]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required});case"textarea":return o.jsx(ua,{id:je,value:Ee,onChange:St=>N(rt=>({...rt,[je]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required,rows:3});case"number":return o.jsx(ze,{id:je,type:"number",value:Ee,onChange:St=>N(rt=>({...rt,[je]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required});case"email":return o.jsx(ze,{id:je,type:"email",value:Ee,onChange:St=>N(rt=>({...rt,[je]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required});case"date":return o.jsx(ze,{id:je,type:"date",value:Ee,onChange:St=>N(rt=>({...rt,[je]:St.target.value})),required:ie.is_required});case"select":if(ie.field_options&&typeof ie.field_options=="object"&&!Array.isArray(ie.field_options)&&"options"in ie.field_options&&Array.isArray(ie.field_options.options)){const St=ie.field_options.options.filter(rt=>typeof rt=="string");return o.jsxs(xt,{value:Ee,onValueChange:rt=>N(Ht=>({...Ht,[je]:rt})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:ke(ie,"help_text")||`${e("common.select")} ${ke(ie,"field_label")}`})}),o.jsx(vt,{children:St.map((rt,Ht)=>o.jsx(Ce,{value:rt,children:rt},Ht))})]})}return o.jsx(ze,{id:je,value:Ee,onChange:St=>N(rt=>({...rt,[je]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required});case"radio":if(ie.field_options&&typeof ie.field_options=="object"&&!Array.isArray(ie.field_options)&&"options"in ie.field_options&&Array.isArray(ie.field_options.options)){const St=ie.field_options.options.filter(rt=>typeof rt=="string");return o.jsx("div",{className:"space-y-2",children:St.map((rt,Ht)=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:je,value:rt,checked:Ee===rt,onChange:_r=>N(Hr=>({...Hr,[je]:_r.target.value}))}),o.jsx("span",{className:"text-sm",children:rt})]},Ht))})}return o.jsx(ze,{id:je,value:Ee,onChange:St=>N(rt=>({...rt,[je]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required});case"multiselect":case"checkbox":if(ie.field_options&&typeof ie.field_options=="object"&&!Array.isArray(ie.field_options)&&"options"in ie.field_options&&Array.isArray(ie.field_options.options)){const St=ie.field_options.options.filter(rt=>typeof rt=="string");return o.jsx("div",{className:"space-y-2",children:St.map((rt,Ht)=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:Array.isArray(Ee)?Ee.includes(rt):!1,onChange:_r=>{const Hr=Array.isArray(Ee)?Ee:[];_r.target.checked?N(ps=>({...ps,[je]:[...Hr,rt]})):N(ps=>({...ps,[je]:Hr.filter(Wa=>Wa!==rt)}))}}),o.jsx("span",{className:"text-sm",children:rt})]},Ht))})}return o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:!!Ee,onChange:St=>N(rt=>({...rt,[je]:St.target.checked}))}),o.jsx("span",{className:"text-sm",children:ke(ie,"field_label")})]});case"image":const Me=E[je];return o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{id:je,type:"file",accept:"image/*",onChange:St=>{var Ht;const rt=(Ht=St.target.files)==null?void 0:Ht[0];rt&&(R(_r=>({..._r,[je]:rt})),N(_r=>({..._r,[je]:{preview:URL.createObjectURL(rt),filename:rt.name}})))},required:ie.is_required}),(Me==null?void 0:Me.preview)&&o.jsxs("div",{className:"relative w-full",children:[o.jsx("img",{src:Me.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),o.jsx(oe,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{R(St=>{const rt={...St};return delete rt[je],rt}),N(St=>{const rt={...St};return delete rt[je],rt})},children:o.jsx(xr,{className:"h-4 w-4"})})]})]});default:return o.jsx(ze,{id:je,value:Ee,onChange:St=>N(rt=>({...rt,[je]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required})}},Cn=()=>{const ie=[{key:"survey",header:e("surveys.surveyName"),render:Me=>o.jsx(Iu,{title:Me.survey_name||`${e("surveys.survey")} #${Me.survey_id}`,subtitle:ke(Me,"client_name")})},{key:"status",header:e("surveys.status"),render:Me=>o.jsx(NO,{variant:"outline",children:F(Me.status)})},{key:"company",header:e("surveys.clientCompany"),hideOnMobile:!0,render:Me=>Me.client_company||e("surveys.noCompany")},{key:"creator",header:e("surveys.createdBy"),hideOnMobile:!0,render:Me=>o.jsx(Rm,{name:he(Me.created_by),fallback:e("surveys.unknownCreator")})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Me=>o.jsx(Ru,{date:Me.created_at,fallback:e("leads.notSet")})}],je=[{label:e("common.view"),icon:o.jsx(si,{className:"h-4 w-4"}),onClick:Me=>p(Me)},{label:e("buttons.delete"),icon:o.jsx(xr,{className:"h-4 w-4"}),onClick:Me=>Z(Me.survey_id),variant:"destructive",show:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"}],Ee=[{label:e("buttons.delete"),icon:o.jsx(xr,{className:"h-4 w-4"}),onClick:async Me=>{if(Me.length===0)return;if(window.confirm(e("surveys.confirmBulkDeleteDesc",{count:Me.length})))try{const rt=Me.map(Ht=>Ph.delete(Ht.survey_id));await Promise.all(rt),s(Ht=>Ht.filter(_r=>!Me.find(Hr=>Hr.survey_id===_r.survey_id))),Pe(new Set),n({title:e("common.success"),description:e("surveys.bulkDeleteSuccess",{count:Me.length})})}catch(rt){console.error("Failed to bulk delete surveys:",rt),n({title:e("common.error"),description:e("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}];return o.jsx(Du,{data:_t,columns:ie,actions:je,bulkActions:Ee,keyExtractor:Me=>Me.survey_id,onRowClick:Me=>p(Me),enableBulkSelect:(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager",emptyState:o.jsx(ll,{icon:o.jsx(bs,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noSurveysFound"),description:e(h?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},Jn=()=>{const ie=[{key:"template",header:e("surveys.templateName"),render:Ee=>o.jsx(Iu,{title:ke(Ee,"template_name"),subtitle:ke(Ee,"template_description")})},{key:"category",header:e("surveys.category"),render:Ee=>Ee.category||e("surveys.noCategory")},{key:"status",header:e("surveys.status"),render:Ee=>o.jsxs("div",{className:"flex items-center gap-2",children:[Ee.is_active?o.jsx(ct,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):o.jsx(ct,{variant:"secondary",children:e("surveys.inactive")}),Ee.is_default&&o.jsx(ct,{variant:"default",children:e("surveys.default")})]})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Ee=>o.jsx(Ru,{date:Ee.created_at,fallback:e("leads.notSet")})}],je=[{label:e("common.view"),icon:o.jsx(si,{className:"h-4 w-4"}),onClick:Ee=>ve(Ee)},{label:e("surveys.setAsDefault"),icon:o.jsx(su,{className:"h-4 w-4"}),onClick:Ee=>Pr(Ee.template_id),show:Ee=>((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&!Ee.is_default},{label:e("buttons.edit"),icon:o.jsx(VN,{className:"h-4 w-4"}),onClick:Ee=>Ae(Ee),show:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"},{label:e("buttons.delete"),icon:o.jsx(xr,{className:"h-4 w-4"}),onClick:Ee=>D(Ee.template_id),variant:"destructive",show:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"}];return o.jsx(Du,{data:ne,columns:ie,actions:je,keyExtractor:Ee=>Ee.template_id,onRowClick:Ee=>ve(Ee),emptyState:o.jsx(ll,{icon:o.jsx(bs,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noTemplatesFound"),description:e(h?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return d?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10",children:o.jsx(bs,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:e("surveys.title")}),o.jsx("p",{className:"text-sm text-muted-foreground hidden sm:block",children:e("surveys.subtitle")})]})]}),o.jsxs("div",{className:"flex items-center gap-3 bg-muted/30 px-4 py-2 rounded-full border",children:[o.jsx(bs,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"text-sm font-semibold",children:[a.length," ",e("surveys.totalSurveys")]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ze,{placeholder:e("surveys.searchPlaceholder"),value:h,onChange:ie=>m(ie.target.value),className:"pl-10"})]}),o.jsxs(gl,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col",dir:r?"rtl":"ltr",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsxs(Yr,{value:"surveys",children:[e("surveys.surveys")," (",_t.length,")"]}),o.jsxs(Yr,{value:"templates",children:[e("surveys.templates")," (",ne.length,")"]})]}),o.jsxs(kn,{value:"surveys",className:"space-y-4 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",style:{direction:r?"rtl":"ltr"},children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:C==="card"?"default":"ghost",size:"sm",onClick:()=>Y("card"),className:"h-8 w-8 p-0",children:o.jsx(bs,{className:"h-4 w-4"})}),o.jsx(oe,{variant:C==="list"?"default":"ghost",size:"sm",onClick:()=>Y("list"),className:"h-8 w-8 p-0",children:o.jsx(nx,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",children:[o.jsxs(jn,{open:_,onOpenChange:S,children:[o.jsx(Ah,{asChild:!0,children:o.jsxs(oe,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),e("surveys.newSurvey")]})}),o.jsxs(dn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(fn,{children:o.jsx(hn,{children:e("surveys.createNewSurvey")})}),o.jsx("div",{className:"space-y-6 py-4",children:k?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium",children:ke(k,"template_name")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.fillSurveyDetails")})]}),o.jsx(oe,{variant:"outline",size:"sm",onClick:()=>{j(null),N({})},children:e("surveys.changeTemplate")})]}),o.jsx("div",{className:"space-y-4",children:(Ki=c[k.template_id])==null?void 0:Ki.map(ie=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:ie.field_label,className:"text-sm font-medium",children:[ke(ie,"field_label"),ie.is_required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),Un(ie),ke(ie,"help_text")&&o.jsx("p",{className:"text-xs text-muted-foreground",children:ke(ie,"help_text")})]},ie.field_id))}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[o.jsx(Cm,{className:"h-4 w-4"}),o.jsx("span",{children:e("surveys.locationWillBeCaptured")})]})})]}):o.jsxs("div",{children:[o.jsx(Ge,{className:"text-base font-medium mb-4 block",children:e("surveys.selectTemplate")}),o.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:i.filter(ie=>ie.is_active).map(ie=>o.jsx(mt,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(k==null?void 0:k.template_id)===ie.template_id?"ring-2 ring-primary":""}`,onClick:()=>Ke(ie),children:o.jsx(wt,{className:"p-4",children:o.jsx("div",{className:"flex items-start gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate",children:ke(ie,"template_name")}),ie.category&&o.jsx(ct,{variant:"outline",className:"mt-1 text-xs",children:ie.category}),ke(ie,"template_description")&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:ke(ie,"template_description")})]})})})},ie.template_id))})]})}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(oe,{variant:"outline",onClick:()=>{S(!1),j(null),N({})},className:"w-full sm:w-auto",children:e("buttons.cancel")}),k&&o.jsx(oe,{onClick:zr,disabled:!k,className:"w-full sm:w-auto",children:e("surveys.submitSurvey")})]})]})]}),o.jsxs(jn,{open:Ie,onOpenChange:Ve,children:[o.jsx(Ah,{asChild:!0,children:o.jsxs(oe,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[o.jsx(Kg,{className:"h-4 w-4 mr-2 text-primary"}),e("surveys.bulkImport")]})}),o.jsx(dn,{className:"w-[95vw] sm:w-full sm:max-w-4xl max-h-[85vh] overflow-y-auto",children:o.jsx(nNe,{templates:i,templateFields:c,onImportComplete:le,onClose:()=>Ve(!1)})})]})]})]}),o.jsx(sa,{className:"flex-1",dir:r?"rtl":"ltr",children:_t.length===0?o.jsx(mt,{children:o.jsxs(wt,{className:"text-center py-12",children:[o.jsx(bs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noSurveysFound")}),o.jsx("p",{className:"text-muted-foreground",children:e(h?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):C==="card"?o.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto",style:{direction:r?"rtl":"ltr"},children:_t.map(ie=>o.jsxs(mt,{className:"w-full overflow-auto hover:shadow-lg transition-all duration-200 cursor-pointer",children:[o.jsx(ur,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:ie.survey_name||`${e("surveys.survey")} #${ie.survey_id}`}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:ke(ie,"client_name")})]}),F(ie.status)]})}),o.jsxs(wt,{className:"pt-0 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(cn,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:ie.client_company||e("surveys.noCompany")})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Cm,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:ie.location_address||`${ie.location_latitude.toFixed(4)}, ${ie.location_longitude.toFixed(4)}`})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Ra,{className:"h-4 w-4"}),o.jsxs("span",{children:[e("surveys.createdBy"),": ",he(ie.created_by)]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Nd,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:new Date(ie.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(jn,{children:[o.jsx(Ah,{asChild:!0,children:o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>p(ie),children:[o.jsx(si,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),o.jsxs(dn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(fn,{children:o.jsx(hn,{children:ie.survey_name||`${e("surveys.survey")} #${ie.survey_id}`})}),g&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.clientName")}),o.jsx("p",{className:"text-sm",children:ke(g,"client_name")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.clientCompany")}),o.jsx("p",{className:"text-sm",children:g.client_company||e("surveys.noCompany")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.contact")}),o.jsx("p",{className:"text-sm",children:g.client_contact||e("surveys.noContact")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.email")}),o.jsx("p",{className:"text-sm",children:g.client_email||e("surveys.noEmail")})]})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.location")}),o.jsx("p",{className:"text-sm",children:o.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${g.location_latitude},${g.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:["https://www.google.com/maps/place/",g.location_address||`${g.location_latitude.toFixed(6)}, ${g.location_longitude.toFixed(6)}`]})})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.responses")}),o.jsx("div",{className:"mt-2 space-y-2",children:g.survey_responses&&Object.keys(g.survey_responses).length>0?Object.entries(g.survey_responses).map(([je,Ee])=>{const Me=typeof Ee=="object"&&Ee!==null&&"bucket"in Ee&&"path"in Ee&&"url"in Ee;return o.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"font-medium text-sm text-primary",children:[je,":"]}),Me?o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:Ee.url,alt:je,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):o.jsx("div",{className:"text-sm text-muted-foreground break-words",children:Array.isArray(Ee)?Ee.join(", "):typeof Ee=="object"?JSON.stringify(Ee):String(Ee||"N/A")})]},je)}):o.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:"No responses recorded"})})]})]})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(fi,{children:[o.jsx(mf,{asChild:!0,children:o.jsx(oe,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:je=>{je.stopPropagation(),Z(ie.survey_id)},children:o.jsx(xr,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:je=>je.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("surveys.deleteSurvey")}),o.jsx(Fs,{children:e("surveys.deleteSurveyConfirmation",{name:ie.survey_name||`${e("surveys.survey")} #${ie.survey_id}`})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("buttons.cancel")}),o.jsx(Ls,{onClick:je=>{je.stopPropagation(),Jt(ie.survey_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]})]},ie.survey_id))}):o.jsx("div",{className:"w-full overflow-hidden",children:Cn()})})]}),o.jsxs(kn,{value:"templates",className:"space-y-4 flex-1 flex flex-col",children:[o.jsx("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",children:((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(oe,{onClick:()=>{ue(),q(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),e("surveys.createTemplate")]})}),o.jsx(sa,{className:"flex-1",dir:r?"rtl":"ltr",children:ne.length===0?o.jsx(mt,{children:o.jsxs(wt,{className:"text-center py-12",children:[o.jsx(bs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noTemplatesFound")}),o.jsx("p",{className:"text-muted-foreground",children:e(h?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):B==="card"?o.jsx("div",{className:`w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 ${r?"rtl":""}`,children:ne.map(ie=>o.jsxs(mt,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200",children:[o.jsx(ur,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:ke(ie,"template_name")}),ie.category&&o.jsx(ct,{variant:"outline",className:"mt-1 text-xs",children:ie.category})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[ie.is_default&&o.jsx(ct,{variant:"default",className:"text-xs",children:e("surveys.default")}),ie.is_active?o.jsx(su,{className:"h-4 w-4 text-green-500"}):o.jsx(Voe,{className:"h-4 w-4 text-red-500"})]})]})}),o.jsxs(wt,{className:"pt-0 space-y-3",children:[ke(ie,"template_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ke(ie,"template_description")}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Nd,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:new Date(ie.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(jn,{children:[o.jsx(Ah,{asChild:!0,children:o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>ve(ie),children:[o.jsx(si,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),o.jsxs(dn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(fn,{children:o.jsx(hn,{children:ke(v||ie,"template_name")})}),v&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.category")}),o.jsx("p",{className:"text-sm",children:v.category||e("surveys.noCategory")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.status")}),o.jsxs("div",{className:"flex items-center gap-2",children:[v.is_active?o.jsx(ct,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):o.jsx(ct,{variant:"secondary",children:e("surveys.inactive")}),v.is_default&&o.jsx(ct,{variant:"default",children:e("surveys.default")})]})]})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.description")}),o.jsx("p",{className:"text-sm mt-1",children:ke(v,"template_description")||e("surveys.noDescription")})]}),o.jsxs("div",{children:[o.jsxs(Ge,{className:"text-sm font-medium",children:[e("surveys.fields")," (",x.length,")"]}),o.jsx("div",{className:"mt-2 space-y-2",children:x.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.noFields")}):x.sort((je,Ee)=>je.field_order-Ee.field_order).map(je=>o.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(ct,{variant:"outline",className:"text-xs",children:je.field_type}),o.jsx("span",{className:"text-sm font-medium",children:ke(je,"field_label")}),je.is_required&&o.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),ke(je,"help_text")&&o.jsx("p",{className:"text-xs text-muted-foreground",children:ke(je,"help_text")})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",je.field_order]})]})},je.field_id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.created")}),o.jsx("p",{children:new Date(v.created_at).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.updated")}),o.jsx("p",{children:new Date(v.updated_at).toLocaleString()})]})]})]})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(o.Fragment,{children:[!ie.is_default&&o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-green-50",onClick:je=>{je.stopPropagation(),Pr(ie.template_id)},title:e("surveys.setAsDefault"),children:o.jsx(su,{className:"h-4 w-4 text-green-500"})}),o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50",onClick:je=>{je.stopPropagation(),Ae(ie)},children:o.jsx(VN,{className:"h-4 w-4"})}),o.jsxs(fi,{children:[o.jsx(mf,{asChild:!0,children:o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:je=>{je.stopPropagation(),D(ie.template_id)},children:o.jsx(xr,{className:"h-4 w-4"})})}),o.jsxs(Ds,{onClick:je=>je.stopPropagation(),children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("surveys.deleteTemplate")}),o.jsx(Fs,{children:e("surveys.deleteTemplateConfirmation",{name:ke(ie,"template_name")})})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("buttons.cancel")}),o.jsx(Ls,{onClick:je=>{je.stopPropagation(),kt(ie.template_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]})]},ie.template_id))}):o.jsx("div",{className:"w-full overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:Jn()})})]})]}),o.jsx(jn,{open:z,onOpenChange:q,children:o.jsxs(dn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:e(I?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),o.jsx(La,{children:e("surveys.createTemplateDesc")})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"template_name",children:[e("surveys.templateName")," *"]}),o.jsx(ze,{id:"template_name",value:re.template_name,onChange:ie=>se(je=>({...je,template_name:ie.target.value})),placeholder:e("surveys.templateName"),className:J.template_name?"border-red-500":""}),J.template_name&&o.jsx("p",{className:"text-sm text-red-500",children:J.template_name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"category",children:e("surveys.category")}),o.jsxs(xt,{value:re.category,onValueChange:ie=>se(je=>({...je,category:ie})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:e("surveys.selectCategory")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"customer_satisfaction",children:e("surveys.customerSatisfaction")}),o.jsx(Ce,{value:"product_feedback",children:e("surveys.productFeedback")}),o.jsx(Ce,{value:"service_quality",children:e("surveys.serviceQuality")}),o.jsx(Ce,{value:"general",children:e("surveys.general")})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"template_description",children:e("surveys.description")}),o.jsx(ua,{id:"template_description",value:re.template_description,onChange:ie=>se(je=>({...je,template_description:ie.target.value})),placeholder:e("surveys.description"),rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"is_active",checked:re.is_active,onChange:ie=>se(je=>({...je,is_active:ie.target.checked})),className:"rounded"}),o.jsx(Ge,{htmlFor:"is_active",children:e("surveys.isActive")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-semibold",children:e("surveys.fields")})}),J.fields&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600",children:J.fields})}),o.jsx("div",{className:"space-y-3",children:ce.map((ie,je)=>{var Ee,Me,St;return o.jsx(mt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>be(je,Math.max(0,je-1)),disabled:je===0,children:o.jsx(Foe,{className:"h-4 w-4"})}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>be(je,Math.min(ce.length-1,je+1)),disabled:je===ce.length-1,children:o.jsx(Ioe,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{children:[e("surveys.fieldLabel")," *"]}),o.jsx(ze,{value:ie.field_label,onChange:rt=>xe(je,{field_label:rt.target.value}),placeholder:e("surveys.fieldLabel"),className:J[`field_${je}`]?"border-red-500":""}),J[`field_${je}`]&&o.jsx("p",{className:"text-sm text-red-500",children:J[`field_${je}`]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{children:[e("surveys.fieldType")," *"]}),o.jsxs(xt,{value:ie.field_type,onValueChange:rt=>xe(je,{field_type:rt}),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"text",children:e("surveys.text")}),o.jsx(Ce,{value:"textarea",children:e("surveys.textarea")}),o.jsx(Ce,{value:"email",children:e("surveys.email")}),o.jsx(Ce,{value:"date",children:e("surveys.date")}),o.jsx(Ce,{value:"select",children:e("surveys.select")}),o.jsx(Ce,{value:"multiselect",children:e("surveys.multiselect")}),o.jsx(Ce,{value:"radio",children:e("surveys.radio")}),o.jsx(Ce,{value:"checkbox",children:e("surveys.checkbox")}),o.jsx(Ce,{value:"image",children:e("surveys.image")})]})]})]})]}),(ie.field_type==="select"||ie.field_type==="multiselect"||ie.field_type==="radio")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:e("surveys.options")}),o.jsx(ua,{defaultValue:((Me=(Ee=ie.field_options)==null?void 0:Ee.options)==null?void 0:Me.join(`
`))||"",onBlur:rt=>{const Ht=rt.target.value.split(/[\n\s]+/).filter(_r=>_r.trim()).map(_r=>_r.trim());xe(je,{field_options:{options:Ht,allow_multiple:ie.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((St=ie.field_options)==null?void 0:St.options)&&ie.field_options.options.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[ie.field_options.options.length," option(s): ",ie.field_options.options.join(", ")]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`required-${je}`,checked:ie.is_required,onChange:rt=>xe(je,{is_required:rt.target.checked}),className:"rounded"}),o.jsx(Ge,{htmlFor:`required-${je}`,children:e("surveys.isRequired")})]})]}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>$e(je),className:"text-red-500 hover:text-red-700",children:o.jsx(xr,{className:"h-4 w-4"})})]})},je)})}),o.jsx("div",{className:"flex justify-center pt-4",children:o.jsxs(oe,{onClick:ye,size:"sm",variant:"outline",children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),e("surveys.addField")]})})]})]}),o.jsxs(Fa,{children:[o.jsx(oe,{variant:"outline",onClick:()=>q(!1),disabled:A,children:e("buttons.cancel")}),o.jsx(oe,{onClick:Re,disabled:!re.template_name.trim()||A,children:e(A?"buttons.saving":I?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function sNe(){const{t:e}=zt(),{user:t}=yr(),{isRTL:r}=Vi(),n=Ua(),[a,s]=y.useState([]),[i,l]=y.useState(!0),[c,u]=y.useState(null),[d,f]=y.useState(""),[h,m]=y.useState(null),[g,p]=y.useState(!1),[v,w]=y.useState("leads"),[x,b]=y.useState(""),[_,S]=y.useState("");if((t==null?void 0:t.role)!=="admin")return o.jsx(Hd,{to:"/",replace:!0});y.useEffect(()=>{k()},[]);const k=async()=>{try{l(!0);const T=await rs.getAll();s(T)}catch(T){console.error("Failed to load stages:",T)}finally{l(!1)}},j=T=>a.filter(U=>U.stage_type===T).sort((U,z)=>(U.stager_order_index??0)-(z.stager_order_index??0)),E=async()=>{if(x.trim())try{const T=j(v),U=T.length>0?Math.max(...T.map(q=>q.stager_order_index||0)):-1,z={stage_name:x.trim(),stage_name_ar:_.trim()||null,stage_type:v,stager_order_index:U+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await rs.create(z),await k(),b(""),S(""),p(!1)}catch(T){console.error("Failed to create stage:",T)}},N=async(T,U)=>{try{await rs.update(T.stage_id,U),await k(),u(null),f("")}catch(z){console.error("Failed to update stage:",z)}},O=async T=>{try{await rs.delete(T),await k(),m(null)}catch(U){console.error("Failed to delete stage:",U)}},R=T=>{const U=j(T);return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${T}`)}),o.jsxs(oe,{size:n?"default":"sm",onClick:()=>{w(T),p(!0)},className:"w-full sm:w-auto",children:[o.jsx(sr,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),U.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):o.jsx("div",{className:"space-y-2",children:U.map((z,q)=>o.jsx(mt,{className:"p-3 md:p-4",children:o.jsxs("div",{className:Se("flex gap-2 md:gap-3",n?"flex-col":"items-center"),children:[!n&&o.jsx(w_,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(c==null?void 0:c.stage_id)===z.stage_id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(ze,{value:c.stage_name,onChange:I=>u({...c,stage_name:I.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),o.jsx(ze,{value:d,onChange:I=>f(I.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),o.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0",children:[o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>N(z,{stage_name:c.stage_name,stage_name_ar:d||null}),className:"flex-1 sm:flex-initial",children:o.jsx(To,{className:"h-4 w-4"})}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>{u(null),f("")},className:"flex-1 sm:flex-initial",children:o.jsx(Ii,{className:"h-4 w-4"})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:ke(z,"stage_name")}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",z.stager_order_index]})]}),o.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0",children:[o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>{u(z),f(z.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:o.jsx(Co,{className:"h-4 w-4"})}),o.jsx(oe,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>m(z.stage_id),children:o.jsx(xr,{className:"h-4 w-4"})})]})]})]})},z.stage_id))})]})};return i?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md max-h-full overflow-y-auto",dir:r?"rtl":"ltr",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),o.jsxs(gl,{defaultValue:"stages",className:"space-y-4",children:[o.jsx(Ro,{className:"w-full sm:w-auto",children:o.jsx(Yr,{value:"stages",className:"flex-1 sm:flex-initial",children:e("settings.stageManagement")})}),o.jsx(kn,{value:"stages",className:"space-y-4 md:space-y-6",children:o.jsxs("div",{className:"grid gap-4 md:gap-6",children:[o.jsxs(mt,{children:[o.jsx(ur,{className:"pb-3 md:pb-6",children:o.jsx(nn,{className:"text-lg md:text-xl",children:e("settings.leads")})}),o.jsx(wt,{className:"px-3 md:px-6",children:R("leads")})]}),o.jsxs(mt,{children:[o.jsx(ur,{className:"pb-3 md:pb-6",children:o.jsx(nn,{className:"text-lg md:text-xl",children:e("settings.projects")})}),o.jsx(wt,{className:"px-3 md:px-6",children:R("projects")})]}),o.jsxs(mt,{children:[o.jsx(ur,{className:"pb-3 md:pb-6",children:o.jsx(nn,{className:"text-lg md:text-xl",children:e("settings.tasks")})}),o.jsx(wt,{className:"px-3 md:px-6",children:R("tasks")})]}),o.jsxs(mt,{children:[o.jsx(ur,{className:"pb-3 md:pb-6",children:o.jsx(nn,{className:"text-lg md:text-xl",children:e("settings.tickets")})}),o.jsx(wt,{className:"px-3 md:px-6",children:R("tickets")})]}),o.jsxs(mt,{children:[o.jsx(ur,{className:"pb-3 md:pb-6",children:o.jsx(nn,{className:"text-lg md:text-xl",children:e("settings.mleads")})}),o.jsx(wt,{className:"px-3 md:px-6",children:R("mleads")})]}),o.jsxs(mt,{children:[o.jsx(ur,{className:"pb-3 md:pb-6",children:o.jsx(nn,{className:"text-lg md:text-xl",children:e("settings.mprojects")})}),o.jsx(wt,{className:"px-3 md:px-6",children:R("mprojects")})]})]})})]}),o.jsx(jn,{open:g,onOpenChange:p,children:o.jsxs(dn,{className:"w-[95vw] sm:max-w-[425px]",children:[o.jsxs(fn,{children:[o.jsx(hn,{children:e("settings.addStage")}),o.jsx(La,{children:e("settings.addStageDesc",{type:e(`settings.${v}`)})})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),o.jsx(ze,{id:"stage-name",value:x,onChange:T=>b(T.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),o.jsx(ze,{id:"stage-name-ar",value:_,onChange:T=>S(T.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),o.jsxs(Fa,{className:"flex-col sm:flex-row gap-2",children:[o.jsx(oe,{variant:"outline",onClick:()=>p(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),o.jsx(oe,{onClick:E,disabled:!x.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),o.jsx(fi,{open:!!h,onOpenChange:T=>!T&&m(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("settings.deleteStage")}),o.jsx(Fs,{children:e("settings.deleteStageConfirmation")})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("buttons.cancel")}),o.jsx(Ls,{onClick:()=>h&&O(h),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}const cP=({className:e,...t})=>o.jsx("nav",{role:"navigation","aria-label":"pagination",className:Se("mx-auto flex w-full justify-center",e),...t});cP.displayName="Pagination";const uP=y.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,className:Se("flex flex-row items-center gap-1",e),...t}));uP.displayName="PaginationContent";const Xd=y.forwardRef(({className:e,...t},r)=>o.jsx("li",{ref:r,className:Se("",e),...t}));Xd.displayName="PaginationItem";const dP=({className:e,isActive:t,size:r="icon",...n})=>o.jsx("a",{"aria-current":t?"page":void 0,className:Se(Em({variant:t?"outline":"ghost",size:r}),e),...n});dP.displayName="PaginationLink";const fP=({className:e,children:t,...r})=>o.jsx(dP,{"aria-label":"Go to previous page",size:"default",className:Se("gap-1 pl-2.5",e),...r,children:o.jsx("span",{children:t||"Previous"})});fP.displayName="PaginationPrevious";const hP=({className:e,children:t,...r})=>o.jsx(dP,{"aria-label":"Go to next page",size:"default",className:Se("gap-1 pr-2.5",e),...r,children:o.jsx("span",{children:t||"Next"})});hP.displayName="PaginationNext";var BF=1,iNe=.9,oNe=.8,lNe=.17,Ik=.1,Mk=.999,cNe=.9999,uNe=.99,dNe=/[\\\/_+.#"@\[\(\{&]/,fNe=/[\\\/_+.#"@\[\(\{&]/g,hNe=/[\s-]/,PG=/[\s-]/g;function kE(e,t,r,n,a,s,i){if(s===t.length)return a===e.length?BF:uNe;var l=`${a},${s}`;if(i[l]!==void 0)return i[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,g;u>=0;)f=kE(e,t,r,n,u+1,s+1,i),f>d&&(u===a?f*=BF:dNe.test(e.charAt(u-1))?(f*=oNe,m=e.slice(a,u-1).match(fNe),m&&a>0&&(f*=Math.pow(Mk,m.length))):hNe.test(e.charAt(u-1))?(f*=iNe,g=e.slice(a,u-1).match(PG),g&&a>0&&(f*=Math.pow(Mk,g.length))):(f*=lNe,a>0&&(f*=Math.pow(Mk,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=cNe)),(f<Ik&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=kE(e,t,r,n,u+1,s+2,i),h*Ik>f&&(f=h*Ik)),f>d&&(d=f),u=r.indexOf(c,u+1);return i[l]=d,d}function UF(e){return e.toLowerCase().replace(PG," ")}function mNe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,kE(e,t,UF(e),UF(t),0,0,{})}var h0='[cmdk-group=""]',Fk='[cmdk-group-items=""]',pNe='[cmdk-group-heading=""]',DG='[cmdk-item=""]',VF=`${DG}:not([aria-disabled="true"])`,NE="cmdk-item-select",dh="data-value",gNe=(e,t,r)=>mNe(e,t,r),RG=y.createContext(void 0),Dx=()=>y.useContext(RG),IG=y.createContext(void 0),mP=()=>y.useContext(IG),MG=y.createContext(void 0),FG=y.forwardRef((e,t)=>{let r=fh(()=>{var C,Y;return{search:"",value:(Y=(C=e.value)!=null?C:e.defaultValue)!=null?Y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=fh(()=>new Set),a=fh(()=>new Map),s=fh(()=>new Map),i=fh(()=>new Set),l=LG(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:p=!1,vimBindings:v=!0,...w}=e,x=ca(),b=ca(),_=ca(),S=y.useRef(null),k=ENe();yf(()=>{if(d!==void 0){let C=d.trim();r.current.value=C,j.emit()}},[d]),yf(()=>{k(6,U)},[]);let j=y.useMemo(()=>({subscribe:C=>(i.current.add(C),()=>i.current.delete(C)),snapshot:()=>r.current,setState:(C,Y,B)=>{var G,re,se,ce;if(!Object.is(r.current[C],Y)){if(r.current[C]=Y,C==="search")T(),O(),k(1,R);else if(C==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ae=document.getElementById(_);ae?ae.focus():(G=document.getElementById(x))==null||G.focus()}if(k(7,()=>{var ae;r.current.selectedItemId=(ae=z())==null?void 0:ae.id,j.emit()}),B||k(5,U),((re=l.current)==null?void 0:re.value)!==void 0){let ae=Y??"";(ce=(se=l.current).onValueChange)==null||ce.call(se,ae);return}}j.emit()}},emit:()=>{i.current.forEach(C=>C())}}),[]),E=y.useMemo(()=>({value:(C,Y,B)=>{var G;Y!==((G=s.current.get(C))==null?void 0:G.value)&&(s.current.set(C,{value:Y,keywords:B}),r.current.filtered.items.set(C,N(Y,B)),k(2,()=>{O(),j.emit()}))},item:(C,Y)=>(n.current.add(C),Y&&(a.current.has(Y)?a.current.get(Y).add(C):a.current.set(Y,new Set([C]))),k(3,()=>{T(),O(),r.current.value||R(),j.emit()}),()=>{s.current.delete(C),n.current.delete(C),r.current.filtered.items.delete(C);let B=z();k(4,()=>{T(),(B==null?void 0:B.getAttribute("id"))===C&&R(),j.emit()})}),group:C=>(a.current.has(C)||a.current.set(C,new Set),()=>{s.current.delete(C),a.current.delete(C)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:_,labelId:b,listInnerRef:S}),[]);function N(C,Y){var B,G;let re=(G=(B=l.current)==null?void 0:B.filter)!=null?G:gNe;return C?re(C,r.current.search,Y):0}function O(){if(!r.current.search||l.current.shouldFilter===!1)return;let C=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(G=>{let re=a.current.get(G),se=0;re.forEach(ce=>{let ae=C.get(ce);se=Math.max(ae,se)}),Y.push([G,se])});let B=S.current;q().sort((G,re)=>{var se,ce;let ae=G.getAttribute("id"),J=re.getAttribute("id");return((se=C.get(J))!=null?se:0)-((ce=C.get(ae))!=null?ce:0)}).forEach(G=>{let re=G.closest(Fk);re?re.appendChild(G.parentElement===re?G:G.closest(`${Fk} > *`)):B.appendChild(G.parentElement===B?G:G.closest(`${Fk} > *`))}),Y.sort((G,re)=>re[1]-G[1]).forEach(G=>{var re;let se=(re=S.current)==null?void 0:re.querySelector(`${h0}[${dh}="${encodeURIComponent(G[0])}"]`);se==null||se.parentElement.appendChild(se)})}function R(){let C=q().find(B=>B.getAttribute("aria-disabled")!=="true"),Y=C==null?void 0:C.getAttribute(dh);j.setState("value",Y||void 0)}function T(){var C,Y,B,G;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let re=0;for(let se of n.current){let ce=(Y=(C=s.current.get(se))==null?void 0:C.value)!=null?Y:"",ae=(G=(B=s.current.get(se))==null?void 0:B.keywords)!=null?G:[],J=N(ce,ae);r.current.filtered.items.set(se,J),J>0&&re++}for(let[se,ce]of a.current)for(let ae of ce)if(r.current.filtered.items.get(ae)>0){r.current.filtered.groups.add(se);break}r.current.filtered.count=re}function U(){var C,Y,B;let G=z();G&&(((C=G.parentElement)==null?void 0:C.firstChild)===G&&((B=(Y=G.closest(h0))==null?void 0:Y.querySelector(pNe))==null||B.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function z(){var C;return(C=S.current)==null?void 0:C.querySelector(`${DG}[aria-selected="true"]`)}function q(){var C;return Array.from(((C=S.current)==null?void 0:C.querySelectorAll(VF))||[])}function I(C){let Y=q()[C];Y&&j.setState("value",Y.getAttribute(dh))}function L(C){var Y;let B=z(),G=q(),re=G.findIndex(ce=>ce===B),se=G[re+C];(Y=l.current)!=null&&Y.loop&&(se=re+C<0?G[G.length-1]:re+C===G.length?G[0]:G[re+C]),se&&j.setState("value",se.getAttribute(dh))}function M(C){let Y=z(),B=Y==null?void 0:Y.closest(h0),G;for(;B&&!G;)B=C>0?kNe(B,h0):NNe(B,h0),G=B==null?void 0:B.querySelector(VF);G?j.setState("value",G.getAttribute(dh)):L(C)}let D=()=>I(q().length-1),K=C=>{C.preventDefault(),C.metaKey?D():C.altKey?M(1):L(1)},Z=C=>{C.preventDefault(),C.metaKey?I(0):C.altKey?M(-1):L(-1)};return y.createElement(lt.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:C=>{var Y;(Y=w.onKeyDown)==null||Y.call(w,C);let B=C.nativeEvent.isComposing||C.keyCode===229;if(!(C.defaultPrevented||B))switch(C.key){case"n":case"j":{v&&C.ctrlKey&&K(C);break}case"ArrowDown":{K(C);break}case"p":case"k":{v&&C.ctrlKey&&Z(C);break}case"ArrowUp":{Z(C);break}case"Home":{C.preventDefault(),I(0);break}case"End":{C.preventDefault(),D();break}case"Enter":{C.preventDefault();let G=z();if(G){let re=new Event(NE);G.dispatchEvent(re)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:TNe},c),iS(e,C=>y.createElement(IG.Provider,{value:j},y.createElement(RG.Provider,{value:E},C))))}),vNe=y.forwardRef((e,t)=>{var r,n;let a=ca(),s=y.useRef(null),i=y.useContext(MG),l=Dx(),c=LG(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;yf(()=>{if(!u)return l.item(a,i==null?void 0:i.id)},[u]);let d=$G(a,s,[e.value,e.children,s],e.keywords),f=mP(),h=Lu(k=>k.value&&k.value===d.current),m=Lu(k=>u||l.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);y.useEffect(()=>{let k=s.current;if(!(!k||e.disabled))return k.addEventListener(NE,g),()=>k.removeEventListener(NE,g)},[m,e.onSelect,e.disabled]);function g(){var k,j;p(),(j=(k=c.current).onSelect)==null||j.call(k,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:w,onSelect:x,forceMount:b,keywords:_,...S}=e;return y.createElement(lt.div,{ref:rc(s,t),...S,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:p,onClick:v?void 0:g},e.children)}),xNe=y.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,i=ca(),l=y.useRef(null),c=y.useRef(null),u=ca(),d=Dx(),f=Lu(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);yf(()=>d.group(i),[]),$G(i,l,[e.value,e.heading,c]);let h=y.useMemo(()=>({id:i,forceMount:a}),[a]);return y.createElement(lt.div,{ref:rc(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&y.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),iS(e,m=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},y.createElement(MG.Provider,{value:h},m))))}),yNe=y.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=y.useRef(null),s=Lu(i=>!i.search);return!r&&!s?null:y.createElement(lt.div,{ref:rc(a,t),...n,"cmdk-separator":"",role:"separator"})}),wNe=y.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=mP(),i=Lu(u=>u.search),l=Lu(u=>u.selectedItemId),c=Dx();return y.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),y.createElement(lt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),bNe=y.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=y.useRef(null),i=y.useRef(null),l=Lu(u=>u.selectedItemId),c=Dx();return y.useEffect(()=>{if(i.current&&s.current){let u=i.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),y.createElement(lt.div,{ref:rc(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},iS(e,u=>y.createElement("div",{ref:rc(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),_Ne=y.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:i,...l}=e;return y.createElement(L_,{open:r,onOpenChange:n},y.createElement($_,{container:i},y.createElement(Cp,{"cmdk-overlay":"",className:a}),y.createElement(Tp,{"aria-label":e.label,"cmdk-dialog":"",className:s},y.createElement(FG,{ref:t,...l}))))}),SNe=y.forwardRef((e,t)=>Lu(r=>r.filtered.count===0)?y.createElement(lt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),jNe=y.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return y.createElement(lt.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},iS(e,i=>y.createElement("div",{"aria-hidden":!0},i)))}),Vs=Object.assign(FG,{List:bNe,Item:vNe,Input:wNe,Group:xNe,Separator:yNe,Dialog:_Ne,Empty:SNe,Loading:jNe});function kNe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function NNe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function LG(e){let t=y.useRef(e);return yf(()=>{t.current=e}),t}var yf=typeof window>"u"?y.useEffect:y.useLayoutEffect;function fh(e){let t=y.useRef();return t.current===void 0&&(t.current=e()),t}function Lu(e){let t=mP(),r=()=>e(t.snapshot());return y.useSyncExternalStore(t.subscribe,r,r)}function $G(e,t,r,n=[]){let a=y.useRef(),s=Dx();return yf(()=>{var i;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(i=t.current)==null||i.setAttribute(dh,l),a.current=l}),a}var ENe=()=>{let[e,t]=y.useState(),r=fh(()=>new Map);return yf(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function CNe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function iS({asChild:e,children:t},r){return e&&y.isValidElement(t)?y.cloneElement(CNe(t),{ref:t.ref},r(t.props.children)):r(t)}var TNe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ya=y.forwardRef(({className:e,...t},r)=>o.jsx(Vs,{ref:r,className:Se("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ya.displayName=Vs.displayName;const wa=y.forwardRef(({className:e,...t},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(Us,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Vs.Input,{ref:r,className:Se("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));wa.displayName=Vs.Input.displayName;const ba=y.forwardRef(({className:e,...t},r)=>o.jsx(Vs.List,{ref:r,className:Se("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ba.displayName=Vs.List.displayName;const _a=y.forwardRef((e,t)=>o.jsx(Vs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));_a.displayName=Vs.Empty.displayName;const Sa=y.forwardRef(({className:e,...t},r)=>o.jsx(Vs.Group,{ref:r,className:Se("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Sa.displayName=Vs.Group.displayName;const ANe=y.forwardRef(({className:e,...t},r)=>o.jsx(Vs.Separator,{ref:r,className:Se("-mx-1 h-px bg-border",e),...t}));ANe.displayName=Vs.Separator.displayName;const $r=y.forwardRef(({className:e,...t},r)=>o.jsx(Vs.Item,{ref:r,className:Se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));$r.displayName=Vs.Item.displayName;var ONe=Array.isArray,Ws=ONe,PNe=typeof Jx=="object"&&Jx&&Jx.Object===Object&&Jx,BG=PNe,DNe=BG,RNe=typeof self=="object"&&self&&self.Object===Object&&self,INe=DNe||RNe||Function("return this")(),jl=INe,MNe=jl,FNe=MNe.Symbol,Rx=FNe,WF=Rx,UG=Object.prototype,LNe=UG.hasOwnProperty,$Ne=UG.toString,m0=WF?WF.toStringTag:void 0;function BNe(e){var t=LNe.call(e,m0),r=e[m0];try{e[m0]=void 0;var n=!0}catch{}var a=$Ne.call(e);return n&&(t?e[m0]=r:delete e[m0]),a}var UNe=BNe,VNe=Object.prototype,WNe=VNe.toString;function zNe(e){return WNe.call(e)}var HNe=zNe,zF=Rx,qNe=UNe,GNe=HNe,KNe="[object Null]",YNe="[object Undefined]",HF=zF?zF.toStringTag:void 0;function XNe(e){return e==null?e===void 0?YNe:KNe:HF&&HF in Object(e)?qNe(e):GNe(e)}var yc=XNe;function JNe(e){return e!=null&&typeof e=="object"}var wc=JNe,QNe=yc,ZNe=wc,eEe="[object Symbol]";function tEe(e){return typeof e=="symbol"||ZNe(e)&&QNe(e)==eEe}var Fp=tEe,rEe=Ws,nEe=Fp,aEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sEe=/^\w*$/;function iEe(e,t){if(rEe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||nEe(e)?!0:sEe.test(e)||!aEe.test(e)||t!=null&&e in Object(t)}var pP=iEe;function oEe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qu=oEe;const Lp=fr(Qu);var lEe=yc,cEe=Qu,uEe="[object AsyncFunction]",dEe="[object Function]",fEe="[object GeneratorFunction]",hEe="[object Proxy]";function mEe(e){if(!cEe(e))return!1;var t=lEe(e);return t==dEe||t==fEe||t==uEe||t==hEe}var gP=mEe;const At=fr(gP);var pEe=jl,gEe=pEe["__core-js_shared__"],vEe=gEe,Lk=vEe,qF=function(){var e=/[^.]+$/.exec(Lk&&Lk.keys&&Lk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xEe(e){return!!qF&&qF in e}var yEe=xEe,wEe=Function.prototype,bEe=wEe.toString;function _Ee(e){if(e!=null){try{return bEe.call(e)}catch{}try{return e+""}catch{}}return""}var VG=_Ee,SEe=gP,jEe=yEe,kEe=Qu,NEe=VG,EEe=/[\\^$.*+?()[\]{}|]/g,CEe=/^\[object .+?Constructor\]$/,TEe=Function.prototype,AEe=Object.prototype,OEe=TEe.toString,PEe=AEe.hasOwnProperty,DEe=RegExp("^"+OEe.call(PEe).replace(EEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function REe(e){if(!kEe(e)||jEe(e))return!1;var t=SEe(e)?DEe:CEe;return t.test(NEe(e))}var IEe=REe;function MEe(e,t){return e==null?void 0:e[t]}var FEe=MEe,LEe=IEe,$Ee=FEe;function BEe(e,t){var r=$Ee(e,t);return LEe(r)?r:void 0}var $f=BEe,UEe=$f,VEe=UEe(Object,"create"),oS=VEe,GF=oS;function WEe(){this.__data__=GF?GF(null):{},this.size=0}var zEe=WEe;function HEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qEe=HEe,GEe=oS,KEe="__lodash_hash_undefined__",YEe=Object.prototype,XEe=YEe.hasOwnProperty;function JEe(e){var t=this.__data__;if(GEe){var r=t[e];return r===KEe?void 0:r}return XEe.call(t,e)?t[e]:void 0}var QEe=JEe,ZEe=oS,eCe=Object.prototype,tCe=eCe.hasOwnProperty;function rCe(e){var t=this.__data__;return ZEe?t[e]!==void 0:tCe.call(t,e)}var nCe=rCe,aCe=oS,sCe="__lodash_hash_undefined__";function iCe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=aCe&&t===void 0?sCe:t,this}var oCe=iCe,lCe=zEe,cCe=qEe,uCe=QEe,dCe=nCe,fCe=oCe;function $p(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$p.prototype.clear=lCe;$p.prototype.delete=cCe;$p.prototype.get=uCe;$p.prototype.has=dCe;$p.prototype.set=fCe;var hCe=$p;function mCe(){this.__data__=[],this.size=0}var pCe=mCe;function gCe(e,t){return e===t||e!==e&&t!==t}var vP=gCe,vCe=vP;function xCe(e,t){for(var r=e.length;r--;)if(vCe(e[r][0],t))return r;return-1}var lS=xCe,yCe=lS,wCe=Array.prototype,bCe=wCe.splice;function _Ce(e){var t=this.__data__,r=yCe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():bCe.call(t,r,1),--this.size,!0}var SCe=_Ce,jCe=lS;function kCe(e){var t=this.__data__,r=jCe(t,e);return r<0?void 0:t[r][1]}var NCe=kCe,ECe=lS;function CCe(e){return ECe(this.__data__,e)>-1}var TCe=CCe,ACe=lS;function OCe(e,t){var r=this.__data__,n=ACe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var PCe=OCe,DCe=pCe,RCe=SCe,ICe=NCe,MCe=TCe,FCe=PCe;function Bp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bp.prototype.clear=DCe;Bp.prototype.delete=RCe;Bp.prototype.get=ICe;Bp.prototype.has=MCe;Bp.prototype.set=FCe;var cS=Bp,LCe=$f,$Ce=jl,BCe=LCe($Ce,"Map"),xP=BCe,KF=hCe,UCe=cS,VCe=xP;function WCe(){this.size=0,this.__data__={hash:new KF,map:new(VCe||UCe),string:new KF}}var zCe=WCe;function HCe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var qCe=HCe,GCe=qCe;function KCe(e,t){var r=e.__data__;return GCe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var uS=KCe,YCe=uS;function XCe(e){var t=YCe(this,e).delete(e);return this.size-=t?1:0,t}var JCe=XCe,QCe=uS;function ZCe(e){return QCe(this,e).get(e)}var eTe=ZCe,tTe=uS;function rTe(e){return tTe(this,e).has(e)}var nTe=rTe,aTe=uS;function sTe(e,t){var r=aTe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var iTe=sTe,oTe=zCe,lTe=JCe,cTe=eTe,uTe=nTe,dTe=iTe;function Up(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Up.prototype.clear=oTe;Up.prototype.delete=lTe;Up.prototype.get=cTe;Up.prototype.has=uTe;Up.prototype.set=dTe;var yP=Up,WG=yP,fTe="Expected a function";function wP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fTe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(wP.Cache||WG),r}wP.Cache=WG;var zG=wP;const hTe=fr(zG);var mTe=zG,pTe=500;function gTe(e){var t=mTe(e,function(n){return r.size===pTe&&r.clear(),n}),r=t.cache;return t}var vTe=gTe,xTe=vTe,yTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wTe=/\\(\\)?/g,bTe=xTe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yTe,function(r,n,a,s){t.push(a?s.replace(wTe,"$1"):n||r)}),t}),_Te=bTe;function STe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var bP=STe,YF=Rx,jTe=bP,kTe=Ws,NTe=Fp,ETe=1/0,XF=YF?YF.prototype:void 0,JF=XF?XF.toString:void 0;function HG(e){if(typeof e=="string")return e;if(kTe(e))return jTe(e,HG)+"";if(NTe(e))return JF?JF.call(e):"";var t=e+"";return t=="0"&&1/e==-ETe?"-0":t}var CTe=HG,TTe=CTe;function ATe(e){return e==null?"":TTe(e)}var qG=ATe,OTe=Ws,PTe=pP,DTe=_Te,RTe=qG;function ITe(e,t){return OTe(e)?e:PTe(e,t)?[e]:DTe(RTe(e))}var GG=ITe,MTe=Fp,FTe=1/0;function LTe(e){if(typeof e=="string"||MTe(e))return e;var t=e+"";return t=="0"&&1/e==-FTe?"-0":t}var dS=LTe,$Te=GG,BTe=dS;function UTe(e,t){t=$Te(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[BTe(t[r++])];return r&&r==n?e:void 0}var _P=UTe,VTe=_P;function WTe(e,t,r){var n=e==null?void 0:VTe(e,t);return n===void 0?r:n}var KG=WTe;const ci=fr(KG);function zTe(e){return e==null}var HTe=zTe;const Lt=fr(HTe);var qTe=yc,GTe=Ws,KTe=wc,YTe="[object String]";function XTe(e){return typeof e=="string"||!GTe(e)&&KTe(e)&&qTe(e)==YTe}var JTe=XTe;const wf=fr(JTe);var YG={exports:{}},gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP=Symbol.for("react.element"),jP=Symbol.for("react.portal"),fS=Symbol.for("react.fragment"),hS=Symbol.for("react.strict_mode"),mS=Symbol.for("react.profiler"),pS=Symbol.for("react.provider"),gS=Symbol.for("react.context"),QTe=Symbol.for("react.server_context"),vS=Symbol.for("react.forward_ref"),xS=Symbol.for("react.suspense"),yS=Symbol.for("react.suspense_list"),wS=Symbol.for("react.memo"),bS=Symbol.for("react.lazy"),ZTe=Symbol.for("react.offscreen"),XG;XG=Symbol.for("react.module.reference");function Hi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case SP:switch(e=e.type,e){case fS:case mS:case hS:case xS:case yS:return e;default:switch(e=e&&e.$$typeof,e){case QTe:case gS:case vS:case bS:case wS:case pS:return e;default:return t}}case jP:return t}}}gr.ContextConsumer=gS;gr.ContextProvider=pS;gr.Element=SP;gr.ForwardRef=vS;gr.Fragment=fS;gr.Lazy=bS;gr.Memo=wS;gr.Portal=jP;gr.Profiler=mS;gr.StrictMode=hS;gr.Suspense=xS;gr.SuspenseList=yS;gr.isAsyncMode=function(){return!1};gr.isConcurrentMode=function(){return!1};gr.isContextConsumer=function(e){return Hi(e)===gS};gr.isContextProvider=function(e){return Hi(e)===pS};gr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===SP};gr.isForwardRef=function(e){return Hi(e)===vS};gr.isFragment=function(e){return Hi(e)===fS};gr.isLazy=function(e){return Hi(e)===bS};gr.isMemo=function(e){return Hi(e)===wS};gr.isPortal=function(e){return Hi(e)===jP};gr.isProfiler=function(e){return Hi(e)===mS};gr.isStrictMode=function(e){return Hi(e)===hS};gr.isSuspense=function(e){return Hi(e)===xS};gr.isSuspenseList=function(e){return Hi(e)===yS};gr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fS||e===mS||e===hS||e===xS||e===yS||e===ZTe||typeof e=="object"&&e!==null&&(e.$$typeof===bS||e.$$typeof===wS||e.$$typeof===pS||e.$$typeof===gS||e.$$typeof===vS||e.$$typeof===XG||e.getModuleId!==void 0)};gr.typeOf=Hi;YG.exports=gr;var eAe=YG.exports,tAe=yc,rAe=wc,nAe="[object Number]";function aAe(e){return typeof e=="number"||rAe(e)&&tAe(e)==nAe}var JG=aAe;const sAe=fr(JG);var iAe=JG;function oAe(e){return iAe(e)&&e!=+e}var lAe=oAe;const Ix=fr(lAe);var as=function(t){return t===0?0:t>0?1:-1},Td=function(t){return wf(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return sAe(t)&&!Ix(t)},cAe=function(t){return Lt(t)},Ln=function(t){return Xe(t)||wf(t)},uAe=0,Vp=function(t){var r=++uAe;return"".concat(t||"").concat(r)},ss=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!wf(t))return n;var s;if(Td(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return Ix(s)&&(s=n),a&&s>r&&(s=r),s},Gc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},dAe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Zs=function(t,r){return Xe(t)&&Xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function $1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ci(n,t))===r})}var fAe=function(t,r){return Xe(t)&&Xe(r)?t-r:wf(t)&&wf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function rm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function EE(e){"@babel/helpers - typeof";return EE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EE(e)}var hAe=["viewBox","children"],mAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QF=["points","pathLength"],$k={svg:hAe,polygon:QF,polyline:QF},kP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],B1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!Lp(n))return null;var a={};return Object.keys(n).forEach(function(s){kP.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},pAe=function(t,r,n){return function(a){return t(r,n,a),null}},bf=function(t,r,n){if(!Lp(t)||EE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];kP.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=pAe(i,r,n))}),a},gAe=["children"],vAe=["children"];function ZF(e,t){if(e==null)return{};var r=xAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CE(e){"@babel/helpers - typeof";return CE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CE(e)}var e3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Yl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},t3=null,Bk=null,NP=function e(t){if(t===t3&&Array.isArray(Bk))return Bk;var r=[];return y.Children.forEach(t,function(n){Lt(n)||(eAe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Bk=r,t3=t,r};function ui(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Yl(a)}):n=[Yl(t)],NP(e).forEach(function(a){var s=ci(a,"type.displayName")||ci(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Ks(e,t){var r=ui(e,t);return r&&r[0]}var r3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Xe(n)||n<=0||!Xe(a)||a<=0)},yAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wAe=function(t){return t&&t.type&&wf(t.type)&&yAe.indexOf(t.type)>=0},bAe=function(t){return t&&CE(t)==="object"&&"clipDot"in t},_Ae=function(t,r,n,a){var s,i=(s=$k==null?void 0:$k[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!At(t)&&(a&&i.includes(r)||mAe.includes(r))||n&&kP.includes(r)},bt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!Lp(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;_Ae((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},TE=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return n3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!n3(s,i))return!1}return!0},n3=function(t,r){if(Lt(t)&&Lt(r))return!0;if(!Lt(t)&&!Lt(r)){var n=t.props||{},a=n.children,s=ZF(n,gAe),i=r.props||{},l=i.children,c=ZF(i,vAe);return a&&l?rm(s,c)&&TE(a,l):!a&&!l?rm(s,c):!1}return!1},a3=function(t,r){var n=[],a={};return NP(t).forEach(function(s,i){if(wAe(s))n.push(s);else if(s){var l=Yl(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},SAe=function(t){var r=t&&t.type;return r&&e3[r]?e3[r]:null},jAe=function(t,r){return NP(r).indexOf(t)},kAe=["children","width","height","viewBox","className","style","title","desc"];function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AE.apply(this,arguments)}function NAe(e,t){if(e==null)return{};var r=EAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OE(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,l=e.title,c=e.desc,u=NAe(e,kAe),d=a||{width:r,height:n,x:0,y:0},f=$t("recharts-surface",s);return te.createElement("svg",AE({},bt(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),te.createElement("title",null,l),te.createElement("desc",null,c),t)}var CAe=["children","className"];function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PE.apply(this,arguments)}function TAe(e,t){if(e==null)return{};var r=AAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ir=te.forwardRef(function(e,t){var r=e.children,n=e.className,a=TAe(e,CAe),s=$t("recharts-layer",n);return te.createElement("g",PE({className:s},bt(a,!0),{ref:t}),r)}),ko=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function OAe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var PAe=OAe,DAe=PAe;function RAe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:DAe(e,t,r)}var IAe=RAe,MAe="\\ud800-\\udfff",FAe="\\u0300-\\u036f",LAe="\\ufe20-\\ufe2f",$Ae="\\u20d0-\\u20ff",BAe=FAe+LAe+$Ae,UAe="\\ufe0e\\ufe0f",VAe="\\u200d",WAe=RegExp("["+VAe+MAe+BAe+UAe+"]");function zAe(e){return WAe.test(e)}var QG=zAe;function HAe(e){return e.split("")}var qAe=HAe,ZG="\\ud800-\\udfff",GAe="\\u0300-\\u036f",KAe="\\ufe20-\\ufe2f",YAe="\\u20d0-\\u20ff",XAe=GAe+KAe+YAe,JAe="\\ufe0e\\ufe0f",QAe="["+ZG+"]",DE="["+XAe+"]",RE="\\ud83c[\\udffb-\\udfff]",ZAe="(?:"+DE+"|"+RE+")",eK="[^"+ZG+"]",tK="(?:\\ud83c[\\udde6-\\uddff]){2}",rK="[\\ud800-\\udbff][\\udc00-\\udfff]",eOe="\\u200d",nK=ZAe+"?",aK="["+JAe+"]?",tOe="(?:"+eOe+"(?:"+[eK,tK,rK].join("|")+")"+aK+nK+")*",rOe=aK+nK+tOe,nOe="(?:"+[eK+DE+"?",DE,tK,rK,QAe].join("|")+")",aOe=RegExp(RE+"(?="+RE+")|"+nOe+rOe,"g");function sOe(e){return e.match(aOe)||[]}var iOe=sOe,oOe=qAe,lOe=QG,cOe=iOe;function uOe(e){return lOe(e)?cOe(e):oOe(e)}var dOe=uOe,fOe=IAe,hOe=QG,mOe=dOe,pOe=qG;function gOe(e){return function(t){t=pOe(t);var r=hOe(t)?mOe(t):void 0,n=r?r[0]:t.charAt(0),a=r?fOe(r,1).join(""):t.slice(1);return n[e]()+a}}var vOe=gOe,xOe=vOe,yOe=xOe("toUpperCase"),wOe=yOe;const _S=fr(wOe);function Er(e){return function(){return e}}const sK=Math.cos,U1=Math.sin,Fo=Math.sqrt,V1=Math.PI,SS=2*V1,IE=Math.PI,ME=2*IE,md=1e-6,bOe=ME-md;function iK(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _Oe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return iK;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class SOe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?iK:_Oe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>md)if(!(Math.abs(f*c-u*d)>md)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,g=a-l,p=c*c+u*u,v=m*m+g*g,w=Math.sqrt(p),x=Math.sqrt(h),b=s*Math.tan((IE-Math.acos((p+h-v)/(2*w*x)))/2),_=b/x,S=b/w;Math.abs(_-1)>md&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>md||Math.abs(this._y1-d)>md)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%ME+ME),h>bOe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>md&&this._append`A${n},${n},0,${+(h>=IE)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function EP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new SOe(t)}function CP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oK(e){this._context=e}oK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jS(e){return new oK(e)}function lK(e){return e[0]}function cK(e){return e[1]}function uK(e,t){var r=Er(!0),n=null,a=jS,s=null,i=EP(l);e=typeof e=="function"?e:e===void 0?lK:Er(e),t=typeof t=="function"?t:t===void 0?cK:Er(t);function l(c){var u,d=(c=CP(c)).length,f,h=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Er(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Er(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Er(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Hy(e,t,r){var n=null,a=Er(!0),s=null,i=jS,l=null,c=EP(u);e=typeof e=="function"?e:e===void 0?lK:Er(+e),t=typeof t=="function"?t:Er(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?cK:Er(+r);function u(f){var h,m,g,p=(f=CP(f)).length,v,w=!1,x,b=new Array(p),_=new Array(p);for(s==null&&(l=i(x=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===w)if(w=!w)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],_[g]);l.lineEnd(),l.areaEnd()}w&&(b[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return uK().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Er(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Er(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Er(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Er(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Er(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Er(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Er(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class dK{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jOe(e){return new dK(e,!0)}function kOe(e){return new dK(e,!1)}const TP={draw(e,t){const r=Fo(t/V1);e.moveTo(r,0),e.arc(0,0,r,0,SS)}},NOe={draw(e,t){const r=Fo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},fK=Fo(1/3),EOe=fK*2,COe={draw(e,t){const r=Fo(t/EOe),n=r*fK;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},TOe={draw(e,t){const r=Fo(t),n=-r/2;e.rect(n,n,r,r)}},AOe=.8908130915292852,hK=U1(V1/10)/U1(7*V1/10),OOe=U1(SS/10)*hK,POe=-sK(SS/10)*hK,DOe={draw(e,t){const r=Fo(t*AOe),n=OOe*r,a=POe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=SS*s/5,l=sK(i),c=U1(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Uk=Fo(3),ROe={draw(e,t){const r=-Fo(t/(Uk*3));e.moveTo(0,r*2),e.lineTo(-Uk*r,-r),e.lineTo(Uk*r,-r),e.closePath()}},wi=-.5,bi=Fo(3)/2,FE=1/Fo(12),IOe=(FE/2+1)*3,MOe={draw(e,t){const r=Fo(t/IOe),n=r/2,a=r*FE,s=n,i=r*FE+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(wi*n-bi*a,bi*n+wi*a),e.lineTo(wi*s-bi*i,bi*s+wi*i),e.lineTo(wi*l-bi*c,bi*l+wi*c),e.lineTo(wi*n+bi*a,wi*a-bi*n),e.lineTo(wi*s+bi*i,wi*i-bi*s),e.lineTo(wi*l+bi*c,wi*c-bi*l),e.closePath()}};function FOe(e,t){let r=null,n=EP(a);e=typeof e=="function"?e:Er(e||TP),t=typeof t=="function"?t:Er(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Er(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Er(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function W1(){}function z1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function mK(e){this._context=e}mK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:z1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:z1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LOe(e){return new mK(e)}function pK(e){this._context=e}pK.prototype={areaStart:W1,areaEnd:W1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:z1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $Oe(e){return new pK(e)}function gK(e){this._context=e}gK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:z1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BOe(e){return new gK(e)}function vK(e){this._context=e}vK.prototype={areaStart:W1,areaEnd:W1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function UOe(e){return new vK(e)}function s3(e){return e<0?-1:1}function i3(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(s3(s)+s3(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function o3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Vk(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function H1(e){this._context=e}H1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vk(this,this._t0,o3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vk(this,o3(this,r=i3(this,e,t)),r);break;default:Vk(this,this._t0,r=i3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function xK(e){this._context=new yK(e)}(xK.prototype=Object.create(H1.prototype)).point=function(e,t){H1.prototype.point.call(this,t,e)};function yK(e){this._context=e}yK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function VOe(e){return new H1(e)}function WOe(e){return new xK(e)}function wK(e){this._context=e}wK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=l3(e),a=l3(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function l3(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function zOe(e){return new wK(e)}function kS(e,t){this._context=e,this._t=t}kS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function HOe(e){return new kS(e,.5)}function qOe(e){return new kS(e,0)}function GOe(e){return new kS(e,1)}function $m(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function LE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function KOe(e,t){return e[t]}function YOe(e){const t=[];return t.key=e,t}function XOe(){var e=Er([]),t=LE,r=$m,n=KOe;function a(s){var i=Array.from(e.apply(this,arguments),YOe),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=CP(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Er(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Er(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?LE:typeof s=="function"?s:Er(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??$m,a):r},a}function JOe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}$m(e,t)}}function QOe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}$m(e,t)}}function ZOe(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,w=p[n-1][1]||0;m+=v-w}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,$m(e,t)}}function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}var ePe=["type","size","sizeType"];function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(this,arguments)}function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(n){tPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tPe(e,t,r){return t=rPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rPe(e){var t=nPe(e,"string");return lv(t)=="symbol"?t:t+""}function nPe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aPe(e,t){if(e==null)return{};var r=sPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bK={symbolCircle:TP,symbolCross:NOe,symbolDiamond:COe,symbolSquare:TOe,symbolStar:DOe,symbolTriangle:ROe,symbolWye:MOe},iPe=Math.PI/180,oPe=function(t){var r="symbol".concat(_S(t));return bK[r]||TP},lPe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*iPe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},cPe=function(t,r){bK["symbol".concat(_S(t))]=r},AP=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=aPe(t,ePe),u=u3(u3({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=oPe(n),w=FOe().type(v).size(lPe(s,l,n));return w()},f=u.className,h=u.cx,m=u.cy,g=bt(u,!0);return h===+h&&m===+m&&s===+s?te.createElement("path",$E({},g,{className:$t("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};AP.registerSymbol=cPe;function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BE.apply(this,arguments)}function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uPe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){cv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SK(n.key),n)}}function hPe(e,t,r){return t&&fPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mPe(e,t,r){return t=q1(t),pPe(e,_K()?Reflect.construct(t,r||[],q1(e).constructor):t.apply(e,r))}function pPe(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gPe(e)}function gPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_K=function(){return!!e})()}function q1(e){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q1(e)}function vPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UE(e,t)}function cv(e,t,r){return t=SK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=xPe(e,"string");return Bm(t)=="symbol"?t:t+""}function xPe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _i=32,OP=function(e){function t(){return dPe(this,t),mPe(this,t,arguments)}return vPe(t,e),hPe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=_i/2,i=_i/6,l=_i/3,c=n.inactive?a:n.color;if(n.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:_i,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(_i,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return te.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(_i/8,"h").concat(_i,"v").concat(_i*3/4,"h").concat(-_i,"z"),className:"recharts-legend-icon"});if(te.isValidElement(n.legendIcon)){var u=uPe({},n);return delete u.legendIcon,te.cloneElement(n.legendIcon,u)}return te.createElement(AP,{fill:c,cx:s,cy:s,size:_i,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:_i,height:_i},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var p=m.formatter||c,v=$t(cv(cv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=At(m.value)?null:m.value;ko(!At(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return te.createElement("li",BE({className:v,style:f,key:"legend-item-".concat(g)},bf(n.props,m,g)),te.createElement(OE,{width:i,height:i,viewBox:d,style:h},n.renderIcon(m)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(w,m,g):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);cv(OP,"displayName","Legend");cv(OP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yPe=cS;function wPe(){this.__data__=new yPe,this.size=0}var bPe=wPe;function _Pe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var SPe=_Pe;function jPe(e){return this.__data__.get(e)}var kPe=jPe;function NPe(e){return this.__data__.has(e)}var EPe=NPe,CPe=cS,TPe=xP,APe=yP,OPe=200;function PPe(e,t){var r=this.__data__;if(r instanceof CPe){var n=r.__data__;if(!TPe||n.length<OPe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new APe(n)}return r.set(e,t),this.size=r.size,this}var DPe=PPe,RPe=cS,IPe=bPe,MPe=SPe,FPe=kPe,LPe=EPe,$Pe=DPe;function Wp(e){var t=this.__data__=new RPe(e);this.size=t.size}Wp.prototype.clear=IPe;Wp.prototype.delete=MPe;Wp.prototype.get=FPe;Wp.prototype.has=LPe;Wp.prototype.set=$Pe;var jK=Wp,BPe="__lodash_hash_undefined__";function UPe(e){return this.__data__.set(e,BPe),this}var VPe=UPe;function WPe(e){return this.__data__.has(e)}var zPe=WPe,HPe=yP,qPe=VPe,GPe=zPe;function G1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new HPe;++t<r;)this.add(e[t])}G1.prototype.add=G1.prototype.push=qPe;G1.prototype.has=GPe;var kK=G1;function KPe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var NK=KPe;function YPe(e,t){return e.has(t)}var EK=YPe,XPe=kK,JPe=NK,QPe=EK,ZPe=1,e4e=2;function t4e(e,t,r,n,a,s){var i=r&ZPe,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&e4e?new XPe:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=i?n(p,g,f,t,e,s):n(g,p,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!JPe(t,function(w,x){if(!QPe(m,x)&&(g===w||a(g,w,r,n,s)))return m.push(x)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var CK=t4e,r4e=jl,n4e=r4e.Uint8Array,a4e=n4e;function s4e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var i4e=s4e;function o4e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var PP=o4e,f3=Rx,h3=a4e,l4e=vP,c4e=CK,u4e=i4e,d4e=PP,f4e=1,h4e=2,m4e="[object Boolean]",p4e="[object Date]",g4e="[object Error]",v4e="[object Map]",x4e="[object Number]",y4e="[object RegExp]",w4e="[object Set]",b4e="[object String]",_4e="[object Symbol]",S4e="[object ArrayBuffer]",j4e="[object DataView]",m3=f3?f3.prototype:void 0,Wk=m3?m3.valueOf:void 0;function k4e(e,t,r,n,a,s,i){switch(r){case j4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S4e:return!(e.byteLength!=t.byteLength||!s(new h3(e),new h3(t)));case m4e:case p4e:case x4e:return l4e(+e,+t);case g4e:return e.name==t.name&&e.message==t.message;case y4e:case b4e:return e==t+"";case v4e:var l=u4e;case w4e:var c=n&f4e;if(l||(l=d4e),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=h4e,i.set(e,t);var d=c4e(l(e),l(t),n,a,s,i);return i.delete(e),d;case _4e:if(Wk)return Wk.call(e)==Wk.call(t)}return!1}var N4e=k4e;function E4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var TK=E4e,C4e=TK,T4e=Ws;function A4e(e,t,r){var n=t(e);return T4e(e)?n:C4e(n,r(e))}var O4e=A4e;function P4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var D4e=P4e;function R4e(){return[]}var I4e=R4e,M4e=D4e,F4e=I4e,L4e=Object.prototype,$4e=L4e.propertyIsEnumerable,p3=Object.getOwnPropertySymbols,B4e=p3?function(e){return e==null?[]:(e=Object(e),M4e(p3(e),function(t){return $4e.call(e,t)}))}:F4e,U4e=B4e;function V4e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var W4e=V4e,z4e=yc,H4e=wc,q4e="[object Arguments]";function G4e(e){return H4e(e)&&z4e(e)==q4e}var K4e=G4e,g3=K4e,Y4e=wc,AK=Object.prototype,X4e=AK.hasOwnProperty,J4e=AK.propertyIsEnumerable,Q4e=g3(function(){return arguments}())?g3:function(e){return Y4e(e)&&X4e.call(e,"callee")&&!J4e.call(e,"callee")},DP=Q4e,K1={exports:{}};function Z4e(){return!1}var eDe=Z4e;K1.exports;(function(e,t){var r=jl,n=eDe,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(K1,K1.exports);var OK=K1.exports,tDe=9007199254740991,rDe=/^(?:0|[1-9]\d*)$/;function nDe(e,t){var r=typeof e;return t=t??tDe,!!t&&(r=="number"||r!="symbol"&&rDe.test(e))&&e>-1&&e%1==0&&e<t}var RP=nDe,aDe=9007199254740991;function sDe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=aDe}var IP=sDe,iDe=yc,oDe=IP,lDe=wc,cDe="[object Arguments]",uDe="[object Array]",dDe="[object Boolean]",fDe="[object Date]",hDe="[object Error]",mDe="[object Function]",pDe="[object Map]",gDe="[object Number]",vDe="[object Object]",xDe="[object RegExp]",yDe="[object Set]",wDe="[object String]",bDe="[object WeakMap]",_De="[object ArrayBuffer]",SDe="[object DataView]",jDe="[object Float32Array]",kDe="[object Float64Array]",NDe="[object Int8Array]",EDe="[object Int16Array]",CDe="[object Int32Array]",TDe="[object Uint8Array]",ADe="[object Uint8ClampedArray]",ODe="[object Uint16Array]",PDe="[object Uint32Array]",Ir={};Ir[jDe]=Ir[kDe]=Ir[NDe]=Ir[EDe]=Ir[CDe]=Ir[TDe]=Ir[ADe]=Ir[ODe]=Ir[PDe]=!0;Ir[cDe]=Ir[uDe]=Ir[_De]=Ir[dDe]=Ir[SDe]=Ir[fDe]=Ir[hDe]=Ir[mDe]=Ir[pDe]=Ir[gDe]=Ir[vDe]=Ir[xDe]=Ir[yDe]=Ir[wDe]=Ir[bDe]=!1;function DDe(e){return lDe(e)&&oDe(e.length)&&!!Ir[iDe(e)]}var RDe=DDe;function IDe(e){return function(t){return e(t)}}var PK=IDe,Y1={exports:{}};Y1.exports;(function(e,t){var r=BG,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(Y1,Y1.exports);var MDe=Y1.exports,FDe=RDe,LDe=PK,v3=MDe,x3=v3&&v3.isTypedArray,$De=x3?LDe(x3):FDe,DK=$De,BDe=W4e,UDe=DP,VDe=Ws,WDe=OK,zDe=RP,HDe=DK,qDe=Object.prototype,GDe=qDe.hasOwnProperty;function KDe(e,t){var r=VDe(e),n=!r&&UDe(e),a=!r&&!n&&WDe(e),s=!r&&!n&&!a&&HDe(e),i=r||n||a||s,l=i?BDe(e.length,String):[],c=l.length;for(var u in e)(t||GDe.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zDe(u,c)))&&l.push(u);return l}var YDe=KDe,XDe=Object.prototype;function JDe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||XDe;return e===r}var QDe=JDe;function ZDe(e,t){return function(r){return e(t(r))}}var RK=ZDe,eRe=RK,tRe=eRe(Object.keys,Object),rRe=tRe,nRe=QDe,aRe=rRe,sRe=Object.prototype,iRe=sRe.hasOwnProperty;function oRe(e){if(!nRe(e))return aRe(e);var t=[];for(var r in Object(e))iRe.call(e,r)&&r!="constructor"&&t.push(r);return t}var lRe=oRe,cRe=gP,uRe=IP;function dRe(e){return e!=null&&uRe(e.length)&&!cRe(e)}var Mx=dRe,fRe=YDe,hRe=lRe,mRe=Mx;function pRe(e){return mRe(e)?fRe(e):hRe(e)}var NS=pRe,gRe=O4e,vRe=U4e,xRe=NS;function yRe(e){return gRe(e,xRe,vRe)}var wRe=yRe,y3=wRe,bRe=1,_Re=Object.prototype,SRe=_Re.hasOwnProperty;function jRe(e,t,r,n,a,s){var i=r&bRe,l=y3(e),c=l.length,u=y3(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:SRe.call(t,h)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=i;++f<c;){h=l[f];var w=e[h],x=t[h];if(n)var b=i?n(x,w,h,t,e,s):n(w,x,h,e,t,s);if(!(b===void 0?w===x||a(w,x,r,n,s):b)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(p=!1)}return s.delete(e),s.delete(t),p}var kRe=jRe,NRe=$f,ERe=jl,CRe=NRe(ERe,"DataView"),TRe=CRe,ARe=$f,ORe=jl,PRe=ARe(ORe,"Promise"),DRe=PRe,RRe=$f,IRe=jl,MRe=RRe(IRe,"Set"),IK=MRe,FRe=$f,LRe=jl,$Re=FRe(LRe,"WeakMap"),BRe=$Re,VE=TRe,WE=xP,zE=DRe,HE=IK,qE=BRe,MK=yc,zp=VG,w3="[object Map]",URe="[object Object]",b3="[object Promise]",_3="[object Set]",S3="[object WeakMap]",j3="[object DataView]",VRe=zp(VE),WRe=zp(WE),zRe=zp(zE),HRe=zp(HE),qRe=zp(qE),pd=MK;(VE&&pd(new VE(new ArrayBuffer(1)))!=j3||WE&&pd(new WE)!=w3||zE&&pd(zE.resolve())!=b3||HE&&pd(new HE)!=_3||qE&&pd(new qE)!=S3)&&(pd=function(e){var t=MK(e),r=t==URe?e.constructor:void 0,n=r?zp(r):"";if(n)switch(n){case VRe:return j3;case WRe:return w3;case zRe:return b3;case HRe:return _3;case qRe:return S3}return t});var GRe=pd,zk=jK,KRe=CK,YRe=N4e,XRe=kRe,k3=GRe,N3=Ws,E3=OK,JRe=DK,QRe=1,C3="[object Arguments]",T3="[object Array]",qy="[object Object]",ZRe=Object.prototype,A3=ZRe.hasOwnProperty;function eIe(e,t,r,n,a,s){var i=N3(e),l=N3(t),c=i?T3:k3(e),u=l?T3:k3(t);c=c==C3?qy:c,u=u==C3?qy:u;var d=c==qy,f=u==qy,h=c==u;if(h&&E3(e)){if(!E3(t))return!1;i=!0,d=!1}if(h&&!d)return s||(s=new zk),i||JRe(e)?KRe(e,t,r,n,a,s):YRe(e,t,c,r,n,a,s);if(!(r&QRe)){var m=d&&A3.call(e,"__wrapped__"),g=f&&A3.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return s||(s=new zk),a(p,v,r,n,s)}}return h?(s||(s=new zk),XRe(e,t,r,n,a,s)):!1}var tIe=eIe,rIe=tIe,O3=wc;function FK(e,t,r,n,a){return e===t?!0:e==null||t==null||!O3(e)&&!O3(t)?e!==e&&t!==t:rIe(e,t,r,n,FK,a)}var MP=FK,nIe=jK,aIe=MP,sIe=1,iIe=2;function oIe(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new nIe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?aIe(d,u,sIe|iIe,n,f):h))return!1}}return!0}var lIe=oIe,cIe=Qu;function uIe(e){return e===e&&!cIe(e)}var LK=uIe,dIe=LK,fIe=NS;function hIe(e){for(var t=fIe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,dIe(a)]}return t}var mIe=hIe;function pIe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var $K=pIe,gIe=lIe,vIe=mIe,xIe=$K;function yIe(e){var t=vIe(e);return t.length==1&&t[0][2]?xIe(t[0][0],t[0][1]):function(r){return r===e||gIe(r,e,t)}}var wIe=yIe;function bIe(e,t){return e!=null&&t in Object(e)}var _Ie=bIe,SIe=GG,jIe=DP,kIe=Ws,NIe=RP,EIe=IP,CIe=dS;function TIe(e,t,r){t=SIe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=CIe(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&EIe(a)&&NIe(i,a)&&(kIe(e)||jIe(e)))}var AIe=TIe,OIe=_Ie,PIe=AIe;function DIe(e,t){return e!=null&&PIe(e,t,OIe)}var RIe=DIe,IIe=MP,MIe=KG,FIe=RIe,LIe=pP,$Ie=LK,BIe=$K,UIe=dS,VIe=1,WIe=2;function zIe(e,t){return LIe(e)&&$Ie(t)?BIe(UIe(e),t):function(r){var n=MIe(r,e);return n===void 0&&n===t?FIe(r,e):IIe(t,n,VIe|WIe)}}var HIe=zIe;function qIe(e){return e}var Hp=qIe;function GIe(e){return function(t){return t==null?void 0:t[e]}}var KIe=GIe,YIe=_P;function XIe(e){return function(t){return YIe(t,e)}}var JIe=XIe,QIe=KIe,ZIe=JIe,eMe=pP,tMe=dS;function rMe(e){return eMe(e)?QIe(tMe(e)):ZIe(e)}var nMe=rMe,aMe=wIe,sMe=HIe,iMe=Hp,oMe=Ws,lMe=nMe;function cMe(e){return typeof e=="function"?e:e==null?iMe:typeof e=="object"?oMe(e)?sMe(e[0],e[1]):aMe(e):lMe(e)}var kl=cMe;function uMe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var BK=uMe;function dMe(e){return e!==e}var fMe=dMe;function hMe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var mMe=hMe,pMe=BK,gMe=fMe,vMe=mMe;function xMe(e,t,r){return t===t?vMe(e,t,r):pMe(e,gMe,r)}var yMe=xMe,wMe=yMe;function bMe(e,t){var r=e==null?0:e.length;return!!r&&wMe(e,t,0)>-1}var _Me=bMe;function SMe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var jMe=SMe;function kMe(){}var NMe=kMe,Hk=IK,EMe=NMe,CMe=PP,TMe=1/0,AMe=Hk&&1/CMe(new Hk([,-0]))[1]==TMe?function(e){return new Hk(e)}:EMe,OMe=AMe,PMe=kK,DMe=_Me,RMe=jMe,IMe=EK,MMe=OMe,FMe=PP,LMe=200;function $Me(e,t,r){var n=-1,a=DMe,s=e.length,i=!0,l=[],c=l;if(r)i=!1,a=RMe;else if(s>=LMe){var u=t?null:MMe(e);if(u)return FMe(u);i=!1,a=IMe,c=new PMe}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var BMe=$Me,UMe=kl,VMe=BMe;function WMe(e,t){return e&&e.length?VMe(e,UMe(t)):[]}var zMe=WMe;const P3=fr(zMe);function UK(e,t,r){return t===!0?P3(e,r):At(t)?P3(e,t):e}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var HMe=["ref"];function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){ES(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WK(n.key),n)}}function GMe(e,t,r){return t&&R3(e.prototype,t),r&&R3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KMe(e,t,r){return t=X1(t),YMe(e,VK()?Reflect.construct(t,r||[],X1(e).constructor):t.apply(e,r))}function YMe(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XMe(e)}function XMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VK=function(){return!!e})()}function X1(e){return X1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X1(e)}function JMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GE(e,t)}function ES(e,t,r){return t=WK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=QMe(e,"string");return Um(t)=="symbol"?t:t+""}function QMe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZMe(e,t){if(e==null)return{};var r=eFe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tFe(e){return e.value}function rFe(e,t){if(te.isValidElement(e))return te.cloneElement(e,t);if(typeof e=="function")return te.createElement(e,t);t.ref;var r=ZMe(t,HMe);return te.createElement(OP,r)}var I3=1,Su=function(e){function t(){var r;qMe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=KMe(this,t,[].concat(a)),ES(r,"lastBoundingBox",{width:-1,height:-1}),r}return JMe(t,e),GMe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>I3||Math.abs(a.height-this.lastBoundingBox.height)>I3)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Cl(Cl({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Cl(Cl({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return te.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},rFe(s,Cl(Cl({},this.props),{},{payload:UK(d,u,tFe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Cl(Cl({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&Xe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(y.PureComponent);ES(Su,"displayName","Legend");ES(Su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var M3=Rx,nFe=DP,aFe=Ws,F3=M3?M3.isConcatSpreadable:void 0;function sFe(e){return aFe(e)||nFe(e)||!!(F3&&e&&e[F3])}var iFe=sFe,oFe=TK,lFe=iFe;function zK(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=lFe),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?zK(l,t-1,r,n,a):oFe(a,l):n||(a[a.length]=l)}return a}var HK=zK;function cFe(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var uFe=cFe,dFe=uFe,fFe=dFe(),hFe=fFe,mFe=hFe,pFe=NS;function gFe(e,t){return e&&mFe(e,t,pFe)}var qK=gFe,vFe=Mx;function xFe(e,t){return function(r,n){if(r==null)return r;if(!vFe(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var yFe=xFe,wFe=qK,bFe=yFe,_Fe=bFe(wFe),FP=_Fe,SFe=FP,jFe=Mx;function kFe(e,t){var r=-1,n=jFe(e)?Array(e.length):[];return SFe(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var GK=kFe;function NFe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var EFe=NFe,L3=Fp;function CFe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=L3(e),i=t!==void 0,l=t===null,c=t===t,u=L3(t);if(!l&&!u&&!s&&e>t||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var TFe=CFe,AFe=TFe;function OFe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,l=r.length;++n<i;){var c=AFe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var PFe=OFe,qk=bP,DFe=_P,RFe=kl,IFe=GK,MFe=EFe,FFe=PK,LFe=PFe,$Fe=Hp,BFe=Ws;function UFe(e,t,r){t.length?t=qk(t,function(s){return BFe(s)?function(i){return DFe(i,s.length===1?s[0]:s)}:s}):t=[$Fe];var n=-1;t=qk(t,FFe(RFe));var a=IFe(e,function(s,i,l){var c=qk(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return MFe(a,function(s,i){return LFe(s,i,r)})}var VFe=UFe;function WFe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var zFe=WFe,HFe=zFe,$3=Math.max;function qFe(e,t,r){return t=$3(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=$3(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),HFe(e,this,l)}}var GFe=qFe;function KFe(e){return function(){return e}}var YFe=KFe,XFe=$f,JFe=function(){try{var e=XFe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),KK=JFe,QFe=YFe,B3=KK,ZFe=Hp,e3e=B3?function(e,t){return B3(e,"toString",{configurable:!0,enumerable:!1,value:QFe(t),writable:!0})}:ZFe,t3e=e3e,r3e=800,n3e=16,a3e=Date.now;function s3e(e){var t=0,r=0;return function(){var n=a3e(),a=n3e-(n-r);if(r=n,a>0){if(++t>=r3e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var i3e=s3e,o3e=t3e,l3e=i3e,c3e=l3e(o3e),u3e=c3e,d3e=Hp,f3e=GFe,h3e=u3e;function m3e(e,t){return h3e(f3e(e,t,d3e),e+"")}var p3e=m3e,g3e=vP,v3e=Mx,x3e=RP,y3e=Qu;function w3e(e,t,r){if(!y3e(r))return!1;var n=typeof t;return(n=="number"?v3e(r)&&x3e(t,r.length):n=="string"&&t in r)?g3e(r[t],e):!1}var CS=w3e,b3e=HK,_3e=VFe,S3e=p3e,U3=CS,j3e=S3e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&U3(e,t[0],t[1])?t=[]:r>2&&U3(t[0],t[1],t[2])&&(t=[t[0]]),_3e(e,b3e(t,1),[])}),k3e=j3e;const LP=fr(k3e);function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KE.apply(this,arguments)}function N3e(e,t){return A3e(e)||T3e(e,t)||C3e(e,t)||E3e()}function E3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C3e(e,t){if(e){if(typeof e=="string")return V3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V3(e,t)}}function V3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function A3e(e){if(Array.isArray(e))return e}function W3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(r),!0).forEach(function(n){O3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O3e(e,t,r){return t=P3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P3e(e){var t=D3e(e,"string");return uv(t)=="symbol"?t:t+""}function D3e(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R3e(e){return Array.isArray(e)&&Ln(e[0])&&Ln(e[1])?e.join(" ~ "):e}var I3e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,w=t.accessibilityLayer,x=w===void 0?!1:w,b=function(){if(d&&d.length){var T={padding:0,margin:0},U=(h?LP(d,h):d).map(function(z,q){if(z.type==="none")return null;var I=Gk({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),L=z.formatter||f||R3e,M=z.value,D=z.name,K=M,Z=D;if(L&&K!=null&&Z!=null){var C=L(M,D,z,q,d);if(Array.isArray(C)){var Y=N3e(C,2);K=Y[0],Z=Y[1]}else K=C}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:I},Ln(Z)?te.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Ln(Z)?te.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,te.createElement("span",{className:"recharts-tooltip-item-value"},K),te.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:T},U)}return null},_=Gk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=Gk({margin:0},u),k=!Lt(p),j=k?p:"",E=$t("recharts-default-tooltip",m),N=$t("recharts-tooltip-label",g);k&&v&&d!==void 0&&d!==null&&(j=v(p,d));var O=x?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",KE({className:E,style:_},O),te.createElement("p",{className:N,style:S},te.isValidElement(j)?j:"".concat(j)),b())};function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function Gy(e,t,r){return t=M3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M3e(e){var t=F3e(e,"string");return dv(t)=="symbol"?t:t+""}function F3e(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p0="recharts-tooltip-wrapper",L3e={visibility:"hidden"};function $3e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return $t(p0,Gy(Gy(Gy(Gy({},"".concat(p0,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(p0,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(p0,"-bottom"),Xe(n)&&t&&Xe(t.y)&&n>=t.y),"".concat(p0,"-top"),Xe(n)&&t&&Xe(t.y)&&n<t.y))}function z3(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Xe(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function B3e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function U3e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=z3({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=z3({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=B3e({translateX:d,translateY:f,useTranslate3d:l})):u=L3e,{cssProperties:u,cssClasses:$3e({translateX:d,translateY:f,coordinate:r})}}function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){XE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XK(n.key),n)}}function z3e(e,t,r){return t&&W3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H3e(e,t,r){return t=J1(t),q3e(e,YK()?Reflect.construct(t,r||[],J1(e).constructor):t.apply(e,r))}function q3e(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G3e(e)}function G3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YK=function(){return!!e})()}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J1(e)}function K3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YE(e,t)}function XE(e,t,r){return t=XK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=Y3e(e,"string");return Vm(t)=="symbol"?t:t+""}function Y3e(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G3=1,X3e=function(e){function t(){var r;V3e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=H3e(this,t,[].concat(a)),XE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),XE(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return K3e(t,e),z3e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>G3||Math.abs(n.height-this.state.lastBoundingBox.height)>G3)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,w=a.viewBox,x=a.wrapperStyle,b=U3e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),_=b.cssClasses,S=b.cssProperties,k=q3(q3({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return te.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(E){n.wrapperNode=E}},u)}}])}(y.PureComponent),J3e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cl={isSsr:J3e(),get:function(t){return cl[t]},set:function(t,r){if(typeof t=="string")cl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){cl[a]=t[a]})}}};function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(n){$P(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QK(n.key),n)}}function eLe(e,t,r){return t&&Z3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tLe(e,t,r){return t=Q1(t),rLe(e,JK()?Reflect.construct(t,r||[],Q1(e).constructor):t.apply(e,r))}function rLe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nLe(e)}function nLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JK=function(){return!!e})()}function Q1(e){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q1(e)}function aLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JE(e,t)}function $P(e,t,r){return t=QK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=sLe(e,"string");return Wm(t)=="symbol"?t:t+""}function sLe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iLe(e){return e.dataKey}function oLe(e,t){return te.isValidElement(e)?te.cloneElement(e,t):typeof e=="function"?te.createElement(e,t):te.createElement(I3e,t)}var Ei=function(e){function t(){return Q3e(this,t),tLe(this,t,arguments)}return aLe(t,e),eLe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,w=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=UK(g.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),p,iLe));var k=S.length>0;return te.createElement(X3e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:k,offset:m,position:v,reverseDirection:w,useTranslate3d:x,viewBox:b,wrapperStyle:_},oLe(u,Y3(Y3({},this.props),{},{payload:S})))}}])}(y.PureComponent);$P(Ei,"displayName","Tooltip");$P(Ei,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lLe=jl,cLe=function(){return lLe.Date.now()},uLe=cLe,dLe=/\s/;function fLe(e){for(var t=e.length;t--&&dLe.test(e.charAt(t)););return t}var hLe=fLe,mLe=hLe,pLe=/^\s+/;function gLe(e){return e&&e.slice(0,mLe(e)+1).replace(pLe,"")}var vLe=gLe,xLe=vLe,X3=Qu,yLe=Fp,J3=NaN,wLe=/^[-+]0x[0-9a-f]+$/i,bLe=/^0b[01]+$/i,_Le=/^0o[0-7]+$/i,SLe=parseInt;function jLe(e){if(typeof e=="number")return e;if(yLe(e))return J3;if(X3(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=X3(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xLe(e);var r=bLe.test(e);return r||_Le.test(e)?SLe(e.slice(2),r?2:8):wLe.test(e)?J3:+e}var ZK=jLe,kLe=Qu,Kk=uLe,Q3=ZK,NLe="Expected a function",ELe=Math.max,CLe=Math.min;function TLe(e,t,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(NLe);t=Q3(t)||0,kLe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?ELe(Q3(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(k){var j=n,E=a;return n=a=void 0,u=k,i=e.apply(E,j),i}function g(k){return u=k,l=setTimeout(w,t),d?m(k):i}function p(k){var j=k-c,E=k-u,N=t-j;return f?CLe(N,s-E):N}function v(k){var j=k-c,E=k-u;return c===void 0||j>=t||j<0||f&&E>=s}function w(){var k=Kk();if(v(k))return x(k);l=setTimeout(w,p(k))}function x(k){return l=void 0,h&&n?m(k):(n=a=void 0,i)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?i:x(Kk())}function S(){var k=Kk(),j=v(k);if(n=arguments,a=this,c=k,j){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(w,t),m(c)}return l===void 0&&(l=setTimeout(w,t)),i}return S.cancel=b,S.flush=_,S}var ALe=TLe,OLe=ALe,PLe=Qu,DLe="Expected a function";function RLe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(DLe);return PLe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),OLe(e,t,{leading:n,maxWait:t,trailing:a})}var ILe=RLe;const eY=fr(ILe);function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){MLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MLe(e,t,r){return t=FLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FLe(e){var t=LLe(e,"string");return fv(t)=="symbol"?t:t+""}function LLe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Le(e,t){return WLe(e)||VLe(e,t)||ULe(e,t)||BLe()}function BLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ULe(e,t){if(e){if(typeof e=="string")return eL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eL(e,t)}}function eL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function WLe(e){if(Array.isArray(e))return e}var BP=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,w=e.className,x=e.onResize,b=e.style,_=b===void 0?{}:b,S=y.useRef(null),k=y.useRef();k.current=x,y.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=y.useState({containerWidth:a.width,containerHeight:a.height}),E=$Le(j,2),N=E[0],O=E[1],R=y.useCallback(function(U,z){O(function(q){var I=Math.round(U),L=Math.round(z);return q.containerWidth===I&&q.containerHeight===L?q:{containerWidth:I,containerHeight:L}})},[]);y.useEffect(function(){var U=function(D){var K,Z=D[0].contentRect,C=Z.width,Y=Z.height;R(C,Y),(K=k.current)===null||K===void 0||K.call(k,C,Y)};p>0&&(U=eY(U,p,{trailing:!0,leading:!1}));var z=new ResizeObserver(U),q=S.current.getBoundingClientRect(),I=q.width,L=q.height;return R(I,L),z.observe(S.current),function(){z.disconnect()}},[R,p]);var T=y.useMemo(function(){var U=N.containerWidth,z=N.containerHeight;if(U<0||z<0)return null;ko(Td(i)||Td(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),ko(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=Td(i)?U:i,I=Td(c)?z:c;r&&r>0&&(q?I=q/r:I&&(q=I*r),h&&I>h&&(I=h)),ko(q>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,I,i,c,d,f,r);var L=!Array.isArray(m)&&Yl(m.type).endsWith("Chart");return te.Children.map(m,function(M){return te.isValidElement(M)?y.cloneElement(M,Ky({width:q,height:I},L?{style:Ky({height:"100%",width:"100%",maxHeight:I,maxWidth:q},M.props.style)}:{})):M})},[r,m,c,h,f,d,N,i]);return te.createElement("div",{id:v?"".concat(v):void 0,className:$t("recharts-responsive-container",w),style:Ky(Ky({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},T)}),po=function(t){return null};po.displayName="Cell";function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function tL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(r),!0).forEach(function(n){zLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zLe(e,t,r){return t=HLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HLe(e){var t=qLe(e,"string");return hv(t)=="symbol"?t:t+""}function qLe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rh={widthCache:{},cacheCount:0},GLe=2e3,KLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rL="recharts_measurement_span";function YLe(e){var t=QE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var mg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||cl.isSsr)return{width:0,height:0};var n=YLe(r),a=JSON.stringify({text:t,copyStyle:n});if(rh.widthCache[a])return rh.widthCache[a];try{var s=document.getElementById(rL);s||(s=document.createElement("span"),s.setAttribute("id",rL),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=QE(QE({},KLe),n);Object.assign(s.style,i),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return rh.widthCache[a]=c,++rh.cacheCount>GLe&&(rh.cacheCount=0,rh.widthCache={}),c}catch{return{width:0,height:0}}},XLe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function Z1(e,t){return e$e(e)||ZLe(e,t)||QLe(e,t)||JLe()}function JLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QLe(e,t){if(e){if(typeof e=="string")return nL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nL(e,t)}}function nL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function e$e(e){if(Array.isArray(e))return e}function t$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n$e(n.key),n)}}function r$e(e,t,r){return t&&aL(e.prototype,t),r&&aL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n$e(e){var t=a$e(e,"string");return mv(t)=="symbol"?t:t+""}function a$e(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,i$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},o$e=Object.keys(tY),Rh="NaN";function l$e(e,t){return e*tY[t]}var Yy=function(){function e(t,r){t$e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!s$e.test(r)&&(this.num=NaN,this.unit=""),o$e.includes(r)&&(this.num=l$e(t,r),this.unit="px")}return r$e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=i$e.exec(r))!==null&&n!==void 0?n:[],s=Z1(a,3),i=s[1],l=s[2];return new e(parseFloat(i),l??"")}}])}();function rY(e){if(e.includes(Rh))return Rh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=sL.exec(t))!==null&&r!==void 0?r:[],a=Z1(n,4),s=a[1],i=a[2],l=a[3],c=Yy.parse(s??""),u=Yy.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Rh;t=t.replace(sL,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=iL.exec(t))!==null&&f!==void 0?f:[],m=Z1(h,4),g=m[1],p=m[2],v=m[3],w=Yy.parse(g??""),x=Yy.parse(v??""),b=p==="+"?w.add(x):w.subtract(x);if(b.isNaN())return Rh;t=t.replace(iL,b.toString())}return t}var oL=/\(([^()]*)\)/;function c$e(e){for(var t=e;t.includes("(");){var r=oL.exec(t),n=Z1(r,2),a=n[1];t=t.replace(oL,rY(a))}return t}function u$e(e){var t=e.replace(/\s+/g,"");return t=c$e(t),t=rY(t),t}function d$e(e){try{return u$e(e)}catch{return Rh}}function Yk(e){var t=d$e(e.slice(5,-1));return t===Rh?"":t}var f$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],h$e=["dx","dy","angle","className","breakAll"];function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZE.apply(this,arguments)}function lL(e,t){if(e==null)return{};var r=m$e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cL(e,t){return x$e(e)||v$e(e,t)||g$e(e,t)||p$e()}function p$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g$e(e,t){if(e){if(typeof e=="string")return uL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uL(e,t)}}function uL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function x$e(e){if(Array.isArray(e))return e}var nY=/[ \f\n\r\t\v\u2028\u2029]+/,aY=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Lt(r)||(n?s=r.toString().split(""):s=r.toString().split(nY));var i=s.map(function(c){return{word:c,width:mg(c,a).width}}),l=n?0:mg("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},y$e=function(t,r,n,a,s){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Xe(i),f=l,h=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(I,L){var M=L.word,D=L.width,K=I[I.length-1];if(K&&(a==null||s||K.width+D+n<Number(a)))K.words.push(M),K.width+=D+n;else{var Z={words:[M],width:D};I.push(Z)}return I},[])},m=h(r),g=function(q){return q.reduce(function(I,L){return I.width>L.width?I:L})};if(!d)return m;for(var p="",v=function(q){var I=f.slice(0,q),L=aY({breakAll:u,style:c,children:I+p}).wordsWithComputedWidth,M=h(L),D=M.length>i||g(M).width>Number(a);return[D,M]},w=0,x=f.length-1,b=0,_;w<=x&&b<=f.length-1;){var S=Math.floor((w+x)/2),k=S-1,j=v(k),E=cL(j,2),N=E[0],O=E[1],R=v(S),T=cL(R,1),U=T[0];if(!N&&!U&&(w=S+1),N&&U&&(x=S-1),!N&&U){_=O;break}b++}return _||m},dL=function(t){var r=Lt(t)?[]:t.toString().split(nY);return[{words:r}]},w$e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!cl.isSsr){var c,u,d=aY({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return dL(a);return y$e({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return dL(a)},fL="#808080",_f=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,w=v===void 0?fL:v,x=lL(t,f$e),b=y.useMemo(function(){return w$e({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,S=x.dy,k=x.angle,j=x.className,E=x.breakAll,N=lL(x,h$e);if(!Ln(n)||!Ln(s))return null;var O=n+(Xe(_)?_:0),R=s+(Xe(S)?S:0),T;switch(p){case"start":T=Yk("calc(".concat(u,")"));break;case"middle":T=Yk("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=Yk("calc(".concat(b.length-1," * -").concat(l,")"));break}var U=[];if(f){var z=b[0].width,q=x.width;U.push("scale(".concat((Xe(q)?q/z:1)/z,")"))}return k&&U.push("rotate(".concat(k,", ").concat(O,", ").concat(R,")")),U.length&&(N.transform=U.join(" ")),te.createElement("text",ZE({},bt(N,!0),{x:O,y:R,className:$t("recharts-text",j),textAnchor:m,fill:w.includes("url")?fL:w}),b.map(function(I,L){var M=I.words.join(E?"":" ");return te.createElement("tspan",{x:O,dy:L===0?T:l,key:"".concat(M,"-").concat(L)},M)}))};function ju(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function b$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UP(e){let t,r,n;e.length!==2?(t=ju,r=(l,c)=>ju(e(l),c),n=(l,c)=>e(l)-c):(t=e===ju||e===b$e?e:_$e,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function _$e(){return 0}function sY(e){return e===null?NaN:+e}function*S$e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const j$e=UP(ju),Fx=j$e.right;UP(sY).center;class hL extends Map{constructor(t,r=E$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(mL(this,t))}has(t){return super.has(mL(this,t))}set(t,r){return super.set(k$e(this,t),r)}delete(t){return super.delete(N$e(this,t))}}function mL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function k$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function N$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function E$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function C$e(e=ju){if(e===ju)return iY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function iY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const T$e=Math.sqrt(50),A$e=Math.sqrt(10),O$e=Math.sqrt(2);function eb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=T$e?10:s>=A$e?5:s>=O$e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?eb(e,t,r*2):[l,c,u]}function eC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?eb(t,e,r):eb(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function tC(e,t,r){return t=+t,e=+e,r=+r,eb(e,t,r)[2]}function rC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?tC(t,e,r):tC(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function pL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function oY(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?iY:C$e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));oY(e,t,m,g,a)}const s=e[t];let i=r,l=n;for(g0(e,r,t),a(e[n],s)>0&&g0(e,r,n);i<l;){for(g0(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?g0(e,r,l):(++l,g0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function g0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function P$e(e,t,r){if(e=Float64Array.from(S$e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return gL(e);if(t>=1)return pL(e);var n,a=(n-1)*t,s=Math.floor(a),i=pL(oY(e,s).subarray(0,s+1)),l=gL(e.subarray(s+1));return i+(l-i)*(a-s)}}function D$e(e,t,r=sY){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function R$e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function qi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nC=Symbol("implicit");function VP(){var e=new hL,t=[],r=[],n=nC;function a(s){let i=e.get(s);if(i===void 0){if(n!==nC)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new hL;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return VP(t,r).unknown(n)},qi.apply(a,arguments),a}function pv(){var e=VP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;s=(p-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(p-g-s*(h-c))*d,i=s*(1-c),l&&(g=Math.round(g),i=Math.round(i));var v=R$e(h).map(function(w){return g+s*w});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return pv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},qi.apply(f(),arguments)}function lY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lY(t())},e}function pg(){return lY(pv.apply(null,arguments).paddingInner(1))}function WP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function cY(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lx(){}var gv=.7,tb=1/gv,nm="\\s*([+-]?\\d+)\\s*",vv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I$e=/^#([0-9a-f]{3,8})$/,M$e=new RegExp(`^rgb\\(${nm},${nm},${nm}\\)$`),F$e=new RegExp(`^rgb\\(${ul},${ul},${ul}\\)$`),L$e=new RegExp(`^rgba\\(${nm},${nm},${nm},${vv}\\)$`),$$e=new RegExp(`^rgba\\(${ul},${ul},${ul},${vv}\\)$`),B$e=new RegExp(`^hsl\\(${vv},${ul},${ul}\\)$`),U$e=new RegExp(`^hsla\\(${vv},${ul},${ul},${vv}\\)$`),vL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};WP(Lx,xv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xL,formatHex:xL,formatHex8:V$e,formatHsl:W$e,formatRgb:yL,toString:yL});function xL(){return this.rgb().formatHex()}function V$e(){return this.rgb().formatHex8()}function W$e(){return uY(this).formatHsl()}function yL(){return this.rgb().formatRgb()}function xv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=I$e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wL(t):r===3?new ks(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=M$e.exec(e))?new ks(t[1],t[2],t[3],1):(t=F$e.exec(e))?new ks(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=L$e.exec(e))?Xy(t[1],t[2],t[3],t[4]):(t=$$e.exec(e))?Xy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=B$e.exec(e))?SL(t[1],t[2]/100,t[3]/100,1):(t=U$e.exec(e))?SL(t[1],t[2]/100,t[3]/100,t[4]):vL.hasOwnProperty(e)?wL(vL[e]):e==="transparent"?new ks(NaN,NaN,NaN,0):null}function wL(e){return new ks(e>>16&255,e>>8&255,e&255,1)}function Xy(e,t,r,n){return n<=0&&(e=t=r=NaN),new ks(e,t,r,n)}function z$e(e){return e instanceof Lx||(e=xv(e)),e?(e=e.rgb(),new ks(e.r,e.g,e.b,e.opacity)):new ks}function aC(e,t,r,n){return arguments.length===1?z$e(e):new ks(e,t,r,n??1)}function ks(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}WP(ks,aC,cY(Lx,{brighter(e){return e=e==null?tb:Math.pow(tb,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gv:Math.pow(gv,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ks(Jd(this.r),Jd(this.g),Jd(this.b),rb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bL,formatHex:bL,formatHex8:H$e,formatRgb:_L,toString:_L}));function bL(){return`#${Ad(this.r)}${Ad(this.g)}${Ad(this.b)}`}function H$e(){return`#${Ad(this.r)}${Ad(this.g)}${Ad(this.b)}${Ad((isNaN(this.opacity)?1:this.opacity)*255)}`}function _L(){const e=rb(this.opacity);return`${e===1?"rgb(":"rgba("}${Jd(this.r)}, ${Jd(this.g)}, ${Jd(this.b)}${e===1?")":`, ${e})`}`}function rb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ad(e){return e=Jd(e),(e<16?"0":"")+e.toString(16)}function SL(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new vo(e,t,r,n)}function uY(e){if(e instanceof vo)return new vo(e.h,e.s,e.l,e.opacity);if(e instanceof Lx||(e=xv(e)),!e)return new vo;if(e instanceof vo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new vo(i,l,c,e.opacity)}function q$e(e,t,r,n){return arguments.length===1?uY(e):new vo(e,t,r,n??1)}function vo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}WP(vo,q$e,cY(Lx,{brighter(e){return e=e==null?tb:Math.pow(tb,e),new vo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gv:Math.pow(gv,e),new vo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ks(Xk(e>=240?e-240:e+120,a,n),Xk(e,a,n),Xk(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new vo(jL(this.h),Jy(this.s),Jy(this.l),rb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rb(this.opacity);return`${e===1?"hsl(":"hsla("}${jL(this.h)}, ${Jy(this.s)*100}%, ${Jy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jL(e){return e=(e||0)%360,e<0?e+360:e}function Jy(e){return Math.max(0,Math.min(1,e||0))}function Xk(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zP=e=>()=>e;function G$e(e,t){return function(r){return e+r*t}}function K$e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Y$e(e){return(e=+e)==1?dY:function(t,r){return r-t?K$e(t,r,e):zP(isNaN(t)?r:t)}}function dY(e,t){var r=t-e;return r?G$e(e,r):zP(isNaN(e)?t:e)}const kL=function e(t){var r=Y$e(t);function n(a,s){var i=r((a=aC(a)).r,(s=aC(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=dY(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function X$e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function J$e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Q$e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=qp(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function Z$e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function nb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function e5e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=qp(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var sC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jk=new RegExp(sC.source,"g");function t5e(e){return function(){return e}}function r5e(e){return function(t){return e(t)+""}}function n5e(e,t){var r=sC.lastIndex=Jk.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=sC.exec(e))&&(a=Jk.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:nb(n,a)})),r=Jk.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?r5e(c[0].x):t5e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function qp(e,t){var r=typeof t,n;return t==null||r==="boolean"?zP(t):(r==="number"?nb:r==="string"?(n=xv(t))?(t=n,kL):n5e:t instanceof xv?kL:t instanceof Date?Z$e:J$e(t)?X$e:Array.isArray(t)?Q$e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?e5e:nb)(e,t)}function HP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function a5e(e,t){t===void 0&&(t=e,e=qp);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function s5e(e){return function(){return e}}function ab(e){return+e}var NL=[0,1];function is(e){return e}function iC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:s5e(isNaN(t)?NaN:.5)}function i5e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function o5e(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=iC(a,n),s=r(i,s)):(n=iC(n,a),s=r(s,i)),function(l){return s(n(l))}}function l5e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=iC(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=Fx(e,l,1,n)-1;return s[c](a[c](l))}}function $x(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function TS(){var e=NL,t=NL,r=qp,n,a,s,i=is,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==is&&(i=i5e(e[0],e[h-1])),l=h>2?l5e:o5e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=l(t,e.map(n),nb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ab),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=HP,d()},f.clamp=function(h){return arguments.length?(i=h?!0:is,d()):i!==is},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function qP(){return TS()(is,is)}function c5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function zm(e){return e=sb(Math.abs(e)),e?e[1]:NaN}function u5e(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function d5e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var f5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yv(e){if(!(t=f5e.exec(e)))throw new Error("invalid format: "+e);var t;return new GP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yv.prototype=GP.prototype;function GP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}GP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function h5e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var fY;function m5e(e,t){var r=sb(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(fY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+sb(e,Math.max(0,t+s-1))[0]}function EL(e,t){var r=sb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const CL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:c5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EL(e*100,t),r:EL,s:m5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function TL(e){return e}var AL=Array.prototype.map,OL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function p5e(e){var t=e.grouping===void 0||e.thousands===void 0?TL:u5e(AL.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?TL:d5e(AL.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=yv(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,w=f.width,x=f.comma,b=f.precision,_=f.trim,S=f.type;S==="n"?(x=!0,S="g"):CL[S]||(b===void 0&&(b=12),_=!0,S="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var k=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=p==="$"?n:/[%p]/.test(S)?i:"",E=CL[S],N=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(R){var T=k,U=j,z,q,I;if(S==="c")U=E(R)+U,R="";else{R=+R;var L=R<0||1/R<0;if(R=isNaN(R)?c:E(Math.abs(R),b),_&&(R=h5e(R)),L&&+R==0&&g!=="+"&&(L=!1),T=(L?g==="("?g:l:g==="-"||g==="("?"":g)+T,U=(S==="s"?OL[8+fY/3]:"")+U+(L&&g==="("?")":""),N){for(z=-1,q=R.length;++z<q;)if(I=R.charCodeAt(z),48>I||I>57){U=(I===46?a+R.slice(z+1):R.slice(z))+U,R=R.slice(0,z);break}}}x&&!v&&(R=t(R,1/0));var M=T.length+R.length+U.length,D=M<w?new Array(w-M+1).join(h):"";switch(x&&v&&(R=t(D+R,D.length?w-U.length:1/0),D=""),m){case"<":R=T+R+U+D;break;case"=":R=T+D+R+U;break;case"^":R=D.slice(0,M=D.length>>1)+T+R+U+D.slice(M);break;default:R=D+T+R+U;break}return s(R)}return O.toString=function(){return f+""},O}function d(f,h){var m=u((f=yv(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(zm(h)/3)))*3,p=Math.pow(10,-g),v=OL[8+g/3];return function(w){return m(p*w)+v}}return{format:u,formatPrefix:d}}var Qy,KP,hY;g5e({thousands:",",grouping:[3],currency:["$",""]});function g5e(e){return Qy=p5e(e),KP=Qy.format,hY=Qy.formatPrefix,Qy}function v5e(e){return Math.max(0,-zm(Math.abs(e)))}function x5e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zm(t)/3)))*3-zm(Math.abs(e)))}function y5e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zm(t)-zm(e))+1}function mY(e,t,r,n){var a=rC(e,t,r),s;switch(n=yv(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=x5e(a,i))&&(n.precision=s),hY(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=y5e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=v5e(a))&&(n.precision=s-(n.type==="%")*2);break}}return KP(n)}function Zu(e){var t=e.domain;return e.ticks=function(r){var n=t();return eC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return mY(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=tC(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ib(){var e=qP();return e.copy=function(){return $x(e,ib())},qi.apply(e,arguments),Zu(e)}function pY(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ab),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return pY(e).unknown(t)},e=arguments.length?Array.from(e,ab):[0,1],Zu(r)}function gY(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function PL(e){return Math.log(e)}function DL(e){return Math.exp(e)}function w5e(e){return-Math.log(-e)}function b5e(e){return-Math.exp(-e)}function _5e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function S5e(e){return e===10?_5e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function j5e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function RL(e){return(t,r)=>-e(-t,r)}function YP(e){const t=e(PL,DL),r=t.domain;let n=10,a,s;function i(){return a=j5e(n),s=S5e(n),r()[0]<0?(a=RL(a),s=RL(s),e(w5e,b5e)):e(PL,DL),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let w=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;w.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;w.push(p)}w.length*2<v&&(w=eC(u,d,v))}else w=eC(h,m,Math.min(m-h,v)).map(s);return f?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=yv(c)).precision==null&&(c.trim=!0),c=KP(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(gY(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function vY(){const e=YP(TS()).domain([1,10]);return e.copy=()=>$x(e,vY()).base(e.base()),qi.apply(e,arguments),e}function IL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ML(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function XP(e){var t=1,r=e(IL(t),ML(t));return r.constant=function(n){return arguments.length?e(IL(t=+n),ML(t)):t},Zu(r)}function xY(){var e=XP(TS());return e.copy=function(){return $x(e,xY()).constant(e.constant())},qi.apply(e,arguments)}function FL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function k5e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function N5e(e){return e<0?-e*e:e*e}function JP(e){var t=e(is,is),r=1;function n(){return r===1?e(is,is):r===.5?e(k5e,N5e):e(FL(r),FL(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Zu(t)}function QP(){var e=JP(TS());return e.copy=function(){return $x(e,QP()).exponent(e.exponent())},qi.apply(e,arguments),e}function E5e(){return QP.apply(null,arguments).exponent(.5)}function LL(e){return Math.sign(e)*e*e}function C5e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yY(){var e=qP(),t=[0,1],r=!1,n;function a(s){var i=C5e(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(LL(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,ab)).map(LL)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return yY(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},qi.apply(a,arguments),Zu(a)}function wY(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=D$e(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Fx(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ju),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return wY().domain(e).range(t).unknown(n)},qi.apply(s,arguments)}function bY(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Fx(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return bY().domain([e,t]).range(a).unknown(s)},qi.apply(Zu(i),arguments)}function _Y(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Fx(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return _Y().domain(e).range(t).unknown(r)},qi.apply(a,arguments)}const Qk=new Date,Zk=new Date;function Bn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>Bn(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(Qk.setTime(+s),Zk.setTime(+i),e(Qk),e(Zk),Math.floor(r(Qk,Zk))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const ob=Bn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ob.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ob);ob.range;const Wl=1e3,Di=Wl*60,zl=Di*60,uc=zl*24,ZP=uc*7,$L=uc*30,e2=uc*365,Od=Bn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wl)},(e,t)=>(t-e)/Wl,e=>e.getUTCSeconds());Od.range;const e4=Bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getMinutes());e4.range;const t4=Bn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCMinutes());t4.range;const r4=Bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl-e.getMinutes()*Di)},(e,t)=>{e.setTime(+e+t*zl)},(e,t)=>(t-e)/zl,e=>e.getHours());r4.range;const n4=Bn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zl)},(e,t)=>(t-e)/zl,e=>e.getUTCHours());n4.range;const Bx=Bn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Di)/uc,e=>e.getDate()-1);Bx.range;const AS=Bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/uc,e=>e.getUTCDate()-1);AS.range;const SY=Bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/uc,e=>Math.floor(e/uc));SY.range;function Bf(e){return Bn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Di)/ZP)}const OS=Bf(0),lb=Bf(1),T5e=Bf(2),A5e=Bf(3),Hm=Bf(4),O5e=Bf(5),P5e=Bf(6);OS.range;lb.range;T5e.range;A5e.range;Hm.range;O5e.range;P5e.range;function Uf(e){return Bn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ZP)}const PS=Uf(0),cb=Uf(1),D5e=Uf(2),R5e=Uf(3),qm=Uf(4),I5e=Uf(5),M5e=Uf(6);PS.range;cb.range;D5e.range;R5e.range;qm.range;I5e.range;M5e.range;const a4=Bn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());a4.range;const s4=Bn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());s4.range;const dc=Bn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());dc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});dc.range;const fc=Bn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());fc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});fc.range;function jY(e,t,r,n,a,s){const i=[[Od,1,Wl],[Od,5,5*Wl],[Od,15,15*Wl],[Od,30,30*Wl],[s,1,Di],[s,5,5*Di],[s,15,15*Di],[s,30,30*Di],[a,1,zl],[a,3,3*zl],[a,6,6*zl],[a,12,12*zl],[n,1,uc],[n,2,2*uc],[r,1,ZP],[t,1,$L],[t,3,3*$L],[e,1,e2]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=UP(([,,v])=>v).right(i,h);if(m===i.length)return e.every(rC(u/e2,d/e2,f));if(m===0)return ob.every(Math.max(rC(u,d,f),1));const[g,p]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[F5e,L5e]=jY(fc,s4,PS,SY,n4,t4),[$5e,B5e]=jY(dc,a4,OS,Bx,r4,e4);function t2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function v0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function U5e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=x0(a),d=y0(a),f=x0(s),h=y0(s),m=x0(i),g=y0(i),p=x0(l),v=y0(l),w=x0(c),x=y0(c),b={a:L,A:M,b:D,B:K,c:null,d:HL,e:HL,f:u8e,g:w8e,G:_8e,H:o8e,I:l8e,j:c8e,L:kY,m:d8e,M:f8e,p:Z,q:C,Q:KL,s:YL,S:h8e,u:m8e,U:p8e,V:g8e,w:v8e,W:x8e,x:null,X:null,y:y8e,Y:b8e,Z:S8e,"%":GL},_={a:Y,A:B,b:G,B:re,c:null,d:qL,e:qL,f:E8e,g:F8e,G:$8e,H:j8e,I:k8e,j:N8e,L:EY,m:C8e,M:T8e,p:se,q:ce,Q:KL,s:YL,S:A8e,u:O8e,U:P8e,V:D8e,w:R8e,W:I8e,x:null,X:null,y:M8e,Y:L8e,Z:B8e,"%":GL},S={a:O,A:R,b:T,B:U,c:z,d:WL,e:WL,f:n8e,g:VL,G:UL,H:zL,I:zL,j:Z5e,L:r8e,m:Q5e,M:e8e,p:N,q:J5e,Q:s8e,s:i8e,S:t8e,u:q5e,U:G5e,V:K5e,w:H5e,W:Y5e,x:q,X:I,y:VL,Y:UL,Z:X5e,"%":a8e};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(ae,J){return function(me){var A=[],Le=-1,Ie=0,Ve=ae.length,We,Pe,ft;for(me instanceof Date||(me=new Date(+me));++Le<Ve;)ae.charCodeAt(Le)===37&&(A.push(ae.slice(Ie,Le)),(Pe=BL[We=ae.charAt(++Le)])!=null?We=ae.charAt(++Le):Pe=We==="e"?" ":"0",(ft=J[We])&&(We=ft(me,Pe)),A.push(We),Ie=Le+1);return A.push(ae.slice(Ie,Le)),A.join("")}}function j(ae,J){return function(me){var A=v0(1900,void 0,1),Le=E(A,ae,me+="",0),Ie,Ve;if(Le!=me.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(J&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(Ie=r2(v0(A.y,0,1)),Ve=Ie.getUTCDay(),Ie=Ve>4||Ve===0?cb.ceil(Ie):cb(Ie),Ie=AS.offset(Ie,(A.V-1)*7),A.y=Ie.getUTCFullYear(),A.m=Ie.getUTCMonth(),A.d=Ie.getUTCDate()+(A.w+6)%7):(Ie=t2(v0(A.y,0,1)),Ve=Ie.getDay(),Ie=Ve>4||Ve===0?lb.ceil(Ie):lb(Ie),Ie=Bx.offset(Ie,(A.V-1)*7),A.y=Ie.getFullYear(),A.m=Ie.getMonth(),A.d=Ie.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),Ve="Z"in A?r2(v0(A.y,0,1)).getUTCDay():t2(v0(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(Ve+5)%7:A.w+A.U*7-(Ve+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,r2(A)):t2(A)}}function E(ae,J,me,A){for(var Le=0,Ie=J.length,Ve=me.length,We,Pe;Le<Ie;){if(A>=Ve)return-1;if(We=J.charCodeAt(Le++),We===37){if(We=J.charAt(Le++),Pe=S[We in BL?J.charAt(Le++):We],!Pe||(A=Pe(ae,me,A))<0)return-1}else if(We!=me.charCodeAt(A++))return-1}return A}function N(ae,J,me){var A=u.exec(J.slice(me));return A?(ae.p=d.get(A[0].toLowerCase()),me+A[0].length):-1}function O(ae,J,me){var A=m.exec(J.slice(me));return A?(ae.w=g.get(A[0].toLowerCase()),me+A[0].length):-1}function R(ae,J,me){var A=f.exec(J.slice(me));return A?(ae.w=h.get(A[0].toLowerCase()),me+A[0].length):-1}function T(ae,J,me){var A=w.exec(J.slice(me));return A?(ae.m=x.get(A[0].toLowerCase()),me+A[0].length):-1}function U(ae,J,me){var A=p.exec(J.slice(me));return A?(ae.m=v.get(A[0].toLowerCase()),me+A[0].length):-1}function z(ae,J,me){return E(ae,t,J,me)}function q(ae,J,me){return E(ae,r,J,me)}function I(ae,J,me){return E(ae,n,J,me)}function L(ae){return i[ae.getDay()]}function M(ae){return s[ae.getDay()]}function D(ae){return c[ae.getMonth()]}function K(ae){return l[ae.getMonth()]}function Z(ae){return a[+(ae.getHours()>=12)]}function C(ae){return 1+~~(ae.getMonth()/3)}function Y(ae){return i[ae.getUTCDay()]}function B(ae){return s[ae.getUTCDay()]}function G(ae){return c[ae.getUTCMonth()]}function re(ae){return l[ae.getUTCMonth()]}function se(ae){return a[+(ae.getUTCHours()>=12)]}function ce(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var J=k(ae+="",b);return J.toString=function(){return ae},J},parse:function(ae){var J=j(ae+="",!1);return J.toString=function(){return ae},J},utcFormat:function(ae){var J=k(ae+="",_);return J.toString=function(){return ae},J},utcParse:function(ae){var J=j(ae+="",!0);return J.toString=function(){return ae},J}}}var BL={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,V5e=/^%/,W5e=/[\\^$*+?|[\]().{}]/g;function or(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function z5e(e){return e.replace(W5e,"\\$&")}function x0(e){return new RegExp("^(?:"+e.map(z5e).join("|")+")","i")}function y0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function H5e(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function q5e(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function G5e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function K5e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Y5e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function UL(e,t,r){var n=Xn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function VL(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function X5e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function J5e(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Q5e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function WL(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Z5e(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function zL(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function e8e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function t8e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function r8e(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function n8e(e,t,r){var n=Xn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function a8e(e,t,r){var n=V5e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function s8e(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function i8e(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function HL(e,t){return or(e.getDate(),t,2)}function o8e(e,t){return or(e.getHours(),t,2)}function l8e(e,t){return or(e.getHours()%12||12,t,2)}function c8e(e,t){return or(1+Bx.count(dc(e),e),t,3)}function kY(e,t){return or(e.getMilliseconds(),t,3)}function u8e(e,t){return kY(e,t)+"000"}function d8e(e,t){return or(e.getMonth()+1,t,2)}function f8e(e,t){return or(e.getMinutes(),t,2)}function h8e(e,t){return or(e.getSeconds(),t,2)}function m8e(e){var t=e.getDay();return t===0?7:t}function p8e(e,t){return or(OS.count(dc(e)-1,e),t,2)}function NY(e){var t=e.getDay();return t>=4||t===0?Hm(e):Hm.ceil(e)}function g8e(e,t){return e=NY(e),or(Hm.count(dc(e),e)+(dc(e).getDay()===4),t,2)}function v8e(e){return e.getDay()}function x8e(e,t){return or(lb.count(dc(e)-1,e),t,2)}function y8e(e,t){return or(e.getFullYear()%100,t,2)}function w8e(e,t){return e=NY(e),or(e.getFullYear()%100,t,2)}function b8e(e,t){return or(e.getFullYear()%1e4,t,4)}function _8e(e,t){var r=e.getDay();return e=r>=4||r===0?Hm(e):Hm.ceil(e),or(e.getFullYear()%1e4,t,4)}function S8e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+or(t/60|0,"0",2)+or(t%60,"0",2)}function qL(e,t){return or(e.getUTCDate(),t,2)}function j8e(e,t){return or(e.getUTCHours(),t,2)}function k8e(e,t){return or(e.getUTCHours()%12||12,t,2)}function N8e(e,t){return or(1+AS.count(fc(e),e),t,3)}function EY(e,t){return or(e.getUTCMilliseconds(),t,3)}function E8e(e,t){return EY(e,t)+"000"}function C8e(e,t){return or(e.getUTCMonth()+1,t,2)}function T8e(e,t){return or(e.getUTCMinutes(),t,2)}function A8e(e,t){return or(e.getUTCSeconds(),t,2)}function O8e(e){var t=e.getUTCDay();return t===0?7:t}function P8e(e,t){return or(PS.count(fc(e)-1,e),t,2)}function CY(e){var t=e.getUTCDay();return t>=4||t===0?qm(e):qm.ceil(e)}function D8e(e,t){return e=CY(e),or(qm.count(fc(e),e)+(fc(e).getUTCDay()===4),t,2)}function R8e(e){return e.getUTCDay()}function I8e(e,t){return or(cb.count(fc(e)-1,e),t,2)}function M8e(e,t){return or(e.getUTCFullYear()%100,t,2)}function F8e(e,t){return e=CY(e),or(e.getUTCFullYear()%100,t,2)}function L8e(e,t){return or(e.getUTCFullYear()%1e4,t,4)}function $8e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qm(e):qm.ceil(e),or(e.getUTCFullYear()%1e4,t,4)}function B8e(){return"+0000"}function GL(){return"%"}function KL(e){return+e}function YL(e){return Math.floor(+e/1e3)}var nh,TY,AY;U8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function U8e(e){return nh=U5e(e),TY=nh.format,nh.parse,AY=nh.utcFormat,nh.utcParse,nh}function V8e(e){return new Date(e)}function W8e(e){return e instanceof Date?+e:+new Date(+e)}function i4(e,t,r,n,a,s,i,l,c,u){var d=qP(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),x=u("%b %d"),b=u("%B"),_=u("%Y");function S(k){return(c(k)<k?m:l(k)<k?g:i(k)<k?p:s(k)<k?v:n(k)<k?a(k)<k?w:x:r(k)<k?b:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,W8e)):h().map(V8e)},d.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},d.tickFormat=function(k,j){return j==null?S:u(j)},d.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(gY(j,k)):d},d.copy=function(){return $x(d,i4(e,t,r,n,a,s,i,l,c,u))},d}function z8e(){return qi.apply(i4($5e,B5e,dc,a4,OS,Bx,r4,e4,Od,TY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function H8e(){return qi.apply(i4(F5e,L5e,fc,s4,PS,AS,n4,t4,Od,AY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function DS(){var e=0,t=1,r,n,a,s,i=is,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,i=f(m,g),u):[i(0),i(1)]}}return u.range=d(qp),u.rangeRound=d(HP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ed(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OY(){var e=Zu(DS()(is));return e.copy=function(){return ed(e,OY())},bc.apply(e,arguments)}function PY(){var e=YP(DS()).domain([1,10]);return e.copy=function(){return ed(e,PY()).base(e.base())},bc.apply(e,arguments)}function DY(){var e=XP(DS());return e.copy=function(){return ed(e,DY()).constant(e.constant())},bc.apply(e,arguments)}function o4(){var e=JP(DS());return e.copy=function(){return ed(e,o4()).exponent(e.exponent())},bc.apply(e,arguments)}function q8e(){return o4.apply(null,arguments).exponent(.5)}function RY(){var e=[],t=is;function r(n){if(n!=null&&!isNaN(n=+n))return t((Fx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ju),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>P$e(e,s/n))},r.copy=function(){return RY(t).domain(e)},bc.apply(r,arguments)}function RS(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=is,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var w,x,b;return arguments.length?([w,x,b]=v,u=a5e(p,[w,x,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(qp),m.rangeRound=g(HP),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),i=p(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function IY(){var e=Zu(RS()(is));return e.copy=function(){return ed(e,IY())},bc.apply(e,arguments)}function MY(){var e=YP(RS()).domain([.1,1,10]);return e.copy=function(){return ed(e,MY()).base(e.base())},bc.apply(e,arguments)}function FY(){var e=XP(RS());return e.copy=function(){return ed(e,FY()).constant(e.constant())},bc.apply(e,arguments)}function l4(){var e=JP(RS());return e.copy=function(){return ed(e,l4()).exponent(e.exponent())},bc.apply(e,arguments)}function G8e(){return l4.apply(null,arguments).exponent(.5)}const XL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pv,scaleDiverging:IY,scaleDivergingLog:MY,scaleDivergingPow:l4,scaleDivergingSqrt:G8e,scaleDivergingSymlog:FY,scaleIdentity:pY,scaleImplicit:nC,scaleLinear:ib,scaleLog:vY,scaleOrdinal:VP,scalePoint:pg,scalePow:QP,scaleQuantile:wY,scaleQuantize:bY,scaleRadial:yY,scaleSequential:OY,scaleSequentialLog:PY,scaleSequentialPow:o4,scaleSequentialQuantile:RY,scaleSequentialSqrt:q8e,scaleSequentialSymlog:DY,scaleSqrt:E5e,scaleSymlog:xY,scaleThreshold:_Y,scaleTime:z8e,scaleUtc:H8e,tickFormat:mY},Symbol.toStringTag,{value:"Module"}));var K8e=Fp;function Y8e(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(l===void 0?i===i&&!K8e(i):r(i,l)))var l=i,c=s}return c}var IS=Y8e;function X8e(e,t){return e>t}var LY=X8e,J8e=IS,Q8e=LY,Z8e=Hp;function e6e(e){return e&&e.length?J8e(e,Z8e,Q8e):void 0}var t6e=e6e;const MS=fr(t6e);function r6e(e,t){return e<t}var $Y=r6e,n6e=IS,a6e=$Y,s6e=Hp;function i6e(e){return e&&e.length?n6e(e,s6e,a6e):void 0}var o6e=i6e;const FS=fr(o6e);var l6e=bP,c6e=kl,u6e=GK,d6e=Ws;function f6e(e,t){var r=d6e(e)?l6e:u6e;return r(e,c6e(t))}var h6e=f6e,m6e=HK,p6e=h6e;function g6e(e,t){return m6e(p6e(e,t),1)}var v6e=g6e;const x6e=fr(v6e);var y6e=MP;function w6e(e,t){return y6e(e,t)}var b6e=w6e;const Ux=fr(b6e);var Gp=1e9,_6e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},u4,Wr=!0,Ui="[DecimalError] ",Qd=Ui+"Invalid argument: ",c4=Ui+"Exponent out of range: ",Kp=Math.floor,gd=Math.pow,S6e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ni,zn=1e7,Mr=7,BY=9007199254740991,ub=Kp(BY/Mr),it={};it.absoluteValue=it.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};it.comparedTo=it.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};it.decimalPlaces=it.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Mr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};it.dividedBy=it.div=function(e){return Xl(this,new this.constructor(e))};it.dividedToIntegerBy=it.idiv=function(e){var t=this,r=t.constructor;return br(Xl(t,new r(e),0,1),r.precision)};it.equals=it.eq=function(e){return!this.cmp(e)};it.exponent=function(){return Nn(this)};it.greaterThan=it.gt=function(e){return this.cmp(e)>0};it.greaterThanOrEqualTo=it.gte=function(e){return this.cmp(e)>=0};it.isInteger=it.isint=function(){return this.e>this.d.length-2};it.isNegative=it.isneg=function(){return this.s<0};it.isPositive=it.ispos=function(){return this.s>0};it.isZero=function(){return this.s===0};it.lessThan=it.lt=function(e){return this.cmp(e)<0};it.lessThanOrEqualTo=it.lte=function(e){return this.cmp(e)<1};it.logarithm=it.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ni))throw Error(Ui+"NaN");if(r.s<1)throw Error(Ui+(r.s?"NaN":"-Infinity"));return r.eq(ni)?new n(0):(Wr=!1,t=Xl(wv(r,s),wv(e,s),s),Wr=!0,br(t,a))};it.minus=it.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WY(t,e):UY(t,(e.s=-e.s,e))};it.modulo=it.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ui+"NaN");return r.s?(Wr=!1,t=Xl(r,e,0,1).times(e),Wr=!0,r.minus(t)):br(new n(r),a)};it.naturalExponential=it.exp=function(){return VY(this)};it.naturalLogarithm=it.ln=function(){return wv(this)};it.negated=it.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};it.plus=it.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UY(t,e):WY(t,(e.s=-e.s,e))};it.precision=it.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qd+e);if(t=Nn(a)+1,n=a.d.length-1,r=n*Mr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};it.squareRoot=it.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ui+"NaN")}for(e=Nn(l),Wr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=nl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Kp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(Xl(l,s,i+2)).times(.5),nl(s.d).slice(0,i)===(t=nl(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(br(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return Wr=!0,br(n,r)};it.times=it.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%zn|0,t=l/zn|0;s[a]=(s[a]+t)%zn|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Wr?br(e,f.precision):e};it.toDecimalPlaces=it.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(xl(e,0,Gp),t===void 0?t=n.rounding:xl(t,0,8),br(r,e+Nn(r)+1,t))};it.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Sf(n,!0):(xl(e,0,Gp),t===void 0?t=a.rounding:xl(t,0,8),n=br(new a(n),e+1,t),r=Sf(n,!0,e+1)),r};it.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Sf(a):(xl(e,0,Gp),t===void 0?t=s.rounding:xl(t,0,8),n=br(new s(a),e+Nn(a)+1,t),r=Sf(n.abs(),!1,e+Nn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};it.toInteger=it.toint=function(){var e=this,t=e.constructor;return br(new t(e),Nn(e)+1,t.rounding)};it.toNumber=function(){return+this};it.toPower=it.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ni);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ui+"Infinity");return l}if(l.eq(ni))return l;if(n=c.precision,e.eq(ni))return br(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=BY){for(a=new c(ni),t=Math.ceil(n/Mr+4),Wr=!1;r%2&&(a=a.times(l),QL(a.d,t)),r=Kp(r/2),r!==0;)l=l.times(l),QL(l.d,t);return Wr=!0,e.s<0?new c(ni).div(a):br(a,n)}}else if(s<0)throw Error(Ui+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Wr=!1,a=e.times(wv(l,n+u)),Wr=!0,a=VY(a),a.s=s,a};it.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Nn(a),n=Sf(a,r<=s.toExpNeg||r>=s.toExpPos)):(xl(e,1,Gp),t===void 0?t=s.rounding:xl(t,0,8),a=br(new s(a),e,t),r=Nn(a),n=Sf(a,e<=r||r<=s.toExpNeg,e)),n};it.toSignificantDigits=it.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(xl(e,1,Gp),t===void 0?t=n.rounding:xl(t,0,8)),br(new n(r),e,t)};it.toString=it.valueOf=it.val=it.toJSON=it[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nn(e),r=e.constructor;return Sf(e,t<=r.toExpNeg||t>=r.toExpPos)};function UY(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Wr?br(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Mr),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/zn|0,c[s]%=zn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Wr?br(t,f):t}function xl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Qd+e)}function nl(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Mr-n.length,r&&(s+=Fc(r)),s+=n;i=e[t],n=i+"",r=Mr-n.length,r&&(s+=Fc(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Xl=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%zn|0,i=s/zn|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*zn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,h,m,g,p,v,w,x,b,_,S,k,j,E,N=n.constructor,O=n.s==a.s?1:-1,R=n.d,T=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Ui+"Division by zero");for(c=n.e-a.e,j=T.length,S=R.length,m=new N(O),g=m.d=[],u=0;T[u]==(R[u]||0);)++u;if(T[u]>(R[u]||0)&&--c,s==null?x=s=N.precision:i?x=s+(Nn(n)-Nn(a))+1:x=s,x<0)return new N(0);if(x=x/Mr+2|0,u=0,j==1)for(d=0,T=T[0],x++;(u<S||d)&&x--;u++)b=d*zn+(R[u]||0),g[u]=b/T|0,d=b%T|0;else{for(d=zn/(T[0]+1)|0,d>1&&(T=e(T,d),R=e(R,d),j=T.length,S=R.length),_=j,p=R.slice(0,j),v=p.length;v<j;)p[v++]=0;E=T.slice(),E.unshift(0),k=T[0],T[1]>=zn/2&&++k;do d=0,l=t(T,p,j,v),l<0?(w=p[0],j!=v&&(w=w*zn+(p[1]||0)),d=w/k|0,d>1?(d>=zn&&(d=zn-1),f=e(T,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,j<h?E:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(T,p,j,v),l<1&&(d++,r(p,j<v?E:T,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=R[_]||0:(p=[R[_]],v=1);while((_++<S||p[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=c,br(m,i?s+Nn(m)+1:s)}}();function VY(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(Nn(e)>16)throw Error(c4+Nn(e));if(!e.s)return new d(ni);for(t==null?(Wr=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(gd(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(ni),d.precision=l;;){if(a=br(a.times(e),l),r=r.times(++c),i=s.plus(Xl(a,r,l)),nl(i.d).slice(0,l)===nl(s.d).slice(0,l)){for(;u--;)s=br(s.times(s),l);return d.precision=f,t==null?(Wr=!0,br(s,f)):s}s=i}}function Nn(e){for(var t=e.e*Mr,r=e.d[0];r>=10;r/=10)t++;return t}function n2(e,t,r){if(t>e.LN10.sd())throw Wr=!0,r&&(e.precision=r),Error(Ui+"LN10 precision limit exceeded");return br(new e(e.LN10),t)}function Fc(e){for(var t="";e--;)t+="0";return t}function wv(e,t){var r,n,a,s,i,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Ui+(m.s?"NaN":"-Infinity"));if(m.eq(ni))return new p(0);if(t==null?(Wr=!1,u=v):u=t,m.eq(10))return t==null&&(Wr=!0),n2(p,u);if(u+=h,p.precision=u,r=nl(g),n=r.charAt(0),s=Nn(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=nl(m.d),n=r.charAt(0),f++;s=Nn(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=n2(p,u+2,v).times(s+""),m=wv(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(Wr=!0,br(m,v)):m;for(l=i=m=Xl(m.minus(ni),m.plus(ni),u),d=br(m.times(m),u),a=3;;){if(i=br(i.times(d),u),c=l.plus(Xl(i,new p(a),u)),nl(c.d).slice(0,u)===nl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(n2(p,u+2,v).times(s+""))),l=Xl(l,new p(f),u),p.precision=v,t==null?(Wr=!0,br(l,v)):l;l=c,a+=2}}function JL(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Kp(r/Mr),e.d=[],n=(r+1)%Mr,r<0&&(n+=Mr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Mr;n<a;)e.d.push(+t.slice(n,n+=Mr));t=t.slice(n),n=Mr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Wr&&(e.e>ub||e.e<-ub))throw Error(c4+r)}else e.s=0,e.e=0,e.d=[0];return e}function br(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Mr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Mr),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Mr,a=n-Mr+i}if(r!==void 0&&(s=gd(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/gd(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Nn(e),f.length=1,t=t-s-1,f[0]=gd(10,(Mr-t%Mr)%Mr),e.e=Kp(-t/Mr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=gd(10,Mr-n),f[d]=a>0?(u/gd(10,i-a)%gd(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==zn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=zn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Wr&&(e.e>ub||e.e<-ub))throw Error(c4+Nn(e));return e}function WY(e,t){var r,n,a,s,i,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Wr?br(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Mr),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=zn-1;--c[s],c[a]+=zn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Wr?br(t,m):t):new h(0)}function Sf(e,t,r){var n,a=Nn(e),s=nl(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Fc(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Fc(-a-1)+s,r&&(n=r-i)>0&&(s+=Fc(n))):a>=i?(s+=Fc(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Fc(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Fc(n))),e.s<0?"-"+s:s}function QL(e,t){if(e.length>t)return e.length=t,!0}function zY(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Qd+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return JL(i,s.toString())}else if(typeof s!="string")throw Error(Qd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,S6e.test(s))JL(i,s);else throw Error(Qd+s)}if(a.prototype=it,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=zY,a.config=a.set=j6e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function j6e(e){if(!e||typeof e!="object")throw Error(Ui+"Object expected");var t,r,n,a=["precision",1,Gp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Kp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Qd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qd+r+": "+n);return this}var u4=zY(_6e);ni=new u4(1);const vr=u4;function k6e(e){return T6e(e)||C6e(e)||E6e(e)||N6e()}function N6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E6e(e,t){if(e){if(typeof e=="string")return oC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oC(e,t)}}function C6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function T6e(e){if(Array.isArray(e))return oC(e)}function oC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A6e=function(t){return t},HY={"@@functional/placeholder":!0},qY=function(t){return t===HY},ZL=function(t){return function r(){return arguments.length===0||arguments.length===1&&qY(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},O6e=function e(t,r){return t===1?r:ZL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==HY}).length;return i>=t?r.apply(void 0,a):e(t-i,ZL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return qY(f)?c.shift():f});return r.apply(void 0,k6e(d).concat(c))}))})},LS=function(t){return O6e(t.length,t)},lC=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},P6e=LS(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),D6e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return A6e;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},cC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},GY=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function R6e(e){var t;return e===0?t=1:t=Math.floor(new vr(e).abs().log(10).toNumber())+1,t}function I6e(e,t,r){for(var n=new vr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var M6e=LS(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),F6e=LS(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),L6e=LS(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const $S={rangeStep:I6e,getDigitCount:R6e,interpolateNumber:M6e,uninterpolateNumber:F6e,uninterpolateTruncation:L6e};function uC(e){return U6e(e)||B6e(e)||KY(e)||$6e()}function $6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function U6e(e){if(Array.isArray(e))return dC(e)}function bv(e,t){return z6e(e)||W6e(e,t)||KY(e,t)||V6e()}function V6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KY(e,t){if(e){if(typeof e=="string")return dC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dC(e,t)}}function dC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W6e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function z6e(e){if(Array.isArray(e))return e}function YY(e){var t=bv(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function XY(e,t,r){if(e.lte(0))return new vr(0);var n=$S.getDigitCount(e.toNumber()),a=new vr(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new vr(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new vr(Math.ceil(c))}function H6e(e,t,r){var n=1,a=new vr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new vr(10).pow($S.getDigitCount(e)-1),a=new vr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new vr(Math.floor(e)))}else e===0?a=new vr(Math.floor((t-1)/2)):r||(a=new vr(Math.floor(e)));var i=Math.floor((t-1)/2),l=D6e(P6e(function(c){return a.add(new vr(c-i).mul(n)).toNumber()}),lC);return l(0,t)}function JY(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vr(0),tickMin:new vr(0),tickMax:new vr(0)};var s=XY(new vr(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new vr(0):(i=new vr(e).add(t).div(2),i=i.sub(new vr(i).mod(s)));var l=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new vr(t).sub(i).div(s).toNumber()),u=l+c+1;return u>r?JY(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:i.sub(new vr(l).mul(s)),tickMax:i.add(new vr(c).mul(s))})}function q6e(e){var t=bv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=YY([r,n]),c=bv(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(uC(lC(0,a-1).map(function(){return 1/0}))):[].concat(uC(lC(0,a-1).map(function(){return-1/0})),[d]);return r>n?cC(f):f}if(u===d)return H6e(u,a,s);var h=JY(u,d,i,s),m=h.step,g=h.tickMin,p=h.tickMax,v=$S.rangeStep(g,p.add(new vr(.1).mul(m)),m);return r>n?cC(v):v}function G6e(e,t){var r=bv(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=YY([n,a]),l=bv(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=XY(new vr(u).sub(c).div(d-1),s,0),h=[].concat(uC($S.rangeStep(new vr(c),new vr(u).sub(new vr(.99).mul(f)),f)),[u]);return n>a?cC(h):h}var K6e=GY(q6e),Y6e=GY(G6e),X6e="Invariant failed";function jf(e,t){throw new Error(X6e)}var J6e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},db.apply(this,arguments)}function Q6e(e,t){return rBe(e)||tBe(e,t)||eBe(e,t)||Z6e()}function Z6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(e,t){if(e){if(typeof e=="string")return e$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e$(e,t)}}function e$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function rBe(e){if(Array.isArray(e))return e}function nBe(e,t){if(e==null)return{};var r=aBe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eX(n.key),n)}}function oBe(e,t,r){return t&&iBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lBe(e,t,r){return t=fb(t),cBe(e,QY()?Reflect.construct(t,r||[],fb(e).constructor):t.apply(e,r))}function cBe(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uBe(e)}function uBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QY=function(){return!!e})()}function fb(e){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fb(e)}function dBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fC(e,t)}function fC(e,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fC(e,t)}function ZY(e,t,r){return t=eX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eX(e){var t=fBe(e,"string");return Gm(t)=="symbol"?t:t+""}function fBe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vx=function(e){function t(){return sBe(this,t),lBe(this,t,arguments)}return dBe(t,e),oBe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=nBe(n,J6e),m=bt(h,!1);this.props.direction==="x"&&d.type!=="number"&&jf();var g=c.map(function(p){var v=u(p,l),w=v.x,x=v.y,b=v.value,_=v.errorVal;if(!_)return null;var S=[],k,j;if(Array.isArray(_)){var E=Q6e(_,2);k=E[0],j=E[1]}else k=j=_;if(s==="vertical"){var N=d.scale,O=x+a,R=O+i,T=O-i,U=N(b-k),z=N(b+j);S.push({x1:z,y1:R,x2:z,y2:T}),S.push({x1:U,y1:O,x2:z,y2:O}),S.push({x1:U,y1:R,x2:U,y2:T})}else if(s==="horizontal"){var q=f.scale,I=w+a,L=I-i,M=I+i,D=q(b-k),K=q(b+j);S.push({x1:L,y1:K,x2:M,y2:K}),S.push({x1:I,y1:D,x2:I,y2:K}),S.push({x1:L,y1:D,x2:M,y2:D})}return te.createElement(ir,db({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),S.map(function(Z){return te.createElement("line",db({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return te.createElement(ir,{className:"recharts-errorBars"},g)}}])}(te.Component);ZY(Vx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZY(Vx,"displayName","ErrorBar");function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(n){hBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hBe(e,t,r){return t=mBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mBe(e){var t=pBe(e,"string");return _v(t)=="symbol"?t:t+""}function pBe(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tX=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=Ks(r,Su);if(!i)return null;var l=Su.defaultProps,c=l!==void 0?od(od({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:i.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?od(od({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,w=m.hide;return{inactive:w,dataKey:g,type:c.iconType||v||"square",color:d4(f),value:p||g,payload:m}}),od(od(od({},c),Su.getWithHeight(i,a)),{},{payload:u,item:i})};function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function r$(e){return yBe(e)||xBe(e)||vBe(e)||gBe()}function gBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vBe(e,t){if(e){if(typeof e=="string")return hC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(e,t)}}function xBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yBe(e){if(Array.isArray(e))return hC(e)}function hC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(n){am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function am(e,t,r){return t=wBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wBe(e){var t=bBe(e,"string");return Sv(t)=="symbol"?t:t+""}function bBe(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(e,t,r){return Lt(e)||Lt(t)?r:Ln(t)?ci(e,t,r):At(t)?t(e):r}function gg(e,t,r,n){var a=x6e(e,function(l){return In(l,t)});if(r==="number"){var s=a.filter(function(l){return Xe(l)||parseFloat(l)});return s.length?[FS(s),MS(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Lt(l)}):a;return i.map(function(l){return Ln(l)||l instanceof Date?l:""})}var _Be=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(as(f-d)!==as(h-f)){var g=[];if(as(h-f)===as(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var w=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>w[0]&&t<=w[1]||t>=g[0]&&t<=g[1]){i=a[u].index;break}}else{var x=Math.min(d,h),b=Math.max(d,h);if(t>(x+f)/2&&t<=(b+f)/2){i=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},d4=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?rn(rn({},t.type.defaultProps),t.props):t.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},SBe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,w=p.filter(function(j){return Yl(j.type).indexOf("Bar")>=0});if(w&&w.length){var x=w[0].type.defaultProps,b=x!==void 0?rn(rn({},x),w[0].props):w[0].props,_=b.barSize,S=b[v];i[S]||(i[S]=[]);var k=Lt(_)?r:_;i[S].push({item:w[0],stackList:w.slice(1),barSize:Lt(k)?void 0:ss(k,n,0)})}}return i},jBe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=ss(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,m=a/c,g=i.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=i.reduce(function(_,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:h?m:S.barSize}},j=[].concat(r$(_),[k]);return v=j[j.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){j.push({item:E,position:v})}),j},f)}else{var w=ss(n,a,0,!0);a-2*w-(c-1)*u<=0&&(u=0);var x=(a-2*w-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;d=i.reduce(function(_,S,k){var j=[].concat(r$(_),[{item:S.item,position:{offset:w+(x+u)*k+(x-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){j.push({item:E,position:j[j.length-1].position})}),j},f)}return d},kBe=function(t,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=tX({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&Xe(t[m]))return rn(rn({},t),{},am({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&Xe(t[g]))return rn(rn({},t),{},am({},g,t[g]+(h||0)))}return t},NBe=function(t,r,n){return Lt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},rX=function(t,r,n,a,s){var i=r.props.children,l=ui(i,Vx).filter(function(u){return NBe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=In(d,n);if(Lt(f))return u;var h=Array.isArray(f)?[FS(f),MS(f)]:[f,f],m=c.reduce(function(g,p){var v=In(d,p,0),w=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},EBe=function(t,r,n,a,s){var i=r.map(function(l){return rX(t,l,n,s,a)}).filter(function(l){return!Lt(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},nX=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&rX(t,c,u,a)||gg(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},aX=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},sX=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||l.push(r),i||l.push(n),l},Hl=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?as(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Ix(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},a2=new WeakMap,Zy=function(t,r){if(typeof r!="function")return t;a2.has(t)||a2.set(t,new WeakMap);var n=a2.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},iX=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:pv(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:ib(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pg(),realScaleType:"point"}:s==="category"?{scale:pv(),realScaleType:"band"}:{scale:ib(),realScaleType:"linear"};if(wf(a)){var c="scale".concat(_S(a));return{scale:(XL[c]||pg)(),realScaleType:XL[c]?c:"point"}}return At(a)?{scale:a}:{scale:pg(),realScaleType:"point"}},a$=1e-4,oX=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-a$,i=Math.max(a[0],a[1])+a$,l=t(r[0]),c=t(r[n-1]);(l<s||l>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},CBe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},TBe=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Xe(t[0])||t[0]<n)&&(s[0]=n),(!Xe(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},ABe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=Ix(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},OBe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=Ix(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=s,t[i][n][1]=s+l,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},PBe={sign:ABe,expand:JOe,none:$m,silhouette:QOe,wiggle:ZOe,positive:OBe},DBe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=PBe[n],i=XOe().keys(a).value(function(l,c){return+In(l,c,0)}).order(LE).offset(s);return i(t)},RBe=function(t,r,n,a,s,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?rn(rn({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var w=g[n],x=f[w]||{hasStack:!1,stackGroups:{}};if(Ln(p)){var b=x.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[p]=b}else x.stackGroups[Vp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return rn(rn({},f),{},am({},w,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var w=m.stackGroups[v];return rn(rn({},p),{},am({},v,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:DBe(t,w.items,s)}))},g)}return rn(rn({},f),{},am({},h,m))},d)},lX=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=K6e(u,s,l);return t.domain([FS(d),MS(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=Y6e(f,s,l);return{niceTicks:h}}return null};function s$(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lt(a[t.dataKey])){var l=$1(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=In(a,Lt(i)?t.dataKey:i);return Lt(c)?null:t.scale(c)}var i$=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=In(i,r.dataKey,r.domain[l]);return Lt(c)?null:r.scale(c)-s/2+a},IBe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},MBe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?rn(rn({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Ln(s)){var i=r[s];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},FBe=function(t){return t.reduce(function(r,n){return[FS(n.concat([r[0]]).filter(Xe)),MS(n.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},cX=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],l=i.stackedData,c=l.reduce(function(u,d){var f=FBe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},o$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,l$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mC=function(t,r,n){if(At(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Xe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(o$.test(t[0])){var s=+o$.exec(t[0])[1];a[0]=r[0]-s}else At(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Xe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(l$.test(t[1])){var i=+l$.exec(t[1])[1];a[1]=r[1]+i}else At(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},hb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=LP(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},c$=function(t,r,n){return!t||!t.length||Ux(t,ci(n,"type.defaultProps.domain"))?r:t},uX=function(t,r){var n=t.type.defaultProps?rn(rn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return rn(rn({},bt(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:d4(t),value:In(r,a),type:c,payload:r,chartType:u,hide:d})};function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function u$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u$(Object(r),!0).forEach(function(n){dX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t,r){return t=LBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LBe(e){var t=$Be(e,"string");return jv(t)=="symbol"?t:t+""}function $Be(e,t){if(jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BBe(e,t){return zBe(e)||WBe(e,t)||VBe(e,t)||UBe()}function UBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VBe(e,t){if(e){if(typeof e=="string")return d$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d$(e,t)}}function d$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function zBe(e){if(Array.isArray(e))return e}var mb=Math.PI/180,HBe=function(t){return t*180/Math.PI},Ar=function(t,r,n,a){return{x:t+Math.cos(-mb*a)*n,y:r+Math.sin(-mb*a)*n}},fX=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qBe=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=ss(t.cx,i,i/2),f=ss(t.cy,l,l/2),h=fX(i,l,n),m=ss(t.innerRadius,h,0),g=ss(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,w){var x=r[w],b=x.domain,_=x.reversed,S;if(Lt(x.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[m,g]),_&&(S=[S[1],S[0]]);else{S=x.range;var k=S,j=BBe(k,2);c=j[0],u=j[1]}var E=iX(x,s),N=E.realScaleType,O=E.scale;O.domain(b).range(S),oX(O);var R=lX(O,Dl(Dl({},x),{},{realScaleType:N})),T=Dl(Dl(Dl({},x),R),{},{range:S,radius:g,realScaleType:N,scale:O,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return Dl(Dl({},v),{},dX({},w,T))},{})},GBe=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},KBe=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,l=GBe({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:HBe(u),angleInRadian:u}},YBe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},XBe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return t+l*360},f$=function(t,r){var n=t.x,a=t.y,s=KBe({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=YBe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?Dl(Dl({},r),{},{radius:i,angle:XBe(m,r)}):null},hX=function(t){return!y.isValidElement(t)&&!At(t)&&typeof t!="boolean"?t.className:""};function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}var JBe=["offset"];function QBe(e){return rUe(e)||tUe(e)||eUe(e)||ZBe()}function ZBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eUe(e,t){if(e){if(typeof e=="string")return pC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(e,t)}}function tUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rUe(e){if(Array.isArray(e))return pC(e)}function pC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nUe(e,t){if(e==null)return{};var r=aUe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(r),!0).forEach(function(n){sUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sUe(e,t,r){return t=iUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iUe(e){var t=oUe(e,"string");return kv(t)=="symbol"?t:t+""}function oUe(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(this,arguments)}var lUe=function(t){var r=t.value,n=t.formatter,a=Lt(t.children)?r:t.children;return At(n)?n(a):a},cUe=function(t,r){var n=as(r-t),a=Math.min(Math.abs(r-t),360);return n*a},uUe=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,w=cUe(m,g),x=w>=0?1:-1,b,_;a==="insideStart"?(b=m+x*i,_=p):a==="insideEnd"?(b=g-x*i,_=!p):a==="end"&&(b=g+x*i,_=p),_=w<=0?_:!_;var S=Ar(u,d,v,b),k=Ar(u,d,v,b+(_?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),E=Lt(t.id)?Vp("recharts-radial-line-"):t.id;return te.createElement("text",Nv({},n,{dominantBaseline:"central",className:$t("recharts-radial-bar-label",l)}),te.createElement("defs",null,te.createElement("path",{id:E,d:j})),te.createElement("textPath",{xlinkHref:"#".concat(E)},r))},dUe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Ar(i,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,w=Ar(i,l,v,h),x=w.x,b=w.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},fUe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,w=p>0?"end":"start",x=p>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return An(An({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return An(An({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:l-v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return An(An({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var k={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return An(An({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return s==="insideLeft"?An({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},j):s==="insideRight"?An({x:l+u-v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},j):s==="insideTop"?An({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},j):s==="insideBottom"?An({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},j):s==="insideTopLeft"?An({x:l+v,y:c+h,textAnchor:x,verticalAnchor:g},j):s==="insideTopRight"?An({x:l+u-v,y:c+h,textAnchor:w,verticalAnchor:g},j):s==="insideBottomLeft"?An({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:m},j):s==="insideBottomRight"?An({x:l+u-v,y:c+d-h,textAnchor:w,verticalAnchor:m},j):Lp(s)&&(Xe(s.x)||Td(s.x))&&(Xe(s.y)||Td(s.y))?An({x:l+ss(s.x,u),y:c+ss(s.y,d),textAnchor:"end",verticalAnchor:"end"},j):An({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},hUe=function(t){return"cx"in t&&Xe(t.cx)};function qn(e){var t=e.offset,r=t===void 0?5:t,n=nUe(e,JBe),a=An({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Lt(l)&&Lt(c)&&!y.isValidElement(u)&&!At(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var m;if(At(u)){if(m=y.createElement(u,a),y.isValidElement(m))return m}else m=lUe(a);var g=hUe(s),p=bt(a,!0);if(g&&(i==="insideStart"||i==="insideEnd"||i==="end"))return uUe(a,m,p);var v=g?dUe(a):fUe(a);return te.createElement(_f,Nv({className:$t("recharts-label",f)},p,v,{breakAll:h}),m)}qn.displayName="Label";var mX=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,w=t.clockWise,x=t.labelViewBox;if(x)return x;if(Xe(p)&&Xe(v)){if(Xe(f)&&Xe(h))return{x:f,y:h,width:p,height:v};if(Xe(m)&&Xe(g))return{x:m,y:g,width:p,height:v}}return Xe(f)&&Xe(h)?{x:f,y:h,width:0,height:0}:Xe(r)&&Xe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},mUe=function(t,r){return t?t===!0?te.createElement(qn,{key:"label-implicit",viewBox:r}):Ln(t)?te.createElement(qn,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===qn?y.cloneElement(t,{key:"label-implicit",viewBox:r}):te.createElement(qn,{key:"label-implicit",content:t,viewBox:r}):At(t)?te.createElement(qn,{key:"label-implicit",content:t,viewBox:r}):Lp(t)?te.createElement(qn,Nv({viewBox:r},t,{key:"label-implicit"})):null:null},pUe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=mX(t),i=ui(a,qn).map(function(c,u){return y.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=mUe(t.label,r||s);return[l].concat(QBe(i))};qn.parseViewBox=mX;qn.renderCallByParent=pUe;function gUe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var vUe=gUe;const xUe=fr(vUe);function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}var yUe=["valueAccessor"],wUe=["data","dataKey","clockWise","id","textBreakAll"];function bUe(e){return kUe(e)||jUe(e)||SUe(e)||_Ue()}function _Ue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SUe(e,t){if(e){if(typeof e=="string")return gC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gC(e,t)}}function jUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kUe(e){if(Array.isArray(e))return gC(e)}function gC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pb.apply(this,arguments)}function m$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(r),!0).forEach(function(n){NUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NUe(e,t,r){return t=EUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EUe(e){var t=CUe(e,"string");return Ev(t)=="symbol"?t:t+""}function CUe(e,t){if(Ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g$(e,t){if(e==null)return{};var r=TUe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var AUe=function(t){return Array.isArray(t.value)?xUe(t.value):t.value};function Jl(e){var t=e.valueAccessor,r=t===void 0?AUe:t,n=g$(e,yUe),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=g$(n,wUe);return!a||!a.length?null:te.createElement(ir,{className:"recharts-label-list"},a.map(function(d,f){var h=Lt(s)?r(d,f):In(d&&d.payload,s),m=Lt(l)?{}:{id:"".concat(l,"-").concat(f)};return te.createElement(qn,pb({},bt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:qn.parseViewBox(Lt(i)?d:p$(p$({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Jl.displayName="LabelList";function OUe(e,t){return e?e===!0?te.createElement(Jl,{key:"labelList-implicit",data:t}):te.isValidElement(e)||At(e)?te.createElement(Jl,{key:"labelList-implicit",data:t,content:e}):Lp(e)?te.createElement(Jl,pb({data:t},e,{key:"labelList-implicit"})):null:null}function PUe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ui(n,Jl).map(function(i,l){return y.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=OUe(e.label,t);return[s].concat(bUe(a))}Jl.renderCallByParent=PUe;function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function vC(){return vC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vC.apply(this,arguments)}function v$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(r),!0).forEach(function(n){DUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DUe(e,t,r){return t=RUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RUe(e){var t=IUe(e,"string");return Cv(t)=="symbol"?t:t+""}function IUe(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MUe=function(t,r){var n=as(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ew=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/mb,h=u?s:s+i*f,m=Ar(r,n,d,h),g=Ar(r,n,a,h),p=u?s-i*f:s,v=Ar(r,n,d*Math.cos(f*mb),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},pX=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,l=t.endAngle,c=MUe(i,l),u=i+c,d=Ar(r,n,s,i),f=Ar(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Ar(r,n,a,i),g=Ar(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},FUe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=as(d-u),h=ew({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=ew({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),w=v.circleTangency,x=v.lineTangency,b=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-b;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):pX({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var k=ew({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),j=k.circleTangency,E=k.lineTangency,N=k.theta,O=ew({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),R=O.circleTangency,T=O.lineTangency,U=O.theta,z=c?Math.abs(u-d):Math.abs(u-d)-N-U;if(z<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},LUe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gX=function(t){var r=x$(x$({},LUe),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<s||d===f)return null;var m=$t("recharts-sector",h),g=i-s,p=ss(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=FUe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=pX({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),te.createElement("path",vC({},bt(r,!0),{className:m,d:v,role:"img"}))};function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function xC(){return xC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xC.apply(this,arguments)}function y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y$(Object(r),!0).forEach(function(n){$Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ue(e,t,r){return t=BUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BUe(e){var t=UUe(e,"string");return Tv(t)=="symbol"?t:t+""}function UUe(e,t){if(Tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b$={curveBasisClosed:$Oe,curveBasisOpen:BOe,curveBasis:LOe,curveBumpX:jOe,curveBumpY:kOe,curveLinearClosed:UOe,curveLinear:jS,curveMonotoneX:VOe,curveMonotoneY:WOe,curveNatural:zOe,curveStep:HOe,curveStepAfter:GOe,curveStepBefore:qOe},tw=function(t){return t.x===+t.x&&t.y===+t.y},w0=function(t){return t.x},b0=function(t){return t.y},VUe=function(t,r){if(At(t))return t;var n="curve".concat(_S(t));return(n==="curveMonotone"||n==="curveBump")&&r?b$["".concat(n).concat(r==="vertical"?"Y":"X")]:b$[n]||jS},WUe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=VUe(n,l),f=u?s.filter(function(p){return tw(p)}):s,h;if(Array.isArray(i)){var m=u?i.filter(function(p){return tw(p)}):i,g=f.map(function(p,v){return w$(w$({},p),{},{base:m[v]})});return l==="vertical"?h=Hy().y(b0).x1(w0).x0(function(p){return p.base.x}):h=Hy().x(w0).y1(b0).y0(function(p){return p.base.y}),h.defined(tw).curve(d),h(g)}return l==="vertical"&&Xe(i)?h=Hy().y(b0).x1(w0).x0(i):Xe(i)?h=Hy().x(w0).y1(b0).y0(i):h=uK().x(w0).y(b0),h.defined(tw).curve(d),h(f)},gb=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?WUe(t):a;return y.createElement("path",xC({},bt(t,!1),B1(t),{className:$t("recharts-curve",r),d:i,ref:s}))},vX={exports:{}},zUe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HUe=zUe,qUe=HUe;function xX(){}function yX(){}yX.resetWarningCache=xX;var GUe=function(){function e(n,a,s,i,l,c){if(c!==qUe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:yX,resetWarningCache:xX};return r.PropTypes=r,r};vX.exports=GUe();var KUe=vX.exports;const cr=fr(KUe);var YUe=Object.getOwnPropertyNames,XUe=Object.getOwnPropertySymbols,JUe=Object.prototype.hasOwnProperty;function _$(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function rw(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function S$(e){return YUe(e).concat(XUe(e))}var QUe=Object.hasOwn||function(e,t){return JUe.call(e,t)};function Vf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var ZUe="__v",e9e="__o",t9e="_owner",j$=Object.getOwnPropertyDescriptor,k$=Object.keys;function r9e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function n9e(e,t){return Vf(e.getTime(),t.getTime())}function a9e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function s9e(e,t){return e===t}function N$(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=i.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var i9e=Vf;function o9e(e,t,r){var n=k$(e),a=n.length;if(k$(t).length!==a)return!1;for(;a-- >0;)if(!wX(e,t,r,n[a]))return!1;return!0}function _0(e,t,r){var n=S$(e),a=n.length;if(S$(t).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!wX(e,t,r,s)||(i=j$(e,s),l=j$(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function l9e(e,t){return Vf(e.valueOf(),t.valueOf())}function c9e(e,t){return e.source===t.source&&e.flags===t.flags}function E$(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,l;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function u9e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function d9e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function wX(e,t,r,n){return(n===t9e||n===e9e||n===ZUe)&&(e.$$typeof||t.$$typeof)?!0:QUe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var f9e="[object Arguments]",h9e="[object Boolean]",m9e="[object Date]",p9e="[object Error]",g9e="[object Map]",v9e="[object Number]",x9e="[object Object]",y9e="[object RegExp]",w9e="[object Set]",b9e="[object String]",_9e="[object URL]",S9e=Array.isArray,C$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,T$=Object.assign,j9e=Object.prototype.toString.call.bind(Object.prototype.toString);function k9e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var w=typeof g;if(w!==typeof p)return!1;if(w!=="object")return w==="number"?i(g,p,v):w==="function"?a(g,p,v):!1;var x=g.constructor;if(x!==p.constructor)return!1;if(x===Object)return l(g,p,v);if(S9e(g))return t(g,p,v);if(C$!=null&&C$(g))return f(g,p,v);if(x===Date)return r(g,p,v);if(x===RegExp)return u(g,p,v);if(x===Map)return s(g,p,v);if(x===Set)return d(g,p,v);var b=j9e(g);return b===m9e?r(g,p,v):b===y9e?u(g,p,v):b===g9e?s(g,p,v):b===w9e?d(g,p,v):b===x9e?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):b===_9e?h(g,p,v):b===p9e?n(g,p,v):b===f9e?l(g,p,v):b===h9e||b===v9e||b===b9e?c(g,p,v):!1}}function N9e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?_0:r9e,areDatesEqual:n9e,areErrorsEqual:a9e,areFunctionsEqual:s9e,areMapsEqual:n?_$(N$,_0):N$,areNumbersEqual:i9e,areObjectsEqual:n?_0:o9e,arePrimitiveWrappersEqual:l9e,areRegExpsEqual:c9e,areSetsEqual:n?_$(E$,_0):E$,areTypedArraysEqual:n?_0:u9e,areUrlsEqual:d9e};if(r&&(a=T$({},a,r(a))),t){var s=rw(a.areArraysEqual),i=rw(a.areMapsEqual),l=rw(a.areObjectsEqual),c=rw(a.areSetsEqual);a=T$({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function E9e(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function C9e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var T9e=td();td({strict:!0});td({circular:!0});td({circular:!0,strict:!0});td({createInternalComparator:function(){return Vf}});td({strict:!0,createInternalComparator:function(){return Vf}});td({circular:!0,createInternalComparator:function(){return Vf}});td({circular:!0,createInternalComparator:function(){return Vf},strict:!0});function td(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,l=N9e(e),c=k9e(l),u=n?n(c):E9e(c);return C9e({circular:r,comparator:c,createState:a,equals:u,strict:i})}function A9e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function A$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):A9e(a)};requestAnimationFrame(n)}function yC(e){"@babel/helpers - typeof";return yC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yC(e)}function O9e(e){return I9e(e)||R9e(e)||D9e(e)||P9e()}function P9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D9e(e,t){if(e){if(typeof e=="string")return O$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O$(e,t)}}function O$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I9e(e){if(Array.isArray(e))return e}function M9e(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=O9e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){A$(a.bind(null,u),c);return}a(c),A$(a.bind(null,u));return}yC(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function P$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(r),!0).forEach(function(n){bX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bX(e,t,r){return t=F9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9e(e){var t=L9e(e,"string");return Av(t)==="symbol"?t:String(t)}function L9e(e,t){if(Av(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Av(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $9e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},B9e=function(t){return t},U9e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vg=function(t,r){return Object.keys(r).reduce(function(n,a){return D$(D$({},n),{},bX({},a,t(a,r[a])))},{})},R$=function(t,r,n){return t.map(function(a){return"".concat(U9e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function V9e(e,t){return H9e(e)||z9e(e,t)||_X(e,t)||W9e()}function W9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function H9e(e){if(Array.isArray(e))return e}function q9e(e){return Y9e(e)||K9e(e)||_X(e)||G9e()}function G9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _X(e,t){if(e){if(typeof e=="string")return wC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wC(e,t)}}function K9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y9e(e){if(Array.isArray(e))return wC(e)}function wC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vb=1e-4,SX=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},jX=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},I$=function(t,r){return function(n){var a=SX(t,r);return jX(a,n)}},X9e=function(t,r){return function(n){var a=SX(t,r),s=[].concat(q9e(a.map(function(i,l){return i*l}).slice(1)),[0]);return jX(s,n)}},M$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=V9e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=I$(a,i),h=I$(s,l),m=X9e(a,i),g=function(w){return w>1?1:w<0?0:w},p=function(w){for(var x=w>1?1:w,b=x,_=0;_<8;++_){var S=f(b)-x,k=m(b);if(Math.abs(S-x)<vb||k<vb)return h(b);b=g(b-S/k)}return h(b)};return p.isStepper=!1,p},J9e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var m=-(d-f)*n,g=h*s,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<vb&&Math.abs(p)<vb?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},Q9e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M$(a);case"spring":return J9e();default:if(a.split("(")[0]==="cubic-bezier")return M$(a)}return typeof a=="function"?a:null};function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function F$(e){return t7e(e)||e7e(e)||kX(e)||Z9e()}function Z9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t7e(e){if(Array.isArray(e))return _C(e)}function L$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L$(Object(r),!0).forEach(function(n){bC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bC(e,t,r){return t=r7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7e(e){var t=n7e(e,"string");return Ov(t)==="symbol"?t:String(t)}function n7e(e,t){if(Ov(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ov(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a7e(e,t){return o7e(e)||i7e(e,t)||kX(e,t)||s7e()}function s7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kX(e,t){if(e){if(typeof e=="string")return _C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(e,t)}}function _C(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function o7e(e){if(Array.isArray(e))return e}var xb=function(t,r,n){return t+(r-t)*n},SC=function(t){var r=t.from,n=t.to;return r!==n},l7e=function e(t,r,n){var a=vg(function(s,i){if(SC(i)){var l=t(i.from,i.to,i.velocity),c=a7e(l,2),u=c[0],d=c[1];return ta(ta({},i),{},{from:u,velocity:d})}return i},r);return n<1?vg(function(s,i){return SC(i)?ta(ta({},i),{},{velocity:xb(i.velocity,a[s].velocity,n),from:xb(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const c7e=function(e,t,r,n,a){var s=$9e(e,t),i=s.reduce(function(v,w){return ta(ta({},v),{},bC({},w,[e[w],t[w]]))},{}),l=s.reduce(function(v,w){return ta(ta({},v),{},bC({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return vg(function(w,x){return x.from},l)},m=function(){return!Object.values(l).filter(SC).length},g=function(w){u||(u=w);var x=w-u,b=x/r.dt;l=l7e(r,l,b),a(ta(ta(ta({},e),t),h())),u=w,m()||(c=requestAnimationFrame(f))},p=function(w){d||(d=w);var x=(w-d)/n,b=vg(function(S,k){return xb.apply(void 0,F$(k).concat([r(x)]))},i);if(a(ta(ta(ta({},e),t),b)),x<1)c=requestAnimationFrame(f);else{var _=vg(function(S,k){return xb.apply(void 0,F$(k).concat([r(1)]))},i);a(ta(ta(ta({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}var u7e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function d7e(e,t){if(e==null)return{};var r=f7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f7e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function s2(e){return g7e(e)||p7e(e)||m7e(e)||h7e()}function h7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m7e(e,t){if(e){if(typeof e=="string")return jC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jC(e,t)}}function p7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g7e(e){if(Array.isArray(e))return jC(e)}function jC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$$(Object(r),!0).forEach(function(n){$0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $0(e,t,r){return t=NX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NX(n.key),n)}}function y7e(e,t,r){return t&&x7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NX(e){var t=w7e(e,"string");return Km(t)==="symbol"?t:String(t)}function w7e(e,t){if(Km(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Km(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kC(e,t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kC(e,t)}function _7e(e){var t=S7e();return function(){var n=yb(e),a;if(t){var s=yb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return NC(this,a)}}function NC(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EC(e)}function EC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}var yl=function(e){b7e(r,e);var t=_7e(r);function r(n,a){var s;v7e(this,r),s=t.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,m=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(EC(s)),s.changeStyle=s.changeStyle.bind(EC(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),NC(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},NC(s);s.state={style:c?$0({},c,u):u}}else s.state={style:{}};return s}return y7e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!i){var m={style:c?$0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(T9e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?$0({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Qi(Qi({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=c7e(i,l,Q9e(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,w){if(w===0)return p;var x=v.duration,b=v.easing,_=b===void 0?"ease":b,S=v.style,k=v.properties,j=v.onAnimationEnd,E=w>0?i[w-1]:v,N=k||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(s2(p),[s.runJSAnimation.bind(s,{from:E.style,to:S,duration:x,easing:_}),x]);var O=R$(N,x,_),R=Qi(Qi(Qi({},E.style),S),{},{transition:O});return[].concat(s2(p),[R,x,j]).filter(B9e)};return this.manager.start([c].concat(s2(i.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=M9e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?$0({},l,c):c,v=R$(Object.keys(p),i,u);g.start([d,s,Qi(Qi({},p),{},{transition:v}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=d7e(a,u7e),u=y.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,w=g.className,x=y.cloneElement(m,Qi(Qi({},c),{},{style:Qi(Qi({},v),d),className:w}));return x};return u===1?f(y.Children.only(s)):te.createElement("div",null,y.Children.map(s,function(h){return f(h)}))}}]),r}(y.PureComponent);yl.displayName="Animate";yl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yl.propTypes={from:cr.oneOfType([cr.object,cr.string]),to:cr.oneOfType([cr.object,cr.string]),attributeName:cr.string,duration:cr.number,begin:cr.number,easing:cr.oneOfType([cr.string,cr.func]),steps:cr.arrayOf(cr.shape({duration:cr.number.isRequired,style:cr.object.isRequired,easing:cr.oneOfType([cr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),cr.func]),properties:cr.arrayOf("string"),onAnimationEnd:cr.func})),children:cr.oneOfType([cr.node,cr.func]),isActive:cr.bool,canBegin:cr.bool,onAnimationEnd:cr.func,shouldReAnimate:cr.bool,onAnimationStart:cr.func,onAnimationReStart:cr.func};function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(this,arguments)}function j7e(e,t){return C7e(e)||E7e(e,t)||N7e(e,t)||k7e()}function k7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N7e(e,t){if(e){if(typeof e=="string")return B$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B$(e,t)}}function B$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function C7e(e){if(Array.isArray(e))return e}function U$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(r),!0).forEach(function(n){T7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T7e(e,t,r){return t=A7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7e(e){var t=O7e(e,"string");return Pv(t)=="symbol"?t:t+""}function O7e(e,t){if(Pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W$=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>i?i:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var g=Math.min(i,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},P7e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},D7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f4=function(t){var r=V$(V$({},D7e),t),n=y.useRef(),a=y.useState(-1),s=j7e(a,2),i=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,w=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=$t("recharts-rectangle",m);return x?te.createElement(yl,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(_){var S=_.width,k=_.height,j=_.x,E=_.y;return te.createElement(yl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:w,easing:g},te.createElement("path",wb({},bt(r,!0),{className:b,d:W$(j,E,S,k,h),ref:n})))}):te.createElement("path",wb({},bt(r,!0),{className:b,d:W$(c,u,d,f,h)}))},R7e=["points","className","baseLinePoints","connectNulls"];function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(this,arguments)}function I7e(e,t){if(e==null)return{};var r=M7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z$(e){return B7e(e)||$7e(e)||L7e(e)||F7e()}function F7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L7e(e,t){if(e){if(typeof e=="string")return CC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CC(e,t)}}function $7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B7e(e){if(Array.isArray(e))return CC(e)}function CC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H$=function(t){return t&&t.x===+t.x&&t.y===+t.y},U7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){H$(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),H$(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},xg=function(t,r){var n=U7e(t);r&&(n=[n.reduce(function(s,i){return[].concat(z$(s),z$(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},V7e=function(t,r,n){var a=xg(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(xg(r.reverse(),n).slice(1))},W7e=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,i=I7e(t,R7e);if(!r||!r.length)return null;var l=$t("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=V7e(r,a,s);return te.createElement("g",{className:l},te.createElement("path",Ih({},bt(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?te.createElement("path",Ih({},bt(i,!0),{fill:"none",d:xg(r,s)})):null,c?te.createElement("path",Ih({},bt(i,!0),{fill:"none",d:xg(a,s)})):null)}var d=xg(r,s);return te.createElement("path",Ih({},bt(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function TC(){return TC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TC.apply(this,arguments)}var BS=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=$t("recharts-dot",s);return r===+r&&n===+n&&a===+a?y.createElement("circle",TC({},bt(t,!1),B1(t),{className:i,cx:r,cy:n,r:a})):null};function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}var z7e=["x","y","top","left","width","height","className"];function AC(){return AC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AC.apply(this,arguments)}function q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H7e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(r),!0).forEach(function(n){q7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q7e(e,t,r){return t=G7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G7e(e){var t=K7e(e,"string");return Dv(t)=="symbol"?t:t+""}function K7e(e,t){if(Dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y7e(e,t){if(e==null)return{};var r=X7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var J7e=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},Q7e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=Y7e(t,z7e),v=H7e({x:n,y:s,top:l,left:u,width:f,height:m},p);return!Xe(n)||!Xe(s)||!Xe(f)||!Xe(m)||!Xe(l)||!Xe(u)?null:te.createElement("path",AC({},bt(v,!0),{className:$t("recharts-cross",g),d:J7e(n,s,f,m,l,u)}))},Z7e=IS,eVe=LY,tVe=kl;function rVe(e,t){return e&&e.length?Z7e(e,tVe(t),eVe):void 0}var nVe=rVe;const aVe=fr(nVe);var sVe=IS,iVe=kl,oVe=$Y;function lVe(e,t){return e&&e.length?sVe(e,iVe(t),oVe):void 0}var cVe=lVe;const uVe=fr(cVe);var dVe=["cx","cy","angle","ticks","axisLine"],fVe=["ticks","tick","angle","tickFormatter","stroke"];function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(this,arguments)}function G$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(r),!0).forEach(function(n){US(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K$(e,t){if(e==null)return{};var r=hVe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CX(n.key),n)}}function pVe(e,t,r){return t&&Y$(e.prototype,t),r&&Y$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gVe(e,t,r){return t=bb(t),vVe(e,EX()?Reflect.construct(t,r||[],bb(e).constructor):t.apply(e,r))}function vVe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xVe(e)}function xVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EX=function(){return!!e})()}function bb(e){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(e)}function yVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OC(e,t)}function OC(e,t){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OC(e,t)}function US(e,t,r){return t=CX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=wVe(e,"string");return Ym(t)=="symbol"?t:t+""}function wVe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VS=function(e){function t(){return mVe(this,t),gVe(this,t,arguments)}return yVe(t,e),pVe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return Ar(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=aVe(l,function(d){return d.coordinate||0}),u=uVe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=K$(n,dVe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Ar(a,s,d[0],i),h=Ar(a,s,d[1],i),m=ld(ld(ld({},bt(u,!1)),{},{fill:"none"},bt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return te.createElement("line",yg({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=K$(a,fVe),f=this.getTickTextAnchor(),h=bt(d,!1),m=bt(i,!1),g=s.map(function(p,v){var w=n.getTickValueCoord(p),x=ld(ld(ld(ld({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},w),{},{payload:p});return te.createElement(ir,yg({className:$t("recharts-polar-radius-axis-tick",hX(i)),key:"tick-".concat(p.coordinate)},bf(n.props,p,v)),t.renderTickItem(i,x,c?c(p.value,v):p.value))});return te.createElement(ir,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:te.createElement(ir,{className:$t("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),qn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return te.isValidElement(n)?i=te.cloneElement(n,a):At(n)?i=n(a):i=te.createElement(_f,yg({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(y.PureComponent);US(VS,"displayName","PolarRadiusAxis");US(VS,"axisType","radiusAxis");US(VS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bd.apply(this,arguments)}function X$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(r),!0).forEach(function(n){WS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AX(n.key),n)}}function _Ve(e,t,r){return t&&J$(e.prototype,t),r&&J$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SVe(e,t,r){return t=_b(t),jVe(e,TX()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function jVe(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kVe(e)}function kVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TX=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function NVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PC(e,t)}function WS(e,t,r){return t=AX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AX(e){var t=EVe(e,"string");return Xm(t)=="symbol"?t:t+""}function EVe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CVe=Math.PI/180,Q$=1e-5,zS=function(e){function t(){return bVe(this,t),SVe(this,t,arguments)}return NVe(t,e),_Ve(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Ar(s,i,l,n.coordinate),h=Ar(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*CVe),i;return s>Q$?i=a==="outer"?"start":"end":s<-Q$?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=cd(cd({},bt(this.props,!1)),{},{fill:"none"},bt(l,!1));if(c==="circle")return te.createElement(BS,bd({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(h){return Ar(a,s,i,h.coordinate)});return te.createElement(W7e,bd({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=bt(this.props,!1),f=bt(i,!1),h=cd(cd({},d),{},{fill:"none"},bt(l,!1)),m=s.map(function(g,p){var v=n.getTickLineCoord(g),w=n.getTickTextAnchor(g),x=cd(cd(cd({textAnchor:w},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return te.createElement(ir,bd({className:$t("recharts-polar-angle-axis-tick",hX(i)),key:"tick-".concat(g.coordinate)},bf(n.props,g,p)),l&&te.createElement("line",bd({className:"recharts-polar-angle-axis-tick-line"},h,v)),i&&t.renderTickItem(i,x,c?c(g.value,p):g.value))});return te.createElement(ir,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:te.createElement(ir,{className:$t("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return te.isValidElement(n)?i=te.cloneElement(n,a):At(n)?i=n(a):i=te.createElement(_f,bd({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(y.PureComponent);WS(zS,"displayName","PolarAngleAxis");WS(zS,"axisType","angleAxis");WS(zS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var TVe=RK,AVe=TVe(Object.getPrototypeOf,Object),OVe=AVe,PVe=yc,DVe=OVe,RVe=wc,IVe="[object Object]",MVe=Function.prototype,FVe=Object.prototype,OX=MVe.toString,LVe=FVe.hasOwnProperty,$Ve=OX.call(Object);function BVe(e){if(!RVe(e)||PVe(e)!=IVe)return!1;var t=DVe(e);if(t===null)return!0;var r=LVe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&OX.call(r)==$Ve}var UVe=BVe;const VVe=fr(UVe);var WVe=yc,zVe=wc,HVe="[object Boolean]";function qVe(e){return e===!0||e===!1||zVe(e)&&WVe(e)==HVe}var GVe=qVe;const KVe=fr(GVe);function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sb.apply(this,arguments)}function YVe(e,t){return ZVe(e)||QVe(e,t)||JVe(e,t)||XVe()}function XVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JVe(e,t){if(e){if(typeof e=="string")return Z$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z$(e,t)}}function Z$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function ZVe(e){if(Array.isArray(e))return e}function e5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e5(Object(r),!0).forEach(function(n){eWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eWe(e,t,r){return t=tWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tWe(e){var t=rWe(e,"string");return Rv(t)=="symbol"?t:t+""}function rWe(e,t){if(Rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r5=function(t,r,n,a,s){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+s),l+="L ".concat(t+n-i/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},nWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aWe=function(t){var r=t5(t5({},nWe),t),n=y.useRef(),a=y.useState(-1),s=YVe(a,2),i=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=$t("recharts-trapezoid",m);return w?te.createElement(yl,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:w},function(b){var _=b.upperWidth,S=b.lowerWidth,k=b.height,j=b.x,E=b.y;return te.createElement(yl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},te.createElement("path",Sb({},bt(r,!0),{className:x,d:r5(j,E,_,S,k),ref:n})))}):te.createElement("g",null,te.createElement("path",Sb({},bt(r,!0),{className:x,d:r5(c,u,d,f,h)})))},sWe=["option","shapeType","propTransformer","activeClassName","isActive"];function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function iWe(e,t){if(e==null)return{};var r=oWe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(r),!0).forEach(function(n){lWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lWe(e,t,r){return t=cWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cWe(e){var t=uWe(e,"string");return Iv(t)=="symbol"?t:t+""}function uWe(e,t){if(Iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dWe(e,t){return jb(jb({},t),e)}function fWe(e,t){return e==="symbols"}function a5(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return te.createElement(f4,r);case"trapezoid":return te.createElement(aWe,r);case"sector":return te.createElement(gX,r);case"symbols":if(fWe(t))return te.createElement(AP,r);break;default:return null}}function hWe(e){return y.isValidElement(e)?e.props:e}function PX(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?dWe:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,l=e.isActive,c=iWe(e,sWe),u;if(y.isValidElement(t))u=y.cloneElement(t,jb(jb({},c),hWe(t)));else if(At(t))u=t(c);else if(VVe(t)&&!KVe(t)){var d=a(t,c);u=te.createElement(a5,{shapeType:r,elementProps:d})}else{var f=c;u=te.createElement(a5,{shapeType:r,elementProps:f})}return l?te.createElement(ir,{className:i},u):u}function HS(e,t){return t!=null&&"trapezoids"in e.props}function qS(e,t){return t!=null&&"sectors"in e.props}function Mv(e,t){return t!=null&&"points"in e.props}function mWe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function pWe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function gWe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function vWe(e,t){var r;return HS(e,t)?r=mWe:qS(e,t)?r=pWe:Mv(e,t)&&(r=gWe),r}function xWe(e,t){var r;return HS(e,t)?r="trapezoids":qS(e,t)?r="sectors":Mv(e,t)&&(r="points"),r}function yWe(e,t){if(HS(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qS(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Mv(e,t)?t.payload:{}}function wWe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=xWe(r,t),s=yWe(r,t),i=n.filter(function(c,u){var d=Ux(s,c),f=r.props[a].filter(function(g){var p=vWe(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(i[i.length-1]);return l}var Ow;function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}function s5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(r),!0).forEach(function(n){Oi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RX(n.key),n)}}function _We(e,t,r){return t&&i5(e.prototype,t),r&&i5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SWe(e,t,r){return t=kb(t),jWe(e,DX()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function jWe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kWe(e)}function kWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DX=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function NWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DC(e,t)}function DC(e,t){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DC(e,t)}function Oi(e,t,r){return t=RX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=EWe(e,"string");return Jm(t)=="symbol"?t:t+""}function EWe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ca=function(e){function t(r){var n;return bWe(this,t),n=SWe(this,t,[r]),Oi(n,"pieRef",null),Oi(n,"sectorRefs",[]),Oi(n,"id",Vp("recharts-pie-")),Oi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),At(a)&&a()}),Oi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),At(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return NWe(t,e),_We(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=bt(this.props,!1),f=bt(i,!1),h=bt(l,!1),m=i&&i.offsetRadius||20,g=n.map(function(p,v){var w=(p.startAngle+p.endAngle)/2,x=Ar(p.cx,p.cy,p.outerRadius+m,w),b=Nr(Nr(Nr(Nr({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,p.cx)},x),_=Nr(Nr(Nr(Nr({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Ar(p.cx,p.cy,p.outerRadius,w),x]}),S=c;return Lt(c)&&Lt(u)?S="value":Lt(c)&&(S=u),te.createElement(ir,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(i,b,In(p,S)))});return te.createElement(ir,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?i:h,g=Nr(Nr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return te.createElement(ir,Mh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},bf(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),te.createElement(PX,Mh({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return te.createElement(yl,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],w=s&&s[0],x=w.startAngle;return s.forEach(function(b,_){var S=h&&h[_],k=_>0?ci(b,"paddingAngle",0):0;if(S){var j=Zs(S.endAngle-S.startAngle,b.endAngle-b.startAngle),E=Nr(Nr({},b),{},{startAngle:x+k,endAngle:x+j(p)+k});v.push(E),x=E.endAngle}else{var N=b.endAngle,O=b.startAngle,R=Zs(0,N-O),T=R(p),U=Nr(Nr({},b),{},{startAngle:x+k,endAngle:x+T+k});v.push(U),x=U.endAngle}}),te.createElement(ir,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!Ux(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!i||!i.length||!Xe(u)||!Xe(d)||!Xe(f)||!Xe(h))return null;var p=$t("recharts-pie",l);return te.createElement(ir,{tabIndex:this.props.rootTabIndex,className:p,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(i),qn.renderCallByParent(this.props,null,!1),(!m||g)&&Jl.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(te.isValidElement(n))return te.cloneElement(n,a);if(At(n))return n(a);var i=$t("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return te.createElement(gb,Mh({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(te.isValidElement(n))return te.cloneElement(n,a);var i=s;if(At(n)&&(i=n(a),te.isValidElement(i)))return i;var l=$t("recharts-pie-label-text",typeof n!="boolean"&&!At(n)?n.className:"");return te.createElement(_f,Mh({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(y.PureComponent);Ow=Ca;Oi(Ca,"displayName","Pie");Oi(Ca,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Oi(Ca,"parseDeltaAngle",function(e,t){var r=as(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Oi(Ca,"getRealPieData",function(e){var t=e.data,r=e.children,n=bt(e,!1),a=ui(r,po);return t&&t.length?t.map(function(s,i){return Nr(Nr(Nr({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return Nr(Nr({},n),s.props)}):[]});Oi(Ca,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,i=fX(a,s),l=n+ss(e.cx,a,a/2),c=r+ss(e.cy,s,s/2),u=ss(e.innerRadius,i,0),d=ss(e.outerRadius,i,i*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Oi(Ca,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Nr(Nr({},t.type.defaultProps),t.props):t.props,a=Ow.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=Ow.parseCoordinateOfPie(n,r),p=Ow.parseDeltaAngle(i,l),v=Math.abs(p),w=u;Lt(u)&&Lt(f)?(ko(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Lt(u)&&(ko(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var x=a.filter(function(E){return In(E,w,0)!==0}).length,b=(v>=360?x:x-1)*c,_=v-x*m-b,S=a.reduce(function(E,N){var O=In(N,w,0);return E+(Xe(O)?O:0)},0),k;if(S>0){var j;k=a.map(function(E,N){var O=In(E,w,0),R=In(E,d,N),T=(Xe(O)?O:0)/S,U;N?U=j.endAngle+as(p)*c*(O!==0?1:0):U=i;var z=U+as(p)*((O!==0?m:0)+T*_),q=(U+z)/2,I=(g.innerRadius+g.outerRadius)/2,L=[{name:R,value:O,payload:E,dataKey:w,type:h}],M=Ar(g.cx,g.cy,I,q);return j=Nr(Nr(Nr({percent:T,cornerRadius:s,name:R,tooltipPayload:L,midAngle:q,middleRadius:I,tooltipPosition:M},E),g),{},{value:In(E,w),startAngle:U,endAngle:z,payload:E,paddingAngle:as(p)*c}),j})}return Nr(Nr({},g),{},{sectors:k,data:a})});var CWe=Math.ceil,TWe=Math.max;function AWe(e,t,r,n){for(var a=-1,s=TWe(CWe((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var OWe=AWe,PWe=ZK,o5=1/0,DWe=17976931348623157e292;function RWe(e){if(!e)return e===0?e:0;if(e=PWe(e),e===o5||e===-o5){var t=e<0?-1:1;return t*DWe}return e===e?e:0}var IX=RWe,IWe=OWe,MWe=CS,i2=IX;function FWe(e){return function(t,r,n){return n&&typeof n!="number"&&MWe(t,r,n)&&(r=n=void 0),t=i2(t),r===void 0?(r=t,t=0):r=i2(r),n=n===void 0?t<r?1:-1:i2(n),IWe(t,r,n,e)}}var LWe=FWe,$We=LWe,BWe=$We(),UWe=BWe;const Nb=fr(UWe);function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(r),!0).forEach(function(n){MX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MX(e,t,r){return t=VWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VWe(e){var t=WWe(e,"string");return Fv(t)=="symbol"?t:t+""}function WWe(e,t){if(Fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zWe=["Webkit","Moz","O","ms"],HWe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=zWe.reduce(function(s,i){return c5(c5({},s),{},MX({},i+n,r))},{});return a[t]=r,a};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(this,arguments)}function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LX(n.key),n)}}function GWe(e,t,r){return t&&d5(e.prototype,t),r&&d5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KWe(e,t,r){return t=Cb(t),YWe(e,FX()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function YWe(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XWe(e)}function XWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FX=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function JWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RC(e,t)}function RC(e,t){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RC(e,t)}function qs(e,t,r){return t=LX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LX(e){var t=QWe(e,"string");return Qm(t)=="symbol"?t:t+""}function QWe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZWe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=pg().domain(Nb(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},f5=function(t){return t.changedTouches&&!!t.changedTouches.length},Zm=function(e){function t(r){var n;return qWe(this,t),n=KWe(this,t,[r]),qs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),qs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),qs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),qs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),qs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),qs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),qs(n,"handleSlideDragStart",function(a){var s=f5(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return JWe(t,e),GWe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(i,f),g=t.getIndexInRange(i,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=In(s[n],l,n);return At(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-i):p<0&&(p=Math.max(p,u-i,u-l));var v=this.getIndex({startX:i+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:i+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=f5(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,w={startX:this.state.startX,endX:this.state.endX},x=n.pageX-s;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),w[i]=u+x;var b=this.getIndex(w),_=b.startIndex,S=b.endIndex,k=function(){var E=v.length-1;return i==="startX"&&(l>c?_%p===0:S%p===0)||l<c&&S===E||i==="endX"&&(l>c?S%p===0:_%p===0)||l>c&&S===E};this.setState(qs(qs({},i,u+x),"brushMoveStartX",n.pageX),function(){g&&k()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(qs({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return te.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?te.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,w=Math.max(n,this.props.x),x=o2(o2({},bt(this.props,!1)),{},{x:w,y:u,width:d,height:f}),b=m||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=g[v])===null||i===void 0?void 0:i.name);return te.createElement(ir,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return te.createElement(ir,{className:"recharts-brush-texts"},te.createElement(_f,Eb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:i+l/2},g),this.getTextOfTick(a)),te.createElement(_f,Eb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:i+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,w=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!Xe(l)||!Xe(c)||!Xe(u)||!Xe(d)||u<=0||d<=0)return null;var b=$t("recharts-brush",s),_=te.Children.count(i)===1,S=HWe("userSelect","none");return te.createElement(ir,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||w||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),te.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return te.isValidElement(n)?s=te.cloneElement(n,a):At(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return o2({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?ZWe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(y.PureComponent);qs(Zm,"displayName","Brush");qs(Zm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var eze=FP;function tze(e,t){var r;return eze(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var rze=tze,nze=NK,aze=kl,sze=rze,ize=Ws,oze=CS;function lze(e,t,r){var n=ize(e)?nze:sze;return r&&oze(e,t,r)&&(t=void 0),n(e,aze(t))}var cze=lze;const uze=fr(cze);var dl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},h5=KK;function dze(e,t,r){t=="__proto__"&&h5?h5(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var fze=dze,hze=fze,mze=qK,pze=kl;function gze(e,t){var r={};return t=pze(t),mze(e,function(n,a,s){hze(r,a,t(n,a,s))}),r}var vze=gze;const xze=fr(vze);function yze(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var wze=yze,bze=FP;function _ze(e,t){var r=!0;return bze(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var Sze=_ze,jze=wze,kze=Sze,Nze=kl,Eze=Ws,Cze=CS;function Tze(e,t,r){var n=Eze(e)?jze:kze;return r&&Cze(e,t,r)&&(t=void 0),n(e,Nze(t))}var Aze=Tze;const $X=fr(Aze);var Oze=["x","y"];function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function IC(){return IC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IC.apply(this,arguments)}function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){Pze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pze(e,t,r){return t=Dze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dze(e){var t=Rze(e,"string");return Lv(t)=="symbol"?t:t+""}function Rze(e,t){if(Lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ize(e,t){if(e==null)return{};var r=Mze(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fze(e,t){var r=e.x,n=e.y,a=Ize(e,Oze),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return S0(S0(S0(S0(S0({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function p5(e){return te.createElement(PX,IC({shapeType:"rectangle",propTransformer:Fze,activeClassName:"recharts-active-bar"},e))}var Lze=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Xe(n)||cAe(n);return s?t(n,a):(s||jf(),r)}},$ze=["value","background"],BX;function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function Bze(e,t){if(e==null)return{};var r=Uze(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(this,arguments)}function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(r),!0).forEach(function(n){cu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VX(n.key),n)}}function Wze(e,t,r){return t&&v5(e.prototype,t),r&&v5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zze(e,t,r){return t=Ab(t),Hze(e,UX()?Reflect.construct(t,r||[],Ab(e).constructor):t.apply(e,r))}function Hze(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qze(e)}function qze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UX=function(){return!!e})()}function Ab(e){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(e)}function Gze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MC(e,t)}function MC(e,t){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MC(e,t)}function cu(e,t,r){return t=VX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=Kze(e,"string");return ep(t)=="symbol"?t:t+""}function Kze(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wx=function(e){function t(){var r;Vze(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=zze(this,t,[].concat(a)),cu(r,"state",{isAnimationFinished:!1}),cu(r,"id",Vp("recharts-bar-")),cu(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),cu(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return Gze(t,e),Wze(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=bt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:i,p=bn(bn(bn({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return te.createElement(ir,Tb({className:"recharts-bar-rectangle"},bf(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),te.createElement(p5,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return te.createElement(yl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=s.map(function(v,w){var x=h&&h[w];if(x){var b=Zs(x.x,v.x),_=Zs(x.y,v.y),S=Zs(x.width,v.width),k=Zs(x.height,v.height);return bn(bn({},v),{},{x:b(g),y:_(g),width:S(g),height:k(g)})}if(i==="horizontal"){var j=Zs(0,v.height),E=j(g);return bn(bn({},v),{},{y:v.y+v.height-E,height:E})}var N=Zs(0,v.width),O=N(g);return bn(bn({},v),{},{width:O})});return te.createElement(ir,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!Ux(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,l=a.activeIndex,c=bt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=Bze(u,$ze);if(!f)return null;var m=bn(bn(bn(bn(bn({},h),{},{fill:"#eee"},f),c),bf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return te.createElement(p5,Tb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ui(d,Vx);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,m=function(v,w){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:In(v,w)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return te.createElement(ir,g,f.map(function(p){return te.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,w=$t("recharts-bar",i),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=x||b,S=Lt(p)?this.id:p;return te.createElement(ir,{className:w},x||b?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(S)},te.createElement("rect",{x:x?u:u-f/2,y:b?d:d-h/2,width:x?f:f*2,height:b?h:h*2}))):null,te.createElement(ir,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!m||v)&&Jl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(y.PureComponent);BX=Wx;cu(Wx,"displayName","Bar");cu(Wx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cu(Wx,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=CBe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?bn(bn({},p),r.props):r.props,w=v.dataKey,x=v.children,b=v.minPointSize,_=g==="horizontal"?i:s,S=u?_.scale.domain():null,k=IBe({numericAxis:_}),j=ui(x,po),E=f.map(function(N,O){var R,T,U,z,q,I;u?R=TBe(u[d+O],S):(R=In(N,w),Array.isArray(R)||(R=[k,R]));var L=Lze(b,BX.defaultProps.minPointSize)(R[1],O);if(g==="horizontal"){var M,D=[i.scale(R[0]),i.scale(R[1])],K=D[0],Z=D[1];T=i$({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:N,index:O}),U=(M=Z??K)!==null&&M!==void 0?M:void 0,z=m.size;var C=K-Z;if(q=Number.isNaN(C)?0:C,I={x:T,y:i.y,width:z,height:i.height},Math.abs(L)>0&&Math.abs(q)<Math.abs(L)){var Y=as(q||L)*(Math.abs(L)-Math.abs(q));U-=Y,q+=Y}}else{var B=[s.scale(R[0]),s.scale(R[1])],G=B[0],re=B[1];if(T=G,U=i$({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:N,index:O}),z=re-G,q=m.size,I={x:s.x,y:U,width:s.width,height:q},Math.abs(L)>0&&Math.abs(z)<Math.abs(L)){var se=as(z||L)*(Math.abs(L)-Math.abs(z));z+=se}}return bn(bn(bn({},N),{},{x:T,y:U,width:z,height:q,value:u?R:R[1],payload:N,background:I},j&&j[O]&&j[O].props),{},{tooltipPayload:[uX(r,N)],tooltipPosition:{x:T+z/2,y:U+q/2}})});return bn({data:E,layout:g},h)});function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function Yze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WX(n.key),n)}}function Xze(e,t,r){return t&&x5(e.prototype,t),r&&x5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(r),!0).forEach(function(n){GS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GS(e,t,r){return t=WX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WX(e){var t=Jze(e,"string");return $v(t)=="symbol"?t:t+""}function Jze(e,t){if($v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qze=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ks(u,Wx);return d.reduce(function(m,g){var p=r[g],v=p.orientation,w=p.domain,x=p.padding,b=x===void 0?{}:x,_=p.mirror,S=p.reversed,k="".concat(v).concat(_?"Mirror":""),j,E,N,O,R;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var T=w[1]-w[0],U=1/0,z=p.categoricalDomain.sort(fAe);if(z.forEach(function(B,G){G>0&&(U=Math.min((B||0)-(z[G-1]||0),U))}),Number.isFinite(U)){var q=U/T,I=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(j=q*I/2),p.padding==="no-gap"){var L=ss(t.barCategoryGap,q*I),M=q*I/2;j=M-L-(M-L)/I*L}}}a==="xAxis"?E=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:E=p.range,S&&(E=[E[1],E[0]]);var D=iX(p,s,h),K=D.scale,Z=D.realScaleType;K.domain(w).range(E),oX(K);var C=lX(K,fo(fo({},p),{},{realScaleType:Z}));a==="xAxis"?(R=v==="top"&&!_||v==="bottom"&&_,N=n.left,O=f[k]-R*p.height):a==="yAxis"&&(R=v==="left"&&!_||v==="right"&&_,N=f[k]-R*p.width,O=n.top);var Y=fo(fo(fo({},p),C),{},{realScaleType:Z,x:N,y:O,scale:K,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return Y.bandSize=hb(Y,C),!p.hide&&a==="xAxis"?f[k]+=(R?-1:1)*Y.height:p.hide||(f[k]+=(R?-1:1)*Y.width),fo(fo({},m),{},GS({},g,Y))},{})},zX=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},Zze=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return zX({x:r,y:n},{x:a,y:s})},HX=function(){function e(t){Yze(this,e),this.scale=t}return Xze(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();GS(HX,"EPS",1e-4);var h4=function(t){var r=Object.keys(t).reduce(function(n,a){return fo(fo({},n),{},GS({},a,HX.create(t[a])))},{});return fo(fo({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return xze(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return $X(a,function(s,i){return r[i].isInRange(s)})}})};function eHe(e){return(e%180+180)%180}var tHe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=eHe(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},rHe=kl,nHe=Mx,aHe=NS;function sHe(e){return function(t,r,n){var a=Object(t);if(!nHe(t)){var s=rHe(r);t=aHe(t),r=function(l){return s(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var iHe=sHe,oHe=IX;function lHe(e){var t=oHe(e),r=t%1;return t===t?r?t-r:t:0}var cHe=lHe,uHe=BK,dHe=kl,fHe=cHe,hHe=Math.max;function mHe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:fHe(r);return a<0&&(a=hHe(n+a,0)),uHe(e,dHe(t),a)}var pHe=mHe,gHe=iHe,vHe=pHe,xHe=gHe(vHe),yHe=xHe;const wHe=fr(yHe);var bHe=hTe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),m4=y.createContext(void 0),p4=y.createContext(void 0),qX=y.createContext(void 0),GX=y.createContext({}),KX=y.createContext(void 0),YX=y.createContext(0),XX=y.createContext(0),w5=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=bHe(s);return te.createElement(m4.Provider,{value:n},te.createElement(p4.Provider,{value:a},te.createElement(GX.Provider,{value:s},te.createElement(qX.Provider,{value:d},te.createElement(KX.Provider,{value:i},te.createElement(YX.Provider,{value:u},te.createElement(XX.Provider,{value:c},l)))))))},_He=function(){return y.useContext(KX)},JX=function(t){var r=y.useContext(m4);r==null&&jf();var n=r[t];return n==null&&jf(),n},SHe=function(){var t=y.useContext(m4);return Gc(t)},jHe=function(){var t=y.useContext(p4),r=wHe(t,function(n){return $X(n.domain,Number.isFinite)});return r||Gc(t)},QX=function(t){var r=y.useContext(p4);r==null&&jf();var n=r[t];return n==null&&jf(),n},kHe=function(){var t=y.useContext(qX);return t},NHe=function(){return y.useContext(GX)},g4=function(){return y.useContext(XX)},v4=function(){return y.useContext(YX)};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function EHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eJ(n.key),n)}}function THe(e,t,r){return t&&CHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AHe(e,t,r){return t=Ob(t),OHe(e,ZX()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function OHe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PHe(e)}function PHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZX=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function DHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FC(e,t)}function FC(e,t){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FC(e,t)}function b5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(r),!0).forEach(function(n){x4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x4(e,t,r){return t=eJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eJ(e){var t=RHe(e,"string");return tp(t)=="symbol"?t:t+""}function RHe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IHe(e,t){return $He(e)||LHe(e,t)||FHe(e,t)||MHe()}function MHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FHe(e,t){if(e){if(typeof e=="string")return S5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S5(e,t)}}function S5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function $He(e){if(Array.isArray(e))return e}function LC(){return LC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LC.apply(this,arguments)}var BHe=function(t,r){var n;return te.isValidElement(t)?n=te.cloneElement(t,r):At(t)?n=t(r):n=te.createElement("line",LC({},r,{className:"recharts-reference-line-line"})),n},UHe=function(t,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var g=u.y,p=t.y.apply(g,{position:i});if(dl(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var w=u.x,x=t.x.apply(w,{position:i});if(dl(u,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:f+m},{x,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,S=_.map(function(k){return t.apply(k,{position:i})});return dl(u,"discard")&&uze(S,function(k){return!t.isInRange(k)})?null:S}return null};function VHe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=_He(),d=JX(a),f=QX(s),h=kHe();if(!u||!h)return null;ko(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=h4({x:d.scale,y:f.scale}),g=Ln(t),p=Ln(r),v=n&&n.length===2,w=UHe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!w)return null;var x=IHe(w,2),b=x[0],_=b.x,S=b.y,k=x[1],j=k.x,E=k.y,N=dl(e,"hidden")?"url(#".concat(u,")"):void 0,O=_5(_5({clipPath:N},bt(e,!0)),{},{x1:_,y1:S,x2:j,y2:E});return te.createElement(ir,{className:$t("recharts-reference-line",l)},BHe(i,O),qn.renderCallByParent(e,Zze({x1:_,y1:S,x2:j,y2:E})))}var y4=function(e){function t(){return EHe(this,t),AHe(this,t,arguments)}return DHe(t,e),THe(t,[{key:"render",value:function(){return te.createElement(VHe,this.props)}}])}(te.Component);x4(y4,"displayName","ReferenceLine");x4(y4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $C(){return $C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$C.apply(this,arguments)}function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){KS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rJ(n.key),n)}}function HHe(e,t,r){return t&&zHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qHe(e,t,r){return t=Pb(t),GHe(e,tJ()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function GHe(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KHe(e)}function KHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tJ=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function YHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BC(e,t)}function BC(e,t){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BC(e,t)}function KS(e,t,r){return t=rJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){var t=XHe(e,"string");return rp(t)=="symbol"?t:t+""}function XHe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JHe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=h4({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return dl(t,"discard")&&!i.isInRange(l)?null:l},YS=function(e){function t(){return WHe(this,t),qHe(this,t,arguments)}return YHe(t,e),HHe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ln(a),d=Ln(s);if(ko(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=JHe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,w=dl(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=k5(k5({clipPath:w},bt(this.props,!0)),{},{cx:h,cy:m});return te.createElement(ir,{className:$t("recharts-reference-dot",v)},t.renderDot(p,x),qn.renderCallByParent(this.props,{x:h-i,y:m-i,width:2*i,height:2*i}))}}])}(te.Component);KS(YS,"displayName","ReferenceDot");KS(YS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});KS(YS,"renderDot",function(e,t){var r;return te.isValidElement(e)?r=te.cloneElement(e,t):At(e)?r=e(t):r=te.createElement(BS,$C({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UC.apply(this,arguments)}function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function N5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(r),!0).forEach(function(n){XS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aJ(n.key),n)}}function eqe(e,t,r){return t&&ZHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tqe(e,t,r){return t=Db(t),rqe(e,nJ()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function rqe(e,t){if(t&&(np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nqe(e)}function nqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nJ=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function aqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VC(e,t)}function VC(e,t){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VC(e,t)}function XS(e,t,r){return t=aJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJ(e){var t=sqe(e,"string");return np(t)=="symbol"?t:t+""}function sqe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iqe=function(t,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=h4({x:d.scale,y:f.scale}),m={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return dl(s,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:zX(m,g)},JS=function(e){function t(){return QHe(this,t),tqe(this,t,arguments)}return aqe(t,e),eqe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ko(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ln(a),h=Ln(s),m=Ln(i),g=Ln(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=iqe(f,h,m,g,this.props);if(!v&&!p)return null;var w=dl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return te.createElement(ir,{className:$t("recharts-reference-area",c)},t.renderRect(p,E5(E5({clipPath:w},bt(this.props,!0)),v)),qn.renderCallByParent(this.props,v))}}])}(te.Component);XS(JS,"displayName","ReferenceArea");XS(JS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});XS(JS,"renderRect",function(e,t){var r;return te.isValidElement(e)?r=te.cloneElement(e,t):At(e)?r=e(t):r=te.createElement(f4,UC({},t,{className:"recharts-reference-area-rect"})),r});function sJ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function oqe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return tHe(n,r)}function lqe(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function Rb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function cqe(e,t){return sJ(e,t+1)}function uqe(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:sJ(n,u)};var p=c,v,w=function(){return v===void 0&&(v=r(g,p)),v},x=g.coordinate,b=c===0||Rb(e,x,w,d,l);b||(c=0,d=i,u+=1),b&&(d=x+e*(w()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function C5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(r),!0).forEach(function(n){dqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dqe(e,t,r){return t=fqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fqe(e){var t=hqe(e,"string");return Bv(t)=="symbol"?t:t+""}function hqe(e,t){if(Bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mqe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===i-1){var v=e*(m.coordinate+e*p()/2-c);s[h]=m=ka(ka({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=ka(ka({},m),{},{tickCoord:m.coordinate});var w=Rb(e,m.tickCoord,p,l,c);w&&(c=m.tickCoord-e*(p()/2+a),s[h]=ka(ka({},m),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function pqe(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=ka(ka({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Rb(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),i[l-1]=ka(ka({},d),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(x){var b=i[x],_,S=function(){return _===void 0&&(_=r(b,x)),_};if(x===0){var k=e*(b.coordinate-e*S()/2-c);i[x]=b=ka(ka({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[x]=b=ka(ka({},b),{},{tickCoord:b.coordinate});var j=Rb(e,b.tickCoord,S,c,u);j&&(c=b.tickCoord+e*(S()/2+a),i[x]=ka(ka({},b),{},{isShow:!0}))},v=0;v<g;v++)p(v);return i}function w4(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Xe(c)||cl.isSsr)return cqe(a,typeof c=="number"&&Xe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?mg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(b,_){var S=At(u)?u(b.value,_):b.value;return m==="width"?oqe(mg(S,{fontSize:t,letterSpacing:r}),g,f):mg(S,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?as(a[1].coordinate-a[0].coordinate):1,w=lqe(s,v,m);return c==="equidistantPreserveStart"?uqe(v,w,p,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=pqe(v,w,p,a,i,c==="preserveStartEnd"):h=mqe(v,w,p,a,i),h.filter(function(x){return x.isShow}))}var gqe=["viewBox"],vqe=["viewBox"],xqe=["ticks"];function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(this,arguments)}function T5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T5(Object(r),!0).forEach(function(n){b4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l2(e,t){if(e==null)return{};var r=yqe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oJ(n.key),n)}}function bqe(e,t,r){return t&&A5(e.prototype,t),r&&A5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _qe(e,t,r){return t=Ib(t),Sqe(e,iJ()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function Sqe(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jqe(e)}function jqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iJ=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function kqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WC(e,t)}function WC(e,t){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WC(e,t)}function b4(e,t,r){return t=oJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJ(e){var t=Nqe(e,"string");return ap(t)=="symbol"?t:t+""}function Nqe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yp=function(e){function t(r){var n;return wqe(this,t),n=_qe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return kqe(t,e),bqe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=l2(n,gqe),l=this.props,c=l.viewBox,u=l2(l,vqe);return!rm(s,c)||!rm(i,u)||!rm(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,w,x,b=f?-1:1,_=n.tickSize||d,S=Xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=i+ +!f*c,p=v-b*_,x=p-b*h,w=S;break;case"left":p=v=n.coordinate,g=s+ +!f*l,m=g-b*_,w=m-b*h,x=S;break;case"right":p=v=n.coordinate,g=s+ +f*l,m=g+b*_,w=m+b*h,x=S;break;default:m=g=n.coordinate,v=i+ +f*c,p=v+b*_,x=p+b*h,w=S;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:w,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Tn(Tn(Tn({},bt(this.props,!1)),bt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Tn(Tn({},f),{},{x1:a,y1:s+h*l,x2:a+i,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Tn(Tn({},f),{},{x1:a+m*i,y1:s,x2:a+m*i,y2:s+l})}return te.createElement("line",Fh({},f,{className:$t("recharts-cartesian-axis-line",ci(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=w4(Tn(Tn({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=bt(this.props,!1),w=bt(d,!1),x=Tn(Tn({},v),{},{fill:"none"},bt(c,!1)),b=m.map(function(_,S){var k=i.getTickLineCoord(_),j=k.line,E=k.tick,N=Tn(Tn(Tn(Tn({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},w),E),{},{index:S,payload:_,visibleTicksCount:m.length,tickFormatter:f});return te.createElement(ir,Fh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},bf(i.props,_,S)),c&&te.createElement("line",Fh({},x,j,{className:$t("recharts-cartesian-axis-tick-line",ci(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(At(f)?f(_.value,S):_.value).concat(h||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=l2(f,xqe),g=h;return At(c)&&(g=h&&h.length>0?c(this.props):c(m)),i<=0||l<=0||!g||!g.length?null:te.createElement(ir,{className:$t("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i,l=$t(a.className,"recharts-cartesian-axis-tick-value");return te.isValidElement(n)?i=te.cloneElement(n,Tn(Tn({},a),{},{className:l})):At(n)?i=n(Tn(Tn({},a),{},{className:l})):i=te.createElement(_f,Fh({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(y.Component);b4(Yp,"displayName","CartesianAxis");b4(Yp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Eqe=["x1","y1","x2","y2","key"],Cqe=["offset"];function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function O5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O5(Object(r),!0).forEach(function(n){Tqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tqe(e,t,r){return t=Aqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aqe(e){var t=Oqe(e,"string");return kf(t)=="symbol"?t:t+""}function Oqe(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(this,arguments)}function P5(e,t){if(e==null)return{};var r=Pqe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dqe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,l=t.height,c=t.ry;return te.createElement("rect",{x:a,y:s,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lJ(e,t){var r;if(te.isValidElement(e))r=te.cloneElement(e,t);else if(At(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,l=t.key,c=P5(t,Eqe),u=bt(c,!1);u.offset;var d=P5(u,Cqe);r=te.createElement("line",Pd({},d,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return r}function Rqe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Ta(Ta({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return lJ(a,u)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Iqe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Ta(Ta({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return lJ(a,u)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Mqe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+i-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return te.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Fqe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return te.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Lqe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return sX(w4(Ta(Ta(Ta({},Yp.defaultProps),n),{},{ticks:Hl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},$qe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return sX(w4(Ta(Ta(Ta({},Yp.defaultProps),n),{},{ticks:Hl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},ah={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _4(e){var t,r,n,a,s,i,l=g4(),c=v4(),u=NHe(),d=Ta(Ta({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ah.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ah.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ah.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ah.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:ah.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:ah.verticalFill,x:Xe(e.x)?e.x:u.left,y:Xe(e.y)?e.y:u.top,width:Xe(e.width)?e.width:u.width,height:Xe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,w=d.verticalValues,x=SHe(),b=jHe();if(!Xe(m)||m<=0||!Xe(g)||g<=0||!Xe(f)||f!==+f||!Xe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||Lqe,S=d.horizontalCoordinatesGenerator||$qe,k=d.horizontalPoints,j=d.verticalPoints;if((!k||!k.length)&&At(S)){var E=v&&v.length,N=S({yAxis:b?Ta(Ta({},b),{},{ticks:E?v:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);ko(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(kf(N),"]")),Array.isArray(N)&&(k=N)}if((!j||!j.length)&&At(_)){var O=w&&w.length,R=_({xAxis:x?Ta(Ta({},x),{},{ticks:O?w:x.ticks}):void 0,width:l,height:c,offset:u},O?!0:p);ko(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(kf(R),"]")),Array.isArray(R)&&(j=R)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(Dqe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),te.createElement(Rqe,Pd({},d,{offset:u,horizontalPoints:k,xAxis:x,yAxis:b})),te.createElement(Iqe,Pd({},d,{offset:u,verticalPoints:j,xAxis:x,yAxis:b})),te.createElement(Mqe,Pd({},d,{horizontalPoints:k})),te.createElement(Fqe,Pd({},d,{verticalPoints:j})))}_4.displayName="CartesianGrid";var Bqe=["type","layout","connectNulls","ref"],Uqe=["key"];function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function D5(e,t){if(e==null)return{};var r=Vqe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function R5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R5(Object(r),!0).forEach(function(n){ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sh(e){return qqe(e)||Hqe(e)||zqe(e)||Wqe()}function Wqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zqe(e,t){if(e){if(typeof e=="string")return zC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(e,t)}}function Hqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qqe(e){if(Array.isArray(e))return zC(e)}function zC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uJ(n.key),n)}}function Kqe(e,t,r){return t&&I5(e.prototype,t),r&&I5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yqe(e,t,r){return t=Mb(t),Xqe(e,cJ()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function Xqe(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jqe(e)}function Jqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cJ=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function Qqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HC(e,t)}function HC(e,t){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HC(e,t)}function ho(e,t,r){return t=uJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uJ(e){var t=Zqe(e,"string");return sp(t)=="symbol"?t:t+""}function Zqe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xp=function(e){function t(){var r;Gqe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Yqe(this,t,[].concat(a)),ho(r,"state",{isAnimationFinished:!0,totalLength:0}),ho(r,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),ho(r,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(w,x){return w+x});if(!u)return r.generateSimpleStrokeDasharray(l,i);for(var d=Math.floor(i/u),f=i%u,h=l-i,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(sh(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(sh(t.repeat(c,d)),sh(m),v).map(function(w){return"".concat(w,"px")}).join(", ")}),ho(r,"id",Vp("recharts-line-")),ho(r,"pathRef",function(i){r.mainCurve=i}),ho(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ho(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Qqe(t,e),Kqe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ui(d,Vx);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:In(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return te.createElement(ir,m,f.map(function(g){return te.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=bt(this.props,!1),h=bt(c,!0),m=u.map(function(p,v){var w=zs(zs(zs({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,w)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return te.createElement(ir,wg({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,s,i){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=D5(l,Bqe),h=zs(zs(zs({},bt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:d});return te.createElement(gb,wg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,g=i.animateNewValues,p=i.width,v=i.height,w=this.state,x=w.prevPoints,b=w.totalLength;return te.createElement(yl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(x){var k=x.length/l.length,j=l.map(function(T,U){var z=Math.floor(U*k);if(x[z]){var q=x[z],I=Zs(q.x,T.x),L=Zs(q.y,T.y);return zs(zs({},T),{},{x:I(S),y:L(S)})}if(g){var M=Zs(p*2,T.x),D=Zs(v/2,T.y);return zs(zs({},T),{},{x:M(S),y:D(S)})}return zs(zs({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(j,n,a)}var E=Zs(0,b),N=E(S),O;if(c){var R="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});O=s.getStrokeDasharray(N,b,R)}else O=s.generateSimpleStrokeDasharray(b,N);return s.renderCurveStatically(l,n,a,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,a){var s=this.props,i=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&i&&i.length&&(!u&&d>0||!Ux(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,i=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var w=this.state.isAnimationFinished,x=l.length===1,b=$t("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=_||S,j=Lt(v)?this.id:v,E=(n=bt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=E.r,O=N===void 0?3:N,R=E.strokeWidth,T=R===void 0?2:R,U=bAe(i)?i:{},z=U.clipDot,q=z===void 0?!0:z,I=O*2+T;return te.createElement(ir,{className:b},_||S?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(j)},te.createElement("rect",{x:_?h:h-m/2,y:S?f:f-g/2,width:_?m:m*2,height:S?g:g*2})),!q&&te.createElement("clipPath",{id:"clipPath-dots-".concat(j)},te.createElement("rect",{x:h-I/2,y:f-I/2,width:m+I,height:g+I}))):null,!x&&this.renderCurve(k,j),this.renderErrorBar(k,j),(x||i)&&this.renderDots(k,q,j),(!p||w)&&Jl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(sh(n),[0]):n,i=[],l=0;l<a;++l)i=[].concat(sh(i),sh(s));return i}},{key:"renderDotItem",value:function(n,a){var s;if(te.isValidElement(n))s=te.cloneElement(n,a);else if(At(n))s=n(a);else{var i=a.key,l=D5(a,Uqe),c=$t("recharts-line-dot",typeof n!="boolean"?n.className:"");s=te.createElement(BS,wg({key:i},l,{className:c}))}return s}}])}(y.PureComponent);ho(Xp,"displayName","Line");ho(Xp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!cl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ho(Xp,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=In(h,i);return d==="horizontal"?{x:s$({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Lt(g)?null:n.scale(g),value:g,payload:h}:{x:Lt(g)?null:r.scale(g),y:s$({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:g,payload:h}});return zs({points:f,layout:d},u)});function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function eGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hJ(n.key),n)}}function rGe(e,t,r){return t&&tGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nGe(e,t,r){return t=Fb(t),aGe(e,dJ()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function aGe(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sGe(e)}function sGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dJ=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function iGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qC(e,t)}function qC(e,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qC(e,t)}function fJ(e,t,r){return t=hJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJ(e){var t=oGe(e,"string");return ip(t)=="symbol"?t:t+""}function oGe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GC(){return GC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GC.apply(this,arguments)}function lGe(e){var t=e.xAxisId,r=g4(),n=v4(),a=JX(t);return a==null?null:y.createElement(Yp,GC({},a,{className:$t("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Hl(i,!0)}}))}var zx=function(e){function t(){return eGe(this,t),nGe(this,t,arguments)}return iGe(t,e),rGe(t,[{key:"render",value:function(){return y.createElement(lGe,this.props)}}])}(y.Component);fJ(zx,"displayName","XAxis");fJ(zx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function cGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gJ(n.key),n)}}function dGe(e,t,r){return t&&uGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fGe(e,t,r){return t=Lb(t),hGe(e,mJ()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function hGe(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mGe(e)}function mGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function pGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KC(e,t)}function KC(e,t){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KC(e,t)}function pJ(e,t,r){return t=gJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=gGe(e,"string");return op(t)=="symbol"?t:t+""}function gGe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YC.apply(this,arguments)}var vGe=function(t){var r=t.yAxisId,n=g4(),a=v4(),s=QX(r);return s==null?null:y.createElement(Yp,YC({},s,{className:$t("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Hl(l,!0)}}))},Hx=function(e){function t(){return cGe(this,t),fGe(this,t,arguments)}return pGe(t,e),dGe(t,[{key:"render",value:function(){return y.createElement(vGe,this.props)}}])}(y.Component);pJ(Hx,"displayName","YAxis");pJ(Hx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M5(e){return bGe(e)||wGe(e)||yGe(e)||xGe()}function xGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yGe(e,t){if(e){if(typeof e=="string")return XC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XC(e,t)}}function wGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bGe(e){if(Array.isArray(e))return XC(e)}function XC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JC=function(t,r,n,a,s){var i=ui(t,y4),l=ui(t,YS),c=[].concat(M5(i),M5(l)),u=ui(t,JS),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&dl(v.props,"extendDomain")&&Xe(v.props[f])){var w=v.props[f];return[Math.min(p[0],w),Math.max(p[1],w)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&dl(v.props,"extendDomain")&&Xe(v.props[m])&&Xe(v.props[g])){var w=v.props[m],x=v.props[g];return[Math.min(p[0],w,x),Math.max(p[1],w,x)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,v){return Xe(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},vJ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],w=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(b=1,x=new Array(w-1);b<w;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var _=v.length,S;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),w){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!x)for(S=1,x=new Array(w-1);S<w;S++)x[S-1]=arguments[S];v[b].fn.apply(v[b].context,x)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&i(this,m);else{for(var p=0,v=[],w=g.length;p<w;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(vJ);var _Ge=vJ.exports;const SGe=fr(_Ge);var c2=new SGe,u2="recharts.syncMouseEvents";function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function jGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xJ(n.key),n)}}function NGe(e,t,r){return t&&kGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d2(e,t,r){return t=xJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=EGe(e,"string");return Uv(t)=="symbol"?t:t+""}function EGe(e,t){if(Uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CGe=function(){function e(){jGe(this,e),d2(this,"activeIndex",0),d2(this,"coordinateList",[]),d2(this,"layout","horizontal")}return NGe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function TGe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Xe(n)&&Xe(a))return!0}return!1}function AGe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function yJ(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=Ar(t,r,n,a),l=Ar(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function OGe(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ar(l,c,u,f),m=Ar(l,c,d,f);n=h.x,a=h.y,s=m.x,i=m.y}else return yJ(t);return[{x:n,y:a},{x:s,y:i}]}function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function F5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(r),!0).forEach(function(n){PGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PGe(e,t,r){return t=DGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DGe(e){var t=RGe(e,"string");return Vv(t)=="symbol"?t:t+""}function RGe(e,t){if(Vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IGe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var g,p=gb;if(h==="ScatterChart")g=i,p=Q7e;else if(h==="BarChart")g=AGe(f,i,c,d),p=f4;else if(f==="radial"){var v=yJ(i),w=v.cx,x=v.cy,b=v.radius,_=v.startAngle,S=v.endAngle;g={cx:w,cy:x,startAngle:_,endAngle:S,innerRadius:b,outerRadius:b},p=gX}else g={points:OGe(f,i,c)},p=gb;var k=nw(nw(nw(nw({stroke:"#ccc",pointerEvents:"none"},c),g),bt(m,!1)),{},{payload:l,payloadIndex:u,className:$t("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,k):y.createElement(p,k)}var MGe=["item"],FGe=["children","className","width","height","style","compact","title","desc"];function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lh.apply(this,arguments)}function L5(e,t){return BGe(e)||$Ge(e,t)||bJ(e,t)||LGe()}function LGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function BGe(e){if(Array.isArray(e))return e}function $5(e,t){if(e==null)return{};var r=UGe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_J(n.key),n)}}function zGe(e,t,r){return t&&WGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HGe(e,t,r){return t=$b(t),qGe(e,wJ()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function qGe(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GGe(e)}function GGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wJ=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function KGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QC(e,t)}function QC(e,t){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QC(e,t)}function cp(e){return JGe(e)||XGe(e)||bJ(e)||YGe()}function YGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(e,t){if(e){if(typeof e=="string")return ZC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZC(e,t)}}function XGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JGe(e){if(Array.isArray(e))return ZC(e)}function ZC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(r),!0).forEach(function(n){jt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jt(e,t,r){return t=_J(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _J(e){var t=QGe(e,"string");return lp(t)=="symbol"?t:t+""}function QGe(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZGe={xAxis:["bottom","top"],yAxis:["left","right"]},eKe={width:"100%",height:"100%"},SJ={x:0,y:0};function aw(e){return e}var tKe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},rKe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,l=a.radius;return De(De(De({},a),Ar(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return De(De(De({},a),Ar(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return SJ},QS=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(cp(l),cp(u)):l},[]);return i.length>0?i:t&&t.length&&Xe(a)&&Xe(s)?t.slice(a,s+1):[]};function jJ(e){return e==="number"?[0,"auto"]:void 0}var eT=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,l=QS(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var m=f===void 0?l:f;h=$1(m,i.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(cp(c),[uX(u,h)]):c},[])},U5=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=tKe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=_Be(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=eT(t,r,d,f),m=rKe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},nKe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=aX(d,s);return n.reduce(function(g,p){var v,w=p.type.defaultProps!==void 0?De(De({},p.type.defaultProps),p.props):p.props,x=w.type,b=w.dataKey,_=w.allowDataOverflow,S=w.allowDuplicatedCategory,k=w.scale,j=w.ticks,E=w.includeHidden,N=w[i];if(g[N])return g;var O=QS(t.data,{graphicalItems:a.filter(function(C){var Y,B=i in C.props?C.props[i]:(Y=C.type.defaultProps)===null||Y===void 0?void 0:Y[i];return B===N}),dataStartIndex:c,dataEndIndex:u}),R=O.length,T,U,z;TGe(w.domain,_,x)&&(T=mC(w.domain,null,_),m&&(x==="number"||k!=="auto")&&(z=gg(O,b,"category")));var q=jJ(x);if(!T||T.length===0){var I,L=(I=w.domain)!==null&&I!==void 0?I:q;if(b){if(T=gg(O,b,x),x==="category"&&m){var M=dAe(T);S&&M?(U=T,T=Nb(0,R)):S||(T=c$(L,T,p).reduce(function(C,Y){return C.indexOf(Y)>=0?C:[].concat(cp(C),[Y])},[]))}else if(x==="category")S?T=T.filter(function(C){return C!==""&&!Lt(C)}):T=c$(L,T,p).reduce(function(C,Y){return C.indexOf(Y)>=0||Y===""||Lt(Y)?C:[].concat(cp(C),[Y])},[]);else if(x==="number"){var D=EBe(O,a.filter(function(C){var Y,B,G=i in C.props?C.props[i]:(Y=C.type.defaultProps)===null||Y===void 0?void 0:Y[i],re="hide"in C.props?C.props.hide:(B=C.type.defaultProps)===null||B===void 0?void 0:B.hide;return G===N&&(E||!re)}),b,s,d);D&&(T=D)}m&&(x==="number"||k!=="auto")&&(z=gg(O,b,"category"))}else m?T=Nb(0,R):l&&l[N]&&l[N].hasStack&&x==="number"?T=h==="expand"?[0,1]:cX(l[N].stackGroups,c,u):T=nX(O,a.filter(function(C){var Y=i in C.props?C.props[i]:C.type.defaultProps[i],B="hide"in C.props?C.props.hide:C.type.defaultProps.hide;return Y===N&&(E||!B)}),x,d,!0);if(x==="number")T=JC(f,T,N,s,j),L&&(T=mC(L,T,_));else if(x==="category"&&L){var K=L,Z=T.every(function(C){return K.indexOf(C)>=0});Z&&(T=K)}}return De(De({},g),{},jt({},N,De(De({},w),{},{axisType:s,domain:T,categoricalDomain:z,duplicateDomain:U,originalDomain:(v=w.domain)!==null&&v!==void 0?v:q,isCategorical:m,layout:d})))},{})},aKe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=QS(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=aX(d,s),p=-1;return n.reduce(function(v,w){var x=w.type.defaultProps!==void 0?De(De({},w.type.defaultProps),w.props):w.props,b=x[i],_=jJ("number");if(!v[b]){p++;var S;return g?S=Nb(0,m):l&&l[b]&&l[b].hasStack?(S=cX(l[b].stackGroups,c,u),S=JC(f,S,b,s)):(S=mC(_,nX(h,n.filter(function(k){var j,E,N=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],O="hide"in k.props?k.props.hide:(E=k.type.defaultProps)===null||E===void 0?void 0:E.hide;return N===b&&!O}),"number",d),a.defaultProps.allowDataOverflow),S=JC(f,S,b,s)),De(De({},v),{},jt({},b,De(De({axisType:s},a.defaultProps),{},{hide:!0,orientation:ci(ZGe,"".concat(s,".").concat(p%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},sKe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ui(d,s),m={};return h&&h.length?m=nKe(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(m=aKe(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},iKe=function(t){var r=Gc(t),n=Hl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:LP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:hb(r,n)}},V5=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ks(r,Zm),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},oKe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Yl(r&&r.type);return n&&n.indexOf("Bar")>=0})},W5=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lKe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Ks(f,Zm),g=Ks(f,Su),p=Object.keys(c).reduce(function(S,k){var j=c[k],E=j.orientation;return!j.mirror&&!j.hide?De(De({},S),{},jt({},E,S[E]+j.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(i).reduce(function(S,k){var j=i[k],E=j.orientation;return!j.mirror&&!j.hide?De(De({},S),{},jt({},E,ci(S,"".concat(E))+j.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=De(De({},v),p),x=w.bottom;m&&(w.bottom+=m.props.height||Zm.defaultProps.height),g&&r&&(w=kBe(w,a,n,r));var b=u-w.left-w.right,_=d-w.top-w.bottom;return De(De({brushBottom:x},w),{},{width:Math.max(b,0),height:Math.max(_,0)})},cKe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},kJ=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(w,x){var b=x.graphicalItems,_=x.stackGroups,S=x.offset,k=x.updateId,j=x.dataStartIndex,E=x.dataEndIndex,N=w.barSize,O=w.layout,R=w.barGap,T=w.barCategoryGap,U=w.maxBarSize,z=W5(O),q=z.numericAxisName,I=z.cateAxisName,L=oKe(b),M=[];return b.forEach(function(D,K){var Z=QS(w.data,{graphicalItems:[D],dataStartIndex:j,dataEndIndex:E}),C=D.type.defaultProps!==void 0?De(De({},D.type.defaultProps),D.props):D.props,Y=C.dataKey,B=C.maxBarSize,G=C["".concat(q,"Id")],re=C["".concat(I,"Id")],se={},ce=c.reduce(function(he,F){var le=x["".concat(F.axisType,"Map")],ve=C["".concat(F.axisType,"Id")];le&&le[ve]||F.axisType==="zAxis"||jf();var ye=le[ve];return De(De({},he),{},jt(jt({},F.axisType,ye),"".concat(F.axisType,"Ticks"),Hl(ye)))},se),ae=ce[I],J=ce["".concat(I,"Ticks")],me=_&&_[G]&&_[G].hasStack&&MBe(D,_[G].stackGroups),A=Yl(D.type).indexOf("Bar")>=0,Le=hb(ae,J),Ie=[],Ve=L&&SBe({barSize:N,stackGroups:_,totalSize:cKe(ce,I)});if(A){var We,Pe,ft=Lt(B)?U:B,_t=(We=(Pe=hb(ae,J,!0))!==null&&Pe!==void 0?Pe:ft)!==null&&We!==void 0?We:0;Ie=jBe({barGap:R,barCategoryGap:T,bandSize:_t!==Le?_t:Le,sizeList:Ve[re],maxBarSize:ft}),_t!==Le&&(Ie=Ie.map(function(he){return De(De({},he),{},{position:De(De({},he.position),{},{offset:he.position.offset-_t/2})})}))}var ne=D&&D.type&&D.type.getComposedData;ne&&M.push({props:De(De({},ne(De(De({},ce),{},{displayedData:Z,props:w,dataKey:Y,item:D,bandSize:Le,barPosition:Ie,offset:S,stackedData:me,layout:O,dataStartIndex:j,dataEndIndex:E}))),{},jt(jt(jt({key:D.key||"item-".concat(K)},q,ce[q]),I,ce[I]),"animationId",k)),childIndex:jAe(D,w.children),item:D})}),M},m=function(w,x){var b=w.props,_=w.dataStartIndex,S=w.dataEndIndex,k=w.updateId;if(!r3({props:b}))return null;var j=b.children,E=b.layout,N=b.stackOffset,O=b.data,R=b.reverseStackOrder,T=W5(E),U=T.numericAxisName,z=T.cateAxisName,q=ui(j,n),I=RBe(O,q,"".concat(U,"Id"),"".concat(z,"Id"),N,R),L=c.reduce(function(C,Y){var B="".concat(Y.axisType,"Map");return De(De({},C),{},jt({},B,sKe(b,De(De({},Y),{},{graphicalItems:q,stackGroups:Y.axisType===U&&I,dataStartIndex:_,dataEndIndex:S}))))},{}),M=lKe(De(De({},L),{},{props:b,graphicalItems:q}),x==null?void 0:x.legendBBox);Object.keys(L).forEach(function(C){L[C]=d(b,L[C],M,C.replace("Map",""),r)});var D=L["".concat(z,"Map")],K=iKe(D),Z=h(b,De(De({},L),{},{dataStartIndex:_,dataEndIndex:S,updateId:k,graphicalItems:q,stackGroups:I,offset:M}));return De(De({formattedGraphicalItems:Z,graphicalItems:q,offset:M,stackGroups:I},K),L)},g=function(v){function w(x){var b,_,S;return VGe(this,w),S=HGe(this,w,[x]),jt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(S,"accessibilityManager",new CGe),jt(S,"handleLegendBBoxUpdate",function(k){if(k){var j=S.state,E=j.dataStartIndex,N=j.dataEndIndex,O=j.updateId;S.setState(De({legendBBox:k},m({props:S.props,dataStartIndex:E,dataEndIndex:N,updateId:O},De(De({},S.state),{},{legendBBox:k}))))}}),jt(S,"handleReceiveSyncEvent",function(k,j,E){if(S.props.syncId===k){if(E===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(j)}}),jt(S,"handleBrushChange",function(k){var j=k.startIndex,E=k.endIndex;if(j!==S.state.dataStartIndex||E!==S.state.dataEndIndex){var N=S.state.updateId;S.setState(function(){return De({dataStartIndex:j,dataEndIndex:E},m({props:S.props,dataStartIndex:j,dataEndIndex:E,updateId:N},S.state))}),S.triggerSyncEvent({dataStartIndex:j,dataEndIndex:E})}}),jt(S,"handleMouseEnter",function(k){var j=S.getMouseInfo(k);if(j){var E=De(De({},j),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var N=S.props.onMouseEnter;At(N)&&N(E,k)}}),jt(S,"triggeredAfterMouseMove",function(k){var j=S.getMouseInfo(k),E=j?De(De({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var N=S.props.onMouseMove;At(N)&&N(E,k)}),jt(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),jt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),jt(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),jt(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};S.setState(j),S.triggerSyncEvent(j);var E=S.props.onMouseLeave;At(E)&&E(j,k)}),jt(S,"handleOuterEvent",function(k){var j=SAe(k),E=ci(S.props,"".concat(j));if(j&&At(E)){var N,O;/.*touch.*/i.test(j)?O=S.getMouseInfo(k.changedTouches[0]):O=S.getMouseInfo(k),E((N=O)!==null&&N!==void 0?N:{},k)}}),jt(S,"handleClick",function(k){var j=S.getMouseInfo(k);if(j){var E=De(De({},j),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var N=S.props.onClick;At(N)&&N(E,k)}}),jt(S,"handleMouseDown",function(k){var j=S.props.onMouseDown;if(At(j)){var E=S.getMouseInfo(k);j(E,k)}}),jt(S,"handleMouseUp",function(k){var j=S.props.onMouseUp;if(At(j)){var E=S.getMouseInfo(k);j(E,k)}}),jt(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),jt(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),jt(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),jt(S,"handleDoubleClick",function(k){var j=S.props.onDoubleClick;if(At(j)){var E=S.getMouseInfo(k);j(E,k)}}),jt(S,"handleContextMenu",function(k){var j=S.props.onContextMenu;if(At(j)){var E=S.getMouseInfo(k);j(E,k)}}),jt(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&c2.emit(u2,S.props.syncId,k,S.eventEmitterSymbol)}),jt(S,"applySyncEvent",function(k){var j=S.props,E=j.layout,N=j.syncMethod,O=S.state.updateId,R=k.dataStartIndex,T=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(De({dataStartIndex:R,dataEndIndex:T},m({props:S.props,dataStartIndex:R,dataEndIndex:T,updateId:O},S.state)));else if(k.activeTooltipIndex!==void 0){var U=k.chartX,z=k.chartY,q=k.activeTooltipIndex,I=S.state,L=I.offset,M=I.tooltipTicks;if(!L)return;if(typeof N=="function")q=N(M,k);else if(N==="value"){q=-1;for(var D=0;D<M.length;D++)if(M[D].value===k.activeLabel){q=D;break}}var K=De(De({},L),{},{x:L.left,y:L.top}),Z=Math.min(U,K.x+K.width),C=Math.min(z,K.y+K.height),Y=M[q]&&M[q].value,B=eT(S.state,S.props.data,q),G=M[q]?{x:E==="horizontal"?M[q].coordinate:Z,y:E==="horizontal"?C:M[q].coordinate}:SJ;S.setState(De(De({},k),{},{activeLabel:Y,activeCoordinate:G,activePayload:B,activeTooltipIndex:q}))}else S.setState(k)}),jt(S,"renderCursor",function(k){var j,E=S.state,N=E.isTooltipActive,O=E.activeCoordinate,R=E.activePayload,T=E.offset,U=E.activeTooltipIndex,z=E.tooltipAxisBandSize,q=S.getTooltipEventType(),I=(j=k.props.active)!==null&&j!==void 0?j:N,L=S.props.layout,M=k.key||"_recharts-cursor";return te.createElement(IGe,{key:M,activeCoordinate:O,activePayload:R,activeTooltipIndex:U,chartName:r,element:k,isActive:I,layout:L,offset:T,tooltipAxisBandSize:z,tooltipEventType:q})}),jt(S,"renderPolarAxis",function(k,j,E){var N=ci(k,"type.axisType"),O=ci(S.state,"".concat(N,"Map")),R=k.type.defaultProps,T=R!==void 0?De(De({},R),k.props):k.props,U=O&&O[T["".concat(N,"Id")]];return y.cloneElement(k,De(De({},U),{},{className:$t(N,U.className),key:k.key||"".concat(j,"-").concat(E),ticks:Hl(U,!0)}))}),jt(S,"renderPolarGrid",function(k){var j=k.props,E=j.radialLines,N=j.polarAngles,O=j.polarRadius,R=S.state,T=R.radiusAxisMap,U=R.angleAxisMap,z=Gc(T),q=Gc(U),I=q.cx,L=q.cy,M=q.innerRadius,D=q.outerRadius;return y.cloneElement(k,{polarAngles:Array.isArray(N)?N:Hl(q,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(O)?O:Hl(z,!0).map(function(K){return K.coordinate}),cx:I,cy:L,innerRadius:M,outerRadius:D,key:k.key||"polar-grid",radialLines:E})}),jt(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,j=S.props,E=j.children,N=j.width,O=j.height,R=S.props.margin||{},T=N-(R.left||0)-(R.right||0),U=tX({children:E,formattedGraphicalItems:k,legendWidth:T,legendContent:u});if(!U)return null;var z=U.item,q=$5(U,MGe);return y.cloneElement(z,De(De({},q),{},{chartWidth:N,chartHeight:O,margin:R,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),jt(S,"renderTooltip",function(){var k,j=S.props,E=j.children,N=j.accessibilityLayer,O=Ks(E,Ei);if(!O)return null;var R=S.state,T=R.isTooltipActive,U=R.activeCoordinate,z=R.activePayload,q=R.activeLabel,I=R.offset,L=(k=O.props.active)!==null&&k!==void 0?k:T;return y.cloneElement(O,{viewBox:De(De({},I),{},{x:I.left,y:I.top}),active:L,label:q,payload:L?z:[],coordinate:U,accessibilityLayer:N})}),jt(S,"renderBrush",function(k){var j=S.props,E=j.margin,N=j.data,O=S.state,R=O.offset,T=O.dataStartIndex,U=O.dataEndIndex,z=O.updateId;return y.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Zy(S.handleBrushChange,k.props.onChange),data:N,x:Xe(k.props.x)?k.props.x:R.left,y:Xe(k.props.y)?k.props.y:R.top+R.height+R.brushBottom-(E.bottom||0),width:Xe(k.props.width)?k.props.width:R.width,startIndex:T,endIndex:U,updateId:"brush-".concat(z)})}),jt(S,"renderReferenceElement",function(k,j,E){if(!k)return null;var N=S,O=N.clipPathId,R=S.state,T=R.xAxisMap,U=R.yAxisMap,z=R.offset,q=k.type.defaultProps||{},I=k.props,L=I.xAxisId,M=L===void 0?q.xAxisId:L,D=I.yAxisId,K=D===void 0?q.yAxisId:D;return y.cloneElement(k,{key:k.key||"".concat(j,"-").concat(E),xAxis:T[M],yAxis:U[K],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:O})}),jt(S,"renderActivePoints",function(k){var j=k.item,E=k.activePoint,N=k.basePoint,O=k.childIndex,R=k.isRange,T=[],U=j.props.key,z=j.item.type.defaultProps!==void 0?De(De({},j.item.type.defaultProps),j.item.props):j.item.props,q=z.activeDot,I=z.dataKey,L=De(De({index:O,dataKey:I,cx:E.x,cy:E.y,r:4,fill:d4(j.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},bt(q,!1)),B1(q));return T.push(w.renderActiveDot(q,L,"".concat(U,"-activePoint-").concat(O))),N?T.push(w.renderActiveDot(q,De(De({},L),{},{cx:N.x,cy:N.y}),"".concat(U,"-basePoint-").concat(O))):R&&T.push(null),T}),jt(S,"renderGraphicChild",function(k,j,E){var N=S.filterFormatItem(k,j,E);if(!N)return null;var O=S.getTooltipEventType(),R=S.state,T=R.isTooltipActive,U=R.tooltipAxis,z=R.activeTooltipIndex,q=R.activeLabel,I=S.props.children,L=Ks(I,Ei),M=N.props,D=M.points,K=M.isRange,Z=M.baseLine,C=N.item.type.defaultProps!==void 0?De(De({},N.item.type.defaultProps),N.item.props):N.item.props,Y=C.activeDot,B=C.hide,G=C.activeBar,re=C.activeShape,se=!!(!B&&T&&L&&(Y||G||re)),ce={};O!=="axis"&&L&&L.props.trigger==="click"?ce={onClick:Zy(S.handleItemMouseEnter,k.props.onClick)}:O!=="axis"&&(ce={onMouseLeave:Zy(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Zy(S.handleItemMouseEnter,k.props.onMouseEnter)});var ae=y.cloneElement(k,De(De({},N.props),ce));function J(F){return typeof U.dataKey=="function"?U.dataKey(F.payload):null}if(se)if(z>=0){var me,A;if(U.dataKey&&!U.allowDuplicatedCategory){var Le=typeof U.dataKey=="function"?J:"payload.".concat(U.dataKey.toString());me=$1(D,Le,q),A=K&&Z&&$1(Z,Le,q)}else me=D==null?void 0:D[z],A=K&&Z&&Z[z];if(re||G){var Ie=k.props.activeIndex!==void 0?k.props.activeIndex:z;return[y.cloneElement(k,De(De(De({},N.props),ce),{},{activeIndex:Ie})),null,null]}if(!Lt(me))return[ae].concat(cp(S.renderActivePoints({item:N,activePoint:me,basePoint:A,childIndex:z,isRange:K})))}else{var Ve,We=(Ve=S.getItemByXY(S.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:ae},Pe=We.graphicalItem,ft=Pe.item,_t=ft===void 0?k:ft,ne=Pe.childIndex,he=De(De(De({},N.props),ce),{},{activeIndex:ne});return[y.cloneElement(_t,he),null,null]}return K?[ae,null,null]:[ae,null]}),jt(S,"renderCustomized",function(k,j,E){return y.cloneElement(k,De(De({key:"recharts-customized-".concat(E)},S.props),S.state))}),jt(S,"renderMap",{CartesianGrid:{handler:aw,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:aw},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:aw},YAxis:{handler:aw},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Vp("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=eY(S.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return KGe(w,v),zGe(w,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,S=b.data,k=b.height,j=b.layout,E=Ks(_,Ei);if(E){var N=E.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,R=eT(this.state,S,N,O),T=this.state.tooltipTicks[N].coordinate,U=(this.state.offset.top+k)/2,z=j==="horizontal",q=z?{x:T,y:U}:{y:T,x:U},I=this.state.formattedGraphicalItems.find(function(M){var D=M.item;return D.type.name==="Scatter"});I&&(q=De(De({},q),I.props.points[N].tooltipPosition),R=I.props.points[N].tooltipPayload);var L={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:O,activePayload:R,activeCoordinate:q};this.setState(L),this.renderCursor(E),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){TE([Ks(b.children,Ei)],[Ks(this.props.children,Ei)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ks(this.props.children,Ei);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),k=XLe(S),j={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},E=S.width/_.offsetWidth||1,N=this.inRange(j.chartX,j.chartY,E);if(!N)return null;var O=this.state,R=O.xAxisMap,T=O.yAxisMap,U=this.getTooltipEventType(),z=U5(this.state,this.props.data,this.props.layout,N);if(U!=="axis"&&R&&T){var q=Gc(R).scale,I=Gc(T).scale,L=q&&q.invert?q.invert(j.chartX):null,M=I&&I.invert?I.invert(j.chartY):null;return De(De({},j),{},{xValue:L,yValue:M},z)}return z?De(De({},j),z):null}},{key:"inRange",value:function(b,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=b/S,E=_/S;if(k==="horizontal"||k==="vertical"){var N=this.state.offset,O=j>=N.left&&j<=N.left+N.width&&E>=N.top&&E<=N.top+N.height;return O?{x:j,y:E}:null}var R=this.state,T=R.angleAxisMap,U=R.radiusAxisMap;if(T&&U){var z=Gc(T);return f$({x:j,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),S=Ks(b,Ei),k={};S&&_==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=B1(this.props,this.handleOuterEvent);return De(De({},j),k)}},{key:"addListener",value:function(){c2.on(u2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){c2.removeListener(u2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,S){for(var k=this.state.formattedGraphicalItems,j=0,E=k.length;j<E;j++){var N=k[j];if(N.item===b||N.props.key===b.key||_===Yl(N.item.type)&&S===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,S=_.left,k=_.top,j=_.height,E=_.width;return te.createElement("defs",null,te.createElement("clipPath",{id:b},te.createElement("rect",{x:S,y:k,height:j,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,S){var k=L5(S,2),j=k[0],E=k[1];return De(De({},_),{},jt({},j,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,S){var k=L5(S,2),j=k[0],E=k[1];return De(De({},_),{},jt({},j,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,S=_.formattedGraphicalItems,k=_.activeItem;if(S&&S.length)for(var j=0,E=S.length;j<E;j++){var N=S[j],O=N.props,R=N.item,T=R.type.defaultProps!==void 0?De(De({},R.type.defaultProps),R.props):R.props,U=Yl(R.type);if(U==="Bar"){var z=(O.data||[]).find(function(M){return P7e(b,M)});if(z)return{graphicalItem:N,payload:z}}else if(U==="RadialBar"){var q=(O.data||[]).find(function(M){return f$(b,M)});if(q)return{graphicalItem:N,payload:q}}else if(HS(N,k)||qS(N,k)||Mv(N,k)){var I=wWe({graphicalItem:N,activeTooltipItem:k,itemData:T.data}),L=T.activeIndex===void 0?I:T.activeIndex;return{graphicalItem:De(De({},N),{},{childIndex:L}),payload:Mv(N,k)?T.data[I]:N.props.data[I]}}}return null}},{key:"render",value:function(){var b=this;if(!r3(this))return null;var _=this.props,S=_.children,k=_.className,j=_.width,E=_.height,N=_.style,O=_.compact,R=_.title,T=_.desc,U=$5(_,FGe),z=bt(U,!1);if(O)return te.createElement(w5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(OE,Lh({},z,{width:j,height:E,title:R,desc:T}),this.renderClipPath(),a3(S,this.renderMap)));if(this.props.accessibilityLayer){var q,I;z.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,z.role=(I=this.props.role)!==null&&I!==void 0?I:"application",z.onKeyDown=function(M){b.accessibilityManager.keyboardEvent(M)},z.onFocus=function(){b.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return te.createElement(w5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",Lh({className:$t("recharts-wrapper",k),style:De({position:"relative",cursor:"default",width:j,height:E},N)},L,{ref:function(D){b.container=D}}),te.createElement(OE,Lh({},z,{width:j,height:E,title:R,desc:T,style:eKe}),this.renderClipPath(),a3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);jt(g,"displayName",r),jt(g,"defaultProps",De({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),jt(g,"getDerivedStateFromProps",function(v,w){var x=v.dataKey,b=v.data,_=v.children,S=v.width,k=v.height,j=v.layout,E=v.stackOffset,N=v.margin,O=w.dataStartIndex,R=w.dataEndIndex;if(w.updateId===void 0){var T=V5(v);return De(De(De({},T),{},{updateId:0},m(De(De({props:v},T),{},{updateId:0}),w)),{},{prevDataKey:x,prevData:b,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:E,prevMargin:N,prevChildren:_})}if(x!==w.prevDataKey||b!==w.prevData||S!==w.prevWidth||k!==w.prevHeight||j!==w.prevLayout||E!==w.prevStackOffset||!rm(N,w.prevMargin)){var U=V5(v),z={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},q=De(De({},U5(w,b,j)),{},{updateId:w.updateId+1}),I=De(De(De({},U),z),q);return De(De(De({},I),m(De({props:v},I),w)),{},{prevDataKey:x,prevData:b,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:E,prevMargin:N,prevChildren:_})}if(!TE(_,w.prevChildren)){var L,M,D,K,Z=Ks(_,Zm),C=Z&&(L=(M=Z.props)===null||M===void 0?void 0:M.startIndex)!==null&&L!==void 0?L:O,Y=Z&&(D=(K=Z.props)===null||K===void 0?void 0:K.endIndex)!==null&&D!==void 0?D:R,B=C!==O||Y!==R,G=!Lt(b),re=G&&!B?w.updateId:w.updateId+1;return De(De({updateId:re},m(De(De({props:v},w),{},{updateId:re,dataStartIndex:C,dataEndIndex:Y}),w)),{},{prevChildren:_,dataStartIndex:C,dataEndIndex:Y})}return null}),jt(g,"renderActiveDot",function(v,w,x){var b;return y.isValidElement(v)?b=y.cloneElement(v,w):At(v)?b=v(w):b=te.createElement(BS,w),te.createElement(ir,{className:"recharts-active-dot",key:x},b)});var p=y.forwardRef(function(w,x){return te.createElement(g,Lh({},w,{ref:x}))});return p.displayName=g.displayName,p},NJ=kJ({chartName:"LineChart",GraphicalChild:Xp,axisComponents:[{axisType:"xAxis",AxisComp:zx},{axisType:"yAxis",AxisComp:Hx}],formatAxisMap:Qze}),Lc=kJ({chartName:"PieChart",GraphicalChild:Ca,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:zS},{axisType:"radiusAxis",AxisComp:VS}],formatAxisMap:qBe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const uKe={light:"",dark:".dark"},EJ=y.createContext(null);function CJ(){const e=y.useContext(EJ);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Il=y.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const i=y.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return o.jsx(EJ.Provider,{value:{config:n},children:o.jsxs("div",{"data-chart":l,ref:s,className:Se("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[o.jsx(dKe,{id:l,config:n}),o.jsx(BP,{children:r})]})})});Il.displayName="Chart";const dKe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?o.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(uKe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},$c=Ei,Ml=y.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:g}=CJ(),p=y.useMemo(()=>{var S;if(a||!(t!=null&&t.length))return null;const[w]=t,x=`${h||w.dataKey||w.name||"value"}`,b=tT(g,w,x),_=!h&&typeof i=="string"?((S=g[i])==null?void 0:S.label)||i:b==null?void 0:b.label;return l?o.jsx("div",{className:Se("font-medium",c),children:l(_,t)}):_?o.jsx("div",{className:Se("font-medium",c),children:_}):null},[i,l,t,a,c,g,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return o.jsxs("div",{ref:m,className:Se("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:p,o.jsx("div",{className:"grid gap-1.5",children:t.map((w,x)=>{const b=`${f||w.name||w.dataKey||"value"}`,_=tT(g,w,b),S=d||w.payload.fill||w.color;return o.jsx("div",{className:Se("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(w==null?void 0:w.value)!==void 0&&w.name?u(w.value,w.name,w,x,w.payload):o.jsxs(o.Fragment,{children:[_!=null&&_.icon?o.jsx(_.icon,{}):!s&&o.jsx("div",{className:Se("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),o.jsxs("div",{className:Se("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[o.jsxs("div",{className:"grid gap-1.5",children:[v?p:null,o.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||w.name})]}),w.value&&o.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:w.value.toLocaleString()})]})]})},w.dataKey)})})]})});Ml.displayName="ChartTooltip";const fKe=y.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:i}=CJ();return r!=null&&r.length?o.jsx("div",{ref:s,className:Se("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=tT(i,l,c);return o.jsxs("div",{className:Se("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?o.jsx(u.icon,{}):o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});fKe.displayName="ChartLegend";function tT(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function hKe(){var B4,U4,V4,W4,z4,H4,q4,G4,K4,Y4,X4,J4,Q4,Z4,eD,tD,rD,nD;const{t:e}=zt(),{user:t}=yr(),{currentLanguage:r}=Vi(),{toast:n}=Xu(),a=Ua(),{setBreadcrumbs:s}=g_();Bs();const[i,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState([]),[h,m]=y.useState([]),[g,p]=y.useState([]),[v,w]=y.useState([]),[x,b]=y.useState([]),[_,S]=y.useState([]),[k,j]=y.useState([]),[E,N]=y.useState([]),[O,R]=y.useState([]),[T,U]=y.useState(!0),[z,q]=y.useState(null),[I,L]=y.useState(""),[M,D]=y.useState(1),[K]=y.useState(8),[Z,C]=y.useState(0),[Y,B]=y.useState(""),[G,re]=y.useState(""),[se,ce]=y.useState(""),[ae,J]=y.useState(""),[me,A]=y.useState(""),[Le,Ie]=y.useState(""),[Ve,We]=y.useState(null),[Pe,ft]=y.useState(null),[_t,ne]=y.useState(!1),[he,F]=y.useState(!1),[le,ve]=y.useState({city_name_en:"",city_name_ar:"",country_id:null}),[ye,$e]=y.useState(!1),[xe,be]=y.useState({system_name_en:"",system_name_ar:""}),[ue,Ae]=y.useState(!1),[Fe,Re]=y.useState({activity_name_en:"",activity_name_ar:""}),[Ke,kt]=y.useState(!1),[Jt,Pr]=y.useState({status_name_en:"",status_name_ar:""}),[gn,zr]=y.useState([]),[Un,Cn]=y.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Jn,Ki]=y.useState(!1),[ie,je]=y.useState(null),[Ee,Me]=y.useState(null),[St,rt]=y.useState(!1),[Ht,_r]=y.useState([]),[Hr,ps]=y.useState(!1),[Wa,rd]=y.useState("list"),[_c,H]=y.useState(null),[ee,Q]=y.useState(!1),[P,V]=y.useState(!1),[X,de]=y.useState(!1),[Oe,we]=y.useState(!1),[_e,Ne]=y.useState(!1),[Ue,Je]=y.useState(!1),[nt,qe]=y.useState(!1),[tt,Ot]=y.useState(!1),[Sr,jr]=y.useState(!1),[sn,Sc]=y.useState(null),[jc,nd]=y.useState(null),[Lo,ad]=y.useState(!1),[vi,rj]=y.useState(!1),[O4,nj]=y.useState(!1),[P4,aj]=y.useState(!1),[D4,sj]=y.useState(!1),[R4,ij]=y.useState(!1),[er,za]=y.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});y.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[s,e]),y.useEffect(()=>{I4()},[]),y.useEffect(()=>{Jp()},[M,I,Y,G,se,ae,me,Le,d]),y.useEffect(()=>{Hr&&GJ()},[Hr,I,Y,G,se,ae,me,Le,d]);const I4=async()=>{try{U(!0),q(null);const[W,ge,Be,Rt,Vn,$o,Nc,uj,dj]=await Promise.all([pe.from("m_city").select("*"),pe.from("m_activity").select("*"),pe.from("m_status").select("*"),pe.from("m_system").select("*"),pe.from("stages").select("*").eq("stage_type","mleads").order("stager_order_index",{ascending:!0}),pe.from("m_contacts").select("*"),pe.from("users").select("*"),pe.from("m_country").select("*"),pe.from("m_jobtitle").select("*")]);if(W.error)throw W.error;if(ge.error)throw ge.error;if(Be.error)throw Be.error;if(Rt.error)throw Rt.error;if(Vn.error)throw Vn.error;if($o.error)throw $o.error;if(Nc.error)throw Nc.error;if(uj.error)throw uj.error;if(dj.error)throw dj.error;f(W.data||[]),m(ge.data||[]),p(Be.data||[]),w(Rt.data||[]),b(Vn.data||[]),S($o.data||[]),j(Nc.data||[]),N(uj.data||[]),R(dj.data||[])}catch(W){const ge=W instanceof Error?W.message:"Failed to load data";q(ge),n({title:"Error",description:ge,variant:"destructive"})}finally{U(!1)}},Jp=async()=>{try{U(!0),q(null);let W=pe.from("m_leads").select("*",{count:"exact"}).order("created_at",{ascending:!1});if(I&&(W=W.or(`company_name.ilike.%${I}%,address.ilike.%${I}%`)),Y&&(W=W.eq("city_id",Y)),se&&(W=W.eq("system_id",se)),ae&&(W=W.eq("status_id",ae)),me&&(W=W.eq("activity_id",me)),Le&&(W=W.eq("created_by",Le)),G){const Vn=d.filter($o=>{var Nc;return((Nc=$o.country_id)==null?void 0:Nc.toString())===G}).map($o=>$o.city_id);Vn.length>0?W=W.in("city_id",Vn):W=W.eq("city_id",-1)}const ge=(M-1)*K,Be=ge+K-1;W=W.range(ge,Be);const Rt=await W;if(Rt.error)throw Rt.error;l(Rt.data||[]),C(Rt.count||0)}catch(W){const ge=W instanceof Error?W.message:"Failed to load data";q(ge),n({title:"Error",description:ge,variant:"destructive"})}finally{U(!1)}},GJ=async()=>{try{let W=pe.from("m_leads").select("*").order("created_at",{ascending:!1});if(I&&(W=W.or(`company_name.ilike.%${I}%,address.ilike.%${I}%`)),Y&&(W=W.eq("city_id",Y)),se&&(W=W.eq("system_id",se)),ae&&(W=W.eq("status_id",ae)),me&&(W=W.eq("activity_id",me)),Le&&(W=W.eq("created_by",Le)),G){const Be=d.filter(Rt=>{var Vn;return((Vn=Rt.country_id)==null?void 0:Vn.toString())===G}).map(Rt=>Rt.city_id);Be.length>0?W=W.in("city_id",Be):W=W.eq("city_id",-1)}const ge=await W;if(ge.error)throw ge.error;u(ge.data||[])}catch(W){console.error("Failed to load all filtered leads:",W)}},gs=y.useMemo(()=>Hr?c:i,[Hr,c,i]),KJ=y.useMemo(()=>{if(Hr){const W=(M-1)*K,ge=W+K;return gs.slice(W,ge)}else return i},[Hr,gs,i,M,K]),kc=Math.ceil(Z/K);y.useEffect(()=>{M>kc&&kc>0&&D(kc)},[M,kc]);const lr=(W,ge,Be)=>r==="ar"&&(W==null?void 0:W[Be])||(W==null?void 0:W[ge]),Gx=W=>{if(!W)return"-";const ge=d.find(Be=>Be.city_id===W);return lr(ge,"city_name_en","city_name_ar")},Kx=W=>{if(!W)return"-";const ge=h.find(Be=>Be.activity_id===W);return lr(ge,"activity_name_en","activity_name_ar")},Yx=W=>{if(!W)return"-";const ge=g.find(Be=>Be.status_id===W);return lr(ge,"status_name_en","status_name_ar")},oj=W=>{if(!W)return"-";const ge=v.find(Be=>Be.system_id===W);return lr(ge,"system_name_en","system_name_ar")},lj=W=>{if(!W)return"-";const ge=x.find(Be=>Be.stage_id===W);return lr(ge,"stage_name","stage_name_ar")},Qp=W=>{if(!W)return"-";const ge=k.find(Be=>Be.auth_user_id===W);return(ge==null?void 0:ge.user_name)||"-"},cj=W=>{const Be={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[W]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${Be.bg} ${Be.text} ${Be.border}`},YJ=async(W,ge)=>{const Be=W.name.split(".").pop(),Vn=`leads-quotation/${`${ge}/${Math.random().toString(36).substring(2)}.${Be}`}`,{error:$o}=await pe.storage.from("leads-quotation").upload(Vn,W);if($o)throw $o;const{data:{publicUrl:Nc}}=pe.storage.from("leads-quotation").getPublicUrl(Vn);return{file_key:Vn,public_url:Nc,name:W.name,size:W.size,content_type:W.type,uploaded_at:new Date().toISOString(),uploaded_by:t==null?void 0:t.id}},XJ=async()=>{try{let W;if(Pe){const{error:ge}=await pe.from("m_leads").update(er).eq("leads_id",Pe);if(ge)throw ge;W=Pe,n({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")})}else{const ge={...er,created_by:t==null?void 0:t.id},{data:Be,error:Rt}=await pe.from("m_leads").insert([ge]).select();if(Rt)throw Rt;if(Be&&Be.length>0)W=Be[0].leads_id;else throw new Error("Failed to create lead");n({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(Pe?(await pe.from("m_contacts").delete().eq("leads_id",Pe),gn.length>0&&await $4(W)):gn.length>0&&await $4(W),_c&&er.status_id===7){Q(!0);try{const ge=await YJ(_c,W);await pe.from("m_leads").update({lead_quotation:ge}).eq("leads_id",W)}catch(ge){console.error("File upload failed:",ge),n({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{Q(!1),H(null)}}ne(!1),ft(null),za({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),zr([]),await Jp()}catch(W){const ge=W instanceof Error?W.message:"Failed to save";n({title:"Error",description:ge,variant:"destructive"})}},JJ=async W=>{try{const{error:ge}=await pe.from("m_leads").delete().eq("leads_id",W);if(ge)throw ge;n({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),We(null),await Jp()}catch(ge){const Be=ge instanceof Error?ge.message:"Failed to delete";n({title:"Error",description:Be,variant:"destructive"})}},M4=W=>{Me(W),F4(W.leads_id),rt(!0)},F4=async W=>{try{const ge=await Xh.getByRelated("mlead",W);_r(ge)}catch(ge){console.error("Failed to load notes:",ge),_r([])}},L4=W=>{ft(W.leads_id),za(W);const ge=_.filter(Be=>Be.leads_id===W.leads_id);zr(ge.map(Be=>{var Rt;return{contact_name:Be.contact_name||"",contact_email:Be.contact_email||"",contact_mobile:((Rt=Be.contact_mobile)==null?void 0:Rt.toString())||"",jobtitle_id:Be.jobtitle_id}})),ne(!0)},QJ=async W=>{try{const{error:ge}=await pe.from("m_leads").delete().in("leads_id",W);if(ge)throw ge;n({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await Jp()}catch(ge){const Be=ge instanceof Error?ge.message:"Failed to delete";n({title:"Error",description:Be,variant:"destructive"})}},ZJ=async()=>{try{if(!le.city_name_en&&!le.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const{data:W,error:ge}=await pe.from("m_city").insert([le]).select();if(ge)throw ge;if(W&&W.length>0){const Be=W[0];f([...d,Be]),za({...er,city_id:Be.city_id}),F(!1),ve({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")})}}catch(W){const ge=W instanceof Error?W.message:"Failed to create city";n({title:"Error",description:ge,variant:"destructive"})}},eQ=async()=>{try{if(!xe.system_name_en&&!xe.system_name_ar){n({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const{data:W,error:ge}=await pe.from("m_system").insert([xe]).select();if(ge)throw ge;if(W&&W.length>0){const Be=W[0];w([...v,Be]),za({...er,system_id:Be.system_id}),$e(!1),be({system_name_en:"",system_name_ar:""}),n({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")})}}catch(W){const ge=W instanceof Error?W.message:"Failed to create system";n({title:"Error",description:ge,variant:"destructive"})}},tQ=async()=>{try{if(!Fe.activity_name_en&&!Fe.activity_name_ar){n({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const{data:W,error:ge}=await pe.from("m_activity").insert([Fe]).select();if(ge)throw ge;if(W&&W.length>0){const Be=W[0];m([...h,Be]),za({...er,activity_id:Be.activity_id}),Ae(!1),Re({activity_name_en:"",activity_name_ar:""}),n({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")})}}catch(W){const ge=W instanceof Error?W.message:"Failed to create activity";n({title:"Error",description:ge,variant:"destructive"})}},rQ=async()=>{try{if(!Jt.status_name_en&&!Jt.status_name_ar){n({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const{data:W,error:ge}=await pe.from("m_status").insert([Jt]).select();if(ge)throw ge;if(W&&W.length>0){const Be=W[0];p([...g,Be]),za({...er,status_id:Be.status_id}),kt(!1),Pr({status_name_en:"",status_name_ar:""}),n({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")})}}catch(W){const ge=W instanceof Error?W.message:"Failed to create status";n({title:"Error",description:ge,variant:"destructive"})}},nQ=()=>{if(!Un.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}zr([...gn,{...Un}]),Cn({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Ki(!1)},aQ=W=>{zr(gn.filter((ge,Be)=>Be!==W))},$4=async W=>{try{const ge=gn.map(Be=>({...Be,leads_id:W,contact_mobile:Be.contact_mobile?parseInt(Be.contact_mobile):null}));if(ge.length>0){const{error:Be}=await pe.from("m_contacts").insert(ge);if(Be)throw Be}}catch(ge){const Be=ge instanceof Error?ge.message:"Failed to save contacts";n({title:"Error",description:Be,variant:"destructive"})}},sQ=W=>{Sc(W)},iQ=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},oQ=async W=>{if(!sn)return;const ge=i.find(Be=>Be.leads_id===sn);if(ge&&ge.stage_id!==W)try{const{error:Be}=await pe.from("m_leads").update({stage_id:W}).eq("leads_id",sn);if(Be)throw Be;n({title:e("common.success"),description:"Lead stage updated successfully"}),await Jp()}catch(Be){console.error("Failed to update lead stage:",Be),n({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}Sc(null)};if(T)return o.jsx(Op,{});if(z)return o.jsx(_x,{message:z,onRetry:I4});const lQ=[{label:e("common.delete"),icon:o.jsx(xr,{}),onClick:W=>{window.confirm(`Delete ${W.length} leads?`)&&QJ(W.map(ge=>ge.leads_id))},variant:"destructive"}],cQ=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:W=>o.jsx(Iu,{title:W.company_name||"-",subtitle:W.address||"",icon:o.jsx(cn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:W=>o.jsx("span",{className:"text-sm text-foreground",children:Gx(W.city_id)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:W=>o.jsx(ct,{variant:"outline",className:"text-xs truncate",children:Kx(W.activity_id)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:W=>{const ge=Yx(W.status_id);return o.jsx(ct,{variant:"outline",className:`text-xs truncate ${cj(W.status_id)}`,children:ge})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:W=>o.jsx(ct,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:lj(W.stage_id)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:W=>o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:oj(W.system_id)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:W=>o.jsx("div",{className:"truncate",children:o.jsx(Rm,{name:Qp(W.created_by)})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:W=>o.jsx(Ru,{date:W.created_at})}],uQ=[{icon:o.jsx(Co,{}),label:e("common.edit"),onClick:W=>L4(W)},{icon:o.jsx(xr,{}),label:e("common.delete"),onClick:W=>We(W.leads_id),variant:"destructive"}];return o.jsxs("div",{className:"space-y-4 bg-background p-4 rounded-md",dir:Lr()?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10",children:o.jsx(cn,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:e("mleads.masterLeads")}),o.jsx("p",{className:"text-sm text-muted-foreground hidden sm:block",children:e("mleads.manageMasterLeadsData")})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[o.jsxs(oe,{variant:"default",size:"sm",onClick:()=>rd(Wa==="list"?"kanban":"list"),className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[Wa==="list"?o.jsx(si,{className:"h-4 w-4"}):o.jsx(cn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:e(Wa==="list"?"mleads.kanbanView":"mleads.listView")}),o.jsx("span",{className:"sm:hidden",children:e(Wa==="list"?"mleads.kanbanView":"mleads.listView")})]}),o.jsxs(oe,{variant:"default",size:"sm",onClick:()=>ps(!Hr),className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[o.jsx(si,{className:"h-4 w-4"}),o.jsx("span",{children:e("mleads.showChart")}),o.jsx(v_,{className:`h-4 w-4 transition-transform ${Hr?"rotate-180":""}`})]}),o.jsxs(oe,{size:"sm",onClick:()=>{ft(null),za({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),zr([]),je(null),F(!1),$e(!1),Ae(!1),kt(!1),ve({city_name_en:"",city_name_ar:"",country_id:null}),be({system_name_en:"",system_name_ar:""}),Re({activity_name_en:"",activity_name_ar:""}),Pr({status_name_en:"",status_name_ar:""}),H(null),ne(!0)},className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[o.jsx(sr,{className:"w-4 h-4"}),o.jsx("span",{children:e("common.add")})]})]})]}),o.jsx(ic,{open:_t,onOpenChange:ne,children:o.jsxs(ml,{className:"w-full sm:max-w-[540px] flex flex-col h-full",children:[o.jsx(Pu,{children:o.jsx(oc,{children:e(Pe?"mleads.editLead":"mleads.createNewLead")})}),o.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),o.jsx(ze,{value:er.company_name||"",onChange:W=>za({...er,company_name:W.target.value}),placeholder:e("mleads.companyName")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),o.jsx(ua,{value:er.address||"",onChange:W=>za({...er,address:W.target.value}),placeholder:e("mleads.address")})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ki(!Jn),className:"h-6 px-2 text-xs",children:e(Jn?"mleads.cancel":"mleads.addContact")})]}),gn.length>0&&o.jsx("div",{className:"space-y-2 mb-3",children:gn.map((W,ge)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:W.contact_name}),o.jsxs("div",{className:"text-muted-foreground",children:[W.contact_email&&`${W.contact_email}  `,W.contact_mobile&&`${W.contact_mobile}`]})]}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>aQ(ge),className:"h-6 w-6 p-0",children:o.jsx(Ii,{className:"h-3 w-3"})})]},ge))}),Jn&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mleads.contactName"),value:Un.contact_name,onChange:W=>Cn({...Un,contact_name:W.target.value})}),o.jsx(ze,{placeholder:e("mleads.email"),type:"email",value:Un.contact_email,onChange:W=>Cn({...Un,contact_email:W.target.value})}),o.jsx(ze,{placeholder:e("mleads.mobile"),value:Un.contact_mobile,onChange:W=>Cn({...Un,contact_mobile:W.target.value})}),o.jsxs(va,{open:tt,onOpenChange:Ot,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":tt,className:"w-full justify-between",children:[Un.jobtitle_id?(B4=O.find(W=>W.jobtitle_id===Un.jobtitle_id))==null?void 0:B4.jobtitle_name_en:e("mleads.selectJobTitle"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchJobTitle")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:O&&O.length>0?O.map(W=>o.jsx($r,{value:lr(W,"jobtitle_name_en","jobtitle_name_ar")||W.jobtitle_name_en||"Unknown",onSelect:()=>{Cn(ge=>({...ge,jobtitle_id:W.jobtitle_id})),Ot(!1)},children:lr(W,"jobtitle_name_en","jobtitle_name_ar")||W.jobtitle_name_en||"Unknown"},W.jobtitle_id)):o.jsx($r,{disabled:!0,children:"No job titles available"})})]})]})})]}),o.jsx(oe,{type:"button",onClick:nQ,className:"w-full",children:e("mleads.addContactTitle")})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(!he),className:"h-6 px-2 text-xs",children:e(he?"mleads.cancel":"mleads.addNew")})]}),he?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mleads.cityNameEn"),value:le.city_name_en,onChange:W=>ve({...le,city_name_en:W.target.value})}),o.jsx(ze,{placeholder:e("mleads.cityNameAr"),value:le.city_name_ar,onChange:W=>ve({...le,city_name_ar:W.target.value})}),o.jsxs(va,{open:Sr,onOpenChange:jr,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Sr,className:"w-full justify-between",children:[le.country_id?(U4=E.find(W=>W.country_id===le.country_id))==null?void 0:U4.country_name_en:e("mleads.selectCountry"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchCountry")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:E.map(W=>o.jsx($r,{value:lr(W,"country_name_en","country_name_ar"),onSelect:()=>{ve({...le,country_id:W.country_id}),jr(!1)},children:lr(W,"country_name_en","country_name_ar")},W.country_id))})]})]})})]}),o.jsx(oe,{type:"button",onClick:ZJ,className:"w-full",children:e("mleads.createCity")})]}):o.jsxs(va,{open:P,onOpenChange:V,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":P,className:"w-full justify-between",children:[er.city_id?Gx(er.city_id):e("mleads.city"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchCity")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:d.map(W=>o.jsx($r,{value:lr(W,"city_name_en","city_name_ar"),onSelect:()=>{za({...er,city_id:W.city_id}),V(!1)},children:lr(W,"city_name_en","city_name_ar")},W.city_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ae(!ue),className:"h-6 px-2 text-xs",children:e(ue?"mleads.cancel":"mleads.addNew")})]}),ue?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mleads.activityNameEn"),value:Fe.activity_name_en,onChange:W=>Re({...Fe,activity_name_en:W.target.value})}),o.jsx(ze,{placeholder:e("mleads.activityNameAr"),value:Fe.activity_name_ar,onChange:W=>Re({...Fe,activity_name_ar:W.target.value})}),o.jsx(oe,{type:"button",onClick:tQ,className:"w-full",children:e("mleads.createActivity")})]}):o.jsxs(va,{open:X,onOpenChange:de,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":X,className:"w-full justify-between",children:[er.activity_id?Kx(er.activity_id):e("mleads.selectActivity"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchActivity")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:h.map(W=>o.jsx($r,{value:lr(W,"activity_name_en","activity_name_ar"),onSelect:()=>{za({...er,activity_id:W.activity_id}),de(!1)},children:lr(W,"activity_name_en","activity_name_ar")},W.activity_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>$e(!ye),className:"h-6 px-2 text-xs",children:e(ye?"mleads.cancel":"mleads.addNew")})]}),ye?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mleads.systemNameEn"),value:xe.system_name_en,onChange:W=>be({...xe,system_name_en:W.target.value})}),o.jsx(ze,{placeholder:e("mleads.systemNameAr"),value:xe.system_name_ar,onChange:W=>be({...xe,system_name_ar:W.target.value})}),o.jsx(oe,{type:"button",onClick:eQ,className:"w-full",children:e("mleads.createSystem")})]}):o.jsxs(va,{open:Oe,onOpenChange:we,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Oe,className:"w-full justify-between",children:[er.system_id?oj(er.system_id):e("mleads.selectSystem"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchSystem")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:v.map(W=>o.jsx($r,{value:lr(W,"system_name_en","system_name_ar"),onSelect:()=>{za({...er,system_id:W.system_id}),we(!1)},children:lr(W,"system_name_en","system_name_ar")},W.system_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>kt(!Ke),className:"h-6 px-2 text-xs",children:e(Ke?"mleads.cancel":"mleads.addNew")})]}),Ke?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mleads.statusNameEn"),value:Jt.status_name_en,onChange:W=>Pr({...Jt,status_name_en:W.target.value})}),o.jsx(ze,{placeholder:e("mleads.statusNameAr"),value:Jt.status_name_ar,onChange:W=>Pr({...Jt,status_name_ar:W.target.value})}),o.jsx(oe,{type:"button",onClick:rQ,className:"w-full",children:e("mleads.createStatus")})]}):o.jsxs(va,{open:_e,onOpenChange:Ne,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":_e,className:"w-full justify-between",children:[er.status_id?Yx(er.status_id):e("mleads.selectStatus"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchStatus")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:g.map(W=>o.jsx($r,{value:lr(W,"status_name_en","status_name_ar"),onSelect:()=>{za({...er,status_id:W.status_id}),Ne(!1)},children:lr(W,"status_name_en","status_name_ar")},W.status_id))})]})]})})]})]}),er.status_id===7&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[o.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(Kg,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),o.jsx(ze,{type:"file",onChange:W=>{var Be;const ge=(Be=W.target.files)==null?void 0:Be[0];ge&&H(ge)},className:"cursor-pointer"}),er.lead_quotation&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Current file:",o.jsx("a",{href:(V4=er.lead_quotation)==null?void 0:V4.public_url,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600 hover:underline font-medium",children:(W4=er.lead_quotation)==null?void 0:W4.name})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),o.jsxs(va,{open:Ue,onOpenChange:Je,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Ue,className:"w-full justify-between",children:[er.stage_id?lj(er.stage_id):e("mleads.selectStage"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchStage")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:x.map(W=>o.jsx($r,{value:W.stage_name,onSelect:()=>{za({...er,stage_id:W.stage_id}),Je(!1)},children:W.stage_name},W.stage_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),o.jsxs(va,{open:nt,onOpenChange:qe,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":nt,className:"w-full justify-between",children:[er.assigned_to?Qp(er.assigned_to):e("mleads.selectUser"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchUser")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:k.map(W=>o.jsx($r,{value:W.user_name,onSelect:()=>{za({...er,assigned_to:W.auth_user_id}),qe(!1)},children:W.user_name},W.user_id))})]})]})})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[o.jsx(oe,{variant:"outline",onClick:()=>ne(!1),children:e("common.cancel")}),o.jsx(oe,{onClick:XJ,children:e("common.save")})]})]})}),Hr&&o.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),o.jsxs(gl,{defaultValue:"pie",className:"w-full",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Yr,{value:"pie",children:"Distribution Charts"}),o.jsx(Yr,{value:"timeline",children:"Timeline"})]}),o.jsx(kn,{value:"pie",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),o.jsx(Il,{config:{},className:"h-[350px]",children:o.jsxs(Lc,{children:[o.jsx(Ca,{data:(()=>{const W=g.map(ge=>({name:lr(ge,"status_name_en","status_name_ar"),value:gs.filter(Be=>Be.status_id===ge.status_id).length})).filter(ge=>ge.value>0);return W.length>0?W:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:W,value:ge})=>`${W}: ${ge}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((W,ge)=>o.jsx(po,{fill:W},`cell-${ge}`))}),o.jsx($c,{content:o.jsx(Ml,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Stage"}),o.jsx(Il,{config:{},className:"h-[350px]",children:o.jsxs(Lc,{children:[o.jsx(Ca,{data:(()=>{const W=x.map(ge=>({name:ge.stage_name,value:gs.filter(Be=>Be.stage_id===ge.stage_id).length})).filter(ge=>ge.value>0);return W.length>0?W:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:W,value:ge})=>`${W}: ${ge}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((W,ge)=>o.jsx(po,{fill:W},`cell-${ge}`))}),o.jsx($c,{content:o.jsx(Ml,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),o.jsx(Il,{config:{},className:"h-[350px]",children:o.jsxs(Lc,{children:[o.jsx(Ca,{data:(()=>{const W=v.map(ge=>({name:lr(ge,"system_name_en","system_name_ar"),value:gs.filter(Be=>Be.system_id===ge.system_id).length})).filter(ge=>ge.value>0);return W.length>0?W:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:W,value:ge})=>`${W}: ${ge}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((W,ge)=>o.jsx(po,{fill:W},`cell-${ge}`))}),o.jsx($c,{content:o.jsx(Ml,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),o.jsx(Il,{config:{},className:"h-[350px]",children:o.jsxs(Lc,{children:[o.jsx(Ca,{data:(()=>{const W=h.map(ge=>({name:lr(ge,"activity_name_en","activity_name_ar"),value:gs.filter(Be=>Be.activity_id===ge.activity_id).length})).filter(ge=>ge.value>0);return W.length>0?W:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:W,value:ge})=>`${W}: ${ge}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((W,ge)=>o.jsx(po,{fill:W},`cell-${ge}`))}),o.jsx($c,{content:o.jsx(Ml,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),o.jsx(Il,{config:{},className:"h-[350px]",children:o.jsxs(Lc,{children:[o.jsx(Ca,{data:(()=>{const W=d.map(ge=>({name:lr(ge,"city_name_en","city_name_ar"),value:gs.filter(Be=>Be.city_id===ge.city_id).length})).filter(ge=>ge.value>0);return W.length>0?W:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:W,value:ge})=>`${W}: ${ge}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((W,ge)=>o.jsx(po,{fill:W},`cell-${ge}`))}),o.jsx($c,{content:o.jsx(Ml,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),o.jsx(Il,{config:{},className:"h-[350px]",children:o.jsxs(Lc,{children:[o.jsx(Ca,{data:(()=>{const W=k.map(ge=>({name:ge.user_name,value:gs.filter(Be=>Be.assigned_to===ge.auth_user_id).length})).filter(ge=>ge.value>0);return W.length>0?W:[{name:"Unassigned",value:gs.filter(ge=>!ge.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:W,value:ge})=>`${W}: ${ge}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((W,ge)=>o.jsx(po,{fill:W},`cell-${ge}`))}),o.jsx($c,{content:o.jsx(Ml,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),o.jsx("div",{className:"text-5xl font-bold text-primary",children:gs.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),o.jsx(kn,{value:"timeline",className:"mt-4",children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(BP,{width:"100%",height:"100%",children:o.jsxs(NJ,{data:(()=>{const W=new Map;return gs.forEach(Be=>{const Rt=new Date(Be.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});W.set(Rt,(W.get(Rt)||0)+1)}),Array.from(W.entries()).sort((Be,Rt)=>new Date(Be[0]).getTime()-new Date(Rt[0]).getTime()).map(([Be,Rt])=>({date:Be,count:Rt}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[o.jsx(_4,{strokeDasharray:"3 3"}),o.jsx(zx,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),o.jsx(Hx,{label:{value:"Number of Leads",angle:-90,position:"insideLeft"}}),o.jsx(Ei,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:W=>[`${W} leads`,"Total"]}),o.jsx(Su,{}),o.jsx(Xp,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]}),o.jsx(mt,{children:o.jsx(wt,{children:Wa==="kanban"?o.jsx(wx,{stages:x.map(W=>({id:W.stage_id,name:W.stage_name,count:gs.filter(ge=>ge.stage_id===W.stage_id).length})),currentStageId:jc||((z4=x[0])==null?void 0:z4.stage_id),onStageChange:nd,children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4 scrollbar-hide",children:x.filter(W=>{var ge;return!a||W.stage_id===(jc||((ge=x[0])==null?void 0:ge.stage_id))}).map((W,ge)=>{const Be=gs.filter(Rt=>Rt.stage_id===W.stage_id);return o.jsxs("div",{className:Se("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${ge*.1}s`},onDragOver:iQ,onDrop:()=>oQ(W.stage_id),children:[!a&&o.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-l-4 border-primary/50",children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h2",{className:"font-bold text-base",children:W.stage_name}),o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Be.length})]})}),o.jsx("div",{className:Se("space-y-4 overflow-y-auto pr-2 custom-scrollbar",a?"max-h-[calc(100vh-250px)]":"max-h-[calc(100vh-400px)]"),children:Be.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-40 border-2 border-dashed rounded-xl border-muted-foreground/20 text-muted-foreground",children:[o.jsx(cn,{className:"h-8 w-8 mb-2 opacity-20"}),o.jsx("p",{className:"text-sm",children:e("common.noLeads")})]}):Be.map(Rt=>o.jsxs(mt,{className:Se("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 border-l-blue-500",a?"w-full":"w-[300px]","min-h-[160px]",sn===Rt.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>M4(Rt),draggable:!0,onDragStart:Vn=>{Vn.dataTransfer.effectAllowed="move",Vn.dataTransfer.setData("text/plain",Rt.leads_id.toString()),sQ(Rt.leads_id)},children:[o.jsx(ur,{className:"pb-2 px-4 pt-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:Rt.company_name||"No Company"}),Rt.address&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:Rt.address})]})})}),o.jsxs(wt,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Cm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:Gx(Rt.city_id)})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(EI,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("p",{className:"text-xs truncate",children:Kx(Rt.activity_id)})]})]}),o.jsx("div",{children:o.jsx(ct,{variant:"outline",className:`text-xs ${cj(Rt.status_id)}`,children:Yx(Rt.status_id)})})]}),o.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("span",{children:["Created: ",new Date(Rt.created_at).toLocaleDateString()]})})})]})]},Rt.leads_id))})]},W.stage_id)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 pt-4",children:[o.jsxs(va,{open:Lo,onOpenChange:ad,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Lo,className:"w-full justify-between",children:[ae?((H4=g.find(W=>W.status_id.toString()===ae))==null?void 0:H4.status_name_en)||((q4=g.find(W=>W.status_id.toString()===ae))==null?void 0:q4.status_name_ar):e("mleads.allStatuses"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchStatus")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx($r,{value:e("mleads.allStatuses"),onSelect:()=>{J(""),D(1),ad(!1)},children:e("mleads.allStatuses")}),g.map(W=>o.jsx($r,{value:lr(W,"status_name_en","status_name_ar"),onSelect:()=>{J(W.status_id.toString()),D(1),ad(!1)},children:lr(W,"status_name_en","status_name_ar")},W.status_id))]})]})]})})]}),o.jsxs(va,{open:vi,onOpenChange:rj,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":vi,className:"w-full justify-between",children:[me?((G4=h.find(W=>W.activity_id.toString()===me))==null?void 0:G4.activity_name_en)||((K4=h.find(W=>W.activity_id.toString()===me))==null?void 0:K4.activity_name_ar):e("mleads.allActivities"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchActivity")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx($r,{value:e("mleads.allActivities"),onSelect:()=>{A(""),D(1),rj(!1)},children:e("mleads.allActivities")}),h.map(W=>o.jsx($r,{value:lr(W,"activity_name_en","activity_name_ar"),onSelect:()=>{A(W.activity_id.toString()),D(1),rj(!1)},children:lr(W,"activity_name_en","activity_name_ar")},W.activity_id))]})]})]})})]}),o.jsxs(va,{open:O4,onOpenChange:nj,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":O4,className:"w-full justify-between",children:[se?((Y4=v.find(W=>W.system_id.toString()===se))==null?void 0:Y4.system_name_en)||((X4=v.find(W=>W.system_id.toString()===se))==null?void 0:X4.system_name_ar):e("mleads.allSystems"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchSystem")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx($r,{value:e("mleads.allSystems"),onSelect:()=>{ce(""),D(1),nj(!1)},children:e("mleads.allSystems")}),v.map(W=>o.jsx($r,{value:lr(W,"system_name_en","system_name_ar"),onSelect:()=>{ce(W.system_id.toString()),D(1),nj(!1)},children:lr(W,"system_name_en","system_name_ar")},W.system_id))]})]})]})})]}),o.jsxs(va,{open:P4,onOpenChange:aj,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":P4,className:"w-full justify-between",children:[G?((J4=E.find(W=>W.country_id.toString()===G))==null?void 0:J4.country_name_en)||((Q4=E.find(W=>W.country_id.toString()===G))==null?void 0:Q4.country_name_ar):e("mleads.allCountries"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchCountry")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx($r,{value:e("mleads.allCountries"),onSelect:()=>{re(""),D(1),aj(!1)},children:e("mleads.allCountries")}),E.map(W=>o.jsx($r,{value:lr(W,"country_name_en","country_name_ar"),onSelect:()=>{re(W.country_id.toString()),D(1),aj(!1)},children:lr(W,"country_name_en","country_name_ar")},W.country_id))]})]})]})})]}),o.jsxs(va,{open:D4,onOpenChange:sj,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":D4,className:"w-full justify-between",children:[Y?((Z4=d.find(W=>W.city_id.toString()===Y))==null?void 0:Z4.city_name_en)||((eD=d.find(W=>W.city_id.toString()===Y))==null?void 0:eD.city_name_ar):e("mleads.allCities"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchCity")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx($r,{value:e("mleads.allCities"),onSelect:()=>{B(""),D(1),sj(!1)},children:e("mleads.allCities")}),d.map(W=>o.jsx($r,{value:lr(W,"city_name_en","city_name_ar"),onSelect:()=>{B(W.city_id.toString()),D(1),sj(!1)},children:lr(W,"city_name_en","city_name_ar")},W.city_id))]})]})]})})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(va,{open:R4,onOpenChange:ij,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":R4,className:"w-full justify-between",children:[Le?(tD=k.find(W=>W.auth_user_id===Le))==null?void 0:tD.user_name:e("mleads.allUsers"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mleads.searchUser")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx($r,{value:e("mleads.allUsers"),onSelect:()=>{Ie(""),D(1),ij(!1)},children:e("mleads.allUsers")}),k.filter(W=>W.user_role==="employee"||W.user_role==="team_leader").map(W=>o.jsx($r,{value:W.user_name,onSelect:()=>{Ie(W.auth_user_id),D(1),ij(!1)},children:W.user_name},W.user_id))]})]})]})})]})]}),(Y||G||se||ae||me||Le)&&o.jsx("div",{className:"flex justify-end",children:o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{B(""),re(""),ce(""),J(""),A(""),Ie(""),D(1)},children:[o.jsx(Ii,{className:"h-4 w-4 mr-2"}),e("mleads.clearFilters")]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Us,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:e("mleads.searchPlaceholder"),value:I,onChange:W=>{L(W.target.value),D(1)},className:"pl-8"})]})}),gs.length===0?o.jsx(ll,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:o.jsx(cn,{className:"h-12 w-12"})}):o.jsx(Du,{data:KJ,columns:cQ,actions:uQ,bulkActions:lQ,enableBulkSelect:!0,keyExtractor:W=>W.leads_id.toString(),onRowClick:W=>M4(W),rowHeight:"h-26"}),kc>0&&o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx(cP,{children:o.jsxs(uP,{children:[o.jsx(Xd,{children:o.jsx(fP,{onClick:()=>D(Math.max(1,M-1)),className:M===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),o.jsx(Xd,{children:o.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",M," ",e("common.of")," ",kc]})}),o.jsx(Xd,{children:o.jsx(hP,{onClick:()=>D(Math.min(kc,M+1)),className:M===kc?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})]})})}),o.jsx(fi,{open:Ve!==null,onOpenChange:()=>We(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("mleads.deleteLead")}),o.jsx(Fs,{children:e("mleads.deleteLeadConfirmation")})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("common.cancel")}),o.jsx(Ls,{onClick:()=>Ve&&JJ(Ve),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),o.jsx(ic,{open:St,onOpenChange:rt,children:o.jsxs(ml,{side:Lr()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[o.jsx(Pu,{children:o.jsxs(oc,{className:"flex items-center gap-2 min-w-0",children:[o.jsx(cn,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:Ee==null?void 0:Ee.company_name})]})}),Ee&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),o.jsxs(oe,{onClick:()=>{L4(Ee),rt(!1)},variant:"outline",size:"sm",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),o.jsxs(gl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Yr,{value:"overview",children:e("common.overview")}),o.jsx(Yr,{value:"notes",children:e("notes.title")})]}),o.jsxs(kn,{value:"overview",className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:Ee.company_name||"-"}),Ee.address&&o.jsx("p",{className:"text-muted-foreground mt-1",children:Ee.address})]}),Ee.lead_quotation&&o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:o.jsx(Kg,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),o.jsx("a",{href:(rD=Ee.lead_quotation)==null?void 0:rD.public_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline truncate block",children:(nD=Ee.lead_quotation)==null?void 0:nD.name})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Cm,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),o.jsx("p",{className:"font-medium",children:Gx(Ee.city_id)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(EI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),o.jsx("p",{className:"font-medium",children:Kx(Ee.activity_id)})]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),o.jsx(ct,{variant:"outline",className:`text-xs ${cj(Ee.status_id)}`,children:Yx(Ee.status_id)})]})}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),o.jsx(ct,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:lj(Ee.stage_id)})]})}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(cn,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),o.jsx("p",{className:"font-medium",children:oj(Ee.system_id)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Ra,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),o.jsx("p",{className:"font-medium",children:Qp(Ee.assigned_to)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Ra,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),o.jsx("p",{className:"font-medium",children:Qp(Ee.created_by)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Ra,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),o.jsx("p",{className:"font-medium",children:Qp(Ee.assigned_to)})]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),o.jsx("p",{className:"text-sm font-medium",children:new Date(Ee.created_at).toLocaleDateString()})]})}),o.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),o.jsx("p",{className:"text-sm mt-1",children:Ee.notes||"-"})]})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const W=_.filter(ge=>ge.leads_id===Ee.leads_id);return W.length>0?o.jsx("div",{className:"space-y-2",children:W.map((ge,Be)=>{var Rt;return o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:ge.contact_name||"-"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[ge.contact_email&&`${ge.contact_email}  `,ge.contact_mobile&&`${ge.contact_mobile}`]})]}),o.jsx(ct,{variant:"outline",className:"text-xs",children:((Rt=O.find(Vn=>Vn.jobtitle_id===ge.jobtitle_id))==null?void 0:Rt.jobtitle_name_en)||"-"})]},ge.contact_id||Be)})}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),o.jsx(kn,{value:"notes",className:"mt-4",children:o.jsx(wO,{relatedType:"mlead",relatedId:Ee.leads_id,notes:Ht,onNotesChange:()=>F4(Ee.leads_id)})})]})]})]})})]})}function mKe(e){const t=e.lastIndexOf("."),r=t!==-1?e.slice(t):"";return`contract-${crypto.randomUUID()}${r}`}async function pKe(e,t,r={}){const n=r.bucket||"projects",a=!!r.publicBucket;if(!e)throw new Error("No file provided");if(!t)throw new Error("projectId is required");const s=mKe(e.name),i=`projects/${t}/${s}`,{data:l,error:c}=await pe.storage.from(n).upload(i,e,{cacheControl:"3600",upsert:!1});if(c)throw c;let u=null;if(a){const{data:m}=pe.storage.from(n).getPublicUrl(i);u=(m==null?void 0:m.publicUrl)||null}else{const{data:g,error:p}=await pe.storage.from(n).createSignedUrl(i,3600);if(p){const{data:v}=pe.storage.from(n).getPublicUrl(i);if(u=(v==null?void 0:v.publicUrl)||null,!u)throw p}else u=(g==null?void 0:g.signedUrl)||null}const{data:{user:d}}=await pe.auth.getUser(),f={bucket:n,path:i,url:u,name:e.name,filename:s,mime:e.type||null,size:e.size||null,uploaded_by:(d==null?void 0:d.id)||null,uploaded_at:new Date().toISOString()},{error:h}=await pe.from("m_projects").update({contract_document:f}).eq("project_id",t);if(h){try{await pe.storage.from(n).remove([i])}catch(m){console.error("Failed to delete uploaded file after DB update error:",m)}throw h}return f}async function gKe(e){try{const{data:t,error:r}=await pe.from("m_projects").select("contract_document").eq("project_id",e).single();if(r)throw r;if(t!=null&&t.contract_document){const n=t.contract_document,{error:a}=await pe.storage.from(n.bucket).remove([n.path]);a&&console.error("Failed to delete file from storage:",a);const{error:s}=await pe.from("m_projects").update({contract_document:null}).eq("project_id",e);if(s)throw s}}catch(t){throw console.error("Error deleting contract document:",t),t}}function vKe(){var H,ee,Q;const{t:e}=zt(),{user:t}=yr(),{currentLanguage:r}=Vi(),{toast:n}=Xu();Ua();const{setBreadcrumbs:a}=g_();Bs();const[s,i]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,g]=y.useState([]),[p,v]=y.useState([]),[w,x]=y.useState([]),[b,_]=y.useState(!0),[S,k]=y.useState(null),[j,E]=y.useState(""),[N,O]=y.useState(1),[R]=y.useState(9),[T,U]=y.useState(0),[z,q]=y.useState(""),[I,L]=y.useState(""),[M,D]=y.useState(null),[K,Z]=y.useState(null),[C,Y]=y.useState(!1),[B,G]=y.useState(!1),[re,se]=y.useState({city_name_en:"",city_name_ar:"",country_id:null});y.useState(null);const[ce,ae]=y.useState(null),[J,me]=y.useState(!1),[A,Le]=y.useState([]),[Ie,Ve]=y.useState(!1),[We,Pe]=y.useState("list"),[ft,_t]=y.useState(null),[ne,he]=y.useState(""),[F,le]=y.useState([]),[ve,ye]=y.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[$e,xe]=y.useState(!1),[be,ue]=y.useState(!1);y.useState(!1),y.useState(!1),y.useState(!1);const[Ae,Fe]=y.useState(!1),[Re,Ke]=y.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});y.useEffect(()=>{a([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[a,e]),y.useEffect(()=>{kt()},[]),y.useEffect(()=>{Jt()},[N,j,z,I,u]),y.useEffect(()=>{Ie&&Pr()},[Ie,j,z,I,u]);const kt=async()=>{try{_(!0),k(null);const[P,V,X,de,Oe]=await Promise.all([pe.from("m_city").select("*"),pe.from("m_contacts").select("*"),pe.from("users").select("*"),pe.from("m_country").select("*"),pe.from("m_jobtitle").select("*")]);if(P.error)throw P.error;if(V.error)throw V.error;if(X.error)throw X.error;if(de.error)throw de.error;if(Oe.error)throw Oe.error;d(P.data||[]),h(V.data||[]),g(X.data||[]),v(de.data||[]),x(Oe.data||[])}catch(P){const V=P instanceof Error?P.message:"Failed to load data";k(V),n({title:"Error",description:V,variant:"destructive"})}finally{_(!1)}},Jt=async()=>{try{_(!0),k(null);let P=pe.from("m_projects").select("*",{count:"exact"}).order("created_at",{ascending:!1});if(j&&(P=P.or(`company_name.ilike.%${j}%,contract_code.ilike.%${j}%`)),z&&(P=P.eq("city_id",z)),I){const Oe=u.filter(we=>{var _e;return((_e=we.country_id)==null?void 0:_e.toString())===I}).map(we=>we.city_id);Oe.length>0?P=P.in("city_id",Oe):P=P.eq("city_id",-1)}const V=(N-1)*R,X=V+R-1;P=P.range(V,X);const de=await P;if(de.error)throw de.error;i(de.data||[]),U(de.count||0)}catch(P){const V=P instanceof Error?P.message:"Failed to load data";k(V),n({title:"Error",description:V,variant:"destructive"})}finally{_(!1)}},Pr=async()=>{try{let P=pe.from("m_projects").select("*").order("created_at",{ascending:!1});if(j&&(P=P.or(`company_name.ilike.%${j}%,contract_code.ilike.%${j}%`)),z&&(P=P.eq("city_id",z)),I){const X=u.filter(de=>{var Oe;return((Oe=de.country_id)==null?void 0:Oe.toString())===I}).map(de=>de.city_id);X.length>0?P=P.in("city_id",X):P=P.eq("city_id",-1)}const V=await P;if(V.error)throw V.error;c(V.data||[])}catch(P){console.error("Failed to load all filtered projects:",P)}},gn=async()=>{try{const{data:P,error:V}=await pe.from("m_contacts").select("*");if(V)throw V;h(P||[])}catch(P){console.error("Failed to load contacts:",P)}},zr=y.useMemo(()=>Ie?l:s,[Ie,l,s]),Un=y.useMemo(()=>{if(Ie){const P=(N-1)*R,V=P+R;return zr.slice(P,V)}else return s},[Ie,zr,s,N,R]),Cn=Math.ceil(T/R);y.useEffect(()=>{N>Cn&&Cn>0&&O(Cn)},[N,Cn]);const Jn=(P,V,X)=>r==="ar"&&(P==null?void 0:P[X])||(P==null?void 0:P[V]),Ki=P=>{if(!P)return"-";const V=u.find(X=>X.city_id===P);return Jn(V,"city_name_en","city_name_ar")},ie=async()=>{if(!be){ue(!0);try{let P;if(K){const{error:V}=await pe.from("m_projects").update(Re).eq("project_id",K);if(V)throw V;P=K,n({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")})}else{const V={...Re,created_by:t==null?void 0:t.id},{data:X,error:de}=await pe.from("m_projects").insert([V]).select();if(de)throw de;if(!X||X.length===0)throw new Error("Failed to create project");P=X[0].project_id,n({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(K?(await pe.from("m_contacts").delete().eq("project_id",K),F.length>0&&await ps(P)):F.length>0&&await ps(P),ft){he("Uploading contract document...");try{await pKe(ft,P,{bucket:"projects",publicBucket:!1}),he("Document uploaded successfully"),n({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(V){console.error("File upload failed:",V),he("Document upload failed"),n({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}Y(!1),Z(null),Ke({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),le([]),_t(null),he(""),await Jt(),await gn()}catch(P){const V=P instanceof Error?P.message:"Failed to save";n({title:"Error",description:V,variant:"destructive"})}finally{ue(!1)}}},je=async P=>{try{const{error:V}=await pe.from("m_projects").delete().eq("project_id",P);if(V)throw V;n({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),D(null),await Jt()}catch(V){const X=V instanceof Error?V.message:"Failed to delete";n({title:"Error",description:X,variant:"destructive"})}},Ee=P=>{ae(P),Me(P.project_id),gn(),me(!0)},Me=async P=>{try{const V=await Xh.getByRelated("mlead",P);Le(V)}catch(V){console.error("Failed to load notes:",V),Le([])}},St=P=>{Z(P.project_id),Ke(P);const V=f.filter(X=>X.project_id===P.project_id);le(V.map(X=>{var de;return{contact_name:X.contact_name||"",contact_email:X.contact_email||"",contact_mobile:((de=X.contact_mobile)==null?void 0:de.toString())||"",jobtitle_id:X.jobtitle_id}})),Y(!0)},rt=async P=>{try{const{error:V}=await pe.from("m_projects").delete().in("project_id",P);if(V)throw V;n({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await Jt()}catch(V){const X=V instanceof Error?V.message:"Failed to delete";n({title:"Error",description:X,variant:"destructive"})}},Ht=async()=>{try{if(!re.city_name_en&&!re.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const{data:P,error:V}=await pe.from("m_city").insert([re]).select();if(V)throw V;if(P&&P.length>0){const X=P[0];d([...u,X]),Ke({...Re,city_id:X.city_id}),G(!1),se({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")})}}catch(P){const V=P instanceof Error?P.message:"Failed to create city";n({title:"Error",description:V,variant:"destructive"})}},_r=()=>{if(!ve.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(F.some(V=>V.contact_name===ve.contact_name&&V.contact_email===ve.contact_email&&V.contact_mobile===ve.contact_mobile)){n({title:"Warning",description:"This contact already exists",variant:"destructive"});return}le([...F,{...ve}]),ye({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),xe(!1)},Hr=P=>{le(F.filter((V,X)=>X!==P))},ps=async P=>{try{const V=F.map(X=>({contact_name:X.contact_name,contact_email:X.contact_email,contact_mobile:X.contact_mobile?parseInt(X.contact_mobile):null,jobtitle_id:X.jobtitle_id,project_id:P}));if(V.length>0){const{error:X}=await pe.from("m_contacts").insert(V);if(X)throw X}}catch(V){const X=V instanceof Error?V.message:"Failed to save contacts";n({title:"Error",description:X,variant:"destructive"})}};if(b)return o.jsx(Op,{});if(S)return o.jsx(_x,{message:S,onRetry:kt});const Wa=[{label:e("common.delete"),icon:o.jsx(xr,{}),onClick:P=>{window.confirm(`Delete ${P.length} projects?`)&&rt(P.map(V=>V.project_id))},variant:"destructive"}],rd=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:P=>o.jsx(Iu,{title:P.company_name||"-",subtitle:P.contract_code||"",icon:o.jsx(cn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:P=>o.jsx("span",{className:"text-sm text-foreground",children:Ki(P.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:P=>o.jsx(ct,{variant:"outline",className:"text-xs",children:P.contract_amount?`$${P.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:P=>o.jsx("span",{className:"text-sm text-muted-foreground",children:P.cont_start_date?new Date(P.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:P=>o.jsx("span",{className:"text-sm text-muted-foreground",children:P.cont_end_date?new Date(P.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:P=>o.jsx(Ru,{date:P.created_at})}],_c=[{icon:o.jsx(Co,{}),label:e("common.edit"),onClick:P=>St(P)},{icon:o.jsx(xr,{}),label:e("common.delete"),onClick:P=>D(P.project_id),variant:"destructive"}];return o.jsxs("div",{className:`space-y-4 bg-background p-4 rounded-md ${Lr()?"rtl":"ltr"}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10",children:o.jsx(cn,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:e("mprojects.masterProjects")}),o.jsx("p",{className:"text-sm text-muted-foreground hidden sm:block",children:e("mprojects.manageMasterProjectsData")})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[o.jsxs(oe,{variant:"default",size:"sm",onClick:()=>Pe(We==="list"?"kanban":"list"),className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[We==="list"?o.jsx(si,{className:"h-4 w-4"}):o.jsx(cn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:e(We==="list"?"mprojects.kanbanView":"mprojects.listView")}),o.jsx("span",{className:"sm:hidden",children:e(We==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),o.jsxs(oe,{variant:"default",size:"sm",onClick:()=>Ve(!Ie),className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[o.jsx(si,{className:"h-4 w-4"}),o.jsx("span",{children:e("mprojects.showChart")}),o.jsx(v_,{className:`h-4 w-4 transition-transform ${Ie?"rotate-180":""}`})]}),o.jsxs(ic,{open:C,onOpenChange:Y,children:[o.jsx(IW,{asChild:!0,children:o.jsxs(oe,{size:"sm",onClick:()=>{Z(null),Ke({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),le([]),_t(null),he(""),G(!1),xe(!1),se({city_name_en:"",city_name_ar:"",country_id:null}),ye({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null})},className:"flex items-center gap-2 flex-1 sm:flex-initial",children:[o.jsx(sr,{className:"w-4 h-4"}),o.jsx("span",{children:e("common.add")})]})}),o.jsxs(ml,{side:Lr()?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[o.jsx(Pu,{className:"p-6 pb-0",children:o.jsx(oc,{children:e(K?"mprojects.editProject":"mprojects.createNewProject")})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),o.jsx(ze,{value:Re.company_name||"",onChange:P=>Ke({...Re,company_name:P.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),o.jsx(ze,{value:Re.contract_code||"",onChange:P=>Ke({...Re,contract_code:P.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),o.jsx(ze,{type:"number",value:Re.contract_amount||"",onChange:P=>Ke({...Re,contract_amount:parseFloat(P.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),o.jsx(ze,{type:"date",value:Re.cont_start_date||"",onChange:P=>Ke({...Re,cont_start_date:P.target.value}),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),o.jsx(ze,{type:"date",value:Re.cont_end_date||"",onChange:P=>Ke({...Re,cont_end_date:P.target.value}),className:"h-10"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),o.jsxs(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>G(!B),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[o.jsx(sr,{className:"h-3 w-3 mr-1"}),e(B?"mprojects.cancel":"mprojects.addCity")]})]}),B?o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsx(ze,{placeholder:"City Name (English)",value:re.city_name_en,onChange:P=>se({...re,city_name_en:P.target.value}),className:"h-9"}),o.jsx(ze,{placeholder:"City Name (Arabic)",value:re.city_name_ar,onChange:P=>se({...re,city_name_ar:P.target.value}),className:"h-9"}),o.jsxs(xt,{value:((H=re.country_id)==null?void 0:H.toString())||"",onValueChange:P=>se({...re,country_id:parseInt(P)}),children:[o.jsx(gt,{className:"h-9",children:o.jsx(yt,{placeholder:"Select Country"})}),o.jsx(vt,{children:p.map(P=>o.jsx(Ce,{value:P.country_id.toString(),children:Jn(P,"country_name_en","country_name_ar")},P.country_id))})]}),o.jsxs(oe,{onClick:Ht,size:"sm",className:"w-full h-9",children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):o.jsxs(xt,{value:((ee=Re.city_id)==null?void 0:ee.toString())||"",onValueChange:P=>Ke({...Re,city_id:parseInt(P)||null}),children:[o.jsx(gt,{className:"h-10",children:o.jsx(yt,{placeholder:e("mprojects.selectCity")})}),o.jsx(vt,{children:u.map(P=>o.jsx(Ce,{value:P.city_id.toString(),children:Jn(P,"city_name_en","city_name_ar")},P.city_id))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>xe(!$e),className:"h-6 px-2 text-xs",children:e($e?"mprojects.cancel":"mprojects.addContact")})]}),F.length>0&&o.jsx("div",{className:"space-y-2 mb-3",children:F.map((P,V)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:P.contact_name}),o.jsxs("div",{className:"text-muted-foreground",children:[P.contact_email&&`${P.contact_email}  `,P.contact_mobile&&`${P.contact_mobile}`]})]}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Hr(V),className:"h-6 w-6 p-0",children:o.jsx(Ii,{className:"h-3 w-3"})})]},V))}),$e&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(ze,{placeholder:e("mprojects.contactName"),value:ve.contact_name,onChange:P=>ye({...ve,contact_name:P.target.value})}),o.jsx(ze,{placeholder:e("mprojects.email"),type:"email",value:ve.contact_email,onChange:P=>ye({...ve,contact_email:P.target.value})}),o.jsx(ze,{placeholder:e("mprojects.mobile"),value:ve.contact_mobile,onChange:P=>ye({...ve,contact_mobile:P.target.value})}),o.jsxs(va,{open:Ae,onOpenChange:Fe,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Ae,className:"w-full justify-between",children:[ve.jobtitle_id?(Q=w.find(P=>P.jobtitle_id===ve.jobtitle_id))==null?void 0:Q.jobtitle_name_en:e("mprojects.selectJobTitle"),o.jsx(Ha,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(ea,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(wa,{placeholder:e("mprojects.searchJobTitle")}),o.jsxs(ba,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:w&&w.length>0?w.map(P=>o.jsx($r,{value:Jn(P,"jobtitle_name_en","jobtitle_name_ar")||P.jobtitle_name_en||"Unknown",onSelect:()=>{ye(V=>({...V,jobtitle_id:P.jobtitle_id})),Fe(!1)},children:Jn(P,"jobtitle_name_en","jobtitle_name_ar")||P.jobtitle_name_en||"Unknown"},P.jobtitle_id)):o.jsx($r,{disabled:!0,children:"No job titles available"})})]})]})})]}),o.jsx(oe,{type:"button",onClick:_r,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),o.jsx(ze,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:P=>{var X;const V=(X=P.target.files)==null?void 0:X[0];_t(V||null)},className:"file:hidden cursor-pointer"}),o.jsxs(oe,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>{const P=document.querySelector('input[type="file"]');P==null||P.click()},children:[o.jsx(sr,{className:"h-4 w-4"}),e("common.add")]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),ft&&o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[o.jsx(bs,{className:"h-5 w-5 text-primary flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:ft.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ft.size/1024/1024).toFixed(2)," MB"]})]}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>_t(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:o.jsx(Ii,{className:"h-4 w-4"})})]}),ne&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),o.jsx("span",{className:"text-sm text-blue-700",children:ne})]})]})]})]}),o.jsx("div",{className:"p-6 border-t bg-muted/20",children:o.jsx(oe,{onClick:ie,className:"w-full",disabled:be||!Re.company_name,children:e(be?"common.saving":K?"common.save":"common.create")})})]})]})]})]}),Ie&&o.jsxs(mt,{children:[o.jsx(ur,{children:o.jsx(nn,{children:e("mprojects.analytics")})}),o.jsx(wt,{children:o.jsxs(gl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Yr,{value:"overview",children:"Overview"}),o.jsx(Yr,{value:"timeline",children:"Timeline"})]}),o.jsx(kn,{value:"overview",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),o.jsx(Il,{config:{},className:"h-[350px]",children:o.jsxs(Lc,{children:[o.jsx(Ca,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(X=>({name:X.name,value:zr.filter(de=>de.contract_amount&&de.contract_amount>=X.min&&de.contract_amount<X.max).length})).filter(X=>X.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:P,value:V})=>`${P}: ${V}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((P,V)=>o.jsx(po,{fill:P},`cell-${V}`))}),o.jsx($c,{content:o.jsx(Ml,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),o.jsx(Il,{config:{},className:"h-[350px]",children:o.jsxs(Lc,{children:[o.jsx(Ca,{data:(()=>{const P=u.map(V=>({name:Jn(V,"city_name_en","city_name_ar"),value:zr.filter(X=>X.city_id===V.city_id).length})).filter(V=>V.value>0);return P.length>0?P:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:P,value:V})=>`${P}: ${V}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((P,V)=>o.jsx(po,{fill:P},`cell-${V}`))}),o.jsx($c,{content:o.jsx(Ml,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),o.jsx("div",{className:"text-5xl font-bold text-primary",children:zr.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),o.jsx(kn,{value:"timeline",className:"mt-4",children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(BP,{width:"100%",height:"100%",children:o.jsxs(NJ,{data:(()=>{const P=new Map;return zr.forEach(X=>{const de=new Date(X.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});P.set(de,(P.get(de)||0)+1)}),Array.from(P.entries()).sort((X,de)=>new Date(X[0]).getTime()-new Date(de[0]).getTime()).map(([X,de])=>({date:X,count:de}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[o.jsx(_4,{strokeDasharray:"3 3"}),o.jsx(zx,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),o.jsx(Hx,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),o.jsx(Ei,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:P=>[`${P} projects`,"Total"]}),o.jsx(Su,{}),o.jsx(Xp,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),o.jsx(mt,{children:o.jsx(wt,{children:We==="kanban"?o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:Un.map(P=>{var V;return o.jsxs(mt,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>Ee(P),children:[o.jsx(ur,{className:"pb-2 px-4 pt-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:P.company_name||"No Company"}),P.contract_code&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:P.contract_code})]})})}),o.jsxs(wt,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Cm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:Ki(P.city_id)})]})}),o.jsx("div",{children:o.jsxs(ct,{variant:"outline",className:"text-xs",children:["$",((V=P.contract_amount)==null?void 0:V.toLocaleString())||"0"]})})]}),o.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("span",{children:["Created: ",new Date(P.created_at).toLocaleDateString()]})})})]})]},P.project_id)})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 pt-4",children:[o.jsxs(xt,{value:I||"all",onValueChange:P=>{L(P==="all"?"":P),O(1)},children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:e("mprojects.country")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"all",children:e("mprojects.allCountries")}),p.map(P=>o.jsx(Ce,{value:P.country_id.toString(),children:Jn(P,"country_name_en","country_name_ar")},P.country_id))]})]}),o.jsxs(xt,{value:z||"all",onValueChange:P=>{q(P==="all"?"":P),O(1)},children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:e("mprojects.city")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"all",children:e("mprojects.allCities")}),u.map(P=>o.jsx(Ce,{value:P.city_id.toString(),children:Jn(P,"city_name_en","city_name_ar")},P.city_id))]})]})]}),(z||I)&&o.jsx("div",{className:"flex justify-end",children:o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{q(""),L(""),O(1)},children:[o.jsx(Ii,{className:"h-4 w-4 mr-2"}),e("mprojects.clearFilters")]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Us,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:e("mprojects.searchPlaceholder"),value:j,onChange:P=>{E(P.target.value),O(1)},className:"pl-8"})]})}),zr.length===0?o.jsx(ll,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:o.jsx(cn,{className:"h-12 w-12"})}):o.jsx(Du,{data:Un,columns:rd,actions:_c,bulkActions:Wa,enableBulkSelect:!0,keyExtractor:P=>P.project_id.toString(),onRowClick:P=>Ee(P),rowHeight:"h-26"}),Cn>0&&o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx(cP,{children:o.jsxs(uP,{children:[o.jsx(Xd,{children:o.jsx(fP,{onClick:()=>O(Math.max(1,N-1)),className:N===1?"pointer-events-none opacity-50":"cursor-pointer"})}),o.jsx(Xd,{children:o.jsxs("span",{className:"px-3 py-2 text-sm",children:["Page ",N," of ",Cn]})}),o.jsx(Xd,{children:o.jsx(hP,{onClick:()=>O(Math.min(Cn,N+1)),className:N===Cn?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})})}),o.jsx(fi,{open:M!==null,onOpenChange:()=>D(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("mprojects.deleteProject")}),o.jsx(Fs,{children:e("mprojects.deleteProjectConfirmation")})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("common.cancel")}),o.jsx(Ls,{onClick:()=>M&&je(M),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),o.jsx(ic,{open:J,onOpenChange:me,children:o.jsxs(ml,{side:Lr()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[o.jsx(Pu,{children:o.jsxs(oc,{className:"flex items-center gap-2 min-w-0",children:[o.jsx(cn,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:ce==null?void 0:ce.company_name})]})}),ce&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),o.jsxs(oe,{onClick:()=>{St(ce),me(!1)},variant:"outline",size:"sm",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),o.jsxs(gl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Yr,{value:"overview",children:e("common.overview")}),o.jsx(Yr,{value:"notes",children:e("notes.title")})]}),o.jsxs(kn,{value:"overview",className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:ce.company_name||"-"}),ce.contract_code&&o.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",ce.contract_code]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),o.jsx("p",{className:"font-medium",children:ce.contract_amount?`$${ce.contract_amount.toLocaleString()}`:"-"})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),o.jsx("p",{className:"font-medium",children:ce.cont_start_date?new Date(ce.cont_start_date).toLocaleDateString():"-"})]})}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),o.jsx("p",{className:"font-medium",children:ce.cont_end_date?new Date(ce.cont_end_date).toLocaleDateString():"-"})]})})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Cm,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),o.jsx("p",{className:"font-medium",children:Ki(ce.city_id)})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const P=f.filter(V=>V.project_id===ce.project_id);return P.length>0?o.jsx("div",{className:"space-y-2",children:P.map((V,X)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:V.contact_name||"-"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[V.contact_email&&`${V.contact_email}  `,V.contact_mobile&&`${V.contact_mobile}`]})]}),o.jsx(ct,{variant:"outline",className:"text-xs",children:w.find(de=>de.jobtitle_id===V.jobtitle_id)?Jn(w.find(de=>de.jobtitle_id===V.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},V.contact_id||X))}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),o.jsx("p",{className:"text-sm font-medium",children:new Date(ce.created_at).toLocaleDateString()})]})}),ce.contract_document&&(()=>{const P=ce.contract_document;return o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(bs,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),o.jsx("p",{className:"text-sm font-medium truncate",children:P.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.size&&`${(P.size/1024/1024).toFixed(2)} MB`,"  ",new Date(P.uploaded_at).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-1",children:[P.url&&o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>window.open(P.url,"_blank"),className:"h-8 w-8 p-0",children:o.jsx(Hoe,{className:"h-4 w-4"})}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:async()=>{try{await gKe(ce.project_id),n({title:e("common.success"),description:"Contract document deleted successfully"}),await Jt(),me(!1)}catch{n({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:o.jsx(xr,{className:"h-4 w-4"})})]})]})})()]}),o.jsx(kn,{value:"notes",className:"mt-4",children:o.jsx(wO,{relatedType:"mlead",relatedId:ce.project_id,notes:A,onNotesChange:()=>Me(ce.project_id)})})]})]})]})})]})}const sw={async getRequests(){const{data:e,error:t}=await pe.from("requests").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},async getRequestById(e){const{data:t,error:r}=await pe.from("requests").select("*").eq("request_id",e).single();if(r)throw r;return t},async createRequest(e){const{data:t,error:r}=await pe.from("requests").insert([e]).select().single();if(r)throw r;return t},async updateRequest(e,t){const{data:r,error:n}=await pe.from("requests").update(t).eq("request_id",e).select().single();if(n)throw n;return r},async deleteRequest(e){const{error:t}=await pe.from("requests").delete().eq("request_id",e);if(t)throw t}};var qx=e=>e.type==="checkbox",Dd=e=>e instanceof Date,Qa=e=>e==null;const TJ=e=>typeof e=="object";var pn=e=>!Qa(e)&&!Array.isArray(e)&&TJ(e)&&!Dd(e),AJ=e=>pn(e)&&e.target?qx(e.target)?e.target.checked:e.target.value:e,xKe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,OJ=(e,t)=>e.has(xKe(t)),yKe=e=>{const t=e.constructor&&e.constructor.prototype;return pn(t)&&t.hasOwnProperty("isPrototypeOf")},S4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(S4&&(e instanceof Blob||n))&&(r||pn(e)))if(t=r?[]:{},!r&&!yKe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Pn(e[a]));else return e;return t}var ZS=e=>/^\w*$/.test(e),ln=e=>e===void 0,j4=e=>Array.isArray(e)?e.filter(Boolean):[],k4=e=>j4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ze=(e,t,r)=>{if(!t||!pn(e))return r;const n=(ZS(t)?[t]:k4(t)).reduce((a,s)=>Qa(a)?a:a[s],e);return ln(n)||n===e?ln(e[t])?r:e[t]:n},Ys=e=>typeof e=="boolean",hr=(e,t,r)=>{let n=-1;const a=ZS(t)?[t]:k4(t),s=a.length,i=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==i){const u=e[l];c=pn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Bb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Tl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},N4=te.createContext(null);N4.displayName="HookFormContext";const ej=()=>te.useContext(N4),wKe=e=>{const{children:t,...r}=e;return te.createElement(N4.Provider,{value:r},t)};var PJ=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const i=s;return t._proxyFormState[i]!==xo.all&&(t._proxyFormState[i]=!n||xo.all),r&&(r[i]=!0),e[i]}});return a};const E4=typeof window<"u"?te.useLayoutEffect:te.useEffect;function bKe(e){const t=ej(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[i,l]=te.useState(r._formState),c=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return E4(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,s]),te.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),te.useMemo(()=>PJ(i,r,c.current,!1),[i,r])}var al=e=>typeof e=="string",DJ=(e,t,r,n,a)=>al(e)?(n&&t.watch.add(e),Ze(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Ze(r,s))):(n&&(t.watchAll=!0),r),rT=e=>Qa(e)||!TJ(e);function $l(e,t,r=new WeakSet){if(rT(e)||rT(t))return e===t;if(Dd(e)&&Dd(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Dd(i)&&Dd(l)||pn(i)&&pn(l)||Array.isArray(i)&&Array.isArray(l)?!$l(i,l,r):i!==l)return!1}}return!0}function _Ke(e){const t=ej(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:i,compute:l}=e||{},c=te.useRef(a),u=te.useRef(l),d=te.useRef(void 0);u.current=l;const f=te.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=te.useState(u.current?u.current(f):f);return E4(()=>r._subscribe({name:n,formState:{values:!0},exact:i,callback:g=>{if(!s){const p=DJ(n,r._names,g.values||r._formValues,!1,c.current);if(u.current){const v=u.current(p);$l(v,d.current)||(m(v),d.current=v)}else m(p)}}}),[r,s,n,i]),te.useEffect(()=>r._removeUnmounted()),h}function SKe(e){const t=ej(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:i}=e,l=OJ(a._names.array,r),c=te.useMemo(()=>Ze(a._formValues,r,Ze(a._defaultValues,r,i)),[a,r,i]),u=_Ke({control:a,name:r,defaultValue:c,exact:!0}),d=bKe({control:a,name:r,exact:!0}),f=te.useRef(e),h=te.useRef(a.register(r,{...e.rules,value:u,...Ys(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ze(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ze(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ze(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ze(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ze(d.errors,r)}}),[d,r]),g=te.useCallback(x=>h.current.onChange({target:{value:AJ(x),name:r},type:Bb.CHANGE}),[r]),p=te.useCallback(()=>h.current.onBlur({target:{value:Ze(a._formValues,r),name:r},type:Bb.BLUR}),[r,a._formValues]),v=te.useCallback(x=>{const b=Ze(a._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),w=te.useMemo(()=>({name:r,value:u,...Ys(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:p,ref:v}),[r,n,d.disabled,g,p,v,u]);return te.useEffect(()=>{const x=a._options.shouldUnregister||s;a.register(r,{...f.current.rules,...Ys(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(_,S)=>{const k=Ze(a._fields,_);k&&k._f&&(k._f.mount=S)};if(b(r,!0),x){const _=Pn(Ze(a._options.defaultValues,r));hr(a._defaultValues,r,_),ln(Ze(a._formValues,r))&&hr(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):b(r,!1)}},[r,a,l,s]),te.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),te.useMemo(()=>({field:w,formState:d,fieldState:m}),[w,d,m])}const jKe=e=>e.render(SKe(e));var RJ=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},bg=e=>Array.isArray(e)?e:[e],z5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},xs=e=>pn(e)&&!Object.keys(e).length,C4=e=>e.type==="file",yo=e=>typeof e=="function",Ub=e=>{if(!S4)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},IJ=e=>e.type==="select-multiple",T4=e=>e.type==="radio",kKe=e=>T4(e)||qx(e),f2=e=>Ub(e)&&e.isConnected;function NKe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ln(e)?n++:e[t[n++]];return e}function EKe(e){for(const t in e)if(e.hasOwnProperty(t)&&!ln(e[t]))return!1;return!0}function xn(e,t){const r=Array.isArray(t)?t:ZS(t)?[t]:k4(t),n=r.length===1?e:NKe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(pn(n)&&xs(n)||Array.isArray(n)&&EKe(n))&&xn(e,r.slice(0,-1)),e}var MJ=e=>{for(const t in e)if(yo(e[t]))return!0;return!1};function Vb(e,t={}){const r=Array.isArray(e);if(pn(e)||r)for(const n in e)Array.isArray(e[n])||pn(e[n])&&!MJ(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Vb(e[n],t[n])):Qa(e[n])||(t[n]=!0);return t}function FJ(e,t,r){const n=Array.isArray(e);if(pn(e)||n)for(const a in e)Array.isArray(e[a])||pn(e[a])&&!MJ(e[a])?ln(t)||rT(r[a])?r[a]=Array.isArray(e[a])?Vb(e[a],[]):{...Vb(e[a])}:FJ(e[a],Qa(t)?{}:t[a],r[a]):r[a]=!$l(e[a],t[a]);return r}var j0=(e,t)=>FJ(e,t,Vb(t));const H5={value:!1,isValid:!1},q5={value:!0,isValid:!0};var LJ=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ln(e[0].attributes.value)?ln(e[0].value)||e[0].value===""?q5:{value:e[0].value,isValid:!0}:q5:H5}return H5},$J=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ln(e)?e:t?e===""?NaN:e&&+e:r&&al(e)?new Date(e):n?n(e):e;const G5={isValid:!1,value:null};var BJ=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,G5):G5;function K5(e){const t=e.ref;return C4(t)?t.files:T4(t)?BJ(e.refs).value:IJ(t)?[...t.selectedOptions].map(({value:r})=>r):qx(t)?LJ(e.refs).value:$J(ln(t.value)?e.ref.value:t.value,e)}var CKe=(e,t,r,n)=>{const a={};for(const s of e){const i=Ze(t,s);i&&hr(a,s,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Wb=e=>e instanceof RegExp,k0=e=>ln(e)?e:Wb(e)?e.source:pn(e)?Wb(e.value)?e.value.source:e.value:e,Y5=e=>({isOnSubmit:!e||e===xo.onSubmit,isOnBlur:e===xo.onBlur,isOnChange:e===xo.onChange,isOnAll:e===xo.all,isOnTouch:e===xo.onTouched});const X5="AsyncFunction";var TKe=e=>!!e&&!!e.validate&&!!(yo(e.validate)&&e.validate.constructor.name===X5||pn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===X5)),AKe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),J5=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const _g=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=Ze(e,a);if(s){const{_f:i,...l}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(_g(l,t))break}else if(pn(l)&&_g(l,t))break}}};function Q5(e,t,r){const n=Ze(e,r);if(n||ZS(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=Ze(t,s),l=Ze(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var OKe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return xs(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!n||xo.all))},PKe=(e,t,r)=>!e||!t||e===t||bg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),DKe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,RKe=(e,t)=>!j4(Ze(e,t)).length&&xn(e,t),IKe=(e,t,r)=>{const n=bg(Ze(e,r));return hr(n,"root",t[r]),hr(e,r,n),e},Pw=e=>al(e);function Z5(e,t,r="validate"){if(Pw(e)||Array.isArray(e)&&e.every(Pw)||Ys(e)&&!e)return{type:r,message:Pw(e)?e:"",ref:t}}var ih=e=>pn(e)&&!Wb(e)?e:{value:e,message:""},e8=async(e,t,r,n,a,s)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:w}=e._f,x=Ze(r,p);if(!w||t.has(p))return{};const b=l?l[0]:i,_=T=>{a&&b.reportValidity&&(b.setCustomValidity(Ys(T)?"":T||""),b.reportValidity())},S={},k=T4(i),j=qx(i),E=k||j,N=(v||C4(i))&&ln(i.value)&&ln(x)||Ub(i)&&i.value===""||x===""||Array.isArray(x)&&!x.length,O=RJ.bind(null,p,n,S),R=(T,U,z,q=Tl.maxLength,I=Tl.minLength)=>{const L=T?U:z;S[p]={type:T?q:I,message:L,ref:i,...O(T?q:I,L)}};if(s?!Array.isArray(x)||!x.length:c&&(!E&&(N||Qa(x))||Ys(x)&&!x||j&&!LJ(l).isValid||k&&!BJ(l).isValid)){const{value:T,message:U}=Pw(c)?{value:!!c,message:c}:ih(c);if(T&&(S[p]={type:Tl.required,message:U,ref:b,...O(Tl.required,U)},!n))return _(U),S}if(!N&&(!Qa(f)||!Qa(h))){let T,U;const z=ih(h),q=ih(f);if(!Qa(x)&&!isNaN(x)){const I=i.valueAsNumber||x&&+x;Qa(z.value)||(T=I>z.value),Qa(q.value)||(U=I<q.value)}else{const I=i.valueAsDate||new Date(x),L=K=>new Date(new Date().toDateString()+" "+K),M=i.type=="time",D=i.type=="week";al(z.value)&&x&&(T=M?L(x)>L(z.value):D?x>z.value:I>new Date(z.value)),al(q.value)&&x&&(U=M?L(x)<L(q.value):D?x<q.value:I<new Date(q.value))}if((T||U)&&(R(!!T,z.message,q.message,Tl.max,Tl.min),!n))return _(S[p].message),S}if((u||d)&&!N&&(al(x)||s&&Array.isArray(x))){const T=ih(u),U=ih(d),z=!Qa(T.value)&&x.length>+T.value,q=!Qa(U.value)&&x.length<+U.value;if((z||q)&&(R(z,T.message,U.message),!n))return _(S[p].message),S}if(m&&!N&&al(x)){const{value:T,message:U}=ih(m);if(Wb(T)&&!x.match(T)&&(S[p]={type:Tl.pattern,message:U,ref:i,...O(Tl.pattern,U)},!n))return _(U),S}if(g){if(yo(g)){const T=await g(x,r),U=Z5(T,b);if(U&&(S[p]={...U,...O(Tl.validate,U.message)},!n))return _(U.message),S}else if(pn(g)){let T={};for(const U in g){if(!xs(T)&&!n)break;const z=Z5(await g[U](x,r),b,U);z&&(T={...z,...O(U,z.message)},_(z.message),n&&(S[p]=T))}if(!xs(T)&&(S[p]={ref:b,...T},!n))return S}}return _(!0),S};const MKe={mode:xo.onSubmit,reValidateMode:xo.onChange,shouldFocusError:!0};function FKe(e={}){let t={...MKe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:yo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=pn(t.defaultValues)||pn(t.values)?Pn(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Pn(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:z5(),state:z5()},m=t.criteriaMode===xo.all,g=ne=>he=>{clearTimeout(u),u=setTimeout(ne,he)},p=async ne=>{if(!t.disabled&&(d.isValid||f.isValid||ne)){const he=t.resolver?xs((await j()).errors):await N(n,!0);he!==r.isValid&&h.state.next({isValid:he})}},v=(ne,he)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ne||Array.from(l.mount)).forEach(F=>{F&&(he?hr(r.validatingFields,F,he):xn(r.validatingFields,F))}),h.state.next({validatingFields:r.validatingFields,isValidating:!xs(r.validatingFields)}))},w=(ne,he=[],F,le,ve=!0,ye=!0)=>{if(le&&F&&!t.disabled){if(i.action=!0,ye&&Array.isArray(Ze(n,ne))){const $e=F(Ze(n,ne),le.argA,le.argB);ve&&hr(n,ne,$e)}if(ye&&Array.isArray(Ze(r.errors,ne))){const $e=F(Ze(r.errors,ne),le.argA,le.argB);ve&&hr(r.errors,ne,$e),RKe(r.errors,ne)}if((d.touchedFields||f.touchedFields)&&ye&&Array.isArray(Ze(r.touchedFields,ne))){const $e=F(Ze(r.touchedFields,ne),le.argA,le.argB);ve&&hr(r.touchedFields,ne,$e)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=j0(a,s)),h.state.next({name:ne,isDirty:R(ne,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else hr(s,ne,he)},x=(ne,he)=>{hr(r.errors,ne,he),h.state.next({errors:r.errors})},b=ne=>{r.errors=ne,h.state.next({errors:r.errors,isValid:!1})},_=(ne,he,F,le)=>{const ve=Ze(n,ne);if(ve){const ye=Ze(s,ne,ln(F)?Ze(a,ne):F);ln(ye)||le&&le.defaultChecked||he?hr(s,ne,he?ye:K5(ve._f)):z(ne,ye),i.mount&&p()}},S=(ne,he,F,le,ve)=>{let ye=!1,$e=!1;const xe={name:ne};if(!t.disabled){if(!F||le){(d.isDirty||f.isDirty)&&($e=r.isDirty,r.isDirty=xe.isDirty=R(),ye=$e!==xe.isDirty);const be=$l(Ze(a,ne),he);$e=!!Ze(r.dirtyFields,ne),be?xn(r.dirtyFields,ne):hr(r.dirtyFields,ne,!0),xe.dirtyFields=r.dirtyFields,ye=ye||(d.dirtyFields||f.dirtyFields)&&$e!==!be}if(F){const be=Ze(r.touchedFields,ne);be||(hr(r.touchedFields,ne,F),xe.touchedFields=r.touchedFields,ye=ye||(d.touchedFields||f.touchedFields)&&be!==F)}ye&&ve&&h.state.next(xe)}return ye?xe:{}},k=(ne,he,F,le)=>{const ve=Ze(r.errors,ne),ye=(d.isValid||f.isValid)&&Ys(he)&&r.isValid!==he;if(t.delayError&&F?(c=g(()=>x(ne,F)),c(t.delayError)):(clearTimeout(u),c=null,F?hr(r.errors,ne,F):xn(r.errors,ne)),(F?!$l(ve,F):ve)||!xs(le)||ye){const $e={...le,...ye&&Ys(he)?{isValid:he}:{},errors:r.errors,name:ne};r={...r,...$e},h.state.next($e)}},j=async ne=>{v(ne,!0);const he=await t.resolver(s,t.context,CKe(ne||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(ne),he},E=async ne=>{const{errors:he}=await j(ne);if(ne)for(const F of ne){const le=Ze(he,F);le?hr(r.errors,F,le):xn(r.errors,F)}else r.errors=he;return he},N=async(ne,he,F={valid:!0})=>{for(const le in ne){const ve=ne[le];if(ve){const{_f:ye,...$e}=ve;if(ye){const xe=l.array.has(ye.name),be=ve._f&&TKe(ve._f);be&&d.validatingFields&&v([le],!0);const ue=await e8(ve,l.disabled,s,m,t.shouldUseNativeValidation&&!he,xe);if(be&&d.validatingFields&&v([le]),ue[ye.name]&&(F.valid=!1,he))break;!he&&(Ze(ue,ye.name)?xe?IKe(r.errors,ue,ye.name):hr(r.errors,ye.name,ue[ye.name]):xn(r.errors,ye.name))}!xs($e)&&await N($e,he,F)}}return F.valid},O=()=>{for(const ne of l.unMount){const he=Ze(n,ne);he&&(he._f.refs?he._f.refs.every(F=>!f2(F)):!f2(he._f.ref))&&se(ne)}l.unMount=new Set},R=(ne,he)=>!t.disabled&&(ne&&he&&hr(s,ne,he),!$l(K(),a)),T=(ne,he,F)=>DJ(ne,l,{...i.mount?s:ln(he)?a:al(ne)?{[ne]:he}:he},F,he),U=ne=>j4(Ze(i.mount?s:a,ne,t.shouldUnregister?Ze(a,ne,[]):[])),z=(ne,he,F={})=>{const le=Ze(n,ne);let ve=he;if(le){const ye=le._f;ye&&(!ye.disabled&&hr(s,ne,$J(he,ye)),ve=Ub(ye.ref)&&Qa(he)?"":he,IJ(ye.ref)?[...ye.ref.options].forEach($e=>$e.selected=ve.includes($e.value)):ye.refs?qx(ye.ref)?ye.refs.forEach($e=>{(!$e.defaultChecked||!$e.disabled)&&(Array.isArray(ve)?$e.checked=!!ve.find(xe=>xe===$e.value):$e.checked=ve===$e.value||!!ve)}):ye.refs.forEach($e=>$e.checked=$e.value===ve):C4(ye.ref)?ye.ref.value="":(ye.ref.value=ve,ye.ref.type||h.state.next({name:ne,values:Pn(s)})))}(F.shouldDirty||F.shouldTouch)&&S(ne,ve,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&D(ne)},q=(ne,he,F)=>{for(const le in he){if(!he.hasOwnProperty(le))return;const ve=he[le],ye=ne+"."+le,$e=Ze(n,ye);(l.array.has(ne)||pn(ve)||$e&&!$e._f)&&!Dd(ve)?q(ye,ve,F):z(ye,ve,F)}},I=(ne,he,F={})=>{const le=Ze(n,ne),ve=l.array.has(ne),ye=Pn(he);hr(s,ne,ye),ve?(h.array.next({name:ne,values:Pn(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&h.state.next({name:ne,dirtyFields:j0(a,s),isDirty:R(ne,ye)})):le&&!le._f&&!Qa(ye)?q(ne,ye,F):z(ne,ye,F),J5(ne,l)&&h.state.next({...r,name:ne}),h.state.next({name:i.mount?ne:void 0,values:Pn(s)})},L=async ne=>{i.mount=!0;const he=ne.target;let F=he.name,le=!0;const ve=Ze(n,F),ye=be=>{le=Number.isNaN(be)||Dd(be)&&isNaN(be.getTime())||$l(be,Ze(s,F,be))},$e=Y5(t.mode),xe=Y5(t.reValidateMode);if(ve){let be,ue;const Ae=he.type?K5(ve._f):AJ(ne),Fe=ne.type===Bb.BLUR||ne.type===Bb.FOCUS_OUT,Re=!AKe(ve._f)&&!t.resolver&&!Ze(r.errors,F)&&!ve._f.deps||DKe(Fe,Ze(r.touchedFields,F),r.isSubmitted,xe,$e),Ke=J5(F,l,Fe);hr(s,F,Ae),Fe?(ve._f.onBlur&&ve._f.onBlur(ne),c&&c(0)):ve._f.onChange&&ve._f.onChange(ne);const kt=S(F,Ae,Fe),Jt=!xs(kt)||Ke;if(!Fe&&h.state.next({name:F,type:ne.type,values:Pn(s)}),Re)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Fe&&p():Fe||p()),Jt&&h.state.next({name:F,...Ke?{}:kt});if(!Fe&&Ke&&h.state.next({...r}),t.resolver){const{errors:Pr}=await j([F]);if(ye(Ae),le){const gn=Q5(r.errors,n,F),zr=Q5(Pr,n,gn.name||F);be=zr.error,F=zr.name,ue=xs(Pr)}}else v([F],!0),be=(await e8(ve,l.disabled,s,m,t.shouldUseNativeValidation))[F],v([F]),ye(Ae),le&&(be?ue=!1:(d.isValid||f.isValid)&&(ue=await N(n,!0)));le&&(ve._f.deps&&D(ve._f.deps),k(F,ue,be,kt))}},M=(ne,he)=>{if(Ze(r.errors,he)&&ne.focus)return ne.focus(),1},D=async(ne,he={})=>{let F,le;const ve=bg(ne);if(t.resolver){const ye=await E(ln(ne)?ne:ve);F=xs(ye),le=ne?!ve.some($e=>Ze(ye,$e)):F}else ne?(le=(await Promise.all(ve.map(async ye=>{const $e=Ze(n,ye);return await N($e&&$e._f?{[ye]:$e}:$e)}))).every(Boolean),!(!le&&!r.isValid)&&p()):le=F=await N(n);return h.state.next({...!al(ne)||(d.isValid||f.isValid)&&F!==r.isValid?{}:{name:ne},...t.resolver||!ne?{isValid:F}:{},errors:r.errors}),he.shouldFocus&&!le&&_g(n,M,ne?ve:l.mount),le},K=ne=>{const he={...i.mount?s:a};return ln(ne)?he:al(ne)?Ze(he,ne):ne.map(F=>Ze(he,F))},Z=(ne,he)=>({invalid:!!Ze((he||r).errors,ne),isDirty:!!Ze((he||r).dirtyFields,ne),error:Ze((he||r).errors,ne),isValidating:!!Ze(r.validatingFields,ne),isTouched:!!Ze((he||r).touchedFields,ne)}),C=ne=>{ne&&bg(ne).forEach(he=>xn(r.errors,he)),h.state.next({errors:ne?r.errors:{}})},Y=(ne,he,F)=>{const le=(Ze(n,ne,{_f:{}})._f||{}).ref,ve=Ze(r.errors,ne)||{},{ref:ye,message:$e,type:xe,...be}=ve;hr(r.errors,ne,{...be,...he,ref:le}),h.state.next({name:ne,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&le&&le.focus&&le.focus()},B=(ne,he)=>yo(ne)?h.state.subscribe({next:F=>"values"in F&&ne(T(void 0,he),F)}):T(ne,he,!0),G=ne=>h.state.subscribe({next:he=>{PKe(ne.name,he.name,ne.exact)&&OKe(he,ne.formState||d,Pe,ne.reRenderRoot)&&ne.callback({values:{...s},...r,...he,defaultValues:a})}}).unsubscribe,re=ne=>(i.mount=!0,f={...f,...ne.formState},G({...ne,formState:f})),se=(ne,he={})=>{for(const F of ne?bg(ne):l.mount)l.mount.delete(F),l.array.delete(F),he.keepValue||(xn(n,F),xn(s,F)),!he.keepError&&xn(r.errors,F),!he.keepDirty&&xn(r.dirtyFields,F),!he.keepTouched&&xn(r.touchedFields,F),!he.keepIsValidating&&xn(r.validatingFields,F),!t.shouldUnregister&&!he.keepDefaultValue&&xn(a,F);h.state.next({values:Pn(s)}),h.state.next({...r,...he.keepDirty?{isDirty:R()}:{}}),!he.keepIsValid&&p()},ce=({disabled:ne,name:he})=>{(Ys(ne)&&i.mount||ne||l.disabled.has(he))&&(ne?l.disabled.add(he):l.disabled.delete(he))},ae=(ne,he={})=>{let F=Ze(n,ne);const le=Ys(he.disabled)||Ys(t.disabled);return hr(n,ne,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:ne}},name:ne,mount:!0,...he}}),l.mount.add(ne),F?ce({disabled:Ys(he.disabled)?he.disabled:t.disabled,name:ne}):_(ne,!0,he.value),{...le?{disabled:he.disabled||t.disabled}:{},...t.progressive?{required:!!he.required,min:k0(he.min),max:k0(he.max),minLength:k0(he.minLength),maxLength:k0(he.maxLength),pattern:k0(he.pattern)}:{},name:ne,onChange:L,onBlur:L,ref:ve=>{if(ve){ae(ne,he),F=Ze(n,ne);const ye=ln(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,$e=kKe(ye),xe=F._f.refs||[];if($e?xe.find(be=>be===ye):ye===F._f.ref)return;hr(n,ne,{_f:{...F._f,...$e?{refs:[...xe.filter(f2),ye,...Array.isArray(Ze(a,ne))?[{}]:[]],ref:{type:ye.type,name:ne}}:{ref:ye}}}),_(ne,!1,void 0,ye)}else F=Ze(n,ne,{}),F._f&&(F._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(OJ(l.array,ne)&&i.action)&&l.unMount.add(ne)}}},J=()=>t.shouldFocusError&&_g(n,M,l.mount),me=ne=>{Ys(ne)&&(h.state.next({disabled:ne}),_g(n,(he,F)=>{const le=Ze(n,F);le&&(he.disabled=le._f.disabled||ne,Array.isArray(le._f.refs)&&le._f.refs.forEach(ve=>{ve.disabled=le._f.disabled||ne}))},0,!1))},A=(ne,he)=>async F=>{let le;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let ve=Pn(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ye,values:$e}=await j();r.errors=ye,ve=Pn($e)}else await N(n);if(l.disabled.size)for(const ye of l.disabled)xn(ve,ye);if(xn(r.errors,"root"),xs(r.errors)){h.state.next({errors:{}});try{await ne(ve,F)}catch(ye){le=ye}}else he&&await he({...r.errors},F),J(),setTimeout(J);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xs(r.errors)&&!le,submitCount:r.submitCount+1,errors:r.errors}),le)throw le},Le=(ne,he={})=>{Ze(n,ne)&&(ln(he.defaultValue)?I(ne,Pn(Ze(a,ne))):(I(ne,he.defaultValue),hr(a,ne,Pn(he.defaultValue))),he.keepTouched||xn(r.touchedFields,ne),he.keepDirty||(xn(r.dirtyFields,ne),r.isDirty=he.defaultValue?R(ne,Pn(Ze(a,ne))):R()),he.keepError||(xn(r.errors,ne),d.isValid&&p()),h.state.next({...r}))},Ie=(ne,he={})=>{const F=ne?Pn(ne):a,le=Pn(F),ve=xs(ne),ye=ve?a:le;if(he.keepDefaultValues||(a=F),!he.keepValues){if(he.keepDirtyValues){const $e=new Set([...l.mount,...Object.keys(j0(a,s))]);for(const xe of Array.from($e))Ze(r.dirtyFields,xe)?hr(ye,xe,Ze(s,xe)):I(xe,Ze(ye,xe))}else{if(S4&&ln(ne))for(const $e of l.mount){const xe=Ze(n,$e);if(xe&&xe._f){const be=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(Ub(be)){const ue=be.closest("form");if(ue){ue.reset();break}}}}if(he.keepFieldsRef)for(const $e of l.mount)I($e,Ze(ye,$e));else n={}}s=t.shouldUnregister?he.keepDefaultValues?Pn(a):{}:Pn(ye),h.array.next({values:{...ye}}),h.state.next({values:{...ye}})}l={mount:he.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!he.keepIsValid||!!he.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:ve?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!$l(ne,a)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ve?{}:he.keepDirtyValues?he.keepDefaultValues&&s?j0(a,s):r.dirtyFields:he.keepDefaultValues&&ne?j0(a,ne):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ve=(ne,he)=>Ie(yo(ne)?ne(s):ne,he),We=(ne,he={})=>{const F=Ze(n,ne),le=F&&F._f;if(le){const ve=le.refs?le.refs[0]:le.ref;ve.focus&&(ve.focus(),he.shouldSelect&&yo(ve.select)&&ve.select())}},Pe=ne=>{r={...r,...ne}},_t={control:{register:ae,unregister:se,getFieldState:Z,handleSubmit:A,setError:Y,_subscribe:G,_runSchema:j,_focusError:J,_getWatch:T,_getDirty:R,_setValid:p,_setFieldArray:w,_setDisabledField:ce,_setErrors:b,_getFieldArray:U,_reset:Ie,_resetDefaultValues:()=>yo(t.defaultValues)&&t.defaultValues().then(ne=>{Ve(ne,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:me,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(ne){i=ne},get _defaultValues(){return a},get _names(){return l},set _names(ne){l=ne},get _formState(){return r},get _options(){return t},set _options(ne){t={...t,...ne}}},subscribe:re,trigger:D,register:ae,handleSubmit:A,watch:B,setValue:I,getValues:K,reset:Ve,resetField:Le,clearErrors:C,unregister:se,setError:Y,setFocus:We,getFieldState:Z};return{..._t,formControl:_t}}function LKe(e={}){const t=te.useRef(void 0),r=te.useRef(void 0),[n,a]=te.useState({isDirty:!1,isValidating:!1,isLoading:yo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:yo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!yo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=FKe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,E4(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,i},[s]),te.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),te.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),te.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),te.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),te.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),te.useEffect(()=>{e.values&&!$l(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(i=>({...i}))):s._resetDefaultValues()},[s,e.values]),te.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=PJ(n,s),t.current}const t8=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ze(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},UJ=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?t8(n.ref,r,e):n.refs&&n.refs.forEach(a=>t8(a,r,e))}},$Ke=(e,t)=>{t.shouldUseNativeValidation&&UJ(e,t);const r={};for(const n in e){const a=Ze(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(BKe(t.names||Object.keys(e),n)){const i=Object.assign({},Ze(r,n));hr(i,"root",s),hr(r,n,i)}else hr(r,n,s)}return r},BKe=(e,t)=>e.some(r=>r.startsWith(t+"."));var UKe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=RJ(i,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},VKe=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&UJ({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:$Ke(UKe(i.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}}},ar;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),i={};for(const l of s)i[l]=a[l];return e.objectValues(i)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},e.find=(a,s)=>{for(const i of a)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(ar||(ar={}));var r8;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(r8||(r8={}));const ut=ar.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bc=e=>{switch(typeof e){case"undefined":return ut.undefined;case"string":return ut.string;case"number":return Number.isNaN(e)?ut.nan:ut.number;case"boolean":return ut.boolean;case"function":return ut.function;case"bigint":return ut.bigint;case"symbol":return ut.symbol;case"object":return Array.isArray(e)?ut.array:e===null?ut.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ut.promise:typeof Map<"u"&&e instanceof Map?ut.map:typeof Set<"u"&&e instanceof Set?ut.set:typeof Date<"u"&&e instanceof Date?ut.date:ut.object;default:return ut.unknown}},Ye=ar.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof hc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ar.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}hc.create=e=>new hc(e);const nT=(e,t)=>{let r;switch(e.code){case Ye.invalid_type:e.received===ut.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ar.jsonStringifyReplacer)}`;break;case Ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${ar.joinValues(e.keys,", ")}`;break;case Ye.invalid_union:r="Invalid input";break;case Ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ar.joinValues(e.options)}`;break;case Ye.invalid_enum_value:r=`Invalid enum value. Expected ${ar.joinValues(e.options)}, received '${e.received}'`;break;case Ye.invalid_arguments:r="Invalid function arguments";break;case Ye.invalid_return_type:r="Invalid function return type";break;case Ye.invalid_date:r="Invalid date";break;case Ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ar.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ye.custom:r="Invalid input";break;case Ye.invalid_intersection_types:r="Intersection results could not be merged";break;case Ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,ar.assertNever(e)}return{message:r}};let WKe=nT;function zKe(){return WKe}const HKe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],i={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function at(e,t){const r=zKe(),n=HKe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===nT?void 0:nT].filter(a=>!!a)});e.common.issues.push(n)}class mi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Mt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,i=await a.value;n.push({key:s,value:i})}return mi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return Mt;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(n[s.value]=i.value)}return{status:t.value,value:n}}}const Mt=Object.freeze({status:"aborted"}),B0=e=>({status:"dirty",value:e}),Gi=e=>({status:"valid",value:e}),n8=e=>e.status==="aborted",a8=e=>e.status==="dirty",up=e=>e.status==="valid",zb=e=>typeof Promise<"u"&&e instanceof Promise;var ht;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ht||(ht={}));class $u{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const s8=(e,t)=>{if(up(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new hc(e.common.issues);return this._error=r,this._error}}};function qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class nr{get description(){return this._def.description}_getType(t){return Bc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Bc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new mi,ctx:{common:t.parent.common,data:t.data,parsedType:Bc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(zb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)},a=this._parseSync({data:t,path:n.path,parent:n});return s8(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return up(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>up(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bc(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(zb(a)?a:Promise.resolve(a));return s8(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const i=t(a),l=()=>s.addIssue({code:Ye.custom,...n(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new hp({schema:this,typeName:Ft.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ku.create(this,this._def)}nullable(){return mp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fl.create(this)}promise(){return Kb.create(this,this._def)}or(t){return qb.create([this,t],this._def)}and(t){return Gb.create(this,t,this._def)}transform(t){return new hp({...qt(this._def),schema:this,typeName:Ft.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new sT({...qt(this._def),innerType:this,defaultValue:r,typeName:Ft.ZodDefault})}brand(){return new mYe({typeName:Ft.ZodBranded,type:this,...qt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new iT({...qt(this._def),innerType:this,catchValue:r,typeName:Ft.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return A4.create(this,t)}readonly(){return oT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qKe=/^c[^\s-]{8,}$/i,GKe=/^[0-9a-z]+$/,KKe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,YKe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,XKe=/^[a-z0-9_-]{21}$/i,JKe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,QKe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ZKe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eYe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let h2;const tYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sYe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iYe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,VJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oYe=new RegExp(`^${VJ}$`);function WJ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function lYe(e){return new RegExp(`^${WJ(e)}$`)}function cYe(e){let t=`${VJ}T${WJ(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function uYe(e,t){return!!((t==="v4"||!t)&&tYe.test(e)||(t==="v6"||!t)&&nYe.test(e))}function dYe(e,t){if(!JKe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function fYe(e,t){return!!((t==="v4"||!t)&&rYe.test(e)||(t==="v6"||!t)&&aYe.test(e))}class uu extends nr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ut.string){const s=this._getOrReturnCtx(t);return at(s,{code:Ye.invalid_type,expected:ut.string,received:s.parsedType}),Mt}const n=new mi;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,l=t.data.length<s.value;(i||l)&&(a=this._getOrReturnCtx(t,a),i?at(a,{code:Ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&at(a,{code:Ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")ZKe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"email",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")h2||(h2=new RegExp(eYe,"u")),h2.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"emoji",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")YKe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"uuid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")XKe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"nanoid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")qKe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"cuid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")GKe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"cuid2",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")KKe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"ulid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),at(a,{validation:"url",code:Ye.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"regex",code:Ye.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?cYe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?oYe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?lYe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?QKe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"duration",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?uYe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"ip",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?dYe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"jwt",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?fYe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"cidr",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?sYe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"base64",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?iYe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"base64url",code:Ye.invalid_string,message:s.message}),n.dirty()):ar.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ye.invalid_string,...ht.errToObj(n)})}_addCheck(t){return new uu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ht.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ht.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ht.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ht.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ht.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ht.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ht.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ht.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ht.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ht.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ht.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ht.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ht.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ht.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ht.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ht.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ht.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ht.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ht.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ht.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ht.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ht.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ht.errToObj(r)})}nonempty(t){return this.min(1,ht.errToObj(t))}trim(){return new uu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new uu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new uu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}uu.create=e=>new uu({checks:[],typeName:Ft.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...qt(e)});function hYe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),i=Number.parseInt(t.toFixed(a).replace(".",""));return s%i/10**a}class dp extends nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ut.number){const s=this._getOrReturnCtx(t);return at(s,{code:Ye.invalid_type,expected:ut.number,received:s.parsedType}),Mt}let n;const a=new mi;for(const s of this._def.checks)s.kind==="int"?ar.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?hYe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.not_finite,message:s.message}),a.dirty()):ar.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ht.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ht.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ht.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ht.toString(r))}setLimit(t,r,n,a){return new dp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ht.toString(a)}]})}_addCheck(t){return new dp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ht.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ht.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ht.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ht.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ht.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ht.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ar.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}dp.create=e=>new dp({checks:[],typeName:Ft.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class Wv extends nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ut.bigint)return this._getInvalidInput(t);let n;const a=new mi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):ar.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return at(r,{code:Ye.invalid_type,expected:ut.bigint,received:r.parsedType}),Mt}gte(t,r){return this.setLimit("min",t,!0,ht.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ht.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ht.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ht.toString(r))}setLimit(t,r,n,a){return new Wv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ht.toString(a)}]})}_addCheck(t){return new Wv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ht.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ht.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ht.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ht.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ht.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Wv.create=e=>new Wv({checks:[],typeName:Ft.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...qt(e)});class i8 extends nr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ut.boolean){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ut.boolean,received:n.parsedType}),Mt}return Gi(t.data)}}i8.create=e=>new i8({typeName:Ft.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class Hb extends nr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ut.date){const s=this._getOrReturnCtx(t);return at(s,{code:Ye.invalid_type,expected:ut.date,received:s.parsedType}),Mt}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return at(s,{code:Ye.invalid_date}),Mt}const n=new mi;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):ar.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Hb({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ht.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ht.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Hb.create=e=>new Hb({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ft.ZodDate,...qt(e)});class o8 extends nr{_parse(t){if(this._getType(t)!==ut.symbol){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ut.symbol,received:n.parsedType}),Mt}return Gi(t.data)}}o8.create=e=>new o8({typeName:Ft.ZodSymbol,...qt(e)});class l8 extends nr{_parse(t){if(this._getType(t)!==ut.undefined){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ut.undefined,received:n.parsedType}),Mt}return Gi(t.data)}}l8.create=e=>new l8({typeName:Ft.ZodUndefined,...qt(e)});class c8 extends nr{_parse(t){if(this._getType(t)!==ut.null){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ut.null,received:n.parsedType}),Mt}return Gi(t.data)}}c8.create=e=>new c8({typeName:Ft.ZodNull,...qt(e)});class u8 extends nr{constructor(){super(...arguments),this._any=!0}_parse(t){return Gi(t.data)}}u8.create=e=>new u8({typeName:Ft.ZodAny,...qt(e)});class d8 extends nr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Gi(t.data)}}d8.create=e=>new d8({typeName:Ft.ZodUnknown,...qt(e)});class Bu extends nr{_parse(t){const r=this._getOrReturnCtx(t);return at(r,{code:Ye.invalid_type,expected:ut.never,received:r.parsedType}),Mt}}Bu.create=e=>new Bu({typeName:Ft.ZodNever,...qt(e)});class f8 extends nr{_parse(t){if(this._getType(t)!==ut.undefined){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ut.void,received:n.parsedType}),Mt}return Gi(t.data)}}f8.create=e=>new f8({typeName:Ft.ZodVoid,...qt(e)});class fl extends nr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ut.array)return at(r,{code:Ye.invalid_type,expected:ut.array,received:r.parsedType}),Mt;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(i||l)&&(at(r,{code:i?Ye.too_big:Ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(at(r,{code:Ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(at(r,{code:Ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>a.type._parseAsync(new $u(r,i,r.path,l)))).then(i=>mi.mergeArray(n,i));const s=[...r.data].map((i,l)=>a.type._parseSync(new $u(r,i,r.path,l)));return mi.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new fl({...this._def,minLength:{value:t,message:ht.toString(r)}})}max(t,r){return new fl({...this._def,maxLength:{value:t,message:ht.toString(r)}})}length(t,r){return new fl({...this._def,exactLength:{value:t,message:ht.toString(r)}})}nonempty(t){return this.min(1,t)}}fl.create=(e,t)=>new fl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ft.ZodArray,...qt(t)});function hh(e){if(e instanceof Zr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ku.create(hh(n))}return new Zr({...e._def,shape:()=>t})}else return e instanceof fl?new fl({...e._def,type:hh(e.element)}):e instanceof ku?ku.create(hh(e.unwrap())):e instanceof mp?mp.create(hh(e.unwrap())):e instanceof Nf?Nf.create(e.items.map(t=>hh(t))):e}class Zr extends nr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ar.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ut.object){const u=this._getOrReturnCtx(t);return at(u,{code:Ye.invalid_type,expected:ut.object,received:u.parsedType}),Mt}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Bu&&this._def.unknownKeys==="strip"))for(const u in a.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new $u(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Bu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(at(a,{code:Ye.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new $u(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>mi.mergeObjectSync(n,u)):mi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ht.errToObj,new Zr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i;const a=((i=(s=this._def).errorMap)==null?void 0:i.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ht.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Zr({...this._def,unknownKeys:"strip"})}passthrough(){return new Zr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Zr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Zr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ft.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Zr({...this._def,catchall:t})}pick(t){const r={};for(const n of ar.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Zr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ar.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Zr({...this._def,shape:()=>r})}deepPartial(){return hh(this)}partial(t){const r={};for(const n of ar.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Zr({...this._def,shape:()=>r})}required(t){const r={};for(const n of ar.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ku;)s=s._def.innerType;r[n]=s}return new Zr({...this._def,shape:()=>r})}keyof(){return zJ(ar.objectKeys(this.shape))}}Zr.create=(e,t)=>new Zr({shape:()=>e,unknownKeys:"strip",catchall:Bu.create(),typeName:Ft.ZodObject,...qt(t)});Zr.strictCreate=(e,t)=>new Zr({shape:()=>e,unknownKeys:"strict",catchall:Bu.create(),typeName:Ft.ZodObject,...qt(t)});Zr.lazycreate=(e,t)=>new Zr({shape:e,unknownKeys:"strip",catchall:Bu.create(),typeName:Ft.ZodObject,...qt(t)});class qb extends nr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=s.map(l=>new hc(l.ctx.common.issues));return at(r,{code:Ye.invalid_union,unionErrors:i}),Mt}if(r.common.async)return Promise.all(n.map(async s=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(a);{let s;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=i.map(c=>new hc(c));return at(r,{code:Ye.invalid_union,unionErrors:l}),Mt}}get options(){return this._def.options}}qb.create=(e,t)=>new qb({options:e,typeName:Ft.ZodUnion,...qt(t)});function aT(e,t){const r=Bc(e),n=Bc(t);if(e===t)return{valid:!0,data:e};if(r===ut.object&&n===ut.object){const a=ar.objectKeys(t),s=ar.objectKeys(e).filter(l=>a.indexOf(l)!==-1),i={...e,...t};for(const l of s){const c=aT(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===ut.array&&n===ut.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const i=e[s],l=t[s],c=aT(i,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ut.date&&n===ut.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gb extends nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,i)=>{if(n8(s)||n8(i))return Mt;const l=aT(s.value,i.value);return l.valid?((a8(s)||a8(i))&&r.dirty(),{status:r.value,value:l.data}):(at(n,{code:Ye.invalid_intersection_types}),Mt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Gb.create=(e,t,r)=>new Gb({left:e,right:t,typeName:Ft.ZodIntersection,...qt(r)});class Nf extends nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.array)return at(n,{code:Ye.invalid_type,expected:ut.array,received:n.parsedType}),Mt;if(n.data.length<this._def.items.length)return at(n,{code:Ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mt;!this._def.rest&&n.data.length>this._def.items.length&&(at(n,{code:Ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new $u(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>mi.mergeArray(r,i)):mi.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Nf({...this._def,rest:t})}}Nf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Nf({items:e,typeName:Ft.ZodTuple,rest:null,...qt(t)})};class h8 extends nr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.map)return at(n,{code:Ye.invalid_type,expected:ut.map,received:n.parsedType}),Mt;const a=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new $u(n,l,n.path,[u,"key"])),value:s._parse(new $u(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}h8.create=(e,t,r)=>new h8({valueType:t,keyType:e,typeName:Ft.ZodMap,...qt(r)});class zv extends nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ut.set)return at(n,{code:Ye.invalid_type,expected:ut.set,received:n.parsedType}),Mt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(at(n,{code:Ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(at(n,{code:Ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Mt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new $u(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new zv({...this._def,minSize:{value:t,message:ht.toString(r)}})}max(t,r){return new zv({...this._def,maxSize:{value:t,message:ht.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}zv.create=(e,t)=>new zv({valueType:e,minSize:null,maxSize:null,typeName:Ft.ZodSet,...qt(t)});class m8 extends nr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}m8.create=(e,t)=>new m8({getter:e,typeName:Ft.ZodLazy,...qt(t)});class p8 extends nr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return at(r,{received:r.data,code:Ye.invalid_literal,expected:this._def.value}),Mt}return{status:"valid",value:t.data}}get value(){return this._def.value}}p8.create=(e,t)=>new p8({value:e,typeName:Ft.ZodLiteral,...qt(t)});function zJ(e,t){return new fp({values:e,typeName:Ft.ZodEnum,...qt(t)})}class fp extends nr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return at(r,{expected:ar.joinValues(n),received:r.parsedType,code:Ye.invalid_type}),Mt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return at(r,{received:r.data,code:Ye.invalid_enum_value,options:n}),Mt}return Gi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return fp.create(t,{...this._def,...r})}exclude(t,r=this._def){return fp.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}fp.create=zJ;class g8 extends nr{_parse(t){const r=ar.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ut.string&&n.parsedType!==ut.number){const a=ar.objectValues(r);return at(n,{expected:ar.joinValues(a),received:n.parsedType,code:Ye.invalid_type}),Mt}if(this._cache||(this._cache=new Set(ar.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=ar.objectValues(r);return at(n,{received:n.data,code:Ye.invalid_enum_value,options:a}),Mt}return Gi(t.data)}get enum(){return this._def.values}}g8.create=(e,t)=>new g8({values:e,typeName:Ft.ZodNativeEnum,...qt(t)});class Kb extends nr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.promise&&r.common.async===!1)return at(r,{code:Ye.invalid_type,expected:ut.promise,received:r.parsedType}),Mt;const n=r.parsedType===ut.promise?r.data:Promise.resolve(r.data);return Gi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Kb.create=(e,t)=>new Kb({type:e,typeName:Ft.ZodPromise,...qt(t)});class hp extends nr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ft.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:i=>{at(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const i=a.transform(n.data,s);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return Mt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Mt:c.status==="dirty"||r.value==="dirty"?B0(c.value):c});{if(r.value==="aborted")return Mt;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?Mt:l.status==="dirty"||r.value==="dirty"?B0(l.value):l}}if(a.type==="refinement"){const i=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Mt:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Mt:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!up(i))return Mt;const l=a.transform(i.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>up(i)?Promise.resolve(a.transform(i.value,s)).then(l=>({status:r.value,value:l})):Mt);ar.assertNever(a)}}hp.create=(e,t,r)=>new hp({schema:e,typeName:Ft.ZodEffects,effect:t,...qt(r)});hp.createWithPreprocess=(e,t,r)=>new hp({schema:t,effect:{type:"preprocess",transform:e},typeName:Ft.ZodEffects,...qt(r)});class ku extends nr{_parse(t){return this._getType(t)===ut.undefined?Gi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ku.create=(e,t)=>new ku({innerType:e,typeName:Ft.ZodOptional,...qt(t)});class mp extends nr{_parse(t){return this._getType(t)===ut.null?Gi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}mp.create=(e,t)=>new mp({innerType:e,typeName:Ft.ZodNullable,...qt(t)});class sT extends nr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ut.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}sT.create=(e,t)=>new sT({innerType:e,typeName:Ft.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qt(t)});class iT extends nr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return zb(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}iT.create=(e,t)=>new iT({innerType:e,typeName:Ft.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qt(t)});class v8 extends nr{_parse(t){if(this._getType(t)!==ut.nan){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ut.nan,received:n.parsedType}),Mt}return{status:"valid",value:t.data}}}v8.create=e=>new v8({typeName:Ft.ZodNaN,...qt(e)});class mYe extends nr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class A4 extends nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Mt:s.status==="dirty"?(r.dirty(),B0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Mt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new A4({in:t,out:r,typeName:Ft.ZodPipeline})}}class oT extends nr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(up(a)&&(a.value=Object.freeze(a.value)),a);return zb(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}oT.create=(e,t)=>new oT({innerType:e,typeName:Ft.ZodReadonly,...qt(t)});Zr.lazycreate;var Ft;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ft||(Ft={}));const iw=uu.create,pYe=dp.create;Bu.create;fl.create;const gYe=Zr.create;Zr.strictCreate;qb.create;Gb.create;Nf.create;fp.create;Kb.create;ku.create;mp.create;const vYe=wKe,HJ=y.createContext({}),N0=({...e})=>o.jsx(HJ.Provider,{value:{name:e.name},children:o.jsx(jKe,{...e})}),tj=()=>{const e=y.useContext(HJ),t=y.useContext(qJ),{getFieldState:r,formState:n}=ej(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},qJ=y.createContext({}),mh=y.forwardRef(({className:e,...t},r)=>{const n=y.useId();return o.jsx(qJ.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:Se("space-y-2",e),...t})})});mh.displayName="FormItem";const ph=y.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=tj();return o.jsx(Ge,{ref:r,className:Se(n&&"text-destructive",e),htmlFor:a,...t})});ph.displayName="FormLabel";const gh=y.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=tj();return o.jsx(E9,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});gh.displayName="FormControl";const xYe=y.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=tj();return o.jsx("p",{ref:r,id:n,className:Se("text-sm text-muted-foreground",e),...t})});xYe.displayName="FormDescription";const vh=y.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=tj(),i=a?String(a==null?void 0:a.message):t;return i?o.jsx("p",{ref:n,id:s,className:Se("text-sm font-medium text-destructive",e),...r,children:i}):null});vh.displayName="FormMessage";const yYe=gYe({request_title:iw().min(1,"Title is required"),request_description:iw().optional(),request_type:iw().optional(),priority:pYe().optional(),status:iw().optional()});function wYe({open:e,onOpenChange:t,onSubmit:r,initialData:n}){const{t:a}=zt(),{user:s}=yr(),i=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="manager",l=LKe({resolver:VKe(yYe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});y.useEffect(()=>{n?l.reset({request_title:n.request_title,request_description:n.request_description||"",request_type:n.request_type||"internal_task",priority:n.priority||1,status:n.status||"pending"}):l.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[n,l,e]);const c=async u=>{await r(u),t(!1),l.reset()};return o.jsx(ic,{open:e,onOpenChange:t,children:o.jsxs(ml,{side:Lr()?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[o.jsx(Pu,{children:o.jsx(oc,{children:a(n?"requests.editRequest":"requests.createRequest")})}),o.jsx("div",{className:"py-4",children:o.jsx(vYe,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[o.jsx(N0,{control:l.control,name:"request_title",render:({field:u})=>o.jsxs(mh,{children:[o.jsx(ph,{children:a("requests.title")}),o.jsx(gh,{children:o.jsx(ze,{placeholder:a("requests.titlePlaceholder"),...u})}),o.jsx(vh,{})]})}),o.jsx(N0,{control:l.control,name:"request_description",render:({field:u})=>o.jsxs(mh,{children:[o.jsx(ph,{children:a("requests.description")}),o.jsx(gh,{children:o.jsx(ua,{placeholder:a("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...u})}),o.jsx(vh,{})]})}),i&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(N0,{control:l.control,name:"request_type",render:({field:u})=>o.jsxs(mh,{children:[o.jsx(ph,{children:a("requests.type")}),o.jsxs(xt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[o.jsx(gh,{children:o.jsx(gt,{children:o.jsx(yt,{placeholder:"Select type"})})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"internal_task",children:a("requests.types.internalTask")}),o.jsx(Ce,{value:"support",children:a("requests.types.support")}),o.jsx(Ce,{value:"feature",children:a("requests.types.feature")})]})]}),o.jsx(vh,{})]})}),o.jsx(N0,{control:l.control,name:"priority",render:({field:u})=>{var d,f;return o.jsxs(mh,{children:[o.jsx(ph,{children:a("requests.priority")}),o.jsxs(xt,{onValueChange:h=>u.onChange(parseInt(h)),defaultValue:(d=u.value)==null?void 0:d.toString(),value:(f=u.value)==null?void 0:f.toString(),children:[o.jsx(gh,{children:o.jsx(gt,{children:o.jsx(yt,{placeholder:"Select priority"})})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"0",children:a("requests.priorities.low")}),o.jsx(Ce,{value:"1",children:a("requests.priorities.medium")}),o.jsx(Ce,{value:"2",children:a("requests.priorities.high")})]})]}),o.jsx(vh,{})]})}})]}),o.jsx(N0,{control:l.control,name:"status",render:({field:u})=>o.jsxs(mh,{children:[o.jsx(ph,{children:a("requests.status")}),o.jsxs(xt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[o.jsx(gh,{children:o.jsx(gt,{children:o.jsx(yt,{placeholder:"Select status"})})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"pending",children:a("status.pending")}),o.jsx(Ce,{value:"in_progress",children:a("status.in_progress")}),o.jsx(Ce,{value:"completed",children:a("status.completed")}),o.jsx(Ce,{value:"approved",children:a("status.approved")}),o.jsx(Ce,{value:"rejected",children:a("status.rejected")})]})]}),o.jsx(vh,{})]})})]}),o.jsx("div",{className:"flex justify-end pt-4 gap-2",children:o.jsx(oe,{type:"submit",children:a(n?"common.save":"common.create")})})]})})})]})})}function bYe(){const{t:e}=zt(),{toast:t}=Xu(),{user:r}=yr(),[n,a]=y.useState([]),[s,i]=y.useState(!0),[l,c]=y.useState(""),[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,g]=y.useState(null),[p,v]=y.useState("all"),[w,x]=y.useState("all"),b=async()=>{try{i(!0);const T=await sw.getRequests();a(T)}catch(T){console.error("Failed to fetch requests:",T),t({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{i(!1)}};y.useEffect(()=>{b()},[]);const _=()=>{h(null),d(!0)},S=T=>{h(T),d(!0)},k=async()=>{if(m)try{await sw.deleteRequest(m),t({title:e("common.success"),description:e("requests.deleteSuccess")}),b()}catch(T){console.error("Failed to delete request:",T),t({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{g(null)}},j=async T=>{try{if(!(r!=null&&r.id)){t({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}f?(await sw.updateRequest(f.request_id,T),t({title:e("common.success"),description:e("requests.updateSuccess")})):(await sw.createRequest({...T,requested_by_auth:r.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),t({title:e("common.success"),description:e("requests.createSuccess")})),b()}catch(U){console.error("Failed to save request:",U),t({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},E=n.filter(T=>{var I;const U=T.request_title.toLowerCase().includes(l.toLowerCase()),z=p==="all"||T.status===p,q=w==="all"||((I=T.priority)==null?void 0:I.toString())===w;return U&&z&&q}),N=T=>{switch(T){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},O=T=>{switch(T){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},R=T=>{switch(T){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Lr()?"rtl":"ltr",children:[o.jsx(bx,{title:e("requests.title"),description:e("requests.subtitle"),icon:o.jsx(bs,{className:"h-5 w-5 text-primary"}),actions:o.jsxs(oe,{onClick:_,children:[o.jsx(sr,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(ze,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:l,onChange:T=>c(T.target.value)})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[o.jsxs(xt,{value:w,onValueChange:x,children:[o.jsx(gt,{className:"w-[130px] h-9",children:o.jsx(yt,{placeholder:e("requests.priority")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"all",children:e("common.all")}),o.jsx(Ce,{value:"0",children:e("requests.priorities.low")}),o.jsx(Ce,{value:"1",children:e("requests.priorities.medium")}),o.jsx(Ce,{value:"2",children:e("requests.priorities.high")})]})]}),o.jsxs(xt,{value:p,onValueChange:v,children:[o.jsx(gt,{className:"w-[130px] h-9",children:o.jsx(yt,{placeholder:e("requests.status")})}),o.jsxs(vt,{children:[o.jsx(Ce,{value:"all",children:e("common.all")}),o.jsx(Ce,{value:"pending",children:e("status.pending")}),o.jsx(Ce,{value:"approved",children:e("status.approved")}),o.jsx(Ce,{value:"rejected",children:e("status.rejected")}),o.jsx(Ce,{value:"in_progress",children:e("status.in_progress")}),o.jsx(Ce,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const T=[{key:"title",header:e("requests.requestTitle"),render:z=>{var q;return o.jsx(Iu,{title:z.request_title,subtitle:(q=z.request_type)==null?void 0:q.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:z=>o.jsx(ct,{variant:"outline",className:O(z.priority),children:R(z.priority)})},{key:"status",header:e("requests.status"),render:z=>o.jsx(ct,{variant:"secondary",className:`capitalize ${N(z.status)}`,children:z.status?e(`status.${z.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:z=>o.jsx(Ru,{date:z.created_at})}],U=[{icon:o.jsx(VN,{}),label:e("common.edit"),onClick:S},{icon:o.jsx(xr,{}),label:e("common.delete"),onClick:z=>g(z.request_id),variant:"destructive"}];return o.jsx(Du,{data:E,columns:T,actions:U,loading:s,keyExtractor:z=>z.request_id,onRowClick:S})})(),o.jsx(wYe,{open:u,onOpenChange:d,onSubmit:j,initialData:f}),o.jsx(fi,{open:!!m,onOpenChange:T=>!T&&g(null),children:o.jsxs(Ds,{children:[o.jsxs(Rs,{children:[o.jsx(Ms,{children:e("common.confirmDelete")}),o.jsx(Fs,{children:e("requests.deleteConfirmation")})]}),o.jsxs(Is,{children:[o.jsx($s,{children:e("common.cancel")}),o.jsx(Ls,{className:"bg-red-500 hover:bg-red-600",onClick:k,children:e("common.delete")})]})]})})]})}const U0="http://localhost:3000",_Ye="default",SYe="",m2={async getConversations(){const{data:e,error:t}=await pe.from("whatsapp_conversations").select("*").order("last_message_at",{ascending:!1});if(t)throw console.error("Error fetching WhatsApp conversations:",t),t;return e},async getMessages(e){const{data:t,error:r}=await pe.from("whatsapp_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw console.error("Error fetching WhatsApp messages:",r),r;return t},async sendMessage(e,t){try{const r={"Content-Type":"application/json",accept:"application/json"},n=e.includes("@")?e:`${e.replace(/\D/g,"")}@c.us`,a=await fetch(`${U0}/api/sendText`,{method:"POST",headers:r,body:JSON.stringify({session:_Ye,chatId:n,text:t})}),s=await a.json();if(!a.ok)throw new Error(s.error||"Failed to send message via WAHA");let i;const{data:l}=await pe.from("whatsapp_conversations").select("id").eq("phone",e).single();return l&&(i=l.id),i&&(await pe.from("whatsapp_messages").insert({conversation_id:i,phone:e,message:t,direction:"outbound",created_at:new Date().toISOString()}),await pe.from("whatsapp_conversations").update({last_message_at:new Date().toISOString()}).eq("id",i)),s}catch(r){throw console.error("Error sending WhatsApp message (WAHA):",r),r}},async createConversation(e,t){const{data:r}=await pe.from("whatsapp_conversations").select("*").eq("phone",e).single();if(r)return r;const{data:n,error:a}=await pe.from("whatsapp_conversations").insert({phone:e,lead_id:t,last_message_at:new Date().toISOString()}).select().single();if(a)throw a;return n}};function jYe(){zt();const{toast:e}=Xu(),[t,r]=y.useState([]),[n,a]=y.useState(null),[s,i]=y.useState([]),[l,c]=y.useState(""),[u,d]=y.useState(!0),[f,h]=y.useState(!1),m=y.useRef(null);y.useEffect(()=>{g();const x=pe.channel("whatsapp_conversations_changes").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_conversations"},b=>{g()}).subscribe();return()=>{pe.removeChannel(x)}},[]),y.useEffect(()=>{if(n){p(n.id);const x=pe.channel(`whatsapp_messages:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"whatsapp_messages",filter:`conversation_id=eq.${n.id}`},b=>{const _=b.new;i(S=>S.some(k=>k.id===_.id)?S:[...S,_]),setTimeout(()=>v(),100)}).subscribe();return()=>{pe.removeChannel(x)}}},[n]);const g=async()=>{try{const x=await m2.getConversations();r(x),u&&d(!1)}catch(x){console.error(x),e({variant:"destructive",title:"Error",description:"Failed to load conversations"})}},p=async x=>{try{const b=await m2.getMessages(x);i(b),setTimeout(()=>v(),100)}catch(b){console.error(b)}},v=()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},w=async x=>{if(x==null||x.preventDefault(),!(!l.trim()||!n)){h(!0);try{await m2.sendMessage(n.phone,l),c(""),n&&setTimeout(()=>p(n.id),500)}catch(b){e({variant:"destructive",title:"Error sending message",description:b.message})}finally{h(!1)}}};return o.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg",dir:Lr()?"rtl":"ltr",children:[o.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[o.jsxs("h2",{className:"font-semibold mb-4 flex items-center justify-between",children:[o.jsx("span",{children:"WhatsApp Inbox"}),o.jsx(oe,{variant:"ghost",size:"icon",onClick:g,children:o.jsx(AI,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Us,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ze,{placeholder:"Search...",className:"pl-9"})]})]}),o.jsx(sa,{className:"flex-1",children:o.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[t.map(x=>o.jsxs("button",{onClick:()=>a(x),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(n==null?void 0:n.id)===x.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[o.jsx(ia,{children:o.jsx(oa,{className:"bg-green-100 text-green-700",children:o.jsx(Ra,{className:"h-4 w-4"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"font-medium truncate",children:x.phone}),o.jsx("span",{className:"text-xs text-muted-foreground",children:x.last_message_at&&li(new Date(x.last_message_at),"MMM d")})]}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},x.id)),t.length===0&&!u&&o.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:"No conversations yet."})]})})]}),o.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ia,{className:"h-10 w-10",children:o.jsx(oa,{className:"bg-green-600 text-white",children:"WA"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:n.phone}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50",ref:m,children:s.map(x=>o.jsx("div",{className:`flex ${x.direction==="outbound"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${x.direction==="outbound"?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[x.media_url&&o.jsx("div",{className:"mb-2",children:x.media_type==="image"||x.media_type==="sticker"?o.jsx("img",{src:`${U0}${x.media_url}`,alt:"WhatsApp media",className:"rounded-lg max-w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(`${U0}${x.media_url}`,"_blank")}):x.media_type==="video"?o.jsx("video",{controls:!0,className:"rounded-lg max-w-full",children:o.jsx("source",{src:`${U0}${x.media_url}`})}):o.jsxs("a",{href:`${U0}${x.media_url}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-muted/50 rounded hover:bg-muted transition-colors text-xs",children:[o.jsx(AI,{className:"h-4 w-4"}),o.jsxs("span",{children:["Download ",x.media_type||"File"]})]})}),x.message&&o.jsx("p",{className:"text-sm",children:x.message}),o.jsx("p",{className:`text-[10px] mt-1 text-right ${x.direction==="outbound"?"text-green-100":"text-muted-foreground"}`,children:li(new Date(x.created_at),"HH:mm")})]})},x.id))}),o.jsx("div",{className:"p-4 border-t bg-background",children:o.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[o.jsx(ze,{value:l,onChange:x=>c(x.target.value),placeholder:"Type a message...",className:"flex-1",disabled:f}),o.jsx(oe,{type:"submit",size:"icon",disabled:f||!l.trim(),children:o.jsx(ax,{className:"h-4 w-4"})})]})})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:o.jsx(Gh,{className:"h-8 w-8 text-green-600"})}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a conversation"}),o.jsx("p",{className:"max-w-xs text-center text-sm",children:"Choose a conversation from the sidebar to start messaging via WhatsApp."})]})})]})}const kYe=()=>o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),o.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),o.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})});console.log(" SUPABASE URL (runtime):","https://studio.middar.com/");const NYe=()=>{const{user:e}=yr();return(e==null?void 0:e.role)==="client"?o.jsx(Jxe,{}):o.jsx(gve,{})},x8=({children:e})=>o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-800",children:e});function EYe(){return o.jsx(rae,{children:o.jsx(N9,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx(Die,{children:o.jsx(Oie,{children:o.jsx(Rie,{children:o.jsx(CYe,{})})})})})})}function CYe(){const{isRTL:e}=Vi(),t=gc(),{t:r}=zt();return y.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),y.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],i={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"};let l="";if(i[s])l=r(i[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];i[c]?l=`${r(i[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),o.jsxs(Yne,{children:[o.jsx(wr,{path:"/login",element:o.jsx(x8,{children:o.jsx(dle,{})})}),o.jsx(wr,{path:"/signup",element:o.jsx(x8,{children:o.jsx(fle,{})})}),o.jsx(wr,{path:"/unauthorized",element:o.jsx(kYe,{})}),o.jsx(wr,{path:"/auth/callback",element:o.jsx(eye,{})}),o.jsx(wr,{path:"/",element:o.jsx(Zxe,{})}),o.jsx(wr,{path:"/dashboard",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(Che,{})})})}),o.jsx(wr,{path:"/employee_dashboard",element:o.jsx(Hd,{to:"/dashboard",replace:!0})}),o.jsx(wr,{path:"/leads",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(Lge,{})})})}),o.jsx(wr,{path:"/projects",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(Hge,{})})})}),o.jsx(wr,{path:"/tasks",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(Bge,{})})})}),o.jsx(wr,{path:"/tickets",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee","client"],children:o.jsx(Zn,{children:o.jsx(Wge,{})})})}),o.jsx(wr,{path:"/users",element:o.jsx(Qn,{allowedRoles:["admin"],children:o.jsx(Zn,{children:o.jsx(sve,{})})})}),o.jsx(wr,{path:"/settings",element:o.jsx(Qn,{allowedRoles:["admin"],children:o.jsx(Zn,{children:o.jsx(sNe,{})})})}),o.jsx(wr,{path:"/teams",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(ive,{})})})}),o.jsx(wr,{path:"/chats",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee","client"],children:o.jsx(Zn,{children:o.jsx(NYe,{})})})}),o.jsx(wr,{path:"/all-chats",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(Xxe,{})})})}),o.jsx(wr,{path:"/whatsapp",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(jYe,{})})})}),o.jsx(wr,{path:"/requests",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(bYe,{})})})}),o.jsx(wr,{path:"/client-portal",element:o.jsx(Qn,{allowedRoles:["client"],children:o.jsx(Zn,{children:o.jsx(Qxe,{})})})}),o.jsx(wr,{path:"/partner-dashboard",element:o.jsx(Hd,{to:"/dashboard",replace:!0})}),o.jsx(wr,{path:"/partner-employee-dashboard",element:o.jsx(Hd,{to:"/dashboard",replace:!0})}),o.jsx(wr,{path:"/project/:id",element:o.jsx(Qn,{allowedRoles:["admin","manager"],children:o.jsx(oH,{})})}),o.jsx(wr,{path:"/surveys",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(aNe,{})})})}),o.jsx(wr,{path:"/mleads",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(hKe,{})})})}),o.jsx(wr,{path:"/mprojects",element:o.jsx(Qn,{allowedRoles:["admin","manager","employee","team_leader","partner","partner_employee"],children:o.jsx(Zn,{children:o.jsx(vKe,{})})})}),o.jsx(wr,{path:"*",element:o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("h1",{children:"404 - Page Not Found"})})})]})}const TYe=new ete({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});VB(document.getElementById("root")).render(o.jsx(lre,{i18n:Kr,children:o.jsx(ste,{client:TYe,children:o.jsx(N9,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx(EYe,{})})})}));
